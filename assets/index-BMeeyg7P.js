var jL=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $De=jL((qDe,_g)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function h0(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const Br={},yd=[],Xa=()=>{},HL=()=>!1,Qg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),f0=e=>e.startsWith("onUpdate:"),_i=Object.assign,m0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},GL=Object.prototype.hasOwnProperty,Qn=(e,t)=>GL.call(e,t),gn=Array.isArray,_d=e=>ev(e)==="[object Map]",L2=e=>ev(e)==="[object Set]",kn=e=>typeof e=="function",ai=e=>typeof e=="string",hc=e=>typeof e=="symbol",Lr=e=>e!==null&&typeof e=="object",R2=e=>(Lr(e)||kn(e))&&kn(e.then)&&kn(e.catch),O2=Object.prototype.toString,ev=e=>O2.call(e),WL=e=>ev(e).slice(8,-1),F2=e=>ev(e)==="[object Object]",p0=e=>ai(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,gf=h0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},YL=/-(\w)/g,Ss=tv(e=>e.replace(YL,(t,n)=>n?n.toUpperCase():"")),ZL=/\B([A-Z])/g,Od=tv(e=>e.replace(ZL,"-$1").toLowerCase()),Po=tv(e=>e.charAt(0).toUpperCase()+e.slice(1)),a_=tv(e=>e?`on${Po(e)}`:""),lc=(e,t)=>!Object.is(e,t),ng=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},z2=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},eb=e=>{const t=parseFloat(e);return isNaN(t)?e:t},B2=e=>{const t=ai(e)?Number(e):NaN;return isNaN(t)?e:t};let tS;const V2=()=>tS||(tS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function g0(e){if(gn(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ai(r)?QL(r):g0(r);if(s)for(const u in s)t[u]=s[u]}return t}else if(ai(e)||Lr(e))return e}const KL=/;(?![^(]*\))/g,XL=/:([^]+)/,JL=/\/\*[^]*?\*\//g;function QL(e){const t={};return e.replace(JL,"").split(KL).forEach(n=>{if(n){const r=n.split(XL);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Ra(e){let t="";if(ai(e))t=e;else if(gn(e))for(let n=0;n<e.length;n++){const r=Ra(e[n]);r&&(t+=r+" ")}else if(Lr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const eR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tR=h0(eR);function N2(e){return!!e||e===""}const $2=e=>!!(e&&e.__v_isRef===!0),bs=e=>ai(e)?e:e==null?"":gn(e)||Lr(e)&&(e.toString===O2||!kn(e.toString))?$2(e)?bs(e.value):JSON.stringify(e,U2,2):String(e),U2=(e,t)=>$2(t)?U2(e,t.value):_d(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],u)=>(n[s_(r,u)+" =>"]=s,n),{})}:L2(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>s_(n))}:hc(t)?s_(t):Lr(t)&&!gn(t)&&!F2(t)?String(t):t,s_=(e,t="")=>{var n;return hc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ya;class q2{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ya,!t&&Ya&&(this.index=(Ya.scopes||(Ya.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ya;try{return Ya=this,t()}finally{Ya=n}}}on(){Ya=this}off(){Ya=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function nv(e){return new q2(e)}function nR(e,t=Ya){t&&t.active&&t.effects.push(e)}function rR(){return Ya}function ha(e){Ya&&Ya.cleanups.push(e)}let eu;class v0{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,nR(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,fc();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(iR(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),mc()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ac,n=eu;try{return ac=!0,eu=this,this._runnings++,nS(this),this.fn()}finally{rS(this),this._runnings--,eu=n,ac=t}}stop(){this.active&&(nS(this),rS(this),this.onStop&&this.onStop(),this.active=!1)}}function iR(e){return e.value}function nS(e){e._trackId++,e._depsLength=0}function rS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)j2(e.deps[t],e);e.deps.length=e._depsLength}}function j2(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let ac=!0,tb=0;const H2=[];function fc(){H2.push(ac),ac=!1}function mc(){const e=H2.pop();ac=e===void 0?!0:e}function y0(){tb++}function _0(){for(tb--;!tb&&nb.length;)nb.shift()()}function G2(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&j2(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const nb=[];function W2(e,t,n){y0();for(const r of e.keys()){let s;r._dirtyLevel<t&&(s??(s=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(s??(s=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&nb.push(r.scheduler)))}_0()}const Y2=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},bg=new WeakMap,tu=Symbol(""),rb=Symbol("");function Va(e,t,n){if(ac&&eu){let r=bg.get(e);r||bg.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=Y2(()=>r.delete(n))),G2(eu,s)}}function cl(e,t,n,r,s,u){const h=bg.get(e);if(!h)return;let o=[];if(t==="clear")o=[...h.values()];else if(n==="length"&&gn(e)){const p=Number(r);h.forEach((y,w)=>{(w==="length"||!hc(w)&&w>=p)&&o.push(y)})}else switch(n!==void 0&&o.push(h.get(n)),t){case"add":gn(e)?p0(n)&&o.push(h.get("length")):(o.push(h.get(tu)),_d(e)&&o.push(h.get(rb)));break;case"delete":gn(e)||(o.push(h.get(tu)),_d(e)&&o.push(h.get(rb)));break;case"set":_d(e)&&o.push(h.get(tu));break}y0();for(const p of o)p&&W2(p,4);_0()}function aR(e,t){const n=bg.get(e);return n&&n.get(t)}const sR=h0("__proto__,__v_isRef,__isVue"),Z2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hc)),iS=oR();function oR(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=wn(this);for(let u=0,h=this.length;u<h;u++)Va(r,"get",u+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(wn)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){fc(),y0();const r=wn(this)[t].apply(this,n);return _0(),mc(),r}}),e}function lR(e){hc(e)||(e=String(e));const t=wn(this);return Va(t,"has",e),t.hasOwnProperty(e)}class K2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const s=this._isReadonly,u=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return u;if(n==="__v_raw")return r===(s?u?xR:eT:u?Q2:J2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const h=gn(t);if(!s){if(h&&Qn(iS,n))return Reflect.get(iS,n,r);if(n==="hasOwnProperty")return lR}const o=Reflect.get(t,n,r);return(hc(n)?Z2.has(n):sR(n))||(s||Va(t,"get",n),u)?o:xr(o)?h&&p0(n)?o:o.value:Lr(o)?s?Fd(o):Ei(o):o}}class X2 extends K2{constructor(t=!1){super(!1,t)}set(t,n,r,s){let u=t[n];if(!this._isShallow){const p=Tf(u);if(!xg(r)&&!Tf(r)&&(u=wn(u),r=wn(r)),!gn(t)&&xr(u)&&!xr(r))return p?!1:(u.value=r,!0)}const h=gn(t)&&p0(n)?Number(n)<t.length:Qn(t,n),o=Reflect.set(t,n,r,s);return t===wn(s)&&(h?lc(r,u)&&cl(t,"set",n,r):cl(t,"add",n,r)),o}deleteProperty(t,n){const r=Qn(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&cl(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!hc(n)||!Z2.has(n))&&Va(t,"has",n),r}ownKeys(t){return Va(t,"iterate",gn(t)?"length":tu),Reflect.ownKeys(t)}}class cR extends K2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const uR=new X2,dR=new cR,hR=new X2(!0),b0=e=>e,rv=e=>Reflect.getPrototypeOf(e);function Fp(e,t,n=!1,r=!1){e=e.__v_raw;const s=wn(e),u=wn(t);n||(lc(t,u)&&Va(s,"get",t),Va(s,"get",u));const{has:h}=rv(s),o=r?b0:n?S0:Af;if(h.call(s,t))return o(e.get(t));if(h.call(s,u))return o(e.get(u));e!==s&&e.get(t)}function zp(e,t=!1){const n=this.__v_raw,r=wn(n),s=wn(e);return t||(lc(e,s)&&Va(r,"has",e),Va(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Bp(e,t=!1){return e=e.__v_raw,!t&&Va(wn(e),"iterate",tu),Reflect.get(e,"size",e)}function aS(e){e=wn(e);const t=wn(this);return rv(t).has.call(t,e)||(t.add(e),cl(t,"add",e,e)),this}function sS(e,t){t=wn(t);const n=wn(this),{has:r,get:s}=rv(n);let u=r.call(n,e);u||(e=wn(e),u=r.call(n,e));const h=s.call(n,e);return n.set(e,t),u?lc(t,h)&&cl(n,"set",e,t):cl(n,"add",e,t),this}function oS(e){const t=wn(this),{has:n,get:r}=rv(t);let s=n.call(t,e);s||(e=wn(e),s=n.call(t,e)),r&&r.call(t,e);const u=t.delete(e);return s&&cl(t,"delete",e,void 0),u}function lS(){const e=wn(this),t=e.size!==0,n=e.clear();return t&&cl(e,"clear",void 0,void 0),n}function Vp(e,t){return function(r,s){const u=this,h=u.__v_raw,o=wn(h),p=t?b0:e?S0:Af;return!e&&Va(o,"iterate",tu),h.forEach((y,w)=>r.call(s,p(y),p(w),u))}}function Np(e,t,n){return function(...r){const s=this.__v_raw,u=wn(s),h=_d(u),o=e==="entries"||e===Symbol.iterator&&h,p=e==="keys"&&h,y=s[e](...r),w=n?b0:t?S0:Af;return!t&&Va(u,"iterate",p?rb:tu),{next(){const{value:k,done:C}=y.next();return C?{value:k,done:C}:{value:o?[w(k[0]),w(k[1])]:w(k),done:C}},[Symbol.iterator](){return this}}}}function Hl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function fR(){const e={get(u){return Fp(this,u)},get size(){return Bp(this)},has:zp,add:aS,set:sS,delete:oS,clear:lS,forEach:Vp(!1,!1)},t={get(u){return Fp(this,u,!1,!0)},get size(){return Bp(this)},has:zp,add:aS,set:sS,delete:oS,clear:lS,forEach:Vp(!1,!0)},n={get(u){return Fp(this,u,!0)},get size(){return Bp(this,!0)},has(u){return zp.call(this,u,!0)},add:Hl("add"),set:Hl("set"),delete:Hl("delete"),clear:Hl("clear"),forEach:Vp(!0,!1)},r={get(u){return Fp(this,u,!0,!0)},get size(){return Bp(this,!0)},has(u){return zp.call(this,u,!0)},add:Hl("add"),set:Hl("set"),delete:Hl("delete"),clear:Hl("clear"),forEach:Vp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Np(u,!1,!1),n[u]=Np(u,!0,!1),t[u]=Np(u,!1,!0),r[u]=Np(u,!0,!0)}),[e,n,t,r]}const[mR,pR,gR,vR]=fR();function x0(e,t){const n=t?e?vR:gR:e?pR:mR;return(r,s,u)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Qn(n,s)&&s in r?n:r,s,u)}const yR={get:x0(!1,!1)},_R={get:x0(!1,!0)},bR={get:x0(!0,!1)},J2=new WeakMap,Q2=new WeakMap,eT=new WeakMap,xR=new WeakMap;function wR(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function SR(e){return e.__v_skip||!Object.isExtensible(e)?0:wR(WL(e))}function Ei(e){return Tf(e)?e:w0(e,!1,uR,yR,J2)}function tT(e){return w0(e,!1,hR,_R,Q2)}function Fd(e){return w0(e,!0,dR,bR,eT)}function w0(e,t,n,r,s){if(!Lr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=s.get(e);if(u)return u;const h=SR(e);if(h===0)return e;const o=new Proxy(e,h===2?r:n);return s.set(e,o),o}function vf(e){return Tf(e)?vf(e.__v_raw):!!(e&&e.__v_isReactive)}function Tf(e){return!!(e&&e.__v_isReadonly)}function xg(e){return!!(e&&e.__v_isShallow)}function nT(e){return e?!!e.__v_raw:!1}function wn(e){const t=e&&e.__v_raw;return t?wn(t):e}function wg(e){return Object.isExtensible(e)&&z2(e,"__v_skip",!0),e}const Af=e=>Lr(e)?Ei(e):e,S0=e=>Lr(e)?Fd(e):e;class rT{constructor(t,n,r,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new v0(()=>t(this._value),()=>rg(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=wn(this);return(!t._cacheable||t.effect.dirty)&&lc(t._value,t._value=t.effect.run())&&rg(t,4),iT(t),t.effect._dirtyLevel>=2&&rg(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function kR(e,t,n=!1){let r,s;const u=kn(e);return u?(r=e,s=Xa):(r=e.get,s=e.set),new rT(r,s,u||!s,n)}function iT(e){var t;ac&&eu&&(e=wn(e),G2(eu,(t=e.dep)!=null?t:e.dep=Y2(()=>e.dep=void 0,e instanceof rT?e:void 0)))}function rg(e,t=4,n,r){e=wn(e);const s=e.dep;s&&W2(s,t)}function xr(e){return!!(e&&e.__v_isRef===!0)}function ht(e){return aT(e,!1)}function Rt(e){return aT(e,!0)}function aT(e,t){return xr(e)?e:new CR(e,t)}class CR{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:wn(t),this._value=n?t:Af(t)}get value(){return iT(this),this._value}set value(t){const n=this.__v_isShallow||xg(t)||Tf(t);t=n?t:wn(t),lc(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:Af(t),rg(this,4))}}function Vr(e){return xr(e)?e.value:e}const TR={get:(e,t,n)=>Vr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return xr(s)&&!xr(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function sT(e){return vf(e)?e:new Proxy(e,TR)}function rm(e){const t=gn(e)?new Array(e.length):{};for(const n in e)t[n]=oT(e,n);return t}class AR{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return aR(wn(this._object),this._key)}}class ER{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _t(e,t,n){return xr(e)?e:kn(e)?new ER(e):Lr(e)&&arguments.length>1?oT(e,t,n):ht(e)}function oT(e,t,n){const r=e[t];return xr(r)?r:new AR(e,t,n)}/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function sc(e,t,n,r){try{return r?e(...r):e()}catch(s){im(s,t,n)}}function xs(e,t,n,r){if(kn(e)){const s=sc(e,t,n,r);return s&&R2(s)&&s.catch(u=>{im(u,t,n)}),s}if(gn(e)){const s=[];for(let u=0;u<e.length;u++)s.push(xs(e[u],t,n,r));return s}}function im(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let u=t.parent;const h=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const y=u.ec;if(y){for(let w=0;w<y.length;w++)if(y[w](e,h,o)===!1)return}u=u.parent}const p=t.appContext.config.errorHandler;if(p){fc(),sc(p,null,10,[e,h,o]),mc();return}}IR(e,n,s,r)}function IR(e,t,n,r=!0){console.error(e)}let Ef=!1,ib=!1;const sa=[];let bo=0;const bd=[];let Kl=null,Wc=0;const lT=Promise.resolve();let k0=null;function Hn(e){const t=k0||lT;return e?t.then(this?e.bind(this):e):t}function PR(e){let t=bo+1,n=sa.length;for(;t<n;){const r=t+n>>>1,s=sa[r],u=If(s);u<e||u===e&&s.pre?t=r+1:n=r}return t}function C0(e){(!sa.length||!sa.includes(e,Ef&&e.allowRecurse?bo+1:bo))&&(e.id==null?sa.push(e):sa.splice(PR(e.id),0,e),cT())}function cT(){!Ef&&!ib&&(ib=!0,k0=lT.then(dT))}function DR(e){const t=sa.indexOf(e);t>bo&&sa.splice(t,1)}function ab(e){gn(e)?bd.push(...e):(!Kl||!Kl.includes(e,e.allowRecurse?Wc+1:Wc))&&bd.push(e),cT()}function cS(e,t,n=Ef?bo+1:0){for(;n<sa.length;n++){const r=sa[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;sa.splice(n,1),n--,r()}}}function uT(e){if(bd.length){const t=[...new Set(bd)].sort((n,r)=>If(n)-If(r));if(bd.length=0,Kl){Kl.push(...t);return}for(Kl=t,Wc=0;Wc<Kl.length;Wc++){const n=Kl[Wc];n.active!==!1&&n()}Kl=null,Wc=0}}const If=e=>e.id==null?1/0:e.id,MR=(e,t)=>{const n=If(e)-If(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function dT(e){ib=!1,Ef=!0,sa.sort(MR);try{for(bo=0;bo<sa.length;bo++){const t=sa[bo];t&&t.active!==!1&&sc(t,null,14)}}finally{bo=0,sa.length=0,uT(),Ef=!1,k0=null,(sa.length||bd.length)&&dT()}}function LR(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Br;let s=n;const u=t.startsWith("update:"),h=u&&t.slice(7);if(h&&h in r){const w=`${h==="modelValue"?"model":h}Modifiers`,{number:k,trim:C}=r[w]||Br;C&&(s=n.map(I=>ai(I)?I.trim():I)),k&&(s=n.map(eb))}let o,p=r[o=a_(t)]||r[o=a_(Ss(t))];!p&&u&&(p=r[o=a_(Od(t))]),p&&xs(p,e,6,s);const y=r[o+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,xs(y,e,6,s)}}function hT(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const u=e.emits;let h={},o=!1;if(!kn(e)){const p=y=>{const w=hT(y,t,!0);w&&(o=!0,_i(h,w))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!u&&!o?(Lr(e)&&r.set(e,null),null):(gn(u)?u.forEach(p=>h[p]=null):_i(h,u),Lr(e)&&r.set(e,h),h)}function iv(e,t){return!e||!Qg(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qn(e,t[0].toLowerCase()+t.slice(1))||Qn(e,Od(t))||Qn(e,t))}let za=null,fT=null;function Sg(e){const t=za;return za=e,fT=e&&e.type.__scopeId||null,t}function Me(e,t=za,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&CS(-1);const u=Sg(t);let h;try{h=e(...s)}finally{Sg(u),r._d&&CS(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function o_(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[u],slots:h,attrs:o,emit:p,render:y,renderCache:w,props:k,data:C,setupState:I,ctx:R,inheritAttrs:M}=e,F=Sg(e);let N,q;try{if(n.shapeFlag&4){const se=s||r,ie=se;N=Ws(y.call(ie,se,w,k,I,C,R)),q=o}else{const se=t;N=Ws(se.length>1?se(k,{attrs:o,slots:h,emit:p}):se(k,null)),q=t.props?o:OR(o)}}catch(se){xf.length=0,im(se,e,1),N=T(oa)}let Z=N;if(q&&M!==!1){const se=Object.keys(q),{shapeFlag:ie}=Z;se.length&&ie&7&&(u&&se.some(f0)&&(q=FR(q,u)),Z=hl(Z,q,!1,!0))}return n.dirs&&(Z=hl(Z,null,!1,!0),Z.dirs=Z.dirs?Z.dirs.concat(n.dirs):n.dirs),n.transition&&(Z.transition=n.transition),N=Z,Sg(F),N}function RR(e,t=!0){let n;for(let r=0;r<e.length;r++){const s=e[r];if(Mf(s)){if(s.type!==oa||s.children==="v-if"){if(n)return;n=s}}else return}return n}const OR=e=>{let t;for(const n in e)(n==="class"||n==="style"||Qg(n))&&((t||(t={}))[n]=e[n]);return t},FR=(e,t)=>{const n={};for(const r in e)(!f0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function zR(e,t,n){const{props:r,children:s,component:u}=e,{props:h,children:o,patchFlag:p}=t,y=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return r?uS(r,h,y):!!h;if(p&8){const w=t.dynamicProps;for(let k=0;k<w.length;k++){const C=w[k];if(h[C]!==r[C]&&!iv(y,C))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===h?!1:r?h?uS(r,h,y):!0:!!h;return!1}function uS(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const u=r[s];if(t[u]!==e[u]&&!iv(n,u))return!0}return!1}function T0({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const A0="components",BR="directives";function Cn(e,t){return E0(A0,e,!0,t)||e}const VR=Symbol.for("v-ndc");function NR(e){return ai(e)&&E0(A0,e,!1)||e}function Cs(e){return E0(BR,e)}function E0(e,t,n=!0,r=!1){const s=za||Wi;if(s){const u=s.type;if(e===A0){const o=OO(u,!1);if(o&&(o===t||o===Ss(t)||o===Po(Ss(t))))return u}const h=dS(s[e]||u[e],t)||dS(s.appContext[e],t);return!h&&r?u:h}}function dS(e,t){return e&&(e[t]||e[Ss(t)]||e[Po(Ss(t))])}const $R=e=>e.__isSuspense;let sb=0;const UR={name:"Suspense",__isSuspense:!0,process(e,t,n,r,s,u,h,o,p,y){if(e==null)jR(t,n,r,s,u,h,o,p,y);else{if(u&&u.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}HR(e,t,n,r,s,h,o,p,y)}},hydrate:GR,normalize:WR},qR=UR;function Pf(e,t){const n=e.props&&e.props[t];kn(n)&&n()}function jR(e,t,n,r,s,u,h,o,p){const{p:y,o:{createElement:w}}=p,k=w("div"),C=e.suspense=mT(e,s,r,t,k,n,u,h,o,p);y(null,C.pendingBranch=e.ssContent,k,null,r,C,u,h),C.deps>0?(Pf(e,"onPending"),Pf(e,"onFallback"),y(null,e.ssFallback,t,n,r,null,u,h),xd(C,e.ssFallback)):C.resolve(!1,!0)}function HR(e,t,n,r,s,u,h,o,{p,um:y,o:{createElement:w}}){const k=t.suspense=e.suspense;k.vnode=t,t.el=e.el;const C=t.ssContent,I=t.ssFallback,{activeBranch:R,pendingBranch:M,isInFallback:F,isHydrating:N}=k;if(M)k.pendingBranch=C,xo(C,M)?(p(M,C,k.hiddenContainer,null,s,k,u,h,o),k.deps<=0?k.resolve():F&&(N||(p(R,I,n,r,s,null,u,h,o),xd(k,I)))):(k.pendingId=sb++,N?(k.isHydrating=!1,k.activeBranch=M):y(M,s,k),k.deps=0,k.effects.length=0,k.hiddenContainer=w("div"),F?(p(null,C,k.hiddenContainer,null,s,k,u,h,o),k.deps<=0?k.resolve():(p(R,I,n,r,s,null,u,h,o),xd(k,I))):R&&xo(C,R)?(p(R,C,n,r,s,k,u,h,o),k.resolve(!0)):(p(null,C,k.hiddenContainer,null,s,k,u,h,o),k.deps<=0&&k.resolve()));else if(R&&xo(C,R))p(R,C,n,r,s,k,u,h,o),xd(k,C);else if(Pf(t,"onPending"),k.pendingBranch=C,C.shapeFlag&512?k.pendingId=C.component.suspenseId:k.pendingId=sb++,p(null,C,k.hiddenContainer,null,s,k,u,h,o),k.deps<=0)k.resolve();else{const{timeout:q,pendingId:Z}=k;q>0?setTimeout(()=>{k.pendingId===Z&&k.fallback(I)},q):q===0&&k.fallback(I)}}function mT(e,t,n,r,s,u,h,o,p,y,w=!1){const{p:k,m:C,um:I,n:R,o:{parentNode:M,remove:F}}=y;let N;const q=ZR(e);q&&t&&t.pendingBranch&&(N=t.pendingId,t.deps++);const Z=e.props?B2(e.props.timeout):void 0,se=u,ie={vnode:e,parent:t,parentComponent:n,namespace:h,container:r,hiddenContainer:s,deps:0,pendingId:sb++,timeout:typeof Z=="number"?Z:-1,activeBranch:null,pendingBranch:null,isInFallback:!w,isHydrating:w,isUnmounted:!1,effects:[],resolve(J=!1,te=!1){const{vnode:G,activeBranch:$,pendingBranch:K,pendingId:le,effects:ee,parentComponent:_e,container:fe}=ie;let Ie=!1;ie.isHydrating?ie.isHydrating=!1:J||(Ie=$&&K.transition&&K.transition.mode==="out-in",Ie&&($.transition.afterLeave=()=>{le===ie.pendingId&&(C(K,fe,u===se?R($):u,0),ab(ee))}),$&&(M($.el)!==ie.hiddenContainer&&(u=R($)),I($,_e,ie,!0)),Ie||C(K,fe,u,0)),xd(ie,K),ie.pendingBranch=null,ie.isInFallback=!1;let Te=ie.parent,qe=!1;for(;Te;){if(Te.pendingBranch){Te.effects.push(...ee),qe=!0;break}Te=Te.parent}!qe&&!Ie&&ab(ee),ie.effects=[],q&&t&&t.pendingBranch&&N===t.pendingId&&(t.deps--,t.deps===0&&!te&&t.resolve()),Pf(G,"onResolve")},fallback(J){if(!ie.pendingBranch)return;const{vnode:te,activeBranch:G,parentComponent:$,container:K,namespace:le}=ie;Pf(te,"onFallback");const ee=R(G),_e=()=>{ie.isInFallback&&(k(null,J,K,ee,$,null,le,o,p),xd(ie,J))},fe=J.transition&&J.transition.mode==="out-in";fe&&(G.transition.afterLeave=_e),ie.isInFallback=!0,I(G,$,null,!0),fe||_e()},move(J,te,G){ie.activeBranch&&C(ie.activeBranch,J,te,G),ie.container=J},next(){return ie.activeBranch&&R(ie.activeBranch)},registerDep(J,te,G){const $=!!ie.pendingBranch;$&&ie.deps++;const K=J.vnode.el;J.asyncDep.catch(le=>{im(le,J,0)}).then(le=>{if(J.isUnmounted||ie.isUnmounted||ie.pendingId!==J.suspenseId)return;J.asyncResolved=!0;const{vnode:ee}=J;mb(J,le,!1),K&&(ee.el=K);const _e=!K&&J.subTree.el;te(J,ee,M(K||J.subTree.el),K?null:R(J.subTree),ie,h,G),_e&&F(_e),T0(J,ee.el),$&&--ie.deps===0&&ie.resolve()})},unmount(J,te){ie.isUnmounted=!0,ie.activeBranch&&I(ie.activeBranch,n,J,te),ie.pendingBranch&&I(ie.pendingBranch,n,J,te)}};return ie}function GR(e,t,n,r,s,u,h,o,p){const y=t.suspense=mT(t,r,n,e.parentNode,document.createElement("div"),null,s,u,h,o,!0),w=p(e,y.pendingBranch=t.ssContent,n,y,u,h);return y.deps===0&&y.resolve(!1,!0),w}function WR(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=hS(r?n.default:n),e.ssFallback=r?hS(n.fallback):T(oa)}function hS(e){let t;if(kn(e)){const n=Ad&&e._c;n&&(e._d=!1,fn()),e=e(),n&&(e._d=!0,t=vs,zT())}return gn(e)&&(e=RR(e)),e=Ws(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function YR(e,t){t&&t.pendingBranch?gn(e)?t.effects.push(...e):t.effects.push(e):ab(e)}function xd(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,T0(r,s))}function ZR(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}function av(e,t,n=Wi,r=!1){if(n){const s=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...h)=>{fc();const o=sm(n),p=xs(t,n,e,h);return o(),mc(),p});return r?s.unshift(u):s.push(u),u}}const pl=e=>(t,n=Wi)=>{(!ov||e==="sp")&&av(e,(...r)=>t(...r),n)},I0=pl("bm"),fa=pl("m"),pT=pl("bu"),P0=pl("u"),Sr=pl("bum"),gT=pl("um"),KR=pl("sp"),XR=pl("rtg"),JR=pl("rtc");function QR(e,t=Wi){av("ec",e,t)}function si(e,t){if(za===null)return e;const n=lv(za),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,h,o,p=Br]=t[s];u&&(kn(u)&&(u={mounted:u,updated:u}),u.deep&&tc(h),r.push({dir:u,instance:n,value:h,oldValue:void 0,arg:o,modifiers:p}))}return e}function Vc(e,t,n,r){const s=e.dirs,u=t&&t.dirs;for(let h=0;h<s.length;h++){const o=s[h];u&&(o.oldValue=u[h].value);let p=o.dir[r];p&&(fc(),xs(p,n,8,[e.el,o,e,t]),mc())}}function ig(e,t,n,r){let s;const u=n;if(gn(e)||ai(e)){s=new Array(e.length);for(let h=0,o=e.length;h<o;h++)s[h]=t(e[h],h,void 0,u)}else if(typeof e=="number"){s=new Array(e);for(let h=0;h<e;h++)s[h]=t(h+1,h,void 0,u)}else if(Lr(e))if(e[Symbol.iterator])s=Array.from(e,(h,o)=>t(h,o,void 0,u));else{const h=Object.keys(e);s=new Array(h.length);for(let o=0,p=h.length;o<p;o++){const y=h[o];s[o]=t(e[y],y,o,u)}}else s=[];return s}/*! #__NO_SIDE_EFFECTS__ */function lr(e,t){return kn(e)?_i({name:e.name},t,{setup:e}):e}const ag=e=>!!e.type.__asyncLoader,ob=e=>e?NT(e)?lv(e):ob(e.parent):null,yf=_i(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ob(e.parent),$root:e=>ob(e.root),$emit:e=>e.emit,$options:e=>D0(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,C0(e.update)}),$nextTick:e=>e.n||(e.n=Hn.bind(e.proxy)),$watch:e=>_O.bind(e)}),l_=(e,t)=>e!==Br&&!e.__isScriptSetup&&Qn(e,t),eO={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:u,accessCache:h,type:o,appContext:p}=e;let y;if(t[0]!=="$"){const I=h[t];if(I!==void 0)switch(I){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return u[t]}else{if(l_(r,t))return h[t]=1,r[t];if(s!==Br&&Qn(s,t))return h[t]=2,s[t];if((y=e.propsOptions[0])&&Qn(y,t))return h[t]=3,u[t];if(n!==Br&&Qn(n,t))return h[t]=4,n[t];lb&&(h[t]=0)}}const w=yf[t];let k,C;if(w)return t==="$attrs"&&Va(e.attrs,"get",""),w(e);if((k=o.__cssModules)&&(k=k[t]))return k;if(n!==Br&&Qn(n,t))return h[t]=4,n[t];if(C=p.config.globalProperties,Qn(C,t))return C[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:u}=e;return l_(s,t)?(s[t]=n,!0):r!==Br&&Qn(r,t)?(r[t]=n,!0):Qn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:u}},h){let o;return!!n[h]||e!==Br&&Qn(e,h)||l_(t,h)||(o=u[0])&&Qn(o,h)||Qn(r,h)||Qn(yf,h)||Qn(s.config.globalProperties,h)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function fS(e){return gn(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let lb=!0;function tO(e){const t=D0(e),n=e.proxy,r=e.ctx;lb=!1,t.beforeCreate&&mS(t.beforeCreate,e,"bc");const{data:s,computed:u,methods:h,watch:o,provide:p,inject:y,created:w,beforeMount:k,mounted:C,beforeUpdate:I,updated:R,activated:M,deactivated:F,beforeDestroy:N,beforeUnmount:q,destroyed:Z,unmounted:se,render:ie,renderTracked:J,renderTriggered:te,errorCaptured:G,serverPrefetch:$,expose:K,inheritAttrs:le,components:ee,directives:_e,filters:fe}=t;if(y&&nO(y,r,null),h)for(const qe in h){const ke=h[qe];kn(ke)&&(r[qe]=ke.bind(n))}if(s){const qe=s.call(n,n);Lr(qe)&&(e.data=Ei(qe))}if(lb=!0,u)for(const qe in u){const ke=u[qe],Pe=kn(ke)?ke.bind(n,n):kn(ke.get)?ke.get.bind(n,n):Xa,Fe=!kn(ke)&&kn(ke.set)?ke.set.bind(n):Xa,Je=Y({get:Pe,set:Fe});Object.defineProperty(r,qe,{enumerable:!0,configurable:!0,get:()=>Je.value,set:$e=>Je.value=$e})}if(o)for(const qe in o)vT(o[qe],r,n,qe);if(p){const qe=kn(p)?p.call(n):p;Reflect.ownKeys(qe).forEach(ke=>{xn(ke,qe[ke])})}w&&mS(w,e,"c");function Te(qe,ke){gn(ke)?ke.forEach(Pe=>qe(Pe.bind(n))):ke&&qe(ke.bind(n))}if(Te(I0,k),Te(fa,C),Te(pT,I),Te(P0,R),Te(IT,M),Te(PT,F),Te(QR,G),Te(JR,J),Te(XR,te),Te(Sr,q),Te(gT,se),Te(KR,$),gn(K))if(K.length){const qe=e.exposed||(e.exposed={});K.forEach(ke=>{Object.defineProperty(qe,ke,{get:()=>n[ke],set:Pe=>n[ke]=Pe})})}else e.exposed||(e.exposed={});ie&&e.render===Xa&&(e.render=ie),le!=null&&(e.inheritAttrs=le),ee&&(e.components=ee),_e&&(e.directives=_e)}function nO(e,t,n=Xa){gn(e)&&(e=cb(e));for(const r in e){const s=e[r];let u;Lr(s)?"default"in s?u=yt(s.from||r,s.default,!0):u=yt(s.from||r):u=yt(s),xr(u)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:h=>u.value=h}):t[r]=u}}function mS(e,t,n){xs(gn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function vT(e,t,n,r){const s=r.includes(".")?ET(n,r):()=>n[r];if(ai(e)){const u=t[e];kn(u)&&ct(s,u)}else if(kn(e))ct(s,e.bind(n));else if(Lr(e))if(gn(e))e.forEach(u=>vT(u,t,n,r));else{const u=kn(e.handler)?e.handler.bind(n):t[e.handler];kn(u)&&ct(s,u,e)}}function D0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:u,config:{optionMergeStrategies:h}}=e.appContext,o=u.get(t);let p;return o?p=o:!s.length&&!n&&!r?p=t:(p={},s.length&&s.forEach(y=>kg(p,y,h,!0)),kg(p,t,h)),Lr(t)&&u.set(t,p),p}function kg(e,t,n,r=!1){const{mixins:s,extends:u}=t;u&&kg(e,u,n,!0),s&&s.forEach(h=>kg(e,h,n,!0));for(const h in t)if(!(r&&h==="expose")){const o=rO[h]||n&&n[h];e[h]=o?o(e[h],t[h]):t[h]}return e}const rO={data:pS,props:gS,emits:gS,methods:mf,computed:mf,beforeCreate:Ca,created:Ca,beforeMount:Ca,mounted:Ca,beforeUpdate:Ca,updated:Ca,beforeDestroy:Ca,beforeUnmount:Ca,destroyed:Ca,unmounted:Ca,activated:Ca,deactivated:Ca,errorCaptured:Ca,serverPrefetch:Ca,components:mf,directives:mf,watch:aO,provide:pS,inject:iO};function pS(e,t){return t?e?function(){return _i(kn(e)?e.call(this,this):e,kn(t)?t.call(this,this):t)}:t:e}function iO(e,t){return mf(cb(e),cb(t))}function cb(e){if(gn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ca(e,t){return e?[...new Set([].concat(e,t))]:t}function mf(e,t){return e?_i(Object.create(null),e,t):t}function gS(e,t){return e?gn(e)&&gn(t)?[...new Set([...e,...t])]:_i(Object.create(null),fS(e),fS(t??{})):t}function aO(e,t){if(!e)return t;if(!t)return e;const n=_i(Object.create(null),e);for(const r in t)n[r]=Ca(e[r],t[r]);return n}function yT(){return{app:null,config:{isNativeTag:HL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sO=0;function oO(e,t){return function(r,s=null){kn(r)||(r=_i({},r)),s!=null&&!Lr(s)&&(s=null);const u=yT(),h=new WeakSet;let o=!1;const p=u.app={_uid:sO++,_component:r,_props:s,_container:null,_context:u,_instance:null,version:zO,get config(){return u.config},set config(y){},use(y,...w){return h.has(y)||(y&&kn(y.install)?(h.add(y),y.install(p,...w)):kn(y)&&(h.add(y),y(p,...w))),p},mixin(y){return u.mixins.includes(y)||u.mixins.push(y),p},component(y,w){return w?(u.components[y]=w,p):u.components[y]},directive(y,w){return w?(u.directives[y]=w,p):u.directives[y]},mount(y,w,k){if(!o){const C=T(r,s);return C.appContext=u,k===!0?k="svg":k===!1&&(k=void 0),w&&t?t(C,y):e(C,y,k),o=!0,p._container=y,y.__vue_app__=p,lv(C.component)}},unmount(){o&&(e(null,p._container),delete p._container.__vue_app__)},provide(y,w){return u.provides[y]=w,p},runWithContext(y){const w=_f;_f=p;try{return y()}finally{_f=w}}};return p}}let _f=null;function xn(e,t){if(Wi){let n=Wi.provides;const r=Wi.parent&&Wi.parent.provides;r===n&&(n=Wi.provides=Object.create(r)),n[e]=t}}function yt(e,t,n=!1){const r=Wi||za;if(r||_f){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:_f._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&kn(t)?t.call(r&&r.proxy):t}}const _T={},bT=()=>Object.create(_T),xT=e=>Object.getPrototypeOf(e)===_T;function lO(e,t,n,r=!1){const s={},u=bT();e.propsDefaults=Object.create(null),wT(e,t,s,u);for(const h in e.propsOptions[0])h in s||(s[h]=void 0);n?e.props=r?s:tT(s):e.type.props?e.props=s:e.props=u,e.attrs=u}function cO(e,t,n,r){const{props:s,attrs:u,vnode:{patchFlag:h}}=e,o=wn(s),[p]=e.propsOptions;let y=!1;if((r||h>0)&&!(h&16)){if(h&8){const w=e.vnode.dynamicProps;for(let k=0;k<w.length;k++){let C=w[k];if(iv(e.emitsOptions,C))continue;const I=t[C];if(p)if(Qn(u,C))I!==u[C]&&(u[C]=I,y=!0);else{const R=Ss(C);s[R]=ub(p,o,R,I,e,!1)}else I!==u[C]&&(u[C]=I,y=!0)}}}else{wT(e,t,s,u)&&(y=!0);let w;for(const k in o)(!t||!Qn(t,k)&&((w=Od(k))===k||!Qn(t,w)))&&(p?n&&(n[k]!==void 0||n[w]!==void 0)&&(s[k]=ub(p,o,k,void 0,e,!0)):delete s[k]);if(u!==o)for(const k in u)(!t||!Qn(t,k))&&(delete u[k],y=!0)}y&&cl(e.attrs,"set","")}function wT(e,t,n,r){const[s,u]=e.propsOptions;let h=!1,o;if(t)for(let p in t){if(gf(p))continue;const y=t[p];let w;s&&Qn(s,w=Ss(p))?!u||!u.includes(w)?n[w]=y:(o||(o={}))[w]=y:iv(e.emitsOptions,p)||(!(p in r)||y!==r[p])&&(r[p]=y,h=!0)}if(u){const p=wn(n),y=o||Br;for(let w=0;w<u.length;w++){const k=u[w];n[k]=ub(s,p,k,y[k],e,!Qn(y,k))}}return h}function ub(e,t,n,r,s,u){const h=e[n];if(h!=null){const o=Qn(h,"default");if(o&&r===void 0){const p=h.default;if(h.type!==Function&&!h.skipFactory&&kn(p)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const w=sm(s);r=y[n]=p.call(null,t),w()}}else r=p}h[0]&&(u&&!o?r=!1:h[1]&&(r===""||r===Od(n))&&(r=!0))}return r}function ST(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const u=e.props,h={},o=[];let p=!1;if(!kn(e)){const w=k=>{p=!0;const[C,I]=ST(k,t,!0);_i(h,C),I&&o.push(...I)};!n&&t.mixins.length&&t.mixins.forEach(w),e.extends&&w(e.extends),e.mixins&&e.mixins.forEach(w)}if(!u&&!p)return Lr(e)&&r.set(e,yd),yd;if(gn(u))for(let w=0;w<u.length;w++){const k=Ss(u[w]);vS(k)&&(h[k]=Br)}else if(u)for(const w in u){const k=Ss(w);if(vS(k)){const C=u[w],I=h[k]=gn(C)||kn(C)?{type:C}:_i({},C);if(I){const R=bS(Boolean,I.type),M=bS(String,I.type);I[0]=R>-1,I[1]=M<0||R<M,(R>-1||Qn(I,"default"))&&o.push(k)}}}const y=[h,o];return Lr(e)&&r.set(e,y),y}function vS(e){return e[0]!=="$"&&!gf(e)}function yS(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function _S(e,t){return yS(e)===yS(t)}function bS(e,t){return gn(t)?t.findIndex(n=>_S(n,e)):kn(t)&&_S(t,e)?0:-1}const kT=e=>e[0]==="_"||e==="$stable",M0=e=>gn(e)?e.map(Ws):[Ws(e)],uO=(e,t,n)=>{if(t._n)return t;const r=Me((...s)=>M0(t(...s)),n);return r._c=!1,r},CT=(e,t,n)=>{const r=e._ctx;for(const s in e){if(kT(s))continue;const u=e[s];if(kn(u))t[s]=uO(s,u,r);else if(u!=null){const h=M0(u);t[s]=()=>h}}},TT=(e,t)=>{const n=M0(t);e.slots.default=()=>n},dO=(e,t)=>{const n=e.slots=bT();if(e.vnode.shapeFlag&32){const r=t._;r?(_i(n,t),z2(n,"_",r,!0)):CT(t,n)}else t&&TT(e,t)},hO=(e,t,n)=>{const{vnode:r,slots:s}=e;let u=!0,h=Br;if(r.shapeFlag&32){const o=t._;o?n&&o===1?u=!1:(_i(s,t),!n&&o===1&&delete s._):(u=!t.$stable,CT(t,s)),h=t}else t&&(TT(e,t),h={default:1});if(u)for(const o in s)!kT(o)&&h[o]==null&&delete s[o]};function db(e,t,n,r,s=!1){if(gn(e)){e.forEach((C,I)=>db(C,t&&(gn(t)?t[I]:t),n,r,s));return}if(ag(r)&&!s)return;const u=r.shapeFlag&4?lv(r.component):r.el,h=s?null:u,{i:o,r:p}=e,y=t&&t.r,w=o.refs===Br?o.refs={}:o.refs,k=o.setupState;if(y!=null&&y!==p&&(ai(y)?(w[y]=null,Qn(k,y)&&(k[y]=null)):xr(y)&&(y.value=null)),kn(p))sc(p,o,12,[h,w]);else{const C=ai(p),I=xr(p);if(C||I){const R=()=>{if(e.f){const M=C?Qn(k,p)?k[p]:w[p]:p.value;s?gn(M)&&m0(M,u):gn(M)?M.includes(u)||M.push(u):C?(w[p]=[u],Qn(k,p)&&(k[p]=w[p])):(p.value=[u],e.k&&(w[e.k]=p.value))}else C?(w[p]=h,Qn(k,p)&&(k[p]=h)):I&&(p.value=h,e.k&&(w[e.k]=h))};h?(R.id=-1,Oa(R,n)):R()}}}const Oa=YR;function fO(e){return mO(e)}function mO(e,t){const n=V2();n.__VUE__=!0;const{insert:r,remove:s,patchProp:u,createElement:h,createText:o,createComment:p,setText:y,setElementText:w,parentNode:k,nextSibling:C,setScopeId:I=Xa,insertStaticContent:R}=e,M=(ae,me,Ve,Ye=null,Ke=null,pt=null,bt=void 0,Ce=null,gt=!!me.dynamicChildren)=>{if(ae===me)return;ae&&!xo(ae,me)&&(Ye=Ne(ae),$e(ae,Ke,pt,!0),ae=null),me.patchFlag===-2&&(gt=!1,me.dynamicChildren=null);const{type:Qe,ref:lt,shapeFlag:Et}=me;switch(Qe){case am:F(ae,me,Ve,Ye);break;case oa:N(ae,me,Ve,Ye);break;case d_:ae==null&&q(me,Ve,Ye,bt);break;case Ht:ee(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt);break;default:Et&1?ie(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt):Et&6?_e(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt):(Et&64||Et&128)&&Qe.process(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt,Ue)}lt!=null&&Ke&&db(lt,ae&&ae.ref,pt,me||ae,!me)},F=(ae,me,Ve,Ye)=>{if(ae==null)r(me.el=o(me.children),Ve,Ye);else{const Ke=me.el=ae.el;me.children!==ae.children&&y(Ke,me.children)}},N=(ae,me,Ve,Ye)=>{ae==null?r(me.el=p(me.children||""),Ve,Ye):me.el=ae.el},q=(ae,me,Ve,Ye)=>{[ae.el,ae.anchor]=R(ae.children,me,Ve,Ye,ae.el,ae.anchor)},Z=({el:ae,anchor:me},Ve,Ye)=>{let Ke;for(;ae&&ae!==me;)Ke=C(ae),r(ae,Ve,Ye),ae=Ke;r(me,Ve,Ye)},se=({el:ae,anchor:me})=>{let Ve;for(;ae&&ae!==me;)Ve=C(ae),s(ae),ae=Ve;s(me)},ie=(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt)=>{me.type==="svg"?bt="svg":me.type==="math"&&(bt="mathml"),ae==null?J(me,Ve,Ye,Ke,pt,bt,Ce,gt):$(ae,me,Ke,pt,bt,Ce,gt)},J=(ae,me,Ve,Ye,Ke,pt,bt,Ce)=>{let gt,Qe;const{props:lt,shapeFlag:Et,transition:It,dirs:an}=ae;if(gt=ae.el=h(ae.type,pt,lt&&lt.is,lt),Et&8?w(gt,ae.children):Et&16&&G(ae.children,gt,null,Ye,Ke,c_(ae,pt),bt,Ce),an&&Vc(ae,null,Ye,"created"),te(gt,ae,ae.scopeId,bt,Ye),lt){for(const On in lt)On!=="value"&&!gf(On)&&u(gt,On,null,lt[On],pt,ae.children,Ye,Ke,kt);"value"in lt&&u(gt,"value",null,lt.value,pt),(Qe=lt.onVnodeBeforeMount)&&yo(Qe,Ye,ae)}an&&Vc(ae,null,Ye,"beforeMount");const sn=pO(Ke,It);sn&&It.beforeEnter(gt),r(gt,me,Ve),((Qe=lt&&lt.onVnodeMounted)||sn||an)&&Oa(()=>{Qe&&yo(Qe,Ye,ae),sn&&It.enter(gt),an&&Vc(ae,null,Ye,"mounted")},Ke)},te=(ae,me,Ve,Ye,Ke)=>{if(Ve&&I(ae,Ve),Ye)for(let pt=0;pt<Ye.length;pt++)I(ae,Ye[pt]);if(Ke){let pt=Ke.subTree;if(me===pt){const bt=Ke.vnode;te(ae,bt,bt.scopeId,bt.slotScopeIds,Ke.parent)}}},G=(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt=0)=>{for(let Qe=gt;Qe<ae.length;Qe++){const lt=ae[Qe]=Ce?Jl(ae[Qe]):Ws(ae[Qe]);M(null,lt,me,Ve,Ye,Ke,pt,bt,Ce)}},$=(ae,me,Ve,Ye,Ke,pt,bt)=>{const Ce=me.el=ae.el;let{patchFlag:gt,dynamicChildren:Qe,dirs:lt}=me;gt|=ae.patchFlag&16;const Et=ae.props||Br,It=me.props||Br;let an;if(Ve&&Nc(Ve,!1),(an=It.onVnodeBeforeUpdate)&&yo(an,Ve,me,ae),lt&&Vc(me,ae,Ve,"beforeUpdate"),Ve&&Nc(Ve,!0),Qe?K(ae.dynamicChildren,Qe,Ce,Ve,Ye,c_(me,Ke),pt):bt||ke(ae,me,Ce,null,Ve,Ye,c_(me,Ke),pt,!1),gt>0){if(gt&16)le(Ce,me,Et,It,Ve,Ye,Ke);else if(gt&2&&Et.class!==It.class&&u(Ce,"class",null,It.class,Ke),gt&4&&u(Ce,"style",Et.style,It.style,Ke),gt&8){const sn=me.dynamicProps;for(let On=0;On<sn.length;On++){const _n=sn[On],$n=Et[_n],ur=It[_n];(ur!==$n||_n==="value")&&u(Ce,_n,$n,ur,Ke,ae.children,Ve,Ye,kt)}}gt&1&&ae.children!==me.children&&w(Ce,me.children)}else!bt&&Qe==null&&le(Ce,me,Et,It,Ve,Ye,Ke);((an=It.onVnodeUpdated)||lt)&&Oa(()=>{an&&yo(an,Ve,me,ae),lt&&Vc(me,ae,Ve,"updated")},Ye)},K=(ae,me,Ve,Ye,Ke,pt,bt)=>{for(let Ce=0;Ce<me.length;Ce++){const gt=ae[Ce],Qe=me[Ce],lt=gt.el&&(gt.type===Ht||!xo(gt,Qe)||gt.shapeFlag&70)?k(gt.el):Ve;M(gt,Qe,lt,null,Ye,Ke,pt,bt,!0)}},le=(ae,me,Ve,Ye,Ke,pt,bt)=>{if(Ve!==Ye){if(Ve!==Br)for(const Ce in Ve)!gf(Ce)&&!(Ce in Ye)&&u(ae,Ce,Ve[Ce],null,bt,me.children,Ke,pt,kt);for(const Ce in Ye){if(gf(Ce))continue;const gt=Ye[Ce],Qe=Ve[Ce];gt!==Qe&&Ce!=="value"&&u(ae,Ce,Qe,gt,bt,me.children,Ke,pt,kt)}"value"in Ye&&u(ae,"value",Ve.value,Ye.value,bt)}},ee=(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt)=>{const Qe=me.el=ae?ae.el:o(""),lt=me.anchor=ae?ae.anchor:o("");let{patchFlag:Et,dynamicChildren:It,slotScopeIds:an}=me;an&&(Ce=Ce?Ce.concat(an):an),ae==null?(r(Qe,Ve,Ye),r(lt,Ve,Ye),G(me.children||[],Ve,lt,Ke,pt,bt,Ce,gt)):Et>0&&Et&64&&It&&ae.dynamicChildren?(K(ae.dynamicChildren,It,Ve,Ke,pt,bt,Ce),(me.key!=null||Ke&&me===Ke.subTree)&&L0(ae,me,!0)):ke(ae,me,Ve,lt,Ke,pt,bt,Ce,gt)},_e=(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt)=>{me.slotScopeIds=Ce,ae==null?me.shapeFlag&512?Ke.ctx.activate(me,Ve,Ye,bt,gt):fe(me,Ve,Ye,Ke,pt,bt,gt):Ie(ae,me,gt)},fe=(ae,me,Ve,Ye,Ke,pt,bt)=>{const Ce=ae.component=PO(ae,Ye,Ke);if(sv(ae)&&(Ce.ctx.renderer=Ue),DO(Ce),Ce.asyncDep){if(Ke&&Ke.registerDep(Ce,Te,bt),!ae.el){const gt=Ce.subTree=T(oa);N(null,gt,me,Ve)}}else Te(Ce,ae,me,Ve,Ke,pt,bt)},Ie=(ae,me,Ve)=>{const Ye=me.component=ae.component;if(zR(ae,me,Ve))if(Ye.asyncDep&&!Ye.asyncResolved){qe(Ye,me,Ve);return}else Ye.next=me,DR(Ye.update),Ye.effect.dirty=!0,Ye.update();else me.el=ae.el,Ye.vnode=me},Te=(ae,me,Ve,Ye,Ke,pt,bt)=>{const Ce=()=>{if(ae.isMounted){let{next:lt,bu:Et,u:It,parent:an,vnode:sn}=ae;{const vt=AT(ae);if(vt){lt&&(lt.el=sn.el,qe(ae,lt,bt)),vt.asyncDep.then(()=>{ae.isUnmounted||Ce()});return}}let On=lt,_n;Nc(ae,!1),lt?(lt.el=sn.el,qe(ae,lt,bt)):lt=sn,Et&&ng(Et),(_n=lt.props&&lt.props.onVnodeBeforeUpdate)&&yo(_n,an,lt,sn),Nc(ae,!0);const $n=o_(ae),ur=ae.subTree;ae.subTree=$n,M(ur,$n,k(ur.el),Ne(ur),ae,Ke,pt),lt.el=$n.el,On===null&&T0(ae,$n.el),It&&Oa(It,Ke),(_n=lt.props&&lt.props.onVnodeUpdated)&&Oa(()=>yo(_n,an,lt,sn),Ke)}else{let lt;const{el:Et,props:It}=me,{bm:an,m:sn,parent:On}=ae,_n=ag(me);if(Nc(ae,!1),an&&ng(an),!_n&&(lt=It&&It.onVnodeBeforeMount)&&yo(lt,On,me),Nc(ae,!0),Et&&$t){const $n=()=>{ae.subTree=o_(ae),$t(Et,ae.subTree,ae,Ke,null)};_n?me.type.__asyncLoader().then(()=>!ae.isUnmounted&&$n()):$n()}else{const $n=ae.subTree=o_(ae);M(null,$n,Ve,Ye,ae,Ke,pt),me.el=$n.el}if(sn&&Oa(sn,Ke),!_n&&(lt=It&&It.onVnodeMounted)){const $n=me;Oa(()=>yo(lt,On,$n),Ke)}(me.shapeFlag&256||On&&ag(On.vnode)&&On.vnode.shapeFlag&256)&&ae.a&&Oa(ae.a,Ke),ae.isMounted=!0,me=Ve=Ye=null}},gt=ae.effect=new v0(Ce,Xa,()=>C0(Qe),ae.scope),Qe=ae.update=()=>{gt.dirty&&gt.run()};Qe.id=ae.uid,Nc(ae,!0),Qe()},qe=(ae,me,Ve)=>{me.component=ae;const Ye=ae.vnode.props;ae.vnode=me,ae.next=null,cO(ae,me.props,Ye,Ve),hO(ae,me.children,Ve),fc(),cS(ae),mc()},ke=(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt=!1)=>{const Qe=ae&&ae.children,lt=ae?ae.shapeFlag:0,Et=me.children,{patchFlag:It,shapeFlag:an}=me;if(It>0){if(It&128){Fe(Qe,Et,Ve,Ye,Ke,pt,bt,Ce,gt);return}else if(It&256){Pe(Qe,Et,Ve,Ye,Ke,pt,bt,Ce,gt);return}}an&8?(lt&16&&kt(Qe,Ke,pt),Et!==Qe&&w(Ve,Et)):lt&16?an&16?Fe(Qe,Et,Ve,Ye,Ke,pt,bt,Ce,gt):kt(Qe,Ke,pt,!0):(lt&8&&w(Ve,""),an&16&&G(Et,Ve,Ye,Ke,pt,bt,Ce,gt))},Pe=(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt)=>{ae=ae||yd,me=me||yd;const Qe=ae.length,lt=me.length,Et=Math.min(Qe,lt);let It;for(It=0;It<Et;It++){const an=me[It]=gt?Jl(me[It]):Ws(me[It]);M(ae[It],an,Ve,null,Ke,pt,bt,Ce,gt)}Qe>lt?kt(ae,Ke,pt,!0,!1,Et):G(me,Ve,Ye,Ke,pt,bt,Ce,gt,Et)},Fe=(ae,me,Ve,Ye,Ke,pt,bt,Ce,gt)=>{let Qe=0;const lt=me.length;let Et=ae.length-1,It=lt-1;for(;Qe<=Et&&Qe<=It;){const an=ae[Qe],sn=me[Qe]=gt?Jl(me[Qe]):Ws(me[Qe]);if(xo(an,sn))M(an,sn,Ve,null,Ke,pt,bt,Ce,gt);else break;Qe++}for(;Qe<=Et&&Qe<=It;){const an=ae[Et],sn=me[It]=gt?Jl(me[It]):Ws(me[It]);if(xo(an,sn))M(an,sn,Ve,null,Ke,pt,bt,Ce,gt);else break;Et--,It--}if(Qe>Et){if(Qe<=It){const an=It+1,sn=an<lt?me[an].el:Ye;for(;Qe<=It;)M(null,me[Qe]=gt?Jl(me[Qe]):Ws(me[Qe]),Ve,sn,Ke,pt,bt,Ce,gt),Qe++}}else if(Qe>It)for(;Qe<=Et;)$e(ae[Qe],Ke,pt,!0),Qe++;else{const an=Qe,sn=Qe,On=new Map;for(Qe=sn;Qe<=It;Qe++){const hr=me[Qe]=gt?Jl(me[Qe]):Ws(me[Qe]);hr.key!=null&&On.set(hr.key,Qe)}let _n,$n=0;const ur=It-sn+1;let vt=!1,xi=0;const Tn=new Array(ur);for(Qe=0;Qe<ur;Qe++)Tn[Qe]=0;for(Qe=an;Qe<=Et;Qe++){const hr=ae[Qe];if($n>=ur){$e(hr,Ke,pt,!0);continue}let Tt;if(hr.key!=null)Tt=On.get(hr.key);else for(_n=sn;_n<=It;_n++)if(Tn[_n-sn]===0&&xo(hr,me[_n])){Tt=_n;break}Tt===void 0?$e(hr,Ke,pt,!0):(Tn[Tt-sn]=Qe+1,Tt>=xi?xi=Tt:vt=!0,M(hr,me[Tt],Ve,null,Ke,pt,bt,Ce,gt),$n++)}const ma=vt?gO(Tn):yd;for(_n=ma.length-1,Qe=ur-1;Qe>=0;Qe--){const hr=sn+Qe,Tt=me[hr],vn=hr+1<lt?me[hr+1].el:Ye;Tn[Qe]===0?M(null,Tt,Ve,vn,Ke,pt,bt,Ce,gt):vt&&(_n<0||Qe!==ma[_n]?Je(Tt,Ve,vn,2):_n--)}}},Je=(ae,me,Ve,Ye,Ke=null)=>{const{el:pt,type:bt,transition:Ce,children:gt,shapeFlag:Qe}=ae;if(Qe&6){Je(ae.component.subTree,me,Ve,Ye);return}if(Qe&128){ae.suspense.move(me,Ve,Ye);return}if(Qe&64){bt.move(ae,me,Ve,Ue);return}if(bt===Ht){r(pt,me,Ve);for(let Et=0;Et<gt.length;Et++)Je(gt[Et],me,Ve,Ye);r(ae.anchor,me,Ve);return}if(bt===d_){Z(ae,me,Ve);return}if(Ye!==2&&Qe&1&&Ce)if(Ye===0)Ce.beforeEnter(pt),r(pt,me,Ve),Oa(()=>Ce.enter(pt),Ke);else{const{leave:Et,delayLeave:It,afterLeave:an}=Ce,sn=()=>r(pt,me,Ve),On=()=>{Et(pt,()=>{sn(),an&&an()})};It?It(pt,sn,On):On()}else r(pt,me,Ve)},$e=(ae,me,Ve,Ye=!1,Ke=!1)=>{const{type:pt,props:bt,ref:Ce,children:gt,dynamicChildren:Qe,shapeFlag:lt,patchFlag:Et,dirs:It,memoIndex:an}=ae;if(Et===-2&&(Ke=!1),Ce!=null&&db(Ce,null,Ve,ae,!0),an!=null&&(me.renderCache[an]=void 0),lt&256){me.ctx.deactivate(ae);return}const sn=lt&1&&It,On=!ag(ae);let _n;if(On&&(_n=bt&&bt.onVnodeBeforeUnmount)&&yo(_n,me,ae),lt&6)dt(ae.component,Ve,Ye);else{if(lt&128){ae.suspense.unmount(Ve,Ye);return}sn&&Vc(ae,null,me,"beforeUnmount"),lt&64?ae.type.remove(ae,me,Ve,Ue,Ye):Qe&&(pt!==Ht||Et>0&&Et&64)?kt(Qe,me,Ve,!1,!0):(pt===Ht&&Et&384||!Ke&&lt&16)&&kt(gt,me,Ve),Ye&&at(ae)}(On&&(_n=bt&&bt.onVnodeUnmounted)||sn)&&Oa(()=>{_n&&yo(_n,me,ae),sn&&Vc(ae,null,me,"unmounted")},Ve)},at=ae=>{const{type:me,el:Ve,anchor:Ye,transition:Ke}=ae;if(me===Ht){Lt(Ve,Ye);return}if(me===d_){se(ae);return}const pt=()=>{s(Ve),Ke&&!Ke.persisted&&Ke.afterLeave&&Ke.afterLeave()};if(ae.shapeFlag&1&&Ke&&!Ke.persisted){const{leave:bt,delayLeave:Ce}=Ke,gt=()=>bt(Ve,pt);Ce?Ce(ae.el,pt,gt):gt()}else pt()},Lt=(ae,me)=>{let Ve;for(;ae!==me;)Ve=C(ae),s(ae),ae=Ve;s(me)},dt=(ae,me,Ve)=>{const{bum:Ye,scope:Ke,update:pt,subTree:bt,um:Ce,m:gt,a:Qe}=ae;xS(gt),xS(Qe),Ye&&ng(Ye),Ke.stop(),pt&&(pt.active=!1,$e(bt,ae,me,Ve)),Ce&&Oa(Ce,me),Oa(()=>{ae.isUnmounted=!0},me),me&&me.pendingBranch&&!me.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===me.pendingId&&(me.deps--,me.deps===0&&me.resolve())},kt=(ae,me,Ve,Ye=!1,Ke=!1,pt=0)=>{for(let bt=pt;bt<ae.length;bt++)$e(ae[bt],me,Ve,Ye,Ke)},Ne=ae=>ae.shapeFlag&6?Ne(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():C(ae.anchor||ae.el);let it=!1;const He=(ae,me,Ve)=>{ae==null?me._vnode&&$e(me._vnode,null,null,!0):M(me._vnode||null,ae,me,null,null,null,Ve),it||(it=!0,cS(),uT(),it=!1),me._vnode=ae},Ue={p:M,um:$e,m:Je,r:at,mt:fe,mc:G,pc:ke,pbc:K,n:Ne,o:e};let Ct,$t;return{render:He,hydrate:Ct,createApp:oO(He,Ct)}}function c_({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Nc({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function pO(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function L0(e,t,n=!1){const r=e.children,s=t.children;if(gn(r)&&gn(s))for(let u=0;u<r.length;u++){const h=r[u];let o=s[u];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[u]=Jl(s[u]),o.el=h.el),!n&&o.patchFlag!==-2&&L0(h,o)),o.type===am&&(o.el=h.el)}}function gO(e){const t=e.slice(),n=[0];let r,s,u,h,o;const p=e.length;for(r=0;r<p;r++){const y=e[r];if(y!==0){if(s=n[n.length-1],e[s]<y){t[r]=s,n.push(r);continue}for(u=0,h=n.length-1;u<h;)o=u+h>>1,e[n[o]]<y?u=o+1:h=o;y<e[n[u]]&&(u>0&&(t[r]=n[u-1]),n[u]=r)}}for(u=n.length,h=n[u-1];u-- >0;)n[u]=h,h=t[h];return n}function AT(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:AT(t)}function xS(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const vO=Symbol.for("v-scx"),yO=()=>yt(vO);function oi(e,t){return R0(e,null,t)}const $p={};function ct(e,t,n){return R0(e,t,n)}function R0(e,t,{immediate:n,deep:r,flush:s,once:u,onTrack:h,onTrigger:o}=Br){if(t&&u){const J=t;t=(...te)=>{J(...te),ie()}}const p=Wi,y=J=>r===!0?J:tc(J,r===!1?1:void 0);let w,k=!1,C=!1;if(xr(e)?(w=()=>e.value,k=xg(e)):vf(e)?(w=()=>y(e),k=!0):gn(e)?(C=!0,k=e.some(J=>vf(J)||xg(J)),w=()=>e.map(J=>{if(xr(J))return J.value;if(vf(J))return y(J);if(kn(J))return sc(J,p,2)})):kn(e)?t?w=()=>sc(e,p,2):w=()=>(I&&I(),xs(e,p,3,[R])):w=Xa,t&&r){const J=w;w=()=>tc(J())}let I,R=J=>{I=Z.onStop=()=>{sc(J,p,4),I=Z.onStop=void 0}},M;if(ov)if(R=Xa,t?n&&xs(t,p,3,[w(),C?[]:void 0,R]):w(),s==="sync"){const J=yO();M=J.__watcherHandles||(J.__watcherHandles=[])}else return Xa;let F=C?new Array(e.length).fill($p):$p;const N=()=>{if(!(!Z.active||!Z.dirty))if(t){const J=Z.run();(r||k||(C?J.some((te,G)=>lc(te,F[G])):lc(J,F)))&&(I&&I(),xs(t,p,3,[J,F===$p?void 0:C&&F[0]===$p?[]:F,R]),F=J)}else Z.run()};N.allowRecurse=!!t;let q;s==="sync"?q=N:s==="post"?q=()=>Oa(N,p&&p.suspense):(N.pre=!0,p&&(N.id=p.uid),q=()=>C0(N));const Z=new v0(w,Xa,q),se=rR(),ie=()=>{Z.stop(),se&&m0(se.effects,Z)};return t?n?N():F=Z.run():s==="post"?Oa(Z.run.bind(Z),p&&p.suspense):Z.run(),M&&M.push(ie),ie}function _O(e,t,n){const r=this.proxy,s=ai(e)?e.includes(".")?ET(r,e):()=>r[e]:e.bind(r,r);let u;kn(t)?u=t:(u=t.handler,n=t);const h=sm(this),o=R0(s,u.bind(r),n);return h(),o}function ET(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function tc(e,t=1/0,n){if(t<=0||!Lr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,xr(e))tc(e.value,t,n);else if(gn(e))for(let r=0;r<e.length;r++)tc(e[r],t,n);else if(L2(e)||_d(e))e.forEach(r=>{tc(r,t,n)});else if(F2(e)){for(const r in e)tc(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&tc(e[r],t,n)}return e}const sv=e=>e.type.__isKeepAlive;function IT(e,t){DT(e,"a",t)}function PT(e,t){DT(e,"da",t)}function DT(e,t,n=Wi){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(av(t,r,n),n){let s=n.parent;for(;s&&s.parent;)sv(s.parent.vnode)&&bO(r,t,n,s),s=s.parent}}function bO(e,t,n,r){const s=av(t,e,r,!0);gT(()=>{m0(r[t],s)},n)}const Xl=Symbol("_leaveCb"),Up=Symbol("_enterCb");function MT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fa(()=>{e.isMounted=!0}),Sr(()=>{e.isUnmounting=!0}),e}const ps=[Function,Array],LT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ps,onEnter:ps,onAfterEnter:ps,onEnterCancelled:ps,onBeforeLeave:ps,onLeave:ps,onAfterLeave:ps,onLeaveCancelled:ps,onBeforeAppear:ps,onAppear:ps,onAfterAppear:ps,onAppearCancelled:ps},RT=e=>{const t=e.subTree;return t.component?RT(t.component):t},xO={name:"BaseTransition",props:LT,setup(e,{slots:t}){const n=Ts(),r=MT();return()=>{const s=t.default&&O0(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const C of s)if(C.type!==oa){u=C;break}}const h=wn(e),{mode:o}=h;if(r.isLeaving)return u_(u);const p=wS(u);if(!p)return u_(u);let y=Df(p,h,r,n,C=>y=C);Td(p,y);const w=n.subTree,k=w&&wS(w);if(k&&k.type!==oa&&!xo(p,k)&&RT(n).type!==oa){const C=Df(k,h,r,n);if(Td(k,C),o==="out-in"&&p.type!==oa)return r.isLeaving=!0,C.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},u_(u);o==="in-out"&&p.type!==oa&&(C.delayLeave=(I,R,M)=>{const F=OT(r,k);F[String(k.key)]=k,I[Xl]=()=>{R(),I[Xl]=void 0,delete y.delayedLeave},y.delayedLeave=M})}return u}}},wO=xO;function OT(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Df(e,t,n,r,s){const{appear:u,mode:h,persisted:o=!1,onBeforeEnter:p,onEnter:y,onAfterEnter:w,onEnterCancelled:k,onBeforeLeave:C,onLeave:I,onAfterLeave:R,onLeaveCancelled:M,onBeforeAppear:F,onAppear:N,onAfterAppear:q,onAppearCancelled:Z}=t,se=String(e.key),ie=OT(n,e),J=($,K)=>{$&&xs($,r,9,K)},te=($,K)=>{const le=K[1];J($,K),gn($)?$.every(ee=>ee.length<=1)&&le():$.length<=1&&le()},G={mode:h,persisted:o,beforeEnter($){let K=p;if(!n.isMounted)if(u)K=F||p;else return;$[Xl]&&$[Xl](!0);const le=ie[se];le&&xo(e,le)&&le.el[Xl]&&le.el[Xl](),J(K,[$])},enter($){let K=y,le=w,ee=k;if(!n.isMounted)if(u)K=N||y,le=q||w,ee=Z||k;else return;let _e=!1;const fe=$[Up]=Ie=>{_e||(_e=!0,Ie?J(ee,[$]):J(le,[$]),G.delayedLeave&&G.delayedLeave(),$[Up]=void 0)};K?te(K,[$,fe]):fe()},leave($,K){const le=String(e.key);if($[Up]&&$[Up](!0),n.isUnmounting)return K();J(C,[$]);let ee=!1;const _e=$[Xl]=fe=>{ee||(ee=!0,K(),fe?J(M,[$]):J(R,[$]),$[Xl]=void 0,ie[le]===e&&delete ie[le])};ie[le]=e,I?te(I,[$,_e]):_e()},clone($){const K=Df($,t,n,r,s);return s&&s(K),K}};return G}function u_(e){if(sv(e))return e=hl(e),e.children=null,e}function wS(e){if(!sv(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&kn(n.default))return n.default()}}function Td(e,t){e.shapeFlag&6&&e.component?Td(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function O0(e,t=!1,n){let r=[],s=0;for(let u=0;u<e.length;u++){let h=e[u];const o=n==null?h.key:String(n)+String(h.key!=null?h.key:u);h.type===Ht?(h.patchFlag&128&&s++,r=r.concat(O0(h.children,t,o))):(t||h.type!==oa)&&r.push(o!=null?hl(h,{key:o}):h)}if(s>1)for(let u=0;u<r.length;u++)r[u].patchFlag=-2;return r}const SO=e=>e.__isTeleport,bf=e=>e&&(e.disabled||e.disabled===""),SS=e=>typeof SVGElement<"u"&&e instanceof SVGElement,kS=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,hb=(e,t)=>{const n=e&&e.to;return ai(n)?t?t(n):null:n},kO={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,u,h,o,p,y){const{mc:w,pc:k,pbc:C,o:{insert:I,querySelector:R,createText:M,createComment:F}}=y,N=bf(t.props);let{shapeFlag:q,children:Z,dynamicChildren:se}=t;if(e==null){const ie=t.el=M(""),J=t.anchor=M("");I(ie,n,r),I(J,n,r);const te=t.target=hb(t.props,R),G=t.targetAnchor=M("");te&&(I(G,te),h==="svg"||SS(te)?h="svg":(h==="mathml"||kS(te))&&(h="mathml"));const $=(K,le)=>{q&16&&w(Z,K,le,s,u,h,o,p)};N?$(n,J):te&&$(te,G)}else{t.el=e.el;const ie=t.anchor=e.anchor,J=t.target=e.target,te=t.targetAnchor=e.targetAnchor,G=bf(e.props),$=G?n:J,K=G?ie:te;if(h==="svg"||SS(J)?h="svg":(h==="mathml"||kS(J))&&(h="mathml"),se?(C(e.dynamicChildren,se,$,s,u,h,o),L0(e,t,!0)):p||k(e,t,$,K,s,u,h,o,!1),N)G?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):qp(t,n,ie,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const le=t.target=hb(t.props,R);le&&qp(t,le,null,y,0)}else G&&qp(t,J,te,y,1)}FT(t)},remove(e,t,n,{um:r,o:{remove:s}},u){const{shapeFlag:h,children:o,anchor:p,targetAnchor:y,target:w,props:k}=e;if(w&&s(y),u&&s(p),h&16){const C=u||!bf(k);for(let I=0;I<o.length;I++){const R=o[I];r(R,t,n,C,!!R.dynamicChildren)}}},move:qp,hydrate:CO};function qp(e,t,n,{o:{insert:r},m:s},u=2){u===0&&r(e.targetAnchor,t,n);const{el:h,anchor:o,shapeFlag:p,children:y,props:w}=e,k=u===2;if(k&&r(h,t,n),(!k||bf(w))&&p&16)for(let C=0;C<y.length;C++)s(y[C],t,n,2);k&&r(o,t,n)}function CO(e,t,n,r,s,u,{o:{nextSibling:h,parentNode:o,querySelector:p}},y){const w=t.target=hb(t.props,p);if(w){const k=w._lpa||w.firstChild;if(t.shapeFlag&16)if(bf(t.props))t.anchor=y(h(e),t,o(e),n,r,s,u),t.targetAnchor=k;else{t.anchor=h(e);let C=k;for(;C;)if(C=h(C),C&&C.nodeType===8&&C.data==="teleport anchor"){t.targetAnchor=C,w._lpa=t.targetAnchor&&h(t.targetAnchor);break}y(k,t,w,n,r,s,u)}FT(t)}return t.anchor&&h(t.anchor)}const F0=kO;function FT(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Ht=Symbol.for("v-fgt"),am=Symbol.for("v-txt"),oa=Symbol.for("v-cmt"),d_=Symbol.for("v-stc"),xf=[];let vs=null;function fn(e=!1){xf.push(vs=e?null:[])}function zT(){xf.pop(),vs=xf[xf.length-1]||null}let Ad=1;function CS(e){Ad+=e}function BT(e){return e.dynamicChildren=Ad>0?vs||yd:null,zT(),Ad>0&&vs&&vs.push(e),e}function ys(e,t,n,r,s,u){return BT(rr(e,t,n,r,s,u,!0))}function Nn(e,t,n,r,s){return BT(T(e,t,n,r,s,!0))}function Mf(e){return e?e.__v_isVNode===!0:!1}function xo(e,t){return e.type===t.type&&e.key===t.key}const VT=({key:e})=>e??null,sg=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ai(e)||xr(e)||kn(e)?{i:za,r:e,k:t,f:!!n}:e:null);function rr(e,t=null,n=null,r=0,s=null,u=e===Ht?0:1,h=!1,o=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&VT(t),ref:t&&sg(t),scopeId:fT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:za};return o?(z0(p,n),u&128&&e.normalize(p)):n&&(p.shapeFlag|=ai(n)?8:16),Ad>0&&!h&&vs&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&vs.push(p),p}const T=TO;function TO(e,t=null,n=null,r=0,s=null,u=!1){if((!e||e===VR)&&(e=oa),Mf(e)){const o=hl(e,t,!0);return n&&z0(o,n),Ad>0&&!u&&vs&&(o.shapeFlag&6?vs[vs.indexOf(e)]=o:vs.push(o)),o.patchFlag=-2,o}if(FO(e)&&(e=e.__vccOpts),t){t=AO(t);let{class:o,style:p}=t;o&&!ai(o)&&(t.class=Ra(o)),Lr(p)&&(nT(p)&&!gn(p)&&(p=_i({},p)),t.style=g0(p))}const h=ai(e)?1:$R(e)?128:SO(e)?64:Lr(e)?4:kn(e)?2:0;return rr(e,t,n,r,s,h,u,!0)}function AO(e){return e?nT(e)||xT(e)?_i({},e):e:null}function hl(e,t,n=!1,r=!1){const{props:s,ref:u,patchFlag:h,children:o,transition:p}=e,y=t?ot(s||{},t):s,w={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&VT(y),ref:t&&t.ref?n&&u?gn(u)?u.concat(sg(t)):[u,sg(t)]:sg(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ht?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&hl(e.ssContent),ssFallback:e.ssFallback&&hl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&r&&Td(w,p.clone(w)),w}function zt(e=" ",t=0){return T(am,null,e,t)}function Xn(e="",t=!1){return t?(fn(),Nn(oa,null,e)):T(oa,null,e)}function Ws(e){return e==null||typeof e=="boolean"?T(oa):gn(e)?T(Ht,null,e.slice()):typeof e=="object"?Jl(e):T(am,null,String(e))}function Jl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:hl(e)}function z0(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(gn(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),z0(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!xT(t)?t._ctx=za:s===3&&za&&(za.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else kn(t)?(t={default:t,_ctx:za},n=32):(t=String(t),r&64?(n=16,t=[zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function ot(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Ra([t.class,r.class]));else if(s==="style")t.style=g0([t.style,r.style]);else if(Qg(s)){const u=t[s],h=r[s];h&&u!==h&&!(gn(u)&&u.includes(h))&&(t[s]=u?[].concat(u,h):h)}else s!==""&&(t[s]=r[s])}return t}function yo(e,t,n,r=null){xs(e,t,7,[n,r])}const EO=yT();let IO=0;function PO(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||EO,u={uid:IO++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new q2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ST(r,s),emitsOptions:hT(r,s),emit:null,emitted:null,propsDefaults:Br,inheritAttrs:r.inheritAttrs,ctx:Br,data:Br,props:Br,attrs:Br,slots:Br,refs:Br,setupState:Br,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=LR.bind(null,u),e.ce&&e.ce(u),u}let Wi=null;const Ts=()=>Wi||za;let Cg,fb;{const e=V2(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),u=>{s.length>1?s.forEach(h=>h(u)):s[0](u)}};Cg=t("__VUE_INSTANCE_SETTERS__",n=>Wi=n),fb=t("__VUE_SSR_SETTERS__",n=>ov=n)}const sm=e=>{const t=Wi;return Cg(e),e.scope.on(),()=>{e.scope.off(),Cg(t)}},TS=()=>{Wi&&Wi.scope.off(),Cg(null)};function NT(e){return e.vnode.shapeFlag&4}let ov=!1;function DO(e,t=!1){t&&fb(t);const{props:n,children:r}=e.vnode,s=NT(e);lO(e,n,s,t),dO(e,r);const u=s?MO(e,t):void 0;return t&&fb(!1),u}function MO(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,eO);const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?RO(e):null,u=sm(e);fc();const h=sc(r,e,0,[e.props,s]);if(mc(),u(),R2(h)){if(h.then(TS,TS),t)return h.then(o=>{mb(e,o,t)}).catch(o=>{im(o,e,0)});e.asyncDep=h}else mb(e,h,t)}else $T(e,t)}function mb(e,t,n){kn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Lr(t)&&(e.setupState=sT(t)),$T(e,n)}let AS;function $T(e,t,n){const r=e.type;if(!e.render){if(!t&&AS&&!r.render){const s=r.template||D0(e).template;if(s){const{isCustomElement:u,compilerOptions:h}=e.appContext.config,{delimiters:o,compilerOptions:p}=r,y=_i(_i({isCustomElement:u,delimiters:o},h),p);r.render=AS(s,y)}}e.render=r.render||Xa}{const s=sm(e);fc();try{tO(e)}finally{mc(),s()}}}const LO={get(e,t){return Va(e,"get",""),e[t]}};function RO(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,LO),slots:e.slots,emit:e.emit,expose:t}}function lv(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(sT(wg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in yf)return yf[n](e)},has(t,n){return n in t||n in yf}})):e.proxy}function OO(e,t=!0){return kn(e)?e.displayName||e.name:e.name||t&&e.__name}function FO(e){return kn(e)&&"__vccOpts"in e}const Y=(e,t)=>kR(e,t,ov);function Xr(e,t,n){const r=arguments.length;return r===2?Lr(t)&&!gn(t)?Mf(t)?T(e,null,[t]):T(e,t):T(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mf(n)&&(n=[n]),T(e,t,n))}const zO="3.4.31",BO=Xa;/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const VO="http://www.w3.org/2000/svg",NO="http://www.w3.org/1998/Math/MathML",il=typeof document<"u"?document:null,ES=il&&il.createElement("template"),$O={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?il.createElementNS(VO,e):t==="mathml"?il.createElementNS(NO,e):n?il.createElement(e,{is:n}):il.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>il.createTextNode(e),createComment:e=>il.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>il.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,u){const h=n?n.previousSibling:t.lastChild;if(s&&(s===u||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===u||!(s=s.nextSibling)););else{ES.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const o=ES.content;if(r==="svg"||r==="mathml"){const p=o.firstChild;for(;p.firstChild;)o.appendChild(p.firstChild);o.removeChild(p)}t.insertBefore(o,n)}return[h?h.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Gl="transition",of="animation",Ed=Symbol("_vtc"),Ao=(e,{slots:t})=>Xr(wO,qT(e),t);Ao.displayName="Transition";const UT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},UO=Ao.props=_i({},LT,UT),$c=(e,t=[])=>{gn(e)?e.forEach(n=>n(...t)):e&&e(...t)},IS=e=>e?gn(e)?e.some(t=>t.length>1):e.length>1:!1;function qT(e){const t={};for(const ee in e)ee in UT||(t[ee]=e[ee]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:u=`${n}-enter-from`,enterActiveClass:h=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:p=u,appearActiveClass:y=h,appearToClass:w=o,leaveFromClass:k=`${n}-leave-from`,leaveActiveClass:C=`${n}-leave-active`,leaveToClass:I=`${n}-leave-to`}=e,R=qO(s),M=R&&R[0],F=R&&R[1],{onBeforeEnter:N,onEnter:q,onEnterCancelled:Z,onLeave:se,onLeaveCancelled:ie,onBeforeAppear:J=N,onAppear:te=q,onAppearCancelled:G=Z}=t,$=(ee,_e,fe)=>{Zl(ee,_e?w:o),Zl(ee,_e?y:h),fe&&fe()},K=(ee,_e)=>{ee._isLeaving=!1,Zl(ee,k),Zl(ee,I),Zl(ee,C),_e&&_e()},le=ee=>(_e,fe)=>{const Ie=ee?te:q,Te=()=>$(_e,ee,fe);$c(Ie,[_e,Te]),PS(()=>{Zl(_e,ee?p:u),rl(_e,ee?w:o),IS(Ie)||DS(_e,r,M,Te)})};return _i(t,{onBeforeEnter(ee){$c(N,[ee]),rl(ee,u),rl(ee,h)},onBeforeAppear(ee){$c(J,[ee]),rl(ee,p),rl(ee,y)},onEnter:le(!1),onAppear:le(!0),onLeave(ee,_e){ee._isLeaving=!0;const fe=()=>K(ee,_e);rl(ee,k),rl(ee,C),HT(),PS(()=>{ee._isLeaving&&(Zl(ee,k),rl(ee,I),IS(se)||DS(ee,r,F,fe))}),$c(se,[ee,fe])},onEnterCancelled(ee){$(ee,!1),$c(Z,[ee])},onAppearCancelled(ee){$(ee,!0),$c(G,[ee])},onLeaveCancelled(ee){K(ee),$c(ie,[ee])}})}function qO(e){if(e==null)return null;if(Lr(e))return[h_(e.enter),h_(e.leave)];{const t=h_(e);return[t,t]}}function h_(e){return B2(e)}function rl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ed]||(e[Ed]=new Set)).add(t)}function Zl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Ed];n&&(n.delete(t),n.size||(e[Ed]=void 0))}function PS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let jO=0;function DS(e,t,n,r){const s=e._endId=++jO,u=()=>{s===e._endId&&r()};if(n)return setTimeout(u,n);const{type:h,timeout:o,propCount:p}=jT(e,t);if(!h)return r();const y=h+"end";let w=0;const k=()=>{e.removeEventListener(y,C),u()},C=I=>{I.target===e&&++w>=p&&k()};setTimeout(()=>{w<p&&k()},o+1),e.addEventListener(y,C)}function jT(e,t){const n=window.getComputedStyle(e),r=R=>(n[R]||"").split(", "),s=r(`${Gl}Delay`),u=r(`${Gl}Duration`),h=MS(s,u),o=r(`${of}Delay`),p=r(`${of}Duration`),y=MS(o,p);let w=null,k=0,C=0;t===Gl?h>0&&(w=Gl,k=h,C=u.length):t===of?y>0&&(w=of,k=y,C=p.length):(k=Math.max(h,y),w=k>0?h>y?Gl:of:null,C=w?w===Gl?u.length:p.length:0);const I=w===Gl&&/\b(transform|all)(,|$)/.test(r(`${Gl}Property`).toString());return{type:w,timeout:k,propCount:C,hasTransform:I}}function MS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>LS(n)+LS(e[r])))}function LS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function HT(){return document.body.offsetHeight}function HO(e,t,n){const r=e[Ed];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Tg=Symbol("_vod"),GT=Symbol("_vsh"),gl={beforeMount(e,{value:t},{transition:n}){e[Tg]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):lf(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),lf(e,!0),r.enter(e)):r.leave(e,()=>{lf(e,!1)}):lf(e,t))},beforeUnmount(e,{value:t}){lf(e,t)}};function lf(e,t){e.style.display=t?e[Tg]:"none",e[GT]=!t}const GO=Symbol(""),WO=/(^|;)\s*display\s*:/;function YO(e,t,n){const r=e.style,s=ai(n);let u=!1;if(n&&!s){if(t)if(ai(t))for(const h of t.split(";")){const o=h.slice(0,h.indexOf(":")).trim();n[o]==null&&og(r,o,"")}else for(const h in t)n[h]==null&&og(r,h,"");for(const h in n)h==="display"&&(u=!0),og(r,h,n[h])}else if(s){if(t!==n){const h=r[GO];h&&(n+=";"+h),r.cssText=n,u=WO.test(n)}}else t&&e.removeAttribute("style");Tg in e&&(e[Tg]=u?r.display:"",e[GT]&&(r.display="none"))}const RS=/\s*!important$/;function og(e,t,n){if(gn(n))n.forEach(r=>og(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=ZO(e,t);RS.test(n)?e.setProperty(Od(r),n.replace(RS,""),"important"):e[r]=n}}const OS=["Webkit","Moz","ms"],f_={};function ZO(e,t){const n=f_[t];if(n)return n;let r=Ss(t);if(r!=="filter"&&r in e)return f_[t]=r;r=Po(r);for(let s=0;s<OS.length;s++){const u=OS[s]+r;if(u in e)return f_[t]=u}return t}const FS="http://www.w3.org/1999/xlink";function zS(e,t,n,r,s,u=tR(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(FS,t.slice(6,t.length)):e.setAttributeNS(FS,t,n):n==null||u&&!N2(n)?e.removeAttribute(t):e.setAttribute(t,u?"":hc(n)?String(n):n)}function KO(e,t,n,r,s,u,h){if(t==="innerHTML"||t==="textContent"){r&&h(r,s,u),e[t]=n??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const y=o==="OPTION"?e.getAttribute("value")||"":e.value,w=n==null?"":String(n);(y!==w||!("_value"in e))&&(e.value=w),n==null&&e.removeAttribute(t),e._value=n;return}let p=!1;if(n===""||n==null){const y=typeof e[t];y==="boolean"?n=N2(n):n==null&&y==="string"?(n="",p=!0):y==="number"&&(n=0,p=!0)}try{e[t]=n}catch{}p&&e.removeAttribute(t)}function hd(e,t,n,r){e.addEventListener(t,n,r)}function XO(e,t,n,r){e.removeEventListener(t,n,r)}const BS=Symbol("_vei");function JO(e,t,n,r,s=null){const u=e[BS]||(e[BS]={}),h=u[t];if(r&&h)h.value=r;else{const[o,p]=QO(t);if(r){const y=u[t]=nF(r,s);hd(e,o,y,p)}else h&&(XO(e,o,h,p),u[t]=void 0)}}const VS=/(?:Once|Passive|Capture)$/;function QO(e){let t;if(VS.test(e)){t={};let r;for(;r=e.match(VS);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Od(e.slice(2)),t]}let m_=0;const eF=Promise.resolve(),tF=()=>m_||(eF.then(()=>m_=0),m_=Date.now());function nF(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;xs(rF(r,n.value),t,5,[r])};return n.value=e,n.attached=tF(),n}function rF(e,t){if(gn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const NS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,iF=(e,t,n,r,s,u,h,o,p)=>{const y=s==="svg";t==="class"?HO(e,r,y):t==="style"?YO(e,n,r):Qg(t)?f0(t)||JO(e,t,n,r,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):aF(e,t,r,y))?(KO(e,t,r,u,h,o,p),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&zS(e,t,r,y,h,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),zS(e,t,r,y))};function aF(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&NS(t)&&kn(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return NS(t)&&ai(n)?!1:t in e}const WT=new WeakMap,YT=new WeakMap,Ag=Symbol("_moveCb"),$S=Symbol("_enterCb"),ZT={name:"TransitionGroup",props:_i({},UO,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ts(),r=MT();let s,u;return P0(()=>{if(!s.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!uF(s[0].el,n.vnode.el,h))return;s.forEach(oF),s.forEach(lF);const o=s.filter(cF);HT(),o.forEach(p=>{const y=p.el,w=y.style;rl(y,h),w.transform=w.webkitTransform=w.transitionDuration="";const k=y[Ag]=C=>{C&&C.target!==y||(!C||/transform$/.test(C.propertyName))&&(y.removeEventListener("transitionend",k),y[Ag]=null,Zl(y,h))};y.addEventListener("transitionend",k)})}),()=>{const h=wn(e),o=qT(h);let p=h.tag||Ht;if(s=[],u)for(let y=0;y<u.length;y++){const w=u[y];w.el&&w.el instanceof Element&&(s.push(w),Td(w,Df(w,o,r,n)),WT.set(w,w.el.getBoundingClientRect()))}u=t.default?O0(t.default()):[];for(let y=0;y<u.length;y++){const w=u[y];w.key!=null&&Td(w,Df(w,o,r,n))}return T(p,null,u)}}},sF=e=>delete e.mode;ZT.props;const B0=ZT;function oF(e){const t=e.el;t[Ag]&&t[Ag](),t[$S]&&t[$S]()}function lF(e){YT.set(e,e.el.getBoundingClientRect())}function cF(e){const t=WT.get(e),n=YT.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${r}px,${s}px)`,u.transitionDuration="0s",e}}function uF(e,t,n){const r=e.cloneNode(),s=e[Ed];s&&s.forEach(o=>{o.split(/\s+/).forEach(p=>p&&r.classList.remove(p))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const u=t.nodeType===1?t:t.parentNode;u.appendChild(r);const{hasTransform:h}=jT(r);return u.removeChild(r),h}const US=e=>{const t=e.props["onUpdate:modelValue"]||!1;return gn(t)?n=>ng(t,n):t};function dF(e){e.target.composing=!0}function qS(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const p_=Symbol("_assign"),hF={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[p_]=US(s);const u=r||s.props&&s.props.type==="number";hd(e,t?"change":"input",h=>{if(h.target.composing)return;let o=e.value;n&&(o=o.trim()),u&&(o=eb(o)),e[p_](o)}),n&&hd(e,"change",()=>{e.value=e.value.trim()}),t||(hd(e,"compositionstart",dF),hd(e,"compositionend",qS),hd(e,"change",qS))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:u}},h){if(e[p_]=US(h),e.composing)return;const o=(u||e.type==="number")&&!/^0\d/.test(e.value)?eb(e.value):e.value,p=t??"";o!==p&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===p)||(e.value=p))}},fF=["ctrl","shift","alt","meta"],mF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fF.some(n=>e[`${n}Key`]&&!t.includes(n))},pb=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...u)=>{for(let h=0;h<t.length;h++){const o=mF[t[h]];if(o&&o(s,t))return}return e(s,...u)})},pF=_i({patchProp:iF},$O);let jS;function gF(){return jS||(jS=fO(pF))}const vF=(...e)=>{const t=gF().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=_F(r);if(!s)return;const u=t._component;!kn(u)&&!u.render&&!u.template&&(u.template=s.innerHTML),s.innerHTML="";const h=n(s,!1,yF(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),h},t};function yF(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function _F(e){return ai(e)?document.querySelector(e):e}function Ja(e,t){let n;function r(){n=nv(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}ct(e,s=>{s&&!n?r():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),ha(()=>{n==null||n.stop()})}const dr=typeof window<"u",V0=dr&&"IntersectionObserver"in window,bF=dr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function HS(e,t,n){xF(e,t),t.set(e,n)}function xF(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function wF(e,t,n){return e.set(KT(e,t),n),n}function Uc(e,t){return e.get(KT(e,t))}function KT(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function XT(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let s=0;s<r;s++){if(e==null)return n;e=e[t[s]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function vl(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>vl(e[r],t[r]))}function Lf(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),XT(e,t.split("."),n))}function zi(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const s=t(e,n);return typeof s>"u"?n:s}if(typeof t=="string")return Lf(e,t,n);if(Array.isArray(t))return XT(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function Ys(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function Gt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Eg(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function N0(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const GS=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),WS=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function JT(e){return Object.keys(e)}function g_(e,t){return t.every(n=>e.hasOwnProperty(n))}function $0(e,t){const n={},r=new Set(Object.keys(e));for(const s of t)r.has(s)&&(n[s]=e[s]);return n}function gb(e,t,n){const r=Object.create(null),s=Object.create(null);for(const u in e)t.some(h=>h instanceof RegExp?h.test(u):h===u)&&!(n!=null&&n.some(h=>h===u))?r[u]=e[u]:s[u]=e[u];return[r,s]}function wr(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function QT(e,t){const n={};return t.forEach(r=>n[r]=e[r]),n}const eA=/^on[^a-z]/,cv=e=>eA.test(e),SF=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function om(e){const[t,n]=gb(e,[eA]),r=wr(t,SF),[s,u]=gb(n,["class","style","id",/^data-/]);return Object.assign(s,t),Object.assign(u,r),[s,u]}function Wr(e){return e==null?[]:Array.isArray(e)?e:[e]}function kF(e,t){let n=0;const r=function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];clearTimeout(n),n=setTimeout(()=>e(...u),Vr(t))};return r.clear=()=>{clearTimeout(n)},r.immediate=e,r}function ca(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function YS(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function ZS(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function KS(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function CF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function TF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}function XS(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<n.length-1;)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function la(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in e)r[s]=e[s];for(const s in t){const u=e[s],h=t[s];if(Eg(u)&&Eg(h)){r[s]=la(u,h,n);continue}if(Array.isArray(u)&&Array.isArray(h)&&n){r[s]=n(u,h);continue}r[s]=h}return r}function tA(e){return e.map(t=>t.type===Ht?tA(t.children):t).flat()}function nu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(nu.cache.has(e))return nu.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return nu.cache.set(e,t),t}nu.cache=new Map;function gd(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>gd(e,n)).flat(1);if(t.suspense)return gd(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>gd(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return gd(e,t.component.subTree).flat(1)}return[]}var jp=new WeakMap,id=new WeakMap;class AF{constructor(t){HS(this,jp,[]),HS(this,id,0),this.size=t}push(t){Uc(jp,this)[Uc(id,this)]=t,wF(id,this,(Uc(id,this)+1)%this.size)}values(){return Uc(jp,this).slice(Uc(id,this)).concat(Uc(jp,this).slice(0,Uc(id,this)))}}function U0(e){const t=Ei({}),n=Y(e);return oi(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),rm(t)}function Ig(e,t){return e.includes(t)}function nA(e){return e[2].toLowerCase()+e.slice(3)}const Bi=()=>[Function,Array];function JS(e,t){return t="on"+Po(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function q0(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const s of e)s(...n);else typeof e=="function"&&e(...n)}function Rf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function rA(e,t,n){let r,s=e.indexOf(document.activeElement);const u=t==="next"?1:-1;do s+=u,r=e[s];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&s<e.length&&s>=0);return r}function Pg(e,t){var r,s,u,h;const n=Rf(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(t==="first")(s=n[0])==null||s.focus();else if(t==="last")(u=n.at(-1))==null||u.focus();else if(typeof t=="number")(h=n[t])==null||h.focus();else{const o=rA(n,t);o?o.focus():Pg(e,t==="next"?"first":"last")}}function Hp(e){return e==null||typeof e=="string"&&e.trim()===""}function EF(){}function Id(e,t){if(!(dr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function j0(e){return e.some(t=>Mf(t)?t.type===oa?!1:t.type!==Ht||j0(t.children):!0)?e:null}function IF(e,t){if(!dr||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function QS(e,t){const n=Rt();return oi(()=>{n.value=e()},{flush:"sync",...t}),Fd(n)}function PF(e,t){const n=e.clientX,r=e.clientY,s=t.getBoundingClientRect(),u=s.left,h=s.top,o=s.right,p=s.bottom;return n>=u&&n<=o&&r>=h&&r<=p}function Dg(){const e=Rt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>N0(e.value)}),t}const iA=["top","bottom"],DF=["start","end","left","right"];function vb(e,t){let[n,r]=e.split(" ");return r||(r=Ig(iA,n)?"start":Ig(DF,n)?"top":"center"),{side:yb(n,t),align:yb(r,t)}}function yb(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function v_(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function y_(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function ek(e){return{side:e.align,align:e.side}}function tk(e){return Ig(iA,e.side)?"y":"x"}class ru{constructor(t){let{x:n,y:r,width:s,height:u}=t;this.x=n,this.y=r,this.width=s,this.height=u}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function nk(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function aA(e){return Array.isArray(e)?new ru({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function H0(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let s,u,h,o,p;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),u=+s[0],h=+s[5],o=+s[12],p=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),u=+s[0],h=+s[3],o=+s[4],p=+s[5];else return new ru(t);const y=n.transformOrigin,w=t.x-o-(1-u)*parseFloat(y),k=t.y-p-(1-h)*parseFloat(y.slice(y.indexOf(" ")+1)),C=u?t.width/u:e.offsetWidth+1,I=h?t.height/h:e.offsetHeight+1;return new ru({x:w,y:k,width:C,height:I})}else return new ru(t)}function Zc(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}const lg=new WeakMap;function MF(e,t){Object.keys(t).forEach(n=>{if(cv(n)){const r=nA(n),s=lg.get(e);if(t[n]==null)s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))});else if(!s||![...s].some(u=>u[0]===r&&u[1]===t[n])){e.addEventListener(r,t[n]);const u=s||new Set;u.add([r,t[n]]),lg.has(e)||lg.set(e,u)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function LF(e,t){Object.keys(t).forEach(n=>{if(cv(n)){const r=nA(n),s=lg.get(e);s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))})}else e.removeAttribute(n)})}const ad=2.4,rk=.2126729,ik=.7151522,ak=.072175,RF=.55,OF=.58,FF=.57,zF=.62,Gp=.03,sk=1.45,BF=5e-4,VF=1.25,NF=1.25,ok=.078,lk=12.82051282051282,Wp=.06,ck=.001;function uk(e,t){const n=(e.r/255)**ad,r=(e.g/255)**ad,s=(e.b/255)**ad,u=(t.r/255)**ad,h=(t.g/255)**ad,o=(t.b/255)**ad;let p=n*rk+r*ik+s*ak,y=u*rk+h*ik+o*ak;if(p<=Gp&&(p+=(Gp-p)**sk),y<=Gp&&(y+=(Gp-y)**sk),Math.abs(y-p)<BF)return 0;let w;if(y>p){const k=(y**RF-p**OF)*VF;w=k<ck?0:k<ok?k-k*lk*Wp:k-Wp}else{const k=(y**zF-p**FF)*NF;w=k>-ck?0:k>-ok?k-k*lk*Wp:k+Wp}return w*100}function $F(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Mg=.20689655172413793,UF=e=>e>Mg**3?Math.cbrt(e):e/(3*Mg**2)+4/29,qF=e=>e>Mg?e**3:3*Mg**2*(e-4/29);function sA(e){const t=UF,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function oA(e){const t=qF,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const jF=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],HF=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,GF=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],WF=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function lA(e){const t=Array(3),n=HF,r=jF;for(let s=0;s<3;++s)t[s]=Math.round(ca(n(r[s][0]*e[0]+r[s][1]*e[1]+r[s][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function G0(e){let{r:t,g:n,b:r}=e;const s=[0,0,0],u=WF,h=GF;t=u(t/255),n=u(n/255),r=u(r/255);for(let o=0;o<3;++o)s[o]=h[o][0]*t+h[o][1]*n+h[o][2]*r;return s}function _b(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function YF(e){return _b(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const dk=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,ZF={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>hk({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>hk({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>Of({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>Of({h:e,s:t,v:n,a:r})};function So(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&dk.test(e)){const{groups:t}=e.match(dk),{fn:n,values:r}=t,s=r.split(/,\s*/).map(u=>u.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(u)/100:parseFloat(u));return ZF[n](...s)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),XF(t)}else if(typeof e=="object"){if(g_(e,["r","g","b"]))return e;if(g_(e,["h","s","l"]))return Of(cA(e));if(g_(e,["h","s","v"]))return Of(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Of(e){const{h:t,s:n,v:r,a:s}=e,u=o=>{const p=(o+t/60)%6;return r-r*n*Math.max(Math.min(p,4-p,1),0)},h=[u(5),u(3),u(1)].map(o=>Math.round(o*255));return{r:h[0],g:h[1],b:h[2],a:s}}function hk(e){return Of(cA(e))}function cA(e){const{h:t,s:n,l:r,a:s}=e,u=r+n*Math.min(r,1-r),h=u===0?0:2-2*r/u;return{h:t,s:h,v:u,a:s}}function Yp(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function KF(e){let{r:t,g:n,b:r,a:s}=e;return`#${[Yp(t),Yp(n),Yp(r),s!==void 0?Yp(Math.round(s*255)):""].join("")}`}function XF(e){e=JF(e);let[t,n,r,s]=CF(e,2).map(u=>parseInt(u,16));return s=s===void 0?s:s/255,{r:t,g:n,b:r,a:s}}function JF(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=ZS(ZS(e,6),8,"F")),e}function QF(e,t){const n=sA(G0(e));return n[0]=n[0]+t*10,lA(oA(n))}function ez(e,t){const n=sA(G0(e));return n[0]=n[0]-t*10,lA(oA(n))}function tz(e){const t=So(e);return G0(t)[1]}function uA(e){const t=Math.abs(uk(So(0),So(e)));return Math.abs(uk(So(16777215),So(e)))>Math.min(t,50)?"#fff":"#000"}function We(e,t){return n=>Object.keys(e).reduce((r,s)=>{const h=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return n&&s in n?r[s]={...h,default:n[s]}:r[s]=h,t&&!r[s].source&&(r[s].source=t),r},{})}const cn=We({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Jr(e,t){const n=Ts();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Do(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Jr(e).type;return nu((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let dA=0,cg=new WeakMap;function As(){const e=Jr("getUid");if(cg.has(e))return cg.get(e);{const t=dA++;return cg.set(e,t),t}}As.reset=()=>{dA=0,cg=new WeakMap};function nz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Pd=Symbol.for("vuetify:defaults");function rz(e){return ht(e)}function W0(){const e=yt(Pd);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function da(e,t){const n=W0(),r=ht(e),s=Y(()=>{if(Vr(t==null?void 0:t.disabled))return n.value;const h=Vr(t==null?void 0:t.scoped),o=Vr(t==null?void 0:t.reset),p=Vr(t==null?void 0:t.root);if(r.value==null&&!(h||o||p))return n.value;let y=la(r.value,{prev:n.value});if(h)return y;if(o||p){const w=Number(o||1/0);for(let k=0;k<=w&&!(!y||!("prev"in y));k++)y=y.prev;return y&&typeof p=="string"&&p in y&&(y=la(la(y,{prev:y}),y[p])),y}return y.prev?la(y.prev,y):y});return xn(Pd,s),s}function iz(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[nu(t)])<"u"}function az(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W0();const r=Jr("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const s=Y(()=>{var p;return(p=n.value)==null?void 0:p[e._as??t]}),u=new Proxy(e,{get(p,y){var k,C,I,R,M,F,N;const w=Reflect.get(p,y);return y==="class"||y==="style"?[(k=s.value)==null?void 0:k[y],w].filter(q=>q!=null):typeof y=="string"&&!iz(r.vnode,y)?((C=s.value)==null?void 0:C[y])!==void 0?(I=s.value)==null?void 0:I[y]:((M=(R=n.value)==null?void 0:R.global)==null?void 0:M[y])!==void 0?(N=(F=n.value)==null?void 0:F.global)==null?void 0:N[y]:w:w}}),h=Rt();oi(()=>{if(s.value){const p=Object.entries(s.value).filter(y=>{let[w]=y;return w.startsWith(w[0].toUpperCase())});h.value=p.length?Object.fromEntries(p):void 0}else h.value=void 0});function o(){const p=nz(Pd,r);xn(Pd,Y(()=>h.value?la((p==null?void 0:p.value)??{},h.value):p==null?void 0:p.value))}return{props:u,provideSubDefaults:o}}function zd(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=We(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return $0(r,t)},e.props._as=String,e.setup=function(r,s){const u=W0();if(!u.value)return e._setup(r,s);const{props:h,provideSubDefaults:o}=az(r,r._as??e.name,u),p=e._setup(h,s);return o(),p}}return e}function ft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?zd:lr)(t)}function sz(e,t){return t.props=e,t}function Bd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ft()({name:n??Po(Ss(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...cn()},setup(r,s){let{slots:u}=s;return()=>{var h;return Xr(r.tag,{class:[e,r.class],style:r.style},(h=u.default)==null?void 0:h.call(u))}}})}function hA(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Ff="cubic-bezier(0.4, 0, 0.2, 1)",oz="cubic-bezier(0.0, 0, 0.2, 1)",lz="cubic-bezier(0.4, 0, 1, 1)";function fk(e,t,n){return Object.keys(e).filter(r=>cv(r)&&r.endsWith(t)).reduce((r,s)=>(r[s.slice(0,-t.length)]=u=>e[s](u,n(u)),r),{})}function fA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?cz(e):Y0(e))return e;e=e.parentElement}return document.scrollingElement}function zf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Y0(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Y0(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function cz(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function uz(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function St(e){const t=Jr("useRender");t.render=e}function hn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k=>k,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:k=>k;const u=Jr("useProxiedModel"),h=ht(e[t]!==void 0?e[t]:n),o=nu(t),y=Y(o!==t?()=>{var k,C,I,R;return e[t],!!(((k=u.vnode.props)!=null&&k.hasOwnProperty(t)||(C=u.vnode.props)!=null&&C.hasOwnProperty(o))&&((I=u.vnode.props)!=null&&I.hasOwnProperty(`onUpdate:${t}`)||(R=u.vnode.props)!=null&&R.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var k,C;return e[t],!!((k=u.vnode.props)!=null&&k.hasOwnProperty(t)&&((C=u.vnode.props)!=null&&C.hasOwnProperty(`onUpdate:${t}`)))});Ja(()=>!y.value,()=>{ct(()=>e[t],k=>{h.value=k})});const w=Y({get(){const k=e[t];return r(y.value?k:h.value)},set(k){const C=s(k),I=wn(y.value?e[t]:h.value);I===C||r(I)===k||(h.value=C,u==null||u.emit(`update:${t}`,C))}});return Object.defineProperty(w,"externalValue",{get:()=>y.value?e[t]:h.value}),w}const dz={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},mk="$vuetify.",pk=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),mA=(e,t,n)=>function(r){for(var s=arguments.length,u=new Array(s>1?s-1:0),h=1;h<s;h++)u[h-1]=arguments[h];if(!r.startsWith(mk))return pk(r,u);const o=r.replace(mk,""),p=e.value&&n.value[e.value],y=t.value&&n.value[t.value];let w=Lf(p,o,null);return w||(`${r}${e.value}`,w=Lf(y,o,null)),w||(w=r),typeof w!="string"&&(w=r),pk(w,u)};function pA(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function __(e,t,n){const r=hn(e,t,e[t]??n.value);return r.value=e[t]??n.value,ct(n,s=>{e[t]==null&&(r.value=n.value)}),r}function gA(e){return t=>{const n=__(t,"locale",e.current),r=__(t,"fallback",e.fallback),s=__(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:s,t:mA(n,r,s),n:pA(n,r),provide:gA({current:n,fallback:r,messages:s})}}}function hz(e){const t=Rt((e==null?void 0:e.locale)??"en"),n=Rt((e==null?void 0:e.fallback)??"en"),r=ht({en:dz,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:mA(t,n,r),n:pA(t,n),provide:gA({current:t,fallback:n,messages:r})}}const Lg=Symbol.for("vuetify:locale");function fz(e){return e.name!=null}function mz(e){const t=e!=null&&e.adapter&&fz(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:hz(e),n=gz(t,e);return{...t,...n}}function li(){const e=yt(Lg);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function pz(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function gz(e,t){const n=ht((t==null?void 0:t.rtl)??pz()),r=Y(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:Y(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function es(){const e=yt(Lg);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const uv={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function vz(e,t,n){const r=[];let s=[];const u=vA(e),h=yA(e),o=n??uv[t.slice(-2).toUpperCase()]??0,p=(u.getDay()-o+7)%7,y=(h.getDay()-o+7)%7;for(let w=0;w<p;w++){const k=new Date(u);k.setDate(k.getDate()-(p-w)),s.push(k)}for(let w=1;w<=h.getDate();w++){const k=new Date(e.getFullYear(),e.getMonth(),w);s.push(k),s.length===7&&(r.push(s),s=[])}for(let w=1;w<7-y;w++){const k=new Date(h);k.setDate(k.getDate()+w),s.push(k)}return s.length>0&&r.push(s),r}function yz(e,t,n){const r=n??uv[t.slice(-2).toUpperCase()]??0,s=new Date(e);for(;s.getDay()!==r;)s.setDate(s.getDate()-1);return s}function _z(e,t){const n=new Date(e),r=((uv[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function vA(e){return new Date(e.getFullYear(),e.getMonth(),1)}function yA(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function bz(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const xz=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function _A(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(xz.test(e))return bz(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const gk=new Date(2e3,0,2);function wz(e,t){const n=t??uv[e.slice(-2).toUpperCase()]??0;return Ys(7).map(r=>{const s=new Date(gk);return s.setDate(gk.getDate()+n+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(s)})}function Sz(e,t,n,r){const s=_A(e)??new Date,u=r==null?void 0:r[t];if(typeof u=="function")return u(s,t,n);let h={};switch(t){case"fullDate":h={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":h={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),p=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${p}`;case"normalDateWithWeekday":h={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":h={month:"short",day:"numeric"};break;case"year":h={year:"numeric"};break;case"month":h={month:"long"};break;case"monthShort":h={month:"short"};break;case"monthAndYear":h={month:"long",year:"numeric"};break;case"monthAndDate":h={month:"long",day:"numeric"};break;case"weekday":h={weekday:"long"};break;case"weekdayShort":h={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":h={hour:"numeric",hour12:!0};break;case"hours24h":h={hour:"numeric",hour12:!1};break;case"minutes":h={minute:"numeric"};break;case"seconds":h={second:"numeric"};break;case"fullTime":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":h={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:h=u??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,h).format(s)}function kz(e,t){const n=e.toJsDate(t),r=n.getFullYear(),s=KS(String(n.getMonth()+1),2,"0"),u=KS(String(n.getDate()),2,"0");return`${r}-${s}-${u}`}function Cz(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function Tz(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function Az(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function Ez(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Iz(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function Pz(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function Dz(e){return e.getFullYear()}function Mz(e){return e.getMonth()}function Lz(e){return e.getDate()}function Rz(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Oz(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function Fz(e){return e.getHours()}function zz(e){return e.getMinutes()}function Bz(e){return new Date(e.getFullYear(),0,1)}function Vz(e){return new Date(e.getFullYear(),11,31)}function Nz(e,t){return Rg(e,t[0])&&qz(e,t[1])}function $z(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Rg(e,t){return e.getTime()>t.getTime()}function Uz(e,t){return Rg(bb(e),bb(t))}function qz(e,t){return e.getTime()<t.getTime()}function vk(e,t){return e.getTime()===t.getTime()}function jz(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Hz(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Gz(e,t){return e.getFullYear()===t.getFullYear()}function Wz(e,t,n){const r=new Date(e),s=new Date(t);switch(n){case"years":return r.getFullYear()-s.getFullYear();case"quarters":return Math.floor((r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12)/4);case"months":return r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-s.getTime())/1e3);default:return r.getTime()-s.getTime()}}function Yz(e,t){const n=new Date(e);return n.setHours(t),n}function Zz(e,t){const n=new Date(e);return n.setMinutes(t),n}function Kz(e,t){const n=new Date(e);return n.setMonth(t),n}function Xz(e,t){const n=new Date(e);return n.setDate(t),n}function Jz(e,t){const n=new Date(e);return n.setFullYear(t),n}function bb(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function Qz(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class eB{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return _A(t)}toJsDate(t){return t}toISO(t){return kz(this,t)}parseISO(t){return Cz(t)}addMinutes(t,n){return Tz(t,n)}addHours(t,n){return Az(t,n)}addDays(t,n){return Ez(t,n)}addWeeks(t,n){return Iz(t,n)}addMonths(t,n){return Pz(t,n)}getWeekArray(t,n){return vz(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return yz(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return _z(t,this.locale)}startOfMonth(t){return vA(t)}endOfMonth(t){return yA(t)}format(t,n){return Sz(t,n,this.locale,this.formats)}isEqual(t,n){return vk(t,n)}isValid(t){return $z(t)}isWithinRange(t,n){return Nz(t,n)}isAfter(t,n){return Rg(t,n)}isAfterDay(t,n){return Uz(t,n)}isBefore(t,n){return!Rg(t,n)&&!vk(t,n)}isSameDay(t,n){return jz(t,n)}isSameMonth(t,n){return Hz(t,n)}isSameYear(t,n){return Gz(t,n)}setMinutes(t,n){return Zz(t,n)}setHours(t,n){return Yz(t,n)}setMonth(t,n){return Kz(t,n)}setDate(t,n){return Xz(t,n)}setYear(t,n){return Jz(t,n)}getDiff(t,n,r){return Wz(t,n,r)}getWeekdays(t){return wz(this.locale,t?Number(t):void 0)}getYear(t){return Dz(t)}getMonth(t){return Mz(t)}getDate(t){return Lz(t)}getNextMonth(t){return Rz(t)}getPreviousMonth(t){return Oz(t)}getHours(t){return Fz(t)}getMinutes(t){return zz(t)}startOfDay(t){return bb(t)}endOfDay(t){return Qz(t)}startOfYear(t){return Bz(t)}endOfYear(t){return Vz(t)}}const bA=Symbol.for("vuetify:date-options"),yk=Symbol.for("vuetify:date-adapter");function tB(e,t){const n=la({adapter:eB,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:xA(n,t)}}function xA(e,t){const n=Ei(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ct(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}function Mo(){const e=yt(bA);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=li();return xA(e,t)}function nB(e,t){const n=e.toJsDate(t);let r=n.getFullYear(),s=new Date(r,0,1);if(n<s)r=r-1,s=new Date(r,0,1);else{const o=new Date(r+1,0,1);n>=o&&(r=r+1,s=o)}const u=Math.abs(n.getTime()-s.getTime()),h=Math.ceil(u/(1e3*60*60*24));return Math.floor(h/7)+1}const dv=["sm","md","lg","xl","xxl"],xb=Symbol.for("vuetify:display"),_k={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},rB=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_k;return la(_k,e)};function bk(e){return dr&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function xk(e){return dr&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function wk(e){const t=dr&&!e?window.navigator.userAgent:"ssr";function n(R){return!!t.match(R)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),u=n(/cordova/i),h=n(/electron/i),o=n(/chrome/i),p=n(/edge/i),y=n(/firefox/i),w=n(/opera/i),k=n(/win/i),C=n(/mac/i),I=n(/linux/i);return{android:r,ios:s,cordova:u,electron:h,chrome:o,edge:p,firefox:y,opera:w,win:k,mac:C,linux:I,touch:bF,ssr:t==="ssr"}}function iB(e,t){const{thresholds:n,mobileBreakpoint:r}=rB(e),s=Rt(xk(t)),u=Rt(wk(t)),h=Ei({}),o=Rt(bk(t));function p(){s.value=xk(),o.value=bk()}function y(){p(),u.value=wk()}return oi(()=>{const w=o.value<n.sm,k=o.value<n.md&&!w,C=o.value<n.lg&&!(k||w),I=o.value<n.xl&&!(C||k||w),R=o.value<n.xxl&&!(I||C||k||w),M=o.value>=n.xxl,F=w?"xs":k?"sm":C?"md":I?"lg":R?"xl":"xxl",N=typeof r=="number"?r:n[r],q=o.value<N;h.xs=w,h.sm=k,h.md=C,h.lg=I,h.xl=R,h.xxl=M,h.smAndUp=!w,h.mdAndUp=!(w||k),h.lgAndUp=!(w||k||C),h.xlAndUp=!(w||k||C||I),h.smAndDown=!(C||I||R||M),h.mdAndDown=!(I||R||M),h.lgAndDown=!(R||M),h.xlAndDown=!M,h.name=F,h.height=s.value,h.width=o.value,h.mobile=q,h.mobileBreakpoint=r,h.platform=u.value,h.thresholds=n}),dr&&window.addEventListener("resize",p,{passive:!0}),{...rm(h),update:y,ssr:!!t}}const Vd=We({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function yl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();const n=yt(xb);if(!n)throw new Error("Could not find Vuetify display injection");const r=Y(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const u=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<u}),s=Y(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:s,mobile:r}}const wA=Symbol.for("vuetify:goto");function SA(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function aB(e){return Z0(e)??(document.scrollingElement||document.body)}function Z0(e){return typeof e=="string"?document.querySelector(e):N0(e)}function b_(e,t,n){if(typeof e=="number")return t&&n?-e:e;let r=Z0(e),s=0;for(;r;)s+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return s}function sB(e,t){return{rtl:t.isRtl,options:la(SA(),e)}}async function Sk(e,t,n,r){const s=n?"scrollLeft":"scrollTop",u=la((r==null?void 0:r.options)??SA(),t),h=r==null?void 0:r.rtl.value,o=(typeof e=="number"?e:Z0(e))??0,p=u.container==="parent"&&o instanceof HTMLElement?o.parentElement:aB(u.container),y=typeof u.easing=="function"?u.easing:u.patterns[u.easing];if(!y)throw new TypeError(`Easing function "${u.easing}" not found.`);let w;if(typeof o=="number")w=b_(o,n,h);else if(w=b_(o,n,h)-b_(p,n,h),u.layout){const R=window.getComputedStyle(o).getPropertyValue("--v-layout-top");R&&(w-=parseInt(R,10))}w+=u.offset,w=lB(p,w,!!h,!!n);const k=p[s]??0;if(w===k)return Promise.resolve(w);const C=performance.now();return new Promise(I=>requestAnimationFrame(function R(M){const N=(M-C)/u.duration,q=Math.floor(k+(w-k)*y(ca(N,0,1)));if(p[s]=q,N>=1&&Math.abs(q-p[s])<10)return I(w);if(N>2)return I(p[s]);requestAnimationFrame(R)}))}function oB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=yt(wA),{isRtl:n}=es();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:Y(()=>t.rtl.value||n.value)};async function s(u,h){return Sk(u,la(e,h),!1,r)}return s.horizontal=async(u,h)=>Sk(u,la(e,h),!0,r),s}function lB(e,t,n,r){const{scrollWidth:s,scrollHeight:u}=e,[h,o]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let p,y;return r?n?(p=-(s-h),y=0):(p=0,y=s-h):(p=0,y=u+-o),Math.max(Math.min(t,y),p)}const kA={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},CA={component:e=>Xr(AA,{...e,class:"mdi"})},yn=[String,Function,Object,Array],wb=Symbol.for("vuetify:icons"),hv=We({icon:{type:yn},tag:{type:String,required:!0}},"icon"),kk=ft()({name:"VComponentIcon",props:hv(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return T(e.tag,null,{default:()=>{var s;return[e.icon?T(r,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),TA=zd({name:"VSvgIcon",inheritAttrs:!1,props:hv(),setup(e,t){let{attrs:n}=t;return()=>T(e.tag,ot(n,{style:null}),{default:()=>[T("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?T("path",{d:r[0],"fill-opacity":r[1]},null):T("path",{d:r},null)):T("path",{d:e.icon},null)])]})}});zd({name:"VLigatureIcon",props:hv(),setup(e){return()=>T(e.tag,null,{default:()=>[e.icon]})}});const AA=zd({name:"VClassIcon",props:hv(),setup(e){return()=>T(e.tag,{class:e.icon},null)}});function cB(){return{svg:{component:TA},class:{component:AA}}}function uB(e){const t=cB(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=CA),la({defaultSet:n,sets:t,aliases:{...kA,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const dB=e=>{const t=yt(wb);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Y(()=>{var p;const r=Vr(e);if(!r)return{component:kk};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(p=t.aliases)==null?void 0:p[s.slice(1)])),Array.isArray(s))return{component:TA,icon:s};if(typeof s!="string")return{component:kk,icon:s};const u=Object.keys(t.sets).find(y=>typeof s=="string"&&s.startsWith(`${y}:`)),h=u?s.slice(u.length+1):s;return{component:t.sets[u??t.defaultSet].component,icon:h}})}},Bf=Symbol.for("vuetify:theme"),vr=We({theme:String},"theme");function Ck(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function hB(){var r,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ck();const t=Ck();if(!e)return{...t,isDisabled:!0};const n={};for(const[u,h]of Object.entries(e.themes??{})){const o=h.dark||u==="dark"?(r=t.themes)==null?void 0:r.dark:(s=t.themes)==null?void 0:s.light;n[u]=la(o,h)}return la(t,{...e,themes:n})}function fB(e){const t=hB(e),n=ht(t.defaultTheme),r=ht(t.themes),s=Y(()=>{const w={};for(const[k,C]of Object.entries(r.value)){const I=w[k]={...C,colors:{...C.colors}};if(t.variations)for(const R of t.variations.colors){const M=I.colors[R];if(M)for(const F of["lighten","darken"]){const N=F==="lighten"?QF:ez;for(const q of Ys(t.variations[F],1))I.colors[`${R}-${F}-${q}`]=KF(N(So(M),q))}}for(const R of Object.keys(I.colors)){if(/^on-[a-z]/.test(R)||I.colors[`on-${R}`])continue;const M=`on-${R}`,F=So(I.colors[R]);I.colors[M]=uA(F)}}return w}),u=Y(()=>s.value[n.value]),h=Y(()=>{var R;const w=[];(R=u.value)!=null&&R.dark&&qc(w,":root",["color-scheme: dark"]),qc(w,":root",Tk(u.value));for(const[M,F]of Object.entries(s.value))qc(w,`.v-theme--${M}`,[`color-scheme: ${F.dark?"dark":"normal"}`,...Tk(F)]);const k=[],C=[],I=new Set(Object.values(s.value).flatMap(M=>Object.keys(M.colors)));for(const M of I)/^on-[a-z]/.test(M)?qc(C,`.${M}`,[`color: rgb(var(--v-theme-${M})) !important`]):(qc(k,`.bg-${M}`,[`--v-theme-overlay-multiplier: var(--v-theme-${M}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${M})) !important`,`color: rgb(var(--v-theme-on-${M})) !important`]),qc(C,`.text-${M}`,[`color: rgb(var(--v-theme-${M})) !important`]),qc(C,`.border-${M}`,[`--v-border-color: var(--v-theme-${M})`]));return w.push(...k,...C),w.map((M,F)=>F===0?M:`    ${M}`).join("")});function o(){return{style:[{children:h.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function p(w){if(t.isDisabled)return;const k=w._context.provides.usehead;if(k)if(k.push){const I=k.push(o);dr&&ct(h,()=>{I.patch(o)})}else dr?(k.addHeadObjs(Y(o)),oi(()=>k.updateDOM())):k.addHeadObjs(o());else{let R=function(){if(typeof document<"u"&&!I){const M=document.createElement("style");M.type="text/css",M.id="vuetify-theme-stylesheet",t.cspNonce&&M.setAttribute("nonce",t.cspNonce),I=M,document.head.appendChild(I)}I&&(I.innerHTML=h.value)};var C=R;let I=dr?document.getElementById("vuetify-theme-stylesheet"):null;dr?ct(h,R,{immediate:!0}):R()}}const y=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:p,isDisabled:t.isDisabled,name:n,themes:r,current:u,computedThemes:s,themeClasses:y,styles:h,global:{name:n,current:u}}}function Rr(e){Jr("provideTheme");const t=yt(Bf,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Y(()=>e.theme??t.name.value),r=Y(()=>t.themes.value[n.value]),s=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`),u={...t,name:n,current:r,themeClasses:s};return xn(Bf,u),u}function mB(){Jr("useTheme");const e=yt(Bf,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function qc(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function Tk(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[s,u]of Object.entries(e.colors)){const h=So(u);r.push(`--v-theme-${s}: ${h.r},${h.g},${h.b}`),s.startsWith("on-")||r.push(`--v-theme-${s}-overlay-multiplier: ${tz(u)>.18?t:n}`)}for(const[s,u]of Object.entries(e.variables)){const h=typeof u=="string"&&u.startsWith("#")?So(u):void 0,o=h?`${h.r}, ${h.g}, ${h.b}`:void 0;r.push(`--v-${s}: ${o??u}`)}return r}function cc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Dg(),r=ht();if(dr){const s=new ResizeObserver(u=>{e==null||e(u,s),u.length&&(t==="content"?r.value=u[0].contentRect:r.value=u[0].target.getBoundingClientRect())});Sr(()=>{s.disconnect()}),ct(()=>n.el,(u,h)=>{h&&(s.unobserve(h),r.value=void 0),u&&s.observe(u)},{flush:"post"})}return{resizeRef:n,contentRect:Fd(r)}}const Vf=Symbol.for("vuetify:layout"),EA=Symbol.for("vuetify:layout-item"),Ak=1e3,pB=We({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),K0=We({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function IA(){const e=yt(Vf);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:Hn(),getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function X0(e){const t=yt(Vf);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${As()}`,r=Jr("useLayoutItem");xn(EA,{id:n});const s=Rt(!1);PT(()=>s.value=!0),IT(()=>s.value=!1);const u=Hn(),{layoutItemStyles:h,layoutItemScrimStyles:o}=t.register(r,{...e,active:Y(()=>s.value?!1:e.active.value),id:n});return Sr(()=>t.unregister(n)),{layoutItemStyles:h,layoutRect:t.layoutRect,layoutItemScrimStyles:o,layoutIsReady:u}}const gB=(e,t,n,r)=>{let s={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...s}}];for(const h of e){const o=t.get(h),p=n.get(h),y=r.get(h);if(!o||!p||!y)continue;const w={...s,[o.value]:parseInt(s[o.value],10)+(y.value?parseInt(p.value,10):0)};u.push({id:h,layer:w}),s=w}return u};function vB(e){const t=yt(Vf,null),n=Y(()=>t?t.rootZIndex.value-100:Ak),r=ht([]),s=Ei(new Map),u=Ei(new Map),h=Ei(new Map),o=Ei(new Map),p=Ei(new Map),{resizeRef:y,contentRect:w}=cc(),k=QS(()=>{const ie=[...new Set([...h.values()].map(te=>te.value))].sort((te,G)=>te-G),J=[];for(const te of ie){const G=r.value.filter($=>{var K;return((K=h.get($))==null?void 0:K.value)===te});J.push(...G)}return gB(J,s,u,o)}),C=Y(()=>!Array.from(p.values()).some(ie=>ie.value)),I=Y(()=>k.value[k.value.length-1].layer),R=Y(()=>({"--v-layout-left":Gt(I.value.left),"--v-layout-right":Gt(I.value.right),"--v-layout-top":Gt(I.value.top),"--v-layout-bottom":Gt(I.value.bottom),...C.value?void 0:{transition:"none"}})),M=QS(()=>k.value.slice(1).map((ie,J)=>{let{id:te}=ie;const{layer:G}=k.value[J],$=u.get(te),K=s.get(te);return{id:te,...G,size:Number($.value),position:K.value}})),F=ie=>M.value.find(J=>J.id===ie),N=Jr("createLayout"),q=Hn();xn(Vf,{register:(ie,J)=>{let{id:te,order:G,position:$,layoutSize:K,elementSize:le,active:ee,disableTransitions:_e,absolute:fe}=J;h.set(te,G),s.set(te,$),u.set(te,K),o.set(te,ee),_e&&p.set(te,_e);const Te=gd(EA,N==null?void 0:N.vnode).indexOf(ie);Te>-1?r.value.splice(Te,0,te):r.value.push(te);const qe=Y(()=>M.value.findIndex(Je=>Je.id===te)),ke=Y(()=>n.value+k.value.length*2-qe.value*2),Pe=Y(()=>{const Je=$.value==="left"||$.value==="right",$e=$.value==="right",at=$.value==="bottom",Lt=le.value??K.value,dt=Lt===0?"%":"px",kt={[$.value]:0,zIndex:ke.value,transform:`translate${Je?"X":"Y"}(${(ee.value?0:-(Lt===0?100:Lt))*($e||at?-1:1)}${dt})`,position:fe.value||n.value!==Ak?"absolute":"fixed",...C.value?void 0:{transition:"none"}};if(qe.value<0)throw new Error(`Layout item "${te}" is missing`);const Ne=M.value[qe.value];if(!Ne)throw new Error(`[Vuetify] Could not find layout item "${te}"`);return{...kt,height:Je?`calc(100% - ${Ne.top}px - ${Ne.bottom}px)`:le.value?`${le.value}px`:void 0,left:$e?void 0:`${Ne.left}px`,right:$e?`${Ne.right}px`:void 0,top:$.value!=="bottom"?`${Ne.top}px`:void 0,bottom:$.value!=="top"?`${Ne.bottom}px`:void 0,width:Je?le.value?`${le.value}px`:void 0:`calc(100% - ${Ne.left}px - ${Ne.right}px)`}}),Fe=Y(()=>({zIndex:ke.value-1}));return{layoutItemStyles:Pe,layoutItemScrimStyles:Fe,zIndex:ke}},unregister:ie=>{h.delete(ie),s.delete(ie),u.delete(ie),o.delete(ie),p.delete(ie),r.value=r.value.filter(J=>J!==ie)},mainRect:I,mainStyles:R,getLayoutItem:F,items:M,layoutRect:w,rootZIndex:n,layoutIsReady:q});const Z=Y(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),se=Y(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:Z,layoutStyles:se,getLayoutItem:F,items:M,layoutRect:w,layoutIsReady:q,layoutRef:y}}function PA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=la(t,n),{aliases:s={},components:u={},directives:h={}}=r,o=rz(r.defaults),p=iB(r.display,r.ssr),y=fB(r.theme),w=uB(r.icons),k=mz(r.locale),C=tB(r.date,k),I=sB(r.goTo,k);return{install:M=>{for(const F in h)M.directive(F,h[F]);for(const F in u)M.component(F,u[F]);for(const F in s)M.component(F,zd({...s[F],name:F,aliasName:s[F].name}));if(y.install(M),M.provide(Pd,o),M.provide(xb,p),M.provide(Bf,y),M.provide(wb,w),M.provide(Lg,k),M.provide(bA,C.options),M.provide(yk,C.instance),M.provide(wA,I),dr&&r.ssr)if(M.$nuxt)M.$nuxt.hook("app:suspense:resolve",()=>{p.update()});else{const{mount:F}=M;M.mount=function(){const N=F(...arguments);return Hn(()=>p.update()),M.mount=F,N}}As.reset(),M.mixin({computed:{$vuetify(){return Ei({defaults:sd.call(this,Pd),display:sd.call(this,xb),theme:sd.call(this,Bf),icons:sd.call(this,wb),locale:sd.call(this,Lg),date:sd.call(this,yk)})}}})},defaults:o,display:p,theme:y,icons:w,locale:k,date:C,goTo:I}}const yB="3.6.12";PA.version=yB;function sd(e){var r,s;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((s=t.vnode.appContext)==null?void 0:s.provides);if(n&&e in n)return n[e]}var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _B(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var DA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Yc,function(){var n,r,s;function u(o,p){if(!n)n=p;else if(!r)r=p;else{var y="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",w={};n(w),s=p(w),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"})))}}u(["exports"],function(o){function p(l,i,c,f){return new(c||(c=Promise))(function(g,b){function S(O){try{D(f.next(O))}catch(B){b(B)}}function A(O){try{D(f.throw(O))}catch(B){b(B)}}function D(O){var B;O.done?g(O.value):(B=O.value,B instanceof c?B:new c(function(j){j(B)})).then(S,A)}D((f=f.apply(l,i||[])).next())})}function y(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}typeof SuppressedError=="function"&&SuppressedError;var w=k;function k(l,i){this.x=l,this.y=i}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,i){return this.clone()._rotateAround(l,i)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var i=l.x-this.x,c=l.y-this.y;return i*i+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,i){return Math.atan2(this.x*i-this.y*l,this.x*l+this.y*i)},_matMult:function(l){var i=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=i,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var i=Math.cos(l),c=Math.sin(l),f=c*this.x+i*this.y;return this.x=i*this.x-c*this.y,this.y=f,this},_rotateAround:function(l,i){var c=Math.cos(l),f=Math.sin(l),g=i.y+f*(this.x-i.x)+c*(this.y-i.y);return this.x=i.x+c*(this.x-i.x)-f*(this.y-i.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},k.convert=function(l){return l instanceof k?l:Array.isArray(l)?new k(l[0],l[1]):l};var C=y(w),I=R;function R(l,i,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=i,this.p2x=c,this.p2y=f}R.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,i){if(i===void 0&&(i=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var g=this.sampleCurveX(c)-l;if(Math.abs(g)<i)return c;var b=this.sampleCurveDerivativeX(c);if(Math.abs(b)<1e-6)break;c-=g/b}var S=0,A=1;for(c=l,f=0;f<20&&(g=this.sampleCurveX(c),!(Math.abs(g-l)<i));f++)l>g?S=c:A=c,c=.5*(A-S)+S;return c},solve:function(l,i){return this.sampleCurveY(this.solveCurveX(l,i))}};var M=y(I);let F,N;function q(){return F==null&&(F=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),F}function Z(){if(N==null&&(N=!1,q())){const i=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(i){for(let f=0;f<5*5;f++){const g=4*f;i.fillStyle=`rgb(${g},${g+1},${g+2})`,i.fillRect(f%5,Math.floor(f/5),1,1)}const c=i.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&c[f]!==f){N=!0;break}}}return N||!1}function se(l,i,c,f){const g=new M(l,i,c,f);return function(b){return g.solve(b)}}const ie=se(.25,.1,.25,1);function J(l,i,c){return Math.min(c,Math.max(i,l))}function te(l,i,c){const f=c-i,g=((l-i)%f+f)%f+i;return g===i?c:g}function G(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}let $=1;function K(l,i,c){const f={};for(const g in l)f[g]=i.call(c||this,l[g],g,l);return f}function le(l,i,c){const f={};for(const g in l)i.call(c||this,l[g],g,l)&&(f[g]=l[g]);return f}function ee(l){return Array.isArray(l)?l.map(ee):typeof l=="object"&&l?K(l,ee):l}const _e={};function fe(l){_e[l]||(typeof console<"u"&&console.warn(l),_e[l]=!0)}function Ie(l,i,c){return(c.y-l.y)*(i.x-l.x)>(i.y-l.y)*(c.x-l.x)}function Te(l){let i=0;for(let c,f,g=0,b=l.length,S=b-1;g<b;S=g++)c=l[g],f=l[S],i+=(f.x-c.x)*(c.y+f.y);return i}function qe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let ke=null;function Pe(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const Fe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Je(l,i,c,f,g){return p(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const b=new VideoFrame(l,{timestamp:0});try{const S=b==null?void 0:b.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);const A=S.startsWith("BGR"),D=new Uint8ClampedArray(f*g*4);if(yield b.copyTo(D,function(O,B,j,W,ne){const re=4*Math.max(-B,0),ue=(Math.max(0,j)-j)*W*4+re,ye=4*W,we=Math.max(0,B),Oe=Math.max(0,j);return{rect:{x:we,y:Oe,width:Math.min(O.width,B+W)-we,height:Math.min(O.height,j+ne)-Oe},layout:[{offset:ue,stride:ye}]}}(l,i,c,f,g)),A)for(let O=0;O<D.length;O+=4){const B=D[O];D[O]=D[O+2],D[O+2]=B}return D}finally{b.close()}})}let $e,at,Lt,dt;const kt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(l){const i=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(i)}},getImageData(l,i=0){return this.getImageCanvasContext(l).getImageData(-i,-i,l.width+2*i,l.height+2*i)},getImageCanvasContext(l){const i=window.document.createElement("canvas"),c=i.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return i.width=l.width,i.height=l.height,c.drawImage(l,0,0,l.width,l.height),c},resolveURL:l=>(Lt||(Lt=document.createElement("a")),Lt.href=l,Lt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(dt==null&&(dt=matchMedia("(prefers-reduced-motion: reduce)")),dt.matches)}},Ne={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class it extends Error{constructor(i,c,f,g){super(`AJAXError: ${c} (${i}): ${f}`),this.status=i,this.statusText=c,this.url=f,this.body=g}}const He=qe()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,Ue=l=>Ne.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))];function Ct(l,i){const c=new AbortController,f=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,cache:l.cache,referrer:He(),signal:c.signal});let g=!1,b=!1;return l.type==="json"&&f.headers.set("Accept","application/json"),b||fetch(f).then(S=>S.ok?(A=>{(l.type==="arrayBuffer"||l.type==="image"?A.arrayBuffer():l.type==="json"?A.json():A.text()).then(D=>{b||(g=!0,i(null,D,A.headers.get("Cache-Control"),A.headers.get("Expires")))}).catch(D=>{b||i(new Error(D.message))})})(S):S.blob().then(A=>i(new it(S.status,S.statusText,l.url,A)))).catch(S=>{S.code!==20&&i(new Error(S.message))}),{cancel:()=>{b=!0,g||c.abort()}}}const $t=function(l,i){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i);if(!qe())return(Ue(l.url)||Ct)(l,i)}if(!(/^file:/.test(c=l.url)||/^file:/.test(He())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Ct(l,i);if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i,void 0,!0)}var c;return function(f,g){const b=new XMLHttpRequest;b.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(b.responseType="arraybuffer");for(const S in f.headers)b.setRequestHeader(S,f.headers[S]);return f.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=f.credentials==="include",b.onerror=()=>{g(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let S=b.response;if(f.type==="json")try{S=JSON.parse(b.response)}catch(A){return g(A)}g(null,S,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else{const S=new Blob([b.response],{type:b.getResponseHeader("Content-Type")});g(new it(b.status,b.statusText,f.url,S))}},b.send(f.body),{cancel:()=>b.abort()}}(l,i)},ae=function(l,i){return $t(G(l,{type:"arrayBuffer"}),i)};function me(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;const i=new URL(l),c=window.location;return i.protocol===c.protocol&&i.host===c.host}function Ve(l,i,c){c[l]&&c[l].indexOf(i)!==-1||(c[l]=c[l]||[],c[l].push(i))}function Ye(l,i,c){if(c&&c[l]){const f=c[l].indexOf(i);f!==-1&&c[l].splice(f,1)}}class Ke{constructor(i,c={}){G(this,c),this.type=i}}class pt extends Ke{constructor(i,c={}){super("error",G({error:i},c))}}class bt{on(i,c){return this._listeners=this._listeners||{},Ve(i,c,this._listeners),this}off(i,c){return Ye(i,c,this._listeners),Ye(i,c,this._oneTimeListeners),this}once(i,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Ve(i,c,this._oneTimeListeners),this):new Promise(f=>this.once(i,f))}fire(i,c){typeof i=="string"&&(i=new Ke(i,c||{}));const f=i.type;if(this.listens(f)){i.target=this;const g=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const A of g)A.call(this,i);const b=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const A of b)Ye(f,A,this._oneTimeListeners),A.call(this,i);const S=this._eventedParent;S&&(G(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(i))}else i instanceof pt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,c){return this._eventedParent=i,this._eventedParentData=c,this}}var Ce={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const gt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Qe(l,i){const c={};for(const f in l)f!=="ref"&&(c[f]=l[f]);return gt.forEach(f=>{f in i&&(c[f]=i[f])}),c}function lt(l,i){if(Array.isArray(l)){if(!Array.isArray(i)||l.length!==i.length)return!1;for(let c=0;c<l.length;c++)if(!lt(l[c],i[c]))return!1;return!0}if(typeof l=="object"&&l!==null&&i!==null){if(typeof i!="object"||Object.keys(l).length!==Object.keys(i).length)return!1;for(const c in l)if(!lt(l[c],i[c]))return!1;return!0}return l===i}const Et={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function It(l,i,c){c.push({command:Et.addSource,args:[l,i[l]]})}function an(l,i,c){i.push({command:Et.removeSource,args:[l]}),c[l]=!0}function sn(l,i,c,f){an(l,c,f),It(l,i,c)}function On(l,i,c){let f;for(f in l[c])if(Object.prototype.hasOwnProperty.call(l[c],f)&&f!=="data"&&!lt(l[c][f],i[c][f]))return!1;for(f in i[c])if(Object.prototype.hasOwnProperty.call(i[c],f)&&f!=="data"&&!lt(l[c][f],i[c][f]))return!1;return!0}function _n(l,i,c,f,g,b){let S;for(S in i=i||{},l=l||{})Object.prototype.hasOwnProperty.call(l,S)&&(lt(l[S],i[S])||c.push({command:b,args:[f,S,i[S],g]}));for(S in i)Object.prototype.hasOwnProperty.call(i,S)&&!Object.prototype.hasOwnProperty.call(l,S)&&(lt(l[S],i[S])||c.push({command:b,args:[f,S,i[S],g]}))}function $n(l){return l.id}function ur(l,i){return l[i.id]=i,l}class vt{constructor(i,c,f,g){this.message=(i?`${i}: `:"")+f,g&&(this.identifier=g),c!=null&&c.__line__&&(this.line=c.__line__)}}function xi(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}class Tn extends Error{constructor(i,c){super(c),this.message=c,this.key=i}}class ma{constructor(i,c=[]){this.parent=i,this.bindings={};for(const[f,g]of c)this.bindings[f]=g}concat(i){return new ma(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const hr={kind:"null"},Tt={kind:"number"},vn={kind:"string"},mn={kind:"boolean"},Ni={kind:"color"},ss={kind:"object"},bn={kind:"value"},Ds={kind:"collator"},pe={kind:"formatted"},H={kind:"padding"},X={kind:"resolvedImage"},oe={kind:"variableAnchorOffsetCollection"};function ve(l,i){return{kind:"array",itemType:l,N:i}}function be(l){if(l.kind==="array"){const i=be(l.itemType);return typeof l.N=="number"?`array<${i}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${i}>`}return l.kind}const ze=[hr,Tt,vn,mn,Ni,pe,ss,ve(bn),H,X,oe];function Ee(l,i){if(i.kind==="error")return null;if(l.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Ee(l.itemType,i.itemType))&&(typeof l.N!="number"||l.N===i.N))return null}else{if(l.kind===i.kind)return null;if(l.kind==="value"){for(const c of ze)if(!Ee(c,i))return null}}return`Expected ${be(l)} but found ${be(i)} instead.`}function Se(l,i){return i.some(c=>c.kind===l.kind)}function Re(l,i){return i.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}function et(l,i){return l.kind==="array"&&i.kind==="array"?l.itemType.kind===i.itemType.kind&&typeof l.N=="number":l.kind===i.kind}const nt=.96422,ut=.82521,tn=4/29,dn=6/29,Wt=3*dn*dn,rn=dn*dn*dn,pn=Math.PI/180,Kn=180/Math.PI;function sr(l){return(l%=360)<0&&(l+=360),l}function Un([l,i,c,f]){let g,b;const S=Di((.2225045*(l=Vn(l))+.7168786*(i=Vn(i))+.0606169*(c=Vn(c)))/1);l===i&&i===c?g=b=S:(g=Di((.4360747*l+.3850649*i+.1430804*c)/nt),b=Di((.0139322*l+.0971045*i+.7141733*c)/ut));const A=116*S-16;return[A<0?0:A,500*(g-S),200*(S-b),f]}function Vn(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Di(l){return l>rn?Math.pow(l,1/3):l/Wt+tn}function fr([l,i,c,f]){let g=(l+16)/116,b=isNaN(i)?g:g+i/500,S=isNaN(c)?g:g-c/200;return g=1*Si(g),b=nt*Si(b),S=ut*Si(S),[ei(3.1338561*b-1.6168667*g-.4906146*S),ei(-.9787684*b+1.9161415*g+.033454*S),ei(.0719453*b-.2289914*g+1.4052427*S),f]}function ei(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function Si(l){return l>dn?l*l*l:Wt*(l-tn)}function Ta(l){return parseInt(l.padEnd(2,l),16)/255}function Im(l,i){return Cl(i?l/100:l,0,1)}function Cl(l,i,c){return Math.min(Math.max(i,l),c)}function Tl(l){return!l.some(Number.isNaN)}const Jv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class er{constructor(i,c,f,g=1,b=!0){this.r=i,this.g=c,this.b=f,this.a=g,b||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[i,c,f,g]))}static parse(i){if(i instanceof er)return i;if(typeof i!="string")return;const c=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const g=Jv[f];if(g){const[S,A,D]=g;return[S/255,A/255,D/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const S=f.length<6?1:2;let A=1;return[Ta(f.slice(A,A+=S)),Ta(f.slice(A,A+=S)),Ta(f.slice(A,A+=S)),Ta(f.slice(A,A+S)||"ff")]}if(f.startsWith("rgb")){const S=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[A,D,O,B,j,W,ne,re,ue,ye,we,Oe]=S,Ae=[B||" ",ne||" ",ye].join("");if(Ae==="  "||Ae==="  /"||Ae===",,"||Ae===",,,"){const Be=[O,W,ue].join(""),Ge=Be==="%%%"?100:Be===""?255:0;if(Ge){const st=[Cl(+D/Ge,0,1),Cl(+j/Ge,0,1),Cl(+re/Ge,0,1),we?Im(+we,Oe):1];if(Tl(st))return st}}return}}const b=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[S,A,D,O,B,j,W,ne,re]=b,ue=[D||" ",B||" ",W].join("");if(ue==="  "||ue==="  /"||ue===",,"||ue===",,,"){const ye=[+A,Cl(+O,0,100),Cl(+j,0,100),ne?Im(+ne,re):1];if(Tl(ye))return function([we,Oe,Ae,Be]){function Ge(st){const Nt=(st+we/30)%12,Zt=Oe*Math.min(Ae,1-Ae);return Ae-Zt*Math.max(-1,Math.min(Nt-3,9-Nt,1))}return we=sr(we),Oe/=100,Ae/=100,[Ge(0),Ge(8),Ge(4),Be]}(ye)}}}(i);return c?new er(...c,!1):void 0}get rgb(){const{r:i,g:c,b:f,a:g}=this,b=g||1/0;return this.overwriteGetter("rgb",[i/b,c/b,f/b,g])}get hcl(){return this.overwriteGetter("hcl",function(i){const[c,f,g,b]=Un(i),S=Math.sqrt(f*f+g*g);return[Math.round(1e4*S)?sr(Math.atan2(g,f)*Kn):NaN,S,c,b]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Un(this.rgb))}overwriteGetter(i,c){return Object.defineProperty(this,i,{value:c}),c}toString(){const[i,c,f,g]=this.rgb;return`rgba(${[i,c,f].map(b=>Math.round(255*b)).join(",")},${g})`}}er.black=new er(0,0,0,1),er.white=new er(1,1,1,1),er.transparent=new er(0,0,0,0),er.red=new er(1,0,0,1);class eh{constructor(i,c,f){this.sensitivity=i?c?"variant":"case":c?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,c){return this.collator.compare(i,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class _u{constructor(i,c,f,g,b){this.text=i,this.image=c,this.scale=f,this.fontStack=g,this.textColor=b}}class Mi{constructor(i){this.sections=i}static fromString(i){return new Mi([new _u(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Mi?i:Mi.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class pa{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof pa)return i;if(typeof i=="number")return new pa([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const c of i)if(typeof c!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new pa(i)}}toString(){return JSON.stringify(this.values)}}const Qv=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Aa{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof Aa)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let c=0;c<i.length;c+=2){const f=i[c],g=i[c+1];if(typeof f!="string"||!Qv.has(f)||!Array.isArray(g)||g.length!==2||typeof g[0]!="number"||typeof g[1]!="number")return}return new Aa(i)}}toString(){return JSON.stringify(this.values)}}class ki{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new ki({name:i,available:!1}):null}}function bu(l,i,c,f){return typeof l=="number"&&l>=0&&l<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof c=="number"&&c>=0&&c<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,i,c,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,i,c,f]:[l,i,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Al(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof er||l instanceof eh||l instanceof Mi||l instanceof pa||l instanceof Aa||l instanceof ki)return!0;if(Array.isArray(l)){for(const i of l)if(!Al(i))return!1;return!0}if(typeof l=="object"){for(const i in l)if(!Al(l[i]))return!1;return!0}return!1}function Ar(l){if(l===null)return hr;if(typeof l=="string")return vn;if(typeof l=="boolean")return mn;if(typeof l=="number")return Tt;if(l instanceof er)return Ni;if(l instanceof eh)return Ds;if(l instanceof Mi)return pe;if(l instanceof pa)return H;if(l instanceof Aa)return oe;if(l instanceof ki)return X;if(Array.isArray(l)){const i=l.length;let c;for(const f of l){const g=Ar(f);if(c){if(c===g)continue;c=bn;break}c=g}return ve(c||bn,i)}return ss}function Gn(l){const i=typeof l;return l===null?"":i==="string"||i==="number"||i==="boolean"?String(l):l instanceof er||l instanceof Mi||l instanceof pa||l instanceof Aa||l instanceof ki?l.toString():JSON.stringify(l)}class Vo{constructor(i,c){this.type=i,this.value=c}static parse(i,c){if(i.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Al(i[1]))return c.error("invalid value");const f=i[1];let g=Ar(f);const b=c.expectedType;return g.kind!=="array"||g.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(g=b),new Vo(g,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Or{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const xu={string:vn,number:Tt,boolean:mn,object:ss};class Ea{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");let f,g=1;const b=i[0];if(b==="array"){let A,D;if(i.length>2){const O=i[1];if(typeof O!="string"||!(O in xu)||O==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);A=xu[O],g++}else A=bn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return c.error('The length argument to "array" must be a positive integer literal',2);D=i[2],g++}f=ve(A,D)}else{if(!xu[b])throw new Error(`Types doesn't contain name = ${b}`);f=xu[b]}const S=[];for(;g<i.length;g++){const A=c.parse(i[g],g,bn);if(!A)return null;S.push(A)}return new Ea(f,S)}evaluate(i){for(let c=0;c<this.args.length;c++){const f=this.args[c].evaluate(i);if(!Ee(this.type,Ar(f)))return f;if(c===this.args.length-1)throw new Or(`Expected value to be of type ${be(this.type)}, but found ${be(Ar(f))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const th={"to-boolean":mn,"to-color":Ni,"to-number":Tt,"to-string":vn};class lo{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[0];if(!th[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&i.length!==2)return c.error("Expected one argument.");const g=th[f],b=[];for(let S=1;S<i.length;S++){const A=c.parse(i[S],S,bn);if(!A)return null;b.push(A)}return new lo(g,b)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let c,f;for(const g of this.args){if(c=g.evaluate(i),f=null,c instanceof er)return c;if(typeof c=="string"){const b=i.parseColor(c);if(b)return b}else if(Array.isArray(c)&&(f=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:bu(c[0],c[1],c[2],c[3]),!f))return new er(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Or(f||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const f of this.args){c=f.evaluate(i);const g=pa.parse(c);if(g)return g}throw new Or(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const f of this.args){c=f.evaluate(i);const g=Aa.parse(c);if(g)return g}throw new Or(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const f of this.args){if(c=f.evaluate(i),c===null)return 0;const g=Number(c);if(!isNaN(g))return g}throw new Or(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Mi.fromString(Gn(this.args[0].evaluate(i)));case"resolvedImage":return ki.fromString(Gn(this.args[0].evaluate(i)));default:return Gn(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const Pm=["Unknown","Point","LineString","Polygon"];class nh{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Pm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let c=this._parseColorCache[i];return c||(c=this._parseColorCache[i]=er.parse(i)),c}}class wu{constructor(i,c,f=[],g,b=new ma,S=[]){this.registry=i,this.path=f,this.key=f.map(A=>`[${A}]`).join(""),this.scope=b,this.errors=S,this.expectedType=g,this._isConstant=c}parse(i,c,f,g,b={}){return c?this.concat(c,f,g)._parse(i,b):this._parse(i,b)}_parse(i,c){function f(g,b,S){return S==="assert"?new Ea(b,[g]):S==="coerce"?new lo(b,[g]):g}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=i[0];if(typeof g!="string")return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[g];if(b){let S=b.parse(i,this);if(!S)return null;if(this.expectedType){const A=this.expectedType,D=S.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||D.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||D.kind!=="value"&&D.kind!=="string")if(A.kind!=="padding"||D.kind!=="value"&&D.kind!=="number"&&D.kind!=="array")if(A.kind!=="variableAnchorOffsetCollection"||D.kind!=="value"&&D.kind!=="array"){if(this.checkSubtype(A,D))return null}else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"assert")}if(!(S instanceof Vo)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){const A=new nh;try{S=new Vo(S.type,S.evaluate(A))}catch(D){return this.error(D.message),null}}return S}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,c,f){const g=typeof i=="number"?this.path.concat(i):this.path,b=f?this.scope.concat(f):this.scope;return new wu(this.registry,this._isConstant,g,c||null,b,this.errors)}error(i,...c){const f=`${this.key}${c.map(g=>`[${g}]`).join("")}`;this.errors.push(new Tn(f,i))}checkSubtype(i,c){const f=Ee(i,c);return f&&this.error(f),f}}class Su{constructor(i,c,f){this.type=Ds,this.locale=f,this.caseSensitive=i,this.diacriticSensitive=c}static parse(i,c){if(i.length!==2)return c.error("Expected one argument.");const f=i[1];if(typeof f!="object"||Array.isArray(f))return c.error("Collator options argument must be an object.");const g=c.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,mn);if(!g)return null;const b=c.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,mn);if(!b)return null;let S=null;return f.locale&&(S=c.parse(f.locale,1,vn),!S)?null:new Su(g,b,S)}evaluate(i){return new eh(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}const co=8192;function rh(l,i){l[0]=Math.min(l[0],i[0]),l[1]=Math.min(l[1],i[1]),l[2]=Math.max(l[2],i[0]),l[3]=Math.max(l[3],i[1])}function yc(l,i){return!(l[0]<=i[0]||l[2]>=i[2]||l[1]<=i[1]||l[3]>=i[3])}function Dm(l,i){const c=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,g=Math.pow(2,i.z);return[Math.round(c*g*co),Math.round(f*g*co)]}function ey(l,i,c){const f=l[0]-i[0],g=l[1]-i[1],b=l[0]-c[0],S=l[1]-c[1];return f*S-b*g==0&&f*b<=0&&g*S<=0}function ih(l,i){let c=!1;for(let S=0,A=i.length;S<A;S++){const D=i[S];for(let O=0,B=D.length;O<B-1;O++){if(ey(l,D[O],D[O+1]))return!1;(g=D[O])[1]>(f=l)[1]!=(b=D[O+1])[1]>f[1]&&f[0]<(b[0]-g[0])*(f[1]-g[1])/(b[1]-g[1])+g[0]&&(c=!c)}}var f,g,b;return c}function ah(l,i){for(let c=0;c<i.length;c++)if(ih(l,i[c]))return!0;return!1}function Mm(l,i,c,f){const g=f[0]-c[0],b=f[1]-c[1],S=(l[0]-c[0])*b-g*(l[1]-c[1]),A=(i[0]-c[0])*b-g*(i[1]-c[1]);return S>0&&A<0||S<0&&A>0}function ty(l,i,c){for(const O of c)for(let B=0;B<O.length-1;++B)if((A=[(S=O[B+1])[0]-(b=O[B])[0],S[1]-b[1]])[0]*(D=[(g=i)[0]-(f=l)[0],g[1]-f[1]])[1]-A[1]*D[0]!=0&&Mm(f,g,b,S)&&Mm(b,S,f,g))return!0;var f,g,b,S,A,D;return!1}function Lm(l,i){for(let c=0;c<l.length;++c)if(!ih(l[c],i))return!1;for(let c=0;c<l.length-1;++c)if(ty(l[c],l[c+1],i))return!1;return!0}function Rm(l,i){for(let c=0;c<i.length;c++)if(Lm(l,i[c]))return!0;return!1}function ku(l,i,c){const f=[];for(let g=0;g<l.length;g++){const b=[];for(let S=0;S<l[g].length;S++){const A=Dm(l[g][S],c);rh(i,A),b.push(A)}f.push(b)}return f}function Om(l,i,c){const f=[];for(let g=0;g<l.length;g++){const b=ku(l[g],i,c);f.push(b)}return f}function Fm(l,i,c,f){if(l[0]<c[0]||l[0]>c[2]){const g=.5*f;let b=l[0]-c[0]>g?-f:c[0]-l[0]>g?f:0;b===0&&(b=l[0]-c[2]>g?-f:c[2]-l[0]>g?f:0),l[0]+=b}rh(i,l)}function sh(l,i,c,f){const g=Math.pow(2,f.z)*co,b=[f.x*co,f.y*co],S=[];for(const A of l)for(const D of A){const O=[D.x+b[0],D.y+b[1]];Fm(O,i,c,g),S.push(O)}return S}function oh(l,i,c,f){const g=Math.pow(2,f.z)*co,b=[f.x*co,f.y*co],S=[];for(const D of l){const O=[];for(const B of D){const j=[B.x+b[0],B.y+b[1]];rh(i,j),O.push(j)}S.push(O)}if(i[2]-i[0]<=g/2){(A=i)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const D of S)for(const O of D)Fm(O,i,c,g)}var A;return S}class No{constructor(i,c){this.type=mn,this.geojson=i,this.geometries=c}static parse(i,c){if(i.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Al(i[1])){const f=i[1];if(f.type==="FeatureCollection")for(let g=0;g<f.features.length;++g){const b=f.features[g].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new No(f,f.features[g].geometry)}else if(f.type==="Feature"){const g=f.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new No(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new No(f,f)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(c,f){const g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=ku(f.coordinates,b,S),D=sh(c.geometry(),g,b,S);if(!yc(g,b))return!1;for(const O of D)if(!ih(O,A))return!1}if(f.type==="MultiPolygon"){const A=Om(f.coordinates,b,S),D=sh(c.geometry(),g,b,S);if(!yc(g,b))return!1;for(const O of D)if(!ah(O,A))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(c,f){const g=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=ku(f.coordinates,b,S),D=oh(c.geometry(),g,b,S);if(!yc(g,b))return!1;for(const O of D)if(!Lm(O,A))return!1}if(f.type==="MultiPolygon"){const A=Om(f.coordinates,b,S),D=oh(c.geometry(),g,b,S);if(!yc(g,b))return!1;for(const O of D)if(!Rm(O,A))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Cu{constructor(i,c){this.type=c.type,this.name=i,this.boundExpression=c}static parse(i,c){if(i.length!==2||typeof i[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const f=i[1];return c.scope.has(f)?new Cu(f,c.scope.get(f)):c.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class Ia{constructor(i,c,f,g){this.name=i,this.type=c,this._evaluate=f,this.args=g}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,c){const f=i[0],g=Ia.definitions[f];if(!g)return c.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(g)?g[0]:g.type,S=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,A=S.filter(([O])=>!Array.isArray(O)||O.length===i.length-1);let D=null;for(const[O,B]of A){D=new wu(c.registry,Tu,c.path,null,c.scope);const j=[];let W=!1;for(let ne=1;ne<i.length;ne++){const re=i[ne],ue=Array.isArray(O)?O[ne-1]:O.type,ye=D.parse(re,1+j.length,ue);if(!ye){W=!0;break}j.push(ye)}if(!W)if(Array.isArray(O)&&O.length!==j.length)D.error(`Expected ${O.length} arguments, but found ${j.length} instead.`);else{for(let ne=0;ne<j.length;ne++){const re=Array.isArray(O)?O[ne]:O.type,ue=j[ne];D.concat(ne+1).checkSubtype(re,ue.type)}if(D.errors.length===0)return new Ia(f,b,B,j)}}if(A.length===1)c.errors.push(...D.errors);else{const O=(A.length?A:S).map(([j])=>{return W=j,Array.isArray(W)?`(${W.map(be).join(", ")})`:`(${be(W.type)}...)`;var W}).join(" | "),B=[];for(let j=1;j<i.length;j++){const W=c.parse(i[j],1+B.length);if(!W)return null;B.push(be(W.type))}c.error(`Expected arguments of type ${O}, but found (${B.join(", ")}) instead.`)}return null}static register(i,c){Ia.definitions=c;for(const f in c)i[f]=Ia}}function Tu(l){if(l instanceof Cu)return Tu(l.boundExpression);if(l instanceof Ia&&l.name==="error"||l instanceof Su||l instanceof No)return!1;const i=l instanceof lo||l instanceof Ea;let c=!0;return l.eachChild(f=>{c=i?c&&Tu(f):c&&f instanceof Vo}),!!c&&Au(l)&&Eu(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Au(l){if(l instanceof Ia&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof No)return!1;let i=!0;return l.eachChild(c=>{i&&!Au(c)&&(i=!1)}),i}function _c(l){if(l instanceof Ia&&l.name==="feature-state")return!1;let i=!0;return l.eachChild(c=>{i&&!_c(c)&&(i=!1)}),i}function Eu(l,i){if(l instanceof Ia&&i.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(f=>{c&&!Eu(f,i)&&(c=!1)}),c}function El(l,i){const c=l.length-1;let f,g,b=0,S=c,A=0;for(;b<=S;)if(A=Math.floor((b+S)/2),f=l[A],g=l[A+1],f<=i){if(A===c||i<g)return A;b=A+1}else{if(!(f>i))throw new Or("Input is not a number.");S=A-1}return 0}class uo{constructor(i,c,f){this.type=i,this.input=c,this.labels=[],this.outputs=[];for(const[g,b]of f)this.labels.push(g),this.outputs.push(b)}static parse(i,c){if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");const f=c.parse(i[1],1,Tt);if(!f)return null;const g=[];let b=null;c.expectedType&&c.expectedType.kind!=="value"&&(b=c.expectedType);for(let S=1;S<i.length;S+=2){const A=S===1?-1/0:i[S],D=i[S+1],O=S,B=S+1;if(typeof A!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(g.length&&g[g.length-1][0]>=A)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',O);const j=c.parse(D,B,b);if(!j)return null;b=b||j.type,g.push([A,j])}return new uo(b,f,g)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const g=this.input.evaluate(i);if(g<=c[0])return f[0].evaluate(i);const b=c.length;return g>=c[b-1]?f[b-1].evaluate(i):f[El(c,g)].evaluate(i)}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Fn(l,i,c){return l+c*(i-l)}function Iu(l,i,c){return l.map((f,g)=>Fn(f,i[g],c))}const ga={number:Fn,color:function(l,i,c,f="rgb"){switch(f){case"rgb":{const[g,b,S,A]=Iu(l.rgb,i.rgb,c);return new er(g,b,S,A,!1)}case"hcl":{const[g,b,S,A]=l.hcl,[D,O,B,j]=i.hcl;let W,ne;if(isNaN(g)||isNaN(D))isNaN(g)?isNaN(D)?W=NaN:(W=D,S!==1&&S!==0||(ne=O)):(W=g,B!==1&&B!==0||(ne=b));else{let Oe=D-g;D>g&&Oe>180?Oe-=360:D<g&&g-D>180&&(Oe+=360),W=g+c*Oe}const[re,ue,ye,we]=function([Oe,Ae,Be,Ge]){return Oe=isNaN(Oe)?0:Oe*pn,fr([Be,Math.cos(Oe)*Ae,Math.sin(Oe)*Ae,Ge])}([W,ne??Fn(b,O,c),Fn(S,B,c),Fn(A,j,c)]);return new er(re,ue,ye,we,!1)}case"lab":{const[g,b,S,A]=fr(Iu(l.lab,i.lab,c));return new er(g,b,S,A,!1)}}},array:Iu,padding:function(l,i,c){return new pa(Iu(l.values,i.values,c))},variableAnchorOffsetCollection:function(l,i,c){const f=l.values,g=i.values;if(f.length!==g.length)throw new Or(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${i.toString()}`);const b=[];for(let S=0;S<f.length;S+=2){if(f[S]!==g[S])throw new Or(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${f[S]}, to[${S}]: ${g[S]}`);b.push(f[S]);const[A,D]=f[S+1],[O,B]=g[S+1];b.push([Fn(A,O,c),Fn(D,B,c)])}return new Aa(b)}};class va{constructor(i,c,f,g,b){this.type=i,this.operator=c,this.interpolation=f,this.input=g,this.labels=[],this.outputs=[];for(const[S,A]of b)this.labels.push(S),this.outputs.push(A)}static interpolationFactor(i,c,f,g){let b=0;if(i.name==="exponential")b=lh(c,i.base,f,g);else if(i.name==="linear")b=lh(c,1,f,g);else if(i.name==="cubic-bezier"){const S=i.controlPoints;b=new M(S[0],S[1],S[2],S[3]).solve(lh(c,1,f,g))}return b}static parse(i,c){let[f,g,b,...S]=i;if(!Array.isArray(g)||g.length===0)return c.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const O=g[1];if(typeof O!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:O}}else{if(g[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const O=g.slice(1);if(O.length!==4||O.some(B=>typeof B!="number"||B<0||B>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:O}}}if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(b=c.parse(b,2,Tt),!b)return null;const A=[];let D=null;f==="interpolate-hcl"||f==="interpolate-lab"?D=Ni:c.expectedType&&c.expectedType.kind!=="value"&&(D=c.expectedType);for(let O=0;O<S.length;O+=2){const B=S[O],j=S[O+1],W=O+3,ne=O+4;if(typeof B!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(A.length&&A[A.length-1][0]>=B)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const re=c.parse(j,ne,D);if(!re)return null;D=D||re.type,A.push([B,re])}return et(D,Tt)||et(D,Ni)||et(D,H)||et(D,oe)||et(D,ve(Tt))?new va(D,f,g,b,A):c.error(`Type ${be(D)} is not interpolatable.`)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const g=this.input.evaluate(i);if(g<=c[0])return f[0].evaluate(i);const b=c.length;if(g>=c[b-1])return f[b-1].evaluate(i);const S=El(c,g),A=va.interpolationFactor(this.interpolation,g,c[S],c[S+1]),D=f[S].evaluate(i),O=f[S+1].evaluate(i);switch(this.operator){case"interpolate":return ga[this.type.kind](D,O,A);case"interpolate-hcl":return ga.color(D,O,A,"hcl");case"interpolate-lab":return ga.color(D,O,A,"lab")}}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function lh(l,i,c,f){const g=f-c,b=l-c;return g===0?0:i===1?b/g:(Math.pow(i,b)-1)/(Math.pow(i,g)-1)}class Pu{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expectected at least one argument.");let f=null;const g=c.expectedType;g&&g.kind!=="value"&&(f=g);const b=[];for(const A of i.slice(1)){const D=c.parse(A,1+b.length,f,void 0,{typeAnnotation:"omit"});if(!D)return null;f=f||D.type,b.push(D)}if(!f)throw new Error("No output type");const S=g&&b.some(A=>Ee(g,A.type));return new Pu(S?bn:f,b)}evaluate(i){let c,f=null,g=0;for(const b of this.args)if(g++,f=b.evaluate(i),f&&f instanceof ki&&!f.available&&(c||(c=f.name),f=null,g===this.args.length&&(f=c)),f!==null)break;return f}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}class Du{constructor(i,c){this.type=c.type,this.bindings=[].concat(i),this.result=c}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const c of this.bindings)i(c[1]);i(this.result)}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const f=[];for(let b=1;b<i.length-1;b+=2){const S=i[b];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,b);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",b);const A=c.parse(i[b+1],b+1);if(!A)return null;f.push([S,A])}const g=c.parse(i[i.length-1],i.length-1,c.expectedType,f);return g?new Du(f,g):null}outputDefined(){return this.result.outputDefined()}}class ch{constructor(i,c,f){this.type=i,this.index=c,this.input=f}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,Tt),g=c.parse(i[2],2,ve(c.expectedType||bn));return f&&g?new ch(g.type.itemType,f,g):null}evaluate(i){const c=this.index.evaluate(i),f=this.input.evaluate(i);if(c<0)throw new Or(`Array index out of bounds: ${c} < 0.`);if(c>=f.length)throw new Or(`Array index out of bounds: ${c} > ${f.length-1}.`);if(c!==Math.floor(c))throw new Or(`Array index must be an integer, but found ${c} instead.`);return f[c]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class uh{constructor(i,c){this.type=mn,this.needle=i,this.haystack=c}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,bn),g=c.parse(i[2],2,bn);return f&&g?Se(f.type,[mn,vn,Tt,hr,bn])?new uh(f,g):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(f.type)} instead`):null}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!f)return!1;if(!Re(c,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${be(Ar(c))} instead.`);if(!Re(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${be(Ar(f))} instead.`);return f.indexOf(c)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class Mu{constructor(i,c,f){this.type=Tt,this.needle=i,this.haystack=c,this.fromIndex=f}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,bn),g=c.parse(i[2],2,bn);if(!f||!g)return null;if(!Se(f.type,[mn,vn,Tt,hr,bn]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(f.type)} instead`);if(i.length===4){const b=c.parse(i[3],3,Tt);return b?new Mu(f,g,b):null}return new Mu(f,g)}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!Re(c,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${be(Ar(c))} instead.`);if(!Re(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${be(Ar(f))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(i);return f.indexOf(c,g)}return f.indexOf(c)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class dh{constructor(i,c,f,g,b,S){this.inputType=i,this.type=c,this.input=f,this.cases=g,this.outputs=b,this.otherwise=S}static parse(i,c){if(i.length<5)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return c.error("Expected an even number of arguments.");let f,g;c.expectedType&&c.expectedType.kind!=="value"&&(g=c.expectedType);const b={},S=[];for(let O=2;O<i.length-1;O+=2){let B=i[O];const j=i[O+1];Array.isArray(B)||(B=[B]);const W=c.concat(O);if(B.length===0)return W.error("Expected at least one branch label.");for(const re of B){if(typeof re!="number"&&typeof re!="string")return W.error("Branch labels must be numbers or strings.");if(typeof re=="number"&&Math.abs(re)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof re=="number"&&Math.floor(re)!==re)return W.error("Numeric branch labels must be integer values.");if(f){if(W.checkSubtype(f,Ar(re)))return null}else f=Ar(re);if(b[String(re)]!==void 0)return W.error("Branch labels must be unique.");b[String(re)]=S.length}const ne=c.parse(j,O,g);if(!ne)return null;g=g||ne.type,S.push(ne)}const A=c.parse(i[1],1,bn);if(!A)return null;const D=c.parse(i[i.length-1],i.length-1,g);return D?A.type.kind!=="value"&&c.concat(1).checkSubtype(f,A.type)?null:new dh(f,g,A,b,S,D):null}evaluate(i){const c=this.input.evaluate(i);return(Ar(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class hh{constructor(i,c,f){this.type=i,this.branches=c,this.otherwise=f}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return c.error("Expected an odd number of arguments.");let f;c.expectedType&&c.expectedType.kind!=="value"&&(f=c.expectedType);const g=[];for(let S=1;S<i.length-1;S+=2){const A=c.parse(i[S],S,mn);if(!A)return null;const D=c.parse(i[S+1],S+1,f);if(!D)return null;g.push([A,D]),f=f||D.type}const b=c.parse(i[i.length-1],i.length-1,f);if(!b)return null;if(!f)throw new Error("Can't infer output type");return new hh(f,g,b)}evaluate(i){for(const[c,f]of this.branches)if(c.evaluate(i))return f.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[c,f]of this.branches)i(c),i(f);i(this.otherwise)}outputDefined(){return this.branches.every(([i,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class Lu{constructor(i,c,f,g){this.type=i,this.input=c,this.beginIndex=f,this.endIndex=g}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,bn),g=c.parse(i[2],2,Tt);if(!f||!g)return null;if(!Se(f.type,[ve(bn),vn,bn]))return c.error(`Expected first argument to be of type array or string, but found ${be(f.type)} instead`);if(i.length===4){const b=c.parse(i[3],3,Tt);return b?new Lu(f.type,f,g,b):null}return new Lu(f.type,f,g)}evaluate(i){const c=this.input.evaluate(i),f=this.beginIndex.evaluate(i);if(!Re(c,["string","array"]))throw new Or(`Expected first argument to be of type array or string, but found ${be(Ar(c))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(i);return c.slice(f,g)}return c.slice(f)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function zm(l,i){return l==="=="||l==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Bm(l,i,c,f){return f.compare(i,c)===0}function Il(l,i,c){const f=l!=="=="&&l!=="!=";return class MA{constructor(b,S,A){this.type=mn,this.lhs=b,this.rhs=S,this.collator=A,this.hasUntypedArgument=b.type.kind==="value"||S.type.kind==="value"}static parse(b,S){if(b.length!==3&&b.length!==4)return S.error("Expected two or three arguments.");const A=b[0];let D=S.parse(b[1],1,bn);if(!D)return null;if(!zm(A,D.type))return S.concat(1).error(`"${A}" comparisons are not supported for type '${be(D.type)}'.`);let O=S.parse(b[2],2,bn);if(!O)return null;if(!zm(A,O.type))return S.concat(2).error(`"${A}" comparisons are not supported for type '${be(O.type)}'.`);if(D.type.kind!==O.type.kind&&D.type.kind!=="value"&&O.type.kind!=="value")return S.error(`Cannot compare types '${be(D.type)}' and '${be(O.type)}'.`);f&&(D.type.kind==="value"&&O.type.kind!=="value"?D=new Ea(O.type,[D]):D.type.kind!=="value"&&O.type.kind==="value"&&(O=new Ea(D.type,[O])));let B=null;if(b.length===4){if(D.type.kind!=="string"&&O.type.kind!=="string"&&D.type.kind!=="value"&&O.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(B=S.parse(b[3],3,Ds),!B)return null}return new MA(D,O,B)}evaluate(b){const S=this.lhs.evaluate(b),A=this.rhs.evaluate(b);if(f&&this.hasUntypedArgument){const D=Ar(S),O=Ar(A);if(D.kind!==O.kind||D.kind!=="string"&&D.kind!=="number")throw new Or(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${D.kind}, ${O.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const D=Ar(S),O=Ar(A);if(D.kind!=="string"||O.kind!=="string")return i(b,S,A)}return this.collator?c(b,S,A,this.collator.evaluate(b)):i(b,S,A)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}}}const ny=Il("==",function(l,i,c){return i===c},Bm),ry=Il("!=",function(l,i,c){return i!==c},function(l,i,c,f){return!Bm(0,i,c,f)}),iy=Il("<",function(l,i,c){return i<c},function(l,i,c,f){return f.compare(i,c)<0}),ay=Il(">",function(l,i,c){return i>c},function(l,i,c,f){return f.compare(i,c)>0}),sy=Il("<=",function(l,i,c){return i<=c},function(l,i,c,f){return f.compare(i,c)<=0}),oy=Il(">=",function(l,i,c){return i>=c},function(l,i,c,f){return f.compare(i,c)>=0});class fh{constructor(i,c,f,g,b){this.type=vn,this.number=i,this.locale=c,this.currency=f,this.minFractionDigits=g,this.maxFractionDigits=b}static parse(i,c){if(i.length!==3)return c.error("Expected two arguments.");const f=c.parse(i[1],1,Tt);if(!f)return null;const g=i[2];if(typeof g!="object"||Array.isArray(g))return c.error("NumberFormat options argument must be an object.");let b=null;if(g.locale&&(b=c.parse(g.locale,1,vn),!b))return null;let S=null;if(g.currency&&(S=c.parse(g.currency,1,vn),!S))return null;let A=null;if(g["min-fraction-digits"]&&(A=c.parse(g["min-fraction-digits"],1,Tt),!A))return null;let D=null;return g["max-fraction-digits"]&&(D=c.parse(g["max-fraction-digits"],1,Tt),!D)?null:new fh(f,b,S,A,D)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class Ru{constructor(i){this.type=pe,this.sections=i}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[1];if(!Array.isArray(f)&&typeof f=="object")return c.error("First argument must be an image or text section.");const g=[];let b=!1;for(let S=1;S<=i.length-1;++S){const A=i[S];if(b&&typeof A=="object"&&!Array.isArray(A)){b=!1;let D=null;if(A["font-scale"]&&(D=c.parse(A["font-scale"],1,Tt),!D))return null;let O=null;if(A["text-font"]&&(O=c.parse(A["text-font"],1,ve(vn)),!O))return null;let B=null;if(A["text-color"]&&(B=c.parse(A["text-color"],1,Ni),!B))return null;const j=g[g.length-1];j.scale=D,j.font=O,j.textColor=B}else{const D=c.parse(i[S],1,bn);if(!D)return null;const O=D.type.kind;if(O!=="string"&&O!=="value"&&O!=="null"&&O!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,g.push({content:D,scale:null,font:null,textColor:null})}}return new Ru(g)}evaluate(i){return new Mi(this.sections.map(c=>{const f=c.content.evaluate(i);return Ar(f)===X?new _u("",f,null,null,null):new _u(Gn(f),null,c.scale?c.scale.evaluate(i):null,c.font?c.font.evaluate(i).join(","):null,c.textColor?c.textColor.evaluate(i):null)}))}eachChild(i){for(const c of this.sections)i(c.content),c.scale&&i(c.scale),c.font&&i(c.font),c.textColor&&i(c.textColor)}outputDefined(){return!1}}class mh{constructor(i){this.type=X,this.input=i}static parse(i,c){if(i.length!==2)return c.error("Expected two arguments.");const f=c.parse(i[1],1,vn);return f?new mh(f):c.error("No image name provided.")}evaluate(i){const c=this.input.evaluate(i),f=ki.fromString(c);return f&&i.availableImages&&(f.available=i.availableImages.indexOf(c)>-1),f}eachChild(i){i(this.input)}outputDefined(){return!1}}class ph{constructor(i){this.type=Tt,this.input=i}static parse(i,c){if(i.length!==2)return c.error(`Expected 1 argument, but found ${i.length-1} instead.`);const f=c.parse(i[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${be(f.type)} instead.`):new ph(f):null}evaluate(i){const c=this.input.evaluate(i);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Or(`Expected value to be of type string or array, but found ${be(Ar(c))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const Pl={"==":ny,"!=":ry,">":ay,"<":iy,">=":oy,"<=":sy,array:Ea,at:ch,boolean:Ea,case:hh,coalesce:Pu,collator:Su,format:Ru,image:mh,in:uh,"index-of":Mu,interpolate:va,"interpolate-hcl":va,"interpolate-lab":va,length:ph,let:Du,literal:Vo,match:dh,number:Ea,"number-format":fh,object:Ea,slice:Lu,step:uo,string:Ea,"to-boolean":lo,"to-color":lo,"to-number":lo,"to-string":lo,var:Cu,within:No};function Vm(l,[i,c,f,g]){i=i.evaluate(l),c=c.evaluate(l),f=f.evaluate(l);const b=g?g.evaluate(l):1,S=bu(i,c,f,b);if(S)throw new Or(S);return new er(i/255,c/255,f/255,b,!1)}function Nm(l,i){return l in i}function gh(l,i){const c=i[l];return c===void 0?null:c}function $o(l){return{type:l}}function $m(l){return{result:"success",value:l}}function ho(l){return{result:"error",value:l}}function Dl(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function Um(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function vh(l){return!!l.expression&&l.expression.interpolated}function Wn(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Er(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function ly(l){return l}function zn(l,i){const c=i.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",g=f||!(f||l.property!==void 0),b=l.type||(vh(i)?"exponential":"interval");if(c||i.type==="padding"){const B=c?er.parse:pa.parse;(l=xi({},l)).stops&&(l.stops=l.stops.map(j=>[j[0],B(j[1])])),l.default=B(l.default?l.default:i.default)}if(l.colorSpace&&(S=l.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var S;let A,D,O;if(b==="exponential")A=bc;else if(b==="interval")A=Cr;else if(b==="categorical"){A=Ir,D=Object.create(null);for(const B of l.stops)D[B[0]]=B[1];O=typeof l.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);A=qm}if(f){const B={},j=[];for(let re=0;re<l.stops.length;re++){const ue=l.stops[re],ye=ue[0].zoom;B[ye]===void 0&&(B[ye]={zoom:ye,type:l.type,property:l.property,default:l.default,stops:[]},j.push(ye)),B[ye].stops.push([ue[0].value,ue[1]])}const W=[];for(const re of j)W.push([B[re].zoom,zn(B[re],i)]);const ne={name:"linear"};return{kind:"composite",interpolationType:ne,interpolationFactor:va.interpolationFactor.bind(void 0,ne),zoomStops:W.map(re=>re[0]),evaluate:({zoom:re},ue)=>bc({stops:W,base:l.base},i,re).evaluate(re,ue)}}if(g){const B=b==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:B,interpolationFactor:va.interpolationFactor.bind(void 0,B),zoomStops:l.stops.map(j=>j[0]),evaluate:({zoom:j})=>A(l,i,j,D,O)}}return{kind:"source",evaluate(B,j){const W=j&&j.properties?j.properties[l.property]:void 0;return W===void 0?Uo(l.default,i.default):A(l,i,W,D,O)}}}function Uo(l,i,c){return l!==void 0?l:i!==void 0?i:c!==void 0?c:void 0}function Ir(l,i,c,f,g){return Uo(typeof c===g?f[c]:void 0,l.default,i.default)}function Cr(l,i,c){if(Wn(c)!=="number")return Uo(l.default,i.default);const f=l.stops.length;if(f===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[f-1][0])return l.stops[f-1][1];const g=El(l.stops.map(b=>b[0]),c);return l.stops[g][1]}function bc(l,i,c){const f=l.base!==void 0?l.base:1;if(Wn(c)!=="number")return Uo(l.default,i.default);const g=l.stops.length;if(g===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[g-1][0])return l.stops[g-1][1];const b=El(l.stops.map(B=>B[0]),c),S=function(B,j,W,ne){const re=ne-W,ue=B-W;return re===0?0:j===1?ue/re:(Math.pow(j,ue)-1)/(Math.pow(j,re)-1)}(c,f,l.stops[b][0],l.stops[b+1][0]),A=l.stops[b][1],D=l.stops[b+1][1],O=ga[i.type]||ly;return typeof A.evaluate=="function"?{evaluate(...B){const j=A.evaluate.apply(void 0,B),W=D.evaluate.apply(void 0,B);if(j!==void 0&&W!==void 0)return O(j,W,S,l.colorSpace)}}:O(A,D,S,l.colorSpace)}function qm(l,i,c){switch(i.type){case"color":c=er.parse(c);break;case"formatted":c=Mi.fromString(c.toString());break;case"resolvedImage":c=ki.fromString(c.toString());break;case"padding":c=pa.parse(c);break;default:Wn(c)===i.type||i.type==="enum"&&i.values[c]||(c=void 0)}return Uo(c,l.default,i.default)}Ia.register(Pl,{error:[{kind:"error"},[vn],(l,[i])=>{throw new Or(i.evaluate(l))}],typeof:[vn,[bn],(l,[i])=>be(Ar(i.evaluate(l)))],"to-rgba":[ve(Tt,4),[Ni],(l,[i])=>{const[c,f,g,b]=i.evaluate(l).rgb;return[255*c,255*f,255*g,b]}],rgb:[Ni,[Tt,Tt,Tt],Vm],rgba:[Ni,[Tt,Tt,Tt,Tt],Vm],has:{type:mn,overloads:[[[vn],(l,[i])=>Nm(i.evaluate(l),l.properties())],[[vn,ss],(l,[i,c])=>Nm(i.evaluate(l),c.evaluate(l))]]},get:{type:bn,overloads:[[[vn],(l,[i])=>gh(i.evaluate(l),l.properties())],[[vn,ss],(l,[i,c])=>gh(i.evaluate(l),c.evaluate(l))]]},"feature-state":[bn,[vn],(l,[i])=>gh(i.evaluate(l),l.featureState||{})],properties:[ss,[],l=>l.properties()],"geometry-type":[vn,[],l=>l.geometryType()],id:[bn,[],l=>l.id()],zoom:[Tt,[],l=>l.globals.zoom],"heatmap-density":[Tt,[],l=>l.globals.heatmapDensity||0],"line-progress":[Tt,[],l=>l.globals.lineProgress||0],accumulated:[bn,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[Tt,$o(Tt),(l,i)=>{let c=0;for(const f of i)c+=f.evaluate(l);return c}],"*":[Tt,$o(Tt),(l,i)=>{let c=1;for(const f of i)c*=f.evaluate(l);return c}],"-":{type:Tt,overloads:[[[Tt,Tt],(l,[i,c])=>i.evaluate(l)-c.evaluate(l)],[[Tt],(l,[i])=>-i.evaluate(l)]]},"/":[Tt,[Tt,Tt],(l,[i,c])=>i.evaluate(l)/c.evaluate(l)],"%":[Tt,[Tt,Tt],(l,[i,c])=>i.evaluate(l)%c.evaluate(l)],ln2:[Tt,[],()=>Math.LN2],pi:[Tt,[],()=>Math.PI],e:[Tt,[],()=>Math.E],"^":[Tt,[Tt,Tt],(l,[i,c])=>Math.pow(i.evaluate(l),c.evaluate(l))],sqrt:[Tt,[Tt],(l,[i])=>Math.sqrt(i.evaluate(l))],log10:[Tt,[Tt],(l,[i])=>Math.log(i.evaluate(l))/Math.LN10],ln:[Tt,[Tt],(l,[i])=>Math.log(i.evaluate(l))],log2:[Tt,[Tt],(l,[i])=>Math.log(i.evaluate(l))/Math.LN2],sin:[Tt,[Tt],(l,[i])=>Math.sin(i.evaluate(l))],cos:[Tt,[Tt],(l,[i])=>Math.cos(i.evaluate(l))],tan:[Tt,[Tt],(l,[i])=>Math.tan(i.evaluate(l))],asin:[Tt,[Tt],(l,[i])=>Math.asin(i.evaluate(l))],acos:[Tt,[Tt],(l,[i])=>Math.acos(i.evaluate(l))],atan:[Tt,[Tt],(l,[i])=>Math.atan(i.evaluate(l))],min:[Tt,$o(Tt),(l,i)=>Math.min(...i.map(c=>c.evaluate(l)))],max:[Tt,$o(Tt),(l,i)=>Math.max(...i.map(c=>c.evaluate(l)))],abs:[Tt,[Tt],(l,[i])=>Math.abs(i.evaluate(l))],round:[Tt,[Tt],(l,[i])=>{const c=i.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[Tt,[Tt],(l,[i])=>Math.floor(i.evaluate(l))],ceil:[Tt,[Tt],(l,[i])=>Math.ceil(i.evaluate(l))],"filter-==":[mn,[vn,bn],(l,[i,c])=>l.properties()[i.value]===c.value],"filter-id-==":[mn,[bn],(l,[i])=>l.id()===i.value],"filter-type-==":[mn,[vn],(l,[i])=>l.geometryType()===i.value],"filter-<":[mn,[vn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f<g}],"filter-id-<":[mn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<f}],"filter->":[mn,[vn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f>g}],"filter-id->":[mn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>f}],"filter-<=":[mn,[vn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f<=g}],"filter-id-<=":[mn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<=f}],"filter->=":[mn,[vn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f>=g}],"filter-id->=":[mn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>=f}],"filter-has":[mn,[bn],(l,[i])=>i.value in l.properties()],"filter-has-id":[mn,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[mn,[ve(vn)],(l,[i])=>i.value.indexOf(l.geometryType())>=0],"filter-id-in":[mn,[ve(bn)],(l,[i])=>i.value.indexOf(l.id())>=0],"filter-in-small":[mn,[vn,ve(bn)],(l,[i,c])=>c.value.indexOf(l.properties()[i.value])>=0],"filter-in-large":[mn,[vn,ve(bn)],(l,[i,c])=>function(f,g,b,S){for(;b<=S;){const A=b+S>>1;if(g[A]===f)return!0;g[A]>f?S=A-1:b=A+1}return!1}(l.properties()[i.value],c.value,0,c.value.length-1)],all:{type:mn,overloads:[[[mn,mn],(l,[i,c])=>i.evaluate(l)&&c.evaluate(l)],[$o(mn),(l,i)=>{for(const c of i)if(!c.evaluate(l))return!1;return!0}]]},any:{type:mn,overloads:[[[mn,mn],(l,[i,c])=>i.evaluate(l)||c.evaluate(l)],[$o(mn),(l,i)=>{for(const c of i)if(c.evaluate(l))return!0;return!1}]]},"!":[mn,[mn],(l,[i])=>!i.evaluate(l)],"is-supported-script":[mn,[vn],(l,[i])=>{const c=l.globals&&l.globals.isSupportedScript;return!c||c(i.evaluate(l))}],upcase:[vn,[vn],(l,[i])=>i.evaluate(l).toUpperCase()],downcase:[vn,[vn],(l,[i])=>i.evaluate(l).toLowerCase()],concat:[vn,$o(bn),(l,i)=>i.map(c=>Gn(c.evaluate(l))).join("")],"resolved-locale":[vn,[Ds],(l,[i])=>i.evaluate(l).resolvedLocale()]});class yh{constructor(i,c){var f;this.expression=i,this._warningHistory={},this._evaluator=new nh,this._defaultValue=c?(f=c).type==="color"&&Er(f.default)?new er(0,0,0,0):f.type==="color"?er.parse(f.default)||null:f.type==="padding"?pa.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?Aa.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(i,c,f,g,b,S){return this._evaluator.globals=i,this._evaluator.feature=c,this._evaluator.featureState=f,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(i,c,f,g,b,S){this._evaluator.globals=i,this._evaluator.feature=c||null,this._evaluator.featureState=f||null,this._evaluator.canonical=g,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=S||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Or(`Expected value to be one of ${Object.keys(this._enumValues).map(D=>JSON.stringify(D)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Ou(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Pl}function Fu(l,i){const c=new wu(Pl,Tu,[],i?function(g){const b={color:Ni,string:vn,number:Tt,enum:vn,boolean:mn,formatted:pe,padding:H,resolvedImage:X,variableAnchorOffsetCollection:oe};return g.type==="array"?ve(b[g.value]||bn,g.length):b[g.type]}(i):void 0),f=c.parse(l,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?$m(new yh(f,i)):ho(c.errors)}class _h{constructor(i,c){this.kind=i,this._styleExpression=c,this.isStateDependent=i!=="constant"&&!_c(c.expression)}evaluateWithoutErrorHandling(i,c,f,g,b,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,g,b,S)}evaluate(i,c,f,g,b,S){return this._styleExpression.evaluate(i,c,f,g,b,S)}}class zu{constructor(i,c,f,g){this.kind=i,this.zoomStops=f,this._styleExpression=c,this.isStateDependent=i!=="camera"&&!_c(c.expression),this.interpolationType=g}evaluateWithoutErrorHandling(i,c,f,g,b,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,g,b,S)}evaluate(i,c,f,g,b,S){return this._styleExpression.evaluate(i,c,f,g,b,S)}interpolationFactor(i,c,f){return this.interpolationType?va.interpolationFactor(this.interpolationType,i,c,f):0}}function bh(l,i){const c=Fu(l,i);if(c.result==="error")return c;const f=c.value.expression,g=Au(f);if(!g&&!Dl(i))return ho([new Tn("","data expressions not supported")]);const b=Eu(f,["zoom"]);if(!b&&!Um(i))return ho([new Tn("","zoom expressions not supported")]);const S=wc(f);return S||b?S instanceof Tn?ho([S]):S instanceof va&&!vh(i)?ho([new Tn("",'"interpolate" expressions cannot be used with this property')]):$m(S?new zu(g?"camera":"composite",c.value,S.labels,S instanceof va?S.interpolation:void 0):new _h(g?"constant":"source",c.value)):ho([new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class xc{constructor(i,c){this._parameters=i,this._specification=c,xi(this,zn(this._parameters,this._specification))}static deserialize(i){return new xc(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function wc(l){let i=null;if(l instanceof Du)i=wc(l.result);else if(l instanceof Pu){for(const c of l.args)if(i=wc(c),i)break}else(l instanceof uo||l instanceof va)&&l.input instanceof Ia&&l.input.name==="zoom"&&(i=l);return i instanceof Tn||l.eachChild(c=>{const f=wc(c);f instanceof Tn?i=f:!i&&f?i=new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&f&&i!==f&&(i=new Tn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function Sc(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const i of l.slice(1))if(!Sc(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const cy={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function xh(l){if(l==null)return{filter:()=>!0,needGeometry:!1};Sc(l)||(l=Bu(l));const i=Fu(l,cy);if(i.result==="error")throw new Error(i.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,f,g)=>i.value.evaluate(c,f,{},g),needGeometry:jm(l)}}function uy(l,i){return l<i?-1:l>i?1:0}function jm(l){if(!Array.isArray(l))return!1;if(l[0]==="within")return!0;for(let i=1;i<l.length;i++)if(jm(l[i]))return!0;return!1}function Bu(l){if(!l)return!0;const i=l[0];return l.length<=1?i!=="any":i==="=="?wh(l[1],l[2],"=="):i==="!="?kc(wh(l[1],l[2],"==")):i==="<"||i===">"||i==="<="||i===">="?wh(l[1],l[2],i):i==="any"?(c=l.slice(1),["any"].concat(c.map(Bu))):i==="all"?["all"].concat(l.slice(1).map(Bu)):i==="none"?["all"].concat(l.slice(1).map(Bu).map(kc)):i==="in"?Hm(l[1],l.slice(2)):i==="!in"?kc(Hm(l[1],l.slice(2))):i==="has"?Gm(l[1]):i==="!has"?kc(Gm(l[1])):i!=="within"||l;var c}function wh(l,i,c){switch(l){case"$type":return[`filter-type-${c}`,i];case"$id":return[`filter-id-${c}`,i];default:return[`filter-${c}`,l,i]}}function Hm(l,i){if(i.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(c=>typeof c!=typeof i[0])?["filter-in-large",l,["literal",i.sort(uy)]]:["filter-in-small",l,["literal",i]]}}function Gm(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function kc(l){return["!",l]}function Vu(l){const i=typeof l;if(i==="number"||i==="boolean"||i==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let g="[";for(const b of l)g+=`${Vu(b)},`;return`${g}]`}const c=Object.keys(l).sort();let f="{";for(let g=0;g<c.length;g++)f+=`${JSON.stringify(c[g])}:${Vu(l[c[g]])},`;return`${f}}`}function Nu(l){let i="";for(const c of gt)i+=`/${Vu(l[c])}`;return i}function Wm(l){const i=l.value;return i?[new vt(l.key,i,"constants have been deprecated as of v8")]:[]}function Fr(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function qo(l){if(Array.isArray(l))return l.map(qo);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const i={};for(const c in l)i[c]=qo(l[c]);return i}return Fr(l)}function Xi(l){const i=l.key,c=l.value,f=l.valueSpec||{},g=l.objectElementValidators||{},b=l.style,S=l.styleSpec,A=l.validateSpec;let D=[];const O=Wn(c);if(O!=="object")return[new vt(i,c,`object expected, ${O} found`)];for(const B in c){const j=B.split(".")[0],W=f[j]||f["*"];let ne;if(g[j])ne=g[j];else if(f[j])ne=A;else if(g["*"])ne=g["*"];else{if(!f["*"]){D.push(new vt(i,c[B],`unknown property "${B}"`));continue}ne=A}D=D.concat(ne({key:(i&&`${i}.`)+B,value:c[B],valueSpec:W,style:b,styleSpec:S,object:c,objectKey:B,validateSpec:A},c))}for(const B in f)g[B]||f[B].required&&f[B].default===void 0&&c[B]===void 0&&D.push(new vt(i,c,`missing required property "${B}"`));return D}function Ml(l){const i=l.value,c=l.valueSpec,f=l.style,g=l.styleSpec,b=l.key,S=l.arrayElementValidator||l.validateSpec;if(Wn(i)!=="array")return[new vt(b,i,`array expected, ${Wn(i)} found`)];if(c.length&&i.length!==c.length)return[new vt(b,i,`array length ${c.length} expected, length ${i.length} found`)];if(c["min-length"]&&i.length<c["min-length"])return[new vt(b,i,`array length at least ${c["min-length"]} expected, length ${i.length} found`)];let A={type:c.value,values:c.values};g.$version<7&&(A.function=c.function),Wn(c.value)==="object"&&(A=c.value);let D=[];for(let O=0;O<i.length;O++)D=D.concat(S({array:i,arrayIndex:O,value:i[O],valueSpec:A,validateSpec:l.validateSpec,style:f,styleSpec:g,key:`${b}[${O}]`}));return D}function Cc(l){const i=l.key,c=l.value,f=l.valueSpec;let g=Wn(c);return g==="number"&&c!=c&&(g="NaN"),g!=="number"?[new vt(i,c,`number expected, ${g} found`)]:"minimum"in f&&c<f.minimum?[new vt(i,c,`${c} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&c>f.maximum?[new vt(i,c,`${c} is greater than the maximum value ${f.maximum}`)]:[]}function $u(l){const i=l.valueSpec,c=Fr(l.value.type);let f,g,b,S={};const A=c!=="categorical"&&l.value.property===void 0,D=!A,O=Wn(l.value.stops)==="array"&&Wn(l.value.stops[0])==="array"&&Wn(l.value.stops[0][0])==="object",B=Xi({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(ne){if(c==="identity")return[new vt(ne.key,ne.value,'identity function may not have a "stops" property')];let re=[];const ue=ne.value;return re=re.concat(Ml({key:ne.key,value:ue,valueSpec:ne.valueSpec,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec,arrayElementValidator:j})),Wn(ue)==="array"&&ue.length===0&&re.push(new vt(ne.key,ue,"array must have at least one stop")),re},default:function(ne){return ne.validateSpec({key:ne.key,value:ne.value,valueSpec:i,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec})}}});return c==="identity"&&A&&B.push(new vt(l.key,l.value,'missing required property "property"')),c==="identity"||l.value.stops||B.push(new vt(l.key,l.value,'missing required property "stops"')),c==="exponential"&&l.valueSpec.expression&&!vh(l.valueSpec)&&B.push(new vt(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(D&&!Dl(l.valueSpec)?B.push(new vt(l.key,l.value,"property functions not supported")):A&&!Um(l.valueSpec)&&B.push(new vt(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!O||l.value.property!==void 0||B.push(new vt(l.key,l.value,'"property" property is required')),B;function j(ne){let re=[];const ue=ne.value,ye=ne.key;if(Wn(ue)!=="array")return[new vt(ye,ue,`array expected, ${Wn(ue)} found`)];if(ue.length!==2)return[new vt(ye,ue,`array length 2 expected, length ${ue.length} found`)];if(O){if(Wn(ue[0])!=="object")return[new vt(ye,ue,`object expected, ${Wn(ue[0])} found`)];if(ue[0].zoom===void 0)return[new vt(ye,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new vt(ye,ue,"object stop key must have value")];if(b&&b>Fr(ue[0].zoom))return[new vt(ye,ue[0].zoom,"stop zoom values must appear in ascending order")];Fr(ue[0].zoom)!==b&&(b=Fr(ue[0].zoom),g=void 0,S={}),re=re.concat(Xi({key:`${ye}[0]`,value:ue[0],valueSpec:{zoom:{}},validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec,objectElementValidators:{zoom:Cc,value:W}}))}else re=re.concat(W({key:`${ye}[0]`,value:ue[0],valueSpec:{},validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec},ue));return Ou(qo(ue[1]))?re.concat([new vt(`${ye}[1]`,ue[1],"expressions are not allowed in function stops.")]):re.concat(ne.validateSpec({key:`${ye}[1]`,value:ue[1],valueSpec:i,validateSpec:ne.validateSpec,style:ne.style,styleSpec:ne.styleSpec}))}function W(ne,re){const ue=Wn(ne.value),ye=Fr(ne.value),we=ne.value!==null?ne.value:re;if(f){if(ue!==f)return[new vt(ne.key,we,`${ue} stop domain type must match previous stop domain type ${f}`)]}else f=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean")return[new vt(ne.key,we,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&c!=="categorical"){let Oe=`number expected, ${ue} found`;return Dl(i)&&c===void 0&&(Oe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new vt(ne.key,we,Oe)]}return c!=="categorical"||ue!=="number"||isFinite(ye)&&Math.floor(ye)===ye?c!=="categorical"&&ue==="number"&&g!==void 0&&ye<g?[new vt(ne.key,we,"stop domain values must appear in ascending order")]:(g=ye,c==="categorical"&&ye in S?[new vt(ne.key,we,"stop domain values must be unique")]:(S[ye]=!0,[])):[new vt(ne.key,we,`integer expected, found ${ye}`)]}}function jo(l){const i=(l.expressionContext==="property"?bh:Fu)(qo(l.value),l.valueSpec);if(i.result==="error")return i.value.map(f=>new vt(`${l.key}${f.key}`,l.value,f.message));const c=i.value.expression||i.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new vt(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!_c(c))return[new vt(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!_c(c))return[new vt(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!Eu(c,["zoom","feature-state"]))return[new vt(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!Au(c))return[new vt(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Tc(l){const i=l.key,c=l.value,f=l.valueSpec,g=[];return Array.isArray(f.values)?f.values.indexOf(Fr(c))===-1&&g.push(new vt(i,c,`expected one of [${f.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(f.values).indexOf(Fr(c))===-1&&g.push(new vt(i,c,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(c)} found`)),g}function Ll(l){return Sc(qo(l.value))?jo(xi({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ym(l)}function Ym(l){const i=l.value,c=l.key;if(Wn(i)!=="array")return[new vt(c,i,`array expected, ${Wn(i)} found`)];const f=l.styleSpec;let g,b=[];if(i.length<1)return[new vt(c,i,"filter array must have at least 1 element")];switch(b=b.concat(Tc({key:`${c}[0]`,value:i[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),Fr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Fr(i[1])==="$type"&&b.push(new vt(c,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&b.push(new vt(c,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(g=Wn(i[1]),g!=="string"&&b.push(new vt(`${c}[1]`,i[1],`string expected, ${g} found`)));for(let S=2;S<i.length;S++)g=Wn(i[S]),Fr(i[1])==="$type"?b=b.concat(Tc({key:`${c}[${S}]`,value:i[S],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&b.push(new vt(`${c}[${S}]`,i[S],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let S=1;S<i.length;S++)b=b.concat(Ym({key:`${c}[${S}]`,value:i[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":g=Wn(i[1]),i.length!==2?b.push(new vt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):g!=="string"&&b.push(new vt(`${c}[1]`,i[1],`string expected, ${g} found`));break;case"within":g=Wn(i[1]),i.length!==2?b.push(new vt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):g!=="object"&&b.push(new vt(`${c}[1]`,i[1],`object expected, ${g} found`))}return b}function Zm(l,i){const c=l.key,f=l.validateSpec,g=l.style,b=l.styleSpec,S=l.value,A=l.objectKey,D=b[`${i}_${l.layerType}`];if(!D)return[];const O=A.match(/^(.*)-transition$/);if(i==="paint"&&O&&D[O[1]]&&D[O[1]].transition)return f({key:c,value:S,valueSpec:b.transition,style:g,styleSpec:b});const B=l.valueSpec||D[A];if(!B)return[new vt(c,S,`unknown property "${A}"`)];let j;if(Wn(S)==="string"&&Dl(B)&&!B.tokens&&(j=/^{([^}]+)}$/.exec(S)))return[new vt(c,S,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(j[1])} }\`.`)];const W=[];return l.layerType==="symbol"&&(A==="text-field"&&g&&!g.glyphs&&W.push(new vt(c,S,'use of "text-field" requires a style "glyphs" property')),A==="text-font"&&Er(qo(S))&&Fr(S.type)==="identity"&&W.push(new vt(c,S,'"text-font" does not support identity functions'))),W.concat(f({key:l.key,value:S,valueSpec:B,style:g,styleSpec:b,expressionContext:"property",propertyType:i,propertyKey:A}))}function Km(l){return Zm(l,"paint")}function Xm(l){return Zm(l,"layout")}function Jm(l){let i=[];const c=l.value,f=l.key,g=l.style,b=l.styleSpec;c.type||c.ref||i.push(new vt(f,c,'either "type" or "ref" is required'));let S=Fr(c.type);const A=Fr(c.ref);if(c.id){const D=Fr(c.id);for(let O=0;O<l.arrayIndex;O++){const B=g.layers[O];Fr(B.id)===D&&i.push(new vt(f,c.id,`duplicate layer id "${c.id}", previously used at line ${B.id.__line__}`))}}if("ref"in c){let D;["type","source","source-layer","filter","layout"].forEach(O=>{O in c&&i.push(new vt(f,c[O],`"${O}" is prohibited for ref layers`))}),g.layers.forEach(O=>{Fr(O.id)===A&&(D=O)}),D?D.ref?i.push(new vt(f,c.ref,"ref cannot reference another ref layer")):S=Fr(D.type):i.push(new vt(f,c.ref,`ref layer "${A}" not found`))}else if(S!=="background")if(c.source){const D=g.sources&&g.sources[c.source],O=D&&Fr(D.type);D?O==="vector"&&S==="raster"?i.push(new vt(f,c.source,`layer "${c.id}" requires a raster source`)):O!=="raster-dem"&&S==="hillshade"?i.push(new vt(f,c.source,`layer "${c.id}" requires a raster-dem source`)):O==="raster"&&S!=="raster"?i.push(new vt(f,c.source,`layer "${c.id}" requires a vector source`)):O!=="vector"||c["source-layer"]?O==="raster-dem"&&S!=="hillshade"?i.push(new vt(f,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||O==="geojson"&&D.lineMetrics||i.push(new vt(f,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new vt(f,c,`layer "${c.id}" must specify a "source-layer"`)):i.push(new vt(f,c.source,`source "${c.source}" not found`))}else i.push(new vt(f,c,'missing required property "source"'));return i=i.concat(Xi({key:f,value:c,valueSpec:b.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:c.type,valueSpec:b.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:Ll,layout:D=>Xi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":O=>Xm(xi({layerType:S},O))}}),paint:D=>Xi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":O=>Km(xi({layerType:S},O))}})}})),i}function os(l){const i=l.value,c=l.key,f=Wn(i);return f!=="string"?[new vt(c,i,`string expected, ${f} found`)]:[]}const Ac={promoteId:function({key:l,value:i}){if(Wn(i)==="string")return os({key:l,value:i});{const c=[];for(const f in i)c.push(...os({key:`${l}.${f}`,value:i[f]}));return c}}};function ya(l){const i=l.value,c=l.key,f=l.styleSpec,g=l.style,b=l.validateSpec;if(!i.type)return[new vt(c,i,'"type" is required')];const S=Fr(i.type);let A;switch(S){case"vector":case"raster":return A=Xi({key:c,value:i,valueSpec:f[`source_${S.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:Ac,validateSpec:b}),A;case"raster-dem":return A=function(D){var O;const B=(O=D.sourceName)!==null&&O!==void 0?O:"",j=D.value,W=D.styleSpec,ne=W.source_raster_dem,re=D.style;let ue=[];const ye=Wn(j);if(j===void 0)return ue;if(ye!=="object")return ue.push(new vt("source_raster_dem",j,`object expected, ${ye} found`)),ue;const we=Fr(j.encoding)==="custom",Oe=["redFactor","greenFactor","blueFactor","baseShift"],Ae=D.value.encoding?`"${D.value.encoding}"`:"Default";for(const Be in j)!we&&Oe.includes(Be)?ue.push(new vt(Be,j[Be],`In "${B}": "${Be}" is only valid when "encoding" is set to "custom". ${Ae} encoding found`)):ne[Be]?ue=ue.concat(D.validateSpec({key:Be,value:j[Be],valueSpec:ne[Be],validateSpec:D.validateSpec,style:re,styleSpec:W})):ue.push(new vt(Be,j[Be],`unknown property "${Be}"`));return ue}({sourceName:c,value:i,style:l.style,styleSpec:f,validateSpec:b}),A;case"geojson":if(A=Xi({key:c,value:i,valueSpec:f.source_geojson,style:g,styleSpec:f,validateSpec:b,objectElementValidators:Ac}),i.cluster)for(const D in i.clusterProperties){const[O,B]=i.clusterProperties[D],j=typeof O=="string"?[O,["accumulated"],["get",D]]:O;A.push(...jo({key:`${c}.${D}.map`,value:B,validateSpec:b,expressionContext:"cluster-map"})),A.push(...jo({key:`${c}.${D}.reduce`,value:j,validateSpec:b,expressionContext:"cluster-reduce"}))}return A;case"video":return Xi({key:c,value:i,valueSpec:f.source_video,style:g,validateSpec:b,styleSpec:f});case"image":return Xi({key:c,value:i,valueSpec:f.source_image,style:g,validateSpec:b,styleSpec:f});case"canvas":return[new vt(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Tc({key:`${c}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:g,validateSpec:b,styleSpec:f})}}function Ec(l){const i=l.value,c=l.styleSpec,f=c.light,g=l.style;let b=[];const S=Wn(i);if(i===void 0)return b;if(S!=="object")return b=b.concat([new vt("light",i,`object expected, ${S} found`)]),b;for(const A in i){const D=A.match(/^(.*)-transition$/);b=b.concat(D&&f[D[1]]&&f[D[1]].transition?l.validateSpec({key:A,value:i[A],valueSpec:c.transition,validateSpec:l.validateSpec,style:g,styleSpec:c}):f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new vt(A,i[A],`unknown property "${A}"`)])}return b}function Qm(l){const i=l.value,c=l.styleSpec,f=c.terrain,g=l.style;let b=[];const S=Wn(i);if(i===void 0)return b;if(S!=="object")return b=b.concat([new vt("terrain",i,`object expected, ${S} found`)]),b;for(const A in i)b=b.concat(f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new vt(A,i[A],`unknown property "${A}"`)]);return b}function ep(l){let i=[];const c=l.value,f=l.key;if(Array.isArray(c)){const g=[],b=[];for(const S in c)c[S].id&&g.includes(c[S].id)&&i.push(new vt(f,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),g.push(c[S].id),c[S].url&&b.includes(c[S].url)&&i.push(new vt(f,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),b.push(c[S].url),i=i.concat(Xi({key:`${f}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return i}return os({key:f,value:c})}const tp={"*":()=>[],array:Ml,boolean:function(l){const i=l.value,c=l.key,f=Wn(i);return f!=="boolean"?[new vt(c,i,`boolean expected, ${f} found`)]:[]},number:Cc,color:function(l){const i=l.key,c=l.value,f=Wn(c);return f!=="string"?[new vt(i,c,`color expected, ${f} found`)]:er.parse(String(c))?[]:[new vt(i,c,`color expected, "${c}" found`)]},constants:Wm,enum:Tc,filter:Ll,function:$u,layer:Jm,object:Xi,source:ya,light:Ec,terrain:Qm,string:os,formatted:function(l){return os(l).length===0?[]:jo(l)},resolvedImage:function(l){return os(l).length===0?[]:jo(l)},padding:function(l){const i=l.key,c=l.value;if(Wn(c)==="array"){if(c.length<1||c.length>4)return[new vt(i,c,`padding requires 1 to 4 values; ${c.length} values found`)];const f={type:"number"};let g=[];for(let b=0;b<c.length;b++)g=g.concat(l.validateSpec({key:`${i}[${b}]`,value:c[b],validateSpec:l.validateSpec,valueSpec:f}));return g}return Cc({key:i,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(l){const i=l.key,c=l.value,f=Wn(c),g=l.styleSpec;if(f!=="array"||c.length<1||c.length%2!=0)return[new vt(i,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let b=[];for(let S=0;S<c.length;S+=2)b=b.concat(Tc({key:`${i}[${S}]`,value:c[S],valueSpec:g.layout_symbol["text-anchor"]})),b=b.concat(Ml({key:`${i}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:g}));return b},sprite:ep};function Ms(l){const i=l.value,c=l.valueSpec,f=l.styleSpec;return l.validateSpec=Ms,c.expression&&Er(Fr(i))?$u(l):c.expression&&Ou(qo(i))?jo(l):c.type&&tp[c.type]?tp[c.type](l):Xi(xi({},l,{valueSpec:c.type?f[c.type]:c}))}function np(l){const i=l.value,c=l.key,f=os(l);return f.length||(i.indexOf("{fontstack}")===-1&&f.push(new vt(c,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&f.push(new vt(c,i,'"glyphs" url must include a "{range}" token'))),f}function Pa(l,i=Ce){let c=[];return c=c.concat(Ms({key:"",value:l,valueSpec:i.$root,styleSpec:i,style:l,validateSpec:Ms,objectElementValidators:{glyphs:np,"*":()=>[]}})),l.constants&&(c=c.concat(Wm({key:"constants",value:l.constants,style:l,styleSpec:i,validateSpec:Ms}))),Uu(c)}function Ls(l){return function(i){return l({...i,validateSpec:Ms})}}function Uu(l){return[].concat(l).sort((i,c)=>i.line-c.line)}function Rs(l){return function(...i){return Uu(l.apply(this,i))}}Pa.source=Rs(Ls(ya)),Pa.sprite=Rs(Ls(ep)),Pa.glyphs=Rs(Ls(np)),Pa.light=Rs(Ls(Ec)),Pa.terrain=Rs(Ls(Qm)),Pa.layer=Rs(Ls(Jm)),Pa.filter=Rs(Ls(Ll)),Pa.paintProperty=Rs(Ls(Km)),Pa.layoutProperty=Rs(Ls(Xm));const Os=Pa,dy=Os.light,Sh=Os.paintProperty,rp=Os.layoutProperty;function qu(l,i){let c=!1;if(i&&i.length)for(const f of i)l.fire(new pt(new Error(f.message))),c=!0;return c}class Rl{constructor(i,c,f){const g=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const S=new Int32Array(this.arrayBuffer);i=S[0],this.d=(c=S[1])+2*(f=S[2]);for(let D=0;D<this.d*this.d;D++){const O=S[3+D],B=S[3+D+1];g.push(O===B?null:S.subarray(O,B))}const A=S[3+g.length+1];this.keys=S.subarray(S[3+g.length],A),this.bboxes=S.subarray(A),this.insert=this._insertReadonly}else{this.d=c+2*f;for(let S=0;S<this.d*this.d;S++)g.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=i,this.padding=f,this.scale=c/i,this.uid=0;const b=f/c*i;this.min=-b,this.max=i+b}insert(i,c,f,g,b){this._forEachCell(c,f,g,b,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(g),this.bboxes.push(b)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,c,f,g,b,S){this.cells[b].push(S)}query(i,c,f,g,b){const S=this.min,A=this.max;if(i<=S&&c<=S&&A<=f&&A<=g&&!b)return Array.prototype.slice.call(this.keys);{const D=[];return this._forEachCell(i,c,f,g,this._queryCell,D,{},b),D}}_queryCell(i,c,f,g,b,S,A,D){const O=this.cells[b];if(O!==null){const B=this.keys,j=this.bboxes;for(let W=0;W<O.length;W++){const ne=O[W];if(A[ne]===void 0){const re=4*ne;(D?D(j[re+0],j[re+1],j[re+2],j[re+3]):i<=j[re+2]&&c<=j[re+3]&&f>=j[re+0]&&g>=j[re+1])?(A[ne]=!0,S.push(B[ne])):A[ne]=!1}}}}_forEachCell(i,c,f,g,b,S,A,D){const O=this._convertToCellCoord(i),B=this._convertToCellCoord(c),j=this._convertToCellCoord(f),W=this._convertToCellCoord(g);for(let ne=O;ne<=j;ne++)for(let re=B;re<=W;re++){const ue=this.d*re+ne;if((!D||D(this._convertFromCellCoord(ne),this._convertFromCellCoord(re),this._convertFromCellCoord(ne+1),this._convertFromCellCoord(re+1)))&&b.call(this,i,c,f,g,ue,S,A,D))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,c=3+this.cells.length+1+1;let f=0;for(let S=0;S<this.cells.length;S++)f+=this.cells[S].length;const g=new Int32Array(c+f+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let b=c;for(let S=0;S<i.length;S++){const A=i[S];g[3+S]=b,g.set(A,b),b+=A.length}return g[3+i.length]=b,g.set(this.keys,b),b+=this.keys.length,g[3+i.length+1]=b,g.set(this.bboxes,b),b+=this.bboxes.length,g.buffer}static serialize(i,c){const f=i.toArrayBuffer();return c&&c.push(f),{buffer:f}}static deserialize(i){return new Rl(i.buffer)}}const Fs={};function Ut(l,i,c={}){if(Fs[l])throw new Error(`${l} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:l,writeable:!1}),Fs[l]={klass:i,omit:c.omit||[],shallow:c.shallow||[]}}Ut("Object",Object),Ut("TransferableGridIndex",Rl),Ut("Color",er),Ut("Error",Error),Ut("AJAXError",it),Ut("ResolvedImage",ki),Ut("StylePropertyFunction",xc),Ut("StyleExpression",yh,{omit:["_evaluator"]}),Ut("ZoomDependentExpression",zu),Ut("ZoomConstantExpression",_h),Ut("CompoundExpression",Ia,{omit:["_evaluate"]});for(const l in Pl)Pl[l]._classRegistryKey||Ut(`Expression_${l}`,Pl[l]);function ju(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function fo(l,i){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob)return l;if(ju(l)||Pe(l))return i&&i.push(l),l;if(ArrayBuffer.isView(l)){const c=l;return i&&i.push(c.buffer),c}if(l instanceof ImageData)return i&&i.push(l.data.buffer),l;if(Array.isArray(l)){const c=[];for(const f of l)c.push(fo(f,i));return c}if(typeof l=="object"){const c=l.constructor,f=c._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");if(!Fs[f])throw new Error(`${f} is not registered.`);const g=c.serialize?c.serialize(l,i):{};if(c.serialize){if(i&&g===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const b in l){if(!l.hasOwnProperty(b)||Fs[f].omit.indexOf(b)>=0)continue;const S=l[b];g[b]=Fs[f].shallow.indexOf(b)>=0?S:fo(S,i)}l instanceof Error&&(g.message=l.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(g.$name=f),g}throw new Error("can't serialize object of type "+typeof l)}function Ol(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||ju(l)||Pe(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(Ol);if(typeof l=="object"){const i=l.$name||"Object";if(!Fs[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:c}=Fs[i];if(!c)throw new Error(`can't deserialize unregistered class ${i}`);if(c.deserialize)return c.deserialize(l);const f=Object.create(c.prototype);for(const g of Object.keys(l)){if(g==="$name")continue;const b=l[g];f[g]=Fs[i].shallow.indexOf(g)>=0?b:Ol(b)}return f}throw new Error("can't deserialize object of type "+typeof l)}class ip{constructor(){this.first=!0}update(i,c){const f=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=c),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=f,!0))}}const Vt={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function kh(l){for(const i of l)if(Th(i.charCodeAt(0)))return!0;return!1}function Ch(l){for(const i of l)if(!hy(i.charCodeAt(0)))return!1;return!0}function hy(l){return!(Vt.Arabic(l)||Vt["Arabic Supplement"](l)||Vt["Arabic Extended-A"](l)||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l))}function Th(l){return!(l!==746&&l!==747&&(l<4352||!(Vt["Bopomofo Extended"](l)||Vt.Bopomofo(l)||Vt["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Vt["CJK Compatibility Ideographs"](l)||Vt["CJK Compatibility"](l)||Vt["CJK Radicals Supplement"](l)||Vt["CJK Strokes"](l)||!(!Vt["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Vt["CJK Unified Ideographs Extension A"](l)||Vt["CJK Unified Ideographs"](l)||Vt["Enclosed CJK Letters and Months"](l)||Vt["Hangul Compatibility Jamo"](l)||Vt["Hangul Jamo Extended-A"](l)||Vt["Hangul Jamo Extended-B"](l)||Vt["Hangul Jamo"](l)||Vt["Hangul Syllables"](l)||Vt.Hiragana(l)||Vt["Ideographic Description Characters"](l)||Vt.Kanbun(l)||Vt["Kangxi Radicals"](l)||Vt["Katakana Phonetic Extensions"](l)||Vt.Katakana(l)&&l!==12540||!(!Vt["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Vt["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Vt["Unified Canadian Aboriginal Syllabics"](l)||Vt["Unified Canadian Aboriginal Syllabics Extended"](l)||Vt["Vertical Forms"](l)||Vt["Yijing Hexagram Symbols"](l)||Vt["Yi Syllables"](l)||Vt["Yi Radicals"](l))))}function ap(l){return!(Th(l)||function(i){return!!(Vt["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||Vt["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||Vt["Letterlike Symbols"](i)||Vt["Number Forms"](i)||Vt["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||Vt["Control Pictures"](i)&&i!==9251||Vt["Optical Character Recognition"](i)||Vt["Enclosed Alphanumerics"](i)||Vt["Geometric Shapes"](i)||Vt["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||Vt["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Vt["CJK Symbols and Punctuation"](i)||Vt.Katakana(i)||Vt["Private Use Area"](i)||Vt["CJK Compatibility Forms"](i)||Vt["Small Form Variants"](i)||Vt["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(l))}function sp(l){return l>=1424&&l<=2303||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l)}function op(l,i){return!(!i&&sp(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Vt.Khmer(l))}function fy(l){for(const i of l)if(sp(i.charCodeAt(0)))return!0;return!1}const Ah="deferred",Eh="loading",Ih="loaded";let Ph=null,Ji="unavailable",mo=null;const Ic=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(Ji="error"),Ph&&Ph(l)};function Dh(){Pc.fire(new Ke("pluginStateChange",{pluginStatus:Ji,pluginURL:mo}))}const Pc=new bt,Mh=function(){return Ji},lp=function(){if(Ji!==Ah||!mo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ji=Eh,Dh(),mo&&ae({url:mo},l=>{l?Ic(l):(Ji=Ih,Dh())})},_a={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ji===Ih||_a.applyArabicShaping!=null,isLoading:()=>Ji===Eh,setState(l){if(!qe())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Ji=l.pluginStatus,mo=l.pluginURL},isParsed(){if(!qe())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return _a.applyArabicShaping!=null&&_a.processBidirectionalText!=null&&_a.processStyledBidirectionalText!=null},getPluginURL(){if(!qe())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return mo}};class yr{constructor(i,c){this.zoom=i,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ip,this.transition={})}isSupportedScript(i){return function(c,f){for(const g of c)if(!op(g.charCodeAt(0),f))return!1;return!0}(i,_a.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,c=i-Math.floor(i),f=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*c}}}class Hu{constructor(i,c){this.property=i,this.value=c,this.expression=function(f,g){if(Er(f))return new xc(f,g);if(Ou(f)){const b=bh(f,g);if(b.result==="error")throw new Error(b.value.map(S=>`${S.key}: ${S.message}`).join(", "));return b.value}{let b=f;return g.type==="color"&&typeof f=="string"?b=er.parse(f):g.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(b=Aa.parse(f)):b=pa.parse(f),{kind:"constant",evaluate:()=>b}}}(c===void 0?i.specification.default:c,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,c,f){return this.property.possiblyEvaluate(this,i,c,f)}}class Lh{constructor(i){this.property=i,this.value=new Hu(i,void 0)}transitioned(i,c){return new up(this.property,this.value,c,G({},i.transition,this.transition),i.now)}untransitioned(){return new up(this.property,this.value,null,{},0)}}class cp{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return ee(this._values[i].value.value)}setValue(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Lh(this._values[i].property)),this._values[i].value=new Hu(this._values[i].property,c===null?void 0:ee(c))}getTransition(i){return ee(this._values[i].transition)}setTransition(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Lh(this._values[i].property)),this._values[i].transition=ee(c)||void 0}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f);const g=this.getTransition(c);g!==void 0&&(i[`${c}-transition`]=g)}return i}transitioned(i,c){const f=new dp(this._properties);for(const g of Object.keys(this._values))f._values[g]=this._values[g].transitioned(i,c._values[g]);return f}untransitioned(){const i=new dp(this._properties);for(const c of Object.keys(this._values))i._values[c]=this._values[c].untransitioned();return i}}class up{constructor(i,c,f,g,b){this.property=i,this.value=c,this.begin=b+g.delay||0,this.end=this.begin+g.duration||0,i.specification.transition&&(g.delay||g.duration)&&(this.prior=f)}possiblyEvaluate(i,c,f){const g=i.now||0,b=this.value.possiblyEvaluate(i,c,f),S=this.prior;if(S){if(g>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(g<this.begin)return S.possiblyEvaluate(i,c,f);{const A=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(i,c,f),b,function(D){if(D<=0)return 0;if(D>=1)return 1;const O=D*D,B=O*D;return 4*(D<.5?B:3*(D-O)+B-.75)}(A))}}return b}}class dp{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,c,f){const g=new Gu(this._properties);for(const b of Object.keys(this._values))g._values[b]=this._values[b].possiblyEvaluate(i,c,f);return g}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class my{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return this._values[i].value!==void 0}getValue(i){return ee(this._values[i].value)}setValue(i,c){this._values[i]=new Hu(this._values[i].property,c===null?void 0:ee(c))}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f)}return i}possiblyEvaluate(i,c,f){const g=new Gu(this._properties);for(const b of Object.keys(this._values))g._values[b]=this._values[b].possiblyEvaluate(i,c,f);return g}}class $i{constructor(i,c,f){this.property=i,this.value=c,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,c,f,g){return this.property.evaluate(this.value,this.parameters,i,c,f,g)}}class Gu{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Qt{constructor(i){this.specification=i}possiblyEvaluate(i,c){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(c)}interpolate(i,c,f){const g=ga[this.specification.type];return g?g(i,c,f):i}}class on{constructor(i,c){this.specification=i,this.overrides=c}possiblyEvaluate(i,c,f,g){return new $i(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(c,null,{},f,g)}:i.expression,c)}interpolate(i,c,f){if(i.value.kind!=="constant"||c.value.kind!=="constant")return i;if(i.value.value===void 0||c.value.value===void 0)return new $i(this,{kind:"constant",value:void 0},i.parameters);const g=ga[this.specification.type];if(g){const b=g(i.value.value,c.value.value,f);return new $i(this,{kind:"constant",value:b},i.parameters)}return i}evaluate(i,c,f,g,b,S){return i.kind==="constant"?i.value:i.evaluate(c,f,g,b,S)}}class Dc extends on{possiblyEvaluate(i,c,f,g){if(i.value===void 0)return new $i(this,{kind:"constant",value:void 0},c);if(i.expression.kind==="constant"){const b=i.expression.evaluate(c,null,{},f,g),S=i.property.specification.type==="resolvedImage"&&typeof b!="string"?b.name:b,A=this._calculate(S,S,S,c);return new $i(this,{kind:"constant",value:A},c)}if(i.expression.kind==="camera"){const b=this._calculate(i.expression.evaluate({zoom:c.zoom-1}),i.expression.evaluate({zoom:c.zoom}),i.expression.evaluate({zoom:c.zoom+1}),c);return new $i(this,{kind:"constant",value:b},c)}return new $i(this,i.expression,c)}evaluate(i,c,f,g,b,S){if(i.kind==="source"){const A=i.evaluate(c,f,g,b,S);return this._calculate(A,A,A,c)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(c.zoom)-1},f,g),i.evaluate({zoom:Math.floor(c.zoom)},f,g),i.evaluate({zoom:Math.floor(c.zoom)+1},f,g),c):i.value}_calculate(i,c,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class Rh{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,g){if(i.value!==void 0){if(i.expression.kind==="constant"){const b=i.expression.evaluate(c,null,{},f,g);return this._calculate(b,b,b,c)}return this._calculate(i.expression.evaluate(new yr(Math.floor(c.zoom-1),c)),i.expression.evaluate(new yr(Math.floor(c.zoom),c)),i.expression.evaluate(new yr(Math.floor(c.zoom+1),c)),c)}}_calculate(i,c,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class Oh{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,g){return!!i.expression.evaluate(c,null,{},f,g)}interpolate(){return!1}}class Yr{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in i){const f=i[c];f.specification.overridable&&this.overridableProperties.push(c);const g=this.defaultPropertyValues[c]=new Hu(f,void 0),b=this.defaultTransitionablePropertyValues[c]=new Lh(f);this.defaultTransitioningPropertyValues[c]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=g.possiblyEvaluate({})}}}Ut("DataDrivenProperty",on),Ut("DataConstantProperty",Qt),Ut("CrossFadedDataDrivenProperty",Dc),Ut("CrossFadedProperty",Rh),Ut("ColorRampProperty",Oh);const Fh="-transition";class Da extends bt{constructor(i,c){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),c.layout&&(this._unevaluatedLayout=new my(c.layout)),c.paint)){this._transitionablePaint=new cp(c.paint);for(const f in i.paint)this.setPaintProperty(f,i.paint[f],{validate:!1});for(const f in i.layout)this.setLayoutProperty(f,i.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Gu(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,c,f={}){c!=null&&this._validate(rp,`layers.${this.id}.layout.${i}`,i,c,f)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,c):this.visibility=c)}getPaintProperty(i){return i.endsWith(Fh)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,c,f={}){if(c!=null&&this._validate(Sh,`layers.${this.id}.paint.${i}`,i,c,f))return!1;if(i.endsWith(Fh))return this._transitionablePaint.setTransition(i.slice(0,-11),c||void 0),!1;{const g=this._transitionablePaint._values[i],b=g.property.specification["property-type"]==="cross-faded-data-driven",S=g.value.isDataDriven(),A=g.value;this._transitionablePaint.setValue(i,c),this._handleSpecialPaintPropertyUpdate(i);const D=this._transitionablePaint._values[i].value;return D.isDataDriven()||S||b||this._handleOverridablePaintPropertyUpdate(i,A,D)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,c,f){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,c){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,c)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),le(i,(c,f)=>!(c===void 0||f==="layout"&&!Object.keys(c).length||f==="paint"&&!Object.keys(c).length))}_validate(i,c,f,g,b={}){return(!b||b.validate!==!1)&&qu(this,i.call(Os,{key:c,layerType:this.type,objectKey:f,value:g,styleSpec:Ce,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const c=this.paint.get(i);if(c instanceof $i&&Dl(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const hp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ho{constructor(i,c){this._structArray=i,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class zr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,c){return i._trim(),c&&(i.isTransferred=!0,c.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const c=Object.create(this.prototype);return c.arrayBuffer=i.arrayBuffer,c.length=i.length,c.capacity=i.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Pr(l,i=1){let c=0,f=0;return{members:l.map(g=>{const b=hp[g.type].BYTES_PER_ELEMENT,S=c=Fl(c,Math.max(i,b)),A=g.components||1;return f=Math.max(f,b),c+=b*A,{name:g.name,type:g.type,components:A,offset:S}}),size:Fl(c,Math.max(f,i)),alignment:i}}function Fl(l,i){return Math.ceil(l/i)*i}class Mc extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.int16[g+0]=c,this.int16[g+1]=f,i}}Mc.prototype.bytesPerElement=4,Ut("StructArrayLayout2i4",Mc);class Lc extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const b=3*i;return this.int16[b+0]=c,this.int16[b+1]=f,this.int16[b+2]=g,i}}Lc.prototype.bytesPerElement=6,Ut("StructArrayLayout3i6",Lc);class Go extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const b=this.length;return this.resize(b+1),this.emplace(b,i,c,f,g)}emplace(i,c,f,g,b){const S=4*i;return this.int16[S+0]=c,this.int16[S+1]=f,this.int16[S+2]=g,this.int16[S+3]=b,i}}Go.prototype.bytesPerElement=8,Ut("StructArrayLayout4i8",Go);class zh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,b,S)}emplace(i,c,f,g,b,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=g,this.int16[D+3]=b,this.int16[D+4]=S,this.int16[D+5]=A,i}}zh.prototype.bytesPerElement=12,Ut("StructArrayLayout2i4i12",zh);class Bh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,b,S)}emplace(i,c,f,g,b,S,A){const D=4*i,O=8*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.uint8[O+4]=g,this.uint8[O+5]=b,this.uint8[O+6]=S,this.uint8[O+7]=A,i}}Bh.prototype.bytesPerElement=8,Ut("StructArrayLayout2i4ub8",Bh);class zl extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.float32[g+0]=c,this.float32[g+1]=f,i}}zl.prototype.bytesPerElement=8,Ut("StructArrayLayout2f8",zl);class Vh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S,A,D,O,B){const j=this.length;return this.resize(j+1),this.emplace(j,i,c,f,g,b,S,A,D,O,B)}emplace(i,c,f,g,b,S,A,D,O,B,j){const W=10*i;return this.uint16[W+0]=c,this.uint16[W+1]=f,this.uint16[W+2]=g,this.uint16[W+3]=b,this.uint16[W+4]=S,this.uint16[W+5]=A,this.uint16[W+6]=D,this.uint16[W+7]=O,this.uint16[W+8]=B,this.uint16[W+9]=j,i}}Vh.prototype.bytesPerElement=20,Ut("StructArrayLayout10ui20",Vh);class Nh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S,A,D,O,B,j,W){const ne=this.length;return this.resize(ne+1),this.emplace(ne,i,c,f,g,b,S,A,D,O,B,j,W)}emplace(i,c,f,g,b,S,A,D,O,B,j,W,ne){const re=12*i;return this.int16[re+0]=c,this.int16[re+1]=f,this.int16[re+2]=g,this.int16[re+3]=b,this.uint16[re+4]=S,this.uint16[re+5]=A,this.uint16[re+6]=D,this.uint16[re+7]=O,this.int16[re+8]=B,this.int16[re+9]=j,this.int16[re+10]=W,this.int16[re+11]=ne,i}}Nh.prototype.bytesPerElement=24,Ut("StructArrayLayout4i4ui4i24",Nh);class Yn extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const b=3*i;return this.float32[b+0]=c,this.float32[b+1]=f,this.float32[b+2]=g,i}}Yn.prototype.bytesPerElement=12,Ut("StructArrayLayout3f12",Yn);class _ extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint32[1*i+0]=c,i}}_.prototype.bytesPerElement=4,Ut("StructArrayLayout1ul4",_);class a extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S,A,D,O){const B=this.length;return this.resize(B+1),this.emplace(B,i,c,f,g,b,S,A,D,O)}emplace(i,c,f,g,b,S,A,D,O,B){const j=10*i,W=5*i;return this.int16[j+0]=c,this.int16[j+1]=f,this.int16[j+2]=g,this.int16[j+3]=b,this.int16[j+4]=S,this.int16[j+5]=A,this.uint32[W+3]=D,this.uint16[j+8]=O,this.uint16[j+9]=B,i}}a.prototype.bytesPerElement=20,Ut("StructArrayLayout6i1ul2ui20",a);class d extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,b,S)}emplace(i,c,f,g,b,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=g,this.int16[D+3]=b,this.int16[D+4]=S,this.int16[D+5]=A,i}}d.prototype.bytesPerElement=12,Ut("StructArrayLayout2i2i2i12",d);class m extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b){const S=this.length;return this.resize(S+1),this.emplace(S,i,c,f,g,b)}emplace(i,c,f,g,b,S){const A=4*i,D=8*i;return this.float32[A+0]=c,this.float32[A+1]=f,this.float32[A+2]=g,this.int16[D+6]=b,this.int16[D+7]=S,i}}m.prototype.bytesPerElement=16,Ut("StructArrayLayout2f1f2i16",m);class v extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const b=this.length;return this.resize(b+1),this.emplace(b,i,c,f,g)}emplace(i,c,f,g,b){const S=12*i,A=3*i;return this.uint8[S+0]=c,this.uint8[S+1]=f,this.float32[A+1]=g,this.float32[A+2]=b,i}}v.prototype.bytesPerElement=12,Ut("StructArrayLayout2ub2f12",v);class x extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const b=3*i;return this.uint16[b+0]=c,this.uint16[b+1]=f,this.uint16[b+2]=g,i}}x.prototype.bytesPerElement=6,Ut("StructArrayLayout3ui6",x);class E extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S,A,D,O,B,j,W,ne,re,ue,ye,we){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,i,c,f,g,b,S,A,D,O,B,j,W,ne,re,ue,ye,we)}emplace(i,c,f,g,b,S,A,D,O,B,j,W,ne,re,ue,ye,we,Oe){const Ae=24*i,Be=12*i,Ge=48*i;return this.int16[Ae+0]=c,this.int16[Ae+1]=f,this.uint16[Ae+2]=g,this.uint16[Ae+3]=b,this.uint32[Be+2]=S,this.uint32[Be+3]=A,this.uint32[Be+4]=D,this.uint16[Ae+10]=O,this.uint16[Ae+11]=B,this.uint16[Ae+12]=j,this.float32[Be+7]=W,this.float32[Be+8]=ne,this.uint8[Ge+36]=re,this.uint8[Ge+37]=ue,this.uint8[Ge+38]=ye,this.uint32[Be+10]=we,this.int16[Ae+22]=Oe,i}}E.prototype.bytesPerElement=48,Ut("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",E);class P extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g,b,S,A,D,O,B,j,W,ne,re,ue,ye,we,Oe,Ae,Be,Ge,st,Nt,Zt,Bt,Ft,Pt,qt){const Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,i,c,f,g,b,S,A,D,O,B,j,W,ne,re,ue,ye,we,Oe,Ae,Be,Ge,st,Nt,Zt,Bt,Ft,Pt,qt)}emplace(i,c,f,g,b,S,A,D,O,B,j,W,ne,re,ue,ye,we,Oe,Ae,Be,Ge,st,Nt,Zt,Bt,Ft,Pt,qt,Dt){const wt=32*i,nn=16*i;return this.int16[wt+0]=c,this.int16[wt+1]=f,this.int16[wt+2]=g,this.int16[wt+3]=b,this.int16[wt+4]=S,this.int16[wt+5]=A,this.int16[wt+6]=D,this.int16[wt+7]=O,this.uint16[wt+8]=B,this.uint16[wt+9]=j,this.uint16[wt+10]=W,this.uint16[wt+11]=ne,this.uint16[wt+12]=re,this.uint16[wt+13]=ue,this.uint16[wt+14]=ye,this.uint16[wt+15]=we,this.uint16[wt+16]=Oe,this.uint16[wt+17]=Ae,this.uint16[wt+18]=Be,this.uint16[wt+19]=Ge,this.uint16[wt+20]=st,this.uint16[wt+21]=Nt,this.uint16[wt+22]=Zt,this.uint32[nn+12]=Bt,this.float32[nn+13]=Ft,this.float32[nn+14]=Pt,this.uint16[wt+30]=qt,this.uint16[wt+31]=Dt,i}}P.prototype.bytesPerElement=64,Ut("StructArrayLayout8i15ui1ul2f2ui64",P);class L extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.float32[1*i+0]=c,i}}L.prototype.bytesPerElement=4,Ut("StructArrayLayout1f4",L);class z extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const b=3*i;return this.uint16[6*i+0]=c,this.float32[b+1]=f,this.float32[b+2]=g,i}}z.prototype.bytesPerElement=12,Ut("StructArrayLayout1ui2f12",z);class V extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const b=4*i;return this.uint32[2*i+0]=c,this.uint16[b+2]=f,this.uint16[b+3]=g,i}}V.prototype.bytesPerElement=8,Ut("StructArrayLayout1ul2ui8",V);class U extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.uint16[g+0]=c,this.uint16[g+1]=f,i}}U.prototype.bytesPerElement=4,Ut("StructArrayLayout2ui4",U);class Q extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint16[1*i+0]=c,i}}Q.prototype.bytesPerElement=2,Ut("StructArrayLayout1ui2",Q);class he extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const b=this.length;return this.resize(b+1),this.emplace(b,i,c,f,g)}emplace(i,c,f,g,b){const S=4*i;return this.float32[S+0]=c,this.float32[S+1]=f,this.float32[S+2]=g,this.float32[S+3]=b,i}}he.prototype.bytesPerElement=16,Ut("StructArrayLayout4f16",he);class de extends Ho{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new C(this.anchorPointX,this.anchorPointY)}}de.prototype.size=20;class ge extends a{get(i){return new de(this,i)}}Ut("CollisionBoxArray",ge);class ce extends Ho{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ce.prototype.size=48;class De extends E{get(i){return new ce(this,i)}}Ut("PlacedSymbolArray",De);class je extends Ho{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}je.prototype.size=64;class xe extends P{get(i){return new je(this,i)}}Ut("SymbolInstanceArray",xe);class Le extends L{getoffsetX(i){return this.float32[1*i+0]}}Ut("GlyphOffsetArray",Le);class Ze extends Lc{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}Ut("SymbolLineVertexArray",Ze);class Xe extends Ho{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Xe.prototype.size=12;class rt extends z{get(i){return new Xe(this,i)}}Ut("TextAnchorOffsetArray",rt);class xt extends Ho{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}xt.prototype.size=8;class mt extends V{get(i){return new xt(this,i)}}Ut("FeatureIndexArray",mt);class At extends Mc{}class Yt extends Mc{}class Pn extends Mc{}class Ot extends zh{}class ln extends Bh{}class Kt extends zl{}class tr extends Vh{}class In extends Nh{}class Sn extends Yn{}class Dn extends _{}class qr extends d{}class mr extends v{}class Ci extends x{}class ci extends U{}const Zr=Pr([{name:"a_pos",components:2,type:"Int16"}],4),{members:ba}=Zr;class _r{constructor(i=[]){this.segments=i}prepareSegment(i,c,f,g){let b=this.segments[this.segments.length-1];return i>_r.MAX_VERTEX_ARRAY_LENGTH&&fe(`Max vertices per segment is ${_r.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!b||b.vertexLength+i>_r.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==g)&&(b={vertexOffset:c.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},g!==void 0&&(b.sortKey=g),this.segments.push(b)),b}get(){return this.segments}destroy(){for(const i of this.segments)for(const c in i.vaos)i.vaos[c].destroy()}static simpleSegment(i,c,f,g){return new _r([{vertexOffset:i,primitiveOffset:c,vertexLength:f,primitiveLength:g,vaos:{},sortKey:0}])}}function ls(l,i){return 256*(l=J(Math.floor(l),0,255))+J(Math.floor(i),0,255)}_r.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ut("SegmentVector",_r);const cs=Pr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var po={exports:{}},Wo={exports:{}};Wo.exports=function(l,i){var c,f,g,b,S,A,D,O;for(f=l.length-(c=3&l.length),g=i,S=3432918353,A=461845907,O=0;O<f;)D=255&l.charCodeAt(O)|(255&l.charCodeAt(++O))<<8|(255&l.charCodeAt(++O))<<16|(255&l.charCodeAt(++O))<<24,++O,g=27492+(65535&(b=5*(65535&(g=(g^=D=(65535&(D=(D=(65535&D)*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(b>>>16)&65535)<<16);switch(D=0,c){case 3:D^=(255&l.charCodeAt(O+2))<<16;case 2:D^=(255&l.charCodeAt(O+1))<<8;case 1:g^=D=(65535&(D=(D=(65535&(D^=255&l.charCodeAt(O)))*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295}return g^=l.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0};var Bl=Wo.exports,Li={exports:{}};Li.exports=function(l,i){for(var c,f=l.length,g=i^f,b=0;f>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(b)|(255&l.charCodeAt(++b))<<8|(255&l.charCodeAt(++b))<<16|(255&l.charCodeAt(++b))<<24))+((1540483477*(c>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),f-=4,++b;switch(f){case 3:g^=(255&l.charCodeAt(b+2))<<16;case 2:g^=(255&l.charCodeAt(b+1))<<8;case 1:g=1540483477*(65535&(g^=255&l.charCodeAt(b)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0};var Ti=Bl,Ui=Li.exports;po.exports=Ti,po.exports.murmur3=Ti,po.exports.murmur2=Ui;var Yo=y(po.exports);class jr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,c,f,g){this.ids.push(ui(i)),this.positions.push(c,f,g)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=ui(i);let f=0,g=this.ids.length-1;for(;f<g;){const S=f+g>>1;this.ids[S]>=c?g=S:f=S+1}const b=[];for(;this.ids[f]===c;)b.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return b}static serialize(i,c){const f=new Float64Array(i.ids),g=new Uint32Array(i.positions);return Qi(f,g,0,f.length-1),c&&c.push(f.buffer,g.buffer),{ids:f,positions:g}}static deserialize(i){const c=new jr;return c.ids=i.ids,c.positions=i.positions,c.indexed=!0,c}}function ui(l){const i=+l;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Yo(String(l))}function Qi(l,i,c,f){for(;c<f;){const g=l[c+f>>1];let b=c-1,S=f+1;for(;;){do b++;while(l[b]<g);do S--;while(l[S]>g);if(b>=S)break;Hr(l,b,S),Hr(i,3*b,3*S),Hr(i,3*b+1,3*S+1),Hr(i,3*b+2,3*S+2)}S-c<f-S?(Qi(l,i,c,S),c=S+1):(Qi(l,i,S+1,f),f=S)}}function Hr(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}Ut("FeaturePositionMap",jr);class Zo{constructor(i,c){this.gl=i.gl,this.location=c}}class Wu extends Zo{constructor(i,c){super(i,c),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class fp extends Zo{constructor(i,c){super(i,c),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class mp extends Zo{constructor(i,c){super(i,c),this.current=er.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const py=new Float32Array(16);function $h(l){return[ls(255*l.r,255*l.g),ls(255*l.b,255*l.a)]}class us{constructor(i,c,f){this.value=i,this.uniformNames=c.map(g=>`u_${g}`),this.type=f}setUniform(i,c,f){i.set(f.constantOr(this.value))}getBinding(i,c,f){return this.type==="color"?new mp(i,c):new Wu(i,c)}}class Ko{constructor(i,c){this.uniformNames=c.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=i.tlbr}setUniform(i,c,f,g){const b=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&i.set(b)}getBinding(i,c,f){return f.substr(0,9)==="u_pattern"?new fp(i,c):new Wu(i,c)}}class ds{constructor(i,c,f,g){this.expression=i,this.type=f,this.maxValue=0,this.paintVertexAttributes=c.map(b=>({name:`a_${b}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(i,c,f,g,b){const S=this.paintVertexArray.length,A=this.expression.evaluate(new yr(0),c,{},g,[],b);this.paintVertexArray.resize(i),this._setPaintValue(S,i,A)}updatePaintArray(i,c,f,g){const b=this.expression.evaluate({zoom:0},f,g);this._setPaintValue(i,c,b)}_setPaintValue(i,c,f){if(this.type==="color"){const g=$h(f);for(let b=i;b<c;b++)this.paintVertexArray.emplace(b,g[0],g[1])}else{for(let g=i;g<c;g++)this.paintVertexArray.emplace(g,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ma{constructor(i,c,f,g,b,S){this.expression=i,this.uniformNames=c.map(A=>`u_${A}_t`),this.type=f,this.useIntegerZoom=g,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=c.map(A=>({name:`a_${A}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(i,c,f,g,b){const S=this.expression.evaluate(new yr(this.zoom),c,{},g,[],b),A=this.expression.evaluate(new yr(this.zoom+1),c,{},g,[],b),D=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(D,i,S,A)}updatePaintArray(i,c,f,g){const b=this.expression.evaluate({zoom:this.zoom},f,g),S=this.expression.evaluate({zoom:this.zoom+1},f,g);this._setPaintValue(i,c,b,S)}_setPaintValue(i,c,f,g){if(this.type==="color"){const b=$h(f),S=$h(g);for(let A=i;A<c;A++)this.paintVertexArray.emplace(A,b[0],b[1],S[0],S[1])}else{for(let b=i;b<c;b++)this.paintVertexArray.emplace(b,f,g);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(g))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,c){const f=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,g=J(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);i.set(g)}getBinding(i,c,f){return new Wu(i,c)}}class hs{constructor(i,c,f,g,b,S){this.expression=i,this.type=c,this.useIntegerZoom=f,this.zoom=g,this.layerId=S,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b}populatePaintArray(i,c,f){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(g,i,c.patterns&&c.patterns[this.layerId],f)}updatePaintArray(i,c,f,g,b){this._setPaintValues(i,c,f.patterns&&f.patterns[this.layerId],b)}_setPaintValues(i,c,f,g){if(!g||!f)return;const{min:b,mid:S,max:A}=f,D=g[b],O=g[S],B=g[A];if(D&&O&&B)for(let j=i;j<c;j++)this.zoomInPaintVertexArray.emplace(j,O.tl[0],O.tl[1],O.br[0],O.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],O.pixelRatio,D.pixelRatio),this.zoomOutPaintVertexArray.emplace(j,O.tl[0],O.tl[1],O.br[0],O.br[1],B.tl[0],B.tl[1],B.br[0],B.br[1],O.pixelRatio,B.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,cs.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,cs.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Uh{constructor(i,c,f){this.binders={},this._buffers=[];const g=[];for(const b in i.paint._values){if(!f(b))continue;const S=i.paint.get(b);if(!(S instanceof $i&&Dl(S.property.specification)))continue;const A=KD(b,i.type),D=S.value,O=S.property.specification.type,B=S.property.useIntegerZoom,j=S.property.specification["property-type"],W=j==="cross-faded"||j==="cross-faded-data-driven";if(D.kind==="constant")this.binders[b]=W?new Ko(D.value,A):new us(D.value,A,O),g.push(`/u_${b}`);else if(D.kind==="source"||W){const ne=x1(b,O,"source");this.binders[b]=W?new hs(D,O,B,c,ne,i.id):new ds(D,A,O,ne),g.push(`/a_${b}`)}else{const ne=x1(b,O,"composite");this.binders[b]=new Ma(D,A,O,B,c,ne),g.push(`/z_${b}`)}}this.cacheKey=g.sort().join("")}getMaxValue(i){const c=this.binders[i];return c instanceof ds||c instanceof Ma?c.maxValue:0}populatePaintArrays(i,c,f,g,b){for(const S in this.binders){const A=this.binders[S];(A instanceof ds||A instanceof Ma||A instanceof hs)&&A.populatePaintArray(i,c,f,g,b)}}setConstantPatternPositions(i,c){for(const f in this.binders){const g=this.binders[f];g instanceof Ko&&g.setConstantPatternPositions(i,c)}}updatePaintArrays(i,c,f,g,b){let S=!1;for(const A in i){const D=c.getPositions(A);for(const O of D){const B=f.feature(O.index);for(const j in this.binders){const W=this.binders[j];if((W instanceof ds||W instanceof Ma||W instanceof hs)&&W.expression.isStateDependent===!0){const ne=g.paint.get(j);W.expression=ne.value,W.updatePaintArray(O.start,O.end,B,i[A],b),S=!0}}}}return S}defines(){const i=[];for(const c in this.binders){const f=this.binders[c];(f instanceof us||f instanceof Ko)&&i.push(...f.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return i}getBinderAttributes(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof ds||f instanceof Ma)for(let g=0;g<f.paintVertexAttributes.length;g++)i.push(f.paintVertexAttributes[g].name);else if(f instanceof hs)for(let g=0;g<cs.members.length;g++)i.push(cs.members[g].name)}return i}getBinderUniforms(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof us||f instanceof Ko||f instanceof Ma)for(const g of f.uniformNames)i.push(g)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,c){const f=[];for(const g in this.binders){const b=this.binders[g];if(b instanceof us||b instanceof Ko||b instanceof Ma){for(const S of b.uniformNames)if(c[S]){const A=b.getBinding(i,c[S],S);f.push({name:S,property:g,binding:A})}}}return f}setUniforms(i,c,f,g){for(const{name:b,property:S,binding:A}of c)this.binders[S].setUniform(A,g,f.get(S),b)}updatePaintBuffers(i){this._buffers=[];for(const c in this.binders){const f=this.binders[c];if(i&&f instanceof hs){const g=i.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(f instanceof ds||f instanceof Ma)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(i){for(const c in this.binders){const f=this.binders[c];(f instanceof ds||f instanceof Ma||f instanceof hs)&&f.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const c=this.binders[i];(c instanceof ds||c instanceof Ma||c instanceof hs)&&c.destroy()}}}class zs{constructor(i,c,f=()=>!0){this.programConfigurations={};for(const g of i)this.programConfigurations[g.id]=new Uh(g,c,f);this.needsUpload=!1,this._featureMap=new jr,this._bufferOffset=0}populatePaintArrays(i,c,f,g,b,S){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(i,c,g,b,S);c.id!==void 0&&this._featureMap.add(c.id,f,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,c,f,g){for(const b of f)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(i,this._featureMap,c,b,g)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function KD(l,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${i}-`,"").replace(/-/g,"_")]}function x1(l,i,c){const f={color:{source:zl,composite:he},number:{source:L,composite:zl}},g=function(b){return{"line-pattern":{source:tr,composite:tr},"fill-pattern":{source:tr,composite:tr},"fill-extrusion-pattern":{source:tr,composite:tr}}[b]}(l);return g&&g[c]||f[i][c]}Ut("ConstantBinder",us),Ut("CrossFadedConstantBinder",Ko),Ut("SourceExpressionBinder",ds),Ut("CrossFadedCompositeBinder",hs),Ut("CompositeExpressionBinder",Ma),Ut("ProgramConfiguration",Uh,{omit:["_buffers"]}),Ut("ProgramConfigurationSet",zs);const ti=8192,gy=Math.pow(2,14)-1,w1=-gy-1;function Rc(l){const i=ti/l.extent,c=l.loadGeometry();for(let f=0;f<c.length;f++){const g=c[f];for(let b=0;b<g.length;b++){const S=g[b],A=Math.round(S.x*i),D=Math.round(S.y*i);S.x=J(A,w1,gy),S.y=J(D,w1,gy),(A<S.x||A>S.x+1||D<S.y||D>S.y+1)&&fe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function Oc(l,i){return{type:l.type,id:l.id,properties:l.properties,geometry:i?Rc(l):[]}}function pp(l,i,c,f,g){l.emplaceBack(2*i+(f+1)/2,2*c+(g+1)/2)}class vy{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Yt,this.indexArray=new Ci,this.segments=new _r,this.programConfigurations=new zs(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){const g=this.layers[0],b=[];let S=null,A=!1;g.type==="circle"&&(S=g.layout.get("circle-sort-key"),A=!S.isConstant());for(const{feature:D,id:O,index:B,sourceLayerIndex:j}of i){const W=this.layers[0]._featureFilter.needGeometry,ne=Oc(D,W);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),ne,f))continue;const re=A?S.evaluate(ne,{},f):void 0,ue={id:O,properties:D.properties,type:D.type,sourceLayerIndex:j,index:B,geometry:W?ne.geometry:Rc(D),patterns:{},sortKey:re};b.push(ue)}A&&b.sort((D,O)=>D.sortKey-O.sortKey);for(const D of b){const{geometry:O,index:B,sourceLayerIndex:j}=D,W=i[B].feature;this.addFeature(D,O,B,f),c.featureIndex.insert(W,O,B,j,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,ba),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,c,f,g){for(const b of c)for(const S of b){const A=S.x,D=S.y;if(A<0||A>=ti||D<0||D>=ti)continue;const O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),B=O.vertexLength;pp(this.layoutVertexArray,A,D,-1,-1),pp(this.layoutVertexArray,A,D,1,-1),pp(this.layoutVertexArray,A,D,1,1),pp(this.layoutVertexArray,A,D,-1,1),this.indexArray.emplaceBack(B,B+1,B+2),this.indexArray.emplaceBack(B,B+3,B+2),O.vertexLength+=4,O.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,{},g)}}function S1(l,i){for(let c=0;c<l.length;c++)if(Yu(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(Yu(l,i[c]))return!0;return!!yy(l,i)}function XD(l,i,c){return!!Yu(l,i)||!!_y(i,l,c)}function k1(l,i){if(l.length===1)return T1(i,l[0]);for(let c=0;c<i.length;c++){const f=i[c];for(let g=0;g<f.length;g++)if(Yu(l,f[g]))return!0}for(let c=0;c<l.length;c++)if(T1(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(yy(l,i[c]))return!0;return!1}function JD(l,i,c){if(l.length>1){if(yy(l,i))return!0;for(let f=0;f<i.length;f++)if(_y(i[f],l,c))return!0}for(let f=0;f<l.length;f++)if(_y(l[f],i,c))return!0;return!1}function yy(l,i){if(l.length===0||i.length===0)return!1;for(let c=0;c<l.length-1;c++){const f=l[c],g=l[c+1];for(let b=0;b<i.length-1;b++)if(QD(f,g,i[b],i[b+1]))return!0}return!1}function QD(l,i,c,f){return Ie(l,c,f)!==Ie(i,c,f)&&Ie(l,i,c)!==Ie(l,i,f)}function _y(l,i,c){const f=c*c;if(i.length===1)return l.distSqr(i[0])<f;for(let g=1;g<i.length;g++)if(C1(l,i[g-1],i[g])<f)return!0;return!1}function C1(l,i,c){const f=i.distSqr(c);if(f===0)return l.distSqr(i);const g=((l.x-i.x)*(c.x-i.x)+(l.y-i.y)*(c.y-i.y))/f;return l.distSqr(g<0?i:g>1?c:c.sub(i)._mult(g)._add(i))}function T1(l,i){let c,f,g,b=!1;for(let S=0;S<l.length;S++){c=l[S];for(let A=0,D=c.length-1;A<c.length;D=A++)f=c[A],g=c[D],f.y>i.y!=g.y>i.y&&i.x<(g.x-f.x)*(i.y-f.y)/(g.y-f.y)+f.x&&(b=!b)}return b}function Yu(l,i){let c=!1;for(let f=0,g=l.length-1;f<l.length;g=f++){const b=l[f],S=l[g];b.y>i.y!=S.y>i.y&&i.x<(S.x-b.x)*(i.y-b.y)/(S.y-b.y)+b.x&&(c=!c)}return c}function eM(l,i,c){const f=c[0],g=c[2];if(l.x<f.x&&i.x<f.x||l.x>g.x&&i.x>g.x||l.y<f.y&&i.y<f.y||l.y>g.y&&i.y>g.y)return!1;const b=Ie(l,i,c[0]);return b!==Ie(l,i,c[1])||b!==Ie(l,i,c[2])||b!==Ie(l,i,c[3])}function qh(l,i,c){const f=i.paint.get(l).value;return f.kind==="constant"?f.value:c.programConfigurations.get(i.id).getMaxValue(l)}function gp(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function vp(l,i,c,f,g){if(!i[0]&&!i[1])return l;const b=C.convert(i)._mult(g);c==="viewport"&&b._rotate(-f);const S=[];for(let A=0;A<l.length;A++)S.push(l[A].sub(b));return S}let A1,E1;Ut("CircleBucket",vy,{omit:["layers"]});var tM={get paint(){return E1=E1||new Yr({"circle-radius":new on(Ce.paint_circle["circle-radius"]),"circle-color":new on(Ce.paint_circle["circle-color"]),"circle-blur":new on(Ce.paint_circle["circle-blur"]),"circle-opacity":new on(Ce.paint_circle["circle-opacity"]),"circle-translate":new Qt(Ce.paint_circle["circle-translate"]),"circle-translate-anchor":new Qt(Ce.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qt(Ce.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qt(Ce.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new on(Ce.paint_circle["circle-stroke-width"]),"circle-stroke-color":new on(Ce.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new on(Ce.paint_circle["circle-stroke-opacity"])})},get layout(){return A1=A1||new Yr({"circle-sort-key":new on(Ce.layout_circle["circle-sort-key"])})}},ea=1e-6,Zu=typeof Float32Array<"u"?Float32Array:Array;function by(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function I1(l,i,c){var f=i[0],g=i[1],b=i[2],S=i[3],A=i[4],D=i[5],O=i[6],B=i[7],j=i[8],W=i[9],ne=i[10],re=i[11],ue=i[12],ye=i[13],we=i[14],Oe=i[15],Ae=c[0],Be=c[1],Ge=c[2],st=c[3];return l[0]=Ae*f+Be*A+Ge*j+st*ue,l[1]=Ae*g+Be*D+Ge*W+st*ye,l[2]=Ae*b+Be*O+Ge*ne+st*we,l[3]=Ae*S+Be*B+Ge*re+st*Oe,l[4]=(Ae=c[4])*f+(Be=c[5])*A+(Ge=c[6])*j+(st=c[7])*ue,l[5]=Ae*g+Be*D+Ge*W+st*ye,l[6]=Ae*b+Be*O+Ge*ne+st*we,l[7]=Ae*S+Be*B+Ge*re+st*Oe,l[8]=(Ae=c[8])*f+(Be=c[9])*A+(Ge=c[10])*j+(st=c[11])*ue,l[9]=Ae*g+Be*D+Ge*W+st*ye,l[10]=Ae*b+Be*O+Ge*ne+st*we,l[11]=Ae*S+Be*B+Ge*re+st*Oe,l[12]=(Ae=c[12])*f+(Be=c[13])*A+(Ge=c[14])*j+(st=c[15])*ue,l[13]=Ae*g+Be*D+Ge*W+st*ye,l[14]=Ae*b+Be*O+Ge*ne+st*we,l[15]=Ae*S+Be*B+Ge*re+st*Oe,l}Math.hypot||(Math.hypot=function(){for(var l=0,i=arguments.length;i--;)l+=arguments[i]*arguments[i];return Math.sqrt(l)});var jh,nM=I1;function yp(l,i,c){var f=i[0],g=i[1],b=i[2],S=i[3];return l[0]=c[0]*f+c[4]*g+c[8]*b+c[12]*S,l[1]=c[1]*f+c[5]*g+c[9]*b+c[13]*S,l[2]=c[2]*f+c[6]*g+c[10]*b+c[14]*S,l[3]=c[3]*f+c[7]*g+c[11]*b+c[15]*S,l}jh=new Zu(4),Zu!=Float32Array&&(jh[0]=0,jh[1]=0,jh[2]=0,jh[3]=0);class rM extends Da{constructor(i){super(i,tM)}createBucket(i){return new vy(i)}queryRadius(i){const c=i;return qh("circle-radius",this,c)+qh("circle-stroke-width",this,c)+gp(this.paint.get("circle-translate"))}queryIntersectsFeature(i,c,f,g,b,S,A,D){const O=vp(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,A),B=this.paint.get("circle-radius").evaluate(c,f)+this.paint.get("circle-stroke-width").evaluate(c,f),j=this.paint.get("circle-pitch-alignment")==="map",W=j?O:function(re,ue){return re.map(ye=>P1(ye,ue))}(O,D),ne=j?B*A:B;for(const re of g)for(const ue of re){const ye=j?ue:P1(ue,D);let we=ne;const Oe=yp([],[ue.x,ue.y,0,1],D);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?we*=Oe[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(we*=S.cameraToCenterDistance/Oe[3]),XD(W,ye,we))return!0}return!1}}function P1(l,i){const c=yp([],[l.x,l.y,0,1],i);return new C(c[0]/c[3],c[1]/c[3])}class D1 extends vy{}let M1;Ut("HeatmapBucket",D1,{omit:["layers"]});var iM={get paint(){return M1=M1||new Yr({"heatmap-radius":new on(Ce.paint_heatmap["heatmap-radius"]),"heatmap-weight":new on(Ce.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qt(Ce.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Oh(Ce.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qt(Ce.paint_heatmap["heatmap-opacity"])})}};function xy(l,{width:i,height:c},f,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==i*c*f)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${i*c*f}`)}else g=new Uint8Array(i*c*f);return l.width=i,l.height=c,l.data=g,l}function L1(l,{width:i,height:c},f){if(i===l.width&&c===l.height)return;const g=xy({},{width:i,height:c},f);wy(l,g,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,i),height:Math.min(l.height,c)},f),l.width=i,l.height=c,l.data=g.data}function wy(l,i,c,f,g,b){if(g.width===0||g.height===0)return i;if(g.width>l.width||g.height>l.height||c.x>l.width-g.width||c.y>l.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>i.width||g.height>i.height||f.x>i.width-g.width||f.y>i.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const S=l.data,A=i.data;if(S===A)throw new Error("srcData equals dstData, so image is already copied");for(let D=0;D<g.height;D++){const O=((c.y+D)*l.width+c.x)*b,B=((f.y+D)*i.width+f.x)*b;for(let j=0;j<g.width*b;j++)A[B+j]=S[O+j]}return i}class Hh{constructor(i,c){xy(this,i,1,c)}resize(i){L1(this,i,1)}clone(){return new Hh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,g,b){wy(i,c,f,g,b,1)}}class qa{constructor(i,c){xy(this,i,4,c)}resize(i){L1(this,i,4)}replace(i,c){c?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new qa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,g,b){wy(i,c,f,g,b,4)}}function R1(l){const i={},c=l.resolution||256,f=l.clips?l.clips.length:1,g=l.image||new qa({width:c,height:f});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const b=(S,A,D)=>{i[l.evaluationKey]=D;const O=l.expression.evaluate(i);g.data[S+A+0]=Math.floor(255*O.r/O.a),g.data[S+A+1]=Math.floor(255*O.g/O.a),g.data[S+A+2]=Math.floor(255*O.b/O.a),g.data[S+A+3]=Math.floor(255*O.a)};if(l.clips)for(let S=0,A=0;S<f;++S,A+=4*c)for(let D=0,O=0;D<c;D++,O+=4){const B=D/(c-1),{start:j,end:W}=l.clips[S];b(A,O,j*(1-B)+W*B)}else for(let S=0,A=0;S<c;S++,A+=4)b(0,A,S/(c-1));return g}Ut("AlphaImage",Hh),Ut("RGBAImage",qa);class aM extends Da{createBucket(i){return new D1(i)}constructor(i){super(i,iM),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=R1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let O1;var sM={get paint(){return O1=O1||new Yr({"hillshade-illumination-direction":new Qt(Ce.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qt(Ce.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qt(Ce.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qt(Ce.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qt(Ce.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qt(Ce.paint_hillshade["hillshade-accent-color"])})}};class oM extends Da{constructor(i){super(i,sM)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const lM=Pr([{name:"a_pos",components:2,type:"Int16"}],4),{members:cM}=lM;var Sy={exports:{}};function _p(l,i,c){c=c||2;var f,g,b,S,A,D,O,B=i&&i.length,j=B?i[0]*c:l.length,W=F1(l,0,j,c,!0),ne=[];if(!W||W.next===W.prev)return ne;if(B&&(W=function(ue,ye,we,Oe){var Ae,Be,Ge,st=[];for(Ae=0,Be=ye.length;Ae<Be;Ae++)(Ge=F1(ue,ye[Ae]*Oe,Ae<Be-1?ye[Ae+1]*Oe:ue.length,Oe,!1))===Ge.next&&(Ge.steiner=!0),st.push(vM(Ge));for(st.sort(mM),Ae=0;Ae<st.length;Ae++)we=pM(st[Ae],we);return we}(l,i,W,c)),l.length>80*c){f=b=l[0],g=S=l[1];for(var re=c;re<j;re+=c)(A=l[re])<f&&(f=A),(D=l[re+1])<g&&(g=D),A>b&&(b=A),D>S&&(S=D);O=(O=Math.max(b-f,S-g))!==0?32767/O:0}return Gh(W,ne,c,f,g,O,0),ne}function F1(l,i,c,f,g){var b,S;if(g===Ty(l,i,c,f)>0)for(b=i;b<c;b+=f)S=V1(b,l[b],l[b+1],S);else for(b=c-f;b>=i;b-=f)S=V1(b,l[b],l[b+1],S);return S&&bp(S,S.next)&&(Yh(S),S=S.next),S}function Fc(l,i){if(!l)return l;i||(i=l);var c,f=l;do if(c=!1,f.steiner||!bp(f,f.next)&&Kr(f.prev,f,f.next)!==0)f=f.next;else{if(Yh(f),(f=i=f.prev)===f.next)break;c=!0}while(c||f!==i);return i}function Gh(l,i,c,f,g,b,S){if(l){!S&&b&&function(B,j,W,ne){var re=B;do re.z===0&&(re.z=ky(re.x,re.y,j,W,ne)),re.prevZ=re.prev,re.nextZ=re.next,re=re.next;while(re!==B);re.prevZ.nextZ=null,re.prevZ=null,function(ue){var ye,we,Oe,Ae,Be,Ge,st,Nt,Zt=1;do{for(we=ue,ue=null,Be=null,Ge=0;we;){for(Ge++,Oe=we,st=0,ye=0;ye<Zt&&(st++,Oe=Oe.nextZ);ye++);for(Nt=Zt;st>0||Nt>0&&Oe;)st!==0&&(Nt===0||!Oe||we.z<=Oe.z)?(Ae=we,we=we.nextZ,st--):(Ae=Oe,Oe=Oe.nextZ,Nt--),Be?Be.nextZ=Ae:ue=Ae,Ae.prevZ=Be,Be=Ae;we=Oe}Be.nextZ=null,Zt*=2}while(Ge>1)}(re)}(l,f,g,b);for(var A,D,O=l;l.prev!==l.next;)if(A=l.prev,D=l.next,b?dM(l,f,g,b):uM(l))i.push(A.i/c|0),i.push(l.i/c|0),i.push(D.i/c|0),Yh(l),l=D.next,O=D.next;else if((l=D)===O){S?S===1?Gh(l=hM(Fc(l),i,c),i,c,f,g,b,2):S===2&&fM(l,i,c,f,g,b):Gh(Fc(l),i,c,f,g,b,1);break}}}function uM(l){var i=l.prev,c=l,f=l.next;if(Kr(i,c,f)>=0)return!1;for(var g=i.x,b=c.x,S=f.x,A=i.y,D=c.y,O=f.y,B=g<b?g<S?g:S:b<S?b:S,j=A<D?A<O?A:O:D<O?D:O,W=g>b?g>S?g:S:b>S?b:S,ne=A>D?A>O?A:O:D>O?D:O,re=f.next;re!==i;){if(re.x>=B&&re.x<=W&&re.y>=j&&re.y<=ne&&Ku(g,A,b,D,S,O,re.x,re.y)&&Kr(re.prev,re,re.next)>=0)return!1;re=re.next}return!0}function dM(l,i,c,f){var g=l.prev,b=l,S=l.next;if(Kr(g,b,S)>=0)return!1;for(var A=g.x,D=b.x,O=S.x,B=g.y,j=b.y,W=S.y,ne=A<D?A<O?A:O:D<O?D:O,re=B<j?B<W?B:W:j<W?j:W,ue=A>D?A>O?A:O:D>O?D:O,ye=B>j?B>W?B:W:j>W?j:W,we=ky(ne,re,i,c,f),Oe=ky(ue,ye,i,c,f),Ae=l.prevZ,Be=l.nextZ;Ae&&Ae.z>=we&&Be&&Be.z<=Oe;){if(Ae.x>=ne&&Ae.x<=ue&&Ae.y>=re&&Ae.y<=ye&&Ae!==g&&Ae!==S&&Ku(A,B,D,j,O,W,Ae.x,Ae.y)&&Kr(Ae.prev,Ae,Ae.next)>=0||(Ae=Ae.prevZ,Be.x>=ne&&Be.x<=ue&&Be.y>=re&&Be.y<=ye&&Be!==g&&Be!==S&&Ku(A,B,D,j,O,W,Be.x,Be.y)&&Kr(Be.prev,Be,Be.next)>=0))return!1;Be=Be.nextZ}for(;Ae&&Ae.z>=we;){if(Ae.x>=ne&&Ae.x<=ue&&Ae.y>=re&&Ae.y<=ye&&Ae!==g&&Ae!==S&&Ku(A,B,D,j,O,W,Ae.x,Ae.y)&&Kr(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.prevZ}for(;Be&&Be.z<=Oe;){if(Be.x>=ne&&Be.x<=ue&&Be.y>=re&&Be.y<=ye&&Be!==g&&Be!==S&&Ku(A,B,D,j,O,W,Be.x,Be.y)&&Kr(Be.prev,Be,Be.next)>=0)return!1;Be=Be.nextZ}return!0}function hM(l,i,c){var f=l;do{var g=f.prev,b=f.next.next;!bp(g,b)&&z1(g,f,f.next,b)&&Wh(g,b)&&Wh(b,g)&&(i.push(g.i/c|0),i.push(f.i/c|0),i.push(b.i/c|0),Yh(f),Yh(f.next),f=l=b),f=f.next}while(f!==l);return Fc(f)}function fM(l,i,c,f,g,b){var S=l;do{for(var A=S.next.next;A!==S.prev;){if(S.i!==A.i&&yM(S,A)){var D=B1(S,A);return S=Fc(S,S.next),D=Fc(D,D.next),Gh(S,i,c,f,g,b,0),void Gh(D,i,c,f,g,b,0)}A=A.next}S=S.next}while(S!==l)}function mM(l,i){return l.x-i.x}function pM(l,i){var c=function(g,b){var S,A=b,D=g.x,O=g.y,B=-1/0;do{if(O<=A.y&&O>=A.next.y&&A.next.y!==A.y){var j=A.x+(O-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(j<=D&&j>B&&(B=j,S=A.x<A.next.x?A:A.next,j===D))return S}A=A.next}while(A!==b);if(!S)return null;var W,ne=S,re=S.x,ue=S.y,ye=1/0;A=S;do D>=A.x&&A.x>=re&&D!==A.x&&Ku(O<ue?D:B,O,re,ue,O<ue?B:D,O,A.x,A.y)&&(W=Math.abs(O-A.y)/(D-A.x),Wh(A,g)&&(W<ye||W===ye&&(A.x>S.x||A.x===S.x&&gM(S,A)))&&(S=A,ye=W)),A=A.next;while(A!==ne);return S}(l,i);if(!c)return i;var f=B1(c,l);return Fc(f,f.next),Fc(c,c.next)}function gM(l,i){return Kr(l.prev,l,i.prev)<0&&Kr(i.next,l,l.next)<0}function ky(l,i,c,f,g){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*g|0)|l<<8))|l<<4))|l<<2))|l<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-f)*g|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function vM(l){var i=l,c=l;do(i.x<c.x||i.x===c.x&&i.y<c.y)&&(c=i),i=i.next;while(i!==l);return c}function Ku(l,i,c,f,g,b,S,A){return(g-S)*(i-A)>=(l-S)*(b-A)&&(l-S)*(f-A)>=(c-S)*(i-A)&&(c-S)*(b-A)>=(g-S)*(f-A)}function yM(l,i){return l.next.i!==i.i&&l.prev.i!==i.i&&!function(c,f){var g=c;do{if(g.i!==c.i&&g.next.i!==c.i&&g.i!==f.i&&g.next.i!==f.i&&z1(g,g.next,c,f))return!0;g=g.next}while(g!==c);return!1}(l,i)&&(Wh(l,i)&&Wh(i,l)&&function(c,f){var g=c,b=!1,S=(c.x+f.x)/2,A=(c.y+f.y)/2;do g.y>A!=g.next.y>A&&g.next.y!==g.y&&S<(g.next.x-g.x)*(A-g.y)/(g.next.y-g.y)+g.x&&(b=!b),g=g.next;while(g!==c);return b}(l,i)&&(Kr(l.prev,l,i.prev)||Kr(l,i.prev,i))||bp(l,i)&&Kr(l.prev,l,l.next)>0&&Kr(i.prev,i,i.next)>0)}function Kr(l,i,c){return(i.y-l.y)*(c.x-i.x)-(i.x-l.x)*(c.y-i.y)}function bp(l,i){return l.x===i.x&&l.y===i.y}function z1(l,i,c,f){var g=wp(Kr(l,i,c)),b=wp(Kr(l,i,f)),S=wp(Kr(c,f,l)),A=wp(Kr(c,f,i));return g!==b&&S!==A||!(g!==0||!xp(l,c,i))||!(b!==0||!xp(l,f,i))||!(S!==0||!xp(c,l,f))||!(A!==0||!xp(c,i,f))}function xp(l,i,c){return i.x<=Math.max(l.x,c.x)&&i.x>=Math.min(l.x,c.x)&&i.y<=Math.max(l.y,c.y)&&i.y>=Math.min(l.y,c.y)}function wp(l){return l>0?1:l<0?-1:0}function Wh(l,i){return Kr(l.prev,l,l.next)<0?Kr(l,i,l.next)>=0&&Kr(l,l.prev,i)>=0:Kr(l,i,l.prev)<0||Kr(l,l.next,i)<0}function B1(l,i){var c=new Cy(l.i,l.x,l.y),f=new Cy(i.i,i.x,i.y),g=l.next,b=i.prev;return l.next=i,i.prev=l,c.next=g,g.prev=c,f.next=c,c.prev=f,b.next=f,f.prev=b,f}function V1(l,i,c,f){var g=new Cy(l,i,c);return f?(g.next=f.next,g.prev=f,f.next.prev=g,f.next=g):(g.prev=g,g.next=g),g}function Yh(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function Cy(l,i,c){this.i=l,this.x=i,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ty(l,i,c,f){for(var g=0,b=i,S=c-f;b<c;b+=f)g+=(l[S]-l[b])*(l[b+1]+l[S+1]),S=b;return g}Sy.exports=_p,Sy.exports.default=_p,_p.deviation=function(l,i,c,f){var g=i&&i.length,b=Math.abs(Ty(l,0,g?i[0]*c:l.length,c));if(g)for(var S=0,A=i.length;S<A;S++)b-=Math.abs(Ty(l,i[S]*c,S<A-1?i[S+1]*c:l.length,c));var D=0;for(S=0;S<f.length;S+=3){var O=f[S]*c,B=f[S+1]*c,j=f[S+2]*c;D+=Math.abs((l[O]-l[j])*(l[B+1]-l[O+1])-(l[O]-l[B])*(l[j+1]-l[O+1]))}return b===0&&D===0?0:Math.abs((D-b)/b)},_p.flatten=function(l){for(var i=l[0][0].length,c={vertices:[],holes:[],dimensions:i},f=0,g=0;g<l.length;g++){for(var b=0;b<l[g].length;b++)for(var S=0;S<i;S++)c.vertices.push(l[g][b][S]);g>0&&c.holes.push(f+=l[g-1].length)}return c};var N1=y(Sy.exports);function _M(l,i,c,f,g){$1(l,i,c,f||l.length-1,g||bM)}function $1(l,i,c,f,g){for(;f>c;){if(f-c>600){var b=f-c+1,S=i-c+1,A=Math.log(b),D=.5*Math.exp(2*A/3),O=.5*Math.sqrt(A*D*(b-D)/b)*(S-b/2<0?-1:1);$1(l,i,Math.max(c,Math.floor(i-S*D/b+O)),Math.min(f,Math.floor(i+(b-S)*D/b+O)),g)}var B=l[i],j=c,W=f;for(Zh(l,c,i),g(l[f],B)>0&&Zh(l,c,f);j<W;){for(Zh(l,j,W),j++,W--;g(l[j],B)<0;)j++;for(;g(l[W],B)>0;)W--}g(l[c],B)===0?Zh(l,c,W):Zh(l,++W,f),W<=i&&(c=W+1),i<=W&&(f=W-1)}}function Zh(l,i,c){var f=l[i];l[i]=l[c],l[c]=f}function bM(l,i){return l<i?-1:l>i?1:0}function Ay(l,i){const c=l.length;if(c<=1)return[l];const f=[];let g,b;for(let S=0;S<c;S++){const A=Te(l[S]);A!==0&&(l[S].area=Math.abs(A),b===void 0&&(b=A<0),b===A<0?(g&&f.push(g),g=[l[S]]):g.push(l[S]))}if(g&&f.push(g),i>1)for(let S=0;S<f.length;S++)f[S].length<=i||(_M(f[S],i,1,f[S].length-1,xM),f[S]=f[S].slice(0,i));return f}function xM(l,i){return i.area-l.area}function Ey(l,i,c){const f=c.patternDependencies;let g=!1;for(const b of i){const S=b.paint.get(`${l}-pattern`);S.isConstant()||(g=!0);const A=S.constantOr(null);A&&(g=!0,f[A.to]=!0,f[A.from]=!0)}return g}function Iy(l,i,c,f,g){const b=g.patternDependencies;for(const S of i){const A=S.paint.get(`${l}-pattern`).value;if(A.kind!=="constant"){let D=A.evaluate({zoom:f-1},c,{},g.availableImages),O=A.evaluate({zoom:f},c,{},g.availableImages),B=A.evaluate({zoom:f+1},c,{},g.availableImages);D=D&&D.name?D.name:D,O=O&&O.name?O.name:O,B=B&&B.name?B.name:B,b[D]=!0,b[O]=!0,b[B]=!0,c.patterns[S.id]={min:D,mid:O,max:B}}}return c}class Py{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pn,this.indexArray=new Ci,this.indexArray2=new ci,this.programConfigurations=new zs(i.layers,i.zoom),this.segments=new _r,this.segments2=new _r,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Ey("fill",this.layers,c);const g=this.layers[0].layout.get("fill-sort-key"),b=!g.isConstant(),S=[];for(const{feature:A,id:D,index:O,sourceLayerIndex:B}of i){const j=this.layers[0]._featureFilter.needGeometry,W=Oc(A,j);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),W,f))continue;const ne=b?g.evaluate(W,{},f,c.availableImages):void 0,re={id:D,properties:A.properties,type:A.type,sourceLayerIndex:B,index:O,geometry:j?W.geometry:Rc(A),patterns:{},sortKey:ne};S.push(re)}b&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:O,sourceLayerIndex:B}=A;if(this.hasPattern){const j=Iy("fill",this.layers,A,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(A,D,O,f,{});c.featureIndex.insert(i[O].feature,D,O,B,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,cM),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,c,f,g,b){for(const S of Ay(c,500)){let A=0;for(const ne of S)A+=ne.length;const D=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),O=D.vertexLength,B=[],j=[];for(const ne of S){if(ne.length===0)continue;ne!==S[0]&&j.push(B.length/2);const re=this.segments2.prepareSegment(ne.length,this.layoutVertexArray,this.indexArray2),ue=re.vertexLength;this.layoutVertexArray.emplaceBack(ne[0].x,ne[0].y),this.indexArray2.emplaceBack(ue+ne.length-1,ue),B.push(ne[0].x),B.push(ne[0].y);for(let ye=1;ye<ne.length;ye++)this.layoutVertexArray.emplaceBack(ne[ye].x,ne[ye].y),this.indexArray2.emplaceBack(ue+ye-1,ue+ye),B.push(ne[ye].x),B.push(ne[ye].y);re.vertexLength+=ne.length,re.primitiveLength+=ne.length}const W=N1(B,j);for(let ne=0;ne<W.length;ne+=3)this.indexArray.emplaceBack(O+W[ne],O+W[ne+1],O+W[ne+2]);D.vertexLength+=A,D.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,b,g)}}let U1,q1;Ut("FillBucket",Py,{omit:["layers","patternFeatures"]});var wM={get paint(){return q1=q1||new Yr({"fill-antialias":new Qt(Ce.paint_fill["fill-antialias"]),"fill-opacity":new on(Ce.paint_fill["fill-opacity"]),"fill-color":new on(Ce.paint_fill["fill-color"]),"fill-outline-color":new on(Ce.paint_fill["fill-outline-color"]),"fill-translate":new Qt(Ce.paint_fill["fill-translate"]),"fill-translate-anchor":new Qt(Ce.paint_fill["fill-translate-anchor"]),"fill-pattern":new Dc(Ce.paint_fill["fill-pattern"])})},get layout(){return U1=U1||new Yr({"fill-sort-key":new on(Ce.layout_fill["fill-sort-key"])})}};class SM extends Da{constructor(i){super(i,wM)}recalculate(i,c){super.recalculate(i,c);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Py(i)}queryRadius(){return gp(this.paint.get("fill-translate"))}queryIntersectsFeature(i,c,f,g,b,S,A){return k1(vp(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,A),g)}isTileClipped(){return!0}}const kM=Pr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),CM=Pr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:TM}=kM;var Vl={},AM=w,j1=Xu;function Xu(l,i,c,f,g){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=g,l.readFields(EM,this,i)}function EM(l,i,c){l==1?i.id=c.readVarint():l==2?function(f,g){for(var b=f.readVarint()+f.pos;f.pos<b;){var S=g._keys[f.readVarint()],A=g._values[f.readVarint()];g.properties[S]=A}}(c,i):l==3?i.type=c.readVarint():l==4&&(i._geometry=c.pos)}function IM(l){for(var i,c,f=0,g=0,b=l.length,S=b-1;g<b;S=g++)f+=((c=l[S]).x-(i=l[g]).x)*(i.y+c.y);return f}Xu.types=["Unknown","Point","LineString","Polygon"],Xu.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var i,c=l.readVarint()+l.pos,f=1,g=0,b=0,S=0,A=[];l.pos<c;){if(g<=0){var D=l.readVarint();f=7&D,g=D>>3}if(g--,f===1||f===2)b+=l.readSVarint(),S+=l.readSVarint(),f===1&&(i&&A.push(i),i=[]),i.push(new AM(b,S));else{if(f!==7)throw new Error("unknown command "+f);i&&i.push(i[0].clone())}}return i&&A.push(i),A},Xu.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var i=l.readVarint()+l.pos,c=1,f=0,g=0,b=0,S=1/0,A=-1/0,D=1/0,O=-1/0;l.pos<i;){if(f<=0){var B=l.readVarint();c=7&B,f=B>>3}if(f--,c===1||c===2)(g+=l.readSVarint())<S&&(S=g),g>A&&(A=g),(b+=l.readSVarint())<D&&(D=b),b>O&&(O=b);else if(c!==7)throw new Error("unknown command "+c)}return[S,D,A,O]},Xu.prototype.toGeoJSON=function(l,i,c){var f,g,b=this.extent*Math.pow(2,c),S=this.extent*l,A=this.extent*i,D=this.loadGeometry(),O=Xu.types[this.type];function B(ne){for(var re=0;re<ne.length;re++){var ue=ne[re];ne[re]=[360*(ue.x+S)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+A)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var j=[];for(f=0;f<D.length;f++)j[f]=D[f][0];B(D=j);break;case 2:for(f=0;f<D.length;f++)B(D[f]);break;case 3:for(D=function(ne){var re=ne.length;if(re<=1)return[ne];for(var ue,ye,we=[],Oe=0;Oe<re;Oe++){var Ae=IM(ne[Oe]);Ae!==0&&(ye===void 0&&(ye=Ae<0),ye===Ae<0?(ue&&we.push(ue),ue=[ne[Oe]]):ue.push(ne[Oe]))}return ue&&we.push(ue),we}(D),f=0;f<D.length;f++)for(g=0;g<D[f].length;g++)B(D[f][g])}D.length===1?D=D[0]:O="Multi"+O;var W={type:"Feature",geometry:{type:O,coordinates:D},properties:this.properties};return"id"in this&&(W.id=this.id),W};var PM=j1,H1=G1;function G1(l,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(DM,this,i),this.length=this._features.length}function DM(l,i,c){l===15?i.version=c.readVarint():l===1?i.name=c.readString():l===5?i.extent=c.readVarint():l===2?i._features.push(c.pos):l===3?i._keys.push(c.readString()):l===4&&i._values.push(function(f){for(var g=null,b=f.readVarint()+f.pos;f.pos<b;){var S=f.readVarint()>>3;g=S===1?f.readString():S===2?f.readFloat():S===3?f.readDouble():S===4?f.readVarint64():S===5?f.readVarint():S===6?f.readSVarint():S===7?f.readBoolean():null}return g}(c))}G1.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var i=this._pbf.readVarint()+this._pbf.pos;return new PM(this._pbf,i,this.extent,this._keys,this._values)};var MM=H1;function LM(l,i,c){if(l===3){var f=new MM(c,c.readVarint()+c.pos);f.length&&(i[f.name]=f)}}Vl.VectorTile=function(l,i){this.layers=l.readFields(LM,{},i)},Vl.VectorTileFeature=j1,Vl.VectorTileLayer=H1;const RM=Vl.VectorTileFeature.types,Dy=Math.pow(2,13);function Kh(l,i,c,f,g,b,S,A){l.emplaceBack(i,c,2*Math.floor(f*Dy)+S,g*Dy*2,b*Dy*2,Math.round(A))}class My{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ot,this.centroidVertexArray=new At,this.indexArray=new Ci,this.programConfigurations=new zs(i.layers,i.zoom),this.segments=new _r,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.features=[],this.hasPattern=Ey("fill-extrusion",this.layers,c);for(const{feature:g,id:b,index:S,sourceLayerIndex:A}of i){const D=this.layers[0]._featureFilter.needGeometry,O=Oc(g,D);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),O,f))continue;const B={id:b,sourceLayerIndex:A,index:S,geometry:D?O.geometry:Rc(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(Iy("fill-extrusion",this.layers,B,this.zoom,c)):this.addFeature(B,B.geometry,S,f,{}),c.featureIndex.insert(g,B.geometry,S,A,this.index,!0)}}addFeatures(i,c,f){for(const g of this.features){const{geometry:b}=g;this.addFeature(g,b,g.index,c,f)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,TM),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,CM.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,c,f,g,b){const S={x:0,y:0,vertexCount:0};for(const A of Ay(c,500)){let D=0;for(const re of A)D+=re.length;let O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const re of A){if(re.length===0||FM(re))continue;let ue=0;for(let ye=0;ye<re.length;ye++){const we=re[ye];if(ye>=1){const Oe=re[ye-1];if(!OM(we,Oe)){O.vertexLength+4>_r.MAX_VERTEX_ARRAY_LENGTH&&(O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Ae=we.sub(Oe)._perp()._unit(),Be=Oe.dist(we);ue+Be>32768&&(ue=0),Kh(this.layoutVertexArray,we.x,we.y,Ae.x,Ae.y,0,0,ue),Kh(this.layoutVertexArray,we.x,we.y,Ae.x,Ae.y,0,1,ue),S.x+=2*we.x,S.y+=2*we.y,S.vertexCount+=2,ue+=Be,Kh(this.layoutVertexArray,Oe.x,Oe.y,Ae.x,Ae.y,0,0,ue),Kh(this.layoutVertexArray,Oe.x,Oe.y,Ae.x,Ae.y,0,1,ue),S.x+=2*Oe.x,S.y+=2*Oe.y,S.vertexCount+=2;const Ge=O.vertexLength;this.indexArray.emplaceBack(Ge,Ge+2,Ge+1),this.indexArray.emplaceBack(Ge+1,Ge+2,Ge+3),O.vertexLength+=4,O.primitiveLength+=2}}}}if(O.vertexLength+D>_r.MAX_VERTEX_ARRAY_LENGTH&&(O=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray)),RM[i.type]!=="Polygon")continue;const B=[],j=[],W=O.vertexLength;for(const re of A)if(re.length!==0){re!==A[0]&&j.push(B.length/2);for(let ue=0;ue<re.length;ue++){const ye=re[ue];Kh(this.layoutVertexArray,ye.x,ye.y,0,0,1,1,0),S.x+=ye.x,S.y+=ye.y,S.vertexCount+=1,B.push(ye.x),B.push(ye.y)}}const ne=N1(B,j);for(let re=0;re<ne.length;re+=3)this.indexArray.emplaceBack(W+ne[re],W+ne[re+2],W+ne[re+1]);O.primitiveLength+=ne.length/3,O.vertexLength+=D}for(let A=0;A<S.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(S.x/S.vertexCount),Math.floor(S.y/S.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,b,g)}}function OM(l,i){return l.x===i.x&&(l.x<0||l.x>ti)||l.y===i.y&&(l.y<0||l.y>ti)}function FM(l){return l.every(i=>i.x<0)||l.every(i=>i.x>ti)||l.every(i=>i.y<0)||l.every(i=>i.y>ti)}let W1;Ut("FillExtrusionBucket",My,{omit:["layers","features"]});var zM={get paint(){return W1=W1||new Yr({"fill-extrusion-opacity":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new on(Ce["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Dc(Ce["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new on(Ce["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new on(Ce["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class BM extends Da{constructor(i){super(i,zM)}createBucket(i){return new My(i)}queryRadius(){return gp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,c,f,g,b,S,A,D){const O=vp(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,A),B=this.paint.get("fill-extrusion-height").evaluate(c,f),j=this.paint.get("fill-extrusion-base").evaluate(c,f),W=function(re,ue,ye,we){const Oe=[];for(const Ae of re){const Be=[Ae.x,Ae.y,0,1];yp(Be,Be,ue),Oe.push(new C(Be[0]/Be[3],Be[1]/Be[3]))}return Oe}(O,D),ne=function(re,ue,ye,we){const Oe=[],Ae=[],Be=we[8]*ue,Ge=we[9]*ue,st=we[10]*ue,Nt=we[11]*ue,Zt=we[8]*ye,Bt=we[9]*ye,Ft=we[10]*ye,Pt=we[11]*ye;for(const qt of re){const Dt=[],wt=[];for(const nn of qt){const Xt=nn.x,An=nn.y,br=we[0]*Xt+we[4]*An+we[12],Tr=we[1]*Xt+we[5]*An+we[13],hi=we[2]*Xt+we[6]*An+we[14],La=we[3]*Xt+we[7]*An+we[15],ta=hi+st,ni=La+Nt,Ai=br+Zt,Oi=Tr+Bt,na=hi+Ft,ra=La+Pt,fi=new C((br+Be)/ni,(Tr+Ge)/ni);fi.z=ta/ni,Dt.push(fi);const mi=new C(Ai/ra,Oi/ra);mi.z=na/ra,wt.push(mi)}Oe.push(Dt),Ae.push(wt)}return[Oe,Ae]}(g,j,B,D);return function(re,ue,ye){let we=1/0;k1(ye,ue)&&(we=Y1(ye,ue[0]));for(let Oe=0;Oe<ue.length;Oe++){const Ae=ue[Oe],Be=re[Oe];for(let Ge=0;Ge<Ae.length-1;Ge++){const st=Ae[Ge],Nt=[st,Ae[Ge+1],Be[Ge+1],Be[Ge],st];S1(ye,Nt)&&(we=Math.min(we,Y1(ye,Nt)))}}return we!==1/0&&we}(ne[0],ne[1],W)}}function Xh(l,i){return l.x*i.x+l.y*i.y}function Y1(l,i){if(l.length===1){let c=0;const f=i[c++];let g;for(;!g||f.equals(g);)if(g=i[c++],!g)return 1/0;for(;c<i.length;c++){const b=i[c],S=l[0],A=g.sub(f),D=b.sub(f),O=S.sub(f),B=Xh(A,A),j=Xh(A,D),W=Xh(D,D),ne=Xh(O,A),re=Xh(O,D),ue=B*W-j*j,ye=(W*ne-j*re)/ue,we=(B*re-j*ne)/ue,Oe=f.z*(1-ye-we)+g.z*ye+b.z*we;if(isFinite(Oe))return Oe}return 1/0}{let c=1/0;for(const f of i)c=Math.min(c,f.z);return c}}const VM=Pr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:NM}=VM,$M=Pr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:UM}=$M,qM=Vl.VectorTileFeature.types,jM=Math.cos(Math.PI/180*37.5),Z1=Math.pow(2,14)/.5;class Ly{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new ln,this.layoutVertexArray2=new Kt,this.indexArray=new Ci,this.programConfigurations=new zs(i.layers,i.zoom),this.segments=new _r,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Ey("line",this.layers,c);const g=this.layers[0].layout.get("line-sort-key"),b=!g.isConstant(),S=[];for(const{feature:A,id:D,index:O,sourceLayerIndex:B}of i){const j=this.layers[0]._featureFilter.needGeometry,W=Oc(A,j);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),W,f))continue;const ne=b?g.evaluate(W,{},f):void 0,re={id:D,properties:A.properties,type:A.type,sourceLayerIndex:B,index:O,geometry:j?W.geometry:Rc(A),patterns:{},sortKey:ne};S.push(re)}b&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:O,sourceLayerIndex:B}=A;if(this.hasPattern){const j=Iy("line",this.layers,A,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(A,D,O,f,{});c.featureIndex.insert(i[O].feature,D,O,B,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,UM)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,NM),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,c,f,g,b){const S=this.layers[0].layout,A=S.get("line-join").evaluate(i,{}),D=S.get("line-cap"),O=S.get("line-miter-limit"),B=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const j of c)this.addLine(j,i,A,D,O,B);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,b,g)}addLine(i,c,f,g,b,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let we=0;we<i.length-1;we++)this.totalDistance+=i[we].dist(i[we+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=qM[c.type]==="Polygon";let D=i.length;for(;D>=2&&i[D-1].equals(i[D-2]);)D--;let O=0;for(;O<D-1&&i[O].equals(i[O+1]);)O++;if(D<(A?3:2))return;f==="bevel"&&(b=1.05);const B=this.overscaling<=16?15*ti/(512*this.overscaling):0,j=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray);let W,ne,re,ue,ye;this.e1=this.e2=-1,A&&(W=i[D-2],ye=i[O].sub(W)._unit()._perp());for(let we=O;we<D;we++){if(re=we===D-1?A?i[O+1]:void 0:i[we+1],re&&i[we].equals(re))continue;ye&&(ue=ye),W&&(ne=W),W=i[we],ye=re?re.sub(W)._unit()._perp():ue,ue=ue||ye;let Oe=ue.add(ye);Oe.x===0&&Oe.y===0||Oe._unit();const Ae=ue.x*ye.x+ue.y*ye.y,Be=Oe.x*ye.x+Oe.y*ye.y,Ge=Be!==0?1/Be:1/0,st=2*Math.sqrt(2-2*Be),Nt=Be<jM&&ne&&re,Zt=ue.x*ye.y-ue.y*ye.x>0;if(Nt&&we>O){const Pt=W.dist(ne);if(Pt>2*B){const qt=W.sub(W.sub(ne)._mult(B/Pt)._round());this.updateDistance(ne,qt),this.addCurrentVertex(qt,ue,0,0,j),ne=qt}}const Bt=ne&&re;let Ft=Bt?f:A?"butt":g;if(Bt&&Ft==="round"&&(Ge<S?Ft="miter":Ge<=2&&(Ft="fakeround")),Ft==="miter"&&Ge>b&&(Ft="bevel"),Ft==="bevel"&&(Ge>2&&(Ft="flipbevel"),Ge<b&&(Ft="miter")),ne&&this.updateDistance(ne,W),Ft==="miter")Oe._mult(Ge),this.addCurrentVertex(W,Oe,0,0,j);else if(Ft==="flipbevel"){if(Ge>100)Oe=ye.mult(-1);else{const Pt=Ge*ue.add(ye).mag()/ue.sub(ye).mag();Oe._perp()._mult(Pt*(Zt?-1:1))}this.addCurrentVertex(W,Oe,0,0,j),this.addCurrentVertex(W,Oe.mult(-1),0,0,j)}else if(Ft==="bevel"||Ft==="fakeround"){const Pt=-Math.sqrt(Ge*Ge-1),qt=Zt?Pt:0,Dt=Zt?0:Pt;if(ne&&this.addCurrentVertex(W,ue,qt,Dt,j),Ft==="fakeround"){const wt=Math.round(180*st/Math.PI/20);for(let nn=1;nn<wt;nn++){let Xt=nn/wt;if(Xt!==.5){const br=Xt-.5;Xt+=Xt*br*(Xt-1)*((1.0904+Ae*(Ae*(3.55645-1.43519*Ae)-3.2452))*br*br+(.848013+Ae*(.215638*Ae-1.06021)))}const An=ye.sub(ue)._mult(Xt)._add(ue)._unit()._mult(Zt?-1:1);this.addHalfVertex(W,An.x,An.y,!1,Zt,0,j)}}re&&this.addCurrentVertex(W,ye,-qt,-Dt,j)}else if(Ft==="butt")this.addCurrentVertex(W,Oe,0,0,j);else if(Ft==="square"){const Pt=ne?1:-1;this.addCurrentVertex(W,Oe,Pt,Pt,j)}else Ft==="round"&&(ne&&(this.addCurrentVertex(W,ue,0,0,j),this.addCurrentVertex(W,ue,1,1,j,!0)),re&&(this.addCurrentVertex(W,ye,-1,-1,j,!0),this.addCurrentVertex(W,ye,0,0,j)));if(Nt&&we<D-1){const Pt=W.dist(re);if(Pt>2*B){const qt=W.add(re.sub(W)._mult(B/Pt)._round());this.updateDistance(W,qt),this.addCurrentVertex(qt,ye,0,0,j),W=qt}}}}addCurrentVertex(i,c,f,g,b,S=!1){const A=c.y*g-c.x,D=-c.y-c.x*g;this.addHalfVertex(i,c.x+c.y*f,c.y-c.x*f,S,!1,f,b),this.addHalfVertex(i,A,D,S,!0,-g,b),this.distance>Z1/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,c,f,g,b,S))}addHalfVertex({x:i,y:c},f,g,b,S,A,D){const O=.5*(this.lineClips?this.scaledDistance*(Z1-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(b?1:0),(c<<1)+(S?1:0),Math.round(63*f)+128,Math.round(63*g)+128,1+(A===0?0:A<0?-1:1)|(63&O)<<2,O>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const B=D.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,B),D.primitiveLength++),S?this.e2=B:this.e1=B}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,c){this.distance+=i.dist(c),this.updateScaledDistance()}}let K1,X1;Ut("LineBucket",Ly,{omit:["layers","patternFeatures"]});var J1={get paint(){return X1=X1||new Yr({"line-opacity":new on(Ce.paint_line["line-opacity"]),"line-color":new on(Ce.paint_line["line-color"]),"line-translate":new Qt(Ce.paint_line["line-translate"]),"line-translate-anchor":new Qt(Ce.paint_line["line-translate-anchor"]),"line-width":new on(Ce.paint_line["line-width"]),"line-gap-width":new on(Ce.paint_line["line-gap-width"]),"line-offset":new on(Ce.paint_line["line-offset"]),"line-blur":new on(Ce.paint_line["line-blur"]),"line-dasharray":new Rh(Ce.paint_line["line-dasharray"]),"line-pattern":new Dc(Ce.paint_line["line-pattern"]),"line-gradient":new Oh(Ce.paint_line["line-gradient"])})},get layout(){return K1=K1||new Yr({"line-cap":new Qt(Ce.layout_line["line-cap"]),"line-join":new on(Ce.layout_line["line-join"]),"line-miter-limit":new Qt(Ce.layout_line["line-miter-limit"]),"line-round-limit":new Qt(Ce.layout_line["line-round-limit"]),"line-sort-key":new on(Ce.layout_line["line-sort-key"])})}};class HM extends on{possiblyEvaluate(i,c){return c=new yr(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(i,c)}evaluate(i,c,f,g){return c=G({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(i,c,f,g)}}let Sp;class GM extends Da{constructor(i){super(i,J1),this.gradientVersion=0,Sp||(Sp=new HM(J1.paint.properties["line-width"].specification),Sp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof uo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,c){super.recalculate(i,c),this.paint._values["line-floorwidth"]=Sp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new Ly(i)}queryRadius(i){const c=i,f=Q1(qh("line-width",this,c),qh("line-gap-width",this,c)),g=qh("line-offset",this,c);return f/2+Math.abs(g)+gp(this.paint.get("line-translate"))}queryIntersectsFeature(i,c,f,g,b,S,A){const D=vp(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,A),O=A/2*Q1(this.paint.get("line-width").evaluate(c,f),this.paint.get("line-gap-width").evaluate(c,f)),B=this.paint.get("line-offset").evaluate(c,f);return B&&(g=function(j,W){const ne=[];for(let re=0;re<j.length;re++){const ue=j[re],ye=[];for(let we=0;we<ue.length;we++){const Oe=ue[we-1],Ae=ue[we],Be=ue[we+1],Ge=we===0?new C(0,0):Ae.sub(Oe)._unit()._perp(),st=we===ue.length-1?new C(0,0):Be.sub(Ae)._unit()._perp(),Nt=Ge._add(st)._unit(),Zt=Nt.x*st.x+Nt.y*st.y;Zt!==0&&Nt._mult(1/Zt),ye.push(Nt._mult(W)._add(Ae))}ne.push(ye)}return ne}(g,B*A)),function(j,W,ne){for(let re=0;re<W.length;re++){const ue=W[re];if(j.length>=3){for(let ye=0;ye<ue.length;ye++)if(Yu(j,ue[ye]))return!0}if(JD(j,ue,ne))return!0}return!1}(D,g,O)}isTileClipped(){return!0}}function Q1(l,i){return i>0?i+2*l:l}const WM=Pr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),YM=Pr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const ZM=Pr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Pr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ew=Pr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),KM=Pr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function XM(l,i,c){return l.sections.forEach(f=>{f.text=function(g,b,S){const A=b.layout.get("text-transform").evaluate(S,{});return A==="uppercase"?g=g.toLocaleUpperCase():A==="lowercase"&&(g=g.toLocaleLowerCase()),_a.applyArabicShaping&&(g=_a.applyArabicShaping(g)),g}(f.text,i,c)}),l}Pr([{name:"triangle",components:3,type:"Uint16"}]),Pr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Pr([{type:"Float32",name:"offsetX"}]),Pr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Pr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Jh={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var di=24,tw=or,nw=function(l,i,c,f,g){var b,S,A=8*g-f-1,D=(1<<A)-1,O=D>>1,B=-7,j=g-1,W=-1,ne=l[i+j];for(j+=W,b=ne&(1<<-B)-1,ne>>=-B,B+=A;B>0;b=256*b+l[i+j],j+=W,B-=8);for(S=b&(1<<-B)-1,b>>=-B,B+=f;B>0;S=256*S+l[i+j],j+=W,B-=8);if(b===0)b=1-O;else{if(b===D)return S?NaN:1/0*(ne?-1:1);S+=Math.pow(2,f),b-=O}return(ne?-1:1)*S*Math.pow(2,b-f)},rw=function(l,i,c,f,g,b){var S,A,D,O=8*b-g-1,B=(1<<O)-1,j=B>>1,W=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,ne=0,re=1,ue=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(A=isNaN(i)?1:0,S=B):(S=Math.floor(Math.log(i)/Math.LN2),i*(D=Math.pow(2,-S))<1&&(S--,D*=2),(i+=S+j>=1?W/D:W*Math.pow(2,1-j))*D>=2&&(S++,D/=2),S+j>=B?(A=0,S=B):S+j>=1?(A=(i*D-1)*Math.pow(2,g),S+=j):(A=i*Math.pow(2,j-1)*Math.pow(2,g),S=0));g>=8;l[c+ne]=255&A,ne+=re,A/=256,g-=8);for(S=S<<g|A,O+=g;O>0;l[c+ne]=255&S,ne+=re,S/=256,O-=8);l[c+ne-re]|=128*ue};function or(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}or.Varint=0,or.Fixed64=1,or.Bytes=2,or.Fixed32=5;var Ry=4294967296,iw=1/Ry,aw=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Xo(l){return l.type===or.Bytes?l.readVarint()+l.pos:l.pos+1}function Ju(l,i,c){return c?4294967296*i+(l>>>0):4294967296*(i>>>0)+(l>>>0)}function sw(l,i,c){var f=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));c.realloc(f);for(var g=c.pos-1;g>=l;g--)c.buf[g+f]=c.buf[g]}function JM(l,i){for(var c=0;c<l.length;c++)i.writeVarint(l[c])}function QM(l,i){for(var c=0;c<l.length;c++)i.writeSVarint(l[c])}function eL(l,i){for(var c=0;c<l.length;c++)i.writeFloat(l[c])}function tL(l,i){for(var c=0;c<l.length;c++)i.writeDouble(l[c])}function nL(l,i){for(var c=0;c<l.length;c++)i.writeBoolean(l[c])}function rL(l,i){for(var c=0;c<l.length;c++)i.writeFixed32(l[c])}function iL(l,i){for(var c=0;c<l.length;c++)i.writeSFixed32(l[c])}function aL(l,i){for(var c=0;c<l.length;c++)i.writeFixed64(l[c])}function sL(l,i){for(var c=0;c<l.length;c++)i.writeSFixed64(l[c])}function kp(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+16777216*l[i+3]}function Qu(l,i,c){l[c]=i,l[c+1]=i>>>8,l[c+2]=i>>>16,l[c+3]=i>>>24}function ow(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+(l[i+3]<<24)}or.prototype={destroy:function(){this.buf=null},readFields:function(l,i,c){for(c=c||this.length;this.pos<c;){var f=this.readVarint(),g=f>>3,b=this.pos;this.type=7&f,l(g,i,this),this.pos===b&&this.skip(f)}return i},readMessage:function(l,i){return this.readFields(l,i,this.readVarint()+this.pos)},readFixed32:function(){var l=kp(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=ow(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=kp(this.buf,this.pos)+kp(this.buf,this.pos+4)*Ry;return this.pos+=8,l},readSFixed64:function(){var l=kp(this.buf,this.pos)+ow(this.buf,this.pos+4)*Ry;return this.pos+=8,l},readFloat:function(){var l=nw(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=nw(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var i,c,f=this.buf;return i=127&(c=f[this.pos++]),c<128?i:(i|=(127&(c=f[this.pos++]))<<7,c<128?i:(i|=(127&(c=f[this.pos++]))<<14,c<128?i:(i|=(127&(c=f[this.pos++]))<<21,c<128?i:function(g,b,S){var A,D,O=S.buf;if(A=(112&(D=O[S.pos++]))>>4,D<128||(A|=(127&(D=O[S.pos++]))<<3,D<128)||(A|=(127&(D=O[S.pos++]))<<10,D<128)||(A|=(127&(D=O[S.pos++]))<<17,D<128)||(A|=(127&(D=O[S.pos++]))<<24,D<128)||(A|=(1&(D=O[S.pos++]))<<31,D<128))return Ju(g,A,b);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(c=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,i=this.pos;return this.pos=l,l-i>=12&&aw?function(c,f,g){return aw.decode(c.subarray(f,g))}(this.buf,i,l):function(c,f,g){for(var b="",S=f;S<g;){var A,D,O,B=c[S],j=null,W=B>239?4:B>223?3:B>191?2:1;if(S+W>g)break;W===1?B<128&&(j=B):W===2?(192&(A=c[S+1]))==128&&(j=(31&B)<<6|63&A)<=127&&(j=null):W===3?(D=c[S+2],(192&(A=c[S+1]))==128&&(192&D)==128&&((j=(15&B)<<12|(63&A)<<6|63&D)<=2047||j>=55296&&j<=57343)&&(j=null)):W===4&&(D=c[S+2],O=c[S+3],(192&(A=c[S+1]))==128&&(192&D)==128&&(192&O)==128&&((j=(15&B)<<18|(63&A)<<12|(63&D)<<6|63&O)<=65535||j>=1114112)&&(j=null)),j===null?(j=65533,W=1):j>65535&&(j-=65536,b+=String.fromCharCode(j>>>10&1023|55296),j=56320|1023&j),b+=String.fromCharCode(j),S+=W}return b}(this.buf,i,l)},readBytes:function(){var l=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,l);return this.pos=l,i},readPackedVarint:function(l,i){if(this.type!==or.Bytes)return l.push(this.readVarint(i));var c=Xo(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(i));return l},readPackedSVarint:function(l){if(this.type!==or.Bytes)return l.push(this.readSVarint());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==or.Bytes)return l.push(this.readBoolean());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==or.Bytes)return l.push(this.readFloat());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==or.Bytes)return l.push(this.readDouble());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==or.Bytes)return l.push(this.readFixed32());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==or.Bytes)return l.push(this.readSFixed32());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==or.Bytes)return l.push(this.readFixed64());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==or.Bytes)return l.push(this.readSFixed64());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed64());return l},skip:function(l){var i=7&l;if(i===or.Varint)for(;this.buf[this.pos++]>127;);else if(i===or.Bytes)this.pos=this.readVarint()+this.pos;else if(i===or.Fixed32)this.pos+=4;else{if(i!==or.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(l,i){this.writeVarint(l<<3|i)},realloc:function(l){for(var i=this.length||16;i<this.pos+l;)i*=2;if(i!==this.length){var c=new Uint8Array(i);c.set(this.buf),this.buf=c,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),Qu(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),Qu(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),Qu(this.buf,-1&l,this.pos),Qu(this.buf,Math.floor(l*iw),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),Qu(this.buf,-1&l,this.pos),Qu(this.buf,Math.floor(l*iw),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(i,c){var f,g;if(i>=0?(f=i%4294967296|0,g=i/4294967296|0):(g=~(-i/4294967296),4294967295^(f=~(-i%4294967296))?f=f+1|0:(f=0,g=g+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(b,S,A){A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,A.buf[A.pos]=127&(b>>>=7)}(f,0,c),function(b,S){var A=(7&b)<<4;S.buf[S.pos++]|=A|((b>>>=3)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b)))))}(g,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var i=this.pos;this.pos=function(f,g,b){for(var S,A,D=0;D<g.length;D++){if((S=g.charCodeAt(D))>55295&&S<57344){if(!A){S>56319||D+1===g.length?(f[b++]=239,f[b++]=191,f[b++]=189):A=S;continue}if(S<56320){f[b++]=239,f[b++]=191,f[b++]=189,A=S;continue}S=A-55296<<10|S-56320|65536,A=null}else A&&(f[b++]=239,f[b++]=191,f[b++]=189,A=null);S<128?f[b++]=S:(S<2048?f[b++]=S>>6|192:(S<65536?f[b++]=S>>12|224:(f[b++]=S>>18|240,f[b++]=S>>12&63|128),f[b++]=S>>6&63|128),f[b++]=63&S|128)}return b}(this.buf,l,this.pos);var c=this.pos-i;c>=128&&sw(i,c,this),this.pos=i-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),rw(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),rw(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var i=l.length;this.writeVarint(i),this.realloc(i);for(var c=0;c<i;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,i){this.pos++;var c=this.pos;l(i,this);var f=this.pos-c;f>=128&&sw(c,f,this),this.pos=c-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,i,c){this.writeTag(l,or.Bytes),this.writeRawMessage(i,c)},writePackedVarint:function(l,i){i.length&&this.writeMessage(l,JM,i)},writePackedSVarint:function(l,i){i.length&&this.writeMessage(l,QM,i)},writePackedBoolean:function(l,i){i.length&&this.writeMessage(l,nL,i)},writePackedFloat:function(l,i){i.length&&this.writeMessage(l,eL,i)},writePackedDouble:function(l,i){i.length&&this.writeMessage(l,tL,i)},writePackedFixed32:function(l,i){i.length&&this.writeMessage(l,rL,i)},writePackedSFixed32:function(l,i){i.length&&this.writeMessage(l,iL,i)},writePackedFixed64:function(l,i){i.length&&this.writeMessage(l,aL,i)},writePackedSFixed64:function(l,i){i.length&&this.writeMessage(l,sL,i)},writeBytesField:function(l,i){this.writeTag(l,or.Bytes),this.writeBytes(i)},writeFixed32Field:function(l,i){this.writeTag(l,or.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(l,i){this.writeTag(l,or.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(l,i){this.writeTag(l,or.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(l,i){this.writeTag(l,or.Fixed64),this.writeSFixed64(i)},writeVarintField:function(l,i){this.writeTag(l,or.Varint),this.writeVarint(i)},writeSVarintField:function(l,i){this.writeTag(l,or.Varint),this.writeSVarint(i)},writeStringField:function(l,i){this.writeTag(l,or.Bytes),this.writeString(i)},writeFloatField:function(l,i){this.writeTag(l,or.Fixed32),this.writeFloat(i)},writeDoubleField:function(l,i){this.writeTag(l,or.Fixed64),this.writeDouble(i)},writeBooleanField:function(l,i){this.writeVarintField(l,!!i)}};var Oy=y(tw);const Fy=3;function oL(l,i,c){l===1&&c.readMessage(lL,i)}function lL(l,i,c){if(l===3){const{id:f,bitmap:g,width:b,height:S,left:A,top:D,advance:O}=c.readMessage(cL,{});i.push({id:f,bitmap:new Hh({width:b+2*Fy,height:S+2*Fy},g),metrics:{width:b,height:S,left:A,top:D,advance:O}})}}function cL(l,i,c){l===1?i.id=c.readVarint():l===2?i.bitmap=c.readBytes():l===3?i.width=c.readVarint():l===4?i.height=c.readVarint():l===5?i.left=c.readSVarint():l===6?i.top=c.readSVarint():l===7&&(i.advance=c.readVarint())}const lw=Fy;function cw(l){let i=0,c=0;for(const S of l)i+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,A)=>A.h-S.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),c),h:1/0}];let g=0,b=0;for(const S of l)for(let A=f.length-1;A>=0;A--){const D=f[A];if(!(S.w>D.w||S.h>D.h)){if(S.x=D.x,S.y=D.y,b=Math.max(b,S.y+S.h),g=Math.max(g,S.x+S.w),S.w===D.w&&S.h===D.h){const O=f.pop();A<f.length&&(f[A]=O)}else S.h===D.h?(D.x+=S.w,D.w-=S.w):S.w===D.w?(D.y+=S.h,D.h-=S.h):(f.push({x:D.x+S.w,y:D.y,w:D.w-S.w,h:S.h}),D.y+=S.h,D.h-=S.h);break}}return{w:g,h:b,fill:i/(g*b)||0}}const xa=1;class zy{constructor(i,{pixelRatio:c,version:f,stretchX:g,stretchY:b,content:S}){this.paddedRect=i,this.pixelRatio=c,this.stretchX=g,this.stretchY=b,this.content=S,this.version=f}get tl(){return[this.paddedRect.x+xa,this.paddedRect.y+xa]}get br(){return[this.paddedRect.x+this.paddedRect.w-xa,this.paddedRect.y+this.paddedRect.h-xa]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*xa)/this.pixelRatio,(this.paddedRect.h-2*xa)/this.pixelRatio]}}class uw{constructor(i,c){const f={},g={};this.haveRenderCallbacks=[];const b=[];this.addImages(i,f,b),this.addImages(c,g,b);const{w:S,h:A}=cw(b),D=new qa({width:S||1,height:A||1});for(const O in i){const B=i[O],j=f[O].paddedRect;qa.copy(B.data,D,{x:0,y:0},{x:j.x+xa,y:j.y+xa},B.data)}for(const O in c){const B=c[O],j=g[O].paddedRect,W=j.x+xa,ne=j.y+xa,re=B.data.width,ue=B.data.height;qa.copy(B.data,D,{x:0,y:0},{x:W,y:ne},B.data),qa.copy(B.data,D,{x:0,y:ue-1},{x:W,y:ne-1},{width:re,height:1}),qa.copy(B.data,D,{x:0,y:0},{x:W,y:ne+ue},{width:re,height:1}),qa.copy(B.data,D,{x:re-1,y:0},{x:W-1,y:ne},{width:1,height:ue}),qa.copy(B.data,D,{x:0,y:0},{x:W+re,y:ne},{width:1,height:ue})}this.image=D,this.iconPositions=f,this.patternPositions=g}addImages(i,c,f){for(const g in i){const b=i[g],S={x:0,y:0,w:b.data.width+2*xa,h:b.data.height+2*xa};f.push(S),c[g]=new zy(S,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(i,c){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in i.updatedImages)this.patchUpdatedImage(this.iconPositions[f],i.getImage(f),c),this.patchUpdatedImage(this.patternPositions[f],i.getImage(f),c)}patchUpdatedImage(i,c,f){if(!i||!c||i.version===c.version)return;i.version=c.version;const[g,b]=i.tl;f.update(c.data,void 0,{x:g,y:b})}}var Nl;Ut("ImagePosition",zy),Ut("ImageAtlas",uw),o.ai=void 0,(Nl=o.ai||(o.ai={}))[Nl.none=0]="none",Nl[Nl.horizontal=1]="horizontal",Nl[Nl.vertical=2]="vertical",Nl[Nl.horizontalOnly=3]="horizontalOnly";const Qh=-17;class ef{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,c){const f=new ef;return f.scale=i||1,f.fontStack=c,f}static forImage(i){const c=new ef;return c.imageName=i,c}}class ed{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,c){const f=new ed;for(let g=0;g<i.sections.length;g++){const b=i.sections[g];b.image?f.addImageSection(b):f.addTextSection(b,c)}return f}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let c="";for(let f=0;f<i.length;f++){const g=i.charCodeAt(f+1)||null,b=i.charCodeAt(f-1)||null;c+=g&&ap(g)&&!Jh[i[f+1]]||b&&ap(b)&&!Jh[i[f-1]]||!Jh[i[f]]?i[f]:Jh[i[f]]}return c}(this.text)}trim(){let i=0;for(let f=0;f<this.text.length&&Tp[this.text.charCodeAt(f)];f++)i++;let c=this.text.length;for(let f=this.text.length-1;f>=0&&f>=i&&Tp[this.text.charCodeAt(f)];f--)c--;this.text=this.text.substring(i,c),this.sectionIndex=this.sectionIndex.slice(i,c)}substring(i,c){const f=new ed;return f.text=this.text.substring(i,c),f.sectionIndex=this.sectionIndex.slice(i,c),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,c)=>Math.max(i,this.sections[c].scale),0)}addTextSection(i,c){this.text+=i.text,this.sections.push(ef.forText(i.scale,i.fontStack||c));const f=this.sections.length-1;for(let g=0;g<i.text.length;++g)this.sectionIndex.push(f)}addImageSection(i){const c=i.image?i.image.name:"";if(c.length===0)return void fe("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(ef.forImage(c)),this.sectionIndex.push(this.sections.length-1)):fe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Cp(l,i,c,f,g,b,S,A,D,O,B,j,W,ne,re,ue){const ye=ed.fromFeature(l,g);let we;j===o.ai.vertical&&ye.verticalizePunctuation();const{processBidirectionalText:Oe,processStyledBidirectionalText:Ae}=_a;if(Oe&&ye.sections.length===1){we=[];const st=Oe(ye.toString(),By(ye,O,b,i,f,ne,re));for(const Nt of st){const Zt=new ed;Zt.text=Nt,Zt.sections=ye.sections;for(let Bt=0;Bt<Nt.length;Bt++)Zt.sectionIndex.push(0);we.push(Zt)}}else if(Ae){we=[];const st=Ae(ye.text,ye.sectionIndex,By(ye,O,b,i,f,ne,re));for(const Nt of st){const Zt=new ed;Zt.text=Nt[0],Zt.sectionIndex=Nt[1],Zt.sections=ye.sections,we.push(Zt)}}else we=function(st,Nt){const Zt=[],Bt=st.text;let Ft=0;for(const Pt of Nt)Zt.push(st.substring(Ft,Pt)),Ft=Pt;return Ft<Bt.length&&Zt.push(st.substring(Ft,Bt.length)),Zt}(ye,By(ye,O,b,i,f,ne,re));const Be=[],Ge={positionedLines:Be,text:ye.toString(),top:B[1],bottom:B[1],left:B[0],right:B[0],writingMode:j,iconsInText:!1,verticalizable:!1};return function(st,Nt,Zt,Bt,Ft,Pt,qt,Dt,wt,nn,Xt,An){let br=0,Tr=Qh,hi=0,La=0;const ta=Dt==="right"?1:Dt==="left"?0:.5;let ni=0;for(const fi of Ft){fi.trim();const mi=fi.getMaxScale(),qi=(mi-1)*di,ia={positionedGlyphs:[],lineOffset:0};st.positionedLines[ni]=ia;const ji=ia.positionedGlyphs;let wa=0;if(!fi.length()){Tr+=Pt,++ni;continue}for(let pi=0;pi<fi.length();pi++){const Ln=fi.getSection(pi),Hi=fi.getSectionIndex(pi),Fi=fi.getCharCode(pi);let gi=0,fs=null,Bs=null,Vs=null,Jo=di;const ms=!(wt===o.ai.horizontal||!Xt&&!Th(Fi)||Xt&&(Tp[Fi]||(Ai=Fi,Vt.Arabic(Ai)||Vt["Arabic Supplement"](Ai)||Vt["Arabic Extended-A"](Ai)||Vt["Arabic Presentation Forms-A"](Ai)||Vt["Arabic Presentation Forms-B"](Ai))));if(Ln.imageName){const Ha=Bt[Ln.imageName];if(!Ha)continue;Vs=Ln.imageName,st.iconsInText=st.iconsInText||!0,Bs=Ha.paddedRect;const ka=Ha.displaySize;Ln.scale=Ln.scale*di/An,fs={width:ka[0],height:ka[1],left:xa,top:-lw,advance:ms?ka[1]:ka[0]},gi=qi+(di-ka[1]*Ln.scale),Jo=fs.advance;const Qo=ms?ka[0]*Ln.scale-di*mi:ka[1]*Ln.scale-di*mi;Qo>0&&Qo>wa&&(wa=Qo)}else{const Ha=Zt[Ln.fontStack],ka=Ha&&Ha[Fi];if(ka&&ka.rect)Bs=ka.rect,fs=ka.metrics;else{const Qo=Nt[Ln.fontStack],sf=Qo&&Qo[Fi];if(!sf)continue;fs=sf.metrics}gi=(mi-Ln.scale)*di}ms?(st.verticalizable=!0,ji.push({glyph:Fi,imageName:Vs,x:br,y:Tr+gi,vertical:ms,scale:Ln.scale,fontStack:Ln.fontStack,sectionIndex:Hi,metrics:fs,rect:Bs}),br+=Jo*Ln.scale+nn):(ji.push({glyph:Fi,imageName:Vs,x:br,y:Tr+gi,vertical:ms,scale:Ln.scale,fontStack:Ln.fontStack,sectionIndex:Hi,metrics:fs,rect:Bs}),br+=fs.advance*Ln.scale+nn)}ji.length!==0&&(hi=Math.max(br-nn,hi),hL(ji,0,ji.length-1,ta,wa)),br=0;const Sa=Pt*mi+wa;ia.lineOffset=Math.max(wa,qi),Tr+=Sa,La=Math.max(Sa,La),++ni}var Ai;const Oi=Tr-Qh,{horizontalAlign:na,verticalAlign:ra}=Vy(qt);(function(fi,mi,qi,ia,ji,wa,Sa,pi,Ln){const Hi=(mi-qi)*ji;let Fi=0;Fi=wa!==Sa?-pi*ia-Qh:(-ia*Ln+.5)*Sa;for(const gi of fi)for(const fs of gi.positionedGlyphs)fs.x+=Hi,fs.y+=Fi})(st.positionedLines,ta,na,ra,hi,La,Pt,Oi,Ft.length),st.top+=-ra*Oi,st.bottom=st.top+Oi,st.left+=-na*hi,st.right=st.left+hi}(Ge,i,c,f,we,S,A,D,j,O,W,ue),!function(st){for(const Nt of st)if(Nt.positionedGlyphs.length!==0)return!1;return!0}(Be)&&Ge}const Tp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},uL={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function dw(l,i,c,f,g,b){if(i.imageName){const S=f[i.imageName];return S?S.displaySize[0]*i.scale*di/b+g:0}{const S=c[i.fontStack],A=S&&S[l];return A?A.metrics.advance*i.scale+g:0}}function hw(l,i,c,f){const g=Math.pow(l-i,2);return f?l<i?g/2:2*g:g+Math.abs(c)*c}function dL(l,i,c){let f=0;return l===10&&(f-=1e4),c&&(f+=150),l!==40&&l!==65288||(f+=50),i!==41&&i!==65289||(f+=50),f}function fw(l,i,c,f,g,b){let S=null,A=hw(i,c,g,b);for(const D of f){const O=hw(i-D.x,c,g,b)+D.badness;O<=A&&(S=D,A=O)}return{index:l,x:i,priorBreak:S,badness:A}}function mw(l){return l?mw(l.priorBreak).concat(l.index):[]}function By(l,i,c,f,g,b,S){if(b!=="point")return[];if(!l)return[];const A=[],D=function(W,ne,re,ue,ye,we){let Oe=0;for(let Ae=0;Ae<W.length();Ae++){const Be=W.getSection(Ae);Oe+=dw(W.getCharCode(Ae),Be,ue,ye,ne,we)}return Oe/Math.max(1,Math.ceil(Oe/re))}(l,i,c,f,g,S),O=l.text.indexOf("​")>=0;let B=0;for(let W=0;W<l.length();W++){const ne=l.getSection(W),re=l.getCharCode(W);if(Tp[re]||(B+=dw(re,ne,f,g,i,S)),W<l.length()-1){const ue=!((j=re)<11904||!(Vt["Bopomofo Extended"](j)||Vt.Bopomofo(j)||Vt["CJK Compatibility Forms"](j)||Vt["CJK Compatibility Ideographs"](j)||Vt["CJK Compatibility"](j)||Vt["CJK Radicals Supplement"](j)||Vt["CJK Strokes"](j)||Vt["CJK Symbols and Punctuation"](j)||Vt["CJK Unified Ideographs Extension A"](j)||Vt["CJK Unified Ideographs"](j)||Vt["Enclosed CJK Letters and Months"](j)||Vt["Halfwidth and Fullwidth Forms"](j)||Vt.Hiragana(j)||Vt["Ideographic Description Characters"](j)||Vt["Kangxi Radicals"](j)||Vt["Katakana Phonetic Extensions"](j)||Vt.Katakana(j)||Vt["Vertical Forms"](j)||Vt["Yi Radicals"](j)||Vt["Yi Syllables"](j)));(uL[re]||ue||ne.imageName)&&A.push(fw(W+1,B,D,A,dL(re,l.getCharCode(W+1),ue&&O),!1))}}var j;return mw(fw(l.length(),B,D,A,0,!0))}function Vy(l){let i=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:i,verticalAlign:c}}function hL(l,i,c,f,g){if(!f&&!g)return;const b=l[c],S=(l[c].x+b.metrics.advance*b.scale)*f;for(let A=i;A<=c;A++)l[A].x-=S,l[A].y+=g}function fL(l,i,c){const{horizontalAlign:f,verticalAlign:g}=Vy(c),b=i[0]-l.displaySize[0]*f,S=i[1]-l.displaySize[1]*g;return{image:l,top:S,bottom:S+l.displaySize[1],left:b,right:b+l.displaySize[0]}}function pw(l,i,c,f,g,b){const S=l.image;let A;if(S.content){const ye=S.content,we=S.pixelRatio||1;A=[ye[0]/we,ye[1]/we,S.displaySize[0]-ye[2]/we,S.displaySize[1]-ye[3]/we]}const D=i.left*b,O=i.right*b;let B,j,W,ne;c==="width"||c==="both"?(ne=g[0]+D-f[3],j=g[0]+O+f[1]):(ne=g[0]+(D+O-S.displaySize[0])/2,j=ne+S.displaySize[0]);const re=i.top*b,ue=i.bottom*b;return c==="height"||c==="both"?(B=g[1]+re-f[0],W=g[1]+ue+f[2]):(B=g[1]+(re+ue-S.displaySize[1])/2,W=B+S.displaySize[1]),{image:S,top:B,right:j,bottom:W,left:ne,collisionPadding:A}}const tf=255,go=128,$l=tf*go;function gw(l,i){const{expression:c}=i;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new yr(l+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:g}=c;let b=0;for(;b<f.length&&f[b]<=l;)b++;b=Math.max(0,b-1);let S=b;for(;S<f.length&&f[S]<l+1;)S++;S=Math.min(f.length-1,S);const A=f[b],D=f[S];return c.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:D,interpolationType:g}:{kind:"camera",minZoom:A,maxZoom:D,minSize:c.evaluate(new yr(A)),maxSize:c.evaluate(new yr(D)),interpolationType:g}}}function Ny(l,i,c){let f="never";const g=l.get(i);return g?f=g:l.get(c)&&(f="always"),f}const mL=Vl.VectorTileFeature.types,pL=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ap(l,i,c,f,g,b,S,A,D,O,B,j,W){const ne=A?Math.min($l,Math.round(A[0])):0,re=A?Math.min($l,Math.round(A[1])):0;l.emplaceBack(i,c,Math.round(32*f),Math.round(32*g),b,S,(ne<<1)+(D?1:0),re,16*O,16*B,256*j,256*W)}function $y(l,i,c){l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c)}function gL(l){for(const i of l.sections)if(fy(i.text))return!0;return!1}class Uy{constructor(i){this.layoutVertexArray=new In,this.indexArray=new Ci,this.programConfigurations=i,this.segments=new _r,this.dynamicLayoutVertexArray=new Sn,this.opacityVertexArray=new Dn,this.hasVisibleVertices=!1,this.placedSymbolArray=new De}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,c,f,g){this.isEmpty()||(f&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,WM.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,YM.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,pL,!0),this.opacityVertexBuffer.itemSize=1),(f||g)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ut("SymbolBuffers",Uy);class qy{constructor(i,c,f){this.layoutVertexArray=new i,this.layoutAttributes=c,this.indexArray=new f,this.segments=new _r,this.collisionVertexArray=new mr}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,ZM.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ut("CollisionBuffers",qy);class td{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(S=>S.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=by([]),this.placementViewportMatrix=by([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=gw(this.zoom,c["text-size"]),this.iconSizeData=gw(this.zoom,c["icon-size"]);const f=this.layers[0].layout,g=f.get("symbol-sort-key"),b=f.get("symbol-z-order");this.canOverlap=Ny(f,"text-overlap","text-allow-overlap")!=="never"||Ny(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(S=>o.ai[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=i.sourceID}createArrays(){this.text=new Uy(new zs(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Uy(new zs(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Le,this.lineVertexArray=new Ze,this.symbolInstances=new xe,this.textAnchorOffsets=new rt}calculateGlyphDependencies(i,c,f,g,b){for(let S=0;S<i.length;S++)if(c[i.charCodeAt(S)]=!0,(f||g)&&b){const A=Jh[i.charAt(S)];A&&(c[A.charCodeAt(0)]=!0)}}populate(i,c,f){const g=this.layers[0],b=g.layout,S=b.get("text-font"),A=b.get("text-field"),D=b.get("icon-image"),O=(A.value.kind!=="constant"||A.value.value instanceof Mi&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),B=D.value.kind!=="constant"||!!D.value.value||Object.keys(D.parameters).length>0,j=b.get("symbol-sort-key");if(this.features=[],!O&&!B)return;const W=c.iconDependencies,ne=c.glyphDependencies,re=c.availableImages,ue=new yr(this.zoom);for(const{feature:ye,id:we,index:Oe,sourceLayerIndex:Ae}of i){const Be=g._featureFilter.needGeometry,Ge=Oc(ye,Be);if(!g._featureFilter.filter(ue,Ge,f))continue;let st,Nt;if(Be||(Ge.geometry=Rc(ye)),O){const Bt=g.getValueAndResolveTokens("text-field",Ge,f,re),Ft=Mi.factory(Bt);gL(Ft)&&(this.hasRTLText=!0),(!this.hasRTLText||Mh()==="unavailable"||this.hasRTLText&&_a.isParsed())&&(st=XM(Ft,g,Ge))}if(B){const Bt=g.getValueAndResolveTokens("icon-image",Ge,f,re);Nt=Bt instanceof ki?Bt:ki.fromString(Bt)}if(!st&&!Nt)continue;const Zt=this.sortFeaturesByKey?j.evaluate(Ge,{},f):void 0;if(this.features.push({id:we,text:st,icon:Nt,index:Oe,sourceLayerIndex:Ae,geometry:Ge.geometry,properties:ye.properties,type:mL[ye.type],sortKey:Zt}),Nt&&(W[Nt.name]=!0),st){const Bt=S.evaluate(Ge,{},f).join(","),Ft=b.get("text-rotation-alignment")!=="viewport"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(o.ai.vertical)>=0;for(const Pt of st.sections)if(Pt.image)W[Pt.image.name]=!0;else{const qt=kh(st.toString()),Dt=Pt.fontStack||Bt,wt=ne[Dt]=ne[Dt]||{};this.calculateGlyphDependencies(Pt.text,wt,Ft,this.allowVerticalPlacement,qt)}}}b.get("symbol-placement")==="line"&&(this.features=function(ye){const we={},Oe={},Ae=[];let Be=0;function Ge(Bt){Ae.push(ye[Bt]),Be++}function st(Bt,Ft,Pt){const qt=Oe[Bt];return delete Oe[Bt],Oe[Ft]=qt,Ae[qt].geometry[0].pop(),Ae[qt].geometry[0]=Ae[qt].geometry[0].concat(Pt[0]),qt}function Nt(Bt,Ft,Pt){const qt=we[Ft];return delete we[Ft],we[Bt]=qt,Ae[qt].geometry[0].shift(),Ae[qt].geometry[0]=Pt[0].concat(Ae[qt].geometry[0]),qt}function Zt(Bt,Ft,Pt){const qt=Pt?Ft[0][Ft[0].length-1]:Ft[0][0];return`${Bt}:${qt.x}:${qt.y}`}for(let Bt=0;Bt<ye.length;Bt++){const Ft=ye[Bt],Pt=Ft.geometry,qt=Ft.text?Ft.text.toString():null;if(!qt){Ge(Bt);continue}const Dt=Zt(qt,Pt),wt=Zt(qt,Pt,!0);if(Dt in Oe&&wt in we&&Oe[Dt]!==we[wt]){const nn=Nt(Dt,wt,Pt),Xt=st(Dt,wt,Ae[nn].geometry);delete we[Dt],delete Oe[wt],Oe[Zt(qt,Ae[Xt].geometry,!0)]=Xt,Ae[nn].geometry=null}else Dt in Oe?st(Dt,wt,Pt):wt in we?Nt(Dt,wt,Pt):(Ge(Bt),we[Dt]=Be-1,Oe[wt]=Be-1)}return Ae.filter(Bt=>Bt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ye,we)=>ye.sortKey-we.sortKey)}update(i,c,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,c,this.layers,f),this.icon.programConfigurations.updatePaintArrays(i,c,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,c){const f=this.lineVertexArray.length;if(i.segment!==void 0){let g=i.dist(c[i.segment+1]),b=i.dist(c[i.segment]);const S={};for(let A=i.segment+1;A<c.length;A++)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:g},A<c.length-1&&(g+=c[A+1].dist(c[A]));for(let A=i.segment||0;A>=0;A--)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:b},A>0&&(b+=c[A-1].dist(c[A]));for(let A=0;A<c.length;A++){const D=S[A];this.lineVertexArray.emplaceBack(D.x,D.y,D.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(i,c,f,g,b,S,A,D,O,B,j,W){const ne=i.indexArray,re=i.layoutVertexArray,ue=i.segments.prepareSegment(4*c.length,re,ne,this.canOverlap?S.sortKey:void 0),ye=this.glyphOffsetArray.length,we=ue.vertexLength,Oe=this.allowVerticalPlacement&&A===o.ai.vertical?Math.PI/2:0,Ae=S.text&&S.text.sections;for(let Be=0;Be<c.length;Be++){const{tl:Ge,tr:st,bl:Nt,br:Zt,tex:Bt,pixelOffsetTL:Ft,pixelOffsetBR:Pt,minFontScaleX:qt,minFontScaleY:Dt,glyphOffset:wt,isSDF:nn,sectionIndex:Xt}=c[Be],An=ue.vertexLength,br=wt[1];Ap(re,D.x,D.y,Ge.x,br+Ge.y,Bt.x,Bt.y,f,nn,Ft.x,Ft.y,qt,Dt),Ap(re,D.x,D.y,st.x,br+st.y,Bt.x+Bt.w,Bt.y,f,nn,Pt.x,Ft.y,qt,Dt),Ap(re,D.x,D.y,Nt.x,br+Nt.y,Bt.x,Bt.y+Bt.h,f,nn,Ft.x,Pt.y,qt,Dt),Ap(re,D.x,D.y,Zt.x,br+Zt.y,Bt.x+Bt.w,Bt.y+Bt.h,f,nn,Pt.x,Pt.y,qt,Dt),$y(i.dynamicLayoutVertexArray,D,Oe),ne.emplaceBack(An,An+1,An+2),ne.emplaceBack(An+1,An+2,An+3),ue.vertexLength+=4,ue.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(wt[0]),Be!==c.length-1&&Xt===c[Be+1].sectionIndex||i.programConfigurations.populatePaintArrays(re.length,S,S.index,{},W,Ae&&Ae[Xt])}i.placedSymbolArray.emplaceBack(D.x,D.y,ye,this.glyphOffsetArray.length-ye,we,O,B,D.segment,f?f[0]:0,f?f[1]:0,g[0],g[1],A,0,!1,0,j)}_addCollisionDebugVertex(i,c,f,g,b,S){return c.emplaceBack(0,0),i.emplaceBack(f.x,f.y,g,b,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(i,c,f,g,b,S,A){const D=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),O=D.vertexLength,B=b.layoutVertexArray,j=b.collisionVertexArray,W=A.anchorX,ne=A.anchorY;this._addCollisionDebugVertex(B,j,S,W,ne,new C(i,c)),this._addCollisionDebugVertex(B,j,S,W,ne,new C(f,c)),this._addCollisionDebugVertex(B,j,S,W,ne,new C(f,g)),this._addCollisionDebugVertex(B,j,S,W,ne,new C(i,g)),D.vertexLength+=4;const re=b.indexArray;re.emplaceBack(O,O+1),re.emplaceBack(O+1,O+2),re.emplaceBack(O+2,O+3),re.emplaceBack(O+3,O),D.primitiveLength+=4}addDebugCollisionBoxes(i,c,f,g){for(let b=i;b<c;b++){const S=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,g?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new qy(qr,ew.members,ci),this.iconCollisionBox=new qy(qr,ew.members,ci);for(let i=0;i<this.symbolInstances.length;i++){const c=this.symbolInstances.get(i);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(i,c,f,g,b,S,A,D,O){const B={};for(let j=c;j<f;j++){const W=i.get(j);B.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.textFeatureIndex=W.featureIndex;break}for(let j=g;j<b;j++){const W=i.get(j);B.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.verticalTextFeatureIndex=W.featureIndex;break}for(let j=S;j<A;j++){const W=i.get(j);B.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.iconFeatureIndex=W.featureIndex;break}for(let j=D;j<O;j++){const W=i.get(j);B.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},B.verticalIconFeatureIndex=W.featureIndex;break}return B}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const f=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,c){const f=i.placedSymbolArray.get(c),g=f.vertexStartIndex+4*f.numGlyphs;for(let b=f.vertexStartIndex;b<g;b+=4)i.indexArray.emplaceBack(b,b+1,b+2),i.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(i),f=Math.cos(i),g=[],b=[],S=[];for(let A=0;A<this.symbolInstances.length;++A){S.push(A);const D=this.symbolInstances.get(A);g.push(0|Math.round(c*D.anchorX+f*D.anchorY)),b.push(D.featureIndex)}return S.sort((A,D)=>g[A]-g[D]||b[D]-b[A]),S}addToSortKeyRanges(i,c){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===c?f.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const f=this.symbolInstances.get(c);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((g,b,S)=>{g>=0&&S.indexOf(g)===b&&this.addIndicesForPlacedSymbol(this.text,g)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let vw,yw;Ut("SymbolBucket",td,{omit:["layers","collisionBoxArray","features","compareText"]}),td.MAX_GLYPHS=65535,td.addDynamicAttributes=$y;var jy={get paint(){return yw=yw||new Yr({"icon-opacity":new on(Ce.paint_symbol["icon-opacity"]),"icon-color":new on(Ce.paint_symbol["icon-color"]),"icon-halo-color":new on(Ce.paint_symbol["icon-halo-color"]),"icon-halo-width":new on(Ce.paint_symbol["icon-halo-width"]),"icon-halo-blur":new on(Ce.paint_symbol["icon-halo-blur"]),"icon-translate":new Qt(Ce.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qt(Ce.paint_symbol["icon-translate-anchor"]),"text-opacity":new on(Ce.paint_symbol["text-opacity"]),"text-color":new on(Ce.paint_symbol["text-color"],{runtimeType:Ni,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new on(Ce.paint_symbol["text-halo-color"]),"text-halo-width":new on(Ce.paint_symbol["text-halo-width"]),"text-halo-blur":new on(Ce.paint_symbol["text-halo-blur"]),"text-translate":new Qt(Ce.paint_symbol["text-translate"]),"text-translate-anchor":new Qt(Ce.paint_symbol["text-translate-anchor"])})},get layout(){return vw=vw||new Yr({"symbol-placement":new Qt(Ce.layout_symbol["symbol-placement"]),"symbol-spacing":new Qt(Ce.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qt(Ce.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new on(Ce.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qt(Ce.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qt(Ce.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Qt(Ce.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Qt(Ce.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qt(Ce.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qt(Ce.layout_symbol["icon-rotation-alignment"]),"icon-size":new on(Ce.layout_symbol["icon-size"]),"icon-text-fit":new Qt(Ce.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qt(Ce.layout_symbol["icon-text-fit-padding"]),"icon-image":new on(Ce.layout_symbol["icon-image"]),"icon-rotate":new on(Ce.layout_symbol["icon-rotate"]),"icon-padding":new on(Ce.layout_symbol["icon-padding"]),"icon-keep-upright":new Qt(Ce.layout_symbol["icon-keep-upright"]),"icon-offset":new on(Ce.layout_symbol["icon-offset"]),"icon-anchor":new on(Ce.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qt(Ce.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qt(Ce.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qt(Ce.layout_symbol["text-rotation-alignment"]),"text-field":new on(Ce.layout_symbol["text-field"]),"text-font":new on(Ce.layout_symbol["text-font"]),"text-size":new on(Ce.layout_symbol["text-size"]),"text-max-width":new on(Ce.layout_symbol["text-max-width"]),"text-line-height":new Qt(Ce.layout_symbol["text-line-height"]),"text-letter-spacing":new on(Ce.layout_symbol["text-letter-spacing"]),"text-justify":new on(Ce.layout_symbol["text-justify"]),"text-radial-offset":new on(Ce.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qt(Ce.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new on(Ce.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new on(Ce.layout_symbol["text-anchor"]),"text-max-angle":new Qt(Ce.layout_symbol["text-max-angle"]),"text-writing-mode":new Qt(Ce.layout_symbol["text-writing-mode"]),"text-rotate":new on(Ce.layout_symbol["text-rotate"]),"text-padding":new Qt(Ce.layout_symbol["text-padding"]),"text-keep-upright":new Qt(Ce.layout_symbol["text-keep-upright"]),"text-transform":new on(Ce.layout_symbol["text-transform"]),"text-offset":new on(Ce.layout_symbol["text-offset"]),"text-allow-overlap":new Qt(Ce.layout_symbol["text-allow-overlap"]),"text-overlap":new Qt(Ce.layout_symbol["text-overlap"]),"text-ignore-placement":new Qt(Ce.layout_symbol["text-ignore-placement"]),"text-optional":new Qt(Ce.layout_symbol["text-optional"])})}};class _w{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:hr,this.defaultValue=i}evaluate(i){if(i.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(i.formattedSection))return c.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ut("FormatSectionOverride",_w,{omit:["defaultValue"]});class Ep extends Da{constructor(i){super(i,jy)}recalculate(i,c){if(super.recalculate(i,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const g=[];for(const b of f)g.indexOf(b)<0&&g.push(b);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,c,f,g){const b=this.layout.get(i).evaluate(c,{},f,g),S=this._unevaluatedLayout._values[i];return S.isDataDriven()||Ou(S.value)||!b?b:function(A,D){return D.replace(/{([^{}]+)}/g,(O,B)=>A&&B in A?String(A[B]):"")}(c.properties,b)}createBucket(i){return new td(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of jy.paint.overridableProperties){if(!Ep.hasPaintOverride(this.layout,i))continue;const c=this.paint.get(i),f=new _w(c),g=new yh(f,c.property.specification);let b=null;b=c.value.kind==="constant"||c.value.kind==="source"?new _h("source",g):new zu("composite",g,c.value.zoomStops),this.paint._values[i]=new $i(c.property,b,c.parameters)}}_handleOverridablePaintPropertyUpdate(i,c,f){return!(!this.layout||c.isDataDriven()||f.isDataDriven())&&Ep.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,c){const f=i.get("text-field"),g=jy.paint.properties[c];let b=!1;const S=A=>{for(const D of A)if(g.overrides&&g.overrides.hasOverride(D))return void(b=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Mi)S(f.value.value.sections);else if(f.value.kind==="source"){const A=O=>{b||(O instanceof Vo&&Ar(O.value)===pe?S(O.value.sections):O instanceof Ru?S(O.sections):O.eachChild(A))},D=f.value;D._styleExpression&&A(D._styleExpression.expression)}return b}}let bw;var vL={get paint(){return bw=bw||new Yr({"background-color":new Qt(Ce.paint_background["background-color"]),"background-pattern":new Rh(Ce.paint_background["background-pattern"]),"background-opacity":new Qt(Ce.paint_background["background-opacity"])})}};class yL extends Da{constructor(i){super(i,vL)}}let xw;var _L={get paint(){return xw=xw||new Yr({"raster-opacity":new Qt(Ce.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qt(Ce.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qt(Ce.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qt(Ce.paint_raster["raster-brightness-max"]),"raster-saturation":new Qt(Ce.paint_raster["raster-saturation"]),"raster-contrast":new Qt(Ce.paint_raster["raster-contrast"]),"raster-resampling":new Qt(Ce.paint_raster["raster-resampling"]),"raster-fade-duration":new Qt(Ce.paint_raster["raster-fade-duration"])})}};class bL extends Da{constructor(i){super(i,_L)}}class xL extends Da{constructor(i){super(i,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class wL{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Hy=63710088e-1;class Ul{constructor(i,c){if(isNaN(i)||isNaN(c))throw new Error(`Invalid LngLat object: (${i}, ${c})`);if(this.lng=+i,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ul(te(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const c=Math.PI/180,f=this.lat*c,g=i.lat*c,b=Math.sin(f)*Math.sin(g)+Math.cos(f)*Math.cos(g)*Math.cos((i.lng-this.lng)*c);return Hy*Math.acos(Math.min(b,1))}static convert(i){if(i instanceof Ul)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Ul(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Ul(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ww=2*Math.PI*Hy;function Sw(l){return ww*Math.cos(l*Math.PI/180)}function kw(l){return(180+l)/360}function Cw(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function Tw(l,i){return l/Sw(i)}function Aw(l){return 360*l-180}function Gy(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class Ip{constructor(i,c,f=0){this.x=+i,this.y=+c,this.z=+f}static fromLngLat(i,c=0){const f=Ul.convert(i);return new Ip(kw(f.lng),Cw(f.lat),Tw(c,f.lat))}toLngLat(){return new Ul(Aw(this.x),Gy(this.y))}toAltitude(){return this.z*Sw(Gy(this.y))}meterInMercatorCoordinateUnits(){return 1/ww*(i=Gy(this.y),1/Math.cos(i*Math.PI/180));var i}}function Ew(l,i,c){var f=2*Math.PI*6378137/256/Math.pow(2,c);return[l*f-2*Math.PI*6378137/2,i*f-2*Math.PI*6378137/2]}class Wy{constructor(i,c,f){if(i<0||i>25||f<0||f>=Math.pow(2,i)||c<0||c>=Math.pow(2,i))throw new Error(`x=${c}, y=${f}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=c,this.y=f,this.key=nf(0,i,i,c,f)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,c,f){const g=(S=this.y,A=this.z,D=Ew(256*(b=this.x),256*(S=Math.pow(2,A)-S-1),A),O=Ew(256*(b+1),256*(S+1),A),D[0]+","+D[1]+","+O[0]+","+O[1]);var b,S,A,D,O;const B=function(j,W,ne){let re,ue="";for(let ye=j;ye>0;ye--)re=1<<ye-1,ue+=(W&re?1:0)+(ne&re?2:0);return ue}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,B).replace(/{bbox-epsg-3857}/g,g)}isChildOf(i){const c=this.z-i.z;return c>0&&i.x===this.x>>c&&i.y===this.y>>c}getTilePoint(i){const c=Math.pow(2,this.z);return new C((i.x*c-this.x)*ti,(i.y*c-this.y)*ti)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Iw{constructor(i,c){this.wrap=i,this.canonical=c,this.key=nf(i,c.z,c.z,c.x,c.y)}}class ja{constructor(i,c,f,g,b){if(i<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${f}`);this.overscaledZ=i,this.wrap=c,this.canonical=new Wy(f,+g,+b),this.key=nf(c,i,f,g,b)}clone(){return new ja(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-i;return i>this.canonical.z?new ja(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ja(i,this.wrap,i,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(i,c){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-i;return i>this.canonical.z?nf(this.wrap*+c,i,this.canonical.z,this.canonical.x,this.canonical.y):nf(this.wrap*+c,i,i,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const c=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>c&&i.canonical.y===this.canonical.y>>c}children(i){if(this.overscaledZ>=i)return[new ja(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,f=2*this.canonical.x,g=2*this.canonical.y;return[new ja(c,this.wrap,c,f,g),new ja(c,this.wrap,c,f+1,g),new ja(c,this.wrap,c,f,g+1),new ja(c,this.wrap,c,f+1,g+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new ja(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new ja(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Iw(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Ip(i.x-this.wrap,i.y))}}function nf(l,i,c,f,g){(l*=2)<0&&(l=-1*l-1);const b=1<<c;return(b*b*l+b*g+f).toString(36)+c.toString(36)+i.toString(36)}Ut("CanonicalTileID",Wy),Ut("OverscaledTileID",ja,{omit:["posMatrix"]});class Pw{constructor(i,c,f,g=1,b=1,S=1,A=0){if(this.uid=i,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void fe(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const D=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=b,this.blueFactor=S,this.baseShift=A;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let O=0;O<D;O++)this.data[this._idx(-1,O)]=this.data[this._idx(0,O)],this.data[this._idx(D,O)]=this.data[this._idx(D-1,O)],this.data[this._idx(O,-1)]=this.data[this._idx(O,0)],this.data[this._idx(O,D)]=this.data[this._idx(O,D-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(D,-1)]=this.data[this._idx(D-1,0)],this.data[this._idx(-1,D)]=this.data[this._idx(0,D-1)],this.data[this._idx(D,D)]=this.data[this._idx(D-1,D-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let O=0;O<D;O++)for(let B=0;B<D;B++){const j=this.get(O,B);j>this.max&&(this.max=j),j<this.min&&(this.min=j)}}get(i,c){const f=new Uint8Array(this.data.buffer),g=4*this._idx(i,c);return this.unpack(f[g],f[g+1],f[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(i,c){if(i<-1||i>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(i+1)}unpack(i,c,f){return i*this.redFactor+c*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new qa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,c,f){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let g=c*this.dim,b=c*this.dim+this.dim,S=f*this.dim,A=f*this.dim+this.dim;switch(c){case-1:g=b-1;break;case 1:b=g+1}switch(f){case-1:S=A-1;break;case 1:A=S+1}const D=-c*this.dim,O=-f*this.dim;for(let B=S;B<A;B++)for(let j=g;j<b;j++)this.data[this._idx(j,B)]=i.data[this._idx(j+D,B+O)]}}Ut("DEMData",Pw);class Dw{constructor(i){this._stringToNumber={},this._numberToString=[];for(let c=0;c<i.length;c++){const f=i[c];this._stringToNumber[f]=c,this._numberToString[c]=f}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class Mw{constructor(i,c,f,g,b){this.type="Feature",this._vectorTileFeature=i,i._z=c,i._x=f,i._y=g,this.properties=i.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(i[c]=this[c]);return i}}class Lw{constructor(i,c){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new Rl(ti,16,0),this.grid3D=new Rl(ti,16,0),this.featureIndexArray=new mt,this.promoteId=c}insert(i,c,f,g,b,S){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,g,b);const D=S?this.grid3D:this.grid;for(let O=0;O<c.length;O++){const B=c[O],j=[1/0,1/0,-1/0,-1/0];for(let W=0;W<B.length;W++){const ne=B[W];j[0]=Math.min(j[0],ne.x),j[1]=Math.min(j[1],ne.y),j[2]=Math.max(j[2],ne.x),j[3]=Math.max(j[3],ne.y)}j[0]<ti&&j[1]<ti&&j[2]>=0&&j[3]>=0&&D.insert(A,j[0],j[1],j[2],j[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Vl.VectorTile(new Oy(this.rawTileData)).layers,this.sourceLayerCoder=new Dw(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,c,f,g){this.loadVTLayers();const b=i.params||{},S=ti/i.tileSize/i.scale,A=xh(b.filter),D=i.queryGeometry,O=i.queryPadding*S,B=Ow(D),j=this.grid.query(B.minX-O,B.minY-O,B.maxX+O,B.maxY+O),W=Ow(i.cameraQueryGeometry),ne=this.grid3D.query(W.minX-O,W.minY-O,W.maxX+O,W.maxY+O,(ye,we,Oe,Ae)=>function(Be,Ge,st,Nt,Zt){for(const Ft of Be)if(Ge<=Ft.x&&st<=Ft.y&&Nt>=Ft.x&&Zt>=Ft.y)return!0;const Bt=[new C(Ge,st),new C(Ge,Zt),new C(Nt,Zt),new C(Nt,st)];if(Be.length>2){for(const Ft of Bt)if(Yu(Be,Ft))return!0}for(let Ft=0;Ft<Be.length-1;Ft++)if(eM(Be[Ft],Be[Ft+1],Bt))return!0;return!1}(i.cameraQueryGeometry,ye-O,we-O,Oe+O,Ae+O));for(const ye of ne)j.push(ye);j.sort(SL);const re={};let ue;for(let ye=0;ye<j.length;ye++){const we=j[ye];if(we===ue)continue;ue=we;const Oe=this.featureIndexArray.get(we);let Ae=null;this.loadMatchingFeature(re,Oe.bucketIndex,Oe.sourceLayerIndex,Oe.featureIndex,A,b.layers,b.availableImages,c,f,g,(Be,Ge,st)=>(Ae||(Ae=Rc(Be)),Ge.queryIntersectsFeature(D,Be,st,Ae,this.z,i.transform,S,i.pixelPosMatrix)))}return re}loadMatchingFeature(i,c,f,g,b,S,A,D,O,B,j){const W=this.bucketLayerIDs[c];if(S&&!function(ye,we){for(let Oe=0;Oe<ye.length;Oe++)if(we.indexOf(ye[Oe])>=0)return!0;return!1}(S,W))return;const ne=this.sourceLayerCoder.decode(f),re=this.vtLayers[ne].feature(g);if(b.needGeometry){const ye=Oc(re,!0);if(!b.filter(new yr(this.tileID.overscaledZ),ye,this.tileID.canonical))return}else if(!b.filter(new yr(this.tileID.overscaledZ),re))return;const ue=this.getId(re,ne);for(let ye=0;ye<W.length;ye++){const we=W[ye];if(S&&S.indexOf(we)<0)continue;const Oe=D[we];if(!Oe)continue;let Ae={};ue&&B&&(Ae=B.getState(Oe.sourceLayer||"_geojsonTileLayer",ue));const Be=G({},O[we]);Be.paint=Rw(Be.paint,Oe.paint,re,Ae,A),Be.layout=Rw(Be.layout,Oe.layout,re,Ae,A);const Ge=!j||j(re,Oe,Ae);if(!Ge)continue;const st=new Mw(re,this.z,this.x,this.y,ue);st.layer=Be;let Nt=i[we];Nt===void 0&&(Nt=i[we]=[]),Nt.push({featureIndex:g,feature:st,intersectionZ:Ge})}}lookupSymbolFeatures(i,c,f,g,b,S,A,D){const O={};this.loadVTLayers();const B=xh(b);for(const j of i)this.loadMatchingFeature(O,f,g,j,B,S,A,D,c);return O}hasLayer(i){for(const c of this.bucketLayerIDs)for(const f of c)if(i===f)return!0;return!1}getId(i,c){let f=i.id;return this.promoteId&&(f=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof f=="boolean"&&(f=Number(f))),f}}function Rw(l,i,c,f,g){return K(l,(b,S)=>{const A=i instanceof Gu?i.get(S):null;return A&&A.evaluate?A.evaluate(c,f,g):A})}function Ow(l){let i=1/0,c=1/0,f=-1/0,g=-1/0;for(const b of l)i=Math.min(i,b.x),c=Math.min(c,b.y),f=Math.max(f,b.x),g=Math.max(g,b.y);return{minX:i,minY:c,maxX:f,maxY:g}}function SL(l,i){return i-l}function Fw(l,i,c,f,g){const b=[];for(let S=0;S<l.length;S++){const A=l[S];let D;for(let O=0;O<A.length-1;O++){let B=A[O],j=A[O+1];B.x<i&&j.x<i||(B.x<i?B=new C(i,B.y+(i-B.x)/(j.x-B.x)*(j.y-B.y))._round():j.x<i&&(j=new C(i,B.y+(i-B.x)/(j.x-B.x)*(j.y-B.y))._round()),B.y<c&&j.y<c||(B.y<c?B=new C(B.x+(c-B.y)/(j.y-B.y)*(j.x-B.x),c)._round():j.y<c&&(j=new C(B.x+(c-B.y)/(j.y-B.y)*(j.x-B.x),c)._round()),B.x>=f&&j.x>=f||(B.x>=f?B=new C(f,B.y+(f-B.x)/(j.x-B.x)*(j.y-B.y))._round():j.x>=f&&(j=new C(f,B.y+(f-B.x)/(j.x-B.x)*(j.y-B.y))._round()),B.y>=g&&j.y>=g||(B.y>=g?B=new C(B.x+(g-B.y)/(j.y-B.y)*(j.x-B.x),g)._round():j.y>=g&&(j=new C(B.x+(g-B.y)/(j.y-B.y)*(j.x-B.x),g)._round()),D&&B.equals(D[D.length-1])||(D=[B],b.push(D)),D.push(j)))))}}return b}Ut("FeatureIndex",Lw,{omit:["rawTileData","sourceLayerCoder"]});class ql extends C{constructor(i,c,f,g){super(i,c),this.angle=f,g!==void 0&&(this.segment=g)}clone(){return new ql(this.x,this.y,this.angle,this.segment)}}function zw(l,i,c,f,g){if(i.segment===void 0||c===0)return!0;let b=i,S=i.segment+1,A=0;for(;A>-c/2;){if(S--,S<0)return!1;A-=l[S].dist(b),b=l[S]}A+=l[S].dist(l[S+1]),S++;const D=[];let O=0;for(;A<c/2;){const B=l[S],j=l[S+1];if(!j)return!1;let W=l[S-1].angleTo(B)-B.angleTo(j);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),D.push({distance:A,angleDelta:W}),O+=W;A-D[0].distance>f;)O-=D.shift().angleDelta;if(O>g)return!1;S++,A+=B.dist(j)}return!0}function Bw(l){let i=0;for(let c=0;c<l.length-1;c++)i+=l[c].dist(l[c+1]);return i}function Vw(l,i,c){return l?.6*i*c:0}function Nw(l,i){return Math.max(l?l.right-l.left:0,i?i.right-i.left:0)}function kL(l,i,c,f,g,b){const S=Vw(c,g,b),A=Nw(c,f)*b;let D=0;const O=Bw(l)/2;for(let B=0;B<l.length-1;B++){const j=l[B],W=l[B+1],ne=j.dist(W);if(D+ne>O){const re=(O-D)/ne,ue=ga.number(j.x,W.x,re),ye=ga.number(j.y,W.y,re),we=new ql(ue,ye,W.angleTo(j),B);return we._round(),!S||zw(l,we,A,S,i)?we:void 0}D+=ne}}function CL(l,i,c,f,g,b,S,A,D){const O=Vw(f,b,S),B=Nw(f,g),j=B*S,W=l[0].x===0||l[0].x===D||l[0].y===0||l[0].y===D;return i-j<i/4&&(i=j+i/4),$w(l,W?i/2*A%i:(B/2+2*b)*S*A%i,i,O,c,j,W,!1,D)}function $w(l,i,c,f,g,b,S,A,D){const O=b/2,B=Bw(l);let j=0,W=i-c,ne=[];for(let re=0;re<l.length-1;re++){const ue=l[re],ye=l[re+1],we=ue.dist(ye),Oe=ye.angleTo(ue);for(;W+c<j+we;){W+=c;const Ae=(W-j)/we,Be=ga.number(ue.x,ye.x,Ae),Ge=ga.number(ue.y,ye.y,Ae);if(Be>=0&&Be<D&&Ge>=0&&Ge<D&&W-O>=0&&W+O<=B){const st=new ql(Be,Ge,Oe,re);st._round(),f&&!zw(l,st,b,f,g)||ne.push(st)}}j+=we}return A||ne.length||S||(ne=$w(l,j/2,c,f,g,b,S,!0,D)),ne}Ut("Anchor",ql);const nd=xa;function Uw(l,i,c,f){const g=[],b=l.image,S=b.pixelRatio,A=b.paddedRect.w-2*nd,D=b.paddedRect.h-2*nd,O=l.right-l.left,B=l.bottom-l.top,j=b.stretchX||[[0,A]],W=b.stretchY||[[0,D]],ne=(Pt,qt)=>Pt+qt[1]-qt[0],re=j.reduce(ne,0),ue=W.reduce(ne,0),ye=A-re,we=D-ue;let Oe=0,Ae=re,Be=0,Ge=ue,st=0,Nt=ye,Zt=0,Bt=we;if(b.content&&f){const Pt=b.content;Oe=Pp(j,0,Pt[0]),Be=Pp(W,0,Pt[1]),Ae=Pp(j,Pt[0],Pt[2]),Ge=Pp(W,Pt[1],Pt[3]),st=Pt[0]-Oe,Zt=Pt[1]-Be,Nt=Pt[2]-Pt[0]-Ae,Bt=Pt[3]-Pt[1]-Ge}const Ft=(Pt,qt,Dt,wt)=>{const nn=Dp(Pt.stretch-Oe,Ae,O,l.left),Xt=Mp(Pt.fixed-st,Nt,Pt.stretch,re),An=Dp(qt.stretch-Be,Ge,B,l.top),br=Mp(qt.fixed-Zt,Bt,qt.stretch,ue),Tr=Dp(Dt.stretch-Oe,Ae,O,l.left),hi=Mp(Dt.fixed-st,Nt,Dt.stretch,re),La=Dp(wt.stretch-Be,Ge,B,l.top),ta=Mp(wt.fixed-Zt,Bt,wt.stretch,ue),ni=new C(nn,An),Ai=new C(Tr,An),Oi=new C(Tr,La),na=new C(nn,La),ra=new C(Xt/S,br/S),fi=new C(hi/S,ta/S),mi=i*Math.PI/180;if(mi){const ji=Math.sin(mi),wa=Math.cos(mi),Sa=[wa,-ji,ji,wa];ni._matMult(Sa),Ai._matMult(Sa),na._matMult(Sa),Oi._matMult(Sa)}const qi=Pt.stretch+Pt.fixed,ia=qt.stretch+qt.fixed;return{tl:ni,tr:Ai,bl:na,br:Oi,tex:{x:b.paddedRect.x+nd+qi,y:b.paddedRect.y+nd+ia,w:Dt.stretch+Dt.fixed-qi,h:wt.stretch+wt.fixed-ia},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ra,pixelOffsetBR:fi,minFontScaleX:Nt/S/O,minFontScaleY:Bt/S/B,isSDF:c}};if(f&&(b.stretchX||b.stretchY)){const Pt=qw(j,ye,re),qt=qw(W,we,ue);for(let Dt=0;Dt<Pt.length-1;Dt++){const wt=Pt[Dt],nn=Pt[Dt+1];for(let Xt=0;Xt<qt.length-1;Xt++)g.push(Ft(wt,qt[Xt],nn,qt[Xt+1]))}}else g.push(Ft({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:D+1}));return g}function Pp(l,i,c){let f=0;for(const g of l)f+=Math.max(i,Math.min(c,g[1]))-Math.max(i,Math.min(c,g[0]));return f}function qw(l,i,c){const f=[{fixed:-nd,stretch:0}];for(const[g,b]of l){const S=f[f.length-1];f.push({fixed:g-S.stretch,stretch:S.stretch}),f.push({fixed:g-S.stretch,stretch:S.stretch+(b-g)})}return f.push({fixed:i+nd,stretch:c}),f}function Dp(l,i,c,f){return l/i*c+f}function Mp(l,i,c,f){return l-i*c/f}class Lp{constructor(i,c,f,g,b,S,A,D,O,B){if(this.boxStartIndex=i.length,O){let j=S.top,W=S.bottom;const ne=S.collisionPadding;ne&&(j-=ne[1],W+=ne[3]);let re=W-j;re>0&&(re=Math.max(10,re),this.circleDiameter=re)}else{let j=S.top*A-D[0],W=S.bottom*A+D[2],ne=S.left*A-D[3],re=S.right*A+D[1];const ue=S.collisionPadding;if(ue&&(ne-=ue[0]*A,j-=ue[1]*A,re+=ue[2]*A,W+=ue[3]*A),B){const ye=new C(ne,j),we=new C(re,j),Oe=new C(ne,W),Ae=new C(re,W),Be=B*Math.PI/180;ye._rotate(Be),we._rotate(Be),Oe._rotate(Be),Ae._rotate(Be),ne=Math.min(ye.x,we.x,Oe.x,Ae.x),re=Math.max(ye.x,we.x,Oe.x,Ae.x),j=Math.min(ye.y,we.y,Oe.y,Ae.y),W=Math.max(ye.y,we.y,Oe.y,Ae.y)}i.emplaceBack(c.x,c.y,ne,j,re,W,f,g,b)}this.boxEndIndex=i.length}}class TL{constructor(i=[],c=AL){if(this.data=i,this.length=this.data.length,this.compare=c,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:c,compare:f}=this,g=c[i];for(;i>0;){const b=i-1>>1,S=c[b];if(f(g,S)>=0)break;c[i]=S,i=b}c[i]=g}_down(i){const{data:c,compare:f}=this,g=this.length>>1,b=c[i];for(;i<g;){let S=1+(i<<1),A=c[S];const D=S+1;if(D<this.length&&f(c[D],A)<0&&(S=D,A=c[D]),f(A,b)>=0)break;c[i]=A,i=S}c[i]=b}}function AL(l,i){return l<i?-1:l>i?1:0}function EL(l,i=1,c=!1){let f=1/0,g=1/0,b=-1/0,S=-1/0;const A=l[0];for(let ne=0;ne<A.length;ne++){const re=A[ne];(!ne||re.x<f)&&(f=re.x),(!ne||re.y<g)&&(g=re.y),(!ne||re.x>b)&&(b=re.x),(!ne||re.y>S)&&(S=re.y)}const D=Math.min(b-f,S-g);let O=D/2;const B=new TL([],IL);if(D===0)return new C(f,g);for(let ne=f;ne<b;ne+=D)for(let re=g;re<S;re+=D)B.push(new rd(ne+O,re+O,O,l));let j=function(ne){let re=0,ue=0,ye=0;const we=ne[0];for(let Oe=0,Ae=we.length,Be=Ae-1;Oe<Ae;Be=Oe++){const Ge=we[Oe],st=we[Be],Nt=Ge.x*st.y-st.x*Ge.y;ue+=(Ge.x+st.x)*Nt,ye+=(Ge.y+st.y)*Nt,re+=3*Nt}return new rd(ue/re,ye/re,0,ne)}(l),W=B.length;for(;B.length;){const ne=B.pop();(ne.d>j.d||!j.d)&&(j=ne,c&&console.log("found best %d after %d probes",Math.round(1e4*ne.d)/1e4,W)),ne.max-j.d<=i||(O=ne.h/2,B.push(new rd(ne.p.x-O,ne.p.y-O,O,l)),B.push(new rd(ne.p.x+O,ne.p.y-O,O,l)),B.push(new rd(ne.p.x-O,ne.p.y+O,O,l)),B.push(new rd(ne.p.x+O,ne.p.y+O,O,l)),W+=4)}return c&&(console.log(`num probes: ${W}`),console.log(`best distance: ${j.d}`)),j.p}function IL(l,i){return i.max-l.max}function rd(l,i,c,f){this.p=new C(l,i),this.h=c,this.d=function(g,b){let S=!1,A=1/0;for(let D=0;D<b.length;D++){const O=b[D];for(let B=0,j=O.length,W=j-1;B<j;W=B++){const ne=O[B],re=O[W];ne.y>g.y!=re.y>g.y&&g.x<(re.x-ne.x)*(g.y-ne.y)/(re.y-ne.y)+ne.x&&(S=!S),A=Math.min(A,C1(g,ne,re))}}return(S?1:-1)*Math.sqrt(A)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var Ri;o.aq=void 0,(Ri=o.aq||(o.aq={}))[Ri.center=1]="center",Ri[Ri.left=2]="left",Ri[Ri.right=3]="right",Ri[Ri.top=4]="top",Ri[Ri.bottom=5]="bottom",Ri[Ri["top-left"]=6]="top-left",Ri[Ri["top-right"]=7]="top-right",Ri[Ri["bottom-left"]=8]="bottom-left",Ri[Ri["bottom-right"]=9]="bottom-right";const jl=7,Yy=Number.POSITIVE_INFINITY;function jw(l,i){return i[1]!==Yy?function(c,f,g){let b=0,S=0;switch(f=Math.abs(f),g=Math.abs(g),c){case"top-right":case"top-left":case"top":S=g-jl;break;case"bottom-right":case"bottom-left":case"bottom":S=-g+jl}switch(c){case"top-right":case"bottom-right":case"right":b=-f;break;case"top-left":case"bottom-left":case"left":b=f}return[b,S]}(l,i[0],i[1]):function(c,f){let g=0,b=0;f<0&&(f=0);const S=f/Math.SQRT2;switch(c){case"top-right":case"top-left":b=S-jl;break;case"bottom-right":case"bottom-left":b=-S+jl;break;case"bottom":b=-f+jl;break;case"top":b=f-jl}switch(c){case"top-right":case"bottom-right":g=-S;break;case"top-left":case"bottom-left":g=S;break;case"left":g=f;break;case"right":g=-f}return[g,b]}(l,i[0])}function Hw(l,i,c){var f;const g=l.layout,b=(f=g.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(i,{},c);if(b){const A=b.values,D=[];for(let O=0;O<A.length;O+=2){const B=D[O]=A[O],j=A[O+1].map(W=>W*di);B.startsWith("top")?j[1]-=jl:B.startsWith("bottom")&&(j[1]+=jl),D[O+1]=j}return new Aa(D)}const S=g.get("text-variable-anchor");if(S){let A;A=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[g.get("text-radial-offset").evaluate(i,{},c)*di,Yy]:g.get("text-offset").evaluate(i,{},c).map(O=>O*di);const D=[];for(const O of S)D.push(O,jw(O,A));return new Aa(D)}return null}function Zy(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function PL(l,i,c,f,g,b,S,A,D,O,B){let j=b.textMaxSize.evaluate(i,{});j===void 0&&(j=S);const W=l.layers[0].layout,ne=W.get("icon-offset").evaluate(i,{},B),re=Ww(c.horizontal),ue=S/24,ye=l.tilePixelRatio*ue,we=l.tilePixelRatio*j/24,Oe=l.tilePixelRatio*A,Ae=l.tilePixelRatio*W.get("symbol-spacing"),Be=W.get("text-padding")*l.tilePixelRatio,Ge=function(wt,nn,Xt,An=1){const br=wt.get("icon-padding").evaluate(nn,{},Xt),Tr=br&&br.values;return[Tr[0]*An,Tr[1]*An,Tr[2]*An,Tr[3]*An]}(W,i,B,l.tilePixelRatio),st=W.get("text-max-angle")/180*Math.PI,Nt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",Zt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Bt=W.get("symbol-placement"),Ft=Ae/2,Pt=W.get("icon-text-fit");let qt;f&&Pt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(qt=pw(f,c.vertical,Pt,W.get("icon-text-fit-padding"),ne,ue)),re&&(f=pw(f,re,Pt,W.get("icon-text-fit-padding"),ne,ue)));const Dt=(wt,nn)=>{nn.x<0||nn.x>=ti||nn.y<0||nn.y>=ti||function(Xt,An,br,Tr,hi,La,ta,ni,Ai,Oi,na,ra,fi,mi,qi,ia,ji,wa,Sa,pi,Ln,Hi,Fi,gi,fs){const Bs=Xt.addToLineVertexArray(An,br);let Vs,Jo,ms,Ha,ka=0,Qo=0,sf=0,Xw=0,r_=-1,i_=-1;const el={};let Jw=Yo("");if(Xt.allowVerticalPlacement&&Tr.vertical){const Gi=ni.layout.get("text-rotate").evaluate(Ln,{},gi)+90;ms=new Lp(Ai,An,Oi,na,ra,Tr.vertical,fi,mi,qi,Gi),ta&&(Ha=new Lp(Ai,An,Oi,na,ra,ta,ji,wa,qi,Gi))}if(hi){const Gi=ni.layout.get("icon-rotate").evaluate(Ln,{}),Ga=ni.layout.get("icon-text-fit")!=="none",zc=Uw(hi,Gi,Fi,Ga),$s=ta?Uw(ta,Gi,Fi,Ga):void 0;Jo=new Lp(Ai,An,Oi,na,ra,hi,ji,wa,!1,Gi),ka=4*zc.length;const Bc=Xt.iconSizeData;let vo=null;Bc.kind==="source"?(vo=[go*ni.layout.get("icon-size").evaluate(Ln,{})],vo[0]>$l&&fe(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${tf}. Reduce your "icon-size".`)):Bc.kind==="composite"&&(vo=[go*Hi.compositeIconSizes[0].evaluate(Ln,{},gi),go*Hi.compositeIconSizes[1].evaluate(Ln,{},gi)],(vo[0]>$l||vo[1]>$l)&&fe(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${tf}. Reduce your "icon-size".`)),Xt.addSymbols(Xt.icon,zc,vo,pi,Sa,Ln,o.ai.none,An,Bs.lineStartIndex,Bs.lineLength,-1,gi),r_=Xt.icon.placedSymbolArray.length-1,$s&&(Qo=4*$s.length,Xt.addSymbols(Xt.icon,$s,vo,pi,Sa,Ln,o.ai.vertical,An,Bs.lineStartIndex,Bs.lineLength,-1,gi),i_=Xt.icon.placedSymbolArray.length-1)}const Qw=Object.keys(Tr.horizontal);for(const Gi of Qw){const Ga=Tr.horizontal[Gi];if(!Vs){Jw=Yo(Ga.text);const $s=ni.layout.get("text-rotate").evaluate(Ln,{},gi);Vs=new Lp(Ai,An,Oi,na,ra,Ga,fi,mi,qi,$s)}const zc=Ga.positionedLines.length===1;if(sf+=Gw(Xt,An,Ga,La,ni,qi,Ln,ia,Bs,Tr.vertical?o.ai.horizontal:o.ai.horizontalOnly,zc?Qw:[Gi],el,r_,Hi,gi),zc)break}Tr.vertical&&(Xw+=Gw(Xt,An,Tr.vertical,La,ni,qi,Ln,ia,Bs,o.ai.vertical,["vertical"],el,i_,Hi,gi));const LL=Vs?Vs.boxStartIndex:Xt.collisionBoxArray.length,RL=Vs?Vs.boxEndIndex:Xt.collisionBoxArray.length,OL=ms?ms.boxStartIndex:Xt.collisionBoxArray.length,FL=ms?ms.boxEndIndex:Xt.collisionBoxArray.length,zL=Jo?Jo.boxStartIndex:Xt.collisionBoxArray.length,BL=Jo?Jo.boxEndIndex:Xt.collisionBoxArray.length,VL=Ha?Ha.boxStartIndex:Xt.collisionBoxArray.length,NL=Ha?Ha.boxEndIndex:Xt.collisionBoxArray.length;let Ns=-1;const Op=(Gi,Ga)=>Gi&&Gi.circleDiameter?Math.max(Gi.circleDiameter,Ga):Ga;Ns=Op(Vs,Ns),Ns=Op(ms,Ns),Ns=Op(Jo,Ns),Ns=Op(Ha,Ns);const eS=Ns>-1?1:0;eS&&(Ns*=fs/di),Xt.glyphOffsetArray.length>=td.MAX_GLYPHS&&fe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ln.sortKey!==void 0&&Xt.addToSortKeyRanges(Xt.symbolInstances.length,Ln.sortKey);const $L=Hw(ni,Ln,gi),[UL,qL]=function(Gi,Ga){const zc=Gi.length,$s=Ga==null?void 0:Ga.values;if(($s==null?void 0:$s.length)>0)for(let Bc=0;Bc<$s.length;Bc+=2){const vo=$s[Bc+1];Gi.emplaceBack(o.aq[$s[Bc]],vo[0],vo[1])}return[zc,Gi.length]}(Xt.textAnchorOffsets,$L);Xt.symbolInstances.emplaceBack(An.x,An.y,el.right>=0?el.right:-1,el.center>=0?el.center:-1,el.left>=0?el.left:-1,el.vertical||-1,r_,i_,Jw,LL,RL,OL,FL,zL,BL,VL,NL,Oi,sf,Xw,ka,Qo,eS,0,fi,Ns,UL,qL)}(l,nn,wt,c,f,g,qt,l.layers[0],l.collisionBoxArray,i.index,i.sourceLayerIndex,l.index,ye,[Be,Be,Be,Be],Nt,D,Oe,Ge,Zt,ne,i,b,O,B,S)};if(Bt==="line")for(const wt of Fw(i.geometry,0,0,ti,ti)){const nn=CL(wt,Ae,st,c.vertical||re,f,24,we,l.overscaling,ti);for(const Xt of nn)re&&DL(l,re.text,Ft,Xt)||Dt(wt,Xt)}else if(Bt==="line-center"){for(const wt of i.geometry)if(wt.length>1){const nn=kL(wt,st,c.vertical||re,f,24,we);nn&&Dt(wt,nn)}}else if(i.type==="Polygon")for(const wt of Ay(i.geometry,0)){const nn=EL(wt,16);Dt(wt[0],new ql(nn.x,nn.y,0))}else if(i.type==="LineString")for(const wt of i.geometry)Dt(wt,new ql(wt[0].x,wt[0].y,0));else if(i.type==="Point")for(const wt of i.geometry)for(const nn of wt)Dt([nn],new ql(nn.x,nn.y,0))}function Gw(l,i,c,f,g,b,S,A,D,O,B,j,W,ne,re){const ue=function(Oe,Ae,Be,Ge,st,Nt,Zt,Bt){const Ft=Ge.layout.get("text-rotate").evaluate(Nt,{})*Math.PI/180,Pt=[];for(const qt of Ae.positionedLines)for(const Dt of qt.positionedGlyphs){if(!Dt.rect)continue;const wt=Dt.rect||{};let nn=lw+1,Xt=!0,An=1,br=0;const Tr=(st||Bt)&&Dt.vertical,hi=Dt.metrics.advance*Dt.scale/2;if(Bt&&Ae.verticalizable&&(br=qt.lineOffset/2-(Dt.imageName?-(di-Dt.metrics.width*Dt.scale)/2:(Dt.scale-1)*di)),Dt.imageName){const pi=Zt[Dt.imageName];Xt=pi.sdf,An=pi.pixelRatio,nn=xa/An}const La=st?[Dt.x+hi,Dt.y]:[0,0];let ta=st?[0,0]:[Dt.x+hi+Be[0],Dt.y+Be[1]-br],ni=[0,0];Tr&&(ni=ta,ta=[0,0]);const Ai=Dt.metrics.isDoubleResolution?2:1,Oi=(Dt.metrics.left-nn)*Dt.scale-hi+ta[0],na=(-Dt.metrics.top-nn)*Dt.scale+ta[1],ra=Oi+wt.w/Ai*Dt.scale/An,fi=na+wt.h/Ai*Dt.scale/An,mi=new C(Oi,na),qi=new C(ra,na),ia=new C(Oi,fi),ji=new C(ra,fi);if(Tr){const pi=new C(-hi,hi-Qh),Ln=-Math.PI/2,Hi=di/2-hi,Fi=new C(5-Qh-Hi,-(Dt.imageName?Hi:0)),gi=new C(...ni);mi._rotateAround(Ln,pi)._add(Fi)._add(gi),qi._rotateAround(Ln,pi)._add(Fi)._add(gi),ia._rotateAround(Ln,pi)._add(Fi)._add(gi),ji._rotateAround(Ln,pi)._add(Fi)._add(gi)}if(Ft){const pi=Math.sin(Ft),Ln=Math.cos(Ft),Hi=[Ln,-pi,pi,Ln];mi._matMult(Hi),qi._matMult(Hi),ia._matMult(Hi),ji._matMult(Hi)}const wa=new C(0,0),Sa=new C(0,0);Pt.push({tl:mi,tr:qi,bl:ia,br:ji,tex:wt,writingMode:Ae.writingMode,glyphOffset:La,sectionIndex:Dt.sectionIndex,isSDF:Xt,pixelOffsetTL:wa,pixelOffsetBR:Sa,minFontScaleX:0,minFontScaleY:0})}return Pt}(0,c,A,g,b,S,f,l.allowVerticalPlacement),ye=l.textSizeData;let we=null;ye.kind==="source"?(we=[go*g.layout.get("text-size").evaluate(S,{})],we[0]>$l&&fe(`${l.layerIds[0]}: Value for "text-size" is >= ${tf}. Reduce your "text-size".`)):ye.kind==="composite"&&(we=[go*ne.compositeTextSizes[0].evaluate(S,{},re),go*ne.compositeTextSizes[1].evaluate(S,{},re)],(we[0]>$l||we[1]>$l)&&fe(`${l.layerIds[0]}: Value for "text-size" is >= ${tf}. Reduce your "text-size".`)),l.addSymbols(l.text,ue,we,A,b,S,O,i,D.lineStartIndex,D.lineLength,W,re);for(const Oe of B)j[Oe]=l.text.placedSymbolArray.length-1;return 4*ue.length}function Ww(l){for(const i in l)return l[i];return null}function DL(l,i,c,f){const g=l.compareText;if(i in g){const b=g[i];for(let S=b.length-1;S>=0;S--)if(f.dist(b[S])<c)return!0}else g[i]=[];return g[i].push(f),!1}const Yw=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Ky{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,f]=new Uint8Array(i,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=f>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const b=Yw[15&f];if(!b)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(i,2,1),[A]=new Uint32Array(i,4,1);return new Ky(A,S,b,i)}constructor(i,c=64,f=Float64Array,g){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=f,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const b=Yw.indexOf(this.ArrayType),S=2*i*this.ArrayType.BYTES_PER_ELEMENT,A=i*this.IndexArrayType.BYTES_PER_ELEMENT,D=(8-A%8)%8;if(b<0)throw new Error(`Unexpected typed array class: ${f}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+S+A+D),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+b]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=i)}add(i,c){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=i,this.coords[this._pos++]=c,f}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return Xy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,c,f,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:S,nodeSize:A}=this,D=[0,b.length-1,0],O=[];for(;D.length;){const B=D.pop()||0,j=D.pop()||0,W=D.pop()||0;if(j-W<=A){for(let ye=W;ye<=j;ye++){const we=S[2*ye],Oe=S[2*ye+1];we>=i&&we<=f&&Oe>=c&&Oe<=g&&O.push(b[ye])}continue}const ne=W+j>>1,re=S[2*ne],ue=S[2*ne+1];re>=i&&re<=f&&ue>=c&&ue<=g&&O.push(b[ne]),(B===0?i<=re:c<=ue)&&(D.push(W),D.push(ne-1),D.push(1-B)),(B===0?f>=re:g>=ue)&&(D.push(ne+1),D.push(j),D.push(1-B))}return O}within(i,c,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:b,nodeSize:S}=this,A=[0,g.length-1,0],D=[],O=f*f;for(;A.length;){const B=A.pop()||0,j=A.pop()||0,W=A.pop()||0;if(j-W<=S){for(let ye=W;ye<=j;ye++)Kw(b[2*ye],b[2*ye+1],i,c)<=O&&D.push(g[ye]);continue}const ne=W+j>>1,re=b[2*ne],ue=b[2*ne+1];Kw(re,ue,i,c)<=O&&D.push(g[ne]),(B===0?i-f<=re:c-f<=ue)&&(A.push(W),A.push(ne-1),A.push(1-B)),(B===0?i+f>=re:c+f>=ue)&&(A.push(ne+1),A.push(j),A.push(1-B))}return D}}function Xy(l,i,c,f,g,b){if(g-f<=c)return;const S=f+g>>1;Zw(l,i,S,f,g,b),Xy(l,i,c,f,S-1,1-b),Xy(l,i,c,S+1,g,1-b)}function Zw(l,i,c,f,g,b){for(;g>f;){if(g-f>600){const O=g-f+1,B=c-f+1,j=Math.log(O),W=.5*Math.exp(2*j/3),ne=.5*Math.sqrt(j*W*(O-W)/O)*(B-O/2<0?-1:1);Zw(l,i,c,Math.max(f,Math.floor(c-B*W/O+ne)),Math.min(g,Math.floor(c+(O-B)*W/O+ne)),b)}const S=i[2*c+b];let A=f,D=g;for(rf(l,i,f,c),i[2*g+b]>S&&rf(l,i,f,g);A<D;){for(rf(l,i,A,D),A++,D--;i[2*A+b]<S;)A++;for(;i[2*D+b]>S;)D--}i[2*f+b]===S?rf(l,i,f,D):(D++,rf(l,i,D,g)),D<=c&&(f=D+1),c<=D&&(g=D-1)}}function rf(l,i,c,f){Jy(l,c,f),Jy(i,2*c,2*f),Jy(i,2*c+1,2*f+1)}function Jy(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}function Kw(l,i,c,f){const g=l-c,b=i-f;return g*g+b*b}var Qy;o.bh=void 0,(Qy=o.bh||(o.bh={})).create="create",Qy.load="load",Qy.fullLoad="fullLoad";let Rp=null,af=[];const e_=1e3/60,t_="loadTime",n_="fullLoadTime",ML={mark(l){performance.mark(l)},frame(l){const i=l;Rp!=null&&af.push(i-Rp),Rp=i},clearMetrics(){Rp=null,af=[],performance.clearMeasures(t_),performance.clearMeasures(n_);for(const l in o.bh)performance.clearMarks(o.bh[l])},getPerformanceMetrics(){performance.measure(t_,o.bh.create,o.bh.load),performance.measure(n_,o.bh.create,o.bh.fullLoad);const l=performance.getEntriesByName(t_)[0].duration,i=performance.getEntriesByName(n_)[0].duration,c=af.length,f=1/(af.reduce((b,S)=>b+S,0)/c/1e3),g=af.filter(b=>b>e_).reduce((b,S)=>b+(S-e_)/e_,0);return{loadTime:l,fullLoadTime:i,fps:f,percentDroppedFrames:g/(c+g)*100,totalFrames:c}}};o.$=function(l,i,c){var f,g,b,S,A,D,O,B,j,W,ne,re,ue=c[0],ye=c[1],we=c[2];return i===l?(l[12]=i[0]*ue+i[4]*ye+i[8]*we+i[12],l[13]=i[1]*ue+i[5]*ye+i[9]*we+i[13],l[14]=i[2]*ue+i[6]*ye+i[10]*we+i[14],l[15]=i[3]*ue+i[7]*ye+i[11]*we+i[15]):(g=i[1],b=i[2],S=i[3],A=i[4],D=i[5],O=i[6],B=i[7],j=i[8],W=i[9],ne=i[10],re=i[11],l[0]=f=i[0],l[1]=g,l[2]=b,l[3]=S,l[4]=A,l[5]=D,l[6]=O,l[7]=B,l[8]=j,l[9]=W,l[10]=ne,l[11]=re,l[12]=f*ue+A*ye+j*we+i[12],l[13]=g*ue+D*ye+W*we+i[13],l[14]=b*ue+O*ye+ne*we+i[14],l[15]=S*ue+B*ye+re*we+i[15]),l},o.A=Zu,o.B=ga,o.C=class{constructor(l,i,c){this.receive=f=>{const g=f.data,b=g.id;if(b&&(!g.targetMapId||this.mapId===g.targetMapId))if(g.type==="<cancel>"){delete this.tasks[b];const S=this.cancelCallbacks[b];delete this.cancelCallbacks[b],S&&S()}else qe()||g.mustQueue?(this.tasks[b]=g,this.taskQueue.push(b),this.invoker.trigger()):this.processTask(b,g)},this.process=()=>{if(!this.taskQueue.length)return;const f=this.taskQueue.shift(),g=this.tasks[f];delete this.tasks[f],this.taskQueue.length&&this.invoker.trigger(),g&&this.processTask(f,g)},this.target=l,this.parent=i,this.mapId=c,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new wL(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=qe()?l:window}send(l,i,c,f,g=!1){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(this.callbacks[b]=c);const S=[],A={id:b,type:l,hasCallback:!!c,targetMapId:f,mustQueue:g,sourceMapId:this.mapId,data:fo(i,S)};return this.target.postMessage(A,{transfer:S}),{cancel:()=>{c&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}processTask(l,i){if(i.type==="<response>"){const c=this.callbacks[l];delete this.callbacks[l],c&&(i.error?c(Ol(i.error)):c(null,Ol(i.data)))}else{let c=!1;const f=[],g=i.hasCallback?(A,D)=>{c=!0,delete this.cancelCallbacks[l];const O={id:l,type:"<response>",sourceMapId:this.mapId,error:A?fo(A):null,data:fo(D,f)};this.target.postMessage(O,{transfer:f})}:A=>{c=!0};let b=null;const S=Ol(i.data);if(this.parent[i.type])b=this.parent[i.type](i.sourceMapId,S,g);else if("getWorkerSource"in this.parent){const A=i.type.split(".");b=this.parent.getWorkerSource(i.sourceMapId,A[0],S.source)[A[1]](S,g)}else g(new Error(`Could not find function ${i.type}`));!c&&b&&b.cancel&&(this.cancelCallbacks[l]=b.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},o.D=Qt,o.E=bt,o.F=function(l,i){const c={};for(let f=0;f<i.length;f++){const g=i[f];g in l&&(c[g]=l[g])}return c},o.G=kw,o.H=Cw,o.I=zy,o.J=q,o.K=Z,o.L=Ul,o.M=Je,o.N=ti,o.O=ja,o.P=C,o.Q=Pr,o.R=qa,o.S=_r,o.T=cp,o.U=Ip,o.V=class extends Go{},o.W=Wy,o.X=function(l,i){const c=window.document.createElement("video");c.muted=!0,c.onloadstart=function(){i(null,c)};for(let f=0;f<l.length;f++){const g=window.document.createElement("source");me(l[f])||(c.crossOrigin="Anonymous"),g.src=l[f],c.appendChild(g)}return{cancel:()=>{}}},o.Y=vt,o.Z=function(){var l=new Zu(16);return Zu!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},o._=p,o.a=Pe,o.a$=class extends Q{},o.a0=function(l,i,c){var f=c[0],g=c[1],b=c[2];return l[0]=i[0]*f,l[1]=i[1]*f,l[2]=i[2]*f,l[3]=i[3]*f,l[4]=i[4]*g,l[5]=i[5]*g,l[6]=i[6]*g,l[7]=i[7]*g,l[8]=i[8]*b,l[9]=i[9]*b,l[10]=i[10]*b,l[11]=i[11]*b,l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.a1=I1,o.a2=function(){return $++},o.a3=ge,o.a4=td,o.a5=function(){_a.isLoading()||_a.isLoaded()||Mh()!=="deferred"||lp()},o.a6=xh,o.a7=Oc,o.a8=yr,o.a9=Mw,o.aA=Ic,o.aB=function(l){l=l.slice();const i=Object.create(null);for(let c=0;c<l.length;c++)i[l[c].id]=l[c];for(let c=0;c<l.length;c++)"ref"in l[c]&&(l[c]=Qe(l[c],i[l[c].ref]));return l},o.aC=function(l){if(l.type==="custom")return new xL(l);switch(l.type){case"background":return new yL(l);case"circle":return new rM(l);case"fill":return new SM(l);case"fill-extrusion":return new BM(l);case"heatmap":return new aM(l);case"hillshade":return new oM(l);case"line":return new GM(l);case"raster":return new bL(l);case"symbol":return new Ep(l)}},o.aD=ee,o.aE=function(l,i){if(!l)return[{command:Et.setStyle,args:[i]}];let c=[];try{if(!lt(l.version,i.version))return[{command:Et.setStyle,args:[i]}];lt(l.center,i.center)||c.push({command:Et.setCenter,args:[i.center]}),lt(l.zoom,i.zoom)||c.push({command:Et.setZoom,args:[i.zoom]}),lt(l.bearing,i.bearing)||c.push({command:Et.setBearing,args:[i.bearing]}),lt(l.pitch,i.pitch)||c.push({command:Et.setPitch,args:[i.pitch]}),lt(l.sprite,i.sprite)||c.push({command:Et.setSprite,args:[i.sprite]}),lt(l.glyphs,i.glyphs)||c.push({command:Et.setGlyphs,args:[i.glyphs]}),lt(l.transition,i.transition)||c.push({command:Et.setTransition,args:[i.transition]}),lt(l.light,i.light)||c.push({command:Et.setLight,args:[i.light]});const f={},g=[];(function(S,A,D,O){let B;for(B in A=A||{},S=S||{})Object.prototype.hasOwnProperty.call(S,B)&&(Object.prototype.hasOwnProperty.call(A,B)||an(B,D,O));for(B in A)Object.prototype.hasOwnProperty.call(A,B)&&(Object.prototype.hasOwnProperty.call(S,B)?lt(S[B],A[B])||(S[B].type==="geojson"&&A[B].type==="geojson"&&On(S,A,B)?D.push({command:Et.setGeoJSONSourceData,args:[B,A[B].data]}):sn(B,A,D,O)):It(B,A,D))})(l.sources,i.sources,g,f);const b=[];l.layers&&l.layers.forEach(S=>{f[S.source]?c.push({command:Et.removeLayer,args:[S.id]}):b.push(S)}),c=c.concat(g),function(S,A,D){A=A||[];const O=(S=S||[]).map($n),B=A.map($n),j=S.reduce(ur,{}),W=A.reduce(ur,{}),ne=O.slice(),re=Object.create(null);let ue,ye,we,Oe,Ae,Be,Ge;for(ue=0,ye=0;ue<O.length;ue++)we=O[ue],Object.prototype.hasOwnProperty.call(W,we)?ye++:(D.push({command:Et.removeLayer,args:[we]}),ne.splice(ne.indexOf(we,ye),1));for(ue=0,ye=0;ue<B.length;ue++)we=B[B.length-1-ue],ne[ne.length-1-ue]!==we&&(Object.prototype.hasOwnProperty.call(j,we)?(D.push({command:Et.removeLayer,args:[we]}),ne.splice(ne.lastIndexOf(we,ne.length-ye),1)):ye++,Be=ne[ne.length-ue],D.push({command:Et.addLayer,args:[W[we],Be]}),ne.splice(ne.length-ue,0,we),re[we]=!0);for(ue=0;ue<B.length;ue++)if(we=B[ue],Oe=j[we],Ae=W[we],!re[we]&&!lt(Oe,Ae))if(lt(Oe.source,Ae.source)&&lt(Oe["source-layer"],Ae["source-layer"])&&lt(Oe.type,Ae.type)){for(Ge in _n(Oe.layout,Ae.layout,D,we,null,Et.setLayoutProperty),_n(Oe.paint,Ae.paint,D,we,null,Et.setPaintProperty),lt(Oe.filter,Ae.filter)||D.push({command:Et.setFilter,args:[we,Ae.filter]}),lt(Oe.minzoom,Ae.minzoom)&&lt(Oe.maxzoom,Ae.maxzoom)||D.push({command:Et.setLayerZoomRange,args:[we,Ae.minzoom,Ae.maxzoom]}),Oe)Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?_n(Oe[Ge],Ae[Ge],D,we,Ge.slice(6),Et.setPaintProperty):lt(Oe[Ge],Ae[Ge])||D.push({command:Et.setLayerProperty,args:[we,Ge,Ae[Ge]]}));for(Ge in Ae)Object.prototype.hasOwnProperty.call(Ae,Ge)&&!Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?_n(Oe[Ge],Ae[Ge],D,we,Ge.slice(6),Et.setPaintProperty):lt(Oe[Ge],Ae[Ge])||D.push({command:Et.setLayerProperty,args:[we,Ge,Ae[Ge]]}))}else D.push({command:Et.removeLayer,args:[we]}),Be=ne[ne.lastIndexOf(we)+1],D.push({command:Et.addLayer,args:[Ae,Be]})}(b,i.layers,c)}catch(f){console.warn("Unable to compute style diff:",f),c=[{command:Et.setStyle,args:[i]}]}return c},o.aF=function(l){const i=[],c=l.id;return c===void 0&&i.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&i.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&i.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),i},o.aG=function l(i,c){if(Array.isArray(i)){if(!Array.isArray(c)||i.length!==c.length)return!1;for(let f=0;f<i.length;f++)if(!l(i[f],c[f]))return!1;return!0}if(typeof i=="object"&&i!==null&&c!==null){if(typeof c!="object"||Object.keys(i).length!==Object.keys(c).length)return!1;for(const f in i)if(!l(i[f],c[f]))return!1;return!0}return i===c},o.aH=K,o.aI=le,o.aJ=Pc,o.aK=function(l){return l({pluginStatus:Ji,pluginURL:mo}),Pc.on("pluginStateChange",l),l},o.aL=class extends Zo{constructor(l,i){super(l,i),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},o.aM=Wu,o.aN=class extends Zo{constructor(l,i){super(l,i),this.current=py}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let i=1;i<16;i++)if(l[i]!==this.current[i]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},o.aO=fp,o.aP=class extends Zo{constructor(l,i){super(l,i),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},o.aQ=class extends Zo{constructor(l,i){super(l,i),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},o.aR=mp,o.aS=function(l,i,c,f,g,b,S){var A=1/(i-c),D=1/(f-g),O=1/(b-S);return l[0]=-2*A,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*D,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*O,l[11]=0,l[12]=(i+c)*A,l[13]=(g+f)*D,l[14]=(S+b)*O,l[15]=1,l},o.aT=er,o.aU=nM,o.aV=class extends m{},o.aW=KM,o.aX=class extends x{},o.aY=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},o.aZ=R1,o.a_=At,o.aa=function(l){const i={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,f,g,b)=>{const S=g||b;return i[f]=!S||S.toLowerCase(),""}),i["max-age"]){const c=parseInt(i["max-age"],10);isNaN(c)?delete i["max-age"]:i["max-age"]=c}return i},o.ab=function(l,i){const c=[];for(const f in l)f in i||c.push(f);return c},o.ac=function(l){if(ke==null){const i=l.navigator?l.navigator.userAgent:null;ke=!!l.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return ke},o.ad=J,o.ae=function(l,i,c){var f=Math.sin(c),g=Math.cos(c),b=i[0],S=i[1],A=i[2],D=i[3],O=i[4],B=i[5],j=i[6],W=i[7];return i!==l&&(l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[0]=b*g+O*f,l[1]=S*g+B*f,l[2]=A*g+j*f,l[3]=D*g+W*f,l[4]=O*g-b*f,l[5]=B*g-S*f,l[6]=j*g-A*f,l[7]=W*g-D*f,l},o.af=function(l){var i=new Zu(16);return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i},o.ag=yp,o.ah=function(l,i){let c=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:g,minZoom:b,maxZoom:S}=l,A=g?J(va.interpolationFactor(g,i,b,S),0,1):0;l.kind==="camera"?f=ga.number(l.minSize,l.maxSize,A):c=A}return{uSizeT:c,uSize:f}},o.aj=function(l,{uSize:i,uSizeT:c},{lowerSize:f,upperSize:g}){return l.kind==="source"?f/go:l.kind==="composite"?ga.number(f/go,g/go,c):i},o.ak=$y,o.al=function(l,i,c,f){const g=i.y-l.y,b=i.x-l.x,S=f.y-c.y,A=f.x-c.x,D=S*b-A*g;if(D===0)return null;const O=(A*(l.y-c.y)-S*(l.x-c.x))/D;return new C(l.x+O*b,l.y+O*g)},o.am=Fw,o.an=S1,o.ao=by,o.ap=di,o.ar=Ny,o.as=function(l,i){var c=i[0],f=i[1],g=i[2],b=i[3],S=i[4],A=i[5],D=i[6],O=i[7],B=i[8],j=i[9],W=i[10],ne=i[11],re=i[12],ue=i[13],ye=i[14],we=i[15],Oe=c*A-f*S,Ae=c*D-g*S,Be=c*O-b*S,Ge=f*D-g*A,st=f*O-b*A,Nt=g*O-b*D,Zt=B*ue-j*re,Bt=B*ye-W*re,Ft=B*we-ne*re,Pt=j*ye-W*ue,qt=j*we-ne*ue,Dt=W*we-ne*ye,wt=Oe*Dt-Ae*qt+Be*Pt+Ge*Ft-st*Bt+Nt*Zt;return wt?(l[0]=(A*Dt-D*qt+O*Pt)*(wt=1/wt),l[1]=(g*qt-f*Dt-b*Pt)*wt,l[2]=(ue*Nt-ye*st+we*Ge)*wt,l[3]=(W*st-j*Nt-ne*Ge)*wt,l[4]=(D*Ft-S*Dt-O*Bt)*wt,l[5]=(c*Dt-g*Ft+b*Bt)*wt,l[6]=(ye*Be-re*Nt-we*Ae)*wt,l[7]=(B*Nt-W*Be+ne*Ae)*wt,l[8]=(S*qt-A*Ft+O*Zt)*wt,l[9]=(f*Ft-c*qt-b*Zt)*wt,l[10]=(re*st-ue*Be+we*Oe)*wt,l[11]=(j*Be-B*st-ne*Oe)*wt,l[12]=(A*Bt-S*Pt-D*Zt)*wt,l[13]=(c*Pt-f*Bt+g*Zt)*wt,l[14]=(ue*Ae-re*Ge-ye*Oe)*wt,l[15]=(B*Ge-j*Ae+W*Oe)*wt,l):null},o.at=Zy,o.au=Vy,o.av=Ky,o.aw=function(){const l={},i=Ce.$version;for(const c in Ce.$root){const f=Ce.$root[c];if(f.required){let g=null;g=c==="version"?i:f.type==="array"?[]:{},g!=null&&(l[c]=g)}}return l},o.ax=Et,o.ay=ip,o.az=He,o.b=function(l,i){const c=new Blob([new Uint8Array(l)],{type:"image/png"});createImageBitmap(c).then(f=>{i(null,f)}).catch(f=>{i(new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},o.b0=Ci,o.b1=function(l,i){var c=l[0],f=l[1],g=l[2],b=l[3],S=l[4],A=l[5],D=l[6],O=l[7],B=l[8],j=l[9],W=l[10],ne=l[11],re=l[12],ue=l[13],ye=l[14],we=l[15],Oe=i[0],Ae=i[1],Be=i[2],Ge=i[3],st=i[4],Nt=i[5],Zt=i[6],Bt=i[7],Ft=i[8],Pt=i[9],qt=i[10],Dt=i[11],wt=i[12],nn=i[13],Xt=i[14],An=i[15];return Math.abs(c-Oe)<=ea*Math.max(1,Math.abs(c),Math.abs(Oe))&&Math.abs(f-Ae)<=ea*Math.max(1,Math.abs(f),Math.abs(Ae))&&Math.abs(g-Be)<=ea*Math.max(1,Math.abs(g),Math.abs(Be))&&Math.abs(b-Ge)<=ea*Math.max(1,Math.abs(b),Math.abs(Ge))&&Math.abs(S-st)<=ea*Math.max(1,Math.abs(S),Math.abs(st))&&Math.abs(A-Nt)<=ea*Math.max(1,Math.abs(A),Math.abs(Nt))&&Math.abs(D-Zt)<=ea*Math.max(1,Math.abs(D),Math.abs(Zt))&&Math.abs(O-Bt)<=ea*Math.max(1,Math.abs(O),Math.abs(Bt))&&Math.abs(B-Ft)<=ea*Math.max(1,Math.abs(B),Math.abs(Ft))&&Math.abs(j-Pt)<=ea*Math.max(1,Math.abs(j),Math.abs(Pt))&&Math.abs(W-qt)<=ea*Math.max(1,Math.abs(W),Math.abs(qt))&&Math.abs(ne-Dt)<=ea*Math.max(1,Math.abs(ne),Math.abs(Dt))&&Math.abs(re-wt)<=ea*Math.max(1,Math.abs(re),Math.abs(wt))&&Math.abs(ue-nn)<=ea*Math.max(1,Math.abs(ue),Math.abs(nn))&&Math.abs(ye-Xt)<=ea*Math.max(1,Math.abs(ye),Math.abs(Xt))&&Math.abs(we-An)<=ea*Math.max(1,Math.abs(we),Math.abs(An))},o.b2=function(l,i){return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.b3=function(l,i,c){return l[0]=i[0]*c[0],l[1]=i[1]*c[1],l[2]=i[2]*c[2],l[3]=i[3]*c[3],l},o.b4=function(l,i){return l[0]*i[0]+l[1]*i[1]+l[2]*i[2]+l[3]*i[3]},o.b5=te,o.b6=Iw,o.b7=Tw,o.b8=function(l,i,c,f,g){var b,S=1/Math.tan(i/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,g!=null&&g!==1/0?(l[10]=(g+f)*(b=1/(f-g)),l[14]=2*g*f*b):(l[10]=-1,l[14]=-2*f),l},o.b9=function(l,i,c){var f=Math.sin(c),g=Math.cos(c),b=i[4],S=i[5],A=i[6],D=i[7],O=i[8],B=i[9],j=i[10],W=i[11];return i!==l&&(l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[4]=b*g+O*f,l[5]=S*g+B*f,l[6]=A*g+j*f,l[7]=D*g+W*f,l[8]=O*g-b*f,l[9]=B*g-S*f,l[10]=j*g-A*f,l[11]=W*g-D*f,l},o.bA=w,o.bB=tw,o.bC=Fu,o.bD=_a,o.ba=se,o.bb=ie,o.bc=function(l,i){return l[0]=i[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=i[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=i[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},o.bd=class extends Lc{},o.be=Hy,o.bf=Aw,o.bg=ML,o.bi=it,o.bj=function(l,i,c=!1){if(Ji===Ah||Ji===Eh||Ji===Ih)throw new Error("setRTLTextPlugin cannot be called multiple times.");mo=kt.resolveURL(l),Ji=Ah,Ph=i,Dh(),c||lp()},o.bk=Mh,o.bl=function(l,i){const c={};for(let g=0;g<l.length;g++){const b=i&&i[l[g].id]||Nu(l[g]);i&&(i[l[g].id]=b);let S=c[b];S||(S=c[b]=[]),S.push(l[g])}const f=[];for(const g in c)f.push(c[g]);return f},o.bm=Ut,o.bn=Dw,o.bo=Lw,o.bp=uw,o.bq=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=ti/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const i=l.bucket.layers[0],c=i.layout,f=i._unevaluatedLayout._values,g={layoutIconSize:f["icon-size"].possiblyEvaluate(new yr(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new yr(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new yr(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:O,maxZoom:B}=l.bucket.textSizeData;g.compositeTextSizes=[f["text-size"].possiblyEvaluate(new yr(O),l.canonical),f["text-size"].possiblyEvaluate(new yr(B),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:O,maxZoom:B}=l.bucket.iconSizeData;g.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new yr(O),l.canonical),f["icon-size"].possiblyEvaluate(new yr(B),l.canonical)]}const b=c.get("text-line-height")*di,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",A=c.get("text-keep-upright"),D=c.get("text-size");for(const O of l.bucket.features){const B=c.get("text-font").evaluate(O,{},l.canonical).join(","),j=D.evaluate(O,{},l.canonical),W=g.layoutTextSize.evaluate(O,{},l.canonical),ne=g.layoutIconSize.evaluate(O,{},l.canonical),re={horizontal:{},vertical:void 0},ue=O.text;let ye,we=[0,0];if(ue){const Be=ue.toString(),Ge=c.get("text-letter-spacing").evaluate(O,{},l.canonical)*di,st=Ch(Be)?Ge:0,Nt=c.get("text-anchor").evaluate(O,{},l.canonical),Zt=Hw(i,O,l.canonical);if(!Zt){const Dt=c.get("text-radial-offset").evaluate(O,{},l.canonical);we=Dt?jw(Nt,[Dt*di,Yy]):c.get("text-offset").evaluate(O,{},l.canonical).map(wt=>wt*di)}let Bt=S?"center":c.get("text-justify").evaluate(O,{},l.canonical);const Ft=c.get("symbol-placement"),Pt=Ft==="point"?c.get("text-max-width").evaluate(O,{},l.canonical)*di:0,qt=()=>{l.bucket.allowVerticalPlacement&&kh(Be)&&(re.vertical=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,B,Pt,b,Nt,"left",st,we,o.ai.vertical,!0,Ft,W,j))};if(!S&&Zt){const Dt=new Set;if(Bt==="auto")for(let nn=0;nn<Zt.values.length;nn+=2)Dt.add(Zy(Zt.values[nn]));else Dt.add(Bt);let wt=!1;for(const nn of Dt)if(!re.horizontal[nn])if(wt)re.horizontal[nn]=re.horizontal[0];else{const Xt=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,B,Pt,b,"center",nn,st,we,o.ai.horizontal,!1,Ft,W,j);Xt&&(re.horizontal[nn]=Xt,wt=Xt.positionedLines.length===1)}qt()}else{Bt==="auto"&&(Bt=Zy(Nt));const Dt=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,B,Pt,b,Nt,Bt,st,we,o.ai.horizontal,!1,Ft,W,j);Dt&&(re.horizontal[Bt]=Dt),qt(),kh(Be)&&S&&A&&(re.vertical=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,B,Pt,b,Nt,Bt,st,we,o.ai.vertical,!1,Ft,W,j))}}let Oe=!1;if(O.icon&&O.icon.name){const Be=l.imageMap[O.icon.name];Be&&(ye=fL(l.imagePositions[O.icon.name],c.get("icon-offset").evaluate(O,{},l.canonical),c.get("icon-anchor").evaluate(O,{},l.canonical)),Oe=!!Be.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Oe:l.bucket.sdfIcons!==Oe&&fe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Be.pixelRatio!==l.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const Ae=Ww(re.horizontal)||re.vertical;l.bucket.iconsInText=!!Ae&&Ae.iconsInText,(Ae||ye)&&PL(l.bucket,O,re,ye,l.imageMap,g,W,ne,we,Oe,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},o.br=Ly,o.bs=Py,o.bt=My,o.bu=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},o.bv=Oy,o.bw=Vl,o.bx=function(l,i,c,f,g){return p(this,void 0,void 0,function*(){if(Z())try{return yield Je(l,i,c,f,g)}catch{}return function(b,S,A,D,O){const B=b.width,j=b.height;$e&&at||($e=new OffscreenCanvas(B,j),at=$e.getContext("2d",{willReadFrequently:!0})),$e.width=B,$e.height=j,at.drawImage(b,0,0,B,j);const W=at.getImageData(S,A,D,O);return at.clearRect(0,0,B,j),W.data}(l,i,c,f,g)})},o.by=Pw,o.bz=y,o.c=Ne,o.d=function(l,i){const c=new Image;c.onload=()=>{i(null,c),URL.revokeObjectURL(c.src),c.onload=null,window.requestAnimationFrame(()=>{c.src=Fe})},c.onerror=()=>i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const f=new Blob([new Uint8Array(l)],{type:"image/png"});c.src=l.byteLength?URL.createObjectURL(f):Fe},o.e=G,o.f=function(l,i){return $t(G(l,{type:"json"}),i)},o.g=Ue,o.h=kt,o.i=qe,o.j=pt,o.k=Ke,o.l=ae,o.m=$t,o.n=function(l){return new Oy(l).readFields(oL,[])},o.o=function(l,i,c){if(!l.length)return c(null,[]);let f=l.length;const g=new Array(l.length);let b=null;l.forEach((S,A)=>{i(S,(D,O)=>{D&&(b=D),g[A]=O,--f==0&&c(b,g)})})},o.p=cw,o.q=Hh,o.r=Yr,o.s=me,o.t=dy,o.u=Vt,o.v=Ce,o.w=fe,o.x=qu,o.y=Os,o.z=function([l,i,c]){return i+=90,i*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(i)*Math.sin(c),y:l*Math.sin(i)*Math.sin(c),z:l*Math.cos(c)}}}),u(["./shared"],function(o){class p{constructor(H){this.keyCache={},H&&this.replace(H)}replace(H){this._layerConfigs={},this._layers={},this.update(H,[])}update(H,X){for(const ve of H){this._layerConfigs[ve.id]=ve;const be=this._layers[ve.id]=o.aC(ve);be._featureFilter=o.a6(be.filter),this.keyCache[ve.id]&&delete this.keyCache[ve.id]}for(const ve of X)delete this.keyCache[ve],delete this._layerConfigs[ve],delete this._layers[ve];this.familiesBySource={};const oe=o.bl(Object.values(this._layerConfigs),this.keyCache);for(const ve of oe){const be=ve.map(nt=>this._layers[nt.id]),ze=be[0];if(ze.visibility==="none")continue;const Ee=ze.source||"";let Se=this.familiesBySource[Ee];Se||(Se=this.familiesBySource[Ee]={});const Re=ze.sourceLayer||"_geojsonTileLayer";let et=Se[Re];et||(et=Se[Re]=[]),et.push(be)}}}class y{constructor(H){const X={},oe=[];for(const Ee in H){const Se=H[Ee],Re=X[Ee]={};for(const et in Se){const nt=Se[+et];if(!nt||nt.bitmap.width===0||nt.bitmap.height===0)continue;const ut={x:0,y:0,w:nt.bitmap.width+2,h:nt.bitmap.height+2};oe.push(ut),Re[et]={rect:ut,metrics:nt.metrics}}}const{w:ve,h:be}=o.p(oe),ze=new o.q({width:ve||1,height:be||1});for(const Ee in H){const Se=H[Ee];for(const Re in Se){const et=Se[+Re];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const nt=X[Ee][Re].rect;o.q.copy(et.bitmap,ze,{x:0,y:0},{x:nt.x+1,y:nt.y+1},et.bitmap)}}this.image=ze,this.positions=X}}o.bm("GlyphAtlas",y);class w{constructor(H){this.tileID=new o.O(H.tileID.overscaledZ,H.tileID.wrap,H.tileID.canonical.z,H.tileID.canonical.x,H.tileID.canonical.y),this.uid=H.uid,this.zoom=H.zoom,this.pixelRatio=H.pixelRatio,this.tileSize=H.tileSize,this.source=H.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=H.showCollisionBoxes,this.collectResourceTiming=!!H.collectResourceTiming,this.returnDependencies=!!H.returnDependencies,this.promoteId=H.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(H,X,oe,ve,be){this.status="parsing",this.data=H,this.collisionBoxArray=new o.a3;const ze=new o.bn(Object.keys(H.layers).sort()),Ee=new o.bo(this.tileID,this.promoteId);Ee.bucketLayerIDs=[];const Se={},Re={featureIndex:Ee,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:oe},et=X.familiesBySource[this.source];for(const Un in et){const Vn=H.layers[Un];if(!Vn)continue;Vn.version===1&&o.w(`Vector tile source "${this.source}" layer "${Un}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Di=ze.encode(Un),fr=[];for(let ei=0;ei<Vn.length;ei++){const Si=Vn.feature(ei),Ta=Ee.getId(Si,Un);fr.push({feature:Si,id:Ta,index:ei,sourceLayerIndex:Di})}for(const ei of et[Un]){const Si=ei[0];Si.source!==this.source&&o.w(`layer.source = ${Si.source} does not equal this.source = ${this.source}`),Si.minzoom&&this.zoom<Math.floor(Si.minzoom)||Si.maxzoom&&this.zoom>=Si.maxzoom||Si.visibility!=="none"&&(k(ei,this.zoom,oe),(Se[Si.id]=Si.createBucket({index:Ee.bucketLayerIDs.length,layers:ei,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Di,sourceID:this.source})).populate(fr,Re,this.tileID.canonical),Ee.bucketLayerIDs.push(ei.map(Ta=>Ta.id)))}}let nt,ut,tn,dn;const Wt=o.aH(Re.glyphDependencies,Un=>Object.keys(Un).map(Number));this.inFlightDependencies.forEach(Un=>Un==null?void 0:Un.cancel()),this.inFlightDependencies=[];const rn=++this.dependencySentinel;Object.keys(Wt).length?this.inFlightDependencies.push(ve.send("getGlyphs",{uid:this.uid,stacks:Wt,source:this.source,tileID:this.tileID,type:"glyphs"},(Un,Vn)=>{rn===this.dependencySentinel&&(nt||(nt=Un,ut=Vn,sr.call(this)))})):ut={};const pn=Object.keys(Re.iconDependencies);pn.length?this.inFlightDependencies.push(ve.send("getImages",{icons:pn,source:this.source,tileID:this.tileID,type:"icons"},(Un,Vn)=>{rn===this.dependencySentinel&&(nt||(nt=Un,tn=Vn,sr.call(this)))})):tn={};const Kn=Object.keys(Re.patternDependencies);function sr(){if(nt)return be(nt);if(ut&&tn&&dn){const Un=new y(ut),Vn=new o.bp(tn,dn);for(const Di in Se){const fr=Se[Di];fr instanceof o.a4?(k(fr.layers,this.zoom,oe),o.bq({bucket:fr,glyphMap:ut,glyphPositions:Un.positions,imageMap:tn,imagePositions:Vn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):fr.hasPattern&&(fr instanceof o.br||fr instanceof o.bs||fr instanceof o.bt)&&(k(fr.layers,this.zoom,oe),fr.addFeatures(Re,this.tileID.canonical,Vn.patternPositions))}this.status="done",be(null,{buckets:Object.values(Se).filter(Di=>!Di.isEmpty()),featureIndex:Ee,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Un.image,imageAtlas:Vn,glyphMap:this.returnDependencies?ut:null,iconMap:this.returnDependencies?tn:null,glyphPositions:this.returnDependencies?Un.positions:null})}}Kn.length?this.inFlightDependencies.push(ve.send("getImages",{icons:Kn,source:this.source,tileID:this.tileID,type:"patterns"},(Un,Vn)=>{rn===this.dependencySentinel&&(nt||(nt=Un,dn=Vn,sr.call(this)))})):dn={},sr.call(this)}}function k(pe,H,X){const oe=new o.a8(H);for(const ve of pe)ve.recalculate(oe,X)}function C(pe,H){const X=o.l(pe.request,(oe,ve,be,ze)=>{if(oe)H(oe);else if(ve)try{const Ee=new o.bw.VectorTile(new o.bv(ve));H(null,{vectorTile:Ee,rawData:ve,cacheControl:be,expires:ze})}catch(Ee){const Se=new Uint8Array(ve);let Re=`Unable to parse the tile at ${pe.request.url}, `;Re+=Se[0]===31&&Se[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ee.messge}`,H(new Error(Re))}});return()=>{X.cancel(),H()}}class I{constructor(H,X,oe,ve){this.actor=H,this.layerIndex=X,this.availableImages=oe,this.loadVectorData=ve||C,this.fetching={},this.loading={},this.loaded={}}loadTile(H,X){const oe=H.uid;this.loading||(this.loading={});const ve=!!(H&&H.request&&H.request.collectResourceTiming)&&new o.bu(H.request),be=this.loading[oe]=new w(H);be.abort=this.loadVectorData(H,(ze,Ee)=>{if(delete this.loading[oe],ze||!Ee)return be.status="done",this.loaded[oe]=be,X(ze);const Se=Ee.rawData,Re={};Ee.expires&&(Re.expires=Ee.expires),Ee.cacheControl&&(Re.cacheControl=Ee.cacheControl);const et={};if(ve){const nt=ve.finish();nt&&(et.resourceTiming=JSON.parse(JSON.stringify(nt)))}be.vectorTile=Ee.vectorTile,be.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor,(nt,ut)=>{if(delete this.fetching[oe],nt||!ut)return X(nt);X(null,o.e({rawTileData:Se.slice(0)},ut,Re,et))}),this.loaded=this.loaded||{},this.loaded[oe]=be,this.fetching[oe]={rawTileData:Se,cacheControl:Re,resourceTiming:et}})}reloadTile(H,X){const oe=this.loaded,ve=H.uid;if(oe&&oe[ve]){const be=oe[ve];be.showCollisionBoxes=H.showCollisionBoxes,be.status==="parsing"?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,(ze,Ee)=>{if(ze||!Ee)return X(ze,Ee);let Se;if(this.fetching[ve]){const{rawTileData:Re,cacheControl:et,resourceTiming:nt}=this.fetching[ve];delete this.fetching[ve],Se=o.e({rawTileData:Re.slice(0)},Ee,et,nt)}else Se=Ee;X(null,Se)}):be.status==="done"&&(be.vectorTile?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,X):X())}}abortTile(H,X){const oe=this.loading,ve=H.uid;oe&&oe[ve]&&oe[ve].abort&&(oe[ve].abort(),delete oe[ve]),X()}removeTile(H,X){const oe=this.loaded,ve=H.uid;oe&&oe[ve]&&delete oe[ve],X()}}class R{constructor(){this.loaded={}}loadTile(H,X){return o._(this,void 0,void 0,function*(){const{uid:oe,encoding:ve,rawImageData:be,redFactor:ze,greenFactor:Ee,blueFactor:Se,baseShift:Re}=H,et=be.width+2,nt=be.height+2,ut=o.a(be)?new o.R({width:et,height:nt},yield o.bx(be,-1,-1,et,nt)):be,tn=new o.by(oe,ut,ve,ze,Ee,Se,Re);this.loaded=this.loaded||{},this.loaded[oe]=tn,X(null,tn)})}removeTile(H){const X=this.loaded,oe=H.uid;X&&X[oe]&&delete X[oe]}}function M(pe,H){if(pe.length!==0){F(pe[0],H);for(var X=1;X<pe.length;X++)F(pe[X],!H)}}function F(pe,H){for(var X=0,oe=0,ve=0,be=pe.length,ze=be-1;ve<be;ze=ve++){var Ee=(pe[ve][0]-pe[ze][0])*(pe[ze][1]+pe[ve][1]),Se=X+Ee;oe+=Math.abs(X)>=Math.abs(Ee)?X-Se+Ee:Ee-Se+X,X=Se}X+oe>=0!=!!H&&pe.reverse()}var N=o.bz(function pe(H,X){var oe,ve=H&&H.type;if(ve==="FeatureCollection")for(oe=0;oe<H.features.length;oe++)pe(H.features[oe],X);else if(ve==="GeometryCollection")for(oe=0;oe<H.geometries.length;oe++)pe(H.geometries[oe],X);else if(ve==="Feature")pe(H.geometry,X);else if(ve==="Polygon")M(H.coordinates,X);else if(ve==="MultiPolygon")for(oe=0;oe<H.coordinates.length;oe++)M(H.coordinates[oe],X);return H});const q=o.bw.VectorTileFeature.prototype.toGeoJSON;var Z={exports:{}},se=o.bA,ie=o.bw.VectorTileFeature,J=te;function te(pe,H){this.options=H||{},this.features=pe,this.length=pe.length}function G(pe,H){this.id=typeof pe.id=="number"?pe.id:void 0,this.type=pe.type,this.rawGeometry=pe.type===1?[pe.geometry]:pe.geometry,this.properties=pe.tags,this.extent=H||4096}te.prototype.feature=function(pe){return new G(this.features[pe],this.options.extent)},G.prototype.loadGeometry=function(){var pe=this.rawGeometry;this.geometry=[];for(var H=0;H<pe.length;H++){for(var X=pe[H],oe=[],ve=0;ve<X.length;ve++)oe.push(new se(X[ve][0],X[ve][1]));this.geometry.push(oe)}return this.geometry},G.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pe=this.geometry,H=1/0,X=-1/0,oe=1/0,ve=-1/0,be=0;be<pe.length;be++)for(var ze=pe[be],Ee=0;Ee<ze.length;Ee++){var Se=ze[Ee];H=Math.min(H,Se.x),X=Math.max(X,Se.x),oe=Math.min(oe,Se.y),ve=Math.max(ve,Se.y)}return[H,oe,X,ve]},G.prototype.toGeoJSON=ie.prototype.toGeoJSON;var $=o.bB,K=J;function le(pe){var H=new $;return function(X,oe){for(var ve in X.layers)oe.writeMessage(3,ee,X.layers[ve])}(pe,H),H.finish()}function ee(pe,H){var X;H.writeVarintField(15,pe.version||1),H.writeStringField(1,pe.name||""),H.writeVarintField(5,pe.extent||4096);var oe={keys:[],values:[],keycache:{},valuecache:{}};for(X=0;X<pe.length;X++)oe.feature=pe.feature(X),H.writeMessage(2,_e,oe);var ve=oe.keys;for(X=0;X<ve.length;X++)H.writeStringField(3,ve[X]);var be=oe.values;for(X=0;X<be.length;X++)H.writeMessage(4,ke,be[X])}function _e(pe,H){var X=pe.feature;X.id!==void 0&&H.writeVarintField(1,X.id),H.writeMessage(2,fe,pe),H.writeVarintField(3,X.type),H.writeMessage(4,qe,X)}function fe(pe,H){var X=pe.feature,oe=pe.keys,ve=pe.values,be=pe.keycache,ze=pe.valuecache;for(var Ee in X.properties){var Se=X.properties[Ee],Re=be[Ee];if(Se!==null){Re===void 0&&(oe.push(Ee),be[Ee]=Re=oe.length-1),H.writeVarint(Re);var et=typeof Se;et!=="string"&&et!=="boolean"&&et!=="number"&&(Se=JSON.stringify(Se));var nt=et+":"+Se,ut=ze[nt];ut===void 0&&(ve.push(Se),ze[nt]=ut=ve.length-1),H.writeVarint(ut)}}}function Ie(pe,H){return(H<<3)+(7&pe)}function Te(pe){return pe<<1^pe>>31}function qe(pe,H){for(var X=pe.loadGeometry(),oe=pe.type,ve=0,be=0,ze=X.length,Ee=0;Ee<ze;Ee++){var Se=X[Ee],Re=1;oe===1&&(Re=Se.length),H.writeVarint(Ie(1,Re));for(var et=oe===3?Se.length-1:Se.length,nt=0;nt<et;nt++){nt===1&&oe!==1&&H.writeVarint(Ie(2,et-1));var ut=Se[nt].x-ve,tn=Se[nt].y-be;H.writeVarint(Te(ut)),H.writeVarint(Te(tn)),ve+=ut,be+=tn}oe===3&&H.writeVarint(Ie(7,1))}}function ke(pe,H){var X=typeof pe;X==="string"?H.writeStringField(1,pe):X==="boolean"?H.writeBooleanField(7,pe):X==="number"&&(pe%1!=0?H.writeDoubleField(3,pe):pe<0?H.writeSVarintField(6,pe):H.writeVarintField(5,pe))}Z.exports=le,Z.exports.fromVectorTileJs=le,Z.exports.fromGeojsonVt=function(pe,H){H=H||{};var X={};for(var oe in pe)X[oe]=new K(pe[oe].features,H),X[oe].name=oe,X[oe].version=H.version,X[oe].extent=H.extent;return le({layers:X})},Z.exports.GeoJSONWrapper=K;var Pe=o.bz(Z.exports);const Fe={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:pe=>pe},Je=Math.fround||($e=new Float32Array(1),pe=>($e[0]=+pe,$e[0]));var $e;const at=3,Lt=5,dt=6;class kt{constructor(H){this.options=Object.assign(Object.create(Fe),H),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(H){const{log:X,minZoom:oe,maxZoom:ve}=this.options;X&&console.time("total time");const be=`prepare ${H.length} points`;X&&console.time(be),this.points=H;const ze=[];for(let Se=0;Se<H.length;Se++){const Re=H[Se];if(!Re.geometry)continue;const[et,nt]=Re.geometry.coordinates,ut=Je(He(et)),tn=Je(Ue(nt));ze.push(ut,tn,1/0,Se,-1,1),this.options.reduce&&ze.push(0)}let Ee=this.trees[ve+1]=this._createTree(ze);X&&console.timeEnd(be);for(let Se=ve;Se>=oe;Se--){const Re=+Date.now();Ee=this.trees[Se]=this._createTree(this._cluster(Ee,Se)),X&&console.log("z%d: %d clusters in %dms",Se,Ee.numItems,+Date.now()-Re)}return X&&console.timeEnd("total time"),this}getClusters(H,X){let oe=((H[0]+180)%360+360)%360-180;const ve=Math.max(-90,Math.min(90,H[1]));let be=H[2]===180?180:((H[2]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,H[3]));if(H[2]-H[0]>=360)oe=-180,be=180;else if(oe>be){const nt=this.getClusters([oe,ve,180,ze],X),ut=this.getClusters([-180,ve,be,ze],X);return nt.concat(ut)}const Ee=this.trees[this._limitZoom(X)],Se=Ee.range(He(oe),Ue(ze),He(be),Ue(ve)),Re=Ee.data,et=[];for(const nt of Se){const ut=this.stride*nt;et.push(Re[ut+Lt]>1?Ne(Re,ut,this.clusterProps):this.points[Re[ut+at]])}return et}getChildren(H){const X=this._getOriginId(H),oe=this._getOriginZoom(H),ve="No cluster with the specified id.",be=this.trees[oe];if(!be)throw new Error(ve);const ze=be.data;if(X*this.stride>=ze.length)throw new Error(ve);const Ee=this.options.radius/(this.options.extent*Math.pow(2,oe-1)),Se=be.within(ze[X*this.stride],ze[X*this.stride+1],Ee),Re=[];for(const et of Se){const nt=et*this.stride;ze[nt+4]===H&&Re.push(ze[nt+Lt]>1?Ne(ze,nt,this.clusterProps):this.points[ze[nt+at]])}if(Re.length===0)throw new Error(ve);return Re}getLeaves(H,X,oe){const ve=[];return this._appendLeaves(ve,H,X=X||10,oe=oe||0,0),ve}getTile(H,X,oe){const ve=this.trees[this._limitZoom(H)],be=Math.pow(2,H),{extent:ze,radius:Ee}=this.options,Se=Ee/ze,Re=(oe-Se)/be,et=(oe+1+Se)/be,nt={features:[]};return this._addTileFeatures(ve.range((X-Se)/be,Re,(X+1+Se)/be,et),ve.data,X,oe,be,nt),X===0&&this._addTileFeatures(ve.range(1-Se/be,Re,1,et),ve.data,be,oe,be,nt),X===be-1&&this._addTileFeatures(ve.range(0,Re,Se/be,et),ve.data,-1,oe,be,nt),nt.features.length?nt:null}getClusterExpansionZoom(H){let X=this._getOriginZoom(H)-1;for(;X<=this.options.maxZoom;){const oe=this.getChildren(H);if(X++,oe.length!==1)break;H=oe[0].properties.cluster_id}return X}_appendLeaves(H,X,oe,ve,be){const ze=this.getChildren(X);for(const Ee of ze){const Se=Ee.properties;if(Se&&Se.cluster?be+Se.point_count<=ve?be+=Se.point_count:be=this._appendLeaves(H,Se.cluster_id,oe,ve,be):be<ve?be++:H.push(Ee),H.length===oe)break}return be}_createTree(H){const X=new o.av(H.length/this.stride|0,this.options.nodeSize,Float32Array);for(let oe=0;oe<H.length;oe+=this.stride)X.add(H[oe],H[oe+1]);return X.finish(),X.data=H,X}_addTileFeatures(H,X,oe,ve,be,ze){for(const Ee of H){const Se=Ee*this.stride,Re=X[Se+Lt]>1;let et,nt,ut;if(Re)et=it(X,Se,this.clusterProps),nt=X[Se],ut=X[Se+1];else{const Wt=this.points[X[Se+at]];et=Wt.properties;const[rn,pn]=Wt.geometry.coordinates;nt=He(rn),ut=Ue(pn)}const tn={type:1,geometry:[[Math.round(this.options.extent*(nt*be-oe)),Math.round(this.options.extent*(ut*be-ve))]],tags:et};let dn;dn=Re||this.options.generateId?X[Se+at]:this.points[X[Se+at]].id,dn!==void 0&&(tn.id=dn),ze.features.push(tn)}}_limitZoom(H){return Math.max(this.options.minZoom,Math.min(Math.floor(+H),this.options.maxZoom+1))}_cluster(H,X){const{radius:oe,extent:ve,reduce:be,minPoints:ze}=this.options,Ee=oe/(ve*Math.pow(2,X)),Se=H.data,Re=[],et=this.stride;for(let nt=0;nt<Se.length;nt+=et){if(Se[nt+2]<=X)continue;Se[nt+2]=X;const ut=Se[nt],tn=Se[nt+1],dn=H.within(Se[nt],Se[nt+1],Ee),Wt=Se[nt+Lt];let rn=Wt;for(const pn of dn){const Kn=pn*et;Se[Kn+2]>X&&(rn+=Se[Kn+Lt])}if(rn>Wt&&rn>=ze){let pn,Kn=ut*Wt,sr=tn*Wt,Un=-1;const Vn=((nt/et|0)<<5)+(X+1)+this.points.length;for(const Di of dn){const fr=Di*et;if(Se[fr+2]<=X)continue;Se[fr+2]=X;const ei=Se[fr+Lt];Kn+=Se[fr]*ei,sr+=Se[fr+1]*ei,Se[fr+4]=Vn,be&&(pn||(pn=this._map(Se,nt,!0),Un=this.clusterProps.length,this.clusterProps.push(pn)),be(pn,this._map(Se,fr)))}Se[nt+4]=Vn,Re.push(Kn/rn,sr/rn,1/0,Vn,-1,rn),be&&Re.push(Un)}else{for(let pn=0;pn<et;pn++)Re.push(Se[nt+pn]);if(rn>1)for(const pn of dn){const Kn=pn*et;if(!(Se[Kn+2]<=X)){Se[Kn+2]=X;for(let sr=0;sr<et;sr++)Re.push(Se[Kn+sr])}}}}return Re}_getOriginId(H){return H-this.points.length>>5}_getOriginZoom(H){return(H-this.points.length)%32}_map(H,X,oe){if(H[X+Lt]>1){const ze=this.clusterProps[H[X+dt]];return oe?Object.assign({},ze):ze}const ve=this.points[H[X+at]].properties,be=this.options.map(ve);return oe&&be===ve?Object.assign({},be):be}}function Ne(pe,H,X){return{type:"Feature",id:pe[H+at],properties:it(pe,H,X),geometry:{type:"Point",coordinates:[(oe=pe[H],360*(oe-.5)),Ct(pe[H+1])]}};var oe}function it(pe,H,X){const oe=pe[H+Lt],ve=oe>=1e4?`${Math.round(oe/1e3)}k`:oe>=1e3?Math.round(oe/100)/10+"k":oe,be=pe[H+dt],ze=be===-1?{}:Object.assign({},X[be]);return Object.assign(ze,{cluster:!0,cluster_id:pe[H+at],point_count:oe,point_count_abbreviated:ve})}function He(pe){return pe/360+.5}function Ue(pe){const H=Math.sin(pe*Math.PI/180),X=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return X<0?0:X>1?1:X}function Ct(pe){const H=(180-360*pe)*Math.PI/180;return 360*Math.atan(Math.exp(H))/Math.PI-90}function $t(pe,H,X,oe){for(var ve,be=oe,ze=X-H>>1,Ee=X-H,Se=pe[H],Re=pe[H+1],et=pe[X],nt=pe[X+1],ut=H+3;ut<X;ut+=3){var tn=ae(pe[ut],pe[ut+1],Se,Re,et,nt);if(tn>be)ve=ut,be=tn;else if(tn===be){var dn=Math.abs(ut-ze);dn<Ee&&(ve=ut,Ee=dn)}}be>oe&&(ve-H>3&&$t(pe,H,ve,oe),pe[ve+2]=be,X-ve>3&&$t(pe,ve,X,oe))}function ae(pe,H,X,oe,ve,be){var ze=ve-X,Ee=be-oe;if(ze!==0||Ee!==0){var Se=((pe-X)*ze+(H-oe)*Ee)/(ze*ze+Ee*Ee);Se>1?(X=ve,oe=be):Se>0&&(X+=ze*Se,oe+=Ee*Se)}return(ze=pe-X)*ze+(Ee=H-oe)*Ee}function me(pe,H,X,oe){var ve={id:pe===void 0?null:pe,type:H,geometry:X,tags:oe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var ze=be.geometry,Ee=be.type;if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")Ve(be,ze);else if(Ee==="Polygon"||Ee==="MultiLineString")for(var Se=0;Se<ze.length;Se++)Ve(be,ze[Se]);else if(Ee==="MultiPolygon")for(Se=0;Se<ze.length;Se++)for(var Re=0;Re<ze[Se].length;Re++)Ve(be,ze[Se][Re])}(ve),ve}function Ve(pe,H){for(var X=0;X<H.length;X+=3)pe.minX=Math.min(pe.minX,H[X]),pe.minY=Math.min(pe.minY,H[X+1]),pe.maxX=Math.max(pe.maxX,H[X]),pe.maxY=Math.max(pe.maxY,H[X+1])}function Ye(pe,H,X,oe){if(H.geometry){var ve=H.geometry.coordinates,be=H.geometry.type,ze=Math.pow(X.tolerance/((1<<X.maxZoom)*X.extent),2),Ee=[],Se=H.id;if(X.promoteId?Se=H.properties[X.promoteId]:X.generateId&&(Se=oe||0),be==="Point")Ke(ve,Ee);else if(be==="MultiPoint")for(var Re=0;Re<ve.length;Re++)Ke(ve[Re],Ee);else if(be==="LineString")pt(ve,Ee,ze,!1);else if(be==="MultiLineString"){if(X.lineMetrics){for(Re=0;Re<ve.length;Re++)pt(ve[Re],Ee=[],ze,!1),pe.push(me(Se,"LineString",Ee,H.properties));return}bt(ve,Ee,ze,!1)}else if(be==="Polygon")bt(ve,Ee,ze,!0);else{if(be!=="MultiPolygon"){if(be==="GeometryCollection"){for(Re=0;Re<H.geometry.geometries.length;Re++)Ye(pe,{id:Se,geometry:H.geometry.geometries[Re],properties:H.properties},X,oe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Re=0;Re<ve.length;Re++){var et=[];bt(ve[Re],et,ze,!0),Ee.push(et)}}pe.push(me(Se,be,Ee,H.properties))}}function Ke(pe,H){H.push(Ce(pe[0])),H.push(gt(pe[1])),H.push(0)}function pt(pe,H,X,oe){for(var ve,be,ze=0,Ee=0;Ee<pe.length;Ee++){var Se=Ce(pe[Ee][0]),Re=gt(pe[Ee][1]);H.push(Se),H.push(Re),H.push(0),Ee>0&&(ze+=oe?(ve*Re-Se*be)/2:Math.sqrt(Math.pow(Se-ve,2)+Math.pow(Re-be,2))),ve=Se,be=Re}var et=H.length-3;H[2]=1,$t(H,0,et,X),H[et+2]=1,H.size=Math.abs(ze),H.start=0,H.end=H.size}function bt(pe,H,X,oe){for(var ve=0;ve<pe.length;ve++){var be=[];pt(pe[ve],be,X,oe),H.push(be)}}function Ce(pe){return pe/360+.5}function gt(pe){var H=Math.sin(pe*Math.PI/180),X=.5-.25*Math.log((1+H)/(1-H))/Math.PI;return X<0?0:X>1?1:X}function Qe(pe,H,X,oe,ve,be,ze,Ee){if(oe/=H,be>=(X/=H)&&ze<oe)return pe;if(ze<X||be>=oe)return null;for(var Se=[],Re=0;Re<pe.length;Re++){var et=pe[Re],nt=et.geometry,ut=et.type,tn=ve===0?et.minX:et.minY,dn=ve===0?et.maxX:et.maxY;if(tn>=X&&dn<oe)Se.push(et);else if(!(dn<X||tn>=oe)){var Wt=[];if(ut==="Point"||ut==="MultiPoint")lt(nt,Wt,X,oe,ve);else if(ut==="LineString")Et(nt,Wt,X,oe,ve,!1,Ee.lineMetrics);else if(ut==="MultiLineString")an(nt,Wt,X,oe,ve,!1);else if(ut==="Polygon")an(nt,Wt,X,oe,ve,!0);else if(ut==="MultiPolygon")for(var rn=0;rn<nt.length;rn++){var pn=[];an(nt[rn],pn,X,oe,ve,!0),pn.length&&Wt.push(pn)}if(Wt.length){if(Ee.lineMetrics&&ut==="LineString"){for(rn=0;rn<Wt.length;rn++)Se.push(me(et.id,ut,Wt[rn],et.tags));continue}ut!=="LineString"&&ut!=="MultiLineString"||(Wt.length===1?(ut="LineString",Wt=Wt[0]):ut="MultiLineString"),ut!=="Point"&&ut!=="MultiPoint"||(ut=Wt.length===3?"Point":"MultiPoint"),Se.push(me(et.id,ut,Wt,et.tags))}}}return Se.length?Se:null}function lt(pe,H,X,oe,ve){for(var be=0;be<pe.length;be+=3){var ze=pe[be+ve];ze>=X&&ze<=oe&&(H.push(pe[be]),H.push(pe[be+1]),H.push(pe[be+2]))}}function Et(pe,H,X,oe,ve,be,ze){for(var Ee,Se,Re=It(pe),et=ve===0?On:_n,nt=pe.start,ut=0;ut<pe.length-3;ut+=3){var tn=pe[ut],dn=pe[ut+1],Wt=pe[ut+2],rn=pe[ut+3],pn=pe[ut+4],Kn=ve===0?tn:dn,sr=ve===0?rn:pn,Un=!1;ze&&(Ee=Math.sqrt(Math.pow(tn-rn,2)+Math.pow(dn-pn,2))),Kn<X?sr>X&&(Se=et(Re,tn,dn,rn,pn,X),ze&&(Re.start=nt+Ee*Se)):Kn>oe?sr<oe&&(Se=et(Re,tn,dn,rn,pn,oe),ze&&(Re.start=nt+Ee*Se)):sn(Re,tn,dn,Wt),sr<X&&Kn>=X&&(Se=et(Re,tn,dn,rn,pn,X),Un=!0),sr>oe&&Kn<=oe&&(Se=et(Re,tn,dn,rn,pn,oe),Un=!0),!be&&Un&&(ze&&(Re.end=nt+Ee*Se),H.push(Re),Re=It(pe)),ze&&(nt+=Ee)}var Vn=pe.length-3;tn=pe[Vn],dn=pe[Vn+1],Wt=pe[Vn+2],(Kn=ve===0?tn:dn)>=X&&Kn<=oe&&sn(Re,tn,dn,Wt),Vn=Re.length-3,be&&Vn>=3&&(Re[Vn]!==Re[0]||Re[Vn+1]!==Re[1])&&sn(Re,Re[0],Re[1],Re[2]),Re.length&&H.push(Re)}function It(pe){var H=[];return H.size=pe.size,H.start=pe.start,H.end=pe.end,H}function an(pe,H,X,oe,ve,be){for(var ze=0;ze<pe.length;ze++)Et(pe[ze],H,X,oe,ve,be,!1)}function sn(pe,H,X,oe){pe.push(H),pe.push(X),pe.push(oe)}function On(pe,H,X,oe,ve,be){var ze=(be-H)/(oe-H);return pe.push(be),pe.push(X+(ve-X)*ze),pe.push(1),ze}function _n(pe,H,X,oe,ve,be){var ze=(be-X)/(ve-X);return pe.push(H+(oe-H)*ze),pe.push(be),pe.push(1),ze}function $n(pe,H){for(var X=[],oe=0;oe<pe.length;oe++){var ve,be=pe[oe],ze=be.type;if(ze==="Point"||ze==="MultiPoint"||ze==="LineString")ve=ur(be.geometry,H);else if(ze==="MultiLineString"||ze==="Polygon"){ve=[];for(var Ee=0;Ee<be.geometry.length;Ee++)ve.push(ur(be.geometry[Ee],H))}else if(ze==="MultiPolygon")for(ve=[],Ee=0;Ee<be.geometry.length;Ee++){for(var Se=[],Re=0;Re<be.geometry[Ee].length;Re++)Se.push(ur(be.geometry[Ee][Re],H));ve.push(Se)}X.push(me(be.id,ze,ve,be.tags))}return X}function ur(pe,H){var X=[];X.size=pe.size,pe.start!==void 0&&(X.start=pe.start,X.end=pe.end);for(var oe=0;oe<pe.length;oe+=3)X.push(pe[oe]+H,pe[oe+1],pe[oe+2]);return X}function vt(pe,H){if(pe.transformed)return pe;var X,oe,ve,be=1<<pe.z,ze=pe.x,Ee=pe.y;for(X=0;X<pe.features.length;X++){var Se=pe.features[X],Re=Se.geometry,et=Se.type;if(Se.geometry=[],et===1)for(oe=0;oe<Re.length;oe+=2)Se.geometry.push(xi(Re[oe],Re[oe+1],H,be,ze,Ee));else for(oe=0;oe<Re.length;oe++){var nt=[];for(ve=0;ve<Re[oe].length;ve+=2)nt.push(xi(Re[oe][ve],Re[oe][ve+1],H,be,ze,Ee));Se.geometry.push(nt)}}return pe.transformed=!0,pe}function xi(pe,H,X,oe,ve,be){return[Math.round(X*(pe*oe-ve)),Math.round(X*(H*oe-be))]}function Tn(pe,H,X,oe,ve){for(var be=H===ve.maxZoom?0:ve.tolerance/((1<<H)*ve.extent),ze={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:X,y:oe,z:H,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ee=0;Ee<pe.length;Ee++){ze.numFeatures++,ma(ze,pe[Ee],be,ve);var Se=pe[Ee].minX,Re=pe[Ee].minY,et=pe[Ee].maxX,nt=pe[Ee].maxY;Se<ze.minX&&(ze.minX=Se),Re<ze.minY&&(ze.minY=Re),et>ze.maxX&&(ze.maxX=et),nt>ze.maxY&&(ze.maxY=nt)}return ze}function ma(pe,H,X,oe){var ve=H.geometry,be=H.type,ze=[];if(be==="Point"||be==="MultiPoint")for(var Ee=0;Ee<ve.length;Ee+=3)ze.push(ve[Ee]),ze.push(ve[Ee+1]),pe.numPoints++,pe.numSimplified++;else if(be==="LineString")hr(ze,ve,pe,X,!1,!1);else if(be==="MultiLineString"||be==="Polygon")for(Ee=0;Ee<ve.length;Ee++)hr(ze,ve[Ee],pe,X,be==="Polygon",Ee===0);else if(be==="MultiPolygon")for(var Se=0;Se<ve.length;Se++){var Re=ve[Se];for(Ee=0;Ee<Re.length;Ee++)hr(ze,Re[Ee],pe,X,!0,Ee===0)}if(ze.length){var et=H.tags||null;if(be==="LineString"&&oe.lineMetrics){for(var nt in et={},H.tags)et[nt]=H.tags[nt];et.mapbox_clip_start=ve.start/ve.size,et.mapbox_clip_end=ve.end/ve.size}var ut={geometry:ze,type:be==="Polygon"||be==="MultiPolygon"?3:be==="LineString"||be==="MultiLineString"?2:1,tags:et};H.id!==null&&(ut.id=H.id),pe.features.push(ut)}}function hr(pe,H,X,oe,ve,be){var ze=oe*oe;if(oe>0&&H.size<(ve?ze:oe))X.numPoints+=H.length/3;else{for(var Ee=[],Se=0;Se<H.length;Se+=3)(oe===0||H[Se+2]>ze)&&(X.numSimplified++,Ee.push(H[Se]),Ee.push(H[Se+1])),X.numPoints++;ve&&function(Re,et){for(var nt=0,ut=0,tn=Re.length,dn=tn-2;ut<tn;dn=ut,ut+=2)nt+=(Re[ut]-Re[dn])*(Re[ut+1]+Re[dn+1]);if(nt>0===et)for(ut=0,tn=Re.length;ut<tn/2;ut+=2){var Wt=Re[ut],rn=Re[ut+1];Re[ut]=Re[tn-2-ut],Re[ut+1]=Re[tn-1-ut],Re[tn-2-ut]=Wt,Re[tn-1-ut]=rn}}(Ee,be),pe.push(Ee)}}function Tt(pe,H){var X=(H=this.options=function(ve,be){for(var ze in be)ve[ze]=be[ze];return ve}(Object.create(this.options),H)).debug;if(X&&console.time("preprocess data"),H.maxZoom<0||H.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(H.promoteId&&H.generateId)throw new Error("promoteId and generateId cannot be used together.");var oe=function(ve,be){var ze=[];if(ve.type==="FeatureCollection")for(var Ee=0;Ee<ve.features.length;Ee++)Ye(ze,ve.features[Ee],be,Ee);else Ye(ze,ve.type==="Feature"?ve:{geometry:ve},be);return ze}(pe,H);this.tiles={},this.tileCoords=[],X&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",H.indexMaxZoom,H.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),oe=function(ve,be){var ze=be.buffer/be.extent,Ee=ve,Se=Qe(ve,1,-1-ze,ze,0,-1,2,be),Re=Qe(ve,1,1-ze,2+ze,0,-1,2,be);return(Se||Re)&&(Ee=Qe(ve,1,-ze,1+ze,0,-1,2,be)||[],Se&&(Ee=$n(Se,1).concat(Ee)),Re&&(Ee=Ee.concat($n(Re,-1)))),Ee}(oe,H),oe.length&&this.splitTile(oe,0,0,0),X&&(oe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function vn(pe,H,X){return 32*((1<<pe)*X+H)+pe}function mn(pe,H){return H?pe.properties[H]:pe.id}function Ni(pe,H){if(pe==null)return!0;if(pe.type==="Feature")return mn(pe,H)!=null;if(pe.type==="FeatureCollection"){const X=new Set;for(const oe of pe.features){const ve=mn(oe,H);if(ve==null||X.has(ve))return!1;X.add(ve)}return!0}return!1}function ss(pe,H){const X=new Map;if(pe!=null)if(pe.type==="Feature")X.set(mn(pe,H),pe);else for(const oe of pe.features)X.set(mn(oe,H),oe);return X}Tt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Tt.prototype.splitTile=function(pe,H,X,oe,ve,be,ze){for(var Ee=[pe,H,X,oe],Se=this.options,Re=Se.debug;Ee.length;){oe=Ee.pop(),X=Ee.pop(),H=Ee.pop(),pe=Ee.pop();var et=1<<H,nt=vn(H,X,oe),ut=this.tiles[nt];if(!ut&&(Re>1&&console.time("creation"),ut=this.tiles[nt]=Tn(pe,H,X,oe,Se),this.tileCoords.push({z:H,x:X,y:oe}),Re)){Re>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",H,X,oe,ut.numFeatures,ut.numPoints,ut.numSimplified),console.timeEnd("creation"));var tn="z"+H;this.stats[tn]=(this.stats[tn]||0)+1,this.total++}if(ut.source=pe,ve){if(H===Se.maxZoom||H===ve)continue;var dn=1<<ve-H;if(X!==Math.floor(be/dn)||oe!==Math.floor(ze/dn))continue}else if(H===Se.indexMaxZoom||ut.numPoints<=Se.indexMaxPoints)continue;if(ut.source=null,pe.length!==0){Re>1&&console.time("clipping");var Wt,rn,pn,Kn,sr,Un,Vn=.5*Se.buffer/Se.extent,Di=.5-Vn,fr=.5+Vn,ei=1+Vn;Wt=rn=pn=Kn=null,sr=Qe(pe,et,X-Vn,X+fr,0,ut.minX,ut.maxX,Se),Un=Qe(pe,et,X+Di,X+ei,0,ut.minX,ut.maxX,Se),pe=null,sr&&(Wt=Qe(sr,et,oe-Vn,oe+fr,1,ut.minY,ut.maxY,Se),rn=Qe(sr,et,oe+Di,oe+ei,1,ut.minY,ut.maxY,Se),sr=null),Un&&(pn=Qe(Un,et,oe-Vn,oe+fr,1,ut.minY,ut.maxY,Se),Kn=Qe(Un,et,oe+Di,oe+ei,1,ut.minY,ut.maxY,Se),Un=null),Re>1&&console.timeEnd("clipping"),Ee.push(Wt||[],H+1,2*X,2*oe),Ee.push(rn||[],H+1,2*X,2*oe+1),Ee.push(pn||[],H+1,2*X+1,2*oe),Ee.push(Kn||[],H+1,2*X+1,2*oe+1)}}},Tt.prototype.getTile=function(pe,H,X){var oe=this.options,ve=oe.extent,be=oe.debug;if(pe<0||pe>24)return null;var ze=1<<pe,Ee=vn(pe,H=(H%ze+ze)%ze,X);if(this.tiles[Ee])return vt(this.tiles[Ee],ve);be>1&&console.log("drilling down to z%d-%d-%d",pe,H,X);for(var Se,Re=pe,et=H,nt=X;!Se&&Re>0;)Re--,et=Math.floor(et/2),nt=Math.floor(nt/2),Se=this.tiles[vn(Re,et,nt)];return Se&&Se.source?(be>1&&console.log("found parent tile z%d-%d-%d",Re,et,nt),be>1&&console.time("drilling down"),this.splitTile(Se.source,Re,et,nt,pe,H,X),be>1&&console.timeEnd("drilling down"),this.tiles[Ee]?vt(this.tiles[Ee],ve):null):null};class bn extends I{constructor(H,X,oe,ve){super(H,X,oe),this._dataUpdateable=new Map,this.loadGeoJSON=(be,ze)=>{const{promoteId:Ee}=be;if(be.request)return o.f(be.request,(Se,Re,et,nt)=>{this._dataUpdateable=Ni(Re,Ee)?ss(Re,Ee):void 0,ze(Se,Re,et,nt)});if(typeof be.data=="string")try{const Se=JSON.parse(be.data);this._dataUpdateable=Ni(Se,Ee)?ss(Se,Ee):void 0,ze(null,Se)}catch{ze(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`))}else be.dataDiff?this._dataUpdateable?(function(Se,Re,et){var nt,ut,tn,dn;if(Re.removeAll&&Se.clear(),Re.remove)for(const Wt of Re.remove)Se.delete(Wt);if(Re.add)for(const Wt of Re.add){const rn=mn(Wt,et);rn!=null&&Se.set(rn,Wt)}if(Re.update)for(const Wt of Re.update){let rn=Se.get(Wt.id);if(rn==null)continue;const pn=!Wt.removeAllProperties&&(((nt=Wt.removeProperties)===null||nt===void 0?void 0:nt.length)>0||((ut=Wt.addOrUpdateProperties)===null||ut===void 0?void 0:ut.length)>0);if((Wt.newGeometry||Wt.removeAllProperties||pn)&&(rn=Object.assign({},rn),Se.set(Wt.id,rn),pn&&(rn.properties=Object.assign({},rn.properties))),Wt.newGeometry&&(rn.geometry=Wt.newGeometry),Wt.removeAllProperties)rn.properties={};else if(((tn=Wt.removeProperties)===null||tn===void 0?void 0:tn.length)>0)for(const Kn of Wt.removeProperties)Object.prototype.hasOwnProperty.call(rn.properties,Kn)&&delete rn.properties[Kn];if(((dn=Wt.addOrUpdateProperties)===null||dn===void 0?void 0:dn.length)>0)for(const{key:Kn,value:sr}of Wt.addOrUpdateProperties)rn.properties[Kn]=sr}}(this._dataUpdateable,be.dataDiff,Ee),ze(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):ze(new Error(`Cannot update existing geojson data in ${be.source}`)):ze(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,ve&&(this.loadGeoJSON=ve)}loadGeoJSONTile(H,X){const oe=H.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const ve=this._geoJSONIndex.getTile(oe.z,oe.x,oe.y);if(!ve)return X(null,null);const be=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.N,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(Se){this._feature=Se,this.extent=o.N,this.type=Se.type,this.properties=Se.tags,"id"in Se&&!isNaN(Se.id)&&(this.id=parseInt(Se.id,10))}loadGeometry(){if(this._feature.type===1){const Se=[];for(const Re of this._feature.geometry)Se.push([new o.P(Re[0],Re[1])]);return Se}{const Se=[];for(const Re of this._feature.geometry){const et=[];for(const nt of Re)et.push(new o.P(nt[0],nt[1]));Se.push(et)}return Se}}toGeoJSON(Se,Re,et){return q.call(this,Se,Re,et)}}(this._features[Ee])}}(ve.features);let ze=Pe(be);ze.byteOffset===0&&ze.byteLength===ze.buffer.byteLength||(ze=new Uint8Array(ze)),X(null,{vectorTile:be,rawData:ze.buffer})}loadData(H,X){var oe;(oe=this._pendingRequest)===null||oe===void 0||oe.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ve=!!(H&&H.request&&H.request.collectResourceTiming)&&new o.bu(H.request);this._pendingCallback=X,this._pendingRequest=this.loadGeoJSON(H,(be,ze)=>{if(delete this._pendingCallback,delete this._pendingRequest,be||!ze)return X(be);if(typeof ze!="object")return X(new Error(`Input data given to '${H.source}' is not a valid GeoJSON object.`));{N(ze,!0);try{if(H.filter){const Se=o.bC(H.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Se.result==="error")throw new Error(Se.value.map(et=>`${et.key}: ${et.message}`).join(", "));ze={type:"FeatureCollection",features:ze.features.filter(et=>Se.value.evaluate({zoom:0},et))}}this._geoJSONIndex=H.cluster?new kt(function({superclusterOptions:Se,clusterProperties:Re}){if(!Re||!Se)return Se;const et={},nt={},ut={accumulated:null,zoom:0},tn={properties:null},dn=Object.keys(Re);for(const Wt of dn){const[rn,pn]=Re[Wt],Kn=o.bC(pn),sr=o.bC(typeof rn=="string"?[rn,["accumulated"],["get",Wt]]:rn);et[Wt]=Kn.value,nt[Wt]=sr.value}return Se.map=Wt=>{tn.properties=Wt;const rn={};for(const pn of dn)rn[pn]=et[pn].evaluate(ut,tn);return rn},Se.reduce=(Wt,rn)=>{tn.properties=rn;for(const pn of dn)ut.accumulated=Wt[pn],Wt[pn]=nt[pn].evaluate(ut,tn)},Se}(H)).load(ze.features):function(Se,Re){return new Tt(Se,Re)}(ze,H.geojsonVtOptions)}catch(Se){return X(Se)}this.loaded={};const Ee={};if(ve){const Se=ve.finish();Se&&(Ee.resourceTiming={},Ee.resourceTiming[H.source]=JSON.parse(JSON.stringify(Se)))}X(null,Ee)}})}reloadTile(H,X){const oe=this.loaded;return oe&&oe[H.uid]?super.reloadTile(H,X):this.loadTile(H,X)}removeSource(H,X){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),X()}getClusterExpansionZoom(H,X){try{X(null,this._geoJSONIndex.getClusterExpansionZoom(H.clusterId))}catch(oe){X(oe)}}getClusterChildren(H,X){try{X(null,this._geoJSONIndex.getChildren(H.clusterId))}catch(oe){X(oe)}}getClusterLeaves(H,X){try{X(null,this._geoJSONIndex.getLeaves(H.clusterId,H.limit,H.offset))}catch(oe){X(oe)}}}class Ds{constructor(H){this.self=H,this.actor=new o.C(H,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:I,geojson:bn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(X,oe)=>{if(this.workerSourceTypes[X])throw new Error(`Worker source with name "${X}" already registered.`);this.workerSourceTypes[X]=oe},this.self.registerRTLTextPlugin=X=>{if(o.bD.isParsed())throw new Error("RTL text plugin already registered.");o.bD.applyArabicShaping=X.applyArabicShaping,o.bD.processBidirectionalText=X.processBidirectionalText,o.bD.processStyledBidirectionalText=X.processStyledBidirectionalText}}setReferrer(H,X){this.referrer=X}setImages(H,X,oe){this.availableImages[H]=X;for(const ve in this.workerSources[H]){const be=this.workerSources[H][ve];for(const ze in be)be[ze].availableImages=X}oe()}setLayers(H,X,oe){this.getLayerIndex(H).replace(X),oe()}updateLayers(H,X,oe){this.getLayerIndex(H).update(X.layers,X.removedIds),oe()}loadTile(H,X,oe){this.getWorkerSource(H,X.type,X.source).loadTile(X,oe)}loadDEMTile(H,X,oe){this.getDEMWorkerSource(H,X.source).loadTile(X,oe)}reloadTile(H,X,oe){this.getWorkerSource(H,X.type,X.source).reloadTile(X,oe)}abortTile(H,X,oe){this.getWorkerSource(H,X.type,X.source).abortTile(X,oe)}removeTile(H,X,oe){this.getWorkerSource(H,X.type,X.source).removeTile(X,oe)}removeDEMTile(H,X){this.getDEMWorkerSource(H,X.source).removeTile(X)}removeSource(H,X,oe){if(!this.workerSources[H]||!this.workerSources[H][X.type]||!this.workerSources[H][X.type][X.source])return;const ve=this.workerSources[H][X.type][X.source];delete this.workerSources[H][X.type][X.source],ve.removeSource!==void 0?ve.removeSource(X,oe):oe()}loadWorkerSource(H,X,oe){try{this.self.importScripts(X.url),oe()}catch(ve){oe(ve.toString())}}syncRTLPluginState(H,X,oe){try{o.bD.setState(X);const ve=o.bD.getPluginURL();if(o.bD.isLoaded()&&!o.bD.isParsed()&&ve!=null){this.self.importScripts(ve);const be=o.bD.isParsed();oe(be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ve}`),be)}}catch(ve){oe(ve.toString())}}getAvailableImages(H){let X=this.availableImages[H];return X||(X=[]),X}getLayerIndex(H){let X=this.layerIndexes[H];return X||(X=this.layerIndexes[H]=new p),X}getWorkerSource(H,X,oe){return this.workerSources[H]||(this.workerSources[H]={}),this.workerSources[H][X]||(this.workerSources[H][X]={}),this.workerSources[H][X][oe]||(this.workerSources[H][X][oe]=new this.workerSourceTypes[X]({send:(ve,be,ze)=>{this.actor.send(ve,be,ze,H)}},this.getLayerIndex(H),this.getAvailableImages(H))),this.workerSources[H][X][oe]}getDEMWorkerSource(H,X){return this.demWorkerSources[H]||(this.demWorkerSources[H]={}),this.demWorkerSources[H][X]||(this.demWorkerSources[H][X]=new R),this.demWorkerSources[H][X]}}return o.i()&&(self.worker=new Ds(self)),Ds}),u(["./shared"],function(o){var p="3.6.2";class y{static testProp(a){if(!y.docStyle)return a[0];for(let d=0;d<a.length;d++)if(a[d]in y.docStyle)return a[d];return a[0]}static create(a,d,m){const v=window.document.createElement(a);return d!==void 0&&(v.className=d),m&&m.appendChild(v),v}static createNS(a,d){return window.document.createElementNS(a,d)}static disableDrag(){y.docStyle&&y.selectProp&&(y.userSelect=y.docStyle[y.selectProp],y.docStyle[y.selectProp]="none")}static enableDrag(){y.docStyle&&y.selectProp&&(y.docStyle[y.selectProp]=y.userSelect)}static setTransform(a,d){a.style[y.transformProp]=d}static addEventListener(a,d,m,v={}){a.addEventListener(d,m,"passive"in v?v:v.capture)}static removeEventListener(a,d,m,v={}){a.removeEventListener(d,m,"passive"in v?v:v.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",y.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",y.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",y.suppressClickInternal,!0)},0)}static mousePos(a,d){const m=a.getBoundingClientRect();return new o.P(d.clientX-m.left-a.clientLeft,d.clientY-m.top-a.clientTop)}static touchPos(a,d){const m=a.getBoundingClientRect(),v=[];for(let x=0;x<d.length;x++)v.push(new o.P(d[x].clientX-m.left-a.clientLeft,d[x].clientY-m.top-a.clientTop));return v}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}y.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,y.selectProp=y.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),y.transformProp=y.testProp(["transform","WebkitTransform"]);const w={supported:!1,testSupport:function(_){!I&&C&&(R?M(_):k=_)}};let k,C,I=!1,R=!1;function M(_){const a=_.createTexture();_.bindTexture(_.TEXTURE_2D,a);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,C),_.isContextLost())return;w.supported=!0}catch{}_.deleteTexture(a),I=!0}var F,N;typeof document<"u"&&(C=document.createElement("img"),C.onload=function(){k&&M(k),k=null,R=!0},C.onerror=function(){I=!0,k=null},C.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(_){let a,d,m,v;_.resetRequestQueue=()=>{a=[],d=0,m=0,v={}},_.addThrottleControl=z=>{const V=m++;return v[V]=z,V},_.removeThrottleControl=z=>{delete v[z],P()},_.getImage=(z,V,U=!0)=>{w.supported&&(z.headers||(z.headers={}),z.headers.accept="image/webp,*/*");const Q={requestParameters:z,supportImageRefresh:U,callback:V,cancelled:!1,completed:!1,cancel:()=>{Q.completed||Q.cancelled||(Q.cancelled=!0,Q.innerRequest&&(Q.innerRequest.cancel(),d--),P())}};return a.push(Q),P(),Q};const x=z=>{const{requestParameters:V,supportImageRefresh:U,callback:Q}=z;return o.e(V,{type:"image"}),(U!==!1||o.i()||o.g(V.url)||V.headers&&!Object.keys(V.headers).reduce((he,de)=>he&&de==="accept",!0)?o.m:L)(V,(he,de,ge,ce)=>{E(z,Q,he,de,ge,ce)})},E=(z,V,U,Q,he,de)=>{U?V(U):Q instanceof HTMLImageElement||o.a(Q)?V(null,Q):Q&&((ge,ce)=>{typeof createImageBitmap=="function"?o.b(ge,ce):o.d(ge,ce)})(Q,(ge,ce)=>{ge!=null?V(ge):ce!=null&&V(null,ce,{cacheControl:he,expires:de})}),z.cancelled||(z.completed=!0,d--,P())},P=()=>{const z=(()=>{const V=Object.keys(v);let U=!1;if(V.length>0){for(const Q of V)if(U=v[Q](),U)break}return U})()?o.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let V=d;V<z&&a.length>0;V++){const U=a.shift();if(U.cancelled){V--;continue}const Q=x(U);d++,U.innerRequest=Q}},L=(z,V)=>{const U=new Image,Q=z.url;let he=!1;const de=z.credentials;return de&&de==="include"?U.crossOrigin="use-credentials":(de&&de==="same-origin"||!o.s(Q))&&(U.crossOrigin="anonymous"),U.fetchPriority="high",U.onload=()=>{V(null,U),U.onerror=U.onload=null},U.onerror=()=>{he||V(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),U.onerror=U.onload=null},U.src=Q,{cancel:()=>{he=!0,U.src=""}}}}(F||(F={})),F.resetRequestQueue(),function(_){_.Glyphs="Glyphs",_.Image="Image",_.Source="Source",_.SpriteImage="SpriteImage",_.SpriteJSON="SpriteJSON",_.Style="Style",_.Tile="Tile",_.Unknown="Unknown"}(N||(N={}));class q{constructor(a){this._transformRequestFn=a}transformRequest(a,d){return this._transformRequestFn&&this._transformRequestFn(a,d)||{url:a}}normalizeSpriteURL(a,d,m){const v=function(x){const E=x.match(Z);if(!E)throw new Error(`Unable to parse URL "${x}"`);return{protocol:E[1],authority:E[2],path:E[3]||"/",params:E[4]?E[4].split("&"):[]}}(a);return v.path+=`${d}${m}`,function(x){const E=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${E}`}(v)}setTransformRequest(a){this._transformRequestFn=a}}const Z=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function se(_){var a=new o.A(3);return a[0]=_[0],a[1]=_[1],a[2]=_[2],a}var ie,J=function(_,a,d){return _[0]=a[0]-d[0],_[1]=a[1]-d[1],_[2]=a[2]-d[2],_};ie=new o.A(3),o.A!=Float32Array&&(ie[0]=0,ie[1]=0,ie[2]=0);var te=function(_){var a=_[0],d=_[1];return a*a+d*d};function G(_){const a=[];if(typeof _=="string")a.push({id:"default",url:_});else if(_&&_.length>0){const d=[];for(const{id:m,url:v}of _){const x=`${m}${v}`;d.indexOf(x)===-1&&(d.push(x),a.push({id:m,url:v}))}}return a}function $(_,a,d,m,v){if(m)return void _(m);if(v!==Object.values(a).length||v!==Object.values(d).length)return;const x={};for(const E in a){x[E]={};const P=o.h.getImageCanvasContext(d[E]),L=a[E];for(const z in L){const{width:V,height:U,x:Q,y:he,sdf:de,pixelRatio:ge,stretchX:ce,stretchY:De,content:je}=L[z];x[E][z]={data:null,pixelRatio:ge,sdf:de,stretchX:ce,stretchY:De,content:je,spriteData:{width:V,height:U,x:Q,y:he,context:P}}}}_(null,x)}(function(){var _=new o.A(2);o.A!=Float32Array&&(_[0]=0,_[1]=0)})();class K{constructor(a,d,m,v){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(d,v)}update(a,d,m){const{width:v,height:x}=a,E=!(this.size&&this.size[0]===v&&this.size[1]===x||m),{context:P}=this,{gl:L}=P;if(this.useMipmap=!!(d&&d.useMipmap),L.bindTexture(L.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===L.RGBA&&(!d||d.premultiply!==!1)),E)this.size=[v,x],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?L.texImage2D(L.TEXTURE_2D,0,this.format,this.format,L.UNSIGNED_BYTE,a):L.texImage2D(L.TEXTURE_2D,0,this.format,v,x,0,this.format,L.UNSIGNED_BYTE,a.data);else{const{x:z,y:V}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?L.texSubImage2D(L.TEXTURE_2D,0,z,V,L.RGBA,L.UNSIGNED_BYTE,a):L.texSubImage2D(L.TEXTURE_2D,0,z,V,v,x,L.RGBA,L.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&L.generateMipmap(L.TEXTURE_2D)}bind(a,d,m){const{context:v}=this,{gl:x}=v;x.bindTexture(x.TEXTURE_2D,this.texture),m!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=x.LINEAR),a!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,a),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,m||a),this.filter=a),d!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,d),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function le(_){const{userImage:a}=_;return!!(a&&a.render&&a.render())&&(_.data.replace(new Uint8Array(a.data.buffer)),!0)}class ee extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:d,callback:m}of this.requestors)this._notify(d,m);this.requestors=[]}}getImage(a){const d=this.images[a];if(d&&!d.data&&d.spriteData){const m=d.spriteData;d.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),d.spriteData=null}return d}addImage(a,d){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let m=!0;const v=d.data||d.spriteData;return this._validateStretch(d.stretchX,v&&v.width)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,v&&v.height)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,d){if(!a)return!0;let m=0;for(const v of a){if(v[0]<m||v[1]<v[0]||d<v[1])return!1;m=v[1]}return!0}_validateContent(a,d){if(!a)return!0;if(a.length!==4)return!1;const m=d.spriteData,v=m&&m.width||d.data.width,x=m&&m.height||d.data.height;return!(a[0]<0||v<a[0]||a[1]<0||x<a[1]||a[2]<0||v<a[2]||a[3]<0||x<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,d,m=!0){const v=this.getImage(a);if(m&&(v.data.width!==d.data.width||v.data.height!==d.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=v.version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){const d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,d){let m=!0;if(!this.isLoaded())for(const v of a)this.images[v]||(m=!1);this.isLoaded()||m?this._notify(a,d):this.requestors.push({ids:a,callback:d})}_notify(a,d){const m={};for(const v of a){let x=this.getImage(v);x||(this.fire(new o.k("styleimagemissing",{id:v})),x=this.getImage(v)),x?m[v]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:!!(x.userImage&&x.userImage.render)}:o.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,m)}getPixelSize(){const{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){const d=this.patterns[a],m=this.getImage(a);if(!m)return null;if(d&&d.position.version===m.version)return d.position;if(d)d.position.version=m.version;else{const v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},x=new o.I(v,m);this.patterns[a]={bin:v,position:x}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new K(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const x in this.patterns)a.push(this.patterns[x].bin);const{w:d,h:m}=o.p(a),v=this.atlasImage;v.resize({width:d||1,height:m||1});for(const x in this.patterns){const{bin:E}=this.patterns[x],P=E.x+1,L=E.y+1,z=this.getImage(x).data,V=z.width,U=z.height;o.R.copy(z,v,{x:0,y:0},{x:P,y:L},{width:V,height:U}),o.R.copy(z,v,{x:0,y:U-1},{x:P,y:L-1},{width:V,height:1}),o.R.copy(z,v,{x:0,y:0},{x:P,y:L+U},{width:V,height:1}),o.R.copy(z,v,{x:V-1,y:0},{x:P-1,y:L},{width:1,height:U}),o.R.copy(z,v,{x:0,y:0},{x:P+V,y:L},{width:1,height:U})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const m=this.getImage(d);m||o.w(`Image with ID: "${d}" was not found`),le(m)&&this.updateImage(d,m)}}}const _e=1e20;function fe(_,a,d,m,v,x,E,P,L){for(let z=a;z<a+m;z++)Ie(_,d*x+z,x,v,E,P,L);for(let z=d;z<d+v;z++)Ie(_,z*x+a,1,m,E,P,L)}function Ie(_,a,d,m,v,x,E){x[0]=0,E[0]=-_e,E[1]=_e,v[0]=_[a];for(let P=1,L=0,z=0;P<m;P++){v[P]=_[a+P*d];const V=P*P;do{const U=x[L];z=(v[P]-v[U]+V-U*U)/(P-U)/2}while(z<=E[L]&&--L>-1);L++,x[L]=P,E[L]=z,E[L+1]=_e}for(let P=0,L=0;P<m;P++){for(;E[L+1]<P;)L++;const z=x[L],V=P-z;_[a+P*d]=v[z]+V*V}}class Te{constructor(a,d){this.requestManager=a,this.localIdeographFontFamily=d,this.entries={}}setURL(a){this.url=a}getGlyphs(a,d){const m=[];for(const v in a)for(const x of a[v])m.push({stack:v,id:x});o.o(m,({stack:v,id:x},E)=>{let P=this.entries[v];P||(P=this.entries[v]={glyphs:{},requests:{},ranges:{}});let L=P.glyphs[x];if(L!==void 0)return void E(null,{stack:v,id:x,glyph:L});if(L=this._tinySDF(P,v,x),L)return P.glyphs[x]=L,void E(null,{stack:v,id:x,glyph:L});const z=Math.floor(x/256);if(256*z>65535)return void E(new Error("glyphs > 65535 not supported"));if(P.ranges[z])return void E(null,{stack:v,id:x,glyph:L});if(!this.url)return void E(new Error("glyphsUrl is not set"));let V=P.requests[z];V||(V=P.requests[z]=[],Te.loadGlyphRange(v,z,this.url,this.requestManager,(U,Q)=>{if(Q){for(const he in Q)this._doesCharSupportLocalGlyph(+he)||(P.glyphs[+he]=Q[+he]);P.ranges[z]=!0}for(const he of V)he(U,Q);delete P.requests[z]})),V.push((U,Q)=>{U?E(U):Q&&E(null,{stack:v,id:x,glyph:Q[x]||null})})},(v,x)=>{if(v)d(v);else if(x){const E={};for(const{stack:P,id:L,glyph:z}of x)(E[P]||(E[P]={}))[L]=z&&{id:z.id,bitmap:z.bitmap.clone(),metrics:z.metrics};d(null,E)}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(o.u["CJK Unified Ideographs"](a)||o.u["Hangul Syllables"](a)||o.u.Hiragana(a)||o.u.Katakana(a))}_tinySDF(a,d,m){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(m))return;let x=a.tinySDF;if(!x){let P="400";/bold/i.test(d)?P="900":/medium/i.test(d)?P="500":/light/i.test(d)&&(P="200"),x=a.tinySDF=new Te.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:P})}const E=x.draw(String.fromCharCode(m));return{id:m,bitmap:new o.q({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}}Te.loadGlyphRange=function(_,a,d,m,v){const x=256*a,E=x+255,P=m.transformRequest(d.replace("{fontstack}",_).replace("{range}",`${x}-${E}`),N.Glyphs);o.l(P,(L,z)=>{if(L)v(L);else if(z){const V={};for(const U of o.n(z))V[U.id]=U;v(null,V)}})},Te.TinySDF=class{constructor({fontSize:_=24,buffer:a=3,radius:d=8,cutoff:m=.25,fontFamily:v="sans-serif",fontWeight:x="normal",fontStyle:E="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=d;const P=this.size=_+4*a,L=this._createCanvas(P),z=this.ctx=L.getContext("2d",{willReadFrequently:!0});z.font=`${E} ${x} ${_}px ${v}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(_){const a=document.createElement("canvas");return a.width=a.height=_,a}draw(_){const{width:a,actualBoundingBoxAscent:d,actualBoundingBoxDescent:m,actualBoundingBoxLeft:v,actualBoundingBoxRight:x}=this.ctx.measureText(_),E=Math.ceil(d),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-v))),L=Math.min(this.size-this.buffer,E+Math.ceil(m)),z=P+2*this.buffer,V=L+2*this.buffer,U=Math.max(z*V,0),Q=new Uint8ClampedArray(U),he={data:Q,width:z,height:V,glyphWidth:P,glyphHeight:L,glyphTop:E,glyphLeft:0,glyphAdvance:a};if(P===0||L===0)return he;const{ctx:de,buffer:ge,gridInner:ce,gridOuter:De}=this;de.clearRect(ge,ge,P,L),de.fillText(_,ge,ge+E);const je=de.getImageData(ge,ge,P,L);De.fill(_e,0,U),ce.fill(0,0,U);for(let xe=0;xe<L;xe++)for(let Le=0;Le<P;Le++){const Ze=je.data[4*(xe*P+Le)+3]/255;if(Ze===0)continue;const Xe=(xe+ge)*z+Le+ge;if(Ze===1)De[Xe]=0,ce[Xe]=_e;else{const rt=.5-Ze;De[Xe]=rt>0?rt*rt:0,ce[Xe]=rt<0?rt*rt:0}}fe(De,0,0,z,V,z,this.f,this.v,this.z),fe(ce,ge,ge,P,L,z,this.f,this.v,this.z);for(let xe=0;xe<U;xe++){const Le=Math.sqrt(De[xe])-Math.sqrt(ce[xe]);Q[xe]=Math.round(255-255*(Le/this.radius+this.cutoff))}return he}};class qe{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,d){return o.z(a.expression.evaluate(d))}interpolate(a,d,m){return{x:o.B.number(a.x,d.x,m),y:o.B.number(a.y,d.y,m),z:o.B.number(a.z,d.z,m)}}}let ke;class Pe extends o.E{constructor(a){super(),ke=ke||new o.r({anchor:new o.D(o.v.light.anchor),position:new qe,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(ke),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(o.t,a,d))for(const m in a){const v=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m){return(!m||m.validate!==!1)&&o.x(this,a.call(o.y,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}}class Fe{constructor(a,d){this.width=a,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,d){const m=a.join(",")+String(d);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,d)),this.dashEntry[m]}getDashRanges(a,d,m){const v=[];let x=a.length%2==1?-a[a.length-1]*m:0,E=a[0]*m,P=!0;v.push({left:x,right:E,isDash:P,zeroLength:a[0]===0});let L=a[0];for(let z=1;z<a.length;z++){P=!P;const V=a[z];x=L*m,L+=V,E=L*m,v.push({left:x,right:E,isDash:P,zeroLength:V===0})}return v}addRoundDash(a,d,m){const v=d/2;for(let x=-m;x<=m;x++){const E=this.width*(this.nextRow+m+x);let P=0,L=a[P];for(let z=0;z<this.width;z++){z/L.right>1&&(L=a[++P]);const V=Math.abs(z-L.left),U=Math.abs(z-L.right),Q=Math.min(V,U);let he;const de=x/m*(v+1);if(L.isDash){const ge=v-Math.abs(de);he=Math.sqrt(Q*Q+ge*ge)}else he=v-Math.sqrt(Q*Q+de*de);this.data[E+z]=Math.max(0,Math.min(255,he+128))}}}addRegularDash(a){for(let P=a.length-1;P>=0;--P){const L=a[P],z=a[P+1];L.zeroLength?a.splice(P,1):z&&z.isDash===L.isDash&&(z.left=L.left,a.splice(P,1))}const d=a[0],m=a[a.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);const v=this.width*this.nextRow;let x=0,E=a[x];for(let P=0;P<this.width;P++){P/E.right>1&&(E=a[++x]);const L=Math.abs(P-E.left),z=Math.abs(P-E.right),V=Math.min(L,z);this.data[v+P]=Math.max(0,Math.min(255,(E.isDash?V:-V)+128))}}addDash(a,d){const m=d?7:0,v=2*m+1;if(this.nextRow+v>this.height)return o.w("LineAtlas out of space"),null;let x=0;for(let P=0;P<a.length;P++)x+=a[P];if(x!==0){const P=this.width/x,L=this.getDashRanges(a,this.width,P);d?this.addRoundDash(L,P,m):this.addRegularDash(L)}const E={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:x};return this.nextRow+=v,this.dirty=!0,E}bind(a){const d=a.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class Je{constructor(a,d,m){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=m;const v=this.workerPool.acquire(m);for(let x=0;x<v.length;x++){const E=new o.C(v[x],d,m);E.name=`Worker ${x}`,this.actors.push(E)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,d,m){o.o(this.actors,(v,x)=>{v.send(a,d,x)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}}function $e(_,a,d){const m=function(v,x){if(v)return d(v);if(x){const E=o.F(o.e(x,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(E.vectorLayers=x.vector_layers,E.vectorLayerIds=E.vectorLayers.map(P=>P.id)),d(null,E)}};return _.url?o.f(a.transformRequest(_.url,N.Source),m):o.h.frame(()=>m(null,_))}class at{constructor(a,d){a&&(d?this.setSouthWest(a).setNorthEast(d):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}extend(a){const d=this._sw,m=this._ne;let v,x;if(a instanceof o.L)v=a,x=a;else{if(!(a instanceof at))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(at.convert(a)):this.extend(o.L.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.L.convert(a)):this;if(v=a._sw,x=a._ne,!v||!x)return this}return d||m?(d.lng=Math.min(v.lng,d.lng),d.lat=Math.min(v.lat,d.lat),m.lng=Math.max(x.lng,m.lng),m.lat=Math.max(x.lat,m.lat)):(this._sw=new o.L(v.lng,v.lat),this._ne=new o.L(x.lng,x.lat)),this}getCenter(){return new o.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.L(this.getWest(),this.getNorth())}getSouthEast(){return new o.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:d,lat:m}=o.L.convert(a);let v=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&v}static convert(a){return a instanceof at?a:a&&new at(a)}static fromLngLat(a,d=0){const m=360*d/40075017,v=m/Math.cos(Math.PI/180*a.lat);return new at(new o.L(a.lng-v,a.lat-m),new o.L(a.lng+v,a.lat+m))}}class Lt{constructor(a,d,m){this.bounds=at.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const d=Math.pow(2,a.z),m=Math.floor(o.G(this.bounds.getWest())*d),v=Math.floor(o.H(this.bounds.getNorth())*d),x=Math.ceil(o.G(this.bounds.getEast())*d),E=Math.ceil(o.H(this.bounds.getSouth())*d);return a.x>=m&&a.x<x&&a.y>=v&&a.y<E}}class dt extends o.E{constructor(a,d,m,v){if(super(),this.load=()=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=$e(this._options,this.map._requestManager,(x,E)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),x?this.fire(new o.j(x)):E&&(o.e(this,E),E.bounds&&(this.tileBounds=new Lt(E.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>o.e({},this._options),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.F(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(m,N.Tile),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(E,P){return delete a.request,a.aborted?d(null):E&&E.status!==404?d(E):(P&&P.resourceTiming&&(a.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&a.setExpiryData(P),a.loadVectorData(P,this.map.painter),d(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,a.actor&&a.state!=="expired"?a.state==="loading"?a.reloadCallback=d:a.request=a.actor.send("reloadTile",v,x.bind(this)):(a.actor=this.dispatcher.getActor(),a.request=a.actor.send("loadTile",v,x.bind(this)))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id},void 0)}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class kt extends o.E{constructor(a,d,m,v){super(),this.id=a,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.F(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=$e(this._options,this.map._requestManager,(a,d)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new o.j(a)):d&&(o.e(this,d),d.bounds&&(this.tileBounds=new Lt(d.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.request=F.getImage(this.map._requestManager.transformRequest(m,N.Tile),(v,x,E)=>{if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(v)a.state="errored",d(v);else if(x){this.map._refreshExpiredTiles&&E&&a.setExpiryData(E);const P=this.map.painter.context,L=P.gl;a.texture=this.map.painter.getTileTexture(x.width),a.texture?a.texture.update(x,{useMipmap:!0}):(a.texture=new K(P,x,L.RGBA,{useMipmap:!0}),a.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST),P.extTextureFilterAnisotropic&&L.texParameterf(L.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax)),a.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(a,d){a.request&&(a.request.cancel(),delete a.request),d()}unloadTile(a,d){a.texture&&this.map.painter.saveTileTexture(a.texture),d()}hasTransition(){return!1}}class Ne extends kt{constructor(a,d,m,v){super(a,d,m,v),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(m,N.Tile);function x(E,P){E&&(a.state="errored",d(E)),P&&(a.dem=P,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded",d(null))}a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.request=F.getImage(v,(E,P,L)=>o._(this,void 0,void 0,function*(){if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(E)a.state="errored",d(E);else if(P){this.map._refreshExpiredTiles&&a.setExpiryData(L);const z=o.a(P)&&o.J()?P:yield function(U){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.K()){const Q=U.width+2,he=U.height+2;try{return new o.R({width:Q,height:he},yield o.M(U,-1,-1,Q,he))}catch{}}return o.h.getImageData(U,1)})}(P),V={uid:a.uid,coord:a.tileID,source:this.id,rawImageData:z,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};a.actor&&a.state!=="expired"||(a.actor=this.dispatcher.getActor(),a.actor.send("loadDEMTile",V,x))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(a){const d=a.canonical,m=Math.pow(2,d.z),v=(d.x-1+m)%m,x=d.x===0?a.wrap-1:a.wrap,E=(d.x+1+m)%m,P=d.x+1===m?a.wrap+1:a.wrap,L={};return L[new o.O(a.overscaledZ,x,d.z,v,d.y).key]={backfilled:!1},L[new o.O(a.overscaledZ,P,d.z,E,d.y).key]={backfilled:!1},d.y>0&&(L[new o.O(a.overscaledZ,x,d.z,v,d.y-1).key]={backfilled:!1},L[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},L[new o.O(a.overscaledZ,P,d.z,E,d.y-1).key]={backfilled:!1}),d.y+1<m&&(L[new o.O(a.overscaledZ,x,d.z,v,d.y+1).key]={backfilled:!1},L[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},L[new o.O(a.overscaledZ,P,d.z,E,d.y+1).key]={backfilled:!1}),L}unloadTile(a){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&a.actor.send("removeDEMTile",{uid:a.uid,source:this.id})}}class it extends o.E{constructor(a,d,m,v){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>o.e({},this._options,{type:this.type,data:this._data}),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(v),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const x=o.N/this.tileSize;this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*x,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*x,extent:o.N,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.N,radius:(d.clusterRadius||50)*x,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:a,source:this.id},d),this}getClusterChildren(a,d){return this.actor.send("geojson.getClusterChildren",{clusterId:a,source:this.id},d),this}getClusterLeaves(a,d,m,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:a,limit:d,offset:m},v),this}_updateWorkerData(a){const d=o.e({},this.workerOptions);a?d.dataDiff=a:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(o.h.resolveURL(this._data),N.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(m,v)=>{if(this._pendingLoads--,this._removed||v&&v.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let x=null;if(v&&v.resourceTiming&&v.resourceTiming[this.id]&&(x=v.resourceTiming[this.id].slice(0)),m)return void this.fire(new o.j(m));const E={dataType:"source"};this._collectResourceTiming&&x&&x.length>0&&o.e(E,{resourceTiming:x}),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(a,d){const m=a.actor?"reloadTile":"loadTile";a.actor=this.actor;const v={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.request=this.actor.send(m,v,(x,E)=>(delete a.request,a.unloadVectorData(),a.aborted?d(null):x?d(x):(a.loadVectorData(E,this.map.painter,m==="reloadTile"),d(null))))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.aborted=!0}unloadTile(a){a.unloadVectorData(),this.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var He=o.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ue extends o.E{constructor(a,d,m,v){super(),this.load=(x,E)=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=F.getImage(this.map._requestManager.transformRequest(this.url,N.Image),(P,L)=>{this._request=null,this._loaded=!0,P?this.fire(new o.j(P)):L&&(this.image=L,x&&(this.coordinates=x),E&&E(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const x=this.map.painter.context,E=x.gl;this.boundsBuffer||(this.boundsBuffer=x.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new K(x,this.image,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const L in this.tiles){const z=this.tiles[L];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=a,this.dispatcher=m,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=d}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=a.url,this.load(a.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(a){this.coordinates=a;const d=a.map(o.U.fromLngLat);this.tileID=function(v){let x=1/0,E=1/0,P=-1/0,L=-1/0;for(const Q of v)x=Math.min(x,Q.x),E=Math.min(E,Q.y),P=Math.max(P,Q.x),L=Math.max(L,Q.y);const z=Math.max(P-x,L-E),V=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),U=Math.pow(2,V);return new o.W(V,Math.floor((x+P)/2*U),Math.floor((E+L)/2*U))}(d),this.minzoom=this.maxzoom=this.tileID.z;const m=d.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new o.V,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,o.N,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,o.N),this._boundsArray.emplaceBack(m[2].x,m[2].y,o.N,o.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(a,d){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},d(null)):(a.state="errored",d(null))}hasTransition(){return!1}}class Ct extends Ue{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!1;const x=this.options;this.urls=[];for(const E of x.urls)this.urls.push(this.map._requestManager.transformRequest(E,N.Source).url);o.X(this.urls,(E,P)=>{this._loaded=!0,E?this.fire(new o.j(E)):P&&(this.video=P,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const x=this.map.painter.context,E=x.gl;this.boundsBuffer||(this.boundsBuffer=x.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.texSubImage2D(E.TEXTURE_2D,0,0,0,E.RGBA,E.UNSIGNED_BYTE,this.video)):(this.texture=new K(x,this.video,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const L in this.tiles){const z=this.tiles[L];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const d=this.video.seekable;a<d.start(0)||a>d.end(0)?this.fire(new o.j(new o.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class $t extends Ue{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let x=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,x=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,x=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const E=this.map.painter.context,P=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?(x||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new K(E,this.canvas,P.RGBA,{premultiply:!0});let L=!1;for(const z in this.tiles){const V=this.tiles[z];V.state!=="loaded"&&(V.state="loaded",V.texture=this.texture,L=!0)}L&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(E=>typeof E!="number"))||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.j(new o.Y(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const ae={},me=_=>{switch(_){case"geojson":return it;case"image":return Ue;case"raster":return kt;case"raster-dem":return Ne;case"vector":return dt;case"video":return Ct;case"canvas":return $t}return ae[_]};function Ve(_,a){const d=o.Z();return o.$(d,d,[1,1,0]),o.a0(d,d,[.5*_.width,.5*_.height,1]),o.a1(d,d,_.calculatePosMatrix(a.toUnwrapped()))}function Ye(_,a,d,m,v,x){const E=function(U,Q,he){if(U)for(const de of U){const ge=Q[de];if(ge&&ge.source===he&&ge.type==="fill-extrusion")return!0}else for(const de in Q){const ge=Q[de];if(ge.source===he&&ge.type==="fill-extrusion")return!0}return!1}(v&&v.layers,a,_.id),P=x.maxPitchScaleFactor(),L=_.tilesIn(m,P,E);L.sort(Ke);const z=[];for(const U of L)z.push({wrappedTileID:U.tileID.wrapped().key,queryResults:U.tile.queryRenderedFeatures(a,d,_._state,U.queryGeometry,U.cameraQueryGeometry,U.scale,v,x,P,Ve(_.transform,U.tileID))});const V=function(U){const Q={},he={};for(const de of U){const ge=de.queryResults,ce=de.wrappedTileID,De=he[ce]=he[ce]||{};for(const je in ge){const xe=ge[je],Le=De[je]=De[je]||{},Ze=Q[je]=Q[je]||[];for(const Xe of xe)Le[Xe.featureIndex]||(Le[Xe.featureIndex]=!0,Ze.push(Xe))}}return Q}(z);for(const U in V)V[U].forEach(Q=>{const he=Q.feature,de=_.getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=de});return V}function Ke(_,a){const d=_.tileID,m=a.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}class pt{constructor(a,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a2(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const d=a+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,d,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(v,x){const E={};if(!x)return E;for(const P of v){const L=P.layerIds.map(z=>x.getLayer(z)).filter(Boolean);if(L.length!==0){P.layers=L,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(z=>L.filter(V=>V.id===z)[0]));for(const z of L)E[z.id]=P}}return E}(a.buckets,d.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const x=this.buckets[v];if(x instanceof o.a4){if(this.hasSymbolBuckets=!0,!m)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const x=this.buckets[v];if(x instanceof o.a4&&x.hasRTLText){this.hasRTLText=!0,o.a5();break}}this.queryPadding=0;for(const v in this.buckets){const x=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(v).queryRadius(x))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a3}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const m in this.buckets){const v=this.buckets[m];v.uploadPending()&&v.upload(a)}const d=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new K(a,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new K(a,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,d,m,v,x,E,P,L,z,V){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:x,scale:E,tileSize:this.tileSize,pixelPosMatrix:V,transform:L,params:P,queryPadding:this.queryPadding*z},a,d,m):{}}querySourceFeatures(a,d){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const v=m.loadVTLayers(),x=d&&d.sourceLayer?d.sourceLayer:"",E=v._geojsonTileLayer||v[x];if(!E)return;const P=o.a6(d&&d.filter),{z:L,x:z,y:V}=this.tileID.canonical,U={z:L,x:z,y:V};for(let Q=0;Q<E.length;Q++){const he=E.feature(Q);if(P.needGeometry){const ce=o.a7(he,!0);if(!P.filter(new o.a8(this.tileID.overscaledZ),ce,this.tileID.canonical))continue}else if(!P.filter(new o.a8(this.tileID.overscaledZ),he))continue;const de=m.getId(he,x),ge=new o.a9(he,L,z,V,de);ge.tile=U,a.push(ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const d=this.expirationTime;if(a.cacheControl){const m=o.aa(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const m=Date.now();let v=!1;if(this.expirationTime>m)v=!1;else if(d)if(this.expirationTime<d)v=!0;else{const x=this.expirationTime-d;x?this.expirationTime=m+Math.max(x,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!d.style.hasLayer(v))continue;const x=this.buckets[v],E=x.layers[0].sourceLayer||"_geojsonTileLayer",P=m[E],L=a[E];if(!P||!L||Object.keys(L).length===0)continue;x.update(L,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});const z=d&&d.style&&d.style.getLayer(v);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<o.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=o.h.now()+a}setDependencies(a,d){const m={};for(const v of d)m[v]=!0;this.dependencies[a]=m}hasDependency(a,d){for(const m of a){const v=this.dependencies[m];if(v){for(const x of d)if(v[x])return!0}}return!1}}class bt{constructor(a,d){this.max=a,this.onRemove=d,this.reset()}reset(){for(const a in this.data)for(const d of this.data[a])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(a,d,m){const v=a.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const x={value:d,timeout:void 0};if(m!==void 0&&(x.timeout=setTimeout(()=>{this.remove(a,x)},m)),this.data[v].push(x),this.order.push(v),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const d=this.data[a].shift();return d.timeout&&clearTimeout(d.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),d.value}getByKey(a){const d=this.data[a];return d?d[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,d){if(!this.has(a))return this;const m=a.wrapped().key,v=d===void 0?0:this.data[m].indexOf(d),x=this.data[m][v];return this.data[m].splice(v,1),x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(x.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(a){const d=[];for(const m in this.data)for(const v of this.data[m])a(v.value)||d.push(v);for(const m of d)this.remove(m.value.tileID,m)}}class Ce{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,d,m){const v=String(d);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][v]=this.stateChanges[a][v]||{},o.e(this.stateChanges[a][v],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(const x in this.state[a])x!==v&&(this.deletedStates[a][x]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][v]===null){this.deletedStates[a][v]={};for(const x in this.state[a][v])m[x]||(this.deletedStates[a][v][x]=null)}else for(const x in m)this.deletedStates[a]&&this.deletedStates[a][v]&&this.deletedStates[a][v][x]===null&&delete this.deletedStates[a][v][x]}removeFeatureState(a,d,m){if(this.deletedStates[a]===null)return;const v=String(d);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&d!==void 0)this.deletedStates[a][v]!==null&&(this.deletedStates[a][v]=this.deletedStates[a][v]||{},this.deletedStates[a][v][m]=null);else if(d!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][v])for(m in this.deletedStates[a][v]={},this.stateChanges[a][v])this.deletedStates[a][v][m]=null;else this.deletedStates[a][v]=null;else this.deletedStates[a]=null}getState(a,d){const m=String(d),v=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const x=this.deletedStates[a][d];if(x===null)return{};for(const E in x)delete v[E]}return v}initializeTileState(a,d){a.setFeatureState(this.state,d)}coalesceChanges(a,d){const m={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const x={};for(const E in this.stateChanges[v])this.state[v][E]||(this.state[v][E]={}),o.e(this.state[v][E],this.stateChanges[v][E]),x[E]=this.state[v][E];m[v]=x}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const x={};if(this.deletedStates[v]===null)for(const E in this.state[v])x[E]={},this.state[v][E]={};else for(const E in this.deletedStates[v]){if(this.deletedStates[v][E]===null)this.state[v][E]={};else for(const P of Object.keys(this.deletedStates[v][E]))delete this.state[v][E][P];x[E]=this.state[v][E]}m[v]=m[v]||{},o.e(m[v],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const v in a)a[v].setFeatureState(m,d)}}class gt extends o.E{constructor(a,d,m){super(),this.id=a,this.dispatcher=m,this.on("data",v=>{v.dataType==="source"&&v.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&v.dataType==="source"&&v.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,x,E,P)=>{const L=new(me(x.type))(v,x,E,P);if(L.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${L.id}`);return L})(a,d,m,this),this._tiles={},this._cache=new bt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ce,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const a in this._tiles){const d=this._tiles[a];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,d){return this._source.loadTile(a,d)}_unloadTile(a){if(this._source.unloadTile)return this._source.unloadTile(a,()=>{})}_abortTile(a){this._source.abortTile&&this._source.abortTile(a,()=>{}),this._source.fire(new o.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const m=this._tiles[d];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Qe).map(a=>a.key)}getRenderableIds(a){const d=[];for(const m in this._tiles)this._isIdRenderable(m,a)&&d.push(this._tiles[m]);return a?d.sort((m,v)=>{const x=m.tileID,E=v.tileID,P=new o.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),L=new o.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-E.overscaledZ||L.y-P.y||L.x-P.x}).map(m=>m.tileID.key):d.map(m=>m.tileID).sort(Qe).map(m=>m.key)}hasRenderableParent(a){const d=this.findLoadedParent(a,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(a,d){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(d||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,d){const m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=d),this._loadTile(m,this._tileLoaded.bind(this,m,a,d)))}_tileLoaded(a,d,m,v){if(v)return a.state="errored",void(v.status!==404?this._source.fire(new o.j(v,{tile:a})):this.update(this.transform,this.terrain));a.timeAdded=o.h.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(d,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const d=this.getRenderableIds();for(let v=0;v<d.length;v++){const x=d[v];if(a.neighboringTiles&&a.neighboringTiles[x]){const E=this.getTileByID(x);m(a,E),m(E,a)}}function m(v,x){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let E=x.tileID.canonical.x-v.tileID.canonical.x;const P=x.tileID.canonical.y-v.tileID.canonical.y,L=Math.pow(2,v.tileID.canonical.z),z=x.tileID.key;E===0&&P===0||Math.abs(P)>1||(Math.abs(E)>1&&(Math.abs(E+L)===1?E+=L:Math.abs(E-L)===1&&(E-=L)),x.dem&&v.dem&&(v.dem.backfillBorder(x.dem,E,P),v.neighboringTiles&&v.neighboringTiles[z]&&(v.neighboringTiles[z].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,d,m,v){for(const x in this._tiles){let E=this._tiles[x];if(v[x]||!E.hasData()||E.tileID.overscaledZ<=d||E.tileID.overscaledZ>m)continue;let P=E.tileID;for(;E&&E.tileID.overscaledZ>d+1;){const z=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[z.key],E&&E.hasData()&&(P=z)}let L=P;for(;L.overscaledZ>d;)if(L=L.scaledTo(L.overscaledZ-1),a[L.key]){v[P.key]=P;break}}}findLoadedParent(a,d){if(a.key in this._loadedParentTiles){const m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=a.overscaledZ-1;m>=d;m--){const v=a.scaledTo(m),x=this._getLoadedTile(v);if(x)return x}}_getLoadedTile(a){const d=this._tiles[a.key];return d&&d.hasData()?d:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const d=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,v=Math.floor(d*m*(this._maxTileCacheZoomLevels===null?o.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(x)}handleWrapJump(a){const d=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,d){const m={};for(const v in this._tiles){const x=this._tiles[v];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+d),m[x.tileID.key]=x}this._tiles=m;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}update(a,d){if(this.transform=a,this.terrain=d,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(V=>new o.O(V.canonical.z,V.wrap,V.canonical.z,V.canonical.x,V.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(m=m.filter(V=>this._source.hasTile(V)))):m=[];const v=a.coveringZoomLevel(this._source),x=Math.max(v-gt.maxOverzooming,this._source.minzoom),E=Math.max(v+gt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const V={};for(const U of m)if(U.canonical.z>this._source.minzoom){const Q=U.scaledTo(U.canonical.z-1);V[Q.key]=Q;const he=U.scaledTo(Math.max(this._source.minzoom,Math.min(U.canonical.z,5)));V[he.key]=he}m=m.concat(Object.values(V))}const P=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,P&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const L=this._updateRetainedTiles(m,v);if(lt(this._source.type)){const V={},U={},Q=Object.keys(L),he=o.h.now();for(const de of Q){const ge=L[de],ce=this._tiles[de];if(!ce||ce.fadeEndTime!==0&&ce.fadeEndTime<=he)continue;const De=this.findLoadedParent(ge,x);De&&(this._addTile(De.tileID),V[De.tileID.key]=De.tileID),U[de]=ge}this._retainLoadedChildren(U,v,E,L);for(const de in V)L[de]||(this._coveredTiles[de]=!0,L[de]=V[de]);if(d){const de={},ge={};for(const ce of m)this._tiles[ce.key].hasData()?de[ce.key]=ce:ge[ce.key]=ce;for(const ce in ge){const De=ge[ce].children(this._source.maxzoom);this._tiles[De[0].key]&&this._tiles[De[1].key]&&this._tiles[De[2].key]&&this._tiles[De[3].key]&&(de[De[0].key]=L[De[0].key]=De[0],de[De[1].key]=L[De[1].key]=De[1],de[De[2].key]=L[De[2].key]=De[2],de[De[3].key]=L[De[3].key]=De[3],delete ge[ce])}for(const ce in ge){const De=this.findLoadedParent(ge[ce],this._source.minzoom);if(De){de[De.tileID.key]=L[De.tileID.key]=De.tileID;for(const je in de)de[je].isChildOf(De.tileID)&&delete de[je]}}for(const ce in this._tiles)de[ce]||(this._coveredTiles[ce]=!0)}}for(const V in L)this._tiles[V].clearFadeHold();const z=o.ab(this._tiles,L);for(const V of z){const U=this._tiles[V];U.hasSymbolBuckets&&!U.holdingForFade()?U.setHoldDuration(this.map._fadeDuration):U.hasSymbolBuckets&&!U.symbolFadeFinished()||this._removeTile(V)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,d){const m={},v={},x=Math.max(d-gt.maxOverzooming,this._source.minzoom),E=Math.max(d+gt.maxUnderzooming,this._source.minzoom),P={};for(const L of a){const z=this._addTile(L);m[L.key]=L,z.hasData()||d<this._source.maxzoom&&(P[L.key]=L)}this._retainLoadedChildren(P,d,E,m);for(const L of a){let z=this._tiles[L.key];if(z.hasData())continue;if(d+1>this._source.maxzoom){const U=L.children(this._source.maxzoom)[0],Q=this.getTile(U);if(Q&&Q.hasData()){m[U.key]=U;continue}}else{const U=L.children(this._source.maxzoom);if(m[U[0].key]&&m[U[1].key]&&m[U[2].key]&&m[U[3].key])continue}let V=z.wasRequested();for(let U=L.overscaledZ-1;U>=x;--U){const Q=L.scaledTo(U);if(v[Q.key])break;if(v[Q.key]=!0,z=this.getTile(Q),!z&&V&&(z=this._addTile(Q)),z){const he=z.hasData();if((V||he)&&(m[Q.key]=Q),V=z.wasRequested(),he)break}}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const d=[];let m,v=this._tiles[a].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}d.push(v.key);const x=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(x),m)break;v=x}for(const x of d)this._loadedParentTiles[x]=m}}_addTile(a){let d=this._tiles[a.key];if(d)return d;d=this._cache.getAndRemove(a),d&&(this._setTileReloadTimer(a.key,d),d.tileID=a,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,d)));const m=d;return d||(d=new pt(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,a.key,d.state))),d.uses++,this._tiles[a.key]=d,m||this._source.fire(new o.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(a,d){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const m=d.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){const d=this._tiles[a];d&&(d.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,d,m){const v=[],x=this.transform;if(!x)return v;const E=m?x.getCameraQueryGeometry(a):a,P=a.map(de=>x.pointCoordinate(de,this.terrain)),L=E.map(de=>x.pointCoordinate(de,this.terrain)),z=this.getIds();let V=1/0,U=1/0,Q=-1/0,he=-1/0;for(const de of L)V=Math.min(V,de.x),U=Math.min(U,de.y),Q=Math.max(Q,de.x),he=Math.max(he,de.y);for(let de=0;de<z.length;de++){const ge=this._tiles[z[de]];if(ge.holdingForFade())continue;const ce=ge.tileID,De=Math.pow(2,x.zoom-ge.tileID.overscaledZ),je=d*ge.queryPadding*o.N/ge.tileSize/De,xe=[ce.getTilePoint(new o.U(V,U)),ce.getTilePoint(new o.U(Q,he))];if(xe[0].x-je<o.N&&xe[0].y-je<o.N&&xe[1].x+je>=0&&xe[1].y+je>=0){const Le=P.map(Xe=>ce.getTilePoint(Xe)),Ze=L.map(Xe=>ce.getTilePoint(Xe));v.push({tile:ge,tileID:ce,queryGeometry:Le,cameraQueryGeometry:Ze,scale:De})}}return v}getVisibleCoordinates(a){const d=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(const m of d)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(lt(this._source.type)){const a=o.h.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=a)return!0}return!1}setFeatureState(a,d,m){this._state.updateState(a=a||"_geojsonTileLayer",d,m)}removeFeatureState(a,d,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",d,m)}getFeatureState(a,d){return this._state.getState(a=a||"_geojsonTileLayer",d)}setDependencies(a,d,m){const v=this._tiles[a];v&&v.setDependencies(d,m)}reloadTilesForDependencies(a,d){for(const m in this._tiles)this._tiles[m].hasDependency(a,d)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,d))}}function Qe(_,a){const d=Math.abs(2*_.wrap)-+(_.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return _.overscaledZ-a.overscaledZ||m-d||a.canonical.y-_.canonical.y||a.canonical.x-_.canonical.x}function lt(_){return _==="raster"||_==="image"||_==="video"}gt.maxOverzooming=10,gt.maxUnderzooming=3;const Et="mapboxgl_preloaded_worker_pool";class It{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<It.workerCount;)this.workers.push(new Worker(o.c.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Et]}numActive(){return Object.keys(this.active).length}}const an=Math.floor(o.h.hardwareConcurrency/2);let sn;function On(){return sn||(sn=new It),sn}It.workerCount=o.ac(globalThis)?Math.max(Math.min(an,3),1):1;class _n{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ad(a,0,1);let d=1,m=this._distances[d];const v=a*this.paddedLength+this.padding;for(;m<v&&d<this._distances.length;)m=this._distances[++d];const x=d-1,E=this._distances[x],P=m-E,L=P>0?(v-E)/P:0;return this.points[x].mult(1-L).add(this.points[d].mult(L))}}function $n(_,a){let d=!0;return _==="always"||_!=="never"&&a!=="never"||(d=!1),d}class ur{constructor(a,d,m){const v=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(d/m);for(let E=0;E<this.xCellCount*this.yCellCount;E++)v.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,m,v,x){this._forEachCell(d,m,v,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(x)}insertCircle(a,d,m,v){this._forEachCell(d-v,m-v,d+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(m),this.circles.push(v)}_insertBoxCell(a,d,m,v,x,E){this.boxCells[x].push(E)}_insertCircleCell(a,d,m,v,x,E){this.circleCells[x].push(E)}_query(a,d,m,v,x,E,P){if(m<0||a>this.width||v<0||d>this.height)return[];const L=[];if(a<=0&&d<=0&&this.width<=m&&this.height<=v){if(x)return[{key:null,x1:a,y1:d,x2:m,y2:v}];for(let z=0;z<this.boxKeys.length;z++)L.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const V=this.circles[3*z],U=this.circles[3*z+1],Q=this.circles[3*z+2];L.push({key:this.circleKeys[z],x1:V-Q,y1:U-Q,x2:V+Q,y2:U+Q})}}else this._forEachCell(a,d,m,v,this._queryCell,L,{hitTest:x,overlapMode:E,seenUids:{box:{},circle:{}}},P);return L}query(a,d,m,v){return this._query(a,d,m,v,!1,null)}hitTest(a,d,m,v,x,E){return this._query(a,d,m,v,!0,x,E).length>0}hitTestCircle(a,d,m,v,x){const E=a-m,P=a+m,L=d-m,z=d+m;if(P<0||E>this.width||z<0||L>this.height)return!1;const V=[];return this._forEachCell(E,L,P,z,this._queryCellCircle,V,{hitTest:!0,overlapMode:v,circle:{x:a,y:d,radius:m},seenUids:{box:{},circle:{}}},x),V.length>0}_queryCell(a,d,m,v,x,E,P,L){const{seenUids:z,hitTest:V,overlapMode:U}=P,Q=this.boxCells[x];if(Q!==null){const de=this.bboxes;for(const ge of Q)if(!z.box[ge]){z.box[ge]=!0;const ce=4*ge,De=this.boxKeys[ge];if(a<=de[ce+2]&&d<=de[ce+3]&&m>=de[ce+0]&&v>=de[ce+1]&&(!L||L(De))&&(!V||!$n(U,De.overlapMode))&&(E.push({key:De,x1:de[ce],y1:de[ce+1],x2:de[ce+2],y2:de[ce+3]}),V))return!0}}const he=this.circleCells[x];if(he!==null){const de=this.circles;for(const ge of he)if(!z.circle[ge]){z.circle[ge]=!0;const ce=3*ge,De=this.circleKeys[ge];if(this._circleAndRectCollide(de[ce],de[ce+1],de[ce+2],a,d,m,v)&&(!L||L(De))&&(!V||!$n(U,De.overlapMode))){const je=de[ce],xe=de[ce+1],Le=de[ce+2];if(E.push({key:De,x1:je-Le,y1:xe-Le,x2:je+Le,y2:xe+Le}),V)return!0}}}return!1}_queryCellCircle(a,d,m,v,x,E,P,L){const{circle:z,seenUids:V,overlapMode:U}=P,Q=this.boxCells[x];if(Q!==null){const de=this.bboxes;for(const ge of Q)if(!V.box[ge]){V.box[ge]=!0;const ce=4*ge,De=this.boxKeys[ge];if(this._circleAndRectCollide(z.x,z.y,z.radius,de[ce+0],de[ce+1],de[ce+2],de[ce+3])&&(!L||L(De))&&!$n(U,De.overlapMode))return E.push(!0),!0}}const he=this.circleCells[x];if(he!==null){const de=this.circles;for(const ge of he)if(!V.circle[ge]){V.circle[ge]=!0;const ce=3*ge,De=this.circleKeys[ge];if(this._circlesCollide(de[ce],de[ce+1],de[ce+2],z.x,z.y,z.radius)&&(!L||L(De))&&!$n(U,De.overlapMode))return E.push(!0),!0}}}_forEachCell(a,d,m,v,x,E,P,L){const z=this._convertToXCellCoord(a),V=this._convertToYCellCoord(d),U=this._convertToXCellCoord(m),Q=this._convertToYCellCoord(v);for(let he=z;he<=U;he++)for(let de=V;de<=Q;de++)if(x.call(this,a,d,m,v,this.xCellCount*de+he,E,P,L))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,m,v,x,E){const P=v-a,L=x-d,z=m+E;return z*z>P*P+L*L}_circleAndRectCollide(a,d,m,v,x,E,P){const L=(E-v)/2,z=Math.abs(a-(v+L));if(z>L+m)return!1;const V=(P-x)/2,U=Math.abs(d-(x+V));if(U>V+m)return!1;if(z<=L||U<=V)return!0;const Q=z-L,he=U-V;return Q*Q+he*he<=m*m}}function vt(_,a,d,m,v){const x=o.Z();return a?(o.a0(x,x,[1/v,1/v,1]),d||o.ae(x,x,m.angle)):o.a1(x,m.labelPlaneMatrix,_),x}function xi(_,a,d,m,v){if(a){const x=o.af(_);return o.a0(x,x,[v,v,1]),d||o.ae(x,x,-m.angle),x}return m.glCoordMatrix}function Tn(_,a,d){let m;d?(m=[_.x,_.y,d(_.x,_.y),1],o.ag(m,m,a)):(m=[_.x,_.y,0,1],ve(m,m,a));const v=m[3];return{point:new o.P(m[0]/v,m[1]/v),signedDistanceFromCamera:v}}function ma(_,a){return .5+_/a*.5}function hr(_,a){const d=_[0]/_[3],m=_[1]/_[3];return d>=-a[0]&&d<=a[0]&&m>=-a[1]&&m<=a[1]}function Tt(_,a,d,m,v,x,E,P,L,z){const V=m?_.textSizeData:_.iconSizeData,U=o.ah(V,d.transform.zoom),Q=[256/d.width*2+1,256/d.height*2+1],he=m?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;he.clear();const de=_.lineVertexArray,ge=m?_.text.placedSymbolArray:_.icon.placedSymbolArray,ce=d.transform.width/d.transform.height;let De=!1;for(let je=0;je<ge.length;je++){const xe=ge.get(je);if(xe.hidden||xe.writingMode===o.ai.vertical&&!De){oe(xe.numGlyphs,he);continue}let Le;if(De=!1,z?(Le=[xe.anchorX,xe.anchorY,z(xe.anchorX,xe.anchorY),1],o.ag(Le,Le,a)):(Le=[xe.anchorX,xe.anchorY,0,1],ve(Le,Le,a)),!hr(Le,Q)){oe(xe.numGlyphs,he);continue}const Ze=ma(d.transform.cameraToCenterDistance,Le[3]),Xe=o.aj(V,U,xe),rt=E?Xe/Ze:Xe*Ze,xt=new o.P(xe.anchorX,xe.anchorY),mt=Tn(xt,v,z).point,At={projections:{},offsets:{}},Yt=Ni(xe,rt,!1,P,a,v,x,_.glyphOffsetArray,de,he,mt,xt,At,ce,L,z);De=Yt.useVertical,(Yt.notEnoughRoom||De||Yt.needsFlipping&&Ni(xe,rt,!0,P,a,v,x,_.glyphOffsetArray,de,he,mt,xt,At,ce,L,z).notEnoughRoom)&&oe(xe.numGlyphs,he)}m?_.text.dynamicLayoutVertexBuffer.updateData(he):_.icon.dynamicLayoutVertexBuffer.updateData(he)}function vn(_,a,d,m,v,x,E,P,L,z,V,U,Q){const he=P.glyphStartIndex+P.numGlyphs,de=P.lineStartIndex,ge=P.lineStartIndex+P.lineLength,ce=a.getoffsetX(P.glyphStartIndex),De=a.getoffsetX(he-1),je=H(_*ce,d,m,v,x,E,P.segment,de,ge,L,z,V,U,Q);if(!je)return null;const xe=H(_*De,d,m,v,x,E,P.segment,de,ge,L,z,V,U,Q);return xe?{first:je,last:xe}:null}function mn(_,a,d,m){return _===o.ai.horizontal&&Math.abs(d.y-a.y)>Math.abs(d.x-a.x)*m?{useVertical:!0}:(_===o.ai.vertical?a.y<d.y:a.x>d.x)?{needsFlipping:!0}:null}function Ni(_,a,d,m,v,x,E,P,L,z,V,U,Q,he,de,ge){const ce=a/24,De=_.lineOffsetX*ce,je=_.lineOffsetY*ce;let xe;if(_.numGlyphs>1){const Le=_.glyphStartIndex+_.numGlyphs,Ze=_.lineStartIndex,Xe=_.lineStartIndex+_.lineLength,rt=vn(ce,P,De,je,d,V,U,_,L,x,Q,de,ge);if(!rt)return{notEnoughRoom:!0};const xt=Tn(rt.first.point,E,ge).point,mt=Tn(rt.last.point,E,ge).point;if(m&&!d){const At=mn(_.writingMode,xt,mt,he);if(At)return At}xe=[rt.first];for(let At=_.glyphStartIndex+1;At<Le-1;At++)xe.push(H(ce*P.getoffsetX(At),De,je,d,V,U,_.segment,Ze,Xe,L,x,Q,de,ge));xe.push(rt.last)}else{if(m&&!d){const Ze=Tn(U,v,ge).point,Xe=_.lineStartIndex+_.segment+1,rt=new o.P(L.getx(Xe),L.gety(Xe)),xt=Tn(rt,v,ge),mt=xt.signedDistanceFromCamera>0?xt.point:ss(U,rt,Ze,1,v,ge),At=mn(_.writingMode,Ze,mt,he);if(At)return At}const Le=H(ce*P.getoffsetX(_.glyphStartIndex),De,je,d,V,U,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,L,x,Q,de,ge);if(!Le)return{notEnoughRoom:!0};xe=[Le]}for(const Le of xe)o.ak(z,Le.point,Le.angle);return{}}function ss(_,a,d,m,v,x){const E=Tn(_.add(_.sub(a)._unit()),v,x).point,P=d.sub(E);return d.add(P._mult(m/P.mag()))}function bn(_,a){const{projectionCache:d,lineVertexArray:m,labelPlaneMatrix:v,tileAnchorPoint:x,distanceFromAnchor:E,getElevation:P,previousVertex:L,direction:z,absOffsetX:V}=a;if(d.projections[_])return d.projections[_];const U=new o.P(m.getx(_),m.gety(_)),Q=Tn(U,v,P);if(Q.signedDistanceFromCamera>0)return d.projections[_]=Q.point,Q.point;const he=_-z;return ss(E===0?x:new o.P(m.getx(he),m.gety(he)),U,L,V-E+1,v,P)}function Ds(_,a,d){return _._unit()._perp()._mult(a*d)}function pe(_,a,d,m,v,x,E,P){const{projectionCache:L,direction:z}=P;if(L.offsets[_])return L.offsets[_];const V=d.add(a);if(_+z<m||_+z>=v)return L.offsets[_]=V,V;const U=bn(_+z,P),Q=Ds(U.sub(d),E,z),he=d.add(Q),de=U.add(Q);return L.offsets[_]=o.al(x,V,he,de)||V,L.offsets[_]}function H(_,a,d,m,v,x,E,P,L,z,V,U,Q,he){const de=m?_-a:_+a;let ge=de>0?1:-1,ce=0;m&&(ge*=-1,ce=Math.PI),ge<0&&(ce+=Math.PI);let De,je,xe=ge>0?P+E:P+E+1,Le=v,Ze=v,Xe=0,rt=0;const xt=Math.abs(de),mt=[];let At;for(;Xe+rt<=xt;){if(xe+=ge,xe<P||xe>=L)return null;Xe+=rt,Ze=Le,je=De;const Ot={projectionCache:U,lineVertexArray:z,labelPlaneMatrix:V,tileAnchorPoint:x,distanceFromAnchor:Xe,getElevation:he,previousVertex:Ze,direction:ge,absOffsetX:xt};if(Le=bn(xe,Ot),d===0)mt.push(Ze),At=Le.sub(Ze);else{let ln;const Kt=Le.sub(Ze);ln=Kt.mag()===0?Ds(bn(xe+ge,Ot).sub(Le),d,ge):Ds(Kt,d,ge),je||(je=Ze.add(ln)),De=pe(xe,ln,Le,P,L,je,d,Ot),mt.push(je),At=De.sub(je)}rt=At.mag()}const Yt=At._mult((xt-Xe)/rt)._add(je||Ze),Pn=ce+Math.atan2(Le.y-Ze.y,Le.x-Ze.x);return mt.push(Yt),{point:Yt,angle:Q?Pn:0,path:mt}}const X=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function oe(_,a){for(let d=0;d<_;d++){const m=a.length;a.resize(m+4),a.float32.set(X,3*m)}}function ve(_,a,d){const m=a[0],v=a[1];return _[0]=d[0]*m+d[4]*v+d[12],_[1]=d[1]*m+d[5]*v+d[13],_[3]=d[3]*m+d[7]*v+d[15],_}const be=100;class ze{constructor(a,d=new ur(a.width+200,a.height+200,25),m=new ur(a.width+200,a.height+200,25)){this.transform=a,this.grid=d,this.ignoredGrid=m,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+be,this.screenBottomBoundary=a.height+be,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,d,m,v,x,E){const P=this.projectAndGetPerspectiveRatio(v,a.anchorPointX,a.anchorPointY,E),L=m*P.perspectiveRatio,z=a.x1*L+P.point.x,V=a.y1*L+P.point.y,U=a.x2*L+P.point.x,Q=a.y2*L+P.point.y;return!this.isInsideGrid(z,V,U,Q)||d!=="always"&&this.grid.hitTest(z,V,U,Q,d,x)||P.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[z,V,U,Q],offscreen:this.isOffscreen(z,V,U,Q)}}placeCollisionCircles(a,d,m,v,x,E,P,L,z,V,U,Q,he,de){const ge=[],ce=new o.P(d.anchorX,d.anchorY),De=Tn(ce,E,de),je=ma(this.transform.cameraToCenterDistance,De.signedDistanceFromCamera),xe=(V?x/je:x*je)/o.ap,Le=Tn(ce,P,de).point,Ze=vn(xe,v,d.lineOffsetX*xe,d.lineOffsetY*xe,!1,Le,ce,d,m,P,{projections:{},offsets:{}},!1,de);let Xe=!1,rt=!1,xt=!0;if(Ze){const mt=.5*Q*je+he,At=new o.P(-100,-100),Yt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Pn=new _n,Ot=Ze.first,ln=Ze.last;let Kt=[];for(let Sn=Ot.path.length-1;Sn>=1;Sn--)Kt.push(Ot.path[Sn]);for(let Sn=1;Sn<ln.path.length;Sn++)Kt.push(ln.path[Sn]);const tr=2.5*mt;if(L){const Sn=Kt.map(Dn=>Tn(Dn,L,de));Kt=Sn.some(Dn=>Dn.signedDistanceFromCamera<=0)?[]:Sn.map(Dn=>Dn.point)}let In=[];if(Kt.length>0){const Sn=Kt[0].clone(),Dn=Kt[0].clone();for(let qr=1;qr<Kt.length;qr++)Sn.x=Math.min(Sn.x,Kt[qr].x),Sn.y=Math.min(Sn.y,Kt[qr].y),Dn.x=Math.max(Dn.x,Kt[qr].x),Dn.y=Math.max(Dn.y,Kt[qr].y);In=Sn.x>=At.x&&Dn.x<=Yt.x&&Sn.y>=At.y&&Dn.y<=Yt.y?[Kt]:Dn.x<At.x||Sn.x>Yt.x||Dn.y<At.y||Sn.y>Yt.y?[]:o.am([Kt],At.x,At.y,Yt.x,Yt.y)}for(const Sn of In){Pn.reset(Sn,.25*mt);let Dn=0;Dn=Pn.length<=.5*mt?1:Math.ceil(Pn.paddedLength/tr)+1;for(let qr=0;qr<Dn;qr++){const mr=qr/Math.max(Dn-1,1),Ci=Pn.lerp(mr),ci=Ci.x+be,Zr=Ci.y+be;ge.push(ci,Zr,mt,0);const ba=ci-mt,_r=Zr-mt,ls=ci+mt,cs=Zr+mt;if(xt=xt&&this.isOffscreen(ba,_r,ls,cs),rt=rt||this.isInsideGrid(ba,_r,ls,cs),a!=="always"&&this.grid.hitTestCircle(ci,Zr,mt,a,U)&&(Xe=!0,!z))return{circles:[],offscreen:!1,collisionDetected:Xe}}}}return{circles:!z&&Xe||!rt||je<this.perspectiveRatioCutoff?[]:ge,offscreen:xt,collisionDetected:Xe}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let m=1/0,v=1/0,x=-1/0,E=-1/0;for(const V of a){const U=new o.P(V.x+be,V.y+be);m=Math.min(m,U.x),v=Math.min(v,U.y),x=Math.max(x,U.x),E=Math.max(E,U.y),d.push(U)}const P=this.grid.query(m,v,x,E).concat(this.ignoredGrid.query(m,v,x,E)),L={},z={};for(const V of P){const U=V.key;if(L[U.bucketInstanceId]===void 0&&(L[U.bucketInstanceId]={}),L[U.bucketInstanceId][U.featureIndex])continue;const Q=[new o.P(V.x1,V.y1),new o.P(V.x2,V.y1),new o.P(V.x2,V.y2),new o.P(V.x1,V.y2)];o.an(d,Q)&&(L[U.bucketInstanceId][U.featureIndex]=!0,z[U.bucketInstanceId]===void 0&&(z[U.bucketInstanceId]=[]),z[U.bucketInstanceId].push(U.featureIndex))}return z}insertCollisionBox(a,d,m,v,x,E){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:x,collisionGroupID:E,overlapMode:d},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,m,v,x,E){const P=m?this.ignoredGrid:this.grid,L={bucketInstanceId:v,featureIndex:x,collisionGroupID:E,overlapMode:d};for(let z=0;z<a.length;z+=4)P.insertCircle(L,a[z],a[z+1],a[z+2])}projectAndGetPerspectiveRatio(a,d,m,v){let x;return v?(x=[d,m,v(d,m),1],o.ag(x,x,a)):(x=[d,m,0,1],ve(x,x,a)),{point:new o.P((x[0]/x[3]+1)/2*this.transform.width+be,(-x[1]/x[3]+1)/2*this.transform.height+be),perspectiveRatio:.5+this.transform.cameraToCenterDistance/x[3]*.5}}isOffscreen(a,d,m,v){return m<be||a>=this.screenRightBoundary||v<be||d>this.screenBottomBoundary}isInsideGrid(a,d,m,v){return m>=0&&a<this.gridRightBoundary&&v>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const a=o.ao([]);return o.$(a,a,[-100,-100,0]),a}}function Ee(_,a,d){return a*(o.N/(_.tileSize*Math.pow(2,d-_.tileID.overscaledZ)))}class Se{constructor(a,d,m,v){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):v&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Re{constructor(a,d,m,v,x){this.text=new Se(a?a.text:null,d,m,x),this.icon=new Se(a?a.icon:null,d,v,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class et{constructor(a,d,m){this.text=a,this.icon=d,this.skipFade=m}}class nt{constructor(){this.invProjMatrix=o.Z(),this.viewportMatrix=o.Z(),this.circles=[]}}class ut{constructor(a,d,m,v,x){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=x}}class tn{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[a]}}function dn(_,a,d,m,v){const{horizontalAlign:x,verticalAlign:E}=o.au(_);return new o.P(-(x-.5)*a+m[0]*v,-(E-.5)*d+m[1]*v)}function Wt(_,a,d,m,v,x){const{x1:E,x2:P,y1:L,y2:z,anchorPointX:V,anchorPointY:U}=_,Q=new o.P(a,d);return m&&Q._rotate(v?x:-x),{x1:E+Q.x,y1:L+Q.y,x2:P+Q.x,y2:z+Q.y,anchorPointX:V,anchorPointY:U}}class rn{constructor(a,d,m,v,x){this.transform=a.clone(),this.terrain=d,this.collisionIndex=new ze(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new tn(v),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,d,m,v){const x=m.getBucket(d),E=m.latestFeatureIndex;if(!x||!E||d.id!==x.layerIds[0])return;const P=m.collisionBoxArray,L=x.layers[0].layout,z=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),V=m.tileSize/o.N,U=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),Q=L.get("text-pitch-alignment")==="map",he=L.get("text-rotation-alignment")==="map",de=Ee(m,1,this.transform.zoom),ge=vt(U,Q,he,this.transform,de);let ce=null;if(Q){const je=xi(U,Q,he,this.transform,de);ce=o.a1([],this.transform.labelPlaneMatrix,je)}this.retainedQueryData[x.bucketInstanceId]=new ut(x.bucketInstanceId,E,x.sourceLayerIndex,x.index,m.tileID);const De={bucket:x,layout:L,posMatrix:U,textLabelPlaneMatrix:ge,labelToScreenMatrix:ce,scale:z,textPixelRatio:V,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:o.ah(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(v)for(const je of x.sortKeyRanges){const{sortKey:xe,symbolInstanceStart:Le,symbolInstanceEnd:Ze}=je;a.push({sortKey:xe,symbolInstanceStart:Le,symbolInstanceEnd:Ze,parameters:De})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:De})}attemptAnchorPlacement(a,d,m,v,x,E,P,L,z,V,U,Q,he,de,ge,ce){const De=o.aq[a.textAnchor],je=[a.textOffset0,a.textOffset1],xe=dn(De,m,v,je,x),Le=this.collisionIndex.placeCollisionBox(Wt(d,xe.x,xe.y,E,P,this.transform.angle),U,L,z,V.predicate,ce);if((!ge||this.collisionIndex.placeCollisionBox(Wt(ge,xe.x,xe.y,E,P,this.transform.angle),U,L,z,V.predicate,ce).box.length!==0)&&Le.box.length>0){let Ze;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID]&&this.prevPlacement.placements[Q.crossTileID].text&&(Ze=this.prevPlacement.variableOffsets[Q.crossTileID].anchor),Q.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Q.crossTileID]={textOffset:je,width:m,height:v,anchor:De,textBoxScale:x,prevAnchor:Ze},this.markUsedJustification(he,De,Q,de),he.allowVerticalPlacement&&(this.markUsedOrientation(he,de,Q),this.placedOrientations[Q.crossTileID]=de),{shift:xe,placedGlyphBoxes:Le}}}placeLayerBucketPart(a,d,m){const{bucket:v,layout:x,posMatrix:E,textLabelPlaneMatrix:P,labelToScreenMatrix:L,textPixelRatio:z,holdingForFade:V,collisionBoxArray:U,partiallyEvaluatedTextSize:Q,collisionGroup:he}=a.parameters,de=x.get("text-optional"),ge=x.get("icon-optional"),ce=o.ar(x,"text-overlap","text-allow-overlap"),De=ce==="always",je=o.ar(x,"icon-overlap","icon-allow-overlap"),xe=je==="always",Le=x.get("text-rotation-alignment")==="map",Ze=x.get("text-pitch-alignment")==="map",Xe=x.get("icon-text-fit")!=="none",rt=x.get("symbol-z-order")==="viewport-y",xt=De&&(xe||!v.hasIconData()||ge),mt=xe&&(De||!v.hasTextData()||de);!v.collisionArrays&&U&&v.deserializeCollisionBoxes(U);const At=this.retainedQueryData[v.bucketInstanceId].tileID,Yt=this.terrain?(Ot,ln)=>this.terrain.getElevation(At,Ot,ln):null,Pn=(Ot,ln)=>{var Kt,tr;if(d[Ot.crossTileID])return;if(V)return void(this.placements[Ot.crossTileID]=new et(!1,!1,!1));let In=!1,Sn=!1,Dn=!0,qr=null,mr={box:null,offscreen:null},Ci={box:null,offscreen:null},ci=null,Zr=null,ba=null,_r=0,ls=0,cs=0;ln.textFeatureIndex?_r=ln.textFeatureIndex:Ot.useRuntimeCollisionCircles&&(_r=Ot.featureIndex),ln.verticalTextFeatureIndex&&(ls=ln.verticalTextFeatureIndex);const po=ln.textBox;if(po){const Li=jr=>{let ui=o.ai.horizontal;if(v.allowVerticalPlacement&&!jr&&this.prevPlacement){const Qi=this.prevPlacement.placedOrientations[Ot.crossTileID];Qi&&(this.placedOrientations[Ot.crossTileID]=Qi,ui=Qi,this.markUsedOrientation(v,ui,Ot))}return ui},Ti=(jr,ui)=>{if(v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&ln.verticalTextBox){for(const Qi of v.writingModes)if(Qi===o.ai.vertical?(mr=ui(),Ci=mr):mr=jr(),mr&&mr.box&&mr.box.length)break}else mr=jr()},Ui=Ot.textAnchorOffsetStartIndex,Yo=Ot.textAnchorOffsetEndIndex;if(Yo===Ui){const jr=(ui,Qi)=>{const Hr=this.collisionIndex.placeCollisionBox(ui,ce,z,E,he.predicate,Yt);return Hr&&Hr.box&&Hr.box.length&&(this.markUsedOrientation(v,Qi,Ot),this.placedOrientations[Ot.crossTileID]=Qi),Hr};Ti(()=>jr(po,o.ai.horizontal),()=>{const ui=ln.verticalTextBox;return v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&ui?jr(ui,o.ai.vertical):{box:null,offscreen:null}}),Li(mr&&mr.box&&mr.box.length)}else{let jr=o.aq[(tr=(Kt=this.prevPlacement)===null||Kt===void 0?void 0:Kt.variableOffsets[Ot.crossTileID])===null||tr===void 0?void 0:tr.anchor];const ui=(Hr,Zo,Wu)=>{const fp=Hr.x2-Hr.x1,mp=Hr.y2-Hr.y1,py=Ot.textBoxScale,$h=Xe&&je==="never"?Zo:null;let us={box:[],offscreen:!1},Ko=ce==="never"?1:2,ds="never";jr&&Ko++;for(let Ma=0;Ma<Ko;Ma++){for(let hs=Ui;hs<Yo;hs++){const Uh=v.textAnchorOffsets.get(hs);if(jr&&Uh.textAnchor!==jr)continue;const zs=this.attemptAnchorPlacement(Uh,Hr,fp,mp,py,Le,Ze,z,E,he,ds,Ot,v,Wu,$h,Yt);if(zs&&(us=zs.placedGlyphBoxes,us&&us.box&&us.box.length))return In=!0,qr=zs.shift,us}jr?jr=null:ds=ce}return us};Ti(()=>ui(po,ln.iconBox,o.ai.horizontal),()=>{const Hr=ln.verticalTextBox;return v.allowVerticalPlacement&&!(mr&&mr.box&&mr.box.length)&&Ot.numVerticalGlyphVertices>0&&Hr?ui(Hr,ln.verticalIconBox,o.ai.vertical):{box:null,offscreen:null}}),mr&&(In=mr.box,Dn=mr.offscreen);const Qi=Li(mr&&mr.box);if(!In&&this.prevPlacement){const Hr=this.prevPlacement.variableOffsets[Ot.crossTileID];Hr&&(this.variableOffsets[Ot.crossTileID]=Hr,this.markUsedJustification(v,Hr.anchor,Ot,Qi))}}}if(ci=mr,In=ci&&ci.box&&ci.box.length>0,Dn=ci&&ci.offscreen,Ot.useRuntimeCollisionCircles){const Li=v.text.placedSymbolArray.get(Ot.centerJustifiedTextSymbolIndex),Ti=o.aj(v.textSizeData,Q,Li),Ui=x.get("text-padding");Zr=this.collisionIndex.placeCollisionCircles(ce,Li,v.lineVertexArray,v.glyphOffsetArray,Ti,E,P,L,m,Ze,he.predicate,Ot.collisionCircleDiameter,Ui,Yt),Zr.circles.length&&Zr.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),In=De||Zr.circles.length>0&&!Zr.collisionDetected,Dn=Dn&&Zr.offscreen}if(ln.iconFeatureIndex&&(cs=ln.iconFeatureIndex),ln.iconBox){const Li=Ti=>{const Ui=Xe&&qr?Wt(Ti,qr.x,qr.y,Le,Ze,this.transform.angle):Ti;return this.collisionIndex.placeCollisionBox(Ui,je,z,E,he.predicate,Yt)};Ci&&Ci.box&&Ci.box.length&&ln.verticalIconBox?(ba=Li(ln.verticalIconBox),Sn=ba.box.length>0):(ba=Li(ln.iconBox),Sn=ba.box.length>0),Dn=Dn&&ba.offscreen}const Wo=de||Ot.numHorizontalGlyphVertices===0&&Ot.numVerticalGlyphVertices===0,Bl=ge||Ot.numIconVertices===0;if(Wo||Bl?Bl?Wo||(Sn=Sn&&In):In=Sn&&In:Sn=In=Sn&&In,In&&ci&&ci.box&&this.collisionIndex.insertCollisionBox(ci.box,ce,x.get("text-ignore-placement"),v.bucketInstanceId,Ci&&Ci.box&&ls?ls:_r,he.ID),Sn&&ba&&this.collisionIndex.insertCollisionBox(ba.box,je,x.get("icon-ignore-placement"),v.bucketInstanceId,cs,he.ID),Zr&&(In&&this.collisionIndex.insertCollisionCircles(Zr.circles,ce,x.get("text-ignore-placement"),v.bucketInstanceId,_r,he.ID),m)){const Li=v.bucketInstanceId;let Ti=this.collisionCircleArrays[Li];Ti===void 0&&(Ti=this.collisionCircleArrays[Li]=new nt);for(let Ui=0;Ui<Zr.circles.length;Ui+=4)Ti.circles.push(Zr.circles[Ui+0]),Ti.circles.push(Zr.circles[Ui+1]),Ti.circles.push(Zr.circles[Ui+2]),Ti.circles.push(Zr.collisionDetected?1:0)}if(Ot.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Ot.crossTileID]=new et(In||xt,Sn||mt,Dn||v.justReloaded),d[Ot.crossTileID]=!0};if(rt){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Ot=v.getSortedSymbolIndexes(this.transform.angle);for(let ln=Ot.length-1;ln>=0;--ln){const Kt=Ot[ln];Pn(v.symbolInstances.get(Kt),v.collisionArrays[Kt])}}else for(let Ot=a.symbolInstanceStart;Ot<a.symbolInstanceEnd;Ot++)Pn(v.symbolInstances.get(Ot),v.collisionArrays[Ot]);if(m&&v.bucketInstanceId in this.collisionCircleArrays){const Ot=this.collisionCircleArrays[v.bucketInstanceId];o.as(Ot.invProjMatrix,E),Ot.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}markUsedJustification(a,d,m,v){let x;x=v===o.ai.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.at(d)];const E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const P of E)P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=x>=0&&P!==x?0:m.crossTileID)}markUsedOrientation(a,d,m){const v=d===o.ai.horizontal||d===o.ai.horizontalOnly?d:0,x=d===o.ai.vertical?d:0,E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const P of E)a.text.placedSymbolArray.get(P).placedOrientation=v;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const v=d?d.symbolFadeChange(a):1,x=d?d.opacities:{},E=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(const L in this.placements){const z=this.placements[L],V=x[L];V?(this.opacities[L]=new Re(V,v,z.text,z.icon),m=m||z.text!==V.text.placed||z.icon!==V.icon.placed):(this.opacities[L]=new Re(null,v,z.text,z.icon,z.skipFade),m=m||z.text||z.icon)}for(const L in x){const z=x[L];if(!this.opacities[L]){const V=new Re(z,v,!1,!1);V.isHidden()||(this.opacities[L]=V,m=m||z.text.placed||z.icon.placed)}}for(const L in E)this.variableOffsets[L]||!this.opacities[L]||this.opacities[L].isHidden()||(this.variableOffsets[L]=E[L]);for(const L in P)this.placedOrientations[L]||!this.opacities[L]||this.opacities[L].isHidden()||(this.placedOrientations[L]=P[L]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){const m={};for(const v of d){const x=v.getBucket(a);x&&v.latestFeatureIndex&&a.id===x.layerIds[0]&&this.updateBucketOpacities(x,m,v.collisionBoxArray)}}updateBucketOpacities(a,d,m){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const v=a.layers[0],x=v.layout,E=new Re(null,0,!1,!1,!0),P=x.get("text-allow-overlap"),L=x.get("icon-allow-overlap"),z=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),V=x.get("text-rotation-alignment")==="map",U=x.get("text-pitch-alignment")==="map",Q=x.get("icon-text-fit")!=="none",he=new Re(null,0,P&&(L||!a.hasIconData()||x.get("icon-optional")),L&&(P||!a.hasTextData()||x.get("text-optional")),!0);!a.collisionArrays&&m&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(m);const de=(ge,ce,De)=>{for(let je=0;je<ce/4;je++)ge.opacityVertexArray.emplaceBack(De);ge.hasVisibleVertices=ge.hasVisibleVertices||De!==Ta};for(let ge=0;ge<a.symbolInstances.length;ge++){const ce=a.symbolInstances.get(ge),{numHorizontalGlyphVertices:De,numVerticalGlyphVertices:je,crossTileID:xe}=ce;let Le=this.opacities[xe];d[xe]?Le=E:Le||(Le=he,this.opacities[xe]=Le),d[xe]=!0;const Ze=ce.numIconVertices>0,Xe=this.placedOrientations[ce.crossTileID],rt=Xe===o.ai.vertical,xt=Xe===o.ai.horizontal||Xe===o.ai.horizontalOnly;if(De>0||je>0){const mt=Si(Le.text);de(a.text,De,rt?Ta:mt),de(a.text,je,xt?Ta:mt);const At=Le.text.isHidden();[ce.rightJustifiedTextSymbolIndex,ce.centerJustifiedTextSymbolIndex,ce.leftJustifiedTextSymbolIndex].forEach(Ot=>{Ot>=0&&(a.text.placedSymbolArray.get(Ot).hidden=At||rt?1:0)}),ce.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ce.verticalPlacedTextSymbolIndex).hidden=At||xt?1:0);const Yt=this.variableOffsets[ce.crossTileID];Yt&&this.markUsedJustification(a,Yt.anchor,ce,Xe);const Pn=this.placedOrientations[ce.crossTileID];Pn&&(this.markUsedJustification(a,"left",ce,Pn),this.markUsedOrientation(a,Pn,ce))}if(Ze){const mt=Si(Le.icon),At=!(Q&&ce.verticalPlacedIconSymbolIndex&&rt);ce.placedIconSymbolIndex>=0&&(de(a.icon,ce.numIconVertices,At?mt:Ta),a.icon.placedSymbolArray.get(ce.placedIconSymbolIndex).hidden=Le.icon.isHidden()),ce.verticalPlacedIconSymbolIndex>=0&&(de(a.icon,ce.numVerticalIconVertices,At?Ta:mt),a.icon.placedSymbolArray.get(ce.verticalPlacedIconSymbolIndex).hidden=Le.icon.isHidden())}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const mt=a.collisionArrays[ge];if(mt){let At=new o.P(0,0);if(mt.textBox||mt.verticalTextBox){let Pn=!0;if(z){const Ot=this.variableOffsets[xe];Ot?(At=dn(Ot.anchor,Ot.width,Ot.height,Ot.textOffset,Ot.textBoxScale),V&&At._rotate(U?this.transform.angle:-this.transform.angle)):Pn=!1}mt.textBox&&pn(a.textCollisionBox.collisionVertexArray,Le.text.placed,!Pn||rt,At.x,At.y),mt.verticalTextBox&&pn(a.textCollisionBox.collisionVertexArray,Le.text.placed,!Pn||xt,At.x,At.y)}const Yt=!!(!xt&&mt.verticalIconBox);mt.iconBox&&pn(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,Yt,Q?At.x:0,Q?At.y:0),mt.verticalIconBox&&pn(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,!Yt,Q?At.x:0,Q?At.y:0)}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const ge=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=ge.invProjMatrix,a.placementViewportMatrix=ge.viewportMatrix,a.collisionCircleArray=ge.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){const m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function pn(_,a,d,m,v){_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0)}const Kn=Math.pow(2,25),sr=Math.pow(2,24),Un=Math.pow(2,17),Vn=Math.pow(2,16),Di=Math.pow(2,9),fr=Math.pow(2,8),ei=Math.pow(2,1);function Si(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const a=_.placed?1:0,d=Math.floor(127*_.opacity);return d*Kn+a*sr+d*Un+a*Vn+d*Di+a*fr+d*ei+a}const Ta=0;class Im{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,m,v,x){const E=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(E,v,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((P,L)=>P.sortKey-L.sortKey));this._currentPartIndex<E.length;)if(d.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,x())return!0;return!1}}class Cl{constructor(a,d,m,v,x,E,P,L){this.placement=new rn(a,d,E,P,L),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(a,d,m){const v=o.h.now(),x=()=>!this._forceFullPlacement&&o.h.now()-v>2;for(;this._currentPlacementIndex>=0;){const E=d[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=P)&&(!E.maxzoom||E.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new Im(E)),this._inProgressLayer.continuePlacement(m[E.source],this.placement,this._showCollisionBoxes,E,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const Tl=512/o.N/2;class Jv{constructor(a,d,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};const v=new Map;for(let x=0;x<d.length;x++){const E=d.get(x),P=E.key,L=v.get(P);L?L.push(E):v.set(P,[E])}for(const[x,E]of v){const P={positions:E.map(L=>({x:Math.floor(L.anchorX*Tl),y:Math.floor(L.anchorY*Tl)})),crossTileIDs:E.map(L=>L.crossTileID)};if(P.positions.length>128){const L=new o.av(P.positions.length,16,Uint16Array);for(const{x:z,y:V}of P.positions)L.add(z,V);L.finish(),delete P.positions,P.index=L}this._symbolsByKey[x]=P}}getScaledCoordinates(a,d){const{x:m,y:v,z:x}=this.tileID.canonical,{x:E,y:P,z:L}=d.canonical,z=Tl/Math.pow(2,L-x),V=(P*o.N+a.anchorY)*z,U=v*o.N*Tl;return{x:Math.floor((E*o.N+a.anchorX)*z-m*o.N*Tl),y:Math.floor(V-U)}}findMatches(a,d,m){const v=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let x=0;x<a.length;x++){const E=a.get(x);if(E.crossTileID)continue;const P=this._symbolsByKey[E.key];if(!P)continue;const L=this.getScaledCoordinates(E,d);if(P.index){const z=P.index.range(L.x-v,L.y-v,L.x+v,L.y+v).sort();for(const V of z){const U=P.crossTileIDs[V];if(!m[U]){m[U]=!0,E.crossTileID=U;break}}}else if(P.positions)for(let z=0;z<P.positions.length;z++){const V=P.positions[z],U=P.crossTileIDs[z];if(Math.abs(V.x-L.x)<=v&&Math.abs(V.y-L.y)<=v&&!m[U]){m[U]=!0,E.crossTileID=U;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class er{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class eh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const d=Math.round((a-this.lng)/360);if(d!==0)for(const m in this.indexes){const v=this.indexes[m],x={};for(const E in v){const P=v[E];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),x[P.tileID.key]=P}this.indexes[m]=x}this.lng=a}addBucket(a,d,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let x=0;x<d.symbolInstances.length;x++)d.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const v=this.usedCrossTileIDs[a.overscaledZ];for(const x in this.indexes){const E=this.indexes[x];if(Number(x)>a.overscaledZ)for(const P in E){const L=E[P];L.tileID.isChildOf(a)&&L.findMatches(d.symbolInstances,a,v)}else{const P=E[a.scaledTo(Number(x)).key];P&&P.findMatches(d.symbolInstances,a,v)}}for(let x=0;x<d.symbolInstances.length;x++){const E=d.symbolInstances.get(x);E.crossTileID||(E.crossTileID=m.generate(),v[E.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Jv(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(const m of d.getCrossTileIDsLists())for(const v of m)delete this.usedCrossTileIDs[a][v]}removeStaleBuckets(a){let d=!1;for(const m in this.indexes){const v=this.indexes[m];for(const x in v)a[v[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[x]),delete v[x],d=!0)}return d}}class _u{constructor(){this.layerIndexes={},this.crossTileIDs=new er,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,m){let v=this.layerIndexes[a.id];v===void 0&&(v=this.layerIndexes[a.id]=new eh);let x=!1;const E={};v.handleWrapJump(m);for(const P of d){const L=P.getBucket(a);L&&a.id===L.layerIds[0]&&(L.bucketInstanceId||(L.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(P.tileID,L,this.crossTileIDs)&&(x=!0),E[L.bucketInstanceId]=!0)}return v.removeStaleBuckets(E)&&(x=!0),x}pruneUnusedLayers(a){const d={};a.forEach(m=>{d[m]=!0});for(const m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}const Mi=(_,a)=>o.x(_,a&&a.filter(d=>d.identifier!=="source.canvas")),pa=o.F(o.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Qv=o.F(o.ax,["setCenter","setZoom","setBearing","setPitch"]),Aa=o.aw();class ki extends o.E{constructor(a,d={}){super(),this.map=a,this.dispatcher=new Je(On(),this,a._getMapId()),this.imageManager=new ee,this.imageManager.setEventedParent(this),this.glyphManager=new Te(a._requestManager,d.localIdeographFontFamily),this.lineAtlas=new Fe(256,512),this.crossTileSymbolIndex=new _u,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.az());const m=this;this._rtlTextPluginCallback=ki.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(x,E)=>{if(o.aA(x),E&&E.every(P=>P))for(const P in m.sourceCaches){const L=m.sourceCaches[P].getSource().type;L!=="vector"&&L!=="geojson"||m.sourceCaches[P].reload()}})}),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const x=this.sourceCaches[v.sourceId];if(!x)return;const E=x.getSource();if(E&&E.vectorLayerIds)for(const P in this._layers){const L=this._layers[P];L.source===E.id&&this._validateLayer(L)}})}loadURL(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const v=this.map._requestManager.transformRequest(a,N.Style);this._request=o.f(v,(x,E)=>{this._request=null,x?this.fire(new o.j(x)):E&&this._load(E,d,m)})}loadJSON(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),this._request=o.h.frame(()=>{this._request=null,d.validate=d.validate!==!1,this._load(a,d,m)})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(Aa,{validate:!1})}_load(a,d,m){var v;const x=d.transformStyle?d.transformStyle(m,a):a;if(!d.validate||!Mi(this,o.y(x))){this._loaded=!0,this.stylesheet=x;for(const E in x.sources)this.addSource(E,x.sources[E],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new Pe(this.stylesheet.light),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){const a=o.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",a),this._order=a.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of a){const m=o.aC(d);m.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=m}}_loadSprite(a,d=!1,m=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(v,x,E,P){const L=G(v),z=L.length,V=E>1?"@2x":"",U={},Q={},he={};for(const{id:de,url:ge}of L){const ce=x.transformRequest(x.normalizeSpriteURL(ge,V,".json"),N.SpriteJSON),De=`${de}_${ce.url}`;U[De]=o.f(ce,(Le,Ze)=>{delete U[De],Q[de]=Ze,$(P,Q,he,Le,z)});const je=x.transformRequest(x.normalizeSpriteURL(ge,V,".png"),N.SpriteImage),xe=`${de}_${je.url}`;U[xe]=F.getImage(je,(Le,Ze)=>{delete U[xe],he[de]=Ze,$(P,Q,he,Le,z)})}return{cancel(){for(const de of Object.values(U))de.cancel()}}}(a,this.map._requestManager,this.map.getPixelRatio(),(v,x)=>{if(this._spriteRequest=null,v)this.fire(new o.j(v));else if(x)for(const E in x){this._spritesImagesIds[E]=[];const P=this._spritesImagesIds[E]?this._spritesImagesIds[E].filter(L=>!(L in x)):[];for(const L of P)this.imageManager.removeImage(L),this._changedImages[L]=!0;for(const L in x[E]){const z=E==="default"?L:`${E}:${L}`;this._spritesImagesIds[E].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,x[E][L],!1):this.imageManager.addImage(z,x[E][L]),d&&(this._changedImages[z]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),m&&m(v)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(a){const d=this.sourceCaches[a.source];if(!d)return;const m=a.sourceLayer;if(!m)return;const v=d.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.j(new Error(`Source layer "${m}" does not exist on source "${v.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a){const d=this._serializedAllLayers();if(!a||a.length===0)return Object.values(d);const m=[];for(const v of a)d[v]&&m.push(d[v]);return m}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};const d=Object.keys(this._layers);for(const m of d){const v=this._layers[m];v.type!=="custom"&&(a[m]=v.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const d=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(v.length||x.length)&&this._updateWorkerLayers(v,x);for(const E in this._updatedSources){const P=this._updatedSources[E];if(P==="reload")this._reloadSource(E);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const m={};for(const v in this.sourceCaches){const x=this.sourceCaches[v];m[v]=x.used,x.used=!1}for(const v of this._order){const x=this._layers[v];x.recalculate(a,this._availableImages),!x.isHidden(a.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const v in m){const x=this.sourceCaches[v];m[v]!==x.used&&x.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(a),this.z=a.zoom,d&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(a),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,d={}){this._checkLoaded();const m=this.serialize();if(a=d.transformStyle?d.transformStyle(m,a):a,Mi(this,o.y(a)))return!1;(a=o.aD(a)).layers=o.aB(a.layers);const v=o.aE(m,a).filter(E=>!(E.command in Qv));if(v.length===0)return!1;const x=v.filter(E=>!(E.command in pa));if(x.length>0)throw new Error(`Unimplemented: ${x.map(E=>E.command).join(", ")}.`);for(const E of v)E.command!=="setTransition"&&this[E.command].apply(this,E.args);return this.stylesheet=a,this._serializedLayers=null,!0}addImage(a,d){if(this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,d),this._afterImageUpdated(a)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,d,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.y.source,`sources.${a}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const v=this.sourceCaches[a]=new gt(a,d,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:a})),v.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===a)return this.fire(new o.j(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));const d=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],d.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,d){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(d),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,d,m={}){this._checkLoaded();const v=a.id;if(this.getLayer(v))return void this.fire(new o.j(new Error(`Layer "${v}" already exists on this map.`)));let x;if(a.type==="custom"){if(Mi(this,o.aF(a)))return;x=o.aC(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(v,a.source),a=o.aD(a),a=o.e(a,{source:v})),this._validate(o.y.layer,`layers.${v}`,a,{arrayIndex:-1},m))return;x=o.aC(a),this._validateLayer(x),x.setEventedParent(this,{layer:{id:v}})}const E=d?this._order.indexOf(d):this._order.length;if(d&&E===-1)this.fire(new o.j(new Error(`Cannot add layer "${v}" before non-existing layer "${d}".`)));else{if(this._order.splice(E,0,v),this._layerOrderChanged=!0,this._layers[v]=x,this._removedLayers[v]&&x.source&&x.type!=="custom"){const P=this._removedLayers[v];delete this._removedLayers[v],P.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;const m=this._order.indexOf(a);this._order.splice(m,1);const v=d?this._order.indexOf(d):this._order.length;d&&v===-1?this.fire(new o.j(new Error(`Cannot move layer "${a}" before non-existing layer "${d}".`))):(this._order.splice(v,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const d=this._layers[a];if(!d)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${a}".`)));d.setEventedParent(null);const m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,d,m){this._checkLoaded();const v=this.getLayer(a);v?v.minzoom===d&&v.maxzoom===m||(d!=null&&(v.minzoom=d),m!=null&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,d,m={}){this._checkLoaded();const v=this.getLayer(a);if(v){if(!o.aG(v.filter,d))return d==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(o.y.filter,`layers.${v.id}.filter`,d,null,m)||(v.filter=o.aD(d),this._updateLayer(v)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.aD(this.getLayer(a).filter)}setLayoutProperty(a,d,m,v={}){this._checkLoaded();const x=this.getLayer(a);x?o.aG(x.getLayoutProperty(d),m)||(x.setLayoutProperty(d,m,v),this._updateLayer(x)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,d){const m=this.getLayer(a);if(m)return m.getLayoutProperty(d);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,d,m,v={}){this._checkLoaded();const x=this.getLayer(a);x?o.aG(x.getPaintProperty(d),m)||(x.setPaintProperty(d,m,v)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,d){return this.getLayer(a).getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();const m=a.source,v=a.sourceLayer,x=this.sourceCaches[m];if(x===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const E=x.getSource().type;E==="geojson"&&v?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||v?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(v,a.id,d)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,d){this._checkLoaded();const m=a.source,v=this.sourceCaches[m];if(v===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const x=v.getSource().type,E=x==="vector"?a.sourceLayer:void 0;x!=="vector"||E?d&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(E,a.id,d):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const d=a.source,m=a.sourceLayer,v=this.sourceCaches[d];if(v!==void 0)return v.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(m,a.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const a=o.aH(this.sourceCaches,x=>x.serialize()),d=this._serializeByIds(this._order),m=this.map.getTerrain()||void 0,v=this.stylesheet;return o.aI({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:a,layers:d,terrain:m},x=>x!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){const d=E=>this._layers[E].type==="fill-extrusion",m={},v=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P)){m[P]=E;for(const L of a){const z=L[P];if(z)for(const V of z)v.push(V)}}}v.sort((E,P)=>P.intersectionZ-E.intersectionZ);const x=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P))for(let L=v.length-1;L>=0;L--){const z=v[L].feature;if(m[z.layer.id]<E)break;x.push(z),v.pop()}else for(const L of a){const z=L[P];if(z)for(const V of z)x.push(V.feature)}}return x}queryRenderedFeatures(a,d,m){d&&d.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",d.filter,null,d);const v={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(const P of d.layers){const L=this._layers[P];if(!L)return this.fire(new o.j(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];v[L.source]=!0}}const x=[];d.availableImages=this._availableImages;const E=this._serializedAllLayers();for(const P in this.sourceCaches)d.layers&&!v[P]||x.push(Ye(this.sourceCaches[P],this._layers,E,a,d,m));return this.placement&&x.push(function(P,L,z,V,U,Q,he){const de={},ge=Q.queryRenderedSymbols(V),ce=[];for(const De of Object.keys(ge).map(Number))ce.push(he[De]);ce.sort(Ke);for(const De of ce){const je=De.featureIndex.lookupSymbolFeatures(ge[De.bucketInstanceId],L,De.bucketIndex,De.sourceLayerIndex,U.filter,U.layers,U.availableImages,P);for(const xe in je){const Le=de[xe]=de[xe]||[],Ze=je[xe];Ze.sort((Xe,rt)=>{const xt=De.featureSortOrder;if(xt){const mt=xt.indexOf(Xe.featureIndex);return xt.indexOf(rt.featureIndex)-mt}return rt.featureIndex-Xe.featureIndex});for(const Xe of Ze)Le.push(Xe)}}for(const De in de)de[De].forEach(je=>{const xe=je.feature,Le=z[P[De].source].getFeatureState(xe.layer["source-layer"],xe.id);xe.source=xe.layer.source,xe.layer["source-layer"]&&(xe.sourceLayer=xe.layer["source-layer"]),xe.state=Le});return de}(this._layers,E,this.sourceCaches,a,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(a,d){d&&d.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",d.filter,null,d);const m=this.sourceCaches[a];return m?function(v,x){const E=v.getRenderableIds().map(z=>v.getTileByID(z)),P=[],L={};for(let z=0;z<E.length;z++){const V=E[z],U=V.tileID.canonical.key;L[U]||(L[U]=!0,V.querySourceFeatures(P,x))}return P}(m,d):[]}addSourceType(a,d,m){return me(a)?m(new Error(`A source type called "${a}" already exists.`)):(((v,x)=>{ae[v]=x})(a,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:d.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();const m=this.light.getLight();let v=!1;for(const E in a)if(!o.aG(a[E],m[E])){v=!0;break}if(!v)return;const x={now:o.h.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,d),this.light.updateTransitions(x)}_validate(a,d,m,v,x={}){return(!x||x.validate!==!1)&&Mi(this,a.call(o.y,o.e({key:d,style:this.serialize(),value:m,styleSpec:o.v},v)))}_remove(a=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const m=this.sourceCaches[d];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const d in this.sourceCaches)this.sourceCaches[d].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,d,m,v,x=!1){let E=!1,P=!1;const L={};for(const z of this._order){const V=this._layers[z];if(V.type!=="symbol")continue;if(!L[V.source]){const Q=this.sourceCaches[V.source];L[V.source]=Q.getRenderableIds(!0).map(he=>Q.getTileByID(he)).sort((he,de)=>de.tileID.overscaledZ-he.tileID.overscaledZ||(he.tileID.isLessThan(de.tileID)?-1:1))}const U=this.crossTileSymbolIndex.addLayer(V,L[V.source],a.center.lng);E=E||U}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.h.now(),a.zoom))&&(this.pauseablePlacement=new Cl(a,this.map.terrain,this._order,x,d,m,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,L),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.h.now()),P=!0),E&&this.pauseablePlacement.placement.setStale()),P||E)for(const z of this._order){const V=this._layers[z];V.type==="symbol"&&this.placement.updateLayerOpacities(V,L[V.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.h.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d,m){this.imageManager.getImages(d.icons,m),this._updateTilesForChangedImages();const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(a,d,m){this.glyphManager.getGlyphs(d.stacks,m);const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,[""])}getResource(a,d,m){return o.m(d,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,d={}){this._checkLoaded(),a&&this._validate(o.y.glyphs,"glyphs",a,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,d,m={},v){this._checkLoaded();const x=[{id:a,url:d}],E=[...G(this.stylesheet.sprite),...x];this._validate(o.y.sprite,"sprite",E,null,m)||(this.stylesheet.sprite=E,this._loadSprite(x,!0,v))}removeSprite(a){this._checkLoaded();const d=G(this.stylesheet.sprite);if(d.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(const m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;d.splice(d.findIndex(m=>m.id===a),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return G(this.stylesheet.sprite)}setSprite(a,d={},m){this._checkLoaded(),a&&this._validate(o.y.sprite,"sprite",a,null,d)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}ki.registerForPluginStateChange=o.aK;var bu=o.Q([{name:"a_pos",type:"Int16",components:2}]),Al="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ar={prelude:Gn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Gn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Gn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Gn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Gn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Gn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Gn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Gn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Gn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Gn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Gn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Gn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Gn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Gn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Gn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Gn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Gn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Gn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Gn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Gn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Gn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Gn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Gn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Gn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Gn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Gn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Gn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Al),terrainDepth:Gn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Al),terrainCoords:Gn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Al)};function Gn(_,a){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),v=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=x?x.concat(v):v,P={};return{fragmentSource:_=_.replace(d,(L,z,V,U,Q)=>(P[Q]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${Q}
varying ${V} ${U} ${Q};
#else
uniform ${V} ${U} u_${Q};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Q}
    ${V} ${U} ${Q} = u_${Q};
#endif
`)),vertexSource:a=a.replace(d,(L,z,V,U,Q)=>{const he=U==="float"?"vec2":"vec4",de=Q.match(/color/)?"color":he;return P[Q]?z==="define"?`
#ifndef HAS_UNIFORM_u_${Q}
uniform lowp float u_${Q}_t;
attribute ${V} ${he} a_${Q};
varying ${V} ${U} ${Q};
#else
uniform ${V} ${U} u_${Q};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${Q}
    ${Q} = a_${Q};
#else
    ${V} ${U} ${Q} = u_${Q};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Q}
    ${Q} = unpack_mix_${de}(a_${Q}, u_${Q}_t);
#else
    ${V} ${U} ${Q} = u_${Q};
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_${Q}
uniform lowp float u_${Q}_t;
attribute ${V} ${he} a_${Q};
#else
uniform ${V} ${U} u_${Q};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${Q}
    ${V} ${U} ${Q} = a_${Q};
#else
    ${V} ${U} ${Q} = u_${Q};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Q}
    ${V} ${U} ${Q} = unpack_mix_${de}(a_${Q}, u_${Q}_t);
#else
    ${V} ${U} ${Q} = u_${Q};
#endif
`}),staticAttributes:m,staticUniforms:E}}class Vo{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,d,m,v,x,E,P,L,z){this.context=a;let V=this.boundPaintVertexBuffers.length!==v.length;for(let U=0;!V&&U<v.length;U++)this.boundPaintVertexBuffers[U]!==v[U]&&(V=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==m||V||this.boundIndexBuffer!==x||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==P||this.boundDynamicVertexBuffer2!==L||this.boundDynamicVertexBuffer3!==z?this.freshBind(d,m,v,x,E,P,L,z):(a.bindVertexArray.set(this.vao),P&&P.bind(),x&&x.dynamicDraw&&x.bind(),L&&L.bind(),z&&z.bind())}freshBind(a,d,m,v,x,E,P,L){const z=a.numAttributes,V=this.context,U=V.gl;this.vao&&this.destroy(),this.vao=V.createVertexArray(),V.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=L,d.enableAttributes(U,a);for(const Q of m)Q.enableAttributes(U,a);E&&E.enableAttributes(U,a),P&&P.enableAttributes(U,a),L&&L.enableAttributes(U,a),d.bind(),d.setVertexAttribPointers(U,a,x);for(const Q of m)Q.bind(),Q.setVertexAttribPointers(U,a,x);E&&(E.bind(),E.setVertexAttribPointers(U,a,x)),v&&v.bind(),P&&(P.bind(),P.setVertexAttribPointers(U,a,x)),L&&(L.bind(),L.setVertexAttribPointers(U,a,x)),V.currentNumAttributes=z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Or(_){const a=[];for(let d=0;d<_.length;d++){if(_[d]===null)continue;const m=_[d].split(" ");a.push(m.pop())}return a}class xu{constructor(a,d,m,v,x,E){const P=a.gl;this.program=P.createProgram();const L=Or(d.staticAttributes),z=m?m.getBinderAttributes():[],V=L.concat(z),U=Ar.prelude.staticUniforms?Or(Ar.prelude.staticUniforms):[],Q=d.staticUniforms?Or(d.staticUniforms):[],he=m?m.getBinderUniforms():[],de=U.concat(Q).concat(he),ge=[];for(const Xe of de)ge.indexOf(Xe)<0&&ge.push(Xe);const ce=m?m.defines():[];x&&ce.push("#define OVERDRAW_INSPECTOR;"),E&&ce.push("#define TERRAIN3D;");const De=ce.concat(Ar.prelude.fragmentSource,d.fragmentSource).join(`
`),je=ce.concat(Ar.prelude.vertexSource,d.vertexSource).join(`
`),xe=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(xe,De),P.compileShader(xe),!P.getShaderParameter(xe,P.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${P.getShaderInfoLog(xe)}`);P.attachShader(this.program,xe);const Le=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(Le,je),P.compileShader(Le),!P.getShaderParameter(Le,P.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${P.getShaderInfoLog(Le)}`);P.attachShader(this.program,Le),this.attributes={};const Ze={};this.numAttributes=V.length;for(let Xe=0;Xe<this.numAttributes;Xe++)V[Xe]&&(P.bindAttribLocation(this.program,Xe,V[Xe]),this.attributes[V[Xe]]=Xe);if(P.linkProgram(this.program),!P.getProgramParameter(this.program,P.LINK_STATUS))throw new Error(`Program failed to link: ${P.getProgramInfoLog(this.program)}`);P.deleteShader(Le),P.deleteShader(xe);for(let Xe=0;Xe<ge.length;Xe++){const rt=ge[Xe];if(rt&&!Ze[rt]){const xt=P.getUniformLocation(this.program,rt);xt&&(Ze[rt]=xt)}}this.fixedUniforms=v(a,Ze),this.terrainUniforms=((Xe,rt)=>({u_depth:new o.aL(Xe,rt.u_depth),u_terrain:new o.aL(Xe,rt.u_terrain),u_terrain_dim:new o.aM(Xe,rt.u_terrain_dim),u_terrain_matrix:new o.aN(Xe,rt.u_terrain_matrix),u_terrain_unpack:new o.aO(Xe,rt.u_terrain_unpack),u_terrain_exaggeration:new o.aM(Xe,rt.u_terrain_exaggeration)}))(a,Ze),this.binderUniforms=m?m.getUniforms(a,Ze):[]}draw(a,d,m,v,x,E,P,L,z,V,U,Q,he,de,ge,ce,De,je){const xe=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(v),a.setColorMode(x),a.setCullFace(E),L){a.activeTexture.set(xe.TEXTURE2),xe.bindTexture(xe.TEXTURE_2D,L.depthTexture),a.activeTexture.set(xe.TEXTURE3),xe.bindTexture(xe.TEXTURE_2D,L.texture);for(const Ze in this.terrainUniforms)this.terrainUniforms[Ze].set(L[Ze])}for(const Ze in this.fixedUniforms)this.fixedUniforms[Ze].set(P[Ze]);ge&&ge.setUniforms(a,this.binderUniforms,he,{zoom:de});let Le=0;switch(d){case xe.LINES:Le=2;break;case xe.TRIANGLES:Le=3;break;case xe.LINE_STRIP:Le=1}for(const Ze of Q.get()){const Xe=Ze.vaos||(Ze.vaos={});(Xe[z]||(Xe[z]=new Vo)).bind(a,this,V,ge?ge.getPaintVertexBuffers():[],U,Ze.vertexOffset,ce,De,je),xe.drawElements(d,Ze.primitiveLength*Le,xe.UNSIGNED_SHORT,Ze.primitiveOffset*Le*2)}}}function Ea(_,a,d){const m=1/Ee(d,1,a.transform.tileZoom),v=Math.pow(2,d.tileID.overscaledZ),x=d.tileSize*Math.pow(2,a.transform.tileZoom)/v,E=x*(d.tileID.canonical.x+d.tileID.wrap*v),P=x*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[m,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[E>>16,P>>16],u_pixel_coord_lower:[65535&E,65535&P]}}const th=(_,a,d,m)=>{const v=a.style.light,x=v.properties.get("position"),E=[x.x,x.y,x.z],P=function(){var z=new o.A(9);return o.A!=Float32Array&&(z[1]=0,z[2]=0,z[3]=0,z[5]=0,z[6]=0,z[7]=0),z[0]=1,z[4]=1,z[8]=1,z}();v.properties.get("anchor")==="viewport"&&function(z,V){var U=Math.sin(V),Q=Math.cos(V);z[0]=Q,z[1]=U,z[2]=0,z[3]=-U,z[4]=Q,z[5]=0,z[6]=0,z[7]=0,z[8]=1}(P,-a.transform.angle),function(z,V,U){var Q=V[0],he=V[1],de=V[2];z[0]=Q*U[0]+he*U[3]+de*U[6],z[1]=Q*U[1]+he*U[4]+de*U[7],z[2]=Q*U[2]+he*U[5]+de*U[8]}(E,E,P);const L=v.properties.get("color");return{u_matrix:_,u_lightpos:E,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[L.r,L.g,L.b],u_vertical_gradient:+d,u_opacity:m}},lo=(_,a,d,m,v,x,E)=>o.e(th(_,a,d,m),Ea(x,a,E),{u_height_factor:-Math.pow(2,v.overscaledZ)/E.tileSize/8}),Pm=_=>({u_matrix:_}),nh=(_,a,d,m)=>o.e(Pm(_),Ea(d,a,m)),wu=(_,a)=>({u_matrix:_,u_world:a}),Su=(_,a,d,m,v)=>o.e(nh(_,a,d,m),{u_world:v}),co=(_,a,d,m)=>{const v=_.transform;let x,E;if(m.paint.get("circle-pitch-alignment")==="map"){const P=Ee(d,1,v.zoom);x=!0,E=[P,P]}else x=!1,E=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(a.posMatrix,d,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:E}},rh=(_,a,d)=>{const m=Ee(d,1,a.zoom),v=Math.pow(2,a.zoom-d.tileID.overscaledZ),x=d.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:a.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[a.pixelsToGLUnits[0]/(m*v),a.pixelsToGLUnits[1]/(m*v)],u_overscale_factor:x}},yc=(_,a,d=1)=>({u_matrix:_,u_color:a,u_overlay:0,u_overlay_scale:d}),Dm=_=>({u_matrix:_}),ey=(_,a,d,m)=>({u_matrix:_,u_extrude_scale:Ee(a,1,d),u_intensity:m});function ih(_,a){const d=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.U(0,m/d).toLngLat().lat,new o.U(0,(m+1)/d).toLngLat().lat]}const ah=(_,a,d,m)=>{const v=_.transform;return{u_matrix:ku(_,a,d,m),u_ratio:1/Ee(a,1,v.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},Mm=(_,a,d,m,v)=>o.e(ah(_,a,d,v),{u_image:0,u_image_height:m}),ty=(_,a,d,m,v)=>{const x=_.transform,E=Rm(a,x);return{u_matrix:ku(_,a,d,v),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Ee(a,1,x.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[E,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Lm=(_,a,d,m,v,x)=>{const E=_.lineAtlas,P=Rm(a,_.transform),L=d.layout.get("line-cap")==="round",z=E.getDash(m.from,L),V=E.getDash(m.to,L),U=z.width*v.fromScale,Q=V.width*v.toScale;return o.e(ah(_,a,d,x),{u_patternscale_a:[P/U,-z.height/2],u_patternscale_b:[P/Q,-V.height/2],u_sdfgamma:E.width/(256*Math.min(U,Q)*_.pixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:V.y,u_mix:v.t})};function Rm(_,a){return 1/Ee(_,1,a.tileZoom)}function ku(_,a,d,m){return _.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Om=(_,a,d,m,v)=>{return{u_matrix:_,u_tl_parent:a,u_scale_parent:d,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(E=v.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(x=v.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:Fm(v.paint.get("raster-hue-rotate"))};var x,E};function Fm(_){_*=Math.PI/180;const a=Math.sin(_),d=Math.cos(_);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}const sh=(_,a,d,m,v,x,E,P,L,z)=>{const V=v.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:V.cameraToCenterDistance,u_pitch:V.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:V.width/V.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:E,u_coord_matrix:P,u_is_text:+L,u_pitch_with_map:+m,u_texsize:z,u_texture:0}},oh=(_,a,d,m,v,x,E,P,L,z,V)=>{const U=v.transform;return o.e(sh(_,a,d,m,v,x,E,P,L,z),{u_gamma_scale:m?Math.cos(U._pitch)*U.cameraToCenterDistance:1,u_device_pixel_ratio:v.pixelRatio,u_is_halo:+V})},No=(_,a,d,m,v,x,E,P,L,z)=>o.e(oh(_,a,d,m,v,x,E,P,!0,L,!0),{u_texsize_icon:z,u_texture_icon:1}),Cu=(_,a,d)=>({u_matrix:_,u_opacity:a,u_color:d}),Ia=(_,a,d,m,v,x)=>o.e(function(E,P,L,z){const V=L.imageManager.getPattern(E.from.toString()),U=L.imageManager.getPattern(E.to.toString()),{width:Q,height:he}=L.imageManager.getPixelSize(),de=Math.pow(2,z.tileID.overscaledZ),ge=z.tileSize*Math.pow(2,L.transform.tileZoom)/de,ce=ge*(z.tileID.canonical.x+z.tileID.wrap*de),De=ge*z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:V.tl,u_pattern_br_a:V.br,u_pattern_tl_b:U.tl,u_pattern_br_b:U.br,u_texsize:[Q,he],u_mix:P.t,u_pattern_size_a:V.displaySize,u_pattern_size_b:U.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/Ee(z,1,L.transform.tileZoom),u_pixel_coord_upper:[ce>>16,De>>16],u_pixel_coord_lower:[65535&ce,65535&De]}}(m,x,d,v),{u_matrix:_,u_opacity:a}),Tu={fillExtrusion:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_opacity:new o.aM(_,a.u_opacity)}),fillExtrusionPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_height_factor:new o.aM(_,a.u_height_factor),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade),u_opacity:new o.aM(_,a.u_opacity)}),fill:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),fillPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),fillOutline:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world)}),fillOutlinePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),circle:(_,a)=>({u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_scale_with_map:new o.aL(_,a.u_scale_with_map),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_matrix:new o.aN(_,a.u_matrix)}),collisionBox:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pixels_to_tile_units:new o.aM(_,a.u_pixels_to_tile_units),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_overscale_factor:new o.aM(_,a.u_overscale_factor)}),collisionCircle:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_inv_matrix:new o.aN(_,a.u_inv_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_viewport_size:new o.aQ(_,a.u_viewport_size)}),debug:(_,a)=>({u_color:new o.aR(_,a.u_color),u_matrix:new o.aN(_,a.u_matrix),u_overlay:new o.aL(_,a.u_overlay),u_overlay_scale:new o.aM(_,a.u_overlay_scale)}),clippingMask:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),heatmap:(_,a)=>({u_extrude_scale:new o.aM(_,a.u_extrude_scale),u_intensity:new o.aM(_,a.u_intensity),u_matrix:new o.aN(_,a.u_matrix)}),heatmapTexture:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_color_ramp:new o.aL(_,a.u_color_ramp),u_opacity:new o.aM(_,a.u_opacity)}),hillshade:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_latrange:new o.aQ(_,a.u_latrange),u_light:new o.aQ(_,a.u_light),u_shadow:new o.aR(_,a.u_shadow),u_highlight:new o.aR(_,a.u_highlight),u_accent:new o.aR(_,a.u_accent)}),hillshadePrepare:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_dimension:new o.aQ(_,a.u_dimension),u_zoom:new o.aM(_,a.u_zoom),u_unpack:new o.aO(_,a.u_unpack)}),line:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels)}),lineGradient:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_image:new o.aL(_,a.u_image),u_image_height:new o.aM(_,a.u_image_height)}),linePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texsize:new o.aQ(_,a.u_texsize),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_image:new o.aL(_,a.u_image),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),lineSDF:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_patternscale_a:new o.aQ(_,a.u_patternscale_a),u_patternscale_b:new o.aQ(_,a.u_patternscale_b),u_sdfgamma:new o.aM(_,a.u_sdfgamma),u_image:new o.aL(_,a.u_image),u_tex_y_a:new o.aM(_,a.u_tex_y_a),u_tex_y_b:new o.aM(_,a.u_tex_y_b),u_mix:new o.aM(_,a.u_mix)}),raster:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_tl_parent:new o.aQ(_,a.u_tl_parent),u_scale_parent:new o.aM(_,a.u_scale_parent),u_buffer_scale:new o.aM(_,a.u_buffer_scale),u_fade_t:new o.aM(_,a.u_fade_t),u_opacity:new o.aM(_,a.u_opacity),u_image0:new o.aL(_,a.u_image0),u_image1:new o.aL(_,a.u_image1),u_brightness_low:new o.aM(_,a.u_brightness_low),u_brightness_high:new o.aM(_,a.u_brightness_high),u_saturation_factor:new o.aM(_,a.u_saturation_factor),u_contrast_factor:new o.aM(_,a.u_contrast_factor),u_spin_weights:new o.aP(_,a.u_spin_weights)}),symbolIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture)}),symbolSDF:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),symbolTextAndIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texsize_icon:new o.aQ(_,a.u_texsize_icon),u_texture:new o.aL(_,a.u_texture),u_texture_icon:new o.aL(_,a.u_texture_icon),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),background:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_color:new o.aR(_,a.u_color)}),backgroundPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_image:new o.aL(_,a.u_image),u_pattern_tl_a:new o.aQ(_,a.u_pattern_tl_a),u_pattern_br_a:new o.aQ(_,a.u_pattern_br_a),u_pattern_tl_b:new o.aQ(_,a.u_pattern_tl_b),u_pattern_br_b:new o.aQ(_,a.u_pattern_br_b),u_texsize:new o.aQ(_,a.u_texsize),u_mix:new o.aM(_,a.u_mix),u_pattern_size_a:new o.aQ(_,a.u_pattern_size_a),u_pattern_size_b:new o.aQ(_,a.u_pattern_size_b),u_scale_a:new o.aM(_,a.u_scale_a),u_scale_b:new o.aM(_,a.u_scale_b),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aM(_,a.u_tile_units_to_pixels)}),terrain:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainDepth:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainCoords:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_terrain_coords_id:new o.aM(_,a.u_terrain_coords_id),u_ele_delta:new o.aM(_,a.u_ele_delta)})};class Au{constructor(a,d,m){this.context=a;const v=a.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const _c={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Eu{constructor(a,d,m,v){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=v,this.context=a;const x=a.gl;this.buffer=x.createBuffer(),a.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let m=0;m<this.attributes.length;m++){const v=d.attributes[this.attributes[m].name];v!==void 0&&a.enableVertexAttribArray(v)}}setVertexAttribPointers(a,d,m){for(let v=0;v<this.attributes.length;v++){const x=this.attributes[v],E=d.attributes[x.name];E!==void 0&&a.vertexAttribPointer(E,x.components,a[_c[x.type]],!1,this.itemSize,x.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const El=new WeakMap;function uo(_){var a;if(El.has(_))return El.get(_);{const d=(a=_.getParameter(_.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return El.set(_,d),d}}class Fn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Iu extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ga extends Fn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class va extends Fn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class lh extends Fn{getDefault(){return[!0,!0,!0,!0]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Pu extends Fn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Du extends Fn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class ch extends Fn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class uh extends Fn{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Mu extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class dh extends Fn{getDefault(){return[0,1]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class hh extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class Lu extends Fn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class zm extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class Bm extends Fn{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Il extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ny extends Fn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class ry extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class iy extends Fn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class ay extends Fn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class sy extends Fn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class oy extends Fn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class fh extends Fn{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Ru extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class mh extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class ph extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Pl extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Vm extends Fn{getDefault(){return null}set(a){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Nm extends Fn{getDefault(){return null}set(a){var d;if(a===this.current&&!this.dirty)return;const m=this.gl;uo(m)?m.bindVertexArray(a):(d=m.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class gh extends Fn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class $o extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class $m extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class ho extends Fn{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class Dl extends ho{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Um extends ho{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class vh extends ho{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Wn{constructor(a,d,m,v,x){this.context=a,this.width=d,this.height=m;const E=a.gl,P=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Dl(a,P),v)this.depthAttachment=x?new vh(a,P):new Um(a,P);else if(x)throw new Error("Stencil cannot be setted without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){const m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class Er{constructor(a,d,m){this.blendFunction=a,this.blendColor=d,this.mask=m}}Er.Replace=[1,0],Er.disabled=new Er(Er.Replace,o.aT.transparent,[!1,!1,!1,!1]),Er.unblended=new Er(Er.Replace,o.aT.transparent,[!0,!0,!0,!0]),Er.alphaBlended=new Er([1,771],o.aT.transparent,[!0,!0,!0,!0]);class ly{constructor(a){var d,m;if(this.gl=a,this.clearColor=new Iu(this),this.clearDepth=new ga(this),this.clearStencil=new va(this),this.colorMask=new lh(this),this.depthMask=new Pu(this),this.stencilMask=new Du(this),this.stencilFunc=new ch(this),this.stencilOp=new uh(this),this.stencilTest=new Mu(this),this.depthRange=new dh(this),this.depthTest=new hh(this),this.depthFunc=new Lu(this),this.blend=new zm(this),this.blendFunc=new Bm(this),this.blendColor=new Il(this),this.blendEquation=new ny(this),this.cullFace=new ry(this),this.cullFaceSide=new iy(this),this.frontFace=new ay(this),this.program=new sy(this),this.activeTexture=new oy(this),this.viewport=new fh(this),this.bindFramebuffer=new Ru(this),this.bindRenderbuffer=new mh(this),this.bindTexture=new ph(this),this.bindVertexBuffer=new Pl(this),this.bindElementBuffer=new Vm(this),this.bindVertexArray=new Nm(this),this.pixelStoreUnpack=new gh(this),this.pixelStoreUnpackPremultiplyAlpha=new $o(this),this.pixelStoreUnpackFlipY=new $m(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),uo(a)){this.HALF_FLOAT=a.HALF_FLOAT;const v=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=a.RGBA16F)!==null&&d!==void 0?d:v==null?void 0:v.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:v==null?void 0:v.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");const v=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=v==null?void 0:v.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new Au(this,a,d)}createVertexBuffer(a,d,m){return new Eu(this,a,d,m)}createRenderbuffer(a,d,m){const v=this.gl,x=v.createRenderbuffer();return this.bindRenderbuffer.set(x),v.renderbufferStorage(v.RENDERBUFFER,a,d,m),this.bindRenderbuffer.set(null),x}createFramebuffer(a,d,m,v){return new Wn(this,a,d,m,v)}clear({color:a,depth:d,stencil:m}){const v=this.gl;let x=0;a&&(x|=v.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(x|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m!==void 0&&(x|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(x)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.aG(a.blendFunction,Er.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return uo(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var d;return uo(this.gl)?this.gl.deleteVertexArray(a):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class zn{constructor(a,d,m){this.func=a,this.mask=d,this.range=m}}zn.ReadOnly=!1,zn.ReadWrite=!0,zn.disabled=new zn(519,zn.ReadOnly,[0,1]);const Uo=7680;class Ir{constructor(a,d,m,v,x,E){this.test=a,this.ref=d,this.mask=m,this.fail=v,this.depthFail=x,this.pass=E}}Ir.disabled=new Ir({func:519,mask:0},0,0,Uo,Uo,Uo);class Cr{constructor(a,d,m){this.enable=a,this.mode=d,this.frontFace=m}}let bc;function qm(_,a,d,m,v,x,E){const P=_.context,L=P.gl,z=_.useProgram("collisionBox"),V=[];let U=0,Q=0;for(let xe=0;xe<m.length;xe++){const Le=m[xe],Ze=a.getTile(Le),Xe=Ze.getBucket(d);if(!Xe)continue;let rt=Le.posMatrix;v[0]===0&&v[1]===0||(rt=_.translatePosMatrix(Le.posMatrix,Ze,v,x));const xt=E?Xe.textCollisionBox:Xe.iconCollisionBox,mt=Xe.collisionCircleArray;if(mt.length>0){const At=o.Z(),Yt=rt;o.aU(At,Xe.placementInvProjMatrix,_.transform.glCoordMatrix),o.aU(At,At,Xe.placementViewportMatrix),V.push({circleArray:mt,circleOffset:Q,transform:Yt,invTransform:At,coord:Le}),U+=mt.length/4,Q=U}xt&&z.draw(P,L.LINES,zn.disabled,Ir.disabled,_.colorModeForRenderPass(),Cr.disabled,rh(rt,_.transform,Ze),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Le),d.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,null,_.transform.zoom,null,null,xt.collisionVertexBuffer)}if(!E||!V.length)return;const he=_.useProgram("collisionCircle"),de=new o.aV;de.resize(4*U),de._trim();let ge=0;for(const xe of V)for(let Le=0;Le<xe.circleArray.length/4;Le++){const Ze=4*Le,Xe=xe.circleArray[Ze+0],rt=xe.circleArray[Ze+1],xt=xe.circleArray[Ze+2],mt=xe.circleArray[Ze+3];de.emplace(ge++,Xe,rt,xt,mt,0),de.emplace(ge++,Xe,rt,xt,mt,1),de.emplace(ge++,Xe,rt,xt,mt,2),de.emplace(ge++,Xe,rt,xt,mt,3)}(!bc||bc.length<2*U)&&(bc=function(xe){const Le=2*xe,Ze=new o.aX;Ze.resize(Le),Ze._trim();for(let Xe=0;Xe<Le;Xe++){const rt=6*Xe;Ze.uint16[rt+0]=4*Xe+0,Ze.uint16[rt+1]=4*Xe+1,Ze.uint16[rt+2]=4*Xe+2,Ze.uint16[rt+3]=4*Xe+2,Ze.uint16[rt+4]=4*Xe+3,Ze.uint16[rt+5]=4*Xe+0}return Ze}(U));const ce=P.createIndexBuffer(bc,!0),De=P.createVertexBuffer(de,o.aW.members,!0);for(const xe of V){const Le={u_matrix:xe.transform,u_inv_matrix:xe.invTransform,u_camera_to_center_distance:(je=_.transform).cameraToCenterDistance,u_viewport_size:[je.width,je.height]};he.draw(P,L.TRIANGLES,zn.disabled,Ir.disabled,_.colorModeForRenderPass(),Cr.disabled,Le,_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe.coord),d.id,De,ce,o.S.simpleSegment(0,2*xe.circleOffset,xe.circleArray.length,xe.circleArray.length/2),null,_.transform.zoom,null,null,null)}var je;De.destroy(),ce.destroy()}Cr.disabled=new Cr(!1,1029,2305),Cr.backCCW=new Cr(!0,1029,2305);const yh=o.ao(new Float32Array(16));function Ou(_,a,d,m,v,x){const{horizontalAlign:E,verticalAlign:P}=o.au(_);return new o.P((-(E-.5)*a/v+m[0])*x,(-(P-.5)*d/v+m[1])*x)}function Fu(_,a,d,m,v,x,E,P,L,z,V){const U=_.text.placedSymbolArray,Q=_.text.dynamicLayoutVertexArray,he=_.icon.dynamicLayoutVertexArray,de={};Q.clear();for(let ge=0;ge<U.length;ge++){const ce=U.get(ge),De=ce.hidden||!ce.crossTileID||_.allowVerticalPlacement&&!ce.placedOrientation?null:m[ce.crossTileID];if(De){const je=new o.P(ce.anchorX,ce.anchorY),xe=Tn(je,d?E:x,V),Le=ma(v.cameraToCenterDistance,xe.signedDistanceFromCamera);let Ze=o.aj(_.textSizeData,L,ce)*Le/o.ap;d&&(Ze*=_.tilePixelRatio/P);const{width:Xe,height:rt,anchor:xt,textOffset:mt,textBoxScale:At}=De,Yt=Ou(xt,Xe,rt,mt,At,Ze),Pn=d?Tn(je.add(Yt),x,V).point:xe.point.add(a?Yt.rotate(-v.angle):Yt),Ot=_.allowVerticalPlacement&&ce.placedOrientation===o.ai.vertical?Math.PI/2:0;for(let ln=0;ln<ce.numGlyphs;ln++)o.ak(Q,Pn,Ot);z&&ce.associatedIconIndex>=0&&(de[ce.associatedIconIndex]={shiftedAnchor:Pn,angle:Ot})}else oe(ce.numGlyphs,Q)}if(z){he.clear();const ge=_.icon.placedSymbolArray;for(let ce=0;ce<ge.length;ce++){const De=ge.get(ce);if(De.hidden)oe(De.numGlyphs,he);else{const je=de[ce];if(je)for(let xe=0;xe<De.numGlyphs;xe++)o.ak(he,je.shiftedAnchor,je.angle);else oe(De.numGlyphs,he)}}_.icon.dynamicLayoutVertexBuffer.updateData(he)}_.text.dynamicLayoutVertexBuffer.updateData(Q)}function _h(_,a,d){return d.iconsInText&&a?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function zu(_,a,d,m,v,x,E,P,L,z,V,U){const Q=_.context,he=Q.gl,de=_.transform,ge=P==="map",ce=L==="map",De=P!=="viewport"&&d.layout.get("symbol-placement")!=="point",je=ge&&!ce&&!De,xe=!d.layout.get("symbol-sort-key").isConstant();let Le=!1;const Ze=_.depthModeForSublayer(0,zn.ReadOnly),Xe=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),rt=[];for(const xt of m){const mt=a.getTile(xt),At=mt.getBucket(d);if(!At)continue;const Yt=v?At.text:At.icon;if(!Yt||!Yt.segments.get().length||!Yt.hasVisibleVertices)continue;const Pn=Yt.programConfigurations.get(d.id),Ot=v||At.sdfIcons,ln=v?At.textSizeData:At.iconSizeData,Kt=ce||de.pitch!==0,tr=_.useProgram(_h(Ot,v,At),Pn),In=o.ah(ln,de.zoom),Sn=_.style.map.terrain&&_.style.map.terrain.getTerrainData(xt);let Dn,qr,mr,Ci,ci=[0,0],Zr=null;if(v)qr=mt.glyphAtlasTexture,mr=he.LINEAR,Dn=mt.glyphAtlasTexture.size,At.iconsInText&&(ci=mt.imageAtlasTexture.size,Zr=mt.imageAtlasTexture,Ci=Kt||_.options.rotating||_.options.zooming||ln.kind==="composite"||ln.kind==="camera"?he.LINEAR:he.NEAREST);else{const jr=d.layout.get("icon-size").constantOr(0)!==1||At.iconsNeedLinear;qr=mt.imageAtlasTexture,mr=Ot||_.options.rotating||_.options.zooming||jr||Kt?he.LINEAR:he.NEAREST,Dn=mt.imageAtlasTexture.size}const ba=Ee(mt,1,_.transform.zoom),_r=vt(xt.posMatrix,ce,ge,_.transform,ba),ls=xi(xt.posMatrix,ce,ge,_.transform,ba),cs=Xe&&At.hasTextData(),po=d.layout.get("icon-text-fit")!=="none"&&cs&&At.hasIconData();if(De){const jr=_.style.map.terrain?(Qi,Hr)=>_.style.map.terrain.getElevation(xt,Qi,Hr):null,ui=d.layout.get("text-rotation-alignment")==="map";Tt(At,xt.posMatrix,_,v,_r,ls,ce,z,ui,jr)}const Wo=_.translatePosMatrix(xt.posMatrix,mt,x,E),Bl=De||v&&Xe||po?yh:_r,Li=_.translatePosMatrix(ls,mt,x,E,!0),Ti=Ot&&d.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ui;Ui=Ot?At.iconsInText?No(ln.kind,In,je,ce,_,Wo,Bl,Li,Dn,ci):oh(ln.kind,In,je,ce,_,Wo,Bl,Li,v,Dn,!0):sh(ln.kind,In,je,ce,_,Wo,Bl,Li,v,Dn);const Yo={program:tr,buffers:Yt,uniformValues:Ui,atlasTexture:qr,atlasTextureIcon:Zr,atlasInterpolation:mr,atlasInterpolationIcon:Ci,isSDF:Ot,hasHalo:Ti};if(xe&&At.canOverlap){Le=!0;const jr=Yt.segments.get();for(const ui of jr)rt.push({segments:new o.S([ui]),sortKey:ui.sortKey,state:Yo,terrainData:Sn})}else rt.push({segments:Yt.segments,sortKey:0,state:Yo,terrainData:Sn})}Le&&rt.sort((xt,mt)=>xt.sortKey-mt.sortKey);for(const xt of rt){const mt=xt.state;if(Q.activeTexture.set(he.TEXTURE0),mt.atlasTexture.bind(mt.atlasInterpolation,he.CLAMP_TO_EDGE),mt.atlasTextureIcon&&(Q.activeTexture.set(he.TEXTURE1),mt.atlasTextureIcon&&mt.atlasTextureIcon.bind(mt.atlasInterpolationIcon,he.CLAMP_TO_EDGE)),mt.isSDF){const At=mt.uniformValues;mt.hasHalo&&(At.u_is_halo=1,bh(mt.buffers,xt.segments,d,_,mt.program,Ze,V,U,At,xt.terrainData)),At.u_is_halo=0}bh(mt.buffers,xt.segments,d,_,mt.program,Ze,V,U,mt.uniformValues,xt.terrainData)}}function bh(_,a,d,m,v,x,E,P,L,z){const V=m.context;v.draw(V,V.gl.TRIANGLES,x,E,P,Cr.disabled,L,z,d.id,_.layoutVertexBuffer,_.indexBuffer,a,d.paint,m.transform.zoom,_.programConfigurations.get(d.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function xc(_,a,d,m,v){if(!d||!m||!m.imageAtlas)return;const x=m.imageAtlas.patternPositions;let E=x[d.to.toString()],P=x[d.from.toString()];if(!E&&P&&(E=P),!P&&E&&(P=E),!E||!P){const L=v.getPaintProperty(a);E=x[L],P=x[L]}E&&P&&_.setConstantPatternPositions(E,P)}function wc(_,a,d,m,v,x,E){const P=_.context.gl,L="fill-pattern",z=d.paint.get(L),V=z&&z.constantOr(1),U=d.getCrossfadeParameters();let Q,he,de,ge,ce;E?(he=V&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=P.LINES):(he=V?"fillPattern":"fill",Q=P.TRIANGLES);const De=z.constantOr(null);for(const je of m){const xe=a.getTile(je);if(V&&!xe.patternsLoaded())continue;const Le=xe.getBucket(d);if(!Le)continue;const Ze=Le.programConfigurations.get(d.id),Xe=_.useProgram(he,Ze),rt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(je);V&&(_.context.activeTexture.set(P.TEXTURE0),xe.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ze.updatePaintBuffers(U)),xc(Ze,L,De,xe,d);const xt=rt?je:null,mt=_.translatePosMatrix(xt?xt.posMatrix:je.posMatrix,xe,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(E){ge=Le.indexBuffer2,ce=Le.segments2;const At=[P.drawingBufferWidth,P.drawingBufferHeight];de=he==="fillOutlinePattern"&&V?Su(mt,_,U,xe,At):wu(mt,At)}else ge=Le.indexBuffer,ce=Le.segments,de=V?nh(mt,_,U,xe):Pm(mt);Xe.draw(_.context,Q,v,_.stencilModeForClipping(je),x,Cr.disabled,de,rt,d.id,Le.layoutVertexBuffer,ge,ce,d.paint,_.transform.zoom,Ze)}}function Sc(_,a,d,m,v,x,E){const P=_.context,L=P.gl,z="fill-extrusion-pattern",V=d.paint.get(z),U=V.constantOr(1),Q=d.getCrossfadeParameters(),he=d.paint.get("fill-extrusion-opacity"),de=V.constantOr(null);for(const ge of m){const ce=a.getTile(ge),De=ce.getBucket(d);if(!De)continue;const je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ge),xe=De.programConfigurations.get(d.id),Le=_.useProgram(U?"fillExtrusionPattern":"fillExtrusion",xe);U&&(_.context.activeTexture.set(L.TEXTURE0),ce.imageAtlasTexture.bind(L.LINEAR,L.CLAMP_TO_EDGE),xe.updatePaintBuffers(Q)),xc(xe,z,de,ce,d);const Ze=_.translatePosMatrix(ge.posMatrix,ce,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Xe=d.paint.get("fill-extrusion-vertical-gradient"),rt=U?lo(Ze,_,Xe,he,ge,Q,ce):th(Ze,_,Xe,he);Le.draw(P,P.gl.TRIANGLES,v,x,E,Cr.backCCW,rt,je,d.id,De.layoutVertexBuffer,De.indexBuffer,De.segments,d.paint,_.transform.zoom,xe,_.style.map.terrain&&De.centroidVertexBuffer)}}function cy(_,a,d,m,v,x,E){const P=_.context,L=P.gl,z=d.fbo;if(!z)return;const V=_.useProgram("hillshade"),U=_.style.map.terrain&&_.style.map.terrain.getTerrainData(a);P.activeTexture.set(L.TEXTURE0),L.bindTexture(L.TEXTURE_2D,z.colorAttachment.get()),V.draw(P,L.TRIANGLES,v,x,E,Cr.disabled,((Q,he,de,ge)=>{const ce=de.paint.get("hillshade-shadow-color"),De=de.paint.get("hillshade-highlight-color"),je=de.paint.get("hillshade-accent-color");let xe=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(xe-=Q.transform.angle);const Le=!Q.options.moving;return{u_matrix:ge?ge.posMatrix:Q.transform.calculatePosMatrix(he.tileID.toUnwrapped(),Le),u_image:0,u_latrange:ih(0,he.tileID),u_light:[de.paint.get("hillshade-exaggeration"),xe],u_shadow:ce,u_highlight:De,u_accent:je}})(_,d,m,U?a:null),U,m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function xh(_,a,d,m,v,x){const E=_.context,P=E.gl,L=a.dem;if(L&&L.data){const z=L.dim,V=L.stride,U=L.getPixels();if(E.activeTexture.set(P.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||_.getTileTexture(V),a.demTexture){const he=a.demTexture;he.update(U,{premultiply:!1}),he.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else a.demTexture=new K(E,U,P.RGBA,{premultiply:!1}),a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);E.activeTexture.set(P.TEXTURE0);let Q=a.fbo;if(!Q){const he=new K(E,{width:z,height:z,data:null},P.RGBA);he.bind(P.LINEAR,P.CLAMP_TO_EDGE),Q=a.fbo=E.createFramebuffer(z,z,!0,!1),Q.colorAttachment.set(he.texture)}E.bindFramebuffer.set(Q.framebuffer),E.viewport.set([0,0,z,z]),_.useProgram("hillshadePrepare").draw(E,P.TRIANGLES,m,v,x,Cr.disabled,((he,de)=>{const ge=de.stride,ce=o.Z();return o.aS(ce,0,o.N,-o.N,0,0,1),o.$(ce,ce,[0,-o.N,0]),{u_matrix:ce,u_image:1,u_dimension:[ge,ge],u_zoom:he.overscaledZ,u_unpack:de.getUnpackVector()}})(a.tileID,L),null,d.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function uy(_,a,d,m,v,x){const E=m.paint.get("raster-fade-duration");if(!x&&E>0){const P=o.h.now(),L=(P-_.timeAdded)/E,z=a?(P-a.timeAdded)/E:-1,V=d.getSource(),U=v.coveringZoomLevel({tileSize:V.tileSize,roundZoom:V.roundZoom}),Q=!a||Math.abs(a.tileID.overscaledZ-U)>Math.abs(_.tileID.overscaledZ-U),he=Q&&_.refreshedUponExpiration?1:o.ad(Q?L:1-z,0,1);return _.refreshedUponExpiration&&L>=1&&(_.refreshedUponExpiration=!1),a?{opacity:1,mix:1-he}:{opacity:he,mix:0}}return{opacity:1,mix:0}}const jm=new o.aT(1,0,0,1),Bu=new o.aT(0,1,0,1),wh=new o.aT(0,0,1,1),Hm=new o.aT(1,0,1,1),Gm=new o.aT(0,1,1,1);function kc(_,a,d,m){Nu(_,0,a+d/2,_.transform.width,d,m)}function Vu(_,a,d,m){Nu(_,a-d/2,0,d,_.transform.height,m)}function Nu(_,a,d,m,v,x){const E=_.context,P=E.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*_.pixelRatio,d*_.pixelRatio,m*_.pixelRatio,v*_.pixelRatio),E.clear({color:x}),P.disable(P.SCISSOR_TEST)}function Wm(_,a,d){const m=_.context,v=m.gl,x=d.posMatrix,E=_.useProgram("debug"),P=zn.disabled,L=Ir.disabled,z=_.colorModeForRenderPass(),V="$debug",U=_.style.map.terrain&&_.style.map.terrain.getTerrainData(d);m.activeTexture.set(v.TEXTURE0);const Q=a.getTileByID(d.key).latestRawTileData,he=Math.floor((Q&&Q.byteLength||0)/1024),de=a.getTile(d).tileSize,ge=512/Math.min(de,512)*(d.overscaledZ/_.transform.zoom)*.5;let ce=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(ce+=` => ${d.overscaledZ}`),function(De,je){De.initDebugOverlayCanvas();const xe=De.debugOverlayCanvas,Le=De.context.gl,Ze=De.debugOverlayCanvas.getContext("2d");Ze.clearRect(0,0,xe.width,xe.height),Ze.shadowColor="white",Ze.shadowBlur=2,Ze.lineWidth=1.5,Ze.strokeStyle="white",Ze.textBaseline="top",Ze.font="bold 36px Open Sans, sans-serif",Ze.fillText(je,5,5),Ze.strokeText(je,5,5),De.debugOverlayTexture.update(xe),De.debugOverlayTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE)}(_,`${ce} ${he}kB`),E.draw(m,v.TRIANGLES,P,L,Er.alphaBlended,Cr.disabled,yc(x,o.aT.transparent,ge),null,V,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),E.draw(m,v.LINE_STRIP,P,L,z,Cr.disabled,yc(x,o.aT.red),U,V,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function Fr(_,a,d){const m=_.context,v=m.gl,x=_.colorModeForRenderPass(),E=new zn(v.LEQUAL,zn.ReadWrite,_.depthRangeFor3D),P=_.useProgram("terrain"),L=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,_.width,_.height]);for(const z of d){const V=_.renderToTexture.getTexture(z),U=a.getTerrainData(z.tileID);m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,V.texture);const Q={u_matrix:_.transform.calculatePosMatrix(z.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(_.transform.zoom)};P.draw(m,v.TRIANGLES,E,Ir.disabled,x,Cr.backCCW,Q,U,"terrain",L.vertexBuffer,L.indexBuffer,L.segments)}}class qo{constructor(a,d){this.context=new ly(a),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.Z(),renderTime:0},this.setup(),this.numSublayers=gt.maxUnderzooming+gt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new _u}resize(a,d,m){if(this.width=Math.floor(a*m),this.height=Math.floor(d*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const a=this.context,d=new o.a_;d.emplaceBack(0,0),d.emplaceBack(o.N,0),d.emplaceBack(0,o.N),d.emplaceBack(o.N,o.N),this.tileExtentBuffer=a.createVertexBuffer(d,bu.members),this.tileExtentSegments=o.S.simpleSegment(0,0,4,2);const m=new o.a_;m.emplaceBack(0,0),m.emplaceBack(o.N,0),m.emplaceBack(0,o.N),m.emplaceBack(o.N,o.N),this.debugBuffer=a.createVertexBuffer(m,bu.members),this.debugSegments=o.S.simpleSegment(0,0,4,5);const v=new o.V;v.emplaceBack(0,0,0,0),v.emplaceBack(o.N,0,o.N,0),v.emplaceBack(0,o.N,0,o.N),v.emplaceBack(o.N,o.N,o.N,o.N),this.rasterBoundsBuffer=a.createVertexBuffer(v,He.members),this.rasterBoundsSegments=o.S.simpleSegment(0,0,4,2);const x=new o.a_;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(x,bu.members),this.viewportSegments=o.S.simpleSegment(0,0,4,2);const E=new o.a$;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(E);const P=new o.b0;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(P);const L=this.context.gl;this.stencilClearMode=new Ir({func:L.ALWAYS,mask:0},0,255,L.ZERO,L.ZERO,L.ZERO)}clearStencil(){const a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=o.Z();o.aS(m,0,this.width,this.height,0,0,1),o.a0(m,m,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,d.TRIANGLES,zn.disabled,this.stencilClearMode,Er.disabled,Cr.disabled,Dm(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!d||!d.length)return;this.currentStencilSource=a.source;const m=this.context,v=m.gl;this.nextStencilID+d.length>256&&this.clearStencil(),m.setColorMode(Er.disabled),m.setDepthMode(zn.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of d){const P=this._tileClippingMaskIDs[E.key]=this.nextStencilID++,L=this.style.map.terrain&&this.style.map.terrain.getTerrainData(E);x.draw(m,v.TRIANGLES,zn.disabled,new Ir({func:v.ALWAYS,mask:0},P,255,v.KEEP,v.KEEP,v.REPLACE),Er.disabled,Cr.disabled,Dm(E.posMatrix),L,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,d=this.context.gl;return new Ir({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){const d=this.context.gl;return new Ir({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){const d=this.context.gl,m=a.sort((E,P)=>P.overscaledZ-E.overscaledZ),v=m[m.length-1].overscaledZ,x=m[0].overscaledZ-v+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const E={};for(let P=0;P<x;P++)E[P+v]=new Ir({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=x,[E,m]}return[{[v]:Ir.disabled},m]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new Er([a.CONSTANT_COLOR,a.ONE],new o.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Er.unblended:Er.alphaBlended}depthModeForSublayer(a,d,m){if(!this.opaquePassEnabledForLayer())return zn.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new zn(m||this.context.gl.LEQUAL,d,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(o.h.now()),this.imageManager.beginFrame();const m=this.style._order,v=this.style.sourceCaches,x={},E={},P={};for(const L in v){const z=v[L];z.used&&z.prepare(this.context),x[L]=z.getVisibleCoordinates(),E[L]=x[L].slice().reverse(),P[L]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let L=0;L<m.length;L++)if(this.style._layers[m[L]].is3D()){this.opaquePassCutoff=L;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const L=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!o.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||L.length)&&(o.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(z,V){const U=z.context,Q=U.gl,he=Er.unblended,de=new zn(Q.LEQUAL,zn.ReadWrite,[0,1]),ge=V.getTerrainMesh(),ce=V.sourceCache.getRenderableTiles(),De=z.useProgram("terrainDepth");U.bindFramebuffer.set(V.getFramebuffer("depth").framebuffer),U.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),U.clear({color:o.aT.transparent,depth:1});for(const je of ce){const xe=V.getTerrainData(je.tileID),Le={u_matrix:z.transform.calculatePosMatrix(je.tileID.toUnwrapped()),u_ele_delta:V.getMeshFrameDelta(z.transform.zoom)};De.draw(U,Q.TRIANGLES,de,Ir.disabled,he,Cr.backCCW,Le,xe,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments)}U.bindFramebuffer.set(null),U.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain),function(z,V){const U=z.context,Q=U.gl,he=Er.unblended,de=new zn(Q.LEQUAL,zn.ReadWrite,[0,1]),ge=V.getTerrainMesh(),ce=V.getCoordsTexture(),De=V.sourceCache.getRenderableTiles(),je=z.useProgram("terrainCoords");U.bindFramebuffer.set(V.getFramebuffer("coords").framebuffer),U.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),U.clear({color:o.aT.transparent,depth:1}),V.coordsIndex=[];for(const xe of De){const Le=V.getTerrainData(xe.tileID);U.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,ce.texture);const Ze={u_matrix:z.transform.calculatePosMatrix(xe.tileID.toUnwrapped()),u_terrain_coords_id:(255-V.coordsIndex.length)/255,u_texture:0,u_ele_delta:V.getMeshFrameDelta(z.transform.zoom)};je.draw(U,Q.TRIANGLES,de,Ir.disabled,he,Cr.backCCW,Ze,Le,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments),V.coordsIndex.push(xe.tileID.key)}U.bindFramebuffer.set(null),U.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const L of m){const z=this.style._layers[L];if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;const V=E[z.source];(z.type==="custom"||V.length)&&this.renderLayer(this,v[z.source],z,V)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.aT.black:o.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const L=this.style._layers[m[this.currentLayer]],z=v[L.source],V=x[L.source];this._renderTileClippingMasks(L,V),this.renderLayer(this,z,L,V)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const L=this.style._layers[m[this.currentLayer]],z=v[L.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(L))continue;const V=(L.type==="symbol"?P:E)[L.source];this._renderTileClippingMasks(L,x[L.source]),this.renderLayer(this,z,L,V)}if(this.options.showTileBoundaries){const L=function(z,V){let U=null;const Q=Object.values(z._layers).flatMap(ce=>ce.source&&!ce.isHidden(V)?[z.sourceCaches[ce.source]]:[]),he=Q.filter(ce=>ce.getSource().type==="vector"),de=Q.filter(ce=>ce.getSource().type!=="vector"),ge=ce=>{(!U||U.getSource().maxzoom<ce.getSource().maxzoom)&&(U=ce)};return he.forEach(ce=>ge(ce)),U||de.forEach(ce=>ge(ce)),U}(this.style,this.transform.zoom);L&&function(z,V,U){for(let Q=0;Q<U.length;Q++)Wm(z,V,U[Q])}(this,L,L.getVisibleCoordinates())}this.options.showPadding&&function(L){const z=L.transform.padding;kc(L,L.transform.height-(z.top||0),3,jm),kc(L,z.bottom||0,3,Bu),Vu(L,z.left||0,3,wh),Vu(L,L.transform.width-(z.right||0),3,Hm);const V=L.transform.centerPoint;(function(U,Q,he,de){Nu(U,Q-1,he-10,2,20,de),Nu(U,Q-10,he-1,20,2,de)})(L,V.x,L.transform.height-V.y,Gm)}(this),this.context.setDefault()}renderLayer(a,d,m,v){if(!m.isHidden(this.transform.zoom)&&(m.type==="background"||m.type==="custom"||(v||[]).length))switch(this.id=m.id,m.type){case"symbol":(function(x,E,P,L,z){if(x.renderPass!=="translucent")return;const V=Ir.disabled,U=x.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(Q,he,de,ge,ce,De,je){const xe=he.transform,Le=ce==="map",Ze=De==="map";for(const Xe of Q){const rt=ge.getTile(Xe),xt=rt.getBucket(de);if(!xt||!xt.text||!xt.text.segments.get().length)continue;const mt=o.ah(xt.textSizeData,xe.zoom),At=Ee(rt,1,he.transform.zoom),Yt=vt(Xe.posMatrix,Ze,Le,he.transform,At),Pn=de.layout.get("icon-text-fit")!=="none"&&xt.hasIconData();if(mt){const Ot=Math.pow(2,xe.zoom-rt.tileID.overscaledZ);Fu(xt,Le,Ze,je,xe,Yt,Xe.posMatrix,Ot,mt,Pn,he.style.map.terrain?(ln,Kt)=>he.style.map.terrain.getElevation(Xe,ln,Kt):null)}}}(L,x,P,E,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),z),P.paint.get("icon-opacity").constantOr(1)!==0&&zu(x,E,P,L,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),V,U),P.paint.get("text-opacity").constantOr(1)!==0&&zu(x,E,P,L,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),V,U),E.map.showCollisionBoxes&&(qm(x,E,P,L,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),!0),qm(x,E,P,L,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),!1))})(a,d,m,v,this.style.placement.variableOffsets);break;case"circle":(function(x,E,P,L){if(x.renderPass!=="translucent")return;const z=P.paint.get("circle-opacity"),V=P.paint.get("circle-stroke-width"),U=P.paint.get("circle-stroke-opacity"),Q=!P.layout.get("circle-sort-key").isConstant();if(z.constantOr(1)===0&&(V.constantOr(1)===0||U.constantOr(1)===0))return;const he=x.context,de=he.gl,ge=x.depthModeForSublayer(0,zn.ReadOnly),ce=Ir.disabled,De=x.colorModeForRenderPass(),je=[];for(let xe=0;xe<L.length;xe++){const Le=L[xe],Ze=E.getTile(Le),Xe=Ze.getBucket(P);if(!Xe)continue;const rt=Xe.programConfigurations.get(P.id),xt=x.useProgram("circle",rt),mt=Xe.layoutVertexBuffer,At=Xe.indexBuffer,Yt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Le),Pn={programConfiguration:rt,program:xt,layoutVertexBuffer:mt,indexBuffer:At,uniformValues:co(x,Le,Ze,P),terrainData:Yt};if(Q){const Ot=Xe.segments.get();for(const ln of Ot)je.push({segments:new o.S([ln]),sortKey:ln.sortKey,state:Pn})}else je.push({segments:Xe.segments,sortKey:0,state:Pn})}Q&&je.sort((xe,Le)=>xe.sortKey-Le.sortKey);for(const xe of je){const{programConfiguration:Le,program:Ze,layoutVertexBuffer:Xe,indexBuffer:rt,uniformValues:xt,terrainData:mt}=xe.state;Ze.draw(he,de.TRIANGLES,ge,ce,De,Cr.disabled,xt,mt,P.id,Xe,rt,xe.segments,P.paint,x.transform.zoom,Le)}})(a,d,m,v);break;case"heatmap":(function(x,E,P,L){if(P.paint.get("heatmap-opacity")!==0)if(x.renderPass==="offscreen"){const z=x.context,V=z.gl,U=Ir.disabled,Q=new Er([V.ONE,V.ONE],o.aT.transparent,[!0,!0,!0,!0]);(function(he,de,ge){const ce=he.gl;he.activeTexture.set(ce.TEXTURE1),he.viewport.set([0,0,de.width/4,de.height/4]);let De=ge.heatmapFbo;if(De)ce.bindTexture(ce.TEXTURE_2D,De.colorAttachment.get()),he.bindFramebuffer.set(De.framebuffer);else{const je=ce.createTexture();ce.bindTexture(ce.TEXTURE_2D,je),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,ce.LINEAR),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,ce.LINEAR),De=ge.heatmapFbo=he.createFramebuffer(de.width/4,de.height/4,!1,!1),function(xe,Le,Ze,Xe){var rt,xt;const mt=xe.gl,At=(rt=xe.HALF_FLOAT)!==null&&rt!==void 0?rt:mt.UNSIGNED_BYTE,Yt=(xt=xe.RGBA16F)!==null&&xt!==void 0?xt:mt.RGBA;mt.texImage2D(mt.TEXTURE_2D,0,Yt,Le.width/4,Le.height/4,0,mt.RGBA,At,null),Xe.colorAttachment.set(Ze)}(he,de,je,De)}})(z,x,P),z.clear({color:o.aT.transparent});for(let he=0;he<L.length;he++){const de=L[he];if(E.hasRenderableParent(de))continue;const ge=E.getTile(de),ce=ge.getBucket(P);if(!ce)continue;const De=ce.programConfigurations.get(P.id),je=x.useProgram("heatmap",De),{zoom:xe}=x.transform;je.draw(z,V.TRIANGLES,zn.disabled,U,Q,Cr.disabled,ey(de.posMatrix,ge,xe,P.paint.get("heatmap-intensity")),null,P.id,ce.layoutVertexBuffer,ce.indexBuffer,ce.segments,P.paint,x.transform.zoom,De)}z.viewport.set([0,0,x.width,x.height])}else x.renderPass==="translucent"&&(x.context.setColorMode(x.colorModeForRenderPass()),function(z,V){const U=z.context,Q=U.gl,he=V.heatmapFbo;if(!he)return;U.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,he.colorAttachment.get()),U.activeTexture.set(Q.TEXTURE1);let de=V.colorRampTexture;de||(de=V.colorRampTexture=new K(U,V.colorRamp,Q.RGBA)),de.bind(Q.LINEAR,Q.CLAMP_TO_EDGE),z.useProgram("heatmapTexture").draw(U,Q.TRIANGLES,zn.disabled,Ir.disabled,z.colorModeForRenderPass(),Cr.disabled,((ge,ce,De,je)=>{const xe=o.Z();o.aS(xe,0,ge.width,ge.height,0,0,1);const Le=ge.context.gl;return{u_matrix:xe,u_world:[Le.drawingBufferWidth,Le.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ce.paint.get("heatmap-opacity")}})(z,V),null,V.id,z.viewportBuffer,z.quadTriangleIndexBuffer,z.viewportSegments,V.paint,z.transform.zoom)}(x,P))})(a,d,m,v);break;case"line":(function(x,E,P,L){if(x.renderPass!=="translucent")return;const z=P.paint.get("line-opacity"),V=P.paint.get("line-width");if(z.constantOr(1)===0||V.constantOr(1)===0)return;const U=x.depthModeForSublayer(0,zn.ReadOnly),Q=x.colorModeForRenderPass(),he=P.paint.get("line-dasharray"),de=P.paint.get("line-pattern"),ge=de.constantOr(1),ce=P.paint.get("line-gradient"),De=P.getCrossfadeParameters(),je=ge?"linePattern":he?"lineSDF":ce?"lineGradient":"line",xe=x.context,Le=xe.gl;let Ze=!0;for(const Xe of L){const rt=E.getTile(Xe);if(ge&&!rt.patternsLoaded())continue;const xt=rt.getBucket(P);if(!xt)continue;const mt=xt.programConfigurations.get(P.id),At=x.context.program.get(),Yt=x.useProgram(je,mt),Pn=Ze||Yt.program!==At,Ot=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Xe),ln=de.constantOr(null);if(ln&&rt.imageAtlas){const In=rt.imageAtlas,Sn=In.patternPositions[ln.to.toString()],Dn=In.patternPositions[ln.from.toString()];Sn&&Dn&&mt.setConstantPatternPositions(Sn,Dn)}const Kt=Ot?Xe:null,tr=ge?ty(x,rt,P,De,Kt):he?Lm(x,rt,P,he,De,Kt):ce?Mm(x,rt,P,xt.lineClipsArray.length,Kt):ah(x,rt,P,Kt);if(ge)xe.activeTexture.set(Le.TEXTURE0),rt.imageAtlasTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE),mt.updatePaintBuffers(De);else if(he&&(Pn||x.lineAtlas.dirty))xe.activeTexture.set(Le.TEXTURE0),x.lineAtlas.bind(xe);else if(ce){const In=xt.gradients[P.id];let Sn=In.texture;if(P.gradientVersion!==In.version){let Dn=256;if(P.stepInterpolant){const qr=E.getSource().maxzoom,mr=Xe.canonical.z===qr?Math.ceil(1<<x.transform.maxZoom-Xe.canonical.z):1;Dn=o.ad(o.aY(xt.maxLineLength/o.N*1024*mr),256,xe.maxTextureSize)}In.gradient=o.aZ({expression:P.gradientExpression(),evaluationKey:"lineProgress",resolution:Dn,image:In.gradient||void 0,clips:xt.lineClipsArray}),In.texture?In.texture.update(In.gradient):In.texture=new K(xe,In.gradient,Le.RGBA),In.version=P.gradientVersion,Sn=In.texture}xe.activeTexture.set(Le.TEXTURE0),Sn.bind(P.stepInterpolant?Le.NEAREST:Le.LINEAR,Le.CLAMP_TO_EDGE)}Yt.draw(xe,Le.TRIANGLES,U,x.stencilModeForClipping(Xe),Q,Cr.disabled,tr,Ot,P.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,P.paint,x.transform.zoom,mt,xt.layoutVertexBuffer2),Ze=!1}})(a,d,m,v);break;case"fill":(function(x,E,P,L){const z=P.paint.get("fill-color"),V=P.paint.get("fill-opacity");if(V.constantOr(1)===0)return;const U=x.colorModeForRenderPass(),Q=P.paint.get("fill-pattern"),he=x.opaquePassEnabledForLayer()&&!Q.constantOr(1)&&z.constantOr(o.aT.transparent).a===1&&V.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===he){const de=x.depthModeForSublayer(1,x.renderPass==="opaque"?zn.ReadWrite:zn.ReadOnly);wc(x,E,P,L,de,U,!1)}if(x.renderPass==="translucent"&&P.paint.get("fill-antialias")){const de=x.depthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,zn.ReadOnly);wc(x,E,P,L,de,U,!0)}})(a,d,m,v);break;case"fill-extrusion":(function(x,E,P,L){const z=P.paint.get("fill-extrusion-opacity");if(z!==0&&x.renderPass==="translucent"){const V=new zn(x.context.gl.LEQUAL,zn.ReadWrite,x.depthRangeFor3D);if(z!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))Sc(x,E,P,L,V,Ir.disabled,Er.disabled),Sc(x,E,P,L,V,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const U=x.colorModeForRenderPass();Sc(x,E,P,L,V,Ir.disabled,U)}}})(a,d,m,v);break;case"hillshade":(function(x,E,P,L){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;const z=x.context,V=x.depthModeForSublayer(0,zn.ReadOnly),U=x.colorModeForRenderPass(),[Q,he]=x.renderPass==="translucent"?x.stencilConfigForOverlap(L):[{},L];for(const de of he){const ge=E.getTile(de);ge.needsHillshadePrepare!==void 0&&ge.needsHillshadePrepare&&x.renderPass==="offscreen"?xh(x,ge,P,V,Ir.disabled,U):x.renderPass==="translucent"&&cy(x,de,ge,P,V,Q[de.overscaledZ],U)}z.viewport.set([0,0,x.width,x.height])})(a,d,m,v);break;case"raster":(function(x,E,P,L){if(x.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!L.length)return;const z=x.context,V=z.gl,U=E.getSource(),Q=x.useProgram("raster"),he=x.colorModeForRenderPass(),[de,ge]=U instanceof Ue?[{},L]:x.stencilConfigForOverlap(L),ce=ge[ge.length-1].overscaledZ,De=!x.options.moving;for(const je of ge){const xe=x.depthModeForSublayer(je.overscaledZ-ce,P.paint.get("raster-opacity")===1?zn.ReadWrite:zn.ReadOnly,V.LESS),Le=E.getTile(je);Le.registerFadeDuration(P.paint.get("raster-fade-duration"));const Ze=E.findLoadedParent(je,0),Xe=uy(Le,Ze,E,P,x.transform,x.style.map.terrain);let rt,xt;const mt=P.paint.get("raster-resampling")==="nearest"?V.NEAREST:V.LINEAR;z.activeTexture.set(V.TEXTURE0),Le.texture.bind(mt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),z.activeTexture.set(V.TEXTURE1),Ze?(Ze.texture.bind(mt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST),rt=Math.pow(2,Ze.tileID.overscaledZ-Le.tileID.overscaledZ),xt=[Le.tileID.canonical.x*rt%1,Le.tileID.canonical.y*rt%1]):Le.texture.bind(mt,V.CLAMP_TO_EDGE,V.LINEAR_MIPMAP_NEAREST);const At=x.style.map.terrain&&x.style.map.terrain.getTerrainData(je),Yt=At?je:null,Pn=Yt?Yt.posMatrix:x.transform.calculatePosMatrix(je.toUnwrapped(),De),Ot=Om(Pn,xt||[0,0],rt||1,Xe,P);U instanceof Ue?Q.draw(z,V.TRIANGLES,xe,Ir.disabled,he,Cr.disabled,Ot,At,P.id,U.boundsBuffer,x.quadTriangleIndexBuffer,U.boundsSegments):Q.draw(z,V.TRIANGLES,xe,de[je.overscaledZ],he,Cr.disabled,Ot,At,P.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}})(a,d,m,v);break;case"background":(function(x,E,P,L){const z=P.paint.get("background-color"),V=P.paint.get("background-opacity");if(V===0)return;const U=x.context,Q=U.gl,he=x.transform,de=he.tileSize,ge=P.paint.get("background-pattern");if(x.isPatternMissing(ge))return;const ce=!ge&&z.a===1&&V===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==ce)return;const De=Ir.disabled,je=x.depthModeForSublayer(0,ce==="opaque"?zn.ReadWrite:zn.ReadOnly),xe=x.colorModeForRenderPass(),Le=x.useProgram(ge?"backgroundPattern":"background"),Ze=L||he.coveringTiles({tileSize:de,terrain:x.style.map.terrain});ge&&(U.activeTexture.set(Q.TEXTURE0),x.imageManager.bind(x.context));const Xe=P.getCrossfadeParameters();for(const rt of Ze){const xt=L?rt.posMatrix:x.transform.calculatePosMatrix(rt.toUnwrapped()),mt=ge?Ia(xt,V,x,ge,{tileID:rt,tileSize:de},Xe):Cu(xt,V,z),At=x.style.map.terrain&&x.style.map.terrain.getTerrainData(rt);Le.draw(U,Q.TRIANGLES,je,De,xe,Cr.disabled,mt,At,P.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}})(a,0,m,v);break;case"custom":(function(x,E,P){const L=x.context,z=P.implementation;if(x.renderPass==="offscreen"){const V=z.prerender;V&&(x.setCustomLayerDefaults(),L.setColorMode(x.colorModeForRenderPass()),V.call(z,L.gl,x.transform.customLayerMatrix()),L.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),L.setColorMode(x.colorModeForRenderPass()),L.setStencilMode(Ir.disabled);const V=z.renderingMode==="3d"?new zn(x.context.gl.LEQUAL,zn.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,zn.ReadOnly);L.setDepthMode(V),z.render(L.gl,x.transform.customLayerMatrix()),L.setDirty(),x.setBaseState(),L.bindFramebuffer.set(null)}})(a,0,m)}}translatePosMatrix(a,d,m,v,x){if(!m[0]&&!m[1])return a;const E=x?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(E){const z=Math.sin(E),V=Math.cos(E);m=[m[0]*V-m[1]*z,m[0]*z+m[1]*V]}const P=[x?m[0]:Ee(d,m[0],this.transform.zoom),x?m[1]:Ee(d,m[1],this.transform.zoom),0],L=new Float32Array(16);return o.$(L,a,P),L}saveTileTexture(a){const d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const d=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!d||!m}useProgram(a,d){this.cache=this.cache||{};const m=a+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new xu(this.context,Ar[a],d,Tu[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new K(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:a,drawingBufferHeight:d}=this.context.gl;return this.width!==a||this.height!==d}}class Xi{constructor(a,d){this.points=a,this.planes=d}static fromInvProjectionMatrix(a,d,m){const v=Math.pow(2,m),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{const L=1/(P=o.ag([],P,a))[3]/d*v;return o.b3(P,P,[L,L,1/P[3],L])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const L=function(Q,he){var de=he[0],ge=he[1],ce=he[2],De=de*de+ge*ge+ce*ce;return De>0&&(De=1/Math.sqrt(De)),Q[0]=he[0]*De,Q[1]=he[1]*De,Q[2]=he[2]*De,Q}([],function(Q,he,de){var ge=he[0],ce=he[1],De=he[2],je=de[0],xe=de[1],Le=de[2];return Q[0]=ce*Le-De*xe,Q[1]=De*je-ge*Le,Q[2]=ge*xe-ce*je,Q}([],J([],x[P[0]],x[P[1]]),J([],x[P[2]],x[P[1]]))),z=-((V=L)[0]*(U=x[P[1]])[0]+V[1]*U[1]+V[2]*U[2]);var V,U;return L.concat(z)});return new Xi(x,E)}}class Ml{constructor(a,d){this.min=a,this.max=d,this.center=function(m,v,x){return m[0]=.5*v[0],m[1]=.5*v[1],m[2]=.5*v[2],m}([],function(m,v,x){return m[0]=v[0]+x[0],m[1]=v[1]+x[1],m[2]=v[2]+x[2],m}([],this.min,this.max))}quadrant(a){const d=[a%2==0,a<2],m=se(this.min),v=se(this.max);for(let x=0;x<d.length;x++)m[x]=d[x]?this.min[x]:this.center[x],v[x]=d[x]?this.center[x]:this.max[x];return v[2]=this.max[2],new Ml(m,v)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let v=0;v<a.planes.length;v++){const x=a.planes[v];let E=0;for(let P=0;P<d.length;P++)o.b4(x,d[P])>=0&&E++;if(E===0)return 0;E!==d.length&&(m=!1)}if(m)return 2;for(let v=0;v<3;v++){let x=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let P=0;P<a.points.length;P++){const L=a.points[P][v]-this.min[v];x=Math.min(x,L),E=Math.max(E,L)}if(E<0||x>this.max[v]-this.min[v])return 0}return 1}}class Cc{constructor(a=0,d=0,m=0,v=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=m,this.right=v}interpolate(a,d,m){return d.top!=null&&a.top!=null&&(this.top=o.B.number(a.top,d.top,m)),d.bottom!=null&&a.bottom!=null&&(this.bottom=o.B.number(a.bottom,d.bottom,m)),d.left!=null&&a.left!=null&&(this.left=o.B.number(a.left,d.left,m)),d.right!=null&&a.right!=null&&(this.right=o.B.number(a.right,d.right,m)),this}getCenter(a,d){const m=o.ad((this.left+a-this.right)/2,0,a),v=o.ad((this.top+d-this.bottom)/2,0,d);return new o.P(m,v)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Cc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class $u{constructor(a,d,m,v,x){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=x===void 0||!!x,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=m??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Cc,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const a=new $u(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this._minEleveationForCurrentTile=a._minEleveationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const d=-o.b5(a,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var m=new o.A(4);return o.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,v,x){var E=v[0],P=v[1],L=v[2],z=v[3],V=Math.sin(x),U=Math.cos(x);m[0]=E*U+L*V,m[1]=P*U+z*V,m[2]=E*-V+L*U,m[3]=P*-V+z*U}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const d=o.ad(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,m){this._unmodified=!1,this._edgeInsets.interpolate(a,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){const d=[new o.b6(0,a)];if(this._renderWorldCopies){const m=this.pointCoordinate(new o.P(0,0)),v=this.pointCoordinate(new o.P(this.width,0)),x=this.pointCoordinate(new o.P(this.width,this.height)),E=this.pointCoordinate(new o.P(0,this.height)),P=Math.floor(Math.min(m.x,v.x,x.x,E.x)),L=Math.floor(Math.max(m.x,v.x,x.x,E.x)),z=1;for(let V=P-z;V<=L+z;V++)V!==0&&d.push(new o.b6(V,a))}return d}coveringTiles(a){var d,m;let v=this.coveringZoomLevel(a);const x=v;if(a.minzoom!==void 0&&v<a.minzoom)return[];a.maxzoom!==void 0&&v>a.maxzoom&&(v=a.maxzoom);const E=this.pointCoordinate(this.getCameraPoint()),P=o.U.fromLngLat(this.center),L=Math.pow(2,v),z=[L*E.x,L*E.y,0],V=[L*P.x,L*P.y,0],U=Xi.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,v);let Q=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(Q=v);const he=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,de=xe=>({aabb:new Ml([xe*L,0,0],[(xe+1)*L,L,0]),zoom:0,x:0,y:0,wrap:xe,fullyVisible:!1}),ge=[],ce=[],De=v,je=a.reparseOverscaled?x:v;if(this._renderWorldCopies)for(let xe=1;xe<=3;xe++)ge.push(de(-xe)),ge.push(de(xe));for(ge.push(de(0));ge.length>0;){const xe=ge.pop(),Le=xe.x,Ze=xe.y;let Xe=xe.fullyVisible;if(!Xe){const Yt=xe.aabb.intersects(U);if(Yt===0)continue;Xe=Yt===2}const rt=a.terrain?z:V,xt=xe.aabb.distanceX(rt),mt=xe.aabb.distanceY(rt),At=Math.max(Math.abs(xt),Math.abs(mt));if(xe.zoom===De||At>he+(1<<De-xe.zoom)-2&&xe.zoom>=Q){const Yt=De-xe.zoom,Pn=z[0]-.5-(Le<<Yt),Ot=z[1]-.5-(Ze<<Yt);ce.push({tileID:new o.O(xe.zoom===De?je:xe.zoom,xe.wrap,xe.zoom,Le,Ze),distanceSq:te([V[0]-.5-Le,V[1]-.5-Ze]),tileDistanceToCamera:Math.sqrt(Pn*Pn+Ot*Ot)})}else for(let Yt=0;Yt<4;Yt++){const Pn=(Le<<1)+Yt%2,Ot=(Ze<<1)+(Yt>>1),ln=xe.zoom+1;let Kt=xe.aabb.quadrant(Yt);if(a.terrain){const tr=new o.O(ln,xe.wrap,ln,Pn,Ot),In=a.terrain.getMinMaxElevation(tr),Sn=(d=In.minElevation)!==null&&d!==void 0?d:this.elevation,Dn=(m=In.maxElevation)!==null&&m!==void 0?m:this.elevation;Kt=new Ml([Kt.min[0],Kt.min[1],Sn],[Kt.max[0],Kt.max[1],Dn])}ge.push({aabb:Kt,zoom:ln,x:Pn,y:Ot,wrap:xe.wrap,fullyVisible:Xe})}}return ce.sort((xe,Le)=>xe.distanceSq-Le.distanceSq).map(xe=>xe.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const d=o.ad(a.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.P(o.G(a.lng)*this.worldSize,o.H(d)*this.worldSize)}unproject(a){return new o.U(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const d=this.pointLocation(this.centerPoint,a),m=a.getElevationForLngLatZoom(d,this.tileZoom);if(!(this.elevation-m))return;const v=this.getCameraPosition(),x=o.U.fromLngLat(v.lngLat,v.altitude),E=o.U.fromLngLat(d,m),P=x.x-E.x,L=x.y-E.y,z=x.z-E.z,V=Math.sqrt(P*P+L*L+z*z),U=this.scaleZoom(this.cameraToCenterDistance/V/this.tileSize);this._elevation=m,this._center=d,this.zoom=U}setLocationAtPoint(a,d){const m=this.pointCoordinate(d),v=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(a),E=new o.U(x.x-(m.x-v.x),x.y-(m.y-v.y));this.center=this.coordinateLocation(E),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,d){return d?this.coordinatePoint(this.locationCoordinate(a),d.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,d){return this.coordinateLocation(this.pointCoordinate(a,d))}locationCoordinate(a){return o.U.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,d){if(d){const Q=d.pointCoordinate(a);if(Q!=null)return Q}const m=[a.x,a.y,0,1],v=[a.x,a.y,1,1];o.ag(m,m,this.pixelMatrixInverse),o.ag(v,v,this.pixelMatrixInverse);const x=m[3],E=v[3],P=m[1]/x,L=v[1]/E,z=m[2]/x,V=v[2]/E,U=z===V?0:(0-z)/(V-z);return new o.U(o.B.number(m[0]/x,v[0]/E,U)/this.worldSize,o.B.number(P,L,U)/this.worldSize)}coordinatePoint(a,d=0,m=this.pixelMatrix){const v=[a.x*this.worldSize,a.y*this.worldSize,d,1];return o.ag(v,v,m),new o.P(v[0]/v[3],v[1]/v[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new at().extend(this.pointLocation(new o.P(0,a))).extend(this.pointLocation(new o.P(this.width,a))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new at([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(a,d=!1){const m=a.key,v=d?this._alignedPosMatrixCache:this._posMatrixCache;if(v[m])return v[m];const x=a.canonical,E=this.worldSize/this.zoomScale(x.z),P=x.x+Math.pow(2,x.z)*a.wrap,L=o.ao(new Float64Array(16));return o.$(L,L,[P*E,x.y*E,0]),o.a0(L,L,[E/o.N,E/o.N,1]),o.a1(L,d?this.alignedProjMatrix:this.projMatrix,L),v[m]=new Float32Array(L),v[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a,d,m,v,x=-90,E=90,P=-180,L=180;const z=this.size,V=this._unmodified;if(this.latRange){const he=this.latRange;x=o.H(he[1])*this.worldSize,E=o.H(he[0])*this.worldSize,a=E-x<z.y?z.y/(E-x):0}if(this.lngRange){const he=this.lngRange;P=o.b5(o.G(he[0])*this.worldSize,0,this.worldSize),L=o.b5(o.G(he[1])*this.worldSize,0,this.worldSize),L<P&&(L+=this.worldSize),d=L-P<z.x?z.x/(L-P):0}const U=this.point,Q=Math.max(d||0,a||0);if(Q)return this.center=this.unproject(new o.P(d?(L+P)/2:U.x,a?(E+x)/2:U.y)),this.zoom+=this.scaleZoom(Q),this._unmodified=V,void(this._constraining=!1);if(this.latRange){const he=U.y,de=z.y/2;he-de<x&&(v=x+de),he+de>E&&(v=E-de)}if(this.lngRange){const he=(P+L)/2,de=o.b5(U.x,he-this.worldSize/2,he+this.worldSize/2),ge=z.x/2;de-ge<P&&(m=P+ge),de+ge>L&&(m=L-ge)}m===void 0&&v===void 0||(this.center=this.unproject(new o.P(m!==void 0?m:U.x,v!==void 0?v:U.y)).wrap()),this._unmodified=V,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,d=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b7(1,this.center.lat)*this.worldSize;let v=o.ao(new Float64Array(16));o.a0(v,v,[this.width/2,-this.height/2,1]),o.$(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=o.ao(new Float64Array(16)),o.a0(v,v,[1,-1,1]),o.$(v,v,[-1,-1,0]),o.a0(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),E=Math.min(this.elevation,this._minEleveationForCurrentTile),P=x-E*this._pixelPerMeter/Math.cos(this._pitch),L=E<0?P:x,z=Math.PI/2+this._pitch,V=this._fov*(.5+a.y/this.height),U=Math.sin(V)*L/Math.sin(o.ad(Math.PI-z-V,.01,Math.PI-.01)),Q=this.getHorizon(),he=2*Math.atan(Q/this.cameraToCenterDistance)*(.5+a.y/(2*Q)),de=Math.sin(he)*L/Math.sin(o.ad(Math.PI-z-he,.01,Math.PI-.01)),ge=Math.min(U,de),ce=1.01*(Math.cos(Math.PI/2-this._pitch)*ge+L),De=this.height/50;v=new Float64Array(16),o.b8(v,this._fov,this.width/this.height,De,ce),v[8]=2*-a.x/this.width,v[9]=2*a.y/this.height,o.a0(v,v,[1,-1,1]),o.$(v,v,[0,0,-this.cameraToCenterDistance]),o.b9(v,v,this._pitch),o.ae(v,v,this.angle),o.$(v,v,[-d,-m,0]),this.mercatorMatrix=o.a0([],v,[this.worldSize,this.worldSize,this.worldSize]),o.a0(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.a1(new Float64Array(16),this.labelPlaneMatrix,v),o.$(v,v,[0,0,-this.elevation]),this.projMatrix=v,this.invProjMatrix=o.as([],v),this.pixelMatrix3D=o.a1(new Float64Array(16),this.labelPlaneMatrix,v);const je=this.width%2/2,xe=this.height%2/2,Le=Math.cos(this.angle),Ze=Math.sin(this.angle),Xe=d-Math.round(d)+Le*je+Ze*xe,rt=m-Math.round(m)+Le*xe+Ze*je,xt=new Float64Array(v);if(o.$(xt,xt,[Xe>.5?Xe-1:Xe,rt>.5?rt-1:rt,0]),this.alignedProjMatrix=xt,v=o.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new o.P(0,0)),d=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.ag(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,a))}getCameraQueryGeometry(a){const d=this.getCameraPoint();if(a.length===1)return[a[0],d];{let m=d.x,v=d.y,x=d.x,E=d.y;for(const P of a)m=Math.min(m,P.x),v=Math.min(v,P.y),x=Math.max(x,P.x),E=Math.max(E,P.y);return[new o.P(m,v),new o.P(x,v),new o.P(x,E),new o.P(m,E),new o.P(m,v)]}}}function jo(_,a){let d,m=!1,v=null,x=null;const E=()=>{v=null,m&&(_.apply(x,d),v=setTimeout(E,a),m=!1)};return(...P)=>(m=!0,x=this,d=P,v||E(),v)}class Tc{constructor(a){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(m=v)}),(m&&m[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:m,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=jo(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const d=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,v),E=Math.round(d.lng*x)/x,P=Math.round(d.lat*x)/x,L=this._map.getBearing(),z=this._map.getPitch();let V="";if(V+=a?`/${E}/${P}/${m}`:`${m}/${P}/${E}`,(L||z)&&(V+="/"+Math.round(10*L)/10),z&&(V+=`/${Math.round(z)}`),this._hashName){const U=this._hashName;let Q=!1;const he=window.location.hash.slice(1).split("&").map(de=>{const ge=de.split("=")[0];return ge===U?(Q=!0,`${ge}=${V}`):de}).filter(de=>de);return Q||he.push(`${U}=${V}`),`#${he.join("&")}`}return`#${V}`}}const Ll={linearity:.3,easing:o.ba(0,0,.3,1)},Ym=o.e({deceleration:2500,maxSpeed:1400},Ll),Zm=o.e({deceleration:20,maxSpeed:1400},Ll),Km=o.e({deceleration:1e3,maxSpeed:360},Ll),Xm=o.e({deceleration:1e3,maxSpeed:90},Ll);class Jm{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.h.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,d=o.h.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)d.zoom+=x.zoomDelta||0,d.bearing+=x.bearingDelta||0,d.pitch+=x.pitchDelta||0,x.panDelta&&d.pan._add(x.panDelta),x.around&&(d.around=x.around),x.pinchAround&&(d.pinchAround=x.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(d.pan.mag()){const x=Ac(d.pan.mag(),m,o.e({},Ym,a||{}));v.offset=d.pan.mult(x.amount/d.pan.mag()),v.center=this._map.transform.center,os(v,x)}if(d.zoom){const x=Ac(d.zoom,m,Zm);v.zoom=this._map.transform.zoom+x.amount,os(v,x)}if(d.bearing){const x=Ac(d.bearing,m,Km);v.bearing=this._map.transform.bearing+o.ad(x.amount,-179,179),os(v,x)}if(d.pitch){const x=Ac(d.pitch,m,Xm);v.pitch=this._map.transform.pitch+x.amount,os(v,x)}if(v.zoom||v.bearing){const x=d.pinchAround===void 0?d.around:d.pinchAround;v.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),o.e(v,{noMoveStart:!0})}}function os(_,a){(!_.duration||_.duration<a.duration)&&(_.duration=a.duration,_.easing=a.easing)}function Ac(_,a,d){const{maxSpeed:m,linearity:v,deceleration:x}=d,E=o.ad(_*v/(a/1e3),-m,m),P=Math.abs(E)/(x*v);return{easing:d.easing,duration:1e3*P,amount:E*(P/2)}}class ya extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m,v={}){const x=y.mousePos(d.getCanvasContainer(),m),E=d.unproject(x);super(a,o.e({point:x,lngLat:E,originalEvent:m},v)),this._defaultPrevented=!1,this.target=d}}class Ec extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){const v=a==="touchend"?m.changedTouches:m.touches,x=y.touchPos(d.getCanvasContainer(),v),E=x.map(L=>d.unproject(L)),P=x.reduce((L,z,V,U)=>L.add(z.div(U.length)),new o.P(0,0));super(a,{points:x,point:P,lngLats:E,lngLat:d.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class Qm extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class ep{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new Qm(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new ya(a.type,this._map,a))}mouseup(a){this._map.fire(new ya(a.type,this._map,a))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new ya(a.type,this._map,a))}dblclick(a){return this._firePreventable(new ya(a.type,this._map,a))}mouseover(a){this._map.fire(new ya(a.type,this._map,a))}mouseout(a){this._map.fire(new ya(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Ec(a.type,this._map,a))}touchmove(a){this._map.fire(new Ec(a.type,this._map,a))}touchend(a){this._map.fire(new Ec(a.type,this._map,a))}touchcancel(a){this._map.fire(new Ec(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class tp{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new ya(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ya("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new ya(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ms{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(o.P.convert(a),this._map.terrain)}}class np{constructor(a,d){this._map=a,this._tr=new Ms(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(y.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;const m=d;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=m,this._box||(this._box=y.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const x=Math.min(v.x,m.x),E=Math.max(v.x,m.x),P=Math.min(v.y,m.y),L=Math.max(v.y,m.y);y.setTransform(this._box,`translate(${x}px,${P}px)`),this._box.style.width=E-x+"px",this._box.style.height=L-P+"px"}mouseupWindow(a,d){if(!this._active||a.button!==0)return;const m=this._startPos,v=d;if(this.reset(),y.suppressClick(),m.x!==v.x||m.y!==v.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:a})),{cameraAnimation:x=>x.fitScreenCoordinates(m,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new o.k(a,{originalEvent:d}))}}function Pa(_,a){if(_.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${a.length}`);const d={};for(let m=0;m<_.length;m++)d[_[m].identifier]=a[m];return d}class Ls{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const x=new o.P(0,0);for(const E of v)x._add(E);return x.div(v.length)}(d),this.touches=Pa(m,d)))}touchmove(a,d,m){if(this.aborted||!this.centroid)return;const v=Pa(m,d);for(const x in this.touches){const E=v[x];(!E||E.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(a,d,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class Uu{constructor(a){this.singleTap=new Ls(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,d,m){this.singleTap.touchstart(a,d,m)}touchmove(a,d,m){this.singleTap.touchmove(a,d,m)}touchend(a,d,m){const v=this.singleTap.touchend(a,d,m);if(v){const x=a.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(v)<30;if(x&&E||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Rs{constructor(a){this._tr=new Ms(a),this._zoomIn=new Uu({numTouches:1,numTaps:2}),this._zoomOut=new Uu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,m){this._zoomIn.touchstart(a,d,m),this._zoomOut.touchstart(a,d,m)}touchmove(a,d,m){this._zoomIn.touchmove(a,d,m),this._zoomOut.touchmove(a,d,m)}touchend(a,d,m){const v=this._zoomIn.touchend(a,d,m),x=this._zoomOut.touchend(a,d,m),E=this._tr;return v?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(v)},{originalEvent:a})}):x?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(x)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Os{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const d=this._moveFunction(...a);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(a,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,d){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const v=d.length?d[0]:d;return!this._moved&&v.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(m,v))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&y.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const dy={0:1,2:2};class Sh{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const d=y.mouseButton(a);this._eventButton=d}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(d,m){const v=dy[m];return d.buttons===void 0||(d.buttons&v)!==v}(a,this._eventButton)}isValidEndEvent(a){return y.mouseButton(a)===this._eventButton}}class rp{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const qu=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=function(a){a.preventDefault()}},Rl=({enable:_,clickTolerance:a,bearingDegreesPerPixelMoved:d=.8})=>{const m=new Sh({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new Os({clickTolerance:a,move:(v,x)=>({bearingDelta:(x.x-v.x)*d}),moveStateManager:m,enable:_,assignEvents:qu})},Fs=({enable:_,clickTolerance:a,pitchDegreesPerPixelMoved:d=-.5})=>{const m=new Sh({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new Os({clickTolerance:a,move:(v,x)=>({pitchDelta:(x.y-v.y)*d}),moveStateManager:m,enable:_,assignEvents:qu})};class Ut{constructor(a,d){this._minTouches=a.cooperativeGestures?2:1,this._clickTolerance=a.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(a,d,m){return this._calculateTransform(a,d,m)}touchmove(a,d,m){if(this._map._cooperativeGestures&&(this._minTouches===2&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(a,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return a.preventDefault(),this._calculateTransform(a,d,m)}touchend(a,d,m){this._calculateTransform(a,d,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,m){m.length>0&&(this._active=!0);const v=Pa(m,d),x=new o.P(0,0),E=new o.P(0,0);let P=0;for(const z in v){const V=v[z],U=this._touches[z];U&&(x._add(V),E._add(V.sub(U)),P++,v[z]=V)}if(this._touches=v,P<this._minTouches||!E.mag())return;const L=E.div(P);return this._sum._add(L),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(P),panDelta:L}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ju{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,m){if(!this._firstTwoTouches)return;a.preventDefault();const[v,x]=this._firstTwoTouches,E=fo(m,d,v),P=fo(m,d,x);if(!E||!P)return;const L=this._aroundCenter?null:E.add(P).div(2);return this._move([E,P],L,a)}touchend(a,d,m){if(!this._firstTwoTouches)return;const[v,x]=this._firstTwoTouches,E=fo(m,d,v),P=fo(m,d,x);E&&P||(this._active&&y.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function fo(_,a,d){for(let m=0;m<_.length;m++)if(_[m].identifier===d)return a[m]}function Ol(_,a){return Math.log(_/a)/Math.LN2}class ip extends ju{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){const m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Ol(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ol(this._distance,m),pinchAround:d}}}function Vt(_,a){return 180*_.angleWith(a)/Math.PI}class kh extends ju{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d){const m=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Vt(this._vector,m),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const d=25/(Math.PI*this._minDiameter)*360,m=Vt(a,this._startVector);return Math.abs(m)<d}}function Ch(_){return Math.abs(_.y)>Math.abs(_.x)}class hy extends ju{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,d,m){super.touchstart(a,d,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,Ch(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const v=a[0].sub(this._lastPoints[0]),x=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,x,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(v.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(a,d,m){if(this._valid!==void 0)return this._valid;const v=a.mag()>=2,x=d.mag()>=2;if(!v&&!x)return;if(!v||!x)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const E=a.y>0==d.y>0;return Ch(a)&&Ch(d)&&E}}const Th={panStep:100,bearingStep:15,pitchStep:10};class ap{constructor(a){this._tr=new Ms(a);const d=Th;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,m=0,v=0,x=0,E=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),x=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),x=1);break;case 38:a.shiftKey?v=1:(a.preventDefault(),E=-1);break;case 40:a.shiftKey?v=-1:(a.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:P=>{const L=this._tr;P.easeTo({duration:300,easeId:"keyboardHandler",easing:sp,zoom:d?Math.round(L.zoom)+d*(a.shiftKey?2:1):L.zoom,bearing:L.bearing+m*this._bearingStep,pitch:L.pitch+v*this._pitchStep,offset:[-x*this._panStep,-E*this._panStep],center:L.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function sp(_){return _*(2-_)}const op=4.000244140625;class fy{constructor(a,d){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new Ms(a),this._el=a.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!a[this._map._metaKey])return;a.preventDefault()}let d=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const m=o.h.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%op==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(v*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=y.mousePos(this._el,a),m=this._tr;this._around=o.L.convert(this._aroundCenter?m.center:m.unproject(d)),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._tr.transform;if(this._delta!==0){const P=this._type==="wheel"&&Math.abs(this._delta)>op?this._wheelZoomRate:this._defaultZoomRate;let L=2/(1+Math.exp(-Math.abs(this._delta*P)));this._delta<0&&L!==0&&(L=1/L);const z=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(z*L))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,v=this._easing;let x,E=!1;if(this._type==="wheel"&&m&&v){const P=Math.min((o.h.now()-this._lastWheelEventTime)/200,1),L=v(P);x=o.B.number(m,d,L),P<1?this._frameId||(this._frameId=!0):E=!0}else x=d,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:x-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=o.bb;if(this._prevEase){const m=this._prevEase,v=(o.h.now()-m.start)/m.duration,x=m.easing(v+.01)-m.easing(v),E=.27/Math.sqrt(x*x+1e-4)*.01,P=Math.sqrt(.0729-E*E);d=o.ba(E,P,.25,1)}return this._prevEase={start:o.h.now(),duration:a,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ah{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Eh{constructor(a){this._tr=new Ms(a),this.reset()}reset(){this._active=!1}dblclick(a,d){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ih{constructor(){this._tap=new Uu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,d,m){if(!this._swipePoint)if(this._tapTime){const v=d[0],x=a.timeStamp-this._tapTime<500,E=this._tapPoint.dist(v)<30;x&&E?m.length>0&&(this._swipePoint=v,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,d,m)}touchmove(a,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=d[0],x=v.y-this._swipePoint.y;return this._swipePoint=v,a.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(a,d,m)}touchend(a,d,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{const v=this._tap.touchend(a,d,m);v&&(this._tapTime=a.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ph{constructor(a,d,m){this._el=a,this._mousePan=d,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ji{constructor(a,d,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class mo{constructor(a,d,m,v){this._el=a,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ic=_=>_.zoom||_.drag||_.pitch||_.rotate;class Dh extends o.k{}function Pc(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Mh{constructor(a,d){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,x)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const E=v.type==="renderFrame"?void 0:v,P={needsRenderFrame:!1},L={},z={},V=v.touches,U=V?this._getMapTouches(V):void 0,Q=U?y.touchPos(this._el,U):y.mousePos(this._el,v);for(const{handlerName:ge,handler:ce,allowed:De}of this._handlers){if(!ce.isEnabled())continue;let je;this._blockedByActive(z,De,ge)?ce.reset():ce[x||v.type]&&(je=ce[x||v.type](v,Q,U),this.mergeHandlerResult(P,L,je,ge,E),je&&je.needsRenderFrame&&this._triggerRenderFrame()),(je||ce.isActive())&&(z[ge]=ce)}const he={};for(const ge in this._previousActiveHandlers)z[ge]||(he[ge]=E);this._previousActiveHandlers=z,(Object.keys(he).length||Pc(P))&&(this._changes.push([P,L,he]),this._triggerRenderFrame()),(Object.keys(z).length||Pc(P))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:de}=P;de&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],de(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Jm(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,x,E]of this._listeners)y.addEventListener(v,x,v===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[a,d,m]of this._listeners)y.removeEventListener(a,d,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){const d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new ep(d,a));const v=d.boxZoom=new np(d,a);this._add("boxZoom",v),a.interactive&&a.boxZoom&&v.enable();const x=new Rs(d),E=new Eh(d);d.doubleClickZoom=new Ah(E,x),this._add("tapZoom",x),this._add("clickZoom",E),a.interactive&&a.doubleClickZoom&&d.doubleClickZoom.enable();const P=new Ih;this._add("tapDragZoom",P);const L=d.touchPitch=new hy(d);this._add("touchPitch",L),a.interactive&&a.touchPitch&&d.touchPitch.enable(a.touchPitch);const z=Rl(a),V=Fs(a);d.dragRotate=new Ji(a,z,V),this._add("mouseRotate",z,["mousePitch"]),this._add("mousePitch",V,["mouseRotate"]),a.interactive&&a.dragRotate&&d.dragRotate.enable();const U=(({enable:De,clickTolerance:je})=>{const xe=new Sh({checkCorrectEvent:Le=>y.mouseButton(Le)===0&&!Le.ctrlKey});return new Os({clickTolerance:je,move:(Le,Ze)=>({around:Ze,panDelta:Ze.sub(Le)}),activateOnStart:!0,moveStateManager:xe,enable:De,assignEvents:qu})})(a),Q=new Ut(a,d);d.dragPan=new Ph(m,U,Q),this._add("mousePan",U),this._add("touchPan",Q,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&d.dragPan.enable(a.dragPan);const he=new kh,de=new ip;d.touchZoomRotate=new mo(m,de,he,P),this._add("touchRotate",he,["touchPan","touchZoom"]),this._add("touchZoom",de,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&d.touchZoomRotate.enable(a.touchZoomRotate);const ge=d.scrollZoom=new fy(d,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),a.interactive&&a.scrollZoom&&d.scrollZoom.enable(a.scrollZoom);const ce=d.keyboard=new ap(d);this._add("keyboard",ce),a.interactive&&a.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new tp(d))}_add(a,d,m){this._handlers.push({handlerName:a,handler:d,allowed:m}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ic(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,d,m){for(const v in a)if(v!==m&&(!d||d.indexOf(v)<0))return!0;return!1}_getMapTouches(a){const d=[];for(const m of a)this._el.contains(m.target)&&d.push(m);return d}mergeHandlerResult(a,d,m,v,x){if(!m)return;o.e(a,m);const E={handlerName:v,originalEvent:m.originalEvent||x};m.zoomDelta!==void 0&&(d.zoom=E),m.panDelta!==void 0&&(d.drag=E),m.pitchDelta!==void 0&&(d.pitch=E),m.bearingDelta!==void 0&&(d.rotate=E)}_applyChanges(){const a={},d={},m={};for(const[v,x,E]of this._changes)v.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(v.panDelta)),v.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(a.around=v.around),v.pinchAround!==void 0&&(a.pinchAround=v.pinchAround),v.noInertia&&(a.noInertia=v.noInertia),o.e(d,x),o.e(m,E);this._updateMapTransform(a,d,m),this._changes=[]}_updateMapTransform(a,d,m){const v=this._map,x=v._getTransformForUpdate(),E=v.terrain;if(!(Pc(a)||E&&this._terrainMovement))return this._fireEvents(d,m,!0);let{panDelta:P,zoomDelta:L,bearingDelta:z,pitchDelta:V,around:U,pinchAround:Q}=a;Q!==void 0&&(U=Q),v._stop(!0),U=U||v.transform.centerPoint;const he=x.pointLocation(P?U.sub(P):U);z&&(x.bearing+=z),V&&(x.pitch+=V),L&&(x.zoom+=L),E?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(P)):x.setLocationAtPoint(he,U):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(he,U),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,x.recalculateZoom(v.terrain)})):x.setLocationAtPoint(he,U),v._applyUpdatedTransform(x),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,m,!0)}_fireEvents(a,d,m){const v=Ic(this._eventsInProgress),x=Ic(a),E={};for(const V in a){const{originalEvent:U}=a[V];this._eventsInProgress[V]||(E[`${V}start`]=U),this._eventsInProgress[V]=a[V]}!v&&x&&this._fireEvent("movestart",x.originalEvent);for(const V in E)this._fireEvent(V,E[V]);x&&this._fireEvent("move",x.originalEvent);for(const V in a){const{originalEvent:U}=a[V];this._fireEvent(V,U)}const P={};let L;for(const V in this._eventsInProgress){const{handlerName:U,originalEvent:Q}=this._eventsInProgress[V];this._handlersById[U].isActive()||(delete this._eventsInProgress[V],L=d[U]||Q,P[`${V}end`]=L)}for(const V in P)this._fireEvent(V,P[V]);const z=Ic(this._eventsInProgress);if(m&&(v||x)&&!z){this._updatingCamera=!0;const V=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),U=Q=>Q!==0&&-this._bearingSnap<Q&&Q<this._bearingSnap;!V||!V.essential&&o.h.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:L})),U(this._map.getBearing())&&this._map.resetNorth()):(U(V.bearing||this._map.getBearing())&&(V.bearing=0),V.freezeElevation=!0,this._map.easeTo(V,{originalEvent:L})),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new o.k(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Dh("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class lp extends o.E{constructor(a,d){super(),this._renderFrameCallback=()=>{const m=Math.min((o.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.L(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},d),m)}panTo(a,d,m){return this.easeTo(o.e({center:a},d),m)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,m){return this.easeTo(o.e({zoom:a},d),m)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,m){return this.easeTo(o.e({bearing:a},d),m)}resetNorth(a,d){return this.rotateTo(0,o.e({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=at.convert(a);const m=d&&d.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,d)}_cameraForBoxAndBearing(a,d,m,v){const x={top:0,bottom:0,right:0,left:0};if(typeof(v=o.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Ze=v.padding;v.padding={top:Ze,bottom:Ze,right:Ze,left:Ze}}v.padding=o.e(x,v.padding);const E=this.transform,P=E.padding,L=E.project(o.L.convert(a)),z=E.project(o.L.convert(d)),V=L.rotate(-m*Math.PI/180),U=z.rotate(-m*Math.PI/180),Q=new o.P(Math.max(V.x,U.x),Math.max(V.y,U.y)),he=new o.P(Math.min(V.x,U.x),Math.min(V.y,U.y)),de=Q.sub(he),ge=(E.width-(P.left+P.right+v.padding.left+v.padding.right))/de.x,ce=(E.height-(P.top+P.bottom+v.padding.top+v.padding.bottom))/de.y;if(ce<0||ge<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const De=Math.min(E.scaleZoom(E.scale*Math.min(ge,ce)),v.maxZoom),je=o.P.convert(v.offset),xe=new o.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(m*Math.PI/180),Le=je.add(xe).mult(E.scale/E.zoomScale(De));return{center:E.unproject(L.add(z).div(2).sub(Le)),zoom:De,bearing:m}}fitBounds(a,d,m){return this._fitInternal(this.cameraForBounds(a,d),d,m)}fitScreenCoordinates(a,d,m,v,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(a)),this.transform.pointLocation(o.P.convert(d)),m,v),v,x)}_fitInternal(a,d,m){return a?(delete(d=o.e(a,d)).padding,d.linear?this.easeTo(d,m):this.flyTo(d,m)):this}jumpTo(a,d){this.stop();const m=this._getTransformForUpdate();let v=!1,x=!1,E=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(v=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=o.L.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(x=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(E=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this._applyUpdatedTransform(m),this.fire(new o.k("movestart",d)).fire(new o.k("move",d)),v&&this.fire(new o.k("zoomstart",d)).fire(new o.k("zoom",d)).fire(new o.k("zoomend",d)),x&&this.fire(new o.k("rotatestart",d)).fire(new o.k("rotate",d)).fire(new o.k("rotateend",d)),E&&this.fire(new o.k("pitchstart",d)).fire(new o.k("pitch",d)).fire(new o.k("pitchend",d)),this.fire(new o.k("moveend",d))}calculateCameraOptionsFromTo(a,d,m,v=0){const x=o.U.fromLngLat(a,d),E=o.U.fromLngLat(m,v),P=E.x-x.x,L=E.y-x.y,z=E.z-x.z,V=Math.hypot(P,L,z);if(V===0)throw new Error("Can't calculate camera options with same From and To");const U=Math.hypot(P,L),Q=this.transform.scaleZoom(this.transform.cameraToCenterDistance/V/this.transform.tileSize),he=180*Math.atan2(P,-L)/Math.PI;let de=180*Math.acos(U/V)/Math.PI;return de=z<0?90-de:90+de,{center:E.toLngLat(),zoom:Q,pitch:de,bearing:he}}easeTo(a,d){this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.bb},a)).animate===!1||!a.essential&&o.h.prefersReducedMotion)&&(a.duration=0);const m=this._getTransformForUpdate(),v=this.getZoom(),x=this.getBearing(),E=this.getPitch(),P=this.getPadding(),L="zoom"in a?+a.zoom:v,z="bearing"in a?this._normalizeBearing(a.bearing,x):x,V="pitch"in a?+a.pitch:E,U="padding"in a?a.padding:m.padding,Q=o.P.convert(a.offset);let he=m.centerPoint.add(Q);const de=m.pointLocation(he),ge=o.L.convert(a.center||de);this._normalizeCenter(ge);const ce=m.project(de),De=m.project(ge).sub(ce),je=m.zoomScale(L-v);let xe,Le;a.around&&(xe=o.L.convert(a.around),Le=m.locationPoint(xe));const Ze={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||L!==v,this._rotating=this._rotating||x!==z,this._pitching=this._pitching||V!==E,this._padding=!m.isPaddingEqual(U),this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,Ze),this.terrain&&this._prepareElevation(ge),this._ease(Xe=>{if(this._zooming&&(m.zoom=o.B.number(v,L,Xe)),this._rotating&&(m.bearing=o.B.number(x,z,Xe)),this._pitching&&(m.pitch=o.B.number(E,V,Xe)),this._padding&&(m.interpolatePadding(P,U,Xe),he=m.centerPoint.add(Q)),this.terrain&&!a.freezeElevation&&this._updateElevation(Xe),xe)m.setLocationAtPoint(xe,Le);else{const rt=m.zoomScale(m.zoom-v),xt=L>v?Math.min(2,je):Math.max(.5,je),mt=Math.pow(xt,1-Xe),At=m.unproject(ce.add(De.mult(Xe*mt)).mult(rt));m.setLocationAtPoint(m.renderWorldCopies?At.wrap():At,he)}this._applyUpdatedTransform(m),this._fireMoveEvents(d)},Xe=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Xe)},a),this}_prepareEase(a,d,m={}){this._moving=!0,d||m.moving||this.fire(new o.k("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.k("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.k("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&d!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(d-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=d}this.transform.elevation=o.B.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(a){if(!this.transformCameraUpdate)return;const d=a.clone(),{center:m,zoom:v,pitch:x,bearing:E,elevation:P}=this.transformCameraUpdate(d);m&&(d.center=m),v!==void 0&&(d.zoom=v),x!==void 0&&(d.pitch=x),E!==void 0&&(d.bearing=E),P!==void 0&&(d.elevation=P),this.transform.apply(d)}_fireMoveEvents(a){this.fire(new o.k("move",a)),this._zooming&&this.fire(new o.k("zoom",a)),this._rotating&&this.fire(new o.k("rotate",a)),this._pitching&&this.fire(new o.k("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const m=this._zooming,v=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new o.k("zoomend",a)),v&&this.fire(new o.k("rotateend",a)),x&&this.fire(new o.k("pitchend",a)),this.fire(new o.k("moveend",a))}flyTo(a,d){if(!a.essential&&o.h.prefersReducedMotion){const Kt=o.F(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Kt,d)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.bb},a);const m=this._getTransformForUpdate(),v=this.getZoom(),x=this.getBearing(),E=this.getPitch(),P=this.getPadding(),L="zoom"in a?o.ad(+a.zoom,m.minZoom,m.maxZoom):v,z="bearing"in a?this._normalizeBearing(a.bearing,x):x,V="pitch"in a?+a.pitch:E,U="padding"in a?a.padding:m.padding,Q=m.zoomScale(L-v),he=o.P.convert(a.offset);let de=m.centerPoint.add(he);const ge=m.pointLocation(de),ce=o.L.convert(a.center||ge);this._normalizeCenter(ce);const De=m.project(ge),je=m.project(ce).sub(De);let xe=a.curve;const Le=Math.max(m.width,m.height),Ze=Le/Q,Xe=je.mag();if("minZoom"in a){const Kt=o.ad(Math.min(a.minZoom,v,L),m.minZoom,m.maxZoom),tr=Le/m.zoomScale(Kt-v);xe=Math.sqrt(tr/Xe*2)}const rt=xe*xe;function xt(Kt){const tr=(Ze*Ze-Le*Le+(Kt?-1:1)*rt*rt*Xe*Xe)/(2*(Kt?Ze:Le)*rt*Xe);return Math.log(Math.sqrt(tr*tr+1)-tr)}function mt(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function At(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}const Yt=xt(!1);let Pn=function(Kt){return At(Yt)/At(Yt+xe*Kt)},Ot=function(Kt){return Le*((At(Yt)*(mt(tr=Yt+xe*Kt)/At(tr))-mt(Yt))/rt)/Xe;var tr},ln=(xt(!0)-Yt)/xe;if(Math.abs(Xe)<1e-6||!isFinite(ln)){if(Math.abs(Le-Ze)<1e-6)return this.easeTo(a,d);const Kt=Ze<Le?-1:1;ln=Math.abs(Math.log(Ze/Le))/xe,Ot=function(){return 0},Pn=function(tr){return Math.exp(Kt*xe*tr)}}return a.duration="duration"in a?+a.duration:1e3*ln/("screenSpeed"in a?+a.screenSpeed/xe:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=x!==z,this._pitching=V!==E,this._padding=!m.isPaddingEqual(U),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ce),this._ease(Kt=>{const tr=Kt*ln,In=1/Pn(tr);m.zoom=Kt===1?L:v+m.scaleZoom(In),this._rotating&&(m.bearing=o.B.number(x,z,Kt)),this._pitching&&(m.pitch=o.B.number(E,V,Kt)),this._padding&&(m.interpolatePadding(P,U,Kt),de=m.centerPoint.add(he)),this.terrain&&!a.freezeElevation&&this._updateElevation(Kt);const Sn=Kt===1?ce:m.unproject(De.add(je.mult(Ot(tr))).mult(In));m.setLocationAtPoint(m.renderWorldCopies?Sn.wrap():Sn,de),this._applyUpdatedTransform(m),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,d)}if(!a){const m=this.handlers;m&&m.stop(!1)}return this}_ease(a,d,m){m.animate===!1||m.duration===0?(a(1),d()):(this._easeStart=o.h.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,d){a=o.b5(a,-180,180);const m=Math.abs(a-d);return Math.abs(a-360-d)<m&&(a-=360),Math.abs(a+360-d)<m&&(a+=360),a}_normalizeCenter(a){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const m=a.lng-d.center.lng;a.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.L.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}class _a{constructor(a={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=y.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,d){const m=this._map._getUIString(`AttributionControl.${d}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(v=>typeof v!="string"?"":v)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const d=this._map.style.sourceCaches;for(const v in d){const x=d[v];if(x.used||x.usedForTerrain){const E=x.getSource();E.attribution&&a.indexOf(E.attribution)<0&&a.push(E.attribution)}}a=a.filter(v=>String(v).trim()),a.sort((v,x)=>v.length-x.length),a=a.filter((v,x)=>{for(let E=x+1;E<a.length;E++)if(a[E].indexOf(v)>=0)return!1;return!0});const m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class yr{constructor(a={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const m=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("div","maplibregl-ctrl");const d=y.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){y.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){const d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(const v of m)if(v.id===a)return void(v.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const m of d)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Lh={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var cp=o.Q([{name:"a_pos3d",type:"Int16",components:3}]);class up extends o.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,d){this.sourceCache.update(a,d),this._renderableTilesKeys=[];const m={};for(const v of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))m[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),o.aS(v.posMatrix,0,o.N,0,o.N,0,1),this._tiles[v.key]=new pt(v,this.tileSize));for(const v in this._tiles)m[v]||delete this._tiles[v]}freeRtt(a){for(const d in this._tiles){const m=this._tiles[d];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const d={};for(const m of this._renderableTilesKeys){const v=this._tiles[m].tileID;if(v.canonical.equals(a.canonical)){const x=a.clone();x.posMatrix=new Float64Array(16),o.aS(x.posMatrix,0,o.N,0,o.N,0,1),d[m]=x}else if(v.canonical.isChildOf(a.canonical)){const x=a.clone();x.posMatrix=new Float64Array(16);const E=v.canonical.z-a.canonical.z,P=v.canonical.x-(v.canonical.x>>E<<E),L=v.canonical.y-(v.canonical.y>>E<<E),z=o.N>>E;o.aS(x.posMatrix,0,z,0,z,0,1),o.$(x.posMatrix,x.posMatrix,[-P*z,-L*z,0]),d[m]=x}else if(a.canonical.isChildOf(v.canonical)){const x=a.clone();x.posMatrix=new Float64Array(16);const E=a.canonical.z-v.canonical.z,P=a.canonical.x-(a.canonical.x>>E<<E),L=a.canonical.y-(a.canonical.y>>E<<E),z=o.N>>E;o.aS(x.posMatrix,0,o.N,0,o.N,0,1),o.$(x.posMatrix,x.posMatrix,[P*z,L*z,0]),o.a0(x.posMatrix,x.posMatrix,[1/2**E,1/2**E,0]),d[m]=x}}return d}getSourceTile(a,d){const m=this.sourceCache._source;let v=a.overscaledZ-this.deltaZoom;if(v>m.maxzoom&&(v=m.maxzoom),v<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(v).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!x||!x.dem)&&d)for(;v>=m.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(a.scaledTo(v--).key);return x}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=a)}}class dp{constructor(a,d,m){this.painter=a,this.sourceCache=new up(d),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,d,m,v=o.N){var x;if(!(d>=0&&d<v&&m>=0&&m<v))return 0;const E=this.getTerrainData(a),P=(x=E.tile)===null||x===void 0?void 0:x.dem;if(!P)return 0;const L=function(de,ge,ce){var De=ge[0],je=ge[1];return de[0]=ce[0]*De+ce[4]*je+ce[12],de[1]=ce[1]*De+ce[5]*je+ce[13],de}([],[d/v*o.N,m/v*o.N],E.u_terrain_matrix),z=[L[0]*P.dim,L[1]*P.dim],V=Math.floor(z[0]),U=Math.floor(z[1]),Q=z[0]-V,he=z[1]-U;return P.get(V,U)*(1-Q)*(1-he)+P.get(V+1,U)*Q*(1-he)+P.get(V,U+1)*(1-Q)*he+P.get(V+1,U+1)*Q*he}getElevationForLngLatZoom(a,d){const{tileID:m,mercatorX:v,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(a,d);return this.getElevation(m,v%o.N,x%o.N,o.N)}getElevation(a,d,m,v=o.N){return this.getDEMElevation(a,d,m,v)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const v=this.painter.context,x=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new K(v,x,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new K(v,new o.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ao([])}const d=this.sourceCache.getSourceTile(a,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const v=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new K(v,d.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),d.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const m=d&&d+d.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){const v=this.sourceCache.sourceCache._source.maxzoom;let x=a.canonical.z-d.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=v?x=a.canonical.z-v:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const E=a.canonical.x-(a.canonical.x>>x<<x),P=a.canonical.y-(a.canonical.y>>x<<x),L=o.bc(new Float64Array(16),[1/(o.N<<x),1/(o.N<<x),0]);o.$(L,L,[E*o.N,P*o.N,0]),this._demMatrixCache[a.key]={matrix:L,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(a){const d=this.painter,m=d.width/devicePixelRatio,v=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new K(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new K(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(m,v,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,m,v))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,E=0;x<this._coordsTextureSize;x++)for(let P=0;P<this._coordsTextureSize;P++,E+=4)d[E+0]=255&P,d[E+1]=255&x,d[E+2]=P>>8<<4|x>>8,d[E+3]=0;const m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),v=new K(a,m,a.gl.RGBA,{premultiply:!1});return v.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(a){const d=new Uint8Array(4),m=this.painter.context,v=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null);const x=d[0]+(d[2]>>4<<8),E=d[1]+((15&d[2])<<8),P=this.coordsIndex[255-d[3]],L=P&&this.sourceCache.getTileByID(P);if(!L)return null;const z=this._coordsTextureSize,V=(1<<L.tileID.canonical.z)*z;return new o.U(this._allowMercatorOverflow(a,(L.tileID.canonical.x*z+x)/V),(L.tileID.canonical.y*z+E)/V,this.getElevation(L.tileID,x,E,z))}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,d=new o.bd,m=new o.b0,v=this.meshSize,x=o.N/v,E=v*v;for(let U=0;U<=v;U++)for(let Q=0;Q<=v;Q++)d.emplaceBack(Q*x,U*x,0);for(let U=0;U<E;U+=v+1)for(let Q=0;Q<v;Q++)m.emplaceBack(Q+U,v+Q+U+1,v+Q+U+2),m.emplaceBack(Q+U,v+Q+U+2,Q+U+1);const P=d.length,L=P+2*(v+1);for(const U of[0,1])for(let Q=0;Q<=v;Q++)for(const he of[0,1])d.emplaceBack(Q*x,U*o.N,he);for(let U=0;U<2*v;U+=2)m.emplaceBack(L+U,L+U+1,L+U+3),m.emplaceBack(L+U,L+U+3,L+U+2),m.emplaceBack(P+U,P+U+3,P+U+1),m.emplaceBack(P+U,P+U+2,P+U+3);const z=d.length,V=z+2*(v+1);for(const U of[0,1])for(let Q=0;Q<=v;Q++)for(const he of[0,1])d.emplaceBack(U*o.N,Q*x,he);for(let U=0;U<2*v;U+=2)m.emplaceBack(z+U,z+U+1,z+U+3),m.emplaceBack(z+U,z+U+3,z+U+2),m.emplaceBack(V+U,V+U+3,V+U+1),m.emplaceBack(V+U,V+U+2,V+U+3);return this._mesh={indexBuffer:a.createIndexBuffer(m),vertexBuffer:a.createVertexBuffer(d,cp.members),segments:o.S.simpleSegment(0,0,d.length,m.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*o.be/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,d){var m;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(a,d);return(m=this.getMinMaxElevation(v).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){const d=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return d&&d.dem&&(m.minElevation=d.dem.min*this.exaggeration,m.maxElevation=d.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,d){const m=o.U.fromLngLat(a.wrap()),v=(1<<d)*o.N,x=m.x*v,E=m.y*v,P=Math.floor(x/o.N),L=Math.floor(E/o.N);return{tileID:new o.O(d,0,d,P,L),mercatorX:x,mercatorY:E}}_allowMercatorOverflow(a,d){const m=a.x<this.painter.width/2;let v=o.bf(d);const x=this.painter.transform.center.lng;return m&&Math.sign(v)>0&&Math.sign(x)<0||!m&&Math.sign(v)<0&&Math.sign(x)>0?(v=360*Math.sign(x)+v,o.G(v)):d}}class my{constructor(a,d,m){this._context=a,this._size=d,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new K(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(m.texture),{id:a,fbo:d,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>a.id!==d),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const $i={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Gu{constructor(a,d){this.painter=a,this.terrain=d,this.pool=new my(a.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(d)),this._coordsDescendingInv={};for(const m in a.sourceCaches){this._coordsDescendingInv[m]={};const v=a.sourceCaches[m].getVisibleCoordinates();for(const x of v){const E=this.terrain.sourceCache.getTerrainCoords(x);for(const P in E)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(E[P])}}this._coordsDescendingInvStr={};for(const m of a._order){const v=a._layers[m],x=v.source;if($i[v.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const E in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][E]=this._coordsDescendingInv[x][E].map(P=>P.key).sort().join()}}for(const m of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[v][m.tileID.key];x&&x!==m.rttCoords[v]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const d=a.type,m=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if($i[d]&&(this._prevType&&$i[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(a.id),!v))return!0;if($i[this._prevType]||$i[d]&&v){this._prevType=d;const x=this._stacks.length-1,E=this._stacks[x]||[];for(const P of this._renderableTiles){if(this.pool.isFull()&&(Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(P),P.rtt[x]){const z=this.pool.getObjectForId(P.rtt[x].id);if(z.stamp===P.rtt[x].stamp){this.pool.useObject(z);continue}}const L=this.pool.getOrCreateFreeObject();this.pool.useObject(L),this.pool.stampObject(L),P.rtt[x]={id:L.id,stamp:L.stamp},m.context.bindFramebuffer.set(L.fbo.framebuffer),m.context.clear({color:o.aT.transparent,stencil:0}),m.currentStencilSource=void 0;for(let z=0;z<E.length;z++){const V=m.style._layers[E[z]],U=V.source?this._coordsDescendingInv[V.source][P.tileID.key]:[P.tileID];m.context.viewport.set([0,0,L.fbo.width,L.fbo.height]),m._renderTileClippingMasks(V,U),m.renderLayer(m,m.style.sourceCaches[V.source],V,U),V.source&&(P.rttCoords[V.source]=this._coordsDescendingInvStr[V.source][P.tileID.key])}}return Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),$i[d]}return!1}}const Qt=p,on={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Dc=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},Rh={showCompass:!0,showZoom:!0,visualizePitch:!1};class Oh{constructor(a,d,m=!1){this.mousedown=E=>{this.startMouse(o.e({},E,{ctrlKey:!0,preventDefault:()=>E.preventDefault()}),y.mousePos(this.element,E)),y.addEventListener(window,"mousemove",this.mousemove),y.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=E=>{this.moveMouse(E,y.mousePos(this.element,E))},this.mouseup=E=>{this.mouseRotate.dragEnd(E),this.mousePitch&&this.mousePitch.dragEnd(E),this.offTemp()},this.touchstart=E=>{E.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.startTouch(E,this._startPos),y.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.addEventListener(window,"touchend",this.touchend))},this.touchmove=E=>{E.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.moveTouch(E,this._lastPos))},this.touchend=E=>{E.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=a.dragRotate._mouseRotate.getClickTolerance(),x=a.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=Rl({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:E,clickTolerance:P,bearingDegreesPerPixelMoved:L=.8})=>{const z=new rp;return new Os({clickTolerance:P,move:(V,U)=>({bearingDelta:(U.x-V.x)*L}),moveStateManager:z,enable:E,assignEvents:Dc})})({clickTolerance:v,enable:!0}),this.map=a,m&&(this.mousePitch=Fs({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:E,clickTolerance:P,pitchDegreesPerPixelMoved:L=-.5})=>{const z=new rp;return new Os({clickTolerance:P,move:(V,U)=>({pitchDelta:(U.y-V.y)*L}),moveStateManager:z,enable:E,assignEvents:Dc})})({clickTolerance:x,enable:!0})),y.addEventListener(d,"mousedown",this.mousedown),y.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(d,"touchcancel",this.reset)}startMouse(a,d){this.mouseRotate.dragStart(a,d),this.mousePitch&&this.mousePitch.dragStart(a,d),y.disableDrag()}startTouch(a,d){this.touchRotate.dragStart(a,d),this.touchPitch&&this.touchPitch.dragStart(a,d),y.disableDrag()}moveMouse(a,d){const m=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.mousePitch){const{pitchDelta:x}=this.mousePitch.dragMove(a,d)||{};x&&m.setPitch(m.getPitch()+x)}}moveTouch(a,d){const m=this.map,{bearingDelta:v}=this.touchRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.touchPitch){const{pitchDelta:x}=this.touchPitch.dragMove(a,d)||{};x&&m.setPitch(m.getPitch()+x)}}off(){const a=this.element;y.removeEventListener(a,"mousedown",this.mousedown),y.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend),y.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){y.enableDrag(),y.removeEventListener(window,"mousemove",this.mousemove),y.removeEventListener(window,"mouseup",this.mouseup),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend)}}let Yr;function Fh(_,a,d){if(_=new o.L(_.lng,_.lat),a){const m=new o.L(_.lng-360,_.lat),v=new o.L(_.lng+360,_.lat),x=d.locationPoint(_).distSqr(a);d.locationPoint(m).distSqr(a)<x?_=m:d.locationPoint(v).distSqr(a)<x&&(_=v)}for(;Math.abs(_.lng-d.center.lng)>180;){const m=d.locationPoint(_);if(m.x>=0&&m.y>=0&&m.x<=d.width&&m.y<=d.height)break;_.lng>d.center.lng?_.lng-=360:_.lng+=360}return _}const Da={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function hp(_,a,d){const m=_.classList;for(const v in Da)m.remove(`maplibregl-${d}-anchor-${v}`);m.add(`maplibregl-${d}-anchor-${a}`)}class Ho extends o.E{constructor(a){if(super(),this._onKeyPress=d=>{const m=d.code,v=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=d=>{const m=d.originalEvent.target,v=this._element;this._popup&&(m===v||v.contains(m))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const m=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!m)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Fh(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let v="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?v=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let x="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?x="rotateX(0deg)":this._pitchAlignment==="map"&&(x=`rotateX(${this._map.getPitch()}deg)`),d&&d.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,`${Da[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${x} ${v}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const E=this._map.unproject(this._pos),P=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=E.distanceTo(this._lngLat)>20*P?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");const d=y.createNS("http://www.w3.org/2000/svg","svg"),m=41,v=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${m}px`),d.setAttributeNS(null,"width",`${v}px`),d.setAttributeNS(null,"viewBox",`0 0 ${v} ${m}`);const x=y.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");const E=y.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");const P=y.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"transform","translate(3.0, 29.0)"),P.setAttributeNS(null,"fill","#000000");const L=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const De of L){const je=y.createNS("http://www.w3.org/2000/svg","ellipse");je.setAttributeNS(null,"opacity","0.04"),je.setAttributeNS(null,"cx","10.5"),je.setAttributeNS(null,"cy","5.80029008"),je.setAttributeNS(null,"rx",De.rx),je.setAttributeNS(null,"ry",De.ry),P.appendChild(je)}const z=y.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const V=y.createNS("http://www.w3.org/2000/svg","path");V.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(V);const U=y.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"opacity","0.25"),U.setAttributeNS(null,"fill","#000000");const Q=y.createNS("http://www.w3.org/2000/svg","path");Q.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),U.appendChild(Q);const he=y.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(6.0, 7.0)"),he.setAttributeNS(null,"fill","#FFFFFF");const de=y.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ge=y.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");const ce=y.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#FFFFFF"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962"),de.appendChild(ge),de.appendChild(ce),E.appendChild(P),E.appendChild(z),E.appendChild(U),E.appendChild(he),E.appendChild(de),d.appendChild(E),d.setAttributeNS(null,"height",m*this._scale+"px"),d.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),hp(this._element,this._anchor,"marker"),a&&a.className)for(const d of a.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(a){return this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.L.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const v=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?a.remove():a.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const zr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Pr=0,Fl=!1;const Mc={maxWidth:100,unit:"metric"};function Lc(_,a,d){const m=d&&d.maxWidth||100,v=_._container.clientHeight/2,x=_.unproject([0,v]),E=_.unproject([m,v]),P=x.distanceTo(E);if(d&&d.unit==="imperial"){const L=3.2808*P;L>5280?Go(a,m,L/5280,_._getUIString("ScaleControl.Miles")):Go(a,m,L,_._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Go(a,m,P/1852,_._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Go(a,m,P/1e3,_._getUIString("ScaleControl.Kilometers")):Go(a,m,P,_._getUIString("ScaleControl.Meters"))}function Go(_,a,d,m){const v=function(x){const E=Math.pow(10,`${Math.floor(x)}`.length-1);let P=x/E;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(L){const z=Math.pow(10,Math.ceil(-Math.log(L)/Math.LN10));return Math.round(L*z)/z}(P),E*P}(d);_.style.width=a*(v/d)+"px",_.innerHTML=`${v}&nbsp;${m}`}const zh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Bh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function zl(_){if(_){if(typeof _=="number"){const a=Math.round(Math.abs(_)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,_),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-_),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(_,0),right:new o.P(-_,0)}}if(_ instanceof o.P||Array.isArray(_)){const a=o.P.convert(_);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(_.center||[0,0]),top:o.P.convert(_.top||[0,0]),"top-left":o.P.convert(_["top-left"]||[0,0]),"top-right":o.P.convert(_["top-right"]||[0,0]),bottom:o.P.convert(_.bottom||[0,0]),"bottom-left":o.P.convert(_["bottom-left"]||[0,0]),"bottom-right":o.P.convert(_["bottom-right"]||[0,0]),left:o.P.convert(_.left||[0,0]),right:o.P.convert(_.right||[0,0])}}return zl(new o.P(0,0))}const Vh={extend:(_,...a)=>o.e(_,...a),run(_){_()},logToElement(_,a=!1,d="log"){const m=window.document.getElementById(d);m&&(a&&(m.innerHTML=""),m.innerHTML+=`<br>${_}`)}},Nh=p;class Yn{static get version(){return Nh}static get workerCount(){return It.workerCount}static set workerCount(a){It.workerCount=a}static get maxParallelImageRequests(){return o.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(a){o.c.MAX_PARALLEL_IMAGE_REQUESTS=a}static get workerUrl(){return o.c.WORKER_URL}static set workerUrl(a){o.c.WORKER_URL=a}static addProtocol(a,d){o.c.REGISTERED_PROTOCOLS[a]=d}static removeProtocol(a){delete o.c.REGISTERED_PROTOCOLS[a]}}return Yn.Map=class extends lp{constructor(_){if(o.bg.mark(o.bh.create),(_=o.e({},on,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new $u(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),{bearingSnap:_.bearingSnap}),this._cooperativeGesturesOnWheel=a=>{this._onCooperativeGesture(a,a[this._metaKey],1)},this._contextLost=a=>{a.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.k("webglcontextlost",{originalEvent:a}))},this._contextRestored=a=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:a}))},this._onMapScroll=a=>{if(a.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._cooperativeGestures=_.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new Hu,this._controls=[],this._mapId=o.a2(),this._locale=o.e({},Lh,_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this._imageQueueHandle=F.addThrottleControl(()=>this.isMoving()),this._requestManager=new q(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let a=!1;const d=jo(m=>{this._trackResize&&!this._removed&&this.resize(m)._update()},50);this._resizeObserver=new ResizeObserver(m=>{a?d(m):a=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Mh(this,_),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=_.hash&&new Tc(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,o.e({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new _a({customAttribution:_.customAttribution})),_.maplibreLogo&&this.addControl(new yr,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new o.k(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new o.k(`${a.dataType}dataloading`,a))}),this.on("dataabort",a=>{this.fire(new o.k("sourcedataabort",a))})}_getMapId(){return this._mapId}addControl(_,a){if(a===void 0&&(a=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=_.onAdd(this);this._controls.push(_);const m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(_);return a>-1&&this._controls.splice(a,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,a,d,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,a,d,m)}resize(_){var a;const d=this._containerDimensions(),m=d[0],v=d[1],x=this._getClampedPixelRatio(m,v);if(this._resizeCanvas(m,v,x),this.painter.resize(m,v,x),this.painter.overLimit()){const P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];const L=this._getClampedPixelRatio(m,v);this._resizeCanvas(m,v,L),this.painter.resize(m,v,L)}this.transform.resize(m,v),(a=this._requestedCameraState)===null||a===void 0||a.resize(m,v);const E=!this._moving;return E&&(this.stop(),this.fire(new o.k("movestart",_)).fire(new o.k("move",_))),this.fire(new o.k("resize",_)),E&&this.fire(new o.k("moveend",_)),this}_getClampedPixelRatio(_,a){const{0:d,1:m}=this._maxCanvasSize,v=this.getPixelRatio(),x=_*v,E=a*v;return Math.min(x>d?d/x:1,E>m?m/E:1)*v}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(at.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(_){return this._cooperativeGestures=_,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(_){return this.transform.locationPoint(o.L.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(o.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,a,d){if(_==="mouseenter"||_==="mouseover"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:x=>{const E=this.getLayer(a)?this.queryRenderedFeatures(x.point,{layers:[a]}):[];E.length?m||(m=!0,d.call(this,new ya(_,this,x.originalEvent,{features:E}))):m=!1},mouseout:()=>{m=!1}}}}if(_==="mouseleave"||_==="mouseout"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:E=>{(this.getLayer(a)?this.queryRenderedFeatures(E.point,{layers:[a]}):[]).length?m=!0:m&&(m=!1,d.call(this,new ya(_,this,E.originalEvent)))},mouseout:E=>{m&&(m=!1,d.call(this,new ya(_,this,E.originalEvent)))}}}}{const m=v=>{const x=this.getLayer(a)?this.queryRenderedFeatures(v.point,{layers:[a]}):[];x.length&&(v.features=x,d.call(this,v),delete v.features)};return{layer:a,listener:d,delegates:{[_]:m}}}}on(_,a,d){if(d===void 0)return super.on(_,a);const m=this._createDelegatedListener(_,a,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(_,a,d){if(d===void 0)return super.once(_,a);const m=this._createDelegatedListener(_,a,d);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(_,a,d){return d===void 0?super.off(_,a):(this._delegatedListeners&&this._delegatedListeners[_]&&(m=>{const v=this._delegatedListeners[_];for(let x=0;x<v.length;x++){const E=v[x];if(E.layer===a&&E.listener===d){for(const P in E.delegates)this.off(P,E.delegates[P]);return v.splice(x,1),this}}})(),this)}queryRenderedFeatures(_,a){if(!this.style)return[];let d;const m=_ instanceof o.P||Array.isArray(_),v=m?_:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:_)||{},v instanceof o.P||typeof v[0]=="number")d=[o.P.convert(v)];else{const x=o.P.convert(v[0]),E=o.P.convert(v[1]);d=[x,new o.P(E.x,x.y),E,new o.P(x.x,E.y),x]}return this.style.queryRenderedFeatures(d,a,this.transform)}querySourceFeatures(_,a){return this.style.querySourceFeatures(_,a)}setStyle(_,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(_,a))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const a=this._locale[_];if(a==null)throw new Error(`Missing UI string '${_}'`);return a}_updateStyle(_,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(_,a));const d=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new ki(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,a,d):this.style.loadJSON(_,a,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ki(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,a){if(typeof _=="string"){const d=this._requestManager.transformRequest(_,N.Style);o.f(d,(m,v)=>{m?this.fire(new o.j(m)):v&&this._updateDiff(v,a)})}else typeof _=="object"&&this._updateDiff(_,a)}_updateDiff(_,a){try{this.style.setState(_,a)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(_,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(_,a){return this._lazyInitEmptyStyle(),this.style.addSource(_,a),this._update(!0)}isSourceLoaded(_){const a=this.style&&this.style.sourceCaches[_];if(a!==void 0)return a.loaded();this.fire(new o.j(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const a=this.style.sourceCaches[_.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);for(const d in this.style._layers){const m=this.style._layers[d];m.type==="hillshade"&&m.source===_.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new dp(this.painter,a,_),this.painter.renderToTexture=new Gu(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==_.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:_})),this}getTerrain(){var _,a;return(a=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&a!==void 0?a:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const a in _){const d=_[a]._tiles;for(const m in d){const v=d[m];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}addSourceType(_,a,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(_,a,d)}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,a,d={}){const{pixelRatio:m=1,sdf:v=!1,stretchX:x,stretchY:E,content:P}=d;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.a(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:L,height:z,data:V}=a,U=a;return this.style.addImage(_,{data:new o.R({width:L,height:z},new Uint8Array(V)),pixelRatio:m,stretchX:x,stretchY:E,content:P,sdf:v,version:0,userImage:U}),U.onAdd&&U.onAdd(this,_),this}}{const{width:L,height:z,data:V}=o.h.getImageData(a);this.style.addImage(_,{data:new o.R({width:L,height:z},V),pixelRatio:m,stretchX:x,stretchY:E,content:P,sdf:v,version:0})}}updateImage(_,a){const d=this.style.getImage(_);if(!d)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=a instanceof HTMLImageElement||o.a(a)?o.h.getImageData(a):a,{width:v,height:x,data:E}=m;if(v===void 0||x===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==d.data.width||x!==d.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const P=!(a instanceof HTMLImageElement||o.a(a));return d.data.replace(E,P),this.style.updateImage(_,d),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,a){F.getImage(this._requestManager.transformRequest(_,N.Image),a)}listImages(){return this.style.listImages()}addLayer(_,a){return this._lazyInitEmptyStyle(),this.style.addLayer(_,a),this._update(!0)}moveLayer(_,a){return this.style.moveLayer(_,a),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,a,d){return this.style.setLayerZoomRange(_,a,d),this._update(!0)}setFilter(_,a,d={}){return this.style.setFilter(_,a,d),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,a,d,m={}){return this.style.setPaintProperty(_,a,d,m),this._update(!0)}getPaintProperty(_,a){return this.style.getPaintProperty(_,a)}setLayoutProperty(_,a,d,m={}){return this.style.setLayoutProperty(_,a,d,m),this._update(!0)}getLayoutProperty(_,a){return this.style.getLayoutProperty(_,a)}setGlyphs(_,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,a,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,a,d,m=>{m||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,a,d=>{d||this._update(!0)}),this}setLight(_,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(_,a){return this.style.setFeatureState(_,a),this._update()}removeFeatureState(_,a){return this.style.removeFeatureState(_,a),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,a=0;return this._container&&(_=this._container.clientWidth||400,a=this._container.clientHeight||300),[_,a]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const a=this._canvasContainer=y.create("div","maplibregl-canvas-container",_);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=y.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),m=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],m);const v=this._controlContainer=y.create("div","maplibregl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{x[E]=y.create("div",`maplibregl-ctrl-${E} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=y.create("div","maplibregl-cooperative-gesture-screen",this._container);let _=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(_=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${_}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){y.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(_,a,d){this._canvas.width=Math.floor(d*_),this._canvas.height=Math.floor(d*a),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:_},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});const d=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!d){const m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new qo(d,this.transform),w.testSupport(d)}_onCooperativeGesture(_,a,d){return!a&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){const a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,x=o.h.now();this.style.zoomHistory.update(v,x);const E=new o.a8(v,{now:x,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=E.crossFadingFactor();P===1&&P===this._crossFadingFactor||(d=!0,this._crossFadingFactor=P),this.style.update(E)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bg.mark(o.bh.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,o.bg.mark(o.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),F.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const a=this.painter.context.gl.getExtension("WEBGL_lose_context");a&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),y.remove(this._canvasContainer),y.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),o.bg.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=o.h.frame(_=>{o.bg.frame(_),this._frame=null,this._render(_)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return Qt}getCameraTargetElevation(){return this.transform.elevation}},Yn.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const a=this._map.getZoom(),d=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,d)=>{const m=this._map._getUIString(`NavigationControl.${d}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},Rh,_),this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=y.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Oh(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,a){const d=y.create("button",_,this._container);return d.type="button",d.addEventListener("click",a),d}},Yn.GeolocateControl=class extends o.E{constructor(_){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{const d=new o.L(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,v=this._map.getBearing(),x=o.e({bearing:v},this.options.fitBoundsOptions),E=at.fromLngLat(d,m);this._map.fitBounds(E,x,{geolocateSource:!0})},this._updateMarker=a=>{if(a){const d=new o.L(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Fl)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=a=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=y.create("button","maplibregl-ctrl-geolocate",this._container),y.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ho({element:this._dotElement}),this._circleElement=y.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ho({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")))})}},this.options=o.e({},zr,_)}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(a,d=!1){Yr===void 0||d?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(m=>{Yr=m.state!=="denied",a(Yr)}).catch(()=>{Yr=!!window.navigator.geolocation,a(Yr)}):(Yr=!!window.navigator.geolocation,a(Yr)):a(Yr)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Pr=0,Fl=!1}_isOutOfMapMaxBounds(_){const a=this._map.getMaxBounds(),d=_.coords;return a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),a=_.getSouthEast(),d=_.getNorthEast(),m=a.distanceTo(d),v=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Pr--,Fl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Pr++,Pr>1?(_={maximumAge:6e5,timeout:0},Fl=!0):(_=this.options.positionOptions,Fl=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Yn.AttributionControl=_a,Yn.LogoControl=yr,Yn.ScaleControl=class{constructor(_){this._onMove=()=>{Lc(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,Lc(this._map,this._container,this.options)},this.options=o.e({},Mc,_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Yn.FullscreenControl=class extends o.E{constructor(_={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){y.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=y.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);y.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Yn.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=_}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=y.create("button","maplibregl-ctrl-terrain",this._container),y.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){y.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Yn.Popup=class extends o.E{constructor(_){super(),this.remove=()=>(this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.k("close")),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=y.create("div","maplibregl-popup",this._map.getContainer()),this._tip=y.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const E of this.options.className.split(" "))this._container.classList.add(E);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Fh(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!a)return;const d=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);let m=this.options.anchor;const v=zl(this.options.offset);if(!m){const E=this._container.offsetWidth,P=this._container.offsetHeight;let L;L=d.y+v.bottom.y<P?["top"]:d.y>this._map.transform.height-P?["bottom"]:[],d.x<E/2?L.push("left"):d.x>this._map.transform.width-E/2&&L.push("right"),m=L.length===0?"bottom":L.join("-")}const x=d.add(v[m]).round();y.setTransform(this._container,`${Da[m]} translate(${x.x}px,${x.y}px)`),hp(this._container,m,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(zh),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=o.L.convert(_),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const a=document.createDocumentFragment(),d=document.createElement("body");let m;for(d.innerHTML=_;m=d.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=y.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){this._container&&this._container.classList.add(_)}removeClassName(_){this._container&&this._container.classList.remove(_)}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}_createCloseButton(){this.options.closeButton&&(this._closeButton=y.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(Bh);_&&_.focus()}},Yn.Marker=Ho,Yn.Style=ki,Yn.LngLat=o.L,Yn.LngLatBounds=at,Yn.Point=o.P,Yn.MercatorCoordinate=o.U,Yn.Evented=o.E,Yn.AJAXError=o.bi,Yn.config=o.c,Yn.CanvasSource=$t,Yn.GeoJSONSource=it,Yn.ImageSource=Ue,Yn.RasterDEMTileSource=Ne,Yn.RasterTileSource=kt,Yn.VectorTileSource=dt,Yn.VideoSource=Ct,Yn.setRTLTextPlugin=o.bj,Yn.getRTLTextPluginStatus=o.bk,Yn.prewarm=function(){On().acquire(Et)},Yn.clearPrewarmedResources=function(){const _=sn;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Et),sn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Vh.extend(Yn,{isSafari:o.ac,getPerformanceMetrics:o.bg.getPerformanceMetrics}),Yn});var h=s;return h})})(DA);var cu=DA.exports;function xB(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}/*!
* vue-maplibre-gl v3.1.3
* (c) 2024 Volker Nauruhn
* @license MIT
*/var wB=Object.defineProperty,SB=(e,t,n)=>t in e?wB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wi=(e,t,n)=>(SB(e,typeof t!="symbol"?t+"":t,n),n);const bi=Symbol("map"),ts=Symbol("isLoaded"),_l=Symbol("isInitialized"),Yi=Symbol("componentId"),Zi=Symbol("sourceId"),pc=Symbol("sourceLayerRegistry"),J0=Symbol("emitter");function uu(e){return Object.keys(e)}const En=Ei({style:"https://demotiles.maplibre.org/style.json",center:Object.freeze([0,0]),zoom:1,trackResize:!1});class js{static createEventHandler(t,n,r,s){return(u={})=>r.emit(s,{type:u.type,map:n,component:t,event:u})}}wi(js,"MAP_OPTION_KEYS",["antialias","attributionControl","bearing","bearingSnap","bounds","boxZoom","center","clickTolerance","collectResourceTiming","crossSourceCollisions","container","customAttribution","dragPan","dragRotate","doubleClickZoom","hash","fadeDuration","failIfMajorPerformanceCaveat","fitBoundsOptions","interactive","keyboard","locale","localIdeographFontFamily","logoPosition","maxBounds","maxPitch","maxZoom","minPitch","minZoom","preserveDrawingBuffer","pitch","pitchWithRotate","refreshExpiredTiles","renderWorldCopies","scrollZoom","mapStyle","trackResize","transformRequest","touchZoomRotate","touchPitch","zoom","maxTileCacheSize","pixelRatio","cooperativeGestures"]),wi(js,"MARKER_OPTION_KEYS",["element","offset","anchor","color","draggable","clickTolerance","rotation","rotationAlignment","pitchAlignment","scale"]),wi(js,"MAP_EVENT_TYPES",["error","load","idle","remove","render","resize","webglcontextlost","webglcontextrestored","dataloading","data","tiledataloading","sourcedataloading","styledataloading","sourcedata","styledata","boxzoomcancel","boxzoomstart","boxzoomend","touchcancel","touchmove","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","movestart","move","moveend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","dragstart","drag","dragend","pitchstart","pitch","pitchend","wheel"]);var gc=(e=>(e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(gc||{});const bl=Object.values(gc),Ek=new Map,kB=Symbol("default");function CB(e,t,n=kB){var r;let s=Ek.get(n);return s||(s=Ei({isLoaded:!1,isMounted:!1,language:null}),Ek.set(n,s)),s.isLoaded=!1,s.isMounted=!1,s.component=e,s.map=t.value,s.isLoaded=((r=t.value)==null?void 0:r.loaded())||!1,s}function TB(e,t=250,n=!1){let r;function s(){const u=arguments,h=()=>{r=void 0,n!==!0&&e.apply(this,u)};clearTimeout(r),n===!0&&r===void 0&&e.apply(this,u),r=window.setTimeout(h,t)}return s.cancel=()=>{clearTimeout(r)},s}const LA={AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"latin",NON_LATIN:"nonlatin",LOCAL:"",ALBANIAN:"sq",AMHARIC:"am",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BASQUE:"eu",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CORSICAN:"co",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HINDI:"hi",HUNGARIAN:"hu",ICELANDIC:"is",INDONESIAN:"id",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",JAPANESE_HIRAGANA:"ja-Hira",JAPANESE_KANA:"ja_kana",JAPANESE_LATIN:"ja_rm",JAPANESE_2018:"ja-Latn",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",KOREAN_LATIN:"ko-Latn",KURDISH:"ku",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALAYALAM:"ml",MALTESE:"mt",NORWEGIAN:"no",OCCITAN:"oc",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SERBIAN_LATIN:"sr-Latn",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",TAMIL:"ta",TELUGU:"te",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(LA));new Set(Object.values(LA));function x_(e,t){const n=e.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,s=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/,h=/^(.*)({\s*name\s*(:\s*(\S*))?\s*})(.*)$/,o=t?`name:${t}`:"name",p=["case",["has",o],["get",o],["get","name"]];for(let y=0;y<n.length;y+=1){const w=n[y],k=w.layout;if(!k||!k["text-field"])continue;const C=e.getLayoutProperty(w.id,"text-field");let I;if(Array.isArray(C)&&C.length>=2&&C[0].trim().toLowerCase()==="concat"){const R=C.slice();for(let M=0;M<C.length;M+=1){const F=C[M];if((typeof F=="string"||F instanceof String)&&r.exec(F.toString())){R[M]=p;break}else if(Array.isArray(F)&&F.length>=2&&F[0].trim().toLowerCase()==="get"&&s.exec(F[1].toString())){R[M]=p;break}else if(Array.isArray(F)&&F.length===4&&F[0].trim().toLowerCase()==="case"){R[M]=p;break}}e.setLayoutProperty(w.id,"text-field",R)}else if(Array.isArray(C)&&C.length>=2&&C[0].trim().toLowerCase()==="get"&&s.exec(C[1].toString())){const R=p;e.setLayoutProperty(w.id,"text-field",R)}else if((typeof C=="string"||C instanceof String)&&r.exec(C.toString())){const R=p;e.setLayoutProperty(w.id,"text-field",R)}else if(Array.isArray(C)&&C.length===4&&C[0].trim().toLowerCase()==="case"){const R=p;e.setLayoutProperty(w.id,"text-field",R)}else if((typeof C=="string"||C instanceof String)&&(I=u.exec(C.toString()))!==null){const R=`{${o}}${I[3]}{name${I[4]||""}}`;e.setLayoutProperty(w.id,"text-field",R)}else if((typeof C=="string"||C instanceof String)&&(I=h.exec(C.toString()))!==null){const R=`${I[1]}{${o}}${I[5]}`;e.setLayoutProperty(w.id,"text-field",R)}}}const AB=lr({name:"MglMap",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},antialias:{type:Boolean,default:()=>En.antialias},attributionControl:{type:Boolean,default:()=>En.attributionControl},bearing:{type:Number,default:()=>En.bearing},bearingSnap:{type:Number,default:()=>En.bearingSnap},bounds:{type:[Array,Object],default:()=>En.bounds},boxZoom:{type:Boolean,default:()=>En.boxZoom},center:{type:[Array,Object],default:()=>En.center},clickTolerance:{type:Number,default:()=>En.clickTolerance},collectResourceTiming:{type:Boolean,default:()=>En.collectResourceTiming},crossSourceCollisions:{type:Boolean,default:()=>En.crossSourceCollisions},customAttribution:{type:[String,Array],default:()=>En.customAttribution},dragPan:{type:Boolean,default:()=>En.dragPan},dragRotate:{type:Boolean,default:()=>En.dragRotate},doubleClickZoom:{type:Boolean,default:()=>En.doubleClickZoom},hash:{type:[Boolean,String],default:()=>En.hash},fadeDuration:{type:Number,default:()=>En.fadeDuration},failIfMajorPerformanceCaveat:{type:Boolean,default:()=>En.failIfMajorPerformanceCaveat},fitBoundsOptions:{type:Object,default:()=>En.fitBoundsOptions},interactive:{type:Boolean,default:()=>En.interactive},keyboard:{type:Boolean,default:()=>En.keyboard},locale:{type:Object,default:()=>En.locale},language:{type:String,default:()=>En.language||null},localIdeographFontFamily:{type:String,default:()=>En.localIdeographFontFamily},logoPosition:{type:[String],validator:e=>e in gc,default:()=>En.logoPosition},maxBounds:{type:[Array,Object],default:()=>En.maxBounds},maxPitch:{type:Number,default:()=>En.maxPitch},maxZoom:{type:Number,default:()=>En.maxZoom},minPitch:{type:Number,default:()=>En.minPitch},minZoom:{type:Number,default:()=>En.minZoom},preserveDrawingBuffer:{type:Boolean,default:()=>En.preserveDrawingBuffer},pitch:{type:Number,default:()=>En.pitch},pitchWithRotate:{type:Boolean,default:()=>En.pitchWithRotate},refreshExpiredTiles:{type:Boolean,default:()=>En.refreshExpiredTiles},renderWorldCopies:{type:Boolean,default:()=>En.renderWorldCopies},scrollZoom:{type:Boolean,default:()=>En.scrollZoom},mapStyle:{type:[String,Object],default:()=>En.style},trackResize:{type:Boolean,default:()=>En.trackResize},transformRequest:{type:Function,default:En.transformRequest},touchZoomRotate:{type:Boolean,default:()=>En.touchZoomRotate},touchPitch:{type:Boolean,default:()=>En.touchPitch},zoom:{type:Number,default:()=>En.zoom},maxTileCacheSize:{type:Number,default:()=>En.maxTileCacheSize},mapKey:{type:[String,Symbol]},pixelRatio:{type:Number,default:()=>En.pixelRatio},cooperativeGestures:{type:[Boolean,Object],default:()=>En.cooperativeGestures}},emits:["map:error","map:load","map:idle","map:remove","map:render","map:resize","map:webglcontextlost","map:webglcontextrestored","map:dataloading","map:data","map:tiledataloading","map:sourcedataloading","map:styledataloading","map:sourcedata","map:styledata","map:boxzoomcancel","map:boxzoomstart","map:boxzoomend","map:touchcancel","map:touchmove","map:touchend","map:touchstart","map:click","map:contextmenu","map:dblclick","map:mousemove","map:mouseup","map:mousedown","map:mouseout","map:mouseover","map:movestart","map:move","map:moveend","map:zoomstart","map:zoom","map:zoomend","map:rotatestart","map:rotate","map:rotateend","map:dragstart","map:drag","map:dragend","map:pitchstart","map:pitch","map:pitchend","map:wheel"],slots:Object,setup(e,t){const n=wg(Ts()),r=Rt(),s=Rt(),u=ht(!1),h=ht(!1),o=ht(!1),p=new Map,y=xB(),w=CB(n,s,e.mapKey);let k;xn(bi,s),xn(ts,h),xn(_l,u),xn(Yi,n.uid),xn(Zi,""),xn(J0,y),ct(()=>e.bearing,F=>{var N;F&&((N=s.value)==null||N.setBearing(F))}),ct(()=>e.bounds,F=>{var N;F&&((N=s.value)==null||N.fitBounds(F,e.fitBoundsOptions))}),ct(()=>e.center,F=>{var N;F&&((N=s.value)==null||N.setCenter(F))}),ct(()=>e.maxBounds,F=>{var N;F&&((N=s.value)==null||N.setMaxBounds(F))}),ct(()=>e.maxPitch,F=>{var N;F&&((N=s.value)==null||N.setMaxPitch(F))}),ct(()=>e.maxZoom,F=>{var N;F&&((N=s.value)==null||N.setMaxZoom(F))}),ct(()=>e.minPitch,F=>{var N;F&&((N=s.value)==null||N.setMinPitch(F))}),ct(()=>e.minZoom,F=>{var N;F&&((N=s.value)==null||N.setMinZoom(F))}),ct(()=>e.pitch,F=>{var N;F&&((N=s.value)==null||N.setPitch(F))}),ct(()=>e.renderWorldCopies,F=>{var N;F&&((N=s.value)==null||N.setRenderWorldCopies(F))}),ct(()=>e.mapStyle,F=>{var N;F&&((N=s.value)==null||N.setStyle(F))}),ct(()=>e.transformRequest,F=>{var N;F&&((N=s.value)==null||N.setTransformRequest(F))}),ct(()=>e.zoom,F=>{var N;F&&((N=s.value)==null||N.setZoom(F))}),ct(()=>e.zoom,F=>{var N;F&&((N=s.value)==null||N.setZoom(F))}),ct(()=>e.language,F=>{o.value&&s.value&&w.language!==(F||null)&&(x_(s.value,F||""),w.language=F||null)}),ct(()=>w.language,F=>{o.value&&s.value&&x_(s.value,F||"")});function C(){o.value=!0,e.language?w.language=e.language:w.language&&x_(s.value,e.language||"")}function I(){w.isMounted=!0;const F=Object.keys(e).filter(N=>e[N]!==void 0&&js.MAP_OPTION_KEYS.indexOf(N)!==-1).reduce((N,q)=>(N[q==="mapStyle"?"style":q]=Vr(e[q]),N),{container:r.value});if(s.value=wg(new cu.Map(F)),w.map=s.value,u.value=!0,p.set("__load",()=>(h.value=!0,w.isLoaded=!0)),s.value.once("styledata",C),s.value.on("load",p.get("__load")),n.vnode.props){for(let N=0,q=js.MAP_EVENT_TYPES.length;N<q;N++)if(n.vnode.props["onMap:"+js.MAP_EVENT_TYPES[N]]){const Z=js.createEventHandler(n,s.value,t,"map:"+js.MAP_EVENT_TYPES[N]);p.set(js.MAP_EVENT_TYPES[N],Z),s.value.on(js.MAP_EVENT_TYPES[N],Z)}}s.value.getCanvas().addEventListener("webglcontextlost",M)}async function R(){w.isMounted=!1,w.isLoaded=!1,h.value=!1,s.value&&(s.value.getCanvas().removeEventListener("webglcontextlost",M),s.value._controls.forEach(F=>{s.value.removeControl(F)}),u.value=!1,p.forEach((F,N)=>{s.value.off(N.startsWith("__")?N.substring(2):N,F)}),s.value.remove())}function M(){R(),Hn(I)}return fa(()=>{I(),s.value&&(k=new ResizeObserver(TB(s.value.resize.bind(s.value),100)),k.observe(r.value))}),Sr(()=>{k!==void 0&&(k.disconnect(),k=void 0),R()}),t.expose({map:s}),()=>Xr("div",{class:"mgl-container",style:{height:e.height,width:e.width}},[Xr("div",{ref:r,class:"mgl-wrapper"}),u.value&&t.slots.default?t.slots.default({}):void 0])}});function vc(e,t,n){ct(e,r=>{var s,u;r&&bl.indexOf(r)===-1||((s=t.value)!=null&&s.hasControl(n)&&t.value.removeControl(n),(u=t.value)==null||u.addControl(n,r))},{immediate:!0})}const EB=lr({name:"MglAttributionControl",props:{position:{type:String,validator:e=>bl.indexOf(e)!==-1},compact:Boolean,customAttribution:[String,Array]},setup(e){const t=yt(bi),n=yt(_l),r=new cu.AttributionControl({compact:e.compact,customAttribution:e.customAttribution});vc(()=>e.position,t,r),Sr(()=>n.value&&t.value.removeControl(r))},render(){}}),Sb=class pf{constructor(t,n){wi(this,"container"),this.isAdded=t,this.container=document.createElement("div"),this.setClasses(n)}getDefaultPosition(){return gc.TOP_LEFT}onAdd(){return Hn(()=>this.isAdded.value=!0),this.container}onRemove(){this.isAdded.value=!1,this.container.remove()}setClasses(t){t?(this.container.classList.remove(pf.CONTROL_CLASS),this.container.classList.remove(pf.CONTROL_GROUP_CLASS)):(this.container.classList.add(pf.CONTROL_CLASS),this.container.classList.add(pf.CONTROL_GROUP_CLASS))}};wi(Sb,"CONTROL_CLASS","maplibregl-ctrl"),wi(Sb,"CONTROL_GROUP_CLASS","maplibregl-ctrl-group");let RA=Sb;const IB=lr({name:"MglCustomControl",props:{position:{type:String,validator:e=>bl.indexOf(e)!==-1},noClasses:{type:Boolean,default:!1}},slots:Object,setup(e,{slots:t}){const n=yt(bi),r=yt(_l),s=ht(!1),u=new RA(s,e.noClasses);return vc(()=>e.position,n,u),ct(()=>e.noClasses,h=>u.setClasses(h)),Sr(()=>{var h;return r.value&&((h=n.value)==null?void 0:h.removeControl(u))}),()=>{var h;return s.value?Xr(F0,{to:u.container},(h=t.default)==null?void 0:h.call(t,{})):Xn("custom-component")}}}),PB=lr({name:"MglFullscreenControl",props:{position:{type:String,default:gc.TOP_RIGHT,validator:e=>bl.indexOf(e)!==-1},container:{type:Object,default:null}},setup(e){const t=yt(bi),n=yt(_l),r=new cu.FullscreenControl({container:e.container||void 0});function s(){Hn(()=>{var u;return(u=t.value)==null?void 0:u.resize()})}r.on("fullscreenstart",s),r.on("fullscreenend",s),vc(()=>e.position,t,r),Sr(()=>{var u;r.off("fullscreenstart",s),r.off("fullscreenend",s),n.value&&((u=t.value)==null||u.removeControl(r))})},render(){}});class DB{constructor(t="rgba(0,0,0,0.9)",n=4*window.devicePixelRatio,r="#7cf859",s="Monaco, Consolas, Courier, monospace",u=60*window.devicePixelRatio,h=90*window.devicePixelRatio,o=0,p=5*window.devicePixelRatio,y=100*window.devicePixelRatio){wi(this,"frames",0),wi(this,"totalTime",0),wi(this,"totalFrames",0),wi(this,"time",null),wi(this,"map"),wi(this,"container"),wi(this,"readOutput"),wi(this,"canvas"),wi(this,"eventHandlers",new Map),this.background=t,this.barWidth=n,this.color=r,this.font=s,this.graphHeight=u,this.graphWidth=h,this.graphTop=o,this.graphRight=p,this.width=y}getDefaultPosition(){return gc.TOP_RIGHT}onAdd(t){this.map=t;const n=this.container=document.createElement("div");return n.className="maplibregl-ctrl maplibregl-ctrl-fps",n.style.backgroundColor=this.background,n.style.borderRadius="6px",this.readOutput=document.createElement("div"),this.readOutput.style.color=this.color,this.readOutput.style.fontFamily=this.font,this.readOutput.style.padding="0 5px 5px",this.readOutput.style.fontSize="9px",this.readOutput.style.fontWeight="bold",this.readOutput.textContent="Waiting…",this.canvas=document.createElement("canvas"),this.canvas.className="maplibregl-ctrl-canvas",this.canvas.width=this.width,this.canvas.height=this.graphHeight,this.canvas.style.cssText=`width: ${this.width/window.devicePixelRatio}px; height: ${this.graphHeight/window.devicePixelRatio}px;`,n.appendChild(this.readOutput),n.appendChild(this.canvas),this.eventHandlers.set("movestart",this.onMoveStart.bind(this)),this.eventHandlers.set("moveend",this.onMoveEnd.bind(this)),this.map.on("movestart",this.eventHandlers.get("movestart")),this.map.on("moveend",this.eventHandlers.get("moveend")),this.container}onRemove(){this.map.off("movestart",this.eventHandlers.get("movestart")),this.map.off("moveend",this.eventHandlers.get("moveend")),this.eventHandlers.clear(),this.container.parentNode.removeChild(this.container),this.map=void 0}onMoveStart(){this.frames=0,this.time=performance.now(),this.eventHandlers.set("render",this.onRender.bind(this)),this.map.on("render",this.eventHandlers.get("render"))}onMoveEnd(){const t=performance.now();this.updateGraph(this.getFPS(t)),this.frames=0,this.time=null,this.map.off("render",this.eventHandlers.get("render"))}onRender(){if(this.time){this.frames++;const t=performance.now();t>=this.time+1e3&&(this.updateGraph(this.getFPS(t)),this.frames=0,this.time=performance.now())}}getFPS(t){return this.totalTime+=t-this.time,this.totalFrames+=this.frames,Math.round(1e3*this.frames/(t-this.time))||0}updateGraph(t){const n=this.canvas.getContext("2d"),r=Math.round(1e3*this.totalFrames/this.totalTime)||0,s=(this.graphHeight,this.barWidth);n.fillStyle=this.background,n.globalAlpha=1,n.fillRect(0,0,this.graphWidth,this.graphTop),n.fillStyle=this.color,this.readOutput.textContent=`${t} FPS (${r} Avg)`,n.drawImage(this.canvas,this.graphRight+s,this.graphTop,this.graphWidth-s,this.graphHeight,this.graphRight,this.graphTop,this.graphWidth-s,this.graphHeight),n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,this.graphHeight),n.fillStyle=this.background,n.globalAlpha=.75,n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,(1-t/100)*this.graphHeight)}}const MB=lr({name:"MglFrameRateControl",props:{position:{type:String,validator:e=>bl.indexOf(e)!==-1},background:{type:String,default:"rgba(0,0,0,0.9)"},barWidth:{type:Number,default:4*window.devicePixelRatio},color:{type:String,default:"#7cf859"},font:{type:String,default:"Monaco, Consolas, Courier, monospace"},graphHeight:{type:Number,default:60*window.devicePixelRatio},graphWidth:{type:Number,default:90*window.devicePixelRatio},graphTop:{type:Number,default:0},graphRight:{type:Number,default:5*window.devicePixelRatio},width:{type:Number,default:100*window.devicePixelRatio}},setup(e){const t=yt(bi),n=yt(_l),r=new DB(e.background,e.barWidth,e.color,e.font,e.graphHeight,e.graphWidth,e.graphTop,e.graphRight,e.width);vc(()=>e.position,t,r),Sr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),LB=lr({name:"MglGeolocationControl",props:{position:{type:String,default:gc.TOP_RIGHT,validator:e=>bl.indexOf(e)!==-1},positionOptions:{type:Object,default:{enableHighAccuracy:!1,timeout:6e3}},fitBoundsOptions:{type:Object,default:{maxZoom:15}},trackUserLocation:{type:Boolean,default:!1},showAccuracyCircle:{type:Boolean,default:!0},showUserLocation:{type:Boolean,default:!0}},setup(e){const t=yt(bi),n=yt(_l),r=new cu.GeolocateControl({positionOptions:e.positionOptions,fitBoundsOptions:e.fitBoundsOptions,trackUserLocation:e.trackUserLocation,showAccuracyCircle:e.showAccuracyCircle,showUserLocation:e.showUserLocation});vc(()=>e.position,t,r),Sr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),RB=lr({name:"MglNavigationControl",props:{position:{type:String,default:gc.TOP_RIGHT,validator:e=>bl.indexOf(e)!==-1},showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:Boolean},setup(e){const t=yt(bi),n=yt(_l),r=new cu.NavigationControl({showCompass:e.showCompass,showZoom:e.showZoom,visualizePitch:e.visualizePitch});vc(()=>e.position,t,r),Sr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var OA=(e=>(e.IMPERIAL="imperial",e.METRIC="metric",e.NAUTICAL="nautical",e))(OA||{});const OB=Object.values(OA),FB=lr({name:"MglScaleControl",props:{position:{type:String,validator:e=>bl.indexOf(e)!==-1},maxWidth:{type:Number,default:100},unit:{type:String,default:"metric",validator:e=>OB.indexOf(e)!==-1}},setup(e){const t=yt(bi),n=yt(_l),r=new cu.ScaleControl({maxWidth:e.maxWidth,unit:e.unit});vc(()=>e.position,t,r),Sr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var Og=(e=>(e.DEFAULT="default",e.TEXT="text",e.MDI="mdi",e.SIMPLE_ICON="simple-icons",e))(Og||{});const zB=Object.values(Og),Zp={text:void 0,mdi:{size:21,viewbox:"0 0 24 24"},"simple-icons":{size:21,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},kb=lr({name:"MglButton",props:{type:{type:String,default:"default",validator:e=>zB.indexOf(e)!==-1},path:{type:String},size:Number,viewbox:String},slots:Object,setup(e,{slots:t}){!e.path&&e.type!=="text"&&BO();const n=ht(Zp[e.type]||Zp.default);return ct(()=>e.type,r=>n.value=Zp[r]||Zp.default),()=>{var r,s;return e.type==="text"?Xr("button",{type:"button"},(r=t.default)==null?void 0:r.call(t,{})):Xr("button",{type:"button",class:"maplibregl-ctrl-icon"},[Xr("svg",{width:e.size||n.value.size,height:e.size||n.value.size,viewBox:e.viewbox||n.value.viewbox},Xr("path",{fill:"currentColor",d:e.path})),(s=t.default)==null?void 0:s.call(t,{})])}}});function Ik(e){return e&&!!e.stopPropagation}const BB=lr({name:"MglStyleSwitchControl",props:{position:{type:String,validator:e=>bl.indexOf(e)!==-1},mapStyles:{type:Array,required:!0,default:[]},modelValue:{type:Object},isOpen:{type:Boolean,default:void 0}},slots:Object,emits:["update:modelValue","update:isOpen"],setup(e,{emit:t,slots:n}){const r=yt(bi),s=yt(_l),u=yt(ts),h=yt(J0),o=ht(!1),p=ht(e.isOpen===void 0?!1:e.isOpen),y=Rt(e.modelValue===void 0?e.mapStyles.length?e.mapStyles[0]:null:e.modelValue),w=new RA(o,!1),k=R.bind(null,!1);function C(){const M=r.value.getStyle().name;for(let F=0,N=e.mapStyles.length;F<N;F++)if(e.mapStyles[F].name===M){I(e.mapStyles[F]);break}}ct(u,M=>{M&&C()},{immediate:!0}),r.value.on("style.load",C),document.addEventListener("click",k),vc(()=>e.position,r,w),e.modelValue!==void 0&&ct(()=>e.modelValue,M=>{M!==void 0&&(y.value=M)}),e.isOpen!==void 0&&ct(()=>e.isOpen,M=>{M!==void 0&&(p.value=M)}),Sr(()=>{s.value&&(r.value.removeControl(w),r.value.off("style.load",C)),document.removeEventListener("click",k)});function I(M){var F;((F=y.value)==null?void 0:F.name)!==M.name&&(h.emit("styleSwitched",M),r.value.setStyle(M.style,{diff:!1}),e.modelValue===void 0&&(y.value=M),t("update:modelValue",M),R(!1))}function R(M,F){Ik(F)?F.stopPropagation():Ik(M)&&M.stopPropagation(),!(e.isOpen!==void 0&&e.isOpen===M||p.value===M)&&(e.isOpen===void 0?(p.value=typeof M=="boolean"?M:!p.value,t("update:isOpen",p.value)):t("update:isOpen",typeof M=="boolean"?M:!e.isOpen))}return()=>{if(!o.value)return Xn("style-switch-control");const M={isOpen:p,toggleOpen:R,setStyle:I,mapStyles:e.mapStyles,currentStyle:y};return Xr(F0,{to:w.container},n.default?n.default(M):[n.button?n.button(M):Xr(kb,{type:Og.MDI,path:"M12,18.54L19.37,12.8L21,14.07L12,21.07L3,14.07L4.62,12.81L12,18.54M12,16L3,9L12,2L21,9L12,16M12,4.53L6.26,9L12,13.47L17.74,9L12,4.53Z",class:["maplibregl-ctrl-icon maplibregl-style-switch",p.value?"is-open":""],onClick:R.bind(null,!0)}),n.styleList?n.styleList(M):Xr("div",{class:["maplibregl-style-list",p.value?"is-open":""]},e.mapStyles.map(F=>{var N,q;return F.icon?Xr(kb,{type:Og.MDI,path:F.icon.path,class:((N=y.value)==null?void 0:N.name)===F.name?"is-active":"",onClick:()=>I(F)},zt(F.label)):Xr("button",{type:"button",class:((q=y.value)==null?void 0:q.name)===F.name?"is-active":"",onClick:()=>I(F)},zt(F.label))}))])}},template:`
		<slot>
		<slot name="button"></slot>
		<slot name="styleList"></slot>
		</slot>
	`}),VB=lr({name:"MglMarker",props:{coordinates:{type:[Object,Array],required:!0},offset:[Object,Array],anchor:String,color:String,clickTolerance:Number,rotation:Number,rotationAlignment:String,pitchAlignment:String,scale:Number},setup(e){const t=yt(bi),n=Object.keys(e).filter(s=>e[s]!==void 0&&js.MARKER_OPTION_KEYS.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Vr(e[u]),s),{}),r=new cu.Marker(n);return r.setLngLat(e.coordinates).addTo(t.value),ct(()=>e.coordinates,s=>r.setLngLat(s)),ct(()=>e.offset,s=>r.setOffset(s||[0,0])),ct(()=>e.pitchAlignment,s=>r.setPitchAlignment(s||"auto")),ct(()=>e.rotationAlignment,s=>r.setRotationAlignment(s||"auto")),Sr(r.remove.bind(r)),{marker:r}},render(){}});class du{constructor(){wi(this,"unmountHandlers",new Map)}registerUnmountHandler(t,n){this.unmountHandlers.set(t,n)}unregisterUnmountHandler(t){this.unmountHandlers.delete(t)}unmount(){this.unmountHandlers.forEach(t=>t())}}const FA=class Cb{static genSourceOpts(t,n,r){return Object.keys(n).filter(s=>n[s]!==void 0&&r.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Vr(n[u]),s),{type:t})}static getSourceRef(t,n){const r=typeof n=="string",s=String(t)+(r?n:"");let u=Cb.REFS.get(s);return u||(u=ht(r?null:void 0),Cb.REFS.set(s,u)),u}};wi(FA,"REFS",new Map);let Ki=FA;function hu(e,t,n,r,s){const u=yt(bi),h=yt(ts),o=yt(J0);function p(){h.value&&(u.value.addSource(t.sourceId,Ki.genSourceOpts(n,t,r)),e.value=u.value.getSource(t.sourceId))}function y(){e.value=null}return ct(h,p,{immediate:!0}),u.value.on("style.load",p),o.on("styleSwitched",y),Sr(()=>{h.value&&(s.unmount(),u.value.removeSource(t.sourceId)),u.value.off("style.load",p),o.off("styleSwitched",y)})}const NB=uu({animate:void 0,canvas:void 0,coordinates:void 0}),$B=lr({name:"MglCanvasSource",props:{sourceId:{type:String,required:!0},coordinates:Array,animate:Boolean,canvas:[Object,String]},slots:Object,setup(e,{slots:t}){const n=yt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return xn(Zi,e.sourceId),xn(pc,s),hu(r,e,"canvas",NB,s),ct(xr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Xn("Canvas Source"),r.value&&t.default?t.default({}):void 0]}}),UB=uu({data:void 0,maxzoom:void 0,attribution:void 0,buffer:void 0,tolerance:void 0,cluster:void 0,clusterRadius:void 0,clusterMaxZoom:void 0,clusterMinPoints:void 0,clusterProperties:void 0,lineMetrics:void 0,generateId:void 0,promoteId:void 0,filter:void 0}),qB=lr({name:"MglGeoJsonSource",props:{sourceId:{type:String,required:!0},data:[Object,String],maxzoom:Number,attribution:String,buffer:Number,tolerance:Number,cluster:[Number,Boolean],clusterRadius:Number,clusterMaxZoom:Number,clusterMinPoints:Number,clusterProperties:Object,lineMetrics:Boolean,generateId:Boolean,promoteId:[Object,String],filter:[Array,String,Object]},slots:Object,setup(e,{slots:t}){const n=yt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return xn(Zi,e.sourceId),xn(pc,s),hu(r,e,"geojson",UB,s),ct(xr(e.data)?e.data:()=>e.data,u=>{var h;(h=r.value)==null||h.setData(u||{type:"FeatureCollection",features:[]})},{immediate:!0}),()=>[Xn("GeoJSON Source"),r.value&&t.default?t.default({}):void 0]}}),jB=uu({url:void 0,coordinates:void 0}),HB=lr({name:"MglImageSource",props:{sourceId:{type:String,required:!0},url:String,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=yt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return xn(Zi,e.sourceId),xn(pc,s),hu(r,e,"image",jB,s),ct(xr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Xn("Image Source"),r.value&&t.default?t.default({}):void 0]}}),GB=uu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,scheme:void 0,attribution:void 0,volatile:void 0}),WB=lr({name:"MglRasterSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,scheme:String,attribution:String,volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=yt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return xn(Zi,e.sourceId),xn(pc,s),hu(r,e,"raster",GB,s),()=>[Xn("Raster Source"),r.value&&t.default?t.default({}):void 0]}}),YB=uu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,attribution:void 0,encoding:void 0,volatile:void 0,redFactor:void 0,blueFactor:void 0,greenFactor:void 0,baseShift:void 0}),ZB=lr({name:"MglRasterDemSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,attribution:String,encoding:String,volatile:Boolean,redFactor:Number,blueFactor:Number,greenFactor:Number,baseShift:Number},slots:Object,setup(e,{slots:t}){const n=yt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return xn(Zi,e.sourceId),xn(pc,s),hu(r,e,"raster-dem",YB,s),()=>[Xn("RasterDem Source"),r.value&&t.default?t.default({}):void 0]}}),KB=uu({url:void 0,tiles:void 0,bounds:void 0,scheme:void 0,minzoom:void 0,maxzoom:void 0,attribution:void 0,promoteId:void 0,volatile:void 0}),XB=lr({name:"MglVectorSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,scheme:String,minzoom:Number,maxzoom:Number,attribution:String,promoteId:[Object,String],volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=yt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return xn(Zi,e.sourceId),xn(pc,s),hu(r,e,"vector",KB,s),ct(xr(e.tiles)?e.tiles:()=>e.tiles,u=>{var h;(h=r.value)==null||h.setTiles(u||[])},{immediate:!0}),ct(xr(e.url)?e.url:()=>e.url,u=>{var h;(h=r.value)==null||h.setUrl(u||"")},{immediate:!0}),()=>[Xn("Vector Source"),r.value&&t.default?t.default({}):void 0]}}),JB=uu({urls:void 0,coordinates:void 0}),QB=lr({name:"MglVideoSource",props:{sourceId:{type:String,required:!0},urls:Array,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=yt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return xn(Zi,e.sourceId),xn(pc,s),hu(r,e,"video",JB,s),ct(xr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Xn("Video Source"),r.value&&t.default?t.default({}):void 0]}}),ug=class _o{static genLayerOpts(t,n,r,s){return Object.keys(r).filter(u=>r[u]!==void 0&&_o.SOURCE_OPTS.indexOf(u)!==-1).reduce((u,h)=>(u[h==="sourceLayer"?"source-layer":h]=Vr(r[h]),u),{type:n,source:r.source||s,id:t})}static registerLayerEvents(t,n,r){if(r.props)for(let s=0,u=_o.LAYER_EVENTS.length;s<u;s++){const h="on"+_o.LAYER_EVENTS[s].charAt(0).toUpperCase()+_o.LAYER_EVENTS[s].substr(1);r.props[h]&&t.on(_o.LAYER_EVENTS[s],n,r.props[h])}}static unregisterLayerEvents(t,n,r){if(r.props)for(let s=0,u=_o.LAYER_EVENTS.length;s<u;s++){const h="on"+_o.LAYER_EVENTS[s].charAt(0).toUpperCase()+_o.LAYER_EVENTS[s].substr(1);r.props[h]&&t.off(_o.LAYER_EVENTS[s],n,r.props[h])}}};wi(ug,"SOURCE_OPTS",["metadata","ref","source","sourceLayer","minzoom","maxzoom","interactive","filter","layout","paint"]),wi(ug,"LAYER_EVENTS",["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]),wi(ug,"SHARED",{props:{layerId:{type:String,required:!0},source:[String,Object],metadata:[Object,Array,String,Number],sourceLayer:String,minzoom:Number,maxzoom:Number,interactive:Boolean,filter:Array,before:String},emits:["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]});let jn=ug;function xl(e,t){const n=yt(bi),r=yt(ts),s=yt(pc);function u(){r.value&&(t&&jn.unregisterLayerEvents(n.value,e,t.vnode),n.value.getLayer(e)&&n.value.removeLayer(e))}s.registerUnmountHandler(e,u),Sr(()=>{s.unregisterUnmountHandler(e),u()})}const eV=lr({name:"MglBackgroundLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=yt(bi),r=yt(ts),s=yt(Yi),u=Ki.getSourceRef(s,e.source||t);return xl(e.layerId),ct([r,u],([h,o])=>{h&&(o||o===void 0)&&n.value.addLayer(jn.genLayerOpts(e.layerId,"background",e,t),e.before||void 0)},{immediate:!0}),()=>Xn("Background Layer")}}),tV=lr({name:"MglCircleLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"circle",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Circle Layer")}}),nV=lr({name:"MglFillLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"fill",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Fill Layer")}}),rV=lr({name:"MglFillExtrusionLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"fill-extrusion",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Fill Extrusion Layer")}}),iV=lr({name:"MglHeatmapLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"heatmap",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Heatmap Layer")}}),aV=lr({name:"MglHillshadeLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"hillshade",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Hillshade Layer")}}),sV=lr({name:"MglLineLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"line",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Line Layer")}}),oV=lr({name:"MglRasterLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"raster",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Raster Layer")}}),lV=lr({name:"MglSymbolLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Zi);if(!t&&!e.source)return;const n=Ts(),r=yt(bi),s=yt(ts),u=yt(Yi),h=Ki.getSourceRef(u,e.source||t);return xl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"symbol",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Xn("Symbol Layer")}}),cV=Object.freeze(Object.defineProperty({__proto__:null,MglAttributionControl:EB,MglBackgroundLayer:eV,MglButton:kb,MglCanvasSource:$B,MglCircleLayer:tV,MglCustomControl:IB,MglFillExtrusionLayer:rV,MglFillLayer:nV,MglFrameRateControl:MB,MglFullscreenControl:PB,MglGeoJsonSource:qB,MglGeolocationControl:LB,MglHeatmapLayer:iV,MglHillshadeLayer:aV,MglImageSource:HB,MglLineLayer:sV,MglMap:AB,MglMarker:VB,MglNavigationControl:RB,MglRasterDemSource:ZB,MglRasterLayer:oV,MglRasterSource:WB,MglScaleControl:FB,MglStyleSwitchControl:BB,MglSymbolLayer:lV,MglVectorSource:XB,MglVideoSource:QB},Symbol.toStringTag,{value:"Module"})),uV=function(e){Object.entries(cV).forEach(([t,n])=>{e.component(t,n)})},eo=We({border:[Boolean,Number,String]},"border");function Lo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{borderClasses:Y(()=>{const r=xr(e)?e.value:e.border,s=[];if(r===!0||r==="")s.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const u of String(r).split(" "))s.push(`border-${u}`);return s})}}function Q0(e){return U0(()=>{const t=[],n={};if(e.value.background)if(_b(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&YF(e.value.background)){const r=So(e.value.background);if(r.a==null||r.a===1){const s=uA(r);n.color=s,n.caretColor=s}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(_b(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Na(e,t){const n=Y(()=>({text:xr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Q0(n);return{textColorClasses:r,textColorStyles:s}}function yi(e,t){const n=Y(()=>({background:xr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Q0(n);return{backgroundColorClasses:r,backgroundColorStyles:s}}const to=We({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function no(e){return{dimensionStyles:Y(()=>{const n={},r=Gt(e.height),s=Gt(e.maxHeight),u=Gt(e.maxWidth),h=Gt(e.minHeight),o=Gt(e.minWidth),p=Gt(e.width);return r!=null&&(n.height=r),s!=null&&(n.maxHeight=s),u!=null&&(n.maxWidth=u),h!=null&&(n.minHeight=h),o!=null&&(n.minWidth=o),p!=null&&(n.width=p),n})}}const ns=We({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Es(e){return{elevationClasses:Y(()=>{const n=xr(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const Pk={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},fu=We({location:String},"location");function Nd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=es();return{locationStyles:Y(()=>{if(!e.location)return{};const{side:u,align:h}=vb(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function o(y){return n?n(y):0}const p={};return u!=="center"&&(t?p[Pk[u]]=`calc(100% - ${o(u)}px)`:p[u]=0),h!=="center"?t?p[Pk[h]]=`calc(100% - ${o(h)}px)`:p[h]=0:(u==="center"?p.top=p.left="50%":p[{top:"left",bottom:"left",left:"top",right:"top"}[u]]="50%",p.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[u]),p})}}const dV=["static","relative","fixed","absolute","sticky"],lm=We({position:{type:String,validator:e=>dV.includes(e)}},"position");function cm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{positionClasses:Y(()=>e.position?`${t}--${e.position}`:void 0)}}const Pi=We({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Vi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{roundedClasses:Y(()=>{const r=xr(e)?e.value:e.rounded,s=xr(e)?e.value:e.tile,u=[];if(r===!0||r==="")u.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const h of String(r).split(" "))u.push(`rounded-${h}`);else(s||r===!1)&&u.push("rounded-0");return u})}}const Zn=We({tag:{type:String,default:"div"}},"tag"),ex=We({color:String,...eo(),...cn(),...to(),...ns(),...fu(),...lm(),...Pi(),...Zn(),...vr()},"VSheet"),uc=ft()({name:"VSheet",props:ex(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(_t(e,"color")),{borderClasses:h}=Lo(e),{dimensionStyles:o}=no(e),{elevationClasses:p}=Es(e),{locationStyles:y}=Nd(e),{positionClasses:w}=cm(e),{roundedClasses:k}=Vi(e);return St(()=>T(e.tag,{class:["v-sheet",r.value,s.value,h.value,p.value,w.value,k.value,e.class],style:[u.value,o.value,y.value,e.style]},n)),{}}}),hV=We({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),Tb=ft()({name:"VCalendarIntervalEvent",props:hV(),setup(e){const t=Mo(),n=()=>{var r,s,u,h;if(!((r=e.event)!=null&&r.first)&&!((s=e.event)!=null&&s.last)||t.isEqual((u=e.event)==null?void 0:u.start,(h=e.interval)==null?void 0:h.start))return{height:"100%",margin:Gt(0)};{const{height:o,margin:p}=Array.from({length:e.intervalDivisions},y=>y*(e.intervalDuration/e.intervalDivisions)).reduce((y,w,k)=>{var C,I;return t.isBefore(t.addMinutes((C=e.interval)==null?void 0:C.start,w),(I=e.event)==null?void 0:I.start)?{height:Gt(e.intervalHeight/e.intervalDivisions*k),margin:Gt(e.intervalHeight/e.intervalDivisions*k)}:{height:y.height,margin:y.margin}},{height:"",margin:""});return{height:o,margin:p}}};return St(()=>{var r,s,u,h,o;return T(uc,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((r=e.event)==null?void 0:r.color)??void 0,rounded:(s=e.event)!=null&&s.first&&((u=e.event)!=null&&u.last)?!0:(h=e.event)!=null&&h.first?"t":(o=e.event)!=null&&o.last?"b":!1},{default:()=>{var p,y;return[(p=e.event)!=null&&p.first?(y=e.event)==null?void 0:y.title:""]}})}),{}}}),zA=We({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),Ab=ft()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...zA()},setup(e,t){const n=Mo(),r=Y(()=>{const s=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),u=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:n.format(s,"fullTime24h"),start:s,end:u,events:e.events?e.events.filter(h=>!h.allDay&&(n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u])||n.isWithinRange(s,[h.start,h.end])||n.isEqual(u,h.end))).map(h=>({...h,first:n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u]),last:n.isEqual(u,h.end)||n.isWithinRange(h.end,[s,u])})):[]}});return St(()=>{var s,u;return e.dayIndex===0?T("div",{class:"v-calendar-day__row-with-label",style:`height: ${Gt(e.intervalHeight)}`},[T("div",{class:"v-calendar-day__row-label"},[T("slot",{name:"intervalFormat",interval:r.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?n.format(r.value.start,"hours12h"):e.intervalFormat(r.value):r.value.label:""])]),T("div",{class:"v-calendar-day__row-hairline"},null),T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(s=r.value.events)==null?void 0:s.map(h=>T(Tb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):T("div",{class:"v-calendar-day__row-without-label",style:`height: ${Gt(e.intervalHeight)}`},[T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(u=r.value.events)==null?void 0:u.filter(h=>!h.allDay).map(h=>T(Tb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:r}}}),fV=[null,"default","comfortable","compact"],$a=We({density:{type:String,default:"default",validator:e=>fV.includes(e)}},"density");function rs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{densityClasses:Y(()=>`${t}--density-${e.density}`)}}const mV=["elevated","flat","tonal","outlined","text","plain"];function wl(e,t){return T(Ht,null,[e&&T("span",{key:"overlay",class:`${t}__overlay`},null),T("span",{key:"underlay",class:`${t}__underlay`},null)])}const ro=We({color:String,variant:{type:String,default:"elevated",validator:e=>mV.includes(e)}},"variant");function mu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();const n=Y(()=>{const{variant:u}=Vr(e);return`${t}--variant-${u}`}),{colorClasses:r,colorStyles:s}=Q0(Y(()=>{const{variant:u,color:h}=Vr(e);return{[["elevated","flat"].includes(u)?"background":"text"]:h}}));return{colorClasses:r,colorStyles:s,variantClasses:n}}const BA=We({baseColor:String,divided:Boolean,...eo(),...cn(),...$a(),...ns(),...Pi(),...Zn(),...vr(),...ro()},"VBtnGroup"),Dk=ft()({name:"VBtnGroup",props:BA(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{densityClasses:s}=rs(e),{borderClasses:u}=Lo(e),{elevationClasses:h}=Es(e),{roundedClasses:o}=Vi(e);da({VBtn:{height:"auto",baseColor:_t(e,"baseColor"),color:_t(e,"color"),density:_t(e,"density"),flat:!0,variant:_t(e,"variant")}}),St(()=>T(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,u.value,s.value,h.value,o.value,e.class],style:e.style},n))}}),um=We({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),dm=We({value:null,disabled:Boolean,selectedClass:String},"group-item");function hm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Jr("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=As();xn(Symbol.for(`${t.description}:id`),s);const u=yt(t,null);if(!u){if(!n)return u;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const h=_t(e,"value"),o=Y(()=>!!(u.disabled.value||e.disabled));u.register({id:s,value:h,disabled:o},r),Sr(()=>{u.unregister(s)});const p=Y(()=>u.isSelected(s)),y=Y(()=>u.items.value[0].id===s),w=Y(()=>u.items.value[u.items.value.length-1].id===s),k=Y(()=>p.value&&[u.selectedClass.value,e.selectedClass]);return ct(p,C=>{r.emit("group:selected",{value:C})},{flush:"sync"}),{id:s,isSelected:p,isFirst:y,isLast:w,toggle:()=>u.select(s,!p.value),select:C=>u.select(s,C),selectedClass:k,value:h,disabled:o,group:u}}function $d(e,t){let n=!1;const r=Ei([]),s=hn(e,"modelValue",[],C=>C==null?[]:VA(r,Wr(C)),C=>{const I=gV(r,C);return e.multiple?I:I[0]}),u=Jr("useGroup");function h(C,I){const R=C,M=Symbol.for(`${t.description}:id`),N=gd(M,u==null?void 0:u.vnode).indexOf(I);Vr(R.value)==null&&(R.value=N,R.useIndexAsValue=!0),N>-1?r.splice(N,0,R):r.push(R)}function o(C){if(n)return;p();const I=r.findIndex(R=>R.id===C);r.splice(I,1)}function p(){const C=r.find(I=>!I.disabled);C&&e.mandatory==="force"&&!s.value.length&&(s.value=[C.id])}fa(()=>{p()}),Sr(()=>{n=!0}),P0(()=>{for(let C=0;C<r.length;C++)r[C].useIndexAsValue&&(r[C].value=C)});function y(C,I){const R=r.find(M=>M.id===C);if(!(I&&(R!=null&&R.disabled)))if(e.multiple){const M=s.value.slice(),F=M.findIndex(q=>q===C),N=~F;if(I=I??!N,N&&e.mandatory&&M.length<=1||!N&&e.max!=null&&M.length+1>e.max)return;F<0&&I?M.push(C):F>=0&&!I&&M.splice(F,1),s.value=M}else{const M=s.value.includes(C);if(e.mandatory&&M)return;s.value=I??!M?[C]:[]}}function w(C){if(e.multiple,s.value.length){const I=s.value[0],R=r.findIndex(N=>N.id===I);let M=(R+C)%r.length,F=r[M];for(;F.disabled&&M!==R;)M=(M+C)%r.length,F=r[M];if(F.disabled)return;s.value=[r[M].id]}else{const I=r.find(R=>!R.disabled);I&&(s.value=[I.id])}}const k={register:h,unregister:o,selected:s,select:y,disabled:_t(e,"disabled"),prev:()=>w(r.length-1),next:()=>w(1),isSelected:C=>s.value.includes(C),selectedClass:Y(()=>e.selectedClass),items:Y(()=>r),getItemIndex:C=>pV(r,C)};return xn(t,k),k}function pV(e,t){const n=VA(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function VA(e,t){const n=[];return t.forEach(r=>{const s=e.find(h=>vl(r,h.value)),u=e[r];(s==null?void 0:s.value)!=null?n.push(s.id):u!=null&&n.push(u.id)}),n}function gV(e,t){const n=[];return t.forEach(r=>{const s=e.findIndex(u=>u.id===r);if(~s){const u=e[s];n.push(u.value!=null?u.value:s)}}),n}const NA=Symbol.for("vuetify:v-btn-toggle"),vV=We({...BA(),...um()},"VBtnToggle");ft()({name:"VBtnToggle",props:vV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:s,prev:u,select:h,selected:o}=$d(e,NA);return St(()=>{const p=Dk.filterProps(e);return T(Dk,ot({class:["v-btn-toggle",e.class]},p,{style:e.style}),{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{isSelected:r,next:s,prev:u,select:h,selected:o})]}})}),{next:s,prev:u,select:h}}});const yV=We({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Bn=ft(!1)({name:"VDefaultsProvider",props:yV(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:s,reset:u,root:h,scoped:o}=rm(e);return da(r,{reset:u,root:h,scoped:o,disabled:s}),()=>{var p;return(p=n.default)==null?void 0:p.call(n)}}}),_V=["x-small","small","default","large","x-large"],Ud=We({size:{type:[String,Number],default:"default"}},"size");function fm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return U0(()=>{let n,r;return Ig(_V,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:Gt(e.size),height:Gt(e.size)}),{sizeClasses:n,sizeStyles:r}})}const bV=We({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:yn,...cn(),...Ud(),...Zn({tag:"i"}),...vr()},"VIcon"),nr=ft()({name:"VIcon",props:bV(),setup(e,t){let{attrs:n,slots:r}=t;const s=ht(),{themeClasses:u}=Rr(e),{iconData:h}=dB(Y(()=>s.value||e.icon)),{sizeClasses:o}=fm(e),{textColorClasses:p,textColorStyles:y}=Na(_t(e,"color"));return St(()=>{var C,I;const w=(C=r.default)==null?void 0:C.call(r);w&&(s.value=(I=tA(w).filter(R=>R.type===am&&R.children&&typeof R.children=="string")[0])==null?void 0:I.children);const k=!!(n.onClick||n.onClickOnce);return T(h.value.component,{tag:e.tag,icon:h.value.icon,class:["v-icon","notranslate",u.value,o.value,p.value,{"v-icon--clickable":k,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[o.value?void 0:{fontSize:Gt(e.size),height:Gt(e.size),width:Gt(e.size)},y.value,e.style],role:k?"button":void 0,"aria-hidden":!k,tabindex:k?e.disabled?-1:0:void 0},{default:()=>[w]})}),{}}});function $A(e,t){const n=ht(),r=Rt(!1);if(V0){const s=new IntersectionObserver(u=>{r.value=!!u.find(h=>h.isIntersecting)},t);Sr(()=>{s.disconnect()}),ct(n,(u,h)=>{h&&(s.unobserve(h),r.value=!1),u&&s.observe(u)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const xV=We({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...cn(),...Ud(),...Zn({tag:"div"}),...vr()},"VProgressCircular"),Fg=ft()({name:"VProgressCircular",props:xV(),setup(e,t){let{slots:n}=t;const r=20,s=2*Math.PI*r,u=ht(),{themeClasses:h}=Rr(e),{sizeClasses:o,sizeStyles:p}=fm(e),{textColorClasses:y,textColorStyles:w}=Na(_t(e,"color")),{textColorClasses:k,textColorStyles:C}=Na(_t(e,"bgColor")),{intersectionRef:I,isIntersecting:R}=$A(),{resizeRef:M,contentRect:F}=cc(),N=Y(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),q=Y(()=>Number(e.width)),Z=Y(()=>p.value?Number(e.size):F.value?F.value.width:Math.max(q.value,32)),se=Y(()=>r/(1-q.value/Z.value)*2),ie=Y(()=>q.value/Z.value*se.value),J=Y(()=>Gt((100-N.value)/100*s));return oi(()=>{I.value=u.value,M.value=u.value}),St(()=>T(e.tag,{ref:u,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":R.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},h.value,o.value,y.value,e.class],style:[p.value,w.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:N.value},{default:()=>[T("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${se.value} ${se.value}`},[T("circle",{class:["v-progress-circular__underlay",k.value],style:C.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":ie.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),T("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":ie.value,"stroke-dasharray":s,"stroke-dashoffset":J.value},null)]),n.default&&T("div",{class:"v-progress-circular__content"},[n.default({value:N.value})])]})),{}}}),wV=We({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...cn(),...fu({location:"top"}),...Pi(),...Zn(),...vr()},"VProgressLinear"),fv=ft()({name:"VProgressLinear",props:wV(),emits:{"update:modelValue":e=>!0},setup(e,t){var le;let{slots:n}=t;const r=hn(e,"modelValue"),{isRtl:s,rtlClasses:u}=es(),{themeClasses:h}=Rr(e),{locationStyles:o}=Nd(e),{textColorClasses:p,textColorStyles:y}=Na(e,"color"),{backgroundColorClasses:w,backgroundColorStyles:k}=yi(Y(()=>e.bgColor||e.color)),{backgroundColorClasses:C,backgroundColorStyles:I}=yi(Y(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:R,backgroundColorStyles:M}=yi(e,"color"),{roundedClasses:F}=Vi(e),{intersectionRef:N,isIntersecting:q}=$A(),Z=Y(()=>parseFloat(e.max)),se=Y(()=>parseFloat(e.height)),ie=Y(()=>ca(parseFloat(e.bufferValue)/Z.value*100,0,100)),J=Y(()=>ca(parseFloat(r.value)/Z.value*100,0,100)),te=Y(()=>s.value!==e.reverse),G=Y(()=>e.indeterminate?"fade-transition":"slide-x-transition"),$=dr&&((le=window.matchMedia)==null?void 0:le.call(window,"(forced-colors: active)").matches);function K(ee){if(!N.value)return;const{left:_e,right:fe,width:Ie}=N.value.getBoundingClientRect(),Te=te.value?Ie-ee.clientX+(fe-Ie):ee.clientX-_e;r.value=Math.round(Te/Ie*Z.value)}return St(()=>T(e.tag,{ref:N,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&q.value,"v-progress-linear--reverse":te.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},F.value,h.value,u.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Gt(se.value):0,"--v-progress-linear-height":Gt(se.value),...e.absolute?o.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:J.value,onClick:e.clickable&&K},{default:()=>[e.stream&&T("div",{key:"stream",class:["v-progress-linear__stream",p.value],style:{...y.value,[te.value?"left":"right"]:Gt(-se.value),borderTop:`${Gt(se.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Gt(se.value/4)})`,width:Gt(100-ie.value,"%"),"--v-progress-linear-stream-to":Gt(se.value*(te.value?1:-1))}},null),T("div",{class:["v-progress-linear__background",$?void 0:w.value],style:[k.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),T("div",{class:["v-progress-linear__buffer",$?void 0:C.value],style:[I.value,{opacity:parseFloat(e.bufferOpacity),width:Gt(ie.value,"%")}]},null),T(Ao,{name:G.value},{default:()=>[e.indeterminate?T("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(ee=>T("div",{key:ee,class:["v-progress-linear__indeterminate",ee,$?void 0:R.value],style:M.value},null))]):T("div",{class:["v-progress-linear__determinate",$?void 0:R.value],style:[M.value,{width:Gt(J.value,"%")}]},null)]}),n.default&&T("div",{class:"v-progress-linear__content"},[n.default({value:J.value,buffer:ie.value})])]})),{}}}),mv=We({loading:[Boolean,String]},"loader");function pv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{loaderClasses:Y(()=>({[`${t}--loading`]:e.loading}))}}function tx(e,t){var r;let{slots:n}=t;return T("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||T(fv,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}function SV(){const e=Jr("useRoute");return Y(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function UA(){var e,t;return(t=(e=Jr("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function mm(e,t){var y,w;const n=NR("RouterLink"),r=Y(()=>!!(e.href||e.to)),s=Y(()=>(r==null?void 0:r.value)||JS(t,"click")||JS(e,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:r,isClickable:s,href:_t(e,"href")};const u=Y(()=>({...e,to:_t(()=>e.to||"")})),h=n.useLink(u.value),o=Y(()=>e.to?h:void 0),p=SV();return{isLink:r,isClickable:s,route:(y=o.value)==null?void 0:y.route,navigate:(w=o.value)==null?void 0:w.navigate,isActive:Y(()=>{var k,C,I;return o.value?e.exact?p.value?((I=o.value.isExactActive)==null?void 0:I.value)&&vl(o.value.route.value.query,p.value.query):((C=o.value.isExactActive)==null?void 0:C.value)??!1:((k=o.value.isActive)==null?void 0:k.value)??!1:!1}),href:Y(()=>{var k;return e.to?(k=o.value)==null?void 0:k.route.value.href:e.href})}}const gv=We({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let w_=!1;function kV(e,t){let n=!1,r,s;dr&&(Hn(()=>{window.addEventListener("popstate",u),r=e==null?void 0:e.beforeEach((h,o,p)=>{w_?n?t(p):p():setTimeout(()=>n?t(p):p()),w_=!0}),s=e==null?void 0:e.afterEach(()=>{w_=!1})}),ha(()=>{window.removeEventListener("popstate",u),r==null||r(),s==null||s()}));function u(h){var o;(o=h.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function CV(e,t){ct(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Hn(()=>{t(!0)})},{immediate:!0})}const Eb=Symbol("rippleStop"),TV=80;function Mk(e,t){e.style.transform=t,e.style.webkitTransform=t}function Ib(e){return e.constructor.name==="TouchEvent"}function qA(e){return e.constructor.name==="KeyboardEvent"}const AV=function(e,t){var k;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!qA(e)){const C=t.getBoundingClientRect(),I=Ib(e)?e.touches[e.touches.length-1]:e;r=I.clientX-C.left,s=I.clientY-C.top}let u=0,h=.3;(k=t._ripple)!=null&&k.circle?(h=.15,u=t.clientWidth/2,u=n.center?u:u+Math.sqrt((r-u)**2+(s-u)**2)/4):u=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const o=`${(t.clientWidth-u*2)/2}px`,p=`${(t.clientHeight-u*2)/2}px`,y=n.center?o:`${r-u}px`,w=n.center?p:`${s-u}px`;return{radius:u,scale:h,x:y,y:w,centerX:o,centerY:p}},zg={show(e,t){var I;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((I=t==null?void 0:t._ripple)!=null&&I.enabled))return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:u,scale:h,x:o,y:p,centerX:y,centerY:w}=AV(e,t,n),k=`${u*2}px`;s.className="v-ripple__animation",s.style.width=k,s.style.height=k,t.appendChild(r);const C=window.getComputedStyle(t);C&&C.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),Mk(s,`translate(${o}, ${p}) scale3d(${h},${h},${h})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),Mk(s,`translate(${y}, ${w}) scale3d(1,1,1)`)},0)},hide(e){var u;if(!((u=e==null?void 0:e._ripple)!=null&&u.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===e&&e.removeChild(n.parentNode)},300)},s)}};function jA(e){return typeof e>"u"||!!e}function Nf(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[Eb])){if(e[Eb]=!0,Ib(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||qA(e),n._ripple.class&&(t.class=n._ripple.class),Ib(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{zg.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},TV)}else zg.show(e,n,t)}}function Lk(e){e[Eb]=!0}function Ka(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Ka(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),zg.hide(t)}}function HA(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let $f=!1;function GA(e){!$f&&(e.keyCode===GS.enter||e.keyCode===GS.space)&&($f=!0,Nf(e))}function WA(e){$f=!1,Ka(e)}function YA(e){$f&&($f=!1,Ka(e))}function ZA(e,t,n){const{value:r,modifiers:s}=t,u=jA(r);if(u||zg.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=u,e._ripple.centered=s.center,e._ripple.circle=s.circle,Eg(r)&&r.class&&(e._ripple.class=r.class),u&&!n){if(s.stop){e.addEventListener("touchstart",Lk,{passive:!0}),e.addEventListener("mousedown",Lk);return}e.addEventListener("touchstart",Nf,{passive:!0}),e.addEventListener("touchend",Ka,{passive:!0}),e.addEventListener("touchmove",HA,{passive:!0}),e.addEventListener("touchcancel",Ka),e.addEventListener("mousedown",Nf),e.addEventListener("mouseup",Ka),e.addEventListener("mouseleave",Ka),e.addEventListener("keydown",GA),e.addEventListener("keyup",WA),e.addEventListener("blur",YA),e.addEventListener("dragstart",Ka,{passive:!0})}else!u&&n&&KA(e)}function KA(e){e.removeEventListener("mousedown",Nf),e.removeEventListener("touchstart",Nf),e.removeEventListener("touchend",Ka),e.removeEventListener("touchmove",HA),e.removeEventListener("touchcancel",Ka),e.removeEventListener("mouseup",Ka),e.removeEventListener("mouseleave",Ka),e.removeEventListener("keydown",GA),e.removeEventListener("keyup",WA),e.removeEventListener("dragstart",Ka),e.removeEventListener("blur",YA)}function EV(e,t){ZA(e,t,!1)}function IV(e){delete e._ripple,KA(e)}function PV(e,t){if(t.value===t.oldValue)return;const n=jA(t.oldValue);ZA(e,t,n)}const pu={mounted:EV,unmounted:IV,updated:PV},nx=We({active:{type:Boolean,default:void 0},baseColor:String,symbol:{type:null,default:NA},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:yn,appendIcon:yn,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...eo(),...cn(),...$a(),...to(),...ns(),...dm(),...mv(),...fu(),...lm(),...Pi(),...gv(),...Ud(),...Zn({tag:"button"}),...vr(),...ro({variant:"elevated"})},"VBtn"),Jt=ft()({name:"VBtn",props:nx(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{borderClasses:u}=Lo(e),{densityClasses:h}=rs(e),{dimensionStyles:o}=no(e),{elevationClasses:p}=Es(e),{loaderClasses:y}=pv(e),{locationStyles:w}=Nd(e),{positionClasses:k}=cm(e),{roundedClasses:C}=Vi(e),{sizeClasses:I,sizeStyles:R}=fm(e),M=hm(e,e.symbol,!1),F=mm(e,n),N=Y(()=>{var K;return e.active!==void 0?e.active:F.isLink.value?(K=F.isActive)==null?void 0:K.value:M==null?void 0:M.isSelected.value}),q=Y(()=>{var le,ee;return{color:(M==null?void 0:M.isSelected.value)&&(!F.isLink.value||((le=F.isActive)==null?void 0:le.value))||!M||((ee=F.isActive)==null?void 0:ee.value)?e.color??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:Z,colorStyles:se,variantClasses:ie}=mu(q),J=Y(()=>(M==null?void 0:M.disabled.value)||e.disabled),te=Y(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),G=Y(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function $(K){var le;J.value||F.isLink.value&&(K.metaKey||K.ctrlKey||K.shiftKey||K.button!==0||n.target==="_blank")||((le=F.navigate)==null||le.call(F,K),M==null||M.toggle())}return CV(F,M==null?void 0:M.select),St(()=>{const K=F.isLink.value?"a":e.tag,le=!!(e.prependIcon||r.prepend),ee=!!(e.appendIcon||r.append),_e=!!(e.icon&&e.icon!==!0);return si(T(K,{type:K==="a"?void 0:"button",class:["v-btn",M==null?void 0:M.selectedClass.value,{"v-btn--active":N.value,"v-btn--block":e.block,"v-btn--disabled":J.value,"v-btn--elevated":te.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},s.value,u.value,Z.value,h.value,p.value,y.value,k.value,C.value,I.value,ie.value,e.class],style:[se.value,o.value,w.value,R.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:J.value||void 0,href:F.href.value,tabindex:e.loading||e.readonly?-1:void 0,onClick:$,value:G.value},{default:()=>{var fe;return[wl(!0,"v-btn"),!e.icon&&le&&T("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):T(nr,{key:"prepend-icon",icon:e.prependIcon},null)]),T("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&_e?T(nr,{key:"content-icon",icon:e.icon},null):T(Bn,{key:"content-defaults",disabled:!_e,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var Ie;return[((Ie=r.default)==null?void 0:Ie.call(r))??e.text]}})]),!e.icon&&ee&&T("span",{key:"append",class:"v-btn__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):T(nr,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&T("span",{key:"loader",class:"v-btn__loader"},[((fe=r.loader)==null?void 0:fe.call(r))??T(Fg,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[pu,!J.value&&!!e.ripple,"",{center:!!e.icon}]])}),{group:M}}}),XA=We({hideDayHeader:Boolean,intervals:{type:Number,default:24},...zA()},"VCalendarDay"),dg=ft()({name:"VCalendarDay",props:XA(),setup(e){const t=Mo(),n=Y(()=>[...Array.from({length:e.intervals},(r,s)=>s).filter((r,s)=>e.intervalDuration*(s+e.intervalStart)<1440)]);return St(()=>{const r=Ab.filterProps(e);return T("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&T("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[t.format(e.day.date,"weekdayShort"),T("div",null,[T(Jt,{icon:!0,text:t.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((s,u)=>T(Ab,ot({index:u},r),null))])}),{intervals:n}}}),JA=We({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),Pb=ft()({name:"VCalendarHeader",props:JA(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,t){let{emit:n}=t;const{t:r}=li();function s(){n("click:prev")}function u(){n("click:next")}function h(){n("click:toToday")}return St(()=>T("div",{class:"v-calendar-header"},[e.text&&T(Jt,{key:"today",class:"v-calendar-header__today",text:r(e.text),variant:"outlined",onClick:h},null),T(Jt,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:s},null),T(Jt,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:u},null),T("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),gu=We({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),_s=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:s,group:u,...h}=e,{component:o=u?B0:Ao,...p}=typeof r=="object"?r:{};return Xr(o,ot(typeof r=="string"?{name:s?"":r}:p,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:u}).filter(y=>{let[w,k]=y;return k!==void 0})),h),n)},DV=We({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:yn,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...cn(),...fu({location:"top end"}),...Pi(),...Zn(),...vr(),...gu({transition:"scale-rotate-transition"})},"VBadge"),MV=ft()({name:"VBadge",inheritAttrs:!1,props:DV(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:r}=yi(_t(e,"color")),{roundedClasses:s}=Vi(e),{t:u}=li(),{textColorClasses:h,textColorStyles:o}=Na(_t(e,"textColor")),{themeClasses:p}=mB(),{locationStyles:y}=Nd(e,!0,w=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(w)?+(e.offsetY??0):["left","right"].includes(w)?+(e.offsetX??0):0));return St(()=>{const w=Number(e.content),k=!e.max||isNaN(w)?e.content:w<=+e.max?w:`${e.max}+`,[C,I]=gb(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return T(e.tag,ot({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},I,{style:e.style}),{default:()=>{var R,M;return[T("div",{class:"v-badge__wrapper"},[(M=(R=t.slots).default)==null?void 0:M.call(R),T(_s,{transition:e.transition},{default:()=>{var F,N;return[si(T("span",ot({class:["v-badge__badge",p.value,n.value,s.value,h.value],style:[r.value,o.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":u(e.label,w),"aria-live":"polite",role:"status"},C),[e.dot?void 0:t.slots.badge?(N=(F=t.slots).badge)==null?void 0:N.call(F):e.icon?T(nr,{icon:e.icon},null):k]),[[gl,e.modelValue]])]}})])]}})}),{}}}),LV=We({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function is(e,t,n){return ft()({name:e,props:LV({mode:n,origin:t}),setup(r,s){let{slots:u}=s;const h={onBeforeEnter(o){r.origin&&(o.style.transformOrigin=r.origin)},onLeave(o){if(r.leaveAbsolute){const{offsetTop:p,offsetLeft:y,offsetWidth:w,offsetHeight:k}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${p}px`,o.style.left=`${y}px`,o.style.width=`${w}px`,o.style.height=`${k}px`}r.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(r.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:p,top:y,left:w,width:k,height:C}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=p||"",o.style.top=y||"",o.style.left=w||"",o.style.width=k||"",o.style.height=C||""}}};return()=>{const o=r.group?B0:Ao;return Xr(o,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:h},u.default)}}})}function QA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ft()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,s){let{slots:u}=s;const h=r.group?B0:Ao;return()=>Xr(h,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},u.default)}})}function eE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=Ss(`offset-${n}`);return{onBeforeEnter(h){h._parent=h.parentNode,h._initialStyle={transition:h.style.transition,overflow:h.style.overflow,[n]:h.style[n]}},onEnter(h){const o=h._initialStyle;h.style.setProperty("transition","none","important"),h.style.overflow="hidden";const p=`${h[r]}px`;h.style[n]="0",h.offsetHeight,h.style.transition=o.transition,e&&h._parent&&h._parent.classList.add(e),requestAnimationFrame(()=>{h.style[n]=p})},onAfterEnter:u,onEnterCancelled:u,onLeave(h){h._initialStyle={transition:"",overflow:h.style.overflow,[n]:h.style[n]},h.style.overflow="hidden",h.style[n]=`${h[r]}px`,h.offsetHeight,requestAnimationFrame(()=>h.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(h){e&&h._parent&&h._parent.classList.remove(e),u(h)}function u(h){const o=h._initialStyle[n];h.style.overflow=h._initialStyle.overflow,o!=null&&(h.style[n]=o),delete h._initialStyle}}const RV=We({target:[Object,Array]},"v-dialog-transition"),rx=ft()({name:"VDialogTransition",props:RV(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,u){var C;await new Promise(I=>requestAnimationFrame(I)),await new Promise(I=>requestAnimationFrame(I)),s.style.visibility="";const{x:h,y:o,sx:p,sy:y,speed:w}=Ok(e.target,s),k=Zc(s,[{transform:`translate(${h}px, ${o}px) scale(${p}, ${y})`,opacity:0},{}],{duration:225*w,easing:oz});(C=Rk(s))==null||C.forEach(I=>{Zc(I,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*w,easing:Ff})}),k.finished.then(()=>u())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,u){var C;await new Promise(I=>requestAnimationFrame(I));const{x:h,y:o,sx:p,sy:y,speed:w}=Ok(e.target,s);Zc(s,[{},{transform:`translate(${h}px, ${o}px) scale(${p}, ${y})`,opacity:0}],{duration:125*w,easing:lz}).finished.then(()=>u()),(C=Rk(s))==null||C.forEach(I=>{Zc(I,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*w,easing:Ff})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?T(Ao,ot({name:"dialog-transition"},r,{css:!1}),n):T(Ao,{name:"dialog-transition"},n)}});function Rk(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function Ok(e,t){const n=aA(e),r=H0(t),[s,u]=getComputedStyle(t).transformOrigin.split(" ").map(N=>parseFloat(N)),[h,o]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let p=n.left+n.width/2;h==="left"||o==="left"?p-=n.width/2:(h==="right"||o==="right")&&(p+=n.width/2);let y=n.top+n.height/2;h==="top"||o==="top"?y-=n.height/2:(h==="bottom"||o==="bottom")&&(y+=n.height/2);const w=n.width/r.width,k=n.height/r.height,C=Math.max(1,w,k),I=w/C||0,R=k/C||0,M=r.width*r.height/(window.innerWidth*window.innerHeight),F=M>.12?Math.min(1.5,(M-.12)*10+1):1;return{x:p-(s+r.left),y:y-(u+r.top),sx:I,sy:R,speed:F}}is("fab-transition","center center","out-in");is("dialog-bottom-transition");is("dialog-top-transition");const Db=is("fade-transition");is("scale-transition");is("scroll-x-transition");is("scroll-x-reverse-transition");is("scroll-y-transition");is("scroll-y-reverse-transition");is("slide-x-transition");is("slide-x-reverse-transition");const tE=is("slide-y-transition");is("slide-y-reverse-transition");const ix=QA("expand-transition",eE()),nE=QA("expand-x-transition",eE("",!0));function OV(e){return{aspectStyles:Y(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const rE=We({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...cn(),...to()},"VResponsive"),Fk=ft()({name:"VResponsive",props:rE(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=OV(e),{dimensionStyles:s}=no(e);return St(()=>{var u;return T("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[T("div",{class:"v-responsive__sizer",style:r.value},null),(u=n.additional)==null?void 0:u.call(n),n.default&&T("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function FV(e,t){if(!V0)return;const n=t.modifiers||{},r=t.value,{handler:s,options:u}=typeof r=="object"?r:{handler:r,options:{}},h=new IntersectionObserver(function(){var k;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0;const y=(k=e._observe)==null?void 0:k[t.instance.$.uid];if(!y)return;const w=o.some(C=>C.isIntersecting);s&&(!n.quiet||y.init)&&(!n.once||w||y.init)&&s(w,o,p),w&&n.once?iE(e,t):y.init=!0},u);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:h},h.observe(e)}function iE(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const ax={mounted:FV,unmounted:iE},zV=We({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...rE(),...cn(),...Pi(),...gu()},"VImg"),pm=ft()({name:"VImg",directives:{intersect:ax},props:zV(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(_t(e,"color")),{roundedClasses:h}=Vi(e),o=Jr("VImg"),p=Rt(""),y=ht(),w=Rt(e.eager?"loading":"idle"),k=Rt(),C=Rt(),I=Y(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),R=Y(()=>I.value.aspect||k.value/C.value||0);ct(()=>e.src,()=>{M(w.value!=="idle")}),ct(R,(ee,_e)=>{!ee&&_e&&y.value&&se(y.value)}),I0(()=>M());function M(ee){if(!(e.eager&&ee)&&!(V0&&!ee&&!e.eager)){if(w.value="loading",I.value.lazySrc){const _e=new Image;_e.src=I.value.lazySrc,se(_e,null)}I.value.src&&Hn(()=>{var _e;n("loadstart",((_e=y.value)==null?void 0:_e.currentSrc)||I.value.src),setTimeout(()=>{var fe;if(!o.isUnmounted)if((fe=y.value)!=null&&fe.complete){if(y.value.naturalWidth||N(),w.value==="error")return;R.value||se(y.value,null),w.value==="loading"&&F()}else R.value||se(y.value),q()})})}}function F(){var ee;o.isUnmounted||(q(),se(y.value),w.value="loaded",n("load",((ee=y.value)==null?void 0:ee.currentSrc)||I.value.src))}function N(){var ee;o.isUnmounted||(w.value="error",n("error",((ee=y.value)==null?void 0:ee.currentSrc)||I.value.src))}function q(){const ee=y.value;ee&&(p.value=ee.currentSrc||ee.src)}let Z=-1;Sr(()=>{clearTimeout(Z)});function se(ee){let _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const fe=()=>{if(clearTimeout(Z),o.isUnmounted)return;const{naturalHeight:Ie,naturalWidth:Te}=ee;Ie||Te?(k.value=Te,C.value=Ie):!ee.complete&&w.value==="loading"&&_e!=null?Z=window.setTimeout(fe,_e):(ee.currentSrc.endsWith(".svg")||ee.currentSrc.startsWith("data:image/svg+xml"))&&(k.value=1,C.value=1)};fe()}const ie=Y(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),J=()=>{var fe;if(!I.value.src||w.value==="idle")return null;const ee=T("img",{class:["v-img__img",ie.value],style:{objectPosition:e.position},src:I.value.src,srcset:I.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:y,onLoad:F,onError:N},null),_e=(fe=r.sources)==null?void 0:fe.call(r);return T(_s,{transition:e.transition,appear:!0},{default:()=>[si(_e?T("picture",{class:"v-img__picture"},[_e,ee]):ee,[[gl,w.value==="loaded"]])]})},te=()=>T(_s,{transition:e.transition},{default:()=>[I.value.lazySrc&&w.value!=="loaded"&&T("img",{class:["v-img__img","v-img__img--preload",ie.value],style:{objectPosition:e.position},src:I.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),G=()=>r.placeholder?T(_s,{transition:e.transition,appear:!0},{default:()=>[(w.value==="loading"||w.value==="error"&&!r.error)&&T("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,$=()=>r.error?T(_s,{transition:e.transition,appear:!0},{default:()=>[w.value==="error"&&T("div",{class:"v-img__error"},[r.error()])]}):null,K=()=>e.gradient?T("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,le=Rt(!1);{const ee=ct(R,_e=>{_e&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{le.value=!0})}),ee())})}return St(()=>{const ee=Fk.filterProps(e);return si(T(Fk,ot({class:["v-img",{"v-img--booting":!le.value},s.value,h.value,e.class],style:[{width:Gt(e.width==="auto"?k.value:e.width)},u.value,e.style]},ee,{aspectRatio:R.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>T(Ht,null,[T(J,null,null),T(te,null,null),T(K,null,null),T(G,null,null),T($,null,null)]),default:r.default}),[[Cs("intersect"),{handler:M,options:e.options},null,{once:!0}]])}),{currentSrc:p,image:y,state:w,naturalWidth:k,naturalHeight:C}}}),BV=We({start:Boolean,end:Boolean,icon:yn,image:String,text:String,...cn(),...$a(),...Pi(),...Ud(),...Zn(),...vr(),...ro({variant:"flat"})},"VAvatar"),Eo=ft()({name:"VAvatar",props:BV(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{colorClasses:s,colorStyles:u,variantClasses:h}=mu(e),{densityClasses:o}=rs(e),{roundedClasses:p}=Vi(e),{sizeClasses:y,sizeStyles:w}=fm(e);return St(()=>T(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,s.value,o.value,p.value,y.value,h.value,e.class],style:[u.value,w.value,e.style]},{default:()=>[n.default?T(Bn,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?T(pm,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?T(nr,{key:"icon",icon:e.icon},null):e.text,wl(!1,"v-avatar")]})),{}}});function VV(e){let{selectedElement:t,containerElement:n,isRtl:r,isHorizontal:s}=e;const u=Uf(s,n),h=aE(s,r,n),o=Uf(s,t),p=sE(s,t),y=o*.4;return h>p?p-y:h+u<p+o?p-u+o+y:h}function NV(e){let{selectedElement:t,containerElement:n,isHorizontal:r}=e;const s=Uf(r,n),u=sE(r,t),h=Uf(r,t);return u-s/2+h/2}function zk(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function $V(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function aE(e,t,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:s,scrollWidth:u}=n;return e?t?u-s+r:r:n.scrollTop}function Uf(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function sE(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const UV=Symbol.for("vuetify:v-slide-group"),sx=We({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:UV},nextIcon:{type:yn,default:"$next"},prevIcon:{type:yn,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...cn(),...Vd({mobile:null}),...Zn(),...um({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Bg=ft()({name:"VSlideGroup",props:sx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=es(),{displayClasses:s,mobile:u}=yl(e),h=$d(e,e.symbol),o=Rt(!1),p=Rt(0),y=Rt(0),w=Rt(0),k=Y(()=>e.direction==="horizontal"),{resizeRef:C,contentRect:I}=cc(),{resizeRef:R,contentRect:M}=cc(),F=oB(),N=Y(()=>({container:C.el,duration:200,easing:"easeOutQuart"})),q=Y(()=>h.selected.value.length?h.items.value.findIndex(Fe=>Fe.id===h.selected.value[0]):-1),Z=Y(()=>h.selected.value.length?h.items.value.findIndex(Fe=>Fe.id===h.selected.value[h.selected.value.length-1]):-1);if(dr){let Fe=-1;ct(()=>[h.selected.value,I.value,M.value,k.value],()=>{cancelAnimationFrame(Fe),Fe=requestAnimationFrame(()=>{if(I.value&&M.value){const Je=k.value?"width":"height";y.value=I.value[Je],w.value=M.value[Je],o.value=y.value+1<w.value}if(q.value>=0&&R.el){const Je=R.el.children[Z.value];ie(Je,e.centerActive)}})})}const se=Rt(!1);function ie(Fe,Je){let $e=0;Je?$e=NV({containerElement:C.el,isHorizontal:k.value,selectedElement:Fe}):$e=VV({containerElement:C.el,isHorizontal:k.value,isRtl:r.value,selectedElement:Fe}),J($e)}function J(Fe){if(!dr||!C.el)return;const Je=Uf(k.value,C.el),$e=aE(k.value,r.value,C.el);if(!(zk(k.value,C.el)<=Je||Math.abs(Fe-$e)<16)){if(k.value&&r.value&&C.el){const{scrollWidth:Lt,offsetWidth:dt}=C.el;Fe=Lt-dt-Fe}k.value?F.horizontal(Fe,N.value):F(Fe,N.value)}}function te(Fe){const{scrollTop:Je,scrollLeft:$e}=Fe.target;p.value=k.value?$e:Je}function G(Fe){if(se.value=!0,!(!o.value||!R.el)){for(const Je of Fe.composedPath())for(const $e of R.el.children)if($e===Je){ie($e);return}}}function $(Fe){se.value=!1}let K=!1;function le(Fe){var Je;!K&&!se.value&&!(Fe.relatedTarget&&((Je=R.el)!=null&&Je.contains(Fe.relatedTarget)))&&fe(),K=!1}function ee(){K=!0}function _e(Fe){if(!R.el)return;function Je($e){Fe.preventDefault(),fe($e)}k.value?Fe.key==="ArrowRight"?Je(r.value?"prev":"next"):Fe.key==="ArrowLeft"&&Je(r.value?"next":"prev"):Fe.key==="ArrowDown"?Je("next"):Fe.key==="ArrowUp"&&Je("prev"),Fe.key==="Home"?Je("first"):Fe.key==="End"&&Je("last")}function fe(Fe){var $e,at;if(!R.el)return;let Je;if(!Fe)Je=Rf(R.el)[0];else if(Fe==="next"){if(Je=($e=R.el.querySelector(":focus"))==null?void 0:$e.nextElementSibling,!Je)return fe("first")}else if(Fe==="prev"){if(Je=(at=R.el.querySelector(":focus"))==null?void 0:at.previousElementSibling,!Je)return fe("last")}else Fe==="first"?Je=R.el.firstElementChild:Fe==="last"&&(Je=R.el.lastElementChild);Je&&Je.focus({preventScroll:!0})}function Ie(Fe){const Je=k.value&&r.value?-1:1,$e=(Fe==="prev"?-Je:Je)*y.value;let at=p.value+$e;if(k.value&&r.value&&C.el){const{scrollWidth:Lt,offsetWidth:dt}=C.el;at+=Lt-dt}J(at)}const Te=Y(()=>({next:h.next,prev:h.prev,select:h.select,isSelected:h.isSelected})),qe=Y(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return o.value||Math.abs(p.value)>0;case"mobile":return u.value||o.value||Math.abs(p.value)>0;default:return!u.value&&(o.value||Math.abs(p.value)>0)}}),ke=Y(()=>Math.abs(p.value)>1),Pe=Y(()=>{if(!C.value)return!1;const Fe=zk(k.value,C.el),Je=$V(k.value,C.el);return Fe-Je-Math.abs(p.value)>1});return St(()=>T(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!k.value,"v-slide-group--has-affixes":qe.value,"v-slide-group--is-overflowing":o.value},s.value,e.class],style:e.style,tabindex:se.value||h.selected.value.length?-1:0,onFocus:le},{default:()=>{var Fe,Je,$e;return[qe.value&&T("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ke.value}],onMousedown:ee,onClick:()=>ke.value&&Ie("prev")},[((Fe=n.prev)==null?void 0:Fe.call(n,Te.value))??T(Db,null,{default:()=>[T(nr,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),T("div",{key:"container",ref:C,class:"v-slide-group__container",onScroll:te},[T("div",{ref:R,class:"v-slide-group__content",onFocusin:G,onFocusout:$,onKeydown:_e},[(Je=n.default)==null?void 0:Je.call(n,Te.value)])]),qe.value&&T("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Pe.value}],onMousedown:ee,onClick:()=>Pe.value&&Ie("next")},[(($e=n.next)==null?void 0:$e.call(n,Te.value))??T(Db,null,{default:()=>[T(nr,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:h.selected,scrollTo:Ie,scrollOffset:p,focus:fe}}}),oE=Symbol.for("vuetify:v-chip-group"),qV=We({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:vl},...sx(),...cn(),...um({selectedClass:"v-chip--selected"}),...Zn(),...vr(),...ro({variant:"tonal"})},"VChipGroup");ft()({name:"VChipGroup",props:qV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{isSelected:s,select:u,next:h,prev:o,selected:p}=$d(e,oE);return da({VChip:{color:_t(e,"color"),disabled:_t(e,"disabled"),filter:_t(e,"filter"),variant:_t(e,"variant")}}),St(()=>{const y=Bg.filterProps(e);return T(Bg,ot(y,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var w;return[(w=n.default)==null?void 0:w.call(n,{isSelected:s,select:u,next:h,prev:o,selected:p.value})]}})}),{}}});const jV=We({activeClass:String,appendAvatar:String,appendIcon:yn,closable:Boolean,closeIcon:{type:yn,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:yn,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Bi(),onClickOnce:Bi(),...eo(),...cn(),...$a(),...ns(),...dm(),...Pi(),...gv(),...Ud(),...Zn({tag:"span"}),...vr(),...ro({variant:"tonal"})},"VChip"),fl=ft()({name:"VChip",directives:{Ripple:pu},props:jV(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=li(),{borderClasses:h}=Lo(e),{colorClasses:o,colorStyles:p,variantClasses:y}=mu(e),{densityClasses:w}=rs(e),{elevationClasses:k}=Es(e),{roundedClasses:C}=Vi(e),{sizeClasses:I}=fm(e),{themeClasses:R}=Rr(e),M=hn(e,"modelValue"),F=hm(e,oE,!1),N=mm(e,n),q=Y(()=>e.link!==!1&&N.isLink.value),Z=Y(()=>!e.disabled&&e.link!==!1&&(!!F||e.link||N.isClickable.value)),se=Y(()=>({"aria-label":u(e.closeLabel),onClick(te){te.preventDefault(),te.stopPropagation(),M.value=!1,r("click:close",te)}}));function ie(te){var G;r("click",te),Z.value&&((G=N.navigate)==null||G.call(N,te),F==null||F.toggle())}function J(te){(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),ie(te))}return()=>{const te=N.isLink.value?"a":e.tag,G=!!(e.appendIcon||e.appendAvatar),$=!!(G||s.append),K=!!(s.close||e.closable),le=!!(s.filter||e.filter)&&F,ee=!!(e.prependIcon||e.prependAvatar),_e=!!(ee||s.prepend),fe=!F||F.isSelected.value;return M.value&&si(T(te,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":Z.value,"v-chip--filter":le,"v-chip--pill":e.pill},R.value,h.value,fe?o.value:void 0,w.value,k.value,C.value,I.value,y.value,F==null?void 0:F.selectedClass.value,e.class],style:[fe?p.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:N.href.value,tabindex:Z.value?0:void 0,onClick:ie,onKeydown:Z.value&&!q.value&&J},{default:()=>{var Ie;return[wl(Z.value,"v-chip"),le&&T(nE,{key:"filter"},{default:()=>[si(T("div",{class:"v-chip__filter"},[s.filter?T(Bn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},s.filter):T(nr,{key:"filter-icon",icon:e.filterIcon},null)]),[[gl,F.isSelected.value]])]}),_e&&T("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?T(Bn,{key:"prepend-defaults",disabled:!ee,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):T(Ht,null,[e.prependIcon&&T(nr,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&T(Eo,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),T("div",{class:"v-chip__content","data-no-activator":""},[((Ie=s.default)==null?void 0:Ie.call(s,{isSelected:F==null?void 0:F.isSelected.value,selectedClass:F==null?void 0:F.selectedClass.value,select:F==null?void 0:F.select,toggle:F==null?void 0:F.toggle,value:F==null?void 0:F.value.value,disabled:e.disabled}))??e.text]),$&&T("div",{key:"append",class:"v-chip__append"},[s.append?T(Bn,{key:"append-defaults",disabled:!G,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):T(Ht,null,[e.appendIcon&&T(nr,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&T(Eo,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),K&&T("button",ot({key:"close",class:"v-chip__close",type:"button"},se.value),[s.close?T(Bn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):T(nr,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[Cs("ripple"),Z.value&&e.ripple,null]])}}}),HV=We({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),Bk=ft()({name:"VCalendarEvent",props:HV(),setup(e){return St(()=>T(fl,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var t,n;return[T(MV,{inline:!0,dot:!0,color:(t=e.event)==null?void 0:t.color},null),(n=e.event)==null?void 0:n.title]}})),{}}}),GV=We({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),lE=ft()({name:"VCalendarMonthDay",props:GV(),setup(e,t){let{emit:n,slots:r}=t;return St(()=>{var u,h,o,p,y,w,k,C,I,R,M;const s=!!(e.title||(u=r.title)!=null&&u.call(r,{title:e.title}));return T("div",{class:["v-calendar-month__day"]},[!((h=e.day)!=null&&h.isHidden)&&s&&T("div",{key:"title",class:"v-calendar-weekly__day-label"},[((o=r.title)==null?void 0:o.call(r,{title:e.title}))??T(Jt,{class:(p=e.day)!=null&&p.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(y=e.day)!=null&&y.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((w=e.day)!=null&&w.isHidden)&&T("div",{key:"content",class:"v-calendar-weekly__day-content"},[((k=r.content)==null?void 0:k.call(r))??T("div",null,[T("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(C=e.events)==null?void 0:C.filter(F=>F.allDay).map(F=>r.event?r.event({day:e.day,allDay:!0,event:F}):T(Bk,{day:e.day,event:F,allDay:!0},null))]),T("div",{class:"v-calendar-weekly__day-events-container"},[(I=e.events)==null?void 0:I.filter(F=>!F.allDay).map(F=>r.event?r.event({day:e.day,event:F,allDay:!1}):T(Bk,{day:e.day,event:F},null))])])]),!((R=e.day)!=null&&R.isHidden)&&((M=r.default)==null?void 0:M.call(r))])}),{}}}),cE=We({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function uE(e){const t=Mo(),n=hn(e,"modelValue",[],I=>Wr(I)),r=Y(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),s=hn(e,"year",void 0,I=>{const R=I!=null?Number(I):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),R))},I=>t.getYear(I)),u=hn(e,"month",void 0,I=>{const R=I!=null?Number(I):t.getMonth(r.value),M=t.setYear(t.startOfMonth(t.date()),t.getYear(s.value));return t.setMonth(M,R)},I=>t.getMonth(I)),h=Y(()=>{const I=Number(e.firstDayOfWeek??0);return e.weekdays.map(R=>(R+I)%7)}),o=Y(()=>{const I=t.getWeekArray(u.value,e.firstDayOfWeek),R=I.flat(),M=6*7;if(e.weeksInMonth==="static"&&R.length<M){const F=R[R.length-1];let N=[];for(let q=1;q<=M-R.length;q++)N.push(t.addDays(F,q)),q%7===0&&(I.push(N),N=[])}return I});function p(I,R){return I.filter(M=>h.value.includes(t.toJsDate(M).getDay())).map((M,F)=>{const N=t.toISO(M),q=!t.isSameMonth(M,u.value),Z=t.isSameDay(M,t.startOfMonth(u.value)),se=t.isSameDay(M,t.endOfMonth(u.value)),ie=t.isSameDay(M,u.value);return{date:M,isoDate:N,formatted:t.format(M,"keyboardDate"),year:t.getYear(M),month:t.getMonth(M),isDisabled:C(M),isWeekStart:F%7===0,isWeekEnd:F%7===6,isToday:t.isSameDay(M,R),isAdjacent:q,isHidden:q&&!e.showAdjacentMonths,isStart:Z,isSelected:n.value.some(J=>t.isSameDay(M,J)),isEnd:se,isSame:ie,localized:t.format(M,"dayOfMonth")}})}const y=Y(()=>{const I=t.startOfWeek(r.value,e.firstDayOfWeek),R=[];for(let F=0;F<=6;F++)R.push(t.addDays(I,F));const M=t.date();return p(R,M)}),w=Y(()=>{const I=o.value.flat(),R=t.date();return p(I,R)}),k=Y(()=>o.value.map(I=>I.length?nB(t,I[0]):null));function C(I){if(e.disabled)return!0;const R=t.date(I);return e.min&&t.isAfter(t.date(e.min),R)||e.max&&t.isAfter(R,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(M=>t.isSameDay(t.date(M),R)):typeof e.allowedDates=="function"?!e.allowedDates(R):!1}return{displayValue:r,daysInMonth:w,daysInWeek:y,genDays:p,model:n,weeksInMonth:o,weekDays:h,weekNumbers:k}}const WV=We({hideHeader:Boolean,hideWeekNumber:Boolean,...cE(),...XA(),...JA()},"VCalender"),YV=ft()({name:"VCalendar",props:WV(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),{daysInMonth:u,daysInWeek:h,genDays:o,model:p,displayValue:y,weekNumbers:w,weekDays:k}=uE(e),C=s.getWeekdays();function I(){e.viewMode==="month"&&(p.value=[s.addMonths(y.value,1)]),e.viewMode==="week"&&(p.value=[s.addDays(y.value,7)]),e.viewMode==="day"&&(p.value=[s.addDays(y.value,1)])}function R(){e.viewMode==="month"&&(p.value=[s.addMonths(y.value,-1)]),e.viewMode==="week"&&(p.value=[s.addDays(y.value,-7)]),e.viewMode==="day"&&(p.value=[s.addDays(y.value,-1)])}function M(){p.value=[s.date()]}const F=Y(()=>s.format(y.value,"monthAndYear"));return St(()=>{var Z;const N=dg.filterProps(e),q=Pb.filterProps(e);return T("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[T("div",null,[!e.hideHeader&&(r.header?r.header({title:F.value}):T(Pb,ot({key:"calendar-header"},q,{title:F.value,"onClick:next":I,"onClick:prev":R,"onClick:toToday":M}),null))]),T("div",{class:["v-calendar__container",`days__${k.value.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&T("div",{class:["v-calendar-weekly__head",`days__${k.value.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":T("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),k.value.map(se=>T("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[C[se]]))]),e.viewMode==="month"&&T("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${k.value.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[TF(u.value,k.value.length).map((se,ie)=>[e.hideWeekNumber?"":T("div",{class:"v-calendar-month__weeknumber"},[w.value[ie]]),se.map(J=>{var te;return T(lE,{color:s.isSameDay(s.date(),J.date)?"primary":void 0,day:J,title:J?s.format(J.date,"dayOfMonth"):"NaN",events:(te=e.events)==null?void 0:te.filter(G=>s.isSameDay(J.date,G.start)||s.isSameDay(J.date,G.end))},{event:r.event})})])]),e.viewMode==="week"&&h.value.map((se,ie)=>{var J;return T(dg,ot(N,{day:se,dayIndex:ie,events:(J=e.events)==null?void 0:J.filter(te=>s.isSameDay(te.start,se.date)||s.isSameDay(te.end,se.date))}),null)}),e.viewMode==="day"&&T(dg,ot(N,{day:o([y.value],s.date())[0],dayIndex:0,events:(Z=e.events)==null?void 0:Z.filter(se=>s.isSameDay(se.start,o([y.value],s.date())[0].date)||s.isSameDay(se.end,o([y.value],s.date())[0].date))}),null)])])}),{daysInMonth:u,daysInWeek:h,genDays:o}}}),dE=We({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),Vk=ft()({name:"VConfirmEdit",props:dE(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=hn(e,"modelValue"),u=ht();oi(()=>{u.value=structuredClone(wn(s.value))});const{t:h}=li(),o=Y(()=>vl(s.value,u.value));function p(){s.value=u.value,n("save",u.value)}function y(){u.value=structuredClone(wn(s.value)),n("cancel")}let w=!1;return St(()=>{var C;const k=T(Ht,null,[T(Jt,{disabled:o.value,variant:"text",color:e.color,onClick:y,text:h(e.cancelText)},null),T(Jt,{disabled:o.value,variant:"text",color:e.color,onClick:p,text:h(e.okText)},null)]);return T(Ht,null,[(C=r.default)==null?void 0:C.call(r,{model:u,save:p,cancel:y,isPristine:o.value,get actions(){return w=!0,k}}),!w&&k])}),{save:p,cancel:y,isPristine:o}}}),ZV=We({fluid:{type:Boolean,default:!1},...cn(),...Zn()},"VContainer"),Mr=ft()({name:"VContainer",props:ZV(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=es();return St(()=>T(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},n)),{}}}),hE=dv.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),fE=dv.reduce((e,t)=>{const n="offset"+Po(t);return e[n]={type:[String,Number],default:null},e},{}),mE=dv.reduce((e,t)=>{const n="order"+Po(t);return e[n]={type:[String,Number],default:null},e},{}),Nk={col:Object.keys(hE),offset:Object.keys(fE),order:Object.keys(mE)};function KV(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");r+=`-${s}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const XV=["auto","start","end","center","baseline","stretch"],JV=We({cols:{type:[Boolean,String,Number],default:!1},...hE,offset:{type:[String,Number],default:null},...fE,order:{type:[String,Number],default:null},...mE,alignSelf:{type:String,default:null,validator:e=>XV.includes(e)},...cn(),...Zn()},"VCol"),aa=ft()({name:"VCol",props:JV(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in Nk)Nk[u].forEach(o=>{const p=e[o],y=KV(u,o,p);y&&s.push(y)});const h=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!h||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return Xr(e.tag,{class:[r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),ox=["start","end","center"],pE=["space-between","space-around","space-evenly"];function lx(e,t){return dv.reduce((n,r)=>{const s=e+Po(r);return n[s]=t(),n},{})}const QV=[...ox,"baseline","stretch"],gE=e=>QV.includes(e),vE=lx("align",()=>({type:String,default:null,validator:gE})),e3=[...ox,...pE],yE=e=>e3.includes(e),_E=lx("justify",()=>({type:String,default:null,validator:yE})),t3=[...ox,...pE,"stretch"],bE=e=>t3.includes(e),xE=lx("alignContent",()=>({type:String,default:null,validator:bE})),$k={align:Object.keys(vE),justify:Object.keys(_E),alignContent:Object.keys(xE)},n3={align:"align",justify:"justify",alignContent:"align-content"};function r3(e,t,n){let r=n3[e];if(n!=null){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${n}`,r.toLowerCase()}}const i3=We({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:gE},...vE,justify:{type:String,default:null,validator:yE},..._E,alignContent:{type:String,default:null,validator:bE},...xE,...cn(),...Zn()},"VRow"),qs=ft()({name:"VRow",props:i3(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in $k)$k[u].forEach(h=>{const o=e[h],p=r3(u,h,o);p&&s.push(p)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return Xr(e.tag,{class:["v-row",r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),Hs=Bd("v-spacer","div","VSpacer"),wE=We({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:yn,default:"$next"},prevIcon:{type:yn,default:"$prev"},modeIcon:{type:yn,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Uk=ft()({name:"VDatePickerControls",props:wE(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const r=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),s=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),u=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),h=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function o(){n("click:prev")}function p(){n("click:next")}function y(){n("click:year")}function w(){n("click:month")}return St(()=>T("div",{class:["v-date-picker-controls"]},[T(Jt,{class:"v-date-picker-controls__month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:w},null),T(Jt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:y},null),T(Hs,{key:"mode-spacer"},null),T("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[T(Jt,{disabled:u.value,icon:e.prevIcon,variant:"text",onClick:o},null),T(Jt,{disabled:h.value,icon:e.nextIcon,variant:"text",onClick:p},null)])])),{}}}),a3=We({appendIcon:String,color:String,header:String,transition:String,onClick:Bi()},"VDatePickerHeader"),qk=ft()({name:"VDatePickerHeader",props:a3(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"color");function h(){n("click")}function o(){n("click:append")}return St(()=>{const p=!!(r.default||e.header),y=!!(r.append||e.appendIcon);return T("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},s.value],style:u.value,onClick:h},[r.prepend&&T("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),p&&T(_s,{key:"content",name:e.transition},{default:()=>{var w;return[T("div",{key:e.header,class:"v-date-picker-header__content"},[((w=r.default)==null?void 0:w.call(r))??e.header])]}}),y&&T("div",{class:"v-date-picker-header__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var w;return[(w=r.append)==null?void 0:w.call(r)]}}):T(Jt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),SE=We({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...cE()},"VDatePickerMonth"),jk=ft()({name:"VDatePickerMonth",props:SE(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=ht(),{daysInMonth:u,model:h,weekNumbers:o}=uE(e),p=Mo(),y=Rt(),w=Rt(),k=Rt(!1),C=Y(()=>k.value?e.reverseTransition:e.transition);e.multiple==="range"&&h.value.length>0&&(y.value=h.value[0],h.value.length>1&&(w.value=h.value[h.value.length-1]));const I=Y(()=>{const N=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return h.value.length>=N});ct(u,(N,q)=>{q&&(k.value=p.isBefore(N[0].date,q[0].date))});function R(N){const q=p.startOfDay(N);if(h.value.length===0&&(y.value=void 0),!y.value)y.value=q,h.value=[y.value];else if(w.value)y.value=N,w.value=void 0,h.value=[y.value];else{if(p.isSameDay(q,y.value)){y.value=void 0,h.value=[];return}else p.isBefore(q,y.value)?(w.value=p.endOfDay(y.value),y.value=q):w.value=p.endOfDay(q);const Z=p.getDiff(w.value,y.value,"days"),se=[y.value];for(let ie=1;ie<Z;ie++){const J=p.addDays(y.value,ie);se.push(J)}se.push(w.value),h.value=se}}function M(N){const q=h.value.findIndex(Z=>p.isSameDay(Z,N));if(q===-1)h.value=[...h.value,N];else{const Z=[...h.value];Z.splice(q,1),h.value=Z}}function F(N){e.multiple==="range"?R(N):e.multiple?M(N):h.value=[N]}return()=>T("div",{class:"v-date-picker-month"},[e.showWeek&&T("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&T("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[zt(" ")]),o.value.map(N=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[N]))]),T(_s,{name:C.value},{default:()=>{var N;return[T("div",{ref:s,key:(N=u.value[0].date)==null?void 0:N.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&p.getWeekdays(e.firstDayOfWeek).map(q=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[q])),u.value.map((q,Z)=>{const se={props:{onClick:()=>F(q.date)},item:q,i:Z};return I.value&&!q.isSelected&&(q.isDisabled=!0),T("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":q.isAdjacent,"v-date-picker-month__day--hide-adjacent":q.isHidden,"v-date-picker-month__day--selected":q.isSelected,"v-date-picker-month__day--week-end":q.isWeekEnd,"v-date-picker-month__day--week-start":q.isWeekStart}],"data-v-date":q.isDisabled?void 0:q.isoDate},[(e.showAdjacentMonths||!q.isAdjacent)&&T(Bn,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(q.isSelected||q.isToday)&&!q.isDisabled?e.color:void 0,disabled:q.isDisabled,icon:!0,ripple:!1,text:q.localized,variant:q.isDisabled?q.isToday?"outlined":"text":q.isToday&&!q.isSelected?"outlined":"flat",onClick:()=>F(q.date)}}},{default:()=>{var ie;return[((ie=r.day)==null?void 0:ie.call(r,se))??T(Jt,se.props,null)]}})])})])]}})])}}),kE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Hk=ft()({name:"VDatePickerMonths",props:kE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),u=hn(e,"modelValue"),h=Y(()=>{let o=s.startOfYear(s.date());return e.year&&(o=s.setYear(o,e.year)),Ys(12).map(p=>{const y=s.format(o,"monthShort"),w=!!(e.min&&s.isAfter(s.startOfMonth(s.date(e.min)),o)||e.max&&s.isAfter(o,s.startOfMonth(s.date(e.max))));return o=s.getNextMonth(o),{isDisabled:w,text:y,value:p}})});return oi(()=>{u.value=u.value??s.getMonth(s.date())}),St(()=>T("div",{class:"v-date-picker-months",style:{height:Gt(e.height)}},[T("div",{class:"v-date-picker-months__content"},[h.value.map((o,p)=>{var k;const y={active:u.value===p,color:u.value===p?e.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:u.value===o.value?"flat":"text",onClick:()=>w(p)};function w(C){if(u.value===C){n("update:modelValue",u.value);return}u.value=C}return((k=r.month)==null?void 0:k.call(r,{month:o,i:p,props:y}))??T(Jt,ot({key:"month"},y),null)})])])),{}}}),CE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Gk=ft()({name:"VDatePickerYears",props:CE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),u=hn(e,"modelValue"),h=Y(()=>{const p=s.getYear(s.date());let y=p-100,w=p+52;e.min&&(y=s.getYear(s.date(e.min))),e.max&&(w=s.getYear(s.date(e.max)));let k=s.startOfYear(s.date());return k=s.setYear(k,y),Ys(w-y+1,y).map(C=>{const I=s.format(k,"year");return k=s.setYear(k,s.getYear(k)+1),{text:I,value:C}})});oi(()=>{u.value=u.value??s.getYear(s.date())});const o=Dg();return fa(async()=>{var p;await Hn(),(p=o.el)==null||p.scrollIntoView({block:"center"})}),St(()=>T("div",{class:"v-date-picker-years",style:{height:Gt(e.height)}},[T("div",{class:"v-date-picker-years__content"},[h.value.map((p,y)=>{var k;const w={ref:u.value===p.value?o:void 0,active:u.value===p.value,color:u.value===p.value?e.color:void 0,rounded:!0,text:p.text,variant:u.value===p.value?"flat":"text",onClick:()=>{if(u.value===p.value){n("update:modelValue",u.value);return}u.value=p.value}};return((k=r.year)==null?void 0:k.call(r,{year:p,i:y,props:w}))??T(Jt,ot({key:"month"},w),null)})])])),{}}}),TE=Bd("v-picker-title"),cx=We({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...ex()},"VPicker"),qf=ft()({name:"VPicker",props:cx(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=yi(_t(e,"color"));return St(()=>{const u=uc.filterProps(e),h=!!(e.title||n.title);return T(uc,ot(u,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var o;return[!e.hideHeader&&T("div",{key:"header",class:[r.value],style:[s.value]},[h&&T(TE,{key:"picker-title"},{default:()=>{var p;return[((p=n.title)==null?void 0:p.call(n))??e.title]}}),n.header&&T("div",{class:"v-picker__header"},[n.header()])]),T("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&T(Bn,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[T("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),AE=We({header:{type:String,default:"$vuetify.datePicker.header"},...wE(),...SE({weeksInMonth:"static"}),...wr(kE(),["modelValue"]),...wr(CE(),["modelValue"]),...cx({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),Wk=ft()({name:"VDatePicker",props:AE(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),{t:u}=li(),h=hn(e,"modelValue",void 0,$=>Wr($),$=>e.multiple?$:$[0]),o=hn(e,"viewMode"),p=Y(()=>{var K;const $=s.date((K=h.value)==null?void 0:K[0]);return $&&s.isValid($)?$:s.date()}),y=ht(Number(e.month??s.getMonth(s.startOfMonth(p.value)))),w=ht(Number(e.year??s.getYear(s.startOfYear(s.setMonth(p.value,y.value))))),k=Rt(!1),C=Y(()=>e.multiple&&h.value.length>1?u("$vuetify.datePicker.itemsSelected",h.value.length):h.value[0]&&s.isValid(h.value[0])?s.format(s.date(h.value[0]),"normalDateWithWeekday"):u(e.header)),I=Y(()=>{let $=s.date();return $=s.setDate($,1),$=s.setMonth($,y.value),$=s.setYear($,w.value),s.format($,"monthAndYear")}),R=Y(()=>`date-picker-header${k.value?"-reverse":""}-transition`),M=Y(()=>{const $=s.date(e.min);return e.min&&s.isValid($)?$:null}),F=Y(()=>{const $=s.date(e.max);return e.max&&s.isValid($)?$:null}),N=Y(()=>{if(e.disabled)return!0;const $=[];if(o.value!=="month")$.push("prev","next");else{let K=s.date();if(K=s.setYear(K,w.value),K=s.setMonth(K,y.value),M.value){const le=s.addDays(s.startOfMonth(K),-1);s.isAfter(M.value,le)&&$.push("prev")}if(F.value){const le=s.addDays(s.endOfMonth(K),1);s.isAfter(le,F.value)&&$.push("next")}}return $});function q(){y.value<11?y.value++:(w.value++,y.value=0,G(w.value)),te(y.value)}function Z(){y.value>0?y.value--:(w.value--,y.value=11,G(w.value)),te(y.value)}function se(){o.value="month"}function ie(){o.value=o.value==="months"?"month":"months"}function J(){o.value=o.value==="year"?"month":"year"}function te($){o.value==="months"&&ie(),n("update:month",$)}function G($){o.value==="year"&&J(),n("update:year",$)}return ct(h,($,K)=>{const le=Wr(K),ee=Wr($);if(!ee.length)return;const _e=s.date(le[le.length-1]),fe=s.date(ee[ee.length-1]),Ie=s.getMonth(fe),Te=s.getYear(fe);Ie!==y.value&&(y.value=Ie,te(y.value)),Te!==w.value&&(w.value=Te,G(w.value)),k.value=s.isBefore(_e,fe)}),St(()=>{const $=qf.filterProps(e),K=Uk.filterProps(e),le=qk.filterProps(e),ee=jk.filterProps(e),_e=wr(Hk.filterProps(e),["modelValue"]),fe=wr(Gk.filterProps(e),["modelValue"]),Ie={header:C.value,transition:R.value};return T(qf,ot($,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var Te;return((Te=r.title)==null?void 0:Te.call(r))??T("div",{class:"v-date-picker__title"},[u(e.title)])},header:()=>r.header?T(Bn,{defaults:{VDatePickerHeader:{...Ie}}},{default:()=>{var Te;return[(Te=r.header)==null?void 0:Te.call(r,Ie)]}}):T(qk,ot({key:"header"},le,Ie,{onClick:o.value!=="month"?se:void 0}),{...r,default:void 0}),default:()=>T(Ht,null,[T(Uk,ot(K,{disabled:N.value,text:I.value,"onClick:next":q,"onClick:prev":Z,"onClick:month":ie,"onClick:year":J}),null),T(Db,{hideOnLeave:!0},{default:()=>[o.value==="months"?T(Hk,ot({key:"date-picker-months"},_e,{modelValue:y.value,"onUpdate:modelValue":[Te=>y.value=Te,te],min:M.value,max:F.value,year:w.value}),null):o.value==="year"?T(Gk,ot({key:"date-picker-years"},fe,{modelValue:w.value,"onUpdate:modelValue":[Te=>w.value=Te,G],min:M.value,max:F.value}),null):T(jk,ot({key:"date-picker-month"},ee,{modelValue:h.value,"onUpdate:modelValue":Te=>h.value=Te,month:y.value,"onUpdate:month":[Te=>y.value=Te,te],year:w.value,"onUpdate:year":[Te=>w.value=Te,G],min:M.value,max:F.value}),null)]})]),actions:r.actions})}),{}}});function S_(e,t){return{x:e.x+t.x,y:e.y+t.y}}function s3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yk(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,s=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,u=n==="top"?0:n==="bottom"?t.height:n;return S_({x:s,y:u},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,s=n==="left"?0:n==="right"?t.width:n,u=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return S_({x:s,y:u},t)}return S_({x:t.width/2,y:t.height/2},t)}const EE={static:c3,connected:d3},o3=We({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in EE},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function l3(e,t){const n=ht({}),r=ht();dr&&Ja(()=>!!(t.isActive.value&&e.locationStrategy),u=>{var h,o;ct(()=>e.locationStrategy,u),ha(()=>{window.removeEventListener("resize",s),r.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(h=e.locationStrategy(t,e,n))==null?void 0:h.updateLocation:r.value=(o=EE[e.locationStrategy](t,e,n))==null?void 0:o.updateLocation});function s(u){var h;(h=r.value)==null||h.call(r,u)}return{contentStyles:n,updateLocation:r}}function c3(){}function u3(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=H0(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function d3(e,t,n){(Array.isArray(e.target.value)||uz(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:u}=U0(()=>{const R=vb(t.location,e.isRtl.value),M=t.origin==="overlap"?R:t.origin==="auto"?v_(R):vb(t.origin,e.isRtl.value);return R.side===M.side&&R.align===y_(M).align?{preferredAnchor:ek(R),preferredOrigin:ek(M)}:{preferredAnchor:R,preferredOrigin:M}}),[h,o,p,y]=["minWidth","minHeight","maxWidth","maxHeight"].map(R=>Y(()=>{const M=parseFloat(t[R]);return isNaN(M)?1/0:M})),w=Y(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const R=t.offset.split(" ").map(parseFloat);return R.length<2&&R.push(0),R}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let k=!1;const C=new ResizeObserver(()=>{k&&I()});ct([e.target,e.contentEl],(R,M)=>{let[F,N]=R,[q,Z]=M;q&&!Array.isArray(q)&&C.unobserve(q),F&&!Array.isArray(F)&&C.observe(F),Z&&C.unobserve(Z),N&&C.observe(N)},{immediate:!0}),ha(()=>{C.disconnect()});function I(){if(k=!1,requestAnimationFrame(()=>k=!0),!e.target.value||!e.contentEl.value)return;const R=aA(e.target.value),M=u3(e.contentEl.value,e.isRtl.value),F=zf(e.contentEl.value),N=12;F.length||(F.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(M.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),M.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const q=F.reduce((le,ee)=>{const _e=ee.getBoundingClientRect(),fe=new ru({x:ee===document.documentElement?0:_e.x,y:ee===document.documentElement?0:_e.y,width:ee.clientWidth,height:ee.clientHeight});return le?new ru({x:Math.max(le.left,fe.left),y:Math.max(le.top,fe.top),width:Math.min(le.right,fe.right)-Math.max(le.left,fe.left),height:Math.min(le.bottom,fe.bottom)-Math.max(le.top,fe.top)}):fe},void 0);q.x+=N,q.y+=N,q.width-=N*2,q.height-=N*2;let Z={anchor:s.value,origin:u.value};function se(le){const ee=new ru(M),_e=Yk(le.anchor,R),fe=Yk(le.origin,ee);let{x:Ie,y:Te}=s3(_e,fe);switch(le.anchor.side){case"top":Te-=w.value[0];break;case"bottom":Te+=w.value[0];break;case"left":Ie-=w.value[0];break;case"right":Ie+=w.value[0];break}switch(le.anchor.align){case"top":Te-=w.value[1];break;case"bottom":Te+=w.value[1];break;case"left":Ie-=w.value[1];break;case"right":Ie+=w.value[1];break}return ee.x+=Ie,ee.y+=Te,ee.width=Math.min(ee.width,p.value),ee.height=Math.min(ee.height,y.value),{overflows:nk(ee,q),x:Ie,y:Te}}let ie=0,J=0;const te={x:0,y:0},G={x:!1,y:!1};let $=-1;for(;!($++>10);){const{x:le,y:ee,overflows:_e}=se(Z);ie+=le,J+=ee,M.x+=le,M.y+=ee;{const fe=tk(Z.anchor),Ie=_e.x.before||_e.x.after,Te=_e.y.before||_e.y.after;let qe=!1;if(["x","y"].forEach(ke=>{if(ke==="x"&&Ie&&!G.x||ke==="y"&&Te&&!G.y){const Pe={anchor:{...Z.anchor},origin:{...Z.origin}},Fe=ke==="x"?fe==="y"?y_:v_:fe==="y"?v_:y_;Pe.anchor=Fe(Pe.anchor),Pe.origin=Fe(Pe.origin);const{overflows:Je}=se(Pe);(Je[ke].before<=_e[ke].before&&Je[ke].after<=_e[ke].after||Je[ke].before+Je[ke].after<(_e[ke].before+_e[ke].after)/2)&&(Z=Pe,qe=G[ke]=!0)}}),qe)continue}_e.x.before&&(ie+=_e.x.before,M.x+=_e.x.before),_e.x.after&&(ie-=_e.x.after,M.x-=_e.x.after),_e.y.before&&(J+=_e.y.before,M.y+=_e.y.before),_e.y.after&&(J-=_e.y.after,M.y-=_e.y.after);{const fe=nk(M,q);te.x=q.width-fe.x.before-fe.x.after,te.y=q.height-fe.y.before-fe.y.after,ie+=fe.x.before,M.x+=fe.x.before,J+=fe.y.before,M.y+=fe.y.before}break}const K=tk(Z.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${Z.anchor.side} ${Z.anchor.align}`,transformOrigin:`${Z.origin.side} ${Z.origin.align}`,top:Gt(k_(J)),left:e.isRtl.value?void 0:Gt(k_(ie)),right:e.isRtl.value?Gt(k_(-ie)):void 0,minWidth:Gt(K==="y"?Math.min(h.value,R.width):h.value),maxWidth:Gt(Zk(ca(te.x,h.value===1/0?0:h.value,p.value))),maxHeight:Gt(Zk(ca(te.y,o.value===1/0?0:o.value,y.value)))}),{available:te,contentBox:M}}return ct(()=>[s.value,u.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>I()),Hn(()=>{const R=I();if(!R)return;const{available:M,contentBox:F}=R;F.height>M.y&&requestAnimationFrame(()=>{I(),requestAnimationFrame(()=>{I()})})}),{updateLocation:I}}function k_(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Zk(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Mb=!0;const Vg=[];function h3(e){!Mb||Vg.length?(Vg.push(e),Lb()):(Mb=!1,e(),Lb())}let Kk=-1;function Lb(){cancelAnimationFrame(Kk),Kk=requestAnimationFrame(()=>{const e=Vg.shift();e&&e(),Vg.length?Lb():Mb=!0})}const hg={none:null,close:p3,block:g3,reposition:v3},f3=We({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in hg}},"VOverlay-scroll-strategies");function m3(e,t){if(!dr)return;let n;oi(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=nv(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=hg[e.scrollStrategy])==null||r.call(hg,t,e,n)}))}),ha(()=>{n==null||n.stop()})}function p3(e){function t(n){e.isActive.value=!1}IE(e.targetEl.value??e.contentEl.value,t)}function g3(e,t){var h;const n=(h=e.root.value)==null?void 0:h.offsetParent,r=[...new Set([...zf(e.targetEl.value,t.contained?n:void 0),...zf(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,u=(o=>Y0(o)&&o)(n||document.documentElement);u&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((o,p)=>{o.style.setProperty("--v-body-scroll-x",Gt(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Gt(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Gt(s)),o.classList.add("v-overlay-scroll-blocked")}),ha(()=>{r.forEach((o,p)=>{const y=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),w=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),k=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-y,o.scrollTop=-w,o.style.scrollBehavior=k}),u&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function v3(e,t,n){let r=!1,s=-1,u=-1;function h(o){h3(()=>{var w,k;const p=performance.now();(k=(w=e.updateLocation).value)==null||k.call(w,o),r=(performance.now()-p)/(1e3/60)>2})}u=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{IE(e.targetEl.value??e.contentEl.value,o=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{h(o)})})):h(o)})})}),ha(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(u),cancelAnimationFrame(s)})}function IE(e,t){const n=[document,...zf(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),ha(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const Rb=Symbol.for("vuetify:v-menu"),PE=We({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function DE(e,t){let n=()=>{};function r(h){n==null||n();const o=Number(h?e.openDelay:e.closeDelay);return new Promise(p=>{n=IF(o,()=>{t==null||t(h),p(h)})})}function s(){return r(!0)}function u(){return r(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:u}}const y3=We({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...PE()},"VOverlay-activator");function _3(e,t){let{isActive:n,isTop:r}=t;const s=Jr("useActivator"),u=ht();let h=!1,o=!1,p=!0;const y=Y(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),w=Y(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!y.value),{runOpenDelay:k,runCloseDelay:C}=DE(e,te=>{te===(e.openOnHover&&h||y.value&&o)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==te&&(p=!0),n.value=te)}),I=ht(),R={onClick:te=>{te.stopPropagation(),u.value=te.currentTarget||te.target,n.value||(I.value=[te.clientX,te.clientY]),n.value=!n.value},onMouseenter:te=>{var G;(G=te.sourceCapabilities)!=null&&G.firesTouchEvents||(h=!0,u.value=te.currentTarget||te.target,k())},onMouseleave:te=>{h=!1,C()},onFocus:te=>{Id(te.target,":focus-visible")!==!1&&(o=!0,te.stopPropagation(),u.value=te.currentTarget||te.target,k())},onBlur:te=>{o=!1,te.stopPropagation(),C()}},M=Y(()=>{const te={};return w.value&&(te.onClick=R.onClick),e.openOnHover&&(te.onMouseenter=R.onMouseenter,te.onMouseleave=R.onMouseleave),y.value&&(te.onFocus=R.onFocus,te.onBlur=R.onBlur),te}),F=Y(()=>{const te={};if(e.openOnHover&&(te.onMouseenter=()=>{h=!0,k()},te.onMouseleave=()=>{h=!1,C()}),y.value&&(te.onFocusin=()=>{o=!0,k()},te.onFocusout=()=>{o=!1,C()}),e.closeOnContentClick){const G=yt(Rb,null);te.onClick=()=>{n.value=!1,G==null||G.closeParents()}}return te}),N=Y(()=>{const te={};return e.openOnHover&&(te.onMouseenter=()=>{p&&(h=!0,p=!1,k())},te.onMouseleave=()=>{h=!1,C()}),te});ct(r,te=>{te&&(e.openOnHover&&!h&&(!y.value||!o)||y.value&&!o&&(!e.openOnHover||!h))&&(n.value=!1)}),ct(n,te=>{te||setTimeout(()=>{I.value=void 0})},{flush:"post"});const q=Dg();oi(()=>{q.value&&Hn(()=>{u.value=q.el})});const Z=Dg(),se=Y(()=>e.target==="cursor"&&I.value?I.value:Z.value?Z.el:ME(e.target,s)||u.value),ie=Y(()=>Array.isArray(se.value)?void 0:se.value);let J;return ct(()=>!!e.activator,te=>{te&&dr?(J=nv(),J.run(()=>{b3(e,s,{activatorEl:u,activatorEvents:M})})):J&&J.stop()},{flush:"post",immediate:!0}),ha(()=>{J==null||J.stop()}),{activatorEl:u,activatorRef:q,target:se,targetEl:ie,targetRef:Z,activatorEvents:M,contentEvents:F,scrimEvents:N}}function b3(e,t,n){let{activatorEl:r,activatorEvents:s}=n;ct(()=>e.activator,(p,y)=>{if(y&&p!==y){const w=o(y);w&&h(w)}p&&Hn(()=>u())},{immediate:!0}),ct(()=>e.activatorProps,()=>{u()}),ha(()=>{h()});function u(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;p&&MF(p,ot(s.value,y))}function h(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;p&&LF(p,ot(s.value,y))}function o(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const y=ME(p,t);return r.value=(y==null?void 0:y.nodeType)===Node.ELEMENT_NODE?y:void 0,r.value}}function ME(e,t){var r,s;if(!e)return;let n;if(e==="parent"){let u=(s=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:s.parentNode;for(;u!=null&&u.hasAttribute("data-no-activator");)u=u.parentNode;n=u}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function x3(){if(!dr)return Rt(!1);const{ssr:e}=yl();if(e){const t=Rt(!1);return fa(()=>{t.value=!0}),t}else return Rt(!0)}const ux=We({eager:Boolean},"lazy");function dx(e,t){const n=Rt(!1),r=Y(()=>n.value||e.eager||t.value);ct(t,()=>n.value=!0);function s(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:s}}function qd(){const t=Jr("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Xk=Symbol.for("vuetify:stack"),cf=Ei([]);function w3(e,t,n){const r=Jr("useStack"),s=!n,u=yt(Xk,void 0),h=Ei({activeChildren:new Set});xn(Xk,h);const o=Rt(+t.value);Ja(e,()=>{var k;const w=(k=cf.at(-1))==null?void 0:k[1];o.value=w?w+10:+t.value,s&&cf.push([r.uid,o.value]),u==null||u.activeChildren.add(r.uid),ha(()=>{if(s){const C=wn(cf).findIndex(I=>I[0]===r.uid);cf.splice(C,1)}u==null||u.activeChildren.delete(r.uid)})});const p=Rt(!0);s&&oi(()=>{var k;const w=((k=cf.at(-1))==null?void 0:k[0])===r.uid;setTimeout(()=>p.value=w)});const y=Y(()=>!h.activeChildren.size);return{globalTop:Fd(p),localTop:y,stackStyles:Y(()=>({zIndex:o.value}))}}function S3(e){return{teleportTarget:Y(()=>{const n=e();if(n===!0||!dr)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let s=r.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function k3(){return!0}function LE(e,t,n){if(!e||RE(e,n)===!1)return!1;const r=hA(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(t),!s.some(u=>u==null?void 0:u.contains(e.target))}function RE(e,t){return(typeof t.value=="object"&&t.value.closeConditional||k3)(e)}function C3(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&LE(e,t,n)&&setTimeout(()=>{RE(e,n)&&r&&r(e)},0)}function Jk(e,t){const n=hA(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const T3={mounted(e,t){const n=s=>C3(s,e,t),r=s=>{e._clickOutside.lastMousedownWasOutside=LE(s,e,t)};Jk(e,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(Jk(e,n=>{var u;if(!n||!((u=e._clickOutside)!=null&&u[t.instance.$.uid]))return;const{onClick:r,onMousedown:s}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[t.instance.$.uid])}};function A3(e){const{modelValue:t,color:n,...r}=e;return T(Ao,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&T("div",ot({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const vv=We({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...y3(),...cn(),...to(),...ux(),...o3(),...f3(),...vr(),...gu()},"VOverlay"),Dd=ft()({name:"VOverlay",directives:{ClickOutside:T3},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...vv()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:s}=t;const u=hn(e,"modelValue"),h=Y({get:()=>u.value,set:dt=>{dt&&e.disabled||(u.value=dt)}}),{themeClasses:o}=Rr(e),{rtlClasses:p,isRtl:y}=es(),{hasContent:w,onAfterLeave:k}=dx(e,h),C=yi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:I,localTop:R,stackStyles:M}=w3(h,_t(e,"zIndex"),e._disableGlobalStack),{activatorEl:F,activatorRef:N,target:q,targetEl:Z,targetRef:se,activatorEvents:ie,contentEvents:J,scrimEvents:te}=_3(e,{isActive:h,isTop:R}),{teleportTarget:G}=S3(()=>{var Ne;const dt=e.attach||e.contained;if(dt)return dt;const kt=(Ne=F==null?void 0:F.value)==null?void 0:Ne.getRootNode();return kt instanceof ShadowRoot?kt:!1}),{dimensionStyles:$}=no(e),K=x3(),{scopeId:le}=qd();ct(()=>e.disabled,dt=>{dt&&(h.value=!1)});const ee=ht(),_e=ht(),fe=ht(),{contentStyles:Ie,updateLocation:Te}=l3(e,{isRtl:y,contentEl:fe,target:q,isActive:h});m3(e,{root:ee,contentEl:fe,targetEl:Z,isActive:h,updateLocation:Te});function qe(dt){s("click:outside",dt),e.persistent?$e():h.value=!1}function ke(dt){return h.value&&I.value&&(!e.scrim||dt.target===_e.value)}dr&&ct(h,dt=>{dt?window.addEventListener("keydown",Pe):window.removeEventListener("keydown",Pe)},{immediate:!0}),Sr(()=>{dr&&window.removeEventListener("keydown",Pe)});function Pe(dt){var kt,Ne;dt.key==="Escape"&&I.value&&(e.persistent?$e():(h.value=!1,(kt=fe.value)!=null&&kt.contains(document.activeElement)&&((Ne=F.value)==null||Ne.focus())))}const Fe=UA();Ja(()=>e.closeOnBack,()=>{kV(Fe,dt=>{I.value&&h.value?(dt(!1),e.persistent?$e():h.value=!1):dt()})});const Je=ht();ct(()=>h.value&&(e.absolute||e.contained)&&G.value==null,dt=>{if(dt){const kt=fA(ee.value);kt&&kt!==document.scrollingElement&&(Je.value=kt.scrollTop)}});function $e(){e.noClickAnimation||fe.value&&Zc(fe.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Ff})}function at(){s("afterEnter")}function Lt(){k(),s("afterLeave")}return St(()=>{var dt;return T(Ht,null,[(dt=n.activator)==null?void 0:dt.call(n,{isActive:h.value,targetRef:se,props:ot({ref:N},ie.value,e.activatorProps)}),K.value&&w.value&&T(F0,{disabled:!G.value,to:G.value},{default:()=>[T("div",ot({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":h.value,"v-overlay--contained":e.contained},o.value,p.value,e.class],style:[M.value,{"--v-overlay-opacity":e.opacity,top:Gt(Je.value)},e.style],ref:ee},le,r),[T(A3,ot({color:C,modelValue:h.value&&!!e.scrim,ref:_e},te.value),null),T(_s,{appear:!0,persisted:!0,transition:e.transition,target:q.value,onAfterEnter:at,onAfterLeave:Lt},{default:()=>{var kt;return[si(T("div",ot({ref:fe,class:["v-overlay__content",e.contentClass],style:[$.value,Ie.value]},J.value,e.contentProps),[(kt=n.default)==null?void 0:kt.call(n,{isActive:h})]),[[gl,h.value],[Cs("click-outside"),{handler:qe,closeConditional:ke,include:()=>[F.value]}]])]}})])]})])}),{activatorEl:F,scrimEl:_e,target:q,animateClick:$e,contentEl:fe,globalTop:I,localTop:R,updateLocation:Te}}}),C_=Symbol("Forwarded refs");function T_(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ro(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[C_]=n,new Proxy(e,{get(s,u){if(Reflect.has(s,u))return Reflect.get(s,u);if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const h of n)if(h.value&&Reflect.has(h.value,u)){const o=Reflect.get(h.value,u);return typeof o=="function"?o.bind(h.value):o}}},has(s,u){if(Reflect.has(s,u))return!0;if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const h of n)if(h.value&&Reflect.has(h.value,u))return!0;return!1},set(s,u,h){if(Reflect.has(s,u))return Reflect.set(s,u,h);if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,u))return Reflect.set(o.value,u,h);return!1},getOwnPropertyDescriptor(s,u){var o;const h=Reflect.getOwnPropertyDescriptor(s,u);if(h)return h;if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const p of n){if(!p.value)continue;const y=T_(p.value,u)??("_"in p.value?T_((o=p.value._)==null?void 0:o.setupState,u):void 0);if(y)return y}for(const p of n){const y=p.value&&p.value[C_];if(!y)continue;const w=y.slice();for(;w.length;){const k=w.shift(),C=T_(k.value,u);if(C)return C;const I=k.value&&k.value[C_];I&&w.push(...I)}}}}})}const E3=We({id:String,...wr(vv({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:rx}}),["absolute"])},"VMenu"),hx=ft()({name:"VMenu",props:E3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=hn(e,"modelValue"),{scopeId:s}=qd(),u=As(),h=Y(()=>e.id||`v-menu-${u}`),o=ht(),p=yt(Rb,null),y=Rt(0);xn(Rb,{register(){++y.value},unregister(){--y.value},closeParents(M){setTimeout(()=>{!y.value&&!e.persistent&&(M==null||M&&!PF(M,o.value.contentEl))&&(r.value=!1,p==null||p.closeParents())},40)}});async function w(M){var q,Z,se;const F=M.relatedTarget,N=M.target;await Hn(),r.value&&F!==N&&((q=o.value)!=null&&q.contentEl)&&((Z=o.value)!=null&&Z.globalTop)&&![document,o.value.contentEl].includes(N)&&!o.value.contentEl.contains(N)&&((se=Rf(o.value.contentEl)[0])==null||se.focus())}ct(r,M=>{M?(p==null||p.register(),document.addEventListener("focusin",w,{once:!0})):(p==null||p.unregister(),document.removeEventListener("focusin",w))});function k(M){p==null||p.closeParents(M)}function C(M){var F,N,q;if(!e.disabled)if(M.key==="Tab"||M.key==="Enter"&&!e.closeOnContentClick){if(M.key==="Enter"&&(M.target instanceof HTMLTextAreaElement||M.target instanceof HTMLInputElement&&M.target.closest("form")))return;M.key==="Enter"&&M.preventDefault(),rA(Rf((F=o.value)==null?void 0:F.contentEl,!1),M.shiftKey?"prev":"next",se=>se.tabIndex>=0)||(r.value=!1,(q=(N=o.value)==null?void 0:N.activatorEl)==null||q.focus())}else["Enter"," "].includes(M.key)&&e.closeOnContentClick&&(r.value=!1,p==null||p.closeParents())}function I(M){var N;if(e.disabled)return;const F=(N=o.value)==null?void 0:N.contentEl;F&&r.value?M.key==="ArrowDown"?(M.preventDefault(),Pg(F,"next")):M.key==="ArrowUp"&&(M.preventDefault(),Pg(F,"prev")):["ArrowDown","ArrowUp"].includes(M.key)&&(r.value=!0,M.preventDefault(),setTimeout(()=>setTimeout(()=>I(M))))}const R=Y(()=>ot({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":h.value,onKeydown:I},e.activatorProps));return St(()=>{const M=Dd.filterProps(e);return T(Dd,ot({ref:o,id:h.value,class:["v-menu",e.class],style:e.style},M,{modelValue:r.value,"onUpdate:modelValue":F=>r.value=F,absolute:!0,activatorProps:R.value,"onClick:outside":k,onKeydown:C},s),{activator:n.activator,default:function(){for(var F=arguments.length,N=new Array(F),q=0;q<F;q++)N[q]=arguments[q];return T(Bn,{root:"VMenu"},{default:()=>{var Z;return[(Z=n.default)==null?void 0:Z.call(n,...N)]}})}})}),Ro({id:h,ΨopenChildren:y},o)}}),I3=We({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...cn(),...gu({transition:{component:tE}})},"VCounter"),fx=ft()({name:"VCounter",functional:!0,props:I3(),setup(e,t){let{slots:n}=t;const r=Y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return St(()=>T(_s,{transition:e.transition},{default:()=>[si(T("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[gl,e.active]])]})),{}}}),P3=We({text:String,onClick:Bi(),...cn(),...vr()},"VLabel"),mx=ft()({name:"VLabel",props:P3(),setup(e,t){let{slots:n}=t;return St(()=>{var r;return T("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),D3=We({floating:Boolean,...cn()},"VFieldLabel"),Kp=ft()({name:"VFieldLabel",props:D3(),setup(e,t){let{slots:n}=t;return St(()=>T(mx,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function OE(e){const{t}=li();function n(r){let{name:s}=r;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],h=e[`onClick:${s}`],o=h&&u?t(`$vuetify.input.${u}`,e.label??""):void 0;return T(nr,{icon:e[`${s}Icon`],"aria-label":o,onClick:h},null)}return{InputIcon:n}}const px=We({focused:Boolean,"onUpdate:focused":Bi()},"focus");function gm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();const n=hn(e,"focused"),r=Y(()=>({[`${t}--focused`]:n.value}));function s(){n.value=!0}function u(){n.value=!1}return{focusClasses:r,isFocused:n,focus:s,blur:u}}const M3=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],yv=We({appendInnerIcon:yn,bgColor:String,clearable:Boolean,clearIcon:{type:yn,default:"$clear"},active:Boolean,centerAffix:Boolean,color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:yn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>M3.includes(e)},"onClick:clear":Bi(),"onClick:appendInner":Bi(),"onClick:prependInner":Bi(),...cn(),...mv(),...Pi(),...vr()},"VField"),_v=ft()({name:"VField",inheritAttrs:!1,props:{id:String,...px(),...yv()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{themeClasses:u}=Rr(e),{loaderClasses:h}=pv(e),{focusClasses:o,isFocused:p,focus:y,blur:w}=gm(e),{InputIcon:k}=OE(e),{roundedClasses:C}=Vi(e),{rtlClasses:I}=es(),R=Y(()=>e.singleLine||e.centerAffix),M=Y(()=>e.dirty||e.active),F=Y(()=>!R.value&&!!(e.label||s.label)),N=As(),q=Y(()=>e.id||`input-${N}`),Z=Y(()=>`${q.value}-messages`),se=ht(),ie=ht(),J=ht(),te=Y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:G,backgroundColorStyles:$}=yi(_t(e,"bgColor")),{textColorClasses:K,textColorStyles:le}=Na(Y(()=>e.error||e.disabled?void 0:M.value&&p.value?e.color:e.baseColor));ct(M,Ie=>{if(F.value){const Te=se.value.$el,qe=ie.value.$el;requestAnimationFrame(()=>{const ke=H0(Te),Pe=qe.getBoundingClientRect(),Fe=Pe.x-ke.x,Je=Pe.y-ke.y-(ke.height/2-Pe.height/2),$e=Pe.width/.75,at=Math.abs($e-ke.width)>1?{maxWidth:Gt($e)}:void 0,Lt=getComputedStyle(Te),dt=getComputedStyle(qe),kt=parseFloat(Lt.transitionDuration)*1e3||150,Ne=parseFloat(dt.getPropertyValue("--v-field-label-scale")),it=dt.getPropertyValue("color");Te.style.visibility="visible",qe.style.visibility="hidden",Zc(Te,{transform:`translate(${Fe}px, ${Je}px) scale(${Ne})`,color:it,...at},{duration:kt,easing:Ff,direction:Ie?"normal":"reverse"}).finished.then(()=>{Te.style.removeProperty("visibility"),qe.style.removeProperty("visibility")})})}},{flush:"post"});const ee=Y(()=>({isActive:M,isFocused:p,controlRef:J,blur:w,focus:y}));function _e(Ie){Ie.target!==document.activeElement&&Ie.preventDefault()}function fe(Ie){var Te;Ie.key!=="Enter"&&Ie.key!==" "||(Ie.preventDefault(),Ie.stopPropagation(),(Te=e["onClick:clear"])==null||Te.call(e,new MouseEvent("click")))}return St(()=>{var Fe,Je,$e;const Ie=e.variant==="outlined",Te=!!(s["prepend-inner"]||e.prependInnerIcon),qe=!!(e.clearable||s.clear),ke=!!(s["append-inner"]||e.appendInnerIcon||qe),Pe=()=>s.label?s.label({...ee.value,label:e.label,props:{for:q.value}}):e.label;return T("div",ot({class:["v-field",{"v-field--active":M.value,"v-field--appended":ke,"v-field--center-affix":e.centerAffix,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":Te,"v-field--reverse":e.reverse,"v-field--single-line":R.value,"v-field--no-label":!Pe(),[`v-field--variant-${e.variant}`]:!0},u.value,G.value,o.value,h.value,C.value,I.value,e.class],style:[$.value,e.style],onClick:_e},n),[T("div",{class:"v-field__overlay"},null),T(tx,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:s.loader}),Te&&T("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&T(k,{key:"prepend-icon",name:"prependInner"},null),(Fe=s["prepend-inner"])==null?void 0:Fe.call(s,ee.value)]),T("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&F.value&&T(Kp,{key:"floating-label",ref:ie,class:[K.value],floating:!0,for:q.value,style:le.value},{default:()=>[Pe()]}),T(Kp,{ref:se,for:q.value},{default:()=>[Pe()]}),(Je=s.default)==null?void 0:Je.call(s,{...ee.value,props:{id:q.value,class:"v-field__input","aria-describedby":Z.value},focus:y,blur:w})]),qe&&T(nE,{key:"clear"},{default:()=>[si(T("div",{class:"v-field__clearable",onMousedown:at=>{at.preventDefault(),at.stopPropagation()}},[T(Bn,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[s.clear?s.clear({...ee.value,props:{onKeydown:fe,onFocus:y,onBlur:w,onClick:e["onClick:clear"]}}):T(k,{name:"clear",onKeydown:fe,onFocus:y,onBlur:w},null)]})]),[[gl,e.dirty]])]}),ke&&T("div",{key:"append",class:"v-field__append-inner"},[($e=s["append-inner"])==null?void 0:$e.call(s,ee.value),e.appendInnerIcon&&T(k,{key:"append-icon",name:"appendInner"},null)]),T("div",{class:["v-field__outline",K.value],style:le.value},[Ie&&T(Ht,null,[T("div",{class:"v-field__outline__start"},null),F.value&&T("div",{class:"v-field__outline__notch"},[T(Kp,{ref:ie,floating:!0,for:q.value},{default:()=>[Pe()]})]),T("div",{class:"v-field__outline__end"},null)]),te.value&&F.value&&T(Kp,{ref:ie,floating:!0,for:q.value},{default:()=>[Pe()]})])])}),{controlRef:J}}});function gx(e){const t=Object.keys(_v.props).filter(n=>!cv(n)&&n!=="class"&&n!=="style");return $0(e,t)}const L3=We({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...cn(),...gu({transition:{component:tE,leaveAbsolute:!0,group:!0}})},"VMessages"),R3=ft()({name:"VMessages",props:L3(),setup(e,t){let{slots:n}=t;const r=Y(()=>Wr(e.messages)),{textColorClasses:s,textColorStyles:u}=Na(Y(()=>e.color));return St(()=>T(_s,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[u.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((h,o)=>T("div",{class:"v-messages__message",key:`${o}-${r.value}`},[n.message?n.message({message:h}):h]))]})),{}}}),FE=Symbol.for("vuetify:form"),O3=We({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function F3(e){const t=hn(e,"modelValue"),n=Y(()=>e.disabled),r=Y(()=>e.readonly),s=Rt(!1),u=ht([]),h=ht([]);async function o(){const w=[];let k=!0;h.value=[],s.value=!0;for(const C of u.value){const I=await C.validate();if(I.length>0&&(k=!1,w.push({id:C.id,errorMessages:I})),!k&&e.fastFail)break}return h.value=w,s.value=!1,{valid:k,errors:h.value}}function p(){u.value.forEach(w=>w.reset())}function y(){u.value.forEach(w=>w.resetValidation())}return ct(u,()=>{let w=0,k=0;const C=[];for(const I of u.value)I.isValid===!1?(k++,C.push({id:I.id,errorMessages:I.errorMessages})):I.isValid===!0&&w++;h.value=C,t.value=k>0?!1:w===u.value.length?!0:null},{deep:!0,flush:"post"}),xn(FE,{register:w=>{let{id:k,vm:C,validate:I,reset:R,resetValidation:M}=w;u.value.some(F=>F.id===k),u.value.push({id:k,validate:I,reset:R,resetValidation:M,vm:wg(C),isValid:null,errorMessages:[]})},unregister:w=>{u.value=u.value.filter(k=>k.id!==w)},update:(w,k,C)=>{const I=u.value.find(R=>R.id===w);I&&(I.isValid=k,I.errorMessages=C)},isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validateOn:_t(e,"validateOn")}),{errors:h,isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validate:o,reset:p,resetValidation:y}}function bv(){return yt(FE,null)}const z3=We({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...px()},"validation");function B3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:As();const r=hn(e,"modelValue"),s=Y(()=>e.validationValue===void 0?r.value:e.validationValue),u=bv(),h=ht([]),o=Rt(!0),p=Y(()=>!!(Wr(r.value===""?null:r.value).length||Wr(s.value===""?null:s.value).length)),y=Y(()=>!!(e.disabled??(u==null?void 0:u.isDisabled.value))),w=Y(()=>!!(e.readonly??(u==null?void 0:u.isReadonly.value))),k=Y(()=>{var ie;return(ie=e.errorMessages)!=null&&ie.length?Wr(e.errorMessages).concat(h.value).slice(0,Math.max(0,+e.maxErrors)):h.value}),C=Y(()=>{let ie=(e.validateOn??(u==null?void 0:u.validateOn.value))||"input";ie==="lazy"&&(ie="input lazy");const J=new Set((ie==null?void 0:ie.split(" "))??[]);return{blur:J.has("blur")||J.has("input"),input:J.has("input"),submit:J.has("submit"),lazy:J.has("lazy")}}),I=Y(()=>{var ie;return e.error||(ie=e.errorMessages)!=null&&ie.length?!1:e.rules.length?o.value?h.value.length||C.value.lazy?null:!0:!h.value.length:!0}),R=Rt(!1),M=Y(()=>({[`${t}--error`]:I.value===!1,[`${t}--dirty`]:p.value,[`${t}--disabled`]:y.value,[`${t}--readonly`]:w.value})),F=Jr("validation"),N=Y(()=>e.name??Vr(n));I0(()=>{u==null||u.register({id:N.value,vm:F,validate:se,reset:q,resetValidation:Z})}),Sr(()=>{u==null||u.unregister(N.value)}),fa(async()=>{C.value.lazy||await se(!0),u==null||u.update(N.value,I.value,k.value)}),Ja(()=>C.value.input,()=>{ct(s,()=>{if(s.value!=null)se();else if(e.focused){const ie=ct(()=>e.focused,J=>{J||se(),ie()})}})}),Ja(()=>C.value.blur,()=>{ct(()=>e.focused,ie=>{ie||se()})}),ct([I,k],()=>{u==null||u.update(N.value,I.value,k.value)});async function q(){r.value=null,await Hn(),await Z()}async function Z(){o.value=!0,C.value.lazy?h.value=[]:await se(!0)}async function se(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const J=[];R.value=!0;for(const te of e.rules){if(J.length>=+(e.maxErrors??1))break;const $=await(typeof te=="function"?te:()=>te)(s.value);if($!==!0){if($!==!1&&typeof $!="string"){console.warn(`${$} is not a valid value. Rule functions must return boolean true or a string.`);continue}J.push($||"")}}return h.value=J,R.value=!1,o.value=ie,h.value}return{errorMessages:k,isDirty:p,isDisabled:y,isReadonly:w,isPristine:o,isValid:I,isValidating:R,reset:q,resetValidation:Z,validate:se,validationClasses:M}}const vm=We({id:String,appendIcon:yn,centerAffix:Boolean,prependIcon:yn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Bi(),"onClick:append":Bi(),...cn(),...$a(),...QT(to(),["maxWidth","minWidth","width"]),...vr(),...z3()},"VInput"),dc=ft()({name:"VInput",props:{...vm()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const{densityClasses:u}=rs(e),{dimensionStyles:h}=no(e),{themeClasses:o}=Rr(e),{rtlClasses:p}=es(),{InputIcon:y}=OE(e),w=As(),k=Y(()=>e.id||`input-${w}`),C=Y(()=>`${k.value}-messages`),{errorMessages:I,isDirty:R,isDisabled:M,isReadonly:F,isPristine:N,isValid:q,isValidating:Z,reset:se,resetValidation:ie,validate:J,validationClasses:te}=B3(e,"v-input",k),G=Y(()=>({id:k,messagesId:C,isDirty:R,isDisabled:M,isReadonly:F,isPristine:N,isValid:q,isValidating:Z,reset:se,resetValidation:ie,validate:J})),$=Y(()=>{var K;return(K=e.errorMessages)!=null&&K.length||!N.value&&I.value.length?I.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return St(()=>{var fe,Ie,Te,qe;const K=!!(r.prepend||e.prependIcon),le=!!(r.append||e.appendIcon),ee=$.value.length>0,_e=!e.hideDetails||e.hideDetails==="auto"&&(ee||!!r.details);return T("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},u.value,o.value,p.value,te.value,e.class],style:[h.value,e.style]},[K&&T("div",{key:"prepend",class:"v-input__prepend"},[(fe=r.prepend)==null?void 0:fe.call(r,G.value),e.prependIcon&&T(y,{key:"prepend-icon",name:"prepend"},null)]),r.default&&T("div",{class:"v-input__control"},[(Ie=r.default)==null?void 0:Ie.call(r,G.value)]),le&&T("div",{key:"append",class:"v-input__append"},[e.appendIcon&&T(y,{key:"append-icon",name:"append"},null),(Te=r.append)==null?void 0:Te.call(r,G.value)]),_e&&T("div",{class:"v-input__details"},[T(R3,{id:C.value,active:ee,messages:$.value},{message:r.message}),(qe=r.details)==null?void 0:qe.call(r,G.value)])])}),{reset:se,resetValidation:ie,validate:J,isValid:q,errorMessages:I}}}),V3=["color","file","time","date","datetime-local","week","month"],ym=We({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...vm(),...yv()},"VTextField"),ii=ft()({name:"VTextField",directives:{Intersect:ax},inheritAttrs:!1,props:ym(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=hn(e,"modelValue"),{isFocused:h,focus:o,blur:p}=gm(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),w=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),k=Y(()=>["plain","underlined"].includes(e.variant));function C(J,te){var G,$;!e.autofocus||!J||($=(G=te[0].target)==null?void 0:G.focus)==null||$.call(G)}const I=ht(),R=ht(),M=ht(),F=Y(()=>V3.includes(e.type)||e.persistentPlaceholder||h.value||e.active);function N(){var J;M.value!==document.activeElement&&((J=M.value)==null||J.focus()),h.value||o()}function q(J){r("mousedown:control",J),J.target!==M.value&&(N(),J.preventDefault())}function Z(J){N(),r("click:control",J)}function se(J){J.stopPropagation(),N(),Hn(()=>{u.value=null,q0(e["onClick:clear"],J)})}function ie(J){var G;const te=J.target;if(u.value=te.value,(G=e.modelModifiers)!=null&&G.trim&&["text","search","password","tel","url"].includes(e.type)){const $=[te.selectionStart,te.selectionEnd];Hn(()=>{te.selectionStart=$[0],te.selectionEnd=$[1]})}}return St(()=>{const J=!!(s.counter||e.counter!==!1&&e.counter!=null),te=!!(J||s.details),[G,$]=om(n),{modelValue:K,...le}=dc.filterProps(e),ee=gx(e);return T(dc,ot({ref:I,modelValue:u.value,"onUpdate:modelValue":_e=>u.value=_e,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":k.value},e.class],style:e.style},G,le,{focused:h.value}),{...s,default:_e=>{let{id:fe,isDisabled:Ie,isDirty:Te,isReadonly:qe,isValid:ke}=_e;return T(_v,ot({ref:R,onMousedown:q,onClick:Z,"onClick:clear":se,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},ee,{id:fe.value,active:F.value||Te.value,dirty:Te.value||e.dirty,disabled:Ie.value,focused:h.value,centerAffix:e.centerAffix,error:ke.value===!1}),{...s,default:Pe=>{let{props:{class:Fe,...Je}}=Pe;const $e=si(T("input",ot({ref:M,value:u.value,onInput:ie,autofocus:e.autofocus,readonly:qe.value,disabled:Ie.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:N,onBlur:p},Je,$),null),[[Cs("intersect"),{handler:C},null,{once:!0}]]);return T(Ht,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[T("span",{class:"v-text-field__prefix__text"},[e.prefix])]),s.default?T("div",{class:Fe,"data-no-activator":""},[s.default(),$e]):hl($e,{class:Fe}),e.suffix&&T("span",{class:"v-text-field__suffix"},[T("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:te?_e=>{var fe;return T(Ht,null,[(fe=s.details)==null?void 0:fe.call(s,_e),J&&T(Ht,null,[T("span",null,null),T(fx,{active:e.persistentCounter||h.value,value:y.value,max:w.value,disabled:e.disabled},s.counter)])])}:void 0})}),Ro({},I,R,M)}}),N3=We({hideActions:Boolean,...px(),...dE(),...ym({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...wr(AE({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),$3=ft()({name:"VDateInput",props:N3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=Mo(),{isFocused:u,focus:h,blur:o}=gm(e),p=hn(e,"modelValue",e.multiple?[]:null),y=Rt(!1),w=Y(()=>{const R=Wr(p.value);if(!R.length)return null;if(e.multiple===!0)return r("$vuetify.datePicker.itemsSelected",R.length);if(e.multiple==="range"){const M=R[0],F=R[R.length-1];return s.isValid(M)&&s.isValid(F)?`${s.format(M,"keyboardDate")} - ${s.format(F,"keyboardDate")}`:""}return s.isValid(p.value)?s.format(p.value,"keyboardDate"):""});function k(R){if(R.key!=="Enter")return;if(!y.value||!u.value){y.value=!0;return}const M=R.target;p.value=s.date(M.value)}function C(R){R.preventDefault(),R.stopPropagation(),y.value=!0}function I(){y.value=!1}St(()=>{const R=Vk.filterProps(e),M=Wk.filterProps(wr(e,["active"])),F=ii.filterProps(e);return T(ii,ot(F,{modelValue:w.value,onKeydown:k,focused:y.value||u.value,onFocus:h,onBlur:o,"onClick:control":C,"onClick:prepend":C}),{default:()=>{var N;return[T(hx,{modelValue:y.value,"onUpdate:modelValue":q=>y.value=q,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[T(Vk,ot(R,{modelValue:p.value,"onUpdate:modelValue":q=>p.value=q,onSave:I}),{default:q=>{let{actions:Z,model:se}=q;return T(Wk,ot(M,{modelValue:e.hideActions?p.value:se.value,"onUpdate:modelValue":ie=>{e.hideActions?(p.value=ie,e.multiple||(y.value=!1)):se.value=ie},onMousedown:ie=>ie.preventDefault()}),{actions:e.hideActions?void 0:()=>Z})}})]}),(N=n.default)==null?void 0:N.call(n)]}})})}}),U3=We({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...cn(),...vr()},"VDivider"),gr=ft()({name:"VDivider",props:U3(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{textColorClasses:u,textColorStyles:h}=Na(_t(e,"color")),o=Y(()=>{const p={};return e.length&&(p[e.vertical?"height":"width"]=Gt(e.length)),e.thickness&&(p[e.vertical?"borderRightWidth":"borderTopWidth"]=Gt(e.thickness)),p});return St(()=>{const p=T("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,u.value,e.class],style:[o.value,h.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?T("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[p,T("div",{class:"v-divider__content"},[r.default()]),p]):p}),{}}}),q3=We({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},...wr(ym(),["appendInnerIcon","prependInnerIcon"])},"VNumberInput"),j3=ft()({name:"VNumberInput",props:{...q3()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=hn(e,"modelValue"),h=Y(()=>YS(e.step)),o=Y(()=>u.value!=null?YS(u.value):0),p=bv(),y=Y(()=>e.disabled||e.readonly||(p==null?void 0:p.isReadonly.value)),w=Y(()=>y.value?!1:u.value==null?!0:u.value+e.step<=e.max),k=Y(()=>y.value?!1:u.value==null?!0:u.value-e.step>=e.min);oi(()=>{y.value||u.value!=null&&(u.value<e.min||u.value>e.max)&&(u.value=ca(u.value,e.min,e.max))});const C=Y(()=>e.hideInput?"stacked":e.controlVariant),I=Y(()=>C.value==="split"?"$plus":"$collapse"),R=Y(()=>C.value==="split"?"$minus":"$expand"),M=Y(()=>C.value==="split"?"default":"small"),F=Y(()=>C.value==="stacked"?"auto":"100%"),N=Y(()=>({click:se})),q=Y(()=>({click:ie}));function Z(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(y.value)return;if(u.value==null){u.value=0;return}const K=Math.max(o.value,h.value);$?w.value&&(u.value=+(u.value+e.step).toFixed(K)):k.value&&(u.value=+(u.value-e.step).toFixed(K))}function se($){$.stopPropagation(),Z()}function ie($){$.stopPropagation(),Z(!1)}function J($){if(!(["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes($.key)||$.ctrlKey)){if(["ArrowDown"].includes($.key)){$.preventDefault(),Z(!1);return}if(["ArrowUp"].includes($.key)){$.preventDefault(),Z();return}/^[0-9\-+.]+$/.test($.key)||$.preventDefault()}}function te($){u.value=$?+$:void 0}function G($){$.stopPropagation()}St(()=>{const{modelValue:$,...K}=ii.filterProps(e);function le(){return s.increment?T(Bn,{key:"increment-defaults",defaults:{VBtn:{disabled:!w.value,flat:!0,height:F.value,size:M.value,icon:I.value}}},{default:()=>[s.increment(N.value)]}):T(Jt,{disabled:!w.value,flat:!0,key:"increment-btn",height:F.value,name:"increment-btn",icon:I.value,onClick:se,onMousedown:G,size:M.value,tabindex:"-1"},null)}function ee(){return s.decrement?T(Bn,{key:"decrement-defaults",defaults:{VBtn:{disabled:!k.value,flat:!0,height:F.value,size:M.value,icon:R.value}}},{default:()=>[s.decrement(q.value)]}):T(Jt,{disabled:!k.value,flat:!0,key:"decrement-btn",height:F.value,name:"decrement-btn",icon:R.value,size:M.value,tabindex:"-1",onClick:ie,onMousedown:G},null)}function _e(){return T("div",{class:"v-number-input__control"},[ee(),T(gr,{vertical:C.value!=="stacked"},null),le()])}function fe(){return!e.hideInput&&!e.inset?T(gr,{vertical:!0},null):void 0}const Ie=C.value==="split"?T("div",{class:"v-number-input__control"},[T(gr,{vertical:!0},null),le()]):e.reverse?void 0:T(Ht,null,[fe(),_e()]),Te=s["append-inner"]||Ie,qe=C.value==="split"?T("div",{class:"v-number-input__control"},[ee(),T(gr,{vertical:!0},null)]):e.reverse?T(Ht,null,[_e(),fe()]):void 0,ke=s["prepend-inner"]||qe;return T(ii,ot({modelValue:u.value,"onUpdate:modelValue":te,onKeydown:J,class:["v-number-input",{"v-number-input--default":C.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":C.value==="split","v-number-input--stacked":C.value==="stacked"},e.class]},K,{style:e.style,inputmode:"decimal"}),{...s,"append-inner":Te?function(){var $e;for(var Pe=arguments.length,Fe=new Array(Pe),Je=0;Je<Pe;Je++)Fe[Je]=arguments[Je];return T(Ht,null,[($e=s["append-inner"])==null?void 0:$e.call(s,...Fe),Ie])}:void 0,"prepend-inner":ke?function(){var $e;for(var Pe=arguments.length,Fe=new Array(Pe),Je=0;Je<Pe;Je++)Fe[Je]=arguments[Je];return T(Ht,null,[qe,($e=s["prepend-inner"])==null?void 0:$e.call(s,...Fe)])}:void 0})})}}),vx=We({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Ob=ft()({name:"VStepperActions",props:vx(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li();function u(){n("click:prev")}function h(){n("click:next")}return St(()=>{const o={onClick:u},p={onClick:h};return T("div",{class:"v-stepper-actions"},[T(Bn,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:s(e.prevText),variant:"text"}}},{default:()=>{var y;return[((y=r.prev)==null?void 0:y.call(r,{props:o}))??T(Jt,o,null)]}}),T(Bn,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:s(e.nextText),variant:"tonal"}}},{default:()=>{var y;return[((y=r.next)==null?void 0:y.call(r,{props:p}))??T(Jt,p,null)]}})])}),{}}}),H3=We({...vx()},"VStepperActions"),zE=ft()({name:"VStepperVerticalActions",props:H3(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;function s(){n("click:prev")}function u(){n("click:next")}return St(()=>{const h=Ob.filterProps(e);return T(Ob,ot({class:"v-stepper-vertical-actions"},h,{"onClick:prev":s,"onClick:next":u}),r)}),{}}}),jf=Symbol.for("vuetify:v-expansion-panel"),BE=We({...cn(),...ux()},"VExpansionPanelText"),Qk=ft()({name:"VExpansionPanelText",props:BE(),setup(e,t){let{slots:n}=t;const r=yt(jf);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:u}=dx(e,r.isSelected);return St(()=>T(ix,{onAfterLeave:u},{default:()=>{var h;return[si(T("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&s.value&&T("div",{class:"v-expansion-panel-text__wrapper"},[(h=n.default)==null?void 0:h.call(n)])]),[[gl,r.isSelected.value]])]}})),{}}}),VE=We({color:String,expandIcon:{type:yn,default:"$expand"},collapseIcon:{type:yn,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...cn()},"VExpansionPanelTitle"),eC=ft()({name:"VExpansionPanelTitle",directives:{Ripple:pu},props:VE(),setup(e,t){let{slots:n}=t;const r=yt(jf);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"color"),h=Y(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),o=Y(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return St(()=>{var p;return si(T("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},s.value,e.class],style:[u.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[T("span",{class:"v-expansion-panel-title__overlay"},null),(p=n.default)==null?void 0:p.call(n,h.value),!e.hideActions&&T(Bn,{defaults:{VIcon:{icon:o.value}}},{default:()=>{var y;return[T("span",{class:"v-expansion-panel-title__icon"},[((y=n.actions)==null?void 0:y.call(n,h.value))??T(nr,null,null)])]}})]),[[Cs("ripple"),e.ripple]])}),{}}}),yx=We({title:String,text:String,bgColor:String,...ns(),...dm(),...Pi(),...Zn(),...VE(),...BE()},"VExpansionPanel"),tC=ft()({name:"VExpansionPanel",props:yx(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=hm(e,jf),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"bgColor"),{elevationClasses:h}=Es(e),{roundedClasses:o}=Vi(e),p=Y(()=>(r==null?void 0:r.disabled.value)||e.disabled),y=Y(()=>r.group.items.value.reduce((C,I,R)=>(r.group.selected.value.includes(I.id)&&C.push(R),C),[])),w=Y(()=>{const C=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-C===1)}),k=Y(()=>{const C=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-C===-1)});return xn(jf,r),St(()=>{const C=!!(n.text||e.text),I=!!(n.title||e.title),R=eC.filterProps(e),M=Qk.filterProps(e);return T(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":w.value,"v-expansion-panel--after-active":k.value,"v-expansion-panel--disabled":p.value},o.value,s.value,e.class],style:[u.value,e.style]},{default:()=>[T("div",{class:["v-expansion-panel__shadow",...h.value]},null),T(Bn,{defaults:{VExpansionPanelTitle:{...R},VExpansionPanelText:{...M}}},{default:()=>{var F;return[I&&T(eC,{key:"title"},{default:()=>[n.title?n.title():e.title]}),C&&T(Qk,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(F=n.default)==null?void 0:F.call(n)]}})]})}),{groupItem:r}}}),_x=Symbol.for("vuetify:v-stepper"),NE=We({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),G3=We({...NE(),...dm()},"VStepperItem"),W3=ft()({name:"VStepperItem",directives:{Ripple:pu},props:G3(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=hm(e,_x,!0),s=Y(()=>(r==null?void 0:r.value.value)??e.value),u=Y(()=>e.rules.every(C=>C()===!0)),h=Y(()=>!e.disabled&&e.editable),o=Y(()=>!e.disabled&&e.editable),p=Y(()=>e.error||!u.value),y=Y(()=>e.complete||e.rules.length>0&&u.value),w=Y(()=>p.value?e.errorIcon:y.value?e.completeIcon:r.isSelected.value&&e.editable?e.editIcon:e.icon),k=Y(()=>({canEdit:o.value,hasError:p.value,hasCompleted:y.value,title:e.title,subtitle:e.subtitle,step:s.value,value:e.value}));return St(()=>{var F,N,q;const C=(!r||r.isSelected.value||y.value||o.value)&&!p.value&&!e.disabled,I=!!(e.title!=null||n.title),R=!!(e.subtitle!=null||n.subtitle);function M(){r==null||r.toggle()}return si(T("button",{class:["v-stepper-item",{"v-stepper-item--complete":y.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":p.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,onClick:M},[h.value&&wl(!0,"v-stepper-item"),T(Eo,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:C?e.color:void 0,size:24},{default:()=>{var Z;return[((Z=n.icon)==null?void 0:Z.call(n,k.value))??(w.value?T(nr,{icon:w.value},null):s.value)]}}),T("div",{class:"v-stepper-item__content"},[I&&T("div",{key:"title",class:"v-stepper-item__title"},[((F=n.title)==null?void 0:F.call(n,k.value))??e.title]),R&&T("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((N=n.subtitle)==null?void 0:N.call(n,k.value))??e.subtitle]),(q=n.default)==null?void 0:q.call(n,k.value)])]),[[Cs("ripple"),e.ripple&&e.editable,null]])}),{}}}),Y3=We({hideActions:Boolean,...NE(),...wr(yx({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),$E=ft()({name:"VStepperVerticalItem",props:Y3(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=ht(),u=Y(()=>isNaN(parseInt(e.value))?e.value:Number(e.value)),h=Y(()=>{var q;return(q=s.value)==null?void 0:q.groupItem}),o=Y(()=>{var q;return((q=h.value)==null?void 0:q.isSelected.value)??!1}),p=Y(()=>o.value?e.rules.every(q=>q()===!0):null),y=Y(()=>!e.disabled&&e.editable),w=Y(()=>e.error||o.value&&!p.value),k=Y(()=>e.complete||e.rules.length>0&&p.value===!0),C=Y(()=>{var q;return e.disabled?e.disabled:(q=h.value)!=null&&q.isFirst.value?"prev":!1}),I=Y(()=>{var q;return w.value?e.errorIcon:k.value?e.completeIcon:(q=h.value)!=null&&q.isSelected.value&&e.editable?e.editIcon:e.icon}),R=Y(()=>({canEdit:y.value,hasError:w.value,hasCompleted:k.value,title:e.title,subtitle:e.subtitle,step:u.value,value:e.value})),M=Y(()=>({...R.value,prev:N,next:F}));function F(){var q;n("click:next"),!((q=h.value)!=null&&q.isLast.value)&&h.value.group.next()}function N(){n("click:prev"),h.value.group.prev()}return St(()=>{var ie;const q=(k.value||((ie=h.value)==null?void 0:ie.isSelected.value))&&!w.value&&!e.disabled,Z=!e.hideActions||!!r.actions,se=tC.filterProps(e);return T(tC,ot({_as:"VStepperVerticalItem",ref:s},se,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":k.value,"v-stepper-vertical-item--disabled":e.disabled,"v-stepper-vertical-item--editable":y.value,"v-stepper-vertical-item--error":w.value},e.class],readonly:!e.editable,style:e.style,color:"","hide-actions":!1,value:u.value}),{title:()=>{var J,te;return T(Ht,null,[T(Eo,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:q?e.color:void 0,size:24,start:!0},{default:()=>{var G;return[((G=r.icon)==null?void 0:G.call(r,R.value))??(I.value?T(nr,{icon:I.value},null):u.value)]}}),T("div",null,[T("div",{class:"v-stepper-vertical-item__title"},[((J=r.title)==null?void 0:J.call(r,R.value))??e.title]),T("div",{class:"v-stepper-vertical-item__subtitle"},[((te=r.subtitle)==null?void 0:te.call(r,R.value))??e.subtitle])])])},text:()=>{var J,te;return T(Ht,null,[((J=r.default)==null?void 0:J.call(r,R.value))??e.text,Z&&T(Bn,{defaults:{VStepperVerticalActions:{disabled:C.value,finish:(te=h.value)==null?void 0:te.isLast.value}}},{default:()=>{var G;return[((G=r.actions)==null?void 0:G.call(r,M.value))??T(zE,{"onClick:next":F,"onClick:prev":N},{prev:r.prev?()=>{var $;return($=r.prev)==null?void 0:$.call(r,M.value)}:void 0,next:r.next?()=>{var $;return($=r.next)==null?void 0:$.call(r,M.value)}:void 0})]}})])}})}),{}}}),Z3=["default","accordion","inset","popout"],UE=We({flat:Boolean,...um(),...$0(yx(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...vr(),...cn(),...Zn(),variant:{type:String,default:"default",validator:e=>Z3.includes(e)}},"VExpansionPanels"),nC=ft()({name:"VExpansionPanels",props:UE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:r,prev:s}=$d(e,jf),{themeClasses:u}=Rr(e),h=Y(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return da({VExpansionPanel:{bgColor:_t(e,"bgColor"),collapseIcon:_t(e,"collapseIcon"),color:_t(e,"color"),eager:_t(e,"eager"),elevation:_t(e,"elevation"),expandIcon:_t(e,"expandIcon"),focusable:_t(e,"focusable"),hideActions:_t(e,"hideActions"),readonly:_t(e,"readonly"),ripple:_t(e,"ripple"),rounded:_t(e,"rounded"),static:_t(e,"static")}}),St(()=>T(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},u.value,h.value,e.class],style:e.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:r})]}})),{next:r,prev:s}}}),K3=Bd("v-stepper-header"),X3=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:s}=e,u=.5,h=16;e.offsetX=n-t,e.offsetY=s-r,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&n<t-h&&e.left(e),e.right&&n>t+h&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&s<r-h&&e.up(e),e.down&&s>r+h&&e.down(e))};function J3(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function Q3(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),X3(t)}function e4(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function t4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>J3(n,t),touchend:n=>Q3(n,t),touchmove:n=>e4(n,t)}}function n4(e,t){var o;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,s=(n==null?void 0:n.options)??{passive:!0},u=(o=t.instance)==null?void 0:o.$.uid;if(!r||!u)return;const h=t4(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[u]=h,JT(h).forEach(p=>{r.addEventListener(p,h[p],s)})}function r4(e,t){var u,h;const n=(u=t.value)!=null&&u.parent?e.parentElement:e,r=(h=t.instance)==null?void 0:h.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const s=n._touchHandlers[r];JT(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[r]}const qE={mounted:n4,unmounted:r4},i4=qE,jE=Symbol.for("vuetify:v-window"),HE=Symbol.for("vuetify:v-window-group"),bx=We({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...cn(),...Zn(),...vr()},"VWindow"),Hf=ft()({name:"VWindow",directives:{Touch:qE},props:bx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{isRtl:s}=es(),{t:u}=li(),h=$d(e,HE),o=ht(),p=Y(()=>s.value?!e.reverse:e.reverse),y=Rt(!1),w=Y(()=>{const se=e.direction==="vertical"?"y":"x",J=(p.value?!y.value:y.value)?"-reverse":"";return`v-window-${se}${J}-transition`}),k=Rt(0),C=ht(void 0),I=Y(()=>h.items.value.findIndex(se=>h.selected.value.includes(se.id)));ct(I,(se,ie)=>{const J=h.items.value.length,te=J-1;J<=2?y.value=se<ie:se===te&&ie===0?y.value=!0:se===0&&ie===te?y.value=!1:y.value=se<ie}),xn(jE,{transition:w,isReversed:y,transitionCount:k,transitionHeight:C,rootRef:o});const R=Y(()=>e.continuous||I.value!==0),M=Y(()=>e.continuous||I.value!==h.items.value.length-1);function F(){R.value&&h.prev()}function N(){M.value&&h.next()}const q=Y(()=>{const se=[],ie={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${p.value?"right":"left"}`,onClick:h.prev,"aria-label":u("$vuetify.carousel.prev")};se.push(R.value?n.prev?n.prev({props:ie}):T(Jt,ie,null):T("div",null,null));const J={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${p.value?"left":"right"}`,onClick:h.next,"aria-label":u("$vuetify.carousel.next")};return se.push(M.value?n.next?n.next({props:J}):T(Jt,J,null):T("div",null,null)),se}),Z=Y(()=>e.touch===!1?e.touch:{...{left:()=>{p.value?F():N()},right:()=>{p.value?N():F()},start:ie=>{let{originalEvent:J}=ie;J.stopPropagation()}},...e.touch===!0?{}:e.touch});return St(()=>si(T(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var se,ie;return[T("div",{class:"v-window__container",style:{height:C.value}},[(se=n.default)==null?void 0:se.call(n,{group:h}),e.showArrows!==!1&&T("div",{class:"v-window__controls"},[q.value])]),(ie=n.additional)==null?void 0:ie.call(n,{group:h})]}}),[[Cs("touch"),Z.value]])),{group:h}}}),a4=We({...wr(bx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),s4=ft()({name:"VStepperWindow",props:a4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(_x,null),s=hn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return St(()=>{const h=Hf.filterProps(e);return T(Hf,ot({_as:"VStepperWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}});function _m(){const e=Rt(!1);return fa(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:Y(()=>e.value?void 0:{transition:"none !important"}),isBooted:Fd(e)}}const xx=We({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...cn(),...dm(),...ux()},"VWindowItem"),iu=ft()({name:"VWindowItem",directives:{Touch:i4},props:xx(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(jE),s=hm(e,HE),{isBooted:u}=_m();if(!r||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const h=Rt(!1),o=Y(()=>u.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function p(){!h.value||!r||(h.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function y(){var R;h.value||!r||(h.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Gt((R=r.rootRef.value)==null?void 0:R.clientHeight)),r.transitionCount.value+=1)}function w(){p()}function k(R){h.value&&Hn(()=>{!o.value||!h.value||!r||(r.transitionHeight.value=Gt(R.clientHeight))})}const C=Y(()=>{const R=r.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof R!="string"?r.transition.value:R,onBeforeEnter:y,onAfterEnter:p,onEnterCancelled:w,onBeforeLeave:y,onAfterLeave:p,onLeaveCancelled:w,onEnter:k}:!1}),{hasContent:I}=dx(e,s.isSelected);return St(()=>T(_s,{transition:C.value,disabled:!u.value},{default:()=>{var R;return[si(T("div",{class:["v-window-item",s.selectedClass.value,e.class],style:e.style},[I.value&&((R=n.default)==null?void 0:R.call(n))]),[[gl,s.isSelected.value]])]}})),{groupItem:s}}}),o4=We({...xx()},"VStepperWindowItem"),l4=ft()({name:"VStepperWindowItem",props:o4(),setup(e,t){let{slots:n}=t;return St(()=>{const r=iu.filterProps(e);return T(iu,ot({_as:"VStepperWindowItem"},r,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),GE=We({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Vd()},"Stepper"),c4=We({...GE(),...um({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...ex(),...QT(vx(),["prevText","nextText"])},"VStepper");ft()({name:"VStepper",props:c4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:r,next:s,prev:u,selected:h}=$d(e,_x),{displayClasses:o,mobile:p}=yl(e),{completeIcon:y,editIcon:w,errorIcon:k,color:C,editable:I,prevText:R,nextText:M}=rm(e),F=Y(()=>e.items.map((Z,se)=>{const ie=zi(Z,e.itemTitle,Z),J=zi(Z,e.itemValue,se+1);return{title:ie,value:J,raw:Z}})),N=Y(()=>r.value.findIndex(Z=>h.value.includes(Z.id))),q=Y(()=>e.disabled?e.disabled:N.value===0?"prev":N.value===r.value.length-1?"next":!1);return da({VStepperItem:{editable:I,errorIcon:k,completeIcon:y,editIcon:w,prevText:R,nextText:M},VStepperActions:{color:C,disabled:q,prevText:R,nextText:M}}),St(()=>{const Z=uc.filterProps(e),se=!!(n.header||e.items.length),ie=e.items.length>0,J=!e.hideActions&&!!(ie||n.actions);return T(uc,ot(Z,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":p.value},o.value,e.class],style:e.style}),{default:()=>{var te,G;return[se&&T(K3,{key:"stepper-header"},{default:()=>[F.value.map(($,K)=>{let{raw:le,...ee}=$;return T(Ht,null,[!!K&&T(gr,null,null),T(W3,ee,{default:n[`header-item.${ee.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),ie&&T(s4,{key:"stepper-window"},{default:()=>[F.value.map($=>T(l4,{value:$.value},{default:()=>{var K,le;return((K=n[`item.${$.value}`])==null?void 0:K.call(n,$))??((le=n.item)==null?void 0:le.call(n,$))}}))]}),(te=n.default)==null?void 0:te.call(n,{prev:u,next:s}),J&&(((G=n.actions)==null?void 0:G.call(n,{next:s,prev:u}))??T(Ob,{key:"stepper-actions","onClick:prev":u,"onClick:next":s},n))]}})}),{prev:u,next:s}}});const u4=We({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...GE(),...wr(UE({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),d4=ft()({name:"VStepperVertical",props:u4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ht(),{color:s,eager:u,editable:h,prevText:o,nextText:p,hideActions:y}=rm(e),w=hn(e,"modelValue"),k=Y(()=>e.items.map((C,I)=>{const R=zi(C,e.itemTitle,C),M=zi(C,e.itemValue,I+1);return{title:R,value:M,raw:C}}));return da({VStepperVerticalItem:{color:s,eager:u,editable:h,prevText:o,nextText:p,hideActions:y,static:!0},VStepperActions:{color:s}}),St(()=>{const C=nC.filterProps(e);return T(nC,ot(C,{modelValue:w.value,"onUpdate:modelValue":I=>w.value=I,ref:r,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{...n,default:I=>{var F;let{prev:R,next:M}=I;return T(Ht,null,[k.value.map(N=>{let{raw:q,...Z}=N;return T($E,Z,{...n,default:n[`item.${Z.value}`]})}),(F=n.default)==null?void 0:F.call(n,{prev:R,next:M,step:w.value})])}})}),{}}}),h4=ft()({name:"VPullToRefresh",props:{pullDownThreshold:{type:Number,default:64}},emits:{load:e=>!0},setup(e,t){let{slots:n,emit:r}=t,s=0,u=[];const h=Rt(0),o=ht(),p=Rt(!1),y=Rt(!1),w=Rt(!1),k=Y(()=>h.value>=e.pullDownThreshold&&!p.value),C=Y(()=>ca(h.value,0,e.pullDownThreshold));function I(F){p.value||(w.value=!0,s="clientY"in F?F.clientY:F.touches[0].clientY)}function R(F){if(p.value||!w.value)return;const N="clientY"in F?F.clientY:F.touches[0].clientY;u.length&&!u[0].scrollTop&&(h.value=N-s)}function M(F){if(!p.value)if(w.value=!1,k.value){let q=function(){p.value&&(h.value=0,p.value=!1)};var N=q;r("load",{done:q}),p.value=!0}else h.value=0}fa(()=>{u=zf(o.value)}),ct([C,p],()=>{if(u.length){const F=C.value&&!p.value;u.forEach(N=>N.style.overflow=F?"hidden":"auto")}}),ct(C,(F,N)=>{y.value=F<N}),St(()=>{var F;return T("div",{class:["v-pull-to-refresh"],onTouchstart:I,onTouchmove:R,onTouchend:M,onMousedown:I,onMouseup:M,onMouseleave:M,onMousemove:R,ref:o},[T("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":w.value}],style:{top:Gt(-1*e.pullDownThreshold+C.value),height:Gt(e.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:k.value,goingUp:y.value,refreshing:p.value}):T("div",{class:["v-pull-to-refresh__pull-down-default"]},[p.value?T(Fg,{indeterminate:!0,active:!1},null):T(nr,{icon:k.value||y.value?"$sortAsc":"$sortDesc"},null)])]),T("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":w.value}],style:{top:Gt(C.value)}},[(F=n.default)==null?void 0:F.call(n)])])})}});function f4(e){const t=Rt(e);let n=-1;function r(){clearInterval(n)}function s(){r(),Hn(()=>t.value=e)}function u(h){const o=h?getComputedStyle(h):{transitionDuration:.2},p=parseFloat(o.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const y=performance.now();n=window.setInterval(()=>{const w=performance.now()-y+p;t.value=Math.max(e-w,0),t.value<=0&&r()},p)}return ha(r),{clear:r,time:t,start:u,reset:s}}const WE=We({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...fu({location:"bottom"}),...lm(),...Pi(),...ro(),...vr(),...wr(vv({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),rC=ft()({name:"VSnackbar",props:WE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=hn(e,"modelValue"),{positionClasses:s}=cm(e),{scopeId:u}=qd(),{themeClasses:h}=Rr(e),{colorClasses:o,colorStyles:p,variantClasses:y}=mu(e),{roundedClasses:w}=Vi(e),k=f4(Number(e.timeout)),C=ht(),I=ht(),R=Rt(!1),M=Rt(0),F=ht(),N=yt(Vf,void 0);Ja(()=>!!N,()=>{const K=IA();oi(()=>{F.value=K.mainStyles.value})}),ct(r,Z),ct(()=>e.timeout,Z),fa(()=>{r.value&&Z()});let q=-1;function Z(){k.reset(),window.clearTimeout(q);const K=Number(e.timeout);if(!r.value||K===-1)return;const le=N0(I.value);k.start(le),q=window.setTimeout(()=>{r.value=!1},K)}function se(){k.reset(),window.clearTimeout(q)}function ie(){R.value=!0,se()}function J(){R.value=!1,Z()}function te(K){M.value=K.touches[0].clientY}function G(K){Math.abs(M.value-K.changedTouches[0].clientY)>50&&(r.value=!1)}const $=Y(()=>e.location.split(" ").reduce((K,le)=>(K[`v-snackbar--${le}`]=!0,K),{}));return St(()=>{const K=Dd.filterProps(e),le=!!(n.default||n.text||e.text);return T(Dd,ot({ref:C,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},$.value,s.value,e.class],style:[F.value,e.style]},K,{modelValue:r.value,"onUpdate:modelValue":ee=>r.value=ee,contentProps:ot({class:["v-snackbar__wrapper",h.value,o.value,w.value,y.value],style:[p.value],onPointerenter:ie,onPointerleave:J},K.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:te,onTouchend:G},u),{default:()=>{var ee,_e;return[wl(!1,"v-snackbar"),e.timer&&!R.value&&T("div",{key:"timer",class:"v-snackbar__timer"},[T(fv,{ref:I,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":k.time.value},null)]),le&&T("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((ee=n.text)==null?void 0:ee.call(n))??e.text,(_e=n.default)==null?void 0:_e.call(n)]),n.actions&&T(Bn,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[T("div",{class:"v-snackbar__actions"},[n.actions({isActive:r})])]})]},activator:n.activator})}),Ro({},C)}}),m4=We({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...wr(WE(),["modelValue"])},"VSnackbarQueue"),p4=ft()({name:"VSnackbarQueue",props:m4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li(),u=Rt(!1),h=Rt(!1),o=Rt();ct(()=>e.modelValue.length,(C,I)=>{!h.value&&C>I&&y()}),ct(u,C=>{C&&(h.value=!0)});function p(){e.modelValue.length?y():(o.value=void 0,h.value=!1)}function y(){const[C,...I]=e.modelValue;n("update:modelValue",I),o.value=typeof C=="string"?{text:C}:C,Hn(()=>{u.value=!0})}function w(){u.value=!1}const k=Y(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:s(e.closeText)}));St(()=>{const C=!!(e.closable||r.actions),{modelValue:I,...R}=rC.filterProps(e);return T(Ht,null,[h.value&&!!o.value&&(r.default?T(Bn,{defaults:{VSnackbar:o.value}},{default:()=>[r.default({item:o.value})]}):T(rC,ot(R,o.value,{modelValue:u.value,"onUpdate:modelValue":M=>u.value=M,onAfterLeave:p}),{text:r.text?()=>{var M;return(M=r.text)==null?void 0:M.call(r,{item:o.value})}:void 0,actions:C?()=>T(Ht,null,[r.actions?T(Bn,{defaults:{VBtn:k.value}},{default:()=>[r.actions({item:o.value,props:{onClick:w}})]}):T(Jt,ot(k.value,{onClick:w}),null)]):void 0}))])})}}),g4=We({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),Fb=ft()({name:"VTimePickerClock",props:g4(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const r=ht(null),s=ht(null),u=ht(void 0),h=ht(!1),o=ht(null),p=ht(null),{textColorClasses:y,textColorStyles:w}=Na(_t(e,"color")),{backgroundColorClasses:k,backgroundColorStyles:C}=yi(_t(e,"color")),I=Y(()=>e.max-e.min+1),R=Y(()=>e.double?I.value/2:I.value),M=Y(()=>360/R.value),F=Y(()=>M.value*Math.PI/180),N=Y(()=>e.modelValue==null?e.min:e.modelValue),q=Y(()=>.62),Z=Y(()=>{const ke=[];for(let Pe=e.min;Pe<=e.max;Pe=Pe+e.step)ke.push(Pe);return ke});ct(()=>e.modelValue,ke=>{u.value=ke});function se(ke){u.value!==ke&&(u.value=ke),n("input",ke)}function ie(ke){return!e.allowedValues||e.allowedValues(ke)}function J(ke){if(!e.scrollable||e.disabled)return;ke.preventDefault();const Pe=Math.sign(-ke.deltaY||1);let Fe=N.value;do Fe=Fe+Pe,Fe=(Fe-e.min+I.value)%I.value+e.min;while(!ie(Fe)&&Fe!==N.value);Fe!==e.displayedValue&&se(Fe)}function te(ke){return e.double&&ke-e.min>=R.value}function G(ke){return te(ke)?q.value:1}function $(ke){const Pe=e.rotate*Math.PI/180;return{x:Math.sin((ke-e.min)*F.value+Pe)*G(ke),y:-Math.cos((ke-e.min)*F.value+Pe)*G(ke)}}function K(ke,Pe){const Fe=(Math.round(ke/M.value)+(Pe?R.value:0))%I.value+e.min;return ke<360-M.value/2?Fe:Pe?e.max-R.value+1:e.min}function le(ke){const{x:Pe,y:Fe}=$(ke);return{left:`${50+Pe*50}%`,top:`${50+Fe*50}%`}}function ee(ke,Pe){const Fe=Pe.x-ke.x,Je=Pe.y-ke.y;return Math.sqrt(Fe*Fe+Je*Je)}function _e(ke,Pe){const Fe=2*Math.atan2(Pe.y-ke.y-ee(ke,Pe),Pe.x-ke.x);return Math.abs(Fe*180/Math.PI)}function fe(ke){o.value===null&&(o.value=ke),p.value=ke,se(ke)}function Ie(ke){var Ct,$t;if(ke.preventDefault(),!h.value&&ke.type!=="click"||!r.value)return;const{width:Pe,top:Fe,left:Je}=(Ct=r.value)==null?void 0:Ct.getBoundingClientRect(),{width:$e}=(($t=s.value)==null?void 0:$t.getBoundingClientRect())??{width:0},{clientX:at,clientY:Lt}="touches"in ke?ke.touches[0]:ke,dt={x:Pe/2,y:-Pe/2},kt={x:at-Je,y:Fe-Lt},Ne=Math.round(_e(dt,kt)-e.rotate+360)%360,it=e.double&&ee(dt,kt)<($e+$e*q.value)/4,He=Math.ceil(15/M.value);let Ue;for(let ae=0;ae<He;ae++)if(Ue=K(Ne+ae*M.value,it),ie(Ue)||(Ue=K(Ne-ae*M.value,it),ie(Ue)))return fe(Ue)}function Te(ke){e.disabled||(ke.preventDefault(),window.addEventListener("mousemove",Ie),window.addEventListener("touchmove",Ie),window.addEventListener("mouseup",qe),window.addEventListener("touchend",qe),o.value=null,p.value=null,h.value=!0,Ie(ke))}function qe(ke){ke.stopPropagation(),window.removeEventListener("mousemove",Ie),window.removeEventListener("touchmove",Ie),window.removeEventListener("mouseup",qe),window.removeEventListener("touchend",qe),h.value=!1,p.value!==null&&ie(p.value)&&n("change",p.value)}St(()=>T("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}],onMousedown:Te,onTouchstart:Te,onWheel:J,ref:r},[T("div",{class:"v-time-picker-clock__inner",ref:s},[T("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":te(e.modelValue)},y.value],style:[{transform:`rotate(${e.rotate+M.value*(N.value-e.min)}deg) scaleY(${G(N.value)})`},w.value]},null),Z.value.map(ke=>{const Pe=ke===N.value;return T("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":Pe,"v-time-picker-clock__item--disabled":e.disabled||!ie(ke)},Pe&&k.value],style:[le(ke),Pe&&C.value]},[T("span",null,[e.format(ke)])])})])]))}}),v4=(e,t,n)=>(t=t>>0,e=String(e),n=String(n),e.length>t?String(e):(t=t-e.length,t>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e))),Kc=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return v4(e,t,"0")};var ri=function(e){return e[e.Hour=1]="Hour",e[e.Minute=2]="Minute",e[e.Second=3]="Second",e}(ri||{});const y4=We({ampm:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),zb=ft()({name:"VTimePickerControls",props:y4(),emits:{"update:period":e=>!0,"update:selecting":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li();return St(()=>{let u=e.hour;return e.ampm&&(u=u?(u-1)%12+1:12),T("div",{class:"v-time-picker-controls"},[T("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds}},[T(Jt,{active:e.selecting===1,color:e.selecting===1?e.color:void 0,disabled:e.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.hour==null?"--":Kc(`${u}`),onClick:()=>n("update:selecting",ri.Hour)},null),T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]},[zt(":")]),T(Jt,{active:e.selecting===2,color:e.selecting===2?e.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===2,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,variant:"tonal",text:e.minute==null?"--":Kc(e.minute),onClick:()=>n("update:selecting",ri.Minute)},null),e.useSeconds&&T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}],key:"secondsDivider"},[zt(":")]),e.useSeconds&&T(Jt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",ri.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===3,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,text:e.second==null?"--":Kc(e.second)},null),e.ampm&&T("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":e.ampmReadonly}]},[T(Jt,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"},disabled:e.disabled,text:s("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),T(Jt,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"},disabled:e.disabled,text:s("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),_4=Ys(24),YE=Ys(12),b4=YE.map(e=>e+12);Ys(60);const x4={1:"hour",2:"minute",3:"second"},w4=We({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...wr(cx({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),S4=ft()({name:"VTimePicker",props:w4(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li(),u=ht(null),h=ht(null),o=ht(null),p=ht(null),y=ht(null),w=ht(null),k=ht("am"),C=ht(ri.Hour),I=ht(null),R=ht(null),M=Y(()=>{let ee;if(e.allowedHours instanceof Array?ee=Ie=>e.allowedHours.includes(Ie):ee=e.allowedHours,!e.min&&!e.max)return ee;const _e=e.min?Number(e.min.split(":")[0]):0,fe=e.max?Number(e.max.split(":")[0]):23;return Ie=>Ie>=_e*1&&Ie<=fe*1&&(!ee||ee(Ie))}),F=Y(()=>{let ee;const _e=!M.value||u.value===null||M.value(u.value);if(e.allowedMinutes instanceof Array?ee=Fe=>e.allowedMinutes.includes(Fe):ee=e.allowedMinutes,!e.min&&!e.max)return _e?ee:()=>!1;const[fe,Ie]=e.min?e.min.split(":").map(Number):[0,0],[Te,qe]=e.max?e.max.split(":").map(Number):[23,59],ke=fe*60+Ie*1,Pe=Te*60+qe*1;return Fe=>{const Je=60*u.value+Fe;return Je>=ke&&Je<=Pe&&_e&&(!ee||ee(Fe))}}),N=Y(()=>{let ee;const fe=(!M.value||u.value===null||M.value(u.value))&&(!F.value||h.value===null||F.value(h.value));if(e.allowedSeconds instanceof Array?ee=at=>e.allowedSeconds.includes(at):ee=e.allowedSeconds,!e.min&&!e.max)return fe?ee:()=>!1;const[Ie,Te,qe]=e.min?e.min.split(":").map(Number):[0,0,0],[ke,Pe,Fe]=e.max?e.max.split(":").map(Number):[23,59,59],Je=Ie*3600+Te*60+(qe||0)*1,$e=ke*3600+Pe*60+(Fe||0)*1;return at=>{const Lt=3600*u.value+60*h.value+at;return Lt>=Je&&Lt<=$e&&fe&&(!ee||ee(at))}}),q=Y(()=>e.format==="ampm");ct(()=>e.modelValue,ee=>te(ee)),fa(()=>{te(e.modelValue)});function Z(){return u.value!=null&&h.value!=null&&(!e.useSeconds||o.value!=null)?`${Kc(u.value)}:${Kc(h.value)}`+(e.useSeconds?`:${Kc(o.value)}`:""):null}function se(){const ee=Z();ee!==null&&n("update:modelValue",ee)}function ie(ee){return ee?(ee-1)%12+1:12}function J(ee,_e){return ee%12+(_e==="pm"?12:0)}function te(ee){if(ee==null||ee==="")u.value=null,h.value=null,o.value=null;else if(ee instanceof Date)u.value=ee.getHours(),h.value=ee.getMinutes(),o.value=ee.getSeconds();else{const[_e,,fe,,Ie,Te]=ee.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);u.value=Te?J(parseInt(_e,10),Te):parseInt(_e,10),h.value=parseInt(fe,10),o.value=parseInt(Ie||0,10)}k.value=u.value==null||u.value<12?"am":"pm"}function G(ee,_e){const fe=M.value;if(!fe)return _e;const Ie=q.value?_e<12?YE:b4:_4;return((Ie.find(qe=>fe((qe+_e)%Ie.length+Ie[0]))||0)+_e)%Ie.length+Ie[0]}function $(ee){if(k.value=ee,u.value!=null){const _e=u.value+(k.value==="am"?-12:12);u.value=G("hour",_e)}return n("update:period",ee),se(),!0}function K(ee){C.value===ri.Hour?u.value=q.value?J(ee,k.value):ee:C.value===ri.Minute?h.value=ee:o.value=ee}function le(ee){switch(x4[C.value]){case"hour":n("update:hour",ee);break;case"minute":n("update:minute",ee);break;case"second":n("update:second",ee);break}const _e=C.value===(e.useSeconds?ri.Second:ri.Minute);C.value===ri.Hour?C.value=ri.Minute:e.useSeconds&&C.value===ri.Minute&&(C.value=ri.Second),!(u.value===p.value&&h.value===y.value&&(!e.useSeconds||o.value===w.value)||Z()===null)&&(p.value=u.value,y.value=h.value,e.useSeconds&&(w.value=o.value),_e&&se())}St(()=>{const ee=qf.filterProps(e),_e=zb.filterProps(e),fe=Fb.filterProps(wr(e,["format","modelValue","min","max"]));return T(qf,ot(ee,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var Ie;return((Ie=r.title)==null?void 0:Ie.call(r))??T("div",{class:"v-time-picker__title"},[s(e.title)])},header:()=>T(zb,ot(_e,{ampm:q.value||e.ampmInTitle,ampmReadonly:q.value&&!e.ampmInTitle,hour:u.value,minute:h.value,period:k.value,second:o.value,selecting:C.value,"onUpdate:period":Ie=>$(Ie),"onUpdate:selecting":Ie=>C.value=Ie,ref:I}),null),default:()=>T(Fb,ot(fe,{allowedValues:C.value===ri.Hour?M.value:C.value===ri.Minute?F.value:N.value,double:C.value===ri.Hour&&!q.value,format:C.value===ri.Hour?q.value?ie:Ie=>Ie:Ie=>Kc(Ie,2),max:C.value===ri.Hour?q.value&&k.value==="am"?11:23:59,min:C.value===ri.Hour&&q.value&&k.value==="pm"?12:0,size:20,step:C.value===ri.Hour?1:5,modelValue:C.value===ri.Hour?u.value:C.value===ri.Minute?h.value:o.value,onChange:le,onInput:K,ref:R}),null),actions:r.actions})})}}),Bb=Symbol.for("vuetify:list");function ZE(){const e=yt(Bb,{hasPrepend:Rt(!1),updateHasPrepend:()=>null}),t={hasPrepend:Rt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return xn(Bb,t),e}function KE(){return yt(Bb,null)}const wx=e=>{const t={activate:n=>{let{id:r,value:s,activated:u}=n;return r=wn(r),e&&!s&&u.size===1&&u.has(r)||(s?u.add(r):u.delete(r)),u},in:(n,r,s)=>{let u=new Set;if(n!=null)for(const h of Wr(n))u=t.activate({id:h,value:!0,activated:new Set(u),children:r,parents:s});return u},out:n=>Array.from(n)};return t},XE=e=>{const t=wx(e);return{activate:r=>{let{activated:s,id:u,...h}=r;u=wn(u);const o=s.has(u)?new Set([u]):new Set;return t.activate({...h,id:u,activated:o})},in:(r,s,u)=>{let h=new Set;if(r!=null){const o=Wr(r);o.length&&(h=t.in(o.slice(0,1),s,u))}return h},out:(r,s,u)=>t.out(r,s,u)}},k4=e=>{const t=wx(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=wn(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},C4=e=>{const t=XE(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=wn(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},T4={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){const u=new Set;u.add(t);let h=s.get(t);for(;h!=null;)u.add(h),h=s.get(h);return u}else return r.delete(t),r},select:()=>null},JE={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){let u=s.get(t);for(r.add(t);u!=null&&u!==t;)r.add(u),u=s.get(u);return r}else r.delete(t);return r},select:()=>null},A4={open:JE.open,select:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(!n)return r;const u=[];let h=s.get(t);for(;h!=null;)u.push(h),h=s.get(h);return new Set(u)}},Sx=e=>{const t={select:n=>{let{id:r,value:s,selected:u}=n;if(r=wn(r),e&&!s){const h=Array.from(u.entries()).reduce((o,p)=>{let[y,w]=p;return w==="on"&&o.push(y),o},[]);if(h.length===1&&h[0]===r)return u}return u.set(r,s?"on":"off"),u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:n=>{const r=[];for(const[s,u]of n.entries())u==="on"&&r.push(s);return r}};return t},QE=e=>{const t=Sx(e);return{select:r=>{let{selected:s,id:u,...h}=r;u=wn(u);const o=s.has(u)?new Map([[u,s.get(u)]]):new Map;return t.select({...h,id:u,selected:o})},in:(r,s,u)=>{let h=new Map;return r!=null&&r.length&&(h=t.in(r.slice(0,1),s,u)),h},out:(r,s,u)=>t.out(r,s,u)}},E4=e=>{const t=Sx(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=wn(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},I4=e=>{const t=QE(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=wn(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},P4=e=>{const t={select:n=>{let{id:r,value:s,selected:u,children:h,parents:o}=n;r=wn(r);const p=new Map(u),y=[r];for(;y.length;){const k=y.shift();u.set(k,s?"on":"off"),h.has(k)&&y.push(...h.get(k))}let w=o.get(r);for(;w;){const k=h.get(w),C=k.every(R=>u.get(R)==="on"),I=k.every(R=>!u.has(R)||u.get(R)==="off");u.set(w,C?"on":I?"off":"indeterminate"),w=o.get(w)}return e&&!s&&Array.from(u.entries()).reduce((C,I)=>{let[R,M]=I;return M==="on"&&C.push(R),C},[]).length===0?p:u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:(n,r)=>{const s=[];for(const[u,h]of n.entries())h==="on"&&!r.has(u)&&s.push(u);return s}};return t},Gf=Symbol.for("vuetify:nested"),eI={id:Rt(),root:{register:()=>null,unregister:()=>null,parents:ht(new Map),children:ht(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:ht(!1),selectable:ht(!1),opened:ht(new Set),activated:ht(new Set),selected:ht(new Map),selectedValues:ht([])}},D4=We({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),M4=e=>{let t=!1;const n=ht(new Map),r=ht(new Map),s=hn(e,"opened",e.opened,I=>new Set(I),I=>[...I.values()]),u=Y(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return k4(e.mandatory);case"single-leaf":return C4(e.mandatory);case"independent":return wx(e.mandatory);case"single-independent":default:return XE(e.mandatory)}}),h=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return I4(e.mandatory);case"leaf":return E4(e.mandatory);case"independent":return Sx(e.mandatory);case"single-independent":return QE(e.mandatory);case"classic":default:return P4(e.mandatory)}}),o=Y(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return A4;case"single":return T4;case"multiple":default:return JE}}),p=hn(e,"activated",e.activated,I=>u.value.in(I,n.value,r.value),I=>u.value.out(I,n.value,r.value)),y=hn(e,"selected",e.selected,I=>h.value.in(I,n.value,r.value),I=>h.value.out(I,n.value,r.value));Sr(()=>{t=!0});function w(I){const R=[];let M=I;for(;M!=null;)R.unshift(M),M=r.value.get(M);return R}const k=Jr("nested"),C={id:Rt(),root:{opened:s,activatable:_t(e,"activatable"),selectable:_t(e,"selectable"),activated:p,selected:y,selectedValues:Y(()=>{const I=[];for(const[R,M]of y.value.entries())M==="on"&&I.push(R);return I}),register:(I,R,M)=>{R&&I!==R&&r.value.set(I,R),M&&n.value.set(I,[]),R!=null&&n.value.set(R,[...n.value.get(R)||[],I])},unregister:I=>{if(t)return;n.value.delete(I);const R=r.value.get(I);if(R){const M=n.value.get(R)??[];n.value.set(R,M.filter(F=>F!==I))}r.value.delete(I),s.value.delete(I)},open:(I,R,M)=>{k.emit("click:open",{id:I,value:R,path:w(I),event:M});const F=o.value.open({id:I,value:R,opened:new Set(s.value),children:n.value,parents:r.value,event:M});F&&(s.value=F)},openOnSelect:(I,R,M)=>{const F=o.value.select({id:I,value:R,selected:new Map(y.value),opened:new Set(s.value),children:n.value,parents:r.value,event:M});F&&(s.value=F)},select:(I,R,M)=>{k.emit("click:select",{id:I,value:R,path:w(I),event:M});const F=h.value.select({id:I,value:R,selected:new Map(y.value),children:n.value,parents:r.value,event:M});F&&(y.value=F),C.root.openOnSelect(I,R,M)},activate:(I,R,M)=>{if(!e.activatable)return C.root.select(I,!0,M);k.emit("click:activate",{id:I,value:R,path:w(I),event:M});const F=u.value.activate({id:I,value:R,activated:new Set(p.value),children:n.value,parents:r.value,event:M});F&&(p.value=F)},children:n,parents:r}};return xn(Gf,C),C.root},kx=(e,t)=>{const n=yt(Gf,eI),r=Symbol(As()),s=Y(()=>e.value!==void 0?e.value:r),u={...n,id:s,open:(h,o)=>n.root.open(s.value,h,o),openOnSelect:(h,o)=>n.root.openOnSelect(s.value,h,o),isOpen:Y(()=>n.root.opened.value.has(s.value)),parent:Y(()=>n.root.parents.value.get(s.value)),activate:(h,o)=>n.root.activate(s.value,h,o),isActivated:Y(()=>n.root.activated.value.has(wn(s.value))),select:(h,o)=>n.root.select(s.value,h,o),isSelected:Y(()=>n.root.selected.value.get(wn(s.value))==="on"),isIndeterminate:Y(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:Y(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,t),Sr(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),t&&xn(Gf,u),u},L4=()=>{const e=yt(Gf,eI);xn(Gf,{...e,isGroupActivator:!0})},R4=zd({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return L4(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),tI=We({activeColor:String,baseColor:String,color:String,collapseIcon:{type:yn,default:"$collapse"},expandIcon:{type:yn,default:"$expand"},prependIcon:yn,appendIcon:yn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...cn(),...Zn()},"VListGroup"),Gs=ft()({name:"VListGroup",props:tI(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:s,id:u}=kx(_t(e,"value"),!0),h=Y(()=>`v-list-group--id-${String(u.value)}`),o=KE(),{isBooted:p}=_m();function y(I){I.stopPropagation(),s(!r.value,I)}const w=Y(()=>({onClick:y,class:"v-list-group__header",id:h.value})),k=Y(()=>r.value?e.collapseIcon:e.expandIcon),C=Y(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&k.value,appendIcon:e.appendIcon||!e.subgroup&&k.value,title:e.title,value:e.value}}));return St(()=>T(e.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&T(Bn,{defaults:C.value},{default:()=>[T(R4,null,{default:()=>[n.activator({props:w.value,isOpen:r.value})]})]}),T(_s,{transition:{component:ix},disabled:!p.value},{default:()=>{var I;return[si(T("div",{class:"v-list-group__items",role:"group","aria-labelledby":h.value},[(I=n.default)==null?void 0:I.call(n)]),[[gl,r.value]])]}})]})),{isOpen:r}}}),O4=We({...wr(tI({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),Vb=ft()({name:"VTreeviewGroup",props:O4(),setup(e,t){let{slots:n}=t;const r=ht(),s=Y(()=>{var h;return(h=r.value)!=null&&h.isOpen?e.collapseIcon:e.expandIcon}),u=Y(()=>{var h;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(h=r.value)==null?void 0:h.isOpen,toggleIcon:s.value}}});return St(()=>{const h=Gs.filterProps(e);return T(Gs,ot(h,{ref:r,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?o=>T(Ht,null,[T(Bn,{defaults:u.value},{default:()=>{var p;return[(p=n.activator)==null?void 0:p.call(n,o)]}})]):void 0})}),{}}}),F4=We({opacity:[Number,String],...cn(),...Zn()},"VListItemSubtitle"),nI=ft()({name:"VListItemSubtitle",props:F4(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Wa=Bd("v-list-item-title"),rI=We({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:yn,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:yn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Bi(),onClickOnce:Bi(),...eo(),...cn(),...$a(),...to(),...ns(),...Pi(),...gv(),...Zn(),...vr(),...ro({variant:"text"})},"VListItem"),Dr=ft()({name:"VListItem",directives:{Ripple:pu},props:rI(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=mm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),{activate:o,isActivated:p,select:y,isSelected:w,isIndeterminate:k,isGroupActivator:C,root:I,parent:R,openOnSelect:M}=kx(h,!1),F=KE(),N=Y(()=>{var Fe;return e.active!==!1&&(e.active||((Fe=u.isActive)==null?void 0:Fe.value)||(I.activatable.value?p.value:w.value))}),q=Y(()=>e.link!==!1&&u.isLink.value),Z=Y(()=>!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||!!F&&(I.selectable.value||I.activatable.value||e.value!=null))),se=Y(()=>e.rounded||e.nav),ie=Y(()=>e.color??e.activeColor),J=Y(()=>({color:N.value?ie.value??e.baseColor:e.baseColor,variant:e.variant}));ct(()=>{var Fe;return(Fe=u.isActive)==null?void 0:Fe.value},Fe=>{Fe&&R.value!=null&&I.open(R.value,!0),Fe&&M(Fe)},{immediate:!0});const{themeClasses:te}=Rr(e),{borderClasses:G}=Lo(e),{colorClasses:$,colorStyles:K,variantClasses:le}=mu(J),{densityClasses:ee}=rs(e),{dimensionStyles:_e}=no(e),{elevationClasses:fe}=Es(e),{roundedClasses:Ie}=Vi(se),Te=Y(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),qe=Y(()=>({isActive:N.value,select:y,isSelected:w.value,isIndeterminate:k.value}));function ke(Fe){var Je;s("click",Fe),Z.value&&((Je=u.navigate)==null||Je.call(u,Fe),!C&&(I.activatable.value?o(!p.value,Fe):(I.selectable.value||e.value!=null)&&y(!w.value,Fe)))}function Pe(Fe){(Fe.key==="Enter"||Fe.key===" ")&&(Fe.preventDefault(),ke(Fe))}return St(()=>{const Fe=q.value?"a":e.tag,Je=r.title||e.title!=null,$e=r.subtitle||e.subtitle!=null,at=!!(e.appendAvatar||e.appendIcon),Lt=!!(at||r.append),dt=!!(e.prependAvatar||e.prependIcon),kt=!!(dt||r.prepend);return F==null||F.updateHasPrepend(kt),e.activeColor&&$F("active-color",["color","base-color"]),si(T(Fe,{class:["v-list-item",{"v-list-item--active":N.value,"v-list-item--disabled":e.disabled,"v-list-item--link":Z.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!kt&&(F==null?void 0:F.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&N.value},te.value,G.value,$.value,ee.value,fe.value,Te.value,Ie.value,le.value,e.class],style:[K.value,_e.value,e.style],href:u.href.value,tabindex:Z.value?F?-2:0:void 0,onClick:ke,onKeydown:Z.value&&!q.value&&Pe},{default:()=>{var Ne;return[wl(Z.value||N.value,"v-list-item"),kt&&T("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!dt,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var it;return[(it=r.prepend)==null?void 0:it.call(r,qe.value)]}}):T(Ht,null,[e.prependAvatar&&T(Eo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(nr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),T("div",{class:"v-list-item__spacer"},null)]),T("div",{class:"v-list-item__content","data-no-activator":""},[Je&&T(Wa,{key:"title"},{default:()=>{var it;return[((it=r.title)==null?void 0:it.call(r,{title:e.title}))??e.title]}}),$e&&T(nI,{key:"subtitle"},{default:()=>{var it;return[((it=r.subtitle)==null?void 0:it.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(Ne=r.default)==null?void 0:Ne.call(r,qe.value)]),Lt&&T("div",{key:"append",class:"v-list-item__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!at,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var it;return[(it=r.append)==null?void 0:it.call(r,qe.value)]}}):T(Ht,null,[e.appendIcon&&T(nr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Eo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),T("div",{class:"v-list-item__spacer"},null)])]}}),[[Cs("ripple"),Z.value&&e.ripple]])}),{activate:o,isActivated:p,isGroupActivator:C,isSelected:w,list:F,select:y}}}),z4=We({color:String,inset:Boolean,sticky:Boolean,title:String,...cn(),...Zn()},"VListSubheader"),iI=ft()({name:"VListSubheader",props:z4(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:s}=Na(_t(e,"color"));return St(()=>{const u=!!(n.default||e.title);return T(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var h;return[u&&T("div",{class:"v-list-subheader__text"},[((h=n.default)==null?void 0:h.call(n))??e.title])]}})}),{}}}),B4=We({items:Array,returnObject:Boolean},"VListChildren"),aI=ft()({name:"VListChildren",props:B4(),setup(e,t){let{slots:n}=t;return ZE(),()=>{var r,s;return((r=n.default)==null?void 0:r.call(n))??((s=e.items)==null?void 0:s.map(u=>{var C,I;let{children:h,props:o,type:p,raw:y}=u;if(p==="divider")return((C=n.divider)==null?void 0:C.call(n,{props:o}))??T(gr,o,null);if(p==="subheader")return((I=n.subheader)==null?void 0:I.call(n,{props:o}))??T(iI,o,null);const w={subtitle:n.subtitle?R=>{var M;return(M=n.subtitle)==null?void 0:M.call(n,{...R,item:y})}:void 0,prepend:n.prepend?R=>{var M;return(M=n.prepend)==null?void 0:M.call(n,{...R,item:y})}:void 0,append:n.append?R=>{var M;return(M=n.append)==null?void 0:M.call(n,{...R,item:y})}:void 0,title:n.title?R=>{var M;return(M=n.title)==null?void 0:M.call(n,{...R,item:y})}:void 0},k=Gs.filterProps(o);return h?T(Gs,ot({value:o==null?void 0:o.value},k),{activator:R=>{let{props:M}=R;const F={...o,...M,value:e.returnObject?y:o.value};return n.header?n.header({props:F}):T(Dr,F,w)},default:()=>T(aI,{items:h,returnObject:e.returnObject},n)}):n.item?n.item({props:o}):T(Dr,ot(o,{value:e.returnObject?y:o.value}),w)}))}}}),sI=We({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:vl}},"list-items");function Nb(e,t){const n=zi(t,e.itemTitle,t),r=zi(t,e.itemValue,n),s=zi(t,e.itemChildren),u=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?wr(t,["children"]):t:void 0:zi(t,e.itemProps),h={title:n,value:r,...u};return{title:String(h.title??""),value:h.value,props:h,children:Array.isArray(s)?oI(e,s):void 0,raw:t}}function oI(e,t){const n=[];for(const r of t)n.push(Nb(e,r));return n}function lI(e){const t=Y(()=>oI(e,e.items)),n=Y(()=>t.value.some(u=>u.value===null));function r(u){return n.value||(u=u.filter(h=>h!==null)),u.map(h=>e.returnObject&&typeof h=="string"?Nb(e,h):t.value.find(o=>e.valueComparator(h,o.value))||Nb(e,h))}function s(u){return e.returnObject?u.map(h=>{let{raw:o}=h;return o}):u.map(h=>{let{value:o}=h;return o})}return{items:t,transformIn:r,transformOut:s}}function V4(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function N4(e,t){const n=zi(t,e.itemType,"item"),r=V4(t)?t:zi(t,e.itemTitle),s=zi(t,e.itemValue,void 0),u=zi(t,e.itemChildren),h=e.itemProps===!0?wr(t,["children"]):zi(t,e.itemProps),o={title:r,value:s,...h};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&u?cI(e,u):void 0,raw:t}}function cI(e,t){const n=[];for(const r of t)n.push(N4(e,r));return n}function uI(e){return{items:Y(()=>cI(e,e.items))}}const dI=We({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Bi(),"onClick:select":Bi(),"onUpdate:opened":Bi(),...D4({selectStrategy:"single-leaf",openStrategy:"list"}),...eo(),...cn(),...$a(),...to(),...ns(),itemType:{type:String,default:"type"},...sI(),...Pi(),...Zn(),...vr(),...ro({variant:"text"})},"VList"),Wf=ft()({name:"VList",props:dI(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=uI(e),{themeClasses:s}=Rr(e),{backgroundColorClasses:u,backgroundColorStyles:h}=yi(_t(e,"bgColor")),{borderClasses:o}=Lo(e),{densityClasses:p}=rs(e),{dimensionStyles:y}=no(e),{elevationClasses:w}=Es(e),{roundedClasses:k}=Vi(e),{children:C,open:I,parents:R,select:M}=M4(e),F=Y(()=>e.lines?`v-list--${e.lines}-line`:void 0),N=_t(e,"activeColor"),q=_t(e,"baseColor"),Z=_t(e,"color");ZE(),da({VListGroup:{activeColor:N,baseColor:q,color:Z,expandIcon:_t(e,"expandIcon"),collapseIcon:_t(e,"collapseIcon")},VListItem:{activeClass:_t(e,"activeClass"),activeColor:N,baseColor:q,color:Z,density:_t(e,"density"),disabled:_t(e,"disabled"),lines:_t(e,"lines"),nav:_t(e,"nav"),slim:_t(e,"slim"),variant:_t(e,"variant")}});const se=Rt(!1),ie=ht();function J(ee){se.value=!0}function te(ee){se.value=!1}function G(ee){var _e;!se.value&&!(ee.relatedTarget&&((_e=ie.value)!=null&&_e.contains(ee.relatedTarget)))&&le()}function $(ee){const _e=ee.target;if(!(!ie.value||["INPUT","TEXTAREA"].includes(_e.tagName))){if(ee.key==="ArrowDown")le("next");else if(ee.key==="ArrowUp")le("prev");else if(ee.key==="Home")le("first");else if(ee.key==="End")le("last");else return;ee.preventDefault()}}function K(ee){se.value=!0}function le(ee){if(ie.value)return Pg(ie.value,ee)}return St(()=>T(e.tag,{ref:ie,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,u.value,o.value,p.value,w.value,F.value,k.value,e.class],style:[h.value,y.value,e.style],tabindex:e.disabled||se.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:J,onFocusout:te,onFocus:G,onKeydown:$,onMousedown:K},{default:()=>[T(aI,{items:r.value,returnObject:e.returnObject},n)]})),{open:I,select:M,focus:le,children:C,parents:R}}}),$4=We({start:Boolean,end:Boolean,...cn(),...Zn()},"VListItemAction"),iC=ft()({name:"VListItemAction",props:$4(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),hI=Symbol.for("vuetify:v-treeview"),U4=We({loading:Boolean,toggleIcon:yn,...rI({slim:!0})},"VTreeviewItem"),$b=ft()({name:"VTreeviewItem",props:U4(),setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=mm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),o=ht(),{activate:p,isActivated:y,select:w,isSelected:k,isIndeterminate:C,isGroupActivator:I,root:R,id:M}=kx(h,!1),F=Y(()=>R.activatable.value&&I),{densityClasses:N}=rs(e,"v-list-item"),q=Y(()=>({isActive:y.value,select:w,isSelected:k.value,isIndeterminate:C.value})),Z=Y(()=>{var te;return!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||e.value!=null&&!!((te=o.value)!=null&&te.list))});function se(te){var G,$;!Z.value||!F.value&&I||R.activatable.value&&(F.value?p(!y.value,te):($=o.value)==null||$.activate(!((G=o.value)!=null&&G.isActivated),te))}function ie(te){(te.key==="Enter"||te.key===" ")&&(te.preventDefault(),se(te))}const J=yt(hI,{visibleIds:ht()}).visibleIds;return St(()=>{var le;const te=r.title||e.title!=null,G=r.subtitle||e.subtitle!=null,$=Dr.filterProps(e),K=r.prepend||e.toggleIcon;return F.value?si(T("div",{class:["v-list-item","v-list-item--one-line","v-treeview-item","v-treeview-item--activetable-group-activator",{"v-list-item--active":y.value||k.value,"v-treeview-item--filtered":J.value&&!J.value.has(M.value)},N.value,e.class],onClick:se},[T(Ht,null,[wl(y.value||k.value,"v-list-item"),e.toggleIcon&&T(iC,{start:!1},{default:()=>[T(Jt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:e.onClick},{loader(){return T(Fg,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]})]),T("div",{class:"v-list-item__content","data-no-activator":""},[te&&T(Wa,{key:"title"},{default:()=>{var ee;return[((ee=r.title)==null?void 0:ee.call(r,{title:e.title}))??e.title]}}),G&&T(nI,{key:"subtitle"},{default:()=>{var ee;return[((ee=r.subtitle)==null?void 0:ee.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(le=r.default)==null?void 0:le.call(r,q.value)])]),[[Cs("ripple"),Z.value&&e.ripple]]):T(Dr,ot({ref:o},$,{class:["v-treeview-item",{"v-treeview-item--filtered":J.value&&!J.value.has(M.value)},e.class],value:M.value,onClick:se,onKeydown:Z.value&&ie}),{...r,prepend:K?ee=>{var _e;return T(Ht,null,[e.toggleIcon&&T(iC,{start:!1},{default:()=>[T(Jt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text"},{loader(){return T(Fg,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(_e=r.prepend)==null?void 0:_e.call(r,ee)])}:void 0})}),{}}}),fI=Symbol.for("vuetify:selection-control-group"),Cx=We({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:yn,trueIcon:yn,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:vl},...cn(),...$a(),...vr()},"SelectionControlGroup"),q4=We({...Cx({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),j4=ft()({name:"VSelectionControlGroup",props:q4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=hn(e,"modelValue"),s=As(),u=Y(()=>e.id||`v-selection-control-group-${s}`),h=Y(()=>e.name||u.value),o=new Set;return xn(fI,{modelValue:r,forceUpdate:()=>{o.forEach(p=>p())},onForceUpdate:p=>{o.add(p),ha(()=>{o.delete(p)})}}),da({[e.defaultsTarget]:{color:_t(e,"color"),disabled:_t(e,"disabled"),density:_t(e,"density"),error:_t(e,"error"),inline:_t(e,"inline"),modelValue:r,multiple:Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:h,falseIcon:_t(e,"falseIcon"),trueIcon:_t(e,"trueIcon"),readonly:_t(e,"readonly"),ripple:_t(e,"ripple"),type:_t(e,"type"),valueComparator:_t(e,"valueComparator")}}),St(()=>{var p;return T("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(p=n.default)==null?void 0:p.call(n)])}),{}}}),Tx=We({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...cn(),...Cx()},"VSelectionControl");function H4(e){const t=yt(fI,void 0),{densityClasses:n}=rs(e),r=hn(e,"modelValue"),s=Y(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=Y(()=>e.falseValue!==void 0?e.falseValue:!1),h=Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),o=Y({get(){const I=t?t.modelValue.value:r.value;return h.value?Wr(I).some(R=>e.valueComparator(R,s.value)):e.valueComparator(I,s.value)},set(I){if(e.readonly)return;const R=I?s.value:u.value;let M=R;h.value&&(M=I?[...Wr(r.value),R]:Wr(r.value).filter(F=>!e.valueComparator(F,s.value))),t?t.modelValue.value=M:r.value=M}}),{textColorClasses:p,textColorStyles:y}=Na(Y(()=>{if(!(e.error||e.disabled))return o.value?e.color:e.baseColor})),{backgroundColorClasses:w,backgroundColorStyles:k}=yi(Y(()=>o.value&&!e.error&&!e.disabled?e.color:e.baseColor)),C=Y(()=>o.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:s,falseValue:u,model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:w,backgroundColorStyles:k,icon:C}}const Yf=ft()({name:"VSelectionControl",directives:{Ripple:pu},inheritAttrs:!1,props:Tx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:s,densityClasses:u,icon:h,model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:w,backgroundColorStyles:k,trueValue:C}=H4(e),I=As(),R=Rt(!1),M=Rt(!1),F=ht(),N=Y(()=>e.id||`input-${I}`),q=Y(()=>!e.disabled&&!e.readonly);s==null||s.onForceUpdate(()=>{F.value&&(F.value.checked=o.value)});function Z(te){q.value&&(R.value=!0,Id(te.target,":focus-visible")!==!1&&(M.value=!0))}function se(){R.value=!1,M.value=!1}function ie(te){te.stopPropagation()}function J(te){if(!q.value){F.value&&(F.value.checked=o.value);return}e.readonly&&s&&Hn(()=>s.forceUpdate()),o.value=te.target.checked}return St(()=>{var le,ee;const te=r.label?r.label({label:e.label,props:{for:N.value}}):e.label,[G,$]=om(n),K=T("input",ot({ref:F,checked:o.value,disabled:!!e.disabled,id:N.value,onBlur:se,onFocus:Z,onInput:J,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:C.value,name:e.name,"aria-checked":e.type==="checkbox"?o.value:void 0},$),null);return T("div",ot({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":R.value,"v-selection-control--focus-visible":M.value,"v-selection-control--inline":e.inline},u.value,e.class]},G,{style:e.style}),[T("div",{class:["v-selection-control__wrapper",p.value],style:y.value},[(le=r.default)==null?void 0:le.call(r,{backgroundColorClasses:w,backgroundColorStyles:k}),si(T("div",{class:["v-selection-control__input"]},[((ee=r.input)==null?void 0:ee.call(r,{model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:w,backgroundColorStyles:k,inputNode:K,icon:h.value,props:{onFocus:Z,onBlur:se,id:N.value}}))??T(Ht,null,[h.value&&T(nr,{key:"icon",icon:h.value},null),K])]),[[Cs("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),te&&T(mx,{for:N.value,onClick:ie},{default:()=>[te]})])}),{isFocused:R,input:F}}}),G4=We({indeterminate:Boolean,indeterminateIcon:{type:yn,default:"$checkboxIndeterminate"},...Tx({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),jd=ft()({name:"VCheckboxBtn",props:G4(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=hn(e,"indeterminate"),s=hn(e,"modelValue");function u(p){r.value&&(r.value=!1)}const h=Y(()=>r.value?e.indeterminateIcon:e.falseIcon),o=Y(()=>r.value?e.indeterminateIcon:e.trueIcon);return St(()=>{const p=wr(Yf.filterProps(e),["modelValue"]);return T(Yf,ot(p,{modelValue:s.value,"onUpdate:modelValue":[y=>s.value=y,u],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:h.value,trueIcon:o.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}}),mI=We({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,selectable:Boolean,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),Ng=ft()({name:"VTreeviewChildren",props:mI(),setup(e,t){let{emit:n,slots:r}=t;const s=Rt(null);function u(o){return new Promise(p=>{var y,w;if(!((y=e.items)!=null&&y.length)||!e.loadChildren)return p();if(((w=o==null?void 0:o.children)==null?void 0:w.length)===0){s.value=o.value,e.loadChildren(o).then(p);return}p()}).finally(()=>{s.value=null})}function h(o,p){e.selectable&&o(!p)}return()=>{var o,p;return((o=r.default)==null?void 0:o.call(r))??((p=e.items)==null?void 0:p.map(y=>{var N;let{children:w,props:k,raw:C}=y;const I=s.value===C.value,R={prepend:q=>{var Z;return T(Ht,null,[e.selectable&&(!w||w&&!["leaf","single-leaf"].includes(e.selectStrategy))&&T("div",null,[T(jd,{key:C.value,modelValue:q.isSelected,loading:I,indeterminate:q.isIndeterminate,onClick:pb(()=>h(q.select,q.isSelected),["stop"]),onKeydown:se=>{["Enter","Space"].includes(se.key)&&(se.stopPropagation(),h(q.select,q.isSelected))}},null)]),(Z=r.prepend)==null?void 0:Z.call(r,{...q,item:C})])},append:r.append?q=>{var Z;return(Z=r.append)==null?void 0:Z.call(r,{...q,item:C})}:void 0,title:r.title?q=>{var Z;return(Z=r.title)==null?void 0:Z.call(r,{...q,item:C})}:void 0},M=Vb.filterProps(k),F=Ng.filterProps(e);return w?T(Vb,ot({value:k==null?void 0:k.value},M),{activator:q=>{let{props:Z}=q;const se={...k,...Z,value:k==null?void 0:k.value};return T($b,ot(se,{loading:I,onClick:()=>u(C)}),R)},default:()=>T(Ng,ot(F,{items:w}),r)}):((N=r.item)==null?void 0:N.call(r,{props:k}))??T($b,k,R)}))}}}),W4=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Ax=We({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function Y4(e,t,n){var o;const r=[],s=(n==null?void 0:n.default)??W4,u=n!=null&&n.filterKeys?Wr(n.filterKeys):!1,h=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let p=0;p<e.length;p++){const[y,w=y]=Wr(e[p]),k={},C={};let I=-1;if((t||h>0)&&!(n!=null&&n.noFilter)){if(typeof y=="object"){const F=u||Object.keys(w);for(const N of F){const q=zi(w,N),Z=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[N];if(I=Z?Z(q,t,y):s(q,t,y),I!==-1&&I!==!1)Z?k[N]=I:C[N]=I;else if((n==null?void 0:n.filterMode)==="every")continue e}}else I=s(y,t,y),I!==-1&&I!==!1&&(C.title=I);const R=Object.keys(C).length,M=Object.keys(k).length;if(!R&&!M||(n==null?void 0:n.filterMode)==="union"&&M!==h&&!R||(n==null?void 0:n.filterMode)==="intersection"&&(M!==h||!R))continue}r.push({index:p,matches:{...C,...k}})}return r}function Ex(e,t,n,r){const s=ht([]),u=ht(new Map),h=Y(()=>r!=null&&r.transform?Vr(t).map(p=>[p,r.transform(p)]):Vr(t));oi(()=>{const p=typeof n=="function"?n():Vr(n),y=typeof p!="string"&&typeof p!="number"?"":String(p),w=Y4(h.value,y,{customKeyFilter:{...e.customKeyFilter,...Vr(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),k=Vr(t),C=[],I=new Map;w.forEach(R=>{let{index:M,matches:F}=R;const N=k[M];C.push(N),I.set(N.value,F)}),s.value=C,u.value=I});function o(p){return u.value.get(p.value)}return{filteredItems:s,filteredMatches:u,getMatches:o}}function pI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&pI(n.children,t);return t}const Z4=We({openAll:Boolean,search:String,...Ax({filterKeys:["title"]}),...mI(),...wr(dI({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["nav"])},"VTreeview"),K4=ft()({name:"VTreeview",props:Z4(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=uI(e),s=_t(e,"activeColor"),u=_t(e,"baseColor"),h=_t(e,"color"),o=hn(e,"activated"),p=hn(e,"selected"),y=ht(),w=Y(()=>e.openAll?N(r.value):e.opened),k=Y(()=>pI(r.value)),C=_t(e,"search"),{filteredItems:I}=Ex(e,k,C),R=Y(()=>C.value?new Set(I.value.flatMap(q=>[...M(q.props.value),...F(q.props.value)])):null);function M(q){var ie;const Z=[];let se=q;for(;se!=null;)Z.unshift(se),se=(ie=y.value)==null?void 0:ie.parents.get(se);return Z}function F(q){var ie,J;const Z=[],se=(((ie=y.value)==null?void 0:ie.children.get(q))??[]).slice();for(;se.length;){const te=se.shift();te&&(Z.push(te),se.push(...(((J=y.value)==null?void 0:J.children.get(te))??[]).slice()))}return Z}function N(q){let Z=[];for(const se of q)se.children&&(Z.push(se.value),se.children&&(Z=Z.concat(N(se.children))));return Z}return xn(hI,{visibleIds:R}),da({VTreeviewGroup:{activeColor:s,baseColor:u,color:h,collapseIcon:_t(e,"collapseIcon"),expandIcon:_t(e,"expandIcon")},VTreeviewItem:{activeClass:_t(e,"activeClass"),activeColor:s,baseColor:u,color:h,density:_t(e,"density"),disabled:_t(e,"disabled"),lines:_t(e,"lines"),variant:_t(e,"variant")}}),St(()=>{const q=Wf.filterProps(e),Z=Ng.filterProps(e);return T(Wf,ot({ref:y},q,{class:["v-treeview",e.class],style:e.style,opened:w.value,activated:o.value,"onUpdate:activated":se=>o.value=se,selected:p.value,"onUpdate:selected":se=>p.value=se}),{default:()=>[T(Ng,ot(Z,{items:r.value}),n)]})}),{open}}}),X4=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:YV,VCalendarDay:dg,VCalendarHeader:Pb,VCalendarInterval:Ab,VCalendarIntervalEvent:Tb,VCalendarMonthDay:lE,VDateInput:$3,VNumberInput:j3,VPicker:qf,VPickerTitle:TE,VPullToRefresh:h4,VSnackbarQueue:p4,VStepperVertical:d4,VStepperVerticalActions:zE,VStepperVerticalItem:$E,VTimePicker:S4,VTimePickerClock:Fb,VTimePickerControls:zb,VTreeview:K4,VTreeviewGroup:Vb,VTreeviewItem:$b},Symbol.toStringTag,{value:"Module"})),Qr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},J4={props:["title","subtitle"]},Q4={class:"text-center text-h2"},e5={class:"text-subtitle-1 text-center"};function t5(e,t,n,r,s,u){return fn(),Nn(Mr,null,{default:Me(()=>[rr("h1",Q4,bs(n.title),1),rr("p",e5,bs(n.subtitle),1)]),_:1})}const n5=Qr(J4,[["render",t5]]);var cr={};const r5="Á",i5="á",a5="Ă",s5="ă",o5="∾",l5="∿",c5="∾̳",u5="Â",d5="â",h5="´",f5="А",m5="а",p5="Æ",g5="æ",v5="⁡",y5="𝔄",_5="𝔞",b5="À",x5="à",w5="ℵ",S5="ℵ",k5="Α",C5="α",T5="Ā",A5="ā",E5="⨿",I5="&",P5="&",D5="⩕",M5="⩓",L5="∧",R5="⩜",O5="⩘",F5="⩚",z5="∠",B5="⦤",V5="∠",N5="⦨",$5="⦩",U5="⦪",q5="⦫",j5="⦬",H5="⦭",G5="⦮",W5="⦯",Y5="∡",Z5="∟",K5="⊾",X5="⦝",J5="∢",Q5="Å",e6="⍼",t6="Ą",n6="ą",r6="𝔸",i6="𝕒",a6="⩯",s6="≈",o6="⩰",l6="≊",c6="≋",u6="'",d6="⁡",h6="≈",f6="≊",m6="Å",p6="å",g6="𝒜",v6="𝒶",y6="≔",_6="*",b6="≈",x6="≍",w6="Ã",S6="ã",k6="Ä",C6="ä",T6="∳",A6="⨑",E6="≌",I6="϶",P6="‵",D6="∽",M6="⋍",L6="∖",R6="⫧",O6="⊽",F6="⌅",z6="⌆",B6="⌅",V6="⎵",N6="⎶",$6="≌",U6="Б",q6="б",j6="„",H6="∵",G6="∵",W6="∵",Y6="⦰",Z6="϶",K6="ℬ",X6="ℬ",J6="Β",Q6="β",eN="ℶ",tN="≬",nN="𝔅",rN="𝔟",iN="⋂",aN="◯",sN="⋃",oN="⨀",lN="⨁",cN="⨂",uN="⨆",dN="★",hN="▽",fN="△",mN="⨄",pN="⋁",gN="⋀",vN="⤍",yN="⧫",_N="▪",bN="▴",xN="▾",wN="◂",SN="▸",kN="␣",CN="▒",TN="░",AN="▓",EN="█",IN="=⃥",PN="≡⃥",DN="⫭",MN="⌐",LN="𝔹",RN="𝕓",ON="⊥",FN="⊥",zN="⋈",BN="⧉",VN="┐",NN="╕",$N="╖",UN="╗",qN="┌",jN="╒",HN="╓",GN="╔",WN="─",YN="═",ZN="┬",KN="╤",XN="╥",JN="╦",QN="┴",e8="╧",t8="╨",n8="╩",r8="⊟",i8="⊞",a8="⊠",s8="┘",o8="╛",l8="╜",c8="╝",u8="└",d8="╘",h8="╙",f8="╚",m8="│",p8="║",g8="┼",v8="╪",y8="╫",_8="╬",b8="┤",x8="╡",w8="╢",S8="╣",k8="├",C8="╞",T8="╟",A8="╠",E8="‵",I8="˘",P8="˘",D8="¦",M8="𝒷",L8="ℬ",R8="⁏",O8="∽",F8="⋍",z8="⧅",B8="\\",V8="⟈",N8="•",$8="•",U8="≎",q8="⪮",j8="≏",H8="≎",G8="≏",W8="Ć",Y8="ć",Z8="⩄",K8="⩉",X8="⩋",J8="∩",Q8="⋒",e$="⩇",t$="⩀",n$="ⅅ",r$="∩︀",i$="⁁",a$="ˇ",s$="ℭ",o$="⩍",l$="Č",c$="č",u$="Ç",d$="ç",h$="Ĉ",f$="ĉ",m$="∰",p$="⩌",g$="⩐",v$="Ċ",y$="ċ",_$="¸",b$="¸",x$="⦲",w$="¢",S$="·",k$="·",C$="𝔠",T$="ℭ",A$="Ч",E$="ч",I$="✓",P$="✓",D$="Χ",M$="χ",L$="ˆ",R$="≗",O$="↺",F$="↻",z$="⊛",B$="⊚",V$="⊝",N$="⊙",$$="®",U$="Ⓢ",q$="⊖",j$="⊕",H$="⊗",G$="○",W$="⧃",Y$="≗",Z$="⨐",K$="⫯",X$="⧂",J$="∲",Q$="”",e9="’",t9="♣",n9="♣",r9=":",i9="∷",a9="⩴",s9="≔",o9="≔",l9=",",c9="@",u9="∁",d9="∘",h9="∁",f9="ℂ",m9="≅",p9="⩭",g9="≡",v9="∮",y9="∯",_9="∮",b9="𝕔",x9="ℂ",w9="∐",S9="∐",k9="©",C9="©",T9="℗",A9="∳",E9="↵",I9="✗",P9="⨯",D9="𝒞",M9="𝒸",L9="⫏",R9="⫑",O9="⫐",F9="⫒",z9="⋯",B9="⤸",V9="⤵",N9="⋞",$9="⋟",U9="↶",q9="⤽",j9="⩈",H9="⩆",G9="≍",W9="∪",Y9="⋓",Z9="⩊",K9="⊍",X9="⩅",J9="∪︀",Q9="↷",eU="⤼",tU="⋞",nU="⋟",rU="⋎",iU="⋏",aU="¤",sU="↶",oU="↷",lU="⋎",cU="⋏",uU="∲",dU="∱",hU="⌭",fU="†",mU="‡",pU="ℸ",gU="↓",vU="↡",yU="⇓",_U="‐",bU="⫤",xU="⊣",wU="⤏",SU="˝",kU="Ď",CU="ď",TU="Д",AU="д",EU="‡",IU="⇊",PU="ⅅ",DU="ⅆ",MU="⤑",LU="⩷",RU="°",OU="∇",FU="Δ",zU="δ",BU="⦱",VU="⥿",NU="𝔇",$U="𝔡",UU="⥥",qU="⇃",jU="⇂",HU="´",GU="˙",WU="˝",YU="`",ZU="˜",KU="⋄",XU="⋄",JU="⋄",QU="♦",e7="♦",t7="¨",n7="ⅆ",r7="ϝ",i7="⋲",a7="÷",s7="÷",o7="⋇",l7="⋇",c7="Ђ",u7="ђ",d7="⌞",h7="⌍",f7="$",m7="𝔻",p7="𝕕",g7="¨",v7="˙",y7="⃜",_7="≐",b7="≑",x7="≐",w7="∸",S7="∔",k7="⊡",C7="⌆",T7="∯",A7="¨",E7="⇓",I7="⇐",P7="⇔",D7="⫤",M7="⟸",L7="⟺",R7="⟹",O7="⇒",F7="⊨",z7="⇑",B7="⇕",V7="∥",N7="⤓",$7="↓",U7="↓",q7="⇓",j7="⇵",H7="̑",G7="⇊",W7="⇃",Y7="⇂",Z7="⥐",K7="⥞",X7="⥖",J7="↽",Q7="⥟",eq="⥗",tq="⇁",nq="↧",rq="⊤",iq="⤐",aq="⌟",sq="⌌",oq="𝒟",lq="𝒹",cq="Ѕ",uq="ѕ",dq="⧶",hq="Đ",fq="đ",mq="⋱",pq="▿",gq="▾",vq="⇵",yq="⥯",_q="⦦",bq="Џ",xq="џ",wq="⟿",Sq="É",kq="é",Cq="⩮",Tq="Ě",Aq="ě",Eq="Ê",Iq="ê",Pq="≖",Dq="≕",Mq="Э",Lq="э",Rq="⩷",Oq="Ė",Fq="ė",zq="≑",Bq="ⅇ",Vq="≒",Nq="𝔈",$q="𝔢",Uq="⪚",qq="È",jq="è",Hq="⪖",Gq="⪘",Wq="⪙",Yq="∈",Zq="⏧",Kq="ℓ",Xq="⪕",Jq="⪗",Qq="Ē",ej="ē",tj="∅",nj="∅",rj="◻",ij="∅",aj="▫",sj=" ",oj=" ",lj=" ",cj="Ŋ",uj="ŋ",dj=" ",hj="Ę",fj="ę",mj="𝔼",pj="𝕖",gj="⋕",vj="⧣",yj="⩱",_j="ε",bj="Ε",xj="ε",wj="ϵ",Sj="≖",kj="≕",Cj="≂",Tj="⪖",Aj="⪕",Ej="⩵",Ij="=",Pj="≂",Dj="≟",Mj="⇌",Lj="≡",Rj="⩸",Oj="⧥",Fj="⥱",zj="≓",Bj="ℯ",Vj="ℰ",Nj="≐",$j="⩳",Uj="≂",qj="Η",jj="η",Hj="Ð",Gj="ð",Wj="Ë",Yj="ë",Zj="€",Kj="!",Xj="∃",Jj="∃",Qj="ℰ",eH="ⅇ",tH="ⅇ",nH="≒",rH="Ф",iH="ф",aH="♀",sH="ﬃ",oH="ﬀ",lH="ﬄ",cH="𝔉",uH="𝔣",dH="ﬁ",hH="◼",fH="▪",mH="fj",pH="♭",gH="ﬂ",vH="▱",yH="ƒ",_H="𝔽",bH="𝕗",xH="∀",wH="∀",SH="⋔",kH="⫙",CH="ℱ",TH="⨍",AH="½",EH="⅓",IH="¼",PH="⅕",DH="⅙",MH="⅛",LH="⅔",RH="⅖",OH="¾",FH="⅗",zH="⅜",BH="⅘",VH="⅚",NH="⅝",$H="⅞",UH="⁄",qH="⌢",jH="𝒻",HH="ℱ",GH="ǵ",WH="Γ",YH="γ",ZH="Ϝ",KH="ϝ",XH="⪆",JH="Ğ",QH="ğ",eG="Ģ",tG="Ĝ",nG="ĝ",rG="Г",iG="г",aG="Ġ",sG="ġ",oG="≥",lG="≧",cG="⪌",uG="⋛",dG="≥",hG="≧",fG="⩾",mG="⪩",pG="⩾",gG="⪀",vG="⪂",yG="⪄",_G="⋛︀",bG="⪔",xG="𝔊",wG="𝔤",SG="≫",kG="⋙",CG="⋙",TG="ℷ",AG="Ѓ",EG="ѓ",IG="⪥",PG="≷",DG="⪒",MG="⪤",LG="⪊",RG="⪊",OG="⪈",FG="≩",zG="⪈",BG="≩",VG="⋧",NG="𝔾",$G="𝕘",UG="`",qG="≥",jG="⋛",HG="≧",GG="⪢",WG="≷",YG="⩾",ZG="≳",KG="𝒢",XG="ℊ",JG="≳",QG="⪎",eW="⪐",tW="⪧",nW="⩺",rW=">",iW=">",aW="≫",sW="⋗",oW="⦕",lW="⩼",cW="⪆",uW="⥸",dW="⋗",hW="⋛",fW="⪌",mW="≷",pW="≳",gW="≩︀",vW="≩︀",yW="ˇ",_W=" ",bW="½",xW="ℋ",wW="Ъ",SW="ъ",kW="⥈",CW="↔",TW="⇔",AW="↭",EW="^",IW="ℏ",PW="Ĥ",DW="ĥ",MW="♥",LW="♥",RW="…",OW="⊹",FW="𝔥",zW="ℌ",BW="ℋ",VW="⤥",NW="⤦",$W="⇿",UW="∻",qW="↩",jW="↪",HW="𝕙",GW="ℍ",WW="―",YW="─",ZW="𝒽",KW="ℋ",XW="ℏ",JW="Ħ",QW="ħ",eY="≎",tY="≏",nY="⁃",rY="‐",iY="Í",aY="í",sY="⁣",oY="Î",lY="î",cY="И",uY="и",dY="İ",hY="Е",fY="е",mY="¡",pY="⇔",gY="𝔦",vY="ℑ",yY="Ì",_Y="ì",bY="ⅈ",xY="⨌",wY="∭",SY="⧜",kY="℩",CY="Ĳ",TY="ĳ",AY="Ī",EY="ī",IY="ℑ",PY="ⅈ",DY="ℐ",MY="ℑ",LY="ı",RY="ℑ",OY="⊷",FY="Ƶ",zY="⇒",BY="℅",VY="∞",NY="⧝",$Y="ı",UY="⊺",qY="∫",jY="∬",HY="ℤ",GY="∫",WY="⊺",YY="⋂",ZY="⨗",KY="⨼",XY="⁣",JY="⁢",QY="Ё",eZ="ё",tZ="Į",nZ="į",rZ="𝕀",iZ="𝕚",aZ="Ι",sZ="ι",oZ="⨼",lZ="¿",cZ="𝒾",uZ="ℐ",dZ="∈",hZ="⋵",fZ="⋹",mZ="⋴",pZ="⋳",gZ="∈",vZ="⁢",yZ="Ĩ",_Z="ĩ",bZ="І",xZ="і",wZ="Ï",SZ="ï",kZ="Ĵ",CZ="ĵ",TZ="Й",AZ="й",EZ="𝔍",IZ="𝔧",PZ="ȷ",DZ="𝕁",MZ="𝕛",LZ="𝒥",RZ="𝒿",OZ="Ј",FZ="ј",zZ="Є",BZ="є",VZ="Κ",NZ="κ",$Z="ϰ",UZ="Ķ",qZ="ķ",jZ="К",HZ="к",GZ="𝔎",WZ="𝔨",YZ="ĸ",ZZ="Х",KZ="х",XZ="Ќ",JZ="ќ",QZ="𝕂",eK="𝕜",tK="𝒦",nK="𝓀",rK="⇚",iK="Ĺ",aK="ĺ",sK="⦴",oK="ℒ",lK="Λ",cK="λ",uK="⟨",dK="⟪",hK="⦑",fK="⟨",mK="⪅",pK="ℒ",gK="«",vK="⇤",yK="⤟",_K="←",bK="↞",xK="⇐",wK="⤝",SK="↩",kK="↫",CK="⤹",TK="⥳",AK="↢",EK="⤙",IK="⤛",PK="⪫",DK="⪭",MK="⪭︀",LK="⤌",RK="⤎",OK="❲",FK="{",zK="[",BK="⦋",VK="⦏",NK="⦍",$K="Ľ",UK="ľ",qK="Ļ",jK="ļ",HK="⌈",GK="{",WK="Л",YK="л",ZK="⤶",KK="“",XK="„",JK="⥧",QK="⥋",eX="↲",tX="≤",nX="≦",rX="⟨",iX="⇤",aX="←",sX="←",oX="⇐",lX="⇆",cX="↢",uX="⌈",dX="⟦",hX="⥡",fX="⥙",mX="⇃",pX="⌊",gX="↽",vX="↼",yX="⇇",_X="↔",bX="↔",xX="⇔",wX="⇆",SX="⇋",kX="↭",CX="⥎",TX="↤",AX="⊣",EX="⥚",IX="⋋",PX="⧏",DX="⊲",MX="⊴",LX="⥑",RX="⥠",OX="⥘",FX="↿",zX="⥒",BX="↼",VX="⪋",NX="⋚",$X="≤",UX="≦",qX="⩽",jX="⪨",HX="⩽",GX="⩿",WX="⪁",YX="⪃",ZX="⋚︀",KX="⪓",XX="⪅",JX="⋖",QX="⋚",eJ="⪋",tJ="⋚",nJ="≦",rJ="≶",iJ="≶",aJ="⪡",sJ="≲",oJ="⩽",lJ="≲",cJ="⥼",uJ="⌊",dJ="𝔏",hJ="𝔩",fJ="≶",mJ="⪑",pJ="⥢",gJ="↽",vJ="↼",yJ="⥪",_J="▄",bJ="Љ",xJ="љ",wJ="⇇",SJ="≪",kJ="⋘",CJ="⌞",TJ="⇚",AJ="⥫",EJ="◺",IJ="Ŀ",PJ="ŀ",DJ="⎰",MJ="⎰",LJ="⪉",RJ="⪉",OJ="⪇",FJ="≨",zJ="⪇",BJ="≨",VJ="⋦",NJ="⟬",$J="⇽",UJ="⟦",qJ="⟵",jJ="⟵",HJ="⟸",GJ="⟷",WJ="⟷",YJ="⟺",ZJ="⟼",KJ="⟶",XJ="⟶",JJ="⟹",QJ="↫",eQ="↬",tQ="⦅",nQ="𝕃",rQ="𝕝",iQ="⨭",aQ="⨴",sQ="∗",oQ="_",lQ="↙",cQ="↘",uQ="◊",dQ="◊",hQ="⧫",fQ="(",mQ="⦓",pQ="⇆",gQ="⌟",vQ="⇋",yQ="⥭",_Q="‎",bQ="⊿",xQ="‹",wQ="𝓁",SQ="ℒ",kQ="↰",CQ="↰",TQ="≲",AQ="⪍",EQ="⪏",IQ="[",PQ="‘",DQ="‚",MQ="Ł",LQ="ł",RQ="⪦",OQ="⩹",FQ="<",zQ="<",BQ="≪",VQ="⋖",NQ="⋋",$Q="⋉",UQ="⥶",qQ="⩻",jQ="◃",HQ="⊴",GQ="◂",WQ="⦖",YQ="⥊",ZQ="⥦",KQ="≨︀",XQ="≨︀",JQ="¯",QQ="♂",eee="✠",tee="✠",nee="↦",ree="↦",iee="↧",aee="↤",see="↥",oee="▮",lee="⨩",cee="М",uee="м",dee="—",hee="∺",fee="∡",mee=" ",pee="ℳ",gee="𝔐",vee="𝔪",yee="℧",_ee="µ",bee="*",xee="⫰",wee="∣",See="·",kee="⊟",Cee="−",Tee="∸",Aee="⨪",Eee="∓",Iee="⫛",Pee="…",Dee="∓",Mee="⊧",Lee="𝕄",Ree="𝕞",Oee="∓",Fee="𝓂",zee="ℳ",Bee="∾",Vee="Μ",Nee="μ",$ee="⊸",Uee="⊸",qee="∇",jee="Ń",Hee="ń",Gee="∠⃒",Wee="≉",Yee="⩰̸",Zee="≋̸",Kee="ŉ",Xee="≉",Jee="♮",Qee="ℕ",ete="♮",tte=" ",nte="≎̸",rte="≏̸",ite="⩃",ate="Ň",ste="ň",ote="Ņ",lte="ņ",cte="≇",ute="⩭̸",dte="⩂",hte="Н",fte="н",mte="–",pte="⤤",gte="↗",vte="⇗",yte="↗",_te="≠",bte="≐̸",xte="​",wte="​",Ste="​",kte="​",Cte="≢",Tte="⤨",Ate="≂̸",Ete="≫",Ite="≪",Pte=`
`,Dte="∄",Mte="∄",Lte="𝔑",Rte="𝔫",Ote="≧̸",Fte="≱",zte="≱",Bte="≧̸",Vte="⩾̸",Nte="⩾̸",$te="⋙̸",Ute="≵",qte="≫⃒",jte="≯",Hte="≯",Gte="≫̸",Wte="↮",Yte="⇎",Zte="⫲",Kte="∋",Xte="⋼",Jte="⋺",Qte="∋",ene="Њ",tne="њ",nne="↚",rne="⇍",ine="‥",ane="≦̸",sne="≰",one="↚",lne="⇍",cne="↮",une="⇎",dne="≰",hne="≦̸",fne="⩽̸",mne="⩽̸",pne="≮",gne="⋘̸",vne="≴",yne="≪⃒",_ne="≮",bne="⋪",xne="⋬",wne="≪̸",Sne="∤",kne="⁠",Cne=" ",Tne="𝕟",Ane="ℕ",Ene="⫬",Ine="¬",Pne="≢",Dne="≭",Mne="∦",Lne="∉",Rne="≠",One="≂̸",Fne="∄",zne="≯",Bne="≱",Vne="≧̸",Nne="≫̸",$ne="≹",Une="⩾̸",qne="≵",jne="≎̸",Hne="≏̸",Gne="∉",Wne="⋵̸",Yne="⋹̸",Zne="∉",Kne="⋷",Xne="⋶",Jne="⧏̸",Qne="⋪",ere="⋬",tre="≮",nre="≰",rre="≸",ire="≪̸",are="⩽̸",sre="≴",ore="⪢̸",lre="⪡̸",cre="∌",ure="∌",dre="⋾",hre="⋽",fre="⊀",mre="⪯̸",pre="⋠",gre="∌",vre="⧐̸",yre="⋫",_re="⋭",bre="⊏̸",xre="⋢",wre="⊐̸",Sre="⋣",kre="⊂⃒",Cre="⊈",Tre="⊁",Are="⪰̸",Ere="⋡",Ire="≿̸",Pre="⊃⃒",Dre="⊉",Mre="≁",Lre="≄",Rre="≇",Ore="≉",Fre="∤",zre="∦",Bre="∦",Vre="⫽⃥",Nre="∂̸",$re="⨔",Ure="⊀",qre="⋠",jre="⊀",Hre="⪯̸",Gre="⪯̸",Wre="⤳̸",Yre="↛",Zre="⇏",Kre="↝̸",Xre="↛",Jre="⇏",Qre="⋫",eie="⋭",tie="⊁",nie="⋡",rie="⪰̸",iie="𝒩",aie="𝓃",sie="∤",oie="∦",lie="≁",cie="≄",uie="≄",die="∤",hie="∦",fie="⋢",mie="⋣",pie="⊄",gie="⫅̸",vie="⊈",yie="⊂⃒",_ie="⊈",bie="⫅̸",xie="⊁",wie="⪰̸",Sie="⊅",kie="⫆̸",Cie="⊉",Tie="⊃⃒",Aie="⊉",Eie="⫆̸",Iie="≹",Pie="Ñ",Die="ñ",Mie="≸",Lie="⋪",Rie="⋬",Oie="⋫",Fie="⋭",zie="Ν",Bie="ν",Vie="#",Nie="№",$ie=" ",Uie="≍⃒",qie="⊬",jie="⊭",Hie="⊮",Gie="⊯",Wie="≥⃒",Yie=">⃒",Zie="⤄",Kie="⧞",Xie="⤂",Jie="≤⃒",Qie="<⃒",eae="⊴⃒",tae="⤃",nae="⊵⃒",rae="∼⃒",iae="⤣",aae="↖",sae="⇖",oae="↖",lae="⤧",cae="Ó",uae="ó",dae="⊛",hae="Ô",fae="ô",mae="⊚",pae="О",gae="о",vae="⊝",yae="Ő",_ae="ő",bae="⨸",xae="⊙",wae="⦼",Sae="Œ",kae="œ",Cae="⦿",Tae="𝔒",Aae="𝔬",Eae="˛",Iae="Ò",Pae="ò",Dae="⧁",Mae="⦵",Lae="Ω",Rae="∮",Oae="↺",Fae="⦾",zae="⦻",Bae="‾",Vae="⧀",Nae="Ō",$ae="ō",Uae="Ω",qae="ω",jae="Ο",Hae="ο",Gae="⦶",Wae="⊖",Yae="𝕆",Zae="𝕠",Kae="⦷",Xae="“",Jae="‘",Qae="⦹",ese="⊕",tse="↻",nse="⩔",rse="∨",ise="⩝",ase="ℴ",sse="ℴ",ose="ª",lse="º",cse="⊶",use="⩖",dse="⩗",hse="⩛",fse="Ⓢ",mse="𝒪",pse="ℴ",gse="Ø",vse="ø",yse="⊘",_se="Õ",bse="õ",xse="⨶",wse="⨷",Sse="⊗",kse="Ö",Cse="ö",Tse="⌽",Ase="‾",Ese="⏞",Ise="⎴",Pse="⏜",Dse="¶",Mse="∥",Lse="∥",Rse="⫳",Ose="⫽",Fse="∂",zse="∂",Bse="П",Vse="п",Nse="%",$se=".",Use="‰",qse="⊥",jse="‱",Hse="𝔓",Gse="𝔭",Wse="Φ",Yse="φ",Zse="ϕ",Kse="ℳ",Xse="☎",Jse="Π",Qse="π",eoe="⋔",toe="ϖ",noe="ℏ",roe="ℎ",ioe="ℏ",aoe="⨣",soe="⊞",ooe="⨢",loe="+",coe="∔",uoe="⨥",doe="⩲",hoe="±",foe="±",moe="⨦",poe="⨧",goe="±",voe="ℌ",yoe="⨕",_oe="𝕡",boe="ℙ",xoe="£",woe="⪷",Soe="⪻",koe="≺",Coe="≼",Toe="⪷",Aoe="≺",Eoe="≼",Ioe="≺",Poe="⪯",Doe="≼",Moe="≾",Loe="⪯",Roe="⪹",Ooe="⪵",Foe="⋨",zoe="⪯",Boe="⪳",Voe="≾",Noe="′",$oe="″",Uoe="ℙ",qoe="⪹",joe="⪵",Hoe="⋨",Goe="∏",Woe="∏",Yoe="⌮",Zoe="⌒",Koe="⌓",Xoe="∝",Joe="∝",Qoe="∷",ele="∝",tle="≾",nle="⊰",rle="𝒫",ile="𝓅",ale="Ψ",sle="ψ",ole=" ",lle="𝔔",cle="𝔮",ule="⨌",dle="𝕢",hle="ℚ",fle="⁗",mle="𝒬",ple="𝓆",gle="ℍ",vle="⨖",yle="?",_le="≟",ble='"',xle='"',wle="⇛",Sle="∽̱",kle="Ŕ",Cle="ŕ",Tle="√",Ale="⦳",Ele="⟩",Ile="⟫",Ple="⦒",Dle="⦥",Mle="⟩",Lle="»",Rle="⥵",Ole="⇥",Fle="⤠",zle="⤳",Ble="→",Vle="↠",Nle="⇒",$le="⤞",Ule="↪",qle="↬",jle="⥅",Hle="⥴",Gle="⤖",Wle="↣",Yle="↝",Zle="⤚",Kle="⤜",Xle="∶",Jle="ℚ",Qle="⤍",ece="⤏",tce="⤐",nce="❳",rce="}",ice="]",ace="⦌",sce="⦎",oce="⦐",lce="Ř",cce="ř",uce="Ŗ",dce="ŗ",hce="⌉",fce="}",mce="Р",pce="р",gce="⤷",vce="⥩",yce="”",_ce="”",bce="↳",xce="ℜ",wce="ℛ",Sce="ℜ",kce="ℝ",Cce="ℜ",Tce="▭",Ace="®",Ece="®",Ice="∋",Pce="⇋",Dce="⥯",Mce="⥽",Lce="⌋",Rce="𝔯",Oce="ℜ",Fce="⥤",zce="⇁",Bce="⇀",Vce="⥬",Nce="Ρ",$ce="ρ",Uce="ϱ",qce="⟩",jce="⇥",Hce="→",Gce="→",Wce="⇒",Yce="⇄",Zce="↣",Kce="⌉",Xce="⟧",Jce="⥝",Qce="⥕",eue="⇂",tue="⌋",nue="⇁",rue="⇀",iue="⇄",aue="⇌",sue="⇉",oue="↝",lue="↦",cue="⊢",uue="⥛",due="⋌",hue="⧐",fue="⊳",mue="⊵",pue="⥏",gue="⥜",vue="⥔",yue="↾",_ue="⥓",bue="⇀",xue="˚",wue="≓",Sue="⇄",kue="⇌",Cue="‏",Tue="⎱",Aue="⎱",Eue="⫮",Iue="⟭",Pue="⇾",Due="⟧",Mue="⦆",Lue="𝕣",Rue="ℝ",Oue="⨮",Fue="⨵",zue="⥰",Bue=")",Vue="⦔",Nue="⨒",$ue="⇉",Uue="⇛",que="›",jue="𝓇",Hue="ℛ",Gue="↱",Wue="↱",Yue="]",Zue="’",Kue="’",Xue="⋌",Jue="⋊",Que="▹",ede="⊵",tde="▸",nde="⧎",rde="⧴",ide="⥨",ade="℞",sde="Ś",ode="ś",lde="‚",cde="⪸",ude="Š",dde="š",hde="⪼",fde="≻",mde="≽",pde="⪰",gde="⪴",vde="Ş",yde="ş",_de="Ŝ",bde="ŝ",xde="⪺",wde="⪶",Sde="⋩",kde="⨓",Cde="≿",Tde="С",Ade="с",Ede="⊡",Ide="⋅",Pde="⩦",Dde="⤥",Mde="↘",Lde="⇘",Rde="↘",Ode="§",Fde=";",zde="⤩",Bde="∖",Vde="∖",Nde="✶",$de="𝔖",Ude="𝔰",qde="⌢",jde="♯",Hde="Щ",Gde="щ",Wde="Ш",Yde="ш",Zde="↓",Kde="←",Xde="∣",Jde="∥",Qde="→",ehe="↑",the="­",nhe="Σ",rhe="σ",ihe="ς",ahe="ς",she="∼",ohe="⩪",lhe="≃",che="≃",uhe="⪞",dhe="⪠",hhe="⪝",fhe="⪟",mhe="≆",phe="⨤",ghe="⥲",vhe="←",yhe="∘",_he="∖",bhe="⨳",xhe="⧤",whe="∣",She="⌣",khe="⪪",Che="⪬",The="⪬︀",Ahe="Ь",Ehe="ь",Ihe="⌿",Phe="⧄",Dhe="/",Mhe="𝕊",Lhe="𝕤",Rhe="♠",Ohe="♠",Fhe="∥",zhe="⊓",Bhe="⊓︀",Vhe="⊔",Nhe="⊔︀",$he="√",Uhe="⊏",qhe="⊑",jhe="⊏",Hhe="⊑",Ghe="⊐",Whe="⊒",Yhe="⊐",Zhe="⊒",Khe="□",Xhe="□",Jhe="⊓",Qhe="⊏",efe="⊑",tfe="⊐",nfe="⊒",rfe="⊔",ife="▪",afe="□",sfe="▪",ofe="→",lfe="𝒮",cfe="𝓈",ufe="∖",dfe="⌣",hfe="⋆",ffe="⋆",mfe="☆",pfe="★",gfe="ϵ",vfe="ϕ",yfe="¯",_fe="⊂",bfe="⋐",xfe="⪽",wfe="⫅",Sfe="⊆",kfe="⫃",Cfe="⫁",Tfe="⫋",Afe="⊊",Efe="⪿",Ife="⥹",Pfe="⊂",Dfe="⋐",Mfe="⊆",Lfe="⫅",Rfe="⊆",Ofe="⊊",Ffe="⫋",zfe="⫇",Bfe="⫕",Vfe="⫓",Nfe="⪸",$fe="≻",Ufe="≽",qfe="≻",jfe="⪰",Hfe="≽",Gfe="≿",Wfe="⪰",Yfe="⪺",Zfe="⪶",Kfe="⋩",Xfe="≿",Jfe="∋",Qfe="∑",eme="∑",tme="♪",nme="¹",rme="²",ime="³",ame="⊃",sme="⋑",ome="⪾",lme="⫘",cme="⫆",ume="⊇",dme="⫄",hme="⊃",fme="⊇",mme="⟉",pme="⫗",gme="⥻",vme="⫂",yme="⫌",_me="⊋",bme="⫀",xme="⊃",wme="⋑",Sme="⊇",kme="⫆",Cme="⊋",Tme="⫌",Ame="⫈",Eme="⫔",Ime="⫖",Pme="⤦",Dme="↙",Mme="⇙",Lme="↙",Rme="⤪",Ome="ß",Fme="	",zme="⌖",Bme="Τ",Vme="τ",Nme="⎴",$me="Ť",Ume="ť",qme="Ţ",jme="ţ",Hme="Т",Gme="т",Wme="⃛",Yme="⌕",Zme="𝔗",Kme="𝔱",Xme="∴",Jme="∴",Qme="∴",epe="Θ",tpe="θ",npe="ϑ",rpe="ϑ",ipe="≈",ape="∼",spe="  ",ope=" ",lpe=" ",cpe="≈",upe="∼",dpe="Þ",hpe="þ",fpe="˜",mpe="∼",ppe="≃",gpe="≅",vpe="≈",ype="⨱",_pe="⊠",bpe="×",xpe="⨰",wpe="∭",Spe="⤨",kpe="⌶",Cpe="⫱",Tpe="⊤",Ape="𝕋",Epe="𝕥",Ipe="⫚",Ppe="⤩",Dpe="‴",Mpe="™",Lpe="™",Rpe="▵",Ope="▿",Fpe="◃",zpe="⊴",Bpe="≜",Vpe="▹",Npe="⊵",$pe="◬",Upe="≜",qpe="⨺",jpe="⃛",Hpe="⨹",Gpe="⧍",Wpe="⨻",Ype="⏢",Zpe="𝒯",Kpe="𝓉",Xpe="Ц",Jpe="ц",Qpe="Ћ",ege="ћ",tge="Ŧ",nge="ŧ",rge="≬",ige="↞",age="↠",sge="Ú",oge="ú",lge="↑",cge="↟",uge="⇑",dge="⥉",hge="Ў",fge="ў",mge="Ŭ",pge="ŭ",gge="Û",vge="û",yge="У",_ge="у",bge="⇅",xge="Ű",wge="ű",Sge="⥮",kge="⥾",Cge="𝔘",Tge="𝔲",Age="Ù",Ege="ù",Ige="⥣",Pge="↿",Dge="↾",Mge="▀",Lge="⌜",Rge="⌜",Oge="⌏",Fge="◸",zge="Ū",Bge="ū",Vge="¨",Nge="_",$ge="⏟",Uge="⎵",qge="⏝",jge="⋃",Hge="⊎",Gge="Ų",Wge="ų",Yge="𝕌",Zge="𝕦",Kge="⤒",Xge="↑",Jge="↑",Qge="⇑",eve="⇅",tve="↕",nve="↕",rve="⇕",ive="⥮",ave="↿",sve="↾",ove="⊎",lve="↖",cve="↗",uve="υ",dve="ϒ",hve="ϒ",fve="Υ",mve="υ",pve="↥",gve="⊥",vve="⇈",yve="⌝",_ve="⌝",bve="⌎",xve="Ů",wve="ů",Sve="◹",kve="𝒰",Cve="𝓊",Tve="⋰",Ave="Ũ",Eve="ũ",Ive="▵",Pve="▴",Dve="⇈",Mve="Ü",Lve="ü",Rve="⦧",Ove="⦜",Fve="ϵ",zve="ϰ",Bve="∅",Vve="ϕ",Nve="ϖ",$ve="∝",Uve="↕",qve="⇕",jve="ϱ",Hve="ς",Gve="⊊︀",Wve="⫋︀",Yve="⊋︀",Zve="⫌︀",Kve="ϑ",Xve="⊲",Jve="⊳",Qve="⫨",eye="⫫",tye="⫩",nye="В",rye="в",iye="⊢",aye="⊨",sye="⊩",oye="⊫",lye="⫦",cye="⊻",uye="∨",dye="⋁",hye="≚",fye="⋮",mye="|",pye="‖",gye="|",vye="‖",yye="∣",_ye="|",bye="❘",xye="≀",wye=" ",Sye="𝔙",kye="𝔳",Cye="⊲",Tye="⊂⃒",Aye="⊃⃒",Eye="𝕍",Iye="𝕧",Pye="∝",Dye="⊳",Mye="𝒱",Lye="𝓋",Rye="⫋︀",Oye="⊊︀",Fye="⫌︀",zye="⊋︀",Bye="⊪",Vye="⦚",Nye="Ŵ",$ye="ŵ",Uye="⩟",qye="∧",jye="⋀",Hye="≙",Gye="℘",Wye="𝔚",Yye="𝔴",Zye="𝕎",Kye="𝕨",Xye="℘",Jye="≀",Qye="≀",e_e="𝒲",t_e="𝓌",n_e="⋂",r_e="◯",i_e="⋃",a_e="▽",s_e="𝔛",o_e="𝔵",l_e="⟷",c_e="⟺",u_e="Ξ",d_e="ξ",h_e="⟵",f_e="⟸",m_e="⟼",p_e="⋻",g_e="⨀",v_e="𝕏",y_e="𝕩",__e="⨁",b_e="⨂",x_e="⟶",w_e="⟹",S_e="𝒳",k_e="𝓍",C_e="⨆",T_e="⨄",A_e="△",E_e="⋁",I_e="⋀",P_e="Ý",D_e="ý",M_e="Я",L_e="я",R_e="Ŷ",O_e="ŷ",F_e="Ы",z_e="ы",B_e="¥",V_e="𝔜",N_e="𝔶",$_e="Ї",U_e="ї",q_e="𝕐",j_e="𝕪",H_e="𝒴",G_e="𝓎",W_e="Ю",Y_e="ю",Z_e="ÿ",K_e="Ÿ",X_e="Ź",J_e="ź",Q_e="Ž",ebe="ž",tbe="З",nbe="з",rbe="Ż",ibe="ż",abe="ℨ",sbe="​",obe="Ζ",lbe="ζ",cbe="𝔷",ube="ℨ",dbe="Ж",hbe="ж",fbe="⇝",mbe="𝕫",pbe="ℤ",gbe="𝒵",vbe="𝓏",ybe="‍",_be="‌",bbe={Aacute:r5,aacute:i5,Abreve:a5,abreve:s5,ac:o5,acd:l5,acE:c5,Acirc:u5,acirc:d5,acute:h5,Acy:f5,acy:m5,AElig:p5,aelig:g5,af:v5,Afr:y5,afr:_5,Agrave:b5,agrave:x5,alefsym:w5,aleph:S5,Alpha:k5,alpha:C5,Amacr:T5,amacr:A5,amalg:E5,amp:I5,AMP:P5,andand:D5,And:M5,and:L5,andd:R5,andslope:O5,andv:F5,ang:z5,ange:B5,angle:V5,angmsdaa:N5,angmsdab:$5,angmsdac:U5,angmsdad:q5,angmsdae:j5,angmsdaf:H5,angmsdag:G5,angmsdah:W5,angmsd:Y5,angrt:Z5,angrtvb:K5,angrtvbd:X5,angsph:J5,angst:Q5,angzarr:e6,Aogon:t6,aogon:n6,Aopf:r6,aopf:i6,apacir:a6,ap:s6,apE:o6,ape:l6,apid:c6,apos:u6,ApplyFunction:d6,approx:h6,approxeq:f6,Aring:m6,aring:p6,Ascr:g6,ascr:v6,Assign:y6,ast:_6,asymp:b6,asympeq:x6,Atilde:w6,atilde:S6,Auml:k6,auml:C6,awconint:T6,awint:A6,backcong:E6,backepsilon:I6,backprime:P6,backsim:D6,backsimeq:M6,Backslash:L6,Barv:R6,barvee:O6,barwed:F6,Barwed:z6,barwedge:B6,bbrk:V6,bbrktbrk:N6,bcong:$6,Bcy:U6,bcy:q6,bdquo:j6,becaus:H6,because:G6,Because:W6,bemptyv:Y6,bepsi:Z6,bernou:K6,Bernoullis:X6,Beta:J6,beta:Q6,beth:eN,between:tN,Bfr:nN,bfr:rN,bigcap:iN,bigcirc:aN,bigcup:sN,bigodot:oN,bigoplus:lN,bigotimes:cN,bigsqcup:uN,bigstar:dN,bigtriangledown:hN,bigtriangleup:fN,biguplus:mN,bigvee:pN,bigwedge:gN,bkarow:vN,blacklozenge:yN,blacksquare:_N,blacktriangle:bN,blacktriangledown:xN,blacktriangleleft:wN,blacktriangleright:SN,blank:kN,blk12:CN,blk14:TN,blk34:AN,block:EN,bne:IN,bnequiv:PN,bNot:DN,bnot:MN,Bopf:LN,bopf:RN,bot:ON,bottom:FN,bowtie:zN,boxbox:BN,boxdl:VN,boxdL:NN,boxDl:$N,boxDL:UN,boxdr:qN,boxdR:jN,boxDr:HN,boxDR:GN,boxh:WN,boxH:YN,boxhd:ZN,boxHd:KN,boxhD:XN,boxHD:JN,boxhu:QN,boxHu:e8,boxhU:t8,boxHU:n8,boxminus:r8,boxplus:i8,boxtimes:a8,boxul:s8,boxuL:o8,boxUl:l8,boxUL:c8,boxur:u8,boxuR:d8,boxUr:h8,boxUR:f8,boxv:m8,boxV:p8,boxvh:g8,boxvH:v8,boxVh:y8,boxVH:_8,boxvl:b8,boxvL:x8,boxVl:w8,boxVL:S8,boxvr:k8,boxvR:C8,boxVr:T8,boxVR:A8,bprime:E8,breve:I8,Breve:P8,brvbar:D8,bscr:M8,Bscr:L8,bsemi:R8,bsim:O8,bsime:F8,bsolb:z8,bsol:B8,bsolhsub:V8,bull:N8,bullet:$8,bump:U8,bumpE:q8,bumpe:j8,Bumpeq:H8,bumpeq:G8,Cacute:W8,cacute:Y8,capand:Z8,capbrcup:K8,capcap:X8,cap:J8,Cap:Q8,capcup:e$,capdot:t$,CapitalDifferentialD:n$,caps:r$,caret:i$,caron:a$,Cayleys:s$,ccaps:o$,Ccaron:l$,ccaron:c$,Ccedil:u$,ccedil:d$,Ccirc:h$,ccirc:f$,Cconint:m$,ccups:p$,ccupssm:g$,Cdot:v$,cdot:y$,cedil:_$,Cedilla:b$,cemptyv:x$,cent:w$,centerdot:S$,CenterDot:k$,cfr:C$,Cfr:T$,CHcy:A$,chcy:E$,check:I$,checkmark:P$,Chi:D$,chi:M$,circ:L$,circeq:R$,circlearrowleft:O$,circlearrowright:F$,circledast:z$,circledcirc:B$,circleddash:V$,CircleDot:N$,circledR:$$,circledS:U$,CircleMinus:q$,CirclePlus:j$,CircleTimes:H$,cir:G$,cirE:W$,cire:Y$,cirfnint:Z$,cirmid:K$,cirscir:X$,ClockwiseContourIntegral:J$,CloseCurlyDoubleQuote:Q$,CloseCurlyQuote:e9,clubs:t9,clubsuit:n9,colon:r9,Colon:i9,Colone:a9,colone:s9,coloneq:o9,comma:l9,commat:c9,comp:u9,compfn:d9,complement:h9,complexes:f9,cong:m9,congdot:p9,Congruent:g9,conint:v9,Conint:y9,ContourIntegral:_9,copf:b9,Copf:x9,coprod:w9,Coproduct:S9,copy:k9,COPY:C9,copysr:T9,CounterClockwiseContourIntegral:A9,crarr:E9,cross:I9,Cross:P9,Cscr:D9,cscr:M9,csub:L9,csube:R9,csup:O9,csupe:F9,ctdot:z9,cudarrl:B9,cudarrr:V9,cuepr:N9,cuesc:$9,cularr:U9,cularrp:q9,cupbrcap:j9,cupcap:H9,CupCap:G9,cup:W9,Cup:Y9,cupcup:Z9,cupdot:K9,cupor:X9,cups:J9,curarr:Q9,curarrm:eU,curlyeqprec:tU,curlyeqsucc:nU,curlyvee:rU,curlywedge:iU,curren:aU,curvearrowleft:sU,curvearrowright:oU,cuvee:lU,cuwed:cU,cwconint:uU,cwint:dU,cylcty:hU,dagger:fU,Dagger:mU,daleth:pU,darr:gU,Darr:vU,dArr:yU,dash:_U,Dashv:bU,dashv:xU,dbkarow:wU,dblac:SU,Dcaron:kU,dcaron:CU,Dcy:TU,dcy:AU,ddagger:EU,ddarr:IU,DD:PU,dd:DU,DDotrahd:MU,ddotseq:LU,deg:RU,Del:OU,Delta:FU,delta:zU,demptyv:BU,dfisht:VU,Dfr:NU,dfr:$U,dHar:UU,dharl:qU,dharr:jU,DiacriticalAcute:HU,DiacriticalDot:GU,DiacriticalDoubleAcute:WU,DiacriticalGrave:YU,DiacriticalTilde:ZU,diam:KU,diamond:XU,Diamond:JU,diamondsuit:QU,diams:e7,die:t7,DifferentialD:n7,digamma:r7,disin:i7,div:a7,divide:s7,divideontimes:o7,divonx:l7,DJcy:c7,djcy:u7,dlcorn:d7,dlcrop:h7,dollar:f7,Dopf:m7,dopf:p7,Dot:g7,dot:v7,DotDot:y7,doteq:_7,doteqdot:b7,DotEqual:x7,dotminus:w7,dotplus:S7,dotsquare:k7,doublebarwedge:C7,DoubleContourIntegral:T7,DoubleDot:A7,DoubleDownArrow:E7,DoubleLeftArrow:I7,DoubleLeftRightArrow:P7,DoubleLeftTee:D7,DoubleLongLeftArrow:M7,DoubleLongLeftRightArrow:L7,DoubleLongRightArrow:R7,DoubleRightArrow:O7,DoubleRightTee:F7,DoubleUpArrow:z7,DoubleUpDownArrow:B7,DoubleVerticalBar:V7,DownArrowBar:N7,downarrow:$7,DownArrow:U7,Downarrow:q7,DownArrowUpArrow:j7,DownBreve:H7,downdownarrows:G7,downharpoonleft:W7,downharpoonright:Y7,DownLeftRightVector:Z7,DownLeftTeeVector:K7,DownLeftVectorBar:X7,DownLeftVector:J7,DownRightTeeVector:Q7,DownRightVectorBar:eq,DownRightVector:tq,DownTeeArrow:nq,DownTee:rq,drbkarow:iq,drcorn:aq,drcrop:sq,Dscr:oq,dscr:lq,DScy:cq,dscy:uq,dsol:dq,Dstrok:hq,dstrok:fq,dtdot:mq,dtri:pq,dtrif:gq,duarr:vq,duhar:yq,dwangle:_q,DZcy:bq,dzcy:xq,dzigrarr:wq,Eacute:Sq,eacute:kq,easter:Cq,Ecaron:Tq,ecaron:Aq,Ecirc:Eq,ecirc:Iq,ecir:Pq,ecolon:Dq,Ecy:Mq,ecy:Lq,eDDot:Rq,Edot:Oq,edot:Fq,eDot:zq,ee:Bq,efDot:Vq,Efr:Nq,efr:$q,eg:Uq,Egrave:qq,egrave:jq,egs:Hq,egsdot:Gq,el:Wq,Element:Yq,elinters:Zq,ell:Kq,els:Xq,elsdot:Jq,Emacr:Qq,emacr:ej,empty:tj,emptyset:nj,EmptySmallSquare:rj,emptyv:ij,EmptyVerySmallSquare:aj,emsp13:sj,emsp14:oj,emsp:lj,ENG:cj,eng:uj,ensp:dj,Eogon:hj,eogon:fj,Eopf:mj,eopf:pj,epar:gj,eparsl:vj,eplus:yj,epsi:_j,Epsilon:bj,epsilon:xj,epsiv:wj,eqcirc:Sj,eqcolon:kj,eqsim:Cj,eqslantgtr:Tj,eqslantless:Aj,Equal:Ej,equals:Ij,EqualTilde:Pj,equest:Dj,Equilibrium:Mj,equiv:Lj,equivDD:Rj,eqvparsl:Oj,erarr:Fj,erDot:zj,escr:Bj,Escr:Vj,esdot:Nj,Esim:$j,esim:Uj,Eta:qj,eta:jj,ETH:Hj,eth:Gj,Euml:Wj,euml:Yj,euro:Zj,excl:Kj,exist:Xj,Exists:Jj,expectation:Qj,exponentiale:eH,ExponentialE:tH,fallingdotseq:nH,Fcy:rH,fcy:iH,female:aH,ffilig:sH,fflig:oH,ffllig:lH,Ffr:cH,ffr:uH,filig:dH,FilledSmallSquare:hH,FilledVerySmallSquare:fH,fjlig:mH,flat:pH,fllig:gH,fltns:vH,fnof:yH,Fopf:_H,fopf:bH,forall:xH,ForAll:wH,fork:SH,forkv:kH,Fouriertrf:CH,fpartint:TH,frac12:AH,frac13:EH,frac14:IH,frac15:PH,frac16:DH,frac18:MH,frac23:LH,frac25:RH,frac34:OH,frac35:FH,frac38:zH,frac45:BH,frac56:VH,frac58:NH,frac78:$H,frasl:UH,frown:qH,fscr:jH,Fscr:HH,gacute:GH,Gamma:WH,gamma:YH,Gammad:ZH,gammad:KH,gap:XH,Gbreve:JH,gbreve:QH,Gcedil:eG,Gcirc:tG,gcirc:nG,Gcy:rG,gcy:iG,Gdot:aG,gdot:sG,ge:oG,gE:lG,gEl:cG,gel:uG,geq:dG,geqq:hG,geqslant:fG,gescc:mG,ges:pG,gesdot:gG,gesdoto:vG,gesdotol:yG,gesl:_G,gesles:bG,Gfr:xG,gfr:wG,gg:SG,Gg:kG,ggg:CG,gimel:TG,GJcy:AG,gjcy:EG,gla:IG,gl:PG,glE:DG,glj:MG,gnap:LG,gnapprox:RG,gne:OG,gnE:FG,gneq:zG,gneqq:BG,gnsim:VG,Gopf:NG,gopf:$G,grave:UG,GreaterEqual:qG,GreaterEqualLess:jG,GreaterFullEqual:HG,GreaterGreater:GG,GreaterLess:WG,GreaterSlantEqual:YG,GreaterTilde:ZG,Gscr:KG,gscr:XG,gsim:JG,gsime:QG,gsiml:eW,gtcc:tW,gtcir:nW,gt:rW,GT:iW,Gt:aW,gtdot:sW,gtlPar:oW,gtquest:lW,gtrapprox:cW,gtrarr:uW,gtrdot:dW,gtreqless:hW,gtreqqless:fW,gtrless:mW,gtrsim:pW,gvertneqq:gW,gvnE:vW,Hacek:yW,hairsp:_W,half:bW,hamilt:xW,HARDcy:wW,hardcy:SW,harrcir:kW,harr:CW,hArr:TW,harrw:AW,Hat:EW,hbar:IW,Hcirc:PW,hcirc:DW,hearts:MW,heartsuit:LW,hellip:RW,hercon:OW,hfr:FW,Hfr:zW,HilbertSpace:BW,hksearow:VW,hkswarow:NW,hoarr:$W,homtht:UW,hookleftarrow:qW,hookrightarrow:jW,hopf:HW,Hopf:GW,horbar:WW,HorizontalLine:YW,hscr:ZW,Hscr:KW,hslash:XW,Hstrok:JW,hstrok:QW,HumpDownHump:eY,HumpEqual:tY,hybull:nY,hyphen:rY,Iacute:iY,iacute:aY,ic:sY,Icirc:oY,icirc:lY,Icy:cY,icy:uY,Idot:dY,IEcy:hY,iecy:fY,iexcl:mY,iff:pY,ifr:gY,Ifr:vY,Igrave:yY,igrave:_Y,ii:bY,iiiint:xY,iiint:wY,iinfin:SY,iiota:kY,IJlig:CY,ijlig:TY,Imacr:AY,imacr:EY,image:IY,ImaginaryI:PY,imagline:DY,imagpart:MY,imath:LY,Im:RY,imof:OY,imped:FY,Implies:zY,incare:BY,in:"∈",infin:VY,infintie:NY,inodot:$Y,intcal:UY,int:qY,Int:jY,integers:HY,Integral:GY,intercal:WY,Intersection:YY,intlarhk:ZY,intprod:KY,InvisibleComma:XY,InvisibleTimes:JY,IOcy:QY,iocy:eZ,Iogon:tZ,iogon:nZ,Iopf:rZ,iopf:iZ,Iota:aZ,iota:sZ,iprod:oZ,iquest:lZ,iscr:cZ,Iscr:uZ,isin:dZ,isindot:hZ,isinE:fZ,isins:mZ,isinsv:pZ,isinv:gZ,it:vZ,Itilde:yZ,itilde:_Z,Iukcy:bZ,iukcy:xZ,Iuml:wZ,iuml:SZ,Jcirc:kZ,jcirc:CZ,Jcy:TZ,jcy:AZ,Jfr:EZ,jfr:IZ,jmath:PZ,Jopf:DZ,jopf:MZ,Jscr:LZ,jscr:RZ,Jsercy:OZ,jsercy:FZ,Jukcy:zZ,jukcy:BZ,Kappa:VZ,kappa:NZ,kappav:$Z,Kcedil:UZ,kcedil:qZ,Kcy:jZ,kcy:HZ,Kfr:GZ,kfr:WZ,kgreen:YZ,KHcy:ZZ,khcy:KZ,KJcy:XZ,kjcy:JZ,Kopf:QZ,kopf:eK,Kscr:tK,kscr:nK,lAarr:rK,Lacute:iK,lacute:aK,laemptyv:sK,lagran:oK,Lambda:lK,lambda:cK,lang:uK,Lang:dK,langd:hK,langle:fK,lap:mK,Laplacetrf:pK,laquo:gK,larrb:vK,larrbfs:yK,larr:_K,Larr:bK,lArr:xK,larrfs:wK,larrhk:SK,larrlp:kK,larrpl:CK,larrsim:TK,larrtl:AK,latail:EK,lAtail:IK,lat:PK,late:DK,lates:MK,lbarr:LK,lBarr:RK,lbbrk:OK,lbrace:FK,lbrack:zK,lbrke:BK,lbrksld:VK,lbrkslu:NK,Lcaron:$K,lcaron:UK,Lcedil:qK,lcedil:jK,lceil:HK,lcub:GK,Lcy:WK,lcy:YK,ldca:ZK,ldquo:KK,ldquor:XK,ldrdhar:JK,ldrushar:QK,ldsh:eX,le:tX,lE:nX,LeftAngleBracket:rX,LeftArrowBar:iX,leftarrow:aX,LeftArrow:sX,Leftarrow:oX,LeftArrowRightArrow:lX,leftarrowtail:cX,LeftCeiling:uX,LeftDoubleBracket:dX,LeftDownTeeVector:hX,LeftDownVectorBar:fX,LeftDownVector:mX,LeftFloor:pX,leftharpoondown:gX,leftharpoonup:vX,leftleftarrows:yX,leftrightarrow:_X,LeftRightArrow:bX,Leftrightarrow:xX,leftrightarrows:wX,leftrightharpoons:SX,leftrightsquigarrow:kX,LeftRightVector:CX,LeftTeeArrow:TX,LeftTee:AX,LeftTeeVector:EX,leftthreetimes:IX,LeftTriangleBar:PX,LeftTriangle:DX,LeftTriangleEqual:MX,LeftUpDownVector:LX,LeftUpTeeVector:RX,LeftUpVectorBar:OX,LeftUpVector:FX,LeftVectorBar:zX,LeftVector:BX,lEg:VX,leg:NX,leq:$X,leqq:UX,leqslant:qX,lescc:jX,les:HX,lesdot:GX,lesdoto:WX,lesdotor:YX,lesg:ZX,lesges:KX,lessapprox:XX,lessdot:JX,lesseqgtr:QX,lesseqqgtr:eJ,LessEqualGreater:tJ,LessFullEqual:nJ,LessGreater:rJ,lessgtr:iJ,LessLess:aJ,lesssim:sJ,LessSlantEqual:oJ,LessTilde:lJ,lfisht:cJ,lfloor:uJ,Lfr:dJ,lfr:hJ,lg:fJ,lgE:mJ,lHar:pJ,lhard:gJ,lharu:vJ,lharul:yJ,lhblk:_J,LJcy:bJ,ljcy:xJ,llarr:wJ,ll:SJ,Ll:kJ,llcorner:CJ,Lleftarrow:TJ,llhard:AJ,lltri:EJ,Lmidot:IJ,lmidot:PJ,lmoustache:DJ,lmoust:MJ,lnap:LJ,lnapprox:RJ,lne:OJ,lnE:FJ,lneq:zJ,lneqq:BJ,lnsim:VJ,loang:NJ,loarr:$J,lobrk:UJ,longleftarrow:qJ,LongLeftArrow:jJ,Longleftarrow:HJ,longleftrightarrow:GJ,LongLeftRightArrow:WJ,Longleftrightarrow:YJ,longmapsto:ZJ,longrightarrow:KJ,LongRightArrow:XJ,Longrightarrow:JJ,looparrowleft:QJ,looparrowright:eQ,lopar:tQ,Lopf:nQ,lopf:rQ,loplus:iQ,lotimes:aQ,lowast:sQ,lowbar:oQ,LowerLeftArrow:lQ,LowerRightArrow:cQ,loz:uQ,lozenge:dQ,lozf:hQ,lpar:fQ,lparlt:mQ,lrarr:pQ,lrcorner:gQ,lrhar:vQ,lrhard:yQ,lrm:_Q,lrtri:bQ,lsaquo:xQ,lscr:wQ,Lscr:SQ,lsh:kQ,Lsh:CQ,lsim:TQ,lsime:AQ,lsimg:EQ,lsqb:IQ,lsquo:PQ,lsquor:DQ,Lstrok:MQ,lstrok:LQ,ltcc:RQ,ltcir:OQ,lt:FQ,LT:zQ,Lt:BQ,ltdot:VQ,lthree:NQ,ltimes:$Q,ltlarr:UQ,ltquest:qQ,ltri:jQ,ltrie:HQ,ltrif:GQ,ltrPar:WQ,lurdshar:YQ,luruhar:ZQ,lvertneqq:KQ,lvnE:XQ,macr:JQ,male:QQ,malt:eee,maltese:tee,Map:"⤅",map:nee,mapsto:ree,mapstodown:iee,mapstoleft:aee,mapstoup:see,marker:oee,mcomma:lee,Mcy:cee,mcy:uee,mdash:dee,mDDot:hee,measuredangle:fee,MediumSpace:mee,Mellintrf:pee,Mfr:gee,mfr:vee,mho:yee,micro:_ee,midast:bee,midcir:xee,mid:wee,middot:See,minusb:kee,minus:Cee,minusd:Tee,minusdu:Aee,MinusPlus:Eee,mlcp:Iee,mldr:Pee,mnplus:Dee,models:Mee,Mopf:Lee,mopf:Ree,mp:Oee,mscr:Fee,Mscr:zee,mstpos:Bee,Mu:Vee,mu:Nee,multimap:$ee,mumap:Uee,nabla:qee,Nacute:jee,nacute:Hee,nang:Gee,nap:Wee,napE:Yee,napid:Zee,napos:Kee,napprox:Xee,natural:Jee,naturals:Qee,natur:ete,nbsp:tte,nbump:nte,nbumpe:rte,ncap:ite,Ncaron:ate,ncaron:ste,Ncedil:ote,ncedil:lte,ncong:cte,ncongdot:ute,ncup:dte,Ncy:hte,ncy:fte,ndash:mte,nearhk:pte,nearr:gte,neArr:vte,nearrow:yte,ne:_te,nedot:bte,NegativeMediumSpace:xte,NegativeThickSpace:wte,NegativeThinSpace:Ste,NegativeVeryThinSpace:kte,nequiv:Cte,nesear:Tte,nesim:Ate,NestedGreaterGreater:Ete,NestedLessLess:Ite,NewLine:Pte,nexist:Dte,nexists:Mte,Nfr:Lte,nfr:Rte,ngE:Ote,nge:Fte,ngeq:zte,ngeqq:Bte,ngeqslant:Vte,nges:Nte,nGg:$te,ngsim:Ute,nGt:qte,ngt:jte,ngtr:Hte,nGtv:Gte,nharr:Wte,nhArr:Yte,nhpar:Zte,ni:Kte,nis:Xte,nisd:Jte,niv:Qte,NJcy:ene,njcy:tne,nlarr:nne,nlArr:rne,nldr:ine,nlE:ane,nle:sne,nleftarrow:one,nLeftarrow:lne,nleftrightarrow:cne,nLeftrightarrow:une,nleq:dne,nleqq:hne,nleqslant:fne,nles:mne,nless:pne,nLl:gne,nlsim:vne,nLt:yne,nlt:_ne,nltri:bne,nltrie:xne,nLtv:wne,nmid:Sne,NoBreak:kne,NonBreakingSpace:Cne,nopf:Tne,Nopf:Ane,Not:Ene,not:Ine,NotCongruent:Pne,NotCupCap:Dne,NotDoubleVerticalBar:Mne,NotElement:Lne,NotEqual:Rne,NotEqualTilde:One,NotExists:Fne,NotGreater:zne,NotGreaterEqual:Bne,NotGreaterFullEqual:Vne,NotGreaterGreater:Nne,NotGreaterLess:$ne,NotGreaterSlantEqual:Une,NotGreaterTilde:qne,NotHumpDownHump:jne,NotHumpEqual:Hne,notin:Gne,notindot:Wne,notinE:Yne,notinva:Zne,notinvb:Kne,notinvc:Xne,NotLeftTriangleBar:Jne,NotLeftTriangle:Qne,NotLeftTriangleEqual:ere,NotLess:tre,NotLessEqual:nre,NotLessGreater:rre,NotLessLess:ire,NotLessSlantEqual:are,NotLessTilde:sre,NotNestedGreaterGreater:ore,NotNestedLessLess:lre,notni:cre,notniva:ure,notnivb:dre,notnivc:hre,NotPrecedes:fre,NotPrecedesEqual:mre,NotPrecedesSlantEqual:pre,NotReverseElement:gre,NotRightTriangleBar:vre,NotRightTriangle:yre,NotRightTriangleEqual:_re,NotSquareSubset:bre,NotSquareSubsetEqual:xre,NotSquareSuperset:wre,NotSquareSupersetEqual:Sre,NotSubset:kre,NotSubsetEqual:Cre,NotSucceeds:Tre,NotSucceedsEqual:Are,NotSucceedsSlantEqual:Ere,NotSucceedsTilde:Ire,NotSuperset:Pre,NotSupersetEqual:Dre,NotTilde:Mre,NotTildeEqual:Lre,NotTildeFullEqual:Rre,NotTildeTilde:Ore,NotVerticalBar:Fre,nparallel:zre,npar:Bre,nparsl:Vre,npart:Nre,npolint:$re,npr:Ure,nprcue:qre,nprec:jre,npreceq:Hre,npre:Gre,nrarrc:Wre,nrarr:Yre,nrArr:Zre,nrarrw:Kre,nrightarrow:Xre,nRightarrow:Jre,nrtri:Qre,nrtrie:eie,nsc:tie,nsccue:nie,nsce:rie,Nscr:iie,nscr:aie,nshortmid:sie,nshortparallel:oie,nsim:lie,nsime:cie,nsimeq:uie,nsmid:die,nspar:hie,nsqsube:fie,nsqsupe:mie,nsub:pie,nsubE:gie,nsube:vie,nsubset:yie,nsubseteq:_ie,nsubseteqq:bie,nsucc:xie,nsucceq:wie,nsup:Sie,nsupE:kie,nsupe:Cie,nsupset:Tie,nsupseteq:Aie,nsupseteqq:Eie,ntgl:Iie,Ntilde:Pie,ntilde:Die,ntlg:Mie,ntriangleleft:Lie,ntrianglelefteq:Rie,ntriangleright:Oie,ntrianglerighteq:Fie,Nu:zie,nu:Bie,num:Vie,numero:Nie,numsp:$ie,nvap:Uie,nvdash:qie,nvDash:jie,nVdash:Hie,nVDash:Gie,nvge:Wie,nvgt:Yie,nvHarr:Zie,nvinfin:Kie,nvlArr:Xie,nvle:Jie,nvlt:Qie,nvltrie:eae,nvrArr:tae,nvrtrie:nae,nvsim:rae,nwarhk:iae,nwarr:aae,nwArr:sae,nwarrow:oae,nwnear:lae,Oacute:cae,oacute:uae,oast:dae,Ocirc:hae,ocirc:fae,ocir:mae,Ocy:pae,ocy:gae,odash:vae,Odblac:yae,odblac:_ae,odiv:bae,odot:xae,odsold:wae,OElig:Sae,oelig:kae,ofcir:Cae,Ofr:Tae,ofr:Aae,ogon:Eae,Ograve:Iae,ograve:Pae,ogt:Dae,ohbar:Mae,ohm:Lae,oint:Rae,olarr:Oae,olcir:Fae,olcross:zae,oline:Bae,olt:Vae,Omacr:Nae,omacr:$ae,Omega:Uae,omega:qae,Omicron:jae,omicron:Hae,omid:Gae,ominus:Wae,Oopf:Yae,oopf:Zae,opar:Kae,OpenCurlyDoubleQuote:Xae,OpenCurlyQuote:Jae,operp:Qae,oplus:ese,orarr:tse,Or:nse,or:rse,ord:ise,order:ase,orderof:sse,ordf:ose,ordm:lse,origof:cse,oror:use,orslope:dse,orv:hse,oS:fse,Oscr:mse,oscr:pse,Oslash:gse,oslash:vse,osol:yse,Otilde:_se,otilde:bse,otimesas:xse,Otimes:wse,otimes:Sse,Ouml:kse,ouml:Cse,ovbar:Tse,OverBar:Ase,OverBrace:Ese,OverBracket:Ise,OverParenthesis:Pse,para:Dse,parallel:Mse,par:Lse,parsim:Rse,parsl:Ose,part:Fse,PartialD:zse,Pcy:Bse,pcy:Vse,percnt:Nse,period:$se,permil:Use,perp:qse,pertenk:jse,Pfr:Hse,pfr:Gse,Phi:Wse,phi:Yse,phiv:Zse,phmmat:Kse,phone:Xse,Pi:Jse,pi:Qse,pitchfork:eoe,piv:toe,planck:noe,planckh:roe,plankv:ioe,plusacir:aoe,plusb:soe,pluscir:ooe,plus:loe,plusdo:coe,plusdu:uoe,pluse:doe,PlusMinus:hoe,plusmn:foe,plussim:moe,plustwo:poe,pm:goe,Poincareplane:voe,pointint:yoe,popf:_oe,Popf:boe,pound:xoe,prap:woe,Pr:Soe,pr:koe,prcue:Coe,precapprox:Toe,prec:Aoe,preccurlyeq:Eoe,Precedes:Ioe,PrecedesEqual:Poe,PrecedesSlantEqual:Doe,PrecedesTilde:Moe,preceq:Loe,precnapprox:Roe,precneqq:Ooe,precnsim:Foe,pre:zoe,prE:Boe,precsim:Voe,prime:Noe,Prime:$oe,primes:Uoe,prnap:qoe,prnE:joe,prnsim:Hoe,prod:Goe,Product:Woe,profalar:Yoe,profline:Zoe,profsurf:Koe,prop:Xoe,Proportional:Joe,Proportion:Qoe,propto:ele,prsim:tle,prurel:nle,Pscr:rle,pscr:ile,Psi:ale,psi:sle,puncsp:ole,Qfr:lle,qfr:cle,qint:ule,qopf:dle,Qopf:hle,qprime:fle,Qscr:mle,qscr:ple,quaternions:gle,quatint:vle,quest:yle,questeq:_le,quot:ble,QUOT:xle,rAarr:wle,race:Sle,Racute:kle,racute:Cle,radic:Tle,raemptyv:Ale,rang:Ele,Rang:Ile,rangd:Ple,range:Dle,rangle:Mle,raquo:Lle,rarrap:Rle,rarrb:Ole,rarrbfs:Fle,rarrc:zle,rarr:Ble,Rarr:Vle,rArr:Nle,rarrfs:$le,rarrhk:Ule,rarrlp:qle,rarrpl:jle,rarrsim:Hle,Rarrtl:Gle,rarrtl:Wle,rarrw:Yle,ratail:Zle,rAtail:Kle,ratio:Xle,rationals:Jle,rbarr:Qle,rBarr:ece,RBarr:tce,rbbrk:nce,rbrace:rce,rbrack:ice,rbrke:ace,rbrksld:sce,rbrkslu:oce,Rcaron:lce,rcaron:cce,Rcedil:uce,rcedil:dce,rceil:hce,rcub:fce,Rcy:mce,rcy:pce,rdca:gce,rdldhar:vce,rdquo:yce,rdquor:_ce,rdsh:bce,real:xce,realine:wce,realpart:Sce,reals:kce,Re:Cce,rect:Tce,reg:Ace,REG:Ece,ReverseElement:Ice,ReverseEquilibrium:Pce,ReverseUpEquilibrium:Dce,rfisht:Mce,rfloor:Lce,rfr:Rce,Rfr:Oce,rHar:Fce,rhard:zce,rharu:Bce,rharul:Vce,Rho:Nce,rho:$ce,rhov:Uce,RightAngleBracket:qce,RightArrowBar:jce,rightarrow:Hce,RightArrow:Gce,Rightarrow:Wce,RightArrowLeftArrow:Yce,rightarrowtail:Zce,RightCeiling:Kce,RightDoubleBracket:Xce,RightDownTeeVector:Jce,RightDownVectorBar:Qce,RightDownVector:eue,RightFloor:tue,rightharpoondown:nue,rightharpoonup:rue,rightleftarrows:iue,rightleftharpoons:aue,rightrightarrows:sue,rightsquigarrow:oue,RightTeeArrow:lue,RightTee:cue,RightTeeVector:uue,rightthreetimes:due,RightTriangleBar:hue,RightTriangle:fue,RightTriangleEqual:mue,RightUpDownVector:pue,RightUpTeeVector:gue,RightUpVectorBar:vue,RightUpVector:yue,RightVectorBar:_ue,RightVector:bue,ring:xue,risingdotseq:wue,rlarr:Sue,rlhar:kue,rlm:Cue,rmoustache:Tue,rmoust:Aue,rnmid:Eue,roang:Iue,roarr:Pue,robrk:Due,ropar:Mue,ropf:Lue,Ropf:Rue,roplus:Oue,rotimes:Fue,RoundImplies:zue,rpar:Bue,rpargt:Vue,rppolint:Nue,rrarr:$ue,Rrightarrow:Uue,rsaquo:que,rscr:jue,Rscr:Hue,rsh:Gue,Rsh:Wue,rsqb:Yue,rsquo:Zue,rsquor:Kue,rthree:Xue,rtimes:Jue,rtri:Que,rtrie:ede,rtrif:tde,rtriltri:nde,RuleDelayed:rde,ruluhar:ide,rx:ade,Sacute:sde,sacute:ode,sbquo:lde,scap:cde,Scaron:ude,scaron:dde,Sc:hde,sc:fde,sccue:mde,sce:pde,scE:gde,Scedil:vde,scedil:yde,Scirc:_de,scirc:bde,scnap:xde,scnE:wde,scnsim:Sde,scpolint:kde,scsim:Cde,Scy:Tde,scy:Ade,sdotb:Ede,sdot:Ide,sdote:Pde,searhk:Dde,searr:Mde,seArr:Lde,searrow:Rde,sect:Ode,semi:Fde,seswar:zde,setminus:Bde,setmn:Vde,sext:Nde,Sfr:$de,sfr:Ude,sfrown:qde,sharp:jde,SHCHcy:Hde,shchcy:Gde,SHcy:Wde,shcy:Yde,ShortDownArrow:Zde,ShortLeftArrow:Kde,shortmid:Xde,shortparallel:Jde,ShortRightArrow:Qde,ShortUpArrow:ehe,shy:the,Sigma:nhe,sigma:rhe,sigmaf:ihe,sigmav:ahe,sim:she,simdot:ohe,sime:lhe,simeq:che,simg:uhe,simgE:dhe,siml:hhe,simlE:fhe,simne:mhe,simplus:phe,simrarr:ghe,slarr:vhe,SmallCircle:yhe,smallsetminus:_he,smashp:bhe,smeparsl:xhe,smid:whe,smile:She,smt:khe,smte:Che,smtes:The,SOFTcy:Ahe,softcy:Ehe,solbar:Ihe,solb:Phe,sol:Dhe,Sopf:Mhe,sopf:Lhe,spades:Rhe,spadesuit:Ohe,spar:Fhe,sqcap:zhe,sqcaps:Bhe,sqcup:Vhe,sqcups:Nhe,Sqrt:$he,sqsub:Uhe,sqsube:qhe,sqsubset:jhe,sqsubseteq:Hhe,sqsup:Ghe,sqsupe:Whe,sqsupset:Yhe,sqsupseteq:Zhe,square:Khe,Square:Xhe,SquareIntersection:Jhe,SquareSubset:Qhe,SquareSubsetEqual:efe,SquareSuperset:tfe,SquareSupersetEqual:nfe,SquareUnion:rfe,squarf:ife,squ:afe,squf:sfe,srarr:ofe,Sscr:lfe,sscr:cfe,ssetmn:ufe,ssmile:dfe,sstarf:hfe,Star:ffe,star:mfe,starf:pfe,straightepsilon:gfe,straightphi:vfe,strns:yfe,sub:_fe,Sub:bfe,subdot:xfe,subE:wfe,sube:Sfe,subedot:kfe,submult:Cfe,subnE:Tfe,subne:Afe,subplus:Efe,subrarr:Ife,subset:Pfe,Subset:Dfe,subseteq:Mfe,subseteqq:Lfe,SubsetEqual:Rfe,subsetneq:Ofe,subsetneqq:Ffe,subsim:zfe,subsub:Bfe,subsup:Vfe,succapprox:Nfe,succ:$fe,succcurlyeq:Ufe,Succeeds:qfe,SucceedsEqual:jfe,SucceedsSlantEqual:Hfe,SucceedsTilde:Gfe,succeq:Wfe,succnapprox:Yfe,succneqq:Zfe,succnsim:Kfe,succsim:Xfe,SuchThat:Jfe,sum:Qfe,Sum:eme,sung:tme,sup1:nme,sup2:rme,sup3:ime,sup:ame,Sup:sme,supdot:ome,supdsub:lme,supE:cme,supe:ume,supedot:dme,Superset:hme,SupersetEqual:fme,suphsol:mme,suphsub:pme,suplarr:gme,supmult:vme,supnE:yme,supne:_me,supplus:bme,supset:xme,Supset:wme,supseteq:Sme,supseteqq:kme,supsetneq:Cme,supsetneqq:Tme,supsim:Ame,supsub:Eme,supsup:Ime,swarhk:Pme,swarr:Dme,swArr:Mme,swarrow:Lme,swnwar:Rme,szlig:Ome,Tab:Fme,target:zme,Tau:Bme,tau:Vme,tbrk:Nme,Tcaron:$me,tcaron:Ume,Tcedil:qme,tcedil:jme,Tcy:Hme,tcy:Gme,tdot:Wme,telrec:Yme,Tfr:Zme,tfr:Kme,there4:Xme,therefore:Jme,Therefore:Qme,Theta:epe,theta:tpe,thetasym:npe,thetav:rpe,thickapprox:ipe,thicksim:ape,ThickSpace:spe,ThinSpace:ope,thinsp:lpe,thkap:cpe,thksim:upe,THORN:dpe,thorn:hpe,tilde:fpe,Tilde:mpe,TildeEqual:ppe,TildeFullEqual:gpe,TildeTilde:vpe,timesbar:ype,timesb:_pe,times:bpe,timesd:xpe,tint:wpe,toea:Spe,topbot:kpe,topcir:Cpe,top:Tpe,Topf:Ape,topf:Epe,topfork:Ipe,tosa:Ppe,tprime:Dpe,trade:Mpe,TRADE:Lpe,triangle:Rpe,triangledown:Ope,triangleleft:Fpe,trianglelefteq:zpe,triangleq:Bpe,triangleright:Vpe,trianglerighteq:Npe,tridot:$pe,trie:Upe,triminus:qpe,TripleDot:jpe,triplus:Hpe,trisb:Gpe,tritime:Wpe,trpezium:Ype,Tscr:Zpe,tscr:Kpe,TScy:Xpe,tscy:Jpe,TSHcy:Qpe,tshcy:ege,Tstrok:tge,tstrok:nge,twixt:rge,twoheadleftarrow:ige,twoheadrightarrow:age,Uacute:sge,uacute:oge,uarr:lge,Uarr:cge,uArr:uge,Uarrocir:dge,Ubrcy:hge,ubrcy:fge,Ubreve:mge,ubreve:pge,Ucirc:gge,ucirc:vge,Ucy:yge,ucy:_ge,udarr:bge,Udblac:xge,udblac:wge,udhar:Sge,ufisht:kge,Ufr:Cge,ufr:Tge,Ugrave:Age,ugrave:Ege,uHar:Ige,uharl:Pge,uharr:Dge,uhblk:Mge,ulcorn:Lge,ulcorner:Rge,ulcrop:Oge,ultri:Fge,Umacr:zge,umacr:Bge,uml:Vge,UnderBar:Nge,UnderBrace:$ge,UnderBracket:Uge,UnderParenthesis:qge,Union:jge,UnionPlus:Hge,Uogon:Gge,uogon:Wge,Uopf:Yge,uopf:Zge,UpArrowBar:Kge,uparrow:Xge,UpArrow:Jge,Uparrow:Qge,UpArrowDownArrow:eve,updownarrow:tve,UpDownArrow:nve,Updownarrow:rve,UpEquilibrium:ive,upharpoonleft:ave,upharpoonright:sve,uplus:ove,UpperLeftArrow:lve,UpperRightArrow:cve,upsi:uve,Upsi:dve,upsih:hve,Upsilon:fve,upsilon:mve,UpTeeArrow:pve,UpTee:gve,upuparrows:vve,urcorn:yve,urcorner:_ve,urcrop:bve,Uring:xve,uring:wve,urtri:Sve,Uscr:kve,uscr:Cve,utdot:Tve,Utilde:Ave,utilde:Eve,utri:Ive,utrif:Pve,uuarr:Dve,Uuml:Mve,uuml:Lve,uwangle:Rve,vangrt:Ove,varepsilon:Fve,varkappa:zve,varnothing:Bve,varphi:Vve,varpi:Nve,varpropto:$ve,varr:Uve,vArr:qve,varrho:jve,varsigma:Hve,varsubsetneq:Gve,varsubsetneqq:Wve,varsupsetneq:Yve,varsupsetneqq:Zve,vartheta:Kve,vartriangleleft:Xve,vartriangleright:Jve,vBar:Qve,Vbar:eye,vBarv:tye,Vcy:nye,vcy:rye,vdash:iye,vDash:aye,Vdash:sye,VDash:oye,Vdashl:lye,veebar:cye,vee:uye,Vee:dye,veeeq:hye,vellip:fye,verbar:mye,Verbar:pye,vert:gye,Vert:vye,VerticalBar:yye,VerticalLine:_ye,VerticalSeparator:bye,VerticalTilde:xye,VeryThinSpace:wye,Vfr:Sye,vfr:kye,vltri:Cye,vnsub:Tye,vnsup:Aye,Vopf:Eye,vopf:Iye,vprop:Pye,vrtri:Dye,Vscr:Mye,vscr:Lye,vsubnE:Rye,vsubne:Oye,vsupnE:Fye,vsupne:zye,Vvdash:Bye,vzigzag:Vye,Wcirc:Nye,wcirc:$ye,wedbar:Uye,wedge:qye,Wedge:jye,wedgeq:Hye,weierp:Gye,Wfr:Wye,wfr:Yye,Wopf:Zye,wopf:Kye,wp:Xye,wr:Jye,wreath:Qye,Wscr:e_e,wscr:t_e,xcap:n_e,xcirc:r_e,xcup:i_e,xdtri:a_e,Xfr:s_e,xfr:o_e,xharr:l_e,xhArr:c_e,Xi:u_e,xi:d_e,xlarr:h_e,xlArr:f_e,xmap:m_e,xnis:p_e,xodot:g_e,Xopf:v_e,xopf:y_e,xoplus:__e,xotime:b_e,xrarr:x_e,xrArr:w_e,Xscr:S_e,xscr:k_e,xsqcup:C_e,xuplus:T_e,xutri:A_e,xvee:E_e,xwedge:I_e,Yacute:P_e,yacute:D_e,YAcy:M_e,yacy:L_e,Ycirc:R_e,ycirc:O_e,Ycy:F_e,ycy:z_e,yen:B_e,Yfr:V_e,yfr:N_e,YIcy:$_e,yicy:U_e,Yopf:q_e,yopf:j_e,Yscr:H_e,yscr:G_e,YUcy:W_e,yucy:Y_e,yuml:Z_e,Yuml:K_e,Zacute:X_e,zacute:J_e,Zcaron:Q_e,zcaron:ebe,Zcy:tbe,zcy:nbe,Zdot:rbe,zdot:ibe,zeetrf:abe,ZeroWidthSpace:sbe,Zeta:obe,zeta:lbe,zfr:cbe,Zfr:ube,ZHcy:dbe,zhcy:hbe,zigrarr:fbe,zopf:mbe,Zopf:pbe,Zscr:gbe,zscr:vbe,zwj:ybe,zwnj:_be};var gI=bbe,Ix=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Hd={},aC={};function xbe(e){var t,n,r=aC[e];if(r)return r;for(r=aC[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function xv(e,t,n){var r,s,u,h,o,p="";for(typeof t!="string"&&(n=t,t=xv.defaultChars),typeof n>"u"&&(n=!0),o=xbe(t),r=0,s=e.length;r<s;r++){if(u=e.charCodeAt(r),n&&u===37&&r+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){p+=e.slice(r,r+3),r+=2;continue}if(u<128){p+=o[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&r+1<s&&(h=e.charCodeAt(r+1),h>=56320&&h<=57343)){p+=encodeURIComponent(e[r]+e[r+1]),r++;continue}p+="%EF%BF%BD";continue}p+=encodeURIComponent(e[r])}return p}xv.defaultChars=";/?:@&=+$,-_.!~*'()#";xv.componentChars="-_.!~*'()";var wbe=xv,sC={};function Sbe(e){var t,n,r=sC[e];if(r)return r;for(r=sC[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function wv(e,t){var n;return typeof t!="string"&&(t=wv.defaultChars),n=Sbe(t),e.replace(/(%[a-f0-9]{2})+/gi,function(r){var s,u,h,o,p,y,w,k="";for(s=0,u=r.length;s<u;s+=3){if(h=parseInt(r.slice(s+1,s+3),16),h<128){k+=n[h];continue}if((h&224)===192&&s+3<u&&(o=parseInt(r.slice(s+4,s+6),16),(o&192)===128)){w=h<<6&1984|o&63,w<128?k+="��":k+=String.fromCharCode(w),s+=3;continue}if((h&240)===224&&s+6<u&&(o=parseInt(r.slice(s+4,s+6),16),p=parseInt(r.slice(s+7,s+9),16),(o&192)===128&&(p&192)===128)){w=h<<12&61440|o<<6&4032|p&63,w<2048||w>=55296&&w<=57343?k+="���":k+=String.fromCharCode(w),s+=6;continue}if((h&248)===240&&s+9<u&&(o=parseInt(r.slice(s+4,s+6),16),p=parseInt(r.slice(s+7,s+9),16),y=parseInt(r.slice(s+10,s+12),16),(o&192)===128&&(p&192)===128&&(y&192)===128)){w=h<<18&1835008|o<<12&258048|p<<6&4032|y&63,w<65536||w>1114111?k+="����":(w-=65536,k+=String.fromCharCode(55296+(w>>10),56320+(w&1023))),s+=9;continue}k+="�"}return k})}wv.defaultChars=";/?:@&=+$,#";wv.componentChars="";var kbe=wv,Cbe=function(t){var n="";return n+=t.protocol||"",n+=t.slashes?"//":"",n+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?n+="["+t.hostname+"]":n+=t.hostname||"",n+=t.port?":"+t.port:"",n+=t.pathname||"",n+=t.search||"",n+=t.hash||"",n};function $g(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Tbe=/^([a-z0-9.+-]+:)/i,Abe=/:[0-9]*$/,Ebe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ibe=["<",">",'"',"`"," ","\r",`
`,"	"],Pbe=["{","}","|","\\","^","`"].concat(Ibe),Dbe=["'"].concat(Pbe),oC=["%","/","?",";","#"].concat(Dbe),lC=["/","?","#"],Mbe=255,cC=/^[+a-z0-9A-Z_-]{0,63}$/,Lbe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,uC={javascript:!0,"javascript:":!0},dC={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Rbe(e,t){if(e&&e instanceof $g)return e;var n=new $g;return n.parse(e,t),n}$g.prototype.parse=function(e,t){var n,r,s,u,h,o=e;if(o=o.trim(),!t&&e.split("#").length===1){var p=Ebe.exec(o);if(p)return this.pathname=p[1],p[2]&&(this.search=p[2]),this}var y=Tbe.exec(o);if(y&&(y=y[0],s=y.toLowerCase(),this.protocol=y,o=o.substr(y.length)),(t||y||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(h=o.substr(0,2)==="//",h&&!(y&&uC[y])&&(o=o.substr(2),this.slashes=!0)),!uC[y]&&(h||y&&!dC[y])){var w=-1;for(n=0;n<lC.length;n++)u=o.indexOf(lC[n]),u!==-1&&(w===-1||u<w)&&(w=u);var k,C;for(w===-1?C=o.lastIndexOf("@"):C=o.lastIndexOf("@",w),C!==-1&&(k=o.slice(0,C),o=o.slice(C+1),this.auth=k),w=-1,n=0;n<oC.length;n++)u=o.indexOf(oC[n]),u!==-1&&(w===-1||u<w)&&(w=u);w===-1&&(w=o.length),o[w-1]===":"&&w--;var I=o.slice(0,w);o=o.slice(w),this.parseHost(I),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R){var M=this.hostname.split(/\./);for(n=0,r=M.length;n<r;n++){var F=M[n];if(F&&!F.match(cC)){for(var N="",q=0,Z=F.length;q<Z;q++)F.charCodeAt(q)>127?N+="x":N+=F[q];if(!N.match(cC)){var se=M.slice(0,n),ie=M.slice(n+1),J=F.match(Lbe);J&&(se.push(J[1]),ie.unshift(J[2])),ie.length&&(o=ie.join(".")+o),this.hostname=se.join(".");break}}}}this.hostname.length>Mbe&&(this.hostname=""),R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var te=o.indexOf("#");te!==-1&&(this.hash=o.substr(te),o=o.slice(0,te));var G=o.indexOf("?");return G!==-1&&(this.search=o.substr(G),o=o.slice(0,G)),o&&(this.pathname=o),dC[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this};$g.prototype.parseHost=function(e){var t=Abe.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Obe=Rbe;Hd.encode=wbe;Hd.decode=kbe;Hd.format=Cbe;Hd.parse=Obe;var jc={},A_,hC;function vI(){return hC||(hC=1,A_=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),A_}var E_,fC;function yI(){return fC||(fC=1,E_=/[\0-\x1F\x7F-\x9F]/),E_}var I_,mC;function Fbe(){return mC||(mC=1,I_=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),I_}var P_,pC;function _I(){return pC||(pC=1,P_=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),P_}var gC;function zbe(){return gC||(gC=1,jc.Any=vI(),jc.Cc=yI(),jc.Cf=Fbe(),jc.P=Ix,jc.Z=_I()),jc}(function(e){function t(fe){return Object.prototype.toString.call(fe)}function n(fe){return t(fe)==="[object String]"}var r=Object.prototype.hasOwnProperty;function s(fe,Ie){return r.call(fe,Ie)}function u(fe){var Ie=Array.prototype.slice.call(arguments,1);return Ie.forEach(function(Te){if(Te){if(typeof Te!="object")throw new TypeError(Te+"must be object");Object.keys(Te).forEach(function(qe){fe[qe]=Te[qe]})}}),fe}function h(fe,Ie,Te){return[].concat(fe.slice(0,Ie),Te,fe.slice(Ie+1))}function o(fe){return!(fe>=55296&&fe<=57343||fe>=64976&&fe<=65007||(fe&65535)===65535||(fe&65535)===65534||fe>=0&&fe<=8||fe===11||fe>=14&&fe<=31||fe>=127&&fe<=159||fe>1114111)}function p(fe){if(fe>65535){fe-=65536;var Ie=55296+(fe>>10),Te=56320+(fe&1023);return String.fromCharCode(Ie,Te)}return String.fromCharCode(fe)}var y=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,w=/&([a-z#][a-z0-9]{1,31});/gi,k=new RegExp(y.source+"|"+w.source,"gi"),C=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,I=gI;function R(fe,Ie){var Te;return s(I,Ie)?I[Ie]:Ie.charCodeAt(0)===35&&C.test(Ie)&&(Te=Ie[1].toLowerCase()==="x"?parseInt(Ie.slice(2),16):parseInt(Ie.slice(1),10),o(Te))?p(Te):fe}function M(fe){return fe.indexOf("\\")<0?fe:fe.replace(y,"$1")}function F(fe){return fe.indexOf("\\")<0&&fe.indexOf("&")<0?fe:fe.replace(k,function(Ie,Te,qe){return Te||R(Ie,qe)})}var N=/[&<>"]/,q=/[&<>"]/g,Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function se(fe){return Z[fe]}function ie(fe){return N.test(fe)?fe.replace(q,se):fe}var J=/[.?*+^$[\]\\(){}|-]/g;function te(fe){return fe.replace(J,"\\$&")}function G(fe){switch(fe){case 9:case 32:return!0}return!1}function $(fe){if(fe>=8192&&fe<=8202)return!0;switch(fe){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var K=Ix;function le(fe){return K.test(fe)}function ee(fe){switch(fe){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function _e(fe){return fe=fe.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(fe=fe.replace(/ẞ/g,"ß")),fe.toLowerCase().toUpperCase()}e.lib={},e.lib.mdurl=Hd,e.lib.ucmicro=zbe(),e.assign=u,e.isString=n,e.has=s,e.unescapeMd=M,e.unescapeAll=F,e.isValidEntityCode=o,e.fromCodePoint=p,e.escapeHtml=ie,e.arrayReplaceAt=h,e.isSpace=G,e.isWhiteSpace=$,e.isMdAsciiPunct=ee,e.isPunctChar=le,e.escapeRE=te,e.normalizeReference=_e})(cr);var Sv={},Bbe=function(t,n,r){var s,u,h,o,p=-1,y=t.posMax,w=t.pos;for(t.pos=n+1,s=1;t.pos<y;){if(h=t.src.charCodeAt(t.pos),h===93&&(s--,s===0)){u=!0;break}if(o=t.pos,t.md.inline.skipToken(t),h===91){if(o===t.pos-1)s++;else if(r)return t.pos=w,-1}}return u&&(p=t.pos),t.pos=w,p},vC=cr.unescapeAll,Vbe=function(t,n,r){var s,u,h=n,o={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(h)===60){for(h++;h<r;){if(s=t.charCodeAt(h),s===10||s===60)return o;if(s===62)return o.pos=h+1,o.str=vC(t.slice(n+1,h)),o.ok=!0,o;if(s===92&&h+1<r){h+=2;continue}h++}return o}for(u=0;h<r&&(s=t.charCodeAt(h),!(s===32||s<32||s===127));){if(s===92&&h+1<r){if(t.charCodeAt(h+1)===32)break;h+=2;continue}if(s===40&&(u++,u>32))return o;if(s===41){if(u===0)break;u--}h++}return n===h||u!==0||(o.str=vC(t.slice(n,h)),o.pos=h,o.ok=!0),o},Nbe=cr.unescapeAll,$be=function(t,n,r){var s,u,h=0,o=n,p={ok:!1,pos:0,lines:0,str:""};if(o>=r||(u=t.charCodeAt(o),u!==34&&u!==39&&u!==40))return p;for(o++,u===40&&(u=41);o<r;){if(s=t.charCodeAt(o),s===u)return p.pos=o+1,p.lines=h,p.str=Nbe(t.slice(n+1,o)),p.ok=!0,p;if(s===40&&u===41)return p;s===10?h++:s===92&&o+1<r&&(o++,t.charCodeAt(o)===10&&h++),o++}return p};Sv.parseLinkLabel=Bbe;Sv.parseLinkDestination=Vbe;Sv.parseLinkTitle=$be;var Ube=cr.assign,qbe=cr.unescapeAll,ou=cr.escapeHtml,Oo={};Oo.code_inline=function(e,t,n,r,s){var u=e[t];return"<code"+s.renderAttrs(u)+">"+ou(u.content)+"</code>"};Oo.code_block=function(e,t,n,r,s){var u=e[t];return"<pre"+s.renderAttrs(u)+"><code>"+ou(e[t].content)+`</code></pre>
`};Oo.fence=function(e,t,n,r,s){var u=e[t],h=u.info?qbe(u.info).trim():"",o="",p="",y,w,k,C,I;return h&&(k=h.split(/(\s+)/g),o=k[0],p=k.slice(2).join("")),n.highlight?y=n.highlight(u.content,o,p)||ou(u.content):y=ou(u.content),y.indexOf("<pre")===0?y+`
`:h?(w=u.attrIndex("class"),C=u.attrs?u.attrs.slice():[],w<0?C.push(["class",n.langPrefix+o]):(C[w]=C[w].slice(),C[w][1]+=" "+n.langPrefix+o),I={attrs:C},"<pre><code"+s.renderAttrs(I)+">"+y+`</code></pre>
`):"<pre><code"+s.renderAttrs(u)+">"+y+`</code></pre>
`};Oo.image=function(e,t,n,r,s){var u=e[t];return u.attrs[u.attrIndex("alt")][1]=s.renderInlineAsText(u.children,n,r),s.renderToken(e,t,n)};Oo.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};Oo.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Oo.text=function(e,t){return ou(e[t].content)};Oo.html_block=function(e,t){return e[t].content};Oo.html_inline=function(e,t){return e[t].content};function Gd(){this.rules=Ube({},Oo)}Gd.prototype.renderAttrs=function(t){var n,r,s;if(!t.attrs)return"";for(s="",n=0,r=t.attrs.length;n<r;n++)s+=" "+ou(t.attrs[n][0])+'="'+ou(t.attrs[n][1])+'"';return s};Gd.prototype.renderToken=function(t,n,r){var s,u="",h=!1,o=t[n];return o.hidden?"":(o.block&&o.nesting!==-1&&n&&t[n-1].hidden&&(u+=`
`),u+=(o.nesting===-1?"</":"<")+o.tag,u+=this.renderAttrs(o),o.nesting===0&&r.xhtmlOut&&(u+=" /"),o.block&&(h=!0,o.nesting===1&&n+1<t.length&&(s=t[n+1],(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===o.tag)&&(h=!1))),u+=h?`>
`:">",u)};Gd.prototype.renderInline=function(e,t,n){for(var r,s="",u=this.rules,h=0,o=e.length;h<o;h++)r=e[h].type,typeof u[r]<"u"?s+=u[r](e,h,t,n,this):s+=this.renderToken(e,h,t);return s};Gd.prototype.renderInlineAsText=function(e,t,n){for(var r="",s=0,u=e.length;s<u;s++)e[s].type==="text"?r+=e[s].content:e[s].type==="image"?r+=this.renderInlineAsText(e[s].children,t,n):e[s].type==="softbreak"&&(r+=`
`);return r};Gd.prototype.render=function(e,t,n){var r,s,u,h="",o=this.rules;for(r=0,s=e.length;r<s;r++)u=e[r].type,u==="inline"?h+=this.renderInline(e[r].children,t,n):typeof o[u]<"u"?h+=o[u](e,r,t,n,this):h+=this.renderToken(e,r,t,n);return h};var jbe=Gd;function io(){this.__rules__=[],this.__cache__=null}io.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};io.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};io.prototype.at=function(e,t,n){var r=this.__find__(e),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=s.alt||[],this.__cache__=null};io.prototype.before=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};io.prototype.after=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};io.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};io.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};io.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};io.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};io.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var Px=io,Hbe=/\r\n?|\n/g,Gbe=/\0/g,Wbe=function(t){var n;n=t.src.replace(Hbe,`
`),n=n.replace(Gbe,"�"),t.src=n},Ybe=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},Zbe=function(t){var n=t.tokens,r,s,u;for(s=0,u=n.length;s<u;s++)r=n[s],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)},Kbe=cr.arrayReplaceAt;function Xbe(e){return/^<a[>\s]/i.test(e)}function Jbe(e){return/^<\/a\s*>/i.test(e)}var Qbe=function(t){var n,r,s,u,h,o,p,y,w,k,C,I,R,M,F,N,q=t.tokens,Z;if(t.md.options.linkify){for(r=0,s=q.length;r<s;r++)if(!(q[r].type!=="inline"||!t.md.linkify.pretest(q[r].content)))for(u=q[r].children,R=0,n=u.length-1;n>=0;n--){if(o=u[n],o.type==="link_close"){for(n--;u[n].level!==o.level&&u[n].type!=="link_open";)n--;continue}if(o.type==="html_inline"&&(Xbe(o.content)&&R>0&&R--,Jbe(o.content)&&R++),!(R>0)&&o.type==="text"&&t.md.linkify.test(o.content)){for(w=o.content,Z=t.md.linkify.match(w),p=[],I=o.level,C=0,Z.length>0&&Z[0].index===0&&n>0&&u[n-1].type==="text_special"&&(Z=Z.slice(1)),y=0;y<Z.length;y++)M=Z[y].url,F=t.md.normalizeLink(M),t.md.validateLink(F)&&(N=Z[y].text,Z[y].schema?Z[y].schema==="mailto:"&&!/^mailto:/i.test(N)?N=t.md.normalizeLinkText("mailto:"+N).replace(/^mailto:/,""):N=t.md.normalizeLinkText(N):N=t.md.normalizeLinkText("http://"+N).replace(/^http:\/\//,""),k=Z[y].index,k>C&&(h=new t.Token("text","",0),h.content=w.slice(C,k),h.level=I,p.push(h)),h=new t.Token("link_open","a",1),h.attrs=[["href",F]],h.level=I++,h.markup="linkify",h.info="auto",p.push(h),h=new t.Token("text","",0),h.content=N,h.level=I,p.push(h),h=new t.Token("link_close","a",-1),h.level=--I,h.markup="linkify",h.info="auto",p.push(h),C=Z[y].lastIndex);C<w.length&&(h=new t.Token("text","",0),h.content=w.slice(C),h.level=I,p.push(h)),q[r].children=u=Kbe(u,n,p)}}}},bI=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,e0e=/\((c|tm|r)\)/i,t0e=/\((c|tm|r)\)/ig,n0e={c:"©",r:"®",tm:"™"};function r0e(e,t){return n0e[t.toLowerCase()]}function i0e(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(t0e,r0e)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function a0e(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&bI.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var s0e=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(e0e.test(t.tokens[n].content)&&i0e(t.tokens[n].children),bI.test(t.tokens[n].content)&&a0e(t.tokens[n].children))},yC=cr.isWhiteSpace,_C=cr.isPunctChar,bC=cr.isMdAsciiPunct,o0e=/['"]/,xC=/['"]/g,wC="’";function Xp(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function l0e(e,t){var n,r,s,u,h,o,p,y,w,k,C,I,R,M,F,N,q,Z,se,ie,J;for(se=[],n=0;n<e.length;n++){for(r=e[n],p=e[n].level,q=se.length-1;q>=0&&!(se[q].level<=p);q--);if(se.length=q+1,r.type==="text"){s=r.content,h=0,o=s.length;e:for(;h<o&&(xC.lastIndex=h,u=xC.exec(s),!!u);){if(F=N=!0,h=u.index+1,Z=u[0]==="'",w=32,u.index-1>=0)w=s.charCodeAt(u.index-1);else for(q=n-1;q>=0&&!(e[q].type==="softbreak"||e[q].type==="hardbreak");q--)if(e[q].content){w=e[q].content.charCodeAt(e[q].content.length-1);break}if(k=32,h<o)k=s.charCodeAt(h);else for(q=n+1;q<e.length&&!(e[q].type==="softbreak"||e[q].type==="hardbreak");q++)if(e[q].content){k=e[q].content.charCodeAt(0);break}if(C=bC(w)||_C(String.fromCharCode(w)),I=bC(k)||_C(String.fromCharCode(k)),R=yC(w),M=yC(k),M?F=!1:I&&(R||C||(F=!1)),R?N=!1:C&&(M||I||(N=!1)),k===34&&u[0]==='"'&&w>=48&&w<=57&&(N=F=!1),F&&N&&(F=C,N=I),!F&&!N){Z&&(r.content=Xp(r.content,u.index,wC));continue}if(N){for(q=se.length-1;q>=0&&(y=se[q],!(se[q].level<p));q--)if(y.single===Z&&se[q].level===p){y=se[q],Z?(ie=t.md.options.quotes[2],J=t.md.options.quotes[3]):(ie=t.md.options.quotes[0],J=t.md.options.quotes[1]),r.content=Xp(r.content,u.index,J),e[y.token].content=Xp(e[y.token].content,y.pos,ie),h+=J.length-1,y.token===n&&(h+=ie.length-1),s=r.content,o=s.length,se.length=q;continue e}}F?se.push({token:n,pos:u.index,single:Z,level:p}):N&&Z&&(r.content=Xp(r.content,u.index,wC))}}}}var c0e=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!o0e.test(t.tokens[n].content)||l0e(t.tokens[n].children,t)},u0e=function(t){var n,r,s,u,h,o,p=t.tokens;for(n=0,r=p.length;n<r;n++)if(p[n].type==="inline"){for(s=p[n].children,h=s.length,u=0;u<h;u++)s[u].type==="text_special"&&(s[u].type="text");for(u=o=0;u<h;u++)s[u].type==="text"&&u+1<h&&s[u+1].type==="text"?s[u+1].content=s[u].content+s[u+1].content:(u!==o&&(s[o]=s[u]),o++);u!==o&&(s.length=o)}};function Wd(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Wd.prototype.attrIndex=function(t){var n,r,s;if(!this.attrs)return-1;for(n=this.attrs,r=0,s=n.length;r<s;r++)if(n[r][0]===t)return r;return-1};Wd.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Wd.prototype.attrSet=function(t,n){var r=this.attrIndex(t),s=[t,n];r<0?this.attrPush(s):this.attrs[r]=s};Wd.prototype.attrGet=function(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};Wd.prototype.attrJoin=function(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var Dx=Wd,d0e=Dx;function xI(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}xI.prototype.Token=d0e;var h0e=xI,f0e=Px,D_=[["normalize",Wbe],["block",Ybe],["inline",Zbe],["linkify",Qbe],["replacements",s0e],["smartquotes",c0e],["text_join",u0e]];function Mx(){this.ruler=new f0e;for(var e=0;e<D_.length;e++)this.ruler.push(D_[e][0],D_[e][1])}Mx.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};Mx.prototype.State=h0e;var m0e=Mx,M_=cr.isSpace;function L_(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function SC(e){var t=[],n=0,r=e.length,s,u=!1,h=0,o="";for(s=e.charCodeAt(n);n<r;)s===124&&(u?(o+=e.substring(h,n-1),h=n):(t.push(o+e.substring(h,n)),o="",h=n+1)),u=s===92,n++,s=e.charCodeAt(n);return t.push(o+e.substring(h)),t}var p0e=function(t,n,r,s){var u,h,o,p,y,w,k,C,I,R,M,F,N,q,Z,se,ie,J;if(n+2>r||(w=n+1,t.sCount[w]<t.blkIndent)||t.sCount[w]-t.blkIndent>=4||(o=t.bMarks[w]+t.tShift[w],o>=t.eMarks[w])||(ie=t.src.charCodeAt(o++),ie!==124&&ie!==45&&ie!==58)||o>=t.eMarks[w]||(J=t.src.charCodeAt(o++),J!==124&&J!==45&&J!==58&&!M_(J))||ie===45&&M_(J))return!1;for(;o<t.eMarks[w];){if(u=t.src.charCodeAt(o),u!==124&&u!==45&&u!==58&&!M_(u))return!1;o++}for(h=L_(t,n+1),k=h.split("|"),R=[],p=0;p<k.length;p++){if(M=k[p].trim(),!M){if(p===0||p===k.length-1)continue;return!1}if(!/^:?-+:?$/.test(M))return!1;M.charCodeAt(M.length-1)===58?R.push(M.charCodeAt(0)===58?"center":"right"):M.charCodeAt(0)===58?R.push("left"):R.push("")}if(h=L_(t,n).trim(),h.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(k=SC(h),k.length&&k[0]===""&&k.shift(),k.length&&k[k.length-1]===""&&k.pop(),C=k.length,C===0||C!==R.length))return!1;if(s)return!0;for(q=t.parentType,t.parentType="table",se=t.md.block.ruler.getRules("blockquote"),I=t.push("table_open","table",1),I.map=F=[n,0],I=t.push("thead_open","thead",1),I.map=[n,n+1],I=t.push("tr_open","tr",1),I.map=[n,n+1],p=0;p<k.length;p++)I=t.push("th_open","th",1),R[p]&&(I.attrs=[["style","text-align:"+R[p]]]),I=t.push("inline","",0),I.content=k[p].trim(),I.children=[],I=t.push("th_close","th",-1);for(I=t.push("tr_close","tr",-1),I=t.push("thead_close","thead",-1),w=n+2;w<r&&!(t.sCount[w]<t.blkIndent);w++){for(Z=!1,p=0,y=se.length;p<y;p++)if(se[p](t,w,r,!0)){Z=!0;break}if(Z||(h=L_(t,w).trim(),!h)||t.sCount[w]-t.blkIndent>=4)break;for(k=SC(h),k.length&&k[0]===""&&k.shift(),k.length&&k[k.length-1]===""&&k.pop(),w===n+2&&(I=t.push("tbody_open","tbody",1),I.map=N=[n+2,0]),I=t.push("tr_open","tr",1),I.map=[w,w+1],p=0;p<C;p++)I=t.push("td_open","td",1),R[p]&&(I.attrs=[["style","text-align:"+R[p]]]),I=t.push("inline","",0),I.content=k[p]?k[p].trim():"",I.children=[],I=t.push("td_close","td",-1);I=t.push("tr_close","tr",-1)}return N&&(I=t.push("tbody_close","tbody",-1),N[1]=w),I=t.push("table_close","table",-1),F[1]=w,t.parentType=q,t.line=w,!0},g0e=function(t,n,r){var s,u,h;if(t.sCount[n]-t.blkIndent<4)return!1;for(u=s=n+1;s<r;){if(t.isEmpty(s)){s++;continue}if(t.sCount[s]-t.blkIndent>=4){s++,u=s;continue}break}return t.line=u,h=t.push("code_block","code",0),h.content=t.getLines(n,u,4+t.blkIndent,!1)+`
`,h.map=[n,t.line],!0},v0e=function(t,n,r,s){var u,h,o,p,y,w,k,C=!1,I=t.bMarks[n]+t.tShift[n],R=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||I+3>R||(u=t.src.charCodeAt(I),u!==126&&u!==96)||(y=I,I=t.skipChars(I,u),h=I-y,h<3)||(k=t.src.slice(y,I),o=t.src.slice(I,R),u===96&&o.indexOf(String.fromCharCode(u))>=0))return!1;if(s)return!0;for(p=n;p++,!(p>=r||(I=y=t.bMarks[p]+t.tShift[p],R=t.eMarks[p],I<R&&t.sCount[p]<t.blkIndent));)if(t.src.charCodeAt(I)===u&&!(t.sCount[p]-t.blkIndent>=4)&&(I=t.skipChars(I,u),!(I-y<h)&&(I=t.skipSpaces(I),!(I<R)))){C=!0;break}return h=t.sCount[n],t.line=p+(C?1:0),w=t.push("fence","code",0),w.info=o,w.content=t.getLines(n+1,p,h,!0),w.markup=k,w.map=[n,t.line],!0},y0e=cr.isSpace,_0e=function(t,n,r,s){var u,h,o,p,y,w,k,C,I,R,M,F,N,q,Z,se,ie,J,te,G,$=t.lineMax,K=t.bMarks[n]+t.tShift[n],le=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(K)!==62)return!1;if(s)return!0;for(R=[],M=[],q=[],Z=[],J=t.md.block.ruler.getRules("blockquote"),N=t.parentType,t.parentType="blockquote",C=n;C<r&&(G=t.sCount[C]<t.blkIndent,K=t.bMarks[C]+t.tShift[C],le=t.eMarks[C],!(K>=le));C++){if(t.src.charCodeAt(K++)===62&&!G){for(p=t.sCount[C]+1,t.src.charCodeAt(K)===32?(K++,p++,u=!1,se=!0):t.src.charCodeAt(K)===9?(se=!0,(t.bsCount[C]+p)%4===3?(K++,p++,u=!1):u=!0):se=!1,I=p,R.push(t.bMarks[C]),t.bMarks[C]=K;K<le&&(h=t.src.charCodeAt(K),y0e(h));){h===9?I+=4-(I+t.bsCount[C]+(u?1:0))%4:I++;K++}w=K>=le,M.push(t.bsCount[C]),t.bsCount[C]=t.sCount[C]+1+(se?1:0),q.push(t.sCount[C]),t.sCount[C]=I-p,Z.push(t.tShift[C]),t.tShift[C]=K-t.bMarks[C];continue}if(w)break;for(ie=!1,o=0,y=J.length;o<y;o++)if(J[o](t,C,r,!0)){ie=!0;break}if(ie){t.lineMax=C,t.blkIndent!==0&&(R.push(t.bMarks[C]),M.push(t.bsCount[C]),Z.push(t.tShift[C]),q.push(t.sCount[C]),t.sCount[C]-=t.blkIndent);break}R.push(t.bMarks[C]),M.push(t.bsCount[C]),Z.push(t.tShift[C]),q.push(t.sCount[C]),t.sCount[C]=-1}for(F=t.blkIndent,t.blkIndent=0,te=t.push("blockquote_open","blockquote",1),te.markup=">",te.map=k=[n,0],t.md.block.tokenize(t,n,C),te=t.push("blockquote_close","blockquote",-1),te.markup=">",t.lineMax=$,t.parentType=N,k[1]=t.line,o=0;o<Z.length;o++)t.bMarks[o+n]=R[o],t.tShift[o+n]=Z[o],t.sCount[o+n]=q[o],t.bsCount[o+n]=M[o];return t.blkIndent=F,!0},b0e=cr.isSpace,x0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],w=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y++),u!==42&&u!==45&&u!==95))return!1;for(h=1;y<w;){if(o=t.src.charCodeAt(y++),o!==u&&!b0e(o))return!1;o===u&&h++}return h<3?!1:(s||(t.line=n+1,p=t.push("hr","hr",0),p.map=[n,t.line],p.markup=Array(h+1).join(String.fromCharCode(u))),!0)},wI=cr.isSpace;function kC(e,t){var n,r,s,u;return r=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<s&&(u=e.src.charCodeAt(r),!wI(u))?-1:r}function CC(e,t){var n,r=e.bMarks[t]+e.tShift[t],s=r,u=e.eMarks[t];if(s+1>=u||(n=e.src.charCodeAt(s++),n<48||n>57))return-1;for(;;){if(s>=u)return-1;if(n=e.src.charCodeAt(s++),n>=48&&n<=57){if(s-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return s<u&&(n=e.src.charCodeAt(s),!wI(n))?-1:s}function w0e(e,t){var n,r,s=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===s&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var S0e=function(t,n,r,s){var u,h,o,p,y,w,k,C,I,R,M,F,N,q,Z,se,ie,J,te,G,$,K,le,ee,_e,fe,Ie,Te=n,qe=!1,ke=!0;if(t.sCount[Te]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[Te]-t.listIndent>=4&&t.sCount[Te]<t.blkIndent)return!1;if(s&&t.parentType==="paragraph"&&t.sCount[Te]>=t.blkIndent&&(qe=!0),(K=CC(t,Te))>=0){if(k=!0,ee=t.bMarks[Te]+t.tShift[Te],N=Number(t.src.slice(ee,K-1)),qe&&N!==1)return!1}else if((K=kC(t,Te))>=0)k=!1;else return!1;if(qe&&t.skipSpaces(K)>=t.eMarks[Te])return!1;if(s)return!0;for(F=t.src.charCodeAt(K-1),M=t.tokens.length,k?(Ie=t.push("ordered_list_open","ol",1),N!==1&&(Ie.attrs=[["start",N]])):Ie=t.push("bullet_list_open","ul",1),Ie.map=R=[Te,0],Ie.markup=String.fromCharCode(F),le=!1,fe=t.md.block.ruler.getRules("list"),ie=t.parentType,t.parentType="list";Te<r;){for($=K,q=t.eMarks[Te],w=Z=t.sCount[Te]+K-(t.bMarks[Te]+t.tShift[Te]);$<q;){if(u=t.src.charCodeAt($),u===9)Z+=4-(Z+t.bsCount[Te])%4;else if(u===32)Z++;else break;$++}if(h=$,h>=q?y=1:y=Z-w,y>4&&(y=1),p=w+y,Ie=t.push("list_item_open","li",1),Ie.markup=String.fromCharCode(F),Ie.map=C=[Te,0],k&&(Ie.info=t.src.slice(ee,K-1)),G=t.tight,te=t.tShift[Te],J=t.sCount[Te],se=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=p,t.tight=!0,t.tShift[Te]=h-t.bMarks[Te],t.sCount[Te]=Z,h>=q&&t.isEmpty(Te+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,Te,r,!0),(!t.tight||le)&&(ke=!1),le=t.line-Te>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=se,t.tShift[Te]=te,t.sCount[Te]=J,t.tight=G,Ie=t.push("list_item_close","li",-1),Ie.markup=String.fromCharCode(F),Te=t.line,C[1]=Te,Te>=r||t.sCount[Te]<t.blkIndent||t.sCount[Te]-t.blkIndent>=4)break;for(_e=!1,o=0,I=fe.length;o<I;o++)if(fe[o](t,Te,r,!0)){_e=!0;break}if(_e)break;if(k){if(K=CC(t,Te),K<0)break;ee=t.bMarks[Te]+t.tShift[Te]}else if(K=kC(t,Te),K<0)break;if(F!==t.src.charCodeAt(K-1))break}return k?Ie=t.push("ordered_list_close","ol",-1):Ie=t.push("bullet_list_close","ul",-1),Ie.markup=String.fromCharCode(F),R[1]=Te,t.line=Te,t.parentType=ie,ke&&w0e(t,M),!0},k0e=cr.normalizeReference,Jp=cr.isSpace,C0e=function(t,n,r,s){var u,h,o,p,y,w,k,C,I,R,M,F,N,q,Z,se,ie=0,J=t.bMarks[n]+t.tShift[n],te=t.eMarks[n],G=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(J)!==91)return!1;for(;++J<te;)if(t.src.charCodeAt(J)===93&&t.src.charCodeAt(J-1)!==92){if(J+1===te||t.src.charCodeAt(J+1)!==58)return!1;break}for(p=t.lineMax,Z=t.md.block.ruler.getRules("reference"),R=t.parentType,t.parentType="reference";G<p&&!t.isEmpty(G);G++)if(!(t.sCount[G]-t.blkIndent>3)&&!(t.sCount[G]<0)){for(q=!1,w=0,k=Z.length;w<k;w++)if(Z[w](t,G,p,!0)){q=!0;break}if(q)break}for(N=t.getLines(n,G,t.blkIndent,!1).trim(),te=N.length,J=1;J<te;J++){if(u=N.charCodeAt(J),u===91)return!1;if(u===93){I=J;break}else u===10?ie++:u===92&&(J++,J<te&&N.charCodeAt(J)===10&&ie++)}if(I<0||N.charCodeAt(I+1)!==58)return!1;for(J=I+2;J<te;J++)if(u=N.charCodeAt(J),u===10)ie++;else if(!Jp(u))break;if(M=t.md.helpers.parseLinkDestination(N,J,te),!M.ok||(y=t.md.normalizeLink(M.str),!t.md.validateLink(y)))return!1;for(J=M.pos,ie+=M.lines,h=J,o=ie,F=J;J<te;J++)if(u=N.charCodeAt(J),u===10)ie++;else if(!Jp(u))break;for(M=t.md.helpers.parseLinkTitle(N,J,te),J<te&&F!==J&&M.ok?(se=M.str,J=M.pos,ie+=M.lines):(se="",J=h,ie=o);J<te&&(u=N.charCodeAt(J),!!Jp(u));)J++;if(J<te&&N.charCodeAt(J)!==10&&se)for(se="",J=h,ie=o;J<te&&(u=N.charCodeAt(J),!!Jp(u));)J++;return J<te&&N.charCodeAt(J)!==10||(C=k0e(N.slice(1,I)),!C)?!1:(s||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[C]>"u"&&(t.env.references[C]={title:se,href:y}),t.parentType=R,t.line=n+ie+1),!0)},T0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kv={},A0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",E0e="[^\"'=<>`\\x00-\\x20]+",I0e="'[^']*'",P0e='"[^"]*"',D0e="(?:"+E0e+"|"+I0e+"|"+P0e+")",M0e="(?:\\s+"+A0e+"(?:\\s*=\\s*"+D0e+")?)",SI="<[A-Za-z][A-Za-z0-9\\-]*"+M0e+"*\\s*\\/?>",kI="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",L0e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",R0e="<[?][\\s\\S]*?[?]>",O0e="<![A-Z]+\\s+[^>]*>",F0e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",z0e=new RegExp("^(?:"+SI+"|"+kI+"|"+L0e+"|"+R0e+"|"+O0e+"|"+F0e+")"),B0e=new RegExp("^(?:"+SI+"|"+kI+")");kv.HTML_TAG_RE=z0e;kv.HTML_OPEN_CLOSE_TAG_RE=B0e;var V0e=T0e,N0e=kv.HTML_OPEN_CLOSE_TAG_RE,od=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+V0e.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(N0e.source+"\\s*$"),/^$/,!1]],$0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],w=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(y)!==60)return!1;for(p=t.src.slice(y,w),u=0;u<od.length&&!od[u][0].test(p);u++);if(u===od.length)return!1;if(s)return od[u][2];if(h=n+1,!od[u][1].test(p)){for(;h<r&&!(t.sCount[h]<t.blkIndent);h++)if(y=t.bMarks[h]+t.tShift[h],w=t.eMarks[h],p=t.src.slice(y,w),od[u][1].test(p)){p.length!==0&&h++;break}}return t.line=h,o=t.push("html_block","",0),o.map=[n,h],o.content=t.getLines(n,h,t.blkIndent,!0),!0},TC=cr.isSpace,U0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],w=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y),u!==35||y>=w))return!1;for(h=1,u=t.src.charCodeAt(++y);u===35&&y<w&&h<=6;)h++,u=t.src.charCodeAt(++y);return h>6||y<w&&!TC(u)?!1:(s||(w=t.skipSpacesBack(w,y),o=t.skipCharsBack(w,35,y),o>y&&TC(t.src.charCodeAt(o-1))&&(w=o),t.line=n+1,p=t.push("heading_open","h"+String(h),1),p.markup="########".slice(0,h),p.map=[n,t.line],p=t.push("inline","",0),p.content=t.src.slice(y,w).trim(),p.map=[n,t.line],p.children=[],p=t.push("heading_close","h"+String(h),-1),p.markup="########".slice(0,h)),!0)},q0e=function(t,n,r){var s,u,h,o,p,y,w,k,C,I=n+1,R,M=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(R=t.parentType,t.parentType="paragraph";I<r&&!t.isEmpty(I);I++)if(!(t.sCount[I]-t.blkIndent>3)){if(t.sCount[I]>=t.blkIndent&&(y=t.bMarks[I]+t.tShift[I],w=t.eMarks[I],y<w&&(C=t.src.charCodeAt(y),(C===45||C===61)&&(y=t.skipChars(y,C),y=t.skipSpaces(y),y>=w)))){k=C===61?1:2;break}if(!(t.sCount[I]<0)){for(u=!1,h=0,o=M.length;h<o;h++)if(M[h](t,I,r,!0)){u=!0;break}if(u)break}}return k?(s=t.getLines(n,I,t.blkIndent,!1).trim(),t.line=I+1,p=t.push("heading_open","h"+String(k),1),p.markup=String.fromCharCode(C),p.map=[n,t.line],p=t.push("inline","",0),p.content=s,p.map=[n,t.line-1],p.children=[],p=t.push("heading_close","h"+String(k),-1),p.markup=String.fromCharCode(C),t.parentType=R,!0):!1},j0e=function(t,n,r){var s,u,h,o,p,y,w=n+1,k=t.md.block.ruler.getRules("paragraph");for(y=t.parentType,t.parentType="paragraph";w<r&&!t.isEmpty(w);w++)if(!(t.sCount[w]-t.blkIndent>3)&&!(t.sCount[w]<0)){for(u=!1,h=0,o=k.length;h<o;h++)if(k[h](t,w,r,!0)){u=!0;break}if(u)break}return s=t.getLines(n,w,t.blkIndent,!1).trim(),t.line=w,p=t.push("paragraph_open","p",1),p.map=[n,t.line],p=t.push("inline","",0),p.content=s,p.map=[n,t.line],p.children=[],p=t.push("paragraph_close","p",-1),t.parentType=y,!0},CI=Dx,Cv=cr.isSpace;function Fo(e,t,n,r){var s,u,h,o,p,y,w,k;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",u=this.src,k=!1,h=o=y=w=0,p=u.length;o<p;o++){if(s=u.charCodeAt(o),!k)if(Cv(s)){y++,s===9?w+=4-w%4:w++;continue}else k=!0;(s===10||o===p-1)&&(s!==10&&o++,this.bMarks.push(h),this.eMarks.push(o),this.tShift.push(y),this.sCount.push(w),this.bsCount.push(0),k=!1,y=0,w=0,h=o+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Fo.prototype.push=function(e,t,n){var r=new CI(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Fo.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Fo.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Fo.prototype.skipSpaces=function(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!Cv(n));t++);return t};Fo.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Cv(this.src.charCodeAt(--t)))return t+1;return t};Fo.prototype.skipChars=function(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Fo.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Fo.prototype.getLines=function(t,n,r,s){var u,h,o,p,y,w,k,C=t;if(t>=n)return"";for(w=new Array(n-t),u=0;C<n;C++,u++){for(h=0,k=p=this.bMarks[C],C+1<n||s?y=this.eMarks[C]+1:y=this.eMarks[C];p<y&&h<r;){if(o=this.src.charCodeAt(p),Cv(o))o===9?h+=4-(h+this.bsCount[C])%4:h++;else if(p-k<this.tShift[C])h++;else break;p++}h>r?w[u]=new Array(h-r+1).join(" ")+this.src.slice(p,y):w[u]=this.src.slice(p,y)}return w.join("")};Fo.prototype.Token=CI;var H0e=Fo,G0e=Px,Qp=[["table",p0e,["paragraph","reference"]],["code",g0e],["fence",v0e,["paragraph","reference","blockquote","list"]],["blockquote",_0e,["paragraph","reference","blockquote","list"]],["hr",x0e,["paragraph","reference","blockquote","list"]],["list",S0e,["paragraph","reference","blockquote"]],["reference",C0e],["html_block",$0e,["paragraph","reference","blockquote"]],["heading",U0e,["paragraph","reference","blockquote"]],["lheading",q0e],["paragraph",j0e]];function Tv(){this.ruler=new G0e;for(var e=0;e<Qp.length;e++)this.ruler.push(Qp[e][0],Qp[e][1],{alt:(Qp[e][2]||[]).slice()})}Tv.prototype.tokenize=function(e,t,n){for(var r,s,u,h=this.ruler.getRules(""),o=h.length,p=t,y=!1,w=e.md.options.maxNesting;p<n&&(e.line=p=e.skipEmptyLines(p),!(p>=n||e.sCount[p]<e.blkIndent));){if(e.level>=w){e.line=n;break}for(u=e.line,s=0;s<o;s++)if(r=h[s](e,p,n,!1),r){if(u>=e.line)throw new Error("block rule didn't increment state.line");break}if(!r)throw new Error("none of the block rules matched");e.tight=!y,e.isEmpty(e.line-1)&&(y=!0),p=e.line,p<n&&e.isEmpty(p)&&(y=!0,p++,e.line=p)}};Tv.prototype.parse=function(e,t,n,r){var s;e&&(s=new this.State(e,t,n,r),this.tokenize(s,s.line,s.lineMax))};Tv.prototype.State=H0e;var W0e=Tv;function Y0e(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var Z0e=function(t,n){for(var r=t.pos;r<t.posMax&&!Y0e(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)},K0e=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,X0e=function(t,n){var r,s,u,h,o,p,y,w;return!t.md.options.linkify||t.linkLevel>0||(r=t.pos,s=t.posMax,r+3>s)||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47||(u=t.pending.match(K0e),!u)||(h=u[1],o=t.md.linkify.matchAtStart(t.src.slice(r-h.length)),!o)||(p=o.url,p.length<=h.length)||(p=p.replace(/\*+$/,""),y=t.md.normalizeLink(p),!t.md.validateLink(y))?!1:(n||(t.pending=t.pending.slice(0,-h.length),w=t.push("link_open","a",1),w.attrs=[["href",y]],w.markup="linkify",w.info="auto",w=t.push("text","",0),w.content=t.md.normalizeLinkText(p),w=t.push("link_close","a",-1),w.markup="linkify",w.info="auto"),t.pos+=p.length-h.length,!0)},J0e=cr.isSpace,Q0e=function(t,n){var r,s,u,h=t.pos;if(t.src.charCodeAt(h)!==10)return!1;if(r=t.pending.length-1,s=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(u=r-1;u>=1&&t.pending.charCodeAt(u-1)===32;)u--;t.pending=t.pending.slice(0,u),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(h++;h<s&&J0e(t.src.charCodeAt(h));)h++;return t.pos=h,!0},exe=cr.isSpace,Lx=[];for(var AC=0;AC<256;AC++)Lx.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Lx[e.charCodeAt(0)]=1});var txe=function(t,n){var r,s,u,h,o,p=t.pos,y=t.posMax;if(t.src.charCodeAt(p)!==92||(p++,p>=y))return!1;if(r=t.src.charCodeAt(p),r===10){for(n||t.push("hardbreak","br",0),p++;p<y&&(r=t.src.charCodeAt(p),!!exe(r));)p++;return t.pos=p,!0}return h=t.src[p],r>=55296&&r<=56319&&p+1<y&&(s=t.src.charCodeAt(p+1),s>=56320&&s<=57343&&(h+=t.src[p+1],p++)),u="\\"+h,n||(o=t.push("text_special","",0),r<256&&Lx[r]!==0?o.content=h:o.content=u,o.markup=u,o.info="escape"),t.pos=p+1,!0},nxe=function(t,n){var r,s,u,h,o,p,y,w,k=t.pos,C=t.src.charCodeAt(k);if(C!==96)return!1;for(r=k,k++,s=t.posMax;k<s&&t.src.charCodeAt(k)===96;)k++;if(u=t.src.slice(r,k),y=u.length,t.backticksScanned&&(t.backticks[y]||0)<=r)return n||(t.pending+=u),t.pos+=y,!0;for(p=k;(o=t.src.indexOf("`",p))!==-1;){for(p=o+1;p<s&&t.src.charCodeAt(p)===96;)p++;if(w=p-o,w===y)return n||(h=t.push("code_inline","code",0),h.markup=u,h.content=t.src.slice(k,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=p,!0;t.backticks[w]=o}return t.backticksScanned=!0,n||(t.pending+=u),t.pos+=y,!0},Av={};Av.tokenize=function(t,n){var r,s,u,h,o,p=t.pos,y=t.src.charCodeAt(p);if(n||y!==126||(s=t.scanDelims(t.pos,!0),h=s.length,o=String.fromCharCode(y),h<2))return!1;for(h%2&&(u=t.push("text","",0),u.content=o,h--),r=0;r<h;r+=2)u=t.push("text","",0),u.content=o+o,t.delimiters.push({marker:y,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function EC(e,t){var n,r,s,u,h,o=[],p=t.length;for(n=0;n<p;n++)s=t[n],s.marker===126&&s.end!==-1&&(u=t[s.end],h=e.tokens[s.token],h.type="s_open",h.tag="s",h.nesting=1,h.markup="~~",h.content="",h=e.tokens[u.token],h.type="s_close",h.tag="s",h.nesting=-1,h.markup="~~",h.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&o.push(u.token-1));for(;o.length;){for(n=o.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(h=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=h)}}Av.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(EC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&EC(t,r[n].delimiters)};var Ev={};Ev.tokenize=function(t,n){var r,s,u,h=t.pos,o=t.src.charCodeAt(h);if(n||o!==95&&o!==42)return!1;for(s=t.scanDelims(t.pos,o===42),r=0;r<s.length;r++)u=t.push("text","",0),u.content=String.fromCharCode(o),t.delimiters.push({marker:o,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function IC(e,t){var n,r,s,u,h,o,p=t.length;for(n=p-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(s=t[r.end],o=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===s.token+1,h=String.fromCharCode(r.marker),u=e.tokens[r.token],u.type=o?"strong_open":"em_open",u.tag=o?"strong":"em",u.nesting=1,u.markup=o?h+h:h,u.content="",u=e.tokens[s.token],u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?h+h:h,u.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}Ev.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(IC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&IC(t,r[n].delimiters)};var rxe=cr.normalizeReference,R_=cr.isSpace,ixe=function(t,n){var r,s,u,h,o,p,y,w,k,C="",I="",R=t.pos,M=t.posMax,F=t.pos,N=!0;if(t.src.charCodeAt(t.pos)!==91||(o=t.pos+1,h=t.md.helpers.parseLinkLabel(t,t.pos,!0),h<0))return!1;if(p=h+1,p<M&&t.src.charCodeAt(p)===40){for(N=!1,p++;p<M&&(s=t.src.charCodeAt(p),!(!R_(s)&&s!==10));p++);if(p>=M)return!1;if(F=p,y=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),y.ok){for(C=t.md.normalizeLink(y.str),t.md.validateLink(C)?p=y.pos:C="",F=p;p<M&&(s=t.src.charCodeAt(p),!(!R_(s)&&s!==10));p++);if(y=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<M&&F!==p&&y.ok)for(I=y.str,p=y.pos;p<M&&(s=t.src.charCodeAt(p),!(!R_(s)&&s!==10));p++);}(p>=M||t.src.charCodeAt(p)!==41)&&(N=!0),p++}if(N){if(typeof t.env.references>"u")return!1;if(p<M&&t.src.charCodeAt(p)===91?(F=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?u=t.src.slice(F,p++):p=h+1):p=h+1,u||(u=t.src.slice(o,h)),w=t.env.references[rxe(u)],!w)return t.pos=R,!1;C=w.href,I=w.title}return n||(t.pos=o,t.posMax=h,k=t.push("link_open","a",1),k.attrs=r=[["href",C]],I&&r.push(["title",I]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,k=t.push("link_close","a",-1)),t.pos=p,t.posMax=M,!0},axe=cr.normalizeReference,O_=cr.isSpace,sxe=function(t,n){var r,s,u,h,o,p,y,w,k,C,I,R,M,F="",N=t.pos,q=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(p=t.pos+2,o=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),o<0))return!1;if(y=o+1,y<q&&t.src.charCodeAt(y)===40){for(y++;y<q&&(s=t.src.charCodeAt(y),!(!O_(s)&&s!==10));y++);if(y>=q)return!1;for(M=y,k=t.md.helpers.parseLinkDestination(t.src,y,t.posMax),k.ok&&(F=t.md.normalizeLink(k.str),t.md.validateLink(F)?y=k.pos:F=""),M=y;y<q&&(s=t.src.charCodeAt(y),!(!O_(s)&&s!==10));y++);if(k=t.md.helpers.parseLinkTitle(t.src,y,t.posMax),y<q&&M!==y&&k.ok)for(C=k.str,y=k.pos;y<q&&(s=t.src.charCodeAt(y),!(!O_(s)&&s!==10));y++);else C="";if(y>=q||t.src.charCodeAt(y)!==41)return t.pos=N,!1;y++}else{if(typeof t.env.references>"u")return!1;if(y<q&&t.src.charCodeAt(y)===91?(M=y+1,y=t.md.helpers.parseLinkLabel(t,y),y>=0?h=t.src.slice(M,y++):y=o+1):y=o+1,h||(h=t.src.slice(p,o)),w=t.env.references[axe(h)],!w)return t.pos=N,!1;F=w.href,C=w.title}return n||(u=t.src.slice(p,o),t.md.inline.parse(u,t.md,t.env,R=[]),I=t.push("image","img",0),I.attrs=r=[["src",F],["alt",""]],I.children=R,I.content=u,C&&r.push(["title",C])),t.pos=y,t.posMax=q,!0},oxe=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,lxe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,cxe=function(t,n){var r,s,u,h,o,p,y=t.pos;if(t.src.charCodeAt(y)!==60)return!1;for(o=t.pos,p=t.posMax;;){if(++y>=p||(h=t.src.charCodeAt(y),h===60))return!1;if(h===62)break}return r=t.src.slice(o+1,y),lxe.test(r)?(s=t.md.normalizeLink(r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):oxe.test(r)?(s=t.md.normalizeLink("mailto:"+r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):!1},uxe=kv.HTML_TAG_RE;function dxe(e){return/^<a[>\s]/i.test(e)}function hxe(e){return/^<\/a\s*>/i.test(e)}function fxe(e){var t=e|32;return t>=97&&t<=122}var mxe=function(t,n){var r,s,u,h,o=t.pos;return!t.md.options.html||(u=t.posMax,t.src.charCodeAt(o)!==60||o+2>=u)||(r=t.src.charCodeAt(o+1),r!==33&&r!==63&&r!==47&&!fxe(r))||(s=t.src.slice(o).match(uxe),!s)?!1:(n||(h=t.push("html_inline","",0),h.content=s[0],dxe(h.content)&&t.linkLevel++,hxe(h.content)&&t.linkLevel--),t.pos+=s[0].length,!0)},PC=gI,pxe=cr.has,gxe=cr.isValidEntityCode,DC=cr.fromCodePoint,vxe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,yxe=/^&([a-z][a-z0-9]{1,31});/i,_xe=function(t,n){var r,s,u,h,o=t.pos,p=t.posMax;if(t.src.charCodeAt(o)!==38||o+1>=p)return!1;if(r=t.src.charCodeAt(o+1),r===35){if(u=t.src.slice(o).match(vxe),u)return n||(s=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),h=t.push("text_special","",0),h.content=gxe(s)?DC(s):DC(65533),h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0}else if(u=t.src.slice(o).match(yxe),u&&pxe(PC,u[1]))return n||(h=t.push("text_special","",0),h.content=PC[u[1]],h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0;return!1};function MC(e){var t,n,r,s,u,h,o,p,y={},w=e.length;if(w){var k=0,C=-2,I=[];for(t=0;t<w;t++)if(r=e[t],I.push(0),(e[k].marker!==r.marker||C!==r.token-1)&&(k=t),C=r.token,r.length=r.length||0,!!r.close){for(y.hasOwnProperty(r.marker)||(y[r.marker]=[-1,-1,-1,-1,-1,-1]),u=y[r.marker][(r.open?3:0)+r.length%3],n=k-I[k]-1,h=n;n>u;n-=I[n]+1)if(s=e[n],s.marker===r.marker&&s.open&&s.end<0&&(o=!1,(s.close||r.open)&&(s.length+r.length)%3===0&&(s.length%3!==0||r.length%3!==0)&&(o=!0),!o)){p=n>0&&!e[n-1].open?I[n-1]+1:0,I[t]=t-n+p,I[n]=p,r.open=!1,s.end=t,s.close=!1,h=-1,C=-2;break}h!==-1&&(y[r.marker][(r.open?3:0)+(r.length||0)%3]=h)}}}var bxe=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(MC(t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&MC(r[n].delimiters)},xxe=function(t){var n,r,s=0,u=t.tokens,h=t.tokens.length;for(n=r=0;n<h;n++)u[n].nesting<0&&s--,u[n].level=s,u[n].nesting>0&&s++,u[n].type==="text"&&n+1<h&&u[n+1].type==="text"?u[n+1].content=u[n].content+u[n+1].content:(n!==r&&(u[r]=u[n]),r++);n!==r&&(u.length=r)},Rx=Dx,LC=cr.isWhiteSpace,RC=cr.isPunctChar,OC=cr.isMdAsciiPunct;function bm(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}bm.prototype.pushPending=function(){var e=new Rx("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};bm.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new Rx(e,t,n),s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};bm.prototype.scanDelims=function(e,t){var n=e,r,s,u,h,o,p,y,w,k,C=!0,I=!0,R=this.posMax,M=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<R&&this.src.charCodeAt(n)===M;)n++;return u=n-e,s=n<R?this.src.charCodeAt(n):32,y=OC(r)||RC(String.fromCharCode(r)),k=OC(s)||RC(String.fromCharCode(s)),p=LC(r),w=LC(s),w?C=!1:k&&(p||y||(C=!1)),p?I=!1:y&&(w||k||(I=!1)),t?(h=C,o=I):(h=C&&(!I||y),o=I&&(!C||k)),{can_open:h,can_close:o,length:u}};bm.prototype.Token=Rx;var wxe=bm,FC=Px,F_=[["text",Z0e],["linkify",X0e],["newline",Q0e],["escape",txe],["backticks",nxe],["strikethrough",Av.tokenize],["emphasis",Ev.tokenize],["link",ixe],["image",sxe],["autolink",cxe],["html_inline",mxe],["entity",_xe]],z_=[["balance_pairs",bxe],["strikethrough",Av.postProcess],["emphasis",Ev.postProcess],["fragments_join",xxe]];function xm(){var e;for(this.ruler=new FC,e=0;e<F_.length;e++)this.ruler.push(F_[e][0],F_[e][1]);for(this.ruler2=new FC,e=0;e<z_.length;e++)this.ruler2.push(z_[e][0],z_[e][1])}xm.prototype.skipToken=function(e){var t,n,r=e.pos,s=this.ruler.getRules(""),u=s.length,h=e.md.options.maxNesting,o=e.cache;if(typeof o[r]<"u"){e.pos=o[r];return}if(e.level<h){for(n=0;n<u;n++)if(e.level++,t=s[n](e,!0),e.level--,t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;t||e.pos++,o[r]=e.pos};xm.prototype.tokenize=function(e){for(var t,n,r,s=this.ruler.getRules(""),u=s.length,h=e.posMax,o=e.md.options.maxNesting;e.pos<h;){if(r=e.pos,e.level<o){for(n=0;n<u;n++)if(t=s[n](e,!1),t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(t){if(e.pos>=h)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};xm.prototype.parse=function(e,t,n,r){var s,u,h,o=new this.State(e,t,n,r);for(this.tokenize(o),u=this.ruler2.getRules(""),h=u.length,s=0;s<h;s++)u[s](o)};xm.prototype.State=wxe;var Sxe=xm,B_,zC;function kxe(){return zC||(zC=1,B_=function(e){var t={};e=e||{},t.src_Any=vI().source,t.src_Cc=yI().source,t.src_Z=_I().source,t.src_P=Ix.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),B_}function Ub(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function Iv(e){return Object.prototype.toString.call(e)}function Cxe(e){return Iv(e)==="[object String]"}function Txe(e){return Iv(e)==="[object Object]"}function Axe(e){return Iv(e)==="[object RegExp]"}function BC(e){return Iv(e)==="[object Function]"}function Exe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var TI={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Ixe(e){return Object.keys(e||{}).reduce(function(t,n){return t||TI.hasOwnProperty(n)},!1)}var Pxe={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Dxe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Mxe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Lxe(e){e.__index__=-1,e.__text_cache__=""}function Rxe(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function VC(){return function(e,t){t.normalize(e)}}function Ug(e){var t=e.re=kxe()(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Dxe),n.push(t.src_xn),t.src_tlds=n.join("|");function r(o){return o.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");var s=[];e.__compiled__={};function u(o,p){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+p)}Object.keys(e.__schemas__).forEach(function(o){var p=e.__schemas__[o];if(p!==null){var y={validate:null,link:null};if(e.__compiled__[o]=y,Txe(p)){Axe(p.validate)?y.validate=Rxe(p.validate):BC(p.validate)?y.validate=p.validate:u(o,p),BC(p.normalize)?y.normalize=p.normalize:p.normalize?u(o,p):y.normalize=VC();return}if(Cxe(p)){s.push(o);return}u(o,p)}}),s.forEach(function(o){e.__compiled__[e.__schemas__[o]]&&(e.__compiled__[o].validate=e.__compiled__[e.__schemas__[o]].validate,e.__compiled__[o].normalize=e.__compiled__[e.__schemas__[o]].normalize)}),e.__compiled__[""]={validate:null,normalize:VC()};var h=Object.keys(e.__compiled__).filter(function(o){return o.length>0&&e.__compiled__[o]}).map(Exe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Lxe(e)}function Oxe(e,t){var n=e.__index__,r=e.__last_index__,s=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=s,this.text=s,this.url=s}function qb(e,t){var n=new Oxe(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Qa(e,t){if(!(this instanceof Qa))return new Qa(e,t);t||Ixe(e)&&(t=e,e={}),this.__opts__=Ub({},TI,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ub({},Pxe,e),this.__compiled__={},this.__tlds__=Mxe,this.__tlds_replaced__=!1,this.re={},Ug(this)}Qa.prototype.add=function(t,n){return this.__schemas__[t]=n,Ug(this),this};Qa.prototype.set=function(t){return this.__opts__=Ub(this.__opts__,t),this};Qa.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,r,s,u,h,o,p,y,w;if(this.re.schema_test.test(t)){for(p=this.re.schema_search,p.lastIndex=0;(n=p.exec(t))!==null;)if(u=this.testSchemaAt(t,n[2],p.lastIndex),u){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(y=t.search(this.re.host_fuzzy_test),y>=0&&(this.__index__<0||y<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(h=r.index+r[1].length,(this.__index__<0||h<this.__index__)&&(this.__schema__="",this.__index__=h,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(w=t.indexOf("@"),w>=0&&(s=t.match(this.re.email_fuzzy))!==null&&(h=s.index+s[1].length,o=s.index+s[0].length,(this.__index__<0||h<this.__index__||h===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=h,this.__last_index__=o))),this.__index__>=0};Qa.prototype.pretest=function(t){return this.re.pretest.test(t)};Qa.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};Qa.prototype.match=function(t){var n=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(qb(this,n)),n=this.__last_index__);for(var s=n?t.slice(n):t;this.test(s);)r.push(qb(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};Qa.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var n=this.re.schema_at_start.exec(t);if(!n)return null;var r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,qb(this,0)):null};Qa.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,s,u){return r!==u[s-1]}).reverse(),Ug(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Ug(this),this)};Qa.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Qa.prototype.onCompile=function(){};var Fxe=Qa;const wd=2147483647,ko=36,Ox=1,Zf=26,zxe=38,Bxe=700,AI=72,EI=128,II="-",Vxe=/^xn--/,Nxe=/[^\0-\x7F]/,$xe=/[\x2E\u3002\uFF0E\uFF61]/g,Uxe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V_=ko-Ox,Co=Math.floor,N_=String.fromCharCode;function Ql(e){throw new RangeError(Uxe[e])}function qxe(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function PI(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace($xe,".");const s=e.split("."),u=qxe(s,t).join(".");return r+u}function Fx(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const u=e.charCodeAt(n++);(u&64512)==56320?t.push(((s&1023)<<10)+(u&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}const DI=e=>String.fromCodePoint(...e),jxe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:ko},NC=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},MI=function(e,t,n){let r=0;for(e=n?Co(e/Bxe):e>>1,e+=Co(e/t);e>V_*Zf>>1;r+=ko)e=Co(e/V_);return Co(r+(V_+1)*e/(e+zxe))},zx=function(e){const t=[],n=e.length;let r=0,s=EI,u=AI,h=e.lastIndexOf(II);h<0&&(h=0);for(let o=0;o<h;++o)e.charCodeAt(o)>=128&&Ql("not-basic"),t.push(e.charCodeAt(o));for(let o=h>0?h+1:0;o<n;){const p=r;for(let w=1,k=ko;;k+=ko){o>=n&&Ql("invalid-input");const C=jxe(e.charCodeAt(o++));C>=ko&&Ql("invalid-input"),C>Co((wd-r)/w)&&Ql("overflow"),r+=C*w;const I=k<=u?Ox:k>=u+Zf?Zf:k-u;if(C<I)break;const R=ko-I;w>Co(wd/R)&&Ql("overflow"),w*=R}const y=t.length+1;u=MI(r-p,y,p==0),Co(r/y)>wd-s&&Ql("overflow"),s+=Co(r/y),r%=y,t.splice(r++,0,s)}return String.fromCodePoint(...t)},Bx=function(e){const t=[];e=Fx(e);const n=e.length;let r=EI,s=0,u=AI;for(const p of e)p<128&&t.push(N_(p));const h=t.length;let o=h;for(h&&t.push(II);o<n;){let p=wd;for(const w of e)w>=r&&w<p&&(p=w);const y=o+1;p-r>Co((wd-s)/y)&&Ql("overflow"),s+=(p-r)*y,r=p;for(const w of e)if(w<r&&++s>wd&&Ql("overflow"),w===r){let k=s;for(let C=ko;;C+=ko){const I=C<=u?Ox:C>=u+Zf?Zf:C-u;if(k<I)break;const R=k-I,M=ko-I;t.push(N_(NC(I+R%M,0))),k=Co(R/M)}t.push(N_(NC(k,0))),u=MI(s,y,o===h),s=0,++o}++s,++r}return t.join("")},LI=function(e){return PI(e,function(t){return Vxe.test(t)?zx(t.slice(4).toLowerCase()):t})},RI=function(e){return PI(e,function(t){return Nxe.test(t)?"xn--"+Bx(t):t})},Hxe={version:"2.3.1",ucs2:{decode:Fx,encode:DI},decode:zx,encode:Bx,toASCII:RI,toUnicode:LI},Gxe=Object.freeze(Object.defineProperty({__proto__:null,decode:zx,default:Hxe,encode:Bx,toASCII:RI,toUnicode:LI,ucs2decode:Fx,ucs2encode:DI},Symbol.toStringTag,{value:"Module"})),Wxe=bB(Gxe);var Yxe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Zxe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Kxe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},wf=cr,Xxe=Sv,Jxe=jbe,Qxe=m0e,e1e=W0e,t1e=Sxe,n1e=Fxe,Xc=Hd,OI=Wxe,r1e={default:Yxe,zero:Zxe,commonmark:Kxe},i1e=/^(vbscript|javascript|file|data):/,a1e=/^data:image\/(gif|png|jpeg|webp);/;function s1e(e){var t=e.trim().toLowerCase();return i1e.test(t)?!!a1e.test(t):!0}var FI=["http:","https:","mailto:"];function o1e(e){var t=Xc.parse(e,!0);if(t.hostname&&(!t.protocol||FI.indexOf(t.protocol)>=0))try{t.hostname=OI.toASCII(t.hostname)}catch{}return Xc.encode(Xc.format(t))}function l1e(e){var t=Xc.parse(e,!0);if(t.hostname&&(!t.protocol||FI.indexOf(t.protocol)>=0))try{t.hostname=OI.toUnicode(t.hostname)}catch{}return Xc.decode(Xc.format(t),Xc.decode.defaultChars+"%")}function ks(e,t){if(!(this instanceof ks))return new ks(e,t);t||wf.isString(e)||(t=e||{},e="default"),this.inline=new t1e,this.block=new e1e,this.core=new Qxe,this.renderer=new Jxe,this.linkify=new n1e,this.validateLink=s1e,this.normalizeLink=o1e,this.normalizeLinkText=l1e,this.utils=wf,this.helpers=wf.assign({},Xxe),this.options={},this.configure(e),t&&this.set(t)}ks.prototype.set=function(e){return wf.assign(this.options,e),this};ks.prototype.configure=function(e){var t=this,n;if(wf.isString(e)&&(n=e,e=r1e[n],!e))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};ks.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};ks.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};ks.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};ks.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};ks.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};ks.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};ks.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var c1e=ks,u1e=c1e;const d1e=_B(u1e),h1e=lr({name:"VueMarkdown",props:{source:{type:String,required:!0},options:{type:Object,required:!1},plugins:{type:Array,required:!1}},setup(e){const t=ht(new d1e(e.options??{}));for(const r of e.plugins??[])t.value.use(r);const n=Y(()=>t.value.render(e.source));return()=>Xr("div",{innerHTML:n.value})}}),f1e={data(){return{options:{html:!0,breaks:!0}}},components:{VueMarkdown:h1e},props:{markdownText:{type:String,required:!0}}},m1e={class:"markdown"};function p1e(e,t,n,r,s,u){const h=Cn("vue-markdown");return fn(),ys("section",m1e,[T(h,{source:n.markdownText,options:s.options},null,8,["source","options"])])}const g1e=Qr(f1e,[["render",p1e]]);function zI(e,t){return function(){return e.apply(t,arguments)}}const{toString:v1e}=Object.prototype,{getPrototypeOf:Vx}=Object,Pv=(e=>t=>{const n=v1e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ao=e=>(e=e.toLowerCase(),t=>Pv(t)===e),Dv=e=>t=>typeof t===e,{isArray:Yd}=Array,Kf=Dv("undefined");function y1e(e){return e!==null&&!Kf(e)&&e.constructor!==null&&!Kf(e.constructor)&&ws(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const BI=ao("ArrayBuffer");function _1e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&BI(e.buffer),t}const b1e=Dv("string"),ws=Dv("function"),VI=Dv("number"),Mv=e=>e!==null&&typeof e=="object",x1e=e=>e===!0||e===!1,fg=e=>{if(Pv(e)!=="object")return!1;const t=Vx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},w1e=ao("Date"),S1e=ao("File"),k1e=ao("Blob"),C1e=ao("FileList"),T1e=e=>Mv(e)&&ws(e.pipe),A1e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ws(e.append)&&((t=Pv(e))==="formdata"||t==="object"&&ws(e.toString)&&e.toString()==="[object FormData]"))},E1e=ao("URLSearchParams"),[I1e,P1e,D1e,M1e]=["ReadableStream","Request","Response","Headers"].map(ao),L1e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Yd(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let o;for(r=0;r<h;r++)o=u[r],t.call(null,e[o],o,e)}}function NI(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const $I=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UI=e=>!Kf(e)&&e!==$I;function jb(){const{caseless:e}=UI(this)&&this||{},t={},n=(r,s)=>{const u=e&&NI(t,s)||s;fg(t[u])&&fg(r)?t[u]=jb(t[u],r):fg(r)?t[u]=jb({},r):Yd(r)?t[u]=r.slice():t[u]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&wm(arguments[r],n);return t}const R1e=(e,t,n,{allOwnKeys:r}={})=>(wm(t,(s,u)=>{n&&ws(s)?e[u]=zI(s,n):e[u]=s},{allOwnKeys:r}),e),O1e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),F1e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},z1e=(e,t,n,r)=>{let s,u,h;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),u=s.length;u-- >0;)h=s[u],(!r||r(h,e,t))&&!o[h]&&(t[h]=e[h],o[h]=!0);e=n!==!1&&Vx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},B1e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},V1e=e=>{if(!e)return null;if(Yd(e))return e;let t=e.length;if(!VI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},N1e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Vx(Uint8Array)),$1e=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const u=s.value;t.call(e,u[0],u[1])}},U1e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},q1e=ao("HTMLFormElement"),j1e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),$C=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),H1e=ao("RegExp"),qI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};wm(n,(s,u)=>{let h;(h=t(s,u,e))!==!1&&(r[u]=h||s)}),Object.defineProperties(e,r)},G1e=e=>{qI(e,(t,n)=>{if(ws(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ws(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},W1e=(e,t)=>{const n={},r=s=>{s.forEach(u=>{n[u]=!0})};return Yd(e)?r(e):r(String(e).split(t)),n},Y1e=()=>{},Z1e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,$_="abcdefghijklmnopqrstuvwxyz",UC="0123456789",jI={DIGIT:UC,ALPHA:$_,ALPHA_DIGIT:$_+$_.toUpperCase()+UC},K1e=(e=16,t=jI.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function X1e(e){return!!(e&&ws(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const J1e=e=>{const t=new Array(10),n=(r,s)=>{if(Mv(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const u=Yd(r)?[]:{};return wm(r,(h,o)=>{const p=n(h,s+1);!Kf(p)&&(u[o]=p)}),t[s]=void 0,u}}return r};return n(e,0)},Q1e=ao("AsyncFunction"),ewe=e=>e&&(Mv(e)||ws(e))&&ws(e.then)&&ws(e.catch),tt={isArray:Yd,isArrayBuffer:BI,isBuffer:y1e,isFormData:A1e,isArrayBufferView:_1e,isString:b1e,isNumber:VI,isBoolean:x1e,isObject:Mv,isPlainObject:fg,isReadableStream:I1e,isRequest:P1e,isResponse:D1e,isHeaders:M1e,isUndefined:Kf,isDate:w1e,isFile:S1e,isBlob:k1e,isRegExp:H1e,isFunction:ws,isStream:T1e,isURLSearchParams:E1e,isTypedArray:N1e,isFileList:C1e,forEach:wm,merge:jb,extend:R1e,trim:L1e,stripBOM:O1e,inherits:F1e,toFlatObject:z1e,kindOf:Pv,kindOfTest:ao,endsWith:B1e,toArray:V1e,forEachEntry:$1e,matchAll:U1e,isHTMLForm:q1e,hasOwnProperty:$C,hasOwnProp:$C,reduceDescriptors:qI,freezeMethods:G1e,toObjectSet:W1e,toCamelCase:j1e,noop:Y1e,toFiniteNumber:Z1e,findKey:NI,global:$I,isContextDefined:UI,ALPHABET:jI,generateString:K1e,isSpecCompliantForm:X1e,toJSONObject:J1e,isAsyncFn:Q1e,isThenable:ewe};function Mn(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}tt.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const HI=Mn.prototype,GI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{GI[e]={value:e}});Object.defineProperties(Mn,GI);Object.defineProperty(HI,"isAxiosError",{value:!0});Mn.from=(e,t,n,r,s,u)=>{const h=Object.create(HI);return tt.toFlatObject(e,h,function(p){return p!==Error.prototype},o=>o!=="isAxiosError"),Mn.call(h,e.message,t,n,r,s),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};const twe=null;function Hb(e){return tt.isPlainObject(e)||tt.isArray(e)}function WI(e){return tt.endsWith(e,"[]")?e.slice(0,-2):e}function qC(e,t,n){return e?e.concat(t).map(function(s,u){return s=WI(s),!n&&u?"["+s+"]":s}).join(n?".":""):t}function nwe(e){return tt.isArray(e)&&!e.some(Hb)}const rwe=tt.toFlatObject(tt,{},null,function(t){return/^is[A-Z]/.test(t)});function Lv(e,t,n){if(!tt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=tt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(M,F){return!tt.isUndefined(F[M])});const r=n.metaTokens,s=n.visitor||w,u=n.dots,h=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&tt.isSpecCompliantForm(t);if(!tt.isFunction(s))throw new TypeError("visitor must be a function");function y(R){if(R===null)return"";if(tt.isDate(R))return R.toISOString();if(!p&&tt.isBlob(R))throw new Mn("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(R)||tt.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function w(R,M,F){let N=R;if(R&&!F&&typeof R=="object"){if(tt.endsWith(M,"{}"))M=r?M:M.slice(0,-2),R=JSON.stringify(R);else if(tt.isArray(R)&&nwe(R)||(tt.isFileList(R)||tt.endsWith(M,"[]"))&&(N=tt.toArray(R)))return M=WI(M),N.forEach(function(Z,se){!(tt.isUndefined(Z)||Z===null)&&t.append(h===!0?qC([M],se,u):h===null?M:M+"[]",y(Z))}),!1}return Hb(R)?!0:(t.append(qC(F,M,u),y(R)),!1)}const k=[],C=Object.assign(rwe,{defaultVisitor:w,convertValue:y,isVisitable:Hb});function I(R,M){if(!tt.isUndefined(R)){if(k.indexOf(R)!==-1)throw Error("Circular reference detected in "+M.join("."));k.push(R),tt.forEach(R,function(N,q){(!(tt.isUndefined(N)||N===null)&&s.call(t,N,tt.isString(q)?q.trim():q,M,C))===!0&&I(N,M?M.concat(q):[q])}),k.pop()}}if(!tt.isObject(e))throw new TypeError("data must be an object");return I(e),t}function jC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Nx(e,t){this._pairs=[],e&&Lv(e,this,t)}const YI=Nx.prototype;YI.append=function(t,n){this._pairs.push([t,n])};YI.toString=function(t){const n=t?function(r){return t.call(this,r,jC)}:jC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function iwe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZI(e,t,n){if(!t)return e;const r=n&&n.encode||iwe,s=n&&n.serialize;let u;if(s?u=s(t,n):u=tt.isURLSearchParams(t)?t.toString():new Nx(t,n).toString(r),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class HC{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){tt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const KI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},awe=typeof URLSearchParams<"u"?URLSearchParams:Nx,swe=typeof FormData<"u"?FormData:null,owe=typeof Blob<"u"?Blob:null,lwe={isBrowser:!0,classes:{URLSearchParams:awe,FormData:swe,Blob:owe},protocols:["http","https","file","blob","url","data"]},$x=typeof window<"u"&&typeof document<"u",cwe=(e=>$x&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),uwe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dwe=$x&&window.location.href||"http://localhost",hwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$x,hasStandardBrowserEnv:cwe,hasStandardBrowserWebWorkerEnv:uwe,origin:dwe},Symbol.toStringTag,{value:"Module"})),Ks={...hwe,...lwe};function fwe(e,t){return Lv(e,new Ks.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,u){return Ks.isNode&&tt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function mwe(e){return tt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function pwe(e){const t={},n=Object.keys(e);let r;const s=n.length;let u;for(r=0;r<s;r++)u=n[r],t[u]=e[u];return t}function XI(e){function t(n,r,s,u){let h=n[u++];if(h==="__proto__")return!0;const o=Number.isFinite(+h),p=u>=n.length;return h=!h&&tt.isArray(s)?s.length:h,p?(tt.hasOwnProp(s,h)?s[h]=[s[h],r]:s[h]=r,!o):((!s[h]||!tt.isObject(s[h]))&&(s[h]=[]),t(n,r,s[h],u)&&tt.isArray(s[h])&&(s[h]=pwe(s[h])),!o)}if(tt.isFormData(e)&&tt.isFunction(e.entries)){const n={};return tt.forEachEntry(e,(r,s)=>{t(mwe(r),s,n,0)}),n}return null}function gwe(e,t,n){if(tt.isString(e))try{return(t||JSON.parse)(e),tt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Sm={transitional:KI,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,u=tt.isObject(t);if(u&&tt.isHTMLForm(t)&&(t=new FormData(t)),tt.isFormData(t))return s?JSON.stringify(XI(t)):t;if(tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t)||tt.isReadableStream(t))return t;if(tt.isArrayBufferView(t))return t.buffer;if(tt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return fwe(t,this.formSerializer).toString();if((o=tt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Lv(o?{"files[]":t}:t,p&&new p,this.formSerializer)}}return u||s?(n.setContentType("application/json",!1),gwe(t)):t}],transformResponse:[function(t){const n=this.transitional||Sm.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(tt.isResponse(t)||tt.isReadableStream(t))return t;if(t&&tt.isString(t)&&(r&&!this.responseType||s)){const h=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(h)throw o.name==="SyntaxError"?Mn.from(o,Mn.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],e=>{Sm.headers[e]={}});const vwe=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ywe=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(h){s=h.indexOf(":"),n=h.substring(0,s).trim().toLowerCase(),r=h.substring(s+1).trim(),!(!n||t[n]&&vwe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},GC=Symbol("internals");function uf(e){return e&&String(e).trim().toLowerCase()}function mg(e){return e===!1||e==null?e:tt.isArray(e)?e.map(mg):String(e)}function _we(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const bwe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function U_(e,t,n,r,s){if(tt.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!tt.isString(t)){if(tt.isString(r))return t.indexOf(r)!==-1;if(tt.isRegExp(r))return r.test(t)}}function xwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function wwe(e,t){const n=tt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,u,h){return this[r].call(this,t,s,u,h)},configurable:!0})})}class Ba{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function u(o,p,y){const w=uf(p);if(!w)throw new Error("header name must be a non-empty string");const k=tt.findKey(s,w);(!k||s[k]===void 0||y===!0||y===void 0&&s[k]!==!1)&&(s[k||p]=mg(o))}const h=(o,p)=>tt.forEach(o,(y,w)=>u(y,w,p));if(tt.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(tt.isString(t)&&(t=t.trim())&&!bwe(t))h(ywe(t),n);else if(tt.isHeaders(t))for(const[o,p]of t.entries())u(p,o,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=uf(t),t){const r=tt.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return _we(s);if(tt.isFunction(n))return n.call(this,s,r);if(tt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=uf(t),t){const r=tt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||U_(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function u(h){if(h=uf(h),h){const o=tt.findKey(r,h);o&&(!n||U_(r,r[o],o,n))&&(delete r[o],s=!0)}}return tt.isArray(t)?t.forEach(u):u(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const u=n[r];(!t||U_(this,this[u],u,t,!0))&&(delete this[u],s=!0)}return s}normalize(t){const n=this,r={};return tt.forEach(this,(s,u)=>{const h=tt.findKey(r,u);if(h){n[h]=mg(s),delete n[u];return}const o=t?xwe(u):String(u).trim();o!==u&&delete n[u],n[o]=mg(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return tt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&tt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[GC]=this[GC]={accessors:{}}).accessors,s=this.prototype;function u(h){const o=uf(h);r[o]||(wwe(s,h),r[o]=!0)}return tt.isArray(t)?t.forEach(u):u(t),this}}Ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tt.reduceDescriptors(Ba.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});tt.freezeMethods(Ba);function q_(e,t){const n=this||Sm,r=t||n,s=Ba.from(r.headers);let u=r.data;return tt.forEach(e,function(o){u=o.call(n,u,s.normalize(),t?t.status:void 0)}),s.normalize(),u}function JI(e){return!!(e&&e.__CANCEL__)}function Zd(e,t,n){Mn.call(this,e??"canceled",Mn.ERR_CANCELED,t,n),this.name="CanceledError"}tt.inherits(Zd,Mn,{__CANCEL__:!0});function QI(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Mn("Request failed with status code "+n.status,[Mn.ERR_BAD_REQUEST,Mn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Swe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function kwe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,u=0,h;return t=t!==void 0?t:1e3,function(p){const y=Date.now(),w=r[u];h||(h=y),n[s]=p,r[s]=y;let k=u,C=0;for(;k!==s;)C+=n[k++],k=k%e;if(s=(s+1)%e,s===u&&(u=(u+1)%e),y-h<t)return;const I=w&&y-w;return I?Math.round(C*1e3/I):void 0}}function Cwe(e,t){let n=0;const r=1e3/t;let s=null;return function(){const h=this===!0,o=Date.now();if(h||o-n>r)return s&&(clearTimeout(s),s=null),n=o,e.apply(null,arguments);s||(s=setTimeout(()=>(s=null,n=Date.now(),e.apply(null,arguments)),r-(o-n)))}}const qg=(e,t,n=3)=>{let r=0;const s=kwe(50,250);return Cwe(u=>{const h=u.loaded,o=u.lengthComputable?u.total:void 0,p=h-r,y=s(p),w=h<=o;r=h;const k={loaded:h,total:o,progress:o?h/o:void 0,bytes:p,rate:y||void 0,estimated:y&&o&&w?(o-h)/y:void 0,event:u,lengthComputable:o!=null};k[t?"download":"upload"]=!0,e(k)},n)},Twe=Ks.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(u){let h=u;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(h){const o=tt.isString(h)?s(h):h;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),Awe=Ks.hasStandardBrowserEnv?{write(e,t,n,r,s,u){const h=[e+"="+encodeURIComponent(t)];tt.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),tt.isString(r)&&h.push("path="+r),tt.isString(s)&&h.push("domain="+s),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ewe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Iwe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function eP(e,t){return e&&!Ewe(t)?Iwe(e,t):t}const WC=e=>e instanceof Ba?{...e}:e;function lu(e,t){t=t||{};const n={};function r(y,w,k){return tt.isPlainObject(y)&&tt.isPlainObject(w)?tt.merge.call({caseless:k},y,w):tt.isPlainObject(w)?tt.merge({},w):tt.isArray(w)?w.slice():w}function s(y,w,k){if(tt.isUndefined(w)){if(!tt.isUndefined(y))return r(void 0,y,k)}else return r(y,w,k)}function u(y,w){if(!tt.isUndefined(w))return r(void 0,w)}function h(y,w){if(tt.isUndefined(w)){if(!tt.isUndefined(y))return r(void 0,y)}else return r(void 0,w)}function o(y,w,k){if(k in t)return r(y,w);if(k in e)return r(void 0,y)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:o,headers:(y,w)=>s(WC(y),WC(w),!0)};return tt.forEach(Object.keys(Object.assign({},e,t)),function(w){const k=p[w]||s,C=k(e[w],t[w],w);tt.isUndefined(C)&&k!==o||(n[w]=C)}),n}const tP=e=>{const t=lu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:u,headers:h,auth:o}=t;t.headers=h=Ba.from(h),t.url=ZI(eP(t.baseURL,t.url),e.params,e.paramsSerializer),o&&h.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let p;if(tt.isFormData(n)){if(Ks.hasStandardBrowserEnv||Ks.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[y,...w]=p?p.split(";").map(k=>k.trim()).filter(Boolean):[];h.setContentType([y||"multipart/form-data",...w].join("; "))}}if(Ks.hasStandardBrowserEnv&&(r&&tt.isFunction(r)&&(r=r(t)),r||r!==!1&&Twe(t.url))){const y=s&&u&&Awe.read(u);y&&h.set(s,y)}return t},Pwe=typeof XMLHttpRequest<"u",Dwe=Pwe&&function(e){return new Promise(function(n,r){const s=tP(e);let u=s.data;const h=Ba.from(s.headers).normalize();let{responseType:o}=s,p;function y(){s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(s.method.toUpperCase(),s.url,!0),w.timeout=s.timeout;function k(){if(!w)return;const I=Ba.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),M={data:!o||o==="text"||o==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:I,config:e,request:w};QI(function(N){n(N),y()},function(N){r(N),y()},M),w=null}"onloadend"in w?w.onloadend=k:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(k)},w.onabort=function(){w&&(r(new Mn("Request aborted",Mn.ECONNABORTED,s,w)),w=null)},w.onerror=function(){r(new Mn("Network Error",Mn.ERR_NETWORK,s,w)),w=null},w.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const M=s.transitional||KI;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),r(new Mn(R,M.clarifyTimeoutError?Mn.ETIMEDOUT:Mn.ECONNABORTED,s,w)),w=null},u===void 0&&h.setContentType(null),"setRequestHeader"in w&&tt.forEach(h.toJSON(),function(R,M){w.setRequestHeader(M,R)}),tt.isUndefined(s.withCredentials)||(w.withCredentials=!!s.withCredentials),o&&o!=="json"&&(w.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&w.addEventListener("progress",qg(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&w.upload&&w.upload.addEventListener("progress",qg(s.onUploadProgress)),(s.cancelToken||s.signal)&&(p=I=>{w&&(r(!I||I.type?new Zd(null,e,w):I),w.abort(),w=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const C=Swe(s.url);if(C&&Ks.protocols.indexOf(C)===-1){r(new Mn("Unsupported protocol "+C+":",Mn.ERR_BAD_REQUEST,e));return}w.send(u||null)})},Mwe=(e,t)=>{let n=new AbortController,r;const s=function(p){if(!r){r=!0,h();const y=p instanceof Error?p:this.reason;n.abort(y instanceof Mn?y:new Zd(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{s(new Mn(`timeout ${t} of ms exceeded`,Mn.ETIMEDOUT))},t);const h=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(p=>{p&&(p.removeEventListener?p.removeEventListener("abort",s):p.unsubscribe(s))}),e=null)};e.forEach(p=>p&&p.addEventListener&&p.addEventListener("abort",s));const{signal:o}=n;return o.unsubscribe=h,[o,()=>{u&&clearTimeout(u),u=null}]},Lwe=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Rwe=async function*(e,t,n){for await(const r of e)yield*Lwe(ArrayBuffer.isView(r)?r:await n(String(r)),t)},YC=(e,t,n,r,s)=>{const u=Rwe(e,t,s);let h=0;return new ReadableStream({type:"bytes",async pull(o){const{done:p,value:y}=await u.next();if(p){o.close(),r();return}let w=y.byteLength;n&&n(h+=w),o.enqueue(new Uint8Array(y))},cancel(o){return r(o),u.return()}},{highWaterMark:2})},ZC=(e,t)=>{const n=e!=null;return r=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:r}))},Rv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",nP=Rv&&typeof ReadableStream=="function",Gb=Rv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Owe=nP&&(()=>{let e=!1;const t=new Request(Ks.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),KC=64*1024,Wb=nP&&!!(()=>{try{return tt.isReadableStream(new Response("").body)}catch{}})(),jg={stream:Wb&&(e=>e.body)};Rv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!jg[t]&&(jg[t]=tt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Mn(`Response type '${t}' is not supported`,Mn.ERR_NOT_SUPPORT,r)})})})(new Response);const Fwe=async e=>{if(e==null)return 0;if(tt.isBlob(e))return e.size;if(tt.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(tt.isArrayBufferView(e))return e.byteLength;if(tt.isURLSearchParams(e)&&(e=e+""),tt.isString(e))return(await Gb(e)).byteLength},zwe=async(e,t)=>{const n=tt.toFiniteNumber(e.getContentLength());return n??Fwe(t)},Bwe=Rv&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:u,timeout:h,onDownloadProgress:o,onUploadProgress:p,responseType:y,headers:w,withCredentials:k="same-origin",fetchOptions:C}=tP(e);y=y?(y+"").toLowerCase():"text";let[I,R]=s||u||h?Mwe([s,u],h):[],M,F;const N=()=>{!M&&setTimeout(()=>{I&&I.unsubscribe()}),M=!0};let q;try{if(p&&Owe&&n!=="get"&&n!=="head"&&(q=await zwe(w,r))!==0){let J=new Request(t,{method:"POST",body:r,duplex:"half"}),te;tt.isFormData(r)&&(te=J.headers.get("content-type"))&&w.setContentType(te),J.body&&(r=YC(J.body,KC,ZC(q,qg(p)),null,Gb))}tt.isString(k)||(k=k?"cors":"omit"),F=new Request(t,{...C,signal:I,method:n.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",withCredentials:k});let Z=await fetch(F);const se=Wb&&(y==="stream"||y==="response");if(Wb&&(o||se)){const J={};["status","statusText","headers"].forEach(G=>{J[G]=Z[G]});const te=tt.toFiniteNumber(Z.headers.get("content-length"));Z=new Response(YC(Z.body,KC,o&&ZC(te,qg(o,!0)),se&&N,Gb),J)}y=y||"text";let ie=await jg[tt.findKey(jg,y)||"text"](Z,e);return!se&&N(),R&&R(),await new Promise((J,te)=>{QI(J,te,{data:ie,headers:Ba.from(Z.headers),status:Z.status,statusText:Z.statusText,config:e,request:F})})}catch(Z){throw N(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new Mn("Network Error",Mn.ERR_NETWORK,e,F),{cause:Z.cause||Z}):Mn.from(Z,Z&&Z.code,e,F)}}),Yb={http:twe,xhr:Dwe,fetch:Bwe};tt.forEach(Yb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const XC=e=>`- ${e}`,Vwe=e=>tt.isFunction(e)||e===null||e===!1,rP={getAdapter:e=>{e=tt.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let u=0;u<t;u++){n=e[u];let h;if(r=n,!Vwe(n)&&(r=Yb[(h=String(n)).toLowerCase()],r===void 0))throw new Mn(`Unknown adapter '${h}'`);if(r)break;s[h||"#"+u]=r}if(!r){const u=Object.entries(s).map(([o,p])=>`adapter ${o} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(XC).join(`
`):" "+XC(u[0]):"as no adapter specified";throw new Mn("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:Yb};function j_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zd(null,e)}function JC(e){return j_(e),e.headers=Ba.from(e.headers),e.data=q_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rP.getAdapter(e.adapter||Sm.adapter)(e).then(function(r){return j_(e),r.data=q_.call(e,e.transformResponse,r),r.headers=Ba.from(r.headers),r},function(r){return JI(r)||(j_(e),r&&r.response&&(r.response.data=q_.call(e,e.transformResponse,r.response),r.response.headers=Ba.from(r.response.headers))),Promise.reject(r)})}const iP="1.7.2",Ux={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ux[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const QC={};Ux.transitional=function(t,n,r){function s(u,h){return"[Axios v"+iP+"] Transitional option '"+u+"'"+h+(r?". "+r:"")}return(u,h,o)=>{if(t===!1)throw new Mn(s(h," has been removed"+(n?" in "+n:"")),Mn.ERR_DEPRECATED);return n&&!QC[h]&&(QC[h]=!0,console.warn(s(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,h,o):!0}};function Nwe(e,t,n){if(typeof e!="object")throw new Mn("options must be an object",Mn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const u=r[s],h=t[u];if(h){const o=e[u],p=o===void 0||h(o,u,e);if(p!==!0)throw new Mn("option "+u+" must be "+p,Mn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mn("Unknown option "+u,Mn.ERR_BAD_OPTION)}}const Zb={assertOptions:Nwe,validators:Ux},Wl=Zb.validators;class au{constructor(t){this.defaults=t,this.interceptors={request:new HC,response:new HC}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const u=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=lu(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:u}=n;r!==void 0&&Zb.assertOptions(r,{silentJSONParsing:Wl.transitional(Wl.boolean),forcedJSONParsing:Wl.transitional(Wl.boolean),clarifyTimeoutError:Wl.transitional(Wl.boolean)},!1),s!=null&&(tt.isFunction(s)?n.paramsSerializer={serialize:s}:Zb.assertOptions(s,{encode:Wl.function,serialize:Wl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&tt.merge(u.common,u[n.method]);u&&tt.forEach(["delete","get","head","post","put","patch","common"],R=>{delete u[R]}),n.headers=Ba.concat(h,u);const o=[];let p=!0;this.interceptors.request.forEach(function(M){typeof M.runWhen=="function"&&M.runWhen(n)===!1||(p=p&&M.synchronous,o.unshift(M.fulfilled,M.rejected))});const y=[];this.interceptors.response.forEach(function(M){y.push(M.fulfilled,M.rejected)});let w,k=0,C;if(!p){const R=[JC.bind(this),void 0];for(R.unshift.apply(R,o),R.push.apply(R,y),C=R.length,w=Promise.resolve(n);k<C;)w=w.then(R[k++],R[k++]);return w}C=o.length;let I=n;for(k=0;k<C;){const R=o[k++],M=o[k++];try{I=R(I)}catch(F){M.call(this,F);break}}try{w=JC.call(this,I)}catch(R){return Promise.reject(R)}for(k=0,C=y.length;k<C;)w=w.then(y[k++],y[k++]);return w}getUri(t){t=lu(this.defaults,t);const n=eP(t.baseURL,t.url);return ZI(n,t.params,t.paramsSerializer)}}tt.forEach(["delete","get","head","options"],function(t){au.prototype[t]=function(n,r){return this.request(lu(r||{},{method:t,url:n,data:(r||{}).data}))}});tt.forEach(["post","put","patch"],function(t){function n(r){return function(u,h,o){return this.request(lu(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}au.prototype[t]=n(),au.prototype[t+"Form"]=n(!0)});class qx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(s=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](s);r._listeners=null}),this.promise.then=s=>{let u;const h=new Promise(o=>{r.subscribe(o),u=o}).then(s);return h.cancel=function(){r.unsubscribe(u)},h},t(function(u,h,o){r.reason||(r.reason=new Zd(u,h,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new qx(function(s){t=s}),cancel:t}}}function $we(e){return function(n){return e.apply(null,n)}}function Uwe(e){return tt.isObject(e)&&e.isAxiosError===!0}const Kb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kb).forEach(([e,t])=>{Kb[t]=e});function aP(e){const t=new au(e),n=zI(au.prototype.request,t);return tt.extend(n,au.prototype,t,{allOwnKeys:!0}),tt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return aP(lu(e,s))},n}const Nr=aP(Sm);Nr.Axios=au;Nr.CanceledError=Zd;Nr.CancelToken=qx;Nr.isCancel=JI;Nr.VERSION=iP;Nr.toFormData=Lv;Nr.AxiosError=Mn;Nr.Cancel=Nr.CanceledError;Nr.all=function(t){return Promise.all(t)};Nr.spread=$we;Nr.isAxiosError=Uwe;Nr.mergeConfig=lu;Nr.AxiosHeaders=Ba;Nr.formToJSON=e=>XI(tt.isHTMLForm(e)?new FormData(e):e);Nr.getAdapter=rP.getAdapter;Nr.HttpStatusCode=Kb;Nr.default=Nr;const qwe="https://api-geography.azurewebsites.net/rest/postcodes/",jwe="https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt",Hwe="https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt",sP="https://api-geography.librarydata.uk/rest/libraryAuthorities",Gwe="https://api.librarydata.uk/authenticate",Wwe="create.librarydata.uk",oP="https://api.librarydata.uk/schemas/",Ywe=[{text:"Local authority",value:"LAL"},{text:"Local authority unstaffed",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"ICL"}];async function lP(){const e=await Nr.get(sP);return e&&e.data?e.data:[]}async function Zwe(e){const t=await Nr.get(sP+"/name/"+e);return t&&t.data?t.data:{}}const nc=ft()({name:"VCardActions",props:cn(),setup(e,t){let{slots:n}=t;return da({VBtn:{slim:!0,variant:"text"}}),St(()=>{var r;return T("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),Kwe=We({opacity:[Number,String],...cn(),...Zn()},"VCardSubtitle"),Xwe=ft()({name:"VCardSubtitle",props:Kwe(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Jc=Bd("v-card-title"),Jwe=We({appendAvatar:String,appendIcon:yn,prependAvatar:String,prependIcon:yn,subtitle:[String,Number],title:[String,Number],...cn(),...$a()},"VCardItem"),Qwe=ft()({name:"VCardItem",props:Jwe(),setup(e,t){let{slots:n}=t;return St(()=>{var y;const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||n.prepend),u=!!(e.appendAvatar||e.appendIcon),h=!!(u||n.append),o=!!(e.title!=null||n.title),p=!!(e.subtitle!=null||n.subtitle);return T("div",{class:["v-card-item",e.class],style:e.style},[s&&T("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?T(Bn,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):T(Ht,null,[e.prependAvatar&&T(Eo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(nr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),T("div",{class:"v-card-item__content"},[o&&T(Jc,{key:"title"},{default:()=>{var w;return[((w=n.title)==null?void 0:w.call(n))??e.title]}}),p&&T(Xwe,{key:"subtitle"},{default:()=>{var w;return[((w=n.subtitle)==null?void 0:w.call(n))??e.subtitle]}}),(y=n.default)==null?void 0:y.call(n)]),h&&T("div",{key:"append",class:"v-card-item__append"},[n.append?T(Bn,{key:"append-defaults",disabled:!u,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):T(Ht,null,[e.appendIcon&&T(nr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Eo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),eSe=We({opacity:[Number,String],...cn(),...Zn()},"VCardText"),To=ft()({name:"VCardText",props:eSe(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),tSe=We({appendAvatar:String,appendIcon:yn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:yn,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...eo(),...cn(),...$a(),...to(),...ns(),...mv(),...fu(),...lm(),...Pi(),...gv(),...Zn(),...vr(),...ro({variant:"elevated"})},"VCard"),Za=ft()({name:"VCard",directives:{Ripple:pu},props:tSe(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{borderClasses:u}=Lo(e),{colorClasses:h,colorStyles:o,variantClasses:p}=mu(e),{densityClasses:y}=rs(e),{dimensionStyles:w}=no(e),{elevationClasses:k}=Es(e),{loaderClasses:C}=pv(e),{locationStyles:I}=Nd(e),{positionClasses:R}=cm(e),{roundedClasses:M}=Vi(e),F=mm(e,n),N=Y(()=>e.link!==!1&&F.isLink.value),q=Y(()=>!e.disabled&&e.link!==!1&&(e.link||F.isClickable.value));return St(()=>{const Z=N.value?"a":e.tag,se=!!(r.title||e.title!=null),ie=!!(r.subtitle||e.subtitle!=null),J=se||ie,te=!!(r.append||e.appendAvatar||e.appendIcon),G=!!(r.prepend||e.prependAvatar||e.prependIcon),$=!!(r.image||e.image),K=J||G||te,le=!!(r.text||e.text!=null);return si(T(Z,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":q.value},s.value,u.value,h.value,y.value,k.value,C.value,R.value,M.value,p.value,e.class],style:[o.value,w.value,I.value,e.style],href:F.href.value,onClick:q.value&&F.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var ee;return[$&&T("div",{key:"image",class:"v-card__image"},[r.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):T(pm,{key:"image-img",cover:!0,src:e.image},null)]),T(tx,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),K&&T(Qwe,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),le&&T(To,{key:"text"},{default:()=>{var _e;return[((_e=r.text)==null?void 0:_e.call(r))??e.text]}}),(ee=r.default)==null?void 0:ee.call(r),r.actions&&T(nc,null,{default:r.actions}),wl(q.value,"v-card")]}}),[[Cs("ripple"),q.value&&e.ripple]])}),{}}}),nSe={props:["actions"],data(){return{}},methods:{async getServices(){let e=await lP();e=e.sort((t,n)=>t.name.localeCompare(n.name)),this.$store.commit("setServices",e),this.library_services=e},async logout(){this.$store.commit("logout")}},beforeMount(){this.getServices()}},rSe={key:0},iSe={key:0},aSe={key:1};function sSe(e,t,n,r,s,u){return fn(),Nn(Za,{variant:"text",class:"mb-4"},{default:Me(()=>[T(To,null,{default:Me(()=>[this.$store.state.loginKey?(fn(),ys("p",rSe,[zt(" Logged in as "),rr("strong",null,bs(this.$store.state.loginSubject),1),this.$store.state.loginAdmin?(fn(),ys("span",iSe,[T(fl,{color:"info",class:"mx-2 my-2","prepend-icon":"mdi-shield-crown"},{default:Me(()=>[zt(" Admin ")]),_:1})])):Xn("",!0),(fn(!0),ys(Ht,null,ig(this.$store.state.loginCodes,h=>(fn(),Nn(fl,{class:"mr-1",key:"chip_"+h},{default:Me(()=>[T(nr,{left:""},{default:Me(()=>[zt("mdi-map-legend")]),_:1}),zt(" "+bs(e.library_services.length>0?e.library_services.filter(o=>o.code===h)[0].nice_name:h),1)]),_:2},1024))),128))])):Xn("",!0),this.$store.state.loginKey?Xn("",!0):(fn(),ys("p",aSe,"You are not logged in"))]),_:1}),this.actions?(fn(),Nn(nc,{key:0},{default:Me(()=>[T(Hs),this.$store.state.loginKey?(fn(),Nn(Jt,{key:0,color:"warning",variant:"tonal",text:"",onClick:u.logout},{default:Me(()=>[zt(" Log out "),T(nr,{right:""},{default:Me(()=>[zt("mdi-logout")]),_:1})]),_:1},8,["onClick"])):Xn("",!0),this.$store.state.loginKey?Xn("",!0):(fn(),Nn(Jt,{key:1,color:"info",variant:"tonal",to:"/login","append-icon":"mdi-account-circle"},{default:Me(()=>[zt(" Log in ")]),_:1}))]),_:1})):Xn("",!0)]),_:1})}const km=Qr(nSe,[["render",sSe]]);function oSe(){return cP().__VUE_DEVTOOLS_GLOBAL_HOOK__}function cP(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const lSe=typeof Proxy=="function",cSe="devtools-plugin:setup",uSe="plugin:settings:set";let ld,Xb;function dSe(){var e;return ld!==void 0||(typeof window<"u"&&window.performance?(ld=!0,Xb=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(ld=!0,Xb=globalThis.perf_hooks.performance):ld=!1),ld}function hSe(){return dSe()?Xb.now():Date.now()}class fSe{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const h in t.settings){const o=t.settings[h];r[h]=o.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let u=Object.assign({},r);try{const h=localStorage.getItem(s),o=JSON.parse(h);Object.assign(u,o)}catch{}this.fallbacks={getSettings(){return u},setSettings(h){try{localStorage.setItem(s,JSON.stringify(h))}catch{}u=h},now(){return hSe()}},n&&n.on(uSe,(h,o)=>{h===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(h,o)=>this.target?this.target.on[o]:(...p)=>{this.onQueue.push({method:o,args:p})}}),this.proxiedTarget=new Proxy({},{get:(h,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...p)=>(this.targetQueue.push({method:o,args:p,resolve:()=>{}}),this.fallbacks[o](...p)):(...p)=>new Promise(y=>{this.targetQueue.push({method:o,args:p,resolve:y})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function mSe(e,t){const n=e,r=cP(),s=oSe(),u=lSe&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!u))s.emit(cSe,e,t);else{const h=u?new fSe(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:h}),h&&t(h.proxiedTarget)}}/*!
  * vue-router v4.4.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fd=typeof document<"u";function pSe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pr=Object.assign;function H_(e,t){const n={};for(const r in t){const s=t[r];n[r]=Xs(s)?s.map(e):e(s)}return n}const Sf=()=>{},Xs=Array.isArray,uP=/#/g,gSe=/&/g,vSe=/\//g,ySe=/=/g,_Se=/\?/g,dP=/\+/g,bSe=/%5B/g,xSe=/%5D/g,hP=/%5E/g,wSe=/%60/g,fP=/%7B/g,SSe=/%7C/g,mP=/%7D/g,kSe=/%20/g;function jx(e){return encodeURI(""+e).replace(SSe,"|").replace(bSe,"[").replace(xSe,"]")}function CSe(e){return jx(e).replace(fP,"{").replace(mP,"}").replace(hP,"^")}function Jb(e){return jx(e).replace(dP,"%2B").replace(kSe,"+").replace(uP,"%23").replace(gSe,"%26").replace(wSe,"`").replace(fP,"{").replace(mP,"}").replace(hP,"^")}function TSe(e){return Jb(e).replace(ySe,"%3D")}function ASe(e){return jx(e).replace(uP,"%23").replace(_Se,"%3F")}function ESe(e){return e==null?"":ASe(e).replace(vSe,"%2F")}function Xf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const ISe=/\/$/,PSe=e=>e.replace(ISe,"");function G_(e,t,n="/"){let r,s={},u="",h="";const o=t.indexOf("#");let p=t.indexOf("?");return o<p&&o>=0&&(p=-1),p>-1&&(r=t.slice(0,p),u=t.slice(p+1,o>-1?o:t.length),s=e(u)),o>-1&&(r=r||t.slice(0,o),h=t.slice(o,t.length)),r=RSe(r??t,n),{fullPath:r+(u&&"?")+u+h,path:r,query:s,hash:Xf(h)}}function DSe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function e2(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function MSe(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Md(t.matched[r],n.matched[s])&&pP(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Md(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pP(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!LSe(e[n],t[n]))return!1;return!0}function LSe(e,t){return Xs(e)?t2(e,t):Xs(t)?t2(t,e):e===t}function t2(e,t){return Xs(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function RSe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let u=n.length-1,h,o;for(h=0;h<r.length;h++)if(o=r[h],o!==".")if(o==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+r.slice(h).join("/")}const Yl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Jf;(function(e){e.pop="pop",e.push="push"})(Jf||(Jf={}));var kf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(kf||(kf={}));function OSe(e){if(!e)if(fd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),PSe(e)}const FSe=/^[^#]+#/;function zSe(e,t){return e.replace(FSe,"#")+t}function BSe(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ov=()=>({left:window.scrollX,top:window.scrollY});function VSe(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=BSe(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function n2(e,t){return(history.state?history.state.position-t:-1)+e}const Qb=new Map;function NSe(e,t){Qb.set(e,t)}function $Se(e){const t=Qb.get(e);return Qb.delete(e),t}let USe=()=>location.protocol+"//"+location.host;function gP(e,t){const{pathname:n,search:r,hash:s}=t,u=e.indexOf("#");if(u>-1){let o=s.includes(e.slice(u))?e.slice(u).length:1,p=s.slice(o);return p[0]!=="/"&&(p="/"+p),e2(p,"")}return e2(n,e)+r+s}function qSe(e,t,n,r){let s=[],u=[],h=null;const o=({state:C})=>{const I=gP(e,location),R=n.value,M=t.value;let F=0;if(C){if(n.value=I,t.value=C,h&&h===R){h=null;return}F=M?C.position-M.position:0}else r(I);s.forEach(N=>{N(n.value,R,{delta:F,type:Jf.pop,direction:F?F>0?kf.forward:kf.back:kf.unknown})})};function p(){h=n.value}function y(C){s.push(C);const I=()=>{const R=s.indexOf(C);R>-1&&s.splice(R,1)};return u.push(I),I}function w(){const{history:C}=window;C.state&&C.replaceState(pr({},C.state,{scroll:Ov()}),"")}function k(){for(const C of u)C();u=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",w)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",w,{passive:!0}),{pauseListeners:p,listen:y,destroy:k}}function r2(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ov():null}}function jSe(e){const{history:t,location:n}=window,r={value:gP(e,n)},s={value:t.state};s.value||u(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(p,y,w){const k=e.indexOf("#"),C=k>-1?(n.host&&document.querySelector("base")?e:e.slice(k))+p:USe()+e+p;try{t[w?"replaceState":"pushState"](y,"",C),s.value=y}catch(I){console.error(I),n[w?"replace":"assign"](C)}}function h(p,y){const w=pr({},t.state,r2(s.value.back,p,s.value.forward,!0),y,{position:s.value.position});u(p,w,!0),r.value=p}function o(p,y){const w=pr({},s.value,t.state,{forward:p,scroll:Ov()});u(w.current,w,!0);const k=pr({},r2(r.value,p,null),{position:w.position+1},y);u(p,k,!1),r.value=p}return{location:r,state:s,push:o,replace:h}}function HSe(e){e=OSe(e);const t=jSe(e),n=qSe(e,t.state,t.location,t.replace);function r(u,h=!0){h||n.pauseListeners(),history.go(u)}const s=pr({location:"",base:e,go:r,createHref:zSe.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function GSe(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),HSe(e)}function WSe(e){return typeof e=="string"||e&&typeof e=="object"}function vP(e){return typeof e=="string"||typeof e=="symbol"}const yP=Symbol("");var i2;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(i2||(i2={}));function Ld(e,t){return pr(new Error,{type:e,[yP]:!0},t)}function tl(e,t){return e instanceof Error&&yP in e&&(t==null||!!(e.type&t))}const a2="[^/]+?",YSe={sensitive:!1,strict:!1,start:!0,end:!0},ZSe=/[.+*?^${}()[\]/\\]/g;function KSe(e,t){const n=pr({},YSe,t),r=[];let s=n.start?"^":"";const u=[];for(const y of e){const w=y.length?[]:[90];n.strict&&!y.length&&(s+="/");for(let k=0;k<y.length;k++){const C=y[k];let I=40+(n.sensitive?.25:0);if(C.type===0)k||(s+="/"),s+=C.value.replace(ZSe,"\\$&"),I+=40;else if(C.type===1){const{value:R,repeatable:M,optional:F,regexp:N}=C;u.push({name:R,repeatable:M,optional:F});const q=N||a2;if(q!==a2){I+=10;try{new RegExp(`(${q})`)}catch(se){throw new Error(`Invalid custom RegExp for param "${R}" (${q}): `+se.message)}}let Z=M?`((?:${q})(?:/(?:${q}))*)`:`(${q})`;k||(Z=F&&y.length<2?`(?:/${Z})`:"/"+Z),F&&(Z+="?"),s+=Z,I+=20,F&&(I+=-8),M&&(I+=-20),q===".*"&&(I+=-50)}w.push(I)}r.push(w)}if(n.strict&&n.end){const y=r.length-1;r[y][r[y].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const h=new RegExp(s,n.sensitive?"":"i");function o(y){const w=y.match(h),k={};if(!w)return null;for(let C=1;C<w.length;C++){const I=w[C]||"",R=u[C-1];k[R.name]=I&&R.repeatable?I.split("/"):I}return k}function p(y){let w="",k=!1;for(const C of e){(!k||!w.endsWith("/"))&&(w+="/"),k=!1;for(const I of C)if(I.type===0)w+=I.value;else if(I.type===1){const{value:R,repeatable:M,optional:F}=I,N=R in y?y[R]:"";if(Xs(N)&&!M)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const q=Xs(N)?N.join("/"):N;if(!q)if(F)C.length<2&&(w.endsWith("/")?w=w.slice(0,-1):k=!0);else throw new Error(`Missing required param "${R}"`);w+=q}}return w||"/"}return{re:h,score:r,keys:u,parse:o,stringify:p}}function XSe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function _P(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const u=XSe(r[n],s[n]);if(u)return u;n++}if(Math.abs(s.length-r.length)===1){if(s2(r))return 1;if(s2(s))return-1}return s.length-r.length}function s2(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const JSe={type:0,value:""},QSe=/[a-zA-Z0-9_]/;function eke(e){if(!e)return[[]];if(e==="/")return[[JSe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(I){throw new Error(`ERR (${n})/"${y}": ${I}`)}let n=0,r=n;const s=[];let u;function h(){u&&s.push(u),u=[]}let o=0,p,y="",w="";function k(){y&&(n===0?u.push({type:0,value:y}):n===1||n===2||n===3?(u.length>1&&(p==="*"||p==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:y,regexp:w,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):t("Invalid state to consume buffer"),y="")}function C(){y+=p}for(;o<e.length;){if(p=e[o++],p==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:p==="/"?(y&&k(),h()):p===":"?(k(),n=1):C();break;case 4:C(),n=r;break;case 1:p==="("?n=2:QSe.test(p)?C():(k(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&o--);break;case 2:p===")"?w[w.length-1]=="\\"?w=w.slice(0,-1)+p:n=3:w+=p;break;case 3:k(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&o--,w="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${y}"`),k(),h(),s}function tke(e,t,n){const r=KSe(eke(e.path),n),s=pr(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function nke(e,t){const n=[],r=new Map;t=c2({strict:!1,end:!0,sensitive:!1},t);function s(k){return r.get(k)}function u(k,C,I){const R=!I,M=rke(k);M.aliasOf=I&&I.record;const F=c2(t,k),N=[M];if("alias"in k){const se=typeof k.alias=="string"?[k.alias]:k.alias;for(const ie of se)N.push(pr({},M,{components:I?I.record.components:M.components,path:ie,aliasOf:I?I.record:M}))}let q,Z;for(const se of N){const{path:ie}=se;if(C&&ie[0]!=="/"){const J=C.record.path,te=J[J.length-1]==="/"?"":"/";se.path=C.record.path+(ie&&te+ie)}if(q=tke(se,C,F),I?I.alias.push(q):(Z=Z||q,Z!==q&&Z.alias.push(q),R&&k.name&&!l2(q)&&h(k.name)),bP(q)&&p(q),M.children){const J=M.children;for(let te=0;te<J.length;te++)u(J[te],q,I&&I.children[te])}I=I||q}return Z?()=>{h(Z)}:Sf}function h(k){if(vP(k)){const C=r.get(k);C&&(r.delete(k),n.splice(n.indexOf(C),1),C.children.forEach(h),C.alias.forEach(h))}else{const C=n.indexOf(k);C>-1&&(n.splice(C,1),k.record.name&&r.delete(k.record.name),k.children.forEach(h),k.alias.forEach(h))}}function o(){return n}function p(k){const C=ske(k,n);n.splice(C,0,k),k.record.name&&!l2(k)&&r.set(k.record.name,k)}function y(k,C){let I,R={},M,F;if("name"in k&&k.name){if(I=r.get(k.name),!I)throw Ld(1,{location:k});F=I.record.name,R=pr(o2(C.params,I.keys.filter(Z=>!Z.optional).concat(I.parent?I.parent.keys.filter(Z=>Z.optional):[]).map(Z=>Z.name)),k.params&&o2(k.params,I.keys.map(Z=>Z.name))),M=I.stringify(R)}else if(k.path!=null)M=k.path,I=n.find(Z=>Z.re.test(M)),I&&(R=I.parse(M),F=I.record.name);else{if(I=C.name?r.get(C.name):n.find(Z=>Z.re.test(C.path)),!I)throw Ld(1,{location:k,currentLocation:C});F=I.record.name,R=pr({},C.params,k.params),M=I.stringify(R)}const N=[];let q=I;for(;q;)N.unshift(q.record),q=q.parent;return{name:F,path:M,params:R,matched:N,meta:ake(N)}}e.forEach(k=>u(k));function w(){n.length=0,r.clear()}return{addRoute:u,resolve:y,removeRoute:h,clearRoutes:w,getRoutes:o,getRecordMatcher:s}}function o2(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function rke(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ike(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ike(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function l2(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ake(e){return e.reduce((t,n)=>pr(t,n.meta),{})}function c2(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function ske(e,t){let n=0,r=t.length;for(;n!==r;){const u=n+r>>1;_P(e,t[u])<0?r=u:n=u+1}const s=oke(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function oke(e){let t=e;for(;t=t.parent;)if(bP(t)&&_P(e,t)===0)return t}function bP({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function lke(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const u=r[s].replace(dP," "),h=u.indexOf("="),o=Xf(h<0?u:u.slice(0,h)),p=h<0?null:Xf(u.slice(h+1));if(o in t){let y=t[o];Xs(y)||(y=t[o]=[y]),y.push(p)}else t[o]=p}return t}function u2(e){let t="";for(let n in e){const r=e[n];if(n=TSe(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Xs(r)?r.map(u=>u&&Jb(u)):[r&&Jb(r)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function cke(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Xs(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const uke=Symbol(""),d2=Symbol(""),Hx=Symbol(""),Gx=Symbol(""),e0=Symbol("");function df(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ec(e,t,n,r,s,u=h=>h()){const h=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,p)=>{const y=C=>{C===!1?p(Ld(4,{from:n,to:t})):C instanceof Error?p(C):WSe(C)?p(Ld(2,{from:t,to:C})):(h&&r.enterCallbacks[s]===h&&typeof C=="function"&&h.push(C),o())},w=u(()=>e.call(r&&r.instances[s],t,n,y));let k=Promise.resolve(w);e.length<3&&(k=k.then(y)),k.catch(C=>p(C))})}function W_(e,t,n,r,s=u=>u()){const u=[];for(const h of e)for(const o in h.components){let p=h.components[o];if(!(t!=="beforeRouteEnter"&&!h.instances[o]))if(dke(p)){const w=(p.__vccOpts||p)[t];w&&u.push(ec(w,n,r,h,o,s))}else{let y=p();u.push(()=>y.then(w=>{if(!w)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${h.path}"`));const k=pSe(w)?w.default:w;h.components[o]=k;const I=(k.__vccOpts||k)[t];return I&&ec(I,n,r,h,o,s)()}))}}return u}function dke(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function h2(e){const t=yt(Hx),n=yt(Gx),r=Y(()=>{const p=Vr(e.to);return t.resolve(p)}),s=Y(()=>{const{matched:p}=r.value,{length:y}=p,w=p[y-1],k=n.matched;if(!w||!k.length)return-1;const C=k.findIndex(Md.bind(null,w));if(C>-1)return C;const I=f2(p[y-2]);return y>1&&f2(w)===I&&k[k.length-1].path!==I?k.findIndex(Md.bind(null,p[y-2])):C}),u=Y(()=>s.value>-1&&pke(n.params,r.value.params)),h=Y(()=>s.value>-1&&s.value===n.matched.length-1&&pP(n.params,r.value.params));function o(p={}){return mke(p)?t[Vr(e.replace)?"replace":"push"](Vr(e.to)).catch(Sf):Promise.resolve()}return{route:r,href:Y(()=>r.value.href),isActive:u,isExactActive:h,navigate:o}}const hke=lr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:h2,setup(e,{slots:t}){const n=Ei(h2(e)),{options:r}=yt(Hx),s=Y(()=>({[m2(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[m2(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:Xr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},u)}}}),fke=hke;function mke(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function pke(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Xs(s)||s.length!==r.length||r.some((u,h)=>u!==s[h]))return!1}return!0}function f2(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const m2=(e,t,n)=>e??t??n,gke=lr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=yt(e0),s=Y(()=>e.route||r.value),u=yt(d2,0),h=Y(()=>{let y=Vr(u);const{matched:w}=s.value;let k;for(;(k=w[y])&&!k.components;)y++;return y}),o=Y(()=>s.value.matched[h.value]);xn(d2,Y(()=>h.value+1)),xn(uke,o),xn(e0,s);const p=ht();return ct(()=>[p.value,o.value,e.name],([y,w,k],[C,I,R])=>{w&&(w.instances[k]=y,I&&I!==w&&y&&y===C&&(w.leaveGuards.size||(w.leaveGuards=I.leaveGuards),w.updateGuards.size||(w.updateGuards=I.updateGuards))),y&&w&&(!I||!Md(w,I)||!C)&&(w.enterCallbacks[k]||[]).forEach(M=>M(y))},{flush:"post"}),()=>{const y=s.value,w=e.name,k=o.value,C=k&&k.components[w];if(!C)return p2(n.default,{Component:C,route:y});const I=k.props[w],R=I?I===!0?y.params:typeof I=="function"?I(y):I:null,F=Xr(C,pr({},R,t,{onVnodeUnmounted:N=>{N.component.isUnmounted&&(k.instances[w]=null)},ref:p}));return p2(n.default,{Component:F,route:y})||F}}});function p2(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const vke=gke;function yke(e){const t=nke(e.routes,e),n=e.parseQuery||lke,r=e.stringifyQuery||u2,s=e.history,u=df(),h=df(),o=df(),p=Rt(Yl);let y=Yl;fd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=H_.bind(null,Ne=>""+Ne),k=H_.bind(null,ESe),C=H_.bind(null,Xf);function I(Ne,it){let He,Ue;return vP(Ne)?(He=t.getRecordMatcher(Ne),Ue=it):Ue=Ne,t.addRoute(Ue,He)}function R(Ne){const it=t.getRecordMatcher(Ne);it&&t.removeRoute(it)}function M(){return t.getRoutes().map(Ne=>Ne.record)}function F(Ne){return!!t.getRecordMatcher(Ne)}function N(Ne,it){if(it=pr({},it||p.value),typeof Ne=="string"){const me=G_(n,Ne,it.path),Ve=t.resolve({path:me.path},it),Ye=s.createHref(me.fullPath);return pr(me,Ve,{params:C(Ve.params),hash:Xf(me.hash),redirectedFrom:void 0,href:Ye})}let He;if(Ne.path!=null)He=pr({},Ne,{path:G_(n,Ne.path,it.path).path});else{const me=pr({},Ne.params);for(const Ve in me)me[Ve]==null&&delete me[Ve];He=pr({},Ne,{params:k(me)}),it.params=k(it.params)}const Ue=t.resolve(He,it),Ct=Ne.hash||"";Ue.params=w(C(Ue.params));const $t=DSe(r,pr({},Ne,{hash:CSe(Ct),path:Ue.path})),ae=s.createHref($t);return pr({fullPath:$t,hash:Ct,query:r===u2?cke(Ne.query):Ne.query||{}},Ue,{redirectedFrom:void 0,href:ae})}function q(Ne){return typeof Ne=="string"?G_(n,Ne,p.value.path):pr({},Ne)}function Z(Ne,it){if(y!==Ne)return Ld(8,{from:it,to:Ne})}function se(Ne){return te(Ne)}function ie(Ne){return se(pr(q(Ne),{replace:!0}))}function J(Ne){const it=Ne.matched[Ne.matched.length-1];if(it&&it.redirect){const{redirect:He}=it;let Ue=typeof He=="function"?He(Ne):He;return typeof Ue=="string"&&(Ue=Ue.includes("?")||Ue.includes("#")?Ue=q(Ue):{path:Ue},Ue.params={}),pr({query:Ne.query,hash:Ne.hash,params:Ue.path!=null?{}:Ne.params},Ue)}}function te(Ne,it){const He=y=N(Ne),Ue=p.value,Ct=Ne.state,$t=Ne.force,ae=Ne.replace===!0,me=J(He);if(me)return te(pr(q(me),{state:typeof me=="object"?pr({},Ct,me.state):Ct,force:$t,replace:ae}),it||He);const Ve=He;Ve.redirectedFrom=it;let Ye;return!$t&&MSe(r,Ue,He)&&(Ye=Ld(16,{to:Ve,from:Ue}),Je(Ue,Ue,!0,!1)),(Ye?Promise.resolve(Ye):K(Ve,Ue)).catch(Ke=>tl(Ke)?tl(Ke,2)?Ke:Fe(Ke):ke(Ke,Ve,Ue)).then(Ke=>{if(Ke){if(tl(Ke,2))return te(pr({replace:ae},q(Ke.to),{state:typeof Ke.to=="object"?pr({},Ct,Ke.to.state):Ct,force:$t}),it||Ve)}else Ke=ee(Ve,Ue,!0,ae,Ct);return le(Ve,Ue,Ke),Ke})}function G(Ne,it){const He=Z(Ne,it);return He?Promise.reject(He):Promise.resolve()}function $(Ne){const it=Lt.values().next().value;return it&&typeof it.runWithContext=="function"?it.runWithContext(Ne):Ne()}function K(Ne,it){let He;const[Ue,Ct,$t]=_ke(Ne,it);He=W_(Ue.reverse(),"beforeRouteLeave",Ne,it);for(const me of Ue)me.leaveGuards.forEach(Ve=>{He.push(ec(Ve,Ne,it))});const ae=G.bind(null,Ne,it);return He.push(ae),kt(He).then(()=>{He=[];for(const me of u.list())He.push(ec(me,Ne,it));return He.push(ae),kt(He)}).then(()=>{He=W_(Ct,"beforeRouteUpdate",Ne,it);for(const me of Ct)me.updateGuards.forEach(Ve=>{He.push(ec(Ve,Ne,it))});return He.push(ae),kt(He)}).then(()=>{He=[];for(const me of $t)if(me.beforeEnter)if(Xs(me.beforeEnter))for(const Ve of me.beforeEnter)He.push(ec(Ve,Ne,it));else He.push(ec(me.beforeEnter,Ne,it));return He.push(ae),kt(He)}).then(()=>(Ne.matched.forEach(me=>me.enterCallbacks={}),He=W_($t,"beforeRouteEnter",Ne,it,$),He.push(ae),kt(He))).then(()=>{He=[];for(const me of h.list())He.push(ec(me,Ne,it));return He.push(ae),kt(He)}).catch(me=>tl(me,8)?me:Promise.reject(me))}function le(Ne,it,He){o.list().forEach(Ue=>$(()=>Ue(Ne,it,He)))}function ee(Ne,it,He,Ue,Ct){const $t=Z(Ne,it);if($t)return $t;const ae=it===Yl,me=fd?history.state:{};He&&(Ue||ae?s.replace(Ne.fullPath,pr({scroll:ae&&me&&me.scroll},Ct)):s.push(Ne.fullPath,Ct)),p.value=Ne,Je(Ne,it,He,ae),Fe()}let _e;function fe(){_e||(_e=s.listen((Ne,it,He)=>{if(!dt.listening)return;const Ue=N(Ne),Ct=J(Ue);if(Ct){te(pr(Ct,{replace:!0}),Ue).catch(Sf);return}y=Ue;const $t=p.value;fd&&NSe(n2($t.fullPath,He.delta),Ov()),K(Ue,$t).catch(ae=>tl(ae,12)?ae:tl(ae,2)?(te(ae.to,Ue).then(me=>{tl(me,20)&&!He.delta&&He.type===Jf.pop&&s.go(-1,!1)}).catch(Sf),Promise.reject()):(He.delta&&s.go(-He.delta,!1),ke(ae,Ue,$t))).then(ae=>{ae=ae||ee(Ue,$t,!1),ae&&(He.delta&&!tl(ae,8)?s.go(-He.delta,!1):He.type===Jf.pop&&tl(ae,20)&&s.go(-1,!1)),le(Ue,$t,ae)}).catch(Sf)}))}let Ie=df(),Te=df(),qe;function ke(Ne,it,He){Fe(Ne);const Ue=Te.list();return Ue.length?Ue.forEach(Ct=>Ct(Ne,it,He)):console.error(Ne),Promise.reject(Ne)}function Pe(){return qe&&p.value!==Yl?Promise.resolve():new Promise((Ne,it)=>{Ie.add([Ne,it])})}function Fe(Ne){return qe||(qe=!Ne,fe(),Ie.list().forEach(([it,He])=>Ne?He(Ne):it()),Ie.reset()),Ne}function Je(Ne,it,He,Ue){const{scrollBehavior:Ct}=e;if(!fd||!Ct)return Promise.resolve();const $t=!He&&$Se(n2(Ne.fullPath,0))||(Ue||!He)&&history.state&&history.state.scroll||null;return Hn().then(()=>Ct(Ne,it,$t)).then(ae=>ae&&VSe(ae)).catch(ae=>ke(ae,Ne,it))}const $e=Ne=>s.go(Ne);let at;const Lt=new Set,dt={currentRoute:p,listening:!0,addRoute:I,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:F,getRoutes:M,resolve:N,options:e,push:se,replace:ie,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:u.add,beforeResolve:h.add,afterEach:o.add,onError:Te.add,isReady:Pe,install(Ne){const it=this;Ne.component("RouterLink",fke),Ne.component("RouterView",vke),Ne.config.globalProperties.$router=it,Object.defineProperty(Ne.config.globalProperties,"$route",{enumerable:!0,get:()=>Vr(p)}),fd&&!at&&p.value===Yl&&(at=!0,se(s.location).catch(Ct=>{}));const He={};for(const Ct in Yl)Object.defineProperty(He,Ct,{get:()=>p.value[Ct],enumerable:!0});Ne.provide(Hx,it),Ne.provide(Gx,tT(He)),Ne.provide(e0,p);const Ue=Ne.unmount;Lt.add(Ne),Ne.unmount=function(){Lt.delete(Ne),Lt.size<1&&(y=Yl,_e&&_e(),_e=null,p.value=Yl,at=!1,qe=!1),Ue()}}};function kt(Ne){return Ne.reduce((it,He)=>it.then(()=>$(He)),Promise.resolve())}return dt}function _ke(e,t){const n=[],r=[],s=[],u=Math.max(t.matched.length,e.matched.length);for(let h=0;h<u;h++){const o=t.matched[h];o&&(e.matched.find(y=>Md(y,o))?r.push(o):n.push(o));const p=e.matched[h];p&&(t.matched.find(y=>Md(y,p))||s.push(p))}return[n,r,s]}function bke(e){return yt(Gx)}const xke=`In 2019 a set of library workers collaborated on the [public library data schemas](https://schema.librarydata.uk/). These were designed to help public library services publish open data.

Here are some resources about that project:

- DCMS blog - [Libraries and open data](https://dcmslibraries.blog.gov.uk/2019/09/06/libraries-and-open-data/)
- DCMS blog - [Open data - an update](https://dcmslibraries.blog.gov.uk/2020/08/03/library-open-data-an-update/)
- Frictionless Data blog - [Libraries Hacked](https://frictionlessdata.io/blog/2022/02/07/libraries-hacked/#schemas-and-frictionless-data) - a case study of using Table Schema to create a public library data schemas.

This website is to provide tools to use those schemas.

- Tools for publishing and validating data
- Visualisations from the data
- Data analysis techniques using the data.
- Data tools to aid in decision-making
`,wke={data(){return{mdText:xke}},methods:{},components:{}};function Ske(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"About",subtitle:"What the site is and does, and who for"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const kke=Qr(wke,[["render",Ske]]),Cke=`We want as many people as possible to be able to use this website. For example, that means you should be able to:

- change colours, contrast levels and fonts
- zoom in up to 300% without the text spilling off the screen
- navigate most of the website using just a keyboard
- navigate most of the website using speech recognition software
- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)

We've also made the website text as simple as possible to understand.

[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.

## Technical information about this website's accessibility

This website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).

There are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible, we are looking at making sure the information presented by the map is also available in other formats.

If you do experience any problems using this website, please raise these and [send us an email](mailto:info@librarieshacked.org).
`,Tke={data(){return{mdText:Cke}},methods:{},components:{}};function Ake(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const Eke=Qr(Tke,[["render",Ake]]),Ike=`An event is any event facilitated or organised by the library service.

Events data is in a **time-series** format. Data is maintained by adding new data (e.g. the next months events).
`,Pke={data(){return{mdText:Ike}},methods:{},components:{}},Dke={class:"text-center"};function Mke(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Events",subtitle:"Library event attendance and outcomes"}),rr("p",Dke,[T(Jt,{variant:"tonal",size:"large",color:"info",href:"https://schema.librarydata.uk/events",target:"_blank"},{default:Me(()=>[zt(" Explore the events schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const Lke=Qr(Pke,[["render",Mke]]),Rke=`We provide tools to help libraries publish and use open data.

Inspired by the public library [open data schemas](https://schema.librarydata.uk), each tool is tailored for a different dataset documented in that project. See the [about page](/about) for more background.
`,Oke={data(){return{mdText:Rke}},methods:{},components:{}},Fke={key:1};function zke(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section"),p=km;return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Create",subtitle:"Helping libraries publish and make use of open data"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),this.$store.state.loginKey?Xn("",!0):(fn(),Nn(Mr,{key:0,class:"text-center"},{default:Me(()=>[T(Jt,{"prepend-icon":"mdi-login-variant",variant:"tonal",size:"x-large",color:"success",class:"mx-1 my-1",to:"/login"},{default:Me(()=>[zt(" Log in ")]),_:1})]),_:1})),this.$store.state.loginKey?(fn(),ys("div",Fke,[T(p,{actions:!0})])):Xn("",!0)]),_:1})}const Bke=Qr(Oke,[["render",zke]]),Vke=`A library is a static service point which provides library services for the public.

Library locaions are a data **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,Nke={data(){return{mdText:Vke}},methods:{},components:{}},$ke={class:"text-center"};function Uke(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Libraries",subtitle:"Public library locations, hours, and contact details"}),rr("p",$ke,[T(Jt,{size:"large","prepend-icon":"mdi-information",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/libraries",target:"_blank"},{default:Me(()=>[zt(" Explore the locations schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const qke=Qr(Nke,[["render",Uke]]),jke=We({renderless:Boolean,...cn()},"VVirtualScrollItem"),Hke=ft()({name:"VVirtualScrollItem",inheritAttrs:!1,props:jke(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{resizeRef:u,contentRect:h}=cc(void 0,"border");ct(()=>{var o;return(o=h.value)==null?void 0:o.height},o=>{o!=null&&r("update:height",o)}),St(()=>{var o,p;return e.renderless?T(Ht,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:u})]):T("div",ot({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(p=s.default)==null?void 0:p.call(s)])})}}),Gke=-1,Wke=1,Y_=100,Yke=We({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Zke(e,t){const n=yl(),r=Rt(0);oi(()=>{r.value=parseFloat(e.itemHeight||0)});const s=Rt(0),u=Rt(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),h=Rt(0),o=Rt(0),p=ht(),y=ht();let w=0;const{resizeRef:k,contentRect:C}=cc();oi(()=>{k.value=p.value});const I=Y(()=>{var Pe;return p.value===document.documentElement?n.height.value:((Pe=C.value)==null?void 0:Pe.height)||parseInt(e.height)||0}),R=Y(()=>!!(p.value&&y.value&&I.value&&r.value));let M=Array.from({length:t.value.length}),F=Array.from({length:t.value.length});const N=Rt(0);let q=-1;function Z(Pe){return M[Pe]||r.value}const se=kF(()=>{const Pe=performance.now();F[0]=0;const Fe=t.value.length;for(let Je=1;Je<=Fe-1;Je++)F[Je]=(F[Je-1]||0)+Z(Je-1);N.value=Math.max(N.value,performance.now()-Pe)},N),ie=ct(R,Pe=>{Pe&&(ie(),w=y.value.offsetTop,se.immediate(),Ie(),~q&&Hn(()=>{dr&&window.requestAnimationFrame(()=>{qe(q),q=-1})}))});ha(()=>{se.clear()});function J(Pe,Fe){const Je=M[Pe],$e=r.value;r.value=$e?Math.min(r.value,Fe):Fe,(Je!==Fe||$e!==r.value)&&(M[Pe]=Fe,se())}function te(Pe){return Pe=ca(Pe,0,t.value.length-1),F[Pe]||0}function G(Pe){return Kke(F,Pe)}let $=0,K=0,le=0;ct(I,(Pe,Fe)=>{Fe&&(Ie(),Pe<Fe&&requestAnimationFrame(()=>{K=0,Ie()}))});function ee(){if(!p.value||!y.value)return;const Pe=p.value.scrollTop,Fe=performance.now();Fe-le>500?(K=Math.sign(Pe-$),w=y.value.offsetTop):K=Pe-$,$=Pe,le=Fe,Ie()}function _e(){!p.value||!y.value||(K=0,le=0,Ie())}let fe=-1;function Ie(){cancelAnimationFrame(fe),fe=requestAnimationFrame(Te)}function Te(){if(!p.value||!I.value)return;const Pe=$-w,Fe=Math.sign(K),Je=Math.max(0,Pe-Y_),$e=ca(G(Je),0,t.value.length),at=Pe+I.value+Y_,Lt=ca(G(at)+1,$e+1,t.value.length);if((Fe!==Gke||$e<s.value)&&(Fe!==Wke||Lt>u.value)){const dt=te(s.value)-te($e),kt=te(Lt)-te(u.value);Math.max(dt,kt)>Y_?(s.value=$e,u.value=Lt):($e<=0&&(s.value=$e),Lt>=t.value.length&&(u.value=Lt))}h.value=te(s.value),o.value=te(t.value.length)-te(u.value)}function qe(Pe){const Fe=te(Pe);!p.value||Pe&&!Fe?q=Pe:p.value.scrollTop=Fe}const ke=Y(()=>t.value.slice(s.value,u.value).map((Pe,Fe)=>({raw:Pe,index:Fe+s.value})));return ct(t,()=>{M=Array.from({length:t.value.length}),F=Array.from({length:t.value.length}),se.immediate(),Ie()},{deep:!0}),{containerRef:p,markerRef:y,computedItems:ke,paddingTop:h,paddingBottom:o,scrollToIndex:qe,handleScroll:ee,handleScrollend:_e,handleItemResize:J}}function Kke(e,t){let n=e.length-1,r=0,s=0,u=null,h=-1;if(e[n]<t)return n;for(;r<=n;)if(s=r+n>>1,u=e[s],u>t)n=s-1;else if(u<t)h=s,r=s+1;else return u===t?s:r;return h}const Xke=We({items:{type:Array,default:()=>[]},renderless:Boolean,...Yke(),...cn(),...to()},"VVirtualScroll"),xP=ft()({name:"VVirtualScroll",props:Xke(),setup(e,t){let{slots:n}=t;const r=Jr("VVirtualScroll"),{dimensionStyles:s}=no(e),{containerRef:u,markerRef:h,handleScroll:o,handleScrollend:p,handleItemResize:y,scrollToIndex:w,paddingTop:k,paddingBottom:C,computedItems:I}=Zke(e,_t(e,"items"));return Ja(()=>e.renderless,()=>{function R(){var N,q;const F=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[F]("scroll",o,{passive:!0}),document[F]("scrollend",p)):((N=u.value)==null||N[F]("scroll",o,{passive:!0}),(q=u.value)==null||q[F]("scrollend",p))}fa(()=>{u.value=fA(r.vnode.el,!0),R(!0)}),ha(R)}),St(()=>{const R=I.value.map(M=>T(Hke,{key:M.index,renderless:e.renderless,"onUpdate:height":F=>y(M.index,F)},{default:F=>{var N;return(N=n.default)==null?void 0:N.call(n,{item:M.raw,index:M.index,...F})}}));return e.renderless?T(Ht,null,[T("div",{ref:h,class:"v-virtual-scroll__spacer",style:{paddingTop:Gt(k.value)}},null),R,T("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Gt(C.value)}},null)]):T("div",{ref:u,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:p,style:[s.value,e.style]},[T("div",{ref:h,class:"v-virtual-scroll__container",style:{paddingTop:Gt(k.value),paddingBottom:Gt(C.value)}},[R])])}),{scrollToIndex:w}}});function wP(e,t){const n=Rt(!1);let r;function s(o){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function u(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const p=ct(n,()=>{p(),o()})}else o()})}async function h(o){var w,k;if(o.key==="Tab"&&((w=t.value)==null||w.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const p=(k=e.value)==null?void 0:k.$el;if(!p)return;(o.key==="Home"||o.key==="End")&&p.scrollTo({top:o.key==="Home"?0:p.scrollHeight,behavior:"smooth"}),await u();const y=p.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const C=p.getBoundingClientRect().top;for(const I of y)if(I.getBoundingClientRect().top>=C){I.focus();break}}else{const C=p.getBoundingClientRect().bottom;for(const I of[...y].reverse())if(I.getBoundingClientRect().bottom<=C){I.focus();break}}}return{onListScroll:s,onListKeydown:h}}const SP=We({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:yn,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...sI({itemChildren:!1})},"Select"),Jke=We({...SP(),...wr(ym({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...gu({transition:{component:rx}})},"VSelect"),Rd=ft()({name:"VSelect",props:Jke(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=ht(),u=ht(),h=ht(),o=hn(e,"menu"),p=Y({get:()=>o.value,set:ke=>{var Pe;o.value&&!ke&&((Pe=u.value)!=null&&Pe.ΨopenChildren)||(o.value=ke)}}),{items:y,transformIn:w,transformOut:k}=lI(e),C=hn(e,"modelValue",[],ke=>w(ke===null?[null]:Wr(ke)),ke=>{const Pe=k(ke);return e.multiple?Pe:Pe[0]??null}),I=Y(()=>typeof e.counterValue=="function"?e.counterValue(C.value):typeof e.counterValue=="number"?e.counterValue:C.value.length),R=bv(),M=Y(()=>C.value.map(ke=>ke.value)),F=Rt(!1),N=Y(()=>p.value?e.closeText:e.openText);let q="",Z;const se=Y(()=>e.hideSelected?y.value.filter(ke=>!C.value.some(Pe=>e.valueComparator(Pe,ke))):y.value),ie=Y(()=>e.hideNoData&&!se.value.length||e.readonly||(R==null?void 0:R.isReadonly.value)),J=Y(()=>{var ke;return{...e.menuProps,activatorProps:{...((ke=e.menuProps)==null?void 0:ke.activatorProps)||{},"aria-haspopup":"listbox"}}}),te=ht(),{onListScroll:G,onListKeydown:$}=wP(te,s);function K(ke){e.openOnClear&&(p.value=!0)}function le(){ie.value||(p.value=!p.value)}function ee(ke){var at,Lt;if(!ke.key||e.readonly||R!=null&&R.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(ke.key)&&ke.preventDefault(),["Enter","ArrowDown"," "].includes(ke.key)&&(p.value=!0),["Escape","Tab"].includes(ke.key)&&(p.value=!1),ke.key==="Home"?(at=te.value)==null||at.focus("first"):ke.key==="End"&&((Lt=te.value)==null||Lt.focus("last"));const Pe=1e3;function Fe(dt){const kt=dt.key.length===1,Ne=!dt.ctrlKey&&!dt.metaKey&&!dt.altKey;return kt&&Ne}if(e.multiple||!Fe(ke))return;const Je=performance.now();Je-Z>Pe&&(q=""),q+=ke.key.toLowerCase(),Z=Je;const $e=y.value.find(dt=>dt.title.toLowerCase().startsWith(q));if($e!==void 0){C.value=[$e];const dt=se.value.indexOf($e);dr&&window.requestAnimationFrame(()=>{var kt;dt>=0&&((kt=h.value)==null||kt.scrollToIndex(dt))})}}function _e(ke){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!ke.props.disabled)if(e.multiple){const Fe=C.value.findIndex($e=>e.valueComparator($e.value,ke.value)),Je=Pe??!~Fe;if(~Fe){const $e=Je?[...C.value,ke]:[...C.value];$e.splice(Fe,1),C.value=$e}else Je&&(C.value=[...C.value,ke])}else{const Fe=Pe!==!1;C.value=Fe?[ke]:[],Hn(()=>{p.value=!1})}}function fe(ke){var Pe;(Pe=te.value)!=null&&Pe.$el.contains(ke.relatedTarget)||(p.value=!1)}function Ie(){var ke;F.value&&((ke=s.value)==null||ke.focus())}function Te(ke){F.value=!0}function qe(ke){if(ke==null)C.value=[];else if(Id(s.value,":autofill")||Id(s.value,":-webkit-autofill")){const Pe=y.value.find(Fe=>Fe.title===ke);Pe&&_e(Pe)}else s.value&&(s.value.value="")}return ct(p,()=>{if(!e.hideSelected&&p.value&&C.value.length){const ke=se.value.findIndex(Pe=>C.value.some(Fe=>e.valueComparator(Fe.value,Pe.value)));dr&&window.requestAnimationFrame(()=>{var Pe;ke>=0&&((Pe=h.value)==null||Pe.scrollToIndex(ke))})}}),ct(()=>e.items,(ke,Pe)=>{p.value||F.value&&!Pe.length&&ke.length&&(p.value=!0)}),St(()=>{const ke=!!(e.chips||n.chip),Pe=!!(!e.hideNoData||se.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Fe=C.value.length>0,Je=ii.filterProps(e),$e=Fe||!F.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return T(ii,ot({ref:s},Je,{modelValue:C.value.map(at=>at.props.value).join(", "),"onUpdate:modelValue":qe,focused:F.value,"onUpdate:focused":at=>F.value=at,validationValue:C.externalValue,counterValue:I.value,dirty:Fe,class:["v-select",{"v-select--active-menu":p.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":C.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:$e,"onClick:clear":K,"onMousedown:control":le,onBlur:fe,onKeydown:ee,"aria-label":r(N.value),title:r(N.value)}),{...n,default:()=>T(Ht,null,[T(hx,ot({ref:u,modelValue:p.value,"onUpdate:modelValue":at=>p.value=at,activator:"parent",contentClass:"v-select__content",disabled:ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:Ie},J.value),{default:()=>[Pe&&T(Wf,ot({ref:te,selected:M.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:at=>at.preventDefault(),onKeydown:$,onFocusin:Te,onScrollPassive:G,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var at,Lt,dt;return[(at=n["prepend-item"])==null?void 0:at.call(n),!se.value.length&&!e.hideNoData&&(((Lt=n["no-data"])==null?void 0:Lt.call(n))??T(Dr,{title:r(e.noDataText)},null)),T(xP,{ref:h,renderless:!0,items:se.value},{default:kt=>{var Ct;let{item:Ne,index:it,itemRef:He}=kt;const Ue=ot(Ne.props,{ref:He,key:it,onClick:()=>_e(Ne,null)});return((Ct=n.item)==null?void 0:Ct.call(n,{item:Ne,index:it,props:Ue}))??T(Dr,ot(Ue,{role:"option"}),{prepend:$t=>{let{isSelected:ae}=$t;return T(Ht,null,[e.multiple&&!e.hideSelected?T(jd,{key:Ne.value,modelValue:ae,ripple:!1,tabindex:"-1"},null):void 0,Ne.props.prependAvatar&&T(Eo,{image:Ne.props.prependAvatar},null),Ne.props.prependIcon&&T(nr,{icon:Ne.props.prependIcon},null)])}})}}),(dt=n["append-item"])==null?void 0:dt.call(n)]}})]}),C.value.map((at,Lt)=>{function dt(He){He.stopPropagation(),He.preventDefault(),_e(at,!1)}const kt={"onClick:close":dt,onKeydown(He){He.key!=="Enter"&&He.key!==" "||(He.preventDefault(),He.stopPropagation(),dt(He))},onMousedown(He){He.preventDefault(),He.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ne=ke?!!n.chip:!!n.selection,it=Ne?j0(ke?n.chip({item:at,index:Lt,props:kt}):n.selection({item:at,index:Lt})):void 0;if(!(Ne&&!it))return T("div",{key:at.value,class:"v-select__selection"},[ke?n.chip?T(Bn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:at.title}}},{default:()=>[it]}):T(fl,ot({key:"chip",closable:e.closableChips,size:"small",text:at.title,disabled:at.props.disabled},kt),null):it??T("span",{class:"v-select__selection-text"},[at.title,e.multiple&&Lt<C.value.length-1&&T("span",{class:"v-select__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var kt;for(var at=arguments.length,Lt=new Array(at),dt=0;dt<at;dt++)Lt[dt]=arguments[dt];return T(Ht,null,[(kt=n["append-inner"])==null?void 0:kt.call(n,...Lt),e.menuIcon?T(nr,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ro({isFocused:F,menu:p,select:_e},s)}});function Qke(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?T(Ht,null,[T("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),T("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),T("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const eCe=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Ax({filterKeys:["title"]}),...SP(),...wr(ym({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...gu({transition:!1})},"VAutocomplete"),tCe=ft()({name:"VAutocomplete",props:eCe(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=ht(),u=Rt(!1),h=Rt(!0),o=Rt(!1),p=ht(),y=ht(),w=hn(e,"menu"),k=Y({get:()=>w.value,set:Ue=>{var Ct;w.value&&!Ue&&((Ct=p.value)!=null&&Ct.ΨopenChildren)||(w.value=Ue)}}),C=Rt(-1),I=Y(()=>{var Ue;return(Ue=s.value)==null?void 0:Ue.color}),R=Y(()=>k.value?e.closeText:e.openText),{items:M,transformIn:F,transformOut:N}=lI(e),{textColorClasses:q,textColorStyles:Z}=Na(I),se=hn(e,"search",""),ie=hn(e,"modelValue",[],Ue=>F(Ue===null?[null]:Wr(Ue)),Ue=>{const Ct=N(Ue);return e.multiple?Ct:Ct[0]??null}),J=Y(()=>typeof e.counterValue=="function"?e.counterValue(ie.value):typeof e.counterValue=="number"?e.counterValue:ie.value.length),te=bv(),{filteredItems:G,getMatches:$}=Ex(e,M,()=>h.value?"":se.value),K=Y(()=>e.hideSelected?G.value.filter(Ue=>!ie.value.some(Ct=>Ct.value===Ue.value)):G.value),le=Y(()=>!!(e.chips||n.chip)),ee=Y(()=>le.value||!!n.selection),_e=Y(()=>ie.value.map(Ue=>Ue.props.value)),fe=Y(()=>{var Ct;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&se.value===((Ct=K.value[0])==null?void 0:Ct.title))&&K.value.length>0&&!h.value&&!o.value}),Ie=Y(()=>e.hideNoData&&!K.value.length||e.readonly||(te==null?void 0:te.isReadonly.value)),Te=ht(),{onListScroll:qe,onListKeydown:ke}=wP(Te,s);function Pe(Ue){e.openOnClear&&(k.value=!0),se.value=""}function Fe(){Ie.value||(k.value=!0)}function Je(Ue){Ie.value||(u.value&&(Ue.preventDefault(),Ue.stopPropagation()),k.value=!k.value)}function $e(Ue){var ae,me,Ve;if(e.readonly||te!=null&&te.isReadonly.value)return;const Ct=s.value.selectionStart,$t=ie.value.length;if((C.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Ue.key))&&Ue.preventDefault(),["Enter","ArrowDown"].includes(Ue.key)&&(k.value=!0),["Escape"].includes(Ue.key)&&(k.value=!1),fe.value&&["Enter","Tab"].includes(Ue.key)&&!ie.value.some(Ye=>{let{value:Ke}=Ye;return Ke===K.value[0].value})&&He(K.value[0]),Ue.key==="ArrowDown"&&fe.value&&((ae=Te.value)==null||ae.focus("next")),["Backspace","Delete"].includes(Ue.key)){if(!e.multiple&&ee.value&&ie.value.length>0&&!se.value)return He(ie.value[0],!1);if(~C.value){const Ye=C.value;He(ie.value[C.value],!1),C.value=Ye>=$t-1?$t-2:Ye}else Ue.key==="Backspace"&&!se.value&&(C.value=$t-1)}if(e.multiple){if(Ue.key==="ArrowLeft"){if(C.value<0&&Ct>0)return;const Ye=C.value>-1?C.value-1:$t-1;ie.value[Ye]?C.value=Ye:(C.value=-1,s.value.setSelectionRange((me=se.value)==null?void 0:me.length,(Ve=se.value)==null?void 0:Ve.length))}if(Ue.key==="ArrowRight"){if(C.value<0)return;const Ye=C.value+1;ie.value[Ye]?C.value=Ye:(C.value=-1,s.value.setSelectionRange(0,0))}}}function at(Ue){if(Id(s.value,":autofill")||Id(s.value,":-webkit-autofill")){const Ct=M.value.find($t=>$t.title===Ue.target.value);Ct&&He(Ct)}}function Lt(){var Ue;u.value&&(h.value=!0,(Ue=s.value)==null||Ue.focus())}function dt(Ue){u.value=!0,setTimeout(()=>{o.value=!0})}function kt(Ue){o.value=!1}function Ne(Ue){(Ue==null||Ue===""&&!e.multiple&&!ee.value)&&(ie.value=[])}const it=Rt(!1);function He(Ue){let Ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Ue||Ue.props.disabled))if(e.multiple){const $t=ie.value.findIndex(me=>e.valueComparator(me.value,Ue.value)),ae=Ct??!~$t;if(~$t){const me=ae?[...ie.value,Ue]:[...ie.value];me.splice($t,1),ie.value=me}else ae&&(ie.value=[...ie.value,Ue]);e.clearOnSelect&&(se.value="")}else{const $t=Ct!==!1;ie.value=$t?[Ue]:[],se.value=$t&&!ee.value?Ue.title:"",Hn(()=>{k.value=!1,h.value=!0})}}return ct(u,(Ue,Ct)=>{var $t;Ue!==Ct&&(Ue?(it.value=!0,se.value=e.multiple||ee.value?"":String((($t=ie.value.at(-1))==null?void 0:$t.props.title)??""),h.value=!0,Hn(()=>it.value=!1)):(!e.multiple&&se.value==null&&(ie.value=[]),k.value=!1,ie.value.some(ae=>{let{title:me}=ae;return me===se.value})||(se.value=""),C.value=-1))}),ct(se,Ue=>{!u.value||it.value||(Ue&&(k.value=!0),h.value=!Ue)}),ct(k,()=>{if(!e.hideSelected&&k.value&&ie.value.length){const Ue=K.value.findIndex(Ct=>ie.value.some($t=>Ct.value===$t.value));dr&&window.requestAnimationFrame(()=>{var Ct;Ue>=0&&((Ct=y.value)==null||Ct.scrollToIndex(Ue))})}}),ct(()=>e.items,(Ue,Ct)=>{k.value||u.value&&!Ct.length&&Ue.length&&(k.value=!0)}),St(()=>{const Ue=!!(!e.hideNoData||K.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Ct=ie.value.length>0,$t=ii.filterProps(e);return T(ii,ot({ref:s},$t,{modelValue:se.value,"onUpdate:modelValue":[ae=>se.value=ae,Ne],focused:u.value,"onUpdate:focused":ae=>u.value=ae,validationValue:ie.externalValue,counterValue:J.value,dirty:Ct,onChange:at,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":k.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!ee.value,"v-autocomplete--selecting-index":C.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:Ct?void 0:e.placeholder,"onClick:clear":Pe,"onMousedown:control":Fe,onKeydown:$e}),{...n,default:()=>T(Ht,null,[T(hx,ot({ref:p,modelValue:k.value,"onUpdate:modelValue":ae=>k.value=ae,activator:"parent",contentClass:"v-autocomplete__content",disabled:Ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:Lt},e.menuProps),{default:()=>[Ue&&T(Wf,ot({ref:Te,selected:_e.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ae=>ae.preventDefault(),onKeydown:ke,onFocusin:dt,onFocusout:kt,onScrollPassive:qe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var ae,me,Ve;return[(ae=n["prepend-item"])==null?void 0:ae.call(n),!K.value.length&&!e.hideNoData&&(((me=n["no-data"])==null?void 0:me.call(n))??T(Dr,{title:r(e.noDataText)},null)),T(xP,{ref:y,renderless:!0,items:K.value},{default:Ye=>{var gt;let{item:Ke,index:pt,itemRef:bt}=Ye;const Ce=ot(Ke.props,{ref:bt,key:pt,active:fe.value&&pt===0?!0:void 0,onClick:()=>He(Ke,null)});return((gt=n.item)==null?void 0:gt.call(n,{item:Ke,index:pt,props:Ce}))??T(Dr,ot(Ce,{role:"option"}),{prepend:Qe=>{let{isSelected:lt}=Qe;return T(Ht,null,[e.multiple&&!e.hideSelected?T(jd,{key:Ke.value,modelValue:lt,ripple:!1,tabindex:"-1"},null):void 0,Ke.props.prependAvatar&&T(Eo,{image:Ke.props.prependAvatar},null),Ke.props.prependIcon&&T(nr,{icon:Ke.props.prependIcon},null)])},title:()=>{var Qe,lt;return h.value?Ke.title:Qke(Ke.title,(Qe=$(Ke))==null?void 0:Qe.title,((lt=se.value)==null?void 0:lt.length)??0)}})}}),(Ve=n["append-item"])==null?void 0:Ve.call(n)]}})]}),ie.value.map((ae,me)=>{function Ve(bt){bt.stopPropagation(),bt.preventDefault(),He(ae,!1)}const Ye={"onClick:close":Ve,onKeydown(bt){bt.key!=="Enter"&&bt.key!==" "||(bt.preventDefault(),bt.stopPropagation(),Ve(bt))},onMousedown(bt){bt.preventDefault(),bt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ke=le.value?!!n.chip:!!n.selection,pt=Ke?j0(le.value?n.chip({item:ae,index:me,props:Ye}):n.selection({item:ae,index:me})):void 0;if(!(Ke&&!pt))return T("div",{key:ae.value,class:["v-autocomplete__selection",me===C.value&&["v-autocomplete__selection--selected",q.value]],style:me===C.value?Z.value:{}},[le.value?n.chip?T(Bn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ae.title}}},{default:()=>[pt]}):T(fl,ot({key:"chip",closable:e.closableChips,size:"small",text:ae.title,disabled:ae.props.disabled},Ye),null):pt??T("span",{class:"v-autocomplete__selection-text"},[ae.title,e.multiple&&me<ie.value.length-1&&T("span",{class:"v-autocomplete__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var Ye;for(var ae=arguments.length,me=new Array(ae),Ve=0;Ve<ae;Ve++)me[Ve]=arguments[Ve];return T(Ht,null,[(Ye=n["append-inner"])==null?void 0:Ye.call(n,...me),e.menuIcon?T(nr,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Je,onClick:EF,"aria-label":r(R.value),title:r(R.value),tabindex:"-1"},null):void 0])}})}),Ro({isFocused:u,isPristine:h,menu:k,search:se,filteredItems:G,select:He},s)}}),nCe={data(){return{libraryServices:[],selectedService:null}},created(){this.libraryServices=this.$store.state.libraryServices,this.libraryServices.length===0&&this.getServices()},methods:{deselectService(){this.selectedService=null,this.$emit("select",null)},async getServices(){let e=await lP();e=e.sort((t,n)=>t.nice_name.localeCompare(n.nice_name)),this.$store.commit("setServices",e),this.libraryServices=e},updateSelection(e){this.selectedService=e,this.$emit("select",this.selectedService)}}},rCe=rr("div",{class:"text-caption pa-3"},"Select local authority",-1);function iCe(e,t,n,r,s,u){return fn(),Nn(Za,{elevation:"0",color:"grey-lighten-5"},{default:Me(()=>[rCe,T(tCe,{"persistent-hint":"",variant:"outlined","bg-color":"white",class:"elevation-0",clearable:"",items:s.libraryServices,"item-title":"nice_name","item-value":"code",label:"Select local library authority","return-object":"",loading:s.libraryServices.length===0,"prepend-inner-icon":"mdi-domain","onUpdate:modelValue":u.updateSelection,hint:"You can type to search library services."},null,8,["items","loading","onUpdate:modelValue"]),s.selectedService!=null?(fn(),Nn(fl,{key:0,class:"ma-2",closable:"","onClick:close":t[0]||(t[0]=h=>u.deselectService())},{default:Me(()=>[zt(bs(s.selectedService.nice_name),1)]),_:1})):Xn("",!0)]),_:1})}const Fv=Qr(nCe,[["render",iCe]]),aCe=`This tool allows you to view and edit library service points, grouped by local authority. To make changes you must first [Log in](/login). At the end you must **publish changes** to ensure you overwrite the existing data.
`;var kP={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(Yc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,h={},o=0,p={parse:function(G,$){var K=($=$||{}).dynamicTyping||!1;if(te(K)&&($.dynamicTypingFunction=K,K={}),$.dynamicTyping=K,$.transform=!!te($.transform)&&$.transform,$.worker&&p.WORKERS_SUPPORTED){var le=function(){if(!p.WORKERS_SUPPORTED)return!1;var _e=(Ie=r.URL||r.webkitURL||null,Te=n.toString(),p.BLOB_URL||(p.BLOB_URL=Ie.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Te,")();"],{type:"text/javascript"})))),fe=new r.Worker(_e),Ie,Te;return fe.onmessage=q,fe.id=o++,h[fe.id]=fe}();return le.userStep=$.step,le.userChunk=$.chunk,le.userComplete=$.complete,le.userError=$.error,$.step=te($.step),$.chunk=te($.chunk),$.complete=te($.complete),$.error=te($.error),delete $.worker,void le.postMessage({input:G,config:$,workerId:le.id})}var ee=null;return p.NODE_STREAM_INPUT,typeof G=="string"?(G=function(_e){return _e.charCodeAt(0)===65279?_e.slice(1):_e}(G),ee=$.download?new k($):new I($)):G.readable===!0&&te(G.read)&&te(G.on)?ee=new R($):(r.File&&G instanceof File||G instanceof Object)&&(ee=new C($)),ee.stream(G)},unparse:function(G,$){var K=!1,le=!0,ee=",",_e=`\r
`,fe='"',Ie=fe+fe,Te=!1,qe=null,ke=!1;(function(){if(typeof $=="object"){if(typeof $.delimiter!="string"||p.BAD_DELIMITERS.filter(function($e){return $.delimiter.indexOf($e)!==-1}).length||(ee=$.delimiter),(typeof $.quotes=="boolean"||typeof $.quotes=="function"||Array.isArray($.quotes))&&(K=$.quotes),typeof $.skipEmptyLines!="boolean"&&typeof $.skipEmptyLines!="string"||(Te=$.skipEmptyLines),typeof $.newline=="string"&&(_e=$.newline),typeof $.quoteChar=="string"&&(fe=$.quoteChar),typeof $.header=="boolean"&&(le=$.header),Array.isArray($.columns)){if($.columns.length===0)throw new Error("Option columns is empty");qe=$.columns}$.escapeChar!==void 0&&(Ie=$.escapeChar+fe),(typeof $.escapeFormulae=="boolean"||$.escapeFormulae instanceof RegExp)&&(ke=$.escapeFormulae instanceof RegExp?$.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Pe=new RegExp(F(fe),"g");if(typeof G=="string"&&(G=JSON.parse(G)),Array.isArray(G)){if(!G.length||Array.isArray(G[0]))return Fe(null,G,Te);if(typeof G[0]=="object")return Fe(qe||Object.keys(G[0]),G,Te)}else if(typeof G=="object")return typeof G.data=="string"&&(G.data=JSON.parse(G.data)),Array.isArray(G.data)&&(G.fields||(G.fields=G.meta&&G.meta.fields||qe),G.fields||(G.fields=Array.isArray(G.data[0])?G.fields:typeof G.data[0]=="object"?Object.keys(G.data[0]):[]),Array.isArray(G.data[0])||typeof G.data[0]=="object"||(G.data=[G.data])),Fe(G.fields||[],G.data||[],Te);throw new Error("Unable to serialize unrecognized input");function Fe($e,at,Lt){var dt="";typeof $e=="string"&&($e=JSON.parse($e)),typeof at=="string"&&(at=JSON.parse(at));var kt=Array.isArray($e)&&0<$e.length,Ne=!Array.isArray(at[0]);if(kt&&le){for(var it=0;it<$e.length;it++)0<it&&(dt+=ee),dt+=Je($e[it],it);0<at.length&&(dt+=_e)}for(var He=0;He<at.length;He++){var Ue=kt?$e.length:at[He].length,Ct=!1,$t=kt?Object.keys(at[He]).length===0:at[He].length===0;if(Lt&&!kt&&(Ct=Lt==="greedy"?at[He].join("").trim()==="":at[He].length===1&&at[He][0].length===0),Lt==="greedy"&&kt){for(var ae=[],me=0;me<Ue;me++){var Ve=Ne?$e[me]:me;ae.push(at[He][Ve])}Ct=ae.join("").trim()===""}if(!Ct){for(var Ye=0;Ye<Ue;Ye++){0<Ye&&!$t&&(dt+=ee);var Ke=kt&&Ne?$e[Ye]:Ye;dt+=Je(at[He][Ke],Ye)}He<at.length-1&&(!Lt||0<Ue&&!$t)&&(dt+=_e)}}return dt}function Je($e,at){if($e==null)return"";if($e.constructor===Date)return JSON.stringify($e).slice(1,25);var Lt=!1;ke&&typeof $e=="string"&&ke.test($e)&&($e="'"+$e,Lt=!0);var dt=$e.toString().replace(Pe,Ie);return(Lt=Lt||K===!0||typeof K=="function"&&K($e,at)||Array.isArray(K)&&K[at]||function(kt,Ne){for(var it=0;it<Ne.length;it++)if(-1<kt.indexOf(Ne[it]))return!0;return!1}(dt,p.BAD_DELIMITERS)||-1<dt.indexOf(ee)||dt.charAt(0)===" "||dt.charAt(dt.length-1)===" ")?fe+dt+fe:dt}}};if(p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!s&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=N,p.ParserHandle=M,p.NetworkStreamer=k,p.FileStreamer=C,p.StringStreamer=I,p.ReadableStreamStreamer=R,r.jQuery){var y=r.jQuery;y.fn.parse=function(G){var $=G.config||{},K=[];return this.each(function(_e){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var fe=0;fe<this.files.length;fe++)K.push({file:this.files[fe],inputElem:this,instanceConfig:y.extend({},$)})}),le(),this;function le(){if(K.length!==0){var _e,fe,Ie,Te,qe=K[0];if(te(G.before)){var ke=G.before(qe.file,qe.inputElem);if(typeof ke=="object"){if(ke.action==="abort")return _e="AbortError",fe=qe.file,Ie=qe.inputElem,Te=ke.reason,void(te(G.error)&&G.error({name:_e},fe,Ie,Te));if(ke.action==="skip")return void ee();typeof ke.config=="object"&&(qe.instanceConfig=y.extend(qe.instanceConfig,ke.config))}else if(ke==="skip")return void ee()}var Pe=qe.instanceConfig.complete;qe.instanceConfig.complete=function(Fe){te(Pe)&&Pe(Fe,qe.file,qe.inputElem),ee()},p.parse(qe.file,qe.instanceConfig)}else te(G.complete)&&G.complete()}function ee(){K.splice(0,1),le()}}}function w(G){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function($){var K=ie($);K.chunkSize=parseInt(K.chunkSize),$.step||$.chunk||(K.chunkSize=null),this._handle=new M(K),(this._handle.streamer=this)._config=K}).call(this,G),this.parseChunk=function($,K){if(this.isFirstChunk&&te(this._config.beforeFirstChunk)){var le=this._config.beforeFirstChunk($);le!==void 0&&($=le)}this.isFirstChunk=!1,this._halted=!1;var ee=this._partialLine+$;this._partialLine="";var _e=this._handle.parse(ee,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var fe=_e.meta.cursor;this._finished||(this._partialLine=ee.substring(fe-this._baseIndex),this._baseIndex=fe),_e&&_e.data&&(this._rowCount+=_e.data.length);var Ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(u)r.postMessage({results:_e,workerId:p.WORKER_ID,finished:Ie});else if(te(this._config.chunk)&&!K){if(this._config.chunk(_e,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);_e=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_e.data),this._completeResults.errors=this._completeResults.errors.concat(_e.errors),this._completeResults.meta=_e.meta),this._completed||!Ie||!te(this._config.complete)||_e&&_e.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ie||_e&&_e.meta.paused||this._nextChunk(),_e}this._halted=!0},this._sendError=function($){te(this._config.error)?this._config.error($):u&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:$,finished:!1})}}function k(G){var $;(G=G||{}).chunkSize||(G.chunkSize=p.RemoteChunkSize),w.call(this,G),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if($=new XMLHttpRequest,this._config.withCredentials&&($.withCredentials=this._config.withCredentials),s||($.onload=J(this._chunkLoaded,this),$.onerror=J(this._chunkError,this)),$.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var K=this._config.downloadRequestHeaders;for(var le in K)$.setRequestHeader(le,K[le])}if(this._config.chunkSize){var ee=this._start+this._config.chunkSize-1;$.setRequestHeader("Range","bytes="+this._start+"-"+ee)}try{$.send(this._config.downloadRequestBody)}catch(_e){this._chunkError(_e.message)}s&&$.status===0&&this._chunkError()}},this._chunkLoaded=function(){$.readyState===4&&($.status<200||400<=$.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:$.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(K){var le=K.getResponseHeader("Content-Range");return le===null?-1:parseInt(le.substring(le.lastIndexOf("/")+1))}($),this.parseChunk($.responseText)))},this._chunkError=function(K){var le=$.statusText||K;this._sendError(new Error(le))}}function C(G){var $,K;(G=G||{}).chunkSize||(G.chunkSize=p.LocalChunkSize),w.call(this,G);var le=typeof FileReader<"u";this.stream=function(ee){this._input=ee,K=ee.slice||ee.webkitSlice||ee.mozSlice,le?(($=new FileReader).onload=J(this._chunkLoaded,this),$.onerror=J(this._chunkError,this)):$=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ee=this._input;if(this._config.chunkSize){var _e=Math.min(this._start+this._config.chunkSize,this._input.size);ee=K.call(ee,this._start,_e)}var fe=$.readAsText(ee,this._config.encoding);le||this._chunkLoaded({target:{result:fe}})},this._chunkLoaded=function(ee){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ee.target.result)},this._chunkError=function(){this._sendError($.error)}}function I(G){var $;w.call(this,G=G||{}),this.stream=function(K){return $=K,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var K,le=this._config.chunkSize;return le?(K=$.substring(0,le),$=$.substring(le)):(K=$,$=""),this._finished=!$,this.parseChunk(K)}}}function R(G){w.call(this,G=G||{});var $=[],K=!0,le=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ee){this._input=ee,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){le&&$.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),$.length?this.parseChunk($.shift()):K=!0},this._streamData=J(function(ee){try{$.push(typeof ee=="string"?ee:ee.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk($.shift()))}catch(_e){this._streamError(_e)}},this),this._streamError=J(function(ee){this._streamCleanUp(),this._sendError(ee)},this),this._streamEnd=J(function(){this._streamCleanUp(),le=!0,this._streamData("")},this),this._streamCleanUp=J(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function M(G){var $,K,le,ee=Math.pow(2,53),_e=-ee,fe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Te=this,qe=0,ke=0,Pe=!1,Fe=!1,Je=[],$e={data:[],errors:[],meta:{}};if(te(G.step)){var at=G.step;G.step=function(He){if($e=He,kt())dt();else{if(dt(),$e.data.length===0)return;qe+=He.data.length,G.preview&&qe>G.preview?K.abort():($e.data=$e.data[0],at($e,Te))}}}function Lt(He){return G.skipEmptyLines==="greedy"?He.join("").trim()==="":He.length===1&&He[0].length===0}function dt(){return $e&&le&&(it("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),le=!1),G.skipEmptyLines&&($e.data=$e.data.filter(function(He){return!Lt(He)})),kt()&&function(){if(!$e)return;function He(Ct,$t){te(G.transformHeader)&&(Ct=G.transformHeader(Ct,$t)),Je.push(Ct)}if(Array.isArray($e.data[0])){for(var Ue=0;kt()&&Ue<$e.data.length;Ue++)$e.data[Ue].forEach(He);$e.data.splice(0,1)}else $e.data.forEach(He)}(),function(){if(!$e||!G.header&&!G.dynamicTyping&&!G.transform)return $e;function He(Ct,$t){var ae,me=G.header?{}:[];for(ae=0;ae<Ct.length;ae++){var Ve=ae,Ye=Ct[ae];G.header&&(Ve=ae>=Je.length?"__parsed_extra":Je[ae]),G.transform&&(Ye=G.transform(Ye,Ve)),Ye=Ne(Ve,Ye),Ve==="__parsed_extra"?(me[Ve]=me[Ve]||[],me[Ve].push(Ye)):me[Ve]=Ye}return G.header&&(ae>Je.length?it("FieldMismatch","TooManyFields","Too many fields: expected "+Je.length+" fields but parsed "+ae,ke+$t):ae<Je.length&&it("FieldMismatch","TooFewFields","Too few fields: expected "+Je.length+" fields but parsed "+ae,ke+$t)),me}var Ue=1;return!$e.data.length||Array.isArray($e.data[0])?($e.data=$e.data.map(He),Ue=$e.data.length):$e.data=He($e.data,0),G.header&&$e.meta&&($e.meta.fields=Je),ke+=Ue,$e}()}function kt(){return G.header&&Je.length===0}function Ne(He,Ue){return Ct=He,G.dynamicTypingFunction&&G.dynamicTyping[Ct]===void 0&&(G.dynamicTyping[Ct]=G.dynamicTypingFunction(Ct)),(G.dynamicTyping[Ct]||G.dynamicTyping)===!0?Ue==="true"||Ue==="TRUE"||Ue!=="false"&&Ue!=="FALSE"&&(function($t){if(fe.test($t)){var ae=parseFloat($t);if(_e<ae&&ae<ee)return!0}return!1}(Ue)?parseFloat(Ue):Ie.test(Ue)?new Date(Ue):Ue===""?null:Ue):Ue;var Ct}function it(He,Ue,Ct,$t){var ae={type:He,code:Ue,message:Ct};$t!==void 0&&(ae.row=$t),$e.errors.push(ae)}this.parse=function(He,Ue,Ct){var $t=G.quoteChar||'"';if(G.newline||(G.newline=function(Ve,Ye){Ve=Ve.substring(0,1048576);var Ke=new RegExp(F(Ye)+"([^]*?)"+F(Ye),"gm"),pt=(Ve=Ve.replace(Ke,"")).split("\r"),bt=Ve.split(`
`),Ce=1<bt.length&&bt[0].length<pt[0].length;if(pt.length===1||Ce)return`
`;for(var gt=0,Qe=0;Qe<pt.length;Qe++)pt[Qe][0]===`
`&&gt++;return gt>=pt.length/2?`\r
`:"\r"}(He,$t)),le=!1,G.delimiter)te(G.delimiter)&&(G.delimiter=G.delimiter(He),$e.meta.delimiter=G.delimiter);else{var ae=function(Ve,Ye,Ke,pt,bt){var Ce,gt,Qe,lt;bt=bt||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var Et=0;Et<bt.length;Et++){var It=bt[Et],an=0,sn=0,On=0;Qe=void 0;for(var _n=new N({comments:pt,delimiter:It,newline:Ye,preview:10}).parse(Ve),$n=0;$n<_n.data.length;$n++)if(Ke&&Lt(_n.data[$n]))On++;else{var ur=_n.data[$n].length;sn+=ur,Qe!==void 0?0<ur&&(an+=Math.abs(ur-Qe),Qe=ur):Qe=ur}0<_n.data.length&&(sn/=_n.data.length-On),(gt===void 0||an<=gt)&&(lt===void 0||lt<sn)&&1.99<sn&&(gt=an,Ce=It,lt=sn)}return{successful:!!(G.delimiter=Ce),bestDelimiter:Ce}}(He,G.newline,G.skipEmptyLines,G.comments,G.delimitersToGuess);ae.successful?G.delimiter=ae.bestDelimiter:(le=!0,G.delimiter=p.DefaultDelimiter),$e.meta.delimiter=G.delimiter}var me=ie(G);return G.preview&&G.header&&me.preview++,$=He,K=new N(me),$e=K.parse($,Ue,Ct),dt(),Pe?{meta:{paused:!0}}:$e||{meta:{paused:!1}}},this.paused=function(){return Pe},this.pause=function(){Pe=!0,K.abort(),$=te(G.chunk)?"":$.substring(K.getCharIndex())},this.resume=function(){Te.streamer._halted?(Pe=!1,Te.streamer.parseChunk($,!0)):setTimeout(Te.resume,3)},this.aborted=function(){return Fe},this.abort=function(){Fe=!0,K.abort(),$e.meta.aborted=!0,te(G.complete)&&G.complete($e),$=""}}function F(G){return G.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function N(G){var $,K=(G=G||{}).delimiter,le=G.newline,ee=G.comments,_e=G.step,fe=G.preview,Ie=G.fastMode,Te=$=G.quoteChar===void 0||G.quoteChar===null?'"':G.quoteChar;if(G.escapeChar!==void 0&&(Te=G.escapeChar),(typeof K!="string"||-1<p.BAD_DELIMITERS.indexOf(K))&&(K=","),ee===K)throw new Error("Comment character same as delimiter");ee===!0?ee="#":(typeof ee!="string"||-1<p.BAD_DELIMITERS.indexOf(ee))&&(ee=!1),le!==`
`&&le!=="\r"&&le!==`\r
`&&(le=`
`);var qe=0,ke=!1;this.parse=function(Pe,Fe,Je){if(typeof Pe!="string")throw new Error("Input must be a string");var $e=Pe.length,at=K.length,Lt=le.length,dt=ee.length,kt=te(_e),Ne=[],it=[],He=[],Ue=qe=0;if(!Pe)return vt();if(G.header&&!Fe){var Ct=Pe.split(le)[0].split(K),$t=[],ae={},me=!1;for(var Ve in Ct){var Ye=Ct[Ve];te(G.transformHeader)&&(Ye=G.transformHeader(Ye,Ve));var Ke=Ye,pt=ae[Ye]||0;for(0<pt&&(me=!0,Ke=Ye+"_"+pt),ae[Ye]=pt+1;$t.includes(Ke);)Ke=Ke+"_"+pt;$t.push(Ke)}if(me){var bt=Pe.split(le);bt[0]=$t.join(K),Pe=bt.join(le)}}if(Ie||Ie!==!1&&Pe.indexOf($)===-1){for(var Ce=Pe.split(le),gt=0;gt<Ce.length;gt++){if(He=Ce[gt],qe+=He.length,gt!==Ce.length-1)qe+=le.length;else if(Je)return vt();if(!ee||He.substring(0,dt)!==ee){if(kt){if(Ne=[],On(He.split(K)),xi(),ke)return vt()}else On(He.split(K));if(fe&&fe<=gt)return Ne=Ne.slice(0,fe),vt(!0)}}return vt()}for(var Qe=Pe.indexOf(K,qe),lt=Pe.indexOf(le,qe),Et=new RegExp(F(Te)+F($),"g"),It=Pe.indexOf($,qe);;)if(Pe[qe]!==$)if(ee&&He.length===0&&Pe.substring(qe,qe+dt)===ee){if(lt===-1)return vt();qe=lt+Lt,lt=Pe.indexOf(le,qe),Qe=Pe.indexOf(K,qe)}else if(Qe!==-1&&(Qe<lt||lt===-1))He.push(Pe.substring(qe,Qe)),qe=Qe+at,Qe=Pe.indexOf(K,qe);else{if(lt===-1)break;if(He.push(Pe.substring(qe,lt)),ur(lt+Lt),kt&&(xi(),ke))return vt();if(fe&&Ne.length>=fe)return vt(!0)}else for(It=qe,qe++;;){if((It=Pe.indexOf($,It+1))===-1)return Je||it.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:qe}),$n();if(It===$e-1)return $n(Pe.substring(qe,It).replace(Et,$));if($!==Te||Pe[It+1]!==Te){if($===Te||It===0||Pe[It-1]!==Te){Qe!==-1&&Qe<It+1&&(Qe=Pe.indexOf(K,It+1)),lt!==-1&&lt<It+1&&(lt=Pe.indexOf(le,It+1));var an=_n(lt===-1?Qe:Math.min(Qe,lt));if(Pe.substr(It+1+an,at)===K){He.push(Pe.substring(qe,It).replace(Et,$)),Pe[qe=It+1+an+at]!==$&&(It=Pe.indexOf($,qe)),Qe=Pe.indexOf(K,qe),lt=Pe.indexOf(le,qe);break}var sn=_n(lt);if(Pe.substring(It+1+sn,It+1+sn+Lt)===le){if(He.push(Pe.substring(qe,It).replace(Et,$)),ur(It+1+sn+Lt),Qe=Pe.indexOf(K,qe),It=Pe.indexOf($,qe),kt&&(xi(),ke))return vt();if(fe&&Ne.length>=fe)return vt(!0);break}it.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:qe}),It++}}else It++}return $n();function On(Tn){Ne.push(Tn),Ue=qe}function _n(Tn){var ma=0;if(Tn!==-1){var hr=Pe.substring(It+1,Tn);hr&&hr.trim()===""&&(ma=hr.length)}return ma}function $n(Tn){return Je||(Tn===void 0&&(Tn=Pe.substring(qe)),He.push(Tn),qe=$e,On(He),kt&&xi()),vt()}function ur(Tn){qe=Tn,On(He),He=[],lt=Pe.indexOf(le,qe)}function vt(Tn){return{data:Ne,errors:it,meta:{delimiter:K,linebreak:le,aborted:ke,truncated:!!Tn,cursor:Ue+(Fe||0)}}}function xi(){_e(vt()),Ne=[],it=[]}},this.abort=function(){ke=!0},this.getCharIndex=function(){return qe}}function q(G){var $=G.data,K=h[$.workerId],le=!1;if($.error)K.userError($.error,$.file);else if($.results&&$.results.data){var ee={abort:function(){le=!0,Z($.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:se,resume:se};if(te(K.userStep)){for(var _e=0;_e<$.results.data.length&&(K.userStep({data:$.results.data[_e],errors:$.results.errors,meta:$.results.meta},ee),!le);_e++);delete $.results}else te(K.userChunk)&&(K.userChunk($.results,ee,$.file),delete $.results)}$.finished&&!le&&Z($.workerId,$.results)}function Z(G,$){var K=h[G];te(K.userComplete)&&K.userComplete($),K.terminate(),delete h[G]}function se(){throw new Error("Not implemented.")}function ie(G){if(typeof G!="object"||G===null)return G;var $=Array.isArray(G)?[]:{};for(var K in G)$[K]=ie(G[K]);return $}function J(G,$){return function(){G.apply($,arguments)}}function te(G){return typeof G=="function"}return u&&(r.onmessage=function(G){var $=G.data;if(p.WORKER_ID===void 0&&$&&(p.WORKER_ID=$.workerId),typeof $.input=="string")r.postMessage({workerId:p.WORKER_ID,results:p.parse($.input,$.config),finished:!0});else if(r.File&&$.input instanceof File||$.input instanceof Object){var K=p.parse($.input,$.config);K&&r.postMessage({workerId:p.WORKER_ID,results:K,finished:!0})}}),(k.prototype=Object.create(w.prototype)).constructor=k,(C.prototype=Object.create(w.prototype)).constructor=C,(I.prototype=Object.create(I.prototype)).constructor=I,(R.prototype=Object.create(w.prototype)).constructor=R,p})})(kP);var Hg=kP.exports;const Wx=(e,t)=>new Promise(n=>{const r=[];Hg.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:s=>{r.push(s.data)},complete:()=>{n(r)}})}),sCe=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},n=await Nr.get(e,t);return Wx(n.data,!0)},oCe=async(e,t)=>{const n=`${oP}${e}/${t}`;return await sCe(n)},lCe=async(e,t,n,r)=>{const s=`${oP}${e}/${t}`;return(await Nr.put(s,n,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"text/csv"}})).status===200},cCe=Bd("v-alert-title"),uCe=["success","info","warning","error"],dCe=We({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:yn,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>uCe.includes(e)},...cn(),...$a(),...to(),...ns(),...fu(),...lm(),...Pi(),...Zn(),...vr(),...ro({variant:"flat"})},"VAlert"),sl=ft()({name:"VAlert",props:dCe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=hn(e,"modelValue"),u=Y(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),h=Y(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:o}=Rr(e),{colorClasses:p,colorStyles:y,variantClasses:w}=mu(h),{densityClasses:k}=rs(e),{dimensionStyles:C}=no(e),{elevationClasses:I}=Es(e),{locationStyles:R}=Nd(e),{positionClasses:M}=cm(e),{roundedClasses:F}=Vi(e),{textColorClasses:N,textColorStyles:q}=Na(_t(e,"borderColor")),{t:Z}=li(),se=Y(()=>({"aria-label":Z(e.closeLabel),onClick(ie){s.value=!1,n("click:close",ie)}}));return()=>{const ie=!!(r.prepend||u.value),J=!!(r.title||e.title),te=!!(r.close||e.closable);return s.value&&T(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},o.value,p.value,k.value,I.value,M.value,F.value,w.value,e.class],style:[y.value,C.value,R.value,e.style],role:"alert"},{default:()=>{var G,$;return[wl(!1,"v-alert"),e.border&&T("div",{key:"border",class:["v-alert__border",N.value],style:q.value},null),ie&&T("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!u.value,defaults:{VIcon:{density:e.density,icon:u.value,size:e.prominent?44:28}}},r.prepend):T(nr,{key:"prepend-icon",density:e.density,icon:u.value,size:e.prominent?44:28},null)]),T("div",{class:"v-alert__content"},[J&&T(cCe,{key:"title"},{default:()=>{var K;return[((K=r.title)==null?void 0:K.call(r))??e.title]}}),((G=r.text)==null?void 0:G.call(r))??e.text,($=r.default)==null?void 0:$.call(r)]),r.append&&T("div",{key:"append",class:"v-alert__append"},[r.append()]),te&&T("div",{key:"close",class:"v-alert__close"},[r.close?T(Bn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var K;return[(K=r.close)==null?void 0:K.call(r,{props:se.value})]}}):T(Jt,ot({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},se.value),null)])]}})}}});function hCe(){const e=ht([]);pT(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const fCe=We({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:yn,default:"$first"},prevIcon:{type:yn,default:"$prev"},nextIcon:{type:yn,default:"$next"},lastIcon:{type:yn,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...eo(),...cn(),...$a(),...ns(),...Pi(),...Ud(),...Zn({tag:"nav"}),...vr(),...ro({variant:"text"})},"VPagination"),g2=ft()({name:"VPagination",props:fCe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=hn(e,"modelValue"),{t:u,n:h}=li(),{isRtl:o}=es(),{themeClasses:p}=Rr(e),{width:y}=yl(),w=Rt(-1);da(void 0,{scoped:!0});const{resizeRef:k}=cc(G=>{if(!G.length)return;const{target:$,contentRect:K}=G[0],le=$.querySelector(".v-pagination__list > *");if(!le)return;const ee=K.width,_e=le.offsetWidth+parseFloat(getComputedStyle(le).marginRight)*2;w.value=M(ee,_e)}),C=Y(()=>parseInt(e.length,10)),I=Y(()=>parseInt(e.start,10)),R=Y(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):w.value>=0?w.value:M(y.value,58));function M(G,$){const K=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((G-$*K)/$).toFixed(2)))}const F=Y(()=>{if(C.value<=0||isNaN(C.value)||C.value>Number.MAX_SAFE_INTEGER)return[];if(R.value<=0)return[];if(R.value===1)return[s.value];if(C.value<=R.value)return Ys(C.value,I.value);const G=R.value%2===0,$=G?R.value/2:Math.floor(R.value/2),K=G?$:$+1,le=C.value-$;if(K-s.value>=0)return[...Ys(Math.max(1,R.value-1),I.value),e.ellipsis,C.value];if(s.value-le>=(G?1:0)){const ee=R.value-1,_e=C.value-ee+I.value;return[I.value,e.ellipsis,...Ys(ee,_e)]}else{const ee=Math.max(1,R.value-3),_e=ee===1?s.value:s.value-Math.ceil(ee/2)+I.value;return[I.value,e.ellipsis,...Ys(ee,_e),e.ellipsis,C.value]}});function N(G,$,K){G.preventDefault(),s.value=$,K&&r(K,$)}const{refs:q,updateRef:Z}=hCe();da({VPaginationBtn:{color:_t(e,"color"),border:_t(e,"border"),density:_t(e,"density"),size:_t(e,"size"),variant:_t(e,"variant"),rounded:_t(e,"rounded"),elevation:_t(e,"elevation")}});const se=Y(()=>F.value.map((G,$)=>{const K=le=>Z(le,$);if(typeof G=="string")return{isActive:!1,key:`ellipsis-${$}`,page:G,props:{ref:K,ellipsis:!0,icon:!0,disabled:!0}};{const le=G===s.value;return{isActive:le,key:G,page:h(G),props:{ref:K,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:le?e.activeColor:e.color,"aria-current":le,"aria-label":u(le?e.currentPageAriaLabel:e.pageAriaLabel,G),onClick:ee=>N(ee,G)}}}})),ie=Y(()=>{const G=!!e.disabled||s.value<=I.value,$=!!e.disabled||s.value>=I.value+C.value-1;return{first:e.showFirstLastPage?{icon:o.value?e.lastIcon:e.firstIcon,onClick:K=>N(K,I.value,"first"),disabled:G,"aria-label":u(e.firstAriaLabel),"aria-disabled":G}:void 0,prev:{icon:o.value?e.nextIcon:e.prevIcon,onClick:K=>N(K,s.value-1,"prev"),disabled:G,"aria-label":u(e.previousAriaLabel),"aria-disabled":G},next:{icon:o.value?e.prevIcon:e.nextIcon,onClick:K=>N(K,s.value+1,"next"),disabled:$,"aria-label":u(e.nextAriaLabel),"aria-disabled":$},last:e.showFirstLastPage?{icon:o.value?e.firstIcon:e.lastIcon,onClick:K=>N(K,I.value+C.value-1,"last"),disabled:$,"aria-label":u(e.lastAriaLabel),"aria-disabled":$}:void 0}});function J(){var $;const G=s.value-I.value;($=q.value[G])==null||$.$el.focus()}function te(G){G.key===WS.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,Hn(J)):G.key===WS.right&&!e.disabled&&s.value<I.value+C.value-1&&(s.value=s.value+1,Hn(J))}return St(()=>T(e.tag,{ref:k,class:["v-pagination",p.value,e.class],style:e.style,role:"navigation","aria-label":u(e.ariaLabel),onKeydown:te,"data-test":"v-pagination-root"},{default:()=>[T("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&T("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(ie.value.first):T(Jt,ot({_as:"VPaginationBtn"},ie.value.first),null)]),T("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(ie.value.prev):T(Jt,ot({_as:"VPaginationBtn"},ie.value.prev),null)]),se.value.map((G,$)=>T("li",{key:G.key,class:["v-pagination__item",{"v-pagination__item--is-active":G.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(G):T(Jt,ot({_as:"VPaginationBtn"},G.props),{default:()=>[G.page]})])),T("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(ie.value.next):T(Jt,ot({_as:"VPaginationBtn"},ie.value.next),null)]),e.showFirstLastPage&&T("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(ie.value.last):T(Jt,ot({_as:"VPaginationBtn"},ie.value.last),null)])])]})),{}}}),mCe=We({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),CP=Symbol.for("vuetify:data-table-pagination");function pCe(e){const t=hn(e,"page",void 0,r=>+(r??1)),n=hn(e,"itemsPerPage",void 0,r=>+(r??10));return{page:t,itemsPerPage:n}}function gCe(e){const{page:t,itemsPerPage:n,itemsLength:r}=e,s=Y(()=>n.value===-1?0:n.value*(t.value-1)),u=Y(()=>n.value===-1?r.value:Math.min(r.value,s.value+n.value)),h=Y(()=>n.value===-1||r.value===0?1:Math.ceil(r.value/n.value));oi(()=>{t.value>h.value&&(t.value=h.value)});function o(C){n.value=C,t.value=1}function p(){t.value=ca(t.value+1,1,h.value)}function y(){t.value=ca(t.value-1,1,h.value)}function w(C){t.value=ca(C,1,h.value)}const k={page:t,itemsPerPage:n,startIndex:s,stopIndex:u,pageCount:h,itemsLength:r,nextPage:p,prevPage:y,setPage:w,setItemsPerPage:o};return xn(CP,k),k}function vCe(){const e=yt(CP);if(!e)throw new Error("Missing pagination!");return e}function yCe(e){const t=Jr("usePaginatedItems"),{items:n,startIndex:r,stopIndex:s,itemsPerPage:u}=e,h=Y(()=>u.value<=0?n.value:n.value.slice(r.value,s.value));return ct(h,o=>{t.emit("update:currentItems",o)}),{paginatedItems:h}}const TP=We({prevIcon:{type:yn,default:"$prev"},nextIcon:{type:yn,default:"$next"},firstIcon:{type:yn,default:"$first"},lastIcon:{type:yn,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),v2=ft()({name:"VDataTableFooter",props:TP(),setup(e,t){let{slots:n}=t;const{t:r}=li(),{page:s,pageCount:u,startIndex:h,stopIndex:o,itemsLength:p,itemsPerPage:y,setItemsPerPage:w}=vCe(),k=Y(()=>e.itemsPerPageOptions.map(C=>typeof C=="number"?{value:C,title:C===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(C)}:{...C,title:isNaN(Number(C.title))?r(C.title):C.title}));return St(()=>{var I;const C=g2.filterProps(e);return T("div",{class:"v-data-table-footer"},[(I=n.prepend)==null?void 0:I.call(n),T("div",{class:"v-data-table-footer__items-per-page"},[T("span",null,[r(e.itemsPerPageText)]),T(Rd,{items:k.value,modelValue:y.value,"onUpdate:modelValue":R=>w(Number(R)),density:"compact",variant:"outlined","hide-details":!0},null)]),T("div",{class:"v-data-table-footer__info"},[T("div",null,[r(e.pageText,p.value?h.value+1:0,o.value,p.value)])]),T("div",{class:"v-data-table-footer__pagination"},[T(g2,ot({modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:u.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},C),null)])])}),{}}}),Gg=sz({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const r=e.tag??"td";return T(r,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Gt(e.height),width:Gt(e.width),maxWidth:Gt(e.maxWidth),left:Gt(e.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),_Ce=We({headers:Array},"DataTable-header"),AP=Symbol.for("vuetify:data-table-headers"),EP={title:"",sortable:!1},bCe={...EP,width:48};function xCe(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,r)=>{let s=!1;for(let u=0;u<t.length;u++)if(t[u].priority>r){t.splice(u,0,{element:n,priority:r}),s=!0;break}s||t.push({element:n,priority:r})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let s=0;s<t.length;s++)Math.floor(t[s].priority)===r&&(n+=1);return n},dequeue:()=>t.shift()}}function t0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)t0(n,t);return t}function IP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&IP(n.children,t);return t}function wCe(e){if(e.key){if(e.key==="data-table-group")return EP;if(["data-table-expand","data-table-select"].includes(e.key))return bCe}}function Yx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>Yx(n,t+1))):t}function SCe(e){let t=!1;function n(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u)if(h&&(u.fixed=!0),u.fixed)if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o],!0);else t?isNaN(+u.width)&&(`${u.key}`,void 0):u.lastFixed=!0,t=!0;else if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o]);else t=!1}for(let u=e.length-1;u>=0;u--)n(e[u]);function r(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!u)return h;if(u.children){u.fixedOffset=h;for(const o of u.children)h=r(o,h)}else u.fixed&&(u.fixedOffset=h,h+=parseFloat(u.width||"0")||0);return h}let s=0;for(const u of e)s=r(u,s)}function kCe(e,t){const n=[];let r=0;const s=xCe(e);for(;s.size()>0;){let h=s.count();const o=[];let p=1;for(;h>0;){const{element:y,priority:w}=s.dequeue(),k=t-r-Yx(y);if(o.push({...y,rowspan:k??1,colspan:y.children?t0(y).length:1}),y.children)for(const C of y.children){const I=w%1+p/Math.pow(10,r+2);s.enqueue(C,r+k+I)}p+=1,h-=1}r+=1,n.push(o)}return{columns:e.map(h=>t0(h)).flat(),headers:n}}function PP(e){const t=[];for(const n of e){const r={...wCe(n),...n},s=r.key??(typeof r.value=="string"?r.value:null),u=r.value??s??null,h={...r,key:s,value:u,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?PP(r.children):void 0};t.push(h)}return t}function CCe(e,t){const n=ht([]),r=ht([]),s=ht({}),u=ht({}),h=ht({});oi(()=>{var M,F,N;const y=(e.headers||Object.keys(e.items[0]??{}).map(q=>({key:q,title:Po(q)}))).slice(),w=IP(y);(M=t==null?void 0:t.groupBy)!=null&&M.value.length&&!w.has("data-table-group")&&y.unshift({key:"data-table-group",title:"Group"}),(F=t==null?void 0:t.showSelect)!=null&&F.value&&!w.has("data-table-select")&&y.unshift({key:"data-table-select"}),(N=t==null?void 0:t.showExpand)!=null&&N.value&&!w.has("data-table-expand")&&y.push({key:"data-table-expand"});const k=PP(y);SCe(k);const C=Math.max(...k.map(q=>Yx(q)))+1,I=kCe(k,C);n.value=I.headers,r.value=I.columns;const R=I.headers.flat(1);for(const q of R)q.key&&(q.sortable&&(q.sort&&(s.value[q.key]=q.sort),q.sortRaw&&(u.value[q.key]=q.sortRaw)),q.filter&&(h.value[q.key]=q.filter))});const o={headers:n,columns:r,sortFunctions:s,sortRawFunctions:u,filterFunctions:h};return xn(AP,o),o}function zv(){const e=yt(AP);if(!e)throw new Error("Missing headers!");return e}const TCe={showSelectAll:!1,allSelected:()=>[],select:e=>{var r;let{items:t,value:n}=e;return new Set(n?[(r=t[0])==null?void 0:r.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},DP={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,currentPage:n,selected:r}=e;return DP.select({items:n,value:t,selected:r})}},MP={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,allItems:n,selected:r}=e;return MP.select({items:n,value:t,selected:r})}},ACe=We({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:vl}},"DataTable-select"),LP=Symbol.for("vuetify:data-table-selection");function ECe(e,t){let{allItems:n,currentPage:r}=t;const s=hn(e,"modelValue",e.modelValue,N=>new Set(Wr(N).map(q=>{var Z;return((Z=n.value.find(se=>e.valueComparator(q,se.value)))==null?void 0:Z.value)??q})),N=>[...N.values()]),u=Y(()=>n.value.filter(N=>N.selectable)),h=Y(()=>r.value.filter(N=>N.selectable)),o=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return TCe;case"all":return MP;case"page":default:return DP}});function p(N){return Wr(N).every(q=>s.value.has(q.value))}function y(N){return Wr(N).some(q=>s.value.has(q.value))}function w(N,q){const Z=o.value.select({items:N,value:q,selected:new Set(s.value)});s.value=Z}function k(N){w([N],!p([N]))}function C(N){const q=o.value.selectAll({value:N,allItems:u.value,currentPage:h.value,selected:new Set(s.value)});s.value=q}const I=Y(()=>s.value.size>0),R=Y(()=>{const N=o.value.allSelected({allItems:u.value,currentPage:h.value});return!!N.length&&p(N)}),M=Y(()=>o.value.showSelectAll),F={toggleSelect:k,select:w,selectAll:C,isSelected:p,isSomeSelected:y,someSelected:I,allSelected:R,showSelectAll:M};return xn(LP,F),F}function Bv(){const e=yt(LP);if(!e)throw new Error("Missing selection!");return e}const ICe=We({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),RP=Symbol.for("vuetify:data-table-sort");function PCe(e){const t=hn(e,"sortBy"),n=_t(e,"mustSort"),r=_t(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:r}}function DCe(e){const{sortBy:t,mustSort:n,multiSort:r,page:s}=e,u=p=>{if(p.key==null)return;let y=t.value.map(k=>({...k}))??[];const w=y.find(k=>k.key===p.key);w?w.order==="desc"?n.value?w.order="asc":y=y.filter(k=>k.key!==p.key):w.order="desc":r.value?y=[...y,{key:p.key,order:"asc"}]:y=[{key:p.key,order:"asc"}],t.value=y,s&&(s.value=1)};function h(p){return!!t.value.find(y=>y.key===p.key)}const o={sortBy:t,toggleSort:u,isSorted:h};return xn(RP,o),o}function OP(){const e=yt(RP);if(!e)throw new Error("Missing sort!");return e}function MCe(e,t,n,r){const s=li();return{sortedItems:Y(()=>{var h,o;return!n.value.length||e.disableSort?t.value:LCe(t.value,n.value,s.current.value,{transform:r==null?void 0:r.transform,sortFunctions:{...e.customKeySort,...(h=r==null?void 0:r.sortFunctions)==null?void 0:h.value},sortRawFunctions:(o=r==null?void 0:r.sortRawFunctions)==null?void 0:o.value})})}}function LCe(e,t,n,r){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(h=>[h,r!=null&&r.transform?r.transform(h):h]).sort((h,o)=>{var p,y;for(let w=0;w<t.length;w++){let k=!1;const C=t[w].key,I=t[w].order??"asc";if(I===!1)continue;let R=h[1][C],M=o[1][C],F=h[0].raw,N=o[0].raw;if(I==="desc"&&([R,M]=[M,R],[F,N]=[N,F]),(p=r==null?void 0:r.sortRawFunctions)!=null&&p[C]){const q=r.sortRawFunctions[C](F,N);if(q==null)continue;if(k=!0,q)return q}if((y=r==null?void 0:r.sortFunctions)!=null&&y[C]){const q=r.sortFunctions[C](R,M);if(q==null)continue;if(k=!0,q)return q}if(!k){if(R instanceof Date&&M instanceof Date)return R.getTime()-M.getTime();if([R,M]=[R,M].map(q=>q!=null?q.toString().toLocaleLowerCase():q),R!==M)return Hp(R)&&Hp(M)?0:Hp(R)?-1:Hp(M)?1:!isNaN(R)&&!isNaN(M)?Number(R)-Number(M):s.compare(R,M)}}return 0}).map(h=>{let[o]=h;return o})}const FP=We({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:yn,default:"$sortAsc"},sortDescIcon:{type:yn,default:"$sortDesc"},headerProps:{type:Object},...Vd(),...mv()},"VDataTableHeaders"),y2=ft()({name:"VDataTableHeaders",props:FP(),setup(e,t){let{slots:n}=t;const{t:r}=li(),{toggleSort:s,sortBy:u,isSorted:h}=OP(),{someSelected:o,allSelected:p,selectAll:y,showSelectAll:w}=Bv(),{columns:k,headers:C}=zv(),{loaderClasses:I}=pv(e);function R(G,$){if(!(!e.sticky&&!G.fixed))return{position:"sticky",left:G.fixed?Gt(G.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${$})`:void 0}}function M(G){const $=u.value.find(K=>K.key===G.key);return $?$.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:F,backgroundColorStyles:N}=yi(e,"color"),{displayClasses:q,mobile:Z}=yl(e),se=Y(()=>({headers:C.value,columns:k.value,toggleSort:s,isSorted:h,sortBy:u.value,someSelected:o.value,allSelected:p.value,selectAll:y,getSortIcon:M})),ie=Y(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},q.value,I.value]),J=G=>{let{column:$,x:K,y:le}=G;const ee=$.key==="data-table-select"||$.key==="data-table-expand",_e=ot(e.headerProps??{},$.headerProps??{});return T(Gg,ot({tag:"th",align:$.align,class:[{"v-data-table__th--sortable":$.sortable&&!e.disableSort,"v-data-table__th--sorted":h($),"v-data-table__th--fixed":$.fixed},...ie.value],style:{width:Gt($.width),minWidth:Gt($.minWidth),maxWidth:Gt($.maxWidth),...R($,le)},colspan:$.colspan,rowspan:$.rowspan,onClick:$.sortable?()=>s($):void 0,fixed:$.fixed,nowrap:$.nowrap,lastFixed:$.lastFixed,noPadding:ee},_e),{default:()=>{var Te;const fe=`header.${$.key}`,Ie={column:$,selectAll:y,isSorted:h,toggleSort:s,sortBy:u.value,someSelected:o.value,allSelected:p.value,getSortIcon:M};return n[fe]?n[fe](Ie):$.key==="data-table-select"?((Te=n["header.data-table-select"])==null?void 0:Te.call(n,Ie))??(w.value&&T(jd,{modelValue:p.value,indeterminate:o.value&&!p.value,"onUpdate:modelValue":y},null)):T("div",{class:"v-data-table-header__content"},[T("span",null,[$.title]),$.sortable&&!e.disableSort&&T(nr,{key:"icon",class:"v-data-table-header__sort-icon",icon:M($)},null),e.multiSort&&h($)&&T("div",{key:"badge",class:["v-data-table-header__sort-badge",...F.value],style:N.value},[u.value.findIndex(qe=>qe.key===$.key)+1])])}})},te=()=>{const G=ot(e.headerProps??{}??{}),$=Y(()=>k.value.filter(le=>(le==null?void 0:le.sortable)&&!e.disableSort)),K=Y(()=>{if(k.value.find(ee=>ee.key==="data-table-select")!=null)return p.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return T(Gg,ot({tag:"th",class:[...ie.value],colspan:C.value.length+1},G),{default:()=>[T("div",{class:"v-data-table-header__content"},[T(Rd,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:$.value,label:r("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>u.value=[],appendIcon:K.value,"onClick:append":()=>y(!p.value)},{...n,chip:le=>{var ee;return T(fl,{onClick:(ee=le.item.raw)!=null&&ee.sortable?()=>s(le.item.raw):void 0,onMousedown:_e=>{_e.preventDefault(),_e.stopPropagation()}},{default:()=>[le.item.title,T(nr,{class:["v-data-table__td-sort-icon",h(le.item.raw)&&"v-data-table__td-sort-icon-active"],icon:M(le.item.raw),size:"small"},null)]})}})])]})};St(()=>Z.value?T("tr",null,[T(te,null,null)]):T(Ht,null,[n.headers?n.headers(se.value):C.value.map((G,$)=>T("tr",null,[G.map((K,le)=>T(J,{column:K,x:le,y:$},null))])),e.loading&&T("tr",{class:"v-data-table-progress"},[T("th",{colspan:k.value.length},[T(tx,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),RCe=We({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),zP=Symbol.for("vuetify:data-table-group");function OCe(e){return{groupBy:hn(e,"groupBy")}}function FCe(e){const{groupBy:t,sortBy:n}=e,r=ht(new Set),s=Y(()=>t.value.map(y=>({...y,order:y.order??!1})).concat(n.value));function u(y){return r.value.has(y.id)}function h(y){const w=new Set(r.value);u(y)?w.delete(y.id):w.add(y.id),r.value=w}function o(y){function w(k){const C=[];for(const I of k.items)"type"in I&&I.type==="group"?C.push(...w(I)):C.push(I);return C}return w({type:"group",items:y,id:"dummy",key:"dummy",value:"dummy",depth:0})}const p={sortByWithGroups:s,toggleGroup:h,opened:r,groupBy:t,extractRows:o,isGroupOpen:u};return xn(zP,p),p}function BP(){const e=yt(zP);if(!e)throw new Error("Missing group!");return e}function zCe(e,t){if(!e.length)return[];const n=new Map;for(const r of e){const s=Lf(r.raw,t);n.has(s)||n.set(s,[]),n.get(s).push(r)}return n}function VP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const s=zCe(e,t[0]),u=[],h=t.slice(1);return s.forEach((o,p)=>{const y=t[0],w=`${r}_${y}_${p}`;u.push({depth:n,id:w,key:y,value:p,items:h.length?VP(o,h,n+1,w):o,type:"group"})}),u}function NP(e,t){const n=[];for(const r of e)"type"in r&&r.type==="group"?(r.value!=null&&n.push(r),(t.has(r.id)||r.value==null)&&n.push(...NP(r.items,t))):n.push(r);return n}function BCe(e,t,n){return{flatItems:Y(()=>{if(!t.value.length)return e.value;const s=VP(e.value,t.value.map(u=>u.key));return NP(s,n.value)})}}const VCe=We({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),NCe=ft()({name:"VDataTableGroupHeaderRow",props:VCe(),setup(e,t){let{slots:n}=t;const{isGroupOpen:r,toggleGroup:s,extractRows:u}=BP(),{isSelected:h,isSomeSelected:o,select:p}=Bv(),{columns:y}=zv(),w=Y(()=>u([e.item]));return()=>T("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[y.value.map(k=>{var C,I;if(k.key==="data-table-group"){const R=r(e.item)?"$expand":"$next",M=()=>s(e.item);return((C=n["data-table-group"])==null?void 0:C.call(n,{item:e.item,count:w.value.length,props:{icon:R,onClick:M}}))??T(Gg,{class:"v-data-table-group-header-row__column"},{default:()=>[T(Jt,{size:"small",variant:"text",icon:R,onClick:M},null),T("span",null,[e.item.value]),T("span",null,[zt("("),w.value.length,zt(")")])]})}if(k.key==="data-table-select"){const R=h(w.value),M=o(w.value)&&!R,F=N=>p(w.value,N);return((I=n["data-table-select"])==null?void 0:I.call(n,{props:{modelValue:R,indeterminate:M,"onUpdate:modelValue":F}}))??T("td",null,[T(jd,{modelValue:R,indeterminate:M,"onUpdate:modelValue":F},null)])}return T("td",null,null)})])}}),$Ce=We({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),$P=Symbol.for("vuetify:datatable:expanded");function UCe(e){const t=_t(e,"expandOnClick"),n=hn(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function r(o,p){const y=new Set(n.value);p?y.add(o.value):y.delete(o.value),n.value=y}function s(o){return n.value.has(o.value)}function u(o){r(o,!s(o))}const h={expand:r,expanded:n,expandOnClick:t,isExpanded:s,toggleExpand:u};return xn($P,h),h}function UP(){const e=yt($P);if(!e)throw new Error("foo");return e}const qCe=We({index:Number,item:Object,cellProps:[Object,Function],onClick:Bi(),onContextmenu:Bi(),onDblclick:Bi(),...Vd()},"VDataTableRow"),jCe=ft()({name:"VDataTableRow",props:qCe(),setup(e,t){let{slots:n}=t;const{displayClasses:r,mobile:s}=yl(e,"v-data-table__tr"),{isSelected:u,toggleSelect:h,someSelected:o,allSelected:p,selectAll:y}=Bv(),{isExpanded:w,toggleExpand:k}=UP(),{toggleSort:C,sortBy:I,isSorted:R}=OP(),{columns:M}=zv();St(()=>T("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},r.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&M.value.map((F,N)=>{const q=e.item,Z=`item.${F.key}`,se=`header.${F.key}`,ie={index:e.index,item:q.raw,internalItem:q,value:Lf(q.columns,F.key),column:F,isSelected:u,toggleSelect:h,isExpanded:w,toggleExpand:k},J={column:F,selectAll:y,isSorted:R,toggleSort:C,sortBy:I.value,someSelected:o.value,allSelected:p.value,getSortIcon:()=>""},te=typeof e.cellProps=="function"?e.cellProps({index:ie.index,item:ie.item,internalItem:ie.internalItem,value:ie.value,column:F}):e.cellProps,G=typeof F.cellProps=="function"?F.cellProps({index:ie.index,item:ie.item,internalItem:ie.internalItem,value:ie.value}):F.cellProps;return T(Gg,ot({align:F.align,class:{"v-data-table__td--expanded-row":F.key==="data-table-expand","v-data-table__td--select-row":F.key==="data-table-select"},fixed:F.fixed,fixedOffset:F.fixedOffset,lastFixed:F.lastFixed,maxWidth:s.value?void 0:F.maxWidth,noPadding:F.key==="data-table-select"||F.key==="data-table-expand",nowrap:F.nowrap,width:s.value?void 0:F.width},te,G),{default:()=>{var K,le,ee,_e,fe;if(n[Z]&&!s.value)return(K=n[Z])==null?void 0:K.call(n,ie);if(F.key==="data-table-select")return((le=n["item.data-table-select"])==null?void 0:le.call(n,ie))??T(jd,{disabled:!q.selectable,modelValue:u([q]),onClick:pb(()=>h(q),["stop"])},null);if(F.key==="data-table-expand")return((ee=n["item.data-table-expand"])==null?void 0:ee.call(n,ie))??T(Jt,{icon:w(q)?"$collapse":"$expand",size:"small",variant:"text",onClick:pb(()=>k(q),["stop"])},null);const $=bs(ie.value);return s.value?T(Ht,null,[T("div",{class:"v-data-table__td-title"},[((_e=n[se])==null?void 0:_e.call(n,J))??F.title]),T("div",{class:"v-data-table__td-value"},[((fe=n[Z])==null?void 0:fe.call(n,ie))??$])]):$}})})]))}}),qP=We({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Vd()},"VDataTableRows"),_2=ft()({name:"VDataTableRows",inheritAttrs:!1,props:qP(),setup(e,t){let{attrs:n,slots:r}=t;const{columns:s}=zv(),{expandOnClick:u,toggleExpand:h,isExpanded:o}=UP(),{isSelected:p,toggleSelect:y}=Bv(),{toggleGroup:w,isGroupOpen:k}=BP(),{t:C}=li(),{mobile:I}=yl(e);return St(()=>{var R,M;return e.loading&&(!e.items.length||r.loading)?T("tr",{class:"v-data-table-rows-loading",key:"loading"},[T("td",{colspan:s.value.length},[((R=r.loading)==null?void 0:R.call(r))??C(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?T("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[T("td",{colspan:s.value.length},[((M=r["no-data"])==null?void 0:M.call(r))??C(e.noDataText)])]):T(Ht,null,[e.items.map((F,N)=>{var se;if(F.type==="group"){const ie={index:N,item:F,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:p,toggleSelect:y,toggleGroup:w,isGroupOpen:k};return r["group-header"]?r["group-header"](ie):T(NCe,ot({key:`group-header_${F.id}`,item:F},fk(n,":group-header",()=>ie)),r)}const q={index:N,item:F.raw,internalItem:F,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:p,toggleSelect:y},Z={...q,props:ot({key:`item_${F.key??F.index}`,onClick:u.value?()=>{h(F)}:void 0,index:N,item:F,cellProps:e.cellProps,mobile:I.value},fk(n,":row",()=>q),typeof e.rowProps=="function"?e.rowProps({item:q.item,index:q.index,internalItem:q.internalItem}):e.rowProps)};return T(Ht,{key:Z.props.key},[r.item?r.item(Z):T(jCe,Z.props,r),o(F)&&((se=r["expanded-row"])==null?void 0:se.call(r,q))])})])}),{}}}),jP=We({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...cn(),...$a(),...Zn(),...vr()},"VTable"),b2=ft()({name:"VTable",props:jP(),setup(e,t){let{slots:n,emit:r}=t;const{themeClasses:s}=Rr(e),{densityClasses:u}=rs(e);return St(()=>T(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},s.value,u.value,e.class],style:e.style},{default:()=>{var h,o,p;return[(h=n.top)==null?void 0:h.call(n),n.default?T("div",{class:"v-table__wrapper",style:{height:Gt(e.height)}},[T("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(p=n.bottom)==null?void 0:p.call(n)]}})),{}}}),HCe=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function GCe(e,t,n,r){const s=e.returnObject?t:zi(t,e.itemValue),u=zi(t,e.itemSelectable,!0),h=r.reduce((o,p)=>(p.key!=null&&(o[p.key]=zi(t,p.value)),o),{});return{type:"item",key:e.returnObject?zi(t,e.itemValue):s,index:n,value:s,selectable:u,columns:h,raw:t}}function WCe(e,t,n){return t.map((r,s)=>GCe(e,r,s,n))}function YCe(e,t){return{items:Y(()=>WCe(e,e.items,t.value))}}function ZCe(e){let{page:t,itemsPerPage:n,sortBy:r,groupBy:s,search:u}=e;const h=Jr("VDataTable"),o=Y(()=>({page:t.value,itemsPerPage:n.value,sortBy:r.value,groupBy:s.value,search:u.value}));let p=null;ct(o,()=>{vl(p,o.value)||(p&&p.search!==o.value.search&&(t.value=1),h.emit("update:options",o.value),p=o.value)},{deep:!0,immediate:!0})}const KCe=We({...qP(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...$Ce(),...RCe(),..._Ce(),...HCe(),...ACe(),...ICe(),...FP(),...jP()},"DataTable"),XCe=We({...mCe(),...KCe(),...Ax(),...TP()},"VDataTable"),HP=ft()({name:"VDataTable",props:XCe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:s}=OCe(e),{sortBy:u,multiSort:h,mustSort:o}=PCe(e),{page:p,itemsPerPage:y}=pCe(e),{columns:w,headers:k,sortFunctions:C,sortRawFunctions:I,filterFunctions:R}=CCe(e,{groupBy:s,showSelect:_t(e,"showSelect"),showExpand:_t(e,"showExpand")}),{items:M}=YCe(e,w),F=_t(e,"search"),{filteredItems:N}=Ex(e,M,F,{transform:kt=>kt.columns,customKeyFilter:R}),{toggleSort:q}=DCe({sortBy:u,multiSort:h,mustSort:o,page:p}),{sortByWithGroups:Z,opened:se,extractRows:ie,isGroupOpen:J,toggleGroup:te}=FCe({groupBy:s,sortBy:u}),{sortedItems:G}=MCe(e,N,Z,{transform:kt=>kt.columns,sortFunctions:C,sortRawFunctions:I}),{flatItems:$}=BCe(G,s,se),K=Y(()=>$.value.length),{startIndex:le,stopIndex:ee,pageCount:_e,setItemsPerPage:fe}=gCe({page:p,itemsPerPage:y,itemsLength:K}),{paginatedItems:Ie}=yCe({items:$,startIndex:le,stopIndex:ee,itemsPerPage:y}),Te=Y(()=>ie(Ie.value)),{isSelected:qe,select:ke,selectAll:Pe,toggleSelect:Fe,someSelected:Je,allSelected:$e}=ECe(e,{allItems:M,currentPage:Te}),{isExpanded:at,toggleExpand:Lt}=UCe(e);ZCe({page:p,itemsPerPage:y,sortBy:u,groupBy:s,search:F}),da({VDataTableRows:{hideNoData:_t(e,"hideNoData"),noDataText:_t(e,"noDataText"),loading:_t(e,"loading"),loadingText:_t(e,"loadingText")}});const dt=Y(()=>({page:p.value,itemsPerPage:y.value,sortBy:u.value,pageCount:_e.value,toggleSort:q,setItemsPerPage:fe,someSelected:Je.value,allSelected:$e.value,isSelected:qe,select:ke,selectAll:Pe,toggleSelect:Fe,isExpanded:at,toggleExpand:Lt,isGroupOpen:J,toggleGroup:te,items:Te.value.map(kt=>kt.raw),internalItems:Te.value,groupedItems:Ie.value,columns:w.value,headers:k.value}));return St(()=>{const kt=v2.filterProps(e),Ne=y2.filterProps(e),it=_2.filterProps(e),He=b2.filterProps(e);return T(b2,ot({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},He),{top:()=>{var Ue;return(Ue=r.top)==null?void 0:Ue.call(r,dt.value)},default:()=>{var Ue,Ct,$t,ae,me,Ve;return r.default?r.default(dt.value):T(Ht,null,[(Ue=r.colgroup)==null?void 0:Ue.call(r,dt.value),!e.hideDefaultHeader&&T("thead",{key:"thead"},[T(y2,Ne,r)]),(Ct=r.thead)==null?void 0:Ct.call(r,dt.value),!e.hideDefaultBody&&T("tbody",null,[($t=r["body.prepend"])==null?void 0:$t.call(r,dt.value),r.body?r.body(dt.value):T(_2,ot(n,it,{items:Ie.value}),r),(ae=r["body.append"])==null?void 0:ae.call(r,dt.value)]),(me=r.tbody)==null?void 0:me.call(r,dt.value),(Ve=r.tfoot)==null?void 0:Ve.call(r,dt.value)])},bottom:()=>r.bottom?r.bottom(dt.value):!e.hideDefaultFooter&&T(Ht,null,[T(gr,null,null),T(v2,kt,{prepend:r["footer.prepend"]})])})}),{}}}),JCe=We({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...vv({origin:"center center",scrollStrategy:"block",transition:{component:rx},zIndex:2400})},"VDialog"),md=ft()({name:"VDialog",props:JCe(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=hn(e,"modelValue"),{scopeId:u}=qd(),h=ht();function o(w){var I,R;const k=w.relatedTarget,C=w.target;if(k!==C&&((I=h.value)!=null&&I.contentEl)&&((R=h.value)!=null&&R.globalTop)&&![document,h.value.contentEl].includes(C)&&!h.value.contentEl.contains(C)){const M=Rf(h.value.contentEl);if(!M.length)return;const F=M[0],N=M[M.length-1];k===F?N.focus():F.focus()}}dr&&ct(()=>s.value&&e.retainFocus,w=>{w?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function p(){var w;(w=h.value)!=null&&w.contentEl&&!h.value.contentEl.contains(document.activeElement)&&h.value.contentEl.focus({preventScroll:!0})}function y(){n("afterLeave")}return ct(s,async w=>{var k;w||(await Hn(),(k=h.value.activatorEl)==null||k.focus({preventScroll:!0}))}),St(()=>{const w=Dd.filterProps(e),k=ot({"aria-haspopup":"dialog","aria-expanded":String(s.value)},e.activatorProps),C=ot({tabindex:-1},e.contentProps);return T(Dd,ot({ref:h,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},w,{modelValue:s.value,"onUpdate:modelValue":I=>s.value=I,"aria-modal":"true",activatorProps:k,contentProps:C,role:"dialog",onAfterEnter:p,onAfterLeave:y},u),{activator:r.activator,default:function(){for(var I=arguments.length,R=new Array(I),M=0;M<I;M++)R[M]=arguments[M];return T(Bn,{root:"VDialog"},{default:()=>{var F;return[(F=r.default)==null?void 0:F.call(r,...R)]}})}})}),Ro({},h)}}),Zx=Symbol.for("vuetify:v-tabs"),QCe=We({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...wr(nx({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),pg=ft()({name:"VTab",props:QCe(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:s,textColorStyles:u}=Na(e,"sliderColor"),h=ht(),o=ht(),p=Y(()=>e.direction==="horizontal"),y=Y(()=>{var k,C;return((C=(k=h.value)==null?void 0:k.group)==null?void 0:C.isSelected.value)??!1});function w(k){var I,R;let{value:C}=k;if(C){const M=(R=(I=h.value)==null?void 0:I.$el.parentElement)==null?void 0:R.querySelector(".v-tab--selected .v-tab__slider"),F=o.value;if(!M||!F)return;const N=getComputedStyle(M).color,q=M.getBoundingClientRect(),Z=F.getBoundingClientRect(),se=p.value?"x":"y",ie=p.value?"X":"Y",J=p.value?"right":"bottom",te=p.value?"width":"height",G=q[se],$=Z[se],K=G>$?q[J]-Z[J]:q[se]-Z[se],le=Math.sign(K)>0?p.value?"right":"bottom":Math.sign(K)<0?p.value?"left":"top":"center",_e=(Math.abs(K)+(Math.sign(K)<0?q[te]:Z[te]))/Math.max(q[te],Z[te])||0,fe=q[te]/Z[te]||0,Ie=1.5;Zc(F,{backgroundColor:[N,"currentcolor"],transform:[`translate${ie}(${K}px) scale${ie}(${fe})`,`translate${ie}(${K/Ie}px) scale${ie}(${(_e-1)/Ie+1})`,"none"],transformOrigin:Array(3).fill(le)},{duration:225,easing:Ff})}}return St(()=>{const k=Jt.filterProps(e);return T(Jt,ot({symbol:Zx,ref:h,class:["v-tab",e.class],style:e.style,tabindex:y.value?0:-1,role:"tab","aria-selected":String(y.value),active:!1},k,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":w}),{...n,default:()=>{var C;return T(Ht,null,[((C=n.default)==null?void 0:C.call(n))??e.text,!e.hideSlider&&T("div",{ref:o,class:["v-tab__slider",s.value],style:u.value},null)])}})}),Ro({},h)}}),e2e=We({...wr(bx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),t2e=ft()({name:"VTabsWindow",props:e2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(Zx,null),s=hn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return St(()=>{const h=Hf.filterProps(e);return T(Hf,ot({_as:"VTabsWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),n2e=We({...xx()},"VTabsWindowItem"),r2e=ft()({name:"VTabsWindowItem",props:n2e(),setup(e,t){let{slots:n}=t;return St(()=>{const r=iu.filterProps(e);return T(iu,ot({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function i2e(e){return e?e.map(t=>Eg(t)?t:{text:t,value:t}):[]}const a2e=We({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...sx({mandatory:"force",selectedClass:"v-tab-item--selected"}),...$a(),...Zn()},"VTabs"),s2e=ft()({name:"VTabs",props:a2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=hn(e,"modelValue"),u=Y(()=>i2e(e.items)),{densityClasses:h}=rs(e),{backgroundColorClasses:o,backgroundColorStyles:p}=yi(_t(e,"bgColor")),{scopeId:y}=qd();return da({VTab:{color:_t(e,"color"),direction:_t(e,"direction"),stacked:_t(e,"stacked"),fixed:_t(e,"fixedTabs"),sliderColor:_t(e,"sliderColor"),hideSlider:_t(e,"hideSlider")}}),St(()=>{const w=Bg.filterProps(e),k=!!(r.window||e.items.length>0);return T(Ht,null,[T(Bg,ot(w,{modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},h.value,o.value,e.class],style:[{"--v-tabs-height":Gt(e.height)},p.value,e.style],role:"tablist",symbol:Zx},y,n),{default:()=>{var C;return[((C=r.default)==null?void 0:C.call(r))??u.value.map(I=>{var R;return((R=r.tab)==null?void 0:R.call(r,{item:I}))??T(pg,ot(I,{key:I.text,value:I.value}),{default:r[`tab.${I.value}`]?()=>{var M;return(M=r[`tab.${I.value}`])==null?void 0:M.call(r,{item:I})}:void 0})})]}}),k&&T(t2e,ot({modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,key:"tabs-window"},y),{default:()=>{var C;return[u.value.map(I=>{var R;return((R=r.item)==null?void 0:R.call(r,{item:I}))??T(r2e,{value:I.value},{default:()=>{var M;return(M=r[`item.${I.value}`])==null?void 0:M.call(r,{item:I})}})}),(C=r.window)==null?void 0:C.call(r)]}})])}),{}}}),o2e=We({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...wr(vm(),["centerAffix"]),...wr(yv(),["centerAffix"])},"VTextarea"),l2e=ft()({name:"VTextarea",directives:{Intersect:ax},inheritAttrs:!1,props:o2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=hn(e,"modelValue"),{isFocused:h,focus:o,blur:p}=gm(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),w=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function k(le,ee){var _e,fe;!e.autofocus||!le||(fe=(_e=ee[0].target)==null?void 0:_e.focus)==null||fe.call(_e)}const C=ht(),I=ht(),R=Rt(""),M=ht(),F=Y(()=>e.persistentPlaceholder||h.value||e.active);function N(){var le;M.value!==document.activeElement&&((le=M.value)==null||le.focus()),h.value||o()}function q(le){N(),r("click:control",le)}function Z(le){r("mousedown:control",le)}function se(le){le.stopPropagation(),N(),Hn(()=>{u.value="",q0(e["onClick:clear"],le)})}function ie(le){var _e;const ee=le.target;if(u.value=ee.value,(_e=e.modelModifiers)!=null&&_e.trim){const fe=[ee.selectionStart,ee.selectionEnd];Hn(()=>{ee.selectionStart=fe[0],ee.selectionEnd=fe[1]})}}const J=ht(),te=ht(+e.rows),G=Y(()=>["plain","underlined"].includes(e.variant));oi(()=>{e.autoGrow||(te.value=+e.rows)});function $(){e.autoGrow&&Hn(()=>{if(!J.value||!I.value)return;const le=getComputedStyle(J.value),ee=getComputedStyle(I.value.$el),_e=parseFloat(le.getPropertyValue("--v-field-padding-top"))+parseFloat(le.getPropertyValue("--v-input-padding-top"))+parseFloat(le.getPropertyValue("--v-field-padding-bottom")),fe=J.value.scrollHeight,Ie=parseFloat(le.lineHeight),Te=Math.max(parseFloat(e.rows)*Ie+_e,parseFloat(ee.getPropertyValue("--v-input-control-height"))),qe=parseFloat(e.maxRows)*Ie+_e||1/0,ke=ca(fe??0,Te,qe);te.value=Math.floor((ke-_e)/Ie),R.value=Gt(ke)})}fa($),ct(u,$),ct(()=>e.rows,$),ct(()=>e.maxRows,$),ct(()=>e.density,$);let K;return ct(J,le=>{le?(K=new ResizeObserver($),K.observe(J.value)):K==null||K.disconnect()}),Sr(()=>{K==null||K.disconnect()}),St(()=>{const le=!!(s.counter||e.counter||e.counterValue),ee=!!(le||s.details),[_e,fe]=om(n),{modelValue:Ie,...Te}=dc.filterProps(e),qe=gx(e);return T(dc,ot({ref:C,modelValue:u.value,"onUpdate:modelValue":ke=>u.value=ke,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":G.value},e.class],style:e.style},_e,Te,{centerAffix:!1,focused:h.value}),{...s,default:ke=>{let{id:Pe,isDisabled:Fe,isDirty:Je,isReadonly:$e,isValid:at}=ke;return T(_v,ot({ref:I,style:{"--v-textarea-control-height":R.value},onClick:q,onMousedown:Z,"onClick:clear":se,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},qe,{id:Pe.value,active:F.value||Je.value,centerAffix:!1,dirty:Je.value||e.dirty,disabled:Fe.value,focused:h.value,error:at.value===!1}),{...s,default:Lt=>{let{props:{class:dt,...kt}}=Lt;return T(Ht,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[e.prefix]),si(T("textarea",ot({ref:M,class:dt,value:u.value,onInput:ie,autofocus:e.autofocus,readonly:$e.value,disabled:Fe.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:N,onBlur:p},kt,fe),null),[[Cs("intersect"),{handler:k},null,{once:!0}]]),e.autoGrow&&si(T("textarea",{class:[dt,"v-textarea__sizer"],id:`${kt.id}-sizer`,"onUpdate:modelValue":Ne=>u.value=Ne,ref:J,readonly:!0,"aria-hidden":"true"},null),[[hF,u.value]]),e.suffix&&T("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:ee?ke=>{var Pe;return T(Ht,null,[(Pe=s.details)==null?void 0:Pe.call(s,ke),le&&T(Ht,null,[T("span",null,null),T(fx,{active:e.persistentCounter||h.value,value:y.value,max:w.value,disabled:e.disabled},s.counter)])])}:void 0})}),Ro({},C,I,M)}}),c2e=We({text:String,...cn(),...Zn()},"VToolbarTitle"),u2e=ft()({name:"VToolbarTitle",props:c2e(),setup(e,t){let{slots:n}=t;return St(()=>{const r=!!(n.default||n.text||e.text);return T(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[r&&T("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),d2e=[null,"prominent","default","comfortable","compact"],GP=We({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>d2e.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...eo(),...cn(),...ns(),...Pi(),...Zn({tag:"header"}),...vr()},"VToolbar"),n0=ft()({name:"VToolbar",props:GP(),setup(e,t){var I;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=yi(_t(e,"color")),{borderClasses:u}=Lo(e),{elevationClasses:h}=Es(e),{roundedClasses:o}=Vi(e),{themeClasses:p}=Rr(e),{rtlClasses:y}=es(),w=Rt(!!(e.extended||(I=n.extension)!=null&&I.call(n))),k=Y(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),C=Y(()=>w.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return da({VBtn:{variant:"text"}}),St(()=>{var N;const R=!!(e.title||n.title),M=!!(n.image||e.image),F=(N=n.extension)==null?void 0:N.call(n);return w.value=!!(e.extended||F),T(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,u.value,h.value,o.value,p.value,y.value,e.class],style:[s.value,e.style]},{default:()=>[M&&T("div",{key:"image",class:"v-toolbar__image"},[n.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):T(pm,{key:"image-img",cover:!0,src:e.image},null)]),T(Bn,{defaults:{VTabs:{height:Gt(k.value)}}},{default:()=>{var q,Z,se;return[T("div",{class:"v-toolbar__content",style:{height:Gt(k.value)}},[n.prepend&&T("div",{class:"v-toolbar__prepend"},[(q=n.prepend)==null?void 0:q.call(n)]),R&&T(u2e,{key:"title",text:e.title},{text:n.title}),(Z=n.default)==null?void 0:Z.call(n),n.append&&T("div",{class:"v-toolbar__append"},[(se=n.append)==null?void 0:se.call(n)])])]}}),T(Bn,{defaults:{VTabs:{height:Gt(C.value)}}},{default:()=>[T(ix,null,{default:()=>[w.value&&T("div",{class:"v-toolbar__extension",style:{height:Gt(C.value)}},[F])]})]})]})}),{contentHeight:k,extensionHeight:C}}}),h2e={beforeMount(){window.addEventListener("beforeunload",e=>{this.isEditing&&(e.preventDefault(),e.returnValue="")})},beforeUnmount(){window.removeEventListener("beforeunload",this.preventNav)},beforeRouteLeave(e,t,n){this.isEditing&&!window.confirm("Leave without saving?")||n()},data(){return{days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["Staffed","Unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,editedIndex:-1,editTabs:1,editedItem:{},defaultItem:{Local_authority:"",Library_name:"",Address_1:"",Address_2:"",Address_3:"",Postcode:"",Unique_property_reference_number:"",Statutory:"",Type_of_library:"LAL",Year_opened:"",Year_closed:"",Monday_staffed_hours:"",Tuesday_staffed_hours:"",Wednesday_staffed_hours:"",Thursday_staffed_hours:"",Friday_staffed_hours:"",Saturday_staffed_hours:"",Sunday_staffed_hours:"",Monday_unstaffed_hours:"",Tuesday_unstaffed_hours:"",Wednesday_unstaffed_hours:"",Thursday_unstaffed_hours:"",Friday_unstaffed_hours:"",Saturday_unstaffed_hours:"",Sunday_unstaffed_hours:"",Special_hours:"",Colocated:"",Colocated_with:"",Notes:"",URL:"",Email_address:""},errorDialog:!1,headers:[{title:"Name",align:"start",key:"Library_name"},{title:"Closed",key:"Year_closed"},{title:"Address 1",align:"start",key:"Address_1"},{title:"Postcode",key:"Postcode"},{title:"Actions",key:"actions",sortable:!1}],isEditing:!1,libraries:[],libraryTypes:Ywe,loadingServiceData:!1,mdText:aCe,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,selectedService:null,successDialog:!1}},methods:{addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},close(){this.dialogMainLibrary=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem.Local_authority=this.selectedService.name,this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){const e=this.editedItem[this.openingHoursEditKey].split(",").filter(t=>t.length>0);e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1,this.openingHoursOpen=null,this.openingHoursClose=null},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.isEditing=!0,this.libraries.splice(this.editedIndex,1),this.closeDelete()},download(){const e=this.selectedService;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){const n=new Blob([Hg.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,e);else{const r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},loadLibraries:async function(e){if(this.selectedService=e,this.libraries=[],!(e!=null&&e.code))return;this.loadingServiceData=!0;const t=this,n=await oCe("libraries",e.code);n.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/\s+/g,"_");delete n[s][u],n[s][o]=h})}),t.libraries=n,this.loadingServiceData=!1},publishChanges:async function(){const e=JSON.parse(JSON.stringify(this.libraries));e.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/_/g," ");delete e[s][u],e[s][o]=h})});const t=new Blob([Hg.unparse(e)],{type:"text/csv;charset=utf-8;"});await lCe("libraries",this.selectedService.code,t,this.$store.state.loginKey)?this.successDialog=!0:this.errorDialog=!0,this.isEditing=!1},preventNav(e){this.isEditing&&(e.preventDefault(),e.returnValue="")},removeOpeningHoursEntry(e,t){const n=this.editedItem[e].split(",").filter(r=>r.length>0);n.splice(n.indexOf(t),1),this.editedItem[e]=n.join(","),this.dialogOpeningHoursEntry=!1},save(){this.isEditing=!0,this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()}},components:{"service-select":Fv}},f2e=rr("h2",{class:"text-h5 text-decoration-underline my-3"}," Edit library locations ",-1),m2e={class:"text-subtitle"},p2e={class:"text-subtitle-2"},g2e={class:"d-flex"},v2e=rr("strong",null,"Publish changes",-1);function y2e(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section"),p=km,y=Fv;return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Edit library locations",subtitle:"View and edit the data held for public library locations"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),T(p,{actions:!0}),f2e,T(uc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:Me(()=>[T(sl,{icon:"mdi-numeric-1-circle",class:"mb-1",text:"Search for a local authority to view the libraries within that area.",title:"Local authority"}),T(y,{onSelect:t[0]||(t[0]=w=>u.loadLibraries(w))}),T(sl,{class:"mt-8 mb-1",icon:"mdi-numeric-2-circle",text:`Select the edit icon for each library to see and edit full details.
        Changes are not saved until the next step.`,title:"Make changes"}),T(Za,{color:"grey-lighten-2",variant:"outlined",elevation:"0"},{default:Me(()=>[T(HP,{hover:"","items-per-page":"5","no-filter":"","no-data-text":"To load library data ensure you select a local authority in Step 1.",headers:s.headers,items:s.libraries,"sort-by":[{key:"Library_name",order:"asc"}],class:"elevation-0"},{top:Me(()=>[T(n0,{flat:"",color:"grey-lighten-5"},{default:Me(()=>[T(Hs),T(md,{persistent:"",modelValue:s.dialogMainLibrary,"onUpdate:modelValue":t[16]||(t[16]=w=>s.dialogMainLibrary=w),"max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},{activator:Me(({props:w})=>[T(Jt,ot({disabled:s.selectedService===null},w,{variant:"tonal",color:"success","prepend-icon":"mdi-plus-circle"}),{default:Me(()=>[zt(" Add library ")]),_:2},1040,["disabled"])]),default:Me(()=>[T(Za,null,{default:Me(()=>[T(Mr,null,{default:Me(()=>[T(s2e,{"align-tabs":"center",modelValue:s.editTabs,"onUpdate:modelValue":t[1]||(t[1]=w=>s.editTabs=w)},{default:Me(()=>[T(pg,{value:1},{default:Me(()=>[zt("Details")]),_:1}),T(pg,{value:2},{default:Me(()=>[zt("Address")]),_:1}),T(pg,{value:3},{default:Me(()=>[zt("Hours")]),_:1})]),_:1},8,["modelValue"]),T(Hf,{modelValue:s.editTabs,"onUpdate:modelValue":t[15]||(t[15]=w=>s.editTabs=w)},{default:Me(()=>[(fn(),Nn(iu,{key:1,value:1},{default:Me(()=>[T(Mr,null,{default:Me(()=>[T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12"},{default:Me(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.editedItem.Library_name,"onUpdate:modelValue":t[2]||(t[2]=w=>s.editedItem.Library_name=w),label:"Name"},null,8,["modelValue"])]),_:1})]),_:1}),T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"8",md:"8"},{default:Me(()=>[T(Rd,{modelValue:s.editedItem.Type_of_library,"onUpdate:modelValue":t[3]||(t[3]=w=>s.editedItem.Type_of_library=w),items:s.libraryTypes,variant:"outlined",density:"compact","item-title":"text","item-value":"value",label:"Type"},null,8,["modelValue","items"])]),_:1}),T(aa,{cols:"12",sm:"4",md:"4"},{default:Me(()=>[T(Rd,{variant:"outlined",density:"compact",modelValue:s.editedItem.Statutory,"onUpdate:modelValue":t[4]||(t[4]=w=>s.editedItem.Statutory=w),"menu-props":{zIndex:1e4},items:["Yes","No"],label:"Statutory"},null,8,["modelValue"])]),_:1})]),_:1}),T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_opened,"onUpdate:modelValue":t[5]||(t[5]=w=>s.editedItem.Year_opened=w),label:"Year opened",type:"number"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_closed,"onUpdate:modelValue":t[6]||(t[6]=w=>s.editedItem.Year_closed=w),label:"Year closed",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Email_address,"onUpdate:modelValue":t[7]||(t[7]=w=>s.editedItem.Email_address=w),label:"Email address"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.URL,"onUpdate:modelValue":t[8]||(t[8]=w=>s.editedItem.URL=w),label:"Website"},null,8,["modelValue"])]),_:1})]),_:1}),T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"12",md:"12"},{default:Me(()=>[T(l2e,{rows:"2",density:"compact",variant:"outlined",modelValue:s.editedItem.Notes,"onUpdate:modelValue":t[9]||(t[9]=w=>s.editedItem.Notes=w),label:"Notes",clearable:"","persistent-clear":"","full-width":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(fn(),Nn(iu,{key:2,value:2},{default:Me(()=>[T(Mr,null,{default:Me(()=>[T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_1,"onUpdate:modelValue":t[10]||(t[10]=w=>s.editedItem.Address_1=w),label:"Address 1"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_2,"onUpdate:modelValue":t[11]||(t[11]=w=>s.editedItem.Address_2=w),label:"Address 2"},null,8,["modelValue"])]),_:1})]),_:1}),T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_3,"onUpdate:modelValue":t[12]||(t[12]=w=>s.editedItem.Address_3=w),label:"Address 3"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Postcode,"onUpdate:modelValue":t[13]||(t[13]=w=>s.editedItem.Postcode=w),label:"Postcode"},null,8,["modelValue"])]),_:1})]),_:1}),T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"12",md:"12"},{default:Me(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Unique_property_reference_number,"onUpdate:modelValue":t[14]||(t[14]=w=>s.editedItem.Unique_property_reference_number=w),label:"Unique property reference number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(fn(),Nn(iu,{key:3,value:3},{default:Me(()=>[T(Mr,null,{default:Me(()=>[T(qs,{dense:""},{default:Me(()=>[(fn(!0),ys(Ht,null,ig(s.openingHourTypes,w=>(fn(),Nn(aa,{cols:"12",sm:"6",md:"6",key:w},{default:Me(()=>[rr("h4",m2e,bs(w),1),(fn(!0),ys(Ht,null,ig(s.days,k=>(fn(),ys("div",{key:k,class:"my-1"},[T(gr,{class:"my-1"}),rr("div",p2e,[T(Jt,{variant:"tonal",icon:"mdi-plus-circle",size:"x-small",color:"success",onClick:C=>u.addOpeningHoursEntry(k+"_"+w.toLowerCase()+"_hours")},null,8,["onClick"]),zt(" "+bs(k),1)]),(fn(!0),ys(Ht,null,ig(s.editedItem[k+"_"+w.toLowerCase()+"_hours"]?s.editedItem[k+"_"+w.toLowerCase()+"_hours"].split(","):"",C=>(fn(),Nn(fl,{class:"ma-1",size:"small",key:C,label:"",closable:"","close-icon":"mdi-delete",color:"success","onClick:close":I=>u.removeOpeningHoursEntry(k+"_"+w.toLowerCase()+"_hours",C)},{default:Me(()=>[zt(bs(C),1)]),_:2},1032,["onClick:close"]))),128))]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["modelValue"])]),_:1}),T(nc,null,{default:Me(()=>[T(Hs),T(Jt,{variant:"plain",onClick:u.close,"append-icon":"mdi-close-circle"},{default:Me(()=>[zt(" Cancel ")]),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"success",onClick:u.save,"append-icon":"mdi-check-circle"},{default:Me(()=>[zt(" Ok ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(md,{persistent:"","overlay-opacity":"0.1","content-class":"elevation-0",modelValue:s.dialogDelete,"onUpdate:modelValue":t[17]||(t[17]=w=>s.dialogDelete=w),"max-width":"500px"},{default:Me(()=>[T(Za,null,{default:Me(()=>[T(Jc,null,{default:Me(()=>[zt("Remove library?")]),_:1}),T(To,null,{default:Me(()=>[zt(" This action will remove the library. If the library has closed it should not be removed. The closed year can be entered in the library details to mark it as closed and retain the details. ")]),_:1}),T(nc,null,{default:Me(()=>[T(Hs),T(Jt,{variant:"plain",onClick:u.closeDelete,"append-icon":"mdi-close-circle"},{default:Me(()=>[zt(" Cancel ")]),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"warning",onClick:u.deleteItemConfirm,"append-icon":"mdi-delete"},{default:Me(()=>[zt(" Remove ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(md,{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0",modelValue:s.dialogOpeningHoursEntry,"onUpdate:modelValue":t[20]||(t[20]=w=>s.dialogOpeningHoursEntry=w),"max-width":"500px"},{default:Me(()=>[T(Za,null,{default:Me(()=>[T(Jc,null,{default:Me(()=>[zt("Add opening hours")]),_:1}),T(To,null,{default:Me(()=>[T(qs,{dense:""},{default:Me(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.openingHoursOpen,"onUpdate:modelValue":t[18]||(t[18]=w=>s.openingHoursOpen=w),label:"Opening time",type:"time"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:Me(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.openingHoursClose,"onUpdate:modelValue":t[19]||(t[19]=w=>s.openingHoursClose=w),label:"Closing time",type:"time"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),T(nc,null,{default:Me(()=>[T(Hs),T(Jt,{variant:"plain",onClick:u.closeOpeningHoursEntry,"append-icon":"mdi-close-circle"},{default:Me(()=>[zt("Cancel")]),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"success",onClick:u.confirmOpeningHoursEntry,disabled:!s.openingHoursOpen||!s.openingHoursClose,"append-icon":"mdi-check-circle"},{default:Me(()=>[zt("Ok")]),_:1},8,["onClick","disabled"]),T(Hs)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":Me(({item:w})=>[rr("div",g2e,[T(nr,{class:"mr-2",onClick:k=>u.editItem(w)},{default:Me(()=>[zt(" mdi-pencil ")]),_:2},1032,["onClick"]),T(nr,{onClick:k=>u.deleteItem(w)},{default:Me(()=>[zt("mdi-delete")]),_:2},1032,["onClick"])])]),_:2},1032,["headers","items"])]),_:1}),T(sl,{class:"mt-8",icon:"mdi-numeric-3-circle",title:"Save changes"},{default:Me(()=>[zt(" If you are logged in with access to edit the library data, you can update the data by selecting "),v2e,zt(". You can also save a copy of the data to your computer. ")]),_:1}),T(Jt,{disabled:!s.isEditing,size:"large",variant:"tonal",color:"info","append-icon":"mdi-content-save",onClick:u.download},{default:Me(()=>[zt(" Save local copy ")]),_:1},8,["disabled","onClick"]),T(Jt,{disabled:!s.isEditing||!this.$store.state.loginKey,size:"large",variant:"tonal",color:"success",class:"ma-2","append-icon":"mdi-cloud-upload",onClick:u.publishChanges},{default:Me(()=>[zt(" Publish changes ")]),_:1},8,["disabled","onClick"]),T(md,{modelValue:s.successDialog,"onUpdate:modelValue":t[22]||(t[22]=w=>s.successDialog=w),persistent:"","max-width":"290"},{default:Me(()=>[T(Za,null,{default:Me(()=>[T(Jc,{class:"text-h5"},{default:Me(()=>[zt("Success")]),_:1}),T(To,null,{default:Me(()=>[zt("Your changes have been published. Thank you")]),_:1}),T(nc,null,{default:Me(()=>[T(Hs),T(Jt,{color:"secondary",text:"",onClick:t[21]||(t[21]=w=>s.successDialog=!1)},{default:Me(()=>[zt(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(md,{modelValue:s.errorDialog,"onUpdate:modelValue":t[24]||(t[24]=w=>s.errorDialog=w),persistent:"","max-width":"290"},{default:Me(()=>[T(Za,null,{default:Me(()=>[T(Jc,{class:"text-h5"},{default:Me(()=>[zt("Sorry")]),_:1}),T(To,null,{default:Me(()=>[zt(" Your changes failed to publish - please contact info@librarieshacked.org ")]),_:1}),T(nc,null,{default:Me(()=>[T(Hs),T(Jt,{color:"secondary",text:"",onClick:t[23]||(t[23]=w=>s.errorDialog=!1)},{default:Me(()=>[zt(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const _2e=Qr(h2e,[["render",y2e]]),b2e=`A loan is the issuing of an item of stock to a library member. Renewing an item already on loan is counted as an additional loan.

Loans are in a **time-series** format. Data is maintained by adding new data (e.g. the next months loans).
`,x2e={data(){return{mdText:b2e}},methods:{},components:{}},w2e={class:"text-center"};function S2e(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Loans",subtitle:"Lending of library items"}),rr("p",w2e,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/loans",target:"_blank"},{default:Me(()=>[zt(" Explore the loans schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const k2e=Qr(x2e,[["render",S2e]]),C2e=`Anyone can browse this site, as well use the tools to create and visualise library data.

To publish updates to existing data, you need to login. If your organisation has access you will be able to login using your organisation email address.

Once you've entered a valid email address you will be emailed an access link.
`;async function T2e(e){try{const t=await Nr.post(Gwe,{email:e,website:Wwe});if(t&&t.status===200)return!0}catch{return!1}return!1}const A2e=We({...cn(),...O3()},"VForm"),E2e=ft()({name:"VForm",props:A2e(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=F3(e),u=ht();function h(p){p.preventDefault(),s.reset()}function o(p){const y=p,w=s.validate();y.then=w.then.bind(w),y.catch=w.catch.bind(w),y.finally=w.finally.bind(w),r("submit",y),y.defaultPrevented||w.then(k=>{var I;let{valid:C}=k;C&&((I=u.value)==null||I.submit())}),y.preventDefault()}return St(()=>{var p;return T("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:h,onSubmit:o},[(p=n.default)==null?void 0:p.call(n,s)])}),Ro(s,u)}}),I2e={data(){return{mdText:C2e,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.processLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await T2e(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},processLoginKey:function(){const t=bke().query.key;t&&(this.$store.commit("setLoginKey",t),this.$router.push("/profile"))}},components:{}};function P2e(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),rr("section",null,[T(Mr,null,{default:Me(()=>[T(Za,{color:"success",variant:"outlined",elevation:"0",loading:s.loading,"max-width":"350",class:"mx-auto"},{progress:Me(()=>[T(fv,{height:"5",indeterminate:""})]),default:Me(()=>[T(Jc,null,{default:Me(()=>[zt("Access the site")]),_:1}),s.success?Xn("",!0):(fn(),Nn(To,{key:0},{default:Me(()=>[T(E2e,{ref:"form",modelValue:s.valid,"onUpdate:modelValue":t[1]||(t[1]=p=>s.valid=p)},{default:Me(()=>[T(ii,{clearable:"",variant:"outlined",modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=p=>s.email=p),rules:s.emailRules,label:"Enter email address",type:"email","prepend-inner-icon":"mdi-email",required:""},null,8,["modelValue","rules"]),rr("p",null,bs(s.message),1)]),_:1},8,["modelValue"])]),_:1})),s.success?(fn(),Nn(To,{key:1},{default:Me(()=>[zt(" Thank you - you should receive an email shortly. ")]),_:1})):Xn("",!0),s.success?Xn("",!0):(fn(),Nn(nc,{key:2},{default:Me(()=>[T(Hs),T(Jt,{"append-icon":"mdi-email",variant:"tonal",size:"large",color:"success",text:"",onClick:u.login,disabled:!s.valid},{default:Me(()=>[zt(" Log in ")]),_:1},8,["onClick","disabled"])]),_:1}))]),_:1},8,["loading"])]),_:1})])]),_:1})}const D2e=Qr(I2e,[["render",P2e]]),M2e=`A library member is any member of the public registered with the library service.

Membership data is a **snapshot**. This means that each update to the data is a fresh export, representing the membership at that point in time.
`,L2e={data(){return{mdText:M2e}},methods:{},components:{}},R2e={class:"text-center"};function O2e(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}),rr("p",R2e,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/membership",target:"_blank"},{default:Me(()=>[zt(" Explore the membership schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const F2e=Qr(L2e,[["render",O2e]]),z2e=We({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...vm({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Wr(e).every(t=>t!=null&&typeof t=="object")},...yv({clearable:!0})},"VFileInput"),B2e=ft()({name:"VFileInput",inheritAttrs:!1,props:z2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=li(),h=hn(e,"modelValue",e.modelValue,$=>Wr($),$=>e.multiple||Array.isArray(e.modelValue)?$:$[0]??null),{isFocused:o,focus:p,blur:y}=gm(e),w=Y(()=>typeof e.showSize!="boolean"?e.showSize:void 0),k=Y(()=>(h.value??[]).reduce(($,K)=>{let{size:le=0}=K;return $+le},0)),C=Y(()=>XS(k.value,w.value)),I=Y(()=>(h.value??[]).map($=>{const{name:K="",size:le=0}=$;return e.showSize?`${K} (${XS(le,w.value)})`:K})),R=Y(()=>{var K;const $=((K=h.value)==null?void 0:K.length)??0;return e.showSize?u(e.counterSizeString,$,C.value):u(e.counterString,$)}),M=ht(),F=ht(),N=ht(),q=Y(()=>o.value||e.active),Z=Y(()=>["plain","underlined"].includes(e.variant));function se(){var $;N.value!==document.activeElement&&(($=N.value)==null||$.focus()),o.value||p()}function ie($){var K;(K=N.value)==null||K.click()}function J($){r("mousedown:control",$)}function te($){var K;(K=N.value)==null||K.click(),r("click:control",$)}function G($){$.stopPropagation(),se(),Hn(()=>{h.value=[],q0(e["onClick:clear"],$)})}return ct(h,$=>{(!Array.isArray($)||!$.length)&&N.value&&(N.value.value="")}),St(()=>{const $=!!(s.counter||e.counter),K=!!($||s.details),[le,ee]=om(n),{modelValue:_e,...fe}=dc.filterProps(e),Ie=gx(e);return T(dc,ot({ref:M,modelValue:h.value,"onUpdate:modelValue":Te=>h.value=Te,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":Z.value},e.class],style:e.style,"onClick:prepend":ie},le,fe,{centerAffix:!Z.value,focused:o.value}),{...s,default:Te=>{let{id:qe,isDisabled:ke,isDirty:Pe,isReadonly:Fe,isValid:Je}=Te;return T(_v,ot({ref:F,"prepend-icon":e.prependIcon,onMousedown:J,onClick:te,"onClick:clear":G,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Ie,{id:qe.value,active:q.value||Pe.value,dirty:Pe.value||e.dirty,disabled:ke.value,focused:o.value,error:Je.value===!1}),{...s,default:$e=>{var dt;let{props:{class:at,...Lt}}=$e;return T(Ht,null,[T("input",ot({ref:N,type:"file",readonly:Fe.value,disabled:ke.value,multiple:e.multiple,name:e.name,onClick:kt=>{kt.stopPropagation(),Fe.value&&kt.preventDefault(),se()},onChange:kt=>{if(!kt.target)return;const Ne=kt.target;h.value=[...Ne.files??[]]},onFocus:se,onBlur:y},Lt,ee),null),T("div",{class:at},[!!((dt=h.value)!=null&&dt.length)&&!e.hideInput&&(s.selection?s.selection({fileNames:I.value,totalBytes:k.value,totalBytesReadable:C.value}):e.chips?I.value.map(kt=>T(fl,{key:kt,size:"small",text:kt},null)):I.value.join(", "))])])}})},details:K?Te=>{var qe,ke;return T(Ht,null,[(qe=s.details)==null?void 0:qe.call(s,Te),$&&T(Ht,null,[T("span",null,null),T(fx,{active:!!((ke=h.value)!=null&&ke.length),value:R.value,disabled:e.disabled},s.counter)])])}:void 0})}),Ro({},M,F,N)}}),V2e={props:["files"],methods:{updateSelection(e){this.$emit("change-files",e)}}};function N2e(e,t,n,r,s,u){return fn(),Nn(Za,{elevation:"0",color:"grey-lighten-5",class:"pt-4"},{default:Me(()=>[T(B2e,{chips:"",accept:"text/csv",variant:"solo-filled",flat:"",multiple:"",label:"Select a file on your computer","model-value":n.files,"onUpdate:modelValue":t[0]||(t[0]=h=>u.updateSelection(h)),hint:"Only files with an extension of .csv will be displayed","persistent-hint":"","persistent-clear":"","prepend-icon":"","prepend-inner-icon":"mdi-file-document"},null,8,["model-value"])]),_:1})}const Vv=Qr(V2e,[["render",N2e]]),$2e=`This tool displays library membership on a map to help explore areas of low or high membership, alongside other data such as the socioeconomic deprivation of areas.

To use this tool you will need library membership data in the [membership data schema format](https://schema.librarydata.uk/membership). This can be created using the [postcode to statistical area converter](/postcode-to-lsoa).
`,U2e=e=>/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e);String.prototype.isUrl=U2e;var Us={schemeGroups:{sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};function WP(e,t,n){if(e!==null)for(var r,s,u,h,o,p,y,w=0,k=0,C,I=e.type,R=I==="FeatureCollection",M=I==="Feature",F=R?e.features.length:1,N=0;N<F;N++){y=R?e.features[N].geometry:M?e.geometry:e,C=y?y.type==="GeometryCollection":!1,o=C?y.geometries.length:1;for(var q=0;q<o;q++){var Z=0,se=0;if(h=C?y.geometries[q]:y,h!==null){p=h.coordinates;var ie=h.type;switch(w=0,ie){case null:break;case"Point":if(t(p,k,N,Z,se)===!1)return!1;k++,Z++;break;case"LineString":case"MultiPoint":for(r=0;r<p.length;r++){if(t(p[r],k,N,Z,se)===!1)return!1;k++,ie==="MultiPoint"&&Z++}ie==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(r=0;r<p.length;r++){for(s=0;s<p[r].length-w;s++){if(t(p[r][s],k,N,Z,se)===!1)return!1;k++}ie==="MultiLineString"&&Z++,ie==="Polygon"&&se++}ie==="Polygon"&&Z++;break;case"MultiPolygon":for(r=0;r<p.length;r++){for(se=0,s=0;s<p[r].length;s++){for(u=0;u<p[r][s].length-w;u++){if(t(p[r][s][u],k,N,Z,se)===!1)return!1;k++}se++}Z++}break;case"GeometryCollection":for(r=0;r<h.geometries.length;r++)if(WP(h.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r0(e){var t=[1/0,1/0,-1/0,-1/0];return WP(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}r0.default=r0;const q2e=We({...Tx({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),x2=ft()({name:"VRadio",props:q2e(),setup(e,t){let{slots:n}=t;return St(()=>{const r=Yf.filterProps(e);return T(Yf,ot(r,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),j2e=We({height:{type:[Number,String],default:"auto"},...vm(),...wr(Cx(),["multiple"]),trueIcon:{type:yn,default:"$radioOn"},falseIcon:{type:yn,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),H2e=ft()({name:"VRadioGroup",inheritAttrs:!1,props:j2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=As(),u=Y(()=>e.id||`radio-group-${s}`),h=hn(e,"modelValue");return St(()=>{const[o,p]=om(n),y=dc.filterProps(e),w=Yf.filterProps(e),k=r.label?r.label({label:e.label,props:{for:u.value}}):e.label;return T(dc,ot({class:["v-radio-group",e.class],style:e.style},o,y,{modelValue:h.value,"onUpdate:modelValue":C=>h.value=C,id:u.value}),{...r,default:C=>{let{id:I,messagesId:R,isDisabled:M,isReadonly:F}=C;return T(Ht,null,[k&&T(mx,{id:I.value},{default:()=>[k]}),T(j4,ot(w,{id:I.value,"aria-describedby":R.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:M.value,readonly:F.value,"aria-labelledby":k?I.value:void 0,multiple:!1},p,{modelValue:h.value,"onUpdate:modelValue":N=>h.value=N}),r)])}})}),{}}}),G2e={data(){return{authoritySource:{data:{type:"FeatureCollection",features:[]},show:!1},authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},center:[-2,52],zoom:7,librariesSource:{tiles:[Hwe]},librariesLayerCircle:{filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoaFiles:[],lsoasSource:{tiles:[jwe],promoteId:{lsoa_boundaries:"code"},show:!1},lsoasLayerFill:{paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},lsoasLayerLabel:{minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Source Sans Pro SemiBold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}},matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",matchFilter:["in",["get","code"],["literal",[]]],mapDisplay:"populationPercentage",mapStyle:"https://zoomstack.librarydata.uk/light.json",minZoom:5,maxZoom:16,matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],mdText:$2e}},methods:{addMembershipData:async function(){const e=this;if(e.lsoaFiles[0].name){const t=await Wx(e.lsoaFiles[0],!1);this.setLsoaFields(t.slice(1));const n=await Zwe(t[1][0]),r=JSON.parse(n.geojson);this.authoritySource.data=r,this.authoritySource.show=!0;const s=r0(r);this.$refs.mglMap.map.fitBounds(s,{padding:10})}},setDisplayOptions:function(){this.mapDisplay==="populationPercentage"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaPopulation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaPopulation)),this.mapDisplay==="imd"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaDeprivation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaDeprivation))},setLsoaFields:function(e){const t=[],n=["match",["get","code"]],r=["match",["get","code"]];e.forEach(k=>{const C=parseInt(k[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoas",sourceLayer:"lsoa_boundaries",id:k[2]},{members:C}),t.push(k[2]),n.push(k[2]),n.push(["concat",["to-string",["round",["*",["/",C,["to-number",["get","population"]]],100]]],"%"]),r.push(k[2]),r.push(["get","imd"])}),n.push(""),r.push("");const s=Math.floor(Math.min(...e.map(k=>parseInt(k[3].replace("x","2"))/1800*100))),u=Math.ceil(Math.max(...e.filter(k=>k[3]<=1200).map(k=>parseInt(k[3].replace("x","2"))/1500*100))),o=[1,2,3,4,5,6,7,8,9].map(k=>Math.round(s+(u-s)*(k/10))).map((k,C)=>[k,Us.OrRd[9][C]]),p=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],...o.flat()],y=["interpolate",["linear"],["to-number",["get","imd"]],1,Us.OrRd[9][8],2,Us.OrRd[9][7],3,Us.OrRd[9][6],4,Us.OrRd[9][5],5,Us.OrRd[9][4],6,Us.OrRd[9][3],7,Us.OrRd[9][2],8,Us.OrRd[9][1],9,Us.OrRd[9][0],10,Us.OrRd[9][0]],w=["in",["get","code"],["literal",t]];this.matchFilter=w,this.$refs.mglMap.map.setFilter("lsoas_layer_fill",w),this.$refs.mglMap.map.setFilter("lsoas_layer_label",w),this.matchFieldLsoaPopulation=n,this.matchFieldLsoaDeprivation=r,this.matchColourLsoaPopulation=p,this.matchColourLsoaDeprivation=y,this.setDisplayOptions()}},components:{"file-upload":Vv}},W2e=rr("h2",{class:"text-h5 text-decoration-underline my-3"},"Map library members",-1),Y2e=rr("strong",null,"Percentage membership",-1),Z2e=rr("strong",null,"Displaying deprivation",-1);function K2e(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section"),p=Vv,y=Cn("mgl-fullscreen-control"),w=Cn("mgl-navigation-control"),k=Cn("mgl-scale-control"),C=Cn("mgl-circle-layer"),I=Cn("mgl-vector-source"),R=Cn("mgl-fill-layer"),M=Cn("mgl-symbol-layer"),F=Cn("mgl-line-layer"),N=Cn("mgl-geo-json-source"),q=Cn("mgl-map");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Membership map",subtitle:"Insights from library membership data"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),W2e,T(uc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:Me(()=>[T(sl,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:Me(()=>[zt(" First you need a CSV file in the format of the membership data schema. ")]),_:1}),T(p,{files:s.lsoaFiles,onChangeFiles:t[0]||(t[0]=Z=>s.lsoaFiles=Z),onDeleteFile:t[1]||(t[1]=Z=>s.lsoaFiles=null)},null,8,["files"]),T(Jt,{"append-icon":"mdi-map-marker-plus",color:"info",class:"mt-3",variant:"tonal",size:"large",onClick:u.addMembershipData,disabled:s.lsoaFiles.length==0},{default:Me(()=>[zt(" Display on map ")]),_:1},8,["onClick","disabled"]),T(sl,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Map"},{default:Me(()=>[Y2e,zt(" shades the map to highlight concentration of membership. When zooming in this also displays the membership population percentage for individual areas. "),Z2e,zt(" shades the map to highlight highly deprived areas. This uses the index of multiple deprivation for each area. 1 represents highly deprived areas and is shaded in red, 10 the least deprived. ")]),_:1}),T(H2e,{modelValue:s.mapDisplay,"onUpdate:modelValue":t[2]||(t[2]=Z=>s.mapDisplay=Z),onChange:u.setDisplayOptions,inline:""},{default:Me(()=>[T(x2,{label:"Highlight percentage membership",value:"populationPercentage"}),T(x2,{label:"Highlight deprivation levels",value:"imd"})]),_:1},8,["modelValue","onChange"]),T(Mr,{class:"map"},{default:Me(()=>[T(q,{ref:"mglMap",center:s.center,zoom:s.zoom,mapStyle:s.mapStyle},{default:Me(()=>[T(y),T(w),T(k),T(I,{"source-id":"libraries",tiles:s.librariesSource.tiles},{default:Me(()=>[T(C,{"source-layer":"libraries","layer-id":"libraries_layer_circles",paint:s.librariesLayerCircle.paint},null,8,["paint"])]),_:1},8,["tiles"]),T(I,{"source-id":"lsoas",tiles:s.lsoasSource.tiles,promoteId:s.lsoasSource.promoteId},{default:Me(()=>[T(R,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_fill",paint:s.lsoasLayerFill.paint,filter:s.matchFilter},null,8,["paint","filter"]),T(M,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_label",paint:s.lsoasLayerLabel.paint,layout:s.lsoasLayerLabel.layout,filter:s.matchFilter,minzoom:s.lsoasLayerLabel.minzoom},null,8,["paint","layout","filter","minzoom"])]),_:1},8,["tiles","promoteId"]),T(N,{"source-id":"authority",data:s.authoritySource.data},{default:Me(()=>[s.authoritySource.show?(fn(),Nn(F,{key:0,"layer-id":"authority-line",paint:s.authorityLayerLine.paint},null,8,["paint"])):Xn("",!0),s.authoritySource.show?(fn(),Nn(M,{key:1,"layer-id":"authority-label",layout:s.authorityLayerLabel.layout,paint:s.authorityLayerLabel.paint},null,8,["layout","paint"])):Xn("",!0)]),_:1},8,["data"])]),_:1},8,["center","zoom","mapStyle"])]),_:1})]),_:1})]),_:1})}const X2e=Qr(G2e,[["render",K2e]]),J2e=`This tool converts UK postcodes into statistical areas. This is useful for then doing location based analysis. England and Wales compile demographic data at census-based 'lower super output area' geographic level. In Scotland, 'Data Zones' are commonly used, and in Northern Ireland, 'Small Areas'.

When using this tool, all postcodes are stored securely on your own computer, and never sent online.
`;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var YP;function jt(){return YP.apply(null,arguments)}function Q2e(e){YP=e}function Js(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function su(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ir(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kx(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ir(e,t))return!1;return!0}function Fa(e){return e===void 0}function ml(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Cm(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function ZP(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function rc(e,t){for(var n in t)ir(t,n)&&(e[n]=t[n]);return ir(t,"toString")&&(e.toString=t.toString),ir(t,"valueOf")&&(e.valueOf=t.valueOf),e}function zo(e,t,n,r){return yD(e,t,n,r,!0).utc()}function eTe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Rn(e){return e._pf==null&&(e._pf=eTe()),e._pf}var i0;Array.prototype.some?i0=Array.prototype.some:i0=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Xx(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=Rn(e),n=i0.call(t.parsedDateParts,function(s){return s!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Nv(e){var t=zo(NaN);return e!=null?rc(Rn(t),e):Rn(t).userInvalidated=!0,t}var w2=jt.momentProperties=[],Z_=!1;function Jx(e,t){var n,r,s,u=w2.length;if(Fa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Fa(t._i)||(e._i=t._i),Fa(t._f)||(e._f=t._f),Fa(t._l)||(e._l=t._l),Fa(t._strict)||(e._strict=t._strict),Fa(t._tzm)||(e._tzm=t._tzm),Fa(t._isUTC)||(e._isUTC=t._isUTC),Fa(t._offset)||(e._offset=t._offset),Fa(t._pf)||(e._pf=Rn(t)),Fa(t._locale)||(e._locale=t._locale),u>0)for(n=0;n<u;n++)r=w2[n],s=t[r],Fa(s)||(e[r]=s);return e}function Tm(e){Jx(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Z_===!1&&(Z_=!0,jt.updateOffset(this),Z_=!1)}function Qs(e){return e instanceof Tm||e!=null&&e._isAMomentObject!=null}function KP(e){jt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Is(e,t){var n=!0;return rc(function(){if(jt.deprecationHandler!=null&&jt.deprecationHandler(null,e),n){var r=[],s,u,h,o=arguments.length;for(u=0;u<o;u++){if(s="",typeof arguments[u]=="object"){s+=`
[`+u+"] ";for(h in arguments[0])ir(arguments[0],h)&&(s+=h+": "+arguments[0][h]+", ");s=s.slice(0,-2)}else s=arguments[u];r.push(s)}KP(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var S2={};function XP(e,t){jt.deprecationHandler!=null&&jt.deprecationHandler(e,t),S2[e]||(KP(t),S2[e]=!0)}jt.suppressDeprecationWarnings=!1;jt.deprecationHandler=null;function Bo(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function tTe(e){var t,n;for(n in e)ir(e,n)&&(t=e[n],Bo(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function a0(e,t){var n=rc({},e),r;for(r in t)ir(t,r)&&(su(e[r])&&su(t[r])?(n[r]={},rc(n[r],e[r]),rc(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ir(e,r)&&!ir(t,r)&&su(e[r])&&(n[r]=rc({},n[r]));return n}function Qx(e){e!=null&&this.set(e)}var s0;Object.keys?s0=Object.keys:s0=function(e){var t,n=[];for(t in e)ir(e,t)&&n.push(t);return n};var nTe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function rTe(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Bo(r)?r.call(t,n):r}function Io(e,t,n){var r=""+Math.abs(e),s=t-r.length,u=e>=0;return(u?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var e1=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,eg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,K_={},Sd={};function un(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(Sd[e]=s),t&&(Sd[t[0]]=function(){return Io(s.apply(this,arguments),t[1],t[2])}),n&&(Sd[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function iTe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function aTe(e){var t=e.match(e1),n,r;for(n=0,r=t.length;n<r;n++)Sd[t[n]]?t[n]=Sd[t[n]]:t[n]=iTe(t[n]);return function(s){var u="",h;for(h=0;h<r;h++)u+=Bo(t[h])?t[h].call(s,e):t[h];return u}}function gg(e,t){return e.isValid()?(t=JP(t,e.localeData()),K_[t]=K_[t]||aTe(t),K_[t](e)):e.localeData().invalidDate()}function JP(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(eg.lastIndex=0;n>=0&&eg.test(e);)e=e.replace(eg,r),eg.lastIndex=0,n-=1;return e}var sTe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function oTe(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(e1).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var lTe="Invalid date";function cTe(){return this._invalidDate}var uTe="%d",dTe=/\d{1,2}/;function hTe(e){return this._ordinal.replace("%d",e)}var fTe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function mTe(e,t,n,r){var s=this._relativeTime[n];return Bo(s)?s(e,t,n,r):s.replace(/%d/i,e)}function pTe(e,t){var n=this._relativeTime[e>0?"future":"past"];return Bo(n)?n(t):n.replace(/%s/i,t)}var k2={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ps(e){return typeof e=="string"?k2[e]||k2[e.toLowerCase()]:void 0}function t1(e){var t={},n,r;for(r in e)ir(e,r)&&(n=Ps(r),n&&(t[n]=e[r]));return t}var gTe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function vTe(e){var t=[],n;for(n in e)ir(e,n)&&t.push({unit:n,priority:gTe[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}var QP=/\d/,as=/\d\d/,eD=/\d{3}/,n1=/\d{4}/,$v=/[+-]?\d{6}/,Ur=/\d\d?/,tD=/\d\d\d\d?/,nD=/\d\d\d\d\d\d?/,Uv=/\d{1,3}/,r1=/\d{1,4}/,qv=/[+-]?\d{1,6}/,Kd=/\d+/,jv=/[+-]?\d+/,yTe=/Z|[+-]\d\d:?\d\d/gi,Hv=/Z|[+-]\d\d(?::?\d\d)?/gi,_Te=/[+-]?\d+(\.\d{1,3})?/,Am=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Xd=/^[1-9]\d?/,i1=/^([1-9]\d|\d)/,Wg;Wg={};function en(e,t,n){Wg[e]=Bo(t)?t:function(r,s){return r&&n?n:t}}function bTe(e,t){return ir(Wg,e)?Wg[e](t._strict,t._locale):new RegExp(xTe(e))}function xTe(e){return ul(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,u){return n||r||s||u}))}function ul(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function gs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function qn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=gs(t)),n}var o0={};function kr(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),ml(t)&&(r=function(u,h){h[t]=qn(u)}),s=e.length,n=0;n<s;n++)o0[e[n]]=r}function Em(e,t){kr(e,function(n,r,s,u){s._w=s._w||{},t(n,s._w,s,u)})}function wTe(e,t,n){t!=null&&ir(o0,e)&&o0[e](t,n._a,n,e)}function Gv(e){return e%4===0&&e%100!==0||e%400===0}var ua=0,ol=1,wo=2,Ii=3,Zs=4,ll=5,Qc=6,STe=7,kTe=8;un("Y",0,0,function(){var e=this.year();return e<=9999?Io(e,4):"+"+e});un(0,["YY",2],0,function(){return this.year()%100});un(0,["YYYY",4],0,"year");un(0,["YYYYY",5],0,"year");un(0,["YYYYYY",6,!0],0,"year");en("Y",jv);en("YY",Ur,as);en("YYYY",r1,n1);en("YYYYY",qv,$v);en("YYYYYY",qv,$v);kr(["YYYYY","YYYYYY"],ua);kr("YYYY",function(e,t){t[ua]=e.length===2?jt.parseTwoDigitYear(e):qn(e)});kr("YY",function(e,t){t[ua]=jt.parseTwoDigitYear(e)});kr("Y",function(e,t){t[ua]=parseInt(e,10)});function Cf(e){return Gv(e)?366:365}jt.parseTwoDigitYear=function(e){return qn(e)+(qn(e)>68?1900:2e3)};var rD=Jd("FullYear",!0);function CTe(){return Gv(this.year())}function Jd(e,t){return function(n){return n!=null?(iD(this,e,n),jt.updateOffset(this,t),this):Qf(this,e)}}function Qf(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function iD(e,t,n){var r,s,u,h,o;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}u=n,h=e.month(),o=e.date(),o=o===29&&h===1&&!Gv(u)?28:o,s?r.setUTCFullYear(u,h,o):r.setFullYear(u,h,o)}}function TTe(e){return e=Ps(e),Bo(this[e])?this[e]():this}function ATe(e,t){if(typeof e=="object"){e=t1(e);var n=vTe(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=Ps(e),Bo(this[e]))return this[e](t);return this}function ETe(e,t){return(e%t+t)%t}var vi;Array.prototype.indexOf?vi=Array.prototype.indexOf:vi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function a1(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=ETe(t,12);return e+=(t-n)/12,n===1?Gv(e)?29:28:31-n%7%2}un("M",["MM",2],"Mo",function(){return this.month()+1});un("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});un("MMMM",0,0,function(e){return this.localeData().months(this,e)});en("M",Ur,Xd);en("MM",Ur,as);en("MMM",function(e,t){return t.monthsShortRegex(e)});en("MMMM",function(e,t){return t.monthsRegex(e)});kr(["M","MM"],function(e,t){t[ol]=qn(e)-1});kr(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[ol]=s:Rn(n).invalidMonth=e});var ITe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),aD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),sD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,PTe=Am,DTe=Am;function MTe(e,t){return e?Js(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||sD).test(t)?"format":"standalone"][e.month()]:Js(this._months)?this._months:this._months.standalone}function LTe(e,t){return e?Js(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[sD.test(t)?"format":"standalone"][e.month()]:Js(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function RTe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)u=zo([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(u,"").toLocaleLowerCase();return n?t==="MMM"?(s=vi.call(this._shortMonthsParse,h),s!==-1?s:null):(s=vi.call(this._longMonthsParse,h),s!==-1?s:null):t==="MMM"?(s=vi.call(this._shortMonthsParse,h),s!==-1?s:(s=vi.call(this._longMonthsParse,h),s!==-1?s:null)):(s=vi.call(this._longMonthsParse,h),s!==-1?s:(s=vi.call(this._shortMonthsParse,h),s!==-1?s:null))}function OTe(e,t,n){var r,s,u;if(this._monthsParseExact)return RTe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=zo([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(u="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function oD(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=qn(t);else if(t=e.localeData().monthsParse(t),!ml(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,a1(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function lD(e){return e!=null?(oD(this,e),jt.updateOffset(this,!0),this):Qf(this,"Month")}function FTe(){return a1(this.year(),this.month())}function zTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||cD.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ir(this,"_monthsShortRegex")||(this._monthsShortRegex=PTe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function BTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||cD.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ir(this,"_monthsRegex")||(this._monthsRegex=DTe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function cD(){function e(p,y){return y.length-p.length}var t=[],n=[],r=[],s,u,h,o;for(s=0;s<12;s++)u=zo([2e3,s]),h=ul(this.monthsShort(u,"")),o=ul(this.months(u,"")),t.push(h),n.push(o),r.push(o),r.push(h);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function VTe(e,t,n,r,s,u,h){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,s,u,h),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,s,u,h),o}function em(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Yg(e,t,n){var r=7+t-n,s=(7+em(e,0,r).getUTCDay()-t)%7;return-s+r-1}function uD(e,t,n,r,s){var u=(7+n-r)%7,h=Yg(e,r,s),o=1+7*(t-1)+u+h,p,y;return o<=0?(p=e-1,y=Cf(p)+o):o>Cf(e)?(p=e+1,y=o-Cf(e)):(p=e,y=o),{year:p,dayOfYear:y}}function tm(e,t,n){var r=Yg(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,u,h;return s<1?(h=e.year()-1,u=s+dl(h,t,n)):s>dl(e.year(),t,n)?(u=s-dl(e.year(),t,n),h=e.year()+1):(h=e.year(),u=s),{week:u,year:h}}function dl(e,t,n){var r=Yg(e,t,n),s=Yg(e+1,t,n);return(Cf(e)-r+s)/7}un("w",["ww",2],"wo","week");un("W",["WW",2],"Wo","isoWeek");en("w",Ur,Xd);en("ww",Ur,as);en("W",Ur,Xd);en("WW",Ur,as);Em(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=qn(e)});function NTe(e){return tm(e,this._week.dow,this._week.doy).week}var $Te={dow:0,doy:6};function UTe(){return this._week.dow}function qTe(){return this._week.doy}function jTe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function HTe(e){var t=tm(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}un("d",0,"do","day");un("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});un("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});un("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});un("e",0,0,"weekday");un("E",0,0,"isoWeekday");en("d",Ur);en("e",Ur);en("E",Ur);en("dd",function(e,t){return t.weekdaysMinRegex(e)});en("ddd",function(e,t){return t.weekdaysShortRegex(e)});en("dddd",function(e,t){return t.weekdaysRegex(e)});Em(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:Rn(n).invalidWeekday=e});Em(["d","e","E"],function(e,t,n,r){t[r]=qn(e)});function GTe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function WTe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function s1(e,t){return e.slice(t,7).concat(e.slice(0,t))}var YTe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),dD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ZTe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),KTe=Am,XTe=Am,JTe=Am;function QTe(e,t){var n=Js(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?s1(n,this._week.dow):e?n[e.day()]:n}function eAe(e){return e===!0?s1(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function tAe(e){return e===!0?s1(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function nAe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)u=zo([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(u,"").toLocaleLowerCase();return n?t==="dddd"?(s=vi.call(this._weekdaysParse,h),s!==-1?s:null):t==="ddd"?(s=vi.call(this._shortWeekdaysParse,h),s!==-1?s:null):(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null):t==="dddd"?(s=vi.call(this._weekdaysParse,h),s!==-1||(s=vi.call(this._shortWeekdaysParse,h),s!==-1)?s:(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null)):t==="ddd"?(s=vi.call(this._shortWeekdaysParse,h),s!==-1||(s=vi.call(this._weekdaysParse,h),s!==-1)?s:(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null)):(s=vi.call(this._minWeekdaysParse,h),s!==-1||(s=vi.call(this._weekdaysParse,h),s!==-1)?s:(s=vi.call(this._shortWeekdaysParse,h),s!==-1?s:null))}function rAe(e,t,n){var r,s,u;if(this._weekdaysParseExact)return nAe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=zo([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(u="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function iAe(e){if(!this.isValid())return e!=null?this:NaN;var t=Qf(this,"Day");return e!=null?(e=GTe(e,this.localeData()),this.add(e-t,"d")):t}function aAe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function sAe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=WTe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function oAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||o1.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ir(this,"_weekdaysRegex")||(this._weekdaysRegex=KTe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function lAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||o1.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ir(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=XTe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function cAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||o1.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ir(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=JTe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function o1(){function e(w,k){return k.length-w.length}var t=[],n=[],r=[],s=[],u,h,o,p,y;for(u=0;u<7;u++)h=zo([2e3,1]).day(u),o=ul(this.weekdaysMin(h,"")),p=ul(this.weekdaysShort(h,"")),y=ul(this.weekdays(h,"")),t.push(o),n.push(p),r.push(y),s.push(o),s.push(p),s.push(y);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function l1(){return this.hours()%12||12}function uAe(){return this.hours()||24}un("H",["HH",2],0,"hour");un("h",["hh",2],0,l1);un("k",["kk",2],0,uAe);un("hmm",0,0,function(){return""+l1.apply(this)+Io(this.minutes(),2)});un("hmmss",0,0,function(){return""+l1.apply(this)+Io(this.minutes(),2)+Io(this.seconds(),2)});un("Hmm",0,0,function(){return""+this.hours()+Io(this.minutes(),2)});un("Hmmss",0,0,function(){return""+this.hours()+Io(this.minutes(),2)+Io(this.seconds(),2)});function hD(e,t){un(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}hD("a",!0);hD("A",!1);function fD(e,t){return t._meridiemParse}en("a",fD);en("A",fD);en("H",Ur,i1);en("h",Ur,Xd);en("k",Ur,Xd);en("HH",Ur,as);en("hh",Ur,as);en("kk",Ur,as);en("hmm",tD);en("hmmss",nD);en("Hmm",tD);en("Hmmss",nD);kr(["H","HH"],Ii);kr(["k","kk"],function(e,t,n){var r=qn(e);t[Ii]=r===24?0:r});kr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});kr(["h","hh"],function(e,t,n){t[Ii]=qn(e),Rn(n).bigHour=!0});kr("hmm",function(e,t,n){var r=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Zs]=qn(e.substr(r)),Rn(n).bigHour=!0});kr("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Zs]=qn(e.substr(r,2)),t[ll]=qn(e.substr(s)),Rn(n).bigHour=!0});kr("Hmm",function(e,t,n){var r=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Zs]=qn(e.substr(r))});kr("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Zs]=qn(e.substr(r,2)),t[ll]=qn(e.substr(s))});function dAe(e){return(e+"").toLowerCase().charAt(0)==="p"}var hAe=/[ap]\.?m?\.?/i,fAe=Jd("Hours",!0);function mAe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var mD={calendar:nTe,longDateFormat:sTe,invalidDate:lTe,ordinal:uTe,dayOfMonthOrdinalParse:dTe,relativeTime:fTe,months:ITe,monthsShort:aD,week:$Te,weekdays:YTe,weekdaysMin:ZTe,weekdaysShort:dD,meridiemParse:hAe},Gr={},hf={},nm;function pAe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function C2(e){return e&&e.toLowerCase().replace("_","-")}function gAe(e){for(var t=0,n,r,s,u;t<e.length;){for(u=C2(e[t]).split("-"),n=u.length,r=C2(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=Wv(u.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&pAe(u,r)>=n-1)break;n--}t++}return nm}function vAe(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Wv(e){var t=null,n;if(Gr[e]===void 0&&typeof _g<"u"&&_g&&_g.exports&&vAe(e))try{t=nm._abbr,n=require,n("./locale/"+e),oc(t)}catch{Gr[e]=null}return Gr[e]}function oc(e,t){var n;return e&&(Fa(t)?n=Sl(e):n=c1(e,t),n?nm=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nm._abbr}function c1(e,t){if(t!==null){var n,r=mD;if(t.abbr=e,Gr[e]!=null)XP("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Gr[e]._config;else if(t.parentLocale!=null)if(Gr[t.parentLocale]!=null)r=Gr[t.parentLocale]._config;else if(n=Wv(t.parentLocale),n!=null)r=n._config;else return hf[t.parentLocale]||(hf[t.parentLocale]=[]),hf[t.parentLocale].push({name:e,config:t}),null;return Gr[e]=new Qx(a0(r,t)),hf[e]&&hf[e].forEach(function(s){c1(s.name,s.config)}),oc(e),Gr[e]}else return delete Gr[e],null}function yAe(e,t){if(t!=null){var n,r,s=mD;Gr[e]!=null&&Gr[e].parentLocale!=null?Gr[e].set(a0(Gr[e]._config,t)):(r=Wv(e),r!=null&&(s=r._config),t=a0(s,t),r==null&&(t.abbr=e),n=new Qx(t),n.parentLocale=Gr[e],Gr[e]=n),oc(e)}else Gr[e]!=null&&(Gr[e].parentLocale!=null?(Gr[e]=Gr[e].parentLocale,e===oc()&&oc(e)):Gr[e]!=null&&delete Gr[e]);return Gr[e]}function Sl(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nm;if(!Js(e)){if(t=Wv(e),t)return t;e=[e]}return gAe(e)}function _Ae(){return s0(Gr)}function u1(e){var t,n=e._a;return n&&Rn(e).overflow===-2&&(t=n[ol]<0||n[ol]>11?ol:n[wo]<1||n[wo]>a1(n[ua],n[ol])?wo:n[Ii]<0||n[Ii]>24||n[Ii]===24&&(n[Zs]!==0||n[ll]!==0||n[Qc]!==0)?Ii:n[Zs]<0||n[Zs]>59?Zs:n[ll]<0||n[ll]>59?ll:n[Qc]<0||n[Qc]>999?Qc:-1,Rn(e)._overflowDayOfYear&&(t<ua||t>wo)&&(t=wo),Rn(e)._overflowWeeks&&t===-1&&(t=STe),Rn(e)._overflowWeekday&&t===-1&&(t=kTe),Rn(e).overflow=t),e}var bAe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xAe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wAe=/Z|[+-]\d\d(?::?\d\d)?/,tg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],X_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],SAe=/^\/?Date\((-?\d+)/i,kAe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,CAe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function pD(e){var t,n,r=e._i,s=bAe.exec(r)||xAe.exec(r),u,h,o,p,y=tg.length,w=X_.length;if(s){for(Rn(e).iso=!0,t=0,n=y;t<n;t++)if(tg[t][1].exec(s[1])){h=tg[t][0],u=tg[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(s[3]){for(t=0,n=w;t<n;t++)if(X_[t][1].exec(s[3])){o=(s[2]||" ")+X_[t][0];break}if(o==null){e._isValid=!1;return}}if(!u&&o!=null){e._isValid=!1;return}if(s[4])if(wAe.exec(s[4]))p="Z";else{e._isValid=!1;return}e._f=h+(o||"")+(p||""),h1(e)}else e._isValid=!1}function TAe(e,t,n,r,s,u){var h=[AAe(e),aD.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return u&&h.push(parseInt(u,10)),h}function AAe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function EAe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function IAe(e,t,n){if(e){var r=dD.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return Rn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function PAe(e,t,n){if(e)return CAe[e];if(t)return 0;var r=parseInt(n,10),s=r%100,u=(r-s)/100;return u*60+s}function gD(e){var t=kAe.exec(EAe(e._i)),n;if(t){if(n=TAe(t[4],t[3],t[2],t[5],t[6],t[7]),!IAe(t[1],n,e))return;e._a=n,e._tzm=PAe(t[8],t[9],t[10]),e._d=em.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Rn(e).rfc2822=!0}else e._isValid=!1}function DAe(e){var t=SAe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(pD(e),e._isValid===!1)delete e._isValid;else return;if(gD(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:jt.createFromInputFallback(e)}jt.createFromInputFallback=Is("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function pd(e,t,n){return e??t??n}function MAe(e){var t=new Date(jt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function d1(e){var t,n,r=[],s,u,h;if(!e._d){for(s=MAe(e),e._w&&e._a[wo]==null&&e._a[ol]==null&&LAe(e),e._dayOfYear!=null&&(h=pd(e._a[ua],s[ua]),(e._dayOfYear>Cf(h)||e._dayOfYear===0)&&(Rn(e)._overflowDayOfYear=!0),n=em(h,0,e._dayOfYear),e._a[ol]=n.getUTCMonth(),e._a[wo]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ii]===24&&e._a[Zs]===0&&e._a[ll]===0&&e._a[Qc]===0&&(e._nextDay=!0,e._a[Ii]=0),e._d=(e._useUTC?em:VTe).apply(null,r),u=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ii]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==u&&(Rn(e).weekdayMismatch=!0)}}function LAe(e){var t,n,r,s,u,h,o,p,y;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(u=1,h=4,n=pd(t.GG,e._a[ua],tm($r(),1,4).year),r=pd(t.W,1),s=pd(t.E,1),(s<1||s>7)&&(p=!0)):(u=e._locale._week.dow,h=e._locale._week.doy,y=tm($r(),u,h),n=pd(t.gg,e._a[ua],y.year),r=pd(t.w,y.week),t.d!=null?(s=t.d,(s<0||s>6)&&(p=!0)):t.e!=null?(s=t.e+u,(t.e<0||t.e>6)&&(p=!0)):s=u),r<1||r>dl(n,u,h)?Rn(e)._overflowWeeks=!0:p!=null?Rn(e)._overflowWeekday=!0:(o=uD(n,r,s,u,h),e._a[ua]=o.year,e._dayOfYear=o.dayOfYear)}jt.ISO_8601=function(){};jt.RFC_2822=function(){};function h1(e){if(e._f===jt.ISO_8601){pD(e);return}if(e._f===jt.RFC_2822){gD(e);return}e._a=[],Rn(e).empty=!0;var t=""+e._i,n,r,s,u,h,o=t.length,p=0,y,w;for(s=JP(e._f,e._locale).match(e1)||[],w=s.length,n=0;n<w;n++)u=s[n],r=(t.match(bTe(u,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&Rn(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),p+=r.length),Sd[u]?(r?Rn(e).empty=!1:Rn(e).unusedTokens.push(u),wTe(u,r,e)):e._strict&&!r&&Rn(e).unusedTokens.push(u);Rn(e).charsLeftOver=o-p,t.length>0&&Rn(e).unusedInput.push(t),e._a[Ii]<=12&&Rn(e).bigHour===!0&&e._a[Ii]>0&&(Rn(e).bigHour=void 0),Rn(e).parsedDateParts=e._a.slice(0),Rn(e).meridiem=e._meridiem,e._a[Ii]=RAe(e._locale,e._a[Ii],e._meridiem),y=Rn(e).era,y!==null&&(e._a[ua]=e._locale.erasConvertYear(y,e._a[ua])),d1(e),u1(e)}function RAe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function OAe(e){var t,n,r,s,u,h,o=!1,p=e._f.length;if(p===0){Rn(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<p;s++)u=0,h=!1,t=Jx({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],h1(t),Xx(t)&&(h=!0),u+=Rn(t).charsLeftOver,u+=Rn(t).unusedTokens.length*10,Rn(t).score=u,o?u<r&&(r=u,n=t):(r==null||u<r||h)&&(r=u,n=t,h&&(o=!0));rc(e,n||t)}function FAe(e){if(!e._d){var t=t1(e._i),n=t.day===void 0?t.date:t.day;e._a=ZP([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),d1(e)}}function zAe(e){var t=new Tm(u1(vD(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function vD(e){var t=e._i,n=e._f;return e._locale=e._locale||Sl(e._l),t===null||n===void 0&&t===""?Nv({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Qs(t)?new Tm(u1(t)):(Cm(t)?e._d=t:Js(n)?OAe(e):n?h1(e):BAe(e),Xx(e)||(e._d=null),e))}function BAe(e){var t=e._i;Fa(t)?e._d=new Date(jt.now()):Cm(t)?e._d=new Date(t.valueOf()):typeof t=="string"?DAe(e):Js(t)?(e._a=ZP(t.slice(0),function(n){return parseInt(n,10)}),d1(e)):su(t)?FAe(e):ml(t)?e._d=new Date(t):jt.createFromInputFallback(e)}function yD(e,t,n,r,s){var u={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(su(e)&&Kx(e)||Js(e)&&e.length===0)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=r,zAe(u)}function $r(e,t,n,r){return yD(e,t,n,r,!1)}var VAe=Is("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$r.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Nv()}),NAe=Is("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$r.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Nv()});function _D(e,t){var n,r;if(t.length===1&&Js(t[0])&&(t=t[0]),!t.length)return $r();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function $Ae(){var e=[].slice.call(arguments,0);return _D("isBefore",e)}function UAe(){var e=[].slice.call(arguments,0);return _D("isAfter",e)}var qAe=function(){return Date.now?Date.now():+new Date},ff=["year","quarter","month","week","day","hour","minute","second","millisecond"];function jAe(e){var t,n=!1,r,s=ff.length;for(t in e)if(ir(e,t)&&!(vi.call(ff,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[ff[r]]){if(n)return!1;parseFloat(e[ff[r]])!==qn(e[ff[r]])&&(n=!0)}return!0}function HAe(){return this._isValid}function GAe(){return so(NaN)}function Yv(e){var t=t1(e),n=t.year||0,r=t.quarter||0,s=t.month||0,u=t.week||t.isoWeek||0,h=t.day||0,o=t.hour||0,p=t.minute||0,y=t.second||0,w=t.millisecond||0;this._isValid=jAe(t),this._milliseconds=+w+y*1e3+p*6e4+o*1e3*60*60,this._days=+h+u*7,this._months=+s+r*3+n*12,this._data={},this._locale=Sl(),this._bubble()}function vg(e){return e instanceof Yv}function l0(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function WAe(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),u=0,h;for(h=0;h<r;h++)qn(e[h])!==qn(t[h])&&u++;return u+s}function bD(e,t){un(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Io(~~(n/60),2)+t+Io(~~n%60,2)})}bD("Z",":");bD("ZZ","");en("Z",Hv);en("ZZ",Hv);kr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=f1(Hv,e)});var YAe=/([\+\-]|\d\d)/gi;function f1(e,t){var n=(t||"").match(e),r,s,u;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(YAe)||["-",0,0],u=+(s[1]*60)+qn(s[2]),u===0?0:s[0]==="+"?u:-u)}function m1(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Qs(e)||Cm(e)?e.valueOf():$r(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),jt.updateOffset(n,!1),n):$r(e).local()}function c0(e){return-Math.round(e._d.getTimezoneOffset())}jt.updateOffset=function(){};function ZAe(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=f1(Hv,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=c0(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?SD(this,so(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,jt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:c0(this)}function KAe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function XAe(e){return this.utcOffset(0,e)}function JAe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(c0(this),"m")),this}function QAe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=f1(yTe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function eEe(e){return this.isValid()?(e=e?$r(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function tEe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function nEe(){if(!Fa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Jx(e,this),e=vD(e),e._a?(t=e._isUTC?zo(e._a):$r(e._a),this._isDSTShifted=this.isValid()&&WAe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rEe(){return this.isValid()?!this._isUTC:!1}function iEe(){return this.isValid()?this._isUTC:!1}function xD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aEe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,sEe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function so(e,t){var n=e,r=null,s,u,h;return vg(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:ml(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=aEe.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:qn(r[wo])*s,h:qn(r[Ii])*s,m:qn(r[Zs])*s,s:qn(r[ll])*s,ms:qn(l0(r[Qc]*1e3))*s}):(r=sEe.exec(e))?(s=r[1]==="-"?-1:1,n={y:Hc(r[2],s),M:Hc(r[3],s),w:Hc(r[4],s),d:Hc(r[5],s),h:Hc(r[6],s),m:Hc(r[7],s),s:Hc(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(h=oEe($r(n.from),$r(n.to)),n={},n.ms=h.milliseconds,n.M=h.months),u=new Yv(n),vg(e)&&ir(e,"_locale")&&(u._locale=e._locale),vg(e)&&ir(e,"_isValid")&&(u._isValid=e._isValid),u}so.fn=Yv.prototype;so.invalid=GAe;function Hc(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function T2(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function oEe(e,t){var n;return e.isValid()&&t.isValid()?(t=m1(t,e),e.isBefore(t)?n=T2(e,t):(n=T2(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function wD(e,t){return function(n,r){var s,u;return r!==null&&!isNaN(+r)&&(XP(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=n,n=r,r=u),s=so(n,r),SD(this,s,e),this}}function SD(e,t,n,r){var s=t._milliseconds,u=l0(t._days),h=l0(t._months);e.isValid()&&(r=r??!0,h&&oD(e,Qf(e,"Month")+h*n),u&&iD(e,"Date",Qf(e,"Date")+u*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&jt.updateOffset(e,u||h))}var lEe=wD(1,"add"),cEe=wD(-1,"subtract");function kD(e){return typeof e=="string"||e instanceof String}function uEe(e){return Qs(e)||Cm(e)||kD(e)||ml(e)||hEe(e)||dEe(e)||e===null||e===void 0}function dEe(e){var t=su(e)&&!Kx(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,u,h=r.length;for(s=0;s<h;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function hEe(e){var t=Js(e),n=!1;return t&&(n=e.filter(function(r){return!ml(r)&&kD(e)}).length===0),t&&n}function fEe(e){var t=su(e)&&!Kx(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,u;for(s=0;s<r.length;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function mEe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function pEe(e,t){arguments.length===1&&(arguments[0]?uEe(arguments[0])?(e=arguments[0],t=void 0):fEe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||$r(),r=m1(n,this).startOf("day"),s=jt.calendarFormat(this,r)||"sameElse",u=t&&(Bo(t[s])?t[s].call(this,n):t[s]);return this.format(u||this.localeData().calendar(s,this,$r(n)))}function gEe(){return new Tm(this)}function vEe(e,t){var n=Qs(e)?e:$r(e);return this.isValid()&&n.isValid()?(t=Ps(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function yEe(e,t){var n=Qs(e)?e:$r(e);return this.isValid()&&n.isValid()?(t=Ps(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function _Ee(e,t,n,r){var s=Qs(e)?e:$r(e),u=Qs(t)?t:$r(t);return this.isValid()&&s.isValid()&&u.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(u,n):!this.isAfter(u,n))):!1}function bEe(e,t){var n=Qs(e)?e:$r(e),r;return this.isValid()&&n.isValid()?(t=Ps(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function xEe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function wEe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function SEe(e,t,n){var r,s,u;if(!this.isValid())return NaN;if(r=m1(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=Ps(t),t){case"year":u=yg(this,r)/12;break;case"month":u=yg(this,r);break;case"quarter":u=yg(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-s)/864e5;break;case"week":u=(this-r-s)/6048e5;break;default:u=this-r}return n?u:gs(u)}function yg(e,t){if(e.date()<t.date())return-yg(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,u;return t-r<0?(s=e.clone().add(n-1,"months"),u=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),u=(t-r)/(s-r)),-(n+u)||0}jt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";jt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kEe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function CEe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?gg(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Bo(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gg(n,"Z")):gg(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function TEe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,u;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",u=t+'[")]',this.format(n+r+s+u)}function AEe(e){e||(e=this.isUtc()?jt.defaultFormatUtc:jt.defaultFormat);var t=gg(this,e);return this.localeData().postformat(t)}function EEe(e,t){return this.isValid()&&(Qs(e)&&e.isValid()||$r(e).isValid())?so({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function IEe(e){return this.from($r(),e)}function PEe(e,t){return this.isValid()&&(Qs(e)&&e.isValid()||$r(e).isValid())?so({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function DEe(e){return this.to($r(),e)}function CD(e){var t;return e===void 0?this._locale._abbr:(t=Sl(e),t!=null&&(this._locale=t),this)}var TD=Is("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function AD(){return this._locale}var Zg=1e3,kd=60*Zg,Kg=60*kd,ED=(365*400+97)*24*Kg;function Cd(e,t){return(e%t+t)%t}function ID(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-ED:new Date(e,t,n).valueOf()}function PD(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-ED:Date.UTC(e,t,n)}function MEe(e){var t,n;if(e=Ps(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PD:ID,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Cd(t+(this._isUTC?0:this.utcOffset()*kd),Kg);break;case"minute":t=this._d.valueOf(),t-=Cd(t,kd);break;case"second":t=this._d.valueOf(),t-=Cd(t,Zg);break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function LEe(e){var t,n;if(e=Ps(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?PD:ID,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Kg-Cd(t+(this._isUTC?0:this.utcOffset()*kd),Kg)-1;break;case"minute":t=this._d.valueOf(),t+=kd-Cd(t,kd)-1;break;case"second":t=this._d.valueOf(),t+=Zg-Cd(t,Zg)-1;break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function REe(){return this._d.valueOf()-(this._offset||0)*6e4}function OEe(){return Math.floor(this.valueOf()/1e3)}function FEe(){return new Date(this.valueOf())}function zEe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function BEe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function VEe(){return this.isValid()?this.toISOString():null}function NEe(){return Xx(this)}function $Ee(){return rc({},Rn(this))}function UEe(){return Rn(this).overflow}function qEe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}un("N",0,0,"eraAbbr");un("NN",0,0,"eraAbbr");un("NNN",0,0,"eraAbbr");un("NNNN",0,0,"eraName");un("NNNNN",0,0,"eraNarrow");un("y",["y",1],"yo","eraYear");un("y",["yy",2],0,"eraYear");un("y",["yyy",3],0,"eraYear");un("y",["yyyy",4],0,"eraYear");en("N",p1);en("NN",p1);en("NNN",p1);en("NNNN",eIe);en("NNNNN",tIe);kr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?Rn(n).era=s:Rn(n).invalidEra=e});en("y",Kd);en("yy",Kd);en("yyy",Kd);en("yyyy",Kd);en("yo",nIe);kr(["y","yy","yyy","yyyy"],ua);kr(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ua]=n._locale.eraYearOrdinalParse(e,s):t[ua]=parseInt(e,10)});function jEe(e,t){var n,r,s,u=this._eras||Sl("en")._eras;for(n=0,r=u.length;n<r;++n){switch(typeof u[n].since){case"string":s=jt(u[n].since).startOf("day"),u[n].since=s.valueOf();break}switch(typeof u[n].until){case"undefined":u[n].until=1/0;break;case"string":s=jt(u[n].until).startOf("day").valueOf(),u[n].until=s.valueOf();break}}return u}function HEe(e,t,n){var r,s,u=this.eras(),h,o,p;for(e=e.toUpperCase(),r=0,s=u.length;r<s;++r)if(h=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),p=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(h===e)return u[r];break;case"NNNNN":if(p===e)return u[r];break}else if([h,o,p].indexOf(e)>=0)return u[r]}function GEe(e,t){var n=e.since<=e.until?1:-1;return t===void 0?jt(e.since).year():jt(e.since).year()+(t-e.offset)*n}function WEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function YEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function ZEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function KEe(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-jt(s[e].since).year())*n+s[e].offset;return this.year()}function XEe(e){return ir(this,"_erasNameRegex")||g1.call(this),e?this._erasNameRegex:this._erasRegex}function JEe(e){return ir(this,"_erasAbbrRegex")||g1.call(this),e?this._erasAbbrRegex:this._erasRegex}function QEe(e){return ir(this,"_erasNarrowRegex")||g1.call(this),e?this._erasNarrowRegex:this._erasRegex}function p1(e,t){return t.erasAbbrRegex(e)}function eIe(e,t){return t.erasNameRegex(e)}function tIe(e,t){return t.erasNarrowRegex(e)}function nIe(e,t){return t._eraYearOrdinalRegex||Kd}function g1(){var e=[],t=[],n=[],r=[],s,u,h,o,p,y=this.eras();for(s=0,u=y.length;s<u;++s)h=ul(y[s].name),o=ul(y[s].abbr),p=ul(y[s].narrow),t.push(h),e.push(o),n.push(p),r.push(h),r.push(o),r.push(p);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}un(0,["gg",2],0,function(){return this.weekYear()%100});un(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Zv(e,t){un(0,[e,e.length],0,t)}Zv("gggg","weekYear");Zv("ggggg","weekYear");Zv("GGGG","isoWeekYear");Zv("GGGGG","isoWeekYear");en("G",jv);en("g",jv);en("GG",Ur,as);en("gg",Ur,as);en("GGGG",r1,n1);en("gggg",r1,n1);en("GGGGG",qv,$v);en("ggggg",qv,$v);Em(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=qn(e)});Em(["gg","GG"],function(e,t,n,r){t[r]=jt.parseTwoDigitYear(e)});function rIe(e){return DD.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function iIe(e){return DD.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function aIe(){return dl(this.year(),1,4)}function sIe(){return dl(this.isoWeekYear(),1,4)}function oIe(){var e=this.localeData()._week;return dl(this.year(),e.dow,e.doy)}function lIe(){var e=this.localeData()._week;return dl(this.weekYear(),e.dow,e.doy)}function DD(e,t,n,r,s){var u;return e==null?tm(this,r,s).year:(u=dl(e,r,s),t>u&&(t=u),cIe.call(this,e,t,n,r,s))}function cIe(e,t,n,r,s){var u=uD(e,t,n,r,s),h=em(u.year,0,u.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}un("Q",0,"Qo","quarter");en("Q",QP);kr("Q",function(e,t){t[ol]=(qn(e)-1)*3});function uIe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}un("D",["DD",2],"Do","date");en("D",Ur,Xd);en("DD",Ur,as);en("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});kr(["D","DD"],wo);kr("Do",function(e,t){t[wo]=qn(e.match(Ur)[0])});var MD=Jd("Date",!0);un("DDD",["DDDD",3],"DDDo","dayOfYear");en("DDD",Uv);en("DDDD",eD);kr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=qn(e)});function dIe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}un("m",["mm",2],0,"minute");en("m",Ur,i1);en("mm",Ur,as);kr(["m","mm"],Zs);var hIe=Jd("Minutes",!1);un("s",["ss",2],0,"second");en("s",Ur,i1);en("ss",Ur,as);kr(["s","ss"],ll);var fIe=Jd("Seconds",!1);un("S",0,0,function(){return~~(this.millisecond()/100)});un(0,["SS",2],0,function(){return~~(this.millisecond()/10)});un(0,["SSS",3],0,"millisecond");un(0,["SSSS",4],0,function(){return this.millisecond()*10});un(0,["SSSSS",5],0,function(){return this.millisecond()*100});un(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});un(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});un(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});un(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});en("S",Uv,QP);en("SS",Uv,as);en("SSS",Uv,eD);var ic,LD;for(ic="SSSS";ic.length<=9;ic+="S")en(ic,Kd);function mIe(e,t){t[Qc]=qn(("0."+e)*1e3)}for(ic="S";ic.length<=9;ic+="S")kr(ic,mIe);LD=Jd("Milliseconds",!1);un("z",0,0,"zoneAbbr");un("zz",0,0,"zoneName");function pIe(){return this._isUTC?"UTC":""}function gIe(){return this._isUTC?"Coordinated Universal Time":""}var Mt=Tm.prototype;Mt.add=lEe;Mt.calendar=pEe;Mt.clone=gEe;Mt.diff=SEe;Mt.endOf=LEe;Mt.format=AEe;Mt.from=EEe;Mt.fromNow=IEe;Mt.to=PEe;Mt.toNow=DEe;Mt.get=TTe;Mt.invalidAt=UEe;Mt.isAfter=vEe;Mt.isBefore=yEe;Mt.isBetween=_Ee;Mt.isSame=bEe;Mt.isSameOrAfter=xEe;Mt.isSameOrBefore=wEe;Mt.isValid=NEe;Mt.lang=TD;Mt.locale=CD;Mt.localeData=AD;Mt.max=NAe;Mt.min=VAe;Mt.parsingFlags=$Ee;Mt.set=ATe;Mt.startOf=MEe;Mt.subtract=cEe;Mt.toArray=zEe;Mt.toObject=BEe;Mt.toDate=FEe;Mt.toISOString=CEe;Mt.inspect=TEe;typeof Symbol<"u"&&Symbol.for!=null&&(Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Mt.toJSON=VEe;Mt.toString=kEe;Mt.unix=OEe;Mt.valueOf=REe;Mt.creationData=qEe;Mt.eraName=WEe;Mt.eraNarrow=YEe;Mt.eraAbbr=ZEe;Mt.eraYear=KEe;Mt.year=rD;Mt.isLeapYear=CTe;Mt.weekYear=rIe;Mt.isoWeekYear=iIe;Mt.quarter=Mt.quarters=uIe;Mt.month=lD;Mt.daysInMonth=FTe;Mt.week=Mt.weeks=jTe;Mt.isoWeek=Mt.isoWeeks=HTe;Mt.weeksInYear=oIe;Mt.weeksInWeekYear=lIe;Mt.isoWeeksInYear=aIe;Mt.isoWeeksInISOWeekYear=sIe;Mt.date=MD;Mt.day=Mt.days=iAe;Mt.weekday=aAe;Mt.isoWeekday=sAe;Mt.dayOfYear=dIe;Mt.hour=Mt.hours=fAe;Mt.minute=Mt.minutes=hIe;Mt.second=Mt.seconds=fIe;Mt.millisecond=Mt.milliseconds=LD;Mt.utcOffset=ZAe;Mt.utc=XAe;Mt.local=JAe;Mt.parseZone=QAe;Mt.hasAlignedHourOffset=eEe;Mt.isDST=tEe;Mt.isLocal=rEe;Mt.isUtcOffset=iEe;Mt.isUtc=xD;Mt.isUTC=xD;Mt.zoneAbbr=pIe;Mt.zoneName=gIe;Mt.dates=Is("dates accessor is deprecated. Use date instead.",MD);Mt.months=Is("months accessor is deprecated. Use month instead",lD);Mt.years=Is("years accessor is deprecated. Use year instead",rD);Mt.zone=Is("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",KAe);Mt.isDSTShifted=Is("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",nEe);function vIe(e){return $r(e*1e3)}function yIe(){return $r.apply(null,arguments).parseZone()}function RD(e){return e}var ar=Qx.prototype;ar.calendar=rTe;ar.longDateFormat=oTe;ar.invalidDate=cTe;ar.ordinal=hTe;ar.preparse=RD;ar.postformat=RD;ar.relativeTime=mTe;ar.pastFuture=pTe;ar.set=tTe;ar.eras=jEe;ar.erasParse=HEe;ar.erasConvertYear=GEe;ar.erasAbbrRegex=JEe;ar.erasNameRegex=XEe;ar.erasNarrowRegex=QEe;ar.months=MTe;ar.monthsShort=LTe;ar.monthsParse=OTe;ar.monthsRegex=BTe;ar.monthsShortRegex=zTe;ar.week=NTe;ar.firstDayOfYear=qTe;ar.firstDayOfWeek=UTe;ar.weekdays=QTe;ar.weekdaysMin=tAe;ar.weekdaysShort=eAe;ar.weekdaysParse=rAe;ar.weekdaysRegex=oAe;ar.weekdaysShortRegex=lAe;ar.weekdaysMinRegex=cAe;ar.isPM=dAe;ar.meridiem=mAe;function Xg(e,t,n,r){var s=Sl(),u=zo().set(r,t);return s[n](u,e)}function OD(e,t,n){if(ml(e)&&(t=e,e=void 0),e=e||"",t!=null)return Xg(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Xg(e,r,n,"month");return s}function v1(e,t,n,r){typeof e=="boolean"?(ml(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,ml(t)&&(n=t,t=void 0),t=t||"");var s=Sl(),u=e?s._week.dow:0,h,o=[];if(n!=null)return Xg(t,(n+u)%7,r,"day");for(h=0;h<7;h++)o[h]=Xg(t,(h+u)%7,r,"day");return o}function _Ie(e,t){return OD(e,t,"months")}function bIe(e,t){return OD(e,t,"monthsShort")}function xIe(e,t,n){return v1(e,t,n,"weekdays")}function wIe(e,t,n){return v1(e,t,n,"weekdaysShort")}function SIe(e,t,n){return v1(e,t,n,"weekdaysMin")}oc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=qn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});jt.lang=Is("moment.lang is deprecated. Use moment.locale instead.",oc);jt.langData=Is("moment.langData is deprecated. Use moment.localeData instead.",Sl);var nl=Math.abs;function kIe(){var e=this._data;return this._milliseconds=nl(this._milliseconds),this._days=nl(this._days),this._months=nl(this._months),e.milliseconds=nl(e.milliseconds),e.seconds=nl(e.seconds),e.minutes=nl(e.minutes),e.hours=nl(e.hours),e.months=nl(e.months),e.years=nl(e.years),this}function FD(e,t,n,r){var s=so(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function CIe(e,t){return FD(this,e,t,1)}function TIe(e,t){return FD(this,e,t,-1)}function A2(e){return e<0?Math.floor(e):Math.ceil(e)}function AIe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,u,h,o,p;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=A2(u0(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=gs(e/1e3),r.seconds=s%60,u=gs(s/60),r.minutes=u%60,h=gs(u/60),r.hours=h%24,t+=gs(h/24),p=gs(zD(t)),n+=p,t-=A2(u0(p)),o=gs(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function zD(e){return e*4800/146097}function u0(e){return e*146097/4800}function EIe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Ps(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+zD(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(u0(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function kl(e){return function(){return this.as(e)}}var BD=kl("ms"),IIe=kl("s"),PIe=kl("m"),DIe=kl("h"),MIe=kl("d"),LIe=kl("w"),RIe=kl("M"),OIe=kl("Q"),FIe=kl("y"),zIe=BD;function BIe(){return so(this)}function VIe(e){return e=Ps(e),this.isValid()?this[e+"s"]():NaN}function vu(e){return function(){return this.isValid()?this._data[e]:NaN}}var NIe=vu("milliseconds"),$Ie=vu("seconds"),UIe=vu("minutes"),qIe=vu("hours"),jIe=vu("days"),HIe=vu("months"),GIe=vu("years");function WIe(){return gs(this.days()/7)}var al=Math.round,vd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function YIe(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function ZIe(e,t,n,r){var s=so(e).abs(),u=al(s.as("s")),h=al(s.as("m")),o=al(s.as("h")),p=al(s.as("d")),y=al(s.as("M")),w=al(s.as("w")),k=al(s.as("y")),C=u<=n.ss&&["s",u]||u<n.s&&["ss",u]||h<=1&&["m"]||h<n.m&&["mm",h]||o<=1&&["h"]||o<n.h&&["hh",o]||p<=1&&["d"]||p<n.d&&["dd",p];return n.w!=null&&(C=C||w<=1&&["w"]||w<n.w&&["ww",w]),C=C||y<=1&&["M"]||y<n.M&&["MM",y]||k<=1&&["y"]||["yy",k],C[2]=t,C[3]=+e>0,C[4]=r,YIe.apply(null,C)}function KIe(e){return e===void 0?al:typeof e=="function"?(al=e,!0):!1}function XIe(e,t){return vd[e]===void 0?!1:t===void 0?vd[e]:(vd[e]=t,e==="s"&&(vd.ss=t-1),!0)}function JIe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=vd,s,u;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},vd,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),u=ZIe(this,!n,r,s),n&&(u=s.pastFuture(+this,u)),s.postformat(u)}var J_=Math.abs;function cd(e){return(e>0)-(e<0)||+e}function Kv(){if(!this.isValid())return this.localeData().invalidDate();var e=J_(this._milliseconds)/1e3,t=J_(this._days),n=J_(this._months),r,s,u,h,o=this.asSeconds(),p,y,w,k;return o?(r=gs(e/60),s=gs(r/60),e%=60,r%=60,u=gs(n/12),n%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",p=o<0?"-":"",y=cd(this._months)!==cd(o)?"-":"",w=cd(this._days)!==cd(o)?"-":"",k=cd(this._milliseconds)!==cd(o)?"-":"",p+"P"+(u?y+u+"Y":"")+(n?y+n+"M":"")+(t?w+t+"D":"")+(s||r||e?"T":"")+(s?k+s+"H":"")+(r?k+r+"M":"")+(e?k+h+"S":"")):"P0D"}var Jn=Yv.prototype;Jn.isValid=HAe;Jn.abs=kIe;Jn.add=CIe;Jn.subtract=TIe;Jn.as=EIe;Jn.asMilliseconds=BD;Jn.asSeconds=IIe;Jn.asMinutes=PIe;Jn.asHours=DIe;Jn.asDays=MIe;Jn.asWeeks=LIe;Jn.asMonths=RIe;Jn.asQuarters=OIe;Jn.asYears=FIe;Jn.valueOf=zIe;Jn._bubble=AIe;Jn.clone=BIe;Jn.get=VIe;Jn.milliseconds=NIe;Jn.seconds=$Ie;Jn.minutes=UIe;Jn.hours=qIe;Jn.days=jIe;Jn.weeks=WIe;Jn.months=HIe;Jn.years=GIe;Jn.humanize=JIe;Jn.toISOString=Kv;Jn.toString=Kv;Jn.toJSON=Kv;Jn.locale=CD;Jn.localeData=AD;Jn.toIsoString=Is("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kv);Jn.lang=TD;un("X",0,0,"unix");un("x",0,0,"valueOf");en("x",jv);en("X",_Te);kr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});kr("x",function(e,t,n){n._d=new Date(qn(e))});//! moment.js
jt.version="2.30.1";Q2e($r);jt.fn=Mt;jt.min=$Ae;jt.max=UAe;jt.now=qAe;jt.utc=zo;jt.unix=vIe;jt.months=_Ie;jt.isDate=Cm;jt.locale=oc;jt.invalid=Nv;jt.duration=so;jt.isMoment=Qs;jt.weekdays=xIe;jt.parseZone=yIe;jt.localeData=Sl;jt.isDuration=vg;jt.monthsShort=bIe;jt.weekdaysMin=SIe;jt.defineLocale=c1;jt.updateLocale=yAe;jt.locales=_Ae;jt.weekdaysShort=wIe;jt.normalizeUnits=Ps;jt.relativeTimeRounding=KIe;jt.relativeTimeThreshold=XIe;jt.calendarFormat=mEe;jt.prototype=Mt;jt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var VD={exports:{}};(function(e,t){(function(n,r){r()})(Yc,function(){function n(y,w){return typeof w>"u"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob(["\uFEFF",y],{type:y.type}):y}function r(y,w,k){var C=new XMLHttpRequest;C.open("GET",y),C.responseType="blob",C.onload=function(){p(C.response,w,k)},C.onerror=function(){console.error("could not download file")},C.send()}function s(y){var w=new XMLHttpRequest;w.open("HEAD",y,!1);try{w.send()}catch{}return 200<=w.status&&299>=w.status}function u(y){try{y.dispatchEvent(new MouseEvent("click"))}catch{var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),y.dispatchEvent(w)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Yc=="object"&&Yc.global===Yc?Yc:void 0,o=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(y,w,k){var C=h.URL||h.webkitURL,I=document.createElement("a");w=w||y.name||"download",I.download=w,I.rel="noopener",typeof y=="string"?(I.href=y,I.origin===location.origin?u(I):s(I.href)?r(y,w,k):u(I,I.target="_blank")):(I.href=C.createObjectURL(y),setTimeout(function(){C.revokeObjectURL(I.href)},4e4),setTimeout(function(){u(I)},0))}:"msSaveOrOpenBlob"in navigator?function(y,w,k){if(w=w||y.name||"download",typeof y!="string")navigator.msSaveOrOpenBlob(n(y,k),w);else if(s(y))r(y,w,k);else{var C=document.createElement("a");C.href=y,C.target="_blank",setTimeout(function(){u(C)})}}:function(y,w,k,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof y=="string")return r(y,w,k);var I=y.type==="application/octet-stream",R=/constructor/i.test(h.HTMLElement)||h.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||I&&R||o)&&typeof FileReader<"u"){var F=new FileReader;F.onloadend=function(){var Z=F.result;Z=M?Z:Z.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=Z:location=Z,C=null},F.readAsDataURL(y)}else{var N=h.URL||h.webkitURL,q=N.createObjectURL(y);C?C.location=q:location.href=q,C=null,setTimeout(function(){N.revokeObjectURL(q)},4e4)}});h.saveAs=p.saveAs=p,e.exports=p})})(VD);var QIe=VD.exports;function ePe(e){return[...new Set(e.map(n=>tPe(n)).filter(n=>n!=null))]}function tPe(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){const n=e.match(t);if(n&&n.length>0)return n[0].substring(0,6)}return null}function nPe(e,t){Nr.post(qwe+"lsoas?filter=sector",e).then(n=>{t(n.data)})}function rPe(e,t){const n=ePe(e),r={};nPe(n,s=>{Object.keys(s).forEach(u=>{s[u].forEach(h=>{r[h.replace(/\s/g,"")]=u.trim()})}),t(r)})}const iPe={data(){return{authority:null,columns:[],countsColumn:"",csvData:[],endTime:null,extractDate:null,files:[],loading:!1,lsoasCounted:{},mdText:J2e,postcodeColumn:"",startTime:null,summaryColumns:[{key:"total",title:"Total"},{key:"converted",title:"Successful"},{key:"terminated",title:"Terminated"},{key:"unknown",title:"Unknown"}],summaryData:[{total:0,converted:0,terminated:0,unknown:0}]}},methods:{confirmFile:async function(e){this.files=e;const t=this;if(t.loading=!0,t.files.length>0){const n=await Wx(t.files[0],!1);t.columns=n[0],t.csvData=n,t.loading=!1}else t.columns=[],t.csvData=[],t.loading=!1},confirmOptions:function(){const e=this;e.startTime=jt(),e.loading=!0,e.summaryData[0].total=0,e.summaryData[0].converted=0,e.summaryData[0].unknown=0,e.summaryData[0].terminated=0,e.lsoasCounted={Unknown:0};const t=e.columns.indexOf(e.postcodeColumn),n=e.columns.indexOf(this.countsColumn),r=e.csvData.map(s=>s[t]).filter(s=>s!=null&&s!==e.postcodeColumn);rPe(r,s=>{e.csvData.forEach((u,h)=>{const o=u[t],p=o.replace(/\s/g,"");if(h===0&&o===e.postcodeColumn)u[t]="LSOA";else{this.summaryData[0].total++;let y="";o&&o!==""&&s[p]?(y=s[p],y==="Terminated"?(u[t]="Terminated",this.summaryData[0].terminated++):y==="Unknown"?(u[t]="Unknown",this.summaryData[0].unknown++):(u[t]=y,this.summaryData[0].converted++)):(u[t]="Unknown",this.summaryData[0].unknown++,y="Unknown"),y==="Terminated"&&(y="Unknown"),this.lsoasCounted[y]||(this.lsoasCounted[y]=0),this.countsColumn!==""?this.lsoasCounted[y]=this.lsoasCounted[y]+parseInt(u[n]):this.lsoasCounted[y]++}}),e.active_step=3,this.loading=!1,this.endTime=jt()})},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csvData)},downloadSchemaFile:async function(){const e=[["Local authority","Count date","Area code","Members"]],t=jt(this.extractDate).format("YYYY-MM-DD");Object.keys(this.lsoasCounted).filter(r=>r!=="Unknown"&&r!=="Terminated").forEach(r=>{const s=this.lsoasCounted[r];e.push([this.authority.name,t,r,s>4?s.toString():"x"])});const n=this.lsoasCounted.Unknown;this.lsoasCounted.Unknown>0&&e.push([this.authority.name,t,"Unknown",n>4?n.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){const n=new Blob([Hg.unparse(t)],{type:"text/plain;charset=utf-8"});QIe.saveAs(n,e)},getTimeCompleted:function(){return this.startTime&&this.endTime?Math.round(jt.duration(this.endTime.diff(this.startTime))):""}},components:{"file-upload":Vv,"service-select":Fv}},aPe=rr("h2",{class:"text-h5 text-decoration-underline my-3"},"Convert postcodes",-1),sPe=rr("strong",null,"Save as",-1),oPe=rr("strong",null,"Terminated",-1),lPe=rr("strong",null,"Unknown",-1),cPe=rr("br",null,null,-1),uPe={key:0},dPe={class:"mb-2"},hPe=rr("a",{href:"https://schema.librarydata.uk/membership",target:"_blank"},"library membership data",-1),fPe={key:1};function mPe(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section"),p=Vv,y=Fv;return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Postcode converter",subtitle:"Convert postcode locations to statistical areas"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),aPe,T(uc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:Me(()=>[T(sl,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:Me(()=>[zt(" First you need a CSV file of postcodes. If your data isn't in CSV format try "),sPe,zt(" in your software. The first row should be column headings and one column should contain UK postcodes ")]),_:1}),T(p,{files:s.files,onChangeFiles:t[0]||(t[0]=w=>u.confirmFile(w))},null,8,["files"]),T(sl,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Select file options"},{default:Me(()=>[zt(" The field headings in your file are displayed below. Choose which column contains the postcodes. If your data includes counts per postcode, also select the field holding the count")]),_:1}),T(Rd,{color:"success",modelValue:s.postcodeColumn,"onUpdate:modelValue":t[1]||(t[1]=w=>s.postcodeColumn=w),items:s.columns,label:"Select postcode field",variant:"outlined",disabled:s.columns.length===0},null,8,["modelValue","items","disabled"]),T(Rd,{color:"success",value:s.countsColumn,items:s.columns.filter(w=>w!==s.postcodeColumn),disabled:s.postcodeColumn===""||s.columns.filter(w=>w!==s.postcodeColumn).length===0,label:"Count field (optional)",variant:"outlined"},null,8,["value","items","disabled"]),T(Jt,{color:"info",variant:"tonal",size:"large",onClick:u.confirmOptions,disabled:s.postcodeColumn==="","append-icon":"mdi-chevron-right-circle"},{default:Me(()=>[zt(" Convert ")]),_:1},8,["onClick","disabled"]),T(sl,{class:"mt-8 mb-4",icon:"mdi-numeric-3-circle",title:"Results"},{default:Me(()=>[zt(" Valid postcodes are changed to their statistical area code. Postcodes that are no longer valid are changed to "),oPe,zt(". Postcodes not recognised are changed to "),lPe,zt("."),cPe]),_:1}),s.endTime!==null?(fn(),ys("span",uPe,[rr("p",dPe,bs("Completed in "+u.getTimeCompleted()+" seconds"),1),T(Za,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:Me(()=>[T(HP,{"no-filter":"",headers:s.summaryColumns,items:s.summaryData,"item-key":"total"},{bottom:Me(()=>[]),_:1},8,["headers","items"])]),_:1}),T(Jt,{color:"info",variant:"tonal",size:"large",onClick:u.downloadConvertedFile,"append-icon":"mdi-content-save"},{default:Me(()=>[zt(" Save converted file ")]),_:1},8,["onClick"])])):Xn("",!0),T(sl,{class:"mt-8 mb-4",icon:"mdi-numeric-4-circle",title:"Library membership data"},{default:Me(()=>[zt(" Census geographies are required to publish "),hPe,zt(". This tool has calculated a count of members per statistical area. Select the name of your library service and choose a date the postcodes were extracted from your library management system ")]),_:1}),s.endTime!==null?(fn(),ys("span",fPe,[T(y,{onSelect:t[2]||(t[2]=w=>s.authority=w)}),T(ii,{class:"mt-4",variant:"outlined",modelValue:s.extractDate,"onUpdate:modelValue":t[3]||(t[3]=w=>s.extractDate=w),label:"Count date","prepend-inner-icon":"mdi-calendar",type:"date"},null,8,["modelValue"]),T(Jt,{variant:"tonal",color:"success",onClick:u.downloadSchemaFile,size:"large","append-icon":"mdi-content-save",disabled:s.authority===""||s.extractDate===null},{default:Me(()=>[zt("Save membership data")]),_:1},8,["onClick","disabled"])])):Xn("",!0)]),_:1}),T(md,{modelValue:s.loading,"onUpdate:modelValue":t[4]||(t[4]=w=>s.loading=w),persistent:"",width:"300"},{default:Me(()=>[T(Za,null,{default:Me(()=>[T(Jc,null,{default:Me(()=>[zt(" Please wait ")]),_:1}),T(To,null,{default:Me(()=>[T(fv,{indeterminate:"",color:"info"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const pPe=Qr(iPe,[["render",mPe]]),gPe=`A mobile library stop is a location visited by a mobile library vehicle during it's round.

Mobile library stops are a **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,vPe={data(){return{mdText:gPe}},methods:{},components:{}},yPe={class:"text-center"};function _Pe(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}),rr("p",yPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"},{default:Me(()=>[zt(" Explore the mobile stops schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const bPe=Qr(vPe,[["render",_Pe]]),xPe=`A physical visit is an individual entering the library premises - for whatever reason. For co-located premises, this may mean counting visits that are not specifically for the purpose of using the library. Visit counts are often referred to as footfall.

Physical visits are a **time-series**. Data is maintained by adding new data (e.g. the next months visit counts).
`,wPe={data(){return{mdText:xPe}},methods:{},components:{}},SPe={class:"text-center"};function kPe(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Physical visits",subtitle:"Counts of people using libraries"}),rr("p",SPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/physical-visits",target:"_blank"},{default:Me(()=>[zt(" Explore the visits schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const CPe=Qr(wPe,[["render",kPe]]),TPe=`These pages were created by Dave at [Libraries Hacked](https://www.librarieshacked.org). You can [contact me via email](mailto:info@librarieshacked.org) with any queries or concerns.

## GitHub pages

This site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include data such as your IP address.

GitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to GitHub's services for their own users, but there is a reference to GitHub pages sites. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.

> “Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.”

## Cookies

Cookies are files saved on your phone, tablet or computer when you visit a website. This site does not save any cookies onto your computer.

## Tracking and analytics

There are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.
`,APe={data(){return{mdText:TPe}},methods:{},components:{}};function EPe(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Privacy policy",subtitle:"How your data and privacy is protected"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const IPe=Qr(APe,[["render",EPe]]),PPe=`While logged in you will be able to see the level of access you have, which will either be for individual library services, or 'Admin' which provides access to all library data.

No personal data is held about you. Your email address is not stored online, only the domain part of the email (e.g. bl.uk for British Library users) in order to grant access.
`,DPe={data(){return{mdText:PPe}},methods:{logout(){this.$store.dispatch("logout")}},components:{}};function MPe(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section"),p=km;return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Profile",subtitle:"See access and profile information"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),rr("section",null,[T(Mr,null,{default:Me(()=>[T(p,{actions:!0})]),_:1})])]),_:1})}const LPe=Qr(DPe,[["render",MPe]]),RPe=`An item of stock is any item held by the library that is available to the public, and catalogued in the library management system. This dataset provides counts of the different types of items held by libraries.

Stock summary data is a **snapshot**. This means that each update to the data is a fresh export, representing the stock held at that point in time.
`,OPe={data(){return{mdText:RPe}},methods:{},components:{}},FPe={class:"text-center"};function zPe(e,t,n,r,s,u){const h=Cn("layout-header"),o=Cn("markdown-section");return fn(),Nn(Mr,null,{default:Me(()=>[T(h,{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}),rr("p",FPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/stock-summary",target:"_blank"},{default:Me(()=>[zt(" Explore the stock summary schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const BPe=Qr(OPe,[["render",zPe]]),VPe=yke({history:GSe(),base:"/",routes:[{path:"/",name:"Home",component:Bke},{path:"/about",name:"About",component:kke},{path:"/events",name:"Events",component:Lke},{path:"/libraries",name:"Libraries",component:qke},{path:"/libraries-edit",name:"Libraries edit",component:_2e},{path:"/loans",name:"Loans",component:k2e},{path:"/membership",name:"Membership",component:F2e},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:pPe},{path:"/membership-map",name:"Membership map",component:X2e},{path:"/mobile-library-stops",name:"Mobile library stops",component:bPe},{path:"/physical-visits",name:"Physical visits",component:CPe},{path:"/stock-summary",name:"Stock summary",component:BPe},{path:"/privacy",name:"Privacy",component:IPe},{path:"/accessibility",name:"Accessibility",component:Eke},{path:"/login",name:"Login",component:D2e},{path:"/profile",name:"Profile",component:LPe}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var NPe="store";function Qd(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function $Pe(e){return e!==null&&typeof e=="object"}function UPe(e){return e&&typeof e.then=="function"}function qPe(e,t){return function(){return e(t)}}function ND(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function $D(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Xv(e,n,[],e._modules.root,!0),y1(e,n,t)}function y1(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var u=e._wrappedGetters,h={},o={},p=nv(!0);p.run(function(){Qd(u,function(y,w){h[w]=qPe(y,e),o[w]=Y(function(){return h[w]()}),Object.defineProperty(e.getters,w,{get:function(){return o[w].value},enumerable:!0})})}),e._state=Ei({data:t}),e._scope=p,e.strict&&YPe(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function Xv(e,t,n,r,s){var u=!n.length,h=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[h],e._modulesNamespaceMap[h]=r),!u&&!s){var o=_1(t,n.slice(0,-1)),p=n[n.length-1];e._withCommit(function(){o[p]=r.state})}var y=r.context=jPe(e,h,n);r.forEachMutation(function(w,k){var C=h+k;HPe(e,C,w,y)}),r.forEachAction(function(w,k){var C=w.root?k:h+k,I=w.handler||w;GPe(e,C,I,y)}),r.forEachGetter(function(w,k){var C=h+k;WPe(e,C,w,y)}),r.forEachChild(function(w,k){Xv(e,t,n.concat(k),w,s)})}function jPe(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(u,h,o){var p=Jg(u,h,o),y=p.payload,w=p.options,k=p.type;return(!w||!w.root)&&(k=t+k),e.dispatch(k,y)},commit:r?e.commit:function(u,h,o){var p=Jg(u,h,o),y=p.payload,w=p.options,k=p.type;(!w||!w.root)&&(k=t+k),e.commit(k,y,w)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return UD(e,t)}},state:{get:function(){return _1(e.state,n)}}}),s}function UD(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var u=s.slice(r);Object.defineProperty(n,u,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function HPe(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(h){n.call(e,r.state,h)})}function GPe(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(h){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},h);return UPe(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(p){throw e._devtoolHook.emit("vuex:error",p),p}):o})}function WPe(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(u){return n(r.state,r.getters,u.state,u.getters)})}function YPe(e){ct(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function _1(e,t){return t.reduce(function(n,r){return n[r]},e)}function Jg(e,t,n){return $Pe(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var ZPe="vuex bindings",E2="vuex:mutations",Q_="vuex:actions",ud="vuex",KPe=0;function XPe(e,t){mSe({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[ZPe]},function(n){n.addTimelineLayer({id:E2,label:"Vuex Mutations",color:I2}),n.addTimelineLayer({id:Q_,label:"Vuex Actions",color:I2}),n.addInspector({id:ud,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===ud)if(r.filter){var s=[];GD(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[HD(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===ud){var s=r.nodeId;UD(t,s),r.state=eDe(nDe(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===ud){var s=r.nodeId,u=r.path;s!=="root"&&(u=s.split("/").filter(Boolean).concat(u)),t._withCommit(function(){r.set(t._state.data,u,r.state.value)})}}),t.subscribe(function(r,s){var u={};r.payload&&(u.payload=r.payload),u.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(ud),n.sendInspectorState(ud),n.addTimelineEvent({layerId:E2,event:{time:Date.now(),title:r.type,data:u}})}),t.subscribeAction({before:function(r,s){var u={};r.payload&&(u.payload=r.payload),r._id=KPe++,r._time=Date.now(),u.state=s,n.addTimelineEvent({layerId:Q_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:u}})},after:function(r,s){var u={},h=Date.now()-r._time;u.duration={_custom:{type:"duration",display:h+"ms",tooltip:"Action duration",value:h}},r.payload&&(u.payload=r.payload),u.state=s,n.addTimelineEvent({layerId:Q_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:u}})}})})}var I2=8702998,JPe=6710886,QPe=16777215,qD={label:"namespaced",textColor:QPe,backgroundColor:JPe};function jD(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function HD(e,t){return{id:t||"root",label:jD(t),tags:e.namespaced?[qD]:[],children:Object.keys(e._children).map(function(n){return HD(e._children[n],t+n+"/")})}}function GD(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[qD]:[]}),Object.keys(t._children).forEach(function(s){GD(e,t._children[s],n,r+s+"/")})}function eDe(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(h){return{key:h,editable:!0,value:e.state[h]}})};if(r.length){var u=tDe(t);s.getters=Object.keys(u).map(function(h){return{key:h.endsWith("/")?jD(h):h,editable:!1,value:d0(function(){return u[h]})}})}return s}function tDe(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,u=r.pop();r.forEach(function(h){s[h]||(s[h]={_custom:{value:{},display:h,tooltip:"Module",abstract:!0}}),s=s[h]._custom.value}),s[u]=d0(function(){return e[n]})}else t[n]=d0(function(){return e[n]})}),t}function nDe(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,u){var h=r[s];if(!h)throw new Error('Missing module "'+s+'" for path "'+t+'".');return u===n.length-1?h:h._children},t==="root"?e:e.root._children)}function d0(e){try{return e()}catch(t){return t}}var oo=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},WD={namespaced:{configurable:!0}};WD.namespaced.get=function(){return!!this._rawModule.namespaced};oo.prototype.addChild=function(t,n){this._children[t]=n};oo.prototype.removeChild=function(t){delete this._children[t]};oo.prototype.getChild=function(t){return this._children[t]};oo.prototype.hasChild=function(t){return t in this._children};oo.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};oo.prototype.forEachChild=function(t){Qd(this._children,t)};oo.prototype.forEachGetter=function(t){this._rawModule.getters&&Qd(this._rawModule.getters,t)};oo.prototype.forEachAction=function(t){this._rawModule.actions&&Qd(this._rawModule.actions,t)};oo.prototype.forEachMutation=function(t){this._rawModule.mutations&&Qd(this._rawModule.mutations,t)};Object.defineProperties(oo.prototype,WD);var yu=function(t){this.register([],t,!1)};yu.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};yu.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};yu.prototype.update=function(t){YD([],this.root,t)};yu.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var u=new oo(n,r);if(t.length===0)this.root=u;else{var h=this.get(t.slice(0,-1));h.addChild(t[t.length-1],u)}n.modules&&Qd(n.modules,function(o,p){s.register(t.concat(p),o,r)})};yu.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};yu.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function YD(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;YD(e.concat(r),t.getChild(r),n.modules[r])}}function rDe(e){return new Ua(e)}var Ua=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var u=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new yu(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=u;var h=this,o=this,p=o.dispatch,y=o.commit;this.dispatch=function(C,I){return p.call(h,C,I)},this.commit=function(C,I,R){return y.call(h,C,I,R)},this.strict=s;var w=this._modules.root.state;Xv(this,w,[],this._modules.root),y1(this,w),r.forEach(function(k){return k(n)})},b1={state:{configurable:!0}};Ua.prototype.install=function(t,n){t.provide(n||NPe,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&XPe(t,this)};b1.state.get=function(){return this._state.data};b1.state.set=function(e){};Ua.prototype.commit=function(t,n,r){var s=this,u=Jg(t,n,r),h=u.type,o=u.payload,p={type:h,payload:o},y=this._mutations[h];y&&(this._withCommit(function(){y.forEach(function(k){k(o)})}),this._subscribers.slice().forEach(function(w){return w(p,s.state)}))};Ua.prototype.dispatch=function(t,n){var r=this,s=Jg(t,n),u=s.type,h=s.payload,o={type:u,payload:h},p=this._actions[u];if(p){try{this._actionSubscribers.slice().filter(function(w){return w.before}).forEach(function(w){return w.before(o,r.state)})}catch{}var y=p.length>1?Promise.all(p.map(function(w){return w(h)})):p[0](h);return new Promise(function(w,k){y.then(function(C){try{r._actionSubscribers.filter(function(I){return I.after}).forEach(function(I){return I.after(o,r.state)})}catch{}w(C)},function(C){try{r._actionSubscribers.filter(function(I){return I.error}).forEach(function(I){return I.error(o,r.state,C)})}catch{}k(C)})})}};Ua.prototype.subscribe=function(t,n){return ND(t,this._subscribers,n)};Ua.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return ND(r,this._actionSubscribers,n)};Ua.prototype.watch=function(t,n,r){var s=this;return ct(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Ua.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Ua.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Xv(this,this.state,t,this._modules.get(t),r.preserveState),y1(this,this.state)};Ua.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=_1(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),$D(this)};Ua.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Ua.prototype.hotUpdate=function(t){this._modules.update(t),$D(this,!0)};Ua.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Ua.prototype,b1);new TextEncoder;const ZD=new TextDecoder,iDe=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},aDe=e=>{let t=e;t instanceof Uint8Array&&(t=ZD.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return iDe(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class sDe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class Gc extends sDe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function oDe(e){return typeof e=="object"&&e!==null}function lDe(e){if(!oDe(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const cDe=aDe;function P2(e){if(typeof e!="string")throw new Gc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new Gc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Gc("Invalid JWT");if(!t)throw new Gc("JWTs must contain a payload");let r;try{r=cDe(t)}catch{throw new Gc("Failed to base64url decode the payload")}let s;try{s=JSON.parse(ZD.decode(r))}catch{throw new Gc("Failed to parse the decoded payload as JSON")}if(!lDe(s))throw new Gc("Invalid JWT Claims Set");return s}const uDe=rDe({state:{loginKey:null,loginSubject:null,loginIssuer:null,loginExpires:null,loginAdmin:!1,loginCodes:[],libraryServices:[]},mutations:{initialiseStore(e){if(localStorage.getItem("loginKey")){e.loginKey=localStorage.getItem("loginKey");const t=P2(e.loginKey);e.loginSubject=t.sub,e.loginIssuer=t.iss,e.loginExpires=new Date(t.exp*1e3),e.loginAdmin=t.admin,e.loginCodes=t.codes}},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t;const n=P2(e.loginKey);e.loginSubject=n.sub,e.loginIssuer=n.iss,e.loginExpires=new Date(n.exp*1e3),e.loginAdmin=n.admin,e.loginCodes=n.codes},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null,e.loginSubject=null,e.loginIssuer=null,e.loginExpires=null,e.loginAdmin=null,e.loginCodes=[]},setServices(e,t){e.libraryServices=t}},actions:{logout({commit:e}){e("logout")}}}),dDe=We({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...eo(),...cn(),...ns(),...K0(),...Pi(),...Zn({tag:"footer"}),...vr()},"VFooter"),hDe=ft()({name:"VFooter",props:dDe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(_t(e,"color")),{borderClasses:h}=Lo(e),{elevationClasses:o}=Es(e),{roundedClasses:p}=Vi(e),y=Rt(32),{resizeRef:w}=cc(R=>{R.length&&(y.value=R[0].target.clientHeight)}),k=Y(()=>e.height==="auto"?y.value:parseInt(e.height,10)),{layoutItemStyles:C,layoutIsReady:I}=X0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:Y(()=>"bottom"),layoutSize:k,elementSize:Y(()=>e.height==="auto"?void 0:k.value),active:Y(()=>e.app),absolute:_t(e,"absolute")});return St(()=>T(e.tag,{ref:w,class:["v-footer",r.value,s.value,h.value,o.value,p.value,e.class],style:[u.value,e.app?C.value:{height:Gt(e.height)},e.style]},n)),e.app?I:{}}}),fDe={};function mDe(e,t){return fn(),Nn(hDe,{app:"",color:"grey-lighten-5",class:"pa-3"},{default:Me(()=>[T(qs,{justify:"center",class:"text-xs-center w-100","no-gutters":""},{default:Me(()=>[T(Jt,{variant:"text",color:"info",to:"/accessibility",class:"mx-1"},{default:Me(()=>[zt(" Accessibility ")]),_:1}),T(Jt,{variant:"text",color:"info",to:"/privacy",class:"mx-1"},{default:Me(()=>[zt(" Privacy ")]),_:1})]),_:1})]),_:1})}const pDe=Qr(fDe,[["render",mDe]]),gDe="/assets/logo.png",vDe=We({...cn(),...pB({fullHeight:!0}),...vr()},"VApp"),yDe=ft()({name:"VApp",props:vDe(),setup(e,t){let{slots:n}=t;const r=Rr(e),{layoutClasses:s,getLayoutItem:u,items:h,layoutRef:o}=vB(e),{rtlClasses:p}=es();return St(()=>T("div",{ref:o,class:["v-application",r.themeClasses.value,s.value,p.value,e.class],style:[e.style]},[T("div",{class:"v-application__wrap"},[T(qR,null,{default:()=>{var y;return[T(Ht,null,[(y=n.default)==null?void 0:y.call(n)])]}})])])),{getLayoutItem:u,items:h,theme:r}}}),_De=We({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function bDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0,s=0;const u=ht(null),h=Rt(0),o=Rt(0),p=Rt(0),y=Rt(!1),w=Rt(!1),k=Y(()=>Number(e.scrollThreshold)),C=Y(()=>ca((k.value-h.value)/k.value||0)),I=()=>{const R=u.value;if(!R||n&&!n.value)return;r=h.value,h.value="window"in R?R.pageYOffset:R.scrollTop;const M=R instanceof Window?document.documentElement.scrollHeight:R.scrollHeight;if(s!==M){s=M;return}w.value=h.value<r,p.value=Math.abs(h.value-k.value)};return ct(w,()=>{o.value=o.value||h.value}),ct(y,()=>{o.value=0}),fa(()=>{ct(()=>e.scrollTarget,R=>{var F;const M=R?document.querySelector(R):window;M&&M!==u.value&&((F=u.value)==null||F.removeEventListener("scroll",I),u.value=M,u.value.addEventListener("scroll",I,{passive:!0}))},{immediate:!0})}),Sr(()=>{var R;(R=u.value)==null||R.removeEventListener("scroll",I)}),n&&ct(n,I,{immediate:!0}),{scrollThreshold:k,currentScroll:h,currentThreshold:p,isScrollActive:y,scrollRatio:C,isScrollingUp:w,savedScroll:o}}const xDe=We({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...GP(),...K0(),..._De(),height:{type:[Number,String],default:64}},"VAppBar"),wDe=ft()({name:"VAppBar",props:xDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ht(),s=hn(e,"modelValue"),u=Y(()=>{var se;const Z=new Set(((se=e.scrollBehavior)==null?void 0:se.split(" "))??[]);return{hide:Z.has("hide"),fullyHide:Z.has("fully-hide"),inverted:Z.has("inverted"),collapse:Z.has("collapse"),elevate:Z.has("elevate"),fadeImage:Z.has("fade-image")}}),h=Y(()=>{const Z=u.value;return Z.hide||Z.fullyHide||Z.inverted||Z.collapse||Z.elevate||Z.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:p,isScrollingUp:y,scrollRatio:w}=bDe(e,{canScroll:h}),k=Y(()=>u.value.hide||u.value.fullyHide),C=Y(()=>e.collapse||u.value.collapse&&(u.value.inverted?w.value>0:w.value===0)),I=Y(()=>e.flat||u.value.fullyHide&&!s.value||u.value.elevate&&(u.value.inverted?o.value>0:o.value===0)),R=Y(()=>u.value.fadeImage?u.value.inverted?1-w.value:w.value:void 0),M=Y(()=>{var ie,J;const Z=Number(((ie=r.value)==null?void 0:ie.contentHeight)??e.height),se=Number(((J=r.value)==null?void 0:J.extensionHeight)??0);return k.value?o.value<p.value||u.value.fullyHide?Z+se:Z:Z+se});Ja(Y(()=>!!e.scrollBehavior),()=>{oi(()=>{k.value?u.value.inverted?s.value=o.value>p.value:s.value=y.value||o.value<p.value:s.value=!0})});const{ssrBootStyles:F}=_m(),{layoutItemStyles:N,layoutIsReady:q}=X0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:_t(e,"location"),layoutSize:M,elementSize:Rt(void 0),active:s,absolute:_t(e,"absolute")});return St(()=>{const Z=n0.filterProps(e);return T(n0,ot({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...N.value,"--v-toolbar-image-opacity":R.value,height:void 0,...F.value},e.style]},Z,{collapse:C.value,flat:I.value}),n)}),q}}),SDe=We({...nx({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),kDe=ft()({name:"VAppBarNavIcon",props:SDe(),setup(e,t){let{slots:n}=t;return St(()=>T(Jt,ot(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),CDe=We({scrollable:Boolean,...cn(),...to(),...Zn({tag:"main"})},"VMain"),TDe=ft()({name:"VMain",props:CDe(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=no(e),{mainStyles:s,layoutIsReady:u}=IA(),{ssrBootStyles:h}=_m();return St(()=>T(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,h.value,r.value,e.style]},{default:()=>{var o,p;return[e.scrollable?T("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(p=n.default)==null?void 0:p.call(n)]}})),u}});function ADe(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const s=Rt(!1),u=Rt(0),h=Y(()=>{const y=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[y]:Gt(u.value)}:{top:r.value.top}]});fa(()=>{ct(n,y=>{y?window.addEventListener("scroll",p,{passive:!0}):window.removeEventListener("scroll",p)},{immediate:!0})}),Sr(()=>{window.removeEventListener("scroll",p)});let o=0;function p(){const y=o>window.scrollY?"up":"down",w=t.value.getBoundingClientRect(),k=parseFloat(r.value.top??0),C=window.scrollY-Math.max(0,u.value-k),I=w.height+Math.max(u.value,k)-window.scrollY-window.innerHeight,R=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;w.height<window.innerHeight-k?(s.value="top",u.value=k):y==="up"&&s.value==="bottom"||y==="down"&&s.value==="top"?(u.value=window.scrollY+w.top-R,s.value=!0):y==="down"&&I<=0?(u.value=0,s.value="bottom"):y==="up"&&C<=0&&(R?s.value!=="top"&&(u.value=-C+R+k,s.value="top"):(u.value=w.top+C,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:h}}const EDe=100,IDe=20;function D2(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function M2(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=D2(t),s=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(s-r)*Math.abs(s),n===e.length-1&&(t*=.5)}return D2(t)*1e3}function PDe(){const e={};function t(s){Array.from(s.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new AF(IDe))).push([s.timeStamp,u])})}function n(s){Array.from(s.changedTouches).forEach(u=>{delete e[u.identifier]})}function r(s){var y;const u=(y=e[s])==null?void 0:y.values().reverse();if(!u)throw new Error(`No samples for touch id ${s}`);const h=u[0],o=[],p=[];for(const w of u){if(h[0]-w[0]>EDe)break;o.push({t:w[0],d:w[1].clientX}),p.push({t:w[0],d:w[1].clientY})}return{x:M2(o),y:M2(p),get direction(){const{x:w,y:k}=this,[C,I]=[Math.abs(w),Math.abs(k)];return C>I&&w>=0?"right":C>I&&w<=0?"left":I>C&&k>=0?"down":I>C&&k<=0?"up":DDe()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function DDe(){throw new Error}function MDe(e){let{el:t,isActive:n,isTemporary:r,width:s,touchless:u,position:h}=e;fa(()=>{window.addEventListener("touchstart",q,{passive:!0}),window.addEventListener("touchmove",Z,{passive:!1}),window.addEventListener("touchend",se,{passive:!0})}),Sr(()=>{window.removeEventListener("touchstart",q),window.removeEventListener("touchmove",Z),window.removeEventListener("touchend",se)});const o=Y(()=>["left","right"].includes(h.value)),{addMovement:p,endTouch:y,getVelocity:w}=PDe();let k=!1;const C=Rt(!1),I=Rt(0),R=Rt(0);let M;function F(J,te){return(h.value==="left"?J:h.value==="right"?document.documentElement.clientWidth-J:h.value==="top"?J:h.value==="bottom"?document.documentElement.clientHeight-J:dd())-(te?s.value:0)}function N(J){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const G=h.value==="left"?(J-R.value)/s.value:h.value==="right"?(document.documentElement.clientWidth-J-R.value)/s.value:h.value==="top"?(J-R.value)/s.value:h.value==="bottom"?(document.documentElement.clientHeight-J-R.value)/s.value:dd();return te?Math.max(0,Math.min(1,G)):G}function q(J){if(u.value)return;const te=J.changedTouches[0].clientX,G=J.changedTouches[0].clientY,$=25,K=h.value==="left"?te<$:h.value==="right"?te>document.documentElement.clientWidth-$:h.value==="top"?G<$:h.value==="bottom"?G>document.documentElement.clientHeight-$:dd(),le=n.value&&(h.value==="left"?te<s.value:h.value==="right"?te>document.documentElement.clientWidth-s.value:h.value==="top"?G<s.value:h.value==="bottom"?G>document.documentElement.clientHeight-s.value:dd());(K||le||n.value&&r.value)&&(M=[te,G],R.value=F(o.value?te:G,n.value),I.value=N(o.value?te:G),k=R.value>-20&&R.value<80,y(J),p(J))}function Z(J){const te=J.changedTouches[0].clientX,G=J.changedTouches[0].clientY;if(k){if(!J.cancelable){k=!1;return}const K=Math.abs(te-M[0]),le=Math.abs(G-M[1]);(o.value?K>le&&K>3:le>K&&le>3)?(C.value=!0,k=!1):(o.value?le:K)>3&&(k=!1)}if(!C.value)return;J.preventDefault(),p(J);const $=N(o.value?te:G,!1);I.value=Math.max(0,Math.min(1,$)),$>1?R.value=F(o.value?te:G,!0):$<0&&(R.value=F(o.value?te:G,!1))}function se(J){if(k=!1,!C.value)return;p(J),C.value=!1;const te=w(J.changedTouches[0].identifier),G=Math.abs(te.x),$=Math.abs(te.y);(o.value?G>$&&G>400:$>G&&$>3)?n.value=te.direction===({left:"right",right:"left",top:"down",bottom:"up"}[h.value]||dd()):n.value=I.value>.5}const ie=Y(()=>C.value?{transform:h.value==="left"?`translateX(calc(-100% + ${I.value*s.value}px))`:h.value==="right"?`translateX(calc(100% - ${I.value*s.value}px))`:h.value==="top"?`translateY(calc(-100% + ${I.value*s.value}px))`:h.value==="bottom"?`translateY(calc(100% - ${I.value*s.value}px))`:dd(),transition:"none"}:void 0);return Ja(C,()=>{var G,$;const J=((G=t.value)==null?void 0:G.style.transform)??null,te=(($=t.value)==null?void 0:$.style.transition)??null;oi(()=>{var K,le,ee,_e;(le=t.value)==null||le.style.setProperty("transform",((K=ie.value)==null?void 0:K.transform)||"none"),(_e=t.value)==null||_e.style.setProperty("transition",((ee=ie.value)==null?void 0:ee.transition)||null)}),ha(()=>{var K,le;(K=t.value)==null||K.style.setProperty("transform",J),(le=t.value)==null||le.style.setProperty("transition",te)})}),{isDragging:C,dragProgress:I,dragStyles:ie}}function dd(){throw new Error}const LDe=["start","end","left","right","top","bottom"],RDe=We({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>LDe.includes(e)},sticky:Boolean,...eo(),...cn(),...PE(),...Vd({mobile:null}),...ns(),...K0(),...Pi(),...Zn({tag:"nav"}),...vr()},"VNavigationDrawer"),ODe=ft()({name:"VNavigationDrawer",props:RDe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{isRtl:u}=es(),{themeClasses:h}=Rr(e),{borderClasses:o}=Lo(e),{backgroundColorClasses:p,backgroundColorStyles:y}=yi(_t(e,"color")),{elevationClasses:w}=Es(e),{displayClasses:k,mobile:C}=yl(e),{roundedClasses:I}=Vi(e),R=UA(),M=hn(e,"modelValue",null,$e=>!!$e),{ssrBootStyles:F}=_m(),{scopeId:N}=qd(),q=ht(),Z=Rt(!1),{runOpenDelay:se,runCloseDelay:ie}=DE(e,$e=>{Z.value=$e}),J=Y(()=>e.rail&&e.expandOnHover&&Z.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),te=Y(()=>yb(e.location,u.value)),G=Y(()=>e.persistent),$=Y(()=>!e.permanent&&(C.value||e.temporary)),K=Y(()=>e.sticky&&!$.value&&te.value!=="bottom");Ja(()=>e.expandOnHover&&e.rail!=null,()=>{ct(Z,$e=>r("update:rail",!$e))}),Ja(()=>!e.disableResizeWatcher,()=>{ct($,$e=>!e.permanent&&Hn(()=>M.value=!$e))}),Ja(()=>!e.disableRouteWatcher&&!!R,()=>{ct(R.currentRoute,()=>$.value&&(M.value=!1))}),ct(()=>e.permanent,$e=>{$e&&(M.value=!0)}),e.modelValue==null&&!$.value&&(M.value=e.permanent||!C.value);const{isDragging:le,dragProgress:ee}=MDe({el:q,isActive:M,isTemporary:$,width:J,touchless:_t(e,"touchless"),position:te}),_e=Y(()=>{const $e=$.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):J.value;return le.value?$e*ee.value:$e}),fe=Y(()=>["top","bottom"].includes(e.location)?0:J.value),{layoutItemStyles:Ie,layoutItemScrimStyles:Te,layoutIsReady:qe}=X0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:te,layoutSize:_e,elementSize:fe,active:Y(()=>M.value||le.value),disableTransitions:Y(()=>le.value),absolute:Y(()=>e.absolute||K.value&&typeof ke.value!="string")}),{isStuck:ke,stickyStyles:Pe}=ADe({rootEl:q,isSticky:K,layoutItemStyles:Ie}),Fe=yi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),Je=Y(()=>({...le.value?{opacity:ee.value*.2,transition:"none"}:void 0,...Te.value}));return da({VList:{bgColor:"transparent"}}),St(()=>{const $e=s.image||e.image;return T(Ht,null,[T(e.tag,ot({ref:q,onMouseenter:se,onMouseleave:ie,class:["v-navigation-drawer",`v-navigation-drawer--${te.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":Z.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":$.value,"v-navigation-drawer--persistent":G.value,"v-navigation-drawer--active":M.value,"v-navigation-drawer--sticky":K.value},h.value,p.value,o.value,k.value,w.value,I.value,e.class],style:[y.value,Ie.value,F.value,Pe.value,e.style,["top","bottom"].includes(te.value)?{height:"auto"}:{}]},N,n),{default:()=>{var at,Lt,dt;return[$e&&T("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},s.image):T(pm,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),s.prepend&&T("div",{class:"v-navigation-drawer__prepend"},[(at=s.prepend)==null?void 0:at.call(s)]),T("div",{class:"v-navigation-drawer__content"},[(Lt=s.default)==null?void 0:Lt.call(s)]),s.append&&T("div",{class:"v-navigation-drawer__append"},[(dt=s.append)==null?void 0:dt.call(s)])]}}),T(Ao,{name:"fade-transition"},{default:()=>[$.value&&(le.value||M.value)&&!!e.scrim&&T("div",ot({class:["v-navigation-drawer__scrim",Fe.backgroundColorClasses.value],style:[Je.value,Fe.backgroundColorStyles.value],onClick:()=>{G.value||(M.value=!1)}},N),null)]})])}),qe.then(()=>({isStuck:ke}))}}),FDe={name:"App",components:{"layout-footer":pDe},methods:{async logout(){await this.$store.dispatch("logout"),this.$router.push("/")}},data:()=>({drawer:null})},zDe={href:"/"};function BDe(e,t,n,r,s,u){const h=km,o=Cn("router-view"),p=Cn("layout-footer");return fn(),Nn(yDe,null,{default:Me(()=>[T(wDe,{elevation:"0",flat:"",color:"grey-lighten-5"},{default:Me(()=>[T(kDe,{class:"hidden-lg-and-up",onClick:t[0]||(t[0]=y=>e.drawer=!e.drawer)}),T(Mr,null,{default:Me(()=>[rr("a",zDe,[T(pm,{src:gDe,height:"40"})]),T(Hs)]),_:1})]),_:1}),T(ODe,{border:"",modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=y=>e.drawer=y),elevation:"0"},{append:Me(()=>[T(Za,null,{default:Me(()=>[T(To,null,{default:Me(()=>[T(h,{actions:!0})]),_:1})]),_:1})]),default:Me(()=>[T(Wf,{nav:""},{default:Me(()=>[T(iI,null,{default:Me(()=>[zt("Data types")]),_:1}),T(Gs,{value:"Catalogue","prepend-icon":"mdi-bookshelf"},{activator:Me(({props:y})=>[T(Dr,ot(y,{title:"Catalogue"}),null,16)]),default:Me(()=>[T(Dr,{color:"success",to:"/stock-summary","active-class":"highlighted",class:Ra(e.$route.path==="/stock-summary"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Stock summary")]),_:1})]),_:1},8,["class"])]),_:1}),T(Gs,{value:"Events","no-action":"","prepend-icon":"mdi-calendar-badge"},{activator:Me(({props:y})=>[T(Dr,ot(y,{title:"Events"}),null,16)]),default:Me(()=>[T(Dr,{color:"success",to:"/events","active-class":"highlighted",class:Ra(e.$route.path==="/events"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Events")]),_:1})]),_:1},8,["class"])]),_:1}),T(Gs,{value:"Library locations","no-action":"","prepend-icon":"mdi-office-building-marker"},{activator:Me(({props:y})=>[T(Dr,ot(y,{title:"Library locations"}),null,16)]),default:Me(()=>[T(Dr,{color:"success",to:"/libraries","active-class":"highlighted",class:Ra(e.$route.path==="/libraries"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Locations")]),_:1})]),_:1},8,["class"]),T(Dr,{color:"success",to:"/libraries-edit","active-class":"highlighted",class:Ra(e.$route.path==="/libraries"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Edit locations")]),_:1})]),_:1},8,["class"])]),_:1}),T(Gs,{value:"Loans","prepend-icon":"mdi-book-account"},{activator:Me(({props:y})=>[T(Dr,ot(y,{title:"Loans"}),null,16)]),default:Me(()=>[T(Dr,{color:"success",to:"/loans","active-class":"highlighted",class:Ra(e.$route.path==="/loans"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Loans")]),_:1})]),_:1},8,["class"])]),_:1}),T(Gs,{value:"Membership","prepend-icon":"mdi-account-group"},{activator:Me(({props:y})=>[T(Dr,ot(y,{title:"Membership"}),null,16)]),default:Me(()=>[T(Dr,{color:"success",to:"/membership","active-class":"highlighted",class:Ra(e.$route.path==="/membership"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Membership")]),_:1})]),_:1},8,["class"]),T(Dr,{color:"success",to:"/postcode-to-lsoa","active-class":"highlighted",class:Ra(e.$route.path==="/postcode-to-lsoa"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Postcode converter")]),_:1})]),_:1},8,["class"]),T(Dr,{color:"success",to:"/membership-map","active-class":"highlighted",class:Ra(e.$route.path==="/membership-map"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Membership map")]),_:1})]),_:1},8,["class"])]),_:1}),T(Gs,{value:"MobileLibraries","prepend-icon":"mdi-bus-clock"},{activator:Me(({props:y})=>[T(Dr,ot(y,{title:"Mobile libraries"}),null,16)]),default:Me(()=>[T(Dr,{color:"success",to:"/mobile-library-stops","active-class":"highlighted",class:Ra(e.$route.path==="/mobile-library-stops"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Mobile library stops")]),_:1})]),_:1},8,["class"])]),_:1}),T(Gs,{value:"Visits","prepend-icon":"mdi-shoe-print"},{activator:Me(({props:y})=>[T(Dr,ot(y,{title:"Visits"}),null,16)]),default:Me(()=>[T(Dr,{color:"success",to:"/physical-visits","active-class":"highlighted",class:Ra(e.$route.path==="/physical-visits"?"highlighted":"")},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("Physical visits")]),_:1})]),_:1},8,["class"])]),_:1}),T(gr),T(Dr,{color:"info",to:"/about","active-class":"highlighted",class:Ra(e.$route.path==="/about"?"highlighted":""),"prepend-icon":"mdi-information"},{default:Me(()=>[T(Wa,null,{default:Me(()=>[zt("About")]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["modelValue"]),T(TDe,null,{default:Me(()=>[T(o)]),_:1}),T(p)]),_:1})}const VDe=Qr(FDe,[["render",BDe]]),NDe=PA({icons:{defaultSet:"mdi",aliases:kA,sets:{mdi:CA}},components:{...X4},defaults:{VBtn:{style:"text-transform: none;"},VTabs:{style:"text-transform: none;"}}});vF({extends:VDe,beforeCreate(){this.$store.commit("initialiseStore")}}).use(NDe).use(VPe).use(uDe).use(uV).component("layout-header",n5).component("markdown-section",g1e).component("user-profile",km).mount("#app")});export default $De();
