var BL=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var FDe=BL((BDe,_g)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function h0(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const Br={},yd=[],Xa=()=>{},VL=()=>!1,ev=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),f0=e=>e.startsWith("onUpdate:"),_i=Object.assign,m0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},NL=Object.prototype.hasOwnProperty,Qn=(e,t)=>NL.call(e,t),gn=Array.isArray,_d=e=>tv(e)==="[object Map]",D2=e=>tv(e)==="[object Set]",wn=e=>typeof e=="function",ai=e=>typeof e=="string",lu=e=>typeof e=="symbol",Mr=e=>e!==null&&typeof e=="object",M2=e=>(Mr(e)||wn(e))&&wn(e.then)&&wn(e.catch),L2=Object.prototype.toString,tv=e=>L2.call(e),$L=e=>tv(e).slice(8,-1),R2=e=>tv(e)==="[object Object]",p0=e=>ai(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,pf=h0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},UL=/-(\w)/g,ws=nv(e=>e.replace(UL,(t,n)=>n?n.toUpperCase():"")),qL=/\B([A-Z])/g,Rd=nv(e=>e.replace(qL,"-$1").toLowerCase()),Po=nv(e=>e.charAt(0).toUpperCase()+e.slice(1)),a_=nv(e=>e?`on${Po(e)}`:""),oc=(e,t)=>!Object.is(e,t),ng=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},O2=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},eb=e=>{const t=parseFloat(e);return isNaN(t)?e:t},F2=e=>{const t=ai(e)?Number(e):NaN;return isNaN(t)?e:t};let tS;const z2=()=>tS||(tS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function g0(e){if(gn(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ai(r)?WL(r):g0(r);if(s)for(const u in s)t[u]=s[u]}return t}else if(ai(e)||Mr(e))return e}const jL=/;(?![^(]*\))/g,HL=/:([^]+)/,GL=/\/\*[^]*?\*\//g;function WL(e){const t={};return e.replace(GL,"").split(jL).forEach(n=>{if(n){const r=n.split(HL);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Oa(e){let t="";if(ai(e))t=e;else if(gn(e))for(let n=0;n<e.length;n++){const r=Oa(e[n]);r&&(t+=r+" ")}else if(Mr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const YL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ZL=h0(YL);function B2(e){return!!e||e===""}const Zs=e=>ai(e)?e:e==null?"":gn(e)||Mr(e)&&(e.toString===L2||!wn(e.toString))?JSON.stringify(e,V2,2):String(e),V2=(e,t)=>t&&t.__v_isRef?V2(e,t.value):_d(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],u)=>(n[s_(r,u)+" =>"]=s,n),{})}:D2(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>s_(n))}:lu(t)?s_(t):Mr(t)&&!gn(t)&&!R2(t)?String(t):t,s_=(e,t="")=>{var n;return lu(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ya;class N2{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ya,!t&&Ya&&(this.index=(Ya.scopes||(Ya.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ya;try{return Ya=this,t()}finally{Ya=n}}}on(){Ya=this}off(){Ya=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function rv(e){return new N2(e)}function KL(e,t=Ya){t&&t.active&&t.effects.push(e)}function XL(){return Ya}function da(e){Ya&&Ya.cleanups.push(e)}let Qc;class v0{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,KL(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,dc();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(JL(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),hc()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=ic,n=Qc;try{return ic=!0,Qc=this,this._runnings++,nS(this),this.fn()}finally{rS(this),this._runnings--,Qc=n,ic=t}}stop(){this.active&&(nS(this),rS(this),this.onStop&&this.onStop(),this.active=!1)}}function JL(e){return e.value}function nS(e){e._trackId++,e._depsLength=0}function rS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)$2(e.deps[t],e);e.deps.length=e._depsLength}}function $2(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let ic=!0,tb=0;const U2=[];function dc(){U2.push(ic),ic=!1}function hc(){const e=U2.pop();ic=e===void 0?!0:e}function y0(){tb++}function _0(){for(tb--;!tb&&nb.length;)nb.shift()()}function q2(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&$2(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const nb=[];function j2(e,t,n){y0();for(const r of e.keys()){let s;r._dirtyLevel<t&&(s??(s=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(s??(s=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&nb.push(r.scheduler)))}_0()}const H2=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},bg=new WeakMap,eu=Symbol(""),rb=Symbol("");function Va(e,t,n){if(ic&&Qc){let r=bg.get(e);r||bg.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=H2(()=>r.delete(n))),q2(Qc,s)}}function ll(e,t,n,r,s,u){const h=bg.get(e);if(!h)return;let o=[];if(t==="clear")o=[...h.values()];else if(n==="length"&&gn(e)){const p=Number(r);h.forEach((y,b)=>{(b==="length"||!lu(b)&&b>=p)&&o.push(y)})}else switch(n!==void 0&&o.push(h.get(n)),t){case"add":gn(e)?p0(n)&&o.push(h.get("length")):(o.push(h.get(eu)),_d(e)&&o.push(h.get(rb)));break;case"delete":gn(e)||(o.push(h.get(eu)),_d(e)&&o.push(h.get(rb)));break;case"set":_d(e)&&o.push(h.get(eu));break}y0();for(const p of o)p&&j2(p,4);_0()}function QL(e,t){const n=bg.get(e);return n&&n.get(t)}const eR=h0("__proto__,__v_isRef,__isVue"),G2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(lu)),iS=tR();function tR(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=bn(this);for(let u=0,h=this.length;u<h;u++)Va(r,"get",u+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(bn)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){dc(),y0();const r=bn(this)[t].apply(this,n);return _0(),hc(),r}}),e}function nR(e){lu(e)||(e=String(e));const t=bn(this);return Va(t,"has",e),t.hasOwnProperty(e)}class W2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const s=this._isReadonly,u=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return u;if(n==="__v_raw")return r===(s?u?pR:X2:u?K2:Z2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const h=gn(t);if(!s){if(h&&Qn(iS,n))return Reflect.get(iS,n,r);if(n==="hasOwnProperty")return nR}const o=Reflect.get(t,n,r);return(lu(n)?G2.has(n):eR(n))||(s||Va(t,"get",n),u)?o:xr(o)?h&&p0(n)?o:o.value:Mr(o)?s?Od(o):Ei(o):o}}class Y2 extends W2{constructor(t=!1){super(!1,t)}set(t,n,r,s){let u=t[n];if(!this._isShallow){const p=Cf(u);if(!xg(r)&&!Cf(r)&&(u=bn(u),r=bn(r)),!gn(t)&&xr(u)&&!xr(r))return p?!1:(u.value=r,!0)}const h=gn(t)&&p0(n)?Number(n)<t.length:Qn(t,n),o=Reflect.set(t,n,r,s);return t===bn(s)&&(h?oc(r,u)&&ll(t,"set",n,r):ll(t,"add",n,r)),o}deleteProperty(t,n){const r=Qn(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ll(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!lu(n)||!G2.has(n))&&Va(t,"has",n),r}ownKeys(t){return Va(t,"iterate",gn(t)?"length":eu),Reflect.ownKeys(t)}}class rR extends W2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const iR=new Y2,aR=new rR,sR=new Y2(!0),b0=e=>e,iv=e=>Reflect.getPrototypeOf(e);function Fp(e,t,n=!1,r=!1){e=e.__v_raw;const s=bn(e),u=bn(t);n||(oc(t,u)&&Va(s,"get",t),Va(s,"get",u));const{has:h}=iv(s),o=r?b0:n?S0:Tf;if(h.call(s,t))return o(e.get(t));if(h.call(s,u))return o(e.get(u));e!==s&&e.get(t)}function zp(e,t=!1){const n=this.__v_raw,r=bn(n),s=bn(e);return t||(oc(e,s)&&Va(r,"has",e),Va(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Bp(e,t=!1){return e=e.__v_raw,!t&&Va(bn(e),"iterate",eu),Reflect.get(e,"size",e)}function aS(e){e=bn(e);const t=bn(this);return iv(t).has.call(t,e)||(t.add(e),ll(t,"add",e,e)),this}function sS(e,t){t=bn(t);const n=bn(this),{has:r,get:s}=iv(n);let u=r.call(n,e);u||(e=bn(e),u=r.call(n,e));const h=s.call(n,e);return n.set(e,t),u?oc(t,h)&&ll(n,"set",e,t):ll(n,"add",e,t),this}function oS(e){const t=bn(this),{has:n,get:r}=iv(t);let s=n.call(t,e);s||(e=bn(e),s=n.call(t,e)),r&&r.call(t,e);const u=t.delete(e);return s&&ll(t,"delete",e,void 0),u}function lS(){const e=bn(this),t=e.size!==0,n=e.clear();return t&&ll(e,"clear",void 0,void 0),n}function Vp(e,t){return function(r,s){const u=this,h=u.__v_raw,o=bn(h),p=t?b0:e?S0:Tf;return!e&&Va(o,"iterate",eu),h.forEach((y,b)=>r.call(s,p(y),p(b),u))}}function Np(e,t,n){return function(...r){const s=this.__v_raw,u=bn(s),h=_d(u),o=e==="entries"||e===Symbol.iterator&&h,p=e==="keys"&&h,y=s[e](...r),b=n?b0:t?S0:Tf;return!t&&Va(u,"iterate",p?rb:eu),{next(){const{value:C,done:k}=y.next();return k?{value:C,done:k}:{value:o?[b(C[0]),b(C[1])]:b(C),done:k}},[Symbol.iterator](){return this}}}}function jl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function oR(){const e={get(u){return Fp(this,u)},get size(){return Bp(this)},has:zp,add:aS,set:sS,delete:oS,clear:lS,forEach:Vp(!1,!1)},t={get(u){return Fp(this,u,!1,!0)},get size(){return Bp(this)},has:zp,add:aS,set:sS,delete:oS,clear:lS,forEach:Vp(!1,!0)},n={get(u){return Fp(this,u,!0)},get size(){return Bp(this,!0)},has(u){return zp.call(this,u,!0)},add:jl("add"),set:jl("set"),delete:jl("delete"),clear:jl("clear"),forEach:Vp(!0,!1)},r={get(u){return Fp(this,u,!0,!0)},get size(){return Bp(this,!0)},has(u){return zp.call(this,u,!0)},add:jl("add"),set:jl("set"),delete:jl("delete"),clear:jl("clear"),forEach:Vp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Np(u,!1,!1),n[u]=Np(u,!0,!1),t[u]=Np(u,!1,!0),r[u]=Np(u,!0,!0)}),[e,n,t,r]}const[lR,cR,uR,dR]=oR();function x0(e,t){const n=t?e?dR:uR:e?cR:lR;return(r,s,u)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Qn(n,s)&&s in r?n:r,s,u)}const hR={get:x0(!1,!1)},fR={get:x0(!1,!0)},mR={get:x0(!0,!1)},Z2=new WeakMap,K2=new WeakMap,X2=new WeakMap,pR=new WeakMap;function gR(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function vR(e){return e.__v_skip||!Object.isExtensible(e)?0:gR($L(e))}function Ei(e){return Cf(e)?e:w0(e,!1,iR,hR,Z2)}function J2(e){return w0(e,!1,sR,fR,K2)}function Od(e){return w0(e,!0,aR,mR,X2)}function w0(e,t,n,r,s){if(!Mr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=s.get(e);if(u)return u;const h=vR(e);if(h===0)return e;const o=new Proxy(e,h===2?r:n);return s.set(e,o),o}function gf(e){return Cf(e)?gf(e.__v_raw):!!(e&&e.__v_isReactive)}function Cf(e){return!!(e&&e.__v_isReadonly)}function xg(e){return!!(e&&e.__v_isShallow)}function Q2(e){return e?!!e.__v_raw:!1}function bn(e){const t=e&&e.__v_raw;return t?bn(t):e}function wg(e){return Object.isExtensible(e)&&O2(e,"__v_skip",!0),e}const Tf=e=>Mr(e)?Ei(e):e,S0=e=>Mr(e)?Od(e):e;class eT{constructor(t,n,r,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new v0(()=>t(this._value),()=>rg(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=bn(this);return(!t._cacheable||t.effect.dirty)&&oc(t._value,t._value=t.effect.run())&&rg(t,4),tT(t),t.effect._dirtyLevel>=2&&rg(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function yR(e,t,n=!1){let r,s;const u=wn(e);return u?(r=e,s=Xa):(r=e.get,s=e.set),new eT(r,s,u||!s,n)}function tT(e){var t;ic&&Qc&&(e=bn(e),q2(Qc,(t=e.dep)!=null?t:e.dep=H2(()=>e.dep=void 0,e instanceof eT?e:void 0)))}function rg(e,t=4,n){e=bn(e);const r=e.dep;r&&j2(r,t)}function xr(e){return!!(e&&e.__v_isRef===!0)}function dt(e){return nT(e,!1)}function Rt(e){return nT(e,!0)}function nT(e,t){return xr(e)?e:new _R(e,t)}class _R{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:bn(t),this._value=n?t:Tf(t)}get value(){return tT(this),this._value}set value(t){const n=this.__v_isShallow||xg(t)||Cf(t);t=n?t:bn(t),oc(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Tf(t),rg(this,4))}}function Vr(e){return xr(e)?e.value:e}const bR={get:(e,t,n)=>Vr(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return xr(s)&&!xr(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function rT(e){return gf(e)?e:new Proxy(e,bR)}function rm(e){const t=gn(e)?new Array(e.length):{};for(const n in e)t[n]=iT(e,n);return t}class xR{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return QL(bn(this._object),this._key)}}class wR{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function _t(e,t,n){return xr(e)?e:wn(e)?new wR(e):Mr(e)&&arguments.length>1?iT(e,t,n):dt(e)}function iT(e,t,n){const r=e[t];return xr(r)?r:new xR(e,t,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ac(e,t,n,r){try{return r?e(...r):e()}catch(s){im(s,t,n)}}function bs(e,t,n,r){if(wn(e)){const s=ac(e,t,n,r);return s&&M2(s)&&s.catch(u=>{im(u,t,n)}),s}if(gn(e)){const s=[];for(let u=0;u<e.length;u++)s.push(bs(e[u],t,n,r));return s}}function im(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let u=t.parent;const h=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const y=u.ec;if(y){for(let b=0;b<y.length;b++)if(y[b](e,h,o)===!1)return}u=u.parent}const p=t.appContext.config.errorHandler;if(p){dc(),ac(p,null,10,[e,h,o]),hc();return}}SR(e,n,s,r)}function SR(e,t,n,r=!0){console.error(e)}let Af=!1,ib=!1;const sa=[];let bo=0;const bd=[];let Zl=null,Hc=0;const aT=Promise.resolve();let k0=null;function Hn(e){const t=k0||aT;return e?t.then(this?e.bind(this):e):t}function kR(e){let t=bo+1,n=sa.length;for(;t<n;){const r=t+n>>>1,s=sa[r],u=Ef(s);u<e||u===e&&s.pre?t=r+1:n=r}return t}function C0(e){(!sa.length||!sa.includes(e,Af&&e.allowRecurse?bo+1:bo))&&(e.id==null?sa.push(e):sa.splice(kR(e.id),0,e),sT())}function sT(){!Af&&!ib&&(ib=!0,k0=aT.then(lT))}function CR(e){const t=sa.indexOf(e);t>bo&&sa.splice(t,1)}function ab(e){gn(e)?bd.push(...e):(!Zl||!Zl.includes(e,e.allowRecurse?Hc+1:Hc))&&bd.push(e),sT()}function cS(e,t,n=Af?bo+1:0){for(;n<sa.length;n++){const r=sa[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;sa.splice(n,1),n--,r()}}}function oT(e){if(bd.length){const t=[...new Set(bd)].sort((n,r)=>Ef(n)-Ef(r));if(bd.length=0,Zl){Zl.push(...t);return}for(Zl=t,Hc=0;Hc<Zl.length;Hc++)Zl[Hc]();Zl=null,Hc=0}}const Ef=e=>e.id==null?1/0:e.id,TR=(e,t)=>{const n=Ef(e)-Ef(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function lT(e){ib=!1,Af=!0,sa.sort(TR);try{for(bo=0;bo<sa.length;bo++){const t=sa[bo];t&&t.active!==!1&&ac(t,null,14)}}finally{bo=0,sa.length=0,oT(),Af=!1,k0=null,(sa.length||bd.length)&&lT()}}function AR(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Br;let s=n;const u=t.startsWith("update:"),h=u&&t.slice(7);if(h&&h in r){const b=`${h==="modelValue"?"model":h}Modifiers`,{number:C,trim:k}=r[b]||Br;k&&(s=n.map(I=>ai(I)?I.trim():I)),C&&(s=n.map(eb))}let o,p=r[o=a_(t)]||r[o=a_(ws(t))];!p&&u&&(p=r[o=a_(Rd(t))]),p&&bs(p,e,6,s);const y=r[o+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,bs(y,e,6,s)}}function cT(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const u=e.emits;let h={},o=!1;if(!wn(e)){const p=y=>{const b=cT(y,t,!0);b&&(o=!0,_i(h,b))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!u&&!o?(Mr(e)&&r.set(e,null),null):(gn(u)?u.forEach(p=>h[p]=null):_i(h,u),Mr(e)&&r.set(e,h),h)}function av(e,t){return!e||!ev(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qn(e,t[0].toLowerCase()+t.slice(1))||Qn(e,Rd(t))||Qn(e,t))}let Ca=null,uT=null;function Sg(e){const t=Ca;return Ca=e,uT=e&&e.type.__scopeId||null,t}function De(e,t=Ca,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&kS(-1);const u=Sg(t);let h;try{h=e(...s)}finally{Sg(u),r._d&&kS(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function o_(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[u],slots:h,attrs:o,emit:p,render:y,renderCache:b,props:C,data:k,setupState:I,ctx:R,inheritAttrs:L}=e,F=Sg(e);let B,q;try{if(n.shapeFlag&4){const se=s||r,Q=se;B=Gs(y.call(Q,se,b,C,I,k,R)),q=o}else{const se=t;B=Gs(se.length>1?se(C,{attrs:o,slots:h,emit:p}):se(C,null)),q=t.props?o:IR(o)}}catch(se){bf.length=0,im(se,e,1),B=T(Ta)}let K=B;if(q&&L!==!1){const se=Object.keys(q),{shapeFlag:Q}=K;se.length&&Q&7&&(u&&se.some(f0)&&(q=PR(q,u)),K=dl(K,q,!1,!0))}return n.dirs&&(K=dl(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&(K.transition=n.transition),B=K,Sg(F),B}function ER(e,t=!0){let n;for(let r=0;r<e.length;r++){const s=e[r];if(Mf(s)){if(s.type!==Ta||s.children==="v-if"){if(n)return;n=s}}else return}return n}const IR=e=>{let t;for(const n in e)(n==="class"||n==="style"||ev(n))&&((t||(t={}))[n]=e[n]);return t},PR=(e,t)=>{const n={};for(const r in e)(!f0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function DR(e,t,n){const{props:r,children:s,component:u}=e,{props:h,children:o,patchFlag:p}=t,y=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return r?uS(r,h,y):!!h;if(p&8){const b=t.dynamicProps;for(let C=0;C<b.length;C++){const k=b[C];if(h[k]!==r[k]&&!av(y,k))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===h?!1:r?h?uS(r,h,y):!0:!!h;return!1}function uS(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const u=r[s];if(t[u]!==e[u]&&!av(n,u))return!0}return!1}function T0({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const A0="components",MR="directives";function Sn(e,t){return E0(A0,e,!0,t)||e}const LR=Symbol.for("v-ndc");function RR(e){return ai(e)&&E0(A0,e,!1)||e}function ks(e){return E0(MR,e)}function E0(e,t,n=!0,r=!1){const s=Ca||Gi;if(s){const u=s.type;if(e===A0){const o=IO(u,!1);if(o&&(o===t||o===ws(t)||o===Po(ws(t))))return u}const h=dS(s[e]||u[e],t)||dS(s.appContext[e],t);return!h&&r?u:h}}function dS(e,t){return e&&(e[t]||e[ws(t)]||e[Po(ws(t))])}const OR=e=>e.__isSuspense;let sb=0;const FR={name:"Suspense",__isSuspense:!0,process(e,t,n,r,s,u,h,o,p,y){if(e==null)BR(t,n,r,s,u,h,o,p,y);else{if(u&&u.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}VR(e,t,n,r,s,h,o,p,y)}},hydrate:NR,create:I0,normalize:$R},zR=FR;function If(e,t){const n=e.props&&e.props[t];wn(n)&&n()}function BR(e,t,n,r,s,u,h,o,p){const{p:y,o:{createElement:b}}=p,C=b("div"),k=e.suspense=I0(e,s,r,t,C,n,u,h,o,p);y(null,k.pendingBranch=e.ssContent,C,null,r,k,u,h),k.deps>0?(If(e,"onPending"),If(e,"onFallback"),y(null,e.ssFallback,t,n,r,null,u,h),xd(k,e.ssFallback)):k.resolve(!1,!0)}function VR(e,t,n,r,s,u,h,o,{p,um:y,o:{createElement:b}}){const C=t.suspense=e.suspense;C.vnode=t,t.el=e.el;const k=t.ssContent,I=t.ssFallback,{activeBranch:R,pendingBranch:L,isInFallback:F,isHydrating:B}=C;if(L)C.pendingBranch=k,xo(k,L)?(p(L,k,C.hiddenContainer,null,s,C,u,h,o),C.deps<=0?C.resolve():F&&(B||(p(R,I,n,r,s,null,u,h,o),xd(C,I)))):(C.pendingId=sb++,B?(C.isHydrating=!1,C.activeBranch=L):y(L,s,C),C.deps=0,C.effects.length=0,C.hiddenContainer=b("div"),F?(p(null,k,C.hiddenContainer,null,s,C,u,h,o),C.deps<=0?C.resolve():(p(R,I,n,r,s,null,u,h,o),xd(C,I))):R&&xo(k,R)?(p(R,k,n,r,s,C,u,h,o),C.resolve(!0)):(p(null,k,C.hiddenContainer,null,s,C,u,h,o),C.deps<=0&&C.resolve()));else if(R&&xo(k,R))p(R,k,n,r,s,C,u,h,o),xd(C,k);else if(If(t,"onPending"),C.pendingBranch=k,k.shapeFlag&512?C.pendingId=k.component.suspenseId:C.pendingId=sb++,p(null,k,C.hiddenContainer,null,s,C,u,h,o),C.deps<=0)C.resolve();else{const{timeout:q,pendingId:K}=C;q>0?setTimeout(()=>{C.pendingId===K&&C.fallback(I)},q):q===0&&C.fallback(I)}}function I0(e,t,n,r,s,u,h,o,p,y,b=!1){const{p:C,m:k,um:I,n:R,o:{parentNode:L,remove:F}}=y;let B;const q=qR(e);q&&t&&t.pendingBranch&&(B=t.pendingId,t.deps++);const K=e.props?F2(e.props.timeout):void 0,se=u,Q={vnode:e,parent:t,parentComponent:n,namespace:h,container:r,hiddenContainer:s,deps:0,pendingId:sb++,timeout:typeof K=="number"?K:-1,activeBranch:null,pendingBranch:null,isInFallback:!b,isHydrating:b,isUnmounted:!1,effects:[],resolve(ee=!1,re=!1){const{vnode:H,activeBranch:j,pendingBranch:Z,pendingId:le,effects:ne,parentComponent:ve,container:fe}=Q;let Ie=!1;Q.isHydrating?Q.isHydrating=!1:ee||(Ie=j&&Z.transition&&Z.transition.mode==="out-in",Ie&&(j.transition.afterLeave=()=>{le===Q.pendingId&&(k(Z,fe,u===se?R(j):u,0),ab(ne))}),j&&(L(j.el)!==Q.hiddenContainer&&(u=R(j)),I(j,ve,Q,!0)),Ie||k(Z,fe,u,0)),xd(Q,Z),Q.pendingBranch=null,Q.isInFallback=!1;let Ae=Q.parent,qe=!1;for(;Ae;){if(Ae.pendingBranch){Ae.effects.push(...ne),qe=!0;break}Ae=Ae.parent}!qe&&!Ie&&ab(ne),Q.effects=[],q&&t&&t.pendingBranch&&B===t.pendingId&&(t.deps--,t.deps===0&&!re&&t.resolve()),If(H,"onResolve")},fallback(ee){if(!Q.pendingBranch)return;const{vnode:re,activeBranch:H,parentComponent:j,container:Z,namespace:le}=Q;If(re,"onFallback");const ne=R(H),ve=()=>{Q.isInFallback&&(C(null,ee,Z,ne,j,null,le,o,p),xd(Q,ee))},fe=ee.transition&&ee.transition.mode==="out-in";fe&&(H.transition.afterLeave=ve),Q.isInFallback=!0,I(H,j,null,!0),fe||ve()},move(ee,re,H){Q.activeBranch&&k(Q.activeBranch,ee,re,H),Q.container=ee},next(){return Q.activeBranch&&R(Q.activeBranch)},registerDep(ee,re){const H=!!Q.pendingBranch;H&&Q.deps++;const j=ee.vnode.el;ee.asyncDep.catch(Z=>{im(Z,ee,0)}).then(Z=>{if(ee.isUnmounted||Q.isUnmounted||Q.pendingId!==ee.suspenseId)return;ee.asyncResolved=!0;const{vnode:le}=ee;mb(ee,Z,!1),j&&(le.el=j);const ne=!j&&ee.subTree.el;re(ee,le,L(j||ee.subTree.el),j?null:R(ee.subTree),Q,h,p),ne&&F(ne),T0(ee,le.el),H&&--Q.deps===0&&Q.resolve()})},unmount(ee,re){Q.isUnmounted=!0,Q.activeBranch&&I(Q.activeBranch,n,ee,re),Q.pendingBranch&&I(Q.pendingBranch,n,ee,re)}};return Q}function NR(e,t,n,r,s,u,h,o,p){const y=t.suspense=I0(t,r,n,e.parentNode,document.createElement("div"),null,s,u,h,o,!0),b=p(e,y.pendingBranch=t.ssContent,n,y,u,h);return y.deps===0&&y.resolve(!1,!0),b}function $R(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=hS(r?n.default:n),e.ssFallback=r?hS(n.fallback):T(Ta)}function hS(e){let t;if(wn(e)){const n=Td&&e._c;n&&(e._d=!1,fn()),e=e(),n&&(e._d=!0,t=vs,MT())}return gn(e)&&(e=ER(e)),e=Gs(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function UR(e,t){t&&t.pendingBranch?gn(e)?t.effects.push(...e):t.effects.push(e):ab(e)}function xd(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let s=t.el;for(;!s&&t.component;)t=t.component.subTree,s=t.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,T0(r,s))}function qR(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const jR=Symbol.for("v-scx"),HR=()=>vt(jR);function si(e,t){return P0(e,null,t)}const $p={};function ot(e,t,n){return P0(e,t,n)}function P0(e,t,{immediate:n,deep:r,flush:s,once:u,onTrack:h,onTrigger:o}=Br){if(t&&u){const ee=t;t=(...re)=>{ee(...re),Q()}}const p=Gi,y=ee=>r===!0?ee:Wc(ee,r===!1?1:void 0);let b,C=!1,k=!1;if(xr(e)?(b=()=>e.value,C=xg(e)):gf(e)?(b=()=>y(e),C=!0):gn(e)?(k=!0,C=e.some(ee=>gf(ee)||xg(ee)),b=()=>e.map(ee=>{if(xr(ee))return ee.value;if(gf(ee))return y(ee);if(wn(ee))return ac(ee,p,2)})):wn(e)?t?b=()=>ac(e,p,2):b=()=>(I&&I(),bs(e,p,3,[R])):b=Xa,t&&r){const ee=b;b=()=>Wc(ee())}let I,R=ee=>{I=K.onStop=()=>{ac(ee,p,4),I=K.onStop=void 0}},L;if(lv)if(R=Xa,t?n&&bs(t,p,3,[b(),k?[]:void 0,R]):b(),s==="sync"){const ee=HR();L=ee.__watcherHandles||(ee.__watcherHandles=[])}else return Xa;let F=k?new Array(e.length).fill($p):$p;const B=()=>{if(!(!K.active||!K.dirty))if(t){const ee=K.run();(r||C||(k?ee.some((re,H)=>oc(re,F[H])):oc(ee,F)))&&(I&&I(),bs(t,p,3,[ee,F===$p?void 0:k&&F[0]===$p?[]:F,R]),F=ee)}else K.run()};B.allowRecurse=!!t;let q;s==="sync"?q=B:s==="post"?q=()=>Fa(B,p&&p.suspense):(B.pre=!0,p&&(B.id=p.uid),q=()=>C0(B));const K=new v0(b,Xa,q),se=XL(),Q=()=>{K.stop(),se&&m0(se.effects,K)};return t?n?B():F=K.run():s==="post"?Fa(K.run.bind(K),p&&p.suspense):K.run(),L&&L.push(Q),Q}function GR(e,t,n){const r=this.proxy,s=ai(e)?e.includes(".")?dT(r,e):()=>r[e]:e.bind(r,r);let u;wn(t)?u=t:(u=t.handler,n=t);const h=sm(this),o=P0(s,u.bind(r),n);return h(),o}function dT(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Wc(e,t=1/0,n){if(t<=0||!Mr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,xr(e))Wc(e.value,t,n);else if(gn(e))for(let r=0;r<e.length;r++)Wc(e[r],t,n);else if(D2(e)||_d(e))e.forEach(r=>{Wc(r,t,n)});else if(R2(e))for(const r in e)Wc(e[r],t,n);return e}function oi(e,t){if(Ca===null)return e;const n=cv(Ca)||Ca.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,h,o,p=Br]=t[s];u&&(wn(u)&&(u={mounted:u,updated:u}),u.deep&&Wc(h),r.push({dir:u,instance:n,value:h,oldValue:void 0,arg:o,modifiers:p}))}return e}function zc(e,t,n,r){const s=e.dirs,u=t&&t.dirs;for(let h=0;h<s.length;h++){const o=s[h];u&&(o.oldValue=u[h].value);let p=o.dir[r];p&&(dc(),bs(p,n,8,[e.el,o,e,t]),hc())}}const Kl=Symbol("_leaveCb"),Up=Symbol("_enterCb");function hT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ha(()=>{e.isMounted=!0}),wr(()=>{e.isUnmounting=!0}),e}const ps=[Function,Array],fT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ps,onEnter:ps,onAfterEnter:ps,onEnterCancelled:ps,onBeforeLeave:ps,onLeave:ps,onAfterLeave:ps,onLeaveCancelled:ps,onBeforeAppear:ps,onAppear:ps,onAfterAppear:ps,onAppearCancelled:ps},WR={name:"BaseTransition",props:fT,setup(e,{slots:t}){const n=Cs(),r=hT();return()=>{const s=t.default&&D0(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const k of s)if(k.type!==Ta){u=k;break}}const h=bn(e),{mode:o}=h;if(r.isLeaving)return l_(u);const p=fS(u);if(!p)return l_(u);const y=Pf(p,h,r,n);Df(p,y);const b=n.subTree,C=b&&fS(b);if(C&&C.type!==Ta&&!xo(p,C)){const k=Pf(C,h,r,n);if(Df(C,k),o==="out-in"&&p.type!==Ta)return r.isLeaving=!0,k.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},l_(u);o==="in-out"&&p.type!==Ta&&(k.delayLeave=(I,R,L)=>{const F=mT(r,C);F[String(C.key)]=C,I[Kl]=()=>{R(),I[Kl]=void 0,delete y.delayedLeave},y.delayedLeave=L})}return u}}},YR=WR;function mT(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Pf(e,t,n,r){const{appear:s,mode:u,persisted:h=!1,onBeforeEnter:o,onEnter:p,onAfterEnter:y,onEnterCancelled:b,onBeforeLeave:C,onLeave:k,onAfterLeave:I,onLeaveCancelled:R,onBeforeAppear:L,onAppear:F,onAfterAppear:B,onAppearCancelled:q}=t,K=String(e.key),se=mT(n,e),Q=(H,j)=>{H&&bs(H,r,9,j)},ee=(H,j)=>{const Z=j[1];Q(H,j),gn(H)?H.every(le=>le.length<=1)&&Z():H.length<=1&&Z()},re={mode:u,persisted:h,beforeEnter(H){let j=o;if(!n.isMounted)if(s)j=L||o;else return;H[Kl]&&H[Kl](!0);const Z=se[K];Z&&xo(e,Z)&&Z.el[Kl]&&Z.el[Kl](),Q(j,[H])},enter(H){let j=p,Z=y,le=b;if(!n.isMounted)if(s)j=F||p,Z=B||y,le=q||b;else return;let ne=!1;const ve=H[Up]=fe=>{ne||(ne=!0,fe?Q(le,[H]):Q(Z,[H]),re.delayedLeave&&re.delayedLeave(),H[Up]=void 0)};j?ee(j,[H,ve]):ve()},leave(H,j){const Z=String(e.key);if(H[Up]&&H[Up](!0),n.isUnmounting)return j();Q(C,[H]);let le=!1;const ne=H[Kl]=ve=>{le||(le=!0,j(),ve?Q(R,[H]):Q(I,[H]),H[Kl]=void 0,se[Z]===e&&delete se[Z])};se[Z]=e,k?ee(k,[H,ne]):ne()},clone(H){return Pf(H,t,n,r)}};return re}function l_(e){if(sv(e))return e=dl(e),e.children=null,e}function fS(e){if(!sv(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&wn(n.default))return n.default()}}function Df(e,t){e.shapeFlag&6&&e.component?Df(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function D0(e,t=!1,n){let r=[],s=0;for(let u=0;u<e.length;u++){let h=e[u];const o=n==null?h.key:String(n)+String(h.key!=null?h.key:u);h.type===Ht?(h.patchFlag&128&&s++,r=r.concat(D0(h.children,t,o))):(t||h.type!==Ta)&&r.push(o!=null?dl(h,{key:o}):h)}if(s>1)for(let u=0;u<r.length;u++)r[u].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function lr(e,t){return wn(e)?_i({name:e.name},t,{setup:e}):e}const ig=e=>!!e.type.__asyncLoader,sv=e=>e.type.__isKeepAlive;function pT(e,t){vT(e,"a",t)}function gT(e,t){vT(e,"da",t)}function vT(e,t,n=Gi){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(ov(t,r,n),n){let s=n.parent;for(;s&&s.parent;)sv(s.parent.vnode)&&ZR(r,t,n,s),s=s.parent}}function ZR(e,t,n,r){const s=ov(t,e,r,!0);_T(()=>{m0(r[t],s)},n)}function ov(e,t,n=Gi,r=!1){if(n){const s=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...h)=>{if(n.isUnmounted)return;dc();const o=sm(n),p=bs(t,n,e,h);return o(),hc(),p});return r?s.unshift(u):s.push(u),u}}const ml=e=>(t,n=Gi)=>(!lv||e==="sp")&&ov(e,(...r)=>t(...r),n),M0=ml("bm"),ha=ml("m"),yT=ml("bu"),L0=ml("u"),wr=ml("bum"),_T=ml("um"),KR=ml("sp"),XR=ml("rtg"),JR=ml("rtc");function QR(e,t=Gi){ov("ec",e,t)}function ag(e,t,n,r){let s;const u=n;if(gn(e)||ai(e)){s=new Array(e.length);for(let h=0,o=e.length;h<o;h++)s[h]=t(e[h],h,void 0,u)}else if(typeof e=="number"){s=new Array(e);for(let h=0;h<e;h++)s[h]=t(h+1,h,void 0,u)}else if(Mr(e))if(e[Symbol.iterator])s=Array.from(e,(h,o)=>t(h,o,void 0,u));else{const h=Object.keys(e);s=new Array(h.length);for(let o=0,p=h.length;o<p;o++){const y=h[o];s[o]=t(e[y],y,o,u)}}else s=[];return s}const ob=e=>e?OT(e)?cv(e)||e.proxy:ob(e.parent):null,vf=_i(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ob(e.parent),$root:e=>ob(e.root),$emit:e=>e.emit,$options:e=>R0(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,C0(e.update)}),$nextTick:e=>e.n||(e.n=Hn.bind(e.proxy)),$watch:e=>GR.bind(e)}),c_=(e,t)=>e!==Br&&!e.__isScriptSetup&&Qn(e,t),eO={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:u,accessCache:h,type:o,appContext:p}=e;let y;if(t[0]!=="$"){const I=h[t];if(I!==void 0)switch(I){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return u[t]}else{if(c_(r,t))return h[t]=1,r[t];if(s!==Br&&Qn(s,t))return h[t]=2,s[t];if((y=e.propsOptions[0])&&Qn(y,t))return h[t]=3,u[t];if(n!==Br&&Qn(n,t))return h[t]=4,n[t];lb&&(h[t]=0)}}const b=vf[t];let C,k;if(b)return t==="$attrs"&&Va(e.attrs,"get",""),b(e);if((C=o.__cssModules)&&(C=C[t]))return C;if(n!==Br&&Qn(n,t))return h[t]=4,n[t];if(k=p.config.globalProperties,Qn(k,t))return k[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:u}=e;return c_(s,t)?(s[t]=n,!0):r!==Br&&Qn(r,t)?(r[t]=n,!0):Qn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:u}},h){let o;return!!n[h]||e!==Br&&Qn(e,h)||c_(t,h)||(o=u[0])&&Qn(o,h)||Qn(r,h)||Qn(vf,h)||Qn(s.config.globalProperties,h)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function mS(e){return gn(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let lb=!0;function tO(e){const t=R0(e),n=e.proxy,r=e.ctx;lb=!1,t.beforeCreate&&pS(t.beforeCreate,e,"bc");const{data:s,computed:u,methods:h,watch:o,provide:p,inject:y,created:b,beforeMount:C,mounted:k,beforeUpdate:I,updated:R,activated:L,deactivated:F,beforeDestroy:B,beforeUnmount:q,destroyed:K,unmounted:se,render:Q,renderTracked:ee,renderTriggered:re,errorCaptured:H,serverPrefetch:j,expose:Z,inheritAttrs:le,components:ne,directives:ve,filters:fe}=t;if(y&&nO(y,r,null),h)for(const qe in h){const ke=h[qe];wn(ke)&&(r[qe]=ke.bind(n))}if(s){const qe=s.call(n,n);Mr(qe)&&(e.data=Ei(qe))}if(lb=!0,u)for(const qe in u){const ke=u[qe],Le=wn(ke)?ke.bind(n,n):wn(ke.get)?ke.get.bind(n,n):Xa,Ve=!wn(ke)&&wn(ke.set)?ke.set.bind(n):Xa,Je=Y({get:Le,set:Ve});Object.defineProperty(r,qe,{enumerable:!0,configurable:!0,get:()=>Je.value,set:Ue=>Je.value=Ue})}if(o)for(const qe in o)bT(o[qe],r,n,qe);if(p){const qe=wn(p)?p.call(n):p;Reflect.ownKeys(qe).forEach(ke=>{_n(ke,qe[ke])})}b&&pS(b,e,"c");function Ae(qe,ke){gn(ke)?ke.forEach(Le=>qe(Le.bind(n))):ke&&qe(ke.bind(n))}if(Ae(M0,C),Ae(ha,k),Ae(yT,I),Ae(L0,R),Ae(pT,L),Ae(gT,F),Ae(QR,H),Ae(JR,ee),Ae(XR,re),Ae(wr,q),Ae(_T,se),Ae(KR,j),gn(Z))if(Z.length){const qe=e.exposed||(e.exposed={});Z.forEach(ke=>{Object.defineProperty(qe,ke,{get:()=>n[ke],set:Le=>n[ke]=Le})})}else e.exposed||(e.exposed={});Q&&e.render===Xa&&(e.render=Q),le!=null&&(e.inheritAttrs=le),ne&&(e.components=ne),ve&&(e.directives=ve)}function nO(e,t,n=Xa){gn(e)&&(e=cb(e));for(const r in e){const s=e[r];let u;Mr(s)?"default"in s?u=vt(s.from||r,s.default,!0):u=vt(s.from||r):u=vt(s),xr(u)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:h=>u.value=h}):t[r]=u}}function pS(e,t,n){bs(gn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function bT(e,t,n,r){const s=r.includes(".")?dT(n,r):()=>n[r];if(ai(e)){const u=t[e];wn(u)&&ot(s,u)}else if(wn(e))ot(s,e.bind(n));else if(Mr(e))if(gn(e))e.forEach(u=>bT(u,t,n,r));else{const u=wn(e.handler)?e.handler.bind(n):t[e.handler];wn(u)&&ot(s,u,e)}}function R0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:u,config:{optionMergeStrategies:h}}=e.appContext,o=u.get(t);let p;return o?p=o:!s.length&&!n&&!r?p=t:(p={},s.length&&s.forEach(y=>kg(p,y,h,!0)),kg(p,t,h)),Mr(t)&&u.set(t,p),p}function kg(e,t,n,r=!1){const{mixins:s,extends:u}=t;u&&kg(e,u,n,!0),s&&s.forEach(h=>kg(e,h,n,!0));for(const h in t)if(!(r&&h==="expose")){const o=rO[h]||n&&n[h];e[h]=o?o(e[h],t[h]):t[h]}return e}const rO={data:gS,props:vS,emits:vS,methods:ff,computed:ff,beforeCreate:ka,created:ka,beforeMount:ka,mounted:ka,beforeUpdate:ka,updated:ka,beforeDestroy:ka,beforeUnmount:ka,destroyed:ka,unmounted:ka,activated:ka,deactivated:ka,errorCaptured:ka,serverPrefetch:ka,components:ff,directives:ff,watch:aO,provide:gS,inject:iO};function gS(e,t){return t?e?function(){return _i(wn(e)?e.call(this,this):e,wn(t)?t.call(this,this):t)}:t:e}function iO(e,t){return ff(cb(e),cb(t))}function cb(e){if(gn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ka(e,t){return e?[...new Set([].concat(e,t))]:t}function ff(e,t){return e?_i(Object.create(null),e,t):t}function vS(e,t){return e?gn(e)&&gn(t)?[...new Set([...e,...t])]:_i(Object.create(null),mS(e),mS(t??{})):t}function aO(e,t){if(!e)return t;if(!t)return e;const n=_i(Object.create(null),e);for(const r in t)n[r]=ka(e[r],t[r]);return n}function xT(){return{app:null,config:{isNativeTag:VL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sO=0;function oO(e,t){return function(r,s=null){wn(r)||(r=_i({},r)),s!=null&&!Mr(s)&&(s=null);const u=xT(),h=new WeakSet;let o=!1;const p=u.app={_uid:sO++,_component:r,_props:s,_container:null,_context:u,_instance:null,version:DO,get config(){return u.config},set config(y){},use(y,...b){return h.has(y)||(y&&wn(y.install)?(h.add(y),y.install(p,...b)):wn(y)&&(h.add(y),y(p,...b))),p},mixin(y){return u.mixins.includes(y)||u.mixins.push(y),p},component(y,b){return b?(u.components[y]=b,p):u.components[y]},directive(y,b){return b?(u.directives[y]=b,p):u.directives[y]},mount(y,b,C){if(!o){const k=T(r,s);return k.appContext=u,C===!0?C="svg":C===!1&&(C=void 0),b&&t?t(k,y):e(k,y,C),o=!0,p._container=y,y.__vue_app__=p,cv(k.component)||k.component.proxy}},unmount(){o&&(e(null,p._container),delete p._container.__vue_app__)},provide(y,b){return u.provides[y]=b,p},runWithContext(y){const b=yf;yf=p;try{return y()}finally{yf=b}}};return p}}let yf=null;function _n(e,t){if(Gi){let n=Gi.provides;const r=Gi.parent&&Gi.parent.provides;r===n&&(n=Gi.provides=Object.create(r)),n[e]=t}}function vt(e,t,n=!1){const r=Gi||Ca;if(r||yf){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:yf._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&wn(t)?t.call(r&&r.proxy):t}}const wT={},ST=()=>Object.create(wT),kT=e=>Object.getPrototypeOf(e)===wT;function lO(e,t,n,r=!1){const s={},u=ST();e.propsDefaults=Object.create(null),CT(e,t,s,u);for(const h in e.propsOptions[0])h in s||(s[h]=void 0);n?e.props=r?s:J2(s):e.type.props?e.props=s:e.props=u,e.attrs=u}function cO(e,t,n,r){const{props:s,attrs:u,vnode:{patchFlag:h}}=e,o=bn(s),[p]=e.propsOptions;let y=!1;if((r||h>0)&&!(h&16)){if(h&8){const b=e.vnode.dynamicProps;for(let C=0;C<b.length;C++){let k=b[C];if(av(e.emitsOptions,k))continue;const I=t[k];if(p)if(Qn(u,k))I!==u[k]&&(u[k]=I,y=!0);else{const R=ws(k);s[R]=ub(p,o,R,I,e,!1)}else I!==u[k]&&(u[k]=I,y=!0)}}}else{CT(e,t,s,u)&&(y=!0);let b;for(const C in o)(!t||!Qn(t,C)&&((b=Rd(C))===C||!Qn(t,b)))&&(p?n&&(n[C]!==void 0||n[b]!==void 0)&&(s[C]=ub(p,o,C,void 0,e,!0)):delete s[C]);if(u!==o)for(const C in u)(!t||!Qn(t,C))&&(delete u[C],y=!0)}y&&ll(e.attrs,"set","")}function CT(e,t,n,r){const[s,u]=e.propsOptions;let h=!1,o;if(t)for(let p in t){if(pf(p))continue;const y=t[p];let b;s&&Qn(s,b=ws(p))?!u||!u.includes(b)?n[b]=y:(o||(o={}))[b]=y:av(e.emitsOptions,p)||(!(p in r)||y!==r[p])&&(r[p]=y,h=!0)}if(u){const p=bn(n),y=o||Br;for(let b=0;b<u.length;b++){const C=u[b];n[C]=ub(s,p,C,y[C],e,!Qn(y,C))}}return h}function ub(e,t,n,r,s,u){const h=e[n];if(h!=null){const o=Qn(h,"default");if(o&&r===void 0){const p=h.default;if(h.type!==Function&&!h.skipFactory&&wn(p)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const b=sm(s);r=y[n]=p.call(null,t),b()}}else r=p}h[0]&&(u&&!o?r=!1:h[1]&&(r===""||r===Rd(n))&&(r=!0))}return r}function TT(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const u=e.props,h={},o=[];let p=!1;if(!wn(e)){const b=C=>{p=!0;const[k,I]=TT(C,t,!0);_i(h,k),I&&o.push(...I)};!n&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!u&&!p)return Mr(e)&&r.set(e,yd),yd;if(gn(u))for(let b=0;b<u.length;b++){const C=ws(u[b]);yS(C)&&(h[C]=Br)}else if(u)for(const b in u){const C=ws(b);if(yS(C)){const k=u[b],I=h[C]=gn(k)||wn(k)?{type:k}:_i({},k);if(I){const R=xS(Boolean,I.type),L=xS(String,I.type);I[0]=R>-1,I[1]=L<0||R<L,(R>-1||Qn(I,"default"))&&o.push(C)}}}const y=[h,o];return Mr(e)&&r.set(e,y),y}function yS(e){return e[0]!=="$"&&!pf(e)}function _S(e){return e===null?"null":typeof e=="function"?e.name||"":typeof e=="object"&&e.constructor&&e.constructor.name||""}function bS(e,t){return _S(e)===_S(t)}function xS(e,t){return gn(t)?t.findIndex(n=>bS(n,e)):wn(t)&&bS(t,e)?0:-1}const AT=e=>e[0]==="_"||e==="$stable",O0=e=>gn(e)?e.map(Gs):[Gs(e)],uO=(e,t,n)=>{if(t._n)return t;const r=De((...s)=>O0(t(...s)),n);return r._c=!1,r},ET=(e,t,n)=>{const r=e._ctx;for(const s in e){if(AT(s))continue;const u=e[s];if(wn(u))t[s]=uO(s,u,r);else if(u!=null){const h=O0(u);t[s]=()=>h}}},IT=(e,t)=>{const n=O0(t);e.slots.default=()=>n},dO=(e,t)=>{const n=e.slots=ST();if(e.vnode.shapeFlag&32){const r=t._;r?(_i(n,t),O2(n,"_",r,!0)):ET(t,n)}else t&&IT(e,t)},hO=(e,t,n)=>{const{vnode:r,slots:s}=e;let u=!0,h=Br;if(r.shapeFlag&32){const o=t._;o?n&&o===1?u=!1:(_i(s,t),!n&&o===1&&delete s._):(u=!t.$stable,ET(t,s)),h=t}else t&&(IT(e,t),h={default:1});if(u)for(const o in s)!AT(o)&&h[o]==null&&delete s[o]};function db(e,t,n,r,s=!1){if(gn(e)){e.forEach((k,I)=>db(k,t&&(gn(t)?t[I]:t),n,r,s));return}if(ig(r)&&!s)return;const u=r.shapeFlag&4?cv(r.component)||r.component.proxy:r.el,h=s?null:u,{i:o,r:p}=e,y=t&&t.r,b=o.refs===Br?o.refs={}:o.refs,C=o.setupState;if(y!=null&&y!==p&&(ai(y)?(b[y]=null,Qn(C,y)&&(C[y]=null)):xr(y)&&(y.value=null)),wn(p))ac(p,o,12,[h,b]);else{const k=ai(p),I=xr(p);if(k||I){const R=()=>{if(e.f){const L=k?Qn(C,p)?C[p]:b[p]:p.value;s?gn(L)&&m0(L,u):gn(L)?L.includes(u)||L.push(u):k?(b[p]=[u],Qn(C,p)&&(C[p]=b[p])):(p.value=[u],e.k&&(b[e.k]=p.value))}else k?(b[p]=h,Qn(C,p)&&(C[p]=h)):I&&(p.value=h,e.k&&(b[e.k]=h))};h?(R.id=-1,Fa(R,n)):R()}}}const Fa=UR;function fO(e){return mO(e)}function mO(e,t){const n=z2();n.__VUE__=!0;const{insert:r,remove:s,patchProp:u,createElement:h,createText:o,createComment:p,setText:y,setElementText:b,parentNode:C,nextSibling:k,setScopeId:I=Xa,insertStaticContent:R}=e,L=(ae,me,Be,Ye=null,Xe=null,pt=null,xt=void 0,Ce=null,yt=!!me.dynamicChildren)=>{if(ae===me)return;ae&&!xo(ae,me)&&(Ye=Ne(ae),Ue(ae,Xe,pt,!0),ae=null),me.patchFlag===-2&&(yt=!1,me.dynamicChildren=null);const{type:Qe,ref:lt,shapeFlag:Et}=me;switch(Qe){case am:F(ae,me,Be,Ye);break;case Ta:B(ae,me,Be,Ye);break;case d_:ae==null&&q(me,Be,Ye,xt);break;case Ht:ne(ae,me,Be,Ye,Xe,pt,xt,Ce,yt);break;default:Et&1?Q(ae,me,Be,Ye,Xe,pt,xt,Ce,yt):Et&6?ve(ae,me,Be,Ye,Xe,pt,xt,Ce,yt):(Et&64||Et&128)&&Qe.process(ae,me,Be,Ye,Xe,pt,xt,Ce,yt,$e)}lt!=null&&Xe&&db(lt,ae&&ae.ref,pt,me||ae,!me)},F=(ae,me,Be,Ye)=>{if(ae==null)r(me.el=o(me.children),Be,Ye);else{const Xe=me.el=ae.el;me.children!==ae.children&&y(Xe,me.children)}},B=(ae,me,Be,Ye)=>{ae==null?r(me.el=p(me.children||""),Be,Ye):me.el=ae.el},q=(ae,me,Be,Ye)=>{[ae.el,ae.anchor]=R(ae.children,me,Be,Ye,ae.el,ae.anchor)},K=({el:ae,anchor:me},Be,Ye)=>{let Xe;for(;ae&&ae!==me;)Xe=k(ae),r(ae,Be,Ye),ae=Xe;r(me,Be,Ye)},se=({el:ae,anchor:me})=>{let Be;for(;ae&&ae!==me;)Be=k(ae),s(ae),ae=Be;s(me)},Q=(ae,me,Be,Ye,Xe,pt,xt,Ce,yt)=>{me.type==="svg"?xt="svg":me.type==="math"&&(xt="mathml"),ae==null?ee(me,Be,Ye,Xe,pt,xt,Ce,yt):j(ae,me,Xe,pt,xt,Ce,yt)},ee=(ae,me,Be,Ye,Xe,pt,xt,Ce)=>{let yt,Qe;const{props:lt,shapeFlag:Et,transition:It,dirs:an}=ae;if(yt=ae.el=h(ae.type,pt,lt&&lt.is,lt),Et&8?b(yt,ae.children):Et&16&&H(ae.children,yt,null,Ye,Xe,u_(ae,pt),xt,Ce),an&&zc(ae,null,Ye,"created"),re(yt,ae,ae.scopeId,xt,Ye),lt){for(const An in lt)An!=="value"&&!pf(An)&&u(yt,An,null,lt[An],pt,ae.children,Ye,Xe,Tt);"value"in lt&&u(yt,"value",null,lt.value,pt),(Qe=lt.onVnodeBeforeMount)&&yo(Qe,Ye,ae)}an&&zc(ae,null,Ye,"beforeMount");const ln=pO(Xe,It);ln&&It.beforeEnter(yt),r(yt,me,Be),((Qe=lt&&lt.onVnodeMounted)||ln||an)&&Fa(()=>{Qe&&yo(Qe,Ye,ae),ln&&It.enter(yt),an&&zc(ae,null,Ye,"mounted")},Xe)},re=(ae,me,Be,Ye,Xe)=>{if(Be&&I(ae,Be),Ye)for(let pt=0;pt<Ye.length;pt++)I(ae,Ye[pt]);if(Xe){let pt=Xe.subTree;if(me===pt){const xt=Xe.vnode;re(ae,xt,xt.scopeId,xt.slotScopeIds,Xe.parent)}}},H=(ae,me,Be,Ye,Xe,pt,xt,Ce,yt=0)=>{for(let Qe=yt;Qe<ae.length;Qe++){const lt=ae[Qe]=Ce?Xl(ae[Qe]):Gs(ae[Qe]);L(null,lt,me,Be,Ye,Xe,pt,xt,Ce)}},j=(ae,me,Be,Ye,Xe,pt,xt)=>{const Ce=me.el=ae.el;let{patchFlag:yt,dynamicChildren:Qe,dirs:lt}=me;yt|=ae.patchFlag&16;const Et=ae.props||Br,It=me.props||Br;let an;if(Be&&Bc(Be,!1),(an=It.onVnodeBeforeUpdate)&&yo(an,Be,me,ae),lt&&zc(me,ae,Be,"beforeUpdate"),Be&&Bc(Be,!0),Qe?Z(ae.dynamicChildren,Qe,Ce,Be,Ye,u_(me,Xe),pt):xt||ke(ae,me,Ce,null,Be,Ye,u_(me,Xe),pt,!1),yt>0){if(yt&16)le(Ce,me,Et,It,Be,Ye,Xe);else if(yt&2&&Et.class!==It.class&&u(Ce,"class",null,It.class,Xe),yt&4&&u(Ce,"style",Et.style,It.style,Xe),yt&8){const ln=me.dynamicProps;for(let An=0;An<ln.length;An++){const In=ln[An],Nn=Et[In],ur=It[In];(ur!==Nn||In==="value")&&u(Ce,In,Nn,ur,Xe,ae.children,Be,Ye,Tt)}}yt&1&&ae.children!==me.children&&b(Ce,me.children)}else!xt&&Qe==null&&le(Ce,me,Et,It,Be,Ye,Xe);((an=It.onVnodeUpdated)||lt)&&Fa(()=>{an&&yo(an,Be,me,ae),lt&&zc(me,ae,Be,"updated")},Ye)},Z=(ae,me,Be,Ye,Xe,pt,xt)=>{for(let Ce=0;Ce<me.length;Ce++){const yt=ae[Ce],Qe=me[Ce],lt=yt.el&&(yt.type===Ht||!xo(yt,Qe)||yt.shapeFlag&70)?C(yt.el):Be;L(yt,Qe,lt,null,Ye,Xe,pt,xt,!0)}},le=(ae,me,Be,Ye,Xe,pt,xt)=>{if(Be!==Ye){if(Be!==Br)for(const Ce in Be)!pf(Ce)&&!(Ce in Ye)&&u(ae,Ce,Be[Ce],null,xt,me.children,Xe,pt,Tt);for(const Ce in Ye){if(pf(Ce))continue;const yt=Ye[Ce],Qe=Be[Ce];yt!==Qe&&Ce!=="value"&&u(ae,Ce,Qe,yt,xt,me.children,Xe,pt,Tt)}"value"in Ye&&u(ae,"value",Be.value,Ye.value,xt)}},ne=(ae,me,Be,Ye,Xe,pt,xt,Ce,yt)=>{const Qe=me.el=ae?ae.el:o(""),lt=me.anchor=ae?ae.anchor:o("");let{patchFlag:Et,dynamicChildren:It,slotScopeIds:an}=me;an&&(Ce=Ce?Ce.concat(an):an),ae==null?(r(Qe,Be,Ye),r(lt,Be,Ye),H(me.children||[],Be,lt,Xe,pt,xt,Ce,yt)):Et>0&&Et&64&&It&&ae.dynamicChildren?(Z(ae.dynamicChildren,It,Be,Xe,pt,xt,Ce),(me.key!=null||Xe&&me===Xe.subTree)&&F0(ae,me,!0)):ke(ae,me,Be,lt,Xe,pt,xt,Ce,yt)},ve=(ae,me,Be,Ye,Xe,pt,xt,Ce,yt)=>{me.slotScopeIds=Ce,ae==null?me.shapeFlag&512?Xe.ctx.activate(me,Be,Ye,xt,yt):fe(me,Be,Ye,Xe,pt,xt,yt):Ie(ae,me,yt)},fe=(ae,me,Be,Ye,Xe,pt,xt)=>{const Ce=ae.component=kO(ae,Ye,Xe);if(sv(ae)&&(Ce.ctx.renderer=$e),CO(Ce),Ce.asyncDep){if(Xe&&Xe.registerDep(Ce,Ae),!ae.el){const yt=Ce.subTree=T(Ta);B(null,yt,me,Be)}}else Ae(Ce,ae,me,Be,Xe,pt,xt)},Ie=(ae,me,Be)=>{const Ye=me.component=ae.component;if(DR(ae,me,Be))if(Ye.asyncDep&&!Ye.asyncResolved){qe(Ye,me,Be);return}else Ye.next=me,CR(Ye.update),Ye.effect.dirty=!0,Ye.update();else me.el=ae.el,Ye.vnode=me},Ae=(ae,me,Be,Ye,Xe,pt,xt)=>{const Ce=()=>{if(ae.isMounted){let{next:lt,bu:Et,u:It,parent:an,vnode:ln}=ae;{const gt=PT(ae);if(gt){lt&&(lt.el=ln.el,qe(ae,lt,xt)),gt.asyncDep.then(()=>{ae.isUnmounted||Ce()});return}}let An=lt,In;Bc(ae,!1),lt?(lt.el=ln.el,qe(ae,lt,xt)):lt=ln,Et&&ng(Et),(In=lt.props&&lt.props.onVnodeBeforeUpdate)&&yo(In,an,lt,ln),Bc(ae,!0);const Nn=o_(ae),ur=ae.subTree;ae.subTree=Nn,L(ur,Nn,C(ur.el),Ne(ur),ae,Xe,pt),lt.el=Nn.el,An===null&&T0(ae,Nn.el),It&&Fa(It,Xe),(In=lt.props&&lt.props.onVnodeUpdated)&&Fa(()=>yo(In,an,lt,ln),Xe)}else{let lt;const{el:Et,props:It}=me,{bm:an,m:ln,parent:An}=ae,In=ig(me);if(Bc(ae,!1),an&&ng(an),!In&&(lt=It&&It.onVnodeBeforeMount)&&yo(lt,An,me),Bc(ae,!0),Et&&$t){const Nn=()=>{ae.subTree=o_(ae),$t(Et,ae.subTree,ae,Xe,null)};In?me.type.__asyncLoader().then(()=>!ae.isUnmounted&&Nn()):Nn()}else{const Nn=ae.subTree=o_(ae);L(null,Nn,Be,Ye,ae,Xe,pt),me.el=Nn.el}if(ln&&Fa(ln,Xe),!In&&(lt=It&&It.onVnodeMounted)){const Nn=me;Fa(()=>yo(lt,An,Nn),Xe)}(me.shapeFlag&256||An&&ig(An.vnode)&&An.vnode.shapeFlag&256)&&ae.a&&Fa(ae.a,Xe),ae.isMounted=!0,me=Be=Ye=null}},yt=ae.effect=new v0(Ce,Xa,()=>C0(Qe),ae.scope),Qe=ae.update=()=>{yt.dirty&&yt.run()};Qe.id=ae.uid,Bc(ae,!0),Qe()},qe=(ae,me,Be)=>{me.component=ae;const Ye=ae.vnode.props;ae.vnode=me,ae.next=null,cO(ae,me.props,Ye,Be),hO(ae,me.children,Be),dc(),cS(ae),hc()},ke=(ae,me,Be,Ye,Xe,pt,xt,Ce,yt=!1)=>{const Qe=ae&&ae.children,lt=ae?ae.shapeFlag:0,Et=me.children,{patchFlag:It,shapeFlag:an}=me;if(It>0){if(It&128){Ve(Qe,Et,Be,Ye,Xe,pt,xt,Ce,yt);return}else if(It&256){Le(Qe,Et,Be,Ye,Xe,pt,xt,Ce,yt);return}}an&8?(lt&16&&Tt(Qe,Xe,pt),Et!==Qe&&b(Be,Et)):lt&16?an&16?Ve(Qe,Et,Be,Ye,Xe,pt,xt,Ce,yt):Tt(Qe,Xe,pt,!0):(lt&8&&b(Be,""),an&16&&H(Et,Be,Ye,Xe,pt,xt,Ce,yt))},Le=(ae,me,Be,Ye,Xe,pt,xt,Ce,yt)=>{ae=ae||yd,me=me||yd;const Qe=ae.length,lt=me.length,Et=Math.min(Qe,lt);let It;for(It=0;It<Et;It++){const an=me[It]=yt?Xl(me[It]):Gs(me[It]);L(ae[It],an,Be,null,Xe,pt,xt,Ce,yt)}Qe>lt?Tt(ae,Xe,pt,!0,!1,Et):H(me,Be,Ye,Xe,pt,xt,Ce,yt,Et)},Ve=(ae,me,Be,Ye,Xe,pt,xt,Ce,yt)=>{let Qe=0;const lt=me.length;let Et=ae.length-1,It=lt-1;for(;Qe<=Et&&Qe<=It;){const an=ae[Qe],ln=me[Qe]=yt?Xl(me[Qe]):Gs(me[Qe]);if(xo(an,ln))L(an,ln,Be,null,Xe,pt,xt,Ce,yt);else break;Qe++}for(;Qe<=Et&&Qe<=It;){const an=ae[Et],ln=me[It]=yt?Xl(me[It]):Gs(me[It]);if(xo(an,ln))L(an,ln,Be,null,Xe,pt,xt,Ce,yt);else break;Et--,It--}if(Qe>Et){if(Qe<=It){const an=It+1,ln=an<lt?me[an].el:Ye;for(;Qe<=It;)L(null,me[Qe]=yt?Xl(me[Qe]):Gs(me[Qe]),Be,ln,Xe,pt,xt,Ce,yt),Qe++}}else if(Qe>It)for(;Qe<=Et;)Ue(ae[Qe],Xe,pt,!0),Qe++;else{const an=Qe,ln=Qe,An=new Map;for(Qe=ln;Qe<=It;Qe++){const dr=me[Qe]=yt?Xl(me[Qe]):Gs(me[Qe]);dr.key!=null&&An.set(dr.key,Qe)}let In,Nn=0;const ur=It-ln+1;let gt=!1,xi=0;const kn=new Array(ur);for(Qe=0;Qe<ur;Qe++)kn[Qe]=0;for(Qe=an;Qe<=Et;Qe++){const dr=ae[Qe];if(Nn>=ur){Ue(dr,Xe,pt,!0);continue}let Ct;if(dr.key!=null)Ct=An.get(dr.key);else for(In=ln;In<=It;In++)if(kn[In-ln]===0&&xo(dr,me[In])){Ct=In;break}Ct===void 0?Ue(dr,Xe,pt,!0):(kn[Ct-ln]=Qe+1,Ct>=xi?xi=Ct:gt=!0,L(dr,me[Ct],Be,null,Xe,pt,xt,Ce,yt),Nn++)}const fa=gt?gO(kn):yd;for(In=fa.length-1,Qe=ur-1;Qe>=0;Qe--){const dr=ln+Qe,Ct=me[dr],vn=dr+1<lt?me[dr+1].el:Ye;kn[Qe]===0?L(null,Ct,Be,vn,Xe,pt,xt,Ce,yt):gt&&(In<0||Qe!==fa[In]?Je(Ct,Be,vn,2):In--)}}},Je=(ae,me,Be,Ye,Xe=null)=>{const{el:pt,type:xt,transition:Ce,children:yt,shapeFlag:Qe}=ae;if(Qe&6){Je(ae.component.subTree,me,Be,Ye);return}if(Qe&128){ae.suspense.move(me,Be,Ye);return}if(Qe&64){xt.move(ae,me,Be,$e);return}if(xt===Ht){r(pt,me,Be);for(let Et=0;Et<yt.length;Et++)Je(yt[Et],me,Be,Ye);r(ae.anchor,me,Be);return}if(xt===d_){K(ae,me,Be);return}if(Ye!==2&&Qe&1&&Ce)if(Ye===0)Ce.beforeEnter(pt),r(pt,me,Be),Fa(()=>Ce.enter(pt),Xe);else{const{leave:Et,delayLeave:It,afterLeave:an}=Ce,ln=()=>r(pt,me,Be),An=()=>{Et(pt,()=>{ln(),an&&an()})};It?It(pt,ln,An):An()}else r(pt,me,Be)},Ue=(ae,me,Be,Ye=!1,Xe=!1)=>{const{type:pt,props:xt,ref:Ce,children:yt,dynamicChildren:Qe,shapeFlag:lt,patchFlag:Et,dirs:It}=ae;if(Ce!=null&&db(Ce,null,Be,ae,!0),lt&256){me.ctx.deactivate(ae);return}const an=lt&1&&It,ln=!ig(ae);let An;if(ln&&(An=xt&&xt.onVnodeBeforeUnmount)&&yo(An,me,ae),lt&6)mt(ae.component,Be,Ye);else{if(lt&128){ae.suspense.unmount(Be,Ye);return}an&&zc(ae,null,me,"beforeUnmount"),lt&64?ae.type.remove(ae,me,Be,Xe,$e,Ye):Qe&&(pt!==Ht||Et>0&&Et&64)?Tt(Qe,me,Be,!1,!0):(pt===Ht&&Et&384||!Xe&&lt&16)&&Tt(yt,me,Be),Ye&&ct(ae)}(ln&&(An=xt&&xt.onVnodeUnmounted)||an)&&Fa(()=>{An&&yo(An,me,ae),an&&zc(ae,null,me,"unmounted")},Be)},ct=ae=>{const{type:me,el:Be,anchor:Ye,transition:Xe}=ae;if(me===Ht){Lt(Be,Ye);return}if(me===d_){se(ae);return}const pt=()=>{s(Be),Xe&&!Xe.persisted&&Xe.afterLeave&&Xe.afterLeave()};if(ae.shapeFlag&1&&Xe&&!Xe.persisted){const{leave:xt,delayLeave:Ce}=Xe,yt=()=>xt(Be,pt);Ce?Ce(ae.el,pt,yt):yt()}else pt()},Lt=(ae,me)=>{let Be;for(;ae!==me;)Be=k(ae),s(ae),ae=Be;s(me)},mt=(ae,me,Be)=>{const{bum:Ye,scope:Xe,update:pt,subTree:xt,um:Ce}=ae;Ye&&ng(Ye),Xe.stop(),pt&&(pt.active=!1,Ue(xt,ae,me,Be)),Ce&&Fa(Ce,me),Fa(()=>{ae.isUnmounted=!0},me),me&&me.pendingBranch&&!me.isUnmounted&&ae.asyncDep&&!ae.asyncResolved&&ae.suspenseId===me.pendingId&&(me.deps--,me.deps===0&&me.resolve())},Tt=(ae,me,Be,Ye=!1,Xe=!1,pt=0)=>{for(let xt=pt;xt<ae.length;xt++)Ue(ae[xt],me,Be,Ye,Xe)},Ne=ae=>ae.shapeFlag&6?Ne(ae.component.subTree):ae.shapeFlag&128?ae.suspense.next():k(ae.anchor||ae.el);let st=!1;const He=(ae,me,Be)=>{ae==null?me._vnode&&Ue(me._vnode,null,null,!0):L(me._vnode||null,ae,me,null,null,null,Be),st||(st=!0,cS(),oT(),st=!1),me._vnode=ae},$e={p:L,um:Ue,m:Je,r:ct,mt:fe,mc:H,pc:ke,pbc:Z,n:Ne,o:e};let kt,$t;return{render:He,hydrate:kt,createApp:oO(He,kt)}}function u_({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Bc({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function pO(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function F0(e,t,n=!1){const r=e.children,s=t.children;if(gn(r)&&gn(s))for(let u=0;u<r.length;u++){const h=r[u];let o=s[u];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[u]=Xl(s[u]),o.el=h.el),n||F0(h,o)),o.type===am&&(o.el=h.el)}}function gO(e){const t=e.slice(),n=[0];let r,s,u,h,o;const p=e.length;for(r=0;r<p;r++){const y=e[r];if(y!==0){if(s=n[n.length-1],e[s]<y){t[r]=s,n.push(r);continue}for(u=0,h=n.length-1;u<h;)o=u+h>>1,e[n[o]]<y?u=o+1:h=o;y<e[n[u]]&&(u>0&&(t[r]=n[u-1]),n[u]=r)}}for(u=n.length,h=n[u-1];u-- >0;)n[u]=h,h=t[h];return n}function PT(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:PT(t)}const vO=e=>e.__isTeleport,_f=e=>e&&(e.disabled||e.disabled===""),wS=e=>typeof SVGElement<"u"&&e instanceof SVGElement,SS=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,hb=(e,t)=>{const n=e&&e.to;return ai(n)?t?t(n):null:n},yO={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,u,h,o,p,y){const{mc:b,pc:C,pbc:k,o:{insert:I,querySelector:R,createText:L,createComment:F}}=y,B=_f(t.props);let{shapeFlag:q,children:K,dynamicChildren:se}=t;if(e==null){const Q=t.el=L(""),ee=t.anchor=L("");I(Q,n,r),I(ee,n,r);const re=t.target=hb(t.props,R),H=t.targetAnchor=L("");re&&(I(H,re),h==="svg"||wS(re)?h="svg":(h==="mathml"||SS(re))&&(h="mathml"));const j=(Z,le)=>{q&16&&b(K,Z,le,s,u,h,o,p)};B?j(n,ee):re&&j(re,H)}else{t.el=e.el;const Q=t.anchor=e.anchor,ee=t.target=e.target,re=t.targetAnchor=e.targetAnchor,H=_f(e.props),j=H?n:ee,Z=H?Q:re;if(h==="svg"||wS(ee)?h="svg":(h==="mathml"||SS(ee))&&(h="mathml"),se?(k(e.dynamicChildren,se,j,s,u,h,o),F0(e,t,!0)):p||C(e,t,j,Z,s,u,h,o,!1),B)H?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):qp(t,n,Q,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const le=t.target=hb(t.props,R);le&&qp(t,le,null,y,0)}else H&&qp(t,ee,re,y,1)}DT(t)},remove(e,t,n,r,{um:s,o:{remove:u}},h){const{shapeFlag:o,children:p,anchor:y,targetAnchor:b,target:C,props:k}=e;if(C&&u(b),h&&u(y),o&16){const I=h||!_f(k);for(let R=0;R<p.length;R++){const L=p[R];s(L,t,n,I,!!L.dynamicChildren)}}},move:qp,hydrate:_O};function qp(e,t,n,{o:{insert:r},m:s},u=2){u===0&&r(e.targetAnchor,t,n);const{el:h,anchor:o,shapeFlag:p,children:y,props:b}=e,C=u===2;if(C&&r(h,t,n),(!C||_f(b))&&p&16)for(let k=0;k<y.length;k++)s(y[k],t,n,2);C&&r(o,t,n)}function _O(e,t,n,r,s,u,{o:{nextSibling:h,parentNode:o,querySelector:p}},y){const b=t.target=hb(t.props,p);if(b){const C=b._lpa||b.firstChild;if(t.shapeFlag&16)if(_f(t.props))t.anchor=y(h(e),t,o(e),n,r,s,u),t.targetAnchor=C;else{t.anchor=h(e);let k=C;for(;k;)if(k=h(k),k&&k.nodeType===8&&k.data==="teleport anchor"){t.targetAnchor=k,b._lpa=t.targetAnchor&&h(t.targetAnchor);break}y(C,t,b,n,r,s,u)}DT(t)}return t.anchor&&h(t.anchor)}const z0=yO;function DT(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Ht=Symbol.for("v-fgt"),am=Symbol.for("v-txt"),Ta=Symbol.for("v-cmt"),d_=Symbol.for("v-stc"),bf=[];let vs=null;function fn(e=!1){bf.push(vs=e?null:[])}function MT(){bf.pop(),vs=bf[bf.length-1]||null}let Td=1;function kS(e){Td+=e}function LT(e){return e.dynamicChildren=Td>0?vs||yd:null,MT(),Td>0&&vs&&vs.push(e),e}function ys(e,t,n,r,s,u){return LT(rr(e,t,n,r,s,u,!0))}function Vn(e,t,n,r,s){return LT(T(e,t,n,r,s,!0))}function Mf(e){return e?e.__v_isVNode===!0:!1}function xo(e,t){return e.type===t.type&&e.key===t.key}const RT=({key:e})=>e??null,sg=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ai(e)||xr(e)||wn(e)?{i:Ca,r:e,k:t,f:!!n}:e:null);function rr(e,t=null,n=null,r=0,s=null,u=e===Ht?0:1,h=!1,o=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&RT(t),ref:t&&sg(t),scopeId:uT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ca};return o?(B0(p,n),u&128&&e.normalize(p)):n&&(p.shapeFlag|=ai(n)?8:16),Td>0&&!h&&vs&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&vs.push(p),p}const T=bO;function bO(e,t=null,n=null,r=0,s=null,u=!1){if((!e||e===LR)&&(e=Ta),Mf(e)){const o=dl(e,t,!0);return n&&B0(o,n),Td>0&&!u&&vs&&(o.shapeFlag&6?vs[vs.indexOf(e)]=o:vs.push(o)),o.patchFlag|=-2,o}if(PO(e)&&(e=e.__vccOpts),t){t=xO(t);let{class:o,style:p}=t;o&&!ai(o)&&(t.class=Oa(o)),Mr(p)&&(Q2(p)&&!gn(p)&&(p=_i({},p)),t.style=g0(p))}const h=ai(e)?1:OR(e)?128:vO(e)?64:Mr(e)?4:wn(e)?2:0;return rr(e,t,n,r,s,h,u,!0)}function xO(e){return e?Q2(e)||kT(e)?_i({},e):e:null}function dl(e,t,n=!1,r=!1){const{props:s,ref:u,patchFlag:h,children:o,transition:p}=e,y=t?it(s||{},t):s,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&RT(y),ref:t&&t.ref?n&&u?gn(u)?u.concat(sg(t)):[u,sg(t)]:sg(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ht?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dl(e.ssContent),ssFallback:e.ssFallback&&dl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&r&&(b.transition=p.clone(b)),b}function zt(e=" ",t=0){return T(am,null,e,t)}function Kn(e="",t=!1){return t?(fn(),Vn(Ta,null,e)):T(Ta,null,e)}function Gs(e){return e==null||typeof e=="boolean"?T(Ta):gn(e)?T(Ht,null,e.slice()):typeof e=="object"?Xl(e):T(am,null,String(e))}function Xl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dl(e)}function B0(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(gn(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),B0(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!kT(t)?t._ctx=Ca:s===3&&Ca&&(Ca.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else wn(t)?(t={default:t,_ctx:Ca},n=32):(t=String(t),r&64?(n=16,t=[zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function it(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Oa([t.class,r.class]));else if(s==="style")t.style=g0([t.style,r.style]);else if(ev(s)){const u=t[s],h=r[s];h&&u!==h&&!(gn(u)&&u.includes(h))&&(t[s]=u?[].concat(u,h):h)}else s!==""&&(t[s]=r[s])}return t}function yo(e,t,n,r=null){bs(e,t,7,[n,r])}const wO=xT();let SO=0;function kO(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||wO,u={uid:SO++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new N2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:TT(r,s),emitsOptions:cT(r,s),emit:null,emitted:null,propsDefaults:Br,inheritAttrs:r.inheritAttrs,ctx:Br,data:Br,props:Br,attrs:Br,slots:Br,refs:Br,setupState:Br,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=AR.bind(null,u),e.ce&&e.ce(u),u}let Gi=null;const Cs=()=>Gi||Ca;let Cg,fb;{const e=z2(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),u=>{s.length>1?s.forEach(h=>h(u)):s[0](u)}};Cg=t("__VUE_INSTANCE_SETTERS__",n=>Gi=n),fb=t("__VUE_SSR_SETTERS__",n=>lv=n)}const sm=e=>{const t=Gi;return Cg(e),e.scope.on(),()=>{e.scope.off(),Cg(t)}},CS=()=>{Gi&&Gi.scope.off(),Cg(null)};function OT(e){return e.vnode.shapeFlag&4}let lv=!1;function CO(e,t=!1){t&&fb(t);const{props:n,children:r}=e.vnode,s=OT(e);lO(e,n,s,t),dO(e,r);const u=s?TO(e,t):void 0;return t&&fb(!1),u}function TO(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,eO);const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?EO(e):null,u=sm(e);dc();const h=ac(r,e,0,[e.props,s]);if(hc(),u(),M2(h)){if(h.then(CS,CS),t)return h.then(o=>{mb(e,o,t)}).catch(o=>{im(o,e,0)});e.asyncDep=h}else mb(e,h,t)}else FT(e,t)}function mb(e,t,n){wn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Mr(t)&&(e.setupState=rT(t)),FT(e,n)}let TS;function FT(e,t,n){const r=e.type;if(!e.render){if(!t&&TS&&!r.render){const s=r.template||R0(e).template;if(s){const{isCustomElement:u,compilerOptions:h}=e.appContext.config,{delimiters:o,compilerOptions:p}=r,y=_i(_i({isCustomElement:u,delimiters:o},h),p);r.render=TS(s,y)}}e.render=r.render||Xa}{const s=sm(e);dc();try{tO(e)}finally{hc(),s()}}}const AO={get(e,t){return Va(e,"get",""),e[t]}};function EO(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,AO),slots:e.slots,emit:e.emit,expose:t}}function cv(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(rT(wg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in vf)return vf[n](e)},has(t,n){return n in t||n in vf}}))}function IO(e,t=!0){return wn(e)?e.displayName||e.name:e.name||t&&e.__name}function PO(e){return wn(e)&&"__vccOpts"in e}const Y=(e,t)=>yR(e,t,lv);function Xr(e,t,n){const r=arguments.length;return r===2?Mr(t)&&!gn(t)?Mf(t)?T(e,null,[t]):T(e,t):T(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mf(n)&&(n=[n]),T(e,t,n))}const DO="3.4.27",MO=Xa;/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const LO="http://www.w3.org/2000/svg",RO="http://www.w3.org/1998/Math/MathML",Jl=typeof document<"u"?document:null,AS=Jl&&Jl.createElement("template"),OO={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?Jl.createElementNS(LO,e):t==="mathml"?Jl.createElementNS(RO,e):Jl.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>Jl.createTextNode(e),createComment:e=>Jl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Jl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,u){const h=n?n.previousSibling:t.lastChild;if(s&&(s===u||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===u||!(s=s.nextSibling)););else{AS.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const o=AS.content;if(r==="svg"||r==="mathml"){const p=o.firstChild;for(;p.firstChild;)o.appendChild(p.firstChild);o.removeChild(p)}t.insertBefore(o,n)}return[h?h.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Hl="transition",sf="animation",Ad=Symbol("_vtc"),Ao=(e,{slots:t})=>Xr(YR,BT(e),t);Ao.displayName="Transition";const zT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},FO=Ao.props=_i({},fT,zT),Vc=(e,t=[])=>{gn(e)?e.forEach(n=>n(...t)):e&&e(...t)},ES=e=>e?gn(e)?e.some(t=>t.length>1):e.length>1:!1;function BT(e){const t={};for(const ne in e)ne in zT||(t[ne]=e[ne]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:u=`${n}-enter-from`,enterActiveClass:h=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:p=u,appearActiveClass:y=h,appearToClass:b=o,leaveFromClass:C=`${n}-leave-from`,leaveActiveClass:k=`${n}-leave-active`,leaveToClass:I=`${n}-leave-to`}=e,R=zO(s),L=R&&R[0],F=R&&R[1],{onBeforeEnter:B,onEnter:q,onEnterCancelled:K,onLeave:se,onLeaveCancelled:Q,onBeforeAppear:ee=B,onAppear:re=q,onAppearCancelled:H=K}=t,j=(ne,ve,fe)=>{Yl(ne,ve?b:o),Yl(ne,ve?y:h),fe&&fe()},Z=(ne,ve)=>{ne._isLeaving=!1,Yl(ne,C),Yl(ne,I),Yl(ne,k),ve&&ve()},le=ne=>(ve,fe)=>{const Ie=ne?re:q,Ae=()=>j(ve,ne,fe);Vc(Ie,[ve,Ae]),IS(()=>{Yl(ve,ne?p:u),rl(ve,ne?b:o),ES(Ie)||PS(ve,r,L,Ae)})};return _i(t,{onBeforeEnter(ne){Vc(B,[ne]),rl(ne,u),rl(ne,h)},onBeforeAppear(ne){Vc(ee,[ne]),rl(ne,p),rl(ne,y)},onEnter:le(!1),onAppear:le(!0),onLeave(ne,ve){ne._isLeaving=!0;const fe=()=>Z(ne,ve);rl(ne,C),rl(ne,k),NT(),IS(()=>{ne._isLeaving&&(Yl(ne,C),rl(ne,I),ES(se)||PS(ne,r,F,fe))}),Vc(se,[ne,fe])},onEnterCancelled(ne){j(ne,!1),Vc(K,[ne])},onAppearCancelled(ne){j(ne,!0),Vc(H,[ne])},onLeaveCancelled(ne){Z(ne),Vc(Q,[ne])}})}function zO(e){if(e==null)return null;if(Mr(e))return[h_(e.enter),h_(e.leave)];{const t=h_(e);return[t,t]}}function h_(e){return F2(e)}function rl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Ad]||(e[Ad]=new Set)).add(t)}function Yl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Ad];n&&(n.delete(t),n.size||(e[Ad]=void 0))}function IS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let BO=0;function PS(e,t,n,r){const s=e._endId=++BO,u=()=>{s===e._endId&&r()};if(n)return setTimeout(u,n);const{type:h,timeout:o,propCount:p}=VT(e,t);if(!h)return r();const y=h+"end";let b=0;const C=()=>{e.removeEventListener(y,k),u()},k=I=>{I.target===e&&++b>=p&&C()};setTimeout(()=>{b<p&&C()},o+1),e.addEventListener(y,k)}function VT(e,t){const n=window.getComputedStyle(e),r=R=>(n[R]||"").split(", "),s=r(`${Hl}Delay`),u=r(`${Hl}Duration`),h=DS(s,u),o=r(`${sf}Delay`),p=r(`${sf}Duration`),y=DS(o,p);let b=null,C=0,k=0;t===Hl?h>0&&(b=Hl,C=h,k=u.length):t===sf?y>0&&(b=sf,C=y,k=p.length):(C=Math.max(h,y),b=C>0?h>y?Hl:sf:null,k=b?b===Hl?u.length:p.length:0);const I=b===Hl&&/\b(transform|all)(,|$)/.test(r(`${Hl}Property`).toString());return{type:b,timeout:C,propCount:k,hasTransform:I}}function DS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>MS(n)+MS(e[r])))}function MS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function NT(){return document.body.offsetHeight}function VO(e,t,n){const r=e[Ad];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Tg=Symbol("_vod"),$T=Symbol("_vsh"),pl={beforeMount(e,{value:t},{transition:n}){e[Tg]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):of(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),of(e,!0),r.enter(e)):r.leave(e,()=>{of(e,!1)}):of(e,t))},beforeUnmount(e,{value:t}){of(e,t)}};function of(e,t){e.style.display=t?e[Tg]:"none",e[$T]=!t}const NO=Symbol(""),$O=/(^|;)\s*display\s*:/;function UO(e,t,n){const r=e.style,s=ai(n);let u=!1;if(n&&!s){if(t)if(ai(t))for(const h of t.split(";")){const o=h.slice(0,h.indexOf(":")).trim();n[o]==null&&og(r,o,"")}else for(const h in t)n[h]==null&&og(r,h,"");for(const h in n)h==="display"&&(u=!0),og(r,h,n[h])}else if(s){if(t!==n){const h=r[NO];h&&(n+=";"+h),r.cssText=n,u=$O.test(n)}}else t&&e.removeAttribute("style");Tg in e&&(e[Tg]=u?r.display:"",e[$T]&&(r.display="none"))}const LS=/\s*!important$/;function og(e,t,n){if(gn(n))n.forEach(r=>og(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=qO(e,t);LS.test(n)?e.setProperty(Rd(r),n.replace(LS,""),"important"):e[r]=n}}const RS=["Webkit","Moz","ms"],f_={};function qO(e,t){const n=f_[t];if(n)return n;let r=ws(t);if(r!=="filter"&&r in e)return f_[t]=r;r=Po(r);for(let s=0;s<RS.length;s++){const u=RS[s]+r;if(u in e)return f_[t]=u}return t}const OS="http://www.w3.org/1999/xlink";function jO(e,t,n,r,s){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(OS,t.slice(6,t.length)):e.setAttributeNS(OS,t,n);else{const u=ZL(t);n==null||u&&!B2(n)?e.removeAttribute(t):e.setAttribute(t,u?"":n)}}function HO(e,t,n,r,s,u,h){if(t==="innerHTML"||t==="textContent"){r&&h(r,s,u),e[t]=n??"";return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const y=o==="OPTION"?e.getAttribute("value")||"":e.value,b=n??"";(y!==b||!("_value"in e))&&(e.value=b),n==null&&e.removeAttribute(t),e._value=n;return}let p=!1;if(n===""||n==null){const y=typeof e[t];y==="boolean"?n=B2(n):n==null&&y==="string"?(n="",p=!0):y==="number"&&(n=0,p=!0)}try{e[t]=n}catch{}p&&e.removeAttribute(t)}function hd(e,t,n,r){e.addEventListener(t,n,r)}function GO(e,t,n,r){e.removeEventListener(t,n,r)}const FS=Symbol("_vei");function WO(e,t,n,r,s=null){const u=e[FS]||(e[FS]={}),h=u[t];if(r&&h)h.value=r;else{const[o,p]=YO(t);if(r){const y=u[t]=XO(r,s);hd(e,o,y,p)}else h&&(GO(e,o,h,p),u[t]=void 0)}}const zS=/(?:Once|Passive|Capture)$/;function YO(e){let t;if(zS.test(e)){t={};let r;for(;r=e.match(zS);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Rd(e.slice(2)),t]}let m_=0;const ZO=Promise.resolve(),KO=()=>m_||(ZO.then(()=>m_=0),m_=Date.now());function XO(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;bs(JO(r,n.value),t,5,[r])};return n.value=e,n.attached=KO(),n}function JO(e,t){if(gn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const BS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,QO=(e,t,n,r,s,u,h,o,p)=>{const y=s==="svg";t==="class"?VO(e,r,y):t==="style"?UO(e,n,r):ev(t)?f0(t)||WO(e,t,n,r,h):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):eF(e,t,r,y))?HO(e,t,r,u,h,o,p):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),jO(e,t,r,y))};function eF(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&BS(t)&&wn(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return BS(t)&&ai(n)?!1:t in e}const UT=new WeakMap,qT=new WeakMap,Ag=Symbol("_moveCb"),VS=Symbol("_enterCb"),jT={name:"TransitionGroup",props:_i({},FO,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Cs(),r=hT();let s,u;return L0(()=>{if(!s.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!aF(s[0].el,n.vnode.el,h))return;s.forEach(nF),s.forEach(rF);const o=s.filter(iF);NT(),o.forEach(p=>{const y=p.el,b=y.style;rl(y,h),b.transform=b.webkitTransform=b.transitionDuration="";const C=y[Ag]=k=>{k&&k.target!==y||(!k||/transform$/.test(k.propertyName))&&(y.removeEventListener("transitionend",C),y[Ag]=null,Yl(y,h))};y.addEventListener("transitionend",C)})}),()=>{const h=bn(e),o=BT(h);let p=h.tag||Ht;if(s=[],u)for(let y=0;y<u.length;y++){const b=u[y];b.el&&b.el instanceof Element&&(s.push(b),Df(b,Pf(b,o,r,n)),UT.set(b,b.el.getBoundingClientRect()))}u=t.default?D0(t.default()):[];for(let y=0;y<u.length;y++){const b=u[y];b.key!=null&&Df(b,Pf(b,o,r,n))}return T(p,null,u)}}},tF=e=>delete e.mode;jT.props;const V0=jT;function nF(e){const t=e.el;t[Ag]&&t[Ag](),t[VS]&&t[VS]()}function rF(e){qT.set(e,e.el.getBoundingClientRect())}function iF(e){const t=UT.get(e),n=qT.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${r}px,${s}px)`,u.transitionDuration="0s",e}}function aF(e,t,n){const r=e.cloneNode(),s=e[Ad];s&&s.forEach(o=>{o.split(/\s+/).forEach(p=>p&&r.classList.remove(p))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const u=t.nodeType===1?t:t.parentNode;u.appendChild(r);const{hasTransform:h}=VT(r);return u.removeChild(r),h}const NS=e=>{const t=e.props["onUpdate:modelValue"]||!1;return gn(t)?n=>ng(t,n):t};function sF(e){e.target.composing=!0}function $S(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const p_=Symbol("_assign"),oF={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[p_]=NS(s);const u=r||s.props&&s.props.type==="number";hd(e,t?"change":"input",h=>{if(h.target.composing)return;let o=e.value;n&&(o=o.trim()),u&&(o=eb(o)),e[p_](o)}),n&&hd(e,"change",()=>{e.value=e.value.trim()}),t||(hd(e,"compositionstart",sF),hd(e,"compositionend",$S),hd(e,"change",$S))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:s}},u){if(e[p_]=NS(u),e.composing)return;const h=(s||e.type==="number")&&!/^0\d/.test(e.value)?eb(e.value):e.value,o=t??"";h!==o&&(document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===o)||(e.value=o))}},lF=["ctrl","shift","alt","meta"],cF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>lF.some(n=>e[`${n}Key`]&&!t.includes(n))},pb=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...u)=>{for(let h=0;h<t.length;h++){const o=cF[t[h]];if(o&&o(s,t))return}return e(s,...u)})},uF=_i({patchProp:QO},OO);let US;function dF(){return US||(US=fO(uF))}const hF=(...e)=>{const t=dF().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=mF(r);if(!s)return;const u=t._component;!wn(u)&&!u.render&&!u.template&&(u.template=s.innerHTML),s.innerHTML="";const h=n(s,!1,fF(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),h},t};function fF(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function mF(e){return ai(e)?document.querySelector(e):e}function Ja(e,t){let n;function r(){n=rv(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}ot(e,s=>{s&&!n?r():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),da(()=>{n==null||n.stop()})}const pr=typeof window<"u",N0=pr&&"IntersectionObserver"in window,pF=pr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function qS(e,t,n){gF(e,t),t.set(e,n)}function gF(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vF(e,t,n){return e.set(HT(e,t),n),n}function Nc(e,t){return e.get(HT(e,t))}function HT(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function GT(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let s=0;s<r;s++){if(e==null)return n;e=e[t[s]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function gl(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>gl(e[r],t[r]))}function Lf(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),GT(e,t.split("."),n))}function zi(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const s=t(e,n);return typeof s>"u"?n:s}if(typeof t=="string")return Lf(e,t,n);if(Array.isArray(t))return GT(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function Ws(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function Gt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Eg(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function $0(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const jS=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),HS=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function WT(e){return Object.keys(e)}function g_(e,t){return t.every(n=>e.hasOwnProperty(n))}function YT(e,t){const n={},r=new Set(Object.keys(e));for(const s of t)r.has(s)&&(n[s]=e[s]);return n}function gb(e,t,n){const r=Object.create(null),s=Object.create(null);for(const u in e)t.some(h=>h instanceof RegExp?h.test(u):h===u)&&!(n!=null&&n.some(h=>h===u))?r[u]=e[u]:s[u]=e[u];return[r,s]}function Lr(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function ZT(e,t){const n={};return t.forEach(r=>n[r]=e[r]),n}const KT=/^on[^a-z]/,uv=e=>KT.test(e),yF=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function om(e){const[t,n]=gb(e,[KT]),r=Lr(t,yF),[s,u]=gb(n,["class","style","id",/^data-/]);return Object.assign(s,t),Object.assign(u,r),[s,u]}function Wr(e){return e==null?[]:Array.isArray(e)?e:[e]}function _F(e,t){let n=0;const r=function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];clearTimeout(n),n=setTimeout(()=>e(...u),Vr(t))};return r.clear=()=>{clearTimeout(n)},r.immediate=e,r}function la(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function GS(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function WS(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function YS(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function bF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function xF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}function ZS(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<n.length-1;)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function oa(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in e)r[s]=e[s];for(const s in t){const u=e[s],h=t[s];if(Eg(u)&&Eg(h)){r[s]=oa(u,h,n);continue}if(Array.isArray(u)&&Array.isArray(h)&&n){r[s]=n(u,h);continue}r[s]=h}return r}function XT(e){return e.map(t=>t.type===Ht?XT(t.children):t).flat()}function tu(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(tu.cache.has(e))return tu.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return tu.cache.set(e,t),t}tu.cache=new Map;function gd(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>gd(e,n)).flat(1);if(t.suspense)return gd(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>gd(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return gd(e,t.component.subTree).flat(1)}return[]}var jp=new WeakMap,id=new WeakMap;class wF{constructor(t){qS(this,jp,[]),qS(this,id,0),this.size=t}push(t){Nc(jp,this)[Nc(id,this)]=t,vF(id,this,(Nc(id,this)+1)%this.size)}values(){return Nc(jp,this).slice(Nc(id,this)).concat(Nc(jp,this).slice(0,Nc(id,this)))}}function U0(e){const t=Ei({}),n=Y(e);return si(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),rm(t)}function Ig(e,t){return e.includes(t)}function JT(e){return e[2].toLowerCase()+e.slice(3)}const Wi=()=>[Function,Array];function KS(e,t){return t="on"+Po(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function q0(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const s of e)s(...n);else typeof e=="function"&&e(...n)}function Rf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function QT(e,t,n){let r,s=e.indexOf(document.activeElement);const u=t==="next"?1:-1;do s+=u,r=e[s];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&s<e.length&&s>=0);return r}function Pg(e,t){var r,s,u,h;const n=Rf(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(t==="first")(s=n[0])==null||s.focus();else if(t==="last")(u=n.at(-1))==null||u.focus();else if(typeof t=="number")(h=n[t])==null||h.focus();else{const o=QT(n,t);o?o.focus():Pg(e,t==="next"?"first":"last")}}function Hp(e){return e==null||typeof e=="string"&&e.trim()===""}function SF(){}function Ed(e,t){if(!(pr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function j0(e){return e.some(t=>Mf(t)?t.type===Ta?!1:t.type!==Ht||j0(t.children):!0)?e:null}function kF(e,t){if(!pr||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function XS(e,t){const n=Rt();return si(()=>{n.value=e()},{flush:"sync",...t}),Od(n)}function CF(e,t){const n=e.clientX,r=e.clientY,s=t.getBoundingClientRect(),u=s.left,h=s.top,o=s.right,p=s.bottom;return n>=u&&n<=o&&r>=h&&r<=p}function Dg(){const e=Rt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>$0(e.value)}),t}const eA=["top","bottom"],TF=["start","end","left","right"];function vb(e,t){let[n,r]=e.split(" ");return r||(r=Ig(eA,n)?"start":Ig(TF,n)?"top":"center"),{side:yb(n,t),align:yb(r,t)}}function yb(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function v_(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function y_(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function JS(e){return{side:e.align,align:e.side}}function QS(e){return Ig(eA,e.side)?"y":"x"}class nu{constructor(t){let{x:n,y:r,width:s,height:u}=t;this.x=n,this.y=r,this.width=s,this.height=u}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ek(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function tA(e){return Array.isArray(e)?new nu({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function H0(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let s,u,h,o,p;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),u=+s[0],h=+s[5],o=+s[12],p=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),u=+s[0],h=+s[3],o=+s[4],p=+s[5];else return new nu(t);const y=n.transformOrigin,b=t.x-o-(1-u)*parseFloat(y),C=t.y-p-(1-h)*parseFloat(y.slice(y.indexOf(" ")+1)),k=u?t.width/u:e.offsetWidth+1,I=h?t.height/h:e.offsetHeight+1;return new nu({x:b,y:C,width:k,height:I})}else return new nu(t)}function Yc(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}const lg=new WeakMap;function AF(e,t){Object.keys(t).forEach(n=>{if(uv(n)){const r=JT(n),s=lg.get(e);if(t[n]==null)s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))});else if(!s||![...s].some(u=>u[0]===r&&u[1]===t[n])){e.addEventListener(r,t[n]);const u=s||new Set;u.add([r,t[n]]),lg.has(e)||lg.set(e,u)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function EF(e,t){Object.keys(t).forEach(n=>{if(uv(n)){const r=JT(n),s=lg.get(e);s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))})}else e.removeAttribute(n)})}const ad=2.4,tk=.2126729,nk=.7151522,rk=.072175,IF=.55,PF=.58,DF=.57,MF=.62,Gp=.03,ik=1.45,LF=5e-4,RF=1.25,OF=1.25,ak=.078,sk=12.82051282051282,Wp=.06,ok=.001;function lk(e,t){const n=(e.r/255)**ad,r=(e.g/255)**ad,s=(e.b/255)**ad,u=(t.r/255)**ad,h=(t.g/255)**ad,o=(t.b/255)**ad;let p=n*tk+r*nk+s*rk,y=u*tk+h*nk+o*rk;if(p<=Gp&&(p+=(Gp-p)**ik),y<=Gp&&(y+=(Gp-y)**ik),Math.abs(y-p)<LF)return 0;let b;if(y>p){const C=(y**IF-p**PF)*RF;b=C<ok?0:C<ak?C-C*sk*Wp:C-Wp}else{const C=(y**MF-p**DF)*OF;b=C>-ok?0:C>-ak?C-C*sk*Wp:C+Wp}return b*100}function FF(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Mg=.20689655172413793,zF=e=>e>Mg**3?Math.cbrt(e):e/(3*Mg**2)+4/29,BF=e=>e>Mg?e**3:3*Mg**2*(e-4/29);function nA(e){const t=zF,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function rA(e){const t=BF,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const VF=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],NF=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,$F=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],UF=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function iA(e){const t=Array(3),n=NF,r=VF;for(let s=0;s<3;++s)t[s]=Math.round(la(n(r[s][0]*e[0]+r[s][1]*e[1]+r[s][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function G0(e){let{r:t,g:n,b:r}=e;const s=[0,0,0],u=UF,h=$F;t=u(t/255),n=u(n/255),r=u(r/255);for(let o=0;o<3;++o)s[o]=h[o][0]*t+h[o][1]*n+h[o][2]*r;return s}function _b(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function qF(e){return _b(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const ck=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,jF={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>uk({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>uk({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>Of({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>Of({h:e,s:t,v:n,a:r})};function So(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&ck.test(e)){const{groups:t}=e.match(ck),{fn:n,values:r}=t,s=r.split(/,\s*/).map(u=>u.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(u)/100:parseFloat(u));return jF[n](...s)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),GF(t)}else if(typeof e=="object"){if(g_(e,["r","g","b"]))return e;if(g_(e,["h","s","l"]))return Of(aA(e));if(g_(e,["h","s","v"]))return Of(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Of(e){const{h:t,s:n,v:r,a:s}=e,u=o=>{const p=(o+t/60)%6;return r-r*n*Math.max(Math.min(p,4-p,1),0)},h=[u(5),u(3),u(1)].map(o=>Math.round(o*255));return{r:h[0],g:h[1],b:h[2],a:s}}function uk(e){return Of(aA(e))}function aA(e){const{h:t,s:n,l:r,a:s}=e,u=r+n*Math.min(r,1-r),h=u===0?0:2-2*r/u;return{h:t,s:h,v:u,a:s}}function Yp(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function HF(e){let{r:t,g:n,b:r,a:s}=e;return`#${[Yp(t),Yp(n),Yp(r),s!==void 0?Yp(Math.round(s*255)):""].join("")}`}function GF(e){e=WF(e);let[t,n,r,s]=bF(e,2).map(u=>parseInt(u,16));return s=s===void 0?s:s/255,{r:t,g:n,b:r,a:s}}function WF(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=WS(WS(e,6),8,"F")),e}function YF(e,t){const n=nA(G0(e));return n[0]=n[0]+t*10,iA(rA(n))}function ZF(e,t){const n=nA(G0(e));return n[0]=n[0]-t*10,iA(rA(n))}function KF(e){const t=So(e);return G0(t)[1]}function sA(e){const t=Math.abs(lk(So(0),So(e)));return Math.abs(lk(So(16777215),So(e)))>Math.min(t,50)?"#fff":"#000"}function We(e,t){return n=>Object.keys(e).reduce((r,s)=>{const h=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return n&&s in n?r[s]={...h,default:n[s]}:r[s]=h,t&&!r[s].source&&(r[s].source=t),r},{})}const hn=We({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Jr(e,t){const n=Cs();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Do(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Jr(e).type;return tu((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let oA=0,cg=new WeakMap;function Ts(){const e=Jr("getUid");if(cg.has(e))return cg.get(e);{const t=oA++;return cg.set(e,t),t}}Ts.reset=()=>{oA=0,cg=new WeakMap};function XF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jr("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Id=Symbol.for("vuetify:defaults");function JF(e){return dt(e)}function W0(){const e=vt(Id);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function ua(e,t){const n=W0(),r=dt(e),s=Y(()=>{if(Vr(t==null?void 0:t.disabled))return n.value;const h=Vr(t==null?void 0:t.scoped),o=Vr(t==null?void 0:t.reset),p=Vr(t==null?void 0:t.root);if(r.value==null&&!(h||o||p))return n.value;let y=oa(r.value,{prev:n.value});if(h)return y;if(o||p){const b=Number(o||1/0);for(let C=0;C<=b&&!(!y||!("prev"in y));C++)y=y.prev;return y&&typeof p=="string"&&p in y&&(y=oa(oa(y,{prev:y}),y[p])),y}return y.prev?oa(y.prev,y):y});return _n(Id,s),s}function QF(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[tu(t)])<"u"}function ez(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:W0();const r=Jr("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const s=Y(()=>{var p;return(p=n.value)==null?void 0:p[e._as??t]}),u=new Proxy(e,{get(p,y){var C,k,I,R,L,F,B;const b=Reflect.get(p,y);return y==="class"||y==="style"?[(C=s.value)==null?void 0:C[y],b].filter(q=>q!=null):typeof y=="string"&&!QF(r.vnode,y)?((k=s.value)==null?void 0:k[y])!==void 0?(I=s.value)==null?void 0:I[y]:((L=(R=n.value)==null?void 0:R.global)==null?void 0:L[y])!==void 0?(B=(F=n.value)==null?void 0:F.global)==null?void 0:B[y]:b:b}}),h=Rt();si(()=>{if(s.value){const p=Object.entries(s.value).filter(y=>{let[b]=y;return b.startsWith(b[0].toUpperCase())});h.value=p.length?Object.fromEntries(p):void 0}else h.value=void 0});function o(){const p=XF(Id,r);_n(Id,Y(()=>h.value?oa((p==null?void 0:p.value)??{},h.value):p==null?void 0:p.value))}return{props:u,provideSubDefaults:o}}function Fd(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=We(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return YT(r,t)},e.props._as=String,e.setup=function(r,s){const u=W0();if(!u.value)return e._setup(r,s);const{props:h,provideSubDefaults:o}=ez(r,r._as??e.name,u),p=e._setup(h,s);return o(),p}}return e}function ht(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Fd:lr)(t)}function tz(e,t){return t.props=e,t}function zd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ht()({name:n??Po(ws(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...hn()},setup(r,s){let{slots:u}=s;return()=>{var h;return Xr(r.tag,{class:[e,r.class],style:r.style},(h=u.default)==null?void 0:h.call(u))}}})}function lA(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Ff="cubic-bezier(0.4, 0, 0.2, 1)",nz="cubic-bezier(0.0, 0, 0.2, 1)",rz="cubic-bezier(0.4, 0, 1, 1)";function dk(e,t,n){return Object.keys(e).filter(r=>uv(r)&&r.endsWith(t)).reduce((r,s)=>(r[s.slice(0,-t.length)]=u=>e[s](u,n(u)),r),{})}function cA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?iz(e):Y0(e))return e;e=e.parentElement}return document.scrollingElement}function zf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Y0(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Y0(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function iz(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function az(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function St(e){const t=Jr("useRender");t.render=e}function dn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C=>C,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:C=>C;const u=Jr("useProxiedModel"),h=dt(e[t]!==void 0?e[t]:n),o=tu(t),y=Y(o!==t?()=>{var C,k,I,R;return e[t],!!(((C=u.vnode.props)!=null&&C.hasOwnProperty(t)||(k=u.vnode.props)!=null&&k.hasOwnProperty(o))&&((I=u.vnode.props)!=null&&I.hasOwnProperty(`onUpdate:${t}`)||(R=u.vnode.props)!=null&&R.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var C,k;return e[t],!!((C=u.vnode.props)!=null&&C.hasOwnProperty(t)&&((k=u.vnode.props)!=null&&k.hasOwnProperty(`onUpdate:${t}`)))});Ja(()=>!y.value,()=>{ot(()=>e[t],C=>{h.value=C})});const b=Y({get(){const C=e[t];return r(y.value?C:h.value)},set(C){const k=s(C),I=bn(y.value?e[t]:h.value);I===k||r(I)===C||(h.value=k,u==null||u.emit(`update:${t}`,k))}});return Object.defineProperty(b,"externalValue",{get:()=>y.value?e[t]:h.value}),b}const sz={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},hk="$vuetify.",fk=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),uA=(e,t,n)=>function(r){for(var s=arguments.length,u=new Array(s>1?s-1:0),h=1;h<s;h++)u[h-1]=arguments[h];if(!r.startsWith(hk))return fk(r,u);const o=r.replace(hk,""),p=e.value&&n.value[e.value],y=t.value&&n.value[t.value];let b=Lf(p,o,null);return b||(`${r}${e.value}`,b=Lf(y,o,null)),b||(b=r),typeof b!="string"&&(b=r),fk(b,u)};function dA(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function __(e,t,n){const r=dn(e,t,e[t]??n.value);return r.value=e[t]??n.value,ot(n,s=>{e[t]==null&&(r.value=n.value)}),r}function hA(e){return t=>{const n=__(t,"locale",e.current),r=__(t,"fallback",e.fallback),s=__(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:s,t:uA(n,r,s),n:dA(n,r),provide:hA({current:n,fallback:r,messages:s})}}}function oz(e){const t=Rt((e==null?void 0:e.locale)??"en"),n=Rt((e==null?void 0:e.fallback)??"en"),r=dt({en:sz,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:uA(t,n,r),n:dA(t,n),provide:hA({current:t,fallback:n,messages:r})}}const Lg=Symbol.for("vuetify:locale");function lz(e){return e.name!=null}function cz(e){const t=e!=null&&e.adapter&&lz(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:oz(e),n=dz(t,e);return{...t,...n}}function li(){const e=vt(Lg);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function uz(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function dz(e,t){const n=dt((t==null?void 0:t.rtl)??uz()),r=Y(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:Y(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function es(){const e=vt(Lg);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const Bf={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function hz(e,t){const n=[];let r=[];const s=fA(e),u=mA(e),h=(s.getDay()-Bf[t.slice(-2).toUpperCase()]+7)%7,o=(u.getDay()-Bf[t.slice(-2).toUpperCase()]+7)%7;for(let p=0;p<h;p++){const y=new Date(s);y.setDate(y.getDate()-(h-p)),r.push(y)}for(let p=1;p<=u.getDate();p++){const y=new Date(e.getFullYear(),e.getMonth(),p);r.push(y),r.length===7&&(n.push(r),r=[])}for(let p=1;p<7-o;p++){const y=new Date(u);y.setDate(y.getDate()+p),r.push(y)}return r.length>0&&n.push(r),n}function fz(e,t){const n=new Date(e);for(;n.getDay()!==(Bf[t.slice(-2).toUpperCase()]??0);)n.setDate(n.getDate()-1);return n}function mz(e,t){const n=new Date(e),r=((Bf[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function fA(e){return new Date(e.getFullYear(),e.getMonth(),1)}function mA(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function pz(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const gz=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function pA(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(gz.test(e))return pz(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const mk=new Date(2e3,0,2);function vz(e){const t=Bf[e.slice(-2).toUpperCase()];return Ws(7).map(n=>{const r=new Date(mk);return r.setDate(mk.getDate()+t+n),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(r)})}function yz(e,t,n,r){const s=pA(e)??new Date,u=r==null?void 0:r[t];if(typeof u=="function")return u(s,t,n);let h={};switch(t){case"fullDate":h={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":h={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),p=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${p}`;case"normalDateWithWeekday":h={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":h={month:"short",day:"numeric"};break;case"year":h={year:"numeric"};break;case"month":h={month:"long"};break;case"monthShort":h={month:"short"};break;case"monthAndYear":h={month:"long",year:"numeric"};break;case"monthAndDate":h={month:"long",day:"numeric"};break;case"weekday":h={weekday:"long"};break;case"weekdayShort":h={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":h={hour:"numeric",hour12:!0};break;case"hours24h":h={hour:"numeric",hour12:!1};break;case"minutes":h={minute:"numeric"};break;case"seconds":h={second:"numeric"};break;case"fullTime":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":h={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:h=u??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,h).format(s)}function _z(e,t){const n=e.toJsDate(t),r=n.getFullYear(),s=YS(String(n.getMonth()+1),2,"0"),u=YS(String(n.getDate()),2,"0");return`${r}-${s}-${u}`}function bz(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function xz(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function wz(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function Sz(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function kz(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function Cz(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function Tz(e){return e.getFullYear()}function Az(e){return e.getMonth()}function Ez(e){return e.getDate()}function Iz(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Pz(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function Dz(e){return e.getHours()}function Mz(e){return e.getMinutes()}function Lz(e){return new Date(e.getFullYear(),0,1)}function Rz(e){return new Date(e.getFullYear(),11,31)}function Oz(e,t){return Rg(e,t[0])&&Bz(e,t[1])}function Fz(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Rg(e,t){return e.getTime()>t.getTime()}function zz(e,t){return Rg(bb(e),bb(t))}function Bz(e,t){return e.getTime()<t.getTime()}function pk(e,t){return e.getTime()===t.getTime()}function Vz(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Nz(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function $z(e,t){return e.getFullYear()===t.getFullYear()}function Uz(e,t,n){const r=new Date(e),s=new Date(t);switch(n){case"years":return r.getFullYear()-s.getFullYear();case"quarters":return Math.floor((r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12)/4);case"months":return r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-s.getTime())/1e3);default:return r.getTime()-s.getTime()}}function qz(e,t){const n=new Date(e);return n.setHours(t),n}function jz(e,t){const n=new Date(e);return n.setMinutes(t),n}function Hz(e,t){const n=new Date(e);return n.setMonth(t),n}function Gz(e,t){const n=new Date(e);return n.setDate(t),n}function Wz(e,t){const n=new Date(e);return n.setFullYear(t),n}function bb(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function Yz(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class Zz{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return pA(t)}toJsDate(t){return t}toISO(t){return _z(this,t)}parseISO(t){return bz(t)}addMinutes(t,n){return xz(t,n)}addHours(t,n){return wz(t,n)}addDays(t,n){return Sz(t,n)}addWeeks(t,n){return kz(t,n)}addMonths(t,n){return Cz(t,n)}getWeekArray(t){return hz(t,this.locale)}startOfWeek(t){return fz(t,this.locale)}endOfWeek(t){return mz(t,this.locale)}startOfMonth(t){return fA(t)}endOfMonth(t){return mA(t)}format(t,n){return yz(t,n,this.locale,this.formats)}isEqual(t,n){return pk(t,n)}isValid(t){return Fz(t)}isWithinRange(t,n){return Oz(t,n)}isAfter(t,n){return Rg(t,n)}isAfterDay(t,n){return zz(t,n)}isBefore(t,n){return!Rg(t,n)&&!pk(t,n)}isSameDay(t,n){return Vz(t,n)}isSameMonth(t,n){return Nz(t,n)}isSameYear(t,n){return $z(t,n)}setMinutes(t,n){return jz(t,n)}setHours(t,n){return qz(t,n)}setMonth(t,n){return Hz(t,n)}setDate(t,n){return Gz(t,n)}setYear(t,n){return Wz(t,n)}getDiff(t,n,r){return Uz(t,n,r)}getWeekdays(){return vz(this.locale)}getYear(t){return Tz(t)}getMonth(t){return Az(t)}getDate(t){return Ez(t)}getNextMonth(t){return Iz(t)}getPreviousMonth(t){return Pz(t)}getHours(t){return Dz(t)}getMinutes(t){return Mz(t)}startOfDay(t){return bb(t)}endOfDay(t){return Yz(t)}startOfYear(t){return Lz(t)}endOfYear(t){return Rz(t)}}const gA=Symbol.for("vuetify:date-options"),gk=Symbol.for("vuetify:date-adapter");function Kz(e,t){const n=oa({adapter:Zz,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:vA(n,t)}}function vA(e,t){const n=Ei(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ot(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}function Mo(){const e=vt(gA);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=li();return vA(e,t)}function Xz(e,t){const n=e.toJsDate(t);let r=n.getFullYear(),s=new Date(r,0,1);if(n<s)r=r-1,s=new Date(r,0,1);else{const o=new Date(r+1,0,1);n>=o&&(r=r+1,s=o)}const u=Math.abs(n.getTime()-s.getTime()),h=Math.ceil(u/(1e3*60*60*24));return Math.floor(h/7)+1}const dv=["sm","md","lg","xl","xxl"],xb=Symbol.for("vuetify:display"),vk={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Jz=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vk;return oa(vk,e)};function yk(e){return pr&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function _k(e){return pr&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function bk(e){const t=pr&&!e?window.navigator.userAgent:"ssr";function n(R){return!!t.match(R)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),u=n(/cordova/i),h=n(/electron/i),o=n(/chrome/i),p=n(/edge/i),y=n(/firefox/i),b=n(/opera/i),C=n(/win/i),k=n(/mac/i),I=n(/linux/i);return{android:r,ios:s,cordova:u,electron:h,chrome:o,edge:p,firefox:y,opera:b,win:C,mac:k,linux:I,touch:pF,ssr:t==="ssr"}}function Qz(e,t){const{thresholds:n,mobileBreakpoint:r}=Jz(e),s=Rt(_k(t)),u=Rt(bk(t)),h=Ei({}),o=Rt(yk(t));function p(){s.value=_k(),o.value=yk()}function y(){p(),u.value=bk()}return si(()=>{const b=o.value<n.sm,C=o.value<n.md&&!b,k=o.value<n.lg&&!(C||b),I=o.value<n.xl&&!(k||C||b),R=o.value<n.xxl&&!(I||k||C||b),L=o.value>=n.xxl,F=b?"xs":C?"sm":k?"md":I?"lg":R?"xl":"xxl",B=typeof r=="number"?r:n[r],q=o.value<B;h.xs=b,h.sm=C,h.md=k,h.lg=I,h.xl=R,h.xxl=L,h.smAndUp=!b,h.mdAndUp=!(b||C),h.lgAndUp=!(b||C||k),h.xlAndUp=!(b||C||k||I),h.smAndDown=!(k||I||R||L),h.mdAndDown=!(I||R||L),h.lgAndDown=!(R||L),h.xlAndDown=!L,h.name=F,h.height=s.value,h.width=o.value,h.mobile=q,h.mobileBreakpoint=r,h.platform=u.value,h.thresholds=n}),pr&&window.addEventListener("resize",p,{passive:!0}),{...rm(h),update:y,ssr:!!t}}const Bd=We({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function vl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();const n=vt(xb);if(!n)throw new Error("Could not find Vuetify display injection");const r=Y(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const u=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<u}),s=Y(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:s,mobile:r}}const yA=Symbol.for("vuetify:goto");function _A(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function eB(e){return Z0(e)??(document.scrollingElement||document.body)}function Z0(e){return typeof e=="string"?document.querySelector(e):$0(e)}function b_(e,t,n){if(typeof e=="number")return t&&n?-e:e;let r=Z0(e),s=0;for(;r;)s+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return s}function tB(e,t){return{rtl:t.isRtl,options:oa(_A(),e)}}async function xk(e,t,n,r){const s=n?"scrollLeft":"scrollTop",u=oa((r==null?void 0:r.options)??_A(),t),h=r==null?void 0:r.rtl.value,o=(typeof e=="number"?e:Z0(e))??0,p=u.container==="parent"&&o instanceof HTMLElement?o.parentElement:eB(u.container),y=typeof u.easing=="function"?u.easing:u.patterns[u.easing];if(!y)throw new TypeError(`Easing function "${u.easing}" not found.`);let b;if(typeof o=="number")b=b_(o,n,h);else if(b=b_(o,n,h)-b_(p,n,h),u.layout){const R=window.getComputedStyle(o).getPropertyValue("--v-layout-top");R&&(b-=parseInt(R,10))}b+=u.offset,b=rB(p,b,!!h,!!n);const C=p[s]??0;if(b===C)return Promise.resolve(b);const k=performance.now();return new Promise(I=>requestAnimationFrame(function R(L){const B=(L-k)/u.duration,q=Math.floor(C+(b-C)*y(la(B,0,1)));if(p[s]=q,B>=1&&Math.abs(q-p[s])<10)return I(b);if(B>2)return I(p[s]);requestAnimationFrame(R)}))}function nB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=vt(yA),{isRtl:n}=es();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:Y(()=>t.rtl.value||n.value)};async function s(u,h){return xk(u,oa(e,h),!1,r)}return s.horizontal=async(u,h)=>xk(u,oa(e,h),!0,r),s}function rB(e,t,n,r){const{scrollWidth:s,scrollHeight:u}=e,[h,o]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let p,y;return r?n?(p=-(s-h),y=0):(p=0,y=s-h):(p=0,y=u+-o),Math.max(Math.min(t,y),p)}const bA={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},xA={component:e=>Xr(SA,{...e,class:"mdi"})},Ln=[String,Function,Object,Array],wb=Symbol.for("vuetify:icons"),hv=We({icon:{type:Ln},tag:{type:String,required:!0}},"icon"),wk=ht()({name:"VComponentIcon",props:hv(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return T(e.tag,null,{default:()=>{var s;return[e.icon?T(r,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),wA=Fd({name:"VSvgIcon",inheritAttrs:!1,props:hv(),setup(e,t){let{attrs:n}=t;return()=>T(e.tag,it(n,{style:null}),{default:()=>[T("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?T("path",{d:r[0],"fill-opacity":r[1]},null):T("path",{d:r},null)):T("path",{d:e.icon},null)])]})}});Fd({name:"VLigatureIcon",props:hv(),setup(e){return()=>T(e.tag,null,{default:()=>[e.icon]})}});const SA=Fd({name:"VClassIcon",props:hv(),setup(e){return()=>T(e.tag,{class:e.icon},null)}});function iB(){return{svg:{component:wA},class:{component:SA}}}function aB(e){const t=iB(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=xA),oa({defaultSet:n,sets:t,aliases:{...bA,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const sB=e=>{const t=vt(wb);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Y(()=>{var p;const r=Vr(e);if(!r)return{component:wk};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(p=t.aliases)==null?void 0:p[s.slice(1)])),Array.isArray(s))return{component:wA,icon:s};if(typeof s!="string")return{component:wk,icon:s};const u=Object.keys(t.sets).find(y=>typeof s=="string"&&s.startsWith(`${y}:`)),h=u?s.slice(u.length+1):s;return{component:t.sets[u??t.defaultSet].component,icon:h}})}},Vf=Symbol.for("vuetify:theme"),vr=We({theme:String},"theme");function Sk(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function oB(){var r,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sk();const t=Sk();if(!e)return{...t,isDisabled:!0};const n={};for(const[u,h]of Object.entries(e.themes??{})){const o=h.dark||u==="dark"?(r=t.themes)==null?void 0:r.dark:(s=t.themes)==null?void 0:s.light;n[u]=oa(o,h)}return oa(t,{...e,themes:n})}function lB(e){const t=oB(e),n=dt(t.defaultTheme),r=dt(t.themes),s=Y(()=>{const b={};for(const[C,k]of Object.entries(r.value)){const I=b[C]={...k,colors:{...k.colors}};if(t.variations)for(const R of t.variations.colors){const L=I.colors[R];if(L)for(const F of["lighten","darken"]){const B=F==="lighten"?YF:ZF;for(const q of Ws(t.variations[F],1))I.colors[`${R}-${F}-${q}`]=HF(B(So(L),q))}}for(const R of Object.keys(I.colors)){if(/^on-[a-z]/.test(R)||I.colors[`on-${R}`])continue;const L=`on-${R}`,F=So(I.colors[R]);I.colors[L]=sA(F)}}return b}),u=Y(()=>s.value[n.value]),h=Y(()=>{var R;const b=[];(R=u.value)!=null&&R.dark&&$c(b,":root",["color-scheme: dark"]),$c(b,":root",kk(u.value));for(const[L,F]of Object.entries(s.value))$c(b,`.v-theme--${L}`,[`color-scheme: ${F.dark?"dark":"normal"}`,...kk(F)]);const C=[],k=[],I=new Set(Object.values(s.value).flatMap(L=>Object.keys(L.colors)));for(const L of I)/^on-[a-z]/.test(L)?$c(k,`.${L}`,[`color: rgb(var(--v-theme-${L})) !important`]):($c(C,`.bg-${L}`,[`--v-theme-overlay-multiplier: var(--v-theme-${L}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${L})) !important`,`color: rgb(var(--v-theme-on-${L})) !important`]),$c(k,`.text-${L}`,[`color: rgb(var(--v-theme-${L})) !important`]),$c(k,`.border-${L}`,[`--v-border-color: var(--v-theme-${L})`]));return b.push(...C,...k),b.map((L,F)=>F===0?L:`    ${L}`).join("")});function o(){return{style:[{children:h.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function p(b){if(t.isDisabled)return;const C=b._context.provides.usehead;if(C)if(C.push){const I=C.push(o);pr&&ot(h,()=>{I.patch(o)})}else pr?(C.addHeadObjs(Y(o)),si(()=>C.updateDOM())):C.addHeadObjs(o());else{let R=function(){if(typeof document<"u"&&!I){const L=document.createElement("style");L.type="text/css",L.id="vuetify-theme-stylesheet",t.cspNonce&&L.setAttribute("nonce",t.cspNonce),I=L,document.head.appendChild(I)}I&&(I.innerHTML=h.value)};var k=R;let I=pr?document.getElementById("vuetify-theme-stylesheet"):null;pr?ot(h,R,{immediate:!0}):R()}}const y=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:p,isDisabled:t.isDisabled,name:n,themes:r,current:u,computedThemes:s,themeClasses:y,styles:h,global:{name:n,current:u}}}function Rr(e){Jr("provideTheme");const t=vt(Vf,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Y(()=>e.theme??t.name.value),r=Y(()=>t.themes.value[n.value]),s=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`),u={...t,name:n,current:r,themeClasses:s};return _n(Vf,u),u}function cB(){Jr("useTheme");const e=vt(Vf,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function $c(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function kk(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[s,u]of Object.entries(e.colors)){const h=So(u);r.push(`--v-theme-${s}: ${h.r},${h.g},${h.b}`),s.startsWith("on-")||r.push(`--v-theme-${s}-overlay-multiplier: ${KF(u)>.18?t:n}`)}for(const[s,u]of Object.entries(e.variables)){const h=typeof u=="string"&&u.startsWith("#")?So(u):void 0,o=h?`${h.r}, ${h.g}, ${h.b}`:void 0;r.push(`--v-${s}: ${o??u}`)}return r}function lc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Dg(),r=dt();if(pr){const s=new ResizeObserver(u=>{e==null||e(u,s),u.length&&(t==="content"?r.value=u[0].contentRect:r.value=u[0].target.getBoundingClientRect())});wr(()=>{s.disconnect()}),ot(()=>n.el,(u,h)=>{h&&(s.unobserve(h),r.value=void 0),u&&s.observe(u)},{flush:"post"})}return{resizeRef:n,contentRect:Od(r)}}const Nf=Symbol.for("vuetify:layout"),kA=Symbol.for("vuetify:layout-item"),Ck=1e3,uB=We({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),K0=We({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function CA(){const e=vt(Nf);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{layoutIsReady:Hn(),getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function X0(e){const t=vt(Nf);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Ts()}`,r=Jr("useLayoutItem");_n(kA,{id:n});const s=Rt(!1);gT(()=>s.value=!0),pT(()=>s.value=!1);const u=Hn(),{layoutItemStyles:h,layoutItemScrimStyles:o}=t.register(r,{...e,active:Y(()=>s.value?!1:e.active.value),id:n});return wr(()=>t.unregister(n)),{layoutItemStyles:h,layoutRect:t.layoutRect,layoutItemScrimStyles:o,layoutIsReady:u}}const dB=(e,t,n,r)=>{let s={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...s}}];for(const h of e){const o=t.get(h),p=n.get(h),y=r.get(h);if(!o||!p||!y)continue;const b={...s,[o.value]:parseInt(s[o.value],10)+(y.value?parseInt(p.value,10):0)};u.push({id:h,layer:b}),s=b}return u};function hB(e){const t=vt(Nf,null),n=Y(()=>t?t.rootZIndex.value-100:Ck),r=dt([]),s=Ei(new Map),u=Ei(new Map),h=Ei(new Map),o=Ei(new Map),p=Ei(new Map),{resizeRef:y,contentRect:b}=lc(),C=XS(()=>{const Q=[...new Set([...h.values()].map(re=>re.value))].sort((re,H)=>re-H),ee=[];for(const re of Q){const H=r.value.filter(j=>{var Z;return((Z=h.get(j))==null?void 0:Z.value)===re});ee.push(...H)}return dB(ee,s,u,o)}),k=Y(()=>!Array.from(p.values()).some(Q=>Q.value)),I=Y(()=>C.value[C.value.length-1].layer),R=Y(()=>({"--v-layout-left":Gt(I.value.left),"--v-layout-right":Gt(I.value.right),"--v-layout-top":Gt(I.value.top),"--v-layout-bottom":Gt(I.value.bottom),...k.value?void 0:{transition:"none"}})),L=XS(()=>C.value.slice(1).map((Q,ee)=>{let{id:re}=Q;const{layer:H}=C.value[ee],j=u.get(re),Z=s.get(re);return{id:re,...H,size:Number(j.value),position:Z.value}})),F=Q=>L.value.find(ee=>ee.id===Q),B=Jr("createLayout"),q=Hn();_n(Nf,{register:(Q,ee)=>{let{id:re,order:H,position:j,layoutSize:Z,elementSize:le,active:ne,disableTransitions:ve,absolute:fe}=ee;h.set(re,H),s.set(re,j),u.set(re,Z),o.set(re,ne),ve&&p.set(re,ve);const Ae=gd(kA,B==null?void 0:B.vnode).indexOf(Q);Ae>-1?r.value.splice(Ae,0,re):r.value.push(re);const qe=Y(()=>L.value.findIndex(Je=>Je.id===re)),ke=Y(()=>n.value+C.value.length*2-qe.value*2),Le=Y(()=>{const Je=j.value==="left"||j.value==="right",Ue=j.value==="right",ct=j.value==="bottom",Lt=le.value??Z.value,mt=Lt===0?"%":"px",Tt={[j.value]:0,zIndex:ke.value,transform:`translate${Je?"X":"Y"}(${(ne.value?0:-(Lt===0?100:Lt))*(Ue||ct?-1:1)}${mt})`,position:fe.value||n.value!==Ck?"absolute":"fixed",...k.value?void 0:{transition:"none"}};if(qe.value<0)throw new Error(`Layout item "${re}" is missing`);const Ne=L.value[qe.value];if(!Ne)throw new Error(`[Vuetify] Could not find layout item "${re}"`);return{...Tt,height:Je?`calc(100% - ${Ne.top}px - ${Ne.bottom}px)`:le.value?`${le.value}px`:void 0,left:Ue?void 0:`${Ne.left}px`,right:Ue?`${Ne.right}px`:void 0,top:j.value!=="bottom"?`${Ne.top}px`:void 0,bottom:j.value!=="top"?`${Ne.bottom}px`:void 0,width:Je?le.value?`${le.value}px`:void 0:`calc(100% - ${Ne.left}px - ${Ne.right}px)`}}),Ve=Y(()=>({zIndex:ke.value-1}));return{layoutItemStyles:Le,layoutItemScrimStyles:Ve,zIndex:ke}},unregister:Q=>{h.delete(Q),s.delete(Q),u.delete(Q),o.delete(Q),p.delete(Q),r.value=r.value.filter(ee=>ee!==Q)},mainRect:I,mainStyles:R,getLayoutItem:F,items:L,layoutRect:b,rootZIndex:n,layoutIsReady:q});const K=Y(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),se=Y(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:K,layoutStyles:se,getLayoutItem:F,items:L,layoutRect:b,layoutIsReady:q,layoutRef:y}}function TA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=oa(t,n),{aliases:s={},components:u={},directives:h={}}=r,o=JF(r.defaults),p=Qz(r.display,r.ssr),y=lB(r.theme),b=aB(r.icons),C=cz(r.locale),k=Kz(r.date,C),I=tB(r.goTo,C);return{install:L=>{for(const F in h)L.directive(F,h[F]);for(const F in u)L.component(F,u[F]);for(const F in s)L.component(F,Fd({...s[F],name:F,aliasName:s[F].name}));if(y.install(L),L.provide(Id,o),L.provide(xb,p),L.provide(Vf,y),L.provide(wb,b),L.provide(Lg,C),L.provide(gA,k.options),L.provide(gk,k.instance),L.provide(yA,I),pr&&r.ssr)if(L.$nuxt)L.$nuxt.hook("app:suspense:resolve",()=>{p.update()});else{const{mount:F}=L;L.mount=function(){const B=F(...arguments);return Hn(()=>p.update()),L.mount=F,B}}Ts.reset(),L.mixin({computed:{$vuetify(){return Ei({defaults:sd.call(this,Id),display:sd.call(this,xb),theme:sd.call(this,Vf),icons:sd.call(this,wb),locale:sd.call(this,Lg),date:sd.call(this,gk)})}}})},defaults:o,display:p,theme:y,icons:b,locale:C,date:k,goTo:I}}const fB="3.6.8";TA.version=fB;function sd(e){var r,s;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((s=t.vnode.appContext)==null?void 0:s.provides);if(n&&e in n)return n[e]}var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var AA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Gc,function(){var n,r,s;function u(o,p){if(!n)n=p;else if(!r)r=p;else{var y="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",b={};n(b),s=p(b),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"})))}}u(["exports"],function(o){function p(l,i,c,f){return new(c||(c=Promise))(function(g,x){function S(O){try{D(f.next(O))}catch(V){x(V)}}function A(O){try{D(f.throw(O))}catch(V){x(V)}}function D(O){var V;O.done?g(O.value):(V=O.value,V instanceof c?V:new c(function(U){U(V)})).then(S,A)}D((f=f.apply(l,i||[])).next())})}function y(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}typeof SuppressedError=="function"&&SuppressedError;var b=C;function C(l,i){this.x=l,this.y=i}C.prototype={clone:function(){return new C(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,i){return this.clone()._rotateAround(l,i)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var i=l.x-this.x,c=l.y-this.y;return i*i+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,i){return Math.atan2(this.x*i-this.y*l,this.x*l+this.y*i)},_matMult:function(l){var i=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=i,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var i=Math.cos(l),c=Math.sin(l),f=c*this.x+i*this.y;return this.x=i*this.x-c*this.y,this.y=f,this},_rotateAround:function(l,i){var c=Math.cos(l),f=Math.sin(l),g=i.y+f*(this.x-i.x)+c*(this.y-i.y);return this.x=i.x+c*(this.x-i.x)-f*(this.y-i.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},C.convert=function(l){return l instanceof C?l:Array.isArray(l)?new C(l[0],l[1]):l};var k=y(b),I=R;function R(l,i,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=i,this.p2x=c,this.p2y=f}R.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,i){if(i===void 0&&(i=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var g=this.sampleCurveX(c)-l;if(Math.abs(g)<i)return c;var x=this.sampleCurveDerivativeX(c);if(Math.abs(x)<1e-6)break;c-=g/x}var S=0,A=1;for(c=l,f=0;f<20&&(g=this.sampleCurveX(c),!(Math.abs(g-l)<i));f++)l>g?S=c:A=c,c=.5*(A-S)+S;return c},solve:function(l,i){return this.sampleCurveY(this.solveCurveX(l,i))}};var L=y(I);let F,B;function q(){return F==null&&(F=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),F}function K(){if(B==null&&(B=!1,q())){const i=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(i){for(let f=0;f<5*5;f++){const g=4*f;i.fillStyle=`rgb(${g},${g+1},${g+2})`,i.fillRect(f%5,Math.floor(f/5),1,1)}const c=i.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&c[f]!==f){B=!0;break}}}return B||!1}function se(l,i,c,f){const g=new L(l,i,c,f);return function(x){return g.solve(x)}}const Q=se(.25,.1,.25,1);function ee(l,i,c){return Math.min(c,Math.max(i,l))}function re(l,i,c){const f=c-i,g=((l-i)%f+f)%f+i;return g===i?c:g}function H(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}let j=1;function Z(l,i,c){const f={};for(const g in l)f[g]=i.call(c||this,l[g],g,l);return f}function le(l,i,c){const f={};for(const g in l)i.call(c||this,l[g],g,l)&&(f[g]=l[g]);return f}function ne(l){return Array.isArray(l)?l.map(ne):typeof l=="object"&&l?Z(l,ne):l}const ve={};function fe(l){ve[l]||(typeof console<"u"&&console.warn(l),ve[l]=!0)}function Ie(l,i,c){return(c.y-l.y)*(i.x-l.x)>(i.y-l.y)*(c.x-l.x)}function Ae(l){let i=0;for(let c,f,g=0,x=l.length,S=x-1;g<x;S=g++)c=l[g],f=l[S],i+=(f.x-c.x)*(c.y+f.y);return i}function qe(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let ke=null;function Le(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Je(l,i,c,f,g){return p(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const x=new VideoFrame(l,{timestamp:0});try{const S=x==null?void 0:x.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);const A=S.startsWith("BGR"),D=new Uint8ClampedArray(f*g*4);if(yield x.copyTo(D,function(O,V,U,W,te){const ie=4*Math.max(-V,0),ue=(Math.max(0,U)-U)*W*4+ie,_e=4*W,we=Math.max(0,V),Oe=Math.max(0,U);return{rect:{x:we,y:Oe,width:Math.min(O.width,V+W)-we,height:Math.min(O.height,U+te)-Oe},layout:[{offset:ue,stride:_e}]}}(l,i,c,f,g)),A)for(let O=0;O<D.length;O+=4){const V=D[O];D[O]=D[O+2],D[O+2]=V}return D}finally{x.close()}})}let Ue,ct,Lt,mt;const Tt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(l){const i=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(i)}},getImageData(l,i=0){return this.getImageCanvasContext(l).getImageData(-i,-i,l.width+2*i,l.height+2*i)},getImageCanvasContext(l){const i=window.document.createElement("canvas"),c=i.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return i.width=l.width,i.height=l.height,c.drawImage(l,0,0,l.width,l.height),c},resolveURL:l=>(Lt||(Lt=document.createElement("a")),Lt.href=l,Lt.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(mt==null&&(mt=matchMedia("(prefers-reduced-motion: reduce)")),mt.matches)}},Ne={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class st extends Error{constructor(i,c,f,g){super(`AJAXError: ${c} (${i}): ${f}`),this.status=i,this.statusText=c,this.url=f,this.body=g}}const He=qe()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,$e=l=>Ne.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))];function kt(l,i){const c=new AbortController,f=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,cache:l.cache,referrer:He(),signal:c.signal});let g=!1,x=!1;return l.type==="json"&&f.headers.set("Accept","application/json"),x||fetch(f).then(S=>S.ok?(A=>{(l.type==="arrayBuffer"||l.type==="image"?A.arrayBuffer():l.type==="json"?A.json():A.text()).then(D=>{x||(g=!0,i(null,D,A.headers.get("Cache-Control"),A.headers.get("Expires")))}).catch(D=>{x||i(new Error(D.message))})})(S):S.blob().then(A=>i(new st(S.status,S.statusText,l.url,A)))).catch(S=>{S.code!==20&&i(new Error(S.message))}),{cancel:()=>{x=!0,g||c.abort()}}}const $t=function(l,i){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i);if(!qe())return($e(l.url)||kt)(l,i)}if(!(/^file:/.test(c=l.url)||/^file:/.test(He())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return kt(l,i);if(qe()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i,void 0,!0)}var c;return function(f,g){const x=new XMLHttpRequest;x.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(x.responseType="arraybuffer");for(const S in f.headers)x.setRequestHeader(S,f.headers[S]);return f.type==="json"&&(x.responseType="text",x.setRequestHeader("Accept","application/json")),x.withCredentials=f.credentials==="include",x.onerror=()=>{g(new Error(x.statusText))},x.onload=()=>{if((x.status>=200&&x.status<300||x.status===0)&&x.response!==null){let S=x.response;if(f.type==="json")try{S=JSON.parse(x.response)}catch(A){return g(A)}g(null,S,x.getResponseHeader("Cache-Control"),x.getResponseHeader("Expires"))}else{const S=new Blob([x.response],{type:x.getResponseHeader("Content-Type")});g(new st(x.status,x.statusText,f.url,S))}},x.send(f.body),{cancel:()=>x.abort()}}(l,i)},ae=function(l,i){return $t(H(l,{type:"arrayBuffer"}),i)};function me(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;const i=new URL(l),c=window.location;return i.protocol===c.protocol&&i.host===c.host}function Be(l,i,c){c[l]&&c[l].indexOf(i)!==-1||(c[l]=c[l]||[],c[l].push(i))}function Ye(l,i,c){if(c&&c[l]){const f=c[l].indexOf(i);f!==-1&&c[l].splice(f,1)}}class Xe{constructor(i,c={}){H(this,c),this.type=i}}class pt extends Xe{constructor(i,c={}){super("error",H({error:i},c))}}class xt{on(i,c){return this._listeners=this._listeners||{},Be(i,c,this._listeners),this}off(i,c){return Ye(i,c,this._listeners),Ye(i,c,this._oneTimeListeners),this}once(i,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Be(i,c,this._oneTimeListeners),this):new Promise(f=>this.once(i,f))}fire(i,c){typeof i=="string"&&(i=new Xe(i,c||{}));const f=i.type;if(this.listens(f)){i.target=this;const g=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const A of g)A.call(this,i);const x=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const A of x)Ye(f,A,this._oneTimeListeners),A.call(this,i);const S=this._eventedParent;S&&(H(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(i))}else i instanceof pt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,c){return this._eventedParent=i,this._eventedParentData=c,this}}var Ce={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const yt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Qe(l,i){const c={};for(const f in l)f!=="ref"&&(c[f]=l[f]);return yt.forEach(f=>{f in i&&(c[f]=i[f])}),c}function lt(l,i){if(Array.isArray(l)){if(!Array.isArray(i)||l.length!==i.length)return!1;for(let c=0;c<l.length;c++)if(!lt(l[c],i[c]))return!1;return!0}if(typeof l=="object"&&l!==null&&i!==null){if(typeof i!="object"||Object.keys(l).length!==Object.keys(i).length)return!1;for(const c in l)if(!lt(l[c],i[c]))return!1;return!0}return l===i}const Et={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function It(l,i,c){c.push({command:Et.addSource,args:[l,i[l]]})}function an(l,i,c){i.push({command:Et.removeSource,args:[l]}),c[l]=!0}function ln(l,i,c,f){an(l,c,f),It(l,i,c)}function An(l,i,c){let f;for(f in l[c])if(Object.prototype.hasOwnProperty.call(l[c],f)&&f!=="data"&&!lt(l[c][f],i[c][f]))return!1;for(f in i[c])if(Object.prototype.hasOwnProperty.call(i[c],f)&&f!=="data"&&!lt(l[c][f],i[c][f]))return!1;return!0}function In(l,i,c,f,g,x){let S;for(S in i=i||{},l=l||{})Object.prototype.hasOwnProperty.call(l,S)&&(lt(l[S],i[S])||c.push({command:x,args:[f,S,i[S],g]}));for(S in i)Object.prototype.hasOwnProperty.call(i,S)&&!Object.prototype.hasOwnProperty.call(l,S)&&(lt(l[S],i[S])||c.push({command:x,args:[f,S,i[S],g]}))}function Nn(l){return l.id}function ur(l,i){return l[i.id]=i,l}class gt{constructor(i,c,f,g){this.message=(i?`${i}: `:"")+f,g&&(this.identifier=g),c!=null&&c.__line__&&(this.line=c.__line__)}}function xi(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}class kn extends Error{constructor(i,c){super(c),this.message=c,this.key=i}}class fa{constructor(i,c=[]){this.parent=i,this.bindings={};for(const[f,g]of c)this.bindings[f]=g}concat(i){return new fa(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const dr={kind:"null"},Ct={kind:"number"},vn={kind:"string"},mn={kind:"boolean"},Vi={kind:"color"},ss={kind:"object"},yn={kind:"value"},Ps={kind:"collator"},pe={kind:"formatted"},G={kind:"padding"},X={kind:"resolvedImage"},oe={kind:"variableAnchorOffsetCollection"};function ye(l,i){return{kind:"array",itemType:l,N:i}}function be(l){if(l.kind==="array"){const i=be(l.itemType);return typeof l.N=="number"?`array<${i}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${i}>`}return l.kind}const Fe=[dr,Ct,vn,mn,Vi,pe,ss,ye(yn),G,X,oe];function Ee(l,i){if(i.kind==="error")return null;if(l.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Ee(l.itemType,i.itemType))&&(typeof l.N!="number"||l.N===i.N))return null}else{if(l.kind===i.kind)return null;if(l.kind==="value"){for(const c of Fe)if(!Ee(c,i))return null}}return`Expected ${be(l)} but found ${be(i)} instead.`}function Se(l,i){return i.some(c=>c.kind===l.kind)}function Re(l,i){return i.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}function et(l,i){return l.kind==="array"&&i.kind==="array"?l.itemType.kind===i.itemType.kind&&typeof l.N=="number":l.kind===i.kind}const nt=.96422,ut=.82521,tn=4/29,un=6/29,Wt=3*un*un,rn=un*un*un,pn=Math.PI/180,Zn=180/Math.PI;function sr(l){return(l%=360)<0&&(l+=360),l}function $n([l,i,c,f]){let g,x;const S=Di((.2225045*(l=Bn(l))+.7168786*(i=Bn(i))+.0606169*(c=Bn(c)))/1);l===i&&i===c?g=x=S:(g=Di((.4360747*l+.3850649*i+.1430804*c)/nt),x=Di((.0139322*l+.0971045*i+.7141733*c)/ut));const A=116*S-16;return[A<0?0:A,500*(g-S),200*(S-x),f]}function Bn(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Di(l){return l>rn?Math.pow(l,1/3):l/Wt+tn}function hr([l,i,c,f]){let g=(l+16)/116,x=isNaN(i)?g:g+i/500,S=isNaN(c)?g:g-c/200;return g=1*Si(g),x=nt*Si(x),S=ut*Si(S),[ei(3.1338561*x-1.6168667*g-.4906146*S),ei(-.9787684*x+1.9161415*g+.033454*S),ei(.0719453*x-.2289914*g+1.4052427*S),f]}function ei(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function Si(l){return l>un?l*l*l:Wt*(l-tn)}function Aa(l){return parseInt(l.padEnd(2,l),16)/255}function Im(l,i){return kl(i?l/100:l,0,1)}function kl(l,i,c){return Math.min(Math.max(i,l),c)}function Cl(l){return!l.some(Number.isNaN)}const Jv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class er{constructor(i,c,f,g=1,x=!0){this.r=i,this.g=c,this.b=f,this.a=g,x||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[i,c,f,g]))}static parse(i){if(i instanceof er)return i;if(typeof i!="string")return;const c=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const g=Jv[f];if(g){const[S,A,D]=g;return[S/255,A/255,D/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const S=f.length<6?1:2;let A=1;return[Aa(f.slice(A,A+=S)),Aa(f.slice(A,A+=S)),Aa(f.slice(A,A+=S)),Aa(f.slice(A,A+S)||"ff")]}if(f.startsWith("rgb")){const S=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[A,D,O,V,U,W,te,ie,ue,_e,we,Oe]=S,Te=[V||" ",te||" ",_e].join("");if(Te==="  "||Te==="  /"||Te===",,"||Te===",,,"){const ze=[O,W,ue].join(""),Ge=ze==="%%%"?100:ze===""?255:0;if(Ge){const at=[kl(+D/Ge,0,1),kl(+U/Ge,0,1),kl(+ie/Ge,0,1),we?Im(+we,Oe):1];if(Cl(at))return at}}return}}const x=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[S,A,D,O,V,U,W,te,ie]=x,ue=[D||" ",V||" ",W].join("");if(ue==="  "||ue==="  /"||ue===",,"||ue===",,,"){const _e=[+A,kl(+O,0,100),kl(+U,0,100),te?Im(+te,ie):1];if(Cl(_e))return function([we,Oe,Te,ze]){function Ge(at){const Nt=(at+we/30)%12,Zt=Oe*Math.min(Te,1-Te);return Te-Zt*Math.max(-1,Math.min(Nt-3,9-Nt,1))}return we=sr(we),Oe/=100,Te/=100,[Ge(0),Ge(8),Ge(4),ze]}(_e)}}}(i);return c?new er(...c,!1):void 0}get rgb(){const{r:i,g:c,b:f,a:g}=this,x=g||1/0;return this.overwriteGetter("rgb",[i/x,c/x,f/x,g])}get hcl(){return this.overwriteGetter("hcl",function(i){const[c,f,g,x]=$n(i),S=Math.sqrt(f*f+g*g);return[Math.round(1e4*S)?sr(Math.atan2(g,f)*Zn):NaN,S,c,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",$n(this.rgb))}overwriteGetter(i,c){return Object.defineProperty(this,i,{value:c}),c}toString(){const[i,c,f,g]=this.rgb;return`rgba(${[i,c,f].map(x=>Math.round(255*x)).join(",")},${g})`}}er.black=new er(0,0,0,1),er.white=new er(1,1,1,1),er.transparent=new er(0,0,0,0),er.red=new er(1,0,0,1);class Qd{constructor(i,c,f){this.sensitivity=i?c?"variant":"case":c?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,c){return this.collator.compare(i,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class _u{constructor(i,c,f,g,x){this.text=i,this.image=c,this.scale=f,this.fontStack=g,this.textColor=x}}class Mi{constructor(i){this.sections=i}static fromString(i){return new Mi([new _u(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Mi?i:Mi.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class ma{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof ma)return i;if(typeof i=="number")return new ma([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const c of i)if(typeof c!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new ma(i)}}toString(){return JSON.stringify(this.values)}}const Qv=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ea{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof Ea)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let c=0;c<i.length;c+=2){const f=i[c],g=i[c+1];if(typeof f!="string"||!Qv.has(f)||!Array.isArray(g)||g.length!==2||typeof g[0]!="number"||typeof g[1]!="number")return}return new Ea(i)}}toString(){return JSON.stringify(this.values)}}class ki{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new ki({name:i,available:!1}):null}}function bu(l,i,c,f){return typeof l=="number"&&l>=0&&l<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof c=="number"&&c>=0&&c<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,i,c,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,i,c,f]:[l,i,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Tl(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof er||l instanceof Qd||l instanceof Mi||l instanceof ma||l instanceof Ea||l instanceof ki)return!0;if(Array.isArray(l)){for(const i of l)if(!Tl(i))return!1;return!0}if(typeof l=="object"){for(const i in l)if(!Tl(l[i]))return!1;return!0}return!1}function Tr(l){if(l===null)return dr;if(typeof l=="string")return vn;if(typeof l=="boolean")return mn;if(typeof l=="number")return Ct;if(l instanceof er)return Vi;if(l instanceof Qd)return Ps;if(l instanceof Mi)return pe;if(l instanceof ma)return G;if(l instanceof Ea)return oe;if(l instanceof ki)return X;if(Array.isArray(l)){const i=l.length;let c;for(const f of l){const g=Tr(f);if(c){if(c===g)continue;c=yn;break}c=g}return ye(c||yn,i)}return ss}function Gn(l){const i=typeof l;return l===null?"":i==="string"||i==="number"||i==="boolean"?String(l):l instanceof er||l instanceof Mi||l instanceof ma||l instanceof Ea||l instanceof ki?l.toString():JSON.stringify(l)}class Vo{constructor(i,c){this.type=i,this.value=c}static parse(i,c){if(i.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Tl(i[1]))return c.error("invalid value");const f=i[1];let g=Tr(f);const x=c.expectedType;return g.kind!=="array"||g.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(g=x),new Vo(g,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Or{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const xu={string:vn,number:Ct,boolean:mn,object:ss};class Ia{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");let f,g=1;const x=i[0];if(x==="array"){let A,D;if(i.length>2){const O=i[1];if(typeof O!="string"||!(O in xu)||O==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);A=xu[O],g++}else A=yn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return c.error('The length argument to "array" must be a positive integer literal',2);D=i[2],g++}f=ye(A,D)}else{if(!xu[x])throw new Error(`Types doesn't contain name = ${x}`);f=xu[x]}const S=[];for(;g<i.length;g++){const A=c.parse(i[g],g,yn);if(!A)return null;S.push(A)}return new Ia(f,S)}evaluate(i){for(let c=0;c<this.args.length;c++){const f=this.args[c].evaluate(i);if(!Ee(this.type,Tr(f)))return f;if(c===this.args.length-1)throw new Or(`Expected value to be of type ${be(this.type)}, but found ${be(Tr(f))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const eh={"to-boolean":mn,"to-color":Vi,"to-number":Ct,"to-string":vn};class lo{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[0];if(!eh[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&i.length!==2)return c.error("Expected one argument.");const g=eh[f],x=[];for(let S=1;S<i.length;S++){const A=c.parse(i[S],S,yn);if(!A)return null;x.push(A)}return new lo(g,x)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let c,f;for(const g of this.args){if(c=g.evaluate(i),f=null,c instanceof er)return c;if(typeof c=="string"){const x=i.parseColor(c);if(x)return x}else if(Array.isArray(c)&&(f=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:bu(c[0],c[1],c[2],c[3]),!f))return new er(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Or(f||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const f of this.args){c=f.evaluate(i);const g=ma.parse(c);if(g)return g}throw new Or(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const f of this.args){c=f.evaluate(i);const g=Ea.parse(c);if(g)return g}throw new Or(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const f of this.args){if(c=f.evaluate(i),c===null)return 0;const g=Number(c);if(!isNaN(g))return g}throw new Or(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Mi.fromString(Gn(this.args[0].evaluate(i)));case"resolvedImage":return ki.fromString(Gn(this.args[0].evaluate(i)));default:return Gn(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const Pm=["Unknown","Point","LineString","Polygon"];class th{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Pm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let c=this._parseColorCache[i];return c||(c=this._parseColorCache[i]=er.parse(i)),c}}class wu{constructor(i,c,f=[],g,x=new fa,S=[]){this.registry=i,this.path=f,this.key=f.map(A=>`[${A}]`).join(""),this.scope=x,this.errors=S,this.expectedType=g,this._isConstant=c}parse(i,c,f,g,x={}){return c?this.concat(c,f,g)._parse(i,x):this._parse(i,x)}_parse(i,c){function f(g,x,S){return S==="assert"?new Ia(x,[g]):S==="coerce"?new lo(x,[g]):g}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=i[0];if(typeof g!="string")return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const x=this.registry[g];if(x){let S=x.parse(i,this);if(!S)return null;if(this.expectedType){const A=this.expectedType,D=S.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||D.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||D.kind!=="value"&&D.kind!=="string")if(A.kind!=="padding"||D.kind!=="value"&&D.kind!=="number"&&D.kind!=="array")if(A.kind!=="variableAnchorOffsetCollection"||D.kind!=="value"&&D.kind!=="array"){if(this.checkSubtype(A,D))return null}else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"assert")}if(!(S instanceof Vo)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){const A=new th;try{S=new Vo(S.type,S.evaluate(A))}catch(D){return this.error(D.message),null}}return S}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,c,f){const g=typeof i=="number"?this.path.concat(i):this.path,x=f?this.scope.concat(f):this.scope;return new wu(this.registry,this._isConstant,g,c||null,x,this.errors)}error(i,...c){const f=`${this.key}${c.map(g=>`[${g}]`).join("")}`;this.errors.push(new kn(f,i))}checkSubtype(i,c){const f=Ee(i,c);return f&&this.error(f),f}}class Su{constructor(i,c,f){this.type=Ps,this.locale=f,this.caseSensitive=i,this.diacriticSensitive=c}static parse(i,c){if(i.length!==2)return c.error("Expected one argument.");const f=i[1];if(typeof f!="object"||Array.isArray(f))return c.error("Collator options argument must be an object.");const g=c.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,mn);if(!g)return null;const x=c.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,mn);if(!x)return null;let S=null;return f.locale&&(S=c.parse(f.locale,1,vn),!S)?null:new Su(g,x,S)}evaluate(i){return new Qd(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}const co=8192;function nh(l,i){l[0]=Math.min(l[0],i[0]),l[1]=Math.min(l[1],i[1]),l[2]=Math.max(l[2],i[0]),l[3]=Math.max(l[3],i[1])}function gc(l,i){return!(l[0]<=i[0]||l[2]>=i[2]||l[1]<=i[1]||l[3]>=i[3])}function Dm(l,i){const c=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,g=Math.pow(2,i.z);return[Math.round(c*g*co),Math.round(f*g*co)]}function ey(l,i,c){const f=l[0]-i[0],g=l[1]-i[1],x=l[0]-c[0],S=l[1]-c[1];return f*S-x*g==0&&f*x<=0&&g*S<=0}function rh(l,i){let c=!1;for(let S=0,A=i.length;S<A;S++){const D=i[S];for(let O=0,V=D.length;O<V-1;O++){if(ey(l,D[O],D[O+1]))return!1;(g=D[O])[1]>(f=l)[1]!=(x=D[O+1])[1]>f[1]&&f[0]<(x[0]-g[0])*(f[1]-g[1])/(x[1]-g[1])+g[0]&&(c=!c)}}var f,g,x;return c}function ih(l,i){for(let c=0;c<i.length;c++)if(rh(l,i[c]))return!0;return!1}function Mm(l,i,c,f){const g=f[0]-c[0],x=f[1]-c[1],S=(l[0]-c[0])*x-g*(l[1]-c[1]),A=(i[0]-c[0])*x-g*(i[1]-c[1]);return S>0&&A<0||S<0&&A>0}function ty(l,i,c){for(const O of c)for(let V=0;V<O.length-1;++V)if((A=[(S=O[V+1])[0]-(x=O[V])[0],S[1]-x[1]])[0]*(D=[(g=i)[0]-(f=l)[0],g[1]-f[1]])[1]-A[1]*D[0]!=0&&Mm(f,g,x,S)&&Mm(x,S,f,g))return!0;var f,g,x,S,A,D;return!1}function Lm(l,i){for(let c=0;c<l.length;++c)if(!rh(l[c],i))return!1;for(let c=0;c<l.length-1;++c)if(ty(l[c],l[c+1],i))return!1;return!0}function Rm(l,i){for(let c=0;c<i.length;c++)if(Lm(l,i[c]))return!0;return!1}function ku(l,i,c){const f=[];for(let g=0;g<l.length;g++){const x=[];for(let S=0;S<l[g].length;S++){const A=Dm(l[g][S],c);nh(i,A),x.push(A)}f.push(x)}return f}function Om(l,i,c){const f=[];for(let g=0;g<l.length;g++){const x=ku(l[g],i,c);f.push(x)}return f}function Fm(l,i,c,f){if(l[0]<c[0]||l[0]>c[2]){const g=.5*f;let x=l[0]-c[0]>g?-f:c[0]-l[0]>g?f:0;x===0&&(x=l[0]-c[2]>g?-f:c[2]-l[0]>g?f:0),l[0]+=x}nh(i,l)}function ah(l,i,c,f){const g=Math.pow(2,f.z)*co,x=[f.x*co,f.y*co],S=[];for(const A of l)for(const D of A){const O=[D.x+x[0],D.y+x[1]];Fm(O,i,c,g),S.push(O)}return S}function sh(l,i,c,f){const g=Math.pow(2,f.z)*co,x=[f.x*co,f.y*co],S=[];for(const D of l){const O=[];for(const V of D){const U=[V.x+x[0],V.y+x[1]];nh(i,U),O.push(U)}S.push(O)}if(i[2]-i[0]<=g/2){(A=i)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const D of S)for(const O of D)Fm(O,i,c,g)}var A;return S}class No{constructor(i,c){this.type=mn,this.geojson=i,this.geometries=c}static parse(i,c){if(i.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Tl(i[1])){const f=i[1];if(f.type==="FeatureCollection")for(let g=0;g<f.features.length;++g){const x=f.features[g].geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new No(f,f.features[g].geometry)}else if(f.type==="Feature"){const g=f.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new No(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new No(f,f)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(c,f){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=ku(f.coordinates,x,S),D=ah(c.geometry(),g,x,S);if(!gc(g,x))return!1;for(const O of D)if(!rh(O,A))return!1}if(f.type==="MultiPolygon"){const A=Om(f.coordinates,x,S),D=ah(c.geometry(),g,x,S);if(!gc(g,x))return!1;for(const O of D)if(!ih(O,A))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(c,f){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=ku(f.coordinates,x,S),D=sh(c.geometry(),g,x,S);if(!gc(g,x))return!1;for(const O of D)if(!Lm(O,A))return!1}if(f.type==="MultiPolygon"){const A=Om(f.coordinates,x,S),D=sh(c.geometry(),g,x,S);if(!gc(g,x))return!1;for(const O of D)if(!Rm(O,A))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Cu{constructor(i,c){this.type=c.type,this.name=i,this.boundExpression=c}static parse(i,c){if(i.length!==2||typeof i[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const f=i[1];return c.scope.has(f)?new Cu(f,c.scope.get(f)):c.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class Pa{constructor(i,c,f,g){this.name=i,this.type=c,this._evaluate=f,this.args=g}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,c){const f=i[0],g=Pa.definitions[f];if(!g)return c.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const x=Array.isArray(g)?g[0]:g.type,S=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,A=S.filter(([O])=>!Array.isArray(O)||O.length===i.length-1);let D=null;for(const[O,V]of A){D=new wu(c.registry,Tu,c.path,null,c.scope);const U=[];let W=!1;for(let te=1;te<i.length;te++){const ie=i[te],ue=Array.isArray(O)?O[te-1]:O.type,_e=D.parse(ie,1+U.length,ue);if(!_e){W=!0;break}U.push(_e)}if(!W)if(Array.isArray(O)&&O.length!==U.length)D.error(`Expected ${O.length} arguments, but found ${U.length} instead.`);else{for(let te=0;te<U.length;te++){const ie=Array.isArray(O)?O[te]:O.type,ue=U[te];D.concat(te+1).checkSubtype(ie,ue.type)}if(D.errors.length===0)return new Pa(f,x,V,U)}}if(A.length===1)c.errors.push(...D.errors);else{const O=(A.length?A:S).map(([U])=>{return W=U,Array.isArray(W)?`(${W.map(be).join(", ")})`:`(${be(W.type)}...)`;var W}).join(" | "),V=[];for(let U=1;U<i.length;U++){const W=c.parse(i[U],1+V.length);if(!W)return null;V.push(be(W.type))}c.error(`Expected arguments of type ${O}, but found (${V.join(", ")}) instead.`)}return null}static register(i,c){Pa.definitions=c;for(const f in c)i[f]=Pa}}function Tu(l){if(l instanceof Cu)return Tu(l.boundExpression);if(l instanceof Pa&&l.name==="error"||l instanceof Su||l instanceof No)return!1;const i=l instanceof lo||l instanceof Ia;let c=!0;return l.eachChild(f=>{c=i?c&&Tu(f):c&&f instanceof Vo}),!!c&&Au(l)&&Eu(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Au(l){if(l instanceof Pa&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof No)return!1;let i=!0;return l.eachChild(c=>{i&&!Au(c)&&(i=!1)}),i}function vc(l){if(l instanceof Pa&&l.name==="feature-state")return!1;let i=!0;return l.eachChild(c=>{i&&!vc(c)&&(i=!1)}),i}function Eu(l,i){if(l instanceof Pa&&i.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(f=>{c&&!Eu(f,i)&&(c=!1)}),c}function Al(l,i){const c=l.length-1;let f,g,x=0,S=c,A=0;for(;x<=S;)if(A=Math.floor((x+S)/2),f=l[A],g=l[A+1],f<=i){if(A===c||i<g)return A;x=A+1}else{if(!(f>i))throw new Or("Input is not a number.");S=A-1}return 0}class uo{constructor(i,c,f){this.type=i,this.input=c,this.labels=[],this.outputs=[];for(const[g,x]of f)this.labels.push(g),this.outputs.push(x)}static parse(i,c){if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");const f=c.parse(i[1],1,Ct);if(!f)return null;const g=[];let x=null;c.expectedType&&c.expectedType.kind!=="value"&&(x=c.expectedType);for(let S=1;S<i.length;S+=2){const A=S===1?-1/0:i[S],D=i[S+1],O=S,V=S+1;if(typeof A!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',O);if(g.length&&g[g.length-1][0]>=A)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',O);const U=c.parse(D,V,x);if(!U)return null;x=x||U.type,g.push([A,U])}return new uo(x,f,g)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const g=this.input.evaluate(i);if(g<=c[0])return f[0].evaluate(i);const x=c.length;return g>=c[x-1]?f[x-1].evaluate(i):f[Al(c,g)].evaluate(i)}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Fn(l,i,c){return l+c*(i-l)}function Iu(l,i,c){return l.map((f,g)=>Fn(f,i[g],c))}const pa={number:Fn,color:function(l,i,c,f="rgb"){switch(f){case"rgb":{const[g,x,S,A]=Iu(l.rgb,i.rgb,c);return new er(g,x,S,A,!1)}case"hcl":{const[g,x,S,A]=l.hcl,[D,O,V,U]=i.hcl;let W,te;if(isNaN(g)||isNaN(D))isNaN(g)?isNaN(D)?W=NaN:(W=D,S!==1&&S!==0||(te=O)):(W=g,V!==1&&V!==0||(te=x));else{let Oe=D-g;D>g&&Oe>180?Oe-=360:D<g&&g-D>180&&(Oe+=360),W=g+c*Oe}const[ie,ue,_e,we]=function([Oe,Te,ze,Ge]){return Oe=isNaN(Oe)?0:Oe*pn,hr([ze,Math.cos(Oe)*Te,Math.sin(Oe)*Te,Ge])}([W,te??Fn(x,O,c),Fn(S,V,c),Fn(A,U,c)]);return new er(ie,ue,_e,we,!1)}case"lab":{const[g,x,S,A]=hr(Iu(l.lab,i.lab,c));return new er(g,x,S,A,!1)}}},array:Iu,padding:function(l,i,c){return new ma(Iu(l.values,i.values,c))},variableAnchorOffsetCollection:function(l,i,c){const f=l.values,g=i.values;if(f.length!==g.length)throw new Or(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${i.toString()}`);const x=[];for(let S=0;S<f.length;S+=2){if(f[S]!==g[S])throw new Or(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${f[S]}, to[${S}]: ${g[S]}`);x.push(f[S]);const[A,D]=f[S+1],[O,V]=g[S+1];x.push([Fn(A,O,c),Fn(D,V,c)])}return new Ea(x)}};class ga{constructor(i,c,f,g,x){this.type=i,this.operator=c,this.interpolation=f,this.input=g,this.labels=[],this.outputs=[];for(const[S,A]of x)this.labels.push(S),this.outputs.push(A)}static interpolationFactor(i,c,f,g){let x=0;if(i.name==="exponential")x=oh(c,i.base,f,g);else if(i.name==="linear")x=oh(c,1,f,g);else if(i.name==="cubic-bezier"){const S=i.controlPoints;x=new L(S[0],S[1],S[2],S[3]).solve(oh(c,1,f,g))}return x}static parse(i,c){let[f,g,x,...S]=i;if(!Array.isArray(g)||g.length===0)return c.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const O=g[1];if(typeof O!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:O}}else{if(g[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const O=g.slice(1);if(O.length!==4||O.some(V=>typeof V!="number"||V<0||V>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:O}}}if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(x=c.parse(x,2,Ct),!x)return null;const A=[];let D=null;f==="interpolate-hcl"||f==="interpolate-lab"?D=Vi:c.expectedType&&c.expectedType.kind!=="value"&&(D=c.expectedType);for(let O=0;O<S.length;O+=2){const V=S[O],U=S[O+1],W=O+3,te=O+4;if(typeof V!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(A.length&&A[A.length-1][0]>=V)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const ie=c.parse(U,te,D);if(!ie)return null;D=D||ie.type,A.push([V,ie])}return et(D,Ct)||et(D,Vi)||et(D,G)||et(D,oe)||et(D,ye(Ct))?new ga(D,f,g,x,A):c.error(`Type ${be(D)} is not interpolatable.`)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const g=this.input.evaluate(i);if(g<=c[0])return f[0].evaluate(i);const x=c.length;if(g>=c[x-1])return f[x-1].evaluate(i);const S=Al(c,g),A=ga.interpolationFactor(this.interpolation,g,c[S],c[S+1]),D=f[S].evaluate(i),O=f[S+1].evaluate(i);switch(this.operator){case"interpolate":return pa[this.type.kind](D,O,A);case"interpolate-hcl":return pa.color(D,O,A,"hcl");case"interpolate-lab":return pa.color(D,O,A,"lab")}}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function oh(l,i,c,f){const g=f-c,x=l-c;return g===0?0:i===1?x/g:(Math.pow(i,x)-1)/(Math.pow(i,g)-1)}class Pu{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expectected at least one argument.");let f=null;const g=c.expectedType;g&&g.kind!=="value"&&(f=g);const x=[];for(const A of i.slice(1)){const D=c.parse(A,1+x.length,f,void 0,{typeAnnotation:"omit"});if(!D)return null;f=f||D.type,x.push(D)}if(!f)throw new Error("No output type");const S=g&&x.some(A=>Ee(g,A.type));return new Pu(S?yn:f,x)}evaluate(i){let c,f=null,g=0;for(const x of this.args)if(g++,f=x.evaluate(i),f&&f instanceof ki&&!f.available&&(c||(c=f.name),f=null,g===this.args.length&&(f=c)),f!==null)break;return f}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}class Du{constructor(i,c){this.type=c.type,this.bindings=[].concat(i),this.result=c}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const c of this.bindings)i(c[1]);i(this.result)}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const f=[];for(let x=1;x<i.length-1;x+=2){const S=i[x];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,x);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",x);const A=c.parse(i[x+1],x+1);if(!A)return null;f.push([S,A])}const g=c.parse(i[i.length-1],i.length-1,c.expectedType,f);return g?new Du(f,g):null}outputDefined(){return this.result.outputDefined()}}class lh{constructor(i,c,f){this.type=i,this.index=c,this.input=f}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,Ct),g=c.parse(i[2],2,ye(c.expectedType||yn));return f&&g?new lh(g.type.itemType,f,g):null}evaluate(i){const c=this.index.evaluate(i),f=this.input.evaluate(i);if(c<0)throw new Or(`Array index out of bounds: ${c} < 0.`);if(c>=f.length)throw new Or(`Array index out of bounds: ${c} > ${f.length-1}.`);if(c!==Math.floor(c))throw new Or(`Array index must be an integer, but found ${c} instead.`);return f[c]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class ch{constructor(i,c){this.type=mn,this.needle=i,this.haystack=c}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,yn),g=c.parse(i[2],2,yn);return f&&g?Se(f.type,[mn,vn,Ct,dr,yn])?new ch(f,g):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(f.type)} instead`):null}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!f)return!1;if(!Re(c,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${be(Tr(c))} instead.`);if(!Re(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${be(Tr(f))} instead.`);return f.indexOf(c)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class Mu{constructor(i,c,f){this.type=Ct,this.needle=i,this.haystack=c,this.fromIndex=f}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,yn),g=c.parse(i[2],2,yn);if(!f||!g)return null;if(!Se(f.type,[mn,vn,Ct,dr,yn]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${be(f.type)} instead`);if(i.length===4){const x=c.parse(i[3],3,Ct);return x?new Mu(f,g,x):null}return new Mu(f,g)}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!Re(c,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${be(Tr(c))} instead.`);if(!Re(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${be(Tr(f))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(i);return f.indexOf(c,g)}return f.indexOf(c)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class uh{constructor(i,c,f,g,x,S){this.inputType=i,this.type=c,this.input=f,this.cases=g,this.outputs=x,this.otherwise=S}static parse(i,c){if(i.length<5)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return c.error("Expected an even number of arguments.");let f,g;c.expectedType&&c.expectedType.kind!=="value"&&(g=c.expectedType);const x={},S=[];for(let O=2;O<i.length-1;O+=2){let V=i[O];const U=i[O+1];Array.isArray(V)||(V=[V]);const W=c.concat(O);if(V.length===0)return W.error("Expected at least one branch label.");for(const ie of V){if(typeof ie!="number"&&typeof ie!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ie=="number"&&Math.abs(ie)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ie=="number"&&Math.floor(ie)!==ie)return W.error("Numeric branch labels must be integer values.");if(f){if(W.checkSubtype(f,Tr(ie)))return null}else f=Tr(ie);if(x[String(ie)]!==void 0)return W.error("Branch labels must be unique.");x[String(ie)]=S.length}const te=c.parse(U,O,g);if(!te)return null;g=g||te.type,S.push(te)}const A=c.parse(i[1],1,yn);if(!A)return null;const D=c.parse(i[i.length-1],i.length-1,g);return D?A.type.kind!=="value"&&c.concat(1).checkSubtype(f,A.type)?null:new uh(f,g,A,x,S,D):null}evaluate(i){const c=this.input.evaluate(i);return(Tr(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class dh{constructor(i,c,f){this.type=i,this.branches=c,this.otherwise=f}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return c.error("Expected an odd number of arguments.");let f;c.expectedType&&c.expectedType.kind!=="value"&&(f=c.expectedType);const g=[];for(let S=1;S<i.length-1;S+=2){const A=c.parse(i[S],S,mn);if(!A)return null;const D=c.parse(i[S+1],S+1,f);if(!D)return null;g.push([A,D]),f=f||D.type}const x=c.parse(i[i.length-1],i.length-1,f);if(!x)return null;if(!f)throw new Error("Can't infer output type");return new dh(f,g,x)}evaluate(i){for(const[c,f]of this.branches)if(c.evaluate(i))return f.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[c,f]of this.branches)i(c),i(f);i(this.otherwise)}outputDefined(){return this.branches.every(([i,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class Lu{constructor(i,c,f,g){this.type=i,this.input=c,this.beginIndex=f,this.endIndex=g}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,yn),g=c.parse(i[2],2,Ct);if(!f||!g)return null;if(!Se(f.type,[ye(yn),vn,yn]))return c.error(`Expected first argument to be of type array or string, but found ${be(f.type)} instead`);if(i.length===4){const x=c.parse(i[3],3,Ct);return x?new Lu(f.type,f,g,x):null}return new Lu(f.type,f,g)}evaluate(i){const c=this.input.evaluate(i),f=this.beginIndex.evaluate(i);if(!Re(c,["string","array"]))throw new Or(`Expected first argument to be of type array or string, but found ${be(Tr(c))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(i);return c.slice(f,g)}return c.slice(f)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function zm(l,i){return l==="=="||l==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Bm(l,i,c,f){return f.compare(i,c)===0}function El(l,i,c){const f=l!=="=="&&l!=="!=";return class EA{constructor(x,S,A){this.type=mn,this.lhs=x,this.rhs=S,this.collator=A,this.hasUntypedArgument=x.type.kind==="value"||S.type.kind==="value"}static parse(x,S){if(x.length!==3&&x.length!==4)return S.error("Expected two or three arguments.");const A=x[0];let D=S.parse(x[1],1,yn);if(!D)return null;if(!zm(A,D.type))return S.concat(1).error(`"${A}" comparisons are not supported for type '${be(D.type)}'.`);let O=S.parse(x[2],2,yn);if(!O)return null;if(!zm(A,O.type))return S.concat(2).error(`"${A}" comparisons are not supported for type '${be(O.type)}'.`);if(D.type.kind!==O.type.kind&&D.type.kind!=="value"&&O.type.kind!=="value")return S.error(`Cannot compare types '${be(D.type)}' and '${be(O.type)}'.`);f&&(D.type.kind==="value"&&O.type.kind!=="value"?D=new Ia(O.type,[D]):D.type.kind!=="value"&&O.type.kind==="value"&&(O=new Ia(D.type,[O])));let V=null;if(x.length===4){if(D.type.kind!=="string"&&O.type.kind!=="string"&&D.type.kind!=="value"&&O.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(V=S.parse(x[3],3,Ps),!V)return null}return new EA(D,O,V)}evaluate(x){const S=this.lhs.evaluate(x),A=this.rhs.evaluate(x);if(f&&this.hasUntypedArgument){const D=Tr(S),O=Tr(A);if(D.kind!==O.kind||D.kind!=="string"&&D.kind!=="number")throw new Or(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${D.kind}, ${O.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const D=Tr(S),O=Tr(A);if(D.kind!=="string"||O.kind!=="string")return i(x,S,A)}return this.collator?c(x,S,A,this.collator.evaluate(x)):i(x,S,A)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}const ny=El("==",function(l,i,c){return i===c},Bm),ry=El("!=",function(l,i,c){return i!==c},function(l,i,c,f){return!Bm(0,i,c,f)}),iy=El("<",function(l,i,c){return i<c},function(l,i,c,f){return f.compare(i,c)<0}),ay=El(">",function(l,i,c){return i>c},function(l,i,c,f){return f.compare(i,c)>0}),sy=El("<=",function(l,i,c){return i<=c},function(l,i,c,f){return f.compare(i,c)<=0}),oy=El(">=",function(l,i,c){return i>=c},function(l,i,c,f){return f.compare(i,c)>=0});class hh{constructor(i,c,f,g,x){this.type=vn,this.number=i,this.locale=c,this.currency=f,this.minFractionDigits=g,this.maxFractionDigits=x}static parse(i,c){if(i.length!==3)return c.error("Expected two arguments.");const f=c.parse(i[1],1,Ct);if(!f)return null;const g=i[2];if(typeof g!="object"||Array.isArray(g))return c.error("NumberFormat options argument must be an object.");let x=null;if(g.locale&&(x=c.parse(g.locale,1,vn),!x))return null;let S=null;if(g.currency&&(S=c.parse(g.currency,1,vn),!S))return null;let A=null;if(g["min-fraction-digits"]&&(A=c.parse(g["min-fraction-digits"],1,Ct),!A))return null;let D=null;return g["max-fraction-digits"]&&(D=c.parse(g["max-fraction-digits"],1,Ct),!D)?null:new hh(f,x,S,A,D)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class Ru{constructor(i){this.type=pe,this.sections=i}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[1];if(!Array.isArray(f)&&typeof f=="object")return c.error("First argument must be an image or text section.");const g=[];let x=!1;for(let S=1;S<=i.length-1;++S){const A=i[S];if(x&&typeof A=="object"&&!Array.isArray(A)){x=!1;let D=null;if(A["font-scale"]&&(D=c.parse(A["font-scale"],1,Ct),!D))return null;let O=null;if(A["text-font"]&&(O=c.parse(A["text-font"],1,ye(vn)),!O))return null;let V=null;if(A["text-color"]&&(V=c.parse(A["text-color"],1,Vi),!V))return null;const U=g[g.length-1];U.scale=D,U.font=O,U.textColor=V}else{const D=c.parse(i[S],1,yn);if(!D)return null;const O=D.type.kind;if(O!=="string"&&O!=="value"&&O!=="null"&&O!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,g.push({content:D,scale:null,font:null,textColor:null})}}return new Ru(g)}evaluate(i){return new Mi(this.sections.map(c=>{const f=c.content.evaluate(i);return Tr(f)===X?new _u("",f,null,null,null):new _u(Gn(f),null,c.scale?c.scale.evaluate(i):null,c.font?c.font.evaluate(i).join(","):null,c.textColor?c.textColor.evaluate(i):null)}))}eachChild(i){for(const c of this.sections)i(c.content),c.scale&&i(c.scale),c.font&&i(c.font),c.textColor&&i(c.textColor)}outputDefined(){return!1}}class fh{constructor(i){this.type=X,this.input=i}static parse(i,c){if(i.length!==2)return c.error("Expected two arguments.");const f=c.parse(i[1],1,vn);return f?new fh(f):c.error("No image name provided.")}evaluate(i){const c=this.input.evaluate(i),f=ki.fromString(c);return f&&i.availableImages&&(f.available=i.availableImages.indexOf(c)>-1),f}eachChild(i){i(this.input)}outputDefined(){return!1}}class mh{constructor(i){this.type=Ct,this.input=i}static parse(i,c){if(i.length!==2)return c.error(`Expected 1 argument, but found ${i.length-1} instead.`);const f=c.parse(i[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${be(f.type)} instead.`):new mh(f):null}evaluate(i){const c=this.input.evaluate(i);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Or(`Expected value to be of type string or array, but found ${be(Tr(c))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const Il={"==":ny,"!=":ry,">":ay,"<":iy,">=":oy,"<=":sy,array:Ia,at:lh,boolean:Ia,case:dh,coalesce:Pu,collator:Su,format:Ru,image:fh,in:ch,"index-of":Mu,interpolate:ga,"interpolate-hcl":ga,"interpolate-lab":ga,length:mh,let:Du,literal:Vo,match:uh,number:Ia,"number-format":hh,object:Ia,slice:Lu,step:uo,string:Ia,"to-boolean":lo,"to-color":lo,"to-number":lo,"to-string":lo,var:Cu,within:No};function Vm(l,[i,c,f,g]){i=i.evaluate(l),c=c.evaluate(l),f=f.evaluate(l);const x=g?g.evaluate(l):1,S=bu(i,c,f,x);if(S)throw new Or(S);return new er(i/255,c/255,f/255,x,!1)}function Nm(l,i){return l in i}function ph(l,i){const c=i[l];return c===void 0?null:c}function $o(l){return{type:l}}function $m(l){return{result:"success",value:l}}function ho(l){return{result:"error",value:l}}function Pl(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function Um(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function gh(l){return!!l.expression&&l.expression.interpolated}function Wn(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Ar(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function ly(l){return l}function zn(l,i){const c=i.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",g=f||!(f||l.property!==void 0),x=l.type||(gh(i)?"exponential":"interval");if(c||i.type==="padding"){const V=c?er.parse:ma.parse;(l=xi({},l)).stops&&(l.stops=l.stops.map(U=>[U[0],V(U[1])])),l.default=V(l.default?l.default:i.default)}if(l.colorSpace&&(S=l.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var S;let A,D,O;if(x==="exponential")A=yc;else if(x==="interval")A=kr;else if(x==="categorical"){A=Er,D=Object.create(null);for(const V of l.stops)D[V[0]]=V[1];O=typeof l.stops[0][0]}else{if(x!=="identity")throw new Error(`Unknown function type "${x}"`);A=qm}if(f){const V={},U=[];for(let ie=0;ie<l.stops.length;ie++){const ue=l.stops[ie],_e=ue[0].zoom;V[_e]===void 0&&(V[_e]={zoom:_e,type:l.type,property:l.property,default:l.default,stops:[]},U.push(_e)),V[_e].stops.push([ue[0].value,ue[1]])}const W=[];for(const ie of U)W.push([V[ie].zoom,zn(V[ie],i)]);const te={name:"linear"};return{kind:"composite",interpolationType:te,interpolationFactor:ga.interpolationFactor.bind(void 0,te),zoomStops:W.map(ie=>ie[0]),evaluate:({zoom:ie},ue)=>yc({stops:W,base:l.base},i,ie).evaluate(ie,ue)}}if(g){const V=x==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:V,interpolationFactor:ga.interpolationFactor.bind(void 0,V),zoomStops:l.stops.map(U=>U[0]),evaluate:({zoom:U})=>A(l,i,U,D,O)}}return{kind:"source",evaluate(V,U){const W=U&&U.properties?U.properties[l.property]:void 0;return W===void 0?Uo(l.default,i.default):A(l,i,W,D,O)}}}function Uo(l,i,c){return l!==void 0?l:i!==void 0?i:c!==void 0?c:void 0}function Er(l,i,c,f,g){return Uo(typeof c===g?f[c]:void 0,l.default,i.default)}function kr(l,i,c){if(Wn(c)!=="number")return Uo(l.default,i.default);const f=l.stops.length;if(f===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[f-1][0])return l.stops[f-1][1];const g=Al(l.stops.map(x=>x[0]),c);return l.stops[g][1]}function yc(l,i,c){const f=l.base!==void 0?l.base:1;if(Wn(c)!=="number")return Uo(l.default,i.default);const g=l.stops.length;if(g===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[g-1][0])return l.stops[g-1][1];const x=Al(l.stops.map(V=>V[0]),c),S=function(V,U,W,te){const ie=te-W,ue=V-W;return ie===0?0:U===1?ue/ie:(Math.pow(U,ue)-1)/(Math.pow(U,ie)-1)}(c,f,l.stops[x][0],l.stops[x+1][0]),A=l.stops[x][1],D=l.stops[x+1][1],O=pa[i.type]||ly;return typeof A.evaluate=="function"?{evaluate(...V){const U=A.evaluate.apply(void 0,V),W=D.evaluate.apply(void 0,V);if(U!==void 0&&W!==void 0)return O(U,W,S,l.colorSpace)}}:O(A,D,S,l.colorSpace)}function qm(l,i,c){switch(i.type){case"color":c=er.parse(c);break;case"formatted":c=Mi.fromString(c.toString());break;case"resolvedImage":c=ki.fromString(c.toString());break;case"padding":c=ma.parse(c);break;default:Wn(c)===i.type||i.type==="enum"&&i.values[c]||(c=void 0)}return Uo(c,l.default,i.default)}Pa.register(Il,{error:[{kind:"error"},[vn],(l,[i])=>{throw new Or(i.evaluate(l))}],typeof:[vn,[yn],(l,[i])=>be(Tr(i.evaluate(l)))],"to-rgba":[ye(Ct,4),[Vi],(l,[i])=>{const[c,f,g,x]=i.evaluate(l).rgb;return[255*c,255*f,255*g,x]}],rgb:[Vi,[Ct,Ct,Ct],Vm],rgba:[Vi,[Ct,Ct,Ct,Ct],Vm],has:{type:mn,overloads:[[[vn],(l,[i])=>Nm(i.evaluate(l),l.properties())],[[vn,ss],(l,[i,c])=>Nm(i.evaluate(l),c.evaluate(l))]]},get:{type:yn,overloads:[[[vn],(l,[i])=>ph(i.evaluate(l),l.properties())],[[vn,ss],(l,[i,c])=>ph(i.evaluate(l),c.evaluate(l))]]},"feature-state":[yn,[vn],(l,[i])=>ph(i.evaluate(l),l.featureState||{})],properties:[ss,[],l=>l.properties()],"geometry-type":[vn,[],l=>l.geometryType()],id:[yn,[],l=>l.id()],zoom:[Ct,[],l=>l.globals.zoom],"heatmap-density":[Ct,[],l=>l.globals.heatmapDensity||0],"line-progress":[Ct,[],l=>l.globals.lineProgress||0],accumulated:[yn,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[Ct,$o(Ct),(l,i)=>{let c=0;for(const f of i)c+=f.evaluate(l);return c}],"*":[Ct,$o(Ct),(l,i)=>{let c=1;for(const f of i)c*=f.evaluate(l);return c}],"-":{type:Ct,overloads:[[[Ct,Ct],(l,[i,c])=>i.evaluate(l)-c.evaluate(l)],[[Ct],(l,[i])=>-i.evaluate(l)]]},"/":[Ct,[Ct,Ct],(l,[i,c])=>i.evaluate(l)/c.evaluate(l)],"%":[Ct,[Ct,Ct],(l,[i,c])=>i.evaluate(l)%c.evaluate(l)],ln2:[Ct,[],()=>Math.LN2],pi:[Ct,[],()=>Math.PI],e:[Ct,[],()=>Math.E],"^":[Ct,[Ct,Ct],(l,[i,c])=>Math.pow(i.evaluate(l),c.evaluate(l))],sqrt:[Ct,[Ct],(l,[i])=>Math.sqrt(i.evaluate(l))],log10:[Ct,[Ct],(l,[i])=>Math.log(i.evaluate(l))/Math.LN10],ln:[Ct,[Ct],(l,[i])=>Math.log(i.evaluate(l))],log2:[Ct,[Ct],(l,[i])=>Math.log(i.evaluate(l))/Math.LN2],sin:[Ct,[Ct],(l,[i])=>Math.sin(i.evaluate(l))],cos:[Ct,[Ct],(l,[i])=>Math.cos(i.evaluate(l))],tan:[Ct,[Ct],(l,[i])=>Math.tan(i.evaluate(l))],asin:[Ct,[Ct],(l,[i])=>Math.asin(i.evaluate(l))],acos:[Ct,[Ct],(l,[i])=>Math.acos(i.evaluate(l))],atan:[Ct,[Ct],(l,[i])=>Math.atan(i.evaluate(l))],min:[Ct,$o(Ct),(l,i)=>Math.min(...i.map(c=>c.evaluate(l)))],max:[Ct,$o(Ct),(l,i)=>Math.max(...i.map(c=>c.evaluate(l)))],abs:[Ct,[Ct],(l,[i])=>Math.abs(i.evaluate(l))],round:[Ct,[Ct],(l,[i])=>{const c=i.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[Ct,[Ct],(l,[i])=>Math.floor(i.evaluate(l))],ceil:[Ct,[Ct],(l,[i])=>Math.ceil(i.evaluate(l))],"filter-==":[mn,[vn,yn],(l,[i,c])=>l.properties()[i.value]===c.value],"filter-id-==":[mn,[yn],(l,[i])=>l.id()===i.value],"filter-type-==":[mn,[vn],(l,[i])=>l.geometryType()===i.value],"filter-<":[mn,[vn,yn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f<g}],"filter-id-<":[mn,[yn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<f}],"filter->":[mn,[vn,yn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f>g}],"filter-id->":[mn,[yn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>f}],"filter-<=":[mn,[vn,yn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f<=g}],"filter-id-<=":[mn,[yn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<=f}],"filter->=":[mn,[vn,yn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f>=g}],"filter-id->=":[mn,[yn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>=f}],"filter-has":[mn,[yn],(l,[i])=>i.value in l.properties()],"filter-has-id":[mn,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[mn,[ye(vn)],(l,[i])=>i.value.indexOf(l.geometryType())>=0],"filter-id-in":[mn,[ye(yn)],(l,[i])=>i.value.indexOf(l.id())>=0],"filter-in-small":[mn,[vn,ye(yn)],(l,[i,c])=>c.value.indexOf(l.properties()[i.value])>=0],"filter-in-large":[mn,[vn,ye(yn)],(l,[i,c])=>function(f,g,x,S){for(;x<=S;){const A=x+S>>1;if(g[A]===f)return!0;g[A]>f?S=A-1:x=A+1}return!1}(l.properties()[i.value],c.value,0,c.value.length-1)],all:{type:mn,overloads:[[[mn,mn],(l,[i,c])=>i.evaluate(l)&&c.evaluate(l)],[$o(mn),(l,i)=>{for(const c of i)if(!c.evaluate(l))return!1;return!0}]]},any:{type:mn,overloads:[[[mn,mn],(l,[i,c])=>i.evaluate(l)||c.evaluate(l)],[$o(mn),(l,i)=>{for(const c of i)if(c.evaluate(l))return!0;return!1}]]},"!":[mn,[mn],(l,[i])=>!i.evaluate(l)],"is-supported-script":[mn,[vn],(l,[i])=>{const c=l.globals&&l.globals.isSupportedScript;return!c||c(i.evaluate(l))}],upcase:[vn,[vn],(l,[i])=>i.evaluate(l).toUpperCase()],downcase:[vn,[vn],(l,[i])=>i.evaluate(l).toLowerCase()],concat:[vn,$o(yn),(l,i)=>i.map(c=>Gn(c.evaluate(l))).join("")],"resolved-locale":[vn,[Ps],(l,[i])=>i.evaluate(l).resolvedLocale()]});class vh{constructor(i,c){var f;this.expression=i,this._warningHistory={},this._evaluator=new th,this._defaultValue=c?(f=c).type==="color"&&Ar(f.default)?new er(0,0,0,0):f.type==="color"?er.parse(f.default)||null:f.type==="padding"?ma.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?Ea.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(i,c,f,g,x,S){return this._evaluator.globals=i,this._evaluator.feature=c,this._evaluator.featureState=f,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(i,c,f,g,x,S){this._evaluator.globals=i,this._evaluator.feature=c||null,this._evaluator.featureState=f||null,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Or(`Expected value to be one of ${Object.keys(this._enumValues).map(D=>JSON.stringify(D)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Ou(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Il}function Fu(l,i){const c=new wu(Il,Tu,[],i?function(g){const x={color:Vi,string:vn,number:Ct,enum:vn,boolean:mn,formatted:pe,padding:G,resolvedImage:X,variableAnchorOffsetCollection:oe};return g.type==="array"?ye(x[g.value]||yn,g.length):x[g.type]}(i):void 0),f=c.parse(l,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?$m(new vh(f,i)):ho(c.errors)}class yh{constructor(i,c){this.kind=i,this._styleExpression=c,this.isStateDependent=i!=="constant"&&!vc(c.expression)}evaluateWithoutErrorHandling(i,c,f,g,x,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,g,x,S)}evaluate(i,c,f,g,x,S){return this._styleExpression.evaluate(i,c,f,g,x,S)}}class zu{constructor(i,c,f,g){this.kind=i,this.zoomStops=f,this._styleExpression=c,this.isStateDependent=i!=="camera"&&!vc(c.expression),this.interpolationType=g}evaluateWithoutErrorHandling(i,c,f,g,x,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,g,x,S)}evaluate(i,c,f,g,x,S){return this._styleExpression.evaluate(i,c,f,g,x,S)}interpolationFactor(i,c,f){return this.interpolationType?ga.interpolationFactor(this.interpolationType,i,c,f):0}}function _h(l,i){const c=Fu(l,i);if(c.result==="error")return c;const f=c.value.expression,g=Au(f);if(!g&&!Pl(i))return ho([new kn("","data expressions not supported")]);const x=Eu(f,["zoom"]);if(!x&&!Um(i))return ho([new kn("","zoom expressions not supported")]);const S=bc(f);return S||x?S instanceof kn?ho([S]):S instanceof ga&&!gh(i)?ho([new kn("",'"interpolate" expressions cannot be used with this property')]):$m(S?new zu(g?"camera":"composite",c.value,S.labels,S instanceof ga?S.interpolation:void 0):new yh(g?"constant":"source",c.value)):ho([new kn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class _c{constructor(i,c){this._parameters=i,this._specification=c,xi(this,zn(this._parameters,this._specification))}static deserialize(i){return new _c(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function bc(l){let i=null;if(l instanceof Du)i=bc(l.result);else if(l instanceof Pu){for(const c of l.args)if(i=bc(c),i)break}else(l instanceof uo||l instanceof ga)&&l.input instanceof Pa&&l.input.name==="zoom"&&(i=l);return i instanceof kn||l.eachChild(c=>{const f=bc(c);f instanceof kn?i=f:!i&&f?i=new kn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&f&&i!==f&&(i=new kn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function xc(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const i of l.slice(1))if(!xc(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const cy={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function bh(l){if(l==null)return{filter:()=>!0,needGeometry:!1};xc(l)||(l=Bu(l));const i=Fu(l,cy);if(i.result==="error")throw new Error(i.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,f,g)=>i.value.evaluate(c,f,{},g),needGeometry:jm(l)}}function uy(l,i){return l<i?-1:l>i?1:0}function jm(l){if(!Array.isArray(l))return!1;if(l[0]==="within")return!0;for(let i=1;i<l.length;i++)if(jm(l[i]))return!0;return!1}function Bu(l){if(!l)return!0;const i=l[0];return l.length<=1?i!=="any":i==="=="?xh(l[1],l[2],"=="):i==="!="?wc(xh(l[1],l[2],"==")):i==="<"||i===">"||i==="<="||i===">="?xh(l[1],l[2],i):i==="any"?(c=l.slice(1),["any"].concat(c.map(Bu))):i==="all"?["all"].concat(l.slice(1).map(Bu)):i==="none"?["all"].concat(l.slice(1).map(Bu).map(wc)):i==="in"?Hm(l[1],l.slice(2)):i==="!in"?wc(Hm(l[1],l.slice(2))):i==="has"?Gm(l[1]):i==="!has"?wc(Gm(l[1])):i!=="within"||l;var c}function xh(l,i,c){switch(l){case"$type":return[`filter-type-${c}`,i];case"$id":return[`filter-id-${c}`,i];default:return[`filter-${c}`,l,i]}}function Hm(l,i){if(i.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(c=>typeof c!=typeof i[0])?["filter-in-large",l,["literal",i.sort(uy)]]:["filter-in-small",l,["literal",i]]}}function Gm(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function wc(l){return["!",l]}function Vu(l){const i=typeof l;if(i==="number"||i==="boolean"||i==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let g="[";for(const x of l)g+=`${Vu(x)},`;return`${g}]`}const c=Object.keys(l).sort();let f="{";for(let g=0;g<c.length;g++)f+=`${JSON.stringify(c[g])}:${Vu(l[c[g]])},`;return`${f}}`}function Nu(l){let i="";for(const c of yt)i+=`/${Vu(l[c])}`;return i}function Wm(l){const i=l.value;return i?[new gt(l.key,i,"constants have been deprecated as of v8")]:[]}function Fr(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function qo(l){if(Array.isArray(l))return l.map(qo);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const i={};for(const c in l)i[c]=qo(l[c]);return i}return Fr(l)}function Xi(l){const i=l.key,c=l.value,f=l.valueSpec||{},g=l.objectElementValidators||{},x=l.style,S=l.styleSpec,A=l.validateSpec;let D=[];const O=Wn(c);if(O!=="object")return[new gt(i,c,`object expected, ${O} found`)];for(const V in c){const U=V.split(".")[0],W=f[U]||f["*"];let te;if(g[U])te=g[U];else if(f[U])te=A;else if(g["*"])te=g["*"];else{if(!f["*"]){D.push(new gt(i,c[V],`unknown property "${V}"`));continue}te=A}D=D.concat(te({key:(i&&`${i}.`)+V,value:c[V],valueSpec:W,style:x,styleSpec:S,object:c,objectKey:V,validateSpec:A},c))}for(const V in f)g[V]||f[V].required&&f[V].default===void 0&&c[V]===void 0&&D.push(new gt(i,c,`missing required property "${V}"`));return D}function Dl(l){const i=l.value,c=l.valueSpec,f=l.style,g=l.styleSpec,x=l.key,S=l.arrayElementValidator||l.validateSpec;if(Wn(i)!=="array")return[new gt(x,i,`array expected, ${Wn(i)} found`)];if(c.length&&i.length!==c.length)return[new gt(x,i,`array length ${c.length} expected, length ${i.length} found`)];if(c["min-length"]&&i.length<c["min-length"])return[new gt(x,i,`array length at least ${c["min-length"]} expected, length ${i.length} found`)];let A={type:c.value,values:c.values};g.$version<7&&(A.function=c.function),Wn(c.value)==="object"&&(A=c.value);let D=[];for(let O=0;O<i.length;O++)D=D.concat(S({array:i,arrayIndex:O,value:i[O],valueSpec:A,validateSpec:l.validateSpec,style:f,styleSpec:g,key:`${x}[${O}]`}));return D}function Sc(l){const i=l.key,c=l.value,f=l.valueSpec;let g=Wn(c);return g==="number"&&c!=c&&(g="NaN"),g!=="number"?[new gt(i,c,`number expected, ${g} found`)]:"minimum"in f&&c<f.minimum?[new gt(i,c,`${c} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&c>f.maximum?[new gt(i,c,`${c} is greater than the maximum value ${f.maximum}`)]:[]}function $u(l){const i=l.valueSpec,c=Fr(l.value.type);let f,g,x,S={};const A=c!=="categorical"&&l.value.property===void 0,D=!A,O=Wn(l.value.stops)==="array"&&Wn(l.value.stops[0])==="array"&&Wn(l.value.stops[0][0])==="object",V=Xi({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(te){if(c==="identity")return[new gt(te.key,te.value,'identity function may not have a "stops" property')];let ie=[];const ue=te.value;return ie=ie.concat(Dl({key:te.key,value:ue,valueSpec:te.valueSpec,validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec,arrayElementValidator:U})),Wn(ue)==="array"&&ue.length===0&&ie.push(new gt(te.key,ue,"array must have at least one stop")),ie},default:function(te){return te.validateSpec({key:te.key,value:te.value,valueSpec:i,validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec})}}});return c==="identity"&&A&&V.push(new gt(l.key,l.value,'missing required property "property"')),c==="identity"||l.value.stops||V.push(new gt(l.key,l.value,'missing required property "stops"')),c==="exponential"&&l.valueSpec.expression&&!gh(l.valueSpec)&&V.push(new gt(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(D&&!Pl(l.valueSpec)?V.push(new gt(l.key,l.value,"property functions not supported")):A&&!Um(l.valueSpec)&&V.push(new gt(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!O||l.value.property!==void 0||V.push(new gt(l.key,l.value,'"property" property is required')),V;function U(te){let ie=[];const ue=te.value,_e=te.key;if(Wn(ue)!=="array")return[new gt(_e,ue,`array expected, ${Wn(ue)} found`)];if(ue.length!==2)return[new gt(_e,ue,`array length 2 expected, length ${ue.length} found`)];if(O){if(Wn(ue[0])!=="object")return[new gt(_e,ue,`object expected, ${Wn(ue[0])} found`)];if(ue[0].zoom===void 0)return[new gt(_e,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new gt(_e,ue,"object stop key must have value")];if(x&&x>Fr(ue[0].zoom))return[new gt(_e,ue[0].zoom,"stop zoom values must appear in ascending order")];Fr(ue[0].zoom)!==x&&(x=Fr(ue[0].zoom),g=void 0,S={}),ie=ie.concat(Xi({key:`${_e}[0]`,value:ue[0],valueSpec:{zoom:{}},validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec,objectElementValidators:{zoom:Sc,value:W}}))}else ie=ie.concat(W({key:`${_e}[0]`,value:ue[0],valueSpec:{},validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec},ue));return Ou(qo(ue[1]))?ie.concat([new gt(`${_e}[1]`,ue[1],"expressions are not allowed in function stops.")]):ie.concat(te.validateSpec({key:`${_e}[1]`,value:ue[1],valueSpec:i,validateSpec:te.validateSpec,style:te.style,styleSpec:te.styleSpec}))}function W(te,ie){const ue=Wn(te.value),_e=Fr(te.value),we=te.value!==null?te.value:ie;if(f){if(ue!==f)return[new gt(te.key,we,`${ue} stop domain type must match previous stop domain type ${f}`)]}else f=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean")return[new gt(te.key,we,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&c!=="categorical"){let Oe=`number expected, ${ue} found`;return Pl(i)&&c===void 0&&(Oe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new gt(te.key,we,Oe)]}return c!=="categorical"||ue!=="number"||isFinite(_e)&&Math.floor(_e)===_e?c!=="categorical"&&ue==="number"&&g!==void 0&&_e<g?[new gt(te.key,we,"stop domain values must appear in ascending order")]:(g=_e,c==="categorical"&&_e in S?[new gt(te.key,we,"stop domain values must be unique")]:(S[_e]=!0,[])):[new gt(te.key,we,`integer expected, found ${_e}`)]}}function jo(l){const i=(l.expressionContext==="property"?_h:Fu)(qo(l.value),l.valueSpec);if(i.result==="error")return i.value.map(f=>new gt(`${l.key}${f.key}`,l.value,f.message));const c=i.value.expression||i.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new gt(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!vc(c))return[new gt(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!vc(c))return[new gt(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!Eu(c,["zoom","feature-state"]))return[new gt(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!Au(c))return[new gt(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function kc(l){const i=l.key,c=l.value,f=l.valueSpec,g=[];return Array.isArray(f.values)?f.values.indexOf(Fr(c))===-1&&g.push(new gt(i,c,`expected one of [${f.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(f.values).indexOf(Fr(c))===-1&&g.push(new gt(i,c,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(c)} found`)),g}function Ml(l){return xc(qo(l.value))?jo(xi({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Ym(l)}function Ym(l){const i=l.value,c=l.key;if(Wn(i)!=="array")return[new gt(c,i,`array expected, ${Wn(i)} found`)];const f=l.styleSpec;let g,x=[];if(i.length<1)return[new gt(c,i,"filter array must have at least 1 element")];switch(x=x.concat(kc({key:`${c}[0]`,value:i[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),Fr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Fr(i[1])==="$type"&&x.push(new gt(c,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&x.push(new gt(c,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(g=Wn(i[1]),g!=="string"&&x.push(new gt(`${c}[1]`,i[1],`string expected, ${g} found`)));for(let S=2;S<i.length;S++)g=Wn(i[S]),Fr(i[1])==="$type"?x=x.concat(kc({key:`${c}[${S}]`,value:i[S],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&x.push(new gt(`${c}[${S}]`,i[S],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let S=1;S<i.length;S++)x=x.concat(Ym({key:`${c}[${S}]`,value:i[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":g=Wn(i[1]),i.length!==2?x.push(new gt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):g!=="string"&&x.push(new gt(`${c}[1]`,i[1],`string expected, ${g} found`));break;case"within":g=Wn(i[1]),i.length!==2?x.push(new gt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):g!=="object"&&x.push(new gt(`${c}[1]`,i[1],`object expected, ${g} found`))}return x}function Zm(l,i){const c=l.key,f=l.validateSpec,g=l.style,x=l.styleSpec,S=l.value,A=l.objectKey,D=x[`${i}_${l.layerType}`];if(!D)return[];const O=A.match(/^(.*)-transition$/);if(i==="paint"&&O&&D[O[1]]&&D[O[1]].transition)return f({key:c,value:S,valueSpec:x.transition,style:g,styleSpec:x});const V=l.valueSpec||D[A];if(!V)return[new gt(c,S,`unknown property "${A}"`)];let U;if(Wn(S)==="string"&&Pl(V)&&!V.tokens&&(U=/^{([^}]+)}$/.exec(S)))return[new gt(c,S,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(U[1])} }\`.`)];const W=[];return l.layerType==="symbol"&&(A==="text-field"&&g&&!g.glyphs&&W.push(new gt(c,S,'use of "text-field" requires a style "glyphs" property')),A==="text-font"&&Ar(qo(S))&&Fr(S.type)==="identity"&&W.push(new gt(c,S,'"text-font" does not support identity functions'))),W.concat(f({key:l.key,value:S,valueSpec:V,style:g,styleSpec:x,expressionContext:"property",propertyType:i,propertyKey:A}))}function Km(l){return Zm(l,"paint")}function Xm(l){return Zm(l,"layout")}function Jm(l){let i=[];const c=l.value,f=l.key,g=l.style,x=l.styleSpec;c.type||c.ref||i.push(new gt(f,c,'either "type" or "ref" is required'));let S=Fr(c.type);const A=Fr(c.ref);if(c.id){const D=Fr(c.id);for(let O=0;O<l.arrayIndex;O++){const V=g.layers[O];Fr(V.id)===D&&i.push(new gt(f,c.id,`duplicate layer id "${c.id}", previously used at line ${V.id.__line__}`))}}if("ref"in c){let D;["type","source","source-layer","filter","layout"].forEach(O=>{O in c&&i.push(new gt(f,c[O],`"${O}" is prohibited for ref layers`))}),g.layers.forEach(O=>{Fr(O.id)===A&&(D=O)}),D?D.ref?i.push(new gt(f,c.ref,"ref cannot reference another ref layer")):S=Fr(D.type):i.push(new gt(f,c.ref,`ref layer "${A}" not found`))}else if(S!=="background")if(c.source){const D=g.sources&&g.sources[c.source],O=D&&Fr(D.type);D?O==="vector"&&S==="raster"?i.push(new gt(f,c.source,`layer "${c.id}" requires a raster source`)):O!=="raster-dem"&&S==="hillshade"?i.push(new gt(f,c.source,`layer "${c.id}" requires a raster-dem source`)):O==="raster"&&S!=="raster"?i.push(new gt(f,c.source,`layer "${c.id}" requires a vector source`)):O!=="vector"||c["source-layer"]?O==="raster-dem"&&S!=="hillshade"?i.push(new gt(f,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||O==="geojson"&&D.lineMetrics||i.push(new gt(f,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new gt(f,c,`layer "${c.id}" must specify a "source-layer"`)):i.push(new gt(f,c.source,`source "${c.source}" not found`))}else i.push(new gt(f,c,'missing required property "source"'));return i=i.concat(Xi({key:f,value:c,valueSpec:x.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:c.type,valueSpec:x.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:Ml,layout:D=>Xi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":O=>Xm(xi({layerType:S},O))}}),paint:D=>Xi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":O=>Km(xi({layerType:S},O))}})}})),i}function os(l){const i=l.value,c=l.key,f=Wn(i);return f!=="string"?[new gt(c,i,`string expected, ${f} found`)]:[]}const Cc={promoteId:function({key:l,value:i}){if(Wn(i)==="string")return os({key:l,value:i});{const c=[];for(const f in i)c.push(...os({key:`${l}.${f}`,value:i[f]}));return c}}};function va(l){const i=l.value,c=l.key,f=l.styleSpec,g=l.style,x=l.validateSpec;if(!i.type)return[new gt(c,i,'"type" is required')];const S=Fr(i.type);let A;switch(S){case"vector":case"raster":return A=Xi({key:c,value:i,valueSpec:f[`source_${S.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:Cc,validateSpec:x}),A;case"raster-dem":return A=function(D){var O;const V=(O=D.sourceName)!==null&&O!==void 0?O:"",U=D.value,W=D.styleSpec,te=W.source_raster_dem,ie=D.style;let ue=[];const _e=Wn(U);if(U===void 0)return ue;if(_e!=="object")return ue.push(new gt("source_raster_dem",U,`object expected, ${_e} found`)),ue;const we=Fr(U.encoding)==="custom",Oe=["redFactor","greenFactor","blueFactor","baseShift"],Te=D.value.encoding?`"${D.value.encoding}"`:"Default";for(const ze in U)!we&&Oe.includes(ze)?ue.push(new gt(ze,U[ze],`In "${V}": "${ze}" is only valid when "encoding" is set to "custom". ${Te} encoding found`)):te[ze]?ue=ue.concat(D.validateSpec({key:ze,value:U[ze],valueSpec:te[ze],validateSpec:D.validateSpec,style:ie,styleSpec:W})):ue.push(new gt(ze,U[ze],`unknown property "${ze}"`));return ue}({sourceName:c,value:i,style:l.style,styleSpec:f,validateSpec:x}),A;case"geojson":if(A=Xi({key:c,value:i,valueSpec:f.source_geojson,style:g,styleSpec:f,validateSpec:x,objectElementValidators:Cc}),i.cluster)for(const D in i.clusterProperties){const[O,V]=i.clusterProperties[D],U=typeof O=="string"?[O,["accumulated"],["get",D]]:O;A.push(...jo({key:`${c}.${D}.map`,value:V,validateSpec:x,expressionContext:"cluster-map"})),A.push(...jo({key:`${c}.${D}.reduce`,value:U,validateSpec:x,expressionContext:"cluster-reduce"}))}return A;case"video":return Xi({key:c,value:i,valueSpec:f.source_video,style:g,validateSpec:x,styleSpec:f});case"image":return Xi({key:c,value:i,valueSpec:f.source_image,style:g,validateSpec:x,styleSpec:f});case"canvas":return[new gt(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return kc({key:`${c}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:g,validateSpec:x,styleSpec:f})}}function Tc(l){const i=l.value,c=l.styleSpec,f=c.light,g=l.style;let x=[];const S=Wn(i);if(i===void 0)return x;if(S!=="object")return x=x.concat([new gt("light",i,`object expected, ${S} found`)]),x;for(const A in i){const D=A.match(/^(.*)-transition$/);x=x.concat(D&&f[D[1]]&&f[D[1]].transition?l.validateSpec({key:A,value:i[A],valueSpec:c.transition,validateSpec:l.validateSpec,style:g,styleSpec:c}):f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new gt(A,i[A],`unknown property "${A}"`)])}return x}function Qm(l){const i=l.value,c=l.styleSpec,f=c.terrain,g=l.style;let x=[];const S=Wn(i);if(i===void 0)return x;if(S!=="object")return x=x.concat([new gt("terrain",i,`object expected, ${S} found`)]),x;for(const A in i)x=x.concat(f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new gt(A,i[A],`unknown property "${A}"`)]);return x}function ep(l){let i=[];const c=l.value,f=l.key;if(Array.isArray(c)){const g=[],x=[];for(const S in c)c[S].id&&g.includes(c[S].id)&&i.push(new gt(f,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),g.push(c[S].id),c[S].url&&x.includes(c[S].url)&&i.push(new gt(f,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),x.push(c[S].url),i=i.concat(Xi({key:`${f}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return i}return os({key:f,value:c})}const tp={"*":()=>[],array:Dl,boolean:function(l){const i=l.value,c=l.key,f=Wn(i);return f!=="boolean"?[new gt(c,i,`boolean expected, ${f} found`)]:[]},number:Sc,color:function(l){const i=l.key,c=l.value,f=Wn(c);return f!=="string"?[new gt(i,c,`color expected, ${f} found`)]:er.parse(String(c))?[]:[new gt(i,c,`color expected, "${c}" found`)]},constants:Wm,enum:kc,filter:Ml,function:$u,layer:Jm,object:Xi,source:va,light:Tc,terrain:Qm,string:os,formatted:function(l){return os(l).length===0?[]:jo(l)},resolvedImage:function(l){return os(l).length===0?[]:jo(l)},padding:function(l){const i=l.key,c=l.value;if(Wn(c)==="array"){if(c.length<1||c.length>4)return[new gt(i,c,`padding requires 1 to 4 values; ${c.length} values found`)];const f={type:"number"};let g=[];for(let x=0;x<c.length;x++)g=g.concat(l.validateSpec({key:`${i}[${x}]`,value:c[x],validateSpec:l.validateSpec,valueSpec:f}));return g}return Sc({key:i,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(l){const i=l.key,c=l.value,f=Wn(c),g=l.styleSpec;if(f!=="array"||c.length<1||c.length%2!=0)return[new gt(i,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let S=0;S<c.length;S+=2)x=x.concat(kc({key:`${i}[${S}]`,value:c[S],valueSpec:g.layout_symbol["text-anchor"]})),x=x.concat(Dl({key:`${i}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:g}));return x},sprite:ep};function Ds(l){const i=l.value,c=l.valueSpec,f=l.styleSpec;return l.validateSpec=Ds,c.expression&&Ar(Fr(i))?$u(l):c.expression&&Ou(qo(i))?jo(l):c.type&&tp[c.type]?tp[c.type](l):Xi(xi({},l,{valueSpec:c.type?f[c.type]:c}))}function np(l){const i=l.value,c=l.key,f=os(l);return f.length||(i.indexOf("{fontstack}")===-1&&f.push(new gt(c,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&f.push(new gt(c,i,'"glyphs" url must include a "{range}" token'))),f}function Da(l,i=Ce){let c=[];return c=c.concat(Ds({key:"",value:l,valueSpec:i.$root,styleSpec:i,style:l,validateSpec:Ds,objectElementValidators:{glyphs:np,"*":()=>[]}})),l.constants&&(c=c.concat(Wm({key:"constants",value:l.constants,style:l,styleSpec:i,validateSpec:Ds}))),Uu(c)}function Ms(l){return function(i){return l({...i,validateSpec:Ds})}}function Uu(l){return[].concat(l).sort((i,c)=>i.line-c.line)}function Ls(l){return function(...i){return Uu(l.apply(this,i))}}Da.source=Ls(Ms(va)),Da.sprite=Ls(Ms(ep)),Da.glyphs=Ls(Ms(np)),Da.light=Ls(Ms(Tc)),Da.terrain=Ls(Ms(Qm)),Da.layer=Ls(Ms(Jm)),Da.filter=Ls(Ms(Ml)),Da.paintProperty=Ls(Ms(Km)),Da.layoutProperty=Ls(Ms(Xm));const Rs=Da,dy=Rs.light,wh=Rs.paintProperty,rp=Rs.layoutProperty;function qu(l,i){let c=!1;if(i&&i.length)for(const f of i)l.fire(new pt(new Error(f.message))),c=!0;return c}class Ll{constructor(i,c,f){const g=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const S=new Int32Array(this.arrayBuffer);i=S[0],this.d=(c=S[1])+2*(f=S[2]);for(let D=0;D<this.d*this.d;D++){const O=S[3+D],V=S[3+D+1];g.push(O===V?null:S.subarray(O,V))}const A=S[3+g.length+1];this.keys=S.subarray(S[3+g.length],A),this.bboxes=S.subarray(A),this.insert=this._insertReadonly}else{this.d=c+2*f;for(let S=0;S<this.d*this.d;S++)g.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=i,this.padding=f,this.scale=c/i,this.uid=0;const x=f/c*i;this.min=-x,this.max=i+x}insert(i,c,f,g,x){this._forEachCell(c,f,g,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(g),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,c,f,g,x,S){this.cells[x].push(S)}query(i,c,f,g,x){const S=this.min,A=this.max;if(i<=S&&c<=S&&A<=f&&A<=g&&!x)return Array.prototype.slice.call(this.keys);{const D=[];return this._forEachCell(i,c,f,g,this._queryCell,D,{},x),D}}_queryCell(i,c,f,g,x,S,A,D){const O=this.cells[x];if(O!==null){const V=this.keys,U=this.bboxes;for(let W=0;W<O.length;W++){const te=O[W];if(A[te]===void 0){const ie=4*te;(D?D(U[ie+0],U[ie+1],U[ie+2],U[ie+3]):i<=U[ie+2]&&c<=U[ie+3]&&f>=U[ie+0]&&g>=U[ie+1])?(A[te]=!0,S.push(V[te])):A[te]=!1}}}}_forEachCell(i,c,f,g,x,S,A,D){const O=this._convertToCellCoord(i),V=this._convertToCellCoord(c),U=this._convertToCellCoord(f),W=this._convertToCellCoord(g);for(let te=O;te<=U;te++)for(let ie=V;ie<=W;ie++){const ue=this.d*ie+te;if((!D||D(this._convertFromCellCoord(te),this._convertFromCellCoord(ie),this._convertFromCellCoord(te+1),this._convertFromCellCoord(ie+1)))&&x.call(this,i,c,f,g,ue,S,A,D))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,c=3+this.cells.length+1+1;let f=0;for(let S=0;S<this.cells.length;S++)f+=this.cells[S].length;const g=new Int32Array(c+f+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let x=c;for(let S=0;S<i.length;S++){const A=i[S];g[3+S]=x,g.set(A,x),x+=A.length}return g[3+i.length]=x,g.set(this.keys,x),x+=this.keys.length,g[3+i.length+1]=x,g.set(this.bboxes,x),x+=this.bboxes.length,g.buffer}static serialize(i,c){const f=i.toArrayBuffer();return c&&c.push(f),{buffer:f}}static deserialize(i){return new Ll(i.buffer)}}const Os={};function Ut(l,i,c={}){if(Os[l])throw new Error(`${l} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:l,writeable:!1}),Os[l]={klass:i,omit:c.omit||[],shallow:c.shallow||[]}}Ut("Object",Object),Ut("TransferableGridIndex",Ll),Ut("Color",er),Ut("Error",Error),Ut("AJAXError",st),Ut("ResolvedImage",ki),Ut("StylePropertyFunction",_c),Ut("StyleExpression",vh,{omit:["_evaluator"]}),Ut("ZoomDependentExpression",zu),Ut("ZoomConstantExpression",yh),Ut("CompoundExpression",Pa,{omit:["_evaluate"]});for(const l in Il)Il[l]._classRegistryKey||Ut(`Expression_${l}`,Il[l]);function ju(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function fo(l,i){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob)return l;if(ju(l)||Le(l))return i&&i.push(l),l;if(ArrayBuffer.isView(l)){const c=l;return i&&i.push(c.buffer),c}if(l instanceof ImageData)return i&&i.push(l.data.buffer),l;if(Array.isArray(l)){const c=[];for(const f of l)c.push(fo(f,i));return c}if(typeof l=="object"){const c=l.constructor,f=c._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");if(!Os[f])throw new Error(`${f} is not registered.`);const g=c.serialize?c.serialize(l,i):{};if(c.serialize){if(i&&g===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const x in l){if(!l.hasOwnProperty(x)||Os[f].omit.indexOf(x)>=0)continue;const S=l[x];g[x]=Os[f].shallow.indexOf(x)>=0?S:fo(S,i)}l instanceof Error&&(g.message=l.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(g.$name=f),g}throw new Error("can't serialize object of type "+typeof l)}function Rl(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||ju(l)||Le(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(Rl);if(typeof l=="object"){const i=l.$name||"Object";if(!Os[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:c}=Os[i];if(!c)throw new Error(`can't deserialize unregistered class ${i}`);if(c.deserialize)return c.deserialize(l);const f=Object.create(c.prototype);for(const g of Object.keys(l)){if(g==="$name")continue;const x=l[g];f[g]=Os[i].shallow.indexOf(g)>=0?x:Rl(x)}return f}throw new Error("can't deserialize object of type "+typeof l)}class ip{constructor(){this.first=!0}update(i,c){const f=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=c),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=f,!0))}}const Vt={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function Sh(l){for(const i of l)if(Ch(i.charCodeAt(0)))return!0;return!1}function kh(l){for(const i of l)if(!hy(i.charCodeAt(0)))return!1;return!0}function hy(l){return!(Vt.Arabic(l)||Vt["Arabic Supplement"](l)||Vt["Arabic Extended-A"](l)||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l))}function Ch(l){return!(l!==746&&l!==747&&(l<4352||!(Vt["Bopomofo Extended"](l)||Vt.Bopomofo(l)||Vt["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Vt["CJK Compatibility Ideographs"](l)||Vt["CJK Compatibility"](l)||Vt["CJK Radicals Supplement"](l)||Vt["CJK Strokes"](l)||!(!Vt["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Vt["CJK Unified Ideographs Extension A"](l)||Vt["CJK Unified Ideographs"](l)||Vt["Enclosed CJK Letters and Months"](l)||Vt["Hangul Compatibility Jamo"](l)||Vt["Hangul Jamo Extended-A"](l)||Vt["Hangul Jamo Extended-B"](l)||Vt["Hangul Jamo"](l)||Vt["Hangul Syllables"](l)||Vt.Hiragana(l)||Vt["Ideographic Description Characters"](l)||Vt.Kanbun(l)||Vt["Kangxi Radicals"](l)||Vt["Katakana Phonetic Extensions"](l)||Vt.Katakana(l)&&l!==12540||!(!Vt["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Vt["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Vt["Unified Canadian Aboriginal Syllabics"](l)||Vt["Unified Canadian Aboriginal Syllabics Extended"](l)||Vt["Vertical Forms"](l)||Vt["Yijing Hexagram Symbols"](l)||Vt["Yi Syllables"](l)||Vt["Yi Radicals"](l))))}function ap(l){return!(Ch(l)||function(i){return!!(Vt["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||Vt["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||Vt["Letterlike Symbols"](i)||Vt["Number Forms"](i)||Vt["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||Vt["Control Pictures"](i)&&i!==9251||Vt["Optical Character Recognition"](i)||Vt["Enclosed Alphanumerics"](i)||Vt["Geometric Shapes"](i)||Vt["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||Vt["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Vt["CJK Symbols and Punctuation"](i)||Vt.Katakana(i)||Vt["Private Use Area"](i)||Vt["CJK Compatibility Forms"](i)||Vt["Small Form Variants"](i)||Vt["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(l))}function sp(l){return l>=1424&&l<=2303||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l)}function op(l,i){return!(!i&&sp(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Vt.Khmer(l))}function fy(l){for(const i of l)if(sp(i.charCodeAt(0)))return!0;return!1}const Th="deferred",Ah="loading",Eh="loaded";let Ih=null,Ji="unavailable",mo=null;const Ac=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(Ji="error"),Ih&&Ih(l)};function Ph(){Ec.fire(new Xe("pluginStateChange",{pluginStatus:Ji,pluginURL:mo}))}const Ec=new xt,Dh=function(){return Ji},lp=function(){if(Ji!==Th||!mo)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Ji=Ah,Ph(),mo&&ae({url:mo},l=>{l?Ac(l):(Ji=Eh,Ph())})},ya={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Ji===Eh||ya.applyArabicShaping!=null,isLoading:()=>Ji===Ah,setState(l){if(!qe())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Ji=l.pluginStatus,mo=l.pluginURL},isParsed(){if(!qe())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return ya.applyArabicShaping!=null&&ya.processBidirectionalText!=null&&ya.processStyledBidirectionalText!=null},getPluginURL(){if(!qe())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return mo}};class yr{constructor(i,c){this.zoom=i,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new ip,this.transition={})}isSupportedScript(i){return function(c,f){for(const g of c)if(!op(g.charCodeAt(0),f))return!1;return!0}(i,ya.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,c=i-Math.floor(i),f=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*c}}}class Hu{constructor(i,c){this.property=i,this.value=c,this.expression=function(f,g){if(Ar(f))return new _c(f,g);if(Ou(f)){const x=_h(f,g);if(x.result==="error")throw new Error(x.value.map(S=>`${S.key}: ${S.message}`).join(", "));return x.value}{let x=f;return g.type==="color"&&typeof f=="string"?x=er.parse(f):g.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(x=Ea.parse(f)):x=ma.parse(f),{kind:"constant",evaluate:()=>x}}}(c===void 0?i.specification.default:c,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,c,f){return this.property.possiblyEvaluate(this,i,c,f)}}class Mh{constructor(i){this.property=i,this.value=new Hu(i,void 0)}transitioned(i,c){return new up(this.property,this.value,c,H({},i.transition,this.transition),i.now)}untransitioned(){return new up(this.property,this.value,null,{},0)}}class cp{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return ne(this._values[i].value.value)}setValue(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Mh(this._values[i].property)),this._values[i].value=new Hu(this._values[i].property,c===null?void 0:ne(c))}getTransition(i){return ne(this._values[i].transition)}setTransition(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Mh(this._values[i].property)),this._values[i].transition=ne(c)||void 0}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f);const g=this.getTransition(c);g!==void 0&&(i[`${c}-transition`]=g)}return i}transitioned(i,c){const f=new dp(this._properties);for(const g of Object.keys(this._values))f._values[g]=this._values[g].transitioned(i,c._values[g]);return f}untransitioned(){const i=new dp(this._properties);for(const c of Object.keys(this._values))i._values[c]=this._values[c].untransitioned();return i}}class up{constructor(i,c,f,g,x){this.property=i,this.value=c,this.begin=x+g.delay||0,this.end=this.begin+g.duration||0,i.specification.transition&&(g.delay||g.duration)&&(this.prior=f)}possiblyEvaluate(i,c,f){const g=i.now||0,x=this.value.possiblyEvaluate(i,c,f),S=this.prior;if(S){if(g>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(g<this.begin)return S.possiblyEvaluate(i,c,f);{const A=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(i,c,f),x,function(D){if(D<=0)return 0;if(D>=1)return 1;const O=D*D,V=O*D;return 4*(D<.5?V:3*(D-O)+V-.75)}(A))}}return x}}class dp{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,c,f){const g=new Gu(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(i,c,f);return g}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class my{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return this._values[i].value!==void 0}getValue(i){return ne(this._values[i].value)}setValue(i,c){this._values[i]=new Hu(this._values[i].property,c===null?void 0:ne(c))}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f)}return i}possiblyEvaluate(i,c,f){const g=new Gu(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(i,c,f);return g}}class Ni{constructor(i,c,f){this.property=i,this.value=c,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,c,f,g){return this.property.evaluate(this.value,this.parameters,i,c,f,g)}}class Gu{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Qt{constructor(i){this.specification=i}possiblyEvaluate(i,c){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(c)}interpolate(i,c,f){const g=pa[this.specification.type];return g?g(i,c,f):i}}class sn{constructor(i,c){this.specification=i,this.overrides=c}possiblyEvaluate(i,c,f,g){return new Ni(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(c,null,{},f,g)}:i.expression,c)}interpolate(i,c,f){if(i.value.kind!=="constant"||c.value.kind!=="constant")return i;if(i.value.value===void 0||c.value.value===void 0)return new Ni(this,{kind:"constant",value:void 0},i.parameters);const g=pa[this.specification.type];if(g){const x=g(i.value.value,c.value.value,f);return new Ni(this,{kind:"constant",value:x},i.parameters)}return i}evaluate(i,c,f,g,x,S){return i.kind==="constant"?i.value:i.evaluate(c,f,g,x,S)}}class Ic extends sn{possiblyEvaluate(i,c,f,g){if(i.value===void 0)return new Ni(this,{kind:"constant",value:void 0},c);if(i.expression.kind==="constant"){const x=i.expression.evaluate(c,null,{},f,g),S=i.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,A=this._calculate(S,S,S,c);return new Ni(this,{kind:"constant",value:A},c)}if(i.expression.kind==="camera"){const x=this._calculate(i.expression.evaluate({zoom:c.zoom-1}),i.expression.evaluate({zoom:c.zoom}),i.expression.evaluate({zoom:c.zoom+1}),c);return new Ni(this,{kind:"constant",value:x},c)}return new Ni(this,i.expression,c)}evaluate(i,c,f,g,x,S){if(i.kind==="source"){const A=i.evaluate(c,f,g,x,S);return this._calculate(A,A,A,c)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(c.zoom)-1},f,g),i.evaluate({zoom:Math.floor(c.zoom)},f,g),i.evaluate({zoom:Math.floor(c.zoom)+1},f,g),c):i.value}_calculate(i,c,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class Lh{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,g){if(i.value!==void 0){if(i.expression.kind==="constant"){const x=i.expression.evaluate(c,null,{},f,g);return this._calculate(x,x,x,c)}return this._calculate(i.expression.evaluate(new yr(Math.floor(c.zoom-1),c)),i.expression.evaluate(new yr(Math.floor(c.zoom),c)),i.expression.evaluate(new yr(Math.floor(c.zoom+1),c)),c)}}_calculate(i,c,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class Rh{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,g){return!!i.expression.evaluate(c,null,{},f,g)}interpolate(){return!1}}class Yr{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in i){const f=i[c];f.specification.overridable&&this.overridableProperties.push(c);const g=this.defaultPropertyValues[c]=new Hu(f,void 0),x=this.defaultTransitionablePropertyValues[c]=new Mh(f);this.defaultTransitioningPropertyValues[c]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=g.possiblyEvaluate({})}}}Ut("DataDrivenProperty",sn),Ut("DataConstantProperty",Qt),Ut("CrossFadedDataDrivenProperty",Ic),Ut("CrossFadedProperty",Lh),Ut("ColorRampProperty",Rh);const Oh="-transition";class Ma extends xt{constructor(i,c){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),c.layout&&(this._unevaluatedLayout=new my(c.layout)),c.paint)){this._transitionablePaint=new cp(c.paint);for(const f in i.paint)this.setPaintProperty(f,i.paint[f],{validate:!1});for(const f in i.layout)this.setLayoutProperty(f,i.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Gu(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,c,f={}){c!=null&&this._validate(rp,`layers.${this.id}.layout.${i}`,i,c,f)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,c):this.visibility=c)}getPaintProperty(i){return i.endsWith(Oh)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,c,f={}){if(c!=null&&this._validate(wh,`layers.${this.id}.paint.${i}`,i,c,f))return!1;if(i.endsWith(Oh))return this._transitionablePaint.setTransition(i.slice(0,-11),c||void 0),!1;{const g=this._transitionablePaint._values[i],x=g.property.specification["property-type"]==="cross-faded-data-driven",S=g.value.isDataDriven(),A=g.value;this._transitionablePaint.setValue(i,c),this._handleSpecialPaintPropertyUpdate(i);const D=this._transitionablePaint._values[i].value;return D.isDataDriven()||S||x||this._handleOverridablePaintPropertyUpdate(i,A,D)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,c,f){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,c){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,c)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),le(i,(c,f)=>!(c===void 0||f==="layout"&&!Object.keys(c).length||f==="paint"&&!Object.keys(c).length))}_validate(i,c,f,g,x={}){return(!x||x.validate!==!1)&&qu(this,i.call(Rs,{key:c,layerType:this.type,objectKey:f,value:g,styleSpec:Ce,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const c=this.paint.get(i);if(c instanceof Ni&&Pl(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const hp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ho{constructor(i,c){this._structArray=i,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class zr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,c){return i._trim(),c&&(i.isTransferred=!0,c.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const c=Object.create(this.prototype);return c.arrayBuffer=i.arrayBuffer,c.length=i.length,c.capacity=i.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Ir(l,i=1){let c=0,f=0;return{members:l.map(g=>{const x=hp[g.type].BYTES_PER_ELEMENT,S=c=Ol(c,Math.max(i,x)),A=g.components||1;return f=Math.max(f,x),c+=x*A,{name:g.name,type:g.type,components:A,offset:S}}),size:Ol(c,Math.max(f,i)),alignment:i}}function Ol(l,i){return Math.ceil(l/i)*i}class Pc extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.int16[g+0]=c,this.int16[g+1]=f,i}}Pc.prototype.bytesPerElement=4,Ut("StructArrayLayout2i4",Pc);class Dc extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.int16[x+0]=c,this.int16[x+1]=f,this.int16[x+2]=g,i}}Dc.prototype.bytesPerElement=6,Ut("StructArrayLayout3i6",Dc);class Go extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,i,c,f,g)}emplace(i,c,f,g,x){const S=4*i;return this.int16[S+0]=c,this.int16[S+1]=f,this.int16[S+2]=g,this.int16[S+3]=x,i}}Go.prototype.bytesPerElement=8,Ut("StructArrayLayout4i8",Go);class Fh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,x,S)}emplace(i,c,f,g,x,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=g,this.int16[D+3]=x,this.int16[D+4]=S,this.int16[D+5]=A,i}}Fh.prototype.bytesPerElement=12,Ut("StructArrayLayout2i4i12",Fh);class zh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,x,S)}emplace(i,c,f,g,x,S,A){const D=4*i,O=8*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.uint8[O+4]=g,this.uint8[O+5]=x,this.uint8[O+6]=S,this.uint8[O+7]=A,i}}zh.prototype.bytesPerElement=8,Ut("StructArrayLayout2i4ub8",zh);class Fl extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.float32[g+0]=c,this.float32[g+1]=f,i}}Fl.prototype.bytesPerElement=8,Ut("StructArrayLayout2f8",Fl);class Bh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,O,V){const U=this.length;return this.resize(U+1),this.emplace(U,i,c,f,g,x,S,A,D,O,V)}emplace(i,c,f,g,x,S,A,D,O,V,U){const W=10*i;return this.uint16[W+0]=c,this.uint16[W+1]=f,this.uint16[W+2]=g,this.uint16[W+3]=x,this.uint16[W+4]=S,this.uint16[W+5]=A,this.uint16[W+6]=D,this.uint16[W+7]=O,this.uint16[W+8]=V,this.uint16[W+9]=U,i}}Bh.prototype.bytesPerElement=20,Ut("StructArrayLayout10ui20",Bh);class Vh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,O,V,U,W){const te=this.length;return this.resize(te+1),this.emplace(te,i,c,f,g,x,S,A,D,O,V,U,W)}emplace(i,c,f,g,x,S,A,D,O,V,U,W,te){const ie=12*i;return this.int16[ie+0]=c,this.int16[ie+1]=f,this.int16[ie+2]=g,this.int16[ie+3]=x,this.uint16[ie+4]=S,this.uint16[ie+5]=A,this.uint16[ie+6]=D,this.uint16[ie+7]=O,this.int16[ie+8]=V,this.int16[ie+9]=U,this.int16[ie+10]=W,this.int16[ie+11]=te,i}}Vh.prototype.bytesPerElement=24,Ut("StructArrayLayout4i4ui4i24",Vh);class Yn extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.float32[x+0]=c,this.float32[x+1]=f,this.float32[x+2]=g,i}}Yn.prototype.bytesPerElement=12,Ut("StructArrayLayout3f12",Yn);class _ extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint32[1*i+0]=c,i}}_.prototype.bytesPerElement=4,Ut("StructArrayLayout1ul4",_);class a extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,O){const V=this.length;return this.resize(V+1),this.emplace(V,i,c,f,g,x,S,A,D,O)}emplace(i,c,f,g,x,S,A,D,O,V){const U=10*i,W=5*i;return this.int16[U+0]=c,this.int16[U+1]=f,this.int16[U+2]=g,this.int16[U+3]=x,this.int16[U+4]=S,this.int16[U+5]=A,this.uint32[W+3]=D,this.uint16[U+8]=O,this.uint16[U+9]=V,i}}a.prototype.bytesPerElement=20,Ut("StructArrayLayout6i1ul2ui20",a);class d extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,x,S)}emplace(i,c,f,g,x,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=g,this.int16[D+3]=x,this.int16[D+4]=S,this.int16[D+5]=A,i}}d.prototype.bytesPerElement=12,Ut("StructArrayLayout2i2i2i12",d);class m extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x){const S=this.length;return this.resize(S+1),this.emplace(S,i,c,f,g,x)}emplace(i,c,f,g,x,S){const A=4*i,D=8*i;return this.float32[A+0]=c,this.float32[A+1]=f,this.float32[A+2]=g,this.int16[D+6]=x,this.int16[D+7]=S,i}}m.prototype.bytesPerElement=16,Ut("StructArrayLayout2f1f2i16",m);class v extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,i,c,f,g)}emplace(i,c,f,g,x){const S=12*i,A=3*i;return this.uint8[S+0]=c,this.uint8[S+1]=f,this.float32[A+1]=g,this.float32[A+2]=x,i}}v.prototype.bytesPerElement=12,Ut("StructArrayLayout2ub2f12",v);class w extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.uint16[x+0]=c,this.uint16[x+1]=f,this.uint16[x+2]=g,i}}w.prototype.bytesPerElement=6,Ut("StructArrayLayout3ui6",w);class E extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,O,V,U,W,te,ie,ue,_e,we){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,i,c,f,g,x,S,A,D,O,V,U,W,te,ie,ue,_e,we)}emplace(i,c,f,g,x,S,A,D,O,V,U,W,te,ie,ue,_e,we,Oe){const Te=24*i,ze=12*i,Ge=48*i;return this.int16[Te+0]=c,this.int16[Te+1]=f,this.uint16[Te+2]=g,this.uint16[Te+3]=x,this.uint32[ze+2]=S,this.uint32[ze+3]=A,this.uint32[ze+4]=D,this.uint16[Te+10]=O,this.uint16[Te+11]=V,this.uint16[Te+12]=U,this.float32[ze+7]=W,this.float32[ze+8]=te,this.uint8[Ge+36]=ie,this.uint8[Ge+37]=ue,this.uint8[Ge+38]=_e,this.uint32[ze+10]=we,this.int16[Te+22]=Oe,i}}E.prototype.bytesPerElement=48,Ut("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",E);class P extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,O,V,U,W,te,ie,ue,_e,we,Oe,Te,ze,Ge,at,Nt,Zt,Bt,Ft,Pt,qt){const Dt=this.length;return this.resize(Dt+1),this.emplace(Dt,i,c,f,g,x,S,A,D,O,V,U,W,te,ie,ue,_e,we,Oe,Te,ze,Ge,at,Nt,Zt,Bt,Ft,Pt,qt)}emplace(i,c,f,g,x,S,A,D,O,V,U,W,te,ie,ue,_e,we,Oe,Te,ze,Ge,at,Nt,Zt,Bt,Ft,Pt,qt,Dt){const wt=32*i,nn=16*i;return this.int16[wt+0]=c,this.int16[wt+1]=f,this.int16[wt+2]=g,this.int16[wt+3]=x,this.int16[wt+4]=S,this.int16[wt+5]=A,this.int16[wt+6]=D,this.int16[wt+7]=O,this.uint16[wt+8]=V,this.uint16[wt+9]=U,this.uint16[wt+10]=W,this.uint16[wt+11]=te,this.uint16[wt+12]=ie,this.uint16[wt+13]=ue,this.uint16[wt+14]=_e,this.uint16[wt+15]=we,this.uint16[wt+16]=Oe,this.uint16[wt+17]=Te,this.uint16[wt+18]=ze,this.uint16[wt+19]=Ge,this.uint16[wt+20]=at,this.uint16[wt+21]=Nt,this.uint16[wt+22]=Zt,this.uint32[nn+12]=Bt,this.float32[nn+13]=Ft,this.float32[nn+14]=Pt,this.uint16[wt+30]=qt,this.uint16[wt+31]=Dt,i}}P.prototype.bytesPerElement=64,Ut("StructArrayLayout8i15ui1ul2f2ui64",P);class M extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.float32[1*i+0]=c,i}}M.prototype.bytesPerElement=4,Ut("StructArrayLayout1f4",M);class z extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.uint16[6*i+0]=c,this.float32[x+1]=f,this.float32[x+2]=g,i}}z.prototype.bytesPerElement=12,Ut("StructArrayLayout1ui2f12",z);class N extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=4*i;return this.uint32[2*i+0]=c,this.uint16[x+2]=f,this.uint16[x+3]=g,i}}N.prototype.bytesPerElement=8,Ut("StructArrayLayout1ul2ui8",N);class $ extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.uint16[g+0]=c,this.uint16[g+1]=f,i}}$.prototype.bytesPerElement=4,Ut("StructArrayLayout2ui4",$);class J extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint16[1*i+0]=c,i}}J.prototype.bytesPerElement=2,Ut("StructArrayLayout1ui2",J);class he extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,i,c,f,g)}emplace(i,c,f,g,x){const S=4*i;return this.float32[S+0]=c,this.float32[S+1]=f,this.float32[S+2]=g,this.float32[S+3]=x,i}}he.prototype.bytesPerElement=16,Ut("StructArrayLayout4f16",he);class de extends Ho{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new k(this.anchorPointX,this.anchorPointY)}}de.prototype.size=20;class ge extends a{get(i){return new de(this,i)}}Ut("CollisionBoxArray",ge);class ce extends Ho{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ce.prototype.size=48;class Pe extends E{get(i){return new ce(this,i)}}Ut("PlacedSymbolArray",Pe);class je extends Ho{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}je.prototype.size=64;class xe extends P{get(i){return new je(this,i)}}Ut("SymbolInstanceArray",xe);class Me extends M{getoffsetX(i){return this.float32[1*i+0]}}Ut("GlyphOffsetArray",Me);class Ze extends Dc{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}Ut("SymbolLineVertexArray",Ze);class Ke extends Ho{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ke.prototype.size=12;class rt extends z{get(i){return new Ke(this,i)}}Ut("TextAnchorOffsetArray",rt);class bt extends Ho{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}bt.prototype.size=8;class ft extends N{get(i){return new bt(this,i)}}Ut("FeatureIndexArray",ft);class At extends Pc{}class Yt extends Pc{}class Pn extends Pc{}class Ot extends Fh{}class on extends zh{}class Xt extends Fl{}class tr extends Bh{}class En extends Vh{}class xn extends Yn{}class Dn extends _{}class qr extends d{}class fr extends v{}class Ci extends w{}class ci extends ${}const Zr=Ir([{name:"a_pos",components:2,type:"Int16"}],4),{members:_a}=Zr;class _r{constructor(i=[]){this.segments=i}prepareSegment(i,c,f,g){let x=this.segments[this.segments.length-1];return i>_r.MAX_VERTEX_ARRAY_LENGTH&&fe(`Max vertices per segment is ${_r.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!x||x.vertexLength+i>_r.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==g)&&(x={vertexOffset:c.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},g!==void 0&&(x.sortKey=g),this.segments.push(x)),x}get(){return this.segments}destroy(){for(const i of this.segments)for(const c in i.vaos)i.vaos[c].destroy()}static simpleSegment(i,c,f,g){return new _r([{vertexOffset:i,primitiveOffset:c,vertexLength:f,primitiveLength:g,vaos:{},sortKey:0}])}}function ls(l,i){return 256*(l=ee(Math.floor(l),0,255))+ee(Math.floor(i),0,255)}_r.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ut("SegmentVector",_r);const cs=Ir([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var po={exports:{}},Wo={exports:{}};Wo.exports=function(l,i){var c,f,g,x,S,A,D,O;for(f=l.length-(c=3&l.length),g=i,S=3432918353,A=461845907,O=0;O<f;)D=255&l.charCodeAt(O)|(255&l.charCodeAt(++O))<<8|(255&l.charCodeAt(++O))<<16|(255&l.charCodeAt(++O))<<24,++O,g=27492+(65535&(x=5*(65535&(g=(g^=D=(65535&(D=(D=(65535&D)*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(D=0,c){case 3:D^=(255&l.charCodeAt(O+2))<<16;case 2:D^=(255&l.charCodeAt(O+1))<<8;case 1:g^=D=(65535&(D=(D=(65535&(D^=255&l.charCodeAt(O)))*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295}return g^=l.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0};var zl=Wo.exports,Li={exports:{}};Li.exports=function(l,i){for(var c,f=l.length,g=i^f,x=0;f>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(x)|(255&l.charCodeAt(++x))<<8|(255&l.charCodeAt(++x))<<16|(255&l.charCodeAt(++x))<<24))+((1540483477*(c>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),f-=4,++x;switch(f){case 3:g^=(255&l.charCodeAt(x+2))<<16;case 2:g^=(255&l.charCodeAt(x+1))<<8;case 1:g=1540483477*(65535&(g^=255&l.charCodeAt(x)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0};var Ti=zl,$i=Li.exports;po.exports=Ti,po.exports.murmur3=Ti,po.exports.murmur2=$i;var Yo=y(po.exports);class jr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,c,f,g){this.ids.push(ui(i)),this.positions.push(c,f,g)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=ui(i);let f=0,g=this.ids.length-1;for(;f<g;){const S=f+g>>1;this.ids[S]>=c?g=S:f=S+1}const x=[];for(;this.ids[f]===c;)x.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return x}static serialize(i,c){const f=new Float64Array(i.ids),g=new Uint32Array(i.positions);return Qi(f,g,0,f.length-1),c&&c.push(f.buffer,g.buffer),{ids:f,positions:g}}static deserialize(i){const c=new jr;return c.ids=i.ids,c.positions=i.positions,c.indexed=!0,c}}function ui(l){const i=+l;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Yo(String(l))}function Qi(l,i,c,f){for(;c<f;){const g=l[c+f>>1];let x=c-1,S=f+1;for(;;){do x++;while(l[x]<g);do S--;while(l[S]>g);if(x>=S)break;Hr(l,x,S),Hr(i,3*x,3*S),Hr(i,3*x+1,3*S+1),Hr(i,3*x+2,3*S+2)}S-c<f-S?(Qi(l,i,c,S),c=S+1):(Qi(l,i,S+1,f),f=S)}}function Hr(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}Ut("FeaturePositionMap",jr);class Zo{constructor(i,c){this.gl=i.gl,this.location=c}}class Wu extends Zo{constructor(i,c){super(i,c),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class fp extends Zo{constructor(i,c){super(i,c),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class mp extends Zo{constructor(i,c){super(i,c),this.current=er.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const py=new Float32Array(16);function Nh(l){return[ls(255*l.r,255*l.g),ls(255*l.b,255*l.a)]}class us{constructor(i,c,f){this.value=i,this.uniformNames=c.map(g=>`u_${g}`),this.type=f}setUniform(i,c,f){i.set(f.constantOr(this.value))}getBinding(i,c,f){return this.type==="color"?new mp(i,c):new Wu(i,c)}}class Ko{constructor(i,c){this.uniformNames=c.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=i.tlbr}setUniform(i,c,f,g){const x=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&i.set(x)}getBinding(i,c,f){return f.substr(0,9)==="u_pattern"?new fp(i,c):new Wu(i,c)}}class ds{constructor(i,c,f,g){this.expression=i,this.type=f,this.maxValue=0,this.paintVertexAttributes=c.map(x=>({name:`a_${x}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(i,c,f,g,x){const S=this.paintVertexArray.length,A=this.expression.evaluate(new yr(0),c,{},g,[],x);this.paintVertexArray.resize(i),this._setPaintValue(S,i,A)}updatePaintArray(i,c,f,g){const x=this.expression.evaluate({zoom:0},f,g);this._setPaintValue(i,c,x)}_setPaintValue(i,c,f){if(this.type==="color"){const g=Nh(f);for(let x=i;x<c;x++)this.paintVertexArray.emplace(x,g[0],g[1])}else{for(let g=i;g<c;g++)this.paintVertexArray.emplace(g,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class La{constructor(i,c,f,g,x,S){this.expression=i,this.uniformNames=c.map(A=>`u_${A}_t`),this.type=f,this.useIntegerZoom=g,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=c.map(A=>({name:`a_${A}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(i,c,f,g,x){const S=this.expression.evaluate(new yr(this.zoom),c,{},g,[],x),A=this.expression.evaluate(new yr(this.zoom+1),c,{},g,[],x),D=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(D,i,S,A)}updatePaintArray(i,c,f,g){const x=this.expression.evaluate({zoom:this.zoom},f,g),S=this.expression.evaluate({zoom:this.zoom+1},f,g);this._setPaintValue(i,c,x,S)}_setPaintValue(i,c,f,g){if(this.type==="color"){const x=Nh(f),S=Nh(g);for(let A=i;A<c;A++)this.paintVertexArray.emplace(A,x[0],x[1],S[0],S[1])}else{for(let x=i;x<c;x++)this.paintVertexArray.emplace(x,f,g);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(g))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,c){const f=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,g=ee(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);i.set(g)}getBinding(i,c,f){return new Wu(i,c)}}class hs{constructor(i,c,f,g,x,S){this.expression=i,this.type=c,this.useIntegerZoom=f,this.zoom=g,this.layerId=S,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(i,c,f){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(g,i,c.patterns&&c.patterns[this.layerId],f)}updatePaintArray(i,c,f,g,x){this._setPaintValues(i,c,f.patterns&&f.patterns[this.layerId],x)}_setPaintValues(i,c,f,g){if(!g||!f)return;const{min:x,mid:S,max:A}=f,D=g[x],O=g[S],V=g[A];if(D&&O&&V)for(let U=i;U<c;U++)this.zoomInPaintVertexArray.emplace(U,O.tl[0],O.tl[1],O.br[0],O.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],O.pixelRatio,D.pixelRatio),this.zoomOutPaintVertexArray.emplace(U,O.tl[0],O.tl[1],O.br[0],O.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1],O.pixelRatio,V.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,cs.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,cs.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class $h{constructor(i,c,f){this.binders={},this._buffers=[];const g=[];for(const x in i.paint._values){if(!f(x))continue;const S=i.paint.get(x);if(!(S instanceof Ni&&Pl(S.property.specification)))continue;const A=jD(x,i.type),D=S.value,O=S.property.specification.type,V=S.property.useIntegerZoom,U=S.property.specification["property-type"],W=U==="cross-faded"||U==="cross-faded-data-driven";if(D.kind==="constant")this.binders[x]=W?new Ko(D.value,A):new us(D.value,A,O),g.push(`/u_${x}`);else if(D.kind==="source"||W){const te=x1(x,O,"source");this.binders[x]=W?new hs(D,O,V,c,te,i.id):new ds(D,A,O,te),g.push(`/a_${x}`)}else{const te=x1(x,O,"composite");this.binders[x]=new La(D,A,O,V,c,te),g.push(`/z_${x}`)}}this.cacheKey=g.sort().join("")}getMaxValue(i){const c=this.binders[i];return c instanceof ds||c instanceof La?c.maxValue:0}populatePaintArrays(i,c,f,g,x){for(const S in this.binders){const A=this.binders[S];(A instanceof ds||A instanceof La||A instanceof hs)&&A.populatePaintArray(i,c,f,g,x)}}setConstantPatternPositions(i,c){for(const f in this.binders){const g=this.binders[f];g instanceof Ko&&g.setConstantPatternPositions(i,c)}}updatePaintArrays(i,c,f,g,x){let S=!1;for(const A in i){const D=c.getPositions(A);for(const O of D){const V=f.feature(O.index);for(const U in this.binders){const W=this.binders[U];if((W instanceof ds||W instanceof La||W instanceof hs)&&W.expression.isStateDependent===!0){const te=g.paint.get(U);W.expression=te.value,W.updatePaintArray(O.start,O.end,V,i[A],x),S=!0}}}}return S}defines(){const i=[];for(const c in this.binders){const f=this.binders[c];(f instanceof us||f instanceof Ko)&&i.push(...f.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return i}getBinderAttributes(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof ds||f instanceof La)for(let g=0;g<f.paintVertexAttributes.length;g++)i.push(f.paintVertexAttributes[g].name);else if(f instanceof hs)for(let g=0;g<cs.members.length;g++)i.push(cs.members[g].name)}return i}getBinderUniforms(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof us||f instanceof Ko||f instanceof La)for(const g of f.uniformNames)i.push(g)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,c){const f=[];for(const g in this.binders){const x=this.binders[g];if(x instanceof us||x instanceof Ko||x instanceof La){for(const S of x.uniformNames)if(c[S]){const A=x.getBinding(i,c[S],S);f.push({name:S,property:g,binding:A})}}}return f}setUniforms(i,c,f,g){for(const{name:x,property:S,binding:A}of c)this.binders[S].setUniform(A,g,f.get(S),x)}updatePaintBuffers(i){this._buffers=[];for(const c in this.binders){const f=this.binders[c];if(i&&f instanceof hs){const g=i.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(f instanceof ds||f instanceof La)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(i){for(const c in this.binders){const f=this.binders[c];(f instanceof ds||f instanceof La||f instanceof hs)&&f.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const c=this.binders[i];(c instanceof ds||c instanceof La||c instanceof hs)&&c.destroy()}}}class Fs{constructor(i,c,f=()=>!0){this.programConfigurations={};for(const g of i)this.programConfigurations[g.id]=new $h(g,c,f);this.needsUpload=!1,this._featureMap=new jr,this._bufferOffset=0}populatePaintArrays(i,c,f,g,x,S){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(i,c,g,x,S);c.id!==void 0&&this._featureMap.add(c.id,f,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,c,f,g){for(const x of f)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(i,this._featureMap,c,x,g)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function jD(l,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${i}-`,"").replace(/-/g,"_")]}function x1(l,i,c){const f={color:{source:Fl,composite:he},number:{source:M,composite:Fl}},g=function(x){return{"line-pattern":{source:tr,composite:tr},"fill-pattern":{source:tr,composite:tr},"fill-extrusion-pattern":{source:tr,composite:tr}}[x]}(l);return g&&g[c]||f[i][c]}Ut("ConstantBinder",us),Ut("CrossFadedConstantBinder",Ko),Ut("SourceExpressionBinder",ds),Ut("CrossFadedCompositeBinder",hs),Ut("CompositeExpressionBinder",La),Ut("ProgramConfiguration",$h,{omit:["_buffers"]}),Ut("ProgramConfigurationSet",Fs);const ti=8192,gy=Math.pow(2,14)-1,w1=-gy-1;function Mc(l){const i=ti/l.extent,c=l.loadGeometry();for(let f=0;f<c.length;f++){const g=c[f];for(let x=0;x<g.length;x++){const S=g[x],A=Math.round(S.x*i),D=Math.round(S.y*i);S.x=ee(A,w1,gy),S.y=ee(D,w1,gy),(A<S.x||A>S.x+1||D<S.y||D>S.y+1)&&fe("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function Lc(l,i){return{type:l.type,id:l.id,properties:l.properties,geometry:i?Mc(l):[]}}function pp(l,i,c,f,g){l.emplaceBack(2*i+(f+1)/2,2*c+(g+1)/2)}class vy{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Yt,this.indexArray=new Ci,this.segments=new _r,this.programConfigurations=new Fs(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){const g=this.layers[0],x=[];let S=null,A=!1;g.type==="circle"&&(S=g.layout.get("circle-sort-key"),A=!S.isConstant());for(const{feature:D,id:O,index:V,sourceLayerIndex:U}of i){const W=this.layers[0]._featureFilter.needGeometry,te=Lc(D,W);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),te,f))continue;const ie=A?S.evaluate(te,{},f):void 0,ue={id:O,properties:D.properties,type:D.type,sourceLayerIndex:U,index:V,geometry:W?te.geometry:Mc(D),patterns:{},sortKey:ie};x.push(ue)}A&&x.sort((D,O)=>D.sortKey-O.sortKey);for(const D of x){const{geometry:O,index:V,sourceLayerIndex:U}=D,W=i[V].feature;this.addFeature(D,O,V,f),c.featureIndex.insert(W,O,V,U,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,_a),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,c,f,g){for(const x of c)for(const S of x){const A=S.x,D=S.y;if(A<0||A>=ti||D<0||D>=ti)continue;const O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),V=O.vertexLength;pp(this.layoutVertexArray,A,D,-1,-1),pp(this.layoutVertexArray,A,D,1,-1),pp(this.layoutVertexArray,A,D,1,1),pp(this.layoutVertexArray,A,D,-1,1),this.indexArray.emplaceBack(V,V+1,V+2),this.indexArray.emplaceBack(V,V+3,V+2),O.vertexLength+=4,O.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,{},g)}}function S1(l,i){for(let c=0;c<l.length;c++)if(Yu(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(Yu(l,i[c]))return!0;return!!yy(l,i)}function HD(l,i,c){return!!Yu(l,i)||!!_y(i,l,c)}function k1(l,i){if(l.length===1)return T1(i,l[0]);for(let c=0;c<i.length;c++){const f=i[c];for(let g=0;g<f.length;g++)if(Yu(l,f[g]))return!0}for(let c=0;c<l.length;c++)if(T1(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(yy(l,i[c]))return!0;return!1}function GD(l,i,c){if(l.length>1){if(yy(l,i))return!0;for(let f=0;f<i.length;f++)if(_y(i[f],l,c))return!0}for(let f=0;f<l.length;f++)if(_y(l[f],i,c))return!0;return!1}function yy(l,i){if(l.length===0||i.length===0)return!1;for(let c=0;c<l.length-1;c++){const f=l[c],g=l[c+1];for(let x=0;x<i.length-1;x++)if(WD(f,g,i[x],i[x+1]))return!0}return!1}function WD(l,i,c,f){return Ie(l,c,f)!==Ie(i,c,f)&&Ie(l,i,c)!==Ie(l,i,f)}function _y(l,i,c){const f=c*c;if(i.length===1)return l.distSqr(i[0])<f;for(let g=1;g<i.length;g++)if(C1(l,i[g-1],i[g])<f)return!0;return!1}function C1(l,i,c){const f=i.distSqr(c);if(f===0)return l.distSqr(i);const g=((l.x-i.x)*(c.x-i.x)+(l.y-i.y)*(c.y-i.y))/f;return l.distSqr(g<0?i:g>1?c:c.sub(i)._mult(g)._add(i))}function T1(l,i){let c,f,g,x=!1;for(let S=0;S<l.length;S++){c=l[S];for(let A=0,D=c.length-1;A<c.length;D=A++)f=c[A],g=c[D],f.y>i.y!=g.y>i.y&&i.x<(g.x-f.x)*(i.y-f.y)/(g.y-f.y)+f.x&&(x=!x)}return x}function Yu(l,i){let c=!1;for(let f=0,g=l.length-1;f<l.length;g=f++){const x=l[f],S=l[g];x.y>i.y!=S.y>i.y&&i.x<(S.x-x.x)*(i.y-x.y)/(S.y-x.y)+x.x&&(c=!c)}return c}function YD(l,i,c){const f=c[0],g=c[2];if(l.x<f.x&&i.x<f.x||l.x>g.x&&i.x>g.x||l.y<f.y&&i.y<f.y||l.y>g.y&&i.y>g.y)return!1;const x=Ie(l,i,c[0]);return x!==Ie(l,i,c[1])||x!==Ie(l,i,c[2])||x!==Ie(l,i,c[3])}function Uh(l,i,c){const f=i.paint.get(l).value;return f.kind==="constant"?f.value:c.programConfigurations.get(i.id).getMaxValue(l)}function gp(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function vp(l,i,c,f,g){if(!i[0]&&!i[1])return l;const x=k.convert(i)._mult(g);c==="viewport"&&x._rotate(-f);const S=[];for(let A=0;A<l.length;A++)S.push(l[A].sub(x));return S}let A1,E1;Ut("CircleBucket",vy,{omit:["layers"]});var ZD={get paint(){return E1=E1||new Yr({"circle-radius":new sn(Ce.paint_circle["circle-radius"]),"circle-color":new sn(Ce.paint_circle["circle-color"]),"circle-blur":new sn(Ce.paint_circle["circle-blur"]),"circle-opacity":new sn(Ce.paint_circle["circle-opacity"]),"circle-translate":new Qt(Ce.paint_circle["circle-translate"]),"circle-translate-anchor":new Qt(Ce.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qt(Ce.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qt(Ce.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new sn(Ce.paint_circle["circle-stroke-width"]),"circle-stroke-color":new sn(Ce.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new sn(Ce.paint_circle["circle-stroke-opacity"])})},get layout(){return A1=A1||new Yr({"circle-sort-key":new sn(Ce.layout_circle["circle-sort-key"])})}},ea=1e-6,Zu=typeof Float32Array<"u"?Float32Array:Array;function by(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function I1(l,i,c){var f=i[0],g=i[1],x=i[2],S=i[3],A=i[4],D=i[5],O=i[6],V=i[7],U=i[8],W=i[9],te=i[10],ie=i[11],ue=i[12],_e=i[13],we=i[14],Oe=i[15],Te=c[0],ze=c[1],Ge=c[2],at=c[3];return l[0]=Te*f+ze*A+Ge*U+at*ue,l[1]=Te*g+ze*D+Ge*W+at*_e,l[2]=Te*x+ze*O+Ge*te+at*we,l[3]=Te*S+ze*V+Ge*ie+at*Oe,l[4]=(Te=c[4])*f+(ze=c[5])*A+(Ge=c[6])*U+(at=c[7])*ue,l[5]=Te*g+ze*D+Ge*W+at*_e,l[6]=Te*x+ze*O+Ge*te+at*we,l[7]=Te*S+ze*V+Ge*ie+at*Oe,l[8]=(Te=c[8])*f+(ze=c[9])*A+(Ge=c[10])*U+(at=c[11])*ue,l[9]=Te*g+ze*D+Ge*W+at*_e,l[10]=Te*x+ze*O+Ge*te+at*we,l[11]=Te*S+ze*V+Ge*ie+at*Oe,l[12]=(Te=c[12])*f+(ze=c[13])*A+(Ge=c[14])*U+(at=c[15])*ue,l[13]=Te*g+ze*D+Ge*W+at*_e,l[14]=Te*x+ze*O+Ge*te+at*we,l[15]=Te*S+ze*V+Ge*ie+at*Oe,l}Math.hypot||(Math.hypot=function(){for(var l=0,i=arguments.length;i--;)l+=arguments[i]*arguments[i];return Math.sqrt(l)});var qh,KD=I1;function yp(l,i,c){var f=i[0],g=i[1],x=i[2],S=i[3];return l[0]=c[0]*f+c[4]*g+c[8]*x+c[12]*S,l[1]=c[1]*f+c[5]*g+c[9]*x+c[13]*S,l[2]=c[2]*f+c[6]*g+c[10]*x+c[14]*S,l[3]=c[3]*f+c[7]*g+c[11]*x+c[15]*S,l}qh=new Zu(4),Zu!=Float32Array&&(qh[0]=0,qh[1]=0,qh[2]=0,qh[3]=0);class XD extends Ma{constructor(i){super(i,ZD)}createBucket(i){return new vy(i)}queryRadius(i){const c=i;return Uh("circle-radius",this,c)+Uh("circle-stroke-width",this,c)+gp(this.paint.get("circle-translate"))}queryIntersectsFeature(i,c,f,g,x,S,A,D){const O=vp(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,A),V=this.paint.get("circle-radius").evaluate(c,f)+this.paint.get("circle-stroke-width").evaluate(c,f),U=this.paint.get("circle-pitch-alignment")==="map",W=U?O:function(ie,ue){return ie.map(_e=>P1(_e,ue))}(O,D),te=U?V*A:V;for(const ie of g)for(const ue of ie){const _e=U?ue:P1(ue,D);let we=te;const Oe=yp([],[ue.x,ue.y,0,1],D);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?we*=Oe[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(we*=S.cameraToCenterDistance/Oe[3]),HD(W,_e,we))return!0}return!1}}function P1(l,i){const c=yp([],[l.x,l.y,0,1],i);return new k(c[0]/c[3],c[1]/c[3])}class D1 extends vy{}let M1;Ut("HeatmapBucket",D1,{omit:["layers"]});var JD={get paint(){return M1=M1||new Yr({"heatmap-radius":new sn(Ce.paint_heatmap["heatmap-radius"]),"heatmap-weight":new sn(Ce.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qt(Ce.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Rh(Ce.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qt(Ce.paint_heatmap["heatmap-opacity"])})}};function xy(l,{width:i,height:c},f,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==i*c*f)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${i*c*f}`)}else g=new Uint8Array(i*c*f);return l.width=i,l.height=c,l.data=g,l}function L1(l,{width:i,height:c},f){if(i===l.width&&c===l.height)return;const g=xy({},{width:i,height:c},f);wy(l,g,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,i),height:Math.min(l.height,c)},f),l.width=i,l.height=c,l.data=g.data}function wy(l,i,c,f,g,x){if(g.width===0||g.height===0)return i;if(g.width>l.width||g.height>l.height||c.x>l.width-g.width||c.y>l.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>i.width||g.height>i.height||f.x>i.width-g.width||f.y>i.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const S=l.data,A=i.data;if(S===A)throw new Error("srcData equals dstData, so image is already copied");for(let D=0;D<g.height;D++){const O=((c.y+D)*l.width+c.x)*x,V=((f.y+D)*i.width+f.x)*x;for(let U=0;U<g.width*x;U++)A[V+U]=S[O+U]}return i}class jh{constructor(i,c){xy(this,i,1,c)}resize(i){L1(this,i,1)}clone(){return new jh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,g,x){wy(i,c,f,g,x,1)}}class qa{constructor(i,c){xy(this,i,4,c)}resize(i){L1(this,i,4)}replace(i,c){c?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new qa({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,g,x){wy(i,c,f,g,x,4)}}function R1(l){const i={},c=l.resolution||256,f=l.clips?l.clips.length:1,g=l.image||new qa({width:c,height:f});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const x=(S,A,D)=>{i[l.evaluationKey]=D;const O=l.expression.evaluate(i);g.data[S+A+0]=Math.floor(255*O.r/O.a),g.data[S+A+1]=Math.floor(255*O.g/O.a),g.data[S+A+2]=Math.floor(255*O.b/O.a),g.data[S+A+3]=Math.floor(255*O.a)};if(l.clips)for(let S=0,A=0;S<f;++S,A+=4*c)for(let D=0,O=0;D<c;D++,O+=4){const V=D/(c-1),{start:U,end:W}=l.clips[S];x(A,O,U*(1-V)+W*V)}else for(let S=0,A=0;S<c;S++,A+=4)x(0,A,S/(c-1));return g}Ut("AlphaImage",jh),Ut("RGBAImage",qa);class QD extends Ma{createBucket(i){return new D1(i)}constructor(i){super(i,JD),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=R1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let O1;var eM={get paint(){return O1=O1||new Yr({"hillshade-illumination-direction":new Qt(Ce.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qt(Ce.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qt(Ce.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qt(Ce.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qt(Ce.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qt(Ce.paint_hillshade["hillshade-accent-color"])})}};class tM extends Ma{constructor(i){super(i,eM)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const nM=Ir([{name:"a_pos",components:2,type:"Int16"}],4),{members:rM}=nM;var Sy={exports:{}};function _p(l,i,c){c=c||2;var f,g,x,S,A,D,O,V=i&&i.length,U=V?i[0]*c:l.length,W=F1(l,0,U,c,!0),te=[];if(!W||W.next===W.prev)return te;if(V&&(W=function(ue,_e,we,Oe){var Te,ze,Ge,at=[];for(Te=0,ze=_e.length;Te<ze;Te++)(Ge=F1(ue,_e[Te]*Oe,Te<ze-1?_e[Te+1]*Oe:ue.length,Oe,!1))===Ge.next&&(Ge.steiner=!0),at.push(dM(Ge));for(at.sort(lM),Te=0;Te<at.length;Te++)we=cM(at[Te],we);return we}(l,i,W,c)),l.length>80*c){f=x=l[0],g=S=l[1];for(var ie=c;ie<U;ie+=c)(A=l[ie])<f&&(f=A),(D=l[ie+1])<g&&(g=D),A>x&&(x=A),D>S&&(S=D);O=(O=Math.max(x-f,S-g))!==0?32767/O:0}return Hh(W,te,c,f,g,O,0),te}function F1(l,i,c,f,g){var x,S;if(g===Ty(l,i,c,f)>0)for(x=i;x<c;x+=f)S=V1(x,l[x],l[x+1],S);else for(x=c-f;x>=i;x-=f)S=V1(x,l[x],l[x+1],S);return S&&bp(S,S.next)&&(Wh(S),S=S.next),S}function Rc(l,i){if(!l)return l;i||(i=l);var c,f=l;do if(c=!1,f.steiner||!bp(f,f.next)&&Kr(f.prev,f,f.next)!==0)f=f.next;else{if(Wh(f),(f=i=f.prev)===f.next)break;c=!0}while(c||f!==i);return i}function Hh(l,i,c,f,g,x,S){if(l){!S&&x&&function(V,U,W,te){var ie=V;do ie.z===0&&(ie.z=ky(ie.x,ie.y,U,W,te)),ie.prevZ=ie.prev,ie.nextZ=ie.next,ie=ie.next;while(ie!==V);ie.prevZ.nextZ=null,ie.prevZ=null,function(ue){var _e,we,Oe,Te,ze,Ge,at,Nt,Zt=1;do{for(we=ue,ue=null,ze=null,Ge=0;we;){for(Ge++,Oe=we,at=0,_e=0;_e<Zt&&(at++,Oe=Oe.nextZ);_e++);for(Nt=Zt;at>0||Nt>0&&Oe;)at!==0&&(Nt===0||!Oe||we.z<=Oe.z)?(Te=we,we=we.nextZ,at--):(Te=Oe,Oe=Oe.nextZ,Nt--),ze?ze.nextZ=Te:ue=Te,Te.prevZ=ze,ze=Te;we=Oe}ze.nextZ=null,Zt*=2}while(Ge>1)}(ie)}(l,f,g,x);for(var A,D,O=l;l.prev!==l.next;)if(A=l.prev,D=l.next,x?aM(l,f,g,x):iM(l))i.push(A.i/c|0),i.push(l.i/c|0),i.push(D.i/c|0),Wh(l),l=D.next,O=D.next;else if((l=D)===O){S?S===1?Hh(l=sM(Rc(l),i,c),i,c,f,g,x,2):S===2&&oM(l,i,c,f,g,x):Hh(Rc(l),i,c,f,g,x,1);break}}}function iM(l){var i=l.prev,c=l,f=l.next;if(Kr(i,c,f)>=0)return!1;for(var g=i.x,x=c.x,S=f.x,A=i.y,D=c.y,O=f.y,V=g<x?g<S?g:S:x<S?x:S,U=A<D?A<O?A:O:D<O?D:O,W=g>x?g>S?g:S:x>S?x:S,te=A>D?A>O?A:O:D>O?D:O,ie=f.next;ie!==i;){if(ie.x>=V&&ie.x<=W&&ie.y>=U&&ie.y<=te&&Ku(g,A,x,D,S,O,ie.x,ie.y)&&Kr(ie.prev,ie,ie.next)>=0)return!1;ie=ie.next}return!0}function aM(l,i,c,f){var g=l.prev,x=l,S=l.next;if(Kr(g,x,S)>=0)return!1;for(var A=g.x,D=x.x,O=S.x,V=g.y,U=x.y,W=S.y,te=A<D?A<O?A:O:D<O?D:O,ie=V<U?V<W?V:W:U<W?U:W,ue=A>D?A>O?A:O:D>O?D:O,_e=V>U?V>W?V:W:U>W?U:W,we=ky(te,ie,i,c,f),Oe=ky(ue,_e,i,c,f),Te=l.prevZ,ze=l.nextZ;Te&&Te.z>=we&&ze&&ze.z<=Oe;){if(Te.x>=te&&Te.x<=ue&&Te.y>=ie&&Te.y<=_e&&Te!==g&&Te!==S&&Ku(A,V,D,U,O,W,Te.x,Te.y)&&Kr(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,ze.x>=te&&ze.x<=ue&&ze.y>=ie&&ze.y<=_e&&ze!==g&&ze!==S&&Ku(A,V,D,U,O,W,ze.x,ze.y)&&Kr(ze.prev,ze,ze.next)>=0))return!1;ze=ze.nextZ}for(;Te&&Te.z>=we;){if(Te.x>=te&&Te.x<=ue&&Te.y>=ie&&Te.y<=_e&&Te!==g&&Te!==S&&Ku(A,V,D,U,O,W,Te.x,Te.y)&&Kr(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;ze&&ze.z<=Oe;){if(ze.x>=te&&ze.x<=ue&&ze.y>=ie&&ze.y<=_e&&ze!==g&&ze!==S&&Ku(A,V,D,U,O,W,ze.x,ze.y)&&Kr(ze.prev,ze,ze.next)>=0)return!1;ze=ze.nextZ}return!0}function sM(l,i,c){var f=l;do{var g=f.prev,x=f.next.next;!bp(g,x)&&z1(g,f,f.next,x)&&Gh(g,x)&&Gh(x,g)&&(i.push(g.i/c|0),i.push(f.i/c|0),i.push(x.i/c|0),Wh(f),Wh(f.next),f=l=x),f=f.next}while(f!==l);return Rc(f)}function oM(l,i,c,f,g,x){var S=l;do{for(var A=S.next.next;A!==S.prev;){if(S.i!==A.i&&hM(S,A)){var D=B1(S,A);return S=Rc(S,S.next),D=Rc(D,D.next),Hh(S,i,c,f,g,x,0),void Hh(D,i,c,f,g,x,0)}A=A.next}S=S.next}while(S!==l)}function lM(l,i){return l.x-i.x}function cM(l,i){var c=function(g,x){var S,A=x,D=g.x,O=g.y,V=-1/0;do{if(O<=A.y&&O>=A.next.y&&A.next.y!==A.y){var U=A.x+(O-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(U<=D&&U>V&&(V=U,S=A.x<A.next.x?A:A.next,U===D))return S}A=A.next}while(A!==x);if(!S)return null;var W,te=S,ie=S.x,ue=S.y,_e=1/0;A=S;do D>=A.x&&A.x>=ie&&D!==A.x&&Ku(O<ue?D:V,O,ie,ue,O<ue?V:D,O,A.x,A.y)&&(W=Math.abs(O-A.y)/(D-A.x),Gh(A,g)&&(W<_e||W===_e&&(A.x>S.x||A.x===S.x&&uM(S,A)))&&(S=A,_e=W)),A=A.next;while(A!==te);return S}(l,i);if(!c)return i;var f=B1(c,l);return Rc(f,f.next),Rc(c,c.next)}function uM(l,i){return Kr(l.prev,l,i.prev)<0&&Kr(i.next,l,l.next)<0}function ky(l,i,c,f,g){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*g|0)|l<<8))|l<<4))|l<<2))|l<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-f)*g|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function dM(l){var i=l,c=l;do(i.x<c.x||i.x===c.x&&i.y<c.y)&&(c=i),i=i.next;while(i!==l);return c}function Ku(l,i,c,f,g,x,S,A){return(g-S)*(i-A)>=(l-S)*(x-A)&&(l-S)*(f-A)>=(c-S)*(i-A)&&(c-S)*(x-A)>=(g-S)*(f-A)}function hM(l,i){return l.next.i!==i.i&&l.prev.i!==i.i&&!function(c,f){var g=c;do{if(g.i!==c.i&&g.next.i!==c.i&&g.i!==f.i&&g.next.i!==f.i&&z1(g,g.next,c,f))return!0;g=g.next}while(g!==c);return!1}(l,i)&&(Gh(l,i)&&Gh(i,l)&&function(c,f){var g=c,x=!1,S=(c.x+f.x)/2,A=(c.y+f.y)/2;do g.y>A!=g.next.y>A&&g.next.y!==g.y&&S<(g.next.x-g.x)*(A-g.y)/(g.next.y-g.y)+g.x&&(x=!x),g=g.next;while(g!==c);return x}(l,i)&&(Kr(l.prev,l,i.prev)||Kr(l,i.prev,i))||bp(l,i)&&Kr(l.prev,l,l.next)>0&&Kr(i.prev,i,i.next)>0)}function Kr(l,i,c){return(i.y-l.y)*(c.x-i.x)-(i.x-l.x)*(c.y-i.y)}function bp(l,i){return l.x===i.x&&l.y===i.y}function z1(l,i,c,f){var g=wp(Kr(l,i,c)),x=wp(Kr(l,i,f)),S=wp(Kr(c,f,l)),A=wp(Kr(c,f,i));return g!==x&&S!==A||!(g!==0||!xp(l,c,i))||!(x!==0||!xp(l,f,i))||!(S!==0||!xp(c,l,f))||!(A!==0||!xp(c,i,f))}function xp(l,i,c){return i.x<=Math.max(l.x,c.x)&&i.x>=Math.min(l.x,c.x)&&i.y<=Math.max(l.y,c.y)&&i.y>=Math.min(l.y,c.y)}function wp(l){return l>0?1:l<0?-1:0}function Gh(l,i){return Kr(l.prev,l,l.next)<0?Kr(l,i,l.next)>=0&&Kr(l,l.prev,i)>=0:Kr(l,i,l.prev)<0||Kr(l,l.next,i)<0}function B1(l,i){var c=new Cy(l.i,l.x,l.y),f=new Cy(i.i,i.x,i.y),g=l.next,x=i.prev;return l.next=i,i.prev=l,c.next=g,g.prev=c,f.next=c,c.prev=f,x.next=f,f.prev=x,f}function V1(l,i,c,f){var g=new Cy(l,i,c);return f?(g.next=f.next,g.prev=f,f.next.prev=g,f.next=g):(g.prev=g,g.next=g),g}function Wh(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function Cy(l,i,c){this.i=l,this.x=i,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ty(l,i,c,f){for(var g=0,x=i,S=c-f;x<c;x+=f)g+=(l[S]-l[x])*(l[x+1]+l[S+1]),S=x;return g}Sy.exports=_p,Sy.exports.default=_p,_p.deviation=function(l,i,c,f){var g=i&&i.length,x=Math.abs(Ty(l,0,g?i[0]*c:l.length,c));if(g)for(var S=0,A=i.length;S<A;S++)x-=Math.abs(Ty(l,i[S]*c,S<A-1?i[S+1]*c:l.length,c));var D=0;for(S=0;S<f.length;S+=3){var O=f[S]*c,V=f[S+1]*c,U=f[S+2]*c;D+=Math.abs((l[O]-l[U])*(l[V+1]-l[O+1])-(l[O]-l[V])*(l[U+1]-l[O+1]))}return x===0&&D===0?0:Math.abs((D-x)/x)},_p.flatten=function(l){for(var i=l[0][0].length,c={vertices:[],holes:[],dimensions:i},f=0,g=0;g<l.length;g++){for(var x=0;x<l[g].length;x++)for(var S=0;S<i;S++)c.vertices.push(l[g][x][S]);g>0&&c.holes.push(f+=l[g-1].length)}return c};var N1=y(Sy.exports);function fM(l,i,c,f,g){$1(l,i,c,f||l.length-1,g||mM)}function $1(l,i,c,f,g){for(;f>c;){if(f-c>600){var x=f-c+1,S=i-c+1,A=Math.log(x),D=.5*Math.exp(2*A/3),O=.5*Math.sqrt(A*D*(x-D)/x)*(S-x/2<0?-1:1);$1(l,i,Math.max(c,Math.floor(i-S*D/x+O)),Math.min(f,Math.floor(i+(x-S)*D/x+O)),g)}var V=l[i],U=c,W=f;for(Yh(l,c,i),g(l[f],V)>0&&Yh(l,c,f);U<W;){for(Yh(l,U,W),U++,W--;g(l[U],V)<0;)U++;for(;g(l[W],V)>0;)W--}g(l[c],V)===0?Yh(l,c,W):Yh(l,++W,f),W<=i&&(c=W+1),i<=W&&(f=W-1)}}function Yh(l,i,c){var f=l[i];l[i]=l[c],l[c]=f}function mM(l,i){return l<i?-1:l>i?1:0}function Ay(l,i){const c=l.length;if(c<=1)return[l];const f=[];let g,x;for(let S=0;S<c;S++){const A=Ae(l[S]);A!==0&&(l[S].area=Math.abs(A),x===void 0&&(x=A<0),x===A<0?(g&&f.push(g),g=[l[S]]):g.push(l[S]))}if(g&&f.push(g),i>1)for(let S=0;S<f.length;S++)f[S].length<=i||(fM(f[S],i,1,f[S].length-1,pM),f[S]=f[S].slice(0,i));return f}function pM(l,i){return i.area-l.area}function Ey(l,i,c){const f=c.patternDependencies;let g=!1;for(const x of i){const S=x.paint.get(`${l}-pattern`);S.isConstant()||(g=!0);const A=S.constantOr(null);A&&(g=!0,f[A.to]=!0,f[A.from]=!0)}return g}function Iy(l,i,c,f,g){const x=g.patternDependencies;for(const S of i){const A=S.paint.get(`${l}-pattern`).value;if(A.kind!=="constant"){let D=A.evaluate({zoom:f-1},c,{},g.availableImages),O=A.evaluate({zoom:f},c,{},g.availableImages),V=A.evaluate({zoom:f+1},c,{},g.availableImages);D=D&&D.name?D.name:D,O=O&&O.name?O.name:O,V=V&&V.name?V.name:V,x[D]=!0,x[O]=!0,x[V]=!0,c.patterns[S.id]={min:D,mid:O,max:V}}}return c}class Py{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pn,this.indexArray=new Ci,this.indexArray2=new ci,this.programConfigurations=new Fs(i.layers,i.zoom),this.segments=new _r,this.segments2=new _r,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Ey("fill",this.layers,c);const g=this.layers[0].layout.get("fill-sort-key"),x=!g.isConstant(),S=[];for(const{feature:A,id:D,index:O,sourceLayerIndex:V}of i){const U=this.layers[0]._featureFilter.needGeometry,W=Lc(A,U);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),W,f))continue;const te=x?g.evaluate(W,{},f,c.availableImages):void 0,ie={id:D,properties:A.properties,type:A.type,sourceLayerIndex:V,index:O,geometry:U?W.geometry:Mc(A),patterns:{},sortKey:te};S.push(ie)}x&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:O,sourceLayerIndex:V}=A;if(this.hasPattern){const U=Iy("fill",this.layers,A,this.zoom,c);this.patternFeatures.push(U)}else this.addFeature(A,D,O,f,{});c.featureIndex.insert(i[O].feature,D,O,V,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,rM),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,c,f,g,x){for(const S of Ay(c,500)){let A=0;for(const te of S)A+=te.length;const D=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),O=D.vertexLength,V=[],U=[];for(const te of S){if(te.length===0)continue;te!==S[0]&&U.push(V.length/2);const ie=this.segments2.prepareSegment(te.length,this.layoutVertexArray,this.indexArray2),ue=ie.vertexLength;this.layoutVertexArray.emplaceBack(te[0].x,te[0].y),this.indexArray2.emplaceBack(ue+te.length-1,ue),V.push(te[0].x),V.push(te[0].y);for(let _e=1;_e<te.length;_e++)this.layoutVertexArray.emplaceBack(te[_e].x,te[_e].y),this.indexArray2.emplaceBack(ue+_e-1,ue+_e),V.push(te[_e].x),V.push(te[_e].y);ie.vertexLength+=te.length,ie.primitiveLength+=te.length}const W=N1(V,U);for(let te=0;te<W.length;te+=3)this.indexArray.emplaceBack(O+W[te],O+W[te+1],O+W[te+2]);D.vertexLength+=A,D.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,g)}}let U1,q1;Ut("FillBucket",Py,{omit:["layers","patternFeatures"]});var gM={get paint(){return q1=q1||new Yr({"fill-antialias":new Qt(Ce.paint_fill["fill-antialias"]),"fill-opacity":new sn(Ce.paint_fill["fill-opacity"]),"fill-color":new sn(Ce.paint_fill["fill-color"]),"fill-outline-color":new sn(Ce.paint_fill["fill-outline-color"]),"fill-translate":new Qt(Ce.paint_fill["fill-translate"]),"fill-translate-anchor":new Qt(Ce.paint_fill["fill-translate-anchor"]),"fill-pattern":new Ic(Ce.paint_fill["fill-pattern"])})},get layout(){return U1=U1||new Yr({"fill-sort-key":new sn(Ce.layout_fill["fill-sort-key"])})}};class vM extends Ma{constructor(i){super(i,gM)}recalculate(i,c){super.recalculate(i,c);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Py(i)}queryRadius(){return gp(this.paint.get("fill-translate"))}queryIntersectsFeature(i,c,f,g,x,S,A){return k1(vp(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,A),g)}isTileClipped(){return!0}}const yM=Ir([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),_M=Ir([{name:"a_centroid",components:2,type:"Int16"}],4),{members:bM}=yM;var Bl={},xM=b,j1=Xu;function Xu(l,i,c,f,g){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=g,l.readFields(wM,this,i)}function wM(l,i,c){l==1?i.id=c.readVarint():l==2?function(f,g){for(var x=f.readVarint()+f.pos;f.pos<x;){var S=g._keys[f.readVarint()],A=g._values[f.readVarint()];g.properties[S]=A}}(c,i):l==3?i.type=c.readVarint():l==4&&(i._geometry=c.pos)}function SM(l){for(var i,c,f=0,g=0,x=l.length,S=x-1;g<x;S=g++)f+=((c=l[S]).x-(i=l[g]).x)*(i.y+c.y);return f}Xu.types=["Unknown","Point","LineString","Polygon"],Xu.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var i,c=l.readVarint()+l.pos,f=1,g=0,x=0,S=0,A=[];l.pos<c;){if(g<=0){var D=l.readVarint();f=7&D,g=D>>3}if(g--,f===1||f===2)x+=l.readSVarint(),S+=l.readSVarint(),f===1&&(i&&A.push(i),i=[]),i.push(new xM(x,S));else{if(f!==7)throw new Error("unknown command "+f);i&&i.push(i[0].clone())}}return i&&A.push(i),A},Xu.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var i=l.readVarint()+l.pos,c=1,f=0,g=0,x=0,S=1/0,A=-1/0,D=1/0,O=-1/0;l.pos<i;){if(f<=0){var V=l.readVarint();c=7&V,f=V>>3}if(f--,c===1||c===2)(g+=l.readSVarint())<S&&(S=g),g>A&&(A=g),(x+=l.readSVarint())<D&&(D=x),x>O&&(O=x);else if(c!==7)throw new Error("unknown command "+c)}return[S,D,A,O]},Xu.prototype.toGeoJSON=function(l,i,c){var f,g,x=this.extent*Math.pow(2,c),S=this.extent*l,A=this.extent*i,D=this.loadGeometry(),O=Xu.types[this.type];function V(te){for(var ie=0;ie<te.length;ie++){var ue=te[ie];te[ie]=[360*(ue.x+S)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+A)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var U=[];for(f=0;f<D.length;f++)U[f]=D[f][0];V(D=U);break;case 2:for(f=0;f<D.length;f++)V(D[f]);break;case 3:for(D=function(te){var ie=te.length;if(ie<=1)return[te];for(var ue,_e,we=[],Oe=0;Oe<ie;Oe++){var Te=SM(te[Oe]);Te!==0&&(_e===void 0&&(_e=Te<0),_e===Te<0?(ue&&we.push(ue),ue=[te[Oe]]):ue.push(te[Oe]))}return ue&&we.push(ue),we}(D),f=0;f<D.length;f++)for(g=0;g<D[f].length;g++)V(D[f][g])}D.length===1?D=D[0]:O="Multi"+O;var W={type:"Feature",geometry:{type:O,coordinates:D},properties:this.properties};return"id"in this&&(W.id=this.id),W};var kM=j1,H1=G1;function G1(l,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(CM,this,i),this.length=this._features.length}function CM(l,i,c){l===15?i.version=c.readVarint():l===1?i.name=c.readString():l===5?i.extent=c.readVarint():l===2?i._features.push(c.pos):l===3?i._keys.push(c.readString()):l===4&&i._values.push(function(f){for(var g=null,x=f.readVarint()+f.pos;f.pos<x;){var S=f.readVarint()>>3;g=S===1?f.readString():S===2?f.readFloat():S===3?f.readDouble():S===4?f.readVarint64():S===5?f.readVarint():S===6?f.readSVarint():S===7?f.readBoolean():null}return g}(c))}G1.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var i=this._pbf.readVarint()+this._pbf.pos;return new kM(this._pbf,i,this.extent,this._keys,this._values)};var TM=H1;function AM(l,i,c){if(l===3){var f=new TM(c,c.readVarint()+c.pos);f.length&&(i[f.name]=f)}}Bl.VectorTile=function(l,i){this.layers=l.readFields(AM,{},i)},Bl.VectorTileFeature=j1,Bl.VectorTileLayer=H1;const EM=Bl.VectorTileFeature.types,Dy=Math.pow(2,13);function Zh(l,i,c,f,g,x,S,A){l.emplaceBack(i,c,2*Math.floor(f*Dy)+S,g*Dy*2,x*Dy*2,Math.round(A))}class My{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ot,this.centroidVertexArray=new At,this.indexArray=new Ci,this.programConfigurations=new Fs(i.layers,i.zoom),this.segments=new _r,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.features=[],this.hasPattern=Ey("fill-extrusion",this.layers,c);for(const{feature:g,id:x,index:S,sourceLayerIndex:A}of i){const D=this.layers[0]._featureFilter.needGeometry,O=Lc(g,D);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),O,f))continue;const V={id:x,sourceLayerIndex:A,index:S,geometry:D?O.geometry:Mc(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(Iy("fill-extrusion",this.layers,V,this.zoom,c)):this.addFeature(V,V.geometry,S,f,{}),c.featureIndex.insert(g,V.geometry,S,A,this.index,!0)}}addFeatures(i,c,f){for(const g of this.features){const{geometry:x}=g;this.addFeature(g,x,g.index,c,f)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,bM),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,_M.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,c,f,g,x){const S={x:0,y:0,vertexCount:0};for(const A of Ay(c,500)){let D=0;for(const ie of A)D+=ie.length;let O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ie of A){if(ie.length===0||PM(ie))continue;let ue=0;for(let _e=0;_e<ie.length;_e++){const we=ie[_e];if(_e>=1){const Oe=ie[_e-1];if(!IM(we,Oe)){O.vertexLength+4>_r.MAX_VERTEX_ARRAY_LENGTH&&(O=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Te=we.sub(Oe)._perp()._unit(),ze=Oe.dist(we);ue+ze>32768&&(ue=0),Zh(this.layoutVertexArray,we.x,we.y,Te.x,Te.y,0,0,ue),Zh(this.layoutVertexArray,we.x,we.y,Te.x,Te.y,0,1,ue),S.x+=2*we.x,S.y+=2*we.y,S.vertexCount+=2,ue+=ze,Zh(this.layoutVertexArray,Oe.x,Oe.y,Te.x,Te.y,0,0,ue),Zh(this.layoutVertexArray,Oe.x,Oe.y,Te.x,Te.y,0,1,ue),S.x+=2*Oe.x,S.y+=2*Oe.y,S.vertexCount+=2;const Ge=O.vertexLength;this.indexArray.emplaceBack(Ge,Ge+2,Ge+1),this.indexArray.emplaceBack(Ge+1,Ge+2,Ge+3),O.vertexLength+=4,O.primitiveLength+=2}}}}if(O.vertexLength+D>_r.MAX_VERTEX_ARRAY_LENGTH&&(O=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray)),EM[i.type]!=="Polygon")continue;const V=[],U=[],W=O.vertexLength;for(const ie of A)if(ie.length!==0){ie!==A[0]&&U.push(V.length/2);for(let ue=0;ue<ie.length;ue++){const _e=ie[ue];Zh(this.layoutVertexArray,_e.x,_e.y,0,0,1,1,0),S.x+=_e.x,S.y+=_e.y,S.vertexCount+=1,V.push(_e.x),V.push(_e.y)}}const te=N1(V,U);for(let ie=0;ie<te.length;ie+=3)this.indexArray.emplaceBack(W+te[ie],W+te[ie+2],W+te[ie+1]);O.primitiveLength+=te.length/3,O.vertexLength+=D}for(let A=0;A<S.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(S.x/S.vertexCount),Math.floor(S.y/S.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,g)}}function IM(l,i){return l.x===i.x&&(l.x<0||l.x>ti)||l.y===i.y&&(l.y<0||l.y>ti)}function PM(l){return l.every(i=>i.x<0)||l.every(i=>i.x>ti)||l.every(i=>i.y<0)||l.every(i=>i.y>ti)}let W1;Ut("FillExtrusionBucket",My,{omit:["layers","features"]});var DM={get paint(){return W1=W1||new Yr({"fill-extrusion-opacity":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new sn(Ce["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Ic(Ce["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new sn(Ce["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new sn(Ce["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qt(Ce["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class MM extends Ma{constructor(i){super(i,DM)}createBucket(i){return new My(i)}queryRadius(){return gp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,c,f,g,x,S,A,D){const O=vp(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,A),V=this.paint.get("fill-extrusion-height").evaluate(c,f),U=this.paint.get("fill-extrusion-base").evaluate(c,f),W=function(ie,ue,_e,we){const Oe=[];for(const Te of ie){const ze=[Te.x,Te.y,0,1];yp(ze,ze,ue),Oe.push(new k(ze[0]/ze[3],ze[1]/ze[3]))}return Oe}(O,D),te=function(ie,ue,_e,we){const Oe=[],Te=[],ze=we[8]*ue,Ge=we[9]*ue,at=we[10]*ue,Nt=we[11]*ue,Zt=we[8]*_e,Bt=we[9]*_e,Ft=we[10]*_e,Pt=we[11]*_e;for(const qt of ie){const Dt=[],wt=[];for(const nn of qt){const Jt=nn.x,Cn=nn.y,br=we[0]*Jt+we[4]*Cn+we[12],Cr=we[1]*Jt+we[5]*Cn+we[13],hi=we[2]*Jt+we[6]*Cn+we[14],Ra=we[3]*Jt+we[7]*Cn+we[15],ta=hi+at,ni=Ra+Nt,Ai=br+Zt,Oi=Cr+Bt,na=hi+Ft,ra=Ra+Pt,fi=new k((br+ze)/ni,(Cr+Ge)/ni);fi.z=ta/ni,Dt.push(fi);const mi=new k(Ai/ra,Oi/ra);mi.z=na/ra,wt.push(mi)}Oe.push(Dt),Te.push(wt)}return[Oe,Te]}(g,U,V,D);return function(ie,ue,_e){let we=1/0;k1(_e,ue)&&(we=Y1(_e,ue[0]));for(let Oe=0;Oe<ue.length;Oe++){const Te=ue[Oe],ze=ie[Oe];for(let Ge=0;Ge<Te.length-1;Ge++){const at=Te[Ge],Nt=[at,Te[Ge+1],ze[Ge+1],ze[Ge],at];S1(_e,Nt)&&(we=Math.min(we,Y1(_e,Nt)))}}return we!==1/0&&we}(te[0],te[1],W)}}function Kh(l,i){return l.x*i.x+l.y*i.y}function Y1(l,i){if(l.length===1){let c=0;const f=i[c++];let g;for(;!g||f.equals(g);)if(g=i[c++],!g)return 1/0;for(;c<i.length;c++){const x=i[c],S=l[0],A=g.sub(f),D=x.sub(f),O=S.sub(f),V=Kh(A,A),U=Kh(A,D),W=Kh(D,D),te=Kh(O,A),ie=Kh(O,D),ue=V*W-U*U,_e=(W*te-U*ie)/ue,we=(V*ie-U*te)/ue,Oe=f.z*(1-_e-we)+g.z*_e+x.z*we;if(isFinite(Oe))return Oe}return 1/0}{let c=1/0;for(const f of i)c=Math.min(c,f.z);return c}}const LM=Ir([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:RM}=LM,OM=Ir([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:FM}=OM,zM=Bl.VectorTileFeature.types,BM=Math.cos(Math.PI/180*37.5),Z1=Math.pow(2,14)/.5;class Ly{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new on,this.layoutVertexArray2=new Xt,this.indexArray=new Ci,this.programConfigurations=new Fs(i.layers,i.zoom),this.segments=new _r,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Ey("line",this.layers,c);const g=this.layers[0].layout.get("line-sort-key"),x=!g.isConstant(),S=[];for(const{feature:A,id:D,index:O,sourceLayerIndex:V}of i){const U=this.layers[0]._featureFilter.needGeometry,W=Lc(A,U);if(!this.layers[0]._featureFilter.filter(new yr(this.zoom),W,f))continue;const te=x?g.evaluate(W,{},f):void 0,ie={id:D,properties:A.properties,type:A.type,sourceLayerIndex:V,index:O,geometry:U?W.geometry:Mc(A),patterns:{},sortKey:te};S.push(ie)}x&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:O,sourceLayerIndex:V}=A;if(this.hasPattern){const U=Iy("line",this.layers,A,this.zoom,c);this.patternFeatures.push(U)}else this.addFeature(A,D,O,f,{});c.featureIndex.insert(i[O].feature,D,O,V,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,FM)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,RM),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,c,f,g,x){const S=this.layers[0].layout,A=S.get("line-join").evaluate(i,{}),D=S.get("line-cap"),O=S.get("line-miter-limit"),V=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const U of c)this.addLine(U,i,A,D,O,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,g)}addLine(i,c,f,g,x,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let we=0;we<i.length-1;we++)this.totalDistance+=i[we].dist(i[we+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=zM[c.type]==="Polygon";let D=i.length;for(;D>=2&&i[D-1].equals(i[D-2]);)D--;let O=0;for(;O<D-1&&i[O].equals(i[O+1]);)O++;if(D<(A?3:2))return;f==="bevel"&&(x=1.05);const V=this.overscaling<=16?15*ti/(512*this.overscaling):0,U=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray);let W,te,ie,ue,_e;this.e1=this.e2=-1,A&&(W=i[D-2],_e=i[O].sub(W)._unit()._perp());for(let we=O;we<D;we++){if(ie=we===D-1?A?i[O+1]:void 0:i[we+1],ie&&i[we].equals(ie))continue;_e&&(ue=_e),W&&(te=W),W=i[we],_e=ie?ie.sub(W)._unit()._perp():ue,ue=ue||_e;let Oe=ue.add(_e);Oe.x===0&&Oe.y===0||Oe._unit();const Te=ue.x*_e.x+ue.y*_e.y,ze=Oe.x*_e.x+Oe.y*_e.y,Ge=ze!==0?1/ze:1/0,at=2*Math.sqrt(2-2*ze),Nt=ze<BM&&te&&ie,Zt=ue.x*_e.y-ue.y*_e.x>0;if(Nt&&we>O){const Pt=W.dist(te);if(Pt>2*V){const qt=W.sub(W.sub(te)._mult(V/Pt)._round());this.updateDistance(te,qt),this.addCurrentVertex(qt,ue,0,0,U),te=qt}}const Bt=te&&ie;let Ft=Bt?f:A?"butt":g;if(Bt&&Ft==="round"&&(Ge<S?Ft="miter":Ge<=2&&(Ft="fakeround")),Ft==="miter"&&Ge>x&&(Ft="bevel"),Ft==="bevel"&&(Ge>2&&(Ft="flipbevel"),Ge<x&&(Ft="miter")),te&&this.updateDistance(te,W),Ft==="miter")Oe._mult(Ge),this.addCurrentVertex(W,Oe,0,0,U);else if(Ft==="flipbevel"){if(Ge>100)Oe=_e.mult(-1);else{const Pt=Ge*ue.add(_e).mag()/ue.sub(_e).mag();Oe._perp()._mult(Pt*(Zt?-1:1))}this.addCurrentVertex(W,Oe,0,0,U),this.addCurrentVertex(W,Oe.mult(-1),0,0,U)}else if(Ft==="bevel"||Ft==="fakeround"){const Pt=-Math.sqrt(Ge*Ge-1),qt=Zt?Pt:0,Dt=Zt?0:Pt;if(te&&this.addCurrentVertex(W,ue,qt,Dt,U),Ft==="fakeround"){const wt=Math.round(180*at/Math.PI/20);for(let nn=1;nn<wt;nn++){let Jt=nn/wt;if(Jt!==.5){const br=Jt-.5;Jt+=Jt*br*(Jt-1)*((1.0904+Te*(Te*(3.55645-1.43519*Te)-3.2452))*br*br+(.848013+Te*(.215638*Te-1.06021)))}const Cn=_e.sub(ue)._mult(Jt)._add(ue)._unit()._mult(Zt?-1:1);this.addHalfVertex(W,Cn.x,Cn.y,!1,Zt,0,U)}}ie&&this.addCurrentVertex(W,_e,-qt,-Dt,U)}else if(Ft==="butt")this.addCurrentVertex(W,Oe,0,0,U);else if(Ft==="square"){const Pt=te?1:-1;this.addCurrentVertex(W,Oe,Pt,Pt,U)}else Ft==="round"&&(te&&(this.addCurrentVertex(W,ue,0,0,U),this.addCurrentVertex(W,ue,1,1,U,!0)),ie&&(this.addCurrentVertex(W,_e,-1,-1,U,!0),this.addCurrentVertex(W,_e,0,0,U)));if(Nt&&we<D-1){const Pt=W.dist(ie);if(Pt>2*V){const qt=W.add(ie.sub(W)._mult(V/Pt)._round());this.updateDistance(W,qt),this.addCurrentVertex(qt,_e,0,0,U),W=qt}}}}addCurrentVertex(i,c,f,g,x,S=!1){const A=c.y*g-c.x,D=-c.y-c.x*g;this.addHalfVertex(i,c.x+c.y*f,c.y-c.x*f,S,!1,f,x),this.addHalfVertex(i,A,D,S,!0,-g,x),this.distance>Z1/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,c,f,g,x,S))}addHalfVertex({x:i,y:c},f,g,x,S,A,D){const O=.5*(this.lineClips?this.scaledDistance*(Z1-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(x?1:0),(c<<1)+(S?1:0),Math.round(63*f)+128,Math.round(63*g)+128,1+(A===0?0:A<0?-1:1)|(63&O)<<2,O>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const V=D.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,V),D.primitiveLength++),S?this.e2=V:this.e1=V}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,c){this.distance+=i.dist(c),this.updateScaledDistance()}}let K1,X1;Ut("LineBucket",Ly,{omit:["layers","patternFeatures"]});var J1={get paint(){return X1=X1||new Yr({"line-opacity":new sn(Ce.paint_line["line-opacity"]),"line-color":new sn(Ce.paint_line["line-color"]),"line-translate":new Qt(Ce.paint_line["line-translate"]),"line-translate-anchor":new Qt(Ce.paint_line["line-translate-anchor"]),"line-width":new sn(Ce.paint_line["line-width"]),"line-gap-width":new sn(Ce.paint_line["line-gap-width"]),"line-offset":new sn(Ce.paint_line["line-offset"]),"line-blur":new sn(Ce.paint_line["line-blur"]),"line-dasharray":new Lh(Ce.paint_line["line-dasharray"]),"line-pattern":new Ic(Ce.paint_line["line-pattern"]),"line-gradient":new Rh(Ce.paint_line["line-gradient"])})},get layout(){return K1=K1||new Yr({"line-cap":new Qt(Ce.layout_line["line-cap"]),"line-join":new sn(Ce.layout_line["line-join"]),"line-miter-limit":new Qt(Ce.layout_line["line-miter-limit"]),"line-round-limit":new Qt(Ce.layout_line["line-round-limit"]),"line-sort-key":new sn(Ce.layout_line["line-sort-key"])})}};class VM extends sn{possiblyEvaluate(i,c){return c=new yr(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(i,c)}evaluate(i,c,f,g){return c=H({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(i,c,f,g)}}let Sp;class NM extends Ma{constructor(i){super(i,J1),this.gradientVersion=0,Sp||(Sp=new VM(J1.paint.properties["line-width"].specification),Sp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof uo,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,c){super.recalculate(i,c),this.paint._values["line-floorwidth"]=Sp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new Ly(i)}queryRadius(i){const c=i,f=Q1(Uh("line-width",this,c),Uh("line-gap-width",this,c)),g=Uh("line-offset",this,c);return f/2+Math.abs(g)+gp(this.paint.get("line-translate"))}queryIntersectsFeature(i,c,f,g,x,S,A){const D=vp(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,A),O=A/2*Q1(this.paint.get("line-width").evaluate(c,f),this.paint.get("line-gap-width").evaluate(c,f)),V=this.paint.get("line-offset").evaluate(c,f);return V&&(g=function(U,W){const te=[];for(let ie=0;ie<U.length;ie++){const ue=U[ie],_e=[];for(let we=0;we<ue.length;we++){const Oe=ue[we-1],Te=ue[we],ze=ue[we+1],Ge=we===0?new k(0,0):Te.sub(Oe)._unit()._perp(),at=we===ue.length-1?new k(0,0):ze.sub(Te)._unit()._perp(),Nt=Ge._add(at)._unit(),Zt=Nt.x*at.x+Nt.y*at.y;Zt!==0&&Nt._mult(1/Zt),_e.push(Nt._mult(W)._add(Te))}te.push(_e)}return te}(g,V*A)),function(U,W,te){for(let ie=0;ie<W.length;ie++){const ue=W[ie];if(U.length>=3){for(let _e=0;_e<ue.length;_e++)if(Yu(U,ue[_e]))return!0}if(GD(U,ue,te))return!0}return!1}(D,g,O)}isTileClipped(){return!0}}function Q1(l,i){return i>0?i+2*l:l}const $M=Ir([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),UM=Ir([{name:"a_projected_pos",components:3,type:"Float32"}],4);Ir([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const qM=Ir([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Ir([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ew=Ir([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),jM=Ir([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function HM(l,i,c){return l.sections.forEach(f=>{f.text=function(g,x,S){const A=x.layout.get("text-transform").evaluate(S,{});return A==="uppercase"?g=g.toLocaleUpperCase():A==="lowercase"&&(g=g.toLocaleLowerCase()),ya.applyArabicShaping&&(g=ya.applyArabicShaping(g)),g}(f.text,i,c)}),l}Ir([{name:"triangle",components:3,type:"Uint16"}]),Ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Ir([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Ir([{type:"Float32",name:"offsetX"}]),Ir([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Ir([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Xh={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var di=24,tw=or,nw=function(l,i,c,f,g){var x,S,A=8*g-f-1,D=(1<<A)-1,O=D>>1,V=-7,U=g-1,W=-1,te=l[i+U];for(U+=W,x=te&(1<<-V)-1,te>>=-V,V+=A;V>0;x=256*x+l[i+U],U+=W,V-=8);for(S=x&(1<<-V)-1,x>>=-V,V+=f;V>0;S=256*S+l[i+U],U+=W,V-=8);if(x===0)x=1-O;else{if(x===D)return S?NaN:1/0*(te?-1:1);S+=Math.pow(2,f),x-=O}return(te?-1:1)*S*Math.pow(2,x-f)},rw=function(l,i,c,f,g,x){var S,A,D,O=8*x-g-1,V=(1<<O)-1,U=V>>1,W=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,te=0,ie=1,ue=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(A=isNaN(i)?1:0,S=V):(S=Math.floor(Math.log(i)/Math.LN2),i*(D=Math.pow(2,-S))<1&&(S--,D*=2),(i+=S+U>=1?W/D:W*Math.pow(2,1-U))*D>=2&&(S++,D/=2),S+U>=V?(A=0,S=V):S+U>=1?(A=(i*D-1)*Math.pow(2,g),S+=U):(A=i*Math.pow(2,U-1)*Math.pow(2,g),S=0));g>=8;l[c+te]=255&A,te+=ie,A/=256,g-=8);for(S=S<<g|A,O+=g;O>0;l[c+te]=255&S,te+=ie,S/=256,O-=8);l[c+te-ie]|=128*ue};function or(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}or.Varint=0,or.Fixed64=1,or.Bytes=2,or.Fixed32=5;var Ry=4294967296,iw=1/Ry,aw=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Xo(l){return l.type===or.Bytes?l.readVarint()+l.pos:l.pos+1}function Ju(l,i,c){return c?4294967296*i+(l>>>0):4294967296*(i>>>0)+(l>>>0)}function sw(l,i,c){var f=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));c.realloc(f);for(var g=c.pos-1;g>=l;g--)c.buf[g+f]=c.buf[g]}function GM(l,i){for(var c=0;c<l.length;c++)i.writeVarint(l[c])}function WM(l,i){for(var c=0;c<l.length;c++)i.writeSVarint(l[c])}function YM(l,i){for(var c=0;c<l.length;c++)i.writeFloat(l[c])}function ZM(l,i){for(var c=0;c<l.length;c++)i.writeDouble(l[c])}function KM(l,i){for(var c=0;c<l.length;c++)i.writeBoolean(l[c])}function XM(l,i){for(var c=0;c<l.length;c++)i.writeFixed32(l[c])}function JM(l,i){for(var c=0;c<l.length;c++)i.writeSFixed32(l[c])}function QM(l,i){for(var c=0;c<l.length;c++)i.writeFixed64(l[c])}function eL(l,i){for(var c=0;c<l.length;c++)i.writeSFixed64(l[c])}function kp(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+16777216*l[i+3]}function Qu(l,i,c){l[c]=i,l[c+1]=i>>>8,l[c+2]=i>>>16,l[c+3]=i>>>24}function ow(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+(l[i+3]<<24)}or.prototype={destroy:function(){this.buf=null},readFields:function(l,i,c){for(c=c||this.length;this.pos<c;){var f=this.readVarint(),g=f>>3,x=this.pos;this.type=7&f,l(g,i,this),this.pos===x&&this.skip(f)}return i},readMessage:function(l,i){return this.readFields(l,i,this.readVarint()+this.pos)},readFixed32:function(){var l=kp(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=ow(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=kp(this.buf,this.pos)+kp(this.buf,this.pos+4)*Ry;return this.pos+=8,l},readSFixed64:function(){var l=kp(this.buf,this.pos)+ow(this.buf,this.pos+4)*Ry;return this.pos+=8,l},readFloat:function(){var l=nw(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=nw(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var i,c,f=this.buf;return i=127&(c=f[this.pos++]),c<128?i:(i|=(127&(c=f[this.pos++]))<<7,c<128?i:(i|=(127&(c=f[this.pos++]))<<14,c<128?i:(i|=(127&(c=f[this.pos++]))<<21,c<128?i:function(g,x,S){var A,D,O=S.buf;if(A=(112&(D=O[S.pos++]))>>4,D<128||(A|=(127&(D=O[S.pos++]))<<3,D<128)||(A|=(127&(D=O[S.pos++]))<<10,D<128)||(A|=(127&(D=O[S.pos++]))<<17,D<128)||(A|=(127&(D=O[S.pos++]))<<24,D<128)||(A|=(1&(D=O[S.pos++]))<<31,D<128))return Ju(g,A,x);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(c=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,i=this.pos;return this.pos=l,l-i>=12&&aw?function(c,f,g){return aw.decode(c.subarray(f,g))}(this.buf,i,l):function(c,f,g){for(var x="",S=f;S<g;){var A,D,O,V=c[S],U=null,W=V>239?4:V>223?3:V>191?2:1;if(S+W>g)break;W===1?V<128&&(U=V):W===2?(192&(A=c[S+1]))==128&&(U=(31&V)<<6|63&A)<=127&&(U=null):W===3?(D=c[S+2],(192&(A=c[S+1]))==128&&(192&D)==128&&((U=(15&V)<<12|(63&A)<<6|63&D)<=2047||U>=55296&&U<=57343)&&(U=null)):W===4&&(D=c[S+2],O=c[S+3],(192&(A=c[S+1]))==128&&(192&D)==128&&(192&O)==128&&((U=(15&V)<<18|(63&A)<<12|(63&D)<<6|63&O)<=65535||U>=1114112)&&(U=null)),U===null?(U=65533,W=1):U>65535&&(U-=65536,x+=String.fromCharCode(U>>>10&1023|55296),U=56320|1023&U),x+=String.fromCharCode(U),S+=W}return x}(this.buf,i,l)},readBytes:function(){var l=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,l);return this.pos=l,i},readPackedVarint:function(l,i){if(this.type!==or.Bytes)return l.push(this.readVarint(i));var c=Xo(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(i));return l},readPackedSVarint:function(l){if(this.type!==or.Bytes)return l.push(this.readSVarint());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==or.Bytes)return l.push(this.readBoolean());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==or.Bytes)return l.push(this.readFloat());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==or.Bytes)return l.push(this.readDouble());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==or.Bytes)return l.push(this.readFixed32());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==or.Bytes)return l.push(this.readSFixed32());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==or.Bytes)return l.push(this.readFixed64());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==or.Bytes)return l.push(this.readSFixed64());var i=Xo(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed64());return l},skip:function(l){var i=7&l;if(i===or.Varint)for(;this.buf[this.pos++]>127;);else if(i===or.Bytes)this.pos=this.readVarint()+this.pos;else if(i===or.Fixed32)this.pos+=4;else{if(i!==or.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(l,i){this.writeVarint(l<<3|i)},realloc:function(l){for(var i=this.length||16;i<this.pos+l;)i*=2;if(i!==this.length){var c=new Uint8Array(i);c.set(this.buf),this.buf=c,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),Qu(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),Qu(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),Qu(this.buf,-1&l,this.pos),Qu(this.buf,Math.floor(l*iw),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),Qu(this.buf,-1&l,this.pos),Qu(this.buf,Math.floor(l*iw),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(i,c){var f,g;if(i>=0?(f=i%4294967296|0,g=i/4294967296|0):(g=~(-i/4294967296),4294967295^(f=~(-i%4294967296))?f=f+1|0:(f=0,g=g+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(x,S,A){A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,A.buf[A.pos]=127&(x>>>=7)}(f,0,c),function(x,S){var A=(7&x)<<4;S.buf[S.pos++]|=A|((x>>>=3)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x)))))}(g,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var i=this.pos;this.pos=function(f,g,x){for(var S,A,D=0;D<g.length;D++){if((S=g.charCodeAt(D))>55295&&S<57344){if(!A){S>56319||D+1===g.length?(f[x++]=239,f[x++]=191,f[x++]=189):A=S;continue}if(S<56320){f[x++]=239,f[x++]=191,f[x++]=189,A=S;continue}S=A-55296<<10|S-56320|65536,A=null}else A&&(f[x++]=239,f[x++]=191,f[x++]=189,A=null);S<128?f[x++]=S:(S<2048?f[x++]=S>>6|192:(S<65536?f[x++]=S>>12|224:(f[x++]=S>>18|240,f[x++]=S>>12&63|128),f[x++]=S>>6&63|128),f[x++]=63&S|128)}return x}(this.buf,l,this.pos);var c=this.pos-i;c>=128&&sw(i,c,this),this.pos=i-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),rw(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),rw(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var i=l.length;this.writeVarint(i),this.realloc(i);for(var c=0;c<i;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,i){this.pos++;var c=this.pos;l(i,this);var f=this.pos-c;f>=128&&sw(c,f,this),this.pos=c-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,i,c){this.writeTag(l,or.Bytes),this.writeRawMessage(i,c)},writePackedVarint:function(l,i){i.length&&this.writeMessage(l,GM,i)},writePackedSVarint:function(l,i){i.length&&this.writeMessage(l,WM,i)},writePackedBoolean:function(l,i){i.length&&this.writeMessage(l,KM,i)},writePackedFloat:function(l,i){i.length&&this.writeMessage(l,YM,i)},writePackedDouble:function(l,i){i.length&&this.writeMessage(l,ZM,i)},writePackedFixed32:function(l,i){i.length&&this.writeMessage(l,XM,i)},writePackedSFixed32:function(l,i){i.length&&this.writeMessage(l,JM,i)},writePackedFixed64:function(l,i){i.length&&this.writeMessage(l,QM,i)},writePackedSFixed64:function(l,i){i.length&&this.writeMessage(l,eL,i)},writeBytesField:function(l,i){this.writeTag(l,or.Bytes),this.writeBytes(i)},writeFixed32Field:function(l,i){this.writeTag(l,or.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(l,i){this.writeTag(l,or.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(l,i){this.writeTag(l,or.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(l,i){this.writeTag(l,or.Fixed64),this.writeSFixed64(i)},writeVarintField:function(l,i){this.writeTag(l,or.Varint),this.writeVarint(i)},writeSVarintField:function(l,i){this.writeTag(l,or.Varint),this.writeSVarint(i)},writeStringField:function(l,i){this.writeTag(l,or.Bytes),this.writeString(i)},writeFloatField:function(l,i){this.writeTag(l,or.Fixed32),this.writeFloat(i)},writeDoubleField:function(l,i){this.writeTag(l,or.Fixed64),this.writeDouble(i)},writeBooleanField:function(l,i){this.writeVarintField(l,!!i)}};var Oy=y(tw);const Fy=3;function tL(l,i,c){l===1&&c.readMessage(nL,i)}function nL(l,i,c){if(l===3){const{id:f,bitmap:g,width:x,height:S,left:A,top:D,advance:O}=c.readMessage(rL,{});i.push({id:f,bitmap:new jh({width:x+2*Fy,height:S+2*Fy},g),metrics:{width:x,height:S,left:A,top:D,advance:O}})}}function rL(l,i,c){l===1?i.id=c.readVarint():l===2?i.bitmap=c.readBytes():l===3?i.width=c.readVarint():l===4?i.height=c.readVarint():l===5?i.left=c.readSVarint():l===6?i.top=c.readSVarint():l===7&&(i.advance=c.readVarint())}const lw=Fy;function cw(l){let i=0,c=0;for(const S of l)i+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,A)=>A.h-S.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),c),h:1/0}];let g=0,x=0;for(const S of l)for(let A=f.length-1;A>=0;A--){const D=f[A];if(!(S.w>D.w||S.h>D.h)){if(S.x=D.x,S.y=D.y,x=Math.max(x,S.y+S.h),g=Math.max(g,S.x+S.w),S.w===D.w&&S.h===D.h){const O=f.pop();A<f.length&&(f[A]=O)}else S.h===D.h?(D.x+=S.w,D.w-=S.w):S.w===D.w?(D.y+=S.h,D.h-=S.h):(f.push({x:D.x+S.w,y:D.y,w:D.w-S.w,h:S.h}),D.y+=S.h,D.h-=S.h);break}}return{w:g,h:x,fill:i/(g*x)||0}}const ba=1;class zy{constructor(i,{pixelRatio:c,version:f,stretchX:g,stretchY:x,content:S}){this.paddedRect=i,this.pixelRatio=c,this.stretchX=g,this.stretchY=x,this.content=S,this.version=f}get tl(){return[this.paddedRect.x+ba,this.paddedRect.y+ba]}get br(){return[this.paddedRect.x+this.paddedRect.w-ba,this.paddedRect.y+this.paddedRect.h-ba]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ba)/this.pixelRatio,(this.paddedRect.h-2*ba)/this.pixelRatio]}}class uw{constructor(i,c){const f={},g={};this.haveRenderCallbacks=[];const x=[];this.addImages(i,f,x),this.addImages(c,g,x);const{w:S,h:A}=cw(x),D=new qa({width:S||1,height:A||1});for(const O in i){const V=i[O],U=f[O].paddedRect;qa.copy(V.data,D,{x:0,y:0},{x:U.x+ba,y:U.y+ba},V.data)}for(const O in c){const V=c[O],U=g[O].paddedRect,W=U.x+ba,te=U.y+ba,ie=V.data.width,ue=V.data.height;qa.copy(V.data,D,{x:0,y:0},{x:W,y:te},V.data),qa.copy(V.data,D,{x:0,y:ue-1},{x:W,y:te-1},{width:ie,height:1}),qa.copy(V.data,D,{x:0,y:0},{x:W,y:te+ue},{width:ie,height:1}),qa.copy(V.data,D,{x:ie-1,y:0},{x:W-1,y:te},{width:1,height:ue}),qa.copy(V.data,D,{x:0,y:0},{x:W+ie,y:te},{width:1,height:ue})}this.image=D,this.iconPositions=f,this.patternPositions=g}addImages(i,c,f){for(const g in i){const x=i[g],S={x:0,y:0,w:x.data.width+2*ba,h:x.data.height+2*ba};f.push(S),c[g]=new zy(S,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(i,c){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in i.updatedImages)this.patchUpdatedImage(this.iconPositions[f],i.getImage(f),c),this.patchUpdatedImage(this.patternPositions[f],i.getImage(f),c)}patchUpdatedImage(i,c,f){if(!i||!c||i.version===c.version)return;i.version=c.version;const[g,x]=i.tl;f.update(c.data,void 0,{x:g,y:x})}}var Vl;Ut("ImagePosition",zy),Ut("ImageAtlas",uw),o.ai=void 0,(Vl=o.ai||(o.ai={}))[Vl.none=0]="none",Vl[Vl.horizontal=1]="horizontal",Vl[Vl.vertical=2]="vertical",Vl[Vl.horizontalOnly=3]="horizontalOnly";const Jh=-17;class Qh{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,c){const f=new Qh;return f.scale=i||1,f.fontStack=c,f}static forImage(i){const c=new Qh;return c.imageName=i,c}}class ed{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,c){const f=new ed;for(let g=0;g<i.sections.length;g++){const x=i.sections[g];x.image?f.addImageSection(x):f.addTextSection(x,c)}return f}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let c="";for(let f=0;f<i.length;f++){const g=i.charCodeAt(f+1)||null,x=i.charCodeAt(f-1)||null;c+=g&&ap(g)&&!Xh[i[f+1]]||x&&ap(x)&&!Xh[i[f-1]]||!Xh[i[f]]?i[f]:Xh[i[f]]}return c}(this.text)}trim(){let i=0;for(let f=0;f<this.text.length&&Tp[this.text.charCodeAt(f)];f++)i++;let c=this.text.length;for(let f=this.text.length-1;f>=0&&f>=i&&Tp[this.text.charCodeAt(f)];f--)c--;this.text=this.text.substring(i,c),this.sectionIndex=this.sectionIndex.slice(i,c)}substring(i,c){const f=new ed;return f.text=this.text.substring(i,c),f.sectionIndex=this.sectionIndex.slice(i,c),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,c)=>Math.max(i,this.sections[c].scale),0)}addTextSection(i,c){this.text+=i.text,this.sections.push(Qh.forText(i.scale,i.fontStack||c));const f=this.sections.length-1;for(let g=0;g<i.text.length;++g)this.sectionIndex.push(f)}addImageSection(i){const c=i.image?i.image.name:"";if(c.length===0)return void fe("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(Qh.forImage(c)),this.sectionIndex.push(this.sections.length-1)):fe("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Cp(l,i,c,f,g,x,S,A,D,O,V,U,W,te,ie,ue){const _e=ed.fromFeature(l,g);let we;U===o.ai.vertical&&_e.verticalizePunctuation();const{processBidirectionalText:Oe,processStyledBidirectionalText:Te}=ya;if(Oe&&_e.sections.length===1){we=[];const at=Oe(_e.toString(),By(_e,O,x,i,f,te,ie));for(const Nt of at){const Zt=new ed;Zt.text=Nt,Zt.sections=_e.sections;for(let Bt=0;Bt<Nt.length;Bt++)Zt.sectionIndex.push(0);we.push(Zt)}}else if(Te){we=[];const at=Te(_e.text,_e.sectionIndex,By(_e,O,x,i,f,te,ie));for(const Nt of at){const Zt=new ed;Zt.text=Nt[0],Zt.sectionIndex=Nt[1],Zt.sections=_e.sections,we.push(Zt)}}else we=function(at,Nt){const Zt=[],Bt=at.text;let Ft=0;for(const Pt of Nt)Zt.push(at.substring(Ft,Pt)),Ft=Pt;return Ft<Bt.length&&Zt.push(at.substring(Ft,Bt.length)),Zt}(_e,By(_e,O,x,i,f,te,ie));const ze=[],Ge={positionedLines:ze,text:_e.toString(),top:V[1],bottom:V[1],left:V[0],right:V[0],writingMode:U,iconsInText:!1,verticalizable:!1};return function(at,Nt,Zt,Bt,Ft,Pt,qt,Dt,wt,nn,Jt,Cn){let br=0,Cr=Jh,hi=0,Ra=0;const ta=Dt==="right"?1:Dt==="left"?0:.5;let ni=0;for(const fi of Ft){fi.trim();const mi=fi.getMaxScale(),Ui=(mi-1)*di,ia={positionedGlyphs:[],lineOffset:0};at.positionedLines[ni]=ia;const qi=ia.positionedGlyphs;let xa=0;if(!fi.length()){Cr+=Pt,++ni;continue}for(let pi=0;pi<fi.length();pi++){const Rn=fi.getSection(pi),ji=fi.getSectionIndex(pi),Fi=fi.getCharCode(pi);let gi=0,fs=null,zs=null,Bs=null,Jo=di;const ms=!(wt===o.ai.horizontal||!Jt&&!Ch(Fi)||Jt&&(Tp[Fi]||(Ai=Fi,Vt.Arabic(Ai)||Vt["Arabic Supplement"](Ai)||Vt["Arabic Extended-A"](Ai)||Vt["Arabic Presentation Forms-A"](Ai)||Vt["Arabic Presentation Forms-B"](Ai))));if(Rn.imageName){const Ha=Bt[Rn.imageName];if(!Ha)continue;Bs=Rn.imageName,at.iconsInText=at.iconsInText||!0,zs=Ha.paddedRect;const Sa=Ha.displaySize;Rn.scale=Rn.scale*di/Cn,fs={width:Sa[0],height:Sa[1],left:ba,top:-lw,advance:ms?Sa[1]:Sa[0]},gi=Ui+(di-Sa[1]*Rn.scale),Jo=fs.advance;const Qo=ms?Sa[0]*Rn.scale-di*mi:Sa[1]*Rn.scale-di*mi;Qo>0&&Qo>xa&&(xa=Qo)}else{const Ha=Zt[Rn.fontStack],Sa=Ha&&Ha[Fi];if(Sa&&Sa.rect)zs=Sa.rect,fs=Sa.metrics;else{const Qo=Nt[Rn.fontStack],af=Qo&&Qo[Fi];if(!af)continue;fs=af.metrics}gi=(mi-Rn.scale)*di}ms?(at.verticalizable=!0,qi.push({glyph:Fi,imageName:Bs,x:br,y:Cr+gi,vertical:ms,scale:Rn.scale,fontStack:Rn.fontStack,sectionIndex:ji,metrics:fs,rect:zs}),br+=Jo*Rn.scale+nn):(qi.push({glyph:Fi,imageName:Bs,x:br,y:Cr+gi,vertical:ms,scale:Rn.scale,fontStack:Rn.fontStack,sectionIndex:ji,metrics:fs,rect:zs}),br+=fs.advance*Rn.scale+nn)}qi.length!==0&&(hi=Math.max(br-nn,hi),sL(qi,0,qi.length-1,ta,xa)),br=0;const wa=Pt*mi+xa;ia.lineOffset=Math.max(xa,Ui),Cr+=wa,Ra=Math.max(wa,Ra),++ni}var Ai;const Oi=Cr-Jh,{horizontalAlign:na,verticalAlign:ra}=Vy(qt);(function(fi,mi,Ui,ia,qi,xa,wa,pi,Rn){const ji=(mi-Ui)*qi;let Fi=0;Fi=xa!==wa?-pi*ia-Jh:(-ia*Rn+.5)*wa;for(const gi of fi)for(const fs of gi.positionedGlyphs)fs.x+=ji,fs.y+=Fi})(at.positionedLines,ta,na,ra,hi,Ra,Pt,Oi,Ft.length),at.top+=-ra*Oi,at.bottom=at.top+Oi,at.left+=-na*hi,at.right=at.left+hi}(Ge,i,c,f,we,S,A,D,U,O,W,ue),!function(at){for(const Nt of at)if(Nt.positionedGlyphs.length!==0)return!1;return!0}(ze)&&Ge}const Tp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},iL={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function dw(l,i,c,f,g,x){if(i.imageName){const S=f[i.imageName];return S?S.displaySize[0]*i.scale*di/x+g:0}{const S=c[i.fontStack],A=S&&S[l];return A?A.metrics.advance*i.scale+g:0}}function hw(l,i,c,f){const g=Math.pow(l-i,2);return f?l<i?g/2:2*g:g+Math.abs(c)*c}function aL(l,i,c){let f=0;return l===10&&(f-=1e4),c&&(f+=150),l!==40&&l!==65288||(f+=50),i!==41&&i!==65289||(f+=50),f}function fw(l,i,c,f,g,x){let S=null,A=hw(i,c,g,x);for(const D of f){const O=hw(i-D.x,c,g,x)+D.badness;O<=A&&(S=D,A=O)}return{index:l,x:i,priorBreak:S,badness:A}}function mw(l){return l?mw(l.priorBreak).concat(l.index):[]}function By(l,i,c,f,g,x,S){if(x!=="point")return[];if(!l)return[];const A=[],D=function(W,te,ie,ue,_e,we){let Oe=0;for(let Te=0;Te<W.length();Te++){const ze=W.getSection(Te);Oe+=dw(W.getCharCode(Te),ze,ue,_e,te,we)}return Oe/Math.max(1,Math.ceil(Oe/ie))}(l,i,c,f,g,S),O=l.text.indexOf("​")>=0;let V=0;for(let W=0;W<l.length();W++){const te=l.getSection(W),ie=l.getCharCode(W);if(Tp[ie]||(V+=dw(ie,te,f,g,i,S)),W<l.length()-1){const ue=!((U=ie)<11904||!(Vt["Bopomofo Extended"](U)||Vt.Bopomofo(U)||Vt["CJK Compatibility Forms"](U)||Vt["CJK Compatibility Ideographs"](U)||Vt["CJK Compatibility"](U)||Vt["CJK Radicals Supplement"](U)||Vt["CJK Strokes"](U)||Vt["CJK Symbols and Punctuation"](U)||Vt["CJK Unified Ideographs Extension A"](U)||Vt["CJK Unified Ideographs"](U)||Vt["Enclosed CJK Letters and Months"](U)||Vt["Halfwidth and Fullwidth Forms"](U)||Vt.Hiragana(U)||Vt["Ideographic Description Characters"](U)||Vt["Kangxi Radicals"](U)||Vt["Katakana Phonetic Extensions"](U)||Vt.Katakana(U)||Vt["Vertical Forms"](U)||Vt["Yi Radicals"](U)||Vt["Yi Syllables"](U)));(iL[ie]||ue||te.imageName)&&A.push(fw(W+1,V,D,A,aL(ie,l.getCharCode(W+1),ue&&O),!1))}}var U;return mw(fw(l.length(),V,D,A,0,!0))}function Vy(l){let i=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:i,verticalAlign:c}}function sL(l,i,c,f,g){if(!f&&!g)return;const x=l[c],S=(l[c].x+x.metrics.advance*x.scale)*f;for(let A=i;A<=c;A++)l[A].x-=S,l[A].y+=g}function oL(l,i,c){const{horizontalAlign:f,verticalAlign:g}=Vy(c),x=i[0]-l.displaySize[0]*f,S=i[1]-l.displaySize[1]*g;return{image:l,top:S,bottom:S+l.displaySize[1],left:x,right:x+l.displaySize[0]}}function pw(l,i,c,f,g,x){const S=l.image;let A;if(S.content){const _e=S.content,we=S.pixelRatio||1;A=[_e[0]/we,_e[1]/we,S.displaySize[0]-_e[2]/we,S.displaySize[1]-_e[3]/we]}const D=i.left*x,O=i.right*x;let V,U,W,te;c==="width"||c==="both"?(te=g[0]+D-f[3],U=g[0]+O+f[1]):(te=g[0]+(D+O-S.displaySize[0])/2,U=te+S.displaySize[0]);const ie=i.top*x,ue=i.bottom*x;return c==="height"||c==="both"?(V=g[1]+ie-f[0],W=g[1]+ue+f[2]):(V=g[1]+(ie+ue-S.displaySize[1])/2,W=V+S.displaySize[1]),{image:S,top:V,right:U,bottom:W,left:te,collisionPadding:A}}const ef=255,go=128,Nl=ef*go;function gw(l,i){const{expression:c}=i;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new yr(l+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:g}=c;let x=0;for(;x<f.length&&f[x]<=l;)x++;x=Math.max(0,x-1);let S=x;for(;S<f.length&&f[S]<l+1;)S++;S=Math.min(f.length-1,S);const A=f[x],D=f[S];return c.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:D,interpolationType:g}:{kind:"camera",minZoom:A,maxZoom:D,minSize:c.evaluate(new yr(A)),maxSize:c.evaluate(new yr(D)),interpolationType:g}}}function Ny(l,i,c){let f="never";const g=l.get(i);return g?f=g:l.get(c)&&(f="always"),f}const lL=Bl.VectorTileFeature.types,cL=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Ap(l,i,c,f,g,x,S,A,D,O,V,U,W){const te=A?Math.min(Nl,Math.round(A[0])):0,ie=A?Math.min(Nl,Math.round(A[1])):0;l.emplaceBack(i,c,Math.round(32*f),Math.round(32*g),x,S,(te<<1)+(D?1:0),ie,16*O,16*V,256*U,256*W)}function $y(l,i,c){l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c)}function uL(l){for(const i of l.sections)if(fy(i.text))return!0;return!1}class Uy{constructor(i){this.layoutVertexArray=new En,this.indexArray=new Ci,this.programConfigurations=i,this.segments=new _r,this.dynamicLayoutVertexArray=new xn,this.opacityVertexArray=new Dn,this.hasVisibleVertices=!1,this.placedSymbolArray=new Pe}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,c,f,g){this.isEmpty()||(f&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,$M.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,UM.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,cL,!0),this.opacityVertexBuffer.itemSize=1),(f||g)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ut("SymbolBuffers",Uy);class qy{constructor(i,c,f){this.layoutVertexArray=new i,this.layoutAttributes=c,this.indexArray=new f,this.segments=new _r,this.collisionVertexArray=new fr}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,qM.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ut("CollisionBuffers",qy);class td{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(S=>S.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=by([]),this.placementViewportMatrix=by([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=gw(this.zoom,c["text-size"]),this.iconSizeData=gw(this.zoom,c["icon-size"]);const f=this.layers[0].layout,g=f.get("symbol-sort-key"),x=f.get("symbol-z-order");this.canOverlap=Ny(f,"text-overlap","text-allow-overlap")!=="never"||Ny(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(S=>o.ai[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=i.sourceID}createArrays(){this.text=new Uy(new Fs(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Uy(new Fs(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Me,this.lineVertexArray=new Ze,this.symbolInstances=new xe,this.textAnchorOffsets=new rt}calculateGlyphDependencies(i,c,f,g,x){for(let S=0;S<i.length;S++)if(c[i.charCodeAt(S)]=!0,(f||g)&&x){const A=Xh[i.charAt(S)];A&&(c[A.charCodeAt(0)]=!0)}}populate(i,c,f){const g=this.layers[0],x=g.layout,S=x.get("text-font"),A=x.get("text-field"),D=x.get("icon-image"),O=(A.value.kind!=="constant"||A.value.value instanceof Mi&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),V=D.value.kind!=="constant"||!!D.value.value||Object.keys(D.parameters).length>0,U=x.get("symbol-sort-key");if(this.features=[],!O&&!V)return;const W=c.iconDependencies,te=c.glyphDependencies,ie=c.availableImages,ue=new yr(this.zoom);for(const{feature:_e,id:we,index:Oe,sourceLayerIndex:Te}of i){const ze=g._featureFilter.needGeometry,Ge=Lc(_e,ze);if(!g._featureFilter.filter(ue,Ge,f))continue;let at,Nt;if(ze||(Ge.geometry=Mc(_e)),O){const Bt=g.getValueAndResolveTokens("text-field",Ge,f,ie),Ft=Mi.factory(Bt);uL(Ft)&&(this.hasRTLText=!0),(!this.hasRTLText||Dh()==="unavailable"||this.hasRTLText&&ya.isParsed())&&(at=HM(Ft,g,Ge))}if(V){const Bt=g.getValueAndResolveTokens("icon-image",Ge,f,ie);Nt=Bt instanceof ki?Bt:ki.fromString(Bt)}if(!at&&!Nt)continue;const Zt=this.sortFeaturesByKey?U.evaluate(Ge,{},f):void 0;if(this.features.push({id:we,text:at,icon:Nt,index:Oe,sourceLayerIndex:Te,geometry:Ge.geometry,properties:_e.properties,type:lL[_e.type],sortKey:Zt}),Nt&&(W[Nt.name]=!0),at){const Bt=S.evaluate(Ge,{},f).join(","),Ft=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(o.ai.vertical)>=0;for(const Pt of at.sections)if(Pt.image)W[Pt.image.name]=!0;else{const qt=Sh(at.toString()),Dt=Pt.fontStack||Bt,wt=te[Dt]=te[Dt]||{};this.calculateGlyphDependencies(Pt.text,wt,Ft,this.allowVerticalPlacement,qt)}}}x.get("symbol-placement")==="line"&&(this.features=function(_e){const we={},Oe={},Te=[];let ze=0;function Ge(Bt){Te.push(_e[Bt]),ze++}function at(Bt,Ft,Pt){const qt=Oe[Bt];return delete Oe[Bt],Oe[Ft]=qt,Te[qt].geometry[0].pop(),Te[qt].geometry[0]=Te[qt].geometry[0].concat(Pt[0]),qt}function Nt(Bt,Ft,Pt){const qt=we[Ft];return delete we[Ft],we[Bt]=qt,Te[qt].geometry[0].shift(),Te[qt].geometry[0]=Pt[0].concat(Te[qt].geometry[0]),qt}function Zt(Bt,Ft,Pt){const qt=Pt?Ft[0][Ft[0].length-1]:Ft[0][0];return`${Bt}:${qt.x}:${qt.y}`}for(let Bt=0;Bt<_e.length;Bt++){const Ft=_e[Bt],Pt=Ft.geometry,qt=Ft.text?Ft.text.toString():null;if(!qt){Ge(Bt);continue}const Dt=Zt(qt,Pt),wt=Zt(qt,Pt,!0);if(Dt in Oe&&wt in we&&Oe[Dt]!==we[wt]){const nn=Nt(Dt,wt,Pt),Jt=at(Dt,wt,Te[nn].geometry);delete we[Dt],delete Oe[wt],Oe[Zt(qt,Te[Jt].geometry,!0)]=Jt,Te[nn].geometry=null}else Dt in Oe?at(Dt,wt,Pt):wt in we?Nt(Dt,wt,Pt):(Ge(Bt),we[Dt]=ze-1,Oe[wt]=ze-1)}return Te.filter(Bt=>Bt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((_e,we)=>_e.sortKey-we.sortKey)}update(i,c,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,c,this.layers,f),this.icon.programConfigurations.updatePaintArrays(i,c,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,c){const f=this.lineVertexArray.length;if(i.segment!==void 0){let g=i.dist(c[i.segment+1]),x=i.dist(c[i.segment]);const S={};for(let A=i.segment+1;A<c.length;A++)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:g},A<c.length-1&&(g+=c[A+1].dist(c[A]));for(let A=i.segment||0;A>=0;A--)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:x},A>0&&(x+=c[A-1].dist(c[A]));for(let A=0;A<c.length;A++){const D=S[A];this.lineVertexArray.emplaceBack(D.x,D.y,D.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(i,c,f,g,x,S,A,D,O,V,U,W){const te=i.indexArray,ie=i.layoutVertexArray,ue=i.segments.prepareSegment(4*c.length,ie,te,this.canOverlap?S.sortKey:void 0),_e=this.glyphOffsetArray.length,we=ue.vertexLength,Oe=this.allowVerticalPlacement&&A===o.ai.vertical?Math.PI/2:0,Te=S.text&&S.text.sections;for(let ze=0;ze<c.length;ze++){const{tl:Ge,tr:at,bl:Nt,br:Zt,tex:Bt,pixelOffsetTL:Ft,pixelOffsetBR:Pt,minFontScaleX:qt,minFontScaleY:Dt,glyphOffset:wt,isSDF:nn,sectionIndex:Jt}=c[ze],Cn=ue.vertexLength,br=wt[1];Ap(ie,D.x,D.y,Ge.x,br+Ge.y,Bt.x,Bt.y,f,nn,Ft.x,Ft.y,qt,Dt),Ap(ie,D.x,D.y,at.x,br+at.y,Bt.x+Bt.w,Bt.y,f,nn,Pt.x,Ft.y,qt,Dt),Ap(ie,D.x,D.y,Nt.x,br+Nt.y,Bt.x,Bt.y+Bt.h,f,nn,Ft.x,Pt.y,qt,Dt),Ap(ie,D.x,D.y,Zt.x,br+Zt.y,Bt.x+Bt.w,Bt.y+Bt.h,f,nn,Pt.x,Pt.y,qt,Dt),$y(i.dynamicLayoutVertexArray,D,Oe),te.emplaceBack(Cn,Cn+1,Cn+2),te.emplaceBack(Cn+1,Cn+2,Cn+3),ue.vertexLength+=4,ue.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(wt[0]),ze!==c.length-1&&Jt===c[ze+1].sectionIndex||i.programConfigurations.populatePaintArrays(ie.length,S,S.index,{},W,Te&&Te[Jt])}i.placedSymbolArray.emplaceBack(D.x,D.y,_e,this.glyphOffsetArray.length-_e,we,O,V,D.segment,f?f[0]:0,f?f[1]:0,g[0],g[1],A,0,!1,0,U)}_addCollisionDebugVertex(i,c,f,g,x,S){return c.emplaceBack(0,0),i.emplaceBack(f.x,f.y,g,x,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(i,c,f,g,x,S,A){const D=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),O=D.vertexLength,V=x.layoutVertexArray,U=x.collisionVertexArray,W=A.anchorX,te=A.anchorY;this._addCollisionDebugVertex(V,U,S,W,te,new k(i,c)),this._addCollisionDebugVertex(V,U,S,W,te,new k(f,c)),this._addCollisionDebugVertex(V,U,S,W,te,new k(f,g)),this._addCollisionDebugVertex(V,U,S,W,te,new k(i,g)),D.vertexLength+=4;const ie=x.indexArray;ie.emplaceBack(O,O+1),ie.emplaceBack(O+1,O+2),ie.emplaceBack(O+2,O+3),ie.emplaceBack(O+3,O),D.primitiveLength+=4}addDebugCollisionBoxes(i,c,f,g){for(let x=i;x<c;x++){const S=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,g?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new qy(qr,ew.members,ci),this.iconCollisionBox=new qy(qr,ew.members,ci);for(let i=0;i<this.symbolInstances.length;i++){const c=this.symbolInstances.get(i);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(i,c,f,g,x,S,A,D,O){const V={};for(let U=c;U<f;U++){const W=i.get(U);V.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.textFeatureIndex=W.featureIndex;break}for(let U=g;U<x;U++){const W=i.get(U);V.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.verticalTextFeatureIndex=W.featureIndex;break}for(let U=S;U<A;U++){const W=i.get(U);V.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.iconFeatureIndex=W.featureIndex;break}for(let U=D;U<O;U++){const W=i.get(U);V.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.verticalIconFeatureIndex=W.featureIndex;break}return V}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const f=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,c){const f=i.placedSymbolArray.get(c),g=f.vertexStartIndex+4*f.numGlyphs;for(let x=f.vertexStartIndex;x<g;x+=4)i.indexArray.emplaceBack(x,x+1,x+2),i.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(i),f=Math.cos(i),g=[],x=[],S=[];for(let A=0;A<this.symbolInstances.length;++A){S.push(A);const D=this.symbolInstances.get(A);g.push(0|Math.round(c*D.anchorX+f*D.anchorY)),x.push(D.featureIndex)}return S.sort((A,D)=>g[A]-g[D]||x[D]-x[A]),S}addToSortKeyRanges(i,c){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===c?f.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const f=this.symbolInstances.get(c);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((g,x,S)=>{g>=0&&S.indexOf(g)===x&&this.addIndicesForPlacedSymbol(this.text,g)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let vw,yw;Ut("SymbolBucket",td,{omit:["layers","collisionBoxArray","features","compareText"]}),td.MAX_GLYPHS=65535,td.addDynamicAttributes=$y;var jy={get paint(){return yw=yw||new Yr({"icon-opacity":new sn(Ce.paint_symbol["icon-opacity"]),"icon-color":new sn(Ce.paint_symbol["icon-color"]),"icon-halo-color":new sn(Ce.paint_symbol["icon-halo-color"]),"icon-halo-width":new sn(Ce.paint_symbol["icon-halo-width"]),"icon-halo-blur":new sn(Ce.paint_symbol["icon-halo-blur"]),"icon-translate":new Qt(Ce.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qt(Ce.paint_symbol["icon-translate-anchor"]),"text-opacity":new sn(Ce.paint_symbol["text-opacity"]),"text-color":new sn(Ce.paint_symbol["text-color"],{runtimeType:Vi,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new sn(Ce.paint_symbol["text-halo-color"]),"text-halo-width":new sn(Ce.paint_symbol["text-halo-width"]),"text-halo-blur":new sn(Ce.paint_symbol["text-halo-blur"]),"text-translate":new Qt(Ce.paint_symbol["text-translate"]),"text-translate-anchor":new Qt(Ce.paint_symbol["text-translate-anchor"])})},get layout(){return vw=vw||new Yr({"symbol-placement":new Qt(Ce.layout_symbol["symbol-placement"]),"symbol-spacing":new Qt(Ce.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qt(Ce.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new sn(Ce.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qt(Ce.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qt(Ce.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Qt(Ce.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Qt(Ce.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qt(Ce.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qt(Ce.layout_symbol["icon-rotation-alignment"]),"icon-size":new sn(Ce.layout_symbol["icon-size"]),"icon-text-fit":new Qt(Ce.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qt(Ce.layout_symbol["icon-text-fit-padding"]),"icon-image":new sn(Ce.layout_symbol["icon-image"]),"icon-rotate":new sn(Ce.layout_symbol["icon-rotate"]),"icon-padding":new sn(Ce.layout_symbol["icon-padding"]),"icon-keep-upright":new Qt(Ce.layout_symbol["icon-keep-upright"]),"icon-offset":new sn(Ce.layout_symbol["icon-offset"]),"icon-anchor":new sn(Ce.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qt(Ce.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qt(Ce.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qt(Ce.layout_symbol["text-rotation-alignment"]),"text-field":new sn(Ce.layout_symbol["text-field"]),"text-font":new sn(Ce.layout_symbol["text-font"]),"text-size":new sn(Ce.layout_symbol["text-size"]),"text-max-width":new sn(Ce.layout_symbol["text-max-width"]),"text-line-height":new Qt(Ce.layout_symbol["text-line-height"]),"text-letter-spacing":new sn(Ce.layout_symbol["text-letter-spacing"]),"text-justify":new sn(Ce.layout_symbol["text-justify"]),"text-radial-offset":new sn(Ce.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qt(Ce.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new sn(Ce.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new sn(Ce.layout_symbol["text-anchor"]),"text-max-angle":new Qt(Ce.layout_symbol["text-max-angle"]),"text-writing-mode":new Qt(Ce.layout_symbol["text-writing-mode"]),"text-rotate":new sn(Ce.layout_symbol["text-rotate"]),"text-padding":new Qt(Ce.layout_symbol["text-padding"]),"text-keep-upright":new Qt(Ce.layout_symbol["text-keep-upright"]),"text-transform":new sn(Ce.layout_symbol["text-transform"]),"text-offset":new sn(Ce.layout_symbol["text-offset"]),"text-allow-overlap":new Qt(Ce.layout_symbol["text-allow-overlap"]),"text-overlap":new Qt(Ce.layout_symbol["text-overlap"]),"text-ignore-placement":new Qt(Ce.layout_symbol["text-ignore-placement"]),"text-optional":new Qt(Ce.layout_symbol["text-optional"])})}};class _w{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:dr,this.defaultValue=i}evaluate(i){if(i.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(i.formattedSection))return c.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ut("FormatSectionOverride",_w,{omit:["defaultValue"]});class Ep extends Ma{constructor(i){super(i,jy)}recalculate(i,c){if(super.recalculate(i,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const g=[];for(const x of f)g.indexOf(x)<0&&g.push(x);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,c,f,g){const x=this.layout.get(i).evaluate(c,{},f,g),S=this._unevaluatedLayout._values[i];return S.isDataDriven()||Ou(S.value)||!x?x:function(A,D){return D.replace(/{([^{}]+)}/g,(O,V)=>A&&V in A?String(A[V]):"")}(c.properties,x)}createBucket(i){return new td(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of jy.paint.overridableProperties){if(!Ep.hasPaintOverride(this.layout,i))continue;const c=this.paint.get(i),f=new _w(c),g=new vh(f,c.property.specification);let x=null;x=c.value.kind==="constant"||c.value.kind==="source"?new yh("source",g):new zu("composite",g,c.value.zoomStops),this.paint._values[i]=new Ni(c.property,x,c.parameters)}}_handleOverridablePaintPropertyUpdate(i,c,f){return!(!this.layout||c.isDataDriven()||f.isDataDriven())&&Ep.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,c){const f=i.get("text-field"),g=jy.paint.properties[c];let x=!1;const S=A=>{for(const D of A)if(g.overrides&&g.overrides.hasOverride(D))return void(x=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Mi)S(f.value.value.sections);else if(f.value.kind==="source"){const A=O=>{x||(O instanceof Vo&&Tr(O.value)===pe?S(O.value.sections):O instanceof Ru?S(O.sections):O.eachChild(A))},D=f.value;D._styleExpression&&A(D._styleExpression.expression)}return x}}let bw;var dL={get paint(){return bw=bw||new Yr({"background-color":new Qt(Ce.paint_background["background-color"]),"background-pattern":new Lh(Ce.paint_background["background-pattern"]),"background-opacity":new Qt(Ce.paint_background["background-opacity"])})}};class hL extends Ma{constructor(i){super(i,dL)}}let xw;var fL={get paint(){return xw=xw||new Yr({"raster-opacity":new Qt(Ce.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qt(Ce.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qt(Ce.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qt(Ce.paint_raster["raster-brightness-max"]),"raster-saturation":new Qt(Ce.paint_raster["raster-saturation"]),"raster-contrast":new Qt(Ce.paint_raster["raster-contrast"]),"raster-resampling":new Qt(Ce.paint_raster["raster-resampling"]),"raster-fade-duration":new Qt(Ce.paint_raster["raster-fade-duration"])})}};class mL extends Ma{constructor(i){super(i,fL)}}class pL extends Ma{constructor(i){super(i,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class gL{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Hy=63710088e-1;class $l{constructor(i,c){if(isNaN(i)||isNaN(c))throw new Error(`Invalid LngLat object: (${i}, ${c})`);if(this.lng=+i,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new $l(re(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const c=Math.PI/180,f=this.lat*c,g=i.lat*c,x=Math.sin(f)*Math.sin(g)+Math.cos(f)*Math.cos(g)*Math.cos((i.lng-this.lng)*c);return Hy*Math.acos(Math.min(x,1))}static convert(i){if(i instanceof $l)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new $l(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new $l(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const ww=2*Math.PI*Hy;function Sw(l){return ww*Math.cos(l*Math.PI/180)}function kw(l){return(180+l)/360}function Cw(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function Tw(l,i){return l/Sw(i)}function Aw(l){return 360*l-180}function Gy(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class Ip{constructor(i,c,f=0){this.x=+i,this.y=+c,this.z=+f}static fromLngLat(i,c=0){const f=$l.convert(i);return new Ip(kw(f.lng),Cw(f.lat),Tw(c,f.lat))}toLngLat(){return new $l(Aw(this.x),Gy(this.y))}toAltitude(){return this.z*Sw(Gy(this.y))}meterInMercatorCoordinateUnits(){return 1/ww*(i=Gy(this.y),1/Math.cos(i*Math.PI/180));var i}}function Ew(l,i,c){var f=2*Math.PI*6378137/256/Math.pow(2,c);return[l*f-2*Math.PI*6378137/2,i*f-2*Math.PI*6378137/2]}class Wy{constructor(i,c,f){if(i<0||i>25||f<0||f>=Math.pow(2,i)||c<0||c>=Math.pow(2,i))throw new Error(`x=${c}, y=${f}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=c,this.y=f,this.key=tf(0,i,i,c,f)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,c,f){const g=(S=this.y,A=this.z,D=Ew(256*(x=this.x),256*(S=Math.pow(2,A)-S-1),A),O=Ew(256*(x+1),256*(S+1),A),D[0]+","+D[1]+","+O[0]+","+O[1]);var x,S,A,D,O;const V=function(U,W,te){let ie,ue="";for(let _e=U;_e>0;_e--)ie=1<<_e-1,ue+=(W&ie?1:0)+(te&ie?2:0);return ue}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,V).replace(/{bbox-epsg-3857}/g,g)}isChildOf(i){const c=this.z-i.z;return c>0&&i.x===this.x>>c&&i.y===this.y>>c}getTilePoint(i){const c=Math.pow(2,this.z);return new k((i.x*c-this.x)*ti,(i.y*c-this.y)*ti)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Iw{constructor(i,c){this.wrap=i,this.canonical=c,this.key=tf(i,c.z,c.z,c.x,c.y)}}class ja{constructor(i,c,f,g,x){if(i<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${f}`);this.overscaledZ=i,this.wrap=c,this.canonical=new Wy(f,+g,+x),this.key=tf(c,i,f,g,x)}clone(){return new ja(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-i;return i>this.canonical.z?new ja(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ja(i,this.wrap,i,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(i,c){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-i;return i>this.canonical.z?tf(this.wrap*+c,i,this.canonical.z,this.canonical.x,this.canonical.y):tf(this.wrap*+c,i,i,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const c=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>c&&i.canonical.y===this.canonical.y>>c}children(i){if(this.overscaledZ>=i)return[new ja(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,f=2*this.canonical.x,g=2*this.canonical.y;return[new ja(c,this.wrap,c,f,g),new ja(c,this.wrap,c,f+1,g),new ja(c,this.wrap,c,f,g+1),new ja(c,this.wrap,c,f+1,g+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new ja(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new ja(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Iw(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Ip(i.x-this.wrap,i.y))}}function tf(l,i,c,f,g){(l*=2)<0&&(l=-1*l-1);const x=1<<c;return(x*x*l+x*g+f).toString(36)+c.toString(36)+i.toString(36)}Ut("CanonicalTileID",Wy),Ut("OverscaledTileID",ja,{omit:["posMatrix"]});class Pw{constructor(i,c,f,g=1,x=1,S=1,A=0){if(this.uid=i,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void fe(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const D=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=x,this.blueFactor=S,this.baseShift=A;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let O=0;O<D;O++)this.data[this._idx(-1,O)]=this.data[this._idx(0,O)],this.data[this._idx(D,O)]=this.data[this._idx(D-1,O)],this.data[this._idx(O,-1)]=this.data[this._idx(O,0)],this.data[this._idx(O,D)]=this.data[this._idx(O,D-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(D,-1)]=this.data[this._idx(D-1,0)],this.data[this._idx(-1,D)]=this.data[this._idx(0,D-1)],this.data[this._idx(D,D)]=this.data[this._idx(D-1,D-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let O=0;O<D;O++)for(let V=0;V<D;V++){const U=this.get(O,V);U>this.max&&(this.max=U),U<this.min&&(this.min=U)}}get(i,c){const f=new Uint8Array(this.data.buffer),g=4*this._idx(i,c);return this.unpack(f[g],f[g+1],f[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(i,c){if(i<-1||i>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(i+1)}unpack(i,c,f){return i*this.redFactor+c*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new qa({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,c,f){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let g=c*this.dim,x=c*this.dim+this.dim,S=f*this.dim,A=f*this.dim+this.dim;switch(c){case-1:g=x-1;break;case 1:x=g+1}switch(f){case-1:S=A-1;break;case 1:A=S+1}const D=-c*this.dim,O=-f*this.dim;for(let V=S;V<A;V++)for(let U=g;U<x;U++)this.data[this._idx(U,V)]=i.data[this._idx(U+D,V+O)]}}Ut("DEMData",Pw);class Dw{constructor(i){this._stringToNumber={},this._numberToString=[];for(let c=0;c<i.length;c++){const f=i[c];this._stringToNumber[f]=c,this._numberToString[c]=f}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class Mw{constructor(i,c,f,g,x){this.type="Feature",this._vectorTileFeature=i,i._z=c,i._x=f,i._y=g,this.properties=i.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(i[c]=this[c]);return i}}class Lw{constructor(i,c){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new Ll(ti,16,0),this.grid3D=new Ll(ti,16,0),this.featureIndexArray=new ft,this.promoteId=c}insert(i,c,f,g,x,S){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,g,x);const D=S?this.grid3D:this.grid;for(let O=0;O<c.length;O++){const V=c[O],U=[1/0,1/0,-1/0,-1/0];for(let W=0;W<V.length;W++){const te=V[W];U[0]=Math.min(U[0],te.x),U[1]=Math.min(U[1],te.y),U[2]=Math.max(U[2],te.x),U[3]=Math.max(U[3],te.y)}U[0]<ti&&U[1]<ti&&U[2]>=0&&U[3]>=0&&D.insert(A,U[0],U[1],U[2],U[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Bl.VectorTile(new Oy(this.rawTileData)).layers,this.sourceLayerCoder=new Dw(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,c,f,g){this.loadVTLayers();const x=i.params||{},S=ti/i.tileSize/i.scale,A=bh(x.filter),D=i.queryGeometry,O=i.queryPadding*S,V=Ow(D),U=this.grid.query(V.minX-O,V.minY-O,V.maxX+O,V.maxY+O),W=Ow(i.cameraQueryGeometry),te=this.grid3D.query(W.minX-O,W.minY-O,W.maxX+O,W.maxY+O,(_e,we,Oe,Te)=>function(ze,Ge,at,Nt,Zt){for(const Ft of ze)if(Ge<=Ft.x&&at<=Ft.y&&Nt>=Ft.x&&Zt>=Ft.y)return!0;const Bt=[new k(Ge,at),new k(Ge,Zt),new k(Nt,Zt),new k(Nt,at)];if(ze.length>2){for(const Ft of Bt)if(Yu(ze,Ft))return!0}for(let Ft=0;Ft<ze.length-1;Ft++)if(YD(ze[Ft],ze[Ft+1],Bt))return!0;return!1}(i.cameraQueryGeometry,_e-O,we-O,Oe+O,Te+O));for(const _e of te)U.push(_e);U.sort(vL);const ie={};let ue;for(let _e=0;_e<U.length;_e++){const we=U[_e];if(we===ue)continue;ue=we;const Oe=this.featureIndexArray.get(we);let Te=null;this.loadMatchingFeature(ie,Oe.bucketIndex,Oe.sourceLayerIndex,Oe.featureIndex,A,x.layers,x.availableImages,c,f,g,(ze,Ge,at)=>(Te||(Te=Mc(ze)),Ge.queryIntersectsFeature(D,ze,at,Te,this.z,i.transform,S,i.pixelPosMatrix)))}return ie}loadMatchingFeature(i,c,f,g,x,S,A,D,O,V,U){const W=this.bucketLayerIDs[c];if(S&&!function(_e,we){for(let Oe=0;Oe<_e.length;Oe++)if(we.indexOf(_e[Oe])>=0)return!0;return!1}(S,W))return;const te=this.sourceLayerCoder.decode(f),ie=this.vtLayers[te].feature(g);if(x.needGeometry){const _e=Lc(ie,!0);if(!x.filter(new yr(this.tileID.overscaledZ),_e,this.tileID.canonical))return}else if(!x.filter(new yr(this.tileID.overscaledZ),ie))return;const ue=this.getId(ie,te);for(let _e=0;_e<W.length;_e++){const we=W[_e];if(S&&S.indexOf(we)<0)continue;const Oe=D[we];if(!Oe)continue;let Te={};ue&&V&&(Te=V.getState(Oe.sourceLayer||"_geojsonTileLayer",ue));const ze=H({},O[we]);ze.paint=Rw(ze.paint,Oe.paint,ie,Te,A),ze.layout=Rw(ze.layout,Oe.layout,ie,Te,A);const Ge=!U||U(ie,Oe,Te);if(!Ge)continue;const at=new Mw(ie,this.z,this.x,this.y,ue);at.layer=ze;let Nt=i[we];Nt===void 0&&(Nt=i[we]=[]),Nt.push({featureIndex:g,feature:at,intersectionZ:Ge})}}lookupSymbolFeatures(i,c,f,g,x,S,A,D){const O={};this.loadVTLayers();const V=bh(x);for(const U of i)this.loadMatchingFeature(O,f,g,U,V,S,A,D,c);return O}hasLayer(i){for(const c of this.bucketLayerIDs)for(const f of c)if(i===f)return!0;return!1}getId(i,c){let f=i.id;return this.promoteId&&(f=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof f=="boolean"&&(f=Number(f))),f}}function Rw(l,i,c,f,g){return Z(l,(x,S)=>{const A=i instanceof Gu?i.get(S):null;return A&&A.evaluate?A.evaluate(c,f,g):A})}function Ow(l){let i=1/0,c=1/0,f=-1/0,g=-1/0;for(const x of l)i=Math.min(i,x.x),c=Math.min(c,x.y),f=Math.max(f,x.x),g=Math.max(g,x.y);return{minX:i,minY:c,maxX:f,maxY:g}}function vL(l,i){return i-l}function Fw(l,i,c,f,g){const x=[];for(let S=0;S<l.length;S++){const A=l[S];let D;for(let O=0;O<A.length-1;O++){let V=A[O],U=A[O+1];V.x<i&&U.x<i||(V.x<i?V=new k(i,V.y+(i-V.x)/(U.x-V.x)*(U.y-V.y))._round():U.x<i&&(U=new k(i,V.y+(i-V.x)/(U.x-V.x)*(U.y-V.y))._round()),V.y<c&&U.y<c||(V.y<c?V=new k(V.x+(c-V.y)/(U.y-V.y)*(U.x-V.x),c)._round():U.y<c&&(U=new k(V.x+(c-V.y)/(U.y-V.y)*(U.x-V.x),c)._round()),V.x>=f&&U.x>=f||(V.x>=f?V=new k(f,V.y+(f-V.x)/(U.x-V.x)*(U.y-V.y))._round():U.x>=f&&(U=new k(f,V.y+(f-V.x)/(U.x-V.x)*(U.y-V.y))._round()),V.y>=g&&U.y>=g||(V.y>=g?V=new k(V.x+(g-V.y)/(U.y-V.y)*(U.x-V.x),g)._round():U.y>=g&&(U=new k(V.x+(g-V.y)/(U.y-V.y)*(U.x-V.x),g)._round()),D&&V.equals(D[D.length-1])||(D=[V],x.push(D)),D.push(U)))))}}return x}Ut("FeatureIndex",Lw,{omit:["rawTileData","sourceLayerCoder"]});class Ul extends k{constructor(i,c,f,g){super(i,c),this.angle=f,g!==void 0&&(this.segment=g)}clone(){return new Ul(this.x,this.y,this.angle,this.segment)}}function zw(l,i,c,f,g){if(i.segment===void 0||c===0)return!0;let x=i,S=i.segment+1,A=0;for(;A>-c/2;){if(S--,S<0)return!1;A-=l[S].dist(x),x=l[S]}A+=l[S].dist(l[S+1]),S++;const D=[];let O=0;for(;A<c/2;){const V=l[S],U=l[S+1];if(!U)return!1;let W=l[S-1].angleTo(V)-V.angleTo(U);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),D.push({distance:A,angleDelta:W}),O+=W;A-D[0].distance>f;)O-=D.shift().angleDelta;if(O>g)return!1;S++,A+=V.dist(U)}return!0}function Bw(l){let i=0;for(let c=0;c<l.length-1;c++)i+=l[c].dist(l[c+1]);return i}function Vw(l,i,c){return l?.6*i*c:0}function Nw(l,i){return Math.max(l?l.right-l.left:0,i?i.right-i.left:0)}function yL(l,i,c,f,g,x){const S=Vw(c,g,x),A=Nw(c,f)*x;let D=0;const O=Bw(l)/2;for(let V=0;V<l.length-1;V++){const U=l[V],W=l[V+1],te=U.dist(W);if(D+te>O){const ie=(O-D)/te,ue=pa.number(U.x,W.x,ie),_e=pa.number(U.y,W.y,ie),we=new Ul(ue,_e,W.angleTo(U),V);return we._round(),!S||zw(l,we,A,S,i)?we:void 0}D+=te}}function _L(l,i,c,f,g,x,S,A,D){const O=Vw(f,x,S),V=Nw(f,g),U=V*S,W=l[0].x===0||l[0].x===D||l[0].y===0||l[0].y===D;return i-U<i/4&&(i=U+i/4),$w(l,W?i/2*A%i:(V/2+2*x)*S*A%i,i,O,c,U,W,!1,D)}function $w(l,i,c,f,g,x,S,A,D){const O=x/2,V=Bw(l);let U=0,W=i-c,te=[];for(let ie=0;ie<l.length-1;ie++){const ue=l[ie],_e=l[ie+1],we=ue.dist(_e),Oe=_e.angleTo(ue);for(;W+c<U+we;){W+=c;const Te=(W-U)/we,ze=pa.number(ue.x,_e.x,Te),Ge=pa.number(ue.y,_e.y,Te);if(ze>=0&&ze<D&&Ge>=0&&Ge<D&&W-O>=0&&W+O<=V){const at=new Ul(ze,Ge,Oe,ie);at._round(),f&&!zw(l,at,x,f,g)||te.push(at)}}U+=we}return A||te.length||S||(te=$w(l,U/2,c,f,g,x,S,!0,D)),te}Ut("Anchor",Ul);const nd=ba;function Uw(l,i,c,f){const g=[],x=l.image,S=x.pixelRatio,A=x.paddedRect.w-2*nd,D=x.paddedRect.h-2*nd,O=l.right-l.left,V=l.bottom-l.top,U=x.stretchX||[[0,A]],W=x.stretchY||[[0,D]],te=(Pt,qt)=>Pt+qt[1]-qt[0],ie=U.reduce(te,0),ue=W.reduce(te,0),_e=A-ie,we=D-ue;let Oe=0,Te=ie,ze=0,Ge=ue,at=0,Nt=_e,Zt=0,Bt=we;if(x.content&&f){const Pt=x.content;Oe=Pp(U,0,Pt[0]),ze=Pp(W,0,Pt[1]),Te=Pp(U,Pt[0],Pt[2]),Ge=Pp(W,Pt[1],Pt[3]),at=Pt[0]-Oe,Zt=Pt[1]-ze,Nt=Pt[2]-Pt[0]-Te,Bt=Pt[3]-Pt[1]-Ge}const Ft=(Pt,qt,Dt,wt)=>{const nn=Dp(Pt.stretch-Oe,Te,O,l.left),Jt=Mp(Pt.fixed-at,Nt,Pt.stretch,ie),Cn=Dp(qt.stretch-ze,Ge,V,l.top),br=Mp(qt.fixed-Zt,Bt,qt.stretch,ue),Cr=Dp(Dt.stretch-Oe,Te,O,l.left),hi=Mp(Dt.fixed-at,Nt,Dt.stretch,ie),Ra=Dp(wt.stretch-ze,Ge,V,l.top),ta=Mp(wt.fixed-Zt,Bt,wt.stretch,ue),ni=new k(nn,Cn),Ai=new k(Cr,Cn),Oi=new k(Cr,Ra),na=new k(nn,Ra),ra=new k(Jt/S,br/S),fi=new k(hi/S,ta/S),mi=i*Math.PI/180;if(mi){const qi=Math.sin(mi),xa=Math.cos(mi),wa=[xa,-qi,qi,xa];ni._matMult(wa),Ai._matMult(wa),na._matMult(wa),Oi._matMult(wa)}const Ui=Pt.stretch+Pt.fixed,ia=qt.stretch+qt.fixed;return{tl:ni,tr:Ai,bl:na,br:Oi,tex:{x:x.paddedRect.x+nd+Ui,y:x.paddedRect.y+nd+ia,w:Dt.stretch+Dt.fixed-Ui,h:wt.stretch+wt.fixed-ia},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ra,pixelOffsetBR:fi,minFontScaleX:Nt/S/O,minFontScaleY:Bt/S/V,isSDF:c}};if(f&&(x.stretchX||x.stretchY)){const Pt=qw(U,_e,ie),qt=qw(W,we,ue);for(let Dt=0;Dt<Pt.length-1;Dt++){const wt=Pt[Dt],nn=Pt[Dt+1];for(let Jt=0;Jt<qt.length-1;Jt++)g.push(Ft(wt,qt[Jt],nn,qt[Jt+1]))}}else g.push(Ft({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:D+1}));return g}function Pp(l,i,c){let f=0;for(const g of l)f+=Math.max(i,Math.min(c,g[1]))-Math.max(i,Math.min(c,g[0]));return f}function qw(l,i,c){const f=[{fixed:-nd,stretch:0}];for(const[g,x]of l){const S=f[f.length-1];f.push({fixed:g-S.stretch,stretch:S.stretch}),f.push({fixed:g-S.stretch,stretch:S.stretch+(x-g)})}return f.push({fixed:i+nd,stretch:c}),f}function Dp(l,i,c,f){return l/i*c+f}function Mp(l,i,c,f){return l-i*c/f}class Lp{constructor(i,c,f,g,x,S,A,D,O,V){if(this.boxStartIndex=i.length,O){let U=S.top,W=S.bottom;const te=S.collisionPadding;te&&(U-=te[1],W+=te[3]);let ie=W-U;ie>0&&(ie=Math.max(10,ie),this.circleDiameter=ie)}else{let U=S.top*A-D[0],W=S.bottom*A+D[2],te=S.left*A-D[3],ie=S.right*A+D[1];const ue=S.collisionPadding;if(ue&&(te-=ue[0]*A,U-=ue[1]*A,ie+=ue[2]*A,W+=ue[3]*A),V){const _e=new k(te,U),we=new k(ie,U),Oe=new k(te,W),Te=new k(ie,W),ze=V*Math.PI/180;_e._rotate(ze),we._rotate(ze),Oe._rotate(ze),Te._rotate(ze),te=Math.min(_e.x,we.x,Oe.x,Te.x),ie=Math.max(_e.x,we.x,Oe.x,Te.x),U=Math.min(_e.y,we.y,Oe.y,Te.y),W=Math.max(_e.y,we.y,Oe.y,Te.y)}i.emplaceBack(c.x,c.y,te,U,ie,W,f,g,x)}this.boxEndIndex=i.length}}class bL{constructor(i=[],c=xL){if(this.data=i,this.length=this.data.length,this.compare=c,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:c,compare:f}=this,g=c[i];for(;i>0;){const x=i-1>>1,S=c[x];if(f(g,S)>=0)break;c[i]=S,i=x}c[i]=g}_down(i){const{data:c,compare:f}=this,g=this.length>>1,x=c[i];for(;i<g;){let S=1+(i<<1),A=c[S];const D=S+1;if(D<this.length&&f(c[D],A)<0&&(S=D,A=c[D]),f(A,x)>=0)break;c[i]=A,i=S}c[i]=x}}function xL(l,i){return l<i?-1:l>i?1:0}function wL(l,i=1,c=!1){let f=1/0,g=1/0,x=-1/0,S=-1/0;const A=l[0];for(let te=0;te<A.length;te++){const ie=A[te];(!te||ie.x<f)&&(f=ie.x),(!te||ie.y<g)&&(g=ie.y),(!te||ie.x>x)&&(x=ie.x),(!te||ie.y>S)&&(S=ie.y)}const D=Math.min(x-f,S-g);let O=D/2;const V=new bL([],SL);if(D===0)return new k(f,g);for(let te=f;te<x;te+=D)for(let ie=g;ie<S;ie+=D)V.push(new rd(te+O,ie+O,O,l));let U=function(te){let ie=0,ue=0,_e=0;const we=te[0];for(let Oe=0,Te=we.length,ze=Te-1;Oe<Te;ze=Oe++){const Ge=we[Oe],at=we[ze],Nt=Ge.x*at.y-at.x*Ge.y;ue+=(Ge.x+at.x)*Nt,_e+=(Ge.y+at.y)*Nt,ie+=3*Nt}return new rd(ue/ie,_e/ie,0,te)}(l),W=V.length;for(;V.length;){const te=V.pop();(te.d>U.d||!U.d)&&(U=te,c&&console.log("found best %d after %d probes",Math.round(1e4*te.d)/1e4,W)),te.max-U.d<=i||(O=te.h/2,V.push(new rd(te.p.x-O,te.p.y-O,O,l)),V.push(new rd(te.p.x+O,te.p.y-O,O,l)),V.push(new rd(te.p.x-O,te.p.y+O,O,l)),V.push(new rd(te.p.x+O,te.p.y+O,O,l)),W+=4)}return c&&(console.log(`num probes: ${W}`),console.log(`best distance: ${U.d}`)),U.p}function SL(l,i){return i.max-l.max}function rd(l,i,c,f){this.p=new k(l,i),this.h=c,this.d=function(g,x){let S=!1,A=1/0;for(let D=0;D<x.length;D++){const O=x[D];for(let V=0,U=O.length,W=U-1;V<U;W=V++){const te=O[V],ie=O[W];te.y>g.y!=ie.y>g.y&&g.x<(ie.x-te.x)*(g.y-te.y)/(ie.y-te.y)+te.x&&(S=!S),A=Math.min(A,C1(g,te,ie))}}return(S?1:-1)*Math.sqrt(A)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var Ri;o.aq=void 0,(Ri=o.aq||(o.aq={}))[Ri.center=1]="center",Ri[Ri.left=2]="left",Ri[Ri.right=3]="right",Ri[Ri.top=4]="top",Ri[Ri.bottom=5]="bottom",Ri[Ri["top-left"]=6]="top-left",Ri[Ri["top-right"]=7]="top-right",Ri[Ri["bottom-left"]=8]="bottom-left",Ri[Ri["bottom-right"]=9]="bottom-right";const ql=7,Yy=Number.POSITIVE_INFINITY;function jw(l,i){return i[1]!==Yy?function(c,f,g){let x=0,S=0;switch(f=Math.abs(f),g=Math.abs(g),c){case"top-right":case"top-left":case"top":S=g-ql;break;case"bottom-right":case"bottom-left":case"bottom":S=-g+ql}switch(c){case"top-right":case"bottom-right":case"right":x=-f;break;case"top-left":case"bottom-left":case"left":x=f}return[x,S]}(l,i[0],i[1]):function(c,f){let g=0,x=0;f<0&&(f=0);const S=f/Math.SQRT2;switch(c){case"top-right":case"top-left":x=S-ql;break;case"bottom-right":case"bottom-left":x=-S+ql;break;case"bottom":x=-f+ql;break;case"top":x=f-ql}switch(c){case"top-right":case"bottom-right":g=-S;break;case"top-left":case"bottom-left":g=S;break;case"left":g=f;break;case"right":g=-f}return[g,x]}(l,i[0])}function Hw(l,i,c){var f;const g=l.layout,x=(f=g.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(i,{},c);if(x){const A=x.values,D=[];for(let O=0;O<A.length;O+=2){const V=D[O]=A[O],U=A[O+1].map(W=>W*di);V.startsWith("top")?U[1]-=ql:V.startsWith("bottom")&&(U[1]+=ql),D[O+1]=U}return new Ea(D)}const S=g.get("text-variable-anchor");if(S){let A;A=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[g.get("text-radial-offset").evaluate(i,{},c)*di,Yy]:g.get("text-offset").evaluate(i,{},c).map(O=>O*di);const D=[];for(const O of S)D.push(O,jw(O,A));return new Ea(D)}return null}function Zy(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function kL(l,i,c,f,g,x,S,A,D,O,V){let U=x.textMaxSize.evaluate(i,{});U===void 0&&(U=S);const W=l.layers[0].layout,te=W.get("icon-offset").evaluate(i,{},V),ie=Ww(c.horizontal),ue=S/24,_e=l.tilePixelRatio*ue,we=l.tilePixelRatio*U/24,Oe=l.tilePixelRatio*A,Te=l.tilePixelRatio*W.get("symbol-spacing"),ze=W.get("text-padding")*l.tilePixelRatio,Ge=function(wt,nn,Jt,Cn=1){const br=wt.get("icon-padding").evaluate(nn,{},Jt),Cr=br&&br.values;return[Cr[0]*Cn,Cr[1]*Cn,Cr[2]*Cn,Cr[3]*Cn]}(W,i,V,l.tilePixelRatio),at=W.get("text-max-angle")/180*Math.PI,Nt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",Zt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Bt=W.get("symbol-placement"),Ft=Te/2,Pt=W.get("icon-text-fit");let qt;f&&Pt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(qt=pw(f,c.vertical,Pt,W.get("icon-text-fit-padding"),te,ue)),ie&&(f=pw(f,ie,Pt,W.get("icon-text-fit-padding"),te,ue)));const Dt=(wt,nn)=>{nn.x<0||nn.x>=ti||nn.y<0||nn.y>=ti||function(Jt,Cn,br,Cr,hi,Ra,ta,ni,Ai,Oi,na,ra,fi,mi,Ui,ia,qi,xa,wa,pi,Rn,ji,Fi,gi,fs){const zs=Jt.addToLineVertexArray(Cn,br);let Bs,Jo,ms,Ha,Sa=0,Qo=0,af=0,Xw=0,r_=-1,i_=-1;const el={};let Jw=Yo("");if(Jt.allowVerticalPlacement&&Cr.vertical){const Hi=ni.layout.get("text-rotate").evaluate(Rn,{},gi)+90;ms=new Lp(Ai,Cn,Oi,na,ra,Cr.vertical,fi,mi,Ui,Hi),ta&&(Ha=new Lp(Ai,Cn,Oi,na,ra,ta,qi,xa,Ui,Hi))}if(hi){const Hi=ni.layout.get("icon-rotate").evaluate(Rn,{}),Ga=ni.layout.get("icon-text-fit")!=="none",Oc=Uw(hi,Hi,Fi,Ga),Ns=ta?Uw(ta,Hi,Fi,Ga):void 0;Jo=new Lp(Ai,Cn,Oi,na,ra,hi,qi,xa,!1,Hi),Sa=4*Oc.length;const Fc=Jt.iconSizeData;let vo=null;Fc.kind==="source"?(vo=[go*ni.layout.get("icon-size").evaluate(Rn,{})],vo[0]>Nl&&fe(`${Jt.layerIds[0]}: Value for "icon-size" is >= ${ef}. Reduce your "icon-size".`)):Fc.kind==="composite"&&(vo=[go*ji.compositeIconSizes[0].evaluate(Rn,{},gi),go*ji.compositeIconSizes[1].evaluate(Rn,{},gi)],(vo[0]>Nl||vo[1]>Nl)&&fe(`${Jt.layerIds[0]}: Value for "icon-size" is >= ${ef}. Reduce your "icon-size".`)),Jt.addSymbols(Jt.icon,Oc,vo,pi,wa,Rn,o.ai.none,Cn,zs.lineStartIndex,zs.lineLength,-1,gi),r_=Jt.icon.placedSymbolArray.length-1,Ns&&(Qo=4*Ns.length,Jt.addSymbols(Jt.icon,Ns,vo,pi,wa,Rn,o.ai.vertical,Cn,zs.lineStartIndex,zs.lineLength,-1,gi),i_=Jt.icon.placedSymbolArray.length-1)}const Qw=Object.keys(Cr.horizontal);for(const Hi of Qw){const Ga=Cr.horizontal[Hi];if(!Bs){Jw=Yo(Ga.text);const Ns=ni.layout.get("text-rotate").evaluate(Rn,{},gi);Bs=new Lp(Ai,Cn,Oi,na,ra,Ga,fi,mi,Ui,Ns)}const Oc=Ga.positionedLines.length===1;if(af+=Gw(Jt,Cn,Ga,Ra,ni,Ui,Rn,ia,zs,Cr.vertical?o.ai.horizontal:o.ai.horizontalOnly,Oc?Qw:[Hi],el,r_,ji,gi),Oc)break}Cr.vertical&&(Xw+=Gw(Jt,Cn,Cr.vertical,Ra,ni,Ui,Rn,ia,zs,o.ai.vertical,["vertical"],el,i_,ji,gi));const AL=Bs?Bs.boxStartIndex:Jt.collisionBoxArray.length,EL=Bs?Bs.boxEndIndex:Jt.collisionBoxArray.length,IL=ms?ms.boxStartIndex:Jt.collisionBoxArray.length,PL=ms?ms.boxEndIndex:Jt.collisionBoxArray.length,DL=Jo?Jo.boxStartIndex:Jt.collisionBoxArray.length,ML=Jo?Jo.boxEndIndex:Jt.collisionBoxArray.length,LL=Ha?Ha.boxStartIndex:Jt.collisionBoxArray.length,RL=Ha?Ha.boxEndIndex:Jt.collisionBoxArray.length;let Vs=-1;const Op=(Hi,Ga)=>Hi&&Hi.circleDiameter?Math.max(Hi.circleDiameter,Ga):Ga;Vs=Op(Bs,Vs),Vs=Op(ms,Vs),Vs=Op(Jo,Vs),Vs=Op(Ha,Vs);const eS=Vs>-1?1:0;eS&&(Vs*=fs/di),Jt.glyphOffsetArray.length>=td.MAX_GLYPHS&&fe("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Rn.sortKey!==void 0&&Jt.addToSortKeyRanges(Jt.symbolInstances.length,Rn.sortKey);const OL=Hw(ni,Rn,gi),[FL,zL]=function(Hi,Ga){const Oc=Hi.length,Ns=Ga==null?void 0:Ga.values;if((Ns==null?void 0:Ns.length)>0)for(let Fc=0;Fc<Ns.length;Fc+=2){const vo=Ns[Fc+1];Hi.emplaceBack(o.aq[Ns[Fc]],vo[0],vo[1])}return[Oc,Hi.length]}(Jt.textAnchorOffsets,OL);Jt.symbolInstances.emplaceBack(Cn.x,Cn.y,el.right>=0?el.right:-1,el.center>=0?el.center:-1,el.left>=0?el.left:-1,el.vertical||-1,r_,i_,Jw,AL,EL,IL,PL,DL,ML,LL,RL,Oi,af,Xw,Sa,Qo,eS,0,fi,Vs,FL,zL)}(l,nn,wt,c,f,g,qt,l.layers[0],l.collisionBoxArray,i.index,i.sourceLayerIndex,l.index,_e,[ze,ze,ze,ze],Nt,D,Oe,Ge,Zt,te,i,x,O,V,S)};if(Bt==="line")for(const wt of Fw(i.geometry,0,0,ti,ti)){const nn=_L(wt,Te,at,c.vertical||ie,f,24,we,l.overscaling,ti);for(const Jt of nn)ie&&CL(l,ie.text,Ft,Jt)||Dt(wt,Jt)}else if(Bt==="line-center"){for(const wt of i.geometry)if(wt.length>1){const nn=yL(wt,at,c.vertical||ie,f,24,we);nn&&Dt(wt,nn)}}else if(i.type==="Polygon")for(const wt of Ay(i.geometry,0)){const nn=wL(wt,16);Dt(wt[0],new Ul(nn.x,nn.y,0))}else if(i.type==="LineString")for(const wt of i.geometry)Dt(wt,new Ul(wt[0].x,wt[0].y,0));else if(i.type==="Point")for(const wt of i.geometry)for(const nn of wt)Dt([nn],new Ul(nn.x,nn.y,0))}function Gw(l,i,c,f,g,x,S,A,D,O,V,U,W,te,ie){const ue=function(Oe,Te,ze,Ge,at,Nt,Zt,Bt){const Ft=Ge.layout.get("text-rotate").evaluate(Nt,{})*Math.PI/180,Pt=[];for(const qt of Te.positionedLines)for(const Dt of qt.positionedGlyphs){if(!Dt.rect)continue;const wt=Dt.rect||{};let nn=lw+1,Jt=!0,Cn=1,br=0;const Cr=(at||Bt)&&Dt.vertical,hi=Dt.metrics.advance*Dt.scale/2;if(Bt&&Te.verticalizable&&(br=qt.lineOffset/2-(Dt.imageName?-(di-Dt.metrics.width*Dt.scale)/2:(Dt.scale-1)*di)),Dt.imageName){const pi=Zt[Dt.imageName];Jt=pi.sdf,Cn=pi.pixelRatio,nn=ba/Cn}const Ra=at?[Dt.x+hi,Dt.y]:[0,0];let ta=at?[0,0]:[Dt.x+hi+ze[0],Dt.y+ze[1]-br],ni=[0,0];Cr&&(ni=ta,ta=[0,0]);const Ai=Dt.metrics.isDoubleResolution?2:1,Oi=(Dt.metrics.left-nn)*Dt.scale-hi+ta[0],na=(-Dt.metrics.top-nn)*Dt.scale+ta[1],ra=Oi+wt.w/Ai*Dt.scale/Cn,fi=na+wt.h/Ai*Dt.scale/Cn,mi=new k(Oi,na),Ui=new k(ra,na),ia=new k(Oi,fi),qi=new k(ra,fi);if(Cr){const pi=new k(-hi,hi-Jh),Rn=-Math.PI/2,ji=di/2-hi,Fi=new k(5-Jh-ji,-(Dt.imageName?ji:0)),gi=new k(...ni);mi._rotateAround(Rn,pi)._add(Fi)._add(gi),Ui._rotateAround(Rn,pi)._add(Fi)._add(gi),ia._rotateAround(Rn,pi)._add(Fi)._add(gi),qi._rotateAround(Rn,pi)._add(Fi)._add(gi)}if(Ft){const pi=Math.sin(Ft),Rn=Math.cos(Ft),ji=[Rn,-pi,pi,Rn];mi._matMult(ji),Ui._matMult(ji),ia._matMult(ji),qi._matMult(ji)}const xa=new k(0,0),wa=new k(0,0);Pt.push({tl:mi,tr:Ui,bl:ia,br:qi,tex:wt,writingMode:Te.writingMode,glyphOffset:Ra,sectionIndex:Dt.sectionIndex,isSDF:Jt,pixelOffsetTL:xa,pixelOffsetBR:wa,minFontScaleX:0,minFontScaleY:0})}return Pt}(0,c,A,g,x,S,f,l.allowVerticalPlacement),_e=l.textSizeData;let we=null;_e.kind==="source"?(we=[go*g.layout.get("text-size").evaluate(S,{})],we[0]>Nl&&fe(`${l.layerIds[0]}: Value for "text-size" is >= ${ef}. Reduce your "text-size".`)):_e.kind==="composite"&&(we=[go*te.compositeTextSizes[0].evaluate(S,{},ie),go*te.compositeTextSizes[1].evaluate(S,{},ie)],(we[0]>Nl||we[1]>Nl)&&fe(`${l.layerIds[0]}: Value for "text-size" is >= ${ef}. Reduce your "text-size".`)),l.addSymbols(l.text,ue,we,A,x,S,O,i,D.lineStartIndex,D.lineLength,W,ie);for(const Oe of V)U[Oe]=l.text.placedSymbolArray.length-1;return 4*ue.length}function Ww(l){for(const i in l)return l[i];return null}function CL(l,i,c,f){const g=l.compareText;if(i in g){const x=g[i];for(let S=x.length-1;S>=0;S--)if(f.dist(x[S])<c)return!0}else g[i]=[];return g[i].push(f),!1}const Yw=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Ky{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,f]=new Uint8Array(i,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=f>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const x=Yw[15&f];if(!x)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(i,2,1),[A]=new Uint32Array(i,4,1);return new Ky(A,S,x,i)}constructor(i,c=64,f=Float64Array,g){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=f,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const x=Yw.indexOf(this.ArrayType),S=2*i*this.ArrayType.BYTES_PER_ELEMENT,A=i*this.IndexArrayType.BYTES_PER_ELEMENT,D=(8-A%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${f}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+S+A+D),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=i)}add(i,c){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=i,this.coords[this._pos++]=c,f}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return Xy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,c,f,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:S,nodeSize:A}=this,D=[0,x.length-1,0],O=[];for(;D.length;){const V=D.pop()||0,U=D.pop()||0,W=D.pop()||0;if(U-W<=A){for(let _e=W;_e<=U;_e++){const we=S[2*_e],Oe=S[2*_e+1];we>=i&&we<=f&&Oe>=c&&Oe<=g&&O.push(x[_e])}continue}const te=W+U>>1,ie=S[2*te],ue=S[2*te+1];ie>=i&&ie<=f&&ue>=c&&ue<=g&&O.push(x[te]),(V===0?i<=ie:c<=ue)&&(D.push(W),D.push(te-1),D.push(1-V)),(V===0?f>=ie:g>=ue)&&(D.push(te+1),D.push(U),D.push(1-V))}return O}within(i,c,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:x,nodeSize:S}=this,A=[0,g.length-1,0],D=[],O=f*f;for(;A.length;){const V=A.pop()||0,U=A.pop()||0,W=A.pop()||0;if(U-W<=S){for(let _e=W;_e<=U;_e++)Kw(x[2*_e],x[2*_e+1],i,c)<=O&&D.push(g[_e]);continue}const te=W+U>>1,ie=x[2*te],ue=x[2*te+1];Kw(ie,ue,i,c)<=O&&D.push(g[te]),(V===0?i-f<=ie:c-f<=ue)&&(A.push(W),A.push(te-1),A.push(1-V)),(V===0?i+f>=ie:c+f>=ue)&&(A.push(te+1),A.push(U),A.push(1-V))}return D}}function Xy(l,i,c,f,g,x){if(g-f<=c)return;const S=f+g>>1;Zw(l,i,S,f,g,x),Xy(l,i,c,f,S-1,1-x),Xy(l,i,c,S+1,g,1-x)}function Zw(l,i,c,f,g,x){for(;g>f;){if(g-f>600){const O=g-f+1,V=c-f+1,U=Math.log(O),W=.5*Math.exp(2*U/3),te=.5*Math.sqrt(U*W*(O-W)/O)*(V-O/2<0?-1:1);Zw(l,i,c,Math.max(f,Math.floor(c-V*W/O+te)),Math.min(g,Math.floor(c+(O-V)*W/O+te)),x)}const S=i[2*c+x];let A=f,D=g;for(nf(l,i,f,c),i[2*g+x]>S&&nf(l,i,f,g);A<D;){for(nf(l,i,A,D),A++,D--;i[2*A+x]<S;)A++;for(;i[2*D+x]>S;)D--}i[2*f+x]===S?nf(l,i,f,D):(D++,nf(l,i,D,g)),D<=c&&(f=D+1),c<=D&&(g=D-1)}}function nf(l,i,c,f){Jy(l,c,f),Jy(i,2*c,2*f),Jy(i,2*c+1,2*f+1)}function Jy(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}function Kw(l,i,c,f){const g=l-c,x=i-f;return g*g+x*x}var Qy;o.bh=void 0,(Qy=o.bh||(o.bh={})).create="create",Qy.load="load",Qy.fullLoad="fullLoad";let Rp=null,rf=[];const e_=1e3/60,t_="loadTime",n_="fullLoadTime",TL={mark(l){performance.mark(l)},frame(l){const i=l;Rp!=null&&rf.push(i-Rp),Rp=i},clearMetrics(){Rp=null,rf=[],performance.clearMeasures(t_),performance.clearMeasures(n_);for(const l in o.bh)performance.clearMarks(o.bh[l])},getPerformanceMetrics(){performance.measure(t_,o.bh.create,o.bh.load),performance.measure(n_,o.bh.create,o.bh.fullLoad);const l=performance.getEntriesByName(t_)[0].duration,i=performance.getEntriesByName(n_)[0].duration,c=rf.length,f=1/(rf.reduce((x,S)=>x+S,0)/c/1e3),g=rf.filter(x=>x>e_).reduce((x,S)=>x+(S-e_)/e_,0);return{loadTime:l,fullLoadTime:i,fps:f,percentDroppedFrames:g/(c+g)*100,totalFrames:c}}};o.$=function(l,i,c){var f,g,x,S,A,D,O,V,U,W,te,ie,ue=c[0],_e=c[1],we=c[2];return i===l?(l[12]=i[0]*ue+i[4]*_e+i[8]*we+i[12],l[13]=i[1]*ue+i[5]*_e+i[9]*we+i[13],l[14]=i[2]*ue+i[6]*_e+i[10]*we+i[14],l[15]=i[3]*ue+i[7]*_e+i[11]*we+i[15]):(g=i[1],x=i[2],S=i[3],A=i[4],D=i[5],O=i[6],V=i[7],U=i[8],W=i[9],te=i[10],ie=i[11],l[0]=f=i[0],l[1]=g,l[2]=x,l[3]=S,l[4]=A,l[5]=D,l[6]=O,l[7]=V,l[8]=U,l[9]=W,l[10]=te,l[11]=ie,l[12]=f*ue+A*_e+U*we+i[12],l[13]=g*ue+D*_e+W*we+i[13],l[14]=x*ue+O*_e+te*we+i[14],l[15]=S*ue+V*_e+ie*we+i[15]),l},o.A=Zu,o.B=pa,o.C=class{constructor(l,i,c){this.receive=f=>{const g=f.data,x=g.id;if(x&&(!g.targetMapId||this.mapId===g.targetMapId))if(g.type==="<cancel>"){delete this.tasks[x];const S=this.cancelCallbacks[x];delete this.cancelCallbacks[x],S&&S()}else qe()||g.mustQueue?(this.tasks[x]=g,this.taskQueue.push(x),this.invoker.trigger()):this.processTask(x,g)},this.process=()=>{if(!this.taskQueue.length)return;const f=this.taskQueue.shift(),g=this.tasks[f];delete this.tasks[f],this.taskQueue.length&&this.invoker.trigger(),g&&this.processTask(f,g)},this.target=l,this.parent=i,this.mapId=c,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new gL(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=qe()?l:window}send(l,i,c,f,g=!1){const x=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(this.callbacks[x]=c);const S=[],A={id:x,type:l,hasCallback:!!c,targetMapId:f,mustQueue:g,sourceMapId:this.mapId,data:fo(i,S)};return this.target.postMessage(A,{transfer:S}),{cancel:()=>{c&&delete this.callbacks[x],this.target.postMessage({id:x,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}processTask(l,i){if(i.type==="<response>"){const c=this.callbacks[l];delete this.callbacks[l],c&&(i.error?c(Rl(i.error)):c(null,Rl(i.data)))}else{let c=!1;const f=[],g=i.hasCallback?(A,D)=>{c=!0,delete this.cancelCallbacks[l];const O={id:l,type:"<response>",sourceMapId:this.mapId,error:A?fo(A):null,data:fo(D,f)};this.target.postMessage(O,{transfer:f})}:A=>{c=!0};let x=null;const S=Rl(i.data);if(this.parent[i.type])x=this.parent[i.type](i.sourceMapId,S,g);else if("getWorkerSource"in this.parent){const A=i.type.split(".");x=this.parent.getWorkerSource(i.sourceMapId,A[0],S.source)[A[1]](S,g)}else g(new Error(`Could not find function ${i.type}`));!c&&x&&x.cancel&&(this.cancelCallbacks[l]=x.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},o.D=Qt,o.E=xt,o.F=function(l,i){const c={};for(let f=0;f<i.length;f++){const g=i[f];g in l&&(c[g]=l[g])}return c},o.G=kw,o.H=Cw,o.I=zy,o.J=q,o.K=K,o.L=$l,o.M=Je,o.N=ti,o.O=ja,o.P=k,o.Q=Ir,o.R=qa,o.S=_r,o.T=cp,o.U=Ip,o.V=class extends Go{},o.W=Wy,o.X=function(l,i){const c=window.document.createElement("video");c.muted=!0,c.onloadstart=function(){i(null,c)};for(let f=0;f<l.length;f++){const g=window.document.createElement("source");me(l[f])||(c.crossOrigin="Anonymous"),g.src=l[f],c.appendChild(g)}return{cancel:()=>{}}},o.Y=gt,o.Z=function(){var l=new Zu(16);return Zu!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},o._=p,o.a=Le,o.a$=class extends J{},o.a0=function(l,i,c){var f=c[0],g=c[1],x=c[2];return l[0]=i[0]*f,l[1]=i[1]*f,l[2]=i[2]*f,l[3]=i[3]*f,l[4]=i[4]*g,l[5]=i[5]*g,l[6]=i[6]*g,l[7]=i[7]*g,l[8]=i[8]*x,l[9]=i[9]*x,l[10]=i[10]*x,l[11]=i[11]*x,l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.a1=I1,o.a2=function(){return j++},o.a3=ge,o.a4=td,o.a5=function(){ya.isLoading()||ya.isLoaded()||Dh()!=="deferred"||lp()},o.a6=bh,o.a7=Lc,o.a8=yr,o.a9=Mw,o.aA=Ac,o.aB=function(l){l=l.slice();const i=Object.create(null);for(let c=0;c<l.length;c++)i[l[c].id]=l[c];for(let c=0;c<l.length;c++)"ref"in l[c]&&(l[c]=Qe(l[c],i[l[c].ref]));return l},o.aC=function(l){if(l.type==="custom")return new pL(l);switch(l.type){case"background":return new hL(l);case"circle":return new XD(l);case"fill":return new vM(l);case"fill-extrusion":return new MM(l);case"heatmap":return new QD(l);case"hillshade":return new tM(l);case"line":return new NM(l);case"raster":return new mL(l);case"symbol":return new Ep(l)}},o.aD=ne,o.aE=function(l,i){if(!l)return[{command:Et.setStyle,args:[i]}];let c=[];try{if(!lt(l.version,i.version))return[{command:Et.setStyle,args:[i]}];lt(l.center,i.center)||c.push({command:Et.setCenter,args:[i.center]}),lt(l.zoom,i.zoom)||c.push({command:Et.setZoom,args:[i.zoom]}),lt(l.bearing,i.bearing)||c.push({command:Et.setBearing,args:[i.bearing]}),lt(l.pitch,i.pitch)||c.push({command:Et.setPitch,args:[i.pitch]}),lt(l.sprite,i.sprite)||c.push({command:Et.setSprite,args:[i.sprite]}),lt(l.glyphs,i.glyphs)||c.push({command:Et.setGlyphs,args:[i.glyphs]}),lt(l.transition,i.transition)||c.push({command:Et.setTransition,args:[i.transition]}),lt(l.light,i.light)||c.push({command:Et.setLight,args:[i.light]});const f={},g=[];(function(S,A,D,O){let V;for(V in A=A||{},S=S||{})Object.prototype.hasOwnProperty.call(S,V)&&(Object.prototype.hasOwnProperty.call(A,V)||an(V,D,O));for(V in A)Object.prototype.hasOwnProperty.call(A,V)&&(Object.prototype.hasOwnProperty.call(S,V)?lt(S[V],A[V])||(S[V].type==="geojson"&&A[V].type==="geojson"&&An(S,A,V)?D.push({command:Et.setGeoJSONSourceData,args:[V,A[V].data]}):ln(V,A,D,O)):It(V,A,D))})(l.sources,i.sources,g,f);const x=[];l.layers&&l.layers.forEach(S=>{f[S.source]?c.push({command:Et.removeLayer,args:[S.id]}):x.push(S)}),c=c.concat(g),function(S,A,D){A=A||[];const O=(S=S||[]).map(Nn),V=A.map(Nn),U=S.reduce(ur,{}),W=A.reduce(ur,{}),te=O.slice(),ie=Object.create(null);let ue,_e,we,Oe,Te,ze,Ge;for(ue=0,_e=0;ue<O.length;ue++)we=O[ue],Object.prototype.hasOwnProperty.call(W,we)?_e++:(D.push({command:Et.removeLayer,args:[we]}),te.splice(te.indexOf(we,_e),1));for(ue=0,_e=0;ue<V.length;ue++)we=V[V.length-1-ue],te[te.length-1-ue]!==we&&(Object.prototype.hasOwnProperty.call(U,we)?(D.push({command:Et.removeLayer,args:[we]}),te.splice(te.lastIndexOf(we,te.length-_e),1)):_e++,ze=te[te.length-ue],D.push({command:Et.addLayer,args:[W[we],ze]}),te.splice(te.length-ue,0,we),ie[we]=!0);for(ue=0;ue<V.length;ue++)if(we=V[ue],Oe=U[we],Te=W[we],!ie[we]&&!lt(Oe,Te))if(lt(Oe.source,Te.source)&&lt(Oe["source-layer"],Te["source-layer"])&&lt(Oe.type,Te.type)){for(Ge in In(Oe.layout,Te.layout,D,we,null,Et.setLayoutProperty),In(Oe.paint,Te.paint,D,we,null,Et.setPaintProperty),lt(Oe.filter,Te.filter)||D.push({command:Et.setFilter,args:[we,Te.filter]}),lt(Oe.minzoom,Te.minzoom)&&lt(Oe.maxzoom,Te.maxzoom)||D.push({command:Et.setLayerZoomRange,args:[we,Te.minzoom,Te.maxzoom]}),Oe)Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?In(Oe[Ge],Te[Ge],D,we,Ge.slice(6),Et.setPaintProperty):lt(Oe[Ge],Te[Ge])||D.push({command:Et.setLayerProperty,args:[we,Ge,Te[Ge]]}));for(Ge in Te)Object.prototype.hasOwnProperty.call(Te,Ge)&&!Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?In(Oe[Ge],Te[Ge],D,we,Ge.slice(6),Et.setPaintProperty):lt(Oe[Ge],Te[Ge])||D.push({command:Et.setLayerProperty,args:[we,Ge,Te[Ge]]}))}else D.push({command:Et.removeLayer,args:[we]}),ze=te[te.lastIndexOf(we)+1],D.push({command:Et.addLayer,args:[Te,ze]})}(x,i.layers,c)}catch(f){console.warn("Unable to compute style diff:",f),c=[{command:Et.setStyle,args:[i]}]}return c},o.aF=function(l){const i=[],c=l.id;return c===void 0&&i.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&i.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&i.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),i},o.aG=function l(i,c){if(Array.isArray(i)){if(!Array.isArray(c)||i.length!==c.length)return!1;for(let f=0;f<i.length;f++)if(!l(i[f],c[f]))return!1;return!0}if(typeof i=="object"&&i!==null&&c!==null){if(typeof c!="object"||Object.keys(i).length!==Object.keys(c).length)return!1;for(const f in i)if(!l(i[f],c[f]))return!1;return!0}return i===c},o.aH=Z,o.aI=le,o.aJ=Ec,o.aK=function(l){return l({pluginStatus:Ji,pluginURL:mo}),Ec.on("pluginStateChange",l),l},o.aL=class extends Zo{constructor(l,i){super(l,i),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},o.aM=Wu,o.aN=class extends Zo{constructor(l,i){super(l,i),this.current=py}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let i=1;i<16;i++)if(l[i]!==this.current[i]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},o.aO=fp,o.aP=class extends Zo{constructor(l,i){super(l,i),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},o.aQ=class extends Zo{constructor(l,i){super(l,i),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},o.aR=mp,o.aS=function(l,i,c,f,g,x,S){var A=1/(i-c),D=1/(f-g),O=1/(x-S);return l[0]=-2*A,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*D,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*O,l[11]=0,l[12]=(i+c)*A,l[13]=(g+f)*D,l[14]=(S+x)*O,l[15]=1,l},o.aT=er,o.aU=KD,o.aV=class extends m{},o.aW=jM,o.aX=class extends w{},o.aY=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},o.aZ=R1,o.a_=At,o.aa=function(l){const i={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,f,g,x)=>{const S=g||x;return i[f]=!S||S.toLowerCase(),""}),i["max-age"]){const c=parseInt(i["max-age"],10);isNaN(c)?delete i["max-age"]:i["max-age"]=c}return i},o.ab=function(l,i){const c=[];for(const f in l)f in i||c.push(f);return c},o.ac=function(l){if(ke==null){const i=l.navigator?l.navigator.userAgent:null;ke=!!l.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return ke},o.ad=ee,o.ae=function(l,i,c){var f=Math.sin(c),g=Math.cos(c),x=i[0],S=i[1],A=i[2],D=i[3],O=i[4],V=i[5],U=i[6],W=i[7];return i!==l&&(l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[0]=x*g+O*f,l[1]=S*g+V*f,l[2]=A*g+U*f,l[3]=D*g+W*f,l[4]=O*g-x*f,l[5]=V*g-S*f,l[6]=U*g-A*f,l[7]=W*g-D*f,l},o.af=function(l){var i=new Zu(16);return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i},o.ag=yp,o.ah=function(l,i){let c=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:g,minZoom:x,maxZoom:S}=l,A=g?ee(ga.interpolationFactor(g,i,x,S),0,1):0;l.kind==="camera"?f=pa.number(l.minSize,l.maxSize,A):c=A}return{uSizeT:c,uSize:f}},o.aj=function(l,{uSize:i,uSizeT:c},{lowerSize:f,upperSize:g}){return l.kind==="source"?f/go:l.kind==="composite"?pa.number(f/go,g/go,c):i},o.ak=$y,o.al=function(l,i,c,f){const g=i.y-l.y,x=i.x-l.x,S=f.y-c.y,A=f.x-c.x,D=S*x-A*g;if(D===0)return null;const O=(A*(l.y-c.y)-S*(l.x-c.x))/D;return new k(l.x+O*x,l.y+O*g)},o.am=Fw,o.an=S1,o.ao=by,o.ap=di,o.ar=Ny,o.as=function(l,i){var c=i[0],f=i[1],g=i[2],x=i[3],S=i[4],A=i[5],D=i[6],O=i[7],V=i[8],U=i[9],W=i[10],te=i[11],ie=i[12],ue=i[13],_e=i[14],we=i[15],Oe=c*A-f*S,Te=c*D-g*S,ze=c*O-x*S,Ge=f*D-g*A,at=f*O-x*A,Nt=g*O-x*D,Zt=V*ue-U*ie,Bt=V*_e-W*ie,Ft=V*we-te*ie,Pt=U*_e-W*ue,qt=U*we-te*ue,Dt=W*we-te*_e,wt=Oe*Dt-Te*qt+ze*Pt+Ge*Ft-at*Bt+Nt*Zt;return wt?(l[0]=(A*Dt-D*qt+O*Pt)*(wt=1/wt),l[1]=(g*qt-f*Dt-x*Pt)*wt,l[2]=(ue*Nt-_e*at+we*Ge)*wt,l[3]=(W*at-U*Nt-te*Ge)*wt,l[4]=(D*Ft-S*Dt-O*Bt)*wt,l[5]=(c*Dt-g*Ft+x*Bt)*wt,l[6]=(_e*ze-ie*Nt-we*Te)*wt,l[7]=(V*Nt-W*ze+te*Te)*wt,l[8]=(S*qt-A*Ft+O*Zt)*wt,l[9]=(f*Ft-c*qt-x*Zt)*wt,l[10]=(ie*at-ue*ze+we*Oe)*wt,l[11]=(U*ze-V*at-te*Oe)*wt,l[12]=(A*Bt-S*Pt-D*Zt)*wt,l[13]=(c*Pt-f*Bt+g*Zt)*wt,l[14]=(ue*Te-ie*Ge-_e*Oe)*wt,l[15]=(V*Ge-U*Te+W*Oe)*wt,l):null},o.at=Zy,o.au=Vy,o.av=Ky,o.aw=function(){const l={},i=Ce.$version;for(const c in Ce.$root){const f=Ce.$root[c];if(f.required){let g=null;g=c==="version"?i:f.type==="array"?[]:{},g!=null&&(l[c]=g)}}return l},o.ax=Et,o.ay=ip,o.az=He,o.b=function(l,i){const c=new Blob([new Uint8Array(l)],{type:"image/png"});createImageBitmap(c).then(f=>{i(null,f)}).catch(f=>{i(new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},o.b0=Ci,o.b1=function(l,i){var c=l[0],f=l[1],g=l[2],x=l[3],S=l[4],A=l[5],D=l[6],O=l[7],V=l[8],U=l[9],W=l[10],te=l[11],ie=l[12],ue=l[13],_e=l[14],we=l[15],Oe=i[0],Te=i[1],ze=i[2],Ge=i[3],at=i[4],Nt=i[5],Zt=i[6],Bt=i[7],Ft=i[8],Pt=i[9],qt=i[10],Dt=i[11],wt=i[12],nn=i[13],Jt=i[14],Cn=i[15];return Math.abs(c-Oe)<=ea*Math.max(1,Math.abs(c),Math.abs(Oe))&&Math.abs(f-Te)<=ea*Math.max(1,Math.abs(f),Math.abs(Te))&&Math.abs(g-ze)<=ea*Math.max(1,Math.abs(g),Math.abs(ze))&&Math.abs(x-Ge)<=ea*Math.max(1,Math.abs(x),Math.abs(Ge))&&Math.abs(S-at)<=ea*Math.max(1,Math.abs(S),Math.abs(at))&&Math.abs(A-Nt)<=ea*Math.max(1,Math.abs(A),Math.abs(Nt))&&Math.abs(D-Zt)<=ea*Math.max(1,Math.abs(D),Math.abs(Zt))&&Math.abs(O-Bt)<=ea*Math.max(1,Math.abs(O),Math.abs(Bt))&&Math.abs(V-Ft)<=ea*Math.max(1,Math.abs(V),Math.abs(Ft))&&Math.abs(U-Pt)<=ea*Math.max(1,Math.abs(U),Math.abs(Pt))&&Math.abs(W-qt)<=ea*Math.max(1,Math.abs(W),Math.abs(qt))&&Math.abs(te-Dt)<=ea*Math.max(1,Math.abs(te),Math.abs(Dt))&&Math.abs(ie-wt)<=ea*Math.max(1,Math.abs(ie),Math.abs(wt))&&Math.abs(ue-nn)<=ea*Math.max(1,Math.abs(ue),Math.abs(nn))&&Math.abs(_e-Jt)<=ea*Math.max(1,Math.abs(_e),Math.abs(Jt))&&Math.abs(we-Cn)<=ea*Math.max(1,Math.abs(we),Math.abs(Cn))},o.b2=function(l,i){return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.b3=function(l,i,c){return l[0]=i[0]*c[0],l[1]=i[1]*c[1],l[2]=i[2]*c[2],l[3]=i[3]*c[3],l},o.b4=function(l,i){return l[0]*i[0]+l[1]*i[1]+l[2]*i[2]+l[3]*i[3]},o.b5=re,o.b6=Iw,o.b7=Tw,o.b8=function(l,i,c,f,g){var x,S=1/Math.tan(i/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,g!=null&&g!==1/0?(l[10]=(g+f)*(x=1/(f-g)),l[14]=2*g*f*x):(l[10]=-1,l[14]=-2*f),l},o.b9=function(l,i,c){var f=Math.sin(c),g=Math.cos(c),x=i[4],S=i[5],A=i[6],D=i[7],O=i[8],V=i[9],U=i[10],W=i[11];return i!==l&&(l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[4]=x*g+O*f,l[5]=S*g+V*f,l[6]=A*g+U*f,l[7]=D*g+W*f,l[8]=O*g-x*f,l[9]=V*g-S*f,l[10]=U*g-A*f,l[11]=W*g-D*f,l},o.bA=b,o.bB=tw,o.bC=Fu,o.bD=ya,o.ba=se,o.bb=Q,o.bc=function(l,i){return l[0]=i[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=i[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=i[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},o.bd=class extends Dc{},o.be=Hy,o.bf=Aw,o.bg=TL,o.bi=st,o.bj=function(l,i,c=!1){if(Ji===Th||Ji===Ah||Ji===Eh)throw new Error("setRTLTextPlugin cannot be called multiple times.");mo=Tt.resolveURL(l),Ji=Th,Ih=i,Ph(),c||lp()},o.bk=Dh,o.bl=function(l,i){const c={};for(let g=0;g<l.length;g++){const x=i&&i[l[g].id]||Nu(l[g]);i&&(i[l[g].id]=x);let S=c[x];S||(S=c[x]=[]),S.push(l[g])}const f=[];for(const g in c)f.push(c[g]);return f},o.bm=Ut,o.bn=Dw,o.bo=Lw,o.bp=uw,o.bq=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=ti/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const i=l.bucket.layers[0],c=i.layout,f=i._unevaluatedLayout._values,g={layoutIconSize:f["icon-size"].possiblyEvaluate(new yr(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new yr(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new yr(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:O,maxZoom:V}=l.bucket.textSizeData;g.compositeTextSizes=[f["text-size"].possiblyEvaluate(new yr(O),l.canonical),f["text-size"].possiblyEvaluate(new yr(V),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:O,maxZoom:V}=l.bucket.iconSizeData;g.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new yr(O),l.canonical),f["icon-size"].possiblyEvaluate(new yr(V),l.canonical)]}const x=c.get("text-line-height")*di,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",A=c.get("text-keep-upright"),D=c.get("text-size");for(const O of l.bucket.features){const V=c.get("text-font").evaluate(O,{},l.canonical).join(","),U=D.evaluate(O,{},l.canonical),W=g.layoutTextSize.evaluate(O,{},l.canonical),te=g.layoutIconSize.evaluate(O,{},l.canonical),ie={horizontal:{},vertical:void 0},ue=O.text;let _e,we=[0,0];if(ue){const ze=ue.toString(),Ge=c.get("text-letter-spacing").evaluate(O,{},l.canonical)*di,at=kh(ze)?Ge:0,Nt=c.get("text-anchor").evaluate(O,{},l.canonical),Zt=Hw(i,O,l.canonical);if(!Zt){const Dt=c.get("text-radial-offset").evaluate(O,{},l.canonical);we=Dt?jw(Nt,[Dt*di,Yy]):c.get("text-offset").evaluate(O,{},l.canonical).map(wt=>wt*di)}let Bt=S?"center":c.get("text-justify").evaluate(O,{},l.canonical);const Ft=c.get("symbol-placement"),Pt=Ft==="point"?c.get("text-max-width").evaluate(O,{},l.canonical)*di:0,qt=()=>{l.bucket.allowVerticalPlacement&&Sh(ze)&&(ie.vertical=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Pt,x,Nt,"left",at,we,o.ai.vertical,!0,Ft,W,U))};if(!S&&Zt){const Dt=new Set;if(Bt==="auto")for(let nn=0;nn<Zt.values.length;nn+=2)Dt.add(Zy(Zt.values[nn]));else Dt.add(Bt);let wt=!1;for(const nn of Dt)if(!ie.horizontal[nn])if(wt)ie.horizontal[nn]=ie.horizontal[0];else{const Jt=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Pt,x,"center",nn,at,we,o.ai.horizontal,!1,Ft,W,U);Jt&&(ie.horizontal[nn]=Jt,wt=Jt.positionedLines.length===1)}qt()}else{Bt==="auto"&&(Bt=Zy(Nt));const Dt=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Pt,x,Nt,Bt,at,we,o.ai.horizontal,!1,Ft,W,U);Dt&&(ie.horizontal[Bt]=Dt),qt(),Sh(ze)&&S&&A&&(ie.vertical=Cp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Pt,x,Nt,Bt,at,we,o.ai.vertical,!1,Ft,W,U))}}let Oe=!1;if(O.icon&&O.icon.name){const ze=l.imageMap[O.icon.name];ze&&(_e=oL(l.imagePositions[O.icon.name],c.get("icon-offset").evaluate(O,{},l.canonical),c.get("icon-anchor").evaluate(O,{},l.canonical)),Oe=!!ze.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Oe:l.bucket.sdfIcons!==Oe&&fe("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(ze.pixelRatio!==l.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const Te=Ww(ie.horizontal)||ie.vertical;l.bucket.iconsInText=!!Te&&Te.iconsInText,(Te||_e)&&kL(l.bucket,O,ie,_e,l.imageMap,g,W,te,we,Oe,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},o.br=Ly,o.bs=Py,o.bt=My,o.bu=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},o.bv=Oy,o.bw=Bl,o.bx=function(l,i,c,f,g){return p(this,void 0,void 0,function*(){if(K())try{return yield Je(l,i,c,f,g)}catch{}return function(x,S,A,D,O){const V=x.width,U=x.height;Ue&&ct||(Ue=new OffscreenCanvas(V,U),ct=Ue.getContext("2d",{willReadFrequently:!0})),Ue.width=V,Ue.height=U,ct.drawImage(x,0,0,V,U);const W=ct.getImageData(S,A,D,O);return ct.clearRect(0,0,V,U),W.data}(l,i,c,f,g)})},o.by=Pw,o.bz=y,o.c=Ne,o.d=function(l,i){const c=new Image;c.onload=()=>{i(null,c),URL.revokeObjectURL(c.src),c.onload=null,window.requestAnimationFrame(()=>{c.src=Ve})},c.onerror=()=>i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const f=new Blob([new Uint8Array(l)],{type:"image/png"});c.src=l.byteLength?URL.createObjectURL(f):Ve},o.e=H,o.f=function(l,i){return $t(H(l,{type:"json"}),i)},o.g=$e,o.h=Tt,o.i=qe,o.j=pt,o.k=Xe,o.l=ae,o.m=$t,o.n=function(l){return new Oy(l).readFields(tL,[])},o.o=function(l,i,c){if(!l.length)return c(null,[]);let f=l.length;const g=new Array(l.length);let x=null;l.forEach((S,A)=>{i(S,(D,O)=>{D&&(x=D),g[A]=O,--f==0&&c(x,g)})})},o.p=cw,o.q=jh,o.r=Yr,o.s=me,o.t=dy,o.u=Vt,o.v=Ce,o.w=fe,o.x=qu,o.y=Rs,o.z=function([l,i,c]){return i+=90,i*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(i)*Math.sin(c),y:l*Math.sin(i)*Math.sin(c),z:l*Math.cos(c)}}}),u(["./shared"],function(o){class p{constructor(G){this.keyCache={},G&&this.replace(G)}replace(G){this._layerConfigs={},this._layers={},this.update(G,[])}update(G,X){for(const ye of G){this._layerConfigs[ye.id]=ye;const be=this._layers[ye.id]=o.aC(ye);be._featureFilter=o.a6(be.filter),this.keyCache[ye.id]&&delete this.keyCache[ye.id]}for(const ye of X)delete this.keyCache[ye],delete this._layerConfigs[ye],delete this._layers[ye];this.familiesBySource={};const oe=o.bl(Object.values(this._layerConfigs),this.keyCache);for(const ye of oe){const be=ye.map(nt=>this._layers[nt.id]),Fe=be[0];if(Fe.visibility==="none")continue;const Ee=Fe.source||"";let Se=this.familiesBySource[Ee];Se||(Se=this.familiesBySource[Ee]={});const Re=Fe.sourceLayer||"_geojsonTileLayer";let et=Se[Re];et||(et=Se[Re]=[]),et.push(be)}}}class y{constructor(G){const X={},oe=[];for(const Ee in G){const Se=G[Ee],Re=X[Ee]={};for(const et in Se){const nt=Se[+et];if(!nt||nt.bitmap.width===0||nt.bitmap.height===0)continue;const ut={x:0,y:0,w:nt.bitmap.width+2,h:nt.bitmap.height+2};oe.push(ut),Re[et]={rect:ut,metrics:nt.metrics}}}const{w:ye,h:be}=o.p(oe),Fe=new o.q({width:ye||1,height:be||1});for(const Ee in G){const Se=G[Ee];for(const Re in Se){const et=Se[+Re];if(!et||et.bitmap.width===0||et.bitmap.height===0)continue;const nt=X[Ee][Re].rect;o.q.copy(et.bitmap,Fe,{x:0,y:0},{x:nt.x+1,y:nt.y+1},et.bitmap)}}this.image=Fe,this.positions=X}}o.bm("GlyphAtlas",y);class b{constructor(G){this.tileID=new o.O(G.tileID.overscaledZ,G.tileID.wrap,G.tileID.canonical.z,G.tileID.canonical.x,G.tileID.canonical.y),this.uid=G.uid,this.zoom=G.zoom,this.pixelRatio=G.pixelRatio,this.tileSize=G.tileSize,this.source=G.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=G.showCollisionBoxes,this.collectResourceTiming=!!G.collectResourceTiming,this.returnDependencies=!!G.returnDependencies,this.promoteId=G.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(G,X,oe,ye,be){this.status="parsing",this.data=G,this.collisionBoxArray=new o.a3;const Fe=new o.bn(Object.keys(G.layers).sort()),Ee=new o.bo(this.tileID,this.promoteId);Ee.bucketLayerIDs=[];const Se={},Re={featureIndex:Ee,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:oe},et=X.familiesBySource[this.source];for(const $n in et){const Bn=G.layers[$n];if(!Bn)continue;Bn.version===1&&o.w(`Vector tile source "${this.source}" layer "${$n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Di=Fe.encode($n),hr=[];for(let ei=0;ei<Bn.length;ei++){const Si=Bn.feature(ei),Aa=Ee.getId(Si,$n);hr.push({feature:Si,id:Aa,index:ei,sourceLayerIndex:Di})}for(const ei of et[$n]){const Si=ei[0];Si.source!==this.source&&o.w(`layer.source = ${Si.source} does not equal this.source = ${this.source}`),Si.minzoom&&this.zoom<Math.floor(Si.minzoom)||Si.maxzoom&&this.zoom>=Si.maxzoom||Si.visibility!=="none"&&(C(ei,this.zoom,oe),(Se[Si.id]=Si.createBucket({index:Ee.bucketLayerIDs.length,layers:ei,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Di,sourceID:this.source})).populate(hr,Re,this.tileID.canonical),Ee.bucketLayerIDs.push(ei.map(Aa=>Aa.id)))}}let nt,ut,tn,un;const Wt=o.aH(Re.glyphDependencies,$n=>Object.keys($n).map(Number));this.inFlightDependencies.forEach($n=>$n==null?void 0:$n.cancel()),this.inFlightDependencies=[];const rn=++this.dependencySentinel;Object.keys(Wt).length?this.inFlightDependencies.push(ye.send("getGlyphs",{uid:this.uid,stacks:Wt,source:this.source,tileID:this.tileID,type:"glyphs"},($n,Bn)=>{rn===this.dependencySentinel&&(nt||(nt=$n,ut=Bn,sr.call(this)))})):ut={};const pn=Object.keys(Re.iconDependencies);pn.length?this.inFlightDependencies.push(ye.send("getImages",{icons:pn,source:this.source,tileID:this.tileID,type:"icons"},($n,Bn)=>{rn===this.dependencySentinel&&(nt||(nt=$n,tn=Bn,sr.call(this)))})):tn={};const Zn=Object.keys(Re.patternDependencies);function sr(){if(nt)return be(nt);if(ut&&tn&&un){const $n=new y(ut),Bn=new o.bp(tn,un);for(const Di in Se){const hr=Se[Di];hr instanceof o.a4?(C(hr.layers,this.zoom,oe),o.bq({bucket:hr,glyphMap:ut,glyphPositions:$n.positions,imageMap:tn,imagePositions:Bn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):hr.hasPattern&&(hr instanceof o.br||hr instanceof o.bs||hr instanceof o.bt)&&(C(hr.layers,this.zoom,oe),hr.addFeatures(Re,this.tileID.canonical,Bn.patternPositions))}this.status="done",be(null,{buckets:Object.values(Se).filter(Di=>!Di.isEmpty()),featureIndex:Ee,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:$n.image,imageAtlas:Bn,glyphMap:this.returnDependencies?ut:null,iconMap:this.returnDependencies?tn:null,glyphPositions:this.returnDependencies?$n.positions:null})}}Zn.length?this.inFlightDependencies.push(ye.send("getImages",{icons:Zn,source:this.source,tileID:this.tileID,type:"patterns"},($n,Bn)=>{rn===this.dependencySentinel&&(nt||(nt=$n,un=Bn,sr.call(this)))})):un={},sr.call(this)}}function C(pe,G,X){const oe=new o.a8(G);for(const ye of pe)ye.recalculate(oe,X)}function k(pe,G){const X=o.l(pe.request,(oe,ye,be,Fe)=>{if(oe)G(oe);else if(ye)try{const Ee=new o.bw.VectorTile(new o.bv(ye));G(null,{vectorTile:Ee,rawData:ye,cacheControl:be,expires:Fe})}catch(Ee){const Se=new Uint8Array(ye);let Re=`Unable to parse the tile at ${pe.request.url}, `;Re+=Se[0]===31&&Se[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ee.messge}`,G(new Error(Re))}});return()=>{X.cancel(),G()}}class I{constructor(G,X,oe,ye){this.actor=G,this.layerIndex=X,this.availableImages=oe,this.loadVectorData=ye||k,this.fetching={},this.loading={},this.loaded={}}loadTile(G,X){const oe=G.uid;this.loading||(this.loading={});const ye=!!(G&&G.request&&G.request.collectResourceTiming)&&new o.bu(G.request),be=this.loading[oe]=new b(G);be.abort=this.loadVectorData(G,(Fe,Ee)=>{if(delete this.loading[oe],Fe||!Ee)return be.status="done",this.loaded[oe]=be,X(Fe);const Se=Ee.rawData,Re={};Ee.expires&&(Re.expires=Ee.expires),Ee.cacheControl&&(Re.cacheControl=Ee.cacheControl);const et={};if(ye){const nt=ye.finish();nt&&(et.resourceTiming=JSON.parse(JSON.stringify(nt)))}be.vectorTile=Ee.vectorTile,be.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor,(nt,ut)=>{if(delete this.fetching[oe],nt||!ut)return X(nt);X(null,o.e({rawTileData:Se.slice(0)},ut,Re,et))}),this.loaded=this.loaded||{},this.loaded[oe]=be,this.fetching[oe]={rawTileData:Se,cacheControl:Re,resourceTiming:et}})}reloadTile(G,X){const oe=this.loaded,ye=G.uid;if(oe&&oe[ye]){const be=oe[ye];be.showCollisionBoxes=G.showCollisionBoxes,be.status==="parsing"?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,(Fe,Ee)=>{if(Fe||!Ee)return X(Fe,Ee);let Se;if(this.fetching[ye]){const{rawTileData:Re,cacheControl:et,resourceTiming:nt}=this.fetching[ye];delete this.fetching[ye],Se=o.e({rawTileData:Re.slice(0)},Ee,et,nt)}else Se=Ee;X(null,Se)}):be.status==="done"&&(be.vectorTile?be.parse(be.vectorTile,this.layerIndex,this.availableImages,this.actor,X):X())}}abortTile(G,X){const oe=this.loading,ye=G.uid;oe&&oe[ye]&&oe[ye].abort&&(oe[ye].abort(),delete oe[ye]),X()}removeTile(G,X){const oe=this.loaded,ye=G.uid;oe&&oe[ye]&&delete oe[ye],X()}}class R{constructor(){this.loaded={}}loadTile(G,X){return o._(this,void 0,void 0,function*(){const{uid:oe,encoding:ye,rawImageData:be,redFactor:Fe,greenFactor:Ee,blueFactor:Se,baseShift:Re}=G,et=be.width+2,nt=be.height+2,ut=o.a(be)?new o.R({width:et,height:nt},yield o.bx(be,-1,-1,et,nt)):be,tn=new o.by(oe,ut,ye,Fe,Ee,Se,Re);this.loaded=this.loaded||{},this.loaded[oe]=tn,X(null,tn)})}removeTile(G){const X=this.loaded,oe=G.uid;X&&X[oe]&&delete X[oe]}}function L(pe,G){if(pe.length!==0){F(pe[0],G);for(var X=1;X<pe.length;X++)F(pe[X],!G)}}function F(pe,G){for(var X=0,oe=0,ye=0,be=pe.length,Fe=be-1;ye<be;Fe=ye++){var Ee=(pe[ye][0]-pe[Fe][0])*(pe[Fe][1]+pe[ye][1]),Se=X+Ee;oe+=Math.abs(X)>=Math.abs(Ee)?X-Se+Ee:Ee-Se+X,X=Se}X+oe>=0!=!!G&&pe.reverse()}var B=o.bz(function pe(G,X){var oe,ye=G&&G.type;if(ye==="FeatureCollection")for(oe=0;oe<G.features.length;oe++)pe(G.features[oe],X);else if(ye==="GeometryCollection")for(oe=0;oe<G.geometries.length;oe++)pe(G.geometries[oe],X);else if(ye==="Feature")pe(G.geometry,X);else if(ye==="Polygon")L(G.coordinates,X);else if(ye==="MultiPolygon")for(oe=0;oe<G.coordinates.length;oe++)L(G.coordinates[oe],X);return G});const q=o.bw.VectorTileFeature.prototype.toGeoJSON;var K={exports:{}},se=o.bA,Q=o.bw.VectorTileFeature,ee=re;function re(pe,G){this.options=G||{},this.features=pe,this.length=pe.length}function H(pe,G){this.id=typeof pe.id=="number"?pe.id:void 0,this.type=pe.type,this.rawGeometry=pe.type===1?[pe.geometry]:pe.geometry,this.properties=pe.tags,this.extent=G||4096}re.prototype.feature=function(pe){return new H(this.features[pe],this.options.extent)},H.prototype.loadGeometry=function(){var pe=this.rawGeometry;this.geometry=[];for(var G=0;G<pe.length;G++){for(var X=pe[G],oe=[],ye=0;ye<X.length;ye++)oe.push(new se(X[ye][0],X[ye][1]));this.geometry.push(oe)}return this.geometry},H.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pe=this.geometry,G=1/0,X=-1/0,oe=1/0,ye=-1/0,be=0;be<pe.length;be++)for(var Fe=pe[be],Ee=0;Ee<Fe.length;Ee++){var Se=Fe[Ee];G=Math.min(G,Se.x),X=Math.max(X,Se.x),oe=Math.min(oe,Se.y),ye=Math.max(ye,Se.y)}return[G,oe,X,ye]},H.prototype.toGeoJSON=Q.prototype.toGeoJSON;var j=o.bB,Z=ee;function le(pe){var G=new j;return function(X,oe){for(var ye in X.layers)oe.writeMessage(3,ne,X.layers[ye])}(pe,G),G.finish()}function ne(pe,G){var X;G.writeVarintField(15,pe.version||1),G.writeStringField(1,pe.name||""),G.writeVarintField(5,pe.extent||4096);var oe={keys:[],values:[],keycache:{},valuecache:{}};for(X=0;X<pe.length;X++)oe.feature=pe.feature(X),G.writeMessage(2,ve,oe);var ye=oe.keys;for(X=0;X<ye.length;X++)G.writeStringField(3,ye[X]);var be=oe.values;for(X=0;X<be.length;X++)G.writeMessage(4,ke,be[X])}function ve(pe,G){var X=pe.feature;X.id!==void 0&&G.writeVarintField(1,X.id),G.writeMessage(2,fe,pe),G.writeVarintField(3,X.type),G.writeMessage(4,qe,X)}function fe(pe,G){var X=pe.feature,oe=pe.keys,ye=pe.values,be=pe.keycache,Fe=pe.valuecache;for(var Ee in X.properties){var Se=X.properties[Ee],Re=be[Ee];if(Se!==null){Re===void 0&&(oe.push(Ee),be[Ee]=Re=oe.length-1),G.writeVarint(Re);var et=typeof Se;et!=="string"&&et!=="boolean"&&et!=="number"&&(Se=JSON.stringify(Se));var nt=et+":"+Se,ut=Fe[nt];ut===void 0&&(ye.push(Se),Fe[nt]=ut=ye.length-1),G.writeVarint(ut)}}}function Ie(pe,G){return(G<<3)+(7&pe)}function Ae(pe){return pe<<1^pe>>31}function qe(pe,G){for(var X=pe.loadGeometry(),oe=pe.type,ye=0,be=0,Fe=X.length,Ee=0;Ee<Fe;Ee++){var Se=X[Ee],Re=1;oe===1&&(Re=Se.length),G.writeVarint(Ie(1,Re));for(var et=oe===3?Se.length-1:Se.length,nt=0;nt<et;nt++){nt===1&&oe!==1&&G.writeVarint(Ie(2,et-1));var ut=Se[nt].x-ye,tn=Se[nt].y-be;G.writeVarint(Ae(ut)),G.writeVarint(Ae(tn)),ye+=ut,be+=tn}oe===3&&G.writeVarint(Ie(7,1))}}function ke(pe,G){var X=typeof pe;X==="string"?G.writeStringField(1,pe):X==="boolean"?G.writeBooleanField(7,pe):X==="number"&&(pe%1!=0?G.writeDoubleField(3,pe):pe<0?G.writeSVarintField(6,pe):G.writeVarintField(5,pe))}K.exports=le,K.exports.fromVectorTileJs=le,K.exports.fromGeojsonVt=function(pe,G){G=G||{};var X={};for(var oe in pe)X[oe]=new Z(pe[oe].features,G),X[oe].name=oe,X[oe].version=G.version,X[oe].extent=G.extent;return le({layers:X})},K.exports.GeoJSONWrapper=Z;var Le=o.bz(K.exports);const Ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:pe=>pe},Je=Math.fround||(Ue=new Float32Array(1),pe=>(Ue[0]=+pe,Ue[0]));var Ue;const ct=3,Lt=5,mt=6;class Tt{constructor(G){this.options=Object.assign(Object.create(Ve),G),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(G){const{log:X,minZoom:oe,maxZoom:ye}=this.options;X&&console.time("total time");const be=`prepare ${G.length} points`;X&&console.time(be),this.points=G;const Fe=[];for(let Se=0;Se<G.length;Se++){const Re=G[Se];if(!Re.geometry)continue;const[et,nt]=Re.geometry.coordinates,ut=Je(He(et)),tn=Je($e(nt));Fe.push(ut,tn,1/0,Se,-1,1),this.options.reduce&&Fe.push(0)}let Ee=this.trees[ye+1]=this._createTree(Fe);X&&console.timeEnd(be);for(let Se=ye;Se>=oe;Se--){const Re=+Date.now();Ee=this.trees[Se]=this._createTree(this._cluster(Ee,Se)),X&&console.log("z%d: %d clusters in %dms",Se,Ee.numItems,+Date.now()-Re)}return X&&console.timeEnd("total time"),this}getClusters(G,X){let oe=((G[0]+180)%360+360)%360-180;const ye=Math.max(-90,Math.min(90,G[1]));let be=G[2]===180?180:((G[2]+180)%360+360)%360-180;const Fe=Math.max(-90,Math.min(90,G[3]));if(G[2]-G[0]>=360)oe=-180,be=180;else if(oe>be){const nt=this.getClusters([oe,ye,180,Fe],X),ut=this.getClusters([-180,ye,be,Fe],X);return nt.concat(ut)}const Ee=this.trees[this._limitZoom(X)],Se=Ee.range(He(oe),$e(Fe),He(be),$e(ye)),Re=Ee.data,et=[];for(const nt of Se){const ut=this.stride*nt;et.push(Re[ut+Lt]>1?Ne(Re,ut,this.clusterProps):this.points[Re[ut+ct]])}return et}getChildren(G){const X=this._getOriginId(G),oe=this._getOriginZoom(G),ye="No cluster with the specified id.",be=this.trees[oe];if(!be)throw new Error(ye);const Fe=be.data;if(X*this.stride>=Fe.length)throw new Error(ye);const Ee=this.options.radius/(this.options.extent*Math.pow(2,oe-1)),Se=be.within(Fe[X*this.stride],Fe[X*this.stride+1],Ee),Re=[];for(const et of Se){const nt=et*this.stride;Fe[nt+4]===G&&Re.push(Fe[nt+Lt]>1?Ne(Fe,nt,this.clusterProps):this.points[Fe[nt+ct]])}if(Re.length===0)throw new Error(ye);return Re}getLeaves(G,X,oe){const ye=[];return this._appendLeaves(ye,G,X=X||10,oe=oe||0,0),ye}getTile(G,X,oe){const ye=this.trees[this._limitZoom(G)],be=Math.pow(2,G),{extent:Fe,radius:Ee}=this.options,Se=Ee/Fe,Re=(oe-Se)/be,et=(oe+1+Se)/be,nt={features:[]};return this._addTileFeatures(ye.range((X-Se)/be,Re,(X+1+Se)/be,et),ye.data,X,oe,be,nt),X===0&&this._addTileFeatures(ye.range(1-Se/be,Re,1,et),ye.data,be,oe,be,nt),X===be-1&&this._addTileFeatures(ye.range(0,Re,Se/be,et),ye.data,-1,oe,be,nt),nt.features.length?nt:null}getClusterExpansionZoom(G){let X=this._getOriginZoom(G)-1;for(;X<=this.options.maxZoom;){const oe=this.getChildren(G);if(X++,oe.length!==1)break;G=oe[0].properties.cluster_id}return X}_appendLeaves(G,X,oe,ye,be){const Fe=this.getChildren(X);for(const Ee of Fe){const Se=Ee.properties;if(Se&&Se.cluster?be+Se.point_count<=ye?be+=Se.point_count:be=this._appendLeaves(G,Se.cluster_id,oe,ye,be):be<ye?be++:G.push(Ee),G.length===oe)break}return be}_createTree(G){const X=new o.av(G.length/this.stride|0,this.options.nodeSize,Float32Array);for(let oe=0;oe<G.length;oe+=this.stride)X.add(G[oe],G[oe+1]);return X.finish(),X.data=G,X}_addTileFeatures(G,X,oe,ye,be,Fe){for(const Ee of G){const Se=Ee*this.stride,Re=X[Se+Lt]>1;let et,nt,ut;if(Re)et=st(X,Se,this.clusterProps),nt=X[Se],ut=X[Se+1];else{const Wt=this.points[X[Se+ct]];et=Wt.properties;const[rn,pn]=Wt.geometry.coordinates;nt=He(rn),ut=$e(pn)}const tn={type:1,geometry:[[Math.round(this.options.extent*(nt*be-oe)),Math.round(this.options.extent*(ut*be-ye))]],tags:et};let un;un=Re||this.options.generateId?X[Se+ct]:this.points[X[Se+ct]].id,un!==void 0&&(tn.id=un),Fe.features.push(tn)}}_limitZoom(G){return Math.max(this.options.minZoom,Math.min(Math.floor(+G),this.options.maxZoom+1))}_cluster(G,X){const{radius:oe,extent:ye,reduce:be,minPoints:Fe}=this.options,Ee=oe/(ye*Math.pow(2,X)),Se=G.data,Re=[],et=this.stride;for(let nt=0;nt<Se.length;nt+=et){if(Se[nt+2]<=X)continue;Se[nt+2]=X;const ut=Se[nt],tn=Se[nt+1],un=G.within(Se[nt],Se[nt+1],Ee),Wt=Se[nt+Lt];let rn=Wt;for(const pn of un){const Zn=pn*et;Se[Zn+2]>X&&(rn+=Se[Zn+Lt])}if(rn>Wt&&rn>=Fe){let pn,Zn=ut*Wt,sr=tn*Wt,$n=-1;const Bn=((nt/et|0)<<5)+(X+1)+this.points.length;for(const Di of un){const hr=Di*et;if(Se[hr+2]<=X)continue;Se[hr+2]=X;const ei=Se[hr+Lt];Zn+=Se[hr]*ei,sr+=Se[hr+1]*ei,Se[hr+4]=Bn,be&&(pn||(pn=this._map(Se,nt,!0),$n=this.clusterProps.length,this.clusterProps.push(pn)),be(pn,this._map(Se,hr)))}Se[nt+4]=Bn,Re.push(Zn/rn,sr/rn,1/0,Bn,-1,rn),be&&Re.push($n)}else{for(let pn=0;pn<et;pn++)Re.push(Se[nt+pn]);if(rn>1)for(const pn of un){const Zn=pn*et;if(!(Se[Zn+2]<=X)){Se[Zn+2]=X;for(let sr=0;sr<et;sr++)Re.push(Se[Zn+sr])}}}}return Re}_getOriginId(G){return G-this.points.length>>5}_getOriginZoom(G){return(G-this.points.length)%32}_map(G,X,oe){if(G[X+Lt]>1){const Fe=this.clusterProps[G[X+mt]];return oe?Object.assign({},Fe):Fe}const ye=this.points[G[X+ct]].properties,be=this.options.map(ye);return oe&&be===ye?Object.assign({},be):be}}function Ne(pe,G,X){return{type:"Feature",id:pe[G+ct],properties:st(pe,G,X),geometry:{type:"Point",coordinates:[(oe=pe[G],360*(oe-.5)),kt(pe[G+1])]}};var oe}function st(pe,G,X){const oe=pe[G+Lt],ye=oe>=1e4?`${Math.round(oe/1e3)}k`:oe>=1e3?Math.round(oe/100)/10+"k":oe,be=pe[G+mt],Fe=be===-1?{}:Object.assign({},X[be]);return Object.assign(Fe,{cluster:!0,cluster_id:pe[G+ct],point_count:oe,point_count_abbreviated:ye})}function He(pe){return pe/360+.5}function $e(pe){const G=Math.sin(pe*Math.PI/180),X=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return X<0?0:X>1?1:X}function kt(pe){const G=(180-360*pe)*Math.PI/180;return 360*Math.atan(Math.exp(G))/Math.PI-90}function $t(pe,G,X,oe){for(var ye,be=oe,Fe=X-G>>1,Ee=X-G,Se=pe[G],Re=pe[G+1],et=pe[X],nt=pe[X+1],ut=G+3;ut<X;ut+=3){var tn=ae(pe[ut],pe[ut+1],Se,Re,et,nt);if(tn>be)ye=ut,be=tn;else if(tn===be){var un=Math.abs(ut-Fe);un<Ee&&(ye=ut,Ee=un)}}be>oe&&(ye-G>3&&$t(pe,G,ye,oe),pe[ye+2]=be,X-ye>3&&$t(pe,ye,X,oe))}function ae(pe,G,X,oe,ye,be){var Fe=ye-X,Ee=be-oe;if(Fe!==0||Ee!==0){var Se=((pe-X)*Fe+(G-oe)*Ee)/(Fe*Fe+Ee*Ee);Se>1?(X=ye,oe=be):Se>0&&(X+=Fe*Se,oe+=Ee*Se)}return(Fe=pe-X)*Fe+(Ee=G-oe)*Ee}function me(pe,G,X,oe){var ye={id:pe===void 0?null:pe,type:G,geometry:X,tags:oe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(be){var Fe=be.geometry,Ee=be.type;if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")Be(be,Fe);else if(Ee==="Polygon"||Ee==="MultiLineString")for(var Se=0;Se<Fe.length;Se++)Be(be,Fe[Se]);else if(Ee==="MultiPolygon")for(Se=0;Se<Fe.length;Se++)for(var Re=0;Re<Fe[Se].length;Re++)Be(be,Fe[Se][Re])}(ye),ye}function Be(pe,G){for(var X=0;X<G.length;X+=3)pe.minX=Math.min(pe.minX,G[X]),pe.minY=Math.min(pe.minY,G[X+1]),pe.maxX=Math.max(pe.maxX,G[X]),pe.maxY=Math.max(pe.maxY,G[X+1])}function Ye(pe,G,X,oe){if(G.geometry){var ye=G.geometry.coordinates,be=G.geometry.type,Fe=Math.pow(X.tolerance/((1<<X.maxZoom)*X.extent),2),Ee=[],Se=G.id;if(X.promoteId?Se=G.properties[X.promoteId]:X.generateId&&(Se=oe||0),be==="Point")Xe(ye,Ee);else if(be==="MultiPoint")for(var Re=0;Re<ye.length;Re++)Xe(ye[Re],Ee);else if(be==="LineString")pt(ye,Ee,Fe,!1);else if(be==="MultiLineString"){if(X.lineMetrics){for(Re=0;Re<ye.length;Re++)pt(ye[Re],Ee=[],Fe,!1),pe.push(me(Se,"LineString",Ee,G.properties));return}xt(ye,Ee,Fe,!1)}else if(be==="Polygon")xt(ye,Ee,Fe,!0);else{if(be!=="MultiPolygon"){if(be==="GeometryCollection"){for(Re=0;Re<G.geometry.geometries.length;Re++)Ye(pe,{id:Se,geometry:G.geometry.geometries[Re],properties:G.properties},X,oe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Re=0;Re<ye.length;Re++){var et=[];xt(ye[Re],et,Fe,!0),Ee.push(et)}}pe.push(me(Se,be,Ee,G.properties))}}function Xe(pe,G){G.push(Ce(pe[0])),G.push(yt(pe[1])),G.push(0)}function pt(pe,G,X,oe){for(var ye,be,Fe=0,Ee=0;Ee<pe.length;Ee++){var Se=Ce(pe[Ee][0]),Re=yt(pe[Ee][1]);G.push(Se),G.push(Re),G.push(0),Ee>0&&(Fe+=oe?(ye*Re-Se*be)/2:Math.sqrt(Math.pow(Se-ye,2)+Math.pow(Re-be,2))),ye=Se,be=Re}var et=G.length-3;G[2]=1,$t(G,0,et,X),G[et+2]=1,G.size=Math.abs(Fe),G.start=0,G.end=G.size}function xt(pe,G,X,oe){for(var ye=0;ye<pe.length;ye++){var be=[];pt(pe[ye],be,X,oe),G.push(be)}}function Ce(pe){return pe/360+.5}function yt(pe){var G=Math.sin(pe*Math.PI/180),X=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return X<0?0:X>1?1:X}function Qe(pe,G,X,oe,ye,be,Fe,Ee){if(oe/=G,be>=(X/=G)&&Fe<oe)return pe;if(Fe<X||be>=oe)return null;for(var Se=[],Re=0;Re<pe.length;Re++){var et=pe[Re],nt=et.geometry,ut=et.type,tn=ye===0?et.minX:et.minY,un=ye===0?et.maxX:et.maxY;if(tn>=X&&un<oe)Se.push(et);else if(!(un<X||tn>=oe)){var Wt=[];if(ut==="Point"||ut==="MultiPoint")lt(nt,Wt,X,oe,ye);else if(ut==="LineString")Et(nt,Wt,X,oe,ye,!1,Ee.lineMetrics);else if(ut==="MultiLineString")an(nt,Wt,X,oe,ye,!1);else if(ut==="Polygon")an(nt,Wt,X,oe,ye,!0);else if(ut==="MultiPolygon")for(var rn=0;rn<nt.length;rn++){var pn=[];an(nt[rn],pn,X,oe,ye,!0),pn.length&&Wt.push(pn)}if(Wt.length){if(Ee.lineMetrics&&ut==="LineString"){for(rn=0;rn<Wt.length;rn++)Se.push(me(et.id,ut,Wt[rn],et.tags));continue}ut!=="LineString"&&ut!=="MultiLineString"||(Wt.length===1?(ut="LineString",Wt=Wt[0]):ut="MultiLineString"),ut!=="Point"&&ut!=="MultiPoint"||(ut=Wt.length===3?"Point":"MultiPoint"),Se.push(me(et.id,ut,Wt,et.tags))}}}return Se.length?Se:null}function lt(pe,G,X,oe,ye){for(var be=0;be<pe.length;be+=3){var Fe=pe[be+ye];Fe>=X&&Fe<=oe&&(G.push(pe[be]),G.push(pe[be+1]),G.push(pe[be+2]))}}function Et(pe,G,X,oe,ye,be,Fe){for(var Ee,Se,Re=It(pe),et=ye===0?An:In,nt=pe.start,ut=0;ut<pe.length-3;ut+=3){var tn=pe[ut],un=pe[ut+1],Wt=pe[ut+2],rn=pe[ut+3],pn=pe[ut+4],Zn=ye===0?tn:un,sr=ye===0?rn:pn,$n=!1;Fe&&(Ee=Math.sqrt(Math.pow(tn-rn,2)+Math.pow(un-pn,2))),Zn<X?sr>X&&(Se=et(Re,tn,un,rn,pn,X),Fe&&(Re.start=nt+Ee*Se)):Zn>oe?sr<oe&&(Se=et(Re,tn,un,rn,pn,oe),Fe&&(Re.start=nt+Ee*Se)):ln(Re,tn,un,Wt),sr<X&&Zn>=X&&(Se=et(Re,tn,un,rn,pn,X),$n=!0),sr>oe&&Zn<=oe&&(Se=et(Re,tn,un,rn,pn,oe),$n=!0),!be&&$n&&(Fe&&(Re.end=nt+Ee*Se),G.push(Re),Re=It(pe)),Fe&&(nt+=Ee)}var Bn=pe.length-3;tn=pe[Bn],un=pe[Bn+1],Wt=pe[Bn+2],(Zn=ye===0?tn:un)>=X&&Zn<=oe&&ln(Re,tn,un,Wt),Bn=Re.length-3,be&&Bn>=3&&(Re[Bn]!==Re[0]||Re[Bn+1]!==Re[1])&&ln(Re,Re[0],Re[1],Re[2]),Re.length&&G.push(Re)}function It(pe){var G=[];return G.size=pe.size,G.start=pe.start,G.end=pe.end,G}function an(pe,G,X,oe,ye,be){for(var Fe=0;Fe<pe.length;Fe++)Et(pe[Fe],G,X,oe,ye,be,!1)}function ln(pe,G,X,oe){pe.push(G),pe.push(X),pe.push(oe)}function An(pe,G,X,oe,ye,be){var Fe=(be-G)/(oe-G);return pe.push(be),pe.push(X+(ye-X)*Fe),pe.push(1),Fe}function In(pe,G,X,oe,ye,be){var Fe=(be-X)/(ye-X);return pe.push(G+(oe-G)*Fe),pe.push(be),pe.push(1),Fe}function Nn(pe,G){for(var X=[],oe=0;oe<pe.length;oe++){var ye,be=pe[oe],Fe=be.type;if(Fe==="Point"||Fe==="MultiPoint"||Fe==="LineString")ye=ur(be.geometry,G);else if(Fe==="MultiLineString"||Fe==="Polygon"){ye=[];for(var Ee=0;Ee<be.geometry.length;Ee++)ye.push(ur(be.geometry[Ee],G))}else if(Fe==="MultiPolygon")for(ye=[],Ee=0;Ee<be.geometry.length;Ee++){for(var Se=[],Re=0;Re<be.geometry[Ee].length;Re++)Se.push(ur(be.geometry[Ee][Re],G));ye.push(Se)}X.push(me(be.id,Fe,ye,be.tags))}return X}function ur(pe,G){var X=[];X.size=pe.size,pe.start!==void 0&&(X.start=pe.start,X.end=pe.end);for(var oe=0;oe<pe.length;oe+=3)X.push(pe[oe]+G,pe[oe+1],pe[oe+2]);return X}function gt(pe,G){if(pe.transformed)return pe;var X,oe,ye,be=1<<pe.z,Fe=pe.x,Ee=pe.y;for(X=0;X<pe.features.length;X++){var Se=pe.features[X],Re=Se.geometry,et=Se.type;if(Se.geometry=[],et===1)for(oe=0;oe<Re.length;oe+=2)Se.geometry.push(xi(Re[oe],Re[oe+1],G,be,Fe,Ee));else for(oe=0;oe<Re.length;oe++){var nt=[];for(ye=0;ye<Re[oe].length;ye+=2)nt.push(xi(Re[oe][ye],Re[oe][ye+1],G,be,Fe,Ee));Se.geometry.push(nt)}}return pe.transformed=!0,pe}function xi(pe,G,X,oe,ye,be){return[Math.round(X*(pe*oe-ye)),Math.round(X*(G*oe-be))]}function kn(pe,G,X,oe,ye){for(var be=G===ye.maxZoom?0:ye.tolerance/((1<<G)*ye.extent),Fe={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:X,y:oe,z:G,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ee=0;Ee<pe.length;Ee++){Fe.numFeatures++,fa(Fe,pe[Ee],be,ye);var Se=pe[Ee].minX,Re=pe[Ee].minY,et=pe[Ee].maxX,nt=pe[Ee].maxY;Se<Fe.minX&&(Fe.minX=Se),Re<Fe.minY&&(Fe.minY=Re),et>Fe.maxX&&(Fe.maxX=et),nt>Fe.maxY&&(Fe.maxY=nt)}return Fe}function fa(pe,G,X,oe){var ye=G.geometry,be=G.type,Fe=[];if(be==="Point"||be==="MultiPoint")for(var Ee=0;Ee<ye.length;Ee+=3)Fe.push(ye[Ee]),Fe.push(ye[Ee+1]),pe.numPoints++,pe.numSimplified++;else if(be==="LineString")dr(Fe,ye,pe,X,!1,!1);else if(be==="MultiLineString"||be==="Polygon")for(Ee=0;Ee<ye.length;Ee++)dr(Fe,ye[Ee],pe,X,be==="Polygon",Ee===0);else if(be==="MultiPolygon")for(var Se=0;Se<ye.length;Se++){var Re=ye[Se];for(Ee=0;Ee<Re.length;Ee++)dr(Fe,Re[Ee],pe,X,!0,Ee===0)}if(Fe.length){var et=G.tags||null;if(be==="LineString"&&oe.lineMetrics){for(var nt in et={},G.tags)et[nt]=G.tags[nt];et.mapbox_clip_start=ye.start/ye.size,et.mapbox_clip_end=ye.end/ye.size}var ut={geometry:Fe,type:be==="Polygon"||be==="MultiPolygon"?3:be==="LineString"||be==="MultiLineString"?2:1,tags:et};G.id!==null&&(ut.id=G.id),pe.features.push(ut)}}function dr(pe,G,X,oe,ye,be){var Fe=oe*oe;if(oe>0&&G.size<(ye?Fe:oe))X.numPoints+=G.length/3;else{for(var Ee=[],Se=0;Se<G.length;Se+=3)(oe===0||G[Se+2]>Fe)&&(X.numSimplified++,Ee.push(G[Se]),Ee.push(G[Se+1])),X.numPoints++;ye&&function(Re,et){for(var nt=0,ut=0,tn=Re.length,un=tn-2;ut<tn;un=ut,ut+=2)nt+=(Re[ut]-Re[un])*(Re[ut+1]+Re[un+1]);if(nt>0===et)for(ut=0,tn=Re.length;ut<tn/2;ut+=2){var Wt=Re[ut],rn=Re[ut+1];Re[ut]=Re[tn-2-ut],Re[ut+1]=Re[tn-1-ut],Re[tn-2-ut]=Wt,Re[tn-1-ut]=rn}}(Ee,be),pe.push(Ee)}}function Ct(pe,G){var X=(G=this.options=function(ye,be){for(var Fe in be)ye[Fe]=be[Fe];return ye}(Object.create(this.options),G)).debug;if(X&&console.time("preprocess data"),G.maxZoom<0||G.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(G.promoteId&&G.generateId)throw new Error("promoteId and generateId cannot be used together.");var oe=function(ye,be){var Fe=[];if(ye.type==="FeatureCollection")for(var Ee=0;Ee<ye.features.length;Ee++)Ye(Fe,ye.features[Ee],be,Ee);else Ye(Fe,ye.type==="Feature"?ye:{geometry:ye},be);return Fe}(pe,G);this.tiles={},this.tileCoords=[],X&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",G.indexMaxZoom,G.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),oe=function(ye,be){var Fe=be.buffer/be.extent,Ee=ye,Se=Qe(ye,1,-1-Fe,Fe,0,-1,2,be),Re=Qe(ye,1,1-Fe,2+Fe,0,-1,2,be);return(Se||Re)&&(Ee=Qe(ye,1,-Fe,1+Fe,0,-1,2,be)||[],Se&&(Ee=Nn(Se,1).concat(Ee)),Re&&(Ee=Ee.concat(Nn(Re,-1)))),Ee}(oe,G),oe.length&&this.splitTile(oe,0,0,0),X&&(oe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function vn(pe,G,X){return 32*((1<<pe)*X+G)+pe}function mn(pe,G){return G?pe.properties[G]:pe.id}function Vi(pe,G){if(pe==null)return!0;if(pe.type==="Feature")return mn(pe,G)!=null;if(pe.type==="FeatureCollection"){const X=new Set;for(const oe of pe.features){const ye=mn(oe,G);if(ye==null||X.has(ye))return!1;X.add(ye)}return!0}return!1}function ss(pe,G){const X=new Map;if(pe!=null)if(pe.type==="Feature")X.set(mn(pe,G),pe);else for(const oe of pe.features)X.set(mn(oe,G),oe);return X}Ct.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ct.prototype.splitTile=function(pe,G,X,oe,ye,be,Fe){for(var Ee=[pe,G,X,oe],Se=this.options,Re=Se.debug;Ee.length;){oe=Ee.pop(),X=Ee.pop(),G=Ee.pop(),pe=Ee.pop();var et=1<<G,nt=vn(G,X,oe),ut=this.tiles[nt];if(!ut&&(Re>1&&console.time("creation"),ut=this.tiles[nt]=kn(pe,G,X,oe,Se),this.tileCoords.push({z:G,x:X,y:oe}),Re)){Re>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",G,X,oe,ut.numFeatures,ut.numPoints,ut.numSimplified),console.timeEnd("creation"));var tn="z"+G;this.stats[tn]=(this.stats[tn]||0)+1,this.total++}if(ut.source=pe,ye){if(G===Se.maxZoom||G===ye)continue;var un=1<<ye-G;if(X!==Math.floor(be/un)||oe!==Math.floor(Fe/un))continue}else if(G===Se.indexMaxZoom||ut.numPoints<=Se.indexMaxPoints)continue;if(ut.source=null,pe.length!==0){Re>1&&console.time("clipping");var Wt,rn,pn,Zn,sr,$n,Bn=.5*Se.buffer/Se.extent,Di=.5-Bn,hr=.5+Bn,ei=1+Bn;Wt=rn=pn=Zn=null,sr=Qe(pe,et,X-Bn,X+hr,0,ut.minX,ut.maxX,Se),$n=Qe(pe,et,X+Di,X+ei,0,ut.minX,ut.maxX,Se),pe=null,sr&&(Wt=Qe(sr,et,oe-Bn,oe+hr,1,ut.minY,ut.maxY,Se),rn=Qe(sr,et,oe+Di,oe+ei,1,ut.minY,ut.maxY,Se),sr=null),$n&&(pn=Qe($n,et,oe-Bn,oe+hr,1,ut.minY,ut.maxY,Se),Zn=Qe($n,et,oe+Di,oe+ei,1,ut.minY,ut.maxY,Se),$n=null),Re>1&&console.timeEnd("clipping"),Ee.push(Wt||[],G+1,2*X,2*oe),Ee.push(rn||[],G+1,2*X,2*oe+1),Ee.push(pn||[],G+1,2*X+1,2*oe),Ee.push(Zn||[],G+1,2*X+1,2*oe+1)}}},Ct.prototype.getTile=function(pe,G,X){var oe=this.options,ye=oe.extent,be=oe.debug;if(pe<0||pe>24)return null;var Fe=1<<pe,Ee=vn(pe,G=(G%Fe+Fe)%Fe,X);if(this.tiles[Ee])return gt(this.tiles[Ee],ye);be>1&&console.log("drilling down to z%d-%d-%d",pe,G,X);for(var Se,Re=pe,et=G,nt=X;!Se&&Re>0;)Re--,et=Math.floor(et/2),nt=Math.floor(nt/2),Se=this.tiles[vn(Re,et,nt)];return Se&&Se.source?(be>1&&console.log("found parent tile z%d-%d-%d",Re,et,nt),be>1&&console.time("drilling down"),this.splitTile(Se.source,Re,et,nt,pe,G,X),be>1&&console.timeEnd("drilling down"),this.tiles[Ee]?gt(this.tiles[Ee],ye):null):null};class yn extends I{constructor(G,X,oe,ye){super(G,X,oe),this._dataUpdateable=new Map,this.loadGeoJSON=(be,Fe)=>{const{promoteId:Ee}=be;if(be.request)return o.f(be.request,(Se,Re,et,nt)=>{this._dataUpdateable=Vi(Re,Ee)?ss(Re,Ee):void 0,Fe(Se,Re,et,nt)});if(typeof be.data=="string")try{const Se=JSON.parse(be.data);this._dataUpdateable=Vi(Se,Ee)?ss(Se,Ee):void 0,Fe(null,Se)}catch{Fe(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`))}else be.dataDiff?this._dataUpdateable?(function(Se,Re,et){var nt,ut,tn,un;if(Re.removeAll&&Se.clear(),Re.remove)for(const Wt of Re.remove)Se.delete(Wt);if(Re.add)for(const Wt of Re.add){const rn=mn(Wt,et);rn!=null&&Se.set(rn,Wt)}if(Re.update)for(const Wt of Re.update){let rn=Se.get(Wt.id);if(rn==null)continue;const pn=!Wt.removeAllProperties&&(((nt=Wt.removeProperties)===null||nt===void 0?void 0:nt.length)>0||((ut=Wt.addOrUpdateProperties)===null||ut===void 0?void 0:ut.length)>0);if((Wt.newGeometry||Wt.removeAllProperties||pn)&&(rn=Object.assign({},rn),Se.set(Wt.id,rn),pn&&(rn.properties=Object.assign({},rn.properties))),Wt.newGeometry&&(rn.geometry=Wt.newGeometry),Wt.removeAllProperties)rn.properties={};else if(((tn=Wt.removeProperties)===null||tn===void 0?void 0:tn.length)>0)for(const Zn of Wt.removeProperties)Object.prototype.hasOwnProperty.call(rn.properties,Zn)&&delete rn.properties[Zn];if(((un=Wt.addOrUpdateProperties)===null||un===void 0?void 0:un.length)>0)for(const{key:Zn,value:sr}of Wt.addOrUpdateProperties)rn.properties[Zn]=sr}}(this._dataUpdateable,be.dataDiff,Ee),Fe(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):Fe(new Error(`Cannot update existing geojson data in ${be.source}`)):Fe(new Error(`Input data given to '${be.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,ye&&(this.loadGeoJSON=ye)}loadGeoJSONTile(G,X){const oe=G.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const ye=this._geoJSONIndex.getTile(oe.z,oe.x,oe.y);if(!ye)return X(null,null);const be=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.N,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(Se){this._feature=Se,this.extent=o.N,this.type=Se.type,this.properties=Se.tags,"id"in Se&&!isNaN(Se.id)&&(this.id=parseInt(Se.id,10))}loadGeometry(){if(this._feature.type===1){const Se=[];for(const Re of this._feature.geometry)Se.push([new o.P(Re[0],Re[1])]);return Se}{const Se=[];for(const Re of this._feature.geometry){const et=[];for(const nt of Re)et.push(new o.P(nt[0],nt[1]));Se.push(et)}return Se}}toGeoJSON(Se,Re,et){return q.call(this,Se,Re,et)}}(this._features[Ee])}}(ye.features);let Fe=Le(be);Fe.byteOffset===0&&Fe.byteLength===Fe.buffer.byteLength||(Fe=new Uint8Array(Fe)),X(null,{vectorTile:be,rawData:Fe.buffer})}loadData(G,X){var oe;(oe=this._pendingRequest)===null||oe===void 0||oe.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ye=!!(G&&G.request&&G.request.collectResourceTiming)&&new o.bu(G.request);this._pendingCallback=X,this._pendingRequest=this.loadGeoJSON(G,(be,Fe)=>{if(delete this._pendingCallback,delete this._pendingRequest,be||!Fe)return X(be);if(typeof Fe!="object")return X(new Error(`Input data given to '${G.source}' is not a valid GeoJSON object.`));{B(Fe,!0);try{if(G.filter){const Se=o.bC(G.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Se.result==="error")throw new Error(Se.value.map(et=>`${et.key}: ${et.message}`).join(", "));Fe={type:"FeatureCollection",features:Fe.features.filter(et=>Se.value.evaluate({zoom:0},et))}}this._geoJSONIndex=G.cluster?new Tt(function({superclusterOptions:Se,clusterProperties:Re}){if(!Re||!Se)return Se;const et={},nt={},ut={accumulated:null,zoom:0},tn={properties:null},un=Object.keys(Re);for(const Wt of un){const[rn,pn]=Re[Wt],Zn=o.bC(pn),sr=o.bC(typeof rn=="string"?[rn,["accumulated"],["get",Wt]]:rn);et[Wt]=Zn.value,nt[Wt]=sr.value}return Se.map=Wt=>{tn.properties=Wt;const rn={};for(const pn of un)rn[pn]=et[pn].evaluate(ut,tn);return rn},Se.reduce=(Wt,rn)=>{tn.properties=rn;for(const pn of un)ut.accumulated=Wt[pn],Wt[pn]=nt[pn].evaluate(ut,tn)},Se}(G)).load(Fe.features):function(Se,Re){return new Ct(Se,Re)}(Fe,G.geojsonVtOptions)}catch(Se){return X(Se)}this.loaded={};const Ee={};if(ye){const Se=ye.finish();Se&&(Ee.resourceTiming={},Ee.resourceTiming[G.source]=JSON.parse(JSON.stringify(Se)))}X(null,Ee)}})}reloadTile(G,X){const oe=this.loaded;return oe&&oe[G.uid]?super.reloadTile(G,X):this.loadTile(G,X)}removeSource(G,X){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),X()}getClusterExpansionZoom(G,X){try{X(null,this._geoJSONIndex.getClusterExpansionZoom(G.clusterId))}catch(oe){X(oe)}}getClusterChildren(G,X){try{X(null,this._geoJSONIndex.getChildren(G.clusterId))}catch(oe){X(oe)}}getClusterLeaves(G,X){try{X(null,this._geoJSONIndex.getLeaves(G.clusterId,G.limit,G.offset))}catch(oe){X(oe)}}}class Ps{constructor(G){this.self=G,this.actor=new o.C(G,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:I,geojson:yn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(X,oe)=>{if(this.workerSourceTypes[X])throw new Error(`Worker source with name "${X}" already registered.`);this.workerSourceTypes[X]=oe},this.self.registerRTLTextPlugin=X=>{if(o.bD.isParsed())throw new Error("RTL text plugin already registered.");o.bD.applyArabicShaping=X.applyArabicShaping,o.bD.processBidirectionalText=X.processBidirectionalText,o.bD.processStyledBidirectionalText=X.processStyledBidirectionalText}}setReferrer(G,X){this.referrer=X}setImages(G,X,oe){this.availableImages[G]=X;for(const ye in this.workerSources[G]){const be=this.workerSources[G][ye];for(const Fe in be)be[Fe].availableImages=X}oe()}setLayers(G,X,oe){this.getLayerIndex(G).replace(X),oe()}updateLayers(G,X,oe){this.getLayerIndex(G).update(X.layers,X.removedIds),oe()}loadTile(G,X,oe){this.getWorkerSource(G,X.type,X.source).loadTile(X,oe)}loadDEMTile(G,X,oe){this.getDEMWorkerSource(G,X.source).loadTile(X,oe)}reloadTile(G,X,oe){this.getWorkerSource(G,X.type,X.source).reloadTile(X,oe)}abortTile(G,X,oe){this.getWorkerSource(G,X.type,X.source).abortTile(X,oe)}removeTile(G,X,oe){this.getWorkerSource(G,X.type,X.source).removeTile(X,oe)}removeDEMTile(G,X){this.getDEMWorkerSource(G,X.source).removeTile(X)}removeSource(G,X,oe){if(!this.workerSources[G]||!this.workerSources[G][X.type]||!this.workerSources[G][X.type][X.source])return;const ye=this.workerSources[G][X.type][X.source];delete this.workerSources[G][X.type][X.source],ye.removeSource!==void 0?ye.removeSource(X,oe):oe()}loadWorkerSource(G,X,oe){try{this.self.importScripts(X.url),oe()}catch(ye){oe(ye.toString())}}syncRTLPluginState(G,X,oe){try{o.bD.setState(X);const ye=o.bD.getPluginURL();if(o.bD.isLoaded()&&!o.bD.isParsed()&&ye!=null){this.self.importScripts(ye);const be=o.bD.isParsed();oe(be?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ye}`),be)}}catch(ye){oe(ye.toString())}}getAvailableImages(G){let X=this.availableImages[G];return X||(X=[]),X}getLayerIndex(G){let X=this.layerIndexes[G];return X||(X=this.layerIndexes[G]=new p),X}getWorkerSource(G,X,oe){return this.workerSources[G]||(this.workerSources[G]={}),this.workerSources[G][X]||(this.workerSources[G][X]={}),this.workerSources[G][X][oe]||(this.workerSources[G][X][oe]=new this.workerSourceTypes[X]({send:(ye,be,Fe)=>{this.actor.send(ye,be,Fe,G)}},this.getLayerIndex(G),this.getAvailableImages(G))),this.workerSources[G][X][oe]}getDEMWorkerSource(G,X){return this.demWorkerSources[G]||(this.demWorkerSources[G]={}),this.demWorkerSources[G][X]||(this.demWorkerSources[G][X]=new R),this.demWorkerSources[G][X]}}return o.i()&&(self.worker=new Ps(self)),Ps}),u(["./shared"],function(o){var p="3.6.2";class y{static testProp(a){if(!y.docStyle)return a[0];for(let d=0;d<a.length;d++)if(a[d]in y.docStyle)return a[d];return a[0]}static create(a,d,m){const v=window.document.createElement(a);return d!==void 0&&(v.className=d),m&&m.appendChild(v),v}static createNS(a,d){return window.document.createElementNS(a,d)}static disableDrag(){y.docStyle&&y.selectProp&&(y.userSelect=y.docStyle[y.selectProp],y.docStyle[y.selectProp]="none")}static enableDrag(){y.docStyle&&y.selectProp&&(y.docStyle[y.selectProp]=y.userSelect)}static setTransform(a,d){a.style[y.transformProp]=d}static addEventListener(a,d,m,v={}){a.addEventListener(d,m,"passive"in v?v:v.capture)}static removeEventListener(a,d,m,v={}){a.removeEventListener(d,m,"passive"in v?v:v.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",y.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",y.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",y.suppressClickInternal,!0)},0)}static mousePos(a,d){const m=a.getBoundingClientRect();return new o.P(d.clientX-m.left-a.clientLeft,d.clientY-m.top-a.clientTop)}static touchPos(a,d){const m=a.getBoundingClientRect(),v=[];for(let w=0;w<d.length;w++)v.push(new o.P(d[w].clientX-m.left-a.clientLeft,d[w].clientY-m.top-a.clientTop));return v}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}y.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,y.selectProp=y.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),y.transformProp=y.testProp(["transform","WebkitTransform"]);const b={supported:!1,testSupport:function(_){!I&&k&&(R?L(_):C=_)}};let C,k,I=!1,R=!1;function L(_){const a=_.createTexture();_.bindTexture(_.TEXTURE_2D,a);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,k),_.isContextLost())return;b.supported=!0}catch{}_.deleteTexture(a),I=!0}var F,B;typeof document<"u"&&(k=document.createElement("img"),k.onload=function(){C&&L(C),C=null,R=!0},k.onerror=function(){I=!0,C=null},k.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(_){let a,d,m,v;_.resetRequestQueue=()=>{a=[],d=0,m=0,v={}},_.addThrottleControl=z=>{const N=m++;return v[N]=z,N},_.removeThrottleControl=z=>{delete v[z],P()},_.getImage=(z,N,$=!0)=>{b.supported&&(z.headers||(z.headers={}),z.headers.accept="image/webp,*/*");const J={requestParameters:z,supportImageRefresh:$,callback:N,cancelled:!1,completed:!1,cancel:()=>{J.completed||J.cancelled||(J.cancelled=!0,J.innerRequest&&(J.innerRequest.cancel(),d--),P())}};return a.push(J),P(),J};const w=z=>{const{requestParameters:N,supportImageRefresh:$,callback:J}=z;return o.e(N,{type:"image"}),($!==!1||o.i()||o.g(N.url)||N.headers&&!Object.keys(N.headers).reduce((he,de)=>he&&de==="accept",!0)?o.m:M)(N,(he,de,ge,ce)=>{E(z,J,he,de,ge,ce)})},E=(z,N,$,J,he,de)=>{$?N($):J instanceof HTMLImageElement||o.a(J)?N(null,J):J&&((ge,ce)=>{typeof createImageBitmap=="function"?o.b(ge,ce):o.d(ge,ce)})(J,(ge,ce)=>{ge!=null?N(ge):ce!=null&&N(null,ce,{cacheControl:he,expires:de})}),z.cancelled||(z.completed=!0,d--,P())},P=()=>{const z=(()=>{const N=Object.keys(v);let $=!1;if(N.length>0){for(const J of N)if($=v[J](),$)break}return $})()?o.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let N=d;N<z&&a.length>0;N++){const $=a.shift();if($.cancelled){N--;continue}const J=w($);d++,$.innerRequest=J}},M=(z,N)=>{const $=new Image,J=z.url;let he=!1;const de=z.credentials;return de&&de==="include"?$.crossOrigin="use-credentials":(de&&de==="same-origin"||!o.s(J))&&($.crossOrigin="anonymous"),$.fetchPriority="high",$.onload=()=>{N(null,$),$.onerror=$.onload=null},$.onerror=()=>{he||N(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),$.onerror=$.onload=null},$.src=J,{cancel:()=>{he=!0,$.src=""}}}}(F||(F={})),F.resetRequestQueue(),function(_){_.Glyphs="Glyphs",_.Image="Image",_.Source="Source",_.SpriteImage="SpriteImage",_.SpriteJSON="SpriteJSON",_.Style="Style",_.Tile="Tile",_.Unknown="Unknown"}(B||(B={}));class q{constructor(a){this._transformRequestFn=a}transformRequest(a,d){return this._transformRequestFn&&this._transformRequestFn(a,d)||{url:a}}normalizeSpriteURL(a,d,m){const v=function(w){const E=w.match(K);if(!E)throw new Error(`Unable to parse URL "${w}"`);return{protocol:E[1],authority:E[2],path:E[3]||"/",params:E[4]?E[4].split("&"):[]}}(a);return v.path+=`${d}${m}`,function(w){const E=w.params.length?`?${w.params.join("&")}`:"";return`${w.protocol}://${w.authority}${w.path}${E}`}(v)}setTransformRequest(a){this._transformRequestFn=a}}const K=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function se(_){var a=new o.A(3);return a[0]=_[0],a[1]=_[1],a[2]=_[2],a}var Q,ee=function(_,a,d){return _[0]=a[0]-d[0],_[1]=a[1]-d[1],_[2]=a[2]-d[2],_};Q=new o.A(3),o.A!=Float32Array&&(Q[0]=0,Q[1]=0,Q[2]=0);var re=function(_){var a=_[0],d=_[1];return a*a+d*d};function H(_){const a=[];if(typeof _=="string")a.push({id:"default",url:_});else if(_&&_.length>0){const d=[];for(const{id:m,url:v}of _){const w=`${m}${v}`;d.indexOf(w)===-1&&(d.push(w),a.push({id:m,url:v}))}}return a}function j(_,a,d,m,v){if(m)return void _(m);if(v!==Object.values(a).length||v!==Object.values(d).length)return;const w={};for(const E in a){w[E]={};const P=o.h.getImageCanvasContext(d[E]),M=a[E];for(const z in M){const{width:N,height:$,x:J,y:he,sdf:de,pixelRatio:ge,stretchX:ce,stretchY:Pe,content:je}=M[z];w[E][z]={data:null,pixelRatio:ge,sdf:de,stretchX:ce,stretchY:Pe,content:je,spriteData:{width:N,height:$,x:J,y:he,context:P}}}}_(null,w)}(function(){var _=new o.A(2);o.A!=Float32Array&&(_[0]=0,_[1]=0)})();class Z{constructor(a,d,m,v){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(d,v)}update(a,d,m){const{width:v,height:w}=a,E=!(this.size&&this.size[0]===v&&this.size[1]===w||m),{context:P}=this,{gl:M}=P;if(this.useMipmap=!!(d&&d.useMipmap),M.bindTexture(M.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===M.RGBA&&(!d||d.premultiply!==!1)),E)this.size=[v,w],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,M.UNSIGNED_BYTE,a):M.texImage2D(M.TEXTURE_2D,0,this.format,v,w,0,this.format,M.UNSIGNED_BYTE,a.data);else{const{x:z,y:N}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?M.texSubImage2D(M.TEXTURE_2D,0,z,N,M.RGBA,M.UNSIGNED_BYTE,a):M.texSubImage2D(M.TEXTURE_2D,0,z,N,v,w,M.RGBA,M.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&M.generateMipmap(M.TEXTURE_2D)}bind(a,d,m){const{context:v}=this,{gl:w}=v;w.bindTexture(w.TEXTURE_2D,this.texture),m!==w.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=w.LINEAR),a!==this.filter&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,a),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,m||a),this.filter=a),d!==this.wrap&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,d),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function le(_){const{userImage:a}=_;return!!(a&&a.render&&a.render())&&(_.data.replace(new Uint8Array(a.data.buffer)),!0)}class ne extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:d,callback:m}of this.requestors)this._notify(d,m);this.requestors=[]}}getImage(a){const d=this.images[a];if(d&&!d.data&&d.spriteData){const m=d.spriteData;d.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),d.spriteData=null}return d}addImage(a,d){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let m=!0;const v=d.data||d.spriteData;return this._validateStretch(d.stretchX,v&&v.width)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,v&&v.height)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,d){if(!a)return!0;let m=0;for(const v of a){if(v[0]<m||v[1]<v[0]||d<v[1])return!1;m=v[1]}return!0}_validateContent(a,d){if(!a)return!0;if(a.length!==4)return!1;const m=d.spriteData,v=m&&m.width||d.data.width,w=m&&m.height||d.data.height;return!(a[0]<0||v<a[0]||a[1]<0||w<a[1]||a[2]<0||v<a[2]||a[3]<0||w<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,d,m=!0){const v=this.getImage(a);if(m&&(v.data.width!==d.data.width||v.data.height!==d.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=v.version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){const d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,d){let m=!0;if(!this.isLoaded())for(const v of a)this.images[v]||(m=!1);this.isLoaded()||m?this._notify(a,d):this.requestors.push({ids:a,callback:d})}_notify(a,d){const m={};for(const v of a){let w=this.getImage(v);w||(this.fire(new o.k("styleimagemissing",{id:v})),w=this.getImage(v)),w?m[v]={data:w.data.clone(),pixelRatio:w.pixelRatio,sdf:w.sdf,version:w.version,stretchX:w.stretchX,stretchY:w.stretchY,content:w.content,hasRenderCallback:!!(w.userImage&&w.userImage.render)}:o.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,m)}getPixelSize(){const{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){const d=this.patterns[a],m=this.getImage(a);if(!m)return null;if(d&&d.position.version===m.version)return d.position;if(d)d.position.version=m.version;else{const v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},w=new o.I(v,m);this.patterns[a]={bin:v,position:w}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Z(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const w in this.patterns)a.push(this.patterns[w].bin);const{w:d,h:m}=o.p(a),v=this.atlasImage;v.resize({width:d||1,height:m||1});for(const w in this.patterns){const{bin:E}=this.patterns[w],P=E.x+1,M=E.y+1,z=this.getImage(w).data,N=z.width,$=z.height;o.R.copy(z,v,{x:0,y:0},{x:P,y:M},{width:N,height:$}),o.R.copy(z,v,{x:0,y:$-1},{x:P,y:M-1},{width:N,height:1}),o.R.copy(z,v,{x:0,y:0},{x:P,y:M+$},{width:N,height:1}),o.R.copy(z,v,{x:N-1,y:0},{x:P-1,y:M},{width:1,height:$}),o.R.copy(z,v,{x:0,y:0},{x:P+N,y:M},{width:1,height:$})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const m=this.getImage(d);m||o.w(`Image with ID: "${d}" was not found`),le(m)&&this.updateImage(d,m)}}}const ve=1e20;function fe(_,a,d,m,v,w,E,P,M){for(let z=a;z<a+m;z++)Ie(_,d*w+z,w,v,E,P,M);for(let z=d;z<d+v;z++)Ie(_,z*w+a,1,m,E,P,M)}function Ie(_,a,d,m,v,w,E){w[0]=0,E[0]=-ve,E[1]=ve,v[0]=_[a];for(let P=1,M=0,z=0;P<m;P++){v[P]=_[a+P*d];const N=P*P;do{const $=w[M];z=(v[P]-v[$]+N-$*$)/(P-$)/2}while(z<=E[M]&&--M>-1);M++,w[M]=P,E[M]=z,E[M+1]=ve}for(let P=0,M=0;P<m;P++){for(;E[M+1]<P;)M++;const z=w[M],N=P-z;_[a+P*d]=v[z]+N*N}}class Ae{constructor(a,d){this.requestManager=a,this.localIdeographFontFamily=d,this.entries={}}setURL(a){this.url=a}getGlyphs(a,d){const m=[];for(const v in a)for(const w of a[v])m.push({stack:v,id:w});o.o(m,({stack:v,id:w},E)=>{let P=this.entries[v];P||(P=this.entries[v]={glyphs:{},requests:{},ranges:{}});let M=P.glyphs[w];if(M!==void 0)return void E(null,{stack:v,id:w,glyph:M});if(M=this._tinySDF(P,v,w),M)return P.glyphs[w]=M,void E(null,{stack:v,id:w,glyph:M});const z=Math.floor(w/256);if(256*z>65535)return void E(new Error("glyphs > 65535 not supported"));if(P.ranges[z])return void E(null,{stack:v,id:w,glyph:M});if(!this.url)return void E(new Error("glyphsUrl is not set"));let N=P.requests[z];N||(N=P.requests[z]=[],Ae.loadGlyphRange(v,z,this.url,this.requestManager,($,J)=>{if(J){for(const he in J)this._doesCharSupportLocalGlyph(+he)||(P.glyphs[+he]=J[+he]);P.ranges[z]=!0}for(const he of N)he($,J);delete P.requests[z]})),N.push(($,J)=>{$?E($):J&&E(null,{stack:v,id:w,glyph:J[w]||null})})},(v,w)=>{if(v)d(v);else if(w){const E={};for(const{stack:P,id:M,glyph:z}of w)(E[P]||(E[P]={}))[M]=z&&{id:z.id,bitmap:z.bitmap.clone(),metrics:z.metrics};d(null,E)}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(o.u["CJK Unified Ideographs"](a)||o.u["Hangul Syllables"](a)||o.u.Hiragana(a)||o.u.Katakana(a))}_tinySDF(a,d,m){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(m))return;let w=a.tinySDF;if(!w){let P="400";/bold/i.test(d)?P="900":/medium/i.test(d)?P="500":/light/i.test(d)&&(P="200"),w=a.tinySDF=new Ae.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:P})}const E=w.draw(String.fromCharCode(m));return{id:m,bitmap:new o.q({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ae.loadGlyphRange=function(_,a,d,m,v){const w=256*a,E=w+255,P=m.transformRequest(d.replace("{fontstack}",_).replace("{range}",`${w}-${E}`),B.Glyphs);o.l(P,(M,z)=>{if(M)v(M);else if(z){const N={};for(const $ of o.n(z))N[$.id]=$;v(null,N)}})},Ae.TinySDF=class{constructor({fontSize:_=24,buffer:a=3,radius:d=8,cutoff:m=.25,fontFamily:v="sans-serif",fontWeight:w="normal",fontStyle:E="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=d;const P=this.size=_+4*a,M=this._createCanvas(P),z=this.ctx=M.getContext("2d",{willReadFrequently:!0});z.font=`${E} ${w} ${_}px ${v}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(_){const a=document.createElement("canvas");return a.width=a.height=_,a}draw(_){const{width:a,actualBoundingBoxAscent:d,actualBoundingBoxDescent:m,actualBoundingBoxLeft:v,actualBoundingBoxRight:w}=this.ctx.measureText(_),E=Math.ceil(d),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(w-v))),M=Math.min(this.size-this.buffer,E+Math.ceil(m)),z=P+2*this.buffer,N=M+2*this.buffer,$=Math.max(z*N,0),J=new Uint8ClampedArray($),he={data:J,width:z,height:N,glyphWidth:P,glyphHeight:M,glyphTop:E,glyphLeft:0,glyphAdvance:a};if(P===0||M===0)return he;const{ctx:de,buffer:ge,gridInner:ce,gridOuter:Pe}=this;de.clearRect(ge,ge,P,M),de.fillText(_,ge,ge+E);const je=de.getImageData(ge,ge,P,M);Pe.fill(ve,0,$),ce.fill(0,0,$);for(let xe=0;xe<M;xe++)for(let Me=0;Me<P;Me++){const Ze=je.data[4*(xe*P+Me)+3]/255;if(Ze===0)continue;const Ke=(xe+ge)*z+Me+ge;if(Ze===1)Pe[Ke]=0,ce[Ke]=ve;else{const rt=.5-Ze;Pe[Ke]=rt>0?rt*rt:0,ce[Ke]=rt<0?rt*rt:0}}fe(Pe,0,0,z,N,z,this.f,this.v,this.z),fe(ce,ge,ge,P,M,z,this.f,this.v,this.z);for(let xe=0;xe<$;xe++){const Me=Math.sqrt(Pe[xe])-Math.sqrt(ce[xe]);J[xe]=Math.round(255-255*(Me/this.radius+this.cutoff))}return he}};class qe{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,d){return o.z(a.expression.evaluate(d))}interpolate(a,d,m){return{x:o.B.number(a.x,d.x,m),y:o.B.number(a.y,d.y,m),z:o.B.number(a.z,d.z,m)}}}let ke;class Le extends o.E{constructor(a){super(),ke=ke||new o.r({anchor:new o.D(o.v.light.anchor),position:new qe,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(ke),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(o.t,a,d))for(const m in a){const v=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m){return(!m||m.validate!==!1)&&o.x(this,a.call(o.y,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}}class Ve{constructor(a,d){this.width=a,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,d){const m=a.join(",")+String(d);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,d)),this.dashEntry[m]}getDashRanges(a,d,m){const v=[];let w=a.length%2==1?-a[a.length-1]*m:0,E=a[0]*m,P=!0;v.push({left:w,right:E,isDash:P,zeroLength:a[0]===0});let M=a[0];for(let z=1;z<a.length;z++){P=!P;const N=a[z];w=M*m,M+=N,E=M*m,v.push({left:w,right:E,isDash:P,zeroLength:N===0})}return v}addRoundDash(a,d,m){const v=d/2;for(let w=-m;w<=m;w++){const E=this.width*(this.nextRow+m+w);let P=0,M=a[P];for(let z=0;z<this.width;z++){z/M.right>1&&(M=a[++P]);const N=Math.abs(z-M.left),$=Math.abs(z-M.right),J=Math.min(N,$);let he;const de=w/m*(v+1);if(M.isDash){const ge=v-Math.abs(de);he=Math.sqrt(J*J+ge*ge)}else he=v-Math.sqrt(J*J+de*de);this.data[E+z]=Math.max(0,Math.min(255,he+128))}}}addRegularDash(a){for(let P=a.length-1;P>=0;--P){const M=a[P],z=a[P+1];M.zeroLength?a.splice(P,1):z&&z.isDash===M.isDash&&(z.left=M.left,a.splice(P,1))}const d=a[0],m=a[a.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);const v=this.width*this.nextRow;let w=0,E=a[w];for(let P=0;P<this.width;P++){P/E.right>1&&(E=a[++w]);const M=Math.abs(P-E.left),z=Math.abs(P-E.right),N=Math.min(M,z);this.data[v+P]=Math.max(0,Math.min(255,(E.isDash?N:-N)+128))}}addDash(a,d){const m=d?7:0,v=2*m+1;if(this.nextRow+v>this.height)return o.w("LineAtlas out of space"),null;let w=0;for(let P=0;P<a.length;P++)w+=a[P];if(w!==0){const P=this.width/w,M=this.getDashRanges(a,this.width,P);d?this.addRoundDash(M,P,m):this.addRegularDash(M)}const E={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:w};return this.nextRow+=v,this.dirty=!0,E}bind(a){const d=a.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class Je{constructor(a,d,m){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=m;const v=this.workerPool.acquire(m);for(let w=0;w<v.length;w++){const E=new o.C(v[w],d,m);E.name=`Worker ${w}`,this.actors.push(E)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,d,m){o.o(this.actors,(v,w)=>{v.send(a,d,w)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}}function Ue(_,a,d){const m=function(v,w){if(v)return d(v);if(w){const E=o.F(o.e(w,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);w.vector_layers&&(E.vectorLayers=w.vector_layers,E.vectorLayerIds=E.vectorLayers.map(P=>P.id)),d(null,E)}};return _.url?o.f(a.transformRequest(_.url,B.Source),m):o.h.frame(()=>m(null,_))}class ct{constructor(a,d){a&&(d?this.setSouthWest(a).setNorthEast(d):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}extend(a){const d=this._sw,m=this._ne;let v,w;if(a instanceof o.L)v=a,w=a;else{if(!(a instanceof ct))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(ct.convert(a)):this.extend(o.L.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.L.convert(a)):this;if(v=a._sw,w=a._ne,!v||!w)return this}return d||m?(d.lng=Math.min(v.lng,d.lng),d.lat=Math.min(v.lat,d.lat),m.lng=Math.max(w.lng,m.lng),m.lat=Math.max(w.lat,m.lat)):(this._sw=new o.L(v.lng,v.lat),this._ne=new o.L(w.lng,w.lat)),this}getCenter(){return new o.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.L(this.getWest(),this.getNorth())}getSouthEast(){return new o.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:d,lat:m}=o.L.convert(a);let v=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&v}static convert(a){return a instanceof ct?a:a&&new ct(a)}static fromLngLat(a,d=0){const m=360*d/40075017,v=m/Math.cos(Math.PI/180*a.lat);return new ct(new o.L(a.lng-v,a.lat-m),new o.L(a.lng+v,a.lat+m))}}class Lt{constructor(a,d,m){this.bounds=ct.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const d=Math.pow(2,a.z),m=Math.floor(o.G(this.bounds.getWest())*d),v=Math.floor(o.H(this.bounds.getNorth())*d),w=Math.ceil(o.G(this.bounds.getEast())*d),E=Math.ceil(o.H(this.bounds.getSouth())*d);return a.x>=m&&a.x<w&&a.y>=v&&a.y<E}}class mt extends o.E{constructor(a,d,m,v){if(super(),this.load=()=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Ue(this._options,this.map._requestManager,(w,E)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),w?this.fire(new o.j(w)):E&&(o.e(this,E),E.bounds&&(this.tileBounds=new Lt(E.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>o.e({},this._options),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.F(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(m,B.Tile),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function w(E,P){return delete a.request,a.aborted?d(null):E&&E.status!==404?d(E):(P&&P.resourceTiming&&(a.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&a.setExpiryData(P),a.loadVectorData(P,this.map.painter),d(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,a.actor&&a.state!=="expired"?a.state==="loading"?a.reloadCallback=d:a.request=a.actor.send("reloadTile",v,w.bind(this)):(a.actor=this.dispatcher.getActor(),a.request=a.actor.send("loadTile",v,w.bind(this)))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id},void 0)}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class Tt extends o.E{constructor(a,d,m,v){super(),this.id=a,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.F(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=Ue(this._options,this.map._requestManager,(a,d)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new o.j(a)):d&&(o.e(this,d),d.bounds&&(this.tileBounds=new Lt(d.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.request=F.getImage(this.map._requestManager.transformRequest(m,B.Tile),(v,w,E)=>{if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(v)a.state="errored",d(v);else if(w){this.map._refreshExpiredTiles&&E&&a.setExpiryData(E);const P=this.map.painter.context,M=P.gl;a.texture=this.map.painter.getTileTexture(w.width),a.texture?a.texture.update(w,{useMipmap:!0}):(a.texture=new Z(P,w,M.RGBA,{useMipmap:!0}),a.texture.bind(M.LINEAR,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),P.extTextureFilterAnisotropic&&M.texParameterf(M.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax)),a.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(a,d){a.request&&(a.request.cancel(),delete a.request),d()}unloadTile(a,d){a.texture&&this.map.painter.saveTileTexture(a.texture),d()}hasTransition(){return!1}}class Ne extends Tt{constructor(a,d,m,v){super(a,d,m,v),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(m,B.Tile);function w(E,P){E&&(a.state="errored",d(E)),P&&(a.dem=P,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded",d(null))}a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.request=F.getImage(v,(E,P,M)=>o._(this,void 0,void 0,function*(){if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(E)a.state="errored",d(E);else if(P){this.map._refreshExpiredTiles&&a.setExpiryData(M);const z=o.a(P)&&o.J()?P:yield function($){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.K()){const J=$.width+2,he=$.height+2;try{return new o.R({width:J,height:he},yield o.M($,-1,-1,J,he))}catch{}}return o.h.getImageData($,1)})}(P),N={uid:a.uid,coord:a.tileID,source:this.id,rawImageData:z,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};a.actor&&a.state!=="expired"||(a.actor=this.dispatcher.getActor(),a.actor.send("loadDEMTile",N,w))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(a){const d=a.canonical,m=Math.pow(2,d.z),v=(d.x-1+m)%m,w=d.x===0?a.wrap-1:a.wrap,E=(d.x+1+m)%m,P=d.x+1===m?a.wrap+1:a.wrap,M={};return M[new o.O(a.overscaledZ,w,d.z,v,d.y).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y).key]={backfilled:!1},d.y>0&&(M[new o.O(a.overscaledZ,w,d.z,v,d.y-1).key]={backfilled:!1},M[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y-1).key]={backfilled:!1}),d.y+1<m&&(M[new o.O(a.overscaledZ,w,d.z,v,d.y+1).key]={backfilled:!1},M[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y+1).key]={backfilled:!1}),M}unloadTile(a){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&a.actor.send("removeDEMTile",{uid:a.uid,source:this.id})}}class st extends o.E{constructor(a,d,m,v){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>o.e({},this._options,{type:this.type,data:this._data}),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(v),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const w=o.N/this.tileSize;this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*w,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*w,extent:o.N,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.N,radius:(d.clusterRadius||50)*w,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:a,source:this.id},d),this}getClusterChildren(a,d){return this.actor.send("geojson.getClusterChildren",{clusterId:a,source:this.id},d),this}getClusterLeaves(a,d,m,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:a,limit:d,offset:m},v),this}_updateWorkerData(a){const d=o.e({},this.workerOptions);a?d.dataDiff=a:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(o.h.resolveURL(this._data),B.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(m,v)=>{if(this._pendingLoads--,this._removed||v&&v.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let w=null;if(v&&v.resourceTiming&&v.resourceTiming[this.id]&&(w=v.resourceTiming[this.id].slice(0)),m)return void this.fire(new o.j(m));const E={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&o.e(E,{resourceTiming:w}),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(a,d){const m=a.actor?"reloadTile":"loadTile";a.actor=this.actor;const v={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.request=this.actor.send(m,v,(w,E)=>(delete a.request,a.unloadVectorData(),a.aborted?d(null):w?d(w):(a.loadVectorData(E,this.map.painter,m==="reloadTile"),d(null))))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.aborted=!0}unloadTile(a){a.unloadVectorData(),this.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var He=o.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class $e extends o.E{constructor(a,d,m,v){super(),this.load=(w,E)=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=F.getImage(this.map._requestManager.transformRequest(this.url,B.Image),(P,M)=>{this._request=null,this._loaded=!0,P?this.fire(new o.j(P)):M&&(this.image=M,w&&(this.coordinates=w),E&&E(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const w=this.map.painter.context,E=w.gl;this.boundsBuffer||(this.boundsBuffer=w.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Z(w,this.image,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const M in this.tiles){const z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=a,this.dispatcher=m,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=d}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=a.url,this.load(a.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(a){this.coordinates=a;const d=a.map(o.U.fromLngLat);this.tileID=function(v){let w=1/0,E=1/0,P=-1/0,M=-1/0;for(const J of v)w=Math.min(w,J.x),E=Math.min(E,J.y),P=Math.max(P,J.x),M=Math.max(M,J.y);const z=Math.max(P-w,M-E),N=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),$=Math.pow(2,N);return new o.W(N,Math.floor((w+P)/2*$),Math.floor((E+M)/2*$))}(d),this.minzoom=this.maxzoom=this.tileID.z;const m=d.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new o.V,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,o.N,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,o.N),this._boundsArray.emplaceBack(m[2].x,m[2].y,o.N,o.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(a,d){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},d(null)):(a.state="errored",d(null))}hasTransition(){return!1}}class kt extends $e{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!1;const w=this.options;this.urls=[];for(const E of w.urls)this.urls.push(this.map._requestManager.transformRequest(E,B.Source).url);o.X(this.urls,(E,P)=>{this._loaded=!0,E?this.fire(new o.j(E)):P&&(this.video=P,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const w=this.map.painter.context,E=w.gl;this.boundsBuffer||(this.boundsBuffer=w.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.texSubImage2D(E.TEXTURE_2D,0,0,0,E.RGBA,E.UNSIGNED_BYTE,this.video)):(this.texture=new Z(w,this.video,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const M in this.tiles){const z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const d=this.video.seekable;a<d.start(0)||a>d.end(0)?this.fire(new o.j(new o.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class $t extends $e{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let w=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,w=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,w=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const E=this.map.painter.context,P=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,He.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?(w||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Z(E,this.canvas,P.RGBA,{premultiply:!0});let M=!1;for(const z in this.tiles){const N=this.tiles[z];N.state!=="loaded"&&(N.state="loaded",N.texture=this.texture,M=!0)}M&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(w=>!Array.isArray(w)||w.length!==2||w.some(E=>typeof E!="number"))||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.j(new o.Y(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const ae={},me=_=>{switch(_){case"geojson":return st;case"image":return $e;case"raster":return Tt;case"raster-dem":return Ne;case"vector":return mt;case"video":return kt;case"canvas":return $t}return ae[_]};function Be(_,a){const d=o.Z();return o.$(d,d,[1,1,0]),o.a0(d,d,[.5*_.width,.5*_.height,1]),o.a1(d,d,_.calculatePosMatrix(a.toUnwrapped()))}function Ye(_,a,d,m,v,w){const E=function($,J,he){if($)for(const de of $){const ge=J[de];if(ge&&ge.source===he&&ge.type==="fill-extrusion")return!0}else for(const de in J){const ge=J[de];if(ge.source===he&&ge.type==="fill-extrusion")return!0}return!1}(v&&v.layers,a,_.id),P=w.maxPitchScaleFactor(),M=_.tilesIn(m,P,E);M.sort(Xe);const z=[];for(const $ of M)z.push({wrappedTileID:$.tileID.wrapped().key,queryResults:$.tile.queryRenderedFeatures(a,d,_._state,$.queryGeometry,$.cameraQueryGeometry,$.scale,v,w,P,Be(_.transform,$.tileID))});const N=function($){const J={},he={};for(const de of $){const ge=de.queryResults,ce=de.wrappedTileID,Pe=he[ce]=he[ce]||{};for(const je in ge){const xe=ge[je],Me=Pe[je]=Pe[je]||{},Ze=J[je]=J[je]||[];for(const Ke of xe)Me[Ke.featureIndex]||(Me[Ke.featureIndex]=!0,Ze.push(Ke))}}return J}(z);for(const $ in N)N[$].forEach(J=>{const he=J.feature,de=_.getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=de});return N}function Xe(_,a){const d=_.tileID,m=a.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}class pt{constructor(a,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a2(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const d=a+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,d,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(v,w){const E={};if(!w)return E;for(const P of v){const M=P.layerIds.map(z=>w.getLayer(z)).filter(Boolean);if(M.length!==0){P.layers=M,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(z=>M.filter(N=>N.id===z)[0]));for(const z of M)E[z.id]=P}}return E}(a.buckets,d.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const w=this.buckets[v];if(w instanceof o.a4){if(this.hasSymbolBuckets=!0,!m)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const w=this.buckets[v];if(w instanceof o.a4&&w.hasRTLText){this.hasRTLText=!0,o.a5();break}}this.queryPadding=0;for(const v in this.buckets){const w=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(v).queryRadius(w))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a3}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const m in this.buckets){const v=this.buckets[m];v.uploadPending()&&v.upload(a)}const d=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Z(a,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Z(a,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,d,m,v,w,E,P,M,z,N){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:w,scale:E,tileSize:this.tileSize,pixelPosMatrix:N,transform:M,params:P,queryPadding:this.queryPadding*z},a,d,m):{}}querySourceFeatures(a,d){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const v=m.loadVTLayers(),w=d&&d.sourceLayer?d.sourceLayer:"",E=v._geojsonTileLayer||v[w];if(!E)return;const P=o.a6(d&&d.filter),{z:M,x:z,y:N}=this.tileID.canonical,$={z:M,x:z,y:N};for(let J=0;J<E.length;J++){const he=E.feature(J);if(P.needGeometry){const ce=o.a7(he,!0);if(!P.filter(new o.a8(this.tileID.overscaledZ),ce,this.tileID.canonical))continue}else if(!P.filter(new o.a8(this.tileID.overscaledZ),he))continue;const de=m.getId(he,w),ge=new o.a9(he,M,z,N,de);ge.tile=$,a.push(ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const d=this.expirationTime;if(a.cacheControl){const m=o.aa(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const m=Date.now();let v=!1;if(this.expirationTime>m)v=!1;else if(d)if(this.expirationTime<d)v=!0;else{const w=this.expirationTime-d;w?this.expirationTime=m+Math.max(w,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!d.style.hasLayer(v))continue;const w=this.buckets[v],E=w.layers[0].sourceLayer||"_geojsonTileLayer",P=m[E],M=a[E];if(!P||!M||Object.keys(M).length===0)continue;w.update(M,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});const z=d&&d.style&&d.style.getLayer(v);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(w)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<o.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=o.h.now()+a}setDependencies(a,d){const m={};for(const v of d)m[v]=!0;this.dependencies[a]=m}hasDependency(a,d){for(const m of a){const v=this.dependencies[m];if(v){for(const w of d)if(v[w])return!0}}return!1}}class xt{constructor(a,d){this.max=a,this.onRemove=d,this.reset()}reset(){for(const a in this.data)for(const d of this.data[a])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(a,d,m){const v=a.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const w={value:d,timeout:void 0};if(m!==void 0&&(w.timeout=setTimeout(()=>{this.remove(a,w)},m)),this.data[v].push(w),this.order.push(v),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const d=this.data[a].shift();return d.timeout&&clearTimeout(d.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),d.value}getByKey(a){const d=this.data[a];return d?d[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,d){if(!this.has(a))return this;const m=a.wrapped().key,v=d===void 0?0:this.data[m].indexOf(d),w=this.data[m][v];return this.data[m].splice(v,1),w.timeout&&clearTimeout(w.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(w.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(a){const d=[];for(const m in this.data)for(const v of this.data[m])a(v.value)||d.push(v);for(const m of d)this.remove(m.value.tileID,m)}}class Ce{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,d,m){const v=String(d);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][v]=this.stateChanges[a][v]||{},o.e(this.stateChanges[a][v],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(const w in this.state[a])w!==v&&(this.deletedStates[a][w]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][v]===null){this.deletedStates[a][v]={};for(const w in this.state[a][v])m[w]||(this.deletedStates[a][v][w]=null)}else for(const w in m)this.deletedStates[a]&&this.deletedStates[a][v]&&this.deletedStates[a][v][w]===null&&delete this.deletedStates[a][v][w]}removeFeatureState(a,d,m){if(this.deletedStates[a]===null)return;const v=String(d);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&d!==void 0)this.deletedStates[a][v]!==null&&(this.deletedStates[a][v]=this.deletedStates[a][v]||{},this.deletedStates[a][v][m]=null);else if(d!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][v])for(m in this.deletedStates[a][v]={},this.stateChanges[a][v])this.deletedStates[a][v][m]=null;else this.deletedStates[a][v]=null;else this.deletedStates[a]=null}getState(a,d){const m=String(d),v=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const w=this.deletedStates[a][d];if(w===null)return{};for(const E in w)delete v[E]}return v}initializeTileState(a,d){a.setFeatureState(this.state,d)}coalesceChanges(a,d){const m={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const w={};for(const E in this.stateChanges[v])this.state[v][E]||(this.state[v][E]={}),o.e(this.state[v][E],this.stateChanges[v][E]),w[E]=this.state[v][E];m[v]=w}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const w={};if(this.deletedStates[v]===null)for(const E in this.state[v])w[E]={},this.state[v][E]={};else for(const E in this.deletedStates[v]){if(this.deletedStates[v][E]===null)this.state[v][E]={};else for(const P of Object.keys(this.deletedStates[v][E]))delete this.state[v][E][P];w[E]=this.state[v][E]}m[v]=m[v]||{},o.e(m[v],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const v in a)a[v].setFeatureState(m,d)}}class yt extends o.E{constructor(a,d,m){super(),this.id=a,this.dispatcher=m,this.on("data",v=>{v.dataType==="source"&&v.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&v.dataType==="source"&&v.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,w,E,P)=>{const M=new(me(w.type))(v,w,E,P);if(M.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${M.id}`);return M})(a,d,m,this),this._tiles={},this._cache=new xt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Ce,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const a in this._tiles){const d=this._tiles[a];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,d){return this._source.loadTile(a,d)}_unloadTile(a){if(this._source.unloadTile)return this._source.unloadTile(a,()=>{})}_abortTile(a){this._source.abortTile&&this._source.abortTile(a,()=>{}),this._source.fire(new o.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const m=this._tiles[d];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Qe).map(a=>a.key)}getRenderableIds(a){const d=[];for(const m in this._tiles)this._isIdRenderable(m,a)&&d.push(this._tiles[m]);return a?d.sort((m,v)=>{const w=m.tileID,E=v.tileID,P=new o.P(w.canonical.x,w.canonical.y)._rotate(this.transform.angle),M=new o.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return w.overscaledZ-E.overscaledZ||M.y-P.y||M.x-P.x}).map(m=>m.tileID.key):d.map(m=>m.tileID).sort(Qe).map(m=>m.key)}hasRenderableParent(a){const d=this.findLoadedParent(a,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(a,d){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(d||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,d){const m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=d),this._loadTile(m,this._tileLoaded.bind(this,m,a,d)))}_tileLoaded(a,d,m,v){if(v)return a.state="errored",void(v.status!==404?this._source.fire(new o.j(v,{tile:a})):this.update(this.transform,this.terrain));a.timeAdded=o.h.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(d,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const d=this.getRenderableIds();for(let v=0;v<d.length;v++){const w=d[v];if(a.neighboringTiles&&a.neighboringTiles[w]){const E=this.getTileByID(w);m(a,E),m(E,a)}}function m(v,w){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let E=w.tileID.canonical.x-v.tileID.canonical.x;const P=w.tileID.canonical.y-v.tileID.canonical.y,M=Math.pow(2,v.tileID.canonical.z),z=w.tileID.key;E===0&&P===0||Math.abs(P)>1||(Math.abs(E)>1&&(Math.abs(E+M)===1?E+=M:Math.abs(E-M)===1&&(E-=M)),w.dem&&v.dem&&(v.dem.backfillBorder(w.dem,E,P),v.neighboringTiles&&v.neighboringTiles[z]&&(v.neighboringTiles[z].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,d,m,v){for(const w in this._tiles){let E=this._tiles[w];if(v[w]||!E.hasData()||E.tileID.overscaledZ<=d||E.tileID.overscaledZ>m)continue;let P=E.tileID;for(;E&&E.tileID.overscaledZ>d+1;){const z=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[z.key],E&&E.hasData()&&(P=z)}let M=P;for(;M.overscaledZ>d;)if(M=M.scaledTo(M.overscaledZ-1),a[M.key]){v[P.key]=P;break}}}findLoadedParent(a,d){if(a.key in this._loadedParentTiles){const m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=a.overscaledZ-1;m>=d;m--){const v=a.scaledTo(m),w=this._getLoadedTile(v);if(w)return w}}_getLoadedTile(a){const d=this._tiles[a.key];return d&&d.hasData()?d:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const d=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,v=Math.floor(d*m*(this._maxTileCacheZoomLevels===null?o.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(w)}handleWrapJump(a){const d=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,d){const m={};for(const v in this._tiles){const w=this._tiles[v];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+d),m[w.tileID.key]=w}this._tiles=m;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}update(a,d){if(this.transform=a,this.terrain=d,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new o.O(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(m=m.filter(N=>this._source.hasTile(N)))):m=[];const v=a.coveringZoomLevel(this._source),w=Math.max(v-yt.maxOverzooming,this._source.minzoom),E=Math.max(v+yt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const N={};for(const $ of m)if($.canonical.z>this._source.minzoom){const J=$.scaledTo($.canonical.z-1);N[J.key]=J;const he=$.scaledTo(Math.max(this._source.minzoom,Math.min($.canonical.z,5)));N[he.key]=he}m=m.concat(Object.values(N))}const P=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,P&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const M=this._updateRetainedTiles(m,v);if(lt(this._source.type)){const N={},$={},J=Object.keys(M),he=o.h.now();for(const de of J){const ge=M[de],ce=this._tiles[de];if(!ce||ce.fadeEndTime!==0&&ce.fadeEndTime<=he)continue;const Pe=this.findLoadedParent(ge,w);Pe&&(this._addTile(Pe.tileID),N[Pe.tileID.key]=Pe.tileID),$[de]=ge}this._retainLoadedChildren($,v,E,M);for(const de in N)M[de]||(this._coveredTiles[de]=!0,M[de]=N[de]);if(d){const de={},ge={};for(const ce of m)this._tiles[ce.key].hasData()?de[ce.key]=ce:ge[ce.key]=ce;for(const ce in ge){const Pe=ge[ce].children(this._source.maxzoom);this._tiles[Pe[0].key]&&this._tiles[Pe[1].key]&&this._tiles[Pe[2].key]&&this._tiles[Pe[3].key]&&(de[Pe[0].key]=M[Pe[0].key]=Pe[0],de[Pe[1].key]=M[Pe[1].key]=Pe[1],de[Pe[2].key]=M[Pe[2].key]=Pe[2],de[Pe[3].key]=M[Pe[3].key]=Pe[3],delete ge[ce])}for(const ce in ge){const Pe=this.findLoadedParent(ge[ce],this._source.minzoom);if(Pe){de[Pe.tileID.key]=M[Pe.tileID.key]=Pe.tileID;for(const je in de)de[je].isChildOf(Pe.tileID)&&delete de[je]}}for(const ce in this._tiles)de[ce]||(this._coveredTiles[ce]=!0)}}for(const N in M)this._tiles[N].clearFadeHold();const z=o.ab(this._tiles,M);for(const N of z){const $=this._tiles[N];$.hasSymbolBuckets&&!$.holdingForFade()?$.setHoldDuration(this.map._fadeDuration):$.hasSymbolBuckets&&!$.symbolFadeFinished()||this._removeTile(N)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,d){const m={},v={},w=Math.max(d-yt.maxOverzooming,this._source.minzoom),E=Math.max(d+yt.maxUnderzooming,this._source.minzoom),P={};for(const M of a){const z=this._addTile(M);m[M.key]=M,z.hasData()||d<this._source.maxzoom&&(P[M.key]=M)}this._retainLoadedChildren(P,d,E,m);for(const M of a){let z=this._tiles[M.key];if(z.hasData())continue;if(d+1>this._source.maxzoom){const $=M.children(this._source.maxzoom)[0],J=this.getTile($);if(J&&J.hasData()){m[$.key]=$;continue}}else{const $=M.children(this._source.maxzoom);if(m[$[0].key]&&m[$[1].key]&&m[$[2].key]&&m[$[3].key])continue}let N=z.wasRequested();for(let $=M.overscaledZ-1;$>=w;--$){const J=M.scaledTo($);if(v[J.key])break;if(v[J.key]=!0,z=this.getTile(J),!z&&N&&(z=this._addTile(J)),z){const he=z.hasData();if((N||he)&&(m[J.key]=J),N=z.wasRequested(),he)break}}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const d=[];let m,v=this._tiles[a].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}d.push(v.key);const w=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(w),m)break;v=w}for(const w of d)this._loadedParentTiles[w]=m}}_addTile(a){let d=this._tiles[a.key];if(d)return d;d=this._cache.getAndRemove(a),d&&(this._setTileReloadTimer(a.key,d),d.tileID=a,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,d)));const m=d;return d||(d=new pt(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,a.key,d.state))),d.uses++,this._tiles[a.key]=d,m||this._source.fire(new o.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(a,d){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const m=d.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){const d=this._tiles[a];d&&(d.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,d,m){const v=[],w=this.transform;if(!w)return v;const E=m?w.getCameraQueryGeometry(a):a,P=a.map(de=>w.pointCoordinate(de,this.terrain)),M=E.map(de=>w.pointCoordinate(de,this.terrain)),z=this.getIds();let N=1/0,$=1/0,J=-1/0,he=-1/0;for(const de of M)N=Math.min(N,de.x),$=Math.min($,de.y),J=Math.max(J,de.x),he=Math.max(he,de.y);for(let de=0;de<z.length;de++){const ge=this._tiles[z[de]];if(ge.holdingForFade())continue;const ce=ge.tileID,Pe=Math.pow(2,w.zoom-ge.tileID.overscaledZ),je=d*ge.queryPadding*o.N/ge.tileSize/Pe,xe=[ce.getTilePoint(new o.U(N,$)),ce.getTilePoint(new o.U(J,he))];if(xe[0].x-je<o.N&&xe[0].y-je<o.N&&xe[1].x+je>=0&&xe[1].y+je>=0){const Me=P.map(Ke=>ce.getTilePoint(Ke)),Ze=M.map(Ke=>ce.getTilePoint(Ke));v.push({tile:ge,tileID:ce,queryGeometry:Me,cameraQueryGeometry:Ze,scale:Pe})}}return v}getVisibleCoordinates(a){const d=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(const m of d)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(lt(this._source.type)){const a=o.h.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=a)return!0}return!1}setFeatureState(a,d,m){this._state.updateState(a=a||"_geojsonTileLayer",d,m)}removeFeatureState(a,d,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",d,m)}getFeatureState(a,d){return this._state.getState(a=a||"_geojsonTileLayer",d)}setDependencies(a,d,m){const v=this._tiles[a];v&&v.setDependencies(d,m)}reloadTilesForDependencies(a,d){for(const m in this._tiles)this._tiles[m].hasDependency(a,d)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,d))}}function Qe(_,a){const d=Math.abs(2*_.wrap)-+(_.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return _.overscaledZ-a.overscaledZ||m-d||a.canonical.y-_.canonical.y||a.canonical.x-_.canonical.x}function lt(_){return _==="raster"||_==="image"||_==="video"}yt.maxOverzooming=10,yt.maxUnderzooming=3;const Et="mapboxgl_preloaded_worker_pool";class It{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<It.workerCount;)this.workers.push(new Worker(o.c.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Et]}numActive(){return Object.keys(this.active).length}}const an=Math.floor(o.h.hardwareConcurrency/2);let ln;function An(){return ln||(ln=new It),ln}It.workerCount=o.ac(globalThis)?Math.max(Math.min(an,3),1):1;class In{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ad(a,0,1);let d=1,m=this._distances[d];const v=a*this.paddedLength+this.padding;for(;m<v&&d<this._distances.length;)m=this._distances[++d];const w=d-1,E=this._distances[w],P=m-E,M=P>0?(v-E)/P:0;return this.points[w].mult(1-M).add(this.points[d].mult(M))}}function Nn(_,a){let d=!0;return _==="always"||_!=="never"&&a!=="never"||(d=!1),d}class ur{constructor(a,d,m){const v=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(d/m);for(let E=0;E<this.xCellCount*this.yCellCount;E++)v.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,m,v,w){this._forEachCell(d,m,v,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(w)}insertCircle(a,d,m,v){this._forEachCell(d-v,m-v,d+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(m),this.circles.push(v)}_insertBoxCell(a,d,m,v,w,E){this.boxCells[w].push(E)}_insertCircleCell(a,d,m,v,w,E){this.circleCells[w].push(E)}_query(a,d,m,v,w,E,P){if(m<0||a>this.width||v<0||d>this.height)return[];const M=[];if(a<=0&&d<=0&&this.width<=m&&this.height<=v){if(w)return[{key:null,x1:a,y1:d,x2:m,y2:v}];for(let z=0;z<this.boxKeys.length;z++)M.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const N=this.circles[3*z],$=this.circles[3*z+1],J=this.circles[3*z+2];M.push({key:this.circleKeys[z],x1:N-J,y1:$-J,x2:N+J,y2:$+J})}}else this._forEachCell(a,d,m,v,this._queryCell,M,{hitTest:w,overlapMode:E,seenUids:{box:{},circle:{}}},P);return M}query(a,d,m,v){return this._query(a,d,m,v,!1,null)}hitTest(a,d,m,v,w,E){return this._query(a,d,m,v,!0,w,E).length>0}hitTestCircle(a,d,m,v,w){const E=a-m,P=a+m,M=d-m,z=d+m;if(P<0||E>this.width||z<0||M>this.height)return!1;const N=[];return this._forEachCell(E,M,P,z,this._queryCellCircle,N,{hitTest:!0,overlapMode:v,circle:{x:a,y:d,radius:m},seenUids:{box:{},circle:{}}},w),N.length>0}_queryCell(a,d,m,v,w,E,P,M){const{seenUids:z,hitTest:N,overlapMode:$}=P,J=this.boxCells[w];if(J!==null){const de=this.bboxes;for(const ge of J)if(!z.box[ge]){z.box[ge]=!0;const ce=4*ge,Pe=this.boxKeys[ge];if(a<=de[ce+2]&&d<=de[ce+3]&&m>=de[ce+0]&&v>=de[ce+1]&&(!M||M(Pe))&&(!N||!Nn($,Pe.overlapMode))&&(E.push({key:Pe,x1:de[ce],y1:de[ce+1],x2:de[ce+2],y2:de[ce+3]}),N))return!0}}const he=this.circleCells[w];if(he!==null){const de=this.circles;for(const ge of he)if(!z.circle[ge]){z.circle[ge]=!0;const ce=3*ge,Pe=this.circleKeys[ge];if(this._circleAndRectCollide(de[ce],de[ce+1],de[ce+2],a,d,m,v)&&(!M||M(Pe))&&(!N||!Nn($,Pe.overlapMode))){const je=de[ce],xe=de[ce+1],Me=de[ce+2];if(E.push({key:Pe,x1:je-Me,y1:xe-Me,x2:je+Me,y2:xe+Me}),N)return!0}}}return!1}_queryCellCircle(a,d,m,v,w,E,P,M){const{circle:z,seenUids:N,overlapMode:$}=P,J=this.boxCells[w];if(J!==null){const de=this.bboxes;for(const ge of J)if(!N.box[ge]){N.box[ge]=!0;const ce=4*ge,Pe=this.boxKeys[ge];if(this._circleAndRectCollide(z.x,z.y,z.radius,de[ce+0],de[ce+1],de[ce+2],de[ce+3])&&(!M||M(Pe))&&!Nn($,Pe.overlapMode))return E.push(!0),!0}}const he=this.circleCells[w];if(he!==null){const de=this.circles;for(const ge of he)if(!N.circle[ge]){N.circle[ge]=!0;const ce=3*ge,Pe=this.circleKeys[ge];if(this._circlesCollide(de[ce],de[ce+1],de[ce+2],z.x,z.y,z.radius)&&(!M||M(Pe))&&!Nn($,Pe.overlapMode))return E.push(!0),!0}}}_forEachCell(a,d,m,v,w,E,P,M){const z=this._convertToXCellCoord(a),N=this._convertToYCellCoord(d),$=this._convertToXCellCoord(m),J=this._convertToYCellCoord(v);for(let he=z;he<=$;he++)for(let de=N;de<=J;de++)if(w.call(this,a,d,m,v,this.xCellCount*de+he,E,P,M))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,m,v,w,E){const P=v-a,M=w-d,z=m+E;return z*z>P*P+M*M}_circleAndRectCollide(a,d,m,v,w,E,P){const M=(E-v)/2,z=Math.abs(a-(v+M));if(z>M+m)return!1;const N=(P-w)/2,$=Math.abs(d-(w+N));if($>N+m)return!1;if(z<=M||$<=N)return!0;const J=z-M,he=$-N;return J*J+he*he<=m*m}}function gt(_,a,d,m,v){const w=o.Z();return a?(o.a0(w,w,[1/v,1/v,1]),d||o.ae(w,w,m.angle)):o.a1(w,m.labelPlaneMatrix,_),w}function xi(_,a,d,m,v){if(a){const w=o.af(_);return o.a0(w,w,[v,v,1]),d||o.ae(w,w,-m.angle),w}return m.glCoordMatrix}function kn(_,a,d){let m;d?(m=[_.x,_.y,d(_.x,_.y),1],o.ag(m,m,a)):(m=[_.x,_.y,0,1],ye(m,m,a));const v=m[3];return{point:new o.P(m[0]/v,m[1]/v),signedDistanceFromCamera:v}}function fa(_,a){return .5+_/a*.5}function dr(_,a){const d=_[0]/_[3],m=_[1]/_[3];return d>=-a[0]&&d<=a[0]&&m>=-a[1]&&m<=a[1]}function Ct(_,a,d,m,v,w,E,P,M,z){const N=m?_.textSizeData:_.iconSizeData,$=o.ah(N,d.transform.zoom),J=[256/d.width*2+1,256/d.height*2+1],he=m?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;he.clear();const de=_.lineVertexArray,ge=m?_.text.placedSymbolArray:_.icon.placedSymbolArray,ce=d.transform.width/d.transform.height;let Pe=!1;for(let je=0;je<ge.length;je++){const xe=ge.get(je);if(xe.hidden||xe.writingMode===o.ai.vertical&&!Pe){oe(xe.numGlyphs,he);continue}let Me;if(Pe=!1,z?(Me=[xe.anchorX,xe.anchorY,z(xe.anchorX,xe.anchorY),1],o.ag(Me,Me,a)):(Me=[xe.anchorX,xe.anchorY,0,1],ye(Me,Me,a)),!dr(Me,J)){oe(xe.numGlyphs,he);continue}const Ze=fa(d.transform.cameraToCenterDistance,Me[3]),Ke=o.aj(N,$,xe),rt=E?Ke/Ze:Ke*Ze,bt=new o.P(xe.anchorX,xe.anchorY),ft=kn(bt,v,z).point,At={projections:{},offsets:{}},Yt=Vi(xe,rt,!1,P,a,v,w,_.glyphOffsetArray,de,he,ft,bt,At,ce,M,z);Pe=Yt.useVertical,(Yt.notEnoughRoom||Pe||Yt.needsFlipping&&Vi(xe,rt,!0,P,a,v,w,_.glyphOffsetArray,de,he,ft,bt,At,ce,M,z).notEnoughRoom)&&oe(xe.numGlyphs,he)}m?_.text.dynamicLayoutVertexBuffer.updateData(he):_.icon.dynamicLayoutVertexBuffer.updateData(he)}function vn(_,a,d,m,v,w,E,P,M,z,N,$,J){const he=P.glyphStartIndex+P.numGlyphs,de=P.lineStartIndex,ge=P.lineStartIndex+P.lineLength,ce=a.getoffsetX(P.glyphStartIndex),Pe=a.getoffsetX(he-1),je=G(_*ce,d,m,v,w,E,P.segment,de,ge,M,z,N,$,J);if(!je)return null;const xe=G(_*Pe,d,m,v,w,E,P.segment,de,ge,M,z,N,$,J);return xe?{first:je,last:xe}:null}function mn(_,a,d,m){return _===o.ai.horizontal&&Math.abs(d.y-a.y)>Math.abs(d.x-a.x)*m?{useVertical:!0}:(_===o.ai.vertical?a.y<d.y:a.x>d.x)?{needsFlipping:!0}:null}function Vi(_,a,d,m,v,w,E,P,M,z,N,$,J,he,de,ge){const ce=a/24,Pe=_.lineOffsetX*ce,je=_.lineOffsetY*ce;let xe;if(_.numGlyphs>1){const Me=_.glyphStartIndex+_.numGlyphs,Ze=_.lineStartIndex,Ke=_.lineStartIndex+_.lineLength,rt=vn(ce,P,Pe,je,d,N,$,_,M,w,J,de,ge);if(!rt)return{notEnoughRoom:!0};const bt=kn(rt.first.point,E,ge).point,ft=kn(rt.last.point,E,ge).point;if(m&&!d){const At=mn(_.writingMode,bt,ft,he);if(At)return At}xe=[rt.first];for(let At=_.glyphStartIndex+1;At<Me-1;At++)xe.push(G(ce*P.getoffsetX(At),Pe,je,d,N,$,_.segment,Ze,Ke,M,w,J,de,ge));xe.push(rt.last)}else{if(m&&!d){const Ze=kn($,v,ge).point,Ke=_.lineStartIndex+_.segment+1,rt=new o.P(M.getx(Ke),M.gety(Ke)),bt=kn(rt,v,ge),ft=bt.signedDistanceFromCamera>0?bt.point:ss($,rt,Ze,1,v,ge),At=mn(_.writingMode,Ze,ft,he);if(At)return At}const Me=G(ce*P.getoffsetX(_.glyphStartIndex),Pe,je,d,N,$,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,M,w,J,de,ge);if(!Me)return{notEnoughRoom:!0};xe=[Me]}for(const Me of xe)o.ak(z,Me.point,Me.angle);return{}}function ss(_,a,d,m,v,w){const E=kn(_.add(_.sub(a)._unit()),v,w).point,P=d.sub(E);return d.add(P._mult(m/P.mag()))}function yn(_,a){const{projectionCache:d,lineVertexArray:m,labelPlaneMatrix:v,tileAnchorPoint:w,distanceFromAnchor:E,getElevation:P,previousVertex:M,direction:z,absOffsetX:N}=a;if(d.projections[_])return d.projections[_];const $=new o.P(m.getx(_),m.gety(_)),J=kn($,v,P);if(J.signedDistanceFromCamera>0)return d.projections[_]=J.point,J.point;const he=_-z;return ss(E===0?w:new o.P(m.getx(he),m.gety(he)),$,M,N-E+1,v,P)}function Ps(_,a,d){return _._unit()._perp()._mult(a*d)}function pe(_,a,d,m,v,w,E,P){const{projectionCache:M,direction:z}=P;if(M.offsets[_])return M.offsets[_];const N=d.add(a);if(_+z<m||_+z>=v)return M.offsets[_]=N,N;const $=yn(_+z,P),J=Ps($.sub(d),E,z),he=d.add(J),de=$.add(J);return M.offsets[_]=o.al(w,N,he,de)||N,M.offsets[_]}function G(_,a,d,m,v,w,E,P,M,z,N,$,J,he){const de=m?_-a:_+a;let ge=de>0?1:-1,ce=0;m&&(ge*=-1,ce=Math.PI),ge<0&&(ce+=Math.PI);let Pe,je,xe=ge>0?P+E:P+E+1,Me=v,Ze=v,Ke=0,rt=0;const bt=Math.abs(de),ft=[];let At;for(;Ke+rt<=bt;){if(xe+=ge,xe<P||xe>=M)return null;Ke+=rt,Ze=Me,je=Pe;const Ot={projectionCache:$,lineVertexArray:z,labelPlaneMatrix:N,tileAnchorPoint:w,distanceFromAnchor:Ke,getElevation:he,previousVertex:Ze,direction:ge,absOffsetX:bt};if(Me=yn(xe,Ot),d===0)ft.push(Ze),At=Me.sub(Ze);else{let on;const Xt=Me.sub(Ze);on=Xt.mag()===0?Ps(yn(xe+ge,Ot).sub(Me),d,ge):Ps(Xt,d,ge),je||(je=Ze.add(on)),Pe=pe(xe,on,Me,P,M,je,d,Ot),ft.push(je),At=Pe.sub(je)}rt=At.mag()}const Yt=At._mult((bt-Ke)/rt)._add(je||Ze),Pn=ce+Math.atan2(Me.y-Ze.y,Me.x-Ze.x);return ft.push(Yt),{point:Yt,angle:J?Pn:0,path:ft}}const X=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function oe(_,a){for(let d=0;d<_;d++){const m=a.length;a.resize(m+4),a.float32.set(X,3*m)}}function ye(_,a,d){const m=a[0],v=a[1];return _[0]=d[0]*m+d[4]*v+d[12],_[1]=d[1]*m+d[5]*v+d[13],_[3]=d[3]*m+d[7]*v+d[15],_}const be=100;class Fe{constructor(a,d=new ur(a.width+200,a.height+200,25),m=new ur(a.width+200,a.height+200,25)){this.transform=a,this.grid=d,this.ignoredGrid=m,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+be,this.screenBottomBoundary=a.height+be,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,d,m,v,w,E){const P=this.projectAndGetPerspectiveRatio(v,a.anchorPointX,a.anchorPointY,E),M=m*P.perspectiveRatio,z=a.x1*M+P.point.x,N=a.y1*M+P.point.y,$=a.x2*M+P.point.x,J=a.y2*M+P.point.y;return!this.isInsideGrid(z,N,$,J)||d!=="always"&&this.grid.hitTest(z,N,$,J,d,w)||P.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[z,N,$,J],offscreen:this.isOffscreen(z,N,$,J)}}placeCollisionCircles(a,d,m,v,w,E,P,M,z,N,$,J,he,de){const ge=[],ce=new o.P(d.anchorX,d.anchorY),Pe=kn(ce,E,de),je=fa(this.transform.cameraToCenterDistance,Pe.signedDistanceFromCamera),xe=(N?w/je:w*je)/o.ap,Me=kn(ce,P,de).point,Ze=vn(xe,v,d.lineOffsetX*xe,d.lineOffsetY*xe,!1,Me,ce,d,m,P,{projections:{},offsets:{}},!1,de);let Ke=!1,rt=!1,bt=!0;if(Ze){const ft=.5*J*je+he,At=new o.P(-100,-100),Yt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Pn=new In,Ot=Ze.first,on=Ze.last;let Xt=[];for(let xn=Ot.path.length-1;xn>=1;xn--)Xt.push(Ot.path[xn]);for(let xn=1;xn<on.path.length;xn++)Xt.push(on.path[xn]);const tr=2.5*ft;if(M){const xn=Xt.map(Dn=>kn(Dn,M,de));Xt=xn.some(Dn=>Dn.signedDistanceFromCamera<=0)?[]:xn.map(Dn=>Dn.point)}let En=[];if(Xt.length>0){const xn=Xt[0].clone(),Dn=Xt[0].clone();for(let qr=1;qr<Xt.length;qr++)xn.x=Math.min(xn.x,Xt[qr].x),xn.y=Math.min(xn.y,Xt[qr].y),Dn.x=Math.max(Dn.x,Xt[qr].x),Dn.y=Math.max(Dn.y,Xt[qr].y);En=xn.x>=At.x&&Dn.x<=Yt.x&&xn.y>=At.y&&Dn.y<=Yt.y?[Xt]:Dn.x<At.x||xn.x>Yt.x||Dn.y<At.y||xn.y>Yt.y?[]:o.am([Xt],At.x,At.y,Yt.x,Yt.y)}for(const xn of En){Pn.reset(xn,.25*ft);let Dn=0;Dn=Pn.length<=.5*ft?1:Math.ceil(Pn.paddedLength/tr)+1;for(let qr=0;qr<Dn;qr++){const fr=qr/Math.max(Dn-1,1),Ci=Pn.lerp(fr),ci=Ci.x+be,Zr=Ci.y+be;ge.push(ci,Zr,ft,0);const _a=ci-ft,_r=Zr-ft,ls=ci+ft,cs=Zr+ft;if(bt=bt&&this.isOffscreen(_a,_r,ls,cs),rt=rt||this.isInsideGrid(_a,_r,ls,cs),a!=="always"&&this.grid.hitTestCircle(ci,Zr,ft,a,$)&&(Ke=!0,!z))return{circles:[],offscreen:!1,collisionDetected:Ke}}}}return{circles:!z&&Ke||!rt||je<this.perspectiveRatioCutoff?[]:ge,offscreen:bt,collisionDetected:Ke}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let m=1/0,v=1/0,w=-1/0,E=-1/0;for(const N of a){const $=new o.P(N.x+be,N.y+be);m=Math.min(m,$.x),v=Math.min(v,$.y),w=Math.max(w,$.x),E=Math.max(E,$.y),d.push($)}const P=this.grid.query(m,v,w,E).concat(this.ignoredGrid.query(m,v,w,E)),M={},z={};for(const N of P){const $=N.key;if(M[$.bucketInstanceId]===void 0&&(M[$.bucketInstanceId]={}),M[$.bucketInstanceId][$.featureIndex])continue;const J=[new o.P(N.x1,N.y1),new o.P(N.x2,N.y1),new o.P(N.x2,N.y2),new o.P(N.x1,N.y2)];o.an(d,J)&&(M[$.bucketInstanceId][$.featureIndex]=!0,z[$.bucketInstanceId]===void 0&&(z[$.bucketInstanceId]=[]),z[$.bucketInstanceId].push($.featureIndex))}return z}insertCollisionBox(a,d,m,v,w,E){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:w,collisionGroupID:E,overlapMode:d},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,m,v,w,E){const P=m?this.ignoredGrid:this.grid,M={bucketInstanceId:v,featureIndex:w,collisionGroupID:E,overlapMode:d};for(let z=0;z<a.length;z+=4)P.insertCircle(M,a[z],a[z+1],a[z+2])}projectAndGetPerspectiveRatio(a,d,m,v){let w;return v?(w=[d,m,v(d,m),1],o.ag(w,w,a)):(w=[d,m,0,1],ye(w,w,a)),{point:new o.P((w[0]/w[3]+1)/2*this.transform.width+be,(-w[1]/w[3]+1)/2*this.transform.height+be),perspectiveRatio:.5+this.transform.cameraToCenterDistance/w[3]*.5}}isOffscreen(a,d,m,v){return m<be||a>=this.screenRightBoundary||v<be||d>this.screenBottomBoundary}isInsideGrid(a,d,m,v){return m>=0&&a<this.gridRightBoundary&&v>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const a=o.ao([]);return o.$(a,a,[-100,-100,0]),a}}function Ee(_,a,d){return a*(o.N/(_.tileSize*Math.pow(2,d-_.tileID.overscaledZ)))}class Se{constructor(a,d,m,v){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):v&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Re{constructor(a,d,m,v,w){this.text=new Se(a?a.text:null,d,m,w),this.icon=new Se(a?a.icon:null,d,v,w)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class et{constructor(a,d,m){this.text=a,this.icon=d,this.skipFade=m}}class nt{constructor(){this.invProjMatrix=o.Z(),this.viewportMatrix=o.Z(),this.circles=[]}}class ut{constructor(a,d,m,v,w){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=w}}class tn{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[a]}}function un(_,a,d,m,v){const{horizontalAlign:w,verticalAlign:E}=o.au(_);return new o.P(-(w-.5)*a+m[0]*v,-(E-.5)*d+m[1]*v)}function Wt(_,a,d,m,v,w){const{x1:E,x2:P,y1:M,y2:z,anchorPointX:N,anchorPointY:$}=_,J=new o.P(a,d);return m&&J._rotate(v?w:-w),{x1:E+J.x,y1:M+J.y,x2:P+J.x,y2:z+J.y,anchorPointX:N,anchorPointY:$}}class rn{constructor(a,d,m,v,w){this.transform=a.clone(),this.terrain=d,this.collisionIndex=new Fe(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new tn(v),this.collisionCircleArrays={},this.prevPlacement=w,w&&(w.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,d,m,v){const w=m.getBucket(d),E=m.latestFeatureIndex;if(!w||!E||d.id!==w.layerIds[0])return;const P=m.collisionBoxArray,M=w.layers[0].layout,z=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),N=m.tileSize/o.N,$=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),J=M.get("text-pitch-alignment")==="map",he=M.get("text-rotation-alignment")==="map",de=Ee(m,1,this.transform.zoom),ge=gt($,J,he,this.transform,de);let ce=null;if(J){const je=xi($,J,he,this.transform,de);ce=o.a1([],this.transform.labelPlaneMatrix,je)}this.retainedQueryData[w.bucketInstanceId]=new ut(w.bucketInstanceId,E,w.sourceLayerIndex,w.index,m.tileID);const Pe={bucket:w,layout:M,posMatrix:$,textLabelPlaneMatrix:ge,labelToScreenMatrix:ce,scale:z,textPixelRatio:N,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:o.ah(w.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(w.sourceID)};if(v)for(const je of w.sortKeyRanges){const{sortKey:xe,symbolInstanceStart:Me,symbolInstanceEnd:Ze}=je;a.push({sortKey:xe,symbolInstanceStart:Me,symbolInstanceEnd:Ze,parameters:Pe})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:w.symbolInstances.length,parameters:Pe})}attemptAnchorPlacement(a,d,m,v,w,E,P,M,z,N,$,J,he,de,ge,ce){const Pe=o.aq[a.textAnchor],je=[a.textOffset0,a.textOffset1],xe=un(Pe,m,v,je,w),Me=this.collisionIndex.placeCollisionBox(Wt(d,xe.x,xe.y,E,P,this.transform.angle),$,M,z,N.predicate,ce);if((!ge||this.collisionIndex.placeCollisionBox(Wt(ge,xe.x,xe.y,E,P,this.transform.angle),$,M,z,N.predicate,ce).box.length!==0)&&Me.box.length>0){let Ze;if(this.prevPlacement&&this.prevPlacement.variableOffsets[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID].text&&(Ze=this.prevPlacement.variableOffsets[J.crossTileID].anchor),J.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[J.crossTileID]={textOffset:je,width:m,height:v,anchor:Pe,textBoxScale:w,prevAnchor:Ze},this.markUsedJustification(he,Pe,J,de),he.allowVerticalPlacement&&(this.markUsedOrientation(he,de,J),this.placedOrientations[J.crossTileID]=de),{shift:xe,placedGlyphBoxes:Me}}}placeLayerBucketPart(a,d,m){const{bucket:v,layout:w,posMatrix:E,textLabelPlaneMatrix:P,labelToScreenMatrix:M,textPixelRatio:z,holdingForFade:N,collisionBoxArray:$,partiallyEvaluatedTextSize:J,collisionGroup:he}=a.parameters,de=w.get("text-optional"),ge=w.get("icon-optional"),ce=o.ar(w,"text-overlap","text-allow-overlap"),Pe=ce==="always",je=o.ar(w,"icon-overlap","icon-allow-overlap"),xe=je==="always",Me=w.get("text-rotation-alignment")==="map",Ze=w.get("text-pitch-alignment")==="map",Ke=w.get("icon-text-fit")!=="none",rt=w.get("symbol-z-order")==="viewport-y",bt=Pe&&(xe||!v.hasIconData()||ge),ft=xe&&(Pe||!v.hasTextData()||de);!v.collisionArrays&&$&&v.deserializeCollisionBoxes($);const At=this.retainedQueryData[v.bucketInstanceId].tileID,Yt=this.terrain?(Ot,on)=>this.terrain.getElevation(At,Ot,on):null,Pn=(Ot,on)=>{var Xt,tr;if(d[Ot.crossTileID])return;if(N)return void(this.placements[Ot.crossTileID]=new et(!1,!1,!1));let En=!1,xn=!1,Dn=!0,qr=null,fr={box:null,offscreen:null},Ci={box:null,offscreen:null},ci=null,Zr=null,_a=null,_r=0,ls=0,cs=0;on.textFeatureIndex?_r=on.textFeatureIndex:Ot.useRuntimeCollisionCircles&&(_r=Ot.featureIndex),on.verticalTextFeatureIndex&&(ls=on.verticalTextFeatureIndex);const po=on.textBox;if(po){const Li=jr=>{let ui=o.ai.horizontal;if(v.allowVerticalPlacement&&!jr&&this.prevPlacement){const Qi=this.prevPlacement.placedOrientations[Ot.crossTileID];Qi&&(this.placedOrientations[Ot.crossTileID]=Qi,ui=Qi,this.markUsedOrientation(v,ui,Ot))}return ui},Ti=(jr,ui)=>{if(v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&on.verticalTextBox){for(const Qi of v.writingModes)if(Qi===o.ai.vertical?(fr=ui(),Ci=fr):fr=jr(),fr&&fr.box&&fr.box.length)break}else fr=jr()},$i=Ot.textAnchorOffsetStartIndex,Yo=Ot.textAnchorOffsetEndIndex;if(Yo===$i){const jr=(ui,Qi)=>{const Hr=this.collisionIndex.placeCollisionBox(ui,ce,z,E,he.predicate,Yt);return Hr&&Hr.box&&Hr.box.length&&(this.markUsedOrientation(v,Qi,Ot),this.placedOrientations[Ot.crossTileID]=Qi),Hr};Ti(()=>jr(po,o.ai.horizontal),()=>{const ui=on.verticalTextBox;return v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&ui?jr(ui,o.ai.vertical):{box:null,offscreen:null}}),Li(fr&&fr.box&&fr.box.length)}else{let jr=o.aq[(tr=(Xt=this.prevPlacement)===null||Xt===void 0?void 0:Xt.variableOffsets[Ot.crossTileID])===null||tr===void 0?void 0:tr.anchor];const ui=(Hr,Zo,Wu)=>{const fp=Hr.x2-Hr.x1,mp=Hr.y2-Hr.y1,py=Ot.textBoxScale,Nh=Ke&&je==="never"?Zo:null;let us={box:[],offscreen:!1},Ko=ce==="never"?1:2,ds="never";jr&&Ko++;for(let La=0;La<Ko;La++){for(let hs=$i;hs<Yo;hs++){const $h=v.textAnchorOffsets.get(hs);if(jr&&$h.textAnchor!==jr)continue;const Fs=this.attemptAnchorPlacement($h,Hr,fp,mp,py,Me,Ze,z,E,he,ds,Ot,v,Wu,Nh,Yt);if(Fs&&(us=Fs.placedGlyphBoxes,us&&us.box&&us.box.length))return En=!0,qr=Fs.shift,us}jr?jr=null:ds=ce}return us};Ti(()=>ui(po,on.iconBox,o.ai.horizontal),()=>{const Hr=on.verticalTextBox;return v.allowVerticalPlacement&&!(fr&&fr.box&&fr.box.length)&&Ot.numVerticalGlyphVertices>0&&Hr?ui(Hr,on.verticalIconBox,o.ai.vertical):{box:null,offscreen:null}}),fr&&(En=fr.box,Dn=fr.offscreen);const Qi=Li(fr&&fr.box);if(!En&&this.prevPlacement){const Hr=this.prevPlacement.variableOffsets[Ot.crossTileID];Hr&&(this.variableOffsets[Ot.crossTileID]=Hr,this.markUsedJustification(v,Hr.anchor,Ot,Qi))}}}if(ci=fr,En=ci&&ci.box&&ci.box.length>0,Dn=ci&&ci.offscreen,Ot.useRuntimeCollisionCircles){const Li=v.text.placedSymbolArray.get(Ot.centerJustifiedTextSymbolIndex),Ti=o.aj(v.textSizeData,J,Li),$i=w.get("text-padding");Zr=this.collisionIndex.placeCollisionCircles(ce,Li,v.lineVertexArray,v.glyphOffsetArray,Ti,E,P,M,m,Ze,he.predicate,Ot.collisionCircleDiameter,$i,Yt),Zr.circles.length&&Zr.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),En=Pe||Zr.circles.length>0&&!Zr.collisionDetected,Dn=Dn&&Zr.offscreen}if(on.iconFeatureIndex&&(cs=on.iconFeatureIndex),on.iconBox){const Li=Ti=>{const $i=Ke&&qr?Wt(Ti,qr.x,qr.y,Me,Ze,this.transform.angle):Ti;return this.collisionIndex.placeCollisionBox($i,je,z,E,he.predicate,Yt)};Ci&&Ci.box&&Ci.box.length&&on.verticalIconBox?(_a=Li(on.verticalIconBox),xn=_a.box.length>0):(_a=Li(on.iconBox),xn=_a.box.length>0),Dn=Dn&&_a.offscreen}const Wo=de||Ot.numHorizontalGlyphVertices===0&&Ot.numVerticalGlyphVertices===0,zl=ge||Ot.numIconVertices===0;if(Wo||zl?zl?Wo||(xn=xn&&En):En=xn&&En:xn=En=xn&&En,En&&ci&&ci.box&&this.collisionIndex.insertCollisionBox(ci.box,ce,w.get("text-ignore-placement"),v.bucketInstanceId,Ci&&Ci.box&&ls?ls:_r,he.ID),xn&&_a&&this.collisionIndex.insertCollisionBox(_a.box,je,w.get("icon-ignore-placement"),v.bucketInstanceId,cs,he.ID),Zr&&(En&&this.collisionIndex.insertCollisionCircles(Zr.circles,ce,w.get("text-ignore-placement"),v.bucketInstanceId,_r,he.ID),m)){const Li=v.bucketInstanceId;let Ti=this.collisionCircleArrays[Li];Ti===void 0&&(Ti=this.collisionCircleArrays[Li]=new nt);for(let $i=0;$i<Zr.circles.length;$i+=4)Ti.circles.push(Zr.circles[$i+0]),Ti.circles.push(Zr.circles[$i+1]),Ti.circles.push(Zr.circles[$i+2]),Ti.circles.push(Zr.collisionDetected?1:0)}if(Ot.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Ot.crossTileID]=new et(En||bt,xn||ft,Dn||v.justReloaded),d[Ot.crossTileID]=!0};if(rt){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Ot=v.getSortedSymbolIndexes(this.transform.angle);for(let on=Ot.length-1;on>=0;--on){const Xt=Ot[on];Pn(v.symbolInstances.get(Xt),v.collisionArrays[Xt])}}else for(let Ot=a.symbolInstanceStart;Ot<a.symbolInstanceEnd;Ot++)Pn(v.symbolInstances.get(Ot),v.collisionArrays[Ot]);if(m&&v.bucketInstanceId in this.collisionCircleArrays){const Ot=this.collisionCircleArrays[v.bucketInstanceId];o.as(Ot.invProjMatrix,E),Ot.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}markUsedJustification(a,d,m,v){let w;w=v===o.ai.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.at(d)];const E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const P of E)P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=w>=0&&P!==w?0:m.crossTileID)}markUsedOrientation(a,d,m){const v=d===o.ai.horizontal||d===o.ai.horizontalOnly?d:0,w=d===o.ai.vertical?d:0,E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const P of E)a.text.placedSymbolArray.get(P).placedOrientation=v;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=w)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const v=d?d.symbolFadeChange(a):1,w=d?d.opacities:{},E=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(const M in this.placements){const z=this.placements[M],N=w[M];N?(this.opacities[M]=new Re(N,v,z.text,z.icon),m=m||z.text!==N.text.placed||z.icon!==N.icon.placed):(this.opacities[M]=new Re(null,v,z.text,z.icon,z.skipFade),m=m||z.text||z.icon)}for(const M in w){const z=w[M];if(!this.opacities[M]){const N=new Re(z,v,!1,!1);N.isHidden()||(this.opacities[M]=N,m=m||z.text.placed||z.icon.placed)}}for(const M in E)this.variableOffsets[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.variableOffsets[M]=E[M]);for(const M in P)this.placedOrientations[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.placedOrientations[M]=P[M]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){const m={};for(const v of d){const w=v.getBucket(a);w&&v.latestFeatureIndex&&a.id===w.layerIds[0]&&this.updateBucketOpacities(w,m,v.collisionBoxArray)}}updateBucketOpacities(a,d,m){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const v=a.layers[0],w=v.layout,E=new Re(null,0,!1,!1,!0),P=w.get("text-allow-overlap"),M=w.get("icon-allow-overlap"),z=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),N=w.get("text-rotation-alignment")==="map",$=w.get("text-pitch-alignment")==="map",J=w.get("icon-text-fit")!=="none",he=new Re(null,0,P&&(M||!a.hasIconData()||w.get("icon-optional")),M&&(P||!a.hasTextData()||w.get("text-optional")),!0);!a.collisionArrays&&m&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(m);const de=(ge,ce,Pe)=>{for(let je=0;je<ce/4;je++)ge.opacityVertexArray.emplaceBack(Pe);ge.hasVisibleVertices=ge.hasVisibleVertices||Pe!==Aa};for(let ge=0;ge<a.symbolInstances.length;ge++){const ce=a.symbolInstances.get(ge),{numHorizontalGlyphVertices:Pe,numVerticalGlyphVertices:je,crossTileID:xe}=ce;let Me=this.opacities[xe];d[xe]?Me=E:Me||(Me=he,this.opacities[xe]=Me),d[xe]=!0;const Ze=ce.numIconVertices>0,Ke=this.placedOrientations[ce.crossTileID],rt=Ke===o.ai.vertical,bt=Ke===o.ai.horizontal||Ke===o.ai.horizontalOnly;if(Pe>0||je>0){const ft=Si(Me.text);de(a.text,Pe,rt?Aa:ft),de(a.text,je,bt?Aa:ft);const At=Me.text.isHidden();[ce.rightJustifiedTextSymbolIndex,ce.centerJustifiedTextSymbolIndex,ce.leftJustifiedTextSymbolIndex].forEach(Ot=>{Ot>=0&&(a.text.placedSymbolArray.get(Ot).hidden=At||rt?1:0)}),ce.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ce.verticalPlacedTextSymbolIndex).hidden=At||bt?1:0);const Yt=this.variableOffsets[ce.crossTileID];Yt&&this.markUsedJustification(a,Yt.anchor,ce,Ke);const Pn=this.placedOrientations[ce.crossTileID];Pn&&(this.markUsedJustification(a,"left",ce,Pn),this.markUsedOrientation(a,Pn,ce))}if(Ze){const ft=Si(Me.icon),At=!(J&&ce.verticalPlacedIconSymbolIndex&&rt);ce.placedIconSymbolIndex>=0&&(de(a.icon,ce.numIconVertices,At?ft:Aa),a.icon.placedSymbolArray.get(ce.placedIconSymbolIndex).hidden=Me.icon.isHidden()),ce.verticalPlacedIconSymbolIndex>=0&&(de(a.icon,ce.numVerticalIconVertices,At?Aa:ft),a.icon.placedSymbolArray.get(ce.verticalPlacedIconSymbolIndex).hidden=Me.icon.isHidden())}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const ft=a.collisionArrays[ge];if(ft){let At=new o.P(0,0);if(ft.textBox||ft.verticalTextBox){let Pn=!0;if(z){const Ot=this.variableOffsets[xe];Ot?(At=un(Ot.anchor,Ot.width,Ot.height,Ot.textOffset,Ot.textBoxScale),N&&At._rotate($?this.transform.angle:-this.transform.angle)):Pn=!1}ft.textBox&&pn(a.textCollisionBox.collisionVertexArray,Me.text.placed,!Pn||rt,At.x,At.y),ft.verticalTextBox&&pn(a.textCollisionBox.collisionVertexArray,Me.text.placed,!Pn||bt,At.x,At.y)}const Yt=!!(!bt&&ft.verticalIconBox);ft.iconBox&&pn(a.iconCollisionBox.collisionVertexArray,Me.icon.placed,Yt,J?At.x:0,J?At.y:0),ft.verticalIconBox&&pn(a.iconCollisionBox.collisionVertexArray,Me.icon.placed,!Yt,J?At.x:0,J?At.y:0)}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const ge=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=ge.invProjMatrix,a.placementViewportMatrix=ge.viewportMatrix,a.collisionCircleArray=ge.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){const m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function pn(_,a,d,m,v){_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0)}const Zn=Math.pow(2,25),sr=Math.pow(2,24),$n=Math.pow(2,17),Bn=Math.pow(2,16),Di=Math.pow(2,9),hr=Math.pow(2,8),ei=Math.pow(2,1);function Si(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const a=_.placed?1:0,d=Math.floor(127*_.opacity);return d*Zn+a*sr+d*$n+a*Bn+d*Di+a*hr+d*ei+a}const Aa=0;class Im{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,m,v,w){const E=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(E,v,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((P,M)=>P.sortKey-M.sortKey));this._currentPartIndex<E.length;)if(d.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,w())return!0;return!1}}class kl{constructor(a,d,m,v,w,E,P,M){this.placement=new rn(a,d,E,P,M),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=w,this._done=!1}isDone(){return this._done}continuePlacement(a,d,m){const v=o.h.now(),w=()=>!this._forceFullPlacement&&o.h.now()-v>2;for(;this._currentPlacementIndex>=0;){const E=d[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=P)&&(!E.maxzoom||E.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new Im(E)),this._inProgressLayer.continuePlacement(m[E.source],this.placement,this._showCollisionBoxes,E,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const Cl=512/o.N/2;class Jv{constructor(a,d,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};const v=new Map;for(let w=0;w<d.length;w++){const E=d.get(w),P=E.key,M=v.get(P);M?M.push(E):v.set(P,[E])}for(const[w,E]of v){const P={positions:E.map(M=>({x:Math.floor(M.anchorX*Cl),y:Math.floor(M.anchorY*Cl)})),crossTileIDs:E.map(M=>M.crossTileID)};if(P.positions.length>128){const M=new o.av(P.positions.length,16,Uint16Array);for(const{x:z,y:N}of P.positions)M.add(z,N);M.finish(),delete P.positions,P.index=M}this._symbolsByKey[w]=P}}getScaledCoordinates(a,d){const{x:m,y:v,z:w}=this.tileID.canonical,{x:E,y:P,z:M}=d.canonical,z=Cl/Math.pow(2,M-w),N=(P*o.N+a.anchorY)*z,$=v*o.N*Cl;return{x:Math.floor((E*o.N+a.anchorX)*z-m*o.N*Cl),y:Math.floor(N-$)}}findMatches(a,d,m){const v=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let w=0;w<a.length;w++){const E=a.get(w);if(E.crossTileID)continue;const P=this._symbolsByKey[E.key];if(!P)continue;const M=this.getScaledCoordinates(E,d);if(P.index){const z=P.index.range(M.x-v,M.y-v,M.x+v,M.y+v).sort();for(const N of z){const $=P.crossTileIDs[N];if(!m[$]){m[$]=!0,E.crossTileID=$;break}}}else if(P.positions)for(let z=0;z<P.positions.length;z++){const N=P.positions[z],$=P.crossTileIDs[z];if(Math.abs(N.x-M.x)<=v&&Math.abs(N.y-M.y)<=v&&!m[$]){m[$]=!0,E.crossTileID=$;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class er{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Qd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const d=Math.round((a-this.lng)/360);if(d!==0)for(const m in this.indexes){const v=this.indexes[m],w={};for(const E in v){const P=v[E];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),w[P.tileID.key]=P}this.indexes[m]=w}this.lng=a}addBucket(a,d,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let w=0;w<d.symbolInstances.length;w++)d.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const v=this.usedCrossTileIDs[a.overscaledZ];for(const w in this.indexes){const E=this.indexes[w];if(Number(w)>a.overscaledZ)for(const P in E){const M=E[P];M.tileID.isChildOf(a)&&M.findMatches(d.symbolInstances,a,v)}else{const P=E[a.scaledTo(Number(w)).key];P&&P.findMatches(d.symbolInstances,a,v)}}for(let w=0;w<d.symbolInstances.length;w++){const E=d.symbolInstances.get(w);E.crossTileID||(E.crossTileID=m.generate(),v[E.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Jv(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(const m of d.getCrossTileIDsLists())for(const v of m)delete this.usedCrossTileIDs[a][v]}removeStaleBuckets(a){let d=!1;for(const m in this.indexes){const v=this.indexes[m];for(const w in v)a[v[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[w]),delete v[w],d=!0)}return d}}class _u{constructor(){this.layerIndexes={},this.crossTileIDs=new er,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,m){let v=this.layerIndexes[a.id];v===void 0&&(v=this.layerIndexes[a.id]=new Qd);let w=!1;const E={};v.handleWrapJump(m);for(const P of d){const M=P.getBucket(a);M&&a.id===M.layerIds[0]&&(M.bucketInstanceId||(M.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(P.tileID,M,this.crossTileIDs)&&(w=!0),E[M.bucketInstanceId]=!0)}return v.removeStaleBuckets(E)&&(w=!0),w}pruneUnusedLayers(a){const d={};a.forEach(m=>{d[m]=!0});for(const m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}const Mi=(_,a)=>o.x(_,a&&a.filter(d=>d.identifier!=="source.canvas")),ma=o.F(o.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Qv=o.F(o.ax,["setCenter","setZoom","setBearing","setPitch"]),Ea=o.aw();class ki extends o.E{constructor(a,d={}){super(),this.map=a,this.dispatcher=new Je(An(),this,a._getMapId()),this.imageManager=new ne,this.imageManager.setEventedParent(this),this.glyphManager=new Ae(a._requestManager,d.localIdeographFontFamily),this.lineAtlas=new Ve(256,512),this.crossTileSymbolIndex=new _u,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.az());const m=this;this._rtlTextPluginCallback=ki.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(w,E)=>{if(o.aA(w),E&&E.every(P=>P))for(const P in m.sourceCaches){const M=m.sourceCaches[P].getSource().type;M!=="vector"&&M!=="geojson"||m.sourceCaches[P].reload()}})}),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const w=this.sourceCaches[v.sourceId];if(!w)return;const E=w.getSource();if(E&&E.vectorLayerIds)for(const P in this._layers){const M=this._layers[P];M.source===E.id&&this._validateLayer(M)}})}loadURL(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const v=this.map._requestManager.transformRequest(a,B.Style);this._request=o.f(v,(w,E)=>{this._request=null,w?this.fire(new o.j(w)):E&&this._load(E,d,m)})}loadJSON(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),this._request=o.h.frame(()=>{this._request=null,d.validate=d.validate!==!1,this._load(a,d,m)})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(Ea,{validate:!1})}_load(a,d,m){var v;const w=d.transformStyle?d.transformStyle(m,a):a;if(!d.validate||!Mi(this,o.y(w))){this._loaded=!0,this.stylesheet=w;for(const E in w.sources)this.addSource(E,w.sources[E],{validate:!1});w.sprite?this._loadSprite(w.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(w.glyphs),this._createLayers(),this.light=new Le(this.stylesheet.light),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){const a=o.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",a),this._order=a.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of a){const m=o.aC(d);m.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=m}}_loadSprite(a,d=!1,m=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(v,w,E,P){const M=H(v),z=M.length,N=E>1?"@2x":"",$={},J={},he={};for(const{id:de,url:ge}of M){const ce=w.transformRequest(w.normalizeSpriteURL(ge,N,".json"),B.SpriteJSON),Pe=`${de}_${ce.url}`;$[Pe]=o.f(ce,(Me,Ze)=>{delete $[Pe],J[de]=Ze,j(P,J,he,Me,z)});const je=w.transformRequest(w.normalizeSpriteURL(ge,N,".png"),B.SpriteImage),xe=`${de}_${je.url}`;$[xe]=F.getImage(je,(Me,Ze)=>{delete $[xe],he[de]=Ze,j(P,J,he,Me,z)})}return{cancel(){for(const de of Object.values($))de.cancel()}}}(a,this.map._requestManager,this.map.getPixelRatio(),(v,w)=>{if(this._spriteRequest=null,v)this.fire(new o.j(v));else if(w)for(const E in w){this._spritesImagesIds[E]=[];const P=this._spritesImagesIds[E]?this._spritesImagesIds[E].filter(M=>!(M in w)):[];for(const M of P)this.imageManager.removeImage(M),this._changedImages[M]=!0;for(const M in w[E]){const z=E==="default"?M:`${E}:${M}`;this._spritesImagesIds[E].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,w[E][M],!1):this.imageManager.addImage(z,w[E][M]),d&&(this._changedImages[z]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),m&&m(v)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(a){const d=this.sourceCaches[a.source];if(!d)return;const m=a.sourceLayer;if(!m)return;const v=d.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.j(new Error(`Source layer "${m}" does not exist on source "${v.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a){const d=this._serializedAllLayers();if(!a||a.length===0)return Object.values(d);const m=[];for(const v of a)d[v]&&m.push(d[v]);return m}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};const d=Object.keys(this._layers);for(const m of d){const v=this._layers[m];v.type!=="custom"&&(a[m]=v.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const d=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),w=Object.keys(this._removedLayers);(v.length||w.length)&&this._updateWorkerLayers(v,w);for(const E in this._updatedSources){const P=this._updatedSources[E];if(P==="reload")this._reloadSource(E);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const m={};for(const v in this.sourceCaches){const w=this.sourceCaches[v];m[v]=w.used,w.used=!1}for(const v of this._order){const w=this._layers[v];w.recalculate(a,this._availableImages),!w.isHidden(a.zoom)&&w.source&&(this.sourceCaches[w.source].used=!0)}for(const v in m){const w=this.sourceCaches[v];m[v]!==w.used&&w.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(a),this.z=a.zoom,d&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(a),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,d={}){this._checkLoaded();const m=this.serialize();if(a=d.transformStyle?d.transformStyle(m,a):a,Mi(this,o.y(a)))return!1;(a=o.aD(a)).layers=o.aB(a.layers);const v=o.aE(m,a).filter(E=>!(E.command in Qv));if(v.length===0)return!1;const w=v.filter(E=>!(E.command in ma));if(w.length>0)throw new Error(`Unimplemented: ${w.map(E=>E.command).join(", ")}.`);for(const E of v)E.command!=="setTransition"&&this[E.command].apply(this,E.args);return this.stylesheet=a,this._serializedLayers=null,!0}addImage(a,d){if(this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,d),this._afterImageUpdated(a)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,d,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.y.source,`sources.${a}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const v=this.sourceCaches[a]=new yt(a,d,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:a})),v.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===a)return this.fire(new o.j(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));const d=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],d.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,d){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(d),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,d,m={}){this._checkLoaded();const v=a.id;if(this.getLayer(v))return void this.fire(new o.j(new Error(`Layer "${v}" already exists on this map.`)));let w;if(a.type==="custom"){if(Mi(this,o.aF(a)))return;w=o.aC(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(v,a.source),a=o.aD(a),a=o.e(a,{source:v})),this._validate(o.y.layer,`layers.${v}`,a,{arrayIndex:-1},m))return;w=o.aC(a),this._validateLayer(w),w.setEventedParent(this,{layer:{id:v}})}const E=d?this._order.indexOf(d):this._order.length;if(d&&E===-1)this.fire(new o.j(new Error(`Cannot add layer "${v}" before non-existing layer "${d}".`)));else{if(this._order.splice(E,0,v),this._layerOrderChanged=!0,this._layers[v]=w,this._removedLayers[v]&&w.source&&w.type!=="custom"){const P=this._removedLayers[v];delete this._removedLayers[v],P.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;const m=this._order.indexOf(a);this._order.splice(m,1);const v=d?this._order.indexOf(d):this._order.length;d&&v===-1?this.fire(new o.j(new Error(`Cannot move layer "${a}" before non-existing layer "${d}".`))):(this._order.splice(v,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const d=this._layers[a];if(!d)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${a}".`)));d.setEventedParent(null);const m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,d,m){this._checkLoaded();const v=this.getLayer(a);v?v.minzoom===d&&v.maxzoom===m||(d!=null&&(v.minzoom=d),m!=null&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,d,m={}){this._checkLoaded();const v=this.getLayer(a);if(v){if(!o.aG(v.filter,d))return d==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(o.y.filter,`layers.${v.id}.filter`,d,null,m)||(v.filter=o.aD(d),this._updateLayer(v)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.aD(this.getLayer(a).filter)}setLayoutProperty(a,d,m,v={}){this._checkLoaded();const w=this.getLayer(a);w?o.aG(w.getLayoutProperty(d),m)||(w.setLayoutProperty(d,m,v),this._updateLayer(w)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,d){const m=this.getLayer(a);if(m)return m.getLayoutProperty(d);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,d,m,v={}){this._checkLoaded();const w=this.getLayer(a);w?o.aG(w.getPaintProperty(d),m)||(w.setPaintProperty(d,m,v)&&this._updateLayer(w),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,d){return this.getLayer(a).getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();const m=a.source,v=a.sourceLayer,w=this.sourceCaches[m];if(w===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const E=w.getSource().type;E==="geojson"&&v?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||v?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),w.setFeatureState(v,a.id,d)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,d){this._checkLoaded();const m=a.source,v=this.sourceCaches[m];if(v===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const w=v.getSource().type,E=w==="vector"?a.sourceLayer:void 0;w!=="vector"||E?d&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(E,a.id,d):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const d=a.source,m=a.sourceLayer,v=this.sourceCaches[d];if(v!==void 0)return v.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(m,a.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const a=o.aH(this.sourceCaches,w=>w.serialize()),d=this._serializeByIds(this._order),m=this.map.getTerrain()||void 0,v=this.stylesheet;return o.aI({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:a,layers:d,terrain:m},w=>w!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){const d=E=>this._layers[E].type==="fill-extrusion",m={},v=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P)){m[P]=E;for(const M of a){const z=M[P];if(z)for(const N of z)v.push(N)}}}v.sort((E,P)=>P.intersectionZ-E.intersectionZ);const w=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P))for(let M=v.length-1;M>=0;M--){const z=v[M].feature;if(m[z.layer.id]<E)break;w.push(z),v.pop()}else for(const M of a){const z=M[P];if(z)for(const N of z)w.push(N.feature)}}return w}queryRenderedFeatures(a,d,m){d&&d.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",d.filter,null,d);const v={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(const P of d.layers){const M=this._layers[P];if(!M)return this.fire(new o.j(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];v[M.source]=!0}}const w=[];d.availableImages=this._availableImages;const E=this._serializedAllLayers();for(const P in this.sourceCaches)d.layers&&!v[P]||w.push(Ye(this.sourceCaches[P],this._layers,E,a,d,m));return this.placement&&w.push(function(P,M,z,N,$,J,he){const de={},ge=J.queryRenderedSymbols(N),ce=[];for(const Pe of Object.keys(ge).map(Number))ce.push(he[Pe]);ce.sort(Xe);for(const Pe of ce){const je=Pe.featureIndex.lookupSymbolFeatures(ge[Pe.bucketInstanceId],M,Pe.bucketIndex,Pe.sourceLayerIndex,$.filter,$.layers,$.availableImages,P);for(const xe in je){const Me=de[xe]=de[xe]||[],Ze=je[xe];Ze.sort((Ke,rt)=>{const bt=Pe.featureSortOrder;if(bt){const ft=bt.indexOf(Ke.featureIndex);return bt.indexOf(rt.featureIndex)-ft}return rt.featureIndex-Ke.featureIndex});for(const Ke of Ze)Me.push(Ke)}}for(const Pe in de)de[Pe].forEach(je=>{const xe=je.feature,Me=z[P[Pe].source].getFeatureState(xe.layer["source-layer"],xe.id);xe.source=xe.layer.source,xe.layer["source-layer"]&&(xe.sourceLayer=xe.layer["source-layer"]),xe.state=Me});return de}(this._layers,E,this.sourceCaches,a,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(w)}querySourceFeatures(a,d){d&&d.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",d.filter,null,d);const m=this.sourceCaches[a];return m?function(v,w){const E=v.getRenderableIds().map(z=>v.getTileByID(z)),P=[],M={};for(let z=0;z<E.length;z++){const N=E[z],$=N.tileID.canonical.key;M[$]||(M[$]=!0,N.querySourceFeatures(P,w))}return P}(m,d):[]}addSourceType(a,d,m){return me(a)?m(new Error(`A source type called "${a}" already exists.`)):(((v,w)=>{ae[v]=w})(a,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:d.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();const m=this.light.getLight();let v=!1;for(const E in a)if(!o.aG(a[E],m[E])){v=!0;break}if(!v)return;const w={now:o.h.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,d),this.light.updateTransitions(w)}_validate(a,d,m,v,w={}){return(!w||w.validate!==!1)&&Mi(this,a.call(o.y,o.e({key:d,style:this.serialize(),value:m,styleSpec:o.v},v)))}_remove(a=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const m=this.sourceCaches[d];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const d in this.sourceCaches)this.sourceCaches[d].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,d,m,v,w=!1){let E=!1,P=!1;const M={};for(const z of this._order){const N=this._layers[z];if(N.type!=="symbol")continue;if(!M[N.source]){const J=this.sourceCaches[N.source];M[N.source]=J.getRenderableIds(!0).map(he=>J.getTileByID(he)).sort((he,de)=>de.tileID.overscaledZ-he.tileID.overscaledZ||(he.tileID.isLessThan(de.tileID)?-1:1))}const $=this.crossTileSymbolIndex.addLayer(N,M[N.source],a.center.lng);E=E||$}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.h.now(),a.zoom))&&(this.pauseablePlacement=new kl(a,this.map.terrain,this._order,w,d,m,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,M),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.h.now()),P=!0),E&&this.pauseablePlacement.placement.setStale()),P||E)for(const z of this._order){const N=this._layers[z];N.type==="symbol"&&this.placement.updateLayerOpacities(N,M[N.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.h.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d,m){this.imageManager.getImages(d.icons,m),this._updateTilesForChangedImages();const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(a,d,m){this.glyphManager.getGlyphs(d.stacks,m);const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,[""])}getResource(a,d,m){return o.m(d,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,d={}){this._checkLoaded(),a&&this._validate(o.y.glyphs,"glyphs",a,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,d,m={},v){this._checkLoaded();const w=[{id:a,url:d}],E=[...H(this.stylesheet.sprite),...w];this._validate(o.y.sprite,"sprite",E,null,m)||(this.stylesheet.sprite=E,this._loadSprite(w,!0,v))}removeSprite(a){this._checkLoaded();const d=H(this.stylesheet.sprite);if(d.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(const m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;d.splice(d.findIndex(m=>m.id===a),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return H(this.stylesheet.sprite)}setSprite(a,d={},m){this._checkLoaded(),a&&this._validate(o.y.sprite,"sprite",a,null,d)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}ki.registerForPluginStateChange=o.aK;var bu=o.Q([{name:"a_pos",type:"Int16",components:2}]),Tl="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Tr={prelude:Gn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Gn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Gn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Gn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Gn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Gn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Gn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Gn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Gn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Gn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Gn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Gn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Gn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Gn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Gn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Gn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Gn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Gn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Gn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Gn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Gn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Gn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Gn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Gn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Gn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Gn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Gn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Tl),terrainDepth:Gn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Tl),terrainCoords:Gn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Tl)};function Gn(_,a){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),v=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=w?w.concat(v):v,P={};return{fragmentSource:_=_.replace(d,(M,z,N,$,J)=>(P[J]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${J}
varying ${N} ${$} ${J};
#else
uniform ${N} ${$} u_${J};
#endif
`:`
#ifdef HAS_UNIFORM_u_${J}
    ${N} ${$} ${J} = u_${J};
#endif
`)),vertexSource:a=a.replace(d,(M,z,N,$,J)=>{const he=$==="float"?"vec2":"vec4",de=J.match(/color/)?"color":he;return P[J]?z==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${N} ${he} a_${J};
varying ${N} ${$} ${J};
#else
uniform ${N} ${$} u_${J};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = a_${J};
#else
    ${N} ${$} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = unpack_mix_${de}(a_${J}, u_${J}_t);
#else
    ${N} ${$} ${J} = u_${J};
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${N} ${he} a_${J};
#else
uniform ${N} ${$} u_${J};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${N} ${$} ${J} = a_${J};
#else
    ${N} ${$} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${N} ${$} ${J} = unpack_mix_${de}(a_${J}, u_${J}_t);
#else
    ${N} ${$} ${J} = u_${J};
#endif
`}),staticAttributes:m,staticUniforms:E}}class Vo{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,d,m,v,w,E,P,M,z){this.context=a;let N=this.boundPaintVertexBuffers.length!==v.length;for(let $=0;!N&&$<v.length;$++)this.boundPaintVertexBuffers[$]!==v[$]&&(N=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==m||N||this.boundIndexBuffer!==w||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==P||this.boundDynamicVertexBuffer2!==M||this.boundDynamicVertexBuffer3!==z?this.freshBind(d,m,v,w,E,P,M,z):(a.bindVertexArray.set(this.vao),P&&P.bind(),w&&w.dynamicDraw&&w.bind(),M&&M.bind(),z&&z.bind())}freshBind(a,d,m,v,w,E,P,M){const z=a.numAttributes,N=this.context,$=N.gl;this.vao&&this.destroy(),this.vao=N.createVertexArray(),N.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=w,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=M,d.enableAttributes($,a);for(const J of m)J.enableAttributes($,a);E&&E.enableAttributes($,a),P&&P.enableAttributes($,a),M&&M.enableAttributes($,a),d.bind(),d.setVertexAttribPointers($,a,w);for(const J of m)J.bind(),J.setVertexAttribPointers($,a,w);E&&(E.bind(),E.setVertexAttribPointers($,a,w)),v&&v.bind(),P&&(P.bind(),P.setVertexAttribPointers($,a,w)),M&&(M.bind(),M.setVertexAttribPointers($,a,w)),N.currentNumAttributes=z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Or(_){const a=[];for(let d=0;d<_.length;d++){if(_[d]===null)continue;const m=_[d].split(" ");a.push(m.pop())}return a}class xu{constructor(a,d,m,v,w,E){const P=a.gl;this.program=P.createProgram();const M=Or(d.staticAttributes),z=m?m.getBinderAttributes():[],N=M.concat(z),$=Tr.prelude.staticUniforms?Or(Tr.prelude.staticUniforms):[],J=d.staticUniforms?Or(d.staticUniforms):[],he=m?m.getBinderUniforms():[],de=$.concat(J).concat(he),ge=[];for(const Ke of de)ge.indexOf(Ke)<0&&ge.push(Ke);const ce=m?m.defines():[];w&&ce.push("#define OVERDRAW_INSPECTOR;"),E&&ce.push("#define TERRAIN3D;");const Pe=ce.concat(Tr.prelude.fragmentSource,d.fragmentSource).join(`
`),je=ce.concat(Tr.prelude.vertexSource,d.vertexSource).join(`
`),xe=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(xe,Pe),P.compileShader(xe),!P.getShaderParameter(xe,P.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${P.getShaderInfoLog(xe)}`);P.attachShader(this.program,xe);const Me=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(Me,je),P.compileShader(Me),!P.getShaderParameter(Me,P.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${P.getShaderInfoLog(Me)}`);P.attachShader(this.program,Me),this.attributes={};const Ze={};this.numAttributes=N.length;for(let Ke=0;Ke<this.numAttributes;Ke++)N[Ke]&&(P.bindAttribLocation(this.program,Ke,N[Ke]),this.attributes[N[Ke]]=Ke);if(P.linkProgram(this.program),!P.getProgramParameter(this.program,P.LINK_STATUS))throw new Error(`Program failed to link: ${P.getProgramInfoLog(this.program)}`);P.deleteShader(Me),P.deleteShader(xe);for(let Ke=0;Ke<ge.length;Ke++){const rt=ge[Ke];if(rt&&!Ze[rt]){const bt=P.getUniformLocation(this.program,rt);bt&&(Ze[rt]=bt)}}this.fixedUniforms=v(a,Ze),this.terrainUniforms=((Ke,rt)=>({u_depth:new o.aL(Ke,rt.u_depth),u_terrain:new o.aL(Ke,rt.u_terrain),u_terrain_dim:new o.aM(Ke,rt.u_terrain_dim),u_terrain_matrix:new o.aN(Ke,rt.u_terrain_matrix),u_terrain_unpack:new o.aO(Ke,rt.u_terrain_unpack),u_terrain_exaggeration:new o.aM(Ke,rt.u_terrain_exaggeration)}))(a,Ze),this.binderUniforms=m?m.getUniforms(a,Ze):[]}draw(a,d,m,v,w,E,P,M,z,N,$,J,he,de,ge,ce,Pe,je){const xe=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(v),a.setColorMode(w),a.setCullFace(E),M){a.activeTexture.set(xe.TEXTURE2),xe.bindTexture(xe.TEXTURE_2D,M.depthTexture),a.activeTexture.set(xe.TEXTURE3),xe.bindTexture(xe.TEXTURE_2D,M.texture);for(const Ze in this.terrainUniforms)this.terrainUniforms[Ze].set(M[Ze])}for(const Ze in this.fixedUniforms)this.fixedUniforms[Ze].set(P[Ze]);ge&&ge.setUniforms(a,this.binderUniforms,he,{zoom:de});let Me=0;switch(d){case xe.LINES:Me=2;break;case xe.TRIANGLES:Me=3;break;case xe.LINE_STRIP:Me=1}for(const Ze of J.get()){const Ke=Ze.vaos||(Ze.vaos={});(Ke[z]||(Ke[z]=new Vo)).bind(a,this,N,ge?ge.getPaintVertexBuffers():[],$,Ze.vertexOffset,ce,Pe,je),xe.drawElements(d,Ze.primitiveLength*Me,xe.UNSIGNED_SHORT,Ze.primitiveOffset*Me*2)}}}function Ia(_,a,d){const m=1/Ee(d,1,a.transform.tileZoom),v=Math.pow(2,d.tileID.overscaledZ),w=d.tileSize*Math.pow(2,a.transform.tileZoom)/v,E=w*(d.tileID.canonical.x+d.tileID.wrap*v),P=w*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[m,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[E>>16,P>>16],u_pixel_coord_lower:[65535&E,65535&P]}}const eh=(_,a,d,m)=>{const v=a.style.light,w=v.properties.get("position"),E=[w.x,w.y,w.z],P=function(){var z=new o.A(9);return o.A!=Float32Array&&(z[1]=0,z[2]=0,z[3]=0,z[5]=0,z[6]=0,z[7]=0),z[0]=1,z[4]=1,z[8]=1,z}();v.properties.get("anchor")==="viewport"&&function(z,N){var $=Math.sin(N),J=Math.cos(N);z[0]=J,z[1]=$,z[2]=0,z[3]=-$,z[4]=J,z[5]=0,z[6]=0,z[7]=0,z[8]=1}(P,-a.transform.angle),function(z,N,$){var J=N[0],he=N[1],de=N[2];z[0]=J*$[0]+he*$[3]+de*$[6],z[1]=J*$[1]+he*$[4]+de*$[7],z[2]=J*$[2]+he*$[5]+de*$[8]}(E,E,P);const M=v.properties.get("color");return{u_matrix:_,u_lightpos:E,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[M.r,M.g,M.b],u_vertical_gradient:+d,u_opacity:m}},lo=(_,a,d,m,v,w,E)=>o.e(eh(_,a,d,m),Ia(w,a,E),{u_height_factor:-Math.pow(2,v.overscaledZ)/E.tileSize/8}),Pm=_=>({u_matrix:_}),th=(_,a,d,m)=>o.e(Pm(_),Ia(d,a,m)),wu=(_,a)=>({u_matrix:_,u_world:a}),Su=(_,a,d,m,v)=>o.e(th(_,a,d,m),{u_world:v}),co=(_,a,d,m)=>{const v=_.transform;let w,E;if(m.paint.get("circle-pitch-alignment")==="map"){const P=Ee(d,1,v.zoom);w=!0,E=[P,P]}else w=!1,E=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(a.posMatrix,d,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+w,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:E}},nh=(_,a,d)=>{const m=Ee(d,1,a.zoom),v=Math.pow(2,a.zoom-d.tileID.overscaledZ),w=d.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:a.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[a.pixelsToGLUnits[0]/(m*v),a.pixelsToGLUnits[1]/(m*v)],u_overscale_factor:w}},gc=(_,a,d=1)=>({u_matrix:_,u_color:a,u_overlay:0,u_overlay_scale:d}),Dm=_=>({u_matrix:_}),ey=(_,a,d,m)=>({u_matrix:_,u_extrude_scale:Ee(a,1,d),u_intensity:m});function rh(_,a){const d=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.U(0,m/d).toLngLat().lat,new o.U(0,(m+1)/d).toLngLat().lat]}const ih=(_,a,d,m)=>{const v=_.transform;return{u_matrix:ku(_,a,d,m),u_ratio:1/Ee(a,1,v.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},Mm=(_,a,d,m,v)=>o.e(ih(_,a,d,v),{u_image:0,u_image_height:m}),ty=(_,a,d,m,v)=>{const w=_.transform,E=Rm(a,w);return{u_matrix:ku(_,a,d,v),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Ee(a,1,w.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[E,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},Lm=(_,a,d,m,v,w)=>{const E=_.lineAtlas,P=Rm(a,_.transform),M=d.layout.get("line-cap")==="round",z=E.getDash(m.from,M),N=E.getDash(m.to,M),$=z.width*v.fromScale,J=N.width*v.toScale;return o.e(ih(_,a,d,w),{u_patternscale_a:[P/$,-z.height/2],u_patternscale_b:[P/J,-N.height/2],u_sdfgamma:E.width/(256*Math.min($,J)*_.pixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:N.y,u_mix:v.t})};function Rm(_,a){return 1/Ee(_,1,a.tileZoom)}function ku(_,a,d,m){return _.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Om=(_,a,d,m,v)=>{return{u_matrix:_,u_tl_parent:a,u_scale_parent:d,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(E=v.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(w=v.paint.get("raster-contrast"),w>0?1/(1-w):1+w),u_spin_weights:Fm(v.paint.get("raster-hue-rotate"))};var w,E};function Fm(_){_*=Math.PI/180;const a=Math.sin(_),d=Math.cos(_);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}const ah=(_,a,d,m,v,w,E,P,M,z)=>{const N=v.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:N.cameraToCenterDistance,u_pitch:N.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:N.width/N.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:w,u_label_plane_matrix:E,u_coord_matrix:P,u_is_text:+M,u_pitch_with_map:+m,u_texsize:z,u_texture:0}},sh=(_,a,d,m,v,w,E,P,M,z,N)=>{const $=v.transform;return o.e(ah(_,a,d,m,v,w,E,P,M,z),{u_gamma_scale:m?Math.cos($._pitch)*$.cameraToCenterDistance:1,u_device_pixel_ratio:v.pixelRatio,u_is_halo:+N})},No=(_,a,d,m,v,w,E,P,M,z)=>o.e(sh(_,a,d,m,v,w,E,P,!0,M,!0),{u_texsize_icon:z,u_texture_icon:1}),Cu=(_,a,d)=>({u_matrix:_,u_opacity:a,u_color:d}),Pa=(_,a,d,m,v,w)=>o.e(function(E,P,M,z){const N=M.imageManager.getPattern(E.from.toString()),$=M.imageManager.getPattern(E.to.toString()),{width:J,height:he}=M.imageManager.getPixelSize(),de=Math.pow(2,z.tileID.overscaledZ),ge=z.tileSize*Math.pow(2,M.transform.tileZoom)/de,ce=ge*(z.tileID.canonical.x+z.tileID.wrap*de),Pe=ge*z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:N.tl,u_pattern_br_a:N.br,u_pattern_tl_b:$.tl,u_pattern_br_b:$.br,u_texsize:[J,he],u_mix:P.t,u_pattern_size_a:N.displaySize,u_pattern_size_b:$.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/Ee(z,1,M.transform.tileZoom),u_pixel_coord_upper:[ce>>16,Pe>>16],u_pixel_coord_lower:[65535&ce,65535&Pe]}}(m,w,d,v),{u_matrix:_,u_opacity:a}),Tu={fillExtrusion:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_opacity:new o.aM(_,a.u_opacity)}),fillExtrusionPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_height_factor:new o.aM(_,a.u_height_factor),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade),u_opacity:new o.aM(_,a.u_opacity)}),fill:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),fillPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),fillOutline:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world)}),fillOutlinePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),circle:(_,a)=>({u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_scale_with_map:new o.aL(_,a.u_scale_with_map),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_matrix:new o.aN(_,a.u_matrix)}),collisionBox:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pixels_to_tile_units:new o.aM(_,a.u_pixels_to_tile_units),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_overscale_factor:new o.aM(_,a.u_overscale_factor)}),collisionCircle:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_inv_matrix:new o.aN(_,a.u_inv_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_viewport_size:new o.aQ(_,a.u_viewport_size)}),debug:(_,a)=>({u_color:new o.aR(_,a.u_color),u_matrix:new o.aN(_,a.u_matrix),u_overlay:new o.aL(_,a.u_overlay),u_overlay_scale:new o.aM(_,a.u_overlay_scale)}),clippingMask:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),heatmap:(_,a)=>({u_extrude_scale:new o.aM(_,a.u_extrude_scale),u_intensity:new o.aM(_,a.u_intensity),u_matrix:new o.aN(_,a.u_matrix)}),heatmapTexture:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_color_ramp:new o.aL(_,a.u_color_ramp),u_opacity:new o.aM(_,a.u_opacity)}),hillshade:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_latrange:new o.aQ(_,a.u_latrange),u_light:new o.aQ(_,a.u_light),u_shadow:new o.aR(_,a.u_shadow),u_highlight:new o.aR(_,a.u_highlight),u_accent:new o.aR(_,a.u_accent)}),hillshadePrepare:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_dimension:new o.aQ(_,a.u_dimension),u_zoom:new o.aM(_,a.u_zoom),u_unpack:new o.aO(_,a.u_unpack)}),line:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels)}),lineGradient:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_image:new o.aL(_,a.u_image),u_image_height:new o.aM(_,a.u_image_height)}),linePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texsize:new o.aQ(_,a.u_texsize),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_image:new o.aL(_,a.u_image),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),lineSDF:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_patternscale_a:new o.aQ(_,a.u_patternscale_a),u_patternscale_b:new o.aQ(_,a.u_patternscale_b),u_sdfgamma:new o.aM(_,a.u_sdfgamma),u_image:new o.aL(_,a.u_image),u_tex_y_a:new o.aM(_,a.u_tex_y_a),u_tex_y_b:new o.aM(_,a.u_tex_y_b),u_mix:new o.aM(_,a.u_mix)}),raster:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_tl_parent:new o.aQ(_,a.u_tl_parent),u_scale_parent:new o.aM(_,a.u_scale_parent),u_buffer_scale:new o.aM(_,a.u_buffer_scale),u_fade_t:new o.aM(_,a.u_fade_t),u_opacity:new o.aM(_,a.u_opacity),u_image0:new o.aL(_,a.u_image0),u_image1:new o.aL(_,a.u_image1),u_brightness_low:new o.aM(_,a.u_brightness_low),u_brightness_high:new o.aM(_,a.u_brightness_high),u_saturation_factor:new o.aM(_,a.u_saturation_factor),u_contrast_factor:new o.aM(_,a.u_contrast_factor),u_spin_weights:new o.aP(_,a.u_spin_weights)}),symbolIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture)}),symbolSDF:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),symbolTextAndIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texsize_icon:new o.aQ(_,a.u_texsize_icon),u_texture:new o.aL(_,a.u_texture),u_texture_icon:new o.aL(_,a.u_texture_icon),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),background:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_color:new o.aR(_,a.u_color)}),backgroundPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_image:new o.aL(_,a.u_image),u_pattern_tl_a:new o.aQ(_,a.u_pattern_tl_a),u_pattern_br_a:new o.aQ(_,a.u_pattern_br_a),u_pattern_tl_b:new o.aQ(_,a.u_pattern_tl_b),u_pattern_br_b:new o.aQ(_,a.u_pattern_br_b),u_texsize:new o.aQ(_,a.u_texsize),u_mix:new o.aM(_,a.u_mix),u_pattern_size_a:new o.aQ(_,a.u_pattern_size_a),u_pattern_size_b:new o.aQ(_,a.u_pattern_size_b),u_scale_a:new o.aM(_,a.u_scale_a),u_scale_b:new o.aM(_,a.u_scale_b),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aM(_,a.u_tile_units_to_pixels)}),terrain:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainDepth:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainCoords:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_terrain_coords_id:new o.aM(_,a.u_terrain_coords_id),u_ele_delta:new o.aM(_,a.u_ele_delta)})};class Au{constructor(a,d,m){this.context=a;const v=a.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const vc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Eu{constructor(a,d,m,v){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=v,this.context=a;const w=a.gl;this.buffer=w.createBuffer(),a.bindVertexBuffer.set(this.buffer),w.bufferData(w.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let m=0;m<this.attributes.length;m++){const v=d.attributes[this.attributes[m].name];v!==void 0&&a.enableVertexAttribArray(v)}}setVertexAttribPointers(a,d,m){for(let v=0;v<this.attributes.length;v++){const w=this.attributes[v],E=d.attributes[w.name];E!==void 0&&a.vertexAttribPointer(E,w.components,a[vc[w.type]],!1,this.itemSize,w.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Al=new WeakMap;function uo(_){var a;if(Al.has(_))return Al.get(_);{const d=(a=_.getParameter(_.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return Al.set(_,d),d}}class Fn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Iu extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class pa extends Fn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class ga extends Fn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class oh extends Fn{getDefault(){return[!0,!0,!0,!0]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Pu extends Fn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Du extends Fn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class lh extends Fn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class ch extends Fn{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Mu extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class uh extends Fn{getDefault(){return[0,1]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class dh extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class Lu extends Fn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class zm extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class Bm extends Fn{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class El extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ny extends Fn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class ry extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class iy extends Fn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class ay extends Fn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class sy extends Fn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class oy extends Fn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class hh extends Fn{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Ru extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class fh extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class mh extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Il extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Vm extends Fn{getDefault(){return null}set(a){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Nm extends Fn{getDefault(){return null}set(a){var d;if(a===this.current&&!this.dirty)return;const m=this.gl;uo(m)?m.bindVertexArray(a):(d=m.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class ph extends Fn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class $o extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class $m extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class ho extends Fn{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class Pl extends ho{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Um extends ho{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class gh extends ho{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Wn{constructor(a,d,m,v,w){this.context=a,this.width=d,this.height=m;const E=a.gl,P=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Pl(a,P),v)this.depthAttachment=w?new gh(a,P):new Um(a,P);else if(w)throw new Error("Stencil cannot be setted without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){const m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class Ar{constructor(a,d,m){this.blendFunction=a,this.blendColor=d,this.mask=m}}Ar.Replace=[1,0],Ar.disabled=new Ar(Ar.Replace,o.aT.transparent,[!1,!1,!1,!1]),Ar.unblended=new Ar(Ar.Replace,o.aT.transparent,[!0,!0,!0,!0]),Ar.alphaBlended=new Ar([1,771],o.aT.transparent,[!0,!0,!0,!0]);class ly{constructor(a){var d,m;if(this.gl=a,this.clearColor=new Iu(this),this.clearDepth=new pa(this),this.clearStencil=new ga(this),this.colorMask=new oh(this),this.depthMask=new Pu(this),this.stencilMask=new Du(this),this.stencilFunc=new lh(this),this.stencilOp=new ch(this),this.stencilTest=new Mu(this),this.depthRange=new uh(this),this.depthTest=new dh(this),this.depthFunc=new Lu(this),this.blend=new zm(this),this.blendFunc=new Bm(this),this.blendColor=new El(this),this.blendEquation=new ny(this),this.cullFace=new ry(this),this.cullFaceSide=new iy(this),this.frontFace=new ay(this),this.program=new sy(this),this.activeTexture=new oy(this),this.viewport=new hh(this),this.bindFramebuffer=new Ru(this),this.bindRenderbuffer=new fh(this),this.bindTexture=new mh(this),this.bindVertexBuffer=new Il(this),this.bindElementBuffer=new Vm(this),this.bindVertexArray=new Nm(this),this.pixelStoreUnpack=new ph(this),this.pixelStoreUnpackPremultiplyAlpha=new $o(this),this.pixelStoreUnpackFlipY=new $m(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),uo(a)){this.HALF_FLOAT=a.HALF_FLOAT;const v=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=a.RGBA16F)!==null&&d!==void 0?d:v==null?void 0:v.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:v==null?void 0:v.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");const v=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=v==null?void 0:v.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new Au(this,a,d)}createVertexBuffer(a,d,m){return new Eu(this,a,d,m)}createRenderbuffer(a,d,m){const v=this.gl,w=v.createRenderbuffer();return this.bindRenderbuffer.set(w),v.renderbufferStorage(v.RENDERBUFFER,a,d,m),this.bindRenderbuffer.set(null),w}createFramebuffer(a,d,m,v){return new Wn(this,a,d,m,v)}clear({color:a,depth:d,stencil:m}){const v=this.gl;let w=0;a&&(w|=v.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(w|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m!==void 0&&(w|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(w)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.aG(a.blendFunction,Ar.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return uo(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var d;return uo(this.gl)?this.gl.deleteVertexArray(a):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class zn{constructor(a,d,m){this.func=a,this.mask=d,this.range=m}}zn.ReadOnly=!1,zn.ReadWrite=!0,zn.disabled=new zn(519,zn.ReadOnly,[0,1]);const Uo=7680;class Er{constructor(a,d,m,v,w,E){this.test=a,this.ref=d,this.mask=m,this.fail=v,this.depthFail=w,this.pass=E}}Er.disabled=new Er({func:519,mask:0},0,0,Uo,Uo,Uo);class kr{constructor(a,d,m){this.enable=a,this.mode=d,this.frontFace=m}}let yc;function qm(_,a,d,m,v,w,E){const P=_.context,M=P.gl,z=_.useProgram("collisionBox"),N=[];let $=0,J=0;for(let xe=0;xe<m.length;xe++){const Me=m[xe],Ze=a.getTile(Me),Ke=Ze.getBucket(d);if(!Ke)continue;let rt=Me.posMatrix;v[0]===0&&v[1]===0||(rt=_.translatePosMatrix(Me.posMatrix,Ze,v,w));const bt=E?Ke.textCollisionBox:Ke.iconCollisionBox,ft=Ke.collisionCircleArray;if(ft.length>0){const At=o.Z(),Yt=rt;o.aU(At,Ke.placementInvProjMatrix,_.transform.glCoordMatrix),o.aU(At,At,Ke.placementViewportMatrix),N.push({circleArray:ft,circleOffset:J,transform:Yt,invTransform:At,coord:Me}),$+=ft.length/4,J=$}bt&&z.draw(P,M.LINES,zn.disabled,Er.disabled,_.colorModeForRenderPass(),kr.disabled,nh(rt,_.transform,Ze),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Me),d.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,null,_.transform.zoom,null,null,bt.collisionVertexBuffer)}if(!E||!N.length)return;const he=_.useProgram("collisionCircle"),de=new o.aV;de.resize(4*$),de._trim();let ge=0;for(const xe of N)for(let Me=0;Me<xe.circleArray.length/4;Me++){const Ze=4*Me,Ke=xe.circleArray[Ze+0],rt=xe.circleArray[Ze+1],bt=xe.circleArray[Ze+2],ft=xe.circleArray[Ze+3];de.emplace(ge++,Ke,rt,bt,ft,0),de.emplace(ge++,Ke,rt,bt,ft,1),de.emplace(ge++,Ke,rt,bt,ft,2),de.emplace(ge++,Ke,rt,bt,ft,3)}(!yc||yc.length<2*$)&&(yc=function(xe){const Me=2*xe,Ze=new o.aX;Ze.resize(Me),Ze._trim();for(let Ke=0;Ke<Me;Ke++){const rt=6*Ke;Ze.uint16[rt+0]=4*Ke+0,Ze.uint16[rt+1]=4*Ke+1,Ze.uint16[rt+2]=4*Ke+2,Ze.uint16[rt+3]=4*Ke+2,Ze.uint16[rt+4]=4*Ke+3,Ze.uint16[rt+5]=4*Ke+0}return Ze}($));const ce=P.createIndexBuffer(yc,!0),Pe=P.createVertexBuffer(de,o.aW.members,!0);for(const xe of N){const Me={u_matrix:xe.transform,u_inv_matrix:xe.invTransform,u_camera_to_center_distance:(je=_.transform).cameraToCenterDistance,u_viewport_size:[je.width,je.height]};he.draw(P,M.TRIANGLES,zn.disabled,Er.disabled,_.colorModeForRenderPass(),kr.disabled,Me,_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe.coord),d.id,Pe,ce,o.S.simpleSegment(0,2*xe.circleOffset,xe.circleArray.length,xe.circleArray.length/2),null,_.transform.zoom,null,null,null)}var je;Pe.destroy(),ce.destroy()}kr.disabled=new kr(!1,1029,2305),kr.backCCW=new kr(!0,1029,2305);const vh=o.ao(new Float32Array(16));function Ou(_,a,d,m,v,w){const{horizontalAlign:E,verticalAlign:P}=o.au(_);return new o.P((-(E-.5)*a/v+m[0])*w,(-(P-.5)*d/v+m[1])*w)}function Fu(_,a,d,m,v,w,E,P,M,z,N){const $=_.text.placedSymbolArray,J=_.text.dynamicLayoutVertexArray,he=_.icon.dynamicLayoutVertexArray,de={};J.clear();for(let ge=0;ge<$.length;ge++){const ce=$.get(ge),Pe=ce.hidden||!ce.crossTileID||_.allowVerticalPlacement&&!ce.placedOrientation?null:m[ce.crossTileID];if(Pe){const je=new o.P(ce.anchorX,ce.anchorY),xe=kn(je,d?E:w,N),Me=fa(v.cameraToCenterDistance,xe.signedDistanceFromCamera);let Ze=o.aj(_.textSizeData,M,ce)*Me/o.ap;d&&(Ze*=_.tilePixelRatio/P);const{width:Ke,height:rt,anchor:bt,textOffset:ft,textBoxScale:At}=Pe,Yt=Ou(bt,Ke,rt,ft,At,Ze),Pn=d?kn(je.add(Yt),w,N).point:xe.point.add(a?Yt.rotate(-v.angle):Yt),Ot=_.allowVerticalPlacement&&ce.placedOrientation===o.ai.vertical?Math.PI/2:0;for(let on=0;on<ce.numGlyphs;on++)o.ak(J,Pn,Ot);z&&ce.associatedIconIndex>=0&&(de[ce.associatedIconIndex]={shiftedAnchor:Pn,angle:Ot})}else oe(ce.numGlyphs,J)}if(z){he.clear();const ge=_.icon.placedSymbolArray;for(let ce=0;ce<ge.length;ce++){const Pe=ge.get(ce);if(Pe.hidden)oe(Pe.numGlyphs,he);else{const je=de[ce];if(je)for(let xe=0;xe<Pe.numGlyphs;xe++)o.ak(he,je.shiftedAnchor,je.angle);else oe(Pe.numGlyphs,he)}}_.icon.dynamicLayoutVertexBuffer.updateData(he)}_.text.dynamicLayoutVertexBuffer.updateData(J)}function yh(_,a,d){return d.iconsInText&&a?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function zu(_,a,d,m,v,w,E,P,M,z,N,$){const J=_.context,he=J.gl,de=_.transform,ge=P==="map",ce=M==="map",Pe=P!=="viewport"&&d.layout.get("symbol-placement")!=="point",je=ge&&!ce&&!Pe,xe=!d.layout.get("symbol-sort-key").isConstant();let Me=!1;const Ze=_.depthModeForSublayer(0,zn.ReadOnly),Ke=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),rt=[];for(const bt of m){const ft=a.getTile(bt),At=ft.getBucket(d);if(!At)continue;const Yt=v?At.text:At.icon;if(!Yt||!Yt.segments.get().length||!Yt.hasVisibleVertices)continue;const Pn=Yt.programConfigurations.get(d.id),Ot=v||At.sdfIcons,on=v?At.textSizeData:At.iconSizeData,Xt=ce||de.pitch!==0,tr=_.useProgram(yh(Ot,v,At),Pn),En=o.ah(on,de.zoom),xn=_.style.map.terrain&&_.style.map.terrain.getTerrainData(bt);let Dn,qr,fr,Ci,ci=[0,0],Zr=null;if(v)qr=ft.glyphAtlasTexture,fr=he.LINEAR,Dn=ft.glyphAtlasTexture.size,At.iconsInText&&(ci=ft.imageAtlasTexture.size,Zr=ft.imageAtlasTexture,Ci=Xt||_.options.rotating||_.options.zooming||on.kind==="composite"||on.kind==="camera"?he.LINEAR:he.NEAREST);else{const jr=d.layout.get("icon-size").constantOr(0)!==1||At.iconsNeedLinear;qr=ft.imageAtlasTexture,fr=Ot||_.options.rotating||_.options.zooming||jr||Xt?he.LINEAR:he.NEAREST,Dn=ft.imageAtlasTexture.size}const _a=Ee(ft,1,_.transform.zoom),_r=gt(bt.posMatrix,ce,ge,_.transform,_a),ls=xi(bt.posMatrix,ce,ge,_.transform,_a),cs=Ke&&At.hasTextData(),po=d.layout.get("icon-text-fit")!=="none"&&cs&&At.hasIconData();if(Pe){const jr=_.style.map.terrain?(Qi,Hr)=>_.style.map.terrain.getElevation(bt,Qi,Hr):null,ui=d.layout.get("text-rotation-alignment")==="map";Ct(At,bt.posMatrix,_,v,_r,ls,ce,z,ui,jr)}const Wo=_.translatePosMatrix(bt.posMatrix,ft,w,E),zl=Pe||v&&Ke||po?vh:_r,Li=_.translatePosMatrix(ls,ft,w,E,!0),Ti=Ot&&d.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let $i;$i=Ot?At.iconsInText?No(on.kind,En,je,ce,_,Wo,zl,Li,Dn,ci):sh(on.kind,En,je,ce,_,Wo,zl,Li,v,Dn,!0):ah(on.kind,En,je,ce,_,Wo,zl,Li,v,Dn);const Yo={program:tr,buffers:Yt,uniformValues:$i,atlasTexture:qr,atlasTextureIcon:Zr,atlasInterpolation:fr,atlasInterpolationIcon:Ci,isSDF:Ot,hasHalo:Ti};if(xe&&At.canOverlap){Me=!0;const jr=Yt.segments.get();for(const ui of jr)rt.push({segments:new o.S([ui]),sortKey:ui.sortKey,state:Yo,terrainData:xn})}else rt.push({segments:Yt.segments,sortKey:0,state:Yo,terrainData:xn})}Me&&rt.sort((bt,ft)=>bt.sortKey-ft.sortKey);for(const bt of rt){const ft=bt.state;if(J.activeTexture.set(he.TEXTURE0),ft.atlasTexture.bind(ft.atlasInterpolation,he.CLAMP_TO_EDGE),ft.atlasTextureIcon&&(J.activeTexture.set(he.TEXTURE1),ft.atlasTextureIcon&&ft.atlasTextureIcon.bind(ft.atlasInterpolationIcon,he.CLAMP_TO_EDGE)),ft.isSDF){const At=ft.uniformValues;ft.hasHalo&&(At.u_is_halo=1,_h(ft.buffers,bt.segments,d,_,ft.program,Ze,N,$,At,bt.terrainData)),At.u_is_halo=0}_h(ft.buffers,bt.segments,d,_,ft.program,Ze,N,$,ft.uniformValues,bt.terrainData)}}function _h(_,a,d,m,v,w,E,P,M,z){const N=m.context;v.draw(N,N.gl.TRIANGLES,w,E,P,kr.disabled,M,z,d.id,_.layoutVertexBuffer,_.indexBuffer,a,d.paint,m.transform.zoom,_.programConfigurations.get(d.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function _c(_,a,d,m,v){if(!d||!m||!m.imageAtlas)return;const w=m.imageAtlas.patternPositions;let E=w[d.to.toString()],P=w[d.from.toString()];if(!E&&P&&(E=P),!P&&E&&(P=E),!E||!P){const M=v.getPaintProperty(a);E=w[M],P=w[M]}E&&P&&_.setConstantPatternPositions(E,P)}function bc(_,a,d,m,v,w,E){const P=_.context.gl,M="fill-pattern",z=d.paint.get(M),N=z&&z.constantOr(1),$=d.getCrossfadeParameters();let J,he,de,ge,ce;E?(he=N&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",J=P.LINES):(he=N?"fillPattern":"fill",J=P.TRIANGLES);const Pe=z.constantOr(null);for(const je of m){const xe=a.getTile(je);if(N&&!xe.patternsLoaded())continue;const Me=xe.getBucket(d);if(!Me)continue;const Ze=Me.programConfigurations.get(d.id),Ke=_.useProgram(he,Ze),rt=_.style.map.terrain&&_.style.map.terrain.getTerrainData(je);N&&(_.context.activeTexture.set(P.TEXTURE0),xe.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ze.updatePaintBuffers($)),_c(Ze,M,Pe,xe,d);const bt=rt?je:null,ft=_.translatePosMatrix(bt?bt.posMatrix:je.posMatrix,xe,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(E){ge=Me.indexBuffer2,ce=Me.segments2;const At=[P.drawingBufferWidth,P.drawingBufferHeight];de=he==="fillOutlinePattern"&&N?Su(ft,_,$,xe,At):wu(ft,At)}else ge=Me.indexBuffer,ce=Me.segments,de=N?th(ft,_,$,xe):Pm(ft);Ke.draw(_.context,J,v,_.stencilModeForClipping(je),w,kr.disabled,de,rt,d.id,Me.layoutVertexBuffer,ge,ce,d.paint,_.transform.zoom,Ze)}}function xc(_,a,d,m,v,w,E){const P=_.context,M=P.gl,z="fill-extrusion-pattern",N=d.paint.get(z),$=N.constantOr(1),J=d.getCrossfadeParameters(),he=d.paint.get("fill-extrusion-opacity"),de=N.constantOr(null);for(const ge of m){const ce=a.getTile(ge),Pe=ce.getBucket(d);if(!Pe)continue;const je=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ge),xe=Pe.programConfigurations.get(d.id),Me=_.useProgram($?"fillExtrusionPattern":"fillExtrusion",xe);$&&(_.context.activeTexture.set(M.TEXTURE0),ce.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),xe.updatePaintBuffers(J)),_c(xe,z,de,ce,d);const Ze=_.translatePosMatrix(ge.posMatrix,ce,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ke=d.paint.get("fill-extrusion-vertical-gradient"),rt=$?lo(Ze,_,Ke,he,ge,J,ce):eh(Ze,_,Ke,he);Me.draw(P,P.gl.TRIANGLES,v,w,E,kr.backCCW,rt,je,d.id,Pe.layoutVertexBuffer,Pe.indexBuffer,Pe.segments,d.paint,_.transform.zoom,xe,_.style.map.terrain&&Pe.centroidVertexBuffer)}}function cy(_,a,d,m,v,w,E){const P=_.context,M=P.gl,z=d.fbo;if(!z)return;const N=_.useProgram("hillshade"),$=_.style.map.terrain&&_.style.map.terrain.getTerrainData(a);P.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,z.colorAttachment.get()),N.draw(P,M.TRIANGLES,v,w,E,kr.disabled,((J,he,de,ge)=>{const ce=de.paint.get("hillshade-shadow-color"),Pe=de.paint.get("hillshade-highlight-color"),je=de.paint.get("hillshade-accent-color");let xe=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(xe-=J.transform.angle);const Me=!J.options.moving;return{u_matrix:ge?ge.posMatrix:J.transform.calculatePosMatrix(he.tileID.toUnwrapped(),Me),u_image:0,u_latrange:rh(0,he.tileID),u_light:[de.paint.get("hillshade-exaggeration"),xe],u_shadow:ce,u_highlight:Pe,u_accent:je}})(_,d,m,$?a:null),$,m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function bh(_,a,d,m,v,w){const E=_.context,P=E.gl,M=a.dem;if(M&&M.data){const z=M.dim,N=M.stride,$=M.getPixels();if(E.activeTexture.set(P.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||_.getTileTexture(N),a.demTexture){const he=a.demTexture;he.update($,{premultiply:!1}),he.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else a.demTexture=new Z(E,$,P.RGBA,{premultiply:!1}),a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);E.activeTexture.set(P.TEXTURE0);let J=a.fbo;if(!J){const he=new Z(E,{width:z,height:z,data:null},P.RGBA);he.bind(P.LINEAR,P.CLAMP_TO_EDGE),J=a.fbo=E.createFramebuffer(z,z,!0,!1),J.colorAttachment.set(he.texture)}E.bindFramebuffer.set(J.framebuffer),E.viewport.set([0,0,z,z]),_.useProgram("hillshadePrepare").draw(E,P.TRIANGLES,m,v,w,kr.disabled,((he,de)=>{const ge=de.stride,ce=o.Z();return o.aS(ce,0,o.N,-o.N,0,0,1),o.$(ce,ce,[0,-o.N,0]),{u_matrix:ce,u_image:1,u_dimension:[ge,ge],u_zoom:he.overscaledZ,u_unpack:de.getUnpackVector()}})(a.tileID,M),null,d.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function uy(_,a,d,m,v,w){const E=m.paint.get("raster-fade-duration");if(!w&&E>0){const P=o.h.now(),M=(P-_.timeAdded)/E,z=a?(P-a.timeAdded)/E:-1,N=d.getSource(),$=v.coveringZoomLevel({tileSize:N.tileSize,roundZoom:N.roundZoom}),J=!a||Math.abs(a.tileID.overscaledZ-$)>Math.abs(_.tileID.overscaledZ-$),he=J&&_.refreshedUponExpiration?1:o.ad(J?M:1-z,0,1);return _.refreshedUponExpiration&&M>=1&&(_.refreshedUponExpiration=!1),a?{opacity:1,mix:1-he}:{opacity:he,mix:0}}return{opacity:1,mix:0}}const jm=new o.aT(1,0,0,1),Bu=new o.aT(0,1,0,1),xh=new o.aT(0,0,1,1),Hm=new o.aT(1,0,1,1),Gm=new o.aT(0,1,1,1);function wc(_,a,d,m){Nu(_,0,a+d/2,_.transform.width,d,m)}function Vu(_,a,d,m){Nu(_,a-d/2,0,d,_.transform.height,m)}function Nu(_,a,d,m,v,w){const E=_.context,P=E.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*_.pixelRatio,d*_.pixelRatio,m*_.pixelRatio,v*_.pixelRatio),E.clear({color:w}),P.disable(P.SCISSOR_TEST)}function Wm(_,a,d){const m=_.context,v=m.gl,w=d.posMatrix,E=_.useProgram("debug"),P=zn.disabled,M=Er.disabled,z=_.colorModeForRenderPass(),N="$debug",$=_.style.map.terrain&&_.style.map.terrain.getTerrainData(d);m.activeTexture.set(v.TEXTURE0);const J=a.getTileByID(d.key).latestRawTileData,he=Math.floor((J&&J.byteLength||0)/1024),de=a.getTile(d).tileSize,ge=512/Math.min(de,512)*(d.overscaledZ/_.transform.zoom)*.5;let ce=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(ce+=` => ${d.overscaledZ}`),function(Pe,je){Pe.initDebugOverlayCanvas();const xe=Pe.debugOverlayCanvas,Me=Pe.context.gl,Ze=Pe.debugOverlayCanvas.getContext("2d");Ze.clearRect(0,0,xe.width,xe.height),Ze.shadowColor="white",Ze.shadowBlur=2,Ze.lineWidth=1.5,Ze.strokeStyle="white",Ze.textBaseline="top",Ze.font="bold 36px Open Sans, sans-serif",Ze.fillText(je,5,5),Ze.strokeText(je,5,5),Pe.debugOverlayTexture.update(xe),Pe.debugOverlayTexture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE)}(_,`${ce} ${he}kB`),E.draw(m,v.TRIANGLES,P,M,Ar.alphaBlended,kr.disabled,gc(w,o.aT.transparent,ge),null,N,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),E.draw(m,v.LINE_STRIP,P,M,z,kr.disabled,gc(w,o.aT.red),$,N,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function Fr(_,a,d){const m=_.context,v=m.gl,w=_.colorModeForRenderPass(),E=new zn(v.LEQUAL,zn.ReadWrite,_.depthRangeFor3D),P=_.useProgram("terrain"),M=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,_.width,_.height]);for(const z of d){const N=_.renderToTexture.getTexture(z),$=a.getTerrainData(z.tileID);m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,N.texture);const J={u_matrix:_.transform.calculatePosMatrix(z.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(_.transform.zoom)};P.draw(m,v.TRIANGLES,E,Er.disabled,w,kr.backCCW,J,$,"terrain",M.vertexBuffer,M.indexBuffer,M.segments)}}class qo{constructor(a,d){this.context=new ly(a),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.Z(),renderTime:0},this.setup(),this.numSublayers=yt.maxUnderzooming+yt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new _u}resize(a,d,m){if(this.width=Math.floor(a*m),this.height=Math.floor(d*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const a=this.context,d=new o.a_;d.emplaceBack(0,0),d.emplaceBack(o.N,0),d.emplaceBack(0,o.N),d.emplaceBack(o.N,o.N),this.tileExtentBuffer=a.createVertexBuffer(d,bu.members),this.tileExtentSegments=o.S.simpleSegment(0,0,4,2);const m=new o.a_;m.emplaceBack(0,0),m.emplaceBack(o.N,0),m.emplaceBack(0,o.N),m.emplaceBack(o.N,o.N),this.debugBuffer=a.createVertexBuffer(m,bu.members),this.debugSegments=o.S.simpleSegment(0,0,4,5);const v=new o.V;v.emplaceBack(0,0,0,0),v.emplaceBack(o.N,0,o.N,0),v.emplaceBack(0,o.N,0,o.N),v.emplaceBack(o.N,o.N,o.N,o.N),this.rasterBoundsBuffer=a.createVertexBuffer(v,He.members),this.rasterBoundsSegments=o.S.simpleSegment(0,0,4,2);const w=new o.a_;w.emplaceBack(0,0),w.emplaceBack(1,0),w.emplaceBack(0,1),w.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(w,bu.members),this.viewportSegments=o.S.simpleSegment(0,0,4,2);const E=new o.a$;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(E);const P=new o.b0;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(P);const M=this.context.gl;this.stencilClearMode=new Er({func:M.ALWAYS,mask:0},0,255,M.ZERO,M.ZERO,M.ZERO)}clearStencil(){const a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=o.Z();o.aS(m,0,this.width,this.height,0,0,1),o.a0(m,m,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,d.TRIANGLES,zn.disabled,this.stencilClearMode,Ar.disabled,kr.disabled,Dm(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!d||!d.length)return;this.currentStencilSource=a.source;const m=this.context,v=m.gl;this.nextStencilID+d.length>256&&this.clearStencil(),m.setColorMode(Ar.disabled),m.setDepthMode(zn.disabled);const w=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of d){const P=this._tileClippingMaskIDs[E.key]=this.nextStencilID++,M=this.style.map.terrain&&this.style.map.terrain.getTerrainData(E);w.draw(m,v.TRIANGLES,zn.disabled,new Er({func:v.ALWAYS,mask:0},P,255,v.KEEP,v.KEEP,v.REPLACE),Ar.disabled,kr.disabled,Dm(E.posMatrix),M,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,d=this.context.gl;return new Er({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){const d=this.context.gl;return new Er({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){const d=this.context.gl,m=a.sort((E,P)=>P.overscaledZ-E.overscaledZ),v=m[m.length-1].overscaledZ,w=m[0].overscaledZ-v+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();const E={};for(let P=0;P<w;P++)E[P+v]=new Er({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=w,[E,m]}return[{[v]:Er.disabled},m]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new Ar([a.CONSTANT_COLOR,a.ONE],new o.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Ar.unblended:Ar.alphaBlended}depthModeForSublayer(a,d,m){if(!this.opaquePassEnabledForLayer())return zn.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new zn(m||this.context.gl.LEQUAL,d,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(o.h.now()),this.imageManager.beginFrame();const m=this.style._order,v=this.style.sourceCaches,w={},E={},P={};for(const M in v){const z=v[M];z.used&&z.prepare(this.context),w[M]=z.getVisibleCoordinates(),E[M]=w[M].slice().reverse(),P[M]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let M=0;M<m.length;M++)if(this.style._layers[m[M]].is3D()){this.opaquePassCutoff=M;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const M=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!o.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||M.length)&&(o.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(z,N){const $=z.context,J=$.gl,he=Ar.unblended,de=new zn(J.LEQUAL,zn.ReadWrite,[0,1]),ge=N.getTerrainMesh(),ce=N.sourceCache.getRenderableTiles(),Pe=z.useProgram("terrainDepth");$.bindFramebuffer.set(N.getFramebuffer("depth").framebuffer),$.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),$.clear({color:o.aT.transparent,depth:1});for(const je of ce){const xe=N.getTerrainData(je.tileID),Me={u_matrix:z.transform.calculatePosMatrix(je.tileID.toUnwrapped()),u_ele_delta:N.getMeshFrameDelta(z.transform.zoom)};Pe.draw($,J.TRIANGLES,de,Er.disabled,he,kr.backCCW,Me,xe,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments)}$.bindFramebuffer.set(null),$.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain),function(z,N){const $=z.context,J=$.gl,he=Ar.unblended,de=new zn(J.LEQUAL,zn.ReadWrite,[0,1]),ge=N.getTerrainMesh(),ce=N.getCoordsTexture(),Pe=N.sourceCache.getRenderableTiles(),je=z.useProgram("terrainCoords");$.bindFramebuffer.set(N.getFramebuffer("coords").framebuffer),$.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),$.clear({color:o.aT.transparent,depth:1}),N.coordsIndex=[];for(const xe of Pe){const Me=N.getTerrainData(xe.tileID);$.activeTexture.set(J.TEXTURE0),J.bindTexture(J.TEXTURE_2D,ce.texture);const Ze={u_matrix:z.transform.calculatePosMatrix(xe.tileID.toUnwrapped()),u_terrain_coords_id:(255-N.coordsIndex.length)/255,u_texture:0,u_ele_delta:N.getMeshFrameDelta(z.transform.zoom)};je.draw($,J.TRIANGLES,de,Er.disabled,he,kr.backCCW,Ze,Me,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments),N.coordsIndex.push(xe.tileID.key)}$.bindFramebuffer.set(null),$.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const M of m){const z=this.style._layers[M];if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;const N=E[z.source];(z.type==="custom"||N.length)&&this.renderLayer(this,v[z.source],z,N)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.aT.black:o.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const M=this.style._layers[m[this.currentLayer]],z=v[M.source],N=w[M.source];this._renderTileClippingMasks(M,N),this.renderLayer(this,z,M,N)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const M=this.style._layers[m[this.currentLayer]],z=v[M.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(M))continue;const N=(M.type==="symbol"?P:E)[M.source];this._renderTileClippingMasks(M,w[M.source]),this.renderLayer(this,z,M,N)}if(this.options.showTileBoundaries){const M=function(z,N){let $=null;const J=Object.values(z._layers).flatMap(ce=>ce.source&&!ce.isHidden(N)?[z.sourceCaches[ce.source]]:[]),he=J.filter(ce=>ce.getSource().type==="vector"),de=J.filter(ce=>ce.getSource().type!=="vector"),ge=ce=>{(!$||$.getSource().maxzoom<ce.getSource().maxzoom)&&($=ce)};return he.forEach(ce=>ge(ce)),$||de.forEach(ce=>ge(ce)),$}(this.style,this.transform.zoom);M&&function(z,N,$){for(let J=0;J<$.length;J++)Wm(z,N,$[J])}(this,M,M.getVisibleCoordinates())}this.options.showPadding&&function(M){const z=M.transform.padding;wc(M,M.transform.height-(z.top||0),3,jm),wc(M,z.bottom||0,3,Bu),Vu(M,z.left||0,3,xh),Vu(M,M.transform.width-(z.right||0),3,Hm);const N=M.transform.centerPoint;(function($,J,he,de){Nu($,J-1,he-10,2,20,de),Nu($,J-10,he-1,20,2,de)})(M,N.x,M.transform.height-N.y,Gm)}(this),this.context.setDefault()}renderLayer(a,d,m,v){if(!m.isHidden(this.transform.zoom)&&(m.type==="background"||m.type==="custom"||(v||[]).length))switch(this.id=m.id,m.type){case"symbol":(function(w,E,P,M,z){if(w.renderPass!=="translucent")return;const N=Er.disabled,$=w.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(J,he,de,ge,ce,Pe,je){const xe=he.transform,Me=ce==="map",Ze=Pe==="map";for(const Ke of J){const rt=ge.getTile(Ke),bt=rt.getBucket(de);if(!bt||!bt.text||!bt.text.segments.get().length)continue;const ft=o.ah(bt.textSizeData,xe.zoom),At=Ee(rt,1,he.transform.zoom),Yt=gt(Ke.posMatrix,Ze,Me,he.transform,At),Pn=de.layout.get("icon-text-fit")!=="none"&&bt.hasIconData();if(ft){const Ot=Math.pow(2,xe.zoom-rt.tileID.overscaledZ);Fu(bt,Me,Ze,je,xe,Yt,Ke.posMatrix,Ot,ft,Pn,he.style.map.terrain?(on,Xt)=>he.style.map.terrain.getElevation(Ke,on,Xt):null)}}}(M,w,P,E,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),z),P.paint.get("icon-opacity").constantOr(1)!==0&&zu(w,E,P,M,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),N,$),P.paint.get("text-opacity").constantOr(1)!==0&&zu(w,E,P,M,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),N,$),E.map.showCollisionBoxes&&(qm(w,E,P,M,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),!0),qm(w,E,P,M,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),!1))})(a,d,m,v,this.style.placement.variableOffsets);break;case"circle":(function(w,E,P,M){if(w.renderPass!=="translucent")return;const z=P.paint.get("circle-opacity"),N=P.paint.get("circle-stroke-width"),$=P.paint.get("circle-stroke-opacity"),J=!P.layout.get("circle-sort-key").isConstant();if(z.constantOr(1)===0&&(N.constantOr(1)===0||$.constantOr(1)===0))return;const he=w.context,de=he.gl,ge=w.depthModeForSublayer(0,zn.ReadOnly),ce=Er.disabled,Pe=w.colorModeForRenderPass(),je=[];for(let xe=0;xe<M.length;xe++){const Me=M[xe],Ze=E.getTile(Me),Ke=Ze.getBucket(P);if(!Ke)continue;const rt=Ke.programConfigurations.get(P.id),bt=w.useProgram("circle",rt),ft=Ke.layoutVertexBuffer,At=Ke.indexBuffer,Yt=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Me),Pn={programConfiguration:rt,program:bt,layoutVertexBuffer:ft,indexBuffer:At,uniformValues:co(w,Me,Ze,P),terrainData:Yt};if(J){const Ot=Ke.segments.get();for(const on of Ot)je.push({segments:new o.S([on]),sortKey:on.sortKey,state:Pn})}else je.push({segments:Ke.segments,sortKey:0,state:Pn})}J&&je.sort((xe,Me)=>xe.sortKey-Me.sortKey);for(const xe of je){const{programConfiguration:Me,program:Ze,layoutVertexBuffer:Ke,indexBuffer:rt,uniformValues:bt,terrainData:ft}=xe.state;Ze.draw(he,de.TRIANGLES,ge,ce,Pe,kr.disabled,bt,ft,P.id,Ke,rt,xe.segments,P.paint,w.transform.zoom,Me)}})(a,d,m,v);break;case"heatmap":(function(w,E,P,M){if(P.paint.get("heatmap-opacity")!==0)if(w.renderPass==="offscreen"){const z=w.context,N=z.gl,$=Er.disabled,J=new Ar([N.ONE,N.ONE],o.aT.transparent,[!0,!0,!0,!0]);(function(he,de,ge){const ce=he.gl;he.activeTexture.set(ce.TEXTURE1),he.viewport.set([0,0,de.width/4,de.height/4]);let Pe=ge.heatmapFbo;if(Pe)ce.bindTexture(ce.TEXTURE_2D,Pe.colorAttachment.get()),he.bindFramebuffer.set(Pe.framebuffer);else{const je=ce.createTexture();ce.bindTexture(ce.TEXTURE_2D,je),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,ce.LINEAR),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,ce.LINEAR),Pe=ge.heatmapFbo=he.createFramebuffer(de.width/4,de.height/4,!1,!1),function(xe,Me,Ze,Ke){var rt,bt;const ft=xe.gl,At=(rt=xe.HALF_FLOAT)!==null&&rt!==void 0?rt:ft.UNSIGNED_BYTE,Yt=(bt=xe.RGBA16F)!==null&&bt!==void 0?bt:ft.RGBA;ft.texImage2D(ft.TEXTURE_2D,0,Yt,Me.width/4,Me.height/4,0,ft.RGBA,At,null),Ke.colorAttachment.set(Ze)}(he,de,je,Pe)}})(z,w,P),z.clear({color:o.aT.transparent});for(let he=0;he<M.length;he++){const de=M[he];if(E.hasRenderableParent(de))continue;const ge=E.getTile(de),ce=ge.getBucket(P);if(!ce)continue;const Pe=ce.programConfigurations.get(P.id),je=w.useProgram("heatmap",Pe),{zoom:xe}=w.transform;je.draw(z,N.TRIANGLES,zn.disabled,$,J,kr.disabled,ey(de.posMatrix,ge,xe,P.paint.get("heatmap-intensity")),null,P.id,ce.layoutVertexBuffer,ce.indexBuffer,ce.segments,P.paint,w.transform.zoom,Pe)}z.viewport.set([0,0,w.width,w.height])}else w.renderPass==="translucent"&&(w.context.setColorMode(w.colorModeForRenderPass()),function(z,N){const $=z.context,J=$.gl,he=N.heatmapFbo;if(!he)return;$.activeTexture.set(J.TEXTURE0),J.bindTexture(J.TEXTURE_2D,he.colorAttachment.get()),$.activeTexture.set(J.TEXTURE1);let de=N.colorRampTexture;de||(de=N.colorRampTexture=new Z($,N.colorRamp,J.RGBA)),de.bind(J.LINEAR,J.CLAMP_TO_EDGE),z.useProgram("heatmapTexture").draw($,J.TRIANGLES,zn.disabled,Er.disabled,z.colorModeForRenderPass(),kr.disabled,((ge,ce,Pe,je)=>{const xe=o.Z();o.aS(xe,0,ge.width,ge.height,0,0,1);const Me=ge.context.gl;return{u_matrix:xe,u_world:[Me.drawingBufferWidth,Me.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ce.paint.get("heatmap-opacity")}})(z,N),null,N.id,z.viewportBuffer,z.quadTriangleIndexBuffer,z.viewportSegments,N.paint,z.transform.zoom)}(w,P))})(a,d,m,v);break;case"line":(function(w,E,P,M){if(w.renderPass!=="translucent")return;const z=P.paint.get("line-opacity"),N=P.paint.get("line-width");if(z.constantOr(1)===0||N.constantOr(1)===0)return;const $=w.depthModeForSublayer(0,zn.ReadOnly),J=w.colorModeForRenderPass(),he=P.paint.get("line-dasharray"),de=P.paint.get("line-pattern"),ge=de.constantOr(1),ce=P.paint.get("line-gradient"),Pe=P.getCrossfadeParameters(),je=ge?"linePattern":he?"lineSDF":ce?"lineGradient":"line",xe=w.context,Me=xe.gl;let Ze=!0;for(const Ke of M){const rt=E.getTile(Ke);if(ge&&!rt.patternsLoaded())continue;const bt=rt.getBucket(P);if(!bt)continue;const ft=bt.programConfigurations.get(P.id),At=w.context.program.get(),Yt=w.useProgram(je,ft),Pn=Ze||Yt.program!==At,Ot=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ke),on=de.constantOr(null);if(on&&rt.imageAtlas){const En=rt.imageAtlas,xn=En.patternPositions[on.to.toString()],Dn=En.patternPositions[on.from.toString()];xn&&Dn&&ft.setConstantPatternPositions(xn,Dn)}const Xt=Ot?Ke:null,tr=ge?ty(w,rt,P,Pe,Xt):he?Lm(w,rt,P,he,Pe,Xt):ce?Mm(w,rt,P,bt.lineClipsArray.length,Xt):ih(w,rt,P,Xt);if(ge)xe.activeTexture.set(Me.TEXTURE0),rt.imageAtlasTexture.bind(Me.LINEAR,Me.CLAMP_TO_EDGE),ft.updatePaintBuffers(Pe);else if(he&&(Pn||w.lineAtlas.dirty))xe.activeTexture.set(Me.TEXTURE0),w.lineAtlas.bind(xe);else if(ce){const En=bt.gradients[P.id];let xn=En.texture;if(P.gradientVersion!==En.version){let Dn=256;if(P.stepInterpolant){const qr=E.getSource().maxzoom,fr=Ke.canonical.z===qr?Math.ceil(1<<w.transform.maxZoom-Ke.canonical.z):1;Dn=o.ad(o.aY(bt.maxLineLength/o.N*1024*fr),256,xe.maxTextureSize)}En.gradient=o.aZ({expression:P.gradientExpression(),evaluationKey:"lineProgress",resolution:Dn,image:En.gradient||void 0,clips:bt.lineClipsArray}),En.texture?En.texture.update(En.gradient):En.texture=new Z(xe,En.gradient,Me.RGBA),En.version=P.gradientVersion,xn=En.texture}xe.activeTexture.set(Me.TEXTURE0),xn.bind(P.stepInterpolant?Me.NEAREST:Me.LINEAR,Me.CLAMP_TO_EDGE)}Yt.draw(xe,Me.TRIANGLES,$,w.stencilModeForClipping(Ke),J,kr.disabled,tr,Ot,P.id,bt.layoutVertexBuffer,bt.indexBuffer,bt.segments,P.paint,w.transform.zoom,ft,bt.layoutVertexBuffer2),Ze=!1}})(a,d,m,v);break;case"fill":(function(w,E,P,M){const z=P.paint.get("fill-color"),N=P.paint.get("fill-opacity");if(N.constantOr(1)===0)return;const $=w.colorModeForRenderPass(),J=P.paint.get("fill-pattern"),he=w.opaquePassEnabledForLayer()&&!J.constantOr(1)&&z.constantOr(o.aT.transparent).a===1&&N.constantOr(0)===1?"opaque":"translucent";if(w.renderPass===he){const de=w.depthModeForSublayer(1,w.renderPass==="opaque"?zn.ReadWrite:zn.ReadOnly);bc(w,E,P,M,de,$,!1)}if(w.renderPass==="translucent"&&P.paint.get("fill-antialias")){const de=w.depthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,zn.ReadOnly);bc(w,E,P,M,de,$,!0)}})(a,d,m,v);break;case"fill-extrusion":(function(w,E,P,M){const z=P.paint.get("fill-extrusion-opacity");if(z!==0&&w.renderPass==="translucent"){const N=new zn(w.context.gl.LEQUAL,zn.ReadWrite,w.depthRangeFor3D);if(z!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))xc(w,E,P,M,N,Er.disabled,Ar.disabled),xc(w,E,P,M,N,w.stencilModeFor3D(),w.colorModeForRenderPass());else{const $=w.colorModeForRenderPass();xc(w,E,P,M,N,Er.disabled,$)}}})(a,d,m,v);break;case"hillshade":(function(w,E,P,M){if(w.renderPass!=="offscreen"&&w.renderPass!=="translucent")return;const z=w.context,N=w.depthModeForSublayer(0,zn.ReadOnly),$=w.colorModeForRenderPass(),[J,he]=w.renderPass==="translucent"?w.stencilConfigForOverlap(M):[{},M];for(const de of he){const ge=E.getTile(de);ge.needsHillshadePrepare!==void 0&&ge.needsHillshadePrepare&&w.renderPass==="offscreen"?bh(w,ge,P,N,Er.disabled,$):w.renderPass==="translucent"&&cy(w,de,ge,P,N,J[de.overscaledZ],$)}z.viewport.set([0,0,w.width,w.height])})(a,d,m,v);break;case"raster":(function(w,E,P,M){if(w.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!M.length)return;const z=w.context,N=z.gl,$=E.getSource(),J=w.useProgram("raster"),he=w.colorModeForRenderPass(),[de,ge]=$ instanceof $e?[{},M]:w.stencilConfigForOverlap(M),ce=ge[ge.length-1].overscaledZ,Pe=!w.options.moving;for(const je of ge){const xe=w.depthModeForSublayer(je.overscaledZ-ce,P.paint.get("raster-opacity")===1?zn.ReadWrite:zn.ReadOnly,N.LESS),Me=E.getTile(je);Me.registerFadeDuration(P.paint.get("raster-fade-duration"));const Ze=E.findLoadedParent(je,0),Ke=uy(Me,Ze,E,P,w.transform,w.style.map.terrain);let rt,bt;const ft=P.paint.get("raster-resampling")==="nearest"?N.NEAREST:N.LINEAR;z.activeTexture.set(N.TEXTURE0),Me.texture.bind(ft,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),z.activeTexture.set(N.TEXTURE1),Ze?(Ze.texture.bind(ft,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),rt=Math.pow(2,Ze.tileID.overscaledZ-Me.tileID.overscaledZ),bt=[Me.tileID.canonical.x*rt%1,Me.tileID.canonical.y*rt%1]):Me.texture.bind(ft,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST);const At=w.style.map.terrain&&w.style.map.terrain.getTerrainData(je),Yt=At?je:null,Pn=Yt?Yt.posMatrix:w.transform.calculatePosMatrix(je.toUnwrapped(),Pe),Ot=Om(Pn,bt||[0,0],rt||1,Ke,P);$ instanceof $e?J.draw(z,N.TRIANGLES,xe,Er.disabled,he,kr.disabled,Ot,At,P.id,$.boundsBuffer,w.quadTriangleIndexBuffer,$.boundsSegments):J.draw(z,N.TRIANGLES,xe,de[je.overscaledZ],he,kr.disabled,Ot,At,P.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}})(a,d,m,v);break;case"background":(function(w,E,P,M){const z=P.paint.get("background-color"),N=P.paint.get("background-opacity");if(N===0)return;const $=w.context,J=$.gl,he=w.transform,de=he.tileSize,ge=P.paint.get("background-pattern");if(w.isPatternMissing(ge))return;const ce=!ge&&z.a===1&&N===1&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass!==ce)return;const Pe=Er.disabled,je=w.depthModeForSublayer(0,ce==="opaque"?zn.ReadWrite:zn.ReadOnly),xe=w.colorModeForRenderPass(),Me=w.useProgram(ge?"backgroundPattern":"background"),Ze=M||he.coveringTiles({tileSize:de,terrain:w.style.map.terrain});ge&&($.activeTexture.set(J.TEXTURE0),w.imageManager.bind(w.context));const Ke=P.getCrossfadeParameters();for(const rt of Ze){const bt=M?rt.posMatrix:w.transform.calculatePosMatrix(rt.toUnwrapped()),ft=ge?Pa(bt,N,w,ge,{tileID:rt,tileSize:de},Ke):Cu(bt,N,z),At=w.style.map.terrain&&w.style.map.terrain.getTerrainData(rt);Me.draw($,J.TRIANGLES,je,Pe,xe,kr.disabled,ft,At,P.id,w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}})(a,0,m,v);break;case"custom":(function(w,E,P){const M=w.context,z=P.implementation;if(w.renderPass==="offscreen"){const N=z.prerender;N&&(w.setCustomLayerDefaults(),M.setColorMode(w.colorModeForRenderPass()),N.call(z,M.gl,w.transform.customLayerMatrix()),M.setDirty(),w.setBaseState())}else if(w.renderPass==="translucent"){w.setCustomLayerDefaults(),M.setColorMode(w.colorModeForRenderPass()),M.setStencilMode(Er.disabled);const N=z.renderingMode==="3d"?new zn(w.context.gl.LEQUAL,zn.ReadWrite,w.depthRangeFor3D):w.depthModeForSublayer(0,zn.ReadOnly);M.setDepthMode(N),z.render(M.gl,w.transform.customLayerMatrix()),M.setDirty(),w.setBaseState(),M.bindFramebuffer.set(null)}})(a,0,m)}}translatePosMatrix(a,d,m,v,w){if(!m[0]&&!m[1])return a;const E=w?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(E){const z=Math.sin(E),N=Math.cos(E);m=[m[0]*N-m[1]*z,m[0]*z+m[1]*N]}const P=[w?m[0]:Ee(d,m[0],this.transform.zoom),w?m[1]:Ee(d,m[1],this.transform.zoom),0],M=new Float32Array(16);return o.$(M,a,P),M}saveTileTexture(a){const d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const d=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!d||!m}useProgram(a,d){this.cache=this.cache||{};const m=a+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new xu(this.context,Tr[a],d,Tu[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Z(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:a,drawingBufferHeight:d}=this.context.gl;return this.width!==a||this.height!==d}}class Xi{constructor(a,d){this.points=a,this.planes=d}static fromInvProjectionMatrix(a,d,m){const v=Math.pow(2,m),w=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{const M=1/(P=o.ag([],P,a))[3]/d*v;return o.b3(P,P,[M,M,1/P[3],M])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const M=function(J,he){var de=he[0],ge=he[1],ce=he[2],Pe=de*de+ge*ge+ce*ce;return Pe>0&&(Pe=1/Math.sqrt(Pe)),J[0]=he[0]*Pe,J[1]=he[1]*Pe,J[2]=he[2]*Pe,J}([],function(J,he,de){var ge=he[0],ce=he[1],Pe=he[2],je=de[0],xe=de[1],Me=de[2];return J[0]=ce*Me-Pe*xe,J[1]=Pe*je-ge*Me,J[2]=ge*xe-ce*je,J}([],ee([],w[P[0]],w[P[1]]),ee([],w[P[2]],w[P[1]]))),z=-((N=M)[0]*($=w[P[1]])[0]+N[1]*$[1]+N[2]*$[2]);var N,$;return M.concat(z)});return new Xi(w,E)}}class Dl{constructor(a,d){this.min=a,this.max=d,this.center=function(m,v,w){return m[0]=.5*v[0],m[1]=.5*v[1],m[2]=.5*v[2],m}([],function(m,v,w){return m[0]=v[0]+w[0],m[1]=v[1]+w[1],m[2]=v[2]+w[2],m}([],this.min,this.max))}quadrant(a){const d=[a%2==0,a<2],m=se(this.min),v=se(this.max);for(let w=0;w<d.length;w++)m[w]=d[w]?this.min[w]:this.center[w],v[w]=d[w]?this.center[w]:this.max[w];return v[2]=this.max[2],new Dl(m,v)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let v=0;v<a.planes.length;v++){const w=a.planes[v];let E=0;for(let P=0;P<d.length;P++)o.b4(w,d[P])>=0&&E++;if(E===0)return 0;E!==d.length&&(m=!1)}if(m)return 2;for(let v=0;v<3;v++){let w=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let P=0;P<a.points.length;P++){const M=a.points[P][v]-this.min[v];w=Math.min(w,M),E=Math.max(E,M)}if(E<0||w>this.max[v]-this.min[v])return 0}return 1}}class Sc{constructor(a=0,d=0,m=0,v=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=m,this.right=v}interpolate(a,d,m){return d.top!=null&&a.top!=null&&(this.top=o.B.number(a.top,d.top,m)),d.bottom!=null&&a.bottom!=null&&(this.bottom=o.B.number(a.bottom,d.bottom,m)),d.left!=null&&a.left!=null&&(this.left=o.B.number(a.left,d.left,m)),d.right!=null&&a.right!=null&&(this.right=o.B.number(a.right,d.right,m)),this}getCenter(a,d){const m=o.ad((this.left+a-this.right)/2,0,a),v=o.ad((this.top+d-this.bottom)/2,0,d);return new o.P(m,v)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Sc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class $u{constructor(a,d,m,v,w){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=w===void 0||!!w,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=m??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Sc,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const a=new $u(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this._minEleveationForCurrentTile=a._minEleveationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const d=-o.b5(a,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var m=new o.A(4);return o.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,v,w){var E=v[0],P=v[1],M=v[2],z=v[3],N=Math.sin(w),$=Math.cos(w);m[0]=E*$+M*N,m[1]=P*$+z*N,m[2]=E*-N+M*$,m[3]=P*-N+z*$}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const d=o.ad(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,m){this._unmodified=!1,this._edgeInsets.interpolate(a,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){const d=[new o.b6(0,a)];if(this._renderWorldCopies){const m=this.pointCoordinate(new o.P(0,0)),v=this.pointCoordinate(new o.P(this.width,0)),w=this.pointCoordinate(new o.P(this.width,this.height)),E=this.pointCoordinate(new o.P(0,this.height)),P=Math.floor(Math.min(m.x,v.x,w.x,E.x)),M=Math.floor(Math.max(m.x,v.x,w.x,E.x)),z=1;for(let N=P-z;N<=M+z;N++)N!==0&&d.push(new o.b6(N,a))}return d}coveringTiles(a){var d,m;let v=this.coveringZoomLevel(a);const w=v;if(a.minzoom!==void 0&&v<a.minzoom)return[];a.maxzoom!==void 0&&v>a.maxzoom&&(v=a.maxzoom);const E=this.pointCoordinate(this.getCameraPoint()),P=o.U.fromLngLat(this.center),M=Math.pow(2,v),z=[M*E.x,M*E.y,0],N=[M*P.x,M*P.y,0],$=Xi.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,v);let J=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(J=v);const he=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,de=xe=>({aabb:new Dl([xe*M,0,0],[(xe+1)*M,M,0]),zoom:0,x:0,y:0,wrap:xe,fullyVisible:!1}),ge=[],ce=[],Pe=v,je=a.reparseOverscaled?w:v;if(this._renderWorldCopies)for(let xe=1;xe<=3;xe++)ge.push(de(-xe)),ge.push(de(xe));for(ge.push(de(0));ge.length>0;){const xe=ge.pop(),Me=xe.x,Ze=xe.y;let Ke=xe.fullyVisible;if(!Ke){const Yt=xe.aabb.intersects($);if(Yt===0)continue;Ke=Yt===2}const rt=a.terrain?z:N,bt=xe.aabb.distanceX(rt),ft=xe.aabb.distanceY(rt),At=Math.max(Math.abs(bt),Math.abs(ft));if(xe.zoom===Pe||At>he+(1<<Pe-xe.zoom)-2&&xe.zoom>=J){const Yt=Pe-xe.zoom,Pn=z[0]-.5-(Me<<Yt),Ot=z[1]-.5-(Ze<<Yt);ce.push({tileID:new o.O(xe.zoom===Pe?je:xe.zoom,xe.wrap,xe.zoom,Me,Ze),distanceSq:re([N[0]-.5-Me,N[1]-.5-Ze]),tileDistanceToCamera:Math.sqrt(Pn*Pn+Ot*Ot)})}else for(let Yt=0;Yt<4;Yt++){const Pn=(Me<<1)+Yt%2,Ot=(Ze<<1)+(Yt>>1),on=xe.zoom+1;let Xt=xe.aabb.quadrant(Yt);if(a.terrain){const tr=new o.O(on,xe.wrap,on,Pn,Ot),En=a.terrain.getMinMaxElevation(tr),xn=(d=En.minElevation)!==null&&d!==void 0?d:this.elevation,Dn=(m=En.maxElevation)!==null&&m!==void 0?m:this.elevation;Xt=new Dl([Xt.min[0],Xt.min[1],xn],[Xt.max[0],Xt.max[1],Dn])}ge.push({aabb:Xt,zoom:on,x:Pn,y:Ot,wrap:xe.wrap,fullyVisible:Ke})}}return ce.sort((xe,Me)=>xe.distanceSq-Me.distanceSq).map(xe=>xe.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const d=o.ad(a.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.P(o.G(a.lng)*this.worldSize,o.H(d)*this.worldSize)}unproject(a){return new o.U(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const d=this.pointLocation(this.centerPoint,a),m=a.getElevationForLngLatZoom(d,this.tileZoom);if(!(this.elevation-m))return;const v=this.getCameraPosition(),w=o.U.fromLngLat(v.lngLat,v.altitude),E=o.U.fromLngLat(d,m),P=w.x-E.x,M=w.y-E.y,z=w.z-E.z,N=Math.sqrt(P*P+M*M+z*z),$=this.scaleZoom(this.cameraToCenterDistance/N/this.tileSize);this._elevation=m,this._center=d,this.zoom=$}setLocationAtPoint(a,d){const m=this.pointCoordinate(d),v=this.pointCoordinate(this.centerPoint),w=this.locationCoordinate(a),E=new o.U(w.x-(m.x-v.x),w.y-(m.y-v.y));this.center=this.coordinateLocation(E),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,d){return d?this.coordinatePoint(this.locationCoordinate(a),d.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,d){return this.coordinateLocation(this.pointCoordinate(a,d))}locationCoordinate(a){return o.U.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,d){if(d){const J=d.pointCoordinate(a);if(J!=null)return J}const m=[a.x,a.y,0,1],v=[a.x,a.y,1,1];o.ag(m,m,this.pixelMatrixInverse),o.ag(v,v,this.pixelMatrixInverse);const w=m[3],E=v[3],P=m[1]/w,M=v[1]/E,z=m[2]/w,N=v[2]/E,$=z===N?0:(0-z)/(N-z);return new o.U(o.B.number(m[0]/w,v[0]/E,$)/this.worldSize,o.B.number(P,M,$)/this.worldSize)}coordinatePoint(a,d=0,m=this.pixelMatrix){const v=[a.x*this.worldSize,a.y*this.worldSize,d,1];return o.ag(v,v,m),new o.P(v[0]/v[3],v[1]/v[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new ct().extend(this.pointLocation(new o.P(0,a))).extend(this.pointLocation(new o.P(this.width,a))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new ct([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(a,d=!1){const m=a.key,v=d?this._alignedPosMatrixCache:this._posMatrixCache;if(v[m])return v[m];const w=a.canonical,E=this.worldSize/this.zoomScale(w.z),P=w.x+Math.pow(2,w.z)*a.wrap,M=o.ao(new Float64Array(16));return o.$(M,M,[P*E,w.y*E,0]),o.a0(M,M,[E/o.N,E/o.N,1]),o.a1(M,d?this.alignedProjMatrix:this.projMatrix,M),v[m]=new Float32Array(M),v[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a,d,m,v,w=-90,E=90,P=-180,M=180;const z=this.size,N=this._unmodified;if(this.latRange){const he=this.latRange;w=o.H(he[1])*this.worldSize,E=o.H(he[0])*this.worldSize,a=E-w<z.y?z.y/(E-w):0}if(this.lngRange){const he=this.lngRange;P=o.b5(o.G(he[0])*this.worldSize,0,this.worldSize),M=o.b5(o.G(he[1])*this.worldSize,0,this.worldSize),M<P&&(M+=this.worldSize),d=M-P<z.x?z.x/(M-P):0}const $=this.point,J=Math.max(d||0,a||0);if(J)return this.center=this.unproject(new o.P(d?(M+P)/2:$.x,a?(E+w)/2:$.y)),this.zoom+=this.scaleZoom(J),this._unmodified=N,void(this._constraining=!1);if(this.latRange){const he=$.y,de=z.y/2;he-de<w&&(v=w+de),he+de>E&&(v=E-de)}if(this.lngRange){const he=(P+M)/2,de=o.b5($.x,he-this.worldSize/2,he+this.worldSize/2),ge=z.x/2;de-ge<P&&(m=P+ge),de+ge>M&&(m=M-ge)}m===void 0&&v===void 0||(this.center=this.unproject(new o.P(m!==void 0?m:$.x,v!==void 0?v:$.y)).wrap()),this._unmodified=N,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,d=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b7(1,this.center.lat)*this.worldSize;let v=o.ao(new Float64Array(16));o.a0(v,v,[this.width/2,-this.height/2,1]),o.$(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=o.ao(new Float64Array(16)),o.a0(v,v,[1,-1,1]),o.$(v,v,[-1,-1,0]),o.a0(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const w=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),E=Math.min(this.elevation,this._minEleveationForCurrentTile),P=w-E*this._pixelPerMeter/Math.cos(this._pitch),M=E<0?P:w,z=Math.PI/2+this._pitch,N=this._fov*(.5+a.y/this.height),$=Math.sin(N)*M/Math.sin(o.ad(Math.PI-z-N,.01,Math.PI-.01)),J=this.getHorizon(),he=2*Math.atan(J/this.cameraToCenterDistance)*(.5+a.y/(2*J)),de=Math.sin(he)*M/Math.sin(o.ad(Math.PI-z-he,.01,Math.PI-.01)),ge=Math.min($,de),ce=1.01*(Math.cos(Math.PI/2-this._pitch)*ge+M),Pe=this.height/50;v=new Float64Array(16),o.b8(v,this._fov,this.width/this.height,Pe,ce),v[8]=2*-a.x/this.width,v[9]=2*a.y/this.height,o.a0(v,v,[1,-1,1]),o.$(v,v,[0,0,-this.cameraToCenterDistance]),o.b9(v,v,this._pitch),o.ae(v,v,this.angle),o.$(v,v,[-d,-m,0]),this.mercatorMatrix=o.a0([],v,[this.worldSize,this.worldSize,this.worldSize]),o.a0(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.a1(new Float64Array(16),this.labelPlaneMatrix,v),o.$(v,v,[0,0,-this.elevation]),this.projMatrix=v,this.invProjMatrix=o.as([],v),this.pixelMatrix3D=o.a1(new Float64Array(16),this.labelPlaneMatrix,v);const je=this.width%2/2,xe=this.height%2/2,Me=Math.cos(this.angle),Ze=Math.sin(this.angle),Ke=d-Math.round(d)+Me*je+Ze*xe,rt=m-Math.round(m)+Me*xe+Ze*je,bt=new Float64Array(v);if(o.$(bt,bt,[Ke>.5?Ke-1:Ke,rt>.5?rt-1:rt,0]),this.alignedProjMatrix=bt,v=o.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new o.P(0,0)),d=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.ag(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,a))}getCameraQueryGeometry(a){const d=this.getCameraPoint();if(a.length===1)return[a[0],d];{let m=d.x,v=d.y,w=d.x,E=d.y;for(const P of a)m=Math.min(m,P.x),v=Math.min(v,P.y),w=Math.max(w,P.x),E=Math.max(E,P.y);return[new o.P(m,v),new o.P(w,v),new o.P(w,E),new o.P(m,E),new o.P(m,v)]}}}function jo(_,a){let d,m=!1,v=null,w=null;const E=()=>{v=null,m&&(_.apply(w,d),v=setTimeout(E,a),m=!1)};return(...P)=>(m=!0,w=this,d=P,v||E(),v)}class kc{constructor(a){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(m=v)}),(m&&m[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:m,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=jo(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const d=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,v),E=Math.round(d.lng*w)/w,P=Math.round(d.lat*w)/w,M=this._map.getBearing(),z=this._map.getPitch();let N="";if(N+=a?`/${E}/${P}/${m}`:`${m}/${P}/${E}`,(M||z)&&(N+="/"+Math.round(10*M)/10),z&&(N+=`/${Math.round(z)}`),this._hashName){const $=this._hashName;let J=!1;const he=window.location.hash.slice(1).split("&").map(de=>{const ge=de.split("=")[0];return ge===$?(J=!0,`${ge}=${N}`):de}).filter(de=>de);return J||he.push(`${$}=${N}`),`#${he.join("&")}`}return`#${N}`}}const Ml={linearity:.3,easing:o.ba(0,0,.3,1)},Ym=o.e({deceleration:2500,maxSpeed:1400},Ml),Zm=o.e({deceleration:20,maxSpeed:1400},Ml),Km=o.e({deceleration:1e3,maxSpeed:360},Ml),Xm=o.e({deceleration:1e3,maxSpeed:90},Ml);class Jm{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.h.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,d=o.h.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:w}of this._inertiaBuffer)d.zoom+=w.zoomDelta||0,d.bearing+=w.bearingDelta||0,d.pitch+=w.pitchDelta||0,w.panDelta&&d.pan._add(w.panDelta),w.around&&(d.around=w.around),w.pinchAround&&(d.pinchAround=w.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(d.pan.mag()){const w=Cc(d.pan.mag(),m,o.e({},Ym,a||{}));v.offset=d.pan.mult(w.amount/d.pan.mag()),v.center=this._map.transform.center,os(v,w)}if(d.zoom){const w=Cc(d.zoom,m,Zm);v.zoom=this._map.transform.zoom+w.amount,os(v,w)}if(d.bearing){const w=Cc(d.bearing,m,Km);v.bearing=this._map.transform.bearing+o.ad(w.amount,-179,179),os(v,w)}if(d.pitch){const w=Cc(d.pitch,m,Xm);v.pitch=this._map.transform.pitch+w.amount,os(v,w)}if(v.zoom||v.bearing){const w=d.pinchAround===void 0?d.around:d.pinchAround;v.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),o.e(v,{noMoveStart:!0})}}function os(_,a){(!_.duration||_.duration<a.duration)&&(_.duration=a.duration,_.easing=a.easing)}function Cc(_,a,d){const{maxSpeed:m,linearity:v,deceleration:w}=d,E=o.ad(_*v/(a/1e3),-m,m),P=Math.abs(E)/(w*v);return{easing:d.easing,duration:1e3*P,amount:E*(P/2)}}class va extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m,v={}){const w=y.mousePos(d.getCanvasContainer(),m),E=d.unproject(w);super(a,o.e({point:w,lngLat:E,originalEvent:m},v)),this._defaultPrevented=!1,this.target=d}}class Tc extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){const v=a==="touchend"?m.changedTouches:m.touches,w=y.touchPos(d.getCanvasContainer(),v),E=w.map(M=>d.unproject(M)),P=w.reduce((M,z,N,$)=>M.add(z.div($.length)),new o.P(0,0));super(a,{points:w,point:P,lngLats:E,lngLat:d.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class Qm extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class ep{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new Qm(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new va(a.type,this._map,a))}mouseup(a){this._map.fire(new va(a.type,this._map,a))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new va(a.type,this._map,a))}dblclick(a){return this._firePreventable(new va(a.type,this._map,a))}mouseover(a){this._map.fire(new va(a.type,this._map,a))}mouseout(a){this._map.fire(new va(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Tc(a.type,this._map,a))}touchmove(a){this._map.fire(new Tc(a.type,this._map,a))}touchend(a){this._map.fire(new Tc(a.type,this._map,a))}touchcancel(a){this._map.fire(new Tc(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class tp{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new va(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new va("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new va(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Ds{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(o.P.convert(a),this._map.terrain)}}class np{constructor(a,d){this._map=a,this._tr=new Ds(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(y.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;const m=d;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=m,this._box||(this._box=y.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const w=Math.min(v.x,m.x),E=Math.max(v.x,m.x),P=Math.min(v.y,m.y),M=Math.max(v.y,m.y);y.setTransform(this._box,`translate(${w}px,${P}px)`),this._box.style.width=E-w+"px",this._box.style.height=M-P+"px"}mouseupWindow(a,d){if(!this._active||a.button!==0)return;const m=this._startPos,v=d;if(this.reset(),y.suppressClick(),m.x!==v.x||m.y!==v.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:a})),{cameraAnimation:w=>w.fitScreenCoordinates(m,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new o.k(a,{originalEvent:d}))}}function Da(_,a){if(_.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${a.length}`);const d={};for(let m=0;m<_.length;m++)d[_[m].identifier]=a[m];return d}class Ms{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const w=new o.P(0,0);for(const E of v)w._add(E);return w.div(v.length)}(d),this.touches=Da(m,d)))}touchmove(a,d,m){if(this.aborted||!this.centroid)return;const v=Da(m,d);for(const w in this.touches){const E=v[w];(!E||E.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(a,d,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class Uu{constructor(a){this.singleTap=new Ms(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,d,m){this.singleTap.touchstart(a,d,m)}touchmove(a,d,m){this.singleTap.touchmove(a,d,m)}touchend(a,d,m){const v=this.singleTap.touchend(a,d,m);if(v){const w=a.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(v)<30;if(w&&E||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Ls{constructor(a){this._tr=new Ds(a),this._zoomIn=new Uu({numTouches:1,numTaps:2}),this._zoomOut=new Uu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,m){this._zoomIn.touchstart(a,d,m),this._zoomOut.touchstart(a,d,m)}touchmove(a,d,m){this._zoomIn.touchmove(a,d,m),this._zoomOut.touchmove(a,d,m)}touchend(a,d,m){const v=this._zoomIn.touchend(a,d,m),w=this._zoomOut.touchend(a,d,m),E=this._tr;return v?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(v)},{originalEvent:a})}):w?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(w)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Rs{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const d=this._moveFunction(...a);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(a,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,d){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const v=d.length?d[0]:d;return!this._moved&&v.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(m,v))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&y.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const dy={0:1,2:2};class wh{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const d=y.mouseButton(a);this._eventButton=d}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(d,m){const v=dy[m];return d.buttons===void 0||(d.buttons&v)!==v}(a,this._eventButton)}isValidEndEvent(a){return y.mouseButton(a)===this._eventButton}}class rp{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const qu=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=function(a){a.preventDefault()}},Ll=({enable:_,clickTolerance:a,bearingDegreesPerPixelMoved:d=.8})=>{const m=new wh({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new Rs({clickTolerance:a,move:(v,w)=>({bearingDelta:(w.x-v.x)*d}),moveStateManager:m,enable:_,assignEvents:qu})},Os=({enable:_,clickTolerance:a,pitchDegreesPerPixelMoved:d=-.5})=>{const m=new wh({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new Rs({clickTolerance:a,move:(v,w)=>({pitchDelta:(w.y-v.y)*d}),moveStateManager:m,enable:_,assignEvents:qu})};class Ut{constructor(a,d){this._minTouches=a.cooperativeGestures?2:1,this._clickTolerance=a.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(a,d,m){return this._calculateTransform(a,d,m)}touchmove(a,d,m){if(this._map._cooperativeGestures&&(this._minTouches===2&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(a,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return a.preventDefault(),this._calculateTransform(a,d,m)}touchend(a,d,m){this._calculateTransform(a,d,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,m){m.length>0&&(this._active=!0);const v=Da(m,d),w=new o.P(0,0),E=new o.P(0,0);let P=0;for(const z in v){const N=v[z],$=this._touches[z];$&&(w._add(N),E._add(N.sub($)),P++,v[z]=N)}if(this._touches=v,P<this._minTouches||!E.mag())return;const M=E.div(P);return this._sum._add(M),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(P),panDelta:M}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ju{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,m){if(!this._firstTwoTouches)return;a.preventDefault();const[v,w]=this._firstTwoTouches,E=fo(m,d,v),P=fo(m,d,w);if(!E||!P)return;const M=this._aroundCenter?null:E.add(P).div(2);return this._move([E,P],M,a)}touchend(a,d,m){if(!this._firstTwoTouches)return;const[v,w]=this._firstTwoTouches,E=fo(m,d,v),P=fo(m,d,w);E&&P||(this._active&&y.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function fo(_,a,d){for(let m=0;m<_.length;m++)if(_[m].identifier===d)return a[m]}function Rl(_,a){return Math.log(_/a)/Math.LN2}class ip extends ju{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){const m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Rl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Rl(this._distance,m),pinchAround:d}}}function Vt(_,a){return 180*_.angleWith(a)/Math.PI}class Sh extends ju{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d){const m=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Vt(this._vector,m),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const d=25/(Math.PI*this._minDiameter)*360,m=Vt(a,this._startVector);return Math.abs(m)<d}}function kh(_){return Math.abs(_.y)>Math.abs(_.x)}class hy extends ju{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,d,m){super.touchstart(a,d,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,kh(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const v=a[0].sub(this._lastPoints[0]),w=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,w,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(v.y+w.y)/2*-.5}):void 0}gestureBeginsVertically(a,d,m){if(this._valid!==void 0)return this._valid;const v=a.mag()>=2,w=d.mag()>=2;if(!v&&!w)return;if(!v||!w)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const E=a.y>0==d.y>0;return kh(a)&&kh(d)&&E}}const Ch={panStep:100,bearingStep:15,pitchStep:10};class ap{constructor(a){this._tr=new Ds(a);const d=Ch;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,m=0,v=0,w=0,E=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),w=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),w=1);break;case 38:a.shiftKey?v=1:(a.preventDefault(),E=-1);break;case 40:a.shiftKey?v=-1:(a.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:P=>{const M=this._tr;P.easeTo({duration:300,easeId:"keyboardHandler",easing:sp,zoom:d?Math.round(M.zoom)+d*(a.shiftKey?2:1):M.zoom,bearing:M.bearing+m*this._bearingStep,pitch:M.pitch+v*this._pitchStep,offset:[-w*this._panStep,-E*this._panStep],center:M.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function sp(_){return _*(2-_)}const op=4.000244140625;class fy{constructor(a,d){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new Ds(a),this._el=a.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!a[this._map._metaKey])return;a.preventDefault()}let d=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const m=o.h.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%op==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(v*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=y.mousePos(this._el,a),m=this._tr;this._around=o.L.convert(this._aroundCenter?m.center:m.unproject(d)),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._tr.transform;if(this._delta!==0){const P=this._type==="wheel"&&Math.abs(this._delta)>op?this._wheelZoomRate:this._defaultZoomRate;let M=2/(1+Math.exp(-Math.abs(this._delta*P)));this._delta<0&&M!==0&&(M=1/M);const z=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(z*M))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,v=this._easing;let w,E=!1;if(this._type==="wheel"&&m&&v){const P=Math.min((o.h.now()-this._lastWheelEventTime)/200,1),M=v(P);w=o.B.number(m,d,M),P<1?this._frameId||(this._frameId=!0):E=!0}else w=d,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:w-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=o.bb;if(this._prevEase){const m=this._prevEase,v=(o.h.now()-m.start)/m.duration,w=m.easing(v+.01)-m.easing(v),E=.27/Math.sqrt(w*w+1e-4)*.01,P=Math.sqrt(.0729-E*E);d=o.ba(E,P,.25,1)}return this._prevEase={start:o.h.now(),duration:a,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Th{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Ah{constructor(a){this._tr=new Ds(a),this.reset()}reset(){this._active=!1}dblclick(a,d){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Eh{constructor(){this._tap=new Uu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,d,m){if(!this._swipePoint)if(this._tapTime){const v=d[0],w=a.timeStamp-this._tapTime<500,E=this._tapPoint.dist(v)<30;w&&E?m.length>0&&(this._swipePoint=v,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,d,m)}touchmove(a,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=d[0],w=v.y-this._swipePoint.y;return this._swipePoint=v,a.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(a,d,m)}touchend(a,d,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{const v=this._tap.touchend(a,d,m);v&&(this._tapTime=a.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ih{constructor(a,d,m){this._el=a,this._mousePan=d,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Ji{constructor(a,d,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class mo{constructor(a,d,m,v){this._el=a,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ac=_=>_.zoom||_.drag||_.pitch||_.rotate;class Ph extends o.k{}function Ec(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Dh{constructor(a,d){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,w)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const E=v.type==="renderFrame"?void 0:v,P={needsRenderFrame:!1},M={},z={},N=v.touches,$=N?this._getMapTouches(N):void 0,J=$?y.touchPos(this._el,$):y.mousePos(this._el,v);for(const{handlerName:ge,handler:ce,allowed:Pe}of this._handlers){if(!ce.isEnabled())continue;let je;this._blockedByActive(z,Pe,ge)?ce.reset():ce[w||v.type]&&(je=ce[w||v.type](v,J,$),this.mergeHandlerResult(P,M,je,ge,E),je&&je.needsRenderFrame&&this._triggerRenderFrame()),(je||ce.isActive())&&(z[ge]=ce)}const he={};for(const ge in this._previousActiveHandlers)z[ge]||(he[ge]=E);this._previousActiveHandlers=z,(Object.keys(he).length||Ec(P))&&(this._changes.push([P,M,he]),this._triggerRenderFrame()),(Object.keys(z).length||Ec(P))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:de}=P;de&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],de(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Jm(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,w,E]of this._listeners)y.addEventListener(v,w,v===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[a,d,m]of this._listeners)y.removeEventListener(a,d,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){const d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new ep(d,a));const v=d.boxZoom=new np(d,a);this._add("boxZoom",v),a.interactive&&a.boxZoom&&v.enable();const w=new Ls(d),E=new Ah(d);d.doubleClickZoom=new Th(E,w),this._add("tapZoom",w),this._add("clickZoom",E),a.interactive&&a.doubleClickZoom&&d.doubleClickZoom.enable();const P=new Eh;this._add("tapDragZoom",P);const M=d.touchPitch=new hy(d);this._add("touchPitch",M),a.interactive&&a.touchPitch&&d.touchPitch.enable(a.touchPitch);const z=Ll(a),N=Os(a);d.dragRotate=new Ji(a,z,N),this._add("mouseRotate",z,["mousePitch"]),this._add("mousePitch",N,["mouseRotate"]),a.interactive&&a.dragRotate&&d.dragRotate.enable();const $=(({enable:Pe,clickTolerance:je})=>{const xe=new wh({checkCorrectEvent:Me=>y.mouseButton(Me)===0&&!Me.ctrlKey});return new Rs({clickTolerance:je,move:(Me,Ze)=>({around:Ze,panDelta:Ze.sub(Me)}),activateOnStart:!0,moveStateManager:xe,enable:Pe,assignEvents:qu})})(a),J=new Ut(a,d);d.dragPan=new Ih(m,$,J),this._add("mousePan",$),this._add("touchPan",J,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&d.dragPan.enable(a.dragPan);const he=new Sh,de=new ip;d.touchZoomRotate=new mo(m,de,he,P),this._add("touchRotate",he,["touchPan","touchZoom"]),this._add("touchZoom",de,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&d.touchZoomRotate.enable(a.touchZoomRotate);const ge=d.scrollZoom=new fy(d,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),a.interactive&&a.scrollZoom&&d.scrollZoom.enable(a.scrollZoom);const ce=d.keyboard=new ap(d);this._add("keyboard",ce),a.interactive&&a.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new tp(d))}_add(a,d,m){this._handlers.push({handlerName:a,handler:d,allowed:m}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ac(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,d,m){for(const v in a)if(v!==m&&(!d||d.indexOf(v)<0))return!0;return!1}_getMapTouches(a){const d=[];for(const m of a)this._el.contains(m.target)&&d.push(m);return d}mergeHandlerResult(a,d,m,v,w){if(!m)return;o.e(a,m);const E={handlerName:v,originalEvent:m.originalEvent||w};m.zoomDelta!==void 0&&(d.zoom=E),m.panDelta!==void 0&&(d.drag=E),m.pitchDelta!==void 0&&(d.pitch=E),m.bearingDelta!==void 0&&(d.rotate=E)}_applyChanges(){const a={},d={},m={};for(const[v,w,E]of this._changes)v.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(v.panDelta)),v.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(a.around=v.around),v.pinchAround!==void 0&&(a.pinchAround=v.pinchAround),v.noInertia&&(a.noInertia=v.noInertia),o.e(d,w),o.e(m,E);this._updateMapTransform(a,d,m),this._changes=[]}_updateMapTransform(a,d,m){const v=this._map,w=v._getTransformForUpdate(),E=v.terrain;if(!(Ec(a)||E&&this._terrainMovement))return this._fireEvents(d,m,!0);let{panDelta:P,zoomDelta:M,bearingDelta:z,pitchDelta:N,around:$,pinchAround:J}=a;J!==void 0&&($=J),v._stop(!0),$=$||v.transform.centerPoint;const he=w.pointLocation(P?$.sub(P):$);z&&(w.bearing+=z),N&&(w.pitch+=N),M&&(w.zoom+=M),E?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?w.center=w.pointLocation(w.centerPoint.sub(P)):w.setLocationAtPoint(he,$):(this._terrainMovement=!0,this._map._elevationFreeze=!0,w.setLocationAtPoint(he,$),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,w.recalculateZoom(v.terrain)})):w.setLocationAtPoint(he,$),v._applyUpdatedTransform(w),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,m,!0)}_fireEvents(a,d,m){const v=Ac(this._eventsInProgress),w=Ac(a),E={};for(const N in a){const{originalEvent:$}=a[N];this._eventsInProgress[N]||(E[`${N}start`]=$),this._eventsInProgress[N]=a[N]}!v&&w&&this._fireEvent("movestart",w.originalEvent);for(const N in E)this._fireEvent(N,E[N]);w&&this._fireEvent("move",w.originalEvent);for(const N in a){const{originalEvent:$}=a[N];this._fireEvent(N,$)}const P={};let M;for(const N in this._eventsInProgress){const{handlerName:$,originalEvent:J}=this._eventsInProgress[N];this._handlersById[$].isActive()||(delete this._eventsInProgress[N],M=d[$]||J,P[`${N}end`]=M)}for(const N in P)this._fireEvent(N,P[N]);const z=Ac(this._eventsInProgress);if(m&&(v||w)&&!z){this._updatingCamera=!0;const N=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),$=J=>J!==0&&-this._bearingSnap<J&&J<this._bearingSnap;!N||!N.essential&&o.h.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:M})),$(this._map.getBearing())&&this._map.resetNorth()):($(N.bearing||this._map.getBearing())&&(N.bearing=0),N.freezeElevation=!0,this._map.easeTo(N,{originalEvent:M})),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new o.k(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Ph("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class lp extends o.E{constructor(a,d){super(),this._renderFrameCallback=()=>{const m=Math.min((o.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.L(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},d),m)}panTo(a,d,m){return this.easeTo(o.e({center:a},d),m)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,m){return this.easeTo(o.e({zoom:a},d),m)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,m){return this.easeTo(o.e({bearing:a},d),m)}resetNorth(a,d){return this.rotateTo(0,o.e({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=ct.convert(a);const m=d&&d.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,d)}_cameraForBoxAndBearing(a,d,m,v){const w={top:0,bottom:0,right:0,left:0};if(typeof(v=o.e({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Ze=v.padding;v.padding={top:Ze,bottom:Ze,right:Ze,left:Ze}}v.padding=o.e(w,v.padding);const E=this.transform,P=E.padding,M=E.project(o.L.convert(a)),z=E.project(o.L.convert(d)),N=M.rotate(-m*Math.PI/180),$=z.rotate(-m*Math.PI/180),J=new o.P(Math.max(N.x,$.x),Math.max(N.y,$.y)),he=new o.P(Math.min(N.x,$.x),Math.min(N.y,$.y)),de=J.sub(he),ge=(E.width-(P.left+P.right+v.padding.left+v.padding.right))/de.x,ce=(E.height-(P.top+P.bottom+v.padding.top+v.padding.bottom))/de.y;if(ce<0||ge<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Pe=Math.min(E.scaleZoom(E.scale*Math.min(ge,ce)),v.maxZoom),je=o.P.convert(v.offset),xe=new o.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(m*Math.PI/180),Me=je.add(xe).mult(E.scale/E.zoomScale(Pe));return{center:E.unproject(M.add(z).div(2).sub(Me)),zoom:Pe,bearing:m}}fitBounds(a,d,m){return this._fitInternal(this.cameraForBounds(a,d),d,m)}fitScreenCoordinates(a,d,m,v,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(a)),this.transform.pointLocation(o.P.convert(d)),m,v),v,w)}_fitInternal(a,d,m){return a?(delete(d=o.e(a,d)).padding,d.linear?this.easeTo(d,m):this.flyTo(d,m)):this}jumpTo(a,d){this.stop();const m=this._getTransformForUpdate();let v=!1,w=!1,E=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(v=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=o.L.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(w=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(E=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this._applyUpdatedTransform(m),this.fire(new o.k("movestart",d)).fire(new o.k("move",d)),v&&this.fire(new o.k("zoomstart",d)).fire(new o.k("zoom",d)).fire(new o.k("zoomend",d)),w&&this.fire(new o.k("rotatestart",d)).fire(new o.k("rotate",d)).fire(new o.k("rotateend",d)),E&&this.fire(new o.k("pitchstart",d)).fire(new o.k("pitch",d)).fire(new o.k("pitchend",d)),this.fire(new o.k("moveend",d))}calculateCameraOptionsFromTo(a,d,m,v=0){const w=o.U.fromLngLat(a,d),E=o.U.fromLngLat(m,v),P=E.x-w.x,M=E.y-w.y,z=E.z-w.z,N=Math.hypot(P,M,z);if(N===0)throw new Error("Can't calculate camera options with same From and To");const $=Math.hypot(P,M),J=this.transform.scaleZoom(this.transform.cameraToCenterDistance/N/this.transform.tileSize),he=180*Math.atan2(P,-M)/Math.PI;let de=180*Math.acos($/N)/Math.PI;return de=z<0?90-de:90+de,{center:E.toLngLat(),zoom:J,pitch:de,bearing:he}}easeTo(a,d){this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.bb},a)).animate===!1||!a.essential&&o.h.prefersReducedMotion)&&(a.duration=0);const m=this._getTransformForUpdate(),v=this.getZoom(),w=this.getBearing(),E=this.getPitch(),P=this.getPadding(),M="zoom"in a?+a.zoom:v,z="bearing"in a?this._normalizeBearing(a.bearing,w):w,N="pitch"in a?+a.pitch:E,$="padding"in a?a.padding:m.padding,J=o.P.convert(a.offset);let he=m.centerPoint.add(J);const de=m.pointLocation(he),ge=o.L.convert(a.center||de);this._normalizeCenter(ge);const ce=m.project(de),Pe=m.project(ge).sub(ce),je=m.zoomScale(M-v);let xe,Me;a.around&&(xe=o.L.convert(a.around),Me=m.locationPoint(xe));const Ze={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||M!==v,this._rotating=this._rotating||w!==z,this._pitching=this._pitching||N!==E,this._padding=!m.isPaddingEqual($),this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,Ze),this.terrain&&this._prepareElevation(ge),this._ease(Ke=>{if(this._zooming&&(m.zoom=o.B.number(v,M,Ke)),this._rotating&&(m.bearing=o.B.number(w,z,Ke)),this._pitching&&(m.pitch=o.B.number(E,N,Ke)),this._padding&&(m.interpolatePadding(P,$,Ke),he=m.centerPoint.add(J)),this.terrain&&!a.freezeElevation&&this._updateElevation(Ke),xe)m.setLocationAtPoint(xe,Me);else{const rt=m.zoomScale(m.zoom-v),bt=M>v?Math.min(2,je):Math.max(.5,je),ft=Math.pow(bt,1-Ke),At=m.unproject(ce.add(Pe.mult(Ke*ft)).mult(rt));m.setLocationAtPoint(m.renderWorldCopies?At.wrap():At,he)}this._applyUpdatedTransform(m),this._fireMoveEvents(d)},Ke=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Ke)},a),this}_prepareEase(a,d,m={}){this._moving=!0,d||m.moving||this.fire(new o.k("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.k("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.k("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&d!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(d-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=d}this.transform.elevation=o.B.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(a){if(!this.transformCameraUpdate)return;const d=a.clone(),{center:m,zoom:v,pitch:w,bearing:E,elevation:P}=this.transformCameraUpdate(d);m&&(d.center=m),v!==void 0&&(d.zoom=v),w!==void 0&&(d.pitch=w),E!==void 0&&(d.bearing=E),P!==void 0&&(d.elevation=P),this.transform.apply(d)}_fireMoveEvents(a){this.fire(new o.k("move",a)),this._zooming&&this.fire(new o.k("zoom",a)),this._rotating&&this.fire(new o.k("rotate",a)),this._pitching&&this.fire(new o.k("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const m=this._zooming,v=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new o.k("zoomend",a)),v&&this.fire(new o.k("rotateend",a)),w&&this.fire(new o.k("pitchend",a)),this.fire(new o.k("moveend",a))}flyTo(a,d){if(!a.essential&&o.h.prefersReducedMotion){const Xt=o.F(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xt,d)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.bb},a);const m=this._getTransformForUpdate(),v=this.getZoom(),w=this.getBearing(),E=this.getPitch(),P=this.getPadding(),M="zoom"in a?o.ad(+a.zoom,m.minZoom,m.maxZoom):v,z="bearing"in a?this._normalizeBearing(a.bearing,w):w,N="pitch"in a?+a.pitch:E,$="padding"in a?a.padding:m.padding,J=m.zoomScale(M-v),he=o.P.convert(a.offset);let de=m.centerPoint.add(he);const ge=m.pointLocation(de),ce=o.L.convert(a.center||ge);this._normalizeCenter(ce);const Pe=m.project(ge),je=m.project(ce).sub(Pe);let xe=a.curve;const Me=Math.max(m.width,m.height),Ze=Me/J,Ke=je.mag();if("minZoom"in a){const Xt=o.ad(Math.min(a.minZoom,v,M),m.minZoom,m.maxZoom),tr=Me/m.zoomScale(Xt-v);xe=Math.sqrt(tr/Ke*2)}const rt=xe*xe;function bt(Xt){const tr=(Ze*Ze-Me*Me+(Xt?-1:1)*rt*rt*Ke*Ke)/(2*(Xt?Ze:Me)*rt*Ke);return Math.log(Math.sqrt(tr*tr+1)-tr)}function ft(Xt){return(Math.exp(Xt)-Math.exp(-Xt))/2}function At(Xt){return(Math.exp(Xt)+Math.exp(-Xt))/2}const Yt=bt(!1);let Pn=function(Xt){return At(Yt)/At(Yt+xe*Xt)},Ot=function(Xt){return Me*((At(Yt)*(ft(tr=Yt+xe*Xt)/At(tr))-ft(Yt))/rt)/Ke;var tr},on=(bt(!0)-Yt)/xe;if(Math.abs(Ke)<1e-6||!isFinite(on)){if(Math.abs(Me-Ze)<1e-6)return this.easeTo(a,d);const Xt=Ze<Me?-1:1;on=Math.abs(Math.log(Ze/Me))/xe,Ot=function(){return 0},Pn=function(tr){return Math.exp(Xt*xe*tr)}}return a.duration="duration"in a?+a.duration:1e3*on/("screenSpeed"in a?+a.screenSpeed/xe:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=w!==z,this._pitching=N!==E,this._padding=!m.isPaddingEqual($),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ce),this._ease(Xt=>{const tr=Xt*on,En=1/Pn(tr);m.zoom=Xt===1?M:v+m.scaleZoom(En),this._rotating&&(m.bearing=o.B.number(w,z,Xt)),this._pitching&&(m.pitch=o.B.number(E,N,Xt)),this._padding&&(m.interpolatePadding(P,$,Xt),de=m.centerPoint.add(he)),this.terrain&&!a.freezeElevation&&this._updateElevation(Xt);const xn=Xt===1?ce:m.unproject(Pe.add(je.mult(Ot(tr))).mult(En));m.setLocationAtPoint(m.renderWorldCopies?xn.wrap():xn,de),this._applyUpdatedTransform(m),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,d)}if(!a){const m=this.handlers;m&&m.stop(!1)}return this}_ease(a,d,m){m.animate===!1||m.duration===0?(a(1),d()):(this._easeStart=o.h.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,d){a=o.b5(a,-180,180);const m=Math.abs(a-d);return Math.abs(a-360-d)<m&&(a-=360),Math.abs(a+360-d)<m&&(a+=360),a}_normalizeCenter(a){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const m=a.lng-d.center.lng;a.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.L.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}class ya{constructor(a={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=y.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,d){const m=this._map._getUIString(`AttributionControl.${d}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(v=>typeof v!="string"?"":v)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const d=this._map.style.sourceCaches;for(const v in d){const w=d[v];if(w.used||w.usedForTerrain){const E=w.getSource();E.attribution&&a.indexOf(E.attribution)<0&&a.push(E.attribution)}}a=a.filter(v=>String(v).trim()),a.sort((v,w)=>v.length-w.length),a=a.filter((v,w)=>{for(let E=w+1;E<a.length;E++)if(a[E].indexOf(v)>=0)return!1;return!0});const m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class yr{constructor(a={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const m=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("div","maplibregl-ctrl");const d=y.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){y.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Hu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){const d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(const v of m)if(v.id===a)return void(v.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const m of d)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Mh={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var cp=o.Q([{name:"a_pos3d",type:"Int16",components:3}]);class up extends o.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,d){this.sourceCache.update(a,d),this._renderableTilesKeys=[];const m={};for(const v of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))m[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),o.aS(v.posMatrix,0,o.N,0,o.N,0,1),this._tiles[v.key]=new pt(v,this.tileSize));for(const v in this._tiles)m[v]||delete this._tiles[v]}freeRtt(a){for(const d in this._tiles){const m=this._tiles[d];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const d={};for(const m of this._renderableTilesKeys){const v=this._tiles[m].tileID;if(v.canonical.equals(a.canonical)){const w=a.clone();w.posMatrix=new Float64Array(16),o.aS(w.posMatrix,0,o.N,0,o.N,0,1),d[m]=w}else if(v.canonical.isChildOf(a.canonical)){const w=a.clone();w.posMatrix=new Float64Array(16);const E=v.canonical.z-a.canonical.z,P=v.canonical.x-(v.canonical.x>>E<<E),M=v.canonical.y-(v.canonical.y>>E<<E),z=o.N>>E;o.aS(w.posMatrix,0,z,0,z,0,1),o.$(w.posMatrix,w.posMatrix,[-P*z,-M*z,0]),d[m]=w}else if(a.canonical.isChildOf(v.canonical)){const w=a.clone();w.posMatrix=new Float64Array(16);const E=a.canonical.z-v.canonical.z,P=a.canonical.x-(a.canonical.x>>E<<E),M=a.canonical.y-(a.canonical.y>>E<<E),z=o.N>>E;o.aS(w.posMatrix,0,o.N,0,o.N,0,1),o.$(w.posMatrix,w.posMatrix,[P*z,M*z,0]),o.a0(w.posMatrix,w.posMatrix,[1/2**E,1/2**E,0]),d[m]=w}}return d}getSourceTile(a,d){const m=this.sourceCache._source;let v=a.overscaledZ-this.deltaZoom;if(v>m.maxzoom&&(v=m.maxzoom),v<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(v).key);let w=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!w||!w.dem)&&d)for(;v>=m.minzoom&&(!w||!w.dem);)w=this.sourceCache.getTileByID(a.scaledTo(v--).key);return w}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=a)}}class dp{constructor(a,d,m){this.painter=a,this.sourceCache=new up(d),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,d,m,v=o.N){var w;if(!(d>=0&&d<v&&m>=0&&m<v))return 0;const E=this.getTerrainData(a),P=(w=E.tile)===null||w===void 0?void 0:w.dem;if(!P)return 0;const M=function(de,ge,ce){var Pe=ge[0],je=ge[1];return de[0]=ce[0]*Pe+ce[4]*je+ce[12],de[1]=ce[1]*Pe+ce[5]*je+ce[13],de}([],[d/v*o.N,m/v*o.N],E.u_terrain_matrix),z=[M[0]*P.dim,M[1]*P.dim],N=Math.floor(z[0]),$=Math.floor(z[1]),J=z[0]-N,he=z[1]-$;return P.get(N,$)*(1-J)*(1-he)+P.get(N+1,$)*J*(1-he)+P.get(N,$+1)*(1-J)*he+P.get(N+1,$+1)*J*he}getElevationForLngLatZoom(a,d){const{tileID:m,mercatorX:v,mercatorY:w}=this._getOverscaledTileIDFromLngLatZoom(a,d);return this.getElevation(m,v%o.N,w%o.N,o.N)}getElevation(a,d,m,v=o.N){return this.getDEMElevation(a,d,m,v)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const v=this.painter.context,w=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Z(v,w,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Z(v,new o.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ao([])}const d=this.sourceCache.getSourceTile(a,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const v=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new Z(v,d.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),d.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const m=d&&d+d.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){const v=this.sourceCache.sourceCache._source.maxzoom;let w=a.canonical.z-d.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=v?w=a.canonical.z-v:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const E=a.canonical.x-(a.canonical.x>>w<<w),P=a.canonical.y-(a.canonical.y>>w<<w),M=o.bc(new Float64Array(16),[1/(o.N<<w),1/(o.N<<w),0]);o.$(M,M,[E*o.N,P*o.N,0]),this._demMatrixCache[a.key]={matrix:M,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(a){const d=this.painter,m=d.width/devicePixelRatio,v=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Z(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Z(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(m,v,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,m,v))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let w=0,E=0;w<this._coordsTextureSize;w++)for(let P=0;P<this._coordsTextureSize;P++,E+=4)d[E+0]=255&P,d[E+1]=255&w,d[E+2]=P>>8<<4|w>>8,d[E+3]=0;const m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),v=new Z(a,m,a.gl.RGBA,{premultiply:!1});return v.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(a){const d=new Uint8Array(4),m=this.painter.context,v=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null);const w=d[0]+(d[2]>>4<<8),E=d[1]+((15&d[2])<<8),P=this.coordsIndex[255-d[3]],M=P&&this.sourceCache.getTileByID(P);if(!M)return null;const z=this._coordsTextureSize,N=(1<<M.tileID.canonical.z)*z;return new o.U(this._allowMercatorOverflow(a,(M.tileID.canonical.x*z+w)/N),(M.tileID.canonical.y*z+E)/N,this.getElevation(M.tileID,w,E,z))}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,d=new o.bd,m=new o.b0,v=this.meshSize,w=o.N/v,E=v*v;for(let $=0;$<=v;$++)for(let J=0;J<=v;J++)d.emplaceBack(J*w,$*w,0);for(let $=0;$<E;$+=v+1)for(let J=0;J<v;J++)m.emplaceBack(J+$,v+J+$+1,v+J+$+2),m.emplaceBack(J+$,v+J+$+2,J+$+1);const P=d.length,M=P+2*(v+1);for(const $ of[0,1])for(let J=0;J<=v;J++)for(const he of[0,1])d.emplaceBack(J*w,$*o.N,he);for(let $=0;$<2*v;$+=2)m.emplaceBack(M+$,M+$+1,M+$+3),m.emplaceBack(M+$,M+$+3,M+$+2),m.emplaceBack(P+$,P+$+3,P+$+1),m.emplaceBack(P+$,P+$+2,P+$+3);const z=d.length,N=z+2*(v+1);for(const $ of[0,1])for(let J=0;J<=v;J++)for(const he of[0,1])d.emplaceBack($*o.N,J*w,he);for(let $=0;$<2*v;$+=2)m.emplaceBack(z+$,z+$+1,z+$+3),m.emplaceBack(z+$,z+$+3,z+$+2),m.emplaceBack(N+$,N+$+3,N+$+1),m.emplaceBack(N+$,N+$+2,N+$+3);return this._mesh={indexBuffer:a.createIndexBuffer(m),vertexBuffer:a.createVertexBuffer(d,cp.members),segments:o.S.simpleSegment(0,0,d.length,m.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*o.be/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,d){var m;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(a,d);return(m=this.getMinMaxElevation(v).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){const d=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return d&&d.dem&&(m.minElevation=d.dem.min*this.exaggeration,m.maxElevation=d.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,d){const m=o.U.fromLngLat(a.wrap()),v=(1<<d)*o.N,w=m.x*v,E=m.y*v,P=Math.floor(w/o.N),M=Math.floor(E/o.N);return{tileID:new o.O(d,0,d,P,M),mercatorX:w,mercatorY:E}}_allowMercatorOverflow(a,d){const m=a.x<this.painter.width/2;let v=o.bf(d);const w=this.painter.transform.center.lng;return m&&Math.sign(v)>0&&Math.sign(w)<0||!m&&Math.sign(v)<0&&Math.sign(w)>0?(v=360*Math.sign(w)+v,o.G(v)):d}}class my{constructor(a,d,m){this._context=a,this._size=d,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new Z(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(m.texture),{id:a,fbo:d,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>a.id!==d),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const Ni={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Gu{constructor(a,d){this.painter=a,this.terrain=d,this.pool=new my(a.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(d)),this._coordsDescendingInv={};for(const m in a.sourceCaches){this._coordsDescendingInv[m]={};const v=a.sourceCaches[m].getVisibleCoordinates();for(const w of v){const E=this.terrain.sourceCache.getTerrainCoords(w);for(const P in E)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(E[P])}}this._coordsDescendingInvStr={};for(const m of a._order){const v=a._layers[m],w=v.source;if(Ni[v.type]&&!this._coordsDescendingInvStr[w]){this._coordsDescendingInvStr[w]={};for(const E in this._coordsDescendingInv[w])this._coordsDescendingInvStr[w][E]=this._coordsDescendingInv[w][E].map(P=>P.key).sort().join()}}for(const m of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const w=this._coordsDescendingInvStr[v][m.tileID.key];w&&w!==m.rttCoords[v]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const d=a.type,m=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(Ni[d]&&(this._prevType&&Ni[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(a.id),!v))return!0;if(Ni[this._prevType]||Ni[d]&&v){this._prevType=d;const w=this._stacks.length-1,E=this._stacks[w]||[];for(const P of this._renderableTiles){if(this.pool.isFull()&&(Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(P),P.rtt[w]){const z=this.pool.getObjectForId(P.rtt[w].id);if(z.stamp===P.rtt[w].stamp){this.pool.useObject(z);continue}}const M=this.pool.getOrCreateFreeObject();this.pool.useObject(M),this.pool.stampObject(M),P.rtt[w]={id:M.id,stamp:M.stamp},m.context.bindFramebuffer.set(M.fbo.framebuffer),m.context.clear({color:o.aT.transparent,stencil:0}),m.currentStencilSource=void 0;for(let z=0;z<E.length;z++){const N=m.style._layers[E[z]],$=N.source?this._coordsDescendingInv[N.source][P.tileID.key]:[P.tileID];m.context.viewport.set([0,0,M.fbo.width,M.fbo.height]),m._renderTileClippingMasks(N,$),m.renderLayer(m,m.style.sourceCaches[N.source],N,$),N.source&&(P.rttCoords[N.source]=this._coordsDescendingInvStr[N.source][P.tileID.key])}}return Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Ni[d]}return!1}}const Qt=p,sn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Ic=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},Lh={showCompass:!0,showZoom:!0,visualizePitch:!1};class Rh{constructor(a,d,m=!1){this.mousedown=E=>{this.startMouse(o.e({},E,{ctrlKey:!0,preventDefault:()=>E.preventDefault()}),y.mousePos(this.element,E)),y.addEventListener(window,"mousemove",this.mousemove),y.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=E=>{this.moveMouse(E,y.mousePos(this.element,E))},this.mouseup=E=>{this.mouseRotate.dragEnd(E),this.mousePitch&&this.mousePitch.dragEnd(E),this.offTemp()},this.touchstart=E=>{E.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.startTouch(E,this._startPos),y.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.addEventListener(window,"touchend",this.touchend))},this.touchmove=E=>{E.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.moveTouch(E,this._lastPos))},this.touchend=E=>{E.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=a.dragRotate._mouseRotate.getClickTolerance(),w=a.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=Ll({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:E,clickTolerance:P,bearingDegreesPerPixelMoved:M=.8})=>{const z=new rp;return new Rs({clickTolerance:P,move:(N,$)=>({bearingDelta:($.x-N.x)*M}),moveStateManager:z,enable:E,assignEvents:Ic})})({clickTolerance:v,enable:!0}),this.map=a,m&&(this.mousePitch=Os({clickTolerance:w,enable:!0}),this.touchPitch=(({enable:E,clickTolerance:P,pitchDegreesPerPixelMoved:M=-.5})=>{const z=new rp;return new Rs({clickTolerance:P,move:(N,$)=>({pitchDelta:($.y-N.y)*M}),moveStateManager:z,enable:E,assignEvents:Ic})})({clickTolerance:w,enable:!0})),y.addEventListener(d,"mousedown",this.mousedown),y.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(d,"touchcancel",this.reset)}startMouse(a,d){this.mouseRotate.dragStart(a,d),this.mousePitch&&this.mousePitch.dragStart(a,d),y.disableDrag()}startTouch(a,d){this.touchRotate.dragStart(a,d),this.touchPitch&&this.touchPitch.dragStart(a,d),y.disableDrag()}moveMouse(a,d){const m=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.mousePitch){const{pitchDelta:w}=this.mousePitch.dragMove(a,d)||{};w&&m.setPitch(m.getPitch()+w)}}moveTouch(a,d){const m=this.map,{bearingDelta:v}=this.touchRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.touchPitch){const{pitchDelta:w}=this.touchPitch.dragMove(a,d)||{};w&&m.setPitch(m.getPitch()+w)}}off(){const a=this.element;y.removeEventListener(a,"mousedown",this.mousedown),y.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend),y.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){y.enableDrag(),y.removeEventListener(window,"mousemove",this.mousemove),y.removeEventListener(window,"mouseup",this.mouseup),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend)}}let Yr;function Oh(_,a,d){if(_=new o.L(_.lng,_.lat),a){const m=new o.L(_.lng-360,_.lat),v=new o.L(_.lng+360,_.lat),w=d.locationPoint(_).distSqr(a);d.locationPoint(m).distSqr(a)<w?_=m:d.locationPoint(v).distSqr(a)<w&&(_=v)}for(;Math.abs(_.lng-d.center.lng)>180;){const m=d.locationPoint(_);if(m.x>=0&&m.y>=0&&m.x<=d.width&&m.y<=d.height)break;_.lng>d.center.lng?_.lng-=360:_.lng+=360}return _}const Ma={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function hp(_,a,d){const m=_.classList;for(const v in Ma)m.remove(`maplibregl-${d}-anchor-${v}`);m.add(`maplibregl-${d}-anchor-${a}`)}class Ho extends o.E{constructor(a){if(super(),this._onKeyPress=d=>{const m=d.code,v=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=d=>{const m=d.originalEvent.target,v=this._element;this._popup&&(m===v||v.contains(m))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const m=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!m)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Oh(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let v="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?v=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let w="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?w="rotateX(0deg)":this._pitchAlignment==="map"&&(w=`rotateX(${this._map.getPitch()}deg)`),d&&d.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,`${Ma[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${w} ${v}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const E=this._map.unproject(this._pos),P=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=E.distanceTo(this._lngLat)>20*P?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");const d=y.createNS("http://www.w3.org/2000/svg","svg"),m=41,v=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${m}px`),d.setAttributeNS(null,"width",`${v}px`),d.setAttributeNS(null,"viewBox",`0 0 ${v} ${m}`);const w=y.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");const E=y.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");const P=y.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"transform","translate(3.0, 29.0)"),P.setAttributeNS(null,"fill","#000000");const M=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Pe of M){const je=y.createNS("http://www.w3.org/2000/svg","ellipse");je.setAttributeNS(null,"opacity","0.04"),je.setAttributeNS(null,"cx","10.5"),je.setAttributeNS(null,"cy","5.80029008"),je.setAttributeNS(null,"rx",Pe.rx),je.setAttributeNS(null,"ry",Pe.ry),P.appendChild(je)}const z=y.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const N=y.createNS("http://www.w3.org/2000/svg","path");N.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(N);const $=y.createNS("http://www.w3.org/2000/svg","g");$.setAttributeNS(null,"opacity","0.25"),$.setAttributeNS(null,"fill","#000000");const J=y.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),$.appendChild(J);const he=y.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(6.0, 7.0)"),he.setAttributeNS(null,"fill","#FFFFFF");const de=y.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ge=y.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");const ce=y.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#FFFFFF"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962"),de.appendChild(ge),de.appendChild(ce),E.appendChild(P),E.appendChild(z),E.appendChild($),E.appendChild(he),E.appendChild(de),d.appendChild(E),d.setAttributeNS(null,"height",m*this._scale+"px"),d.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),hp(this._element,this._anchor,"marker"),a&&a.className)for(const d of a.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(a){return this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.L.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const v=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?a.remove():a.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const zr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Ir=0,Ol=!1;const Pc={maxWidth:100,unit:"metric"};function Dc(_,a,d){const m=d&&d.maxWidth||100,v=_._container.clientHeight/2,w=_.unproject([0,v]),E=_.unproject([m,v]),P=w.distanceTo(E);if(d&&d.unit==="imperial"){const M=3.2808*P;M>5280?Go(a,m,M/5280,_._getUIString("ScaleControl.Miles")):Go(a,m,M,_._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Go(a,m,P/1852,_._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Go(a,m,P/1e3,_._getUIString("ScaleControl.Kilometers")):Go(a,m,P,_._getUIString("ScaleControl.Meters"))}function Go(_,a,d,m){const v=function(w){const E=Math.pow(10,`${Math.floor(w)}`.length-1);let P=w/E;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(M){const z=Math.pow(10,Math.ceil(-Math.log(M)/Math.LN10));return Math.round(M*z)/z}(P),E*P}(d);_.style.width=a*(v/d)+"px",_.innerHTML=`${v}&nbsp;${m}`}const Fh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},zh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Fl(_){if(_){if(typeof _=="number"){const a=Math.round(Math.abs(_)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,_),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-_),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(_,0),right:new o.P(-_,0)}}if(_ instanceof o.P||Array.isArray(_)){const a=o.P.convert(_);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(_.center||[0,0]),top:o.P.convert(_.top||[0,0]),"top-left":o.P.convert(_["top-left"]||[0,0]),"top-right":o.P.convert(_["top-right"]||[0,0]),bottom:o.P.convert(_.bottom||[0,0]),"bottom-left":o.P.convert(_["bottom-left"]||[0,0]),"bottom-right":o.P.convert(_["bottom-right"]||[0,0]),left:o.P.convert(_.left||[0,0]),right:o.P.convert(_.right||[0,0])}}return Fl(new o.P(0,0))}const Bh={extend:(_,...a)=>o.e(_,...a),run(_){_()},logToElement(_,a=!1,d="log"){const m=window.document.getElementById(d);m&&(a&&(m.innerHTML=""),m.innerHTML+=`<br>${_}`)}},Vh=p;class Yn{static get version(){return Vh}static get workerCount(){return It.workerCount}static set workerCount(a){It.workerCount=a}static get maxParallelImageRequests(){return o.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(a){o.c.MAX_PARALLEL_IMAGE_REQUESTS=a}static get workerUrl(){return o.c.WORKER_URL}static set workerUrl(a){o.c.WORKER_URL=a}static addProtocol(a,d){o.c.REGISTERED_PROTOCOLS[a]=d}static removeProtocol(a){delete o.c.REGISTERED_PROTOCOLS[a]}}return Yn.Map=class extends lp{constructor(_){if(o.bg.mark(o.bh.create),(_=o.e({},sn,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new $u(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),{bearingSnap:_.bearingSnap}),this._cooperativeGesturesOnWheel=a=>{this._onCooperativeGesture(a,a[this._metaKey],1)},this._contextLost=a=>{a.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.k("webglcontextlost",{originalEvent:a}))},this._contextRestored=a=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:a}))},this._onMapScroll=a=>{if(a.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._cooperativeGestures=_.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new Hu,this._controls=[],this._mapId=o.a2(),this._locale=o.e({},Mh,_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this._imageQueueHandle=F.addThrottleControl(()=>this.isMoving()),this._requestManager=new q(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let a=!1;const d=jo(m=>{this._trackResize&&!this._removed&&this.resize(m)._update()},50);this._resizeObserver=new ResizeObserver(m=>{a?d(m):a=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Dh(this,_),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=_.hash&&new kc(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,o.e({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new ya({customAttribution:_.customAttribution})),_.maplibreLogo&&this.addControl(new yr,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new o.k(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new o.k(`${a.dataType}dataloading`,a))}),this.on("dataabort",a=>{this.fire(new o.k("sourcedataabort",a))})}_getMapId(){return this._mapId}addControl(_,a){if(a===void 0&&(a=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=_.onAdd(this);this._controls.push(_);const m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(_);return a>-1&&this._controls.splice(a,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,a,d,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,a,d,m)}resize(_){var a;const d=this._containerDimensions(),m=d[0],v=d[1],w=this._getClampedPixelRatio(m,v);if(this._resizeCanvas(m,v,w),this.painter.resize(m,v,w),this.painter.overLimit()){const P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];const M=this._getClampedPixelRatio(m,v);this._resizeCanvas(m,v,M),this.painter.resize(m,v,M)}this.transform.resize(m,v),(a=this._requestedCameraState)===null||a===void 0||a.resize(m,v);const E=!this._moving;return E&&(this.stop(),this.fire(new o.k("movestart",_)).fire(new o.k("move",_))),this.fire(new o.k("resize",_)),E&&this.fire(new o.k("moveend",_)),this}_getClampedPixelRatio(_,a){const{0:d,1:m}=this._maxCanvasSize,v=this.getPixelRatio(),w=_*v,E=a*v;return Math.min(w>d?d/w:1,E>m?m/E:1)*v}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(ct.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(_){return this._cooperativeGestures=_,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(_){return this.transform.locationPoint(o.L.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(o.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,a,d){if(_==="mouseenter"||_==="mouseover"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:w=>{const E=this.getLayer(a)?this.queryRenderedFeatures(w.point,{layers:[a]}):[];E.length?m||(m=!0,d.call(this,new va(_,this,w.originalEvent,{features:E}))):m=!1},mouseout:()=>{m=!1}}}}if(_==="mouseleave"||_==="mouseout"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:E=>{(this.getLayer(a)?this.queryRenderedFeatures(E.point,{layers:[a]}):[]).length?m=!0:m&&(m=!1,d.call(this,new va(_,this,E.originalEvent)))},mouseout:E=>{m&&(m=!1,d.call(this,new va(_,this,E.originalEvent)))}}}}{const m=v=>{const w=this.getLayer(a)?this.queryRenderedFeatures(v.point,{layers:[a]}):[];w.length&&(v.features=w,d.call(this,v),delete v.features)};return{layer:a,listener:d,delegates:{[_]:m}}}}on(_,a,d){if(d===void 0)return super.on(_,a);const m=this._createDelegatedListener(_,a,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(_,a,d){if(d===void 0)return super.once(_,a);const m=this._createDelegatedListener(_,a,d);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(_,a,d){return d===void 0?super.off(_,a):(this._delegatedListeners&&this._delegatedListeners[_]&&(m=>{const v=this._delegatedListeners[_];for(let w=0;w<v.length;w++){const E=v[w];if(E.layer===a&&E.listener===d){for(const P in E.delegates)this.off(P,E.delegates[P]);return v.splice(w,1),this}}})(),this)}queryRenderedFeatures(_,a){if(!this.style)return[];let d;const m=_ instanceof o.P||Array.isArray(_),v=m?_:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:_)||{},v instanceof o.P||typeof v[0]=="number")d=[o.P.convert(v)];else{const w=o.P.convert(v[0]),E=o.P.convert(v[1]);d=[w,new o.P(E.x,w.y),E,new o.P(w.x,E.y),w]}return this.style.queryRenderedFeatures(d,a,this.transform)}querySourceFeatures(_,a){return this.style.querySourceFeatures(_,a)}setStyle(_,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(_,a))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const a=this._locale[_];if(a==null)throw new Error(`Missing UI string '${_}'`);return a}_updateStyle(_,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(_,a));const d=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new ki(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,a,d):this.style.loadJSON(_,a,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new ki(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,a){if(typeof _=="string"){const d=this._requestManager.transformRequest(_,B.Style);o.f(d,(m,v)=>{m?this.fire(new o.j(m)):v&&this._updateDiff(v,a)})}else typeof _=="object"&&this._updateDiff(_,a)}_updateDiff(_,a){try{this.style.setState(_,a)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(_,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(_,a){return this._lazyInitEmptyStyle(),this.style.addSource(_,a),this._update(!0)}isSourceLoaded(_){const a=this.style&&this.style.sourceCaches[_];if(a!==void 0)return a.loaded();this.fire(new o.j(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const a=this.style.sourceCaches[_.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);for(const d in this.style._layers){const m=this.style._layers[d];m.type==="hillshade"&&m.source===_.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new dp(this.painter,a,_),this.painter.renderToTexture=new Gu(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==_.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:_})),this}getTerrain(){var _,a;return(a=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&a!==void 0?a:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const a in _){const d=_[a]._tiles;for(const m in d){const v=d[m];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}addSourceType(_,a,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(_,a,d)}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,a,d={}){const{pixelRatio:m=1,sdf:v=!1,stretchX:w,stretchY:E,content:P}=d;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.a(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:M,height:z,data:N}=a,$=a;return this.style.addImage(_,{data:new o.R({width:M,height:z},new Uint8Array(N)),pixelRatio:m,stretchX:w,stretchY:E,content:P,sdf:v,version:0,userImage:$}),$.onAdd&&$.onAdd(this,_),this}}{const{width:M,height:z,data:N}=o.h.getImageData(a);this.style.addImage(_,{data:new o.R({width:M,height:z},N),pixelRatio:m,stretchX:w,stretchY:E,content:P,sdf:v,version:0})}}updateImage(_,a){const d=this.style.getImage(_);if(!d)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=a instanceof HTMLImageElement||o.a(a)?o.h.getImageData(a):a,{width:v,height:w,data:E}=m;if(v===void 0||w===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==d.data.width||w!==d.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const P=!(a instanceof HTMLImageElement||o.a(a));return d.data.replace(E,P),this.style.updateImage(_,d),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,a){F.getImage(this._requestManager.transformRequest(_,B.Image),a)}listImages(){return this.style.listImages()}addLayer(_,a){return this._lazyInitEmptyStyle(),this.style.addLayer(_,a),this._update(!0)}moveLayer(_,a){return this.style.moveLayer(_,a),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,a,d){return this.style.setLayerZoomRange(_,a,d),this._update(!0)}setFilter(_,a,d={}){return this.style.setFilter(_,a,d),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,a,d,m={}){return this.style.setPaintProperty(_,a,d,m),this._update(!0)}getPaintProperty(_,a){return this.style.getPaintProperty(_,a)}setLayoutProperty(_,a,d,m={}){return this.style.setLayoutProperty(_,a,d,m),this._update(!0)}getLayoutProperty(_,a){return this.style.getLayoutProperty(_,a)}setGlyphs(_,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,a,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,a,d,m=>{m||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,a,d=>{d||this._update(!0)}),this}setLight(_,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(_,a){return this.style.setFeatureState(_,a),this._update()}removeFeatureState(_,a){return this.style.removeFeatureState(_,a),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,a=0;return this._container&&(_=this._container.clientWidth||400,a=this._container.clientHeight||300),[_,a]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const a=this._canvasContainer=y.create("div","maplibregl-canvas-container",_);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=y.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),m=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],m);const v=this._controlContainer=y.create("div","maplibregl-control-container",_),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{w[E]=y.create("div",`maplibregl-ctrl-${E} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=y.create("div","maplibregl-cooperative-gesture-screen",this._container);let _=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(_=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${_}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){y.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(_,a,d){this._canvas.width=Math.floor(d*_),this._canvas.height=Math.floor(d*a),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:_},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});const d=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!d){const m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new qo(d,this.transform),b.testSupport(d)}_onCooperativeGesture(_,a,d){return!a&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){const a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,w=o.h.now();this.style.zoomHistory.update(v,w);const E=new o.a8(v,{now:w,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=E.crossFadingFactor();P===1&&P===this._crossFadingFactor||(d=!0,this._crossFadingFactor=P),this.style.update(E)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bg.mark(o.bh.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,o.bg.mark(o.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),F.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const a=this.painter.context.gl.getExtension("WEBGL_lose_context");a&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),y.remove(this._canvasContainer),y.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),o.bg.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=o.h.frame(_=>{o.bg.frame(_),this._frame=null,this._render(_)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return Qt}getCameraTargetElevation(){return this.transform.elevation}},Yn.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const a=this._map.getZoom(),d=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,d)=>{const m=this._map._getUIString(`NavigationControl.${d}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},Lh,_),this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=y.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Rh(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,a){const d=y.create("button",_,this._container);return d.type="button",d.addEventListener("click",a),d}},Yn.GeolocateControl=class extends o.E{constructor(_){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{const d=new o.L(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,v=this._map.getBearing(),w=o.e({bearing:v},this.options.fitBoundsOptions),E=ct.fromLngLat(d,m);this._map.fitBounds(E,w,{geolocateSource:!0})},this._updateMarker=a=>{if(a){const d=new o.L(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Ol)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=a=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=y.create("button","maplibregl-ctrl-geolocate",this._container),y.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ho({element:this._dotElement}),this._circleElement=y.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ho({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")))})}},this.options=o.e({},zr,_)}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(a,d=!1){Yr===void 0||d?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(m=>{Yr=m.state!=="denied",a(Yr)}).catch(()=>{Yr=!!window.navigator.geolocation,a(Yr)}):(Yr=!!window.navigator.geolocation,a(Yr)):a(Yr)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ir=0,Ol=!1}_isOutOfMapMaxBounds(_){const a=this._map.getMaxBounds(),d=_.coords;return a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),a=_.getSouthEast(),d=_.getNorthEast(),m=a.distanceTo(d),v=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ir--,Ol=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Ir++,Ir>1?(_={maximumAge:6e5,timeout:0},Ol=!0):(_=this.options.positionOptions,Ol=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Yn.AttributionControl=ya,Yn.LogoControl=yr,Yn.ScaleControl=class{constructor(_){this._onMove=()=>{Dc(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,Dc(this._map,this._container,this.options)},this.options=o.e({},Pc,_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Yn.FullscreenControl=class extends o.E{constructor(_={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){y.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=y.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);y.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Yn.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=_}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=y.create("button","maplibregl-ctrl-terrain",this._container),y.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){y.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Yn.Popup=class extends o.E{constructor(_){super(),this.remove=()=>(this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.k("close")),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=y.create("div","maplibregl-popup",this._map.getContainer()),this._tip=y.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const E of this.options.className.split(" "))this._container.classList.add(E);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Oh(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!a)return;const d=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);let m=this.options.anchor;const v=Fl(this.options.offset);if(!m){const E=this._container.offsetWidth,P=this._container.offsetHeight;let M;M=d.y+v.bottom.y<P?["top"]:d.y>this._map.transform.height-P?["bottom"]:[],d.x<E/2?M.push("left"):d.x>this._map.transform.width-E/2&&M.push("right"),m=M.length===0?"bottom":M.join("-")}const w=d.add(v[m]).round();y.setTransform(this._container,`${Ma[m]} translate(${w.x}px,${w.y}px)`),hp(this._container,m,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(Fh),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=o.L.convert(_),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const a=document.createDocumentFragment(),d=document.createElement("body");let m;for(d.innerHTML=_;m=d.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=y.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){this._container&&this._container.classList.add(_)}removeClassName(_){this._container&&this._container.classList.remove(_)}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}_createCloseButton(){this.options.closeButton&&(this._closeButton=y.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(zh);_&&_.focus()}},Yn.Marker=Ho,Yn.Style=ki,Yn.LngLat=o.L,Yn.LngLatBounds=ct,Yn.Point=o.P,Yn.MercatorCoordinate=o.U,Yn.Evented=o.E,Yn.AJAXError=o.bi,Yn.config=o.c,Yn.CanvasSource=$t,Yn.GeoJSONSource=st,Yn.ImageSource=$e,Yn.RasterDEMTileSource=Ne,Yn.RasterTileSource=Tt,Yn.VectorTileSource=mt,Yn.VideoSource=kt,Yn.setRTLTextPlugin=o.bj,Yn.getRTLTextPluginStatus=o.bk,Yn.prewarm=function(){An().acquire(Et)},Yn.clearPrewarmedResources=function(){const _=ln;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(Et),ln=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Bh.extend(Yn,{isSafari:o.ac,getPerformanceMetrics:o.bg.getPerformanceMetrics}),Yn});var h=s;return h})})(AA);var cu=AA.exports;function gB(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}/*!
* vue-maplibre-gl v3.1.3
* (c) 2024 Volker Nauruhn
* @license MIT
*/var vB=Object.defineProperty,yB=(e,t,n)=>t in e?vB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wi=(e,t,n)=>(yB(e,typeof t!="symbol"?t+"":t,n),n);const bi=Symbol("map"),ts=Symbol("isLoaded"),yl=Symbol("isInitialized"),Yi=Symbol("componentId"),Zi=Symbol("sourceId"),fc=Symbol("sourceLayerRegistry"),J0=Symbol("emitter");function uu(e){return Object.keys(e)}const Tn=Ei({style:"https://demotiles.maplibre.org/style.json",center:Object.freeze([0,0]),zoom:1,trackResize:!1});class qs{static createEventHandler(t,n,r,s){return(u={})=>r.emit(s,{type:u.type,map:n,component:t,event:u})}}wi(qs,"MAP_OPTION_KEYS",["antialias","attributionControl","bearing","bearingSnap","bounds","boxZoom","center","clickTolerance","collectResourceTiming","crossSourceCollisions","container","customAttribution","dragPan","dragRotate","doubleClickZoom","hash","fadeDuration","failIfMajorPerformanceCaveat","fitBoundsOptions","interactive","keyboard","locale","localIdeographFontFamily","logoPosition","maxBounds","maxPitch","maxZoom","minPitch","minZoom","preserveDrawingBuffer","pitch","pitchWithRotate","refreshExpiredTiles","renderWorldCopies","scrollZoom","mapStyle","trackResize","transformRequest","touchZoomRotate","touchPitch","zoom","maxTileCacheSize","pixelRatio","cooperativeGestures"]),wi(qs,"MARKER_OPTION_KEYS",["element","offset","anchor","color","draggable","clickTolerance","rotation","rotationAlignment","pitchAlignment","scale"]),wi(qs,"MAP_EVENT_TYPES",["error","load","idle","remove","render","resize","webglcontextlost","webglcontextrestored","dataloading","data","tiledataloading","sourcedataloading","styledataloading","sourcedata","styledata","boxzoomcancel","boxzoomstart","boxzoomend","touchcancel","touchmove","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","movestart","move","moveend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","dragstart","drag","dragend","pitchstart","pitch","pitchend","wheel"]);var mc=(e=>(e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(mc||{});const _l=Object.values(mc),Tk=new Map,_B=Symbol("default");function bB(e,t,n=_B){var r;let s=Tk.get(n);return s||(s=Ei({isLoaded:!1,isMounted:!1,language:null}),Tk.set(n,s)),s.isLoaded=!1,s.isMounted=!1,s.component=e,s.map=t.value,s.isLoaded=((r=t.value)==null?void 0:r.loaded())||!1,s}function xB(e,t=250,n=!1){let r;function s(){const u=arguments,h=()=>{r=void 0,n!==!0&&e.apply(this,u)};clearTimeout(r),n===!0&&r===void 0&&e.apply(this,u),r=window.setTimeout(h,t)}return s.cancel=()=>{clearTimeout(r)},s}const IA={AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"latin",NON_LATIN:"nonlatin",LOCAL:"",ALBANIAN:"sq",AMHARIC:"am",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BASQUE:"eu",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CORSICAN:"co",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HINDI:"hi",HUNGARIAN:"hu",ICELANDIC:"is",INDONESIAN:"id",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",JAPANESE_HIRAGANA:"ja-Hira",JAPANESE_KANA:"ja_kana",JAPANESE_LATIN:"ja_rm",JAPANESE_2018:"ja-Latn",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",KOREAN_LATIN:"ko-Latn",KURDISH:"ku",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALAYALAM:"ml",MALTESE:"mt",NORWEGIAN:"no",OCCITAN:"oc",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SERBIAN_LATIN:"sr-Latn",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",TAMIL:"ta",TELUGU:"te",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(IA));new Set(Object.values(IA));function x_(e,t){const n=e.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,s=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/,h=/^(.*)({\s*name\s*(:\s*(\S*))?\s*})(.*)$/,o=t?`name:${t}`:"name",p=["case",["has",o],["get",o],["get","name"]];for(let y=0;y<n.length;y+=1){const b=n[y],C=b.layout;if(!C||!C["text-field"])continue;const k=e.getLayoutProperty(b.id,"text-field");let I;if(Array.isArray(k)&&k.length>=2&&k[0].trim().toLowerCase()==="concat"){const R=k.slice();for(let L=0;L<k.length;L+=1){const F=k[L];if((typeof F=="string"||F instanceof String)&&r.exec(F.toString())){R[L]=p;break}else if(Array.isArray(F)&&F.length>=2&&F[0].trim().toLowerCase()==="get"&&s.exec(F[1].toString())){R[L]=p;break}else if(Array.isArray(F)&&F.length===4&&F[0].trim().toLowerCase()==="case"){R[L]=p;break}}e.setLayoutProperty(b.id,"text-field",R)}else if(Array.isArray(k)&&k.length>=2&&k[0].trim().toLowerCase()==="get"&&s.exec(k[1].toString())){const R=p;e.setLayoutProperty(b.id,"text-field",R)}else if((typeof k=="string"||k instanceof String)&&r.exec(k.toString())){const R=p;e.setLayoutProperty(b.id,"text-field",R)}else if(Array.isArray(k)&&k.length===4&&k[0].trim().toLowerCase()==="case"){const R=p;e.setLayoutProperty(b.id,"text-field",R)}else if((typeof k=="string"||k instanceof String)&&(I=u.exec(k.toString()))!==null){const R=`{${o}}${I[3]}{name${I[4]||""}}`;e.setLayoutProperty(b.id,"text-field",R)}else if((typeof k=="string"||k instanceof String)&&(I=h.exec(k.toString()))!==null){const R=`${I[1]}{${o}}${I[5]}`;e.setLayoutProperty(b.id,"text-field",R)}}}const wB=lr({name:"MglMap",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},antialias:{type:Boolean,default:()=>Tn.antialias},attributionControl:{type:Boolean,default:()=>Tn.attributionControl},bearing:{type:Number,default:()=>Tn.bearing},bearingSnap:{type:Number,default:()=>Tn.bearingSnap},bounds:{type:[Array,Object],default:()=>Tn.bounds},boxZoom:{type:Boolean,default:()=>Tn.boxZoom},center:{type:[Array,Object],default:()=>Tn.center},clickTolerance:{type:Number,default:()=>Tn.clickTolerance},collectResourceTiming:{type:Boolean,default:()=>Tn.collectResourceTiming},crossSourceCollisions:{type:Boolean,default:()=>Tn.crossSourceCollisions},customAttribution:{type:[String,Array],default:()=>Tn.customAttribution},dragPan:{type:Boolean,default:()=>Tn.dragPan},dragRotate:{type:Boolean,default:()=>Tn.dragRotate},doubleClickZoom:{type:Boolean,default:()=>Tn.doubleClickZoom},hash:{type:[Boolean,String],default:()=>Tn.hash},fadeDuration:{type:Number,default:()=>Tn.fadeDuration},failIfMajorPerformanceCaveat:{type:Boolean,default:()=>Tn.failIfMajorPerformanceCaveat},fitBoundsOptions:{type:Object,default:()=>Tn.fitBoundsOptions},interactive:{type:Boolean,default:()=>Tn.interactive},keyboard:{type:Boolean,default:()=>Tn.keyboard},locale:{type:Object,default:()=>Tn.locale},language:{type:String,default:()=>Tn.language||null},localIdeographFontFamily:{type:String,default:()=>Tn.localIdeographFontFamily},logoPosition:{type:[String],validator:e=>e in mc,default:()=>Tn.logoPosition},maxBounds:{type:[Array,Object],default:()=>Tn.maxBounds},maxPitch:{type:Number,default:()=>Tn.maxPitch},maxZoom:{type:Number,default:()=>Tn.maxZoom},minPitch:{type:Number,default:()=>Tn.minPitch},minZoom:{type:Number,default:()=>Tn.minZoom},preserveDrawingBuffer:{type:Boolean,default:()=>Tn.preserveDrawingBuffer},pitch:{type:Number,default:()=>Tn.pitch},pitchWithRotate:{type:Boolean,default:()=>Tn.pitchWithRotate},refreshExpiredTiles:{type:Boolean,default:()=>Tn.refreshExpiredTiles},renderWorldCopies:{type:Boolean,default:()=>Tn.renderWorldCopies},scrollZoom:{type:Boolean,default:()=>Tn.scrollZoom},mapStyle:{type:[String,Object],default:()=>Tn.style},trackResize:{type:Boolean,default:()=>Tn.trackResize},transformRequest:{type:Function,default:Tn.transformRequest},touchZoomRotate:{type:Boolean,default:()=>Tn.touchZoomRotate},touchPitch:{type:Boolean,default:()=>Tn.touchPitch},zoom:{type:Number,default:()=>Tn.zoom},maxTileCacheSize:{type:Number,default:()=>Tn.maxTileCacheSize},mapKey:{type:[String,Symbol]},pixelRatio:{type:Number,default:()=>Tn.pixelRatio},cooperativeGestures:{type:[Boolean,Object],default:()=>Tn.cooperativeGestures}},emits:["map:error","map:load","map:idle","map:remove","map:render","map:resize","map:webglcontextlost","map:webglcontextrestored","map:dataloading","map:data","map:tiledataloading","map:sourcedataloading","map:styledataloading","map:sourcedata","map:styledata","map:boxzoomcancel","map:boxzoomstart","map:boxzoomend","map:touchcancel","map:touchmove","map:touchend","map:touchstart","map:click","map:contextmenu","map:dblclick","map:mousemove","map:mouseup","map:mousedown","map:mouseout","map:mouseover","map:movestart","map:move","map:moveend","map:zoomstart","map:zoom","map:zoomend","map:rotatestart","map:rotate","map:rotateend","map:dragstart","map:drag","map:dragend","map:pitchstart","map:pitch","map:pitchend","map:wheel"],slots:Object,setup(e,t){const n=wg(Cs()),r=Rt(),s=Rt(),u=dt(!1),h=dt(!1),o=dt(!1),p=new Map,y=gB(),b=bB(n,s,e.mapKey);let C;_n(bi,s),_n(ts,h),_n(yl,u),_n(Yi,n.uid),_n(Zi,""),_n(J0,y),ot(()=>e.bearing,F=>{var B;F&&((B=s.value)==null||B.setBearing(F))}),ot(()=>e.bounds,F=>{var B;F&&((B=s.value)==null||B.fitBounds(F,e.fitBoundsOptions))}),ot(()=>e.center,F=>{var B;F&&((B=s.value)==null||B.setCenter(F))}),ot(()=>e.maxBounds,F=>{var B;F&&((B=s.value)==null||B.setMaxBounds(F))}),ot(()=>e.maxPitch,F=>{var B;F&&((B=s.value)==null||B.setMaxPitch(F))}),ot(()=>e.maxZoom,F=>{var B;F&&((B=s.value)==null||B.setMaxZoom(F))}),ot(()=>e.minPitch,F=>{var B;F&&((B=s.value)==null||B.setMinPitch(F))}),ot(()=>e.minZoom,F=>{var B;F&&((B=s.value)==null||B.setMinZoom(F))}),ot(()=>e.pitch,F=>{var B;F&&((B=s.value)==null||B.setPitch(F))}),ot(()=>e.renderWorldCopies,F=>{var B;F&&((B=s.value)==null||B.setRenderWorldCopies(F))}),ot(()=>e.mapStyle,F=>{var B;F&&((B=s.value)==null||B.setStyle(F))}),ot(()=>e.transformRequest,F=>{var B;F&&((B=s.value)==null||B.setTransformRequest(F))}),ot(()=>e.zoom,F=>{var B;F&&((B=s.value)==null||B.setZoom(F))}),ot(()=>e.zoom,F=>{var B;F&&((B=s.value)==null||B.setZoom(F))}),ot(()=>e.language,F=>{o.value&&s.value&&b.language!==(F||null)&&(x_(s.value,F||""),b.language=F||null)}),ot(()=>b.language,F=>{o.value&&s.value&&x_(s.value,F||"")});function k(){o.value=!0,e.language?b.language=e.language:b.language&&x_(s.value,e.language||"")}function I(){b.isMounted=!0;const F=Object.keys(e).filter(B=>e[B]!==void 0&&qs.MAP_OPTION_KEYS.indexOf(B)!==-1).reduce((B,q)=>(B[q==="mapStyle"?"style":q]=Vr(e[q]),B),{container:r.value});if(s.value=wg(new cu.Map(F)),b.map=s.value,u.value=!0,p.set("__load",()=>(h.value=!0,b.isLoaded=!0)),s.value.once("styledata",k),s.value.on("load",p.get("__load")),n.vnode.props){for(let B=0,q=qs.MAP_EVENT_TYPES.length;B<q;B++)if(n.vnode.props["onMap:"+qs.MAP_EVENT_TYPES[B]]){const K=qs.createEventHandler(n,s.value,t,"map:"+qs.MAP_EVENT_TYPES[B]);p.set(qs.MAP_EVENT_TYPES[B],K),s.value.on(qs.MAP_EVENT_TYPES[B],K)}}s.value.getCanvas().addEventListener("webglcontextlost",L)}async function R(){b.isMounted=!1,b.isLoaded=!1,h.value=!1,s.value&&(s.value.getCanvas().removeEventListener("webglcontextlost",L),s.value._controls.forEach(F=>{s.value.removeControl(F)}),u.value=!1,p.forEach((F,B)=>{s.value.off(B.startsWith("__")?B.substring(2):B,F)}),s.value.remove())}function L(){R(),Hn(I)}return ha(()=>{I(),s.value&&(C=new ResizeObserver(xB(s.value.resize.bind(s.value),100)),C.observe(r.value))}),wr(()=>{C!==void 0&&(C.disconnect(),C=void 0),R()}),t.expose({map:s}),()=>Xr("div",{class:"mgl-container",style:{height:e.height,width:e.width}},[Xr("div",{ref:r,class:"mgl-wrapper"}),u.value&&t.slots.default?t.slots.default({}):void 0])}});function pc(e,t,n){ot(e,r=>{var s,u;r&&_l.indexOf(r)===-1||((s=t.value)!=null&&s.hasControl(n)&&t.value.removeControl(n),(u=t.value)==null||u.addControl(n,r))},{immediate:!0})}const SB=lr({name:"MglAttributionControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},compact:Boolean,customAttribution:[String,Array]},setup(e){const t=vt(bi),n=vt(yl),r=new cu.AttributionControl({compact:e.compact,customAttribution:e.customAttribution});pc(()=>e.position,t,r),wr(()=>n.value&&t.value.removeControl(r))},render(){}}),Sb=class mf{constructor(t,n){wi(this,"container"),this.isAdded=t,this.container=document.createElement("div"),this.setClasses(n)}getDefaultPosition(){return mc.TOP_LEFT}onAdd(){return Hn(()=>this.isAdded.value=!0),this.container}onRemove(){this.isAdded.value=!1,this.container.remove()}setClasses(t){t?(this.container.classList.remove(mf.CONTROL_CLASS),this.container.classList.remove(mf.CONTROL_GROUP_CLASS)):(this.container.classList.add(mf.CONTROL_CLASS),this.container.classList.add(mf.CONTROL_GROUP_CLASS))}};wi(Sb,"CONTROL_CLASS","maplibregl-ctrl"),wi(Sb,"CONTROL_GROUP_CLASS","maplibregl-ctrl-group");let PA=Sb;const kB=lr({name:"MglCustomControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},noClasses:{type:Boolean,default:!1}},slots:Object,setup(e,{slots:t}){const n=vt(bi),r=vt(yl),s=dt(!1),u=new PA(s,e.noClasses);return pc(()=>e.position,n,u),ot(()=>e.noClasses,h=>u.setClasses(h)),wr(()=>{var h;return r.value&&((h=n.value)==null?void 0:h.removeControl(u))}),()=>{var h;return s.value?Xr(z0,{to:u.container},(h=t.default)==null?void 0:h.call(t,{})):Kn("custom-component")}}}),CB=lr({name:"MglFullscreenControl",props:{position:{type:String,default:mc.TOP_RIGHT,validator:e=>_l.indexOf(e)!==-1},container:{type:Object,default:null}},setup(e){const t=vt(bi),n=vt(yl),r=new cu.FullscreenControl({container:e.container||void 0});function s(){Hn(()=>{var u;return(u=t.value)==null?void 0:u.resize()})}r.on("fullscreenstart",s),r.on("fullscreenend",s),pc(()=>e.position,t,r),wr(()=>{var u;r.off("fullscreenstart",s),r.off("fullscreenend",s),n.value&&((u=t.value)==null||u.removeControl(r))})},render(){}});class TB{constructor(t="rgba(0,0,0,0.9)",n=4*window.devicePixelRatio,r="#7cf859",s="Monaco, Consolas, Courier, monospace",u=60*window.devicePixelRatio,h=90*window.devicePixelRatio,o=0,p=5*window.devicePixelRatio,y=100*window.devicePixelRatio){wi(this,"frames",0),wi(this,"totalTime",0),wi(this,"totalFrames",0),wi(this,"time",null),wi(this,"map"),wi(this,"container"),wi(this,"readOutput"),wi(this,"canvas"),wi(this,"eventHandlers",new Map),this.background=t,this.barWidth=n,this.color=r,this.font=s,this.graphHeight=u,this.graphWidth=h,this.graphTop=o,this.graphRight=p,this.width=y}getDefaultPosition(){return mc.TOP_RIGHT}onAdd(t){this.map=t;const n=this.container=document.createElement("div");return n.className="maplibregl-ctrl maplibregl-ctrl-fps",n.style.backgroundColor=this.background,n.style.borderRadius="6px",this.readOutput=document.createElement("div"),this.readOutput.style.color=this.color,this.readOutput.style.fontFamily=this.font,this.readOutput.style.padding="0 5px 5px",this.readOutput.style.fontSize="9px",this.readOutput.style.fontWeight="bold",this.readOutput.textContent="Waiting…",this.canvas=document.createElement("canvas"),this.canvas.className="maplibregl-ctrl-canvas",this.canvas.width=this.width,this.canvas.height=this.graphHeight,this.canvas.style.cssText=`width: ${this.width/window.devicePixelRatio}px; height: ${this.graphHeight/window.devicePixelRatio}px;`,n.appendChild(this.readOutput),n.appendChild(this.canvas),this.eventHandlers.set("movestart",this.onMoveStart.bind(this)),this.eventHandlers.set("moveend",this.onMoveEnd.bind(this)),this.map.on("movestart",this.eventHandlers.get("movestart")),this.map.on("moveend",this.eventHandlers.get("moveend")),this.container}onRemove(){this.map.off("movestart",this.eventHandlers.get("movestart")),this.map.off("moveend",this.eventHandlers.get("moveend")),this.eventHandlers.clear(),this.container.parentNode.removeChild(this.container),this.map=void 0}onMoveStart(){this.frames=0,this.time=performance.now(),this.eventHandlers.set("render",this.onRender.bind(this)),this.map.on("render",this.eventHandlers.get("render"))}onMoveEnd(){const t=performance.now();this.updateGraph(this.getFPS(t)),this.frames=0,this.time=null,this.map.off("render",this.eventHandlers.get("render"))}onRender(){if(this.time){this.frames++;const t=performance.now();t>=this.time+1e3&&(this.updateGraph(this.getFPS(t)),this.frames=0,this.time=performance.now())}}getFPS(t){return this.totalTime+=t-this.time,this.totalFrames+=this.frames,Math.round(1e3*this.frames/(t-this.time))||0}updateGraph(t){const n=this.canvas.getContext("2d"),r=Math.round(1e3*this.totalFrames/this.totalTime)||0,s=(this.graphHeight,this.barWidth);n.fillStyle=this.background,n.globalAlpha=1,n.fillRect(0,0,this.graphWidth,this.graphTop),n.fillStyle=this.color,this.readOutput.textContent=`${t} FPS (${r} Avg)`,n.drawImage(this.canvas,this.graphRight+s,this.graphTop,this.graphWidth-s,this.graphHeight,this.graphRight,this.graphTop,this.graphWidth-s,this.graphHeight),n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,this.graphHeight),n.fillStyle=this.background,n.globalAlpha=.75,n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,(1-t/100)*this.graphHeight)}}const AB=lr({name:"MglFrameRateControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},background:{type:String,default:"rgba(0,0,0,0.9)"},barWidth:{type:Number,default:4*window.devicePixelRatio},color:{type:String,default:"#7cf859"},font:{type:String,default:"Monaco, Consolas, Courier, monospace"},graphHeight:{type:Number,default:60*window.devicePixelRatio},graphWidth:{type:Number,default:90*window.devicePixelRatio},graphTop:{type:Number,default:0},graphRight:{type:Number,default:5*window.devicePixelRatio},width:{type:Number,default:100*window.devicePixelRatio}},setup(e){const t=vt(bi),n=vt(yl),r=new TB(e.background,e.barWidth,e.color,e.font,e.graphHeight,e.graphWidth,e.graphTop,e.graphRight,e.width);pc(()=>e.position,t,r),wr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),EB=lr({name:"MglGeolocationControl",props:{position:{type:String,default:mc.TOP_RIGHT,validator:e=>_l.indexOf(e)!==-1},positionOptions:{type:Object,default:{enableHighAccuracy:!1,timeout:6e3}},fitBoundsOptions:{type:Object,default:{maxZoom:15}},trackUserLocation:{type:Boolean,default:!1},showAccuracyCircle:{type:Boolean,default:!0},showUserLocation:{type:Boolean,default:!0}},setup(e){const t=vt(bi),n=vt(yl),r=new cu.GeolocateControl({positionOptions:e.positionOptions,fitBoundsOptions:e.fitBoundsOptions,trackUserLocation:e.trackUserLocation,showAccuracyCircle:e.showAccuracyCircle,showUserLocation:e.showUserLocation});pc(()=>e.position,t,r),wr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),IB=lr({name:"MglNavigationControl",props:{position:{type:String,default:mc.TOP_RIGHT,validator:e=>_l.indexOf(e)!==-1},showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:Boolean},setup(e){const t=vt(bi),n=vt(yl),r=new cu.NavigationControl({showCompass:e.showCompass,showZoom:e.showZoom,visualizePitch:e.visualizePitch});pc(()=>e.position,t,r),wr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var DA=(e=>(e.IMPERIAL="imperial",e.METRIC="metric",e.NAUTICAL="nautical",e))(DA||{});const PB=Object.values(DA),DB=lr({name:"MglScaleControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},maxWidth:{type:Number,default:100},unit:{type:String,default:"metric",validator:e=>PB.indexOf(e)!==-1}},setup(e){const t=vt(bi),n=vt(yl),r=new cu.ScaleControl({maxWidth:e.maxWidth,unit:e.unit});pc(()=>e.position,t,r),wr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var Og=(e=>(e.DEFAULT="default",e.TEXT="text",e.MDI="mdi",e.SIMPLE_ICON="simple-icons",e))(Og||{});const MB=Object.values(Og),Zp={text:void 0,mdi:{size:21,viewbox:"0 0 24 24"},"simple-icons":{size:21,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},kb=lr({name:"MglButton",props:{type:{type:String,default:"default",validator:e=>MB.indexOf(e)!==-1},path:{type:String},size:Number,viewbox:String},slots:Object,setup(e,{slots:t}){!e.path&&e.type!=="text"&&MO();const n=dt(Zp[e.type]||Zp.default);return ot(()=>e.type,r=>n.value=Zp[r]||Zp.default),()=>{var r,s;return e.type==="text"?Xr("button",{type:"button"},(r=t.default)==null?void 0:r.call(t,{})):Xr("button",{type:"button",class:"maplibregl-ctrl-icon"},[Xr("svg",{width:e.size||n.value.size,height:e.size||n.value.size,viewBox:e.viewbox||n.value.viewbox},Xr("path",{fill:"currentColor",d:e.path})),(s=t.default)==null?void 0:s.call(t,{})])}}});function Ak(e){return e&&!!e.stopPropagation}const LB=lr({name:"MglStyleSwitchControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},mapStyles:{type:Array,required:!0,default:[]},modelValue:{type:Object},isOpen:{type:Boolean,default:void 0}},slots:Object,emits:["update:modelValue","update:isOpen"],setup(e,{emit:t,slots:n}){const r=vt(bi),s=vt(yl),u=vt(ts),h=vt(J0),o=dt(!1),p=dt(e.isOpen===void 0?!1:e.isOpen),y=Rt(e.modelValue===void 0?e.mapStyles.length?e.mapStyles[0]:null:e.modelValue),b=new PA(o,!1),C=R.bind(null,!1);function k(){const L=r.value.getStyle().name;for(let F=0,B=e.mapStyles.length;F<B;F++)if(e.mapStyles[F].name===L){I(e.mapStyles[F]);break}}ot(u,L=>{L&&k()},{immediate:!0}),r.value.on("style.load",k),document.addEventListener("click",C),pc(()=>e.position,r,b),e.modelValue!==void 0&&ot(()=>e.modelValue,L=>{L!==void 0&&(y.value=L)}),e.isOpen!==void 0&&ot(()=>e.isOpen,L=>{L!==void 0&&(p.value=L)}),wr(()=>{s.value&&(r.value.removeControl(b),r.value.off("style.load",k)),document.removeEventListener("click",C)});function I(L){var F;((F=y.value)==null?void 0:F.name)!==L.name&&(h.emit("styleSwitched",L),r.value.setStyle(L.style,{diff:!1}),e.modelValue===void 0&&(y.value=L),t("update:modelValue",L),R(!1))}function R(L,F){Ak(F)?F.stopPropagation():Ak(L)&&L.stopPropagation(),!(e.isOpen!==void 0&&e.isOpen===L||p.value===L)&&(e.isOpen===void 0?(p.value=typeof L=="boolean"?L:!p.value,t("update:isOpen",p.value)):t("update:isOpen",typeof L=="boolean"?L:!e.isOpen))}return()=>{if(!o.value)return Kn("style-switch-control");const L={isOpen:p,toggleOpen:R,setStyle:I,mapStyles:e.mapStyles,currentStyle:y};return Xr(z0,{to:b.container},n.default?n.default(L):[n.button?n.button(L):Xr(kb,{type:Og.MDI,path:"M12,18.54L19.37,12.8L21,14.07L12,21.07L3,14.07L4.62,12.81L12,18.54M12,16L3,9L12,2L21,9L12,16M12,4.53L6.26,9L12,13.47L17.74,9L12,4.53Z",class:["maplibregl-ctrl-icon maplibregl-style-switch",p.value?"is-open":""],onClick:R.bind(null,!0)}),n.styleList?n.styleList(L):Xr("div",{class:["maplibregl-style-list",p.value?"is-open":""]},e.mapStyles.map(F=>{var B,q;return F.icon?Xr(kb,{type:Og.MDI,path:F.icon.path,class:((B=y.value)==null?void 0:B.name)===F.name?"is-active":"",onClick:()=>I(F)},zt(F.label)):Xr("button",{type:"button",class:((q=y.value)==null?void 0:q.name)===F.name?"is-active":"",onClick:()=>I(F)},zt(F.label))}))])}},template:`
		<slot>
		<slot name="button"></slot>
		<slot name="styleList"></slot>
		</slot>
	`}),RB=lr({name:"MglMarker",props:{coordinates:{type:[Object,Array],required:!0},offset:[Object,Array],anchor:String,color:String,clickTolerance:Number,rotation:Number,rotationAlignment:String,pitchAlignment:String,scale:Number},setup(e){const t=vt(bi),n=Object.keys(e).filter(s=>e[s]!==void 0&&qs.MARKER_OPTION_KEYS.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Vr(e[u]),s),{}),r=new cu.Marker(n);return r.setLngLat(e.coordinates).addTo(t.value),ot(()=>e.coordinates,s=>r.setLngLat(s)),ot(()=>e.offset,s=>r.setOffset(s||[0,0])),ot(()=>e.pitchAlignment,s=>r.setPitchAlignment(s||"auto")),ot(()=>e.rotationAlignment,s=>r.setRotationAlignment(s||"auto")),wr(r.remove.bind(r)),{marker:r}},render(){}});class du{constructor(){wi(this,"unmountHandlers",new Map)}registerUnmountHandler(t,n){this.unmountHandlers.set(t,n)}unregisterUnmountHandler(t){this.unmountHandlers.delete(t)}unmount(){this.unmountHandlers.forEach(t=>t())}}const MA=class Cb{static genSourceOpts(t,n,r){return Object.keys(n).filter(s=>n[s]!==void 0&&r.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Vr(n[u]),s),{type:t})}static getSourceRef(t,n){const r=typeof n=="string",s=String(t)+(r?n:"");let u=Cb.REFS.get(s);return u||(u=dt(r?null:void 0),Cb.REFS.set(s,u)),u}};wi(MA,"REFS",new Map);let Ki=MA;function hu(e,t,n,r,s){const u=vt(bi),h=vt(ts),o=vt(J0);function p(){h.value&&(u.value.addSource(t.sourceId,Ki.genSourceOpts(n,t,r)),e.value=u.value.getSource(t.sourceId))}function y(){e.value=null}return ot(h,p,{immediate:!0}),u.value.on("style.load",p),o.on("styleSwitched",y),wr(()=>{h.value&&(s.unmount(),u.value.removeSource(t.sourceId)),u.value.off("style.load",p),o.off("styleSwitched",y)})}const OB=uu({animate:void 0,canvas:void 0,coordinates:void 0}),FB=lr({name:"MglCanvasSource",props:{sourceId:{type:String,required:!0},coordinates:Array,animate:Boolean,canvas:[Object,String]},slots:Object,setup(e,{slots:t}){const n=vt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return _n(Zi,e.sourceId),_n(fc,s),hu(r,e,"canvas",OB,s),ot(xr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Kn("Canvas Source"),r.value&&t.default?t.default({}):void 0]}}),zB=uu({data:void 0,maxzoom:void 0,attribution:void 0,buffer:void 0,tolerance:void 0,cluster:void 0,clusterRadius:void 0,clusterMaxZoom:void 0,clusterMinPoints:void 0,clusterProperties:void 0,lineMetrics:void 0,generateId:void 0,promoteId:void 0,filter:void 0}),BB=lr({name:"MglGeoJsonSource",props:{sourceId:{type:String,required:!0},data:[Object,String],maxzoom:Number,attribution:String,buffer:Number,tolerance:Number,cluster:[Number,Boolean],clusterRadius:Number,clusterMaxZoom:Number,clusterMinPoints:Number,clusterProperties:Object,lineMetrics:Boolean,generateId:Boolean,promoteId:[Object,String],filter:[Array,String,Object]},slots:Object,setup(e,{slots:t}){const n=vt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return _n(Zi,e.sourceId),_n(fc,s),hu(r,e,"geojson",zB,s),ot(xr(e.data)?e.data:()=>e.data,u=>{var h;(h=r.value)==null||h.setData(u||{type:"FeatureCollection",features:[]})},{immediate:!0}),()=>[Kn("GeoJSON Source"),r.value&&t.default?t.default({}):void 0]}}),VB=uu({url:void 0,coordinates:void 0}),NB=lr({name:"MglImageSource",props:{sourceId:{type:String,required:!0},url:String,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=vt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return _n(Zi,e.sourceId),_n(fc,s),hu(r,e,"image",VB,s),ot(xr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Kn("Image Source"),r.value&&t.default?t.default({}):void 0]}}),$B=uu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,scheme:void 0,attribution:void 0,volatile:void 0}),UB=lr({name:"MglRasterSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,scheme:String,attribution:String,volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=vt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return _n(Zi,e.sourceId),_n(fc,s),hu(r,e,"raster",$B,s),()=>[Kn("Raster Source"),r.value&&t.default?t.default({}):void 0]}}),qB=uu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,attribution:void 0,encoding:void 0,volatile:void 0,redFactor:void 0,blueFactor:void 0,greenFactor:void 0,baseShift:void 0}),jB=lr({name:"MglRasterDemSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,attribution:String,encoding:String,volatile:Boolean,redFactor:Number,blueFactor:Number,greenFactor:Number,baseShift:Number},slots:Object,setup(e,{slots:t}){const n=vt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return _n(Zi,e.sourceId),_n(fc,s),hu(r,e,"raster-dem",qB,s),()=>[Kn("RasterDem Source"),r.value&&t.default?t.default({}):void 0]}}),HB=uu({url:void 0,tiles:void 0,bounds:void 0,scheme:void 0,minzoom:void 0,maxzoom:void 0,attribution:void 0,promoteId:void 0,volatile:void 0}),GB=lr({name:"MglVectorSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,scheme:String,minzoom:Number,maxzoom:Number,attribution:String,promoteId:[Object,String],volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=vt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return _n(Zi,e.sourceId),_n(fc,s),hu(r,e,"vector",HB,s),ot(xr(e.tiles)?e.tiles:()=>e.tiles,u=>{var h;(h=r.value)==null||h.setTiles(u||[])},{immediate:!0}),ot(xr(e.url)?e.url:()=>e.url,u=>{var h;(h=r.value)==null||h.setUrl(u||"")},{immediate:!0}),()=>[Kn("Vector Source"),r.value&&t.default?t.default({}):void 0]}}),WB=uu({urls:void 0,coordinates:void 0}),YB=lr({name:"MglVideoSource",props:{sourceId:{type:String,required:!0},urls:Array,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=vt(Yi),r=Ki.getSourceRef(n,e.sourceId),s=new du;return _n(Zi,e.sourceId),_n(fc,s),hu(r,e,"video",WB,s),ot(xr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Kn("Video Source"),r.value&&t.default?t.default({}):void 0]}}),ug=class _o{static genLayerOpts(t,n,r,s){return Object.keys(r).filter(u=>r[u]!==void 0&&_o.SOURCE_OPTS.indexOf(u)!==-1).reduce((u,h)=>(u[h==="sourceLayer"?"source-layer":h]=Vr(r[h]),u),{type:n,source:r.source||s,id:t})}static registerLayerEvents(t,n,r){if(r.props)for(let s=0,u=_o.LAYER_EVENTS.length;s<u;s++){const h="on"+_o.LAYER_EVENTS[s].charAt(0).toUpperCase()+_o.LAYER_EVENTS[s].substr(1);r.props[h]&&t.on(_o.LAYER_EVENTS[s],n,r.props[h])}}static unregisterLayerEvents(t,n,r){if(r.props)for(let s=0,u=_o.LAYER_EVENTS.length;s<u;s++){const h="on"+_o.LAYER_EVENTS[s].charAt(0).toUpperCase()+_o.LAYER_EVENTS[s].substr(1);r.props[h]&&t.off(_o.LAYER_EVENTS[s],n,r.props[h])}}};wi(ug,"SOURCE_OPTS",["metadata","ref","source","sourceLayer","minzoom","maxzoom","interactive","filter","layout","paint"]),wi(ug,"LAYER_EVENTS",["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]),wi(ug,"SHARED",{props:{layerId:{type:String,required:!0},source:[String,Object],metadata:[Object,Array,String,Number],sourceLayer:String,minzoom:Number,maxzoom:Number,interactive:Boolean,filter:Array,before:String},emits:["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]});let jn=ug;function bl(e,t){const n=vt(bi),r=vt(ts),s=vt(fc);function u(){r.value&&(t&&jn.unregisterLayerEvents(n.value,e,t.vnode),n.value.getLayer(e)&&n.value.removeLayer(e))}s.registerUnmountHandler(e,u),wr(()=>{s.unregisterUnmountHandler(e),u()})}const ZB=lr({name:"MglBackgroundLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=vt(bi),r=vt(ts),s=vt(Yi),u=Ki.getSourceRef(s,e.source||t);return bl(e.layerId),ot([r,u],([h,o])=>{h&&(o||o===void 0)&&n.value.addLayer(jn.genLayerOpts(e.layerId,"background",e,t),e.before||void 0)},{immediate:!0}),()=>Kn("Background Layer")}}),KB=lr({name:"MglCircleLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"circle",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Circle Layer")}}),XB=lr({name:"MglFillLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"fill",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Fill Layer")}}),JB=lr({name:"MglFillExtrusionLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"fill-extrusion",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Fill Extrusion Layer")}}),QB=lr({name:"MglHeatmapLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"heatmap",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Heatmap Layer")}}),eV=lr({name:"MglHillshadeLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"hillshade",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Hillshade Layer")}}),tV=lr({name:"MglLineLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"line",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Line Layer")}}),nV=lr({name:"MglRasterLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"raster",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Raster Layer")}}),rV=lr({name:"MglSymbolLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=vt(Zi);if(!t&&!e.source)return;const n=Cs(),r=vt(bi),s=vt(ts),u=vt(Yi),h=Ki.getSourceRef(u,e.source||t);return bl(e.layerId,n),ot([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"symbol",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Symbol Layer")}}),iV=Object.freeze(Object.defineProperty({__proto__:null,MglAttributionControl:SB,MglBackgroundLayer:ZB,MglButton:kb,MglCanvasSource:FB,MglCircleLayer:KB,MglCustomControl:kB,MglFillExtrusionLayer:JB,MglFillLayer:XB,MglFrameRateControl:AB,MglFullscreenControl:CB,MglGeoJsonSource:BB,MglGeolocationControl:EB,MglHeatmapLayer:QB,MglHillshadeLayer:eV,MglImageSource:NB,MglLineLayer:tV,MglMap:wB,MglMarker:RB,MglNavigationControl:IB,MglRasterDemSource:jB,MglRasterLayer:nV,MglRasterSource:UB,MglScaleControl:DB,MglStyleSwitchControl:LB,MglSymbolLayer:rV,MglVectorSource:GB,MglVideoSource:YB},Symbol.toStringTag,{value:"Module"})),aV=function(e){Object.entries(iV).forEach(([t,n])=>{e.component(t,n)})},eo=We({border:[Boolean,Number,String]},"border");function Lo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{borderClasses:Y(()=>{const r=xr(e)?e.value:e.border,s=[];if(r===!0||r==="")s.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const u of String(r).split(" "))s.push(`border-${u}`);return s})}}function Q0(e){return U0(()=>{const t=[],n={};if(e.value.background)if(_b(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&qF(e.value.background)){const r=So(e.value.background);if(r.a==null||r.a===1){const s=sA(r);n.color=s,n.caretColor=s}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(_b(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Na(e,t){const n=Y(()=>({text:xr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Q0(n);return{textColorClasses:r,textColorStyles:s}}function yi(e,t){const n=Y(()=>({background:xr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Q0(n);return{backgroundColorClasses:r,backgroundColorStyles:s}}const to=We({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function no(e){return{dimensionStyles:Y(()=>{const n={},r=Gt(e.height),s=Gt(e.maxHeight),u=Gt(e.maxWidth),h=Gt(e.minHeight),o=Gt(e.minWidth),p=Gt(e.width);return r!=null&&(n.height=r),s!=null&&(n.maxHeight=s),u!=null&&(n.maxWidth=u),h!=null&&(n.minHeight=h),o!=null&&(n.minWidth=o),p!=null&&(n.width=p),n})}}const ns=We({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function As(e){return{elevationClasses:Y(()=>{const n=xr(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const Ek={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},fu=We({location:String},"location");function Vd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=es();return{locationStyles:Y(()=>{if(!e.location)return{};const{side:u,align:h}=vb(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function o(y){return n?n(y):0}const p={};return u!=="center"&&(t?p[Ek[u]]=`calc(100% - ${o(u)}px)`:p[u]=0),h!=="center"?t?p[Ek[h]]=`calc(100% - ${o(h)}px)`:p[h]=0:(u==="center"?p.top=p.left="50%":p[{top:"left",bottom:"left",left:"top",right:"top"}[u]]="50%",p.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[u]),p})}}const sV=["static","relative","fixed","absolute","sticky"],lm=We({position:{type:String,validator:e=>sV.includes(e)}},"position");function cm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{positionClasses:Y(()=>e.position?`${t}--${e.position}`:void 0)}}const Pi=We({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Bi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{roundedClasses:Y(()=>{const r=xr(e)?e.value:e.rounded,s=xr(e)?e.value:e.tile,u=[];if(r===!0||r==="")u.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const h of String(r).split(" "))u.push(`rounded-${h}`);else(s||r===!1)&&u.push("rounded-0");return u})}}const Xn=We({tag:{type:String,default:"div"}},"tag"),ex=We({color:String,...eo(),...hn(),...to(),...ns(),...fu(),...lm(),...Pi(),...Xn(),...vr()},"VSheet"),cc=ht()({name:"VSheet",props:ex(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(_t(e,"color")),{borderClasses:h}=Lo(e),{dimensionStyles:o}=no(e),{elevationClasses:p}=As(e),{locationStyles:y}=Vd(e),{positionClasses:b}=cm(e),{roundedClasses:C}=Bi(e);return St(()=>T(e.tag,{class:["v-sheet",r.value,s.value,h.value,p.value,b.value,C.value,e.class],style:[u.value,o.value,y.value,e.style]},n)),{}}}),oV=We({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),Tb=ht()({name:"VCalendarIntervalEvent",props:oV(),setup(e){const t=Mo(),n=()=>{var r,s,u,h;if(!((r=e.event)!=null&&r.first)&&!((s=e.event)!=null&&s.last)||t.isEqual((u=e.event)==null?void 0:u.start,(h=e.interval)==null?void 0:h.start))return{height:"100%",margin:Gt(0)};{const{height:o,margin:p}=Array.from({length:e.intervalDivisions},y=>y*(e.intervalDuration/e.intervalDivisions)).reduce((y,b,C)=>{var k,I;return t.isBefore(t.addMinutes((k=e.interval)==null?void 0:k.start,b),(I=e.event)==null?void 0:I.start)?{height:Gt(e.intervalHeight/e.intervalDivisions*C),margin:Gt(e.intervalHeight/e.intervalDivisions*C)}:{height:y.height,margin:y.margin}},{height:"",margin:""});return{height:o,margin:p}}};return St(()=>{var r,s,u,h,o;return T(cc,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((r=e.event)==null?void 0:r.color)??void 0,rounded:(s=e.event)!=null&&s.first&&((u=e.event)!=null&&u.last)?!0:(h=e.event)!=null&&h.first?"t":(o=e.event)!=null&&o.last?"b":!1},{default:()=>{var p,y;return[(p=e.event)!=null&&p.first?(y=e.event)==null?void 0:y.title:""]}})}),{}}}),LA=We({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),Ab=ht()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...LA()},setup(e,t){const n=Mo(),r=Y(()=>{const s=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),u=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:n.format(s,"fullTime24h"),start:s,end:u,events:e.events?e.events.filter(h=>!h.allDay&&(n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u])||n.isWithinRange(s,[h.start,h.end])||n.isEqual(u,h.end))).map(h=>({...h,first:n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u]),last:n.isEqual(u,h.end)||n.isWithinRange(h.end,[s,u])})):[]}});return St(()=>{var s,u;return e.dayIndex===0?T("div",{class:"v-calendar-day__row-with-label",style:`height: ${Gt(e.intervalHeight)}`},[T("div",{class:"v-calendar-day__row-label"},[T("slot",{name:"intervalFormat",interval:r.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?n.format(r.value.start,"hours12h"):e.intervalFormat(r.value):r.value.label:""])]),T("div",{class:"v-calendar-day__row-hairline"},null),T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(s=r.value.events)==null?void 0:s.map(h=>T(Tb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):T("div",{class:"v-calendar-day__row-without-label",style:`height: ${Gt(e.intervalHeight)}`},[T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(u=r.value.events)==null?void 0:u.filter(h=>!h.allDay).map(h=>T(Tb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:r}}}),lV=[null,"default","comfortable","compact"],$a=We({density:{type:String,default:"default",validator:e=>lV.includes(e)}},"density");function rs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{densityClasses:Y(()=>`${t}--density-${e.density}`)}}const cV=["elevated","flat","tonal","outlined","text","plain"];function xl(e,t){return T(Ht,null,[e&&T("span",{key:"overlay",class:`${t}__overlay`},null),T("span",{key:"underlay",class:`${t}__underlay`},null)])}const ro=We({color:String,variant:{type:String,default:"elevated",validator:e=>cV.includes(e)}},"variant");function mu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();const n=Y(()=>{const{variant:u}=Vr(e);return`${t}--variant-${u}`}),{colorClasses:r,colorStyles:s}=Q0(Y(()=>{const{variant:u,color:h}=Vr(e);return{[["elevated","flat"].includes(u)?"background":"text"]:h}}));return{colorClasses:r,colorStyles:s,variantClasses:n}}const RA=We({baseColor:String,divided:Boolean,...eo(),...hn(),...$a(),...ns(),...Pi(),...Xn(),...vr(),...ro()},"VBtnGroup"),Ik=ht()({name:"VBtnGroup",props:RA(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{densityClasses:s}=rs(e),{borderClasses:u}=Lo(e),{elevationClasses:h}=As(e),{roundedClasses:o}=Bi(e);ua({VBtn:{height:"auto",baseColor:_t(e,"baseColor"),color:_t(e,"color"),density:_t(e,"density"),flat:!0,variant:_t(e,"variant")}}),St(()=>T(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,u.value,s.value,h.value,o.value,e.class],style:e.style},n))}}),um=We({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),dm=We({value:null,disabled:Boolean,selectedClass:String},"group-item");function hm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Jr("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Ts();_n(Symbol.for(`${t.description}:id`),s);const u=vt(t,null);if(!u){if(!n)return u;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const h=_t(e,"value"),o=Y(()=>!!(u.disabled.value||e.disabled));u.register({id:s,value:h,disabled:o},r),wr(()=>{u.unregister(s)});const p=Y(()=>u.isSelected(s)),y=Y(()=>u.items.value[0].id===s),b=Y(()=>u.items.value[u.items.value.length-1].id===s),C=Y(()=>p.value&&[u.selectedClass.value,e.selectedClass]);return ot(p,k=>{r.emit("group:selected",{value:k})},{flush:"sync"}),{id:s,isSelected:p,isFirst:y,isLast:b,toggle:()=>u.select(s,!p.value),select:k=>u.select(s,k),selectedClass:C,value:h,disabled:o,group:u}}function Nd(e,t){let n=!1;const r=Ei([]),s=dn(e,"modelValue",[],k=>k==null?[]:OA(r,Wr(k)),k=>{const I=dV(r,k);return e.multiple?I:I[0]}),u=Jr("useGroup");function h(k,I){const R=k,L=Symbol.for(`${t.description}:id`),B=gd(L,u==null?void 0:u.vnode).indexOf(I);Vr(R.value)==null&&(R.value=B,R.useIndexAsValue=!0),B>-1?r.splice(B,0,R):r.push(R)}function o(k){if(n)return;p();const I=r.findIndex(R=>R.id===k);r.splice(I,1)}function p(){const k=r.find(I=>!I.disabled);k&&e.mandatory==="force"&&!s.value.length&&(s.value=[k.id])}ha(()=>{p()}),wr(()=>{n=!0}),L0(()=>{for(let k=0;k<r.length;k++)r[k].useIndexAsValue&&(r[k].value=k)});function y(k,I){const R=r.find(L=>L.id===k);if(!(I&&(R!=null&&R.disabled)))if(e.multiple){const L=s.value.slice(),F=L.findIndex(q=>q===k),B=~F;if(I=I??!B,B&&e.mandatory&&L.length<=1||!B&&e.max!=null&&L.length+1>e.max)return;F<0&&I?L.push(k):F>=0&&!I&&L.splice(F,1),s.value=L}else{const L=s.value.includes(k);if(e.mandatory&&L)return;s.value=I??!L?[k]:[]}}function b(k){if(e.multiple,s.value.length){const I=s.value[0],R=r.findIndex(B=>B.id===I);let L=(R+k)%r.length,F=r[L];for(;F.disabled&&L!==R;)L=(L+k)%r.length,F=r[L];if(F.disabled)return;s.value=[r[L].id]}else{const I=r.find(R=>!R.disabled);I&&(s.value=[I.id])}}const C={register:h,unregister:o,selected:s,select:y,disabled:_t(e,"disabled"),prev:()=>b(r.length-1),next:()=>b(1),isSelected:k=>s.value.includes(k),selectedClass:Y(()=>e.selectedClass),items:Y(()=>r),getItemIndex:k=>uV(r,k)};return _n(t,C),C}function uV(e,t){const n=OA(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function OA(e,t){const n=[];return t.forEach(r=>{const s=e.find(h=>gl(r,h.value)),u=e[r];(s==null?void 0:s.value)!=null?n.push(s.id):u!=null&&n.push(u.id)}),n}function dV(e,t){const n=[];return t.forEach(r=>{const s=e.findIndex(u=>u.id===r);if(~s){const u=e[s];n.push(u.value!=null?u.value:s)}}),n}const FA=Symbol.for("vuetify:v-btn-toggle"),hV=We({...RA(),...um()},"VBtnToggle");ht()({name:"VBtnToggle",props:hV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:s,prev:u,select:h,selected:o}=Nd(e,FA);return St(()=>{const p=Ik.filterProps(e);return T(Ik,it({class:["v-btn-toggle",e.class]},p,{style:e.style}),{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{isSelected:r,next:s,prev:u,select:h,selected:o})]}})}),{next:s,prev:u,select:h}}});const fV=We({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Un=ht(!1)({name:"VDefaultsProvider",props:fV(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:s,reset:u,root:h,scoped:o}=rm(e);return ua(r,{reset:u,root:h,scoped:o,disabled:s}),()=>{var p;return(p=n.default)==null?void 0:p.call(n)}}}),mV=["x-small","small","default","large","x-large"],$d=We({size:{type:[String,Number],default:"default"}},"size");function fm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return U0(()=>{let n,r;return Ig(mV,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:Gt(e.size),height:Gt(e.size)}),{sizeClasses:n,sizeStyles:r}})}const pV=We({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ln,...hn(),...$d(),...Xn({tag:"i"}),...vr()},"VIcon"),nr=ht()({name:"VIcon",props:pV(),setup(e,t){let{attrs:n,slots:r}=t;const s=dt(),{themeClasses:u}=Rr(e),{iconData:h}=sB(Y(()=>s.value||e.icon)),{sizeClasses:o}=fm(e),{textColorClasses:p,textColorStyles:y}=Na(_t(e,"color"));return St(()=>{var k,I;const b=(k=r.default)==null?void 0:k.call(r);b&&(s.value=(I=XT(b).filter(R=>R.type===am&&R.children&&typeof R.children=="string")[0])==null?void 0:I.children);const C=!!(n.onClick||n.onClickOnce);return T(h.value.component,{tag:e.tag,icon:h.value.icon,class:["v-icon","notranslate",u.value,o.value,p.value,{"v-icon--clickable":C,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[o.value?void 0:{fontSize:Gt(e.size),height:Gt(e.size),width:Gt(e.size)},y.value,e.style],role:C?"button":void 0,"aria-hidden":!C,tabindex:C?e.disabled?-1:0:void 0},{default:()=>[b]})}),{}}});function zA(e,t){const n=dt(),r=Rt(!1);if(N0){const s=new IntersectionObserver(u=>{r.value=!!u.find(h=>h.isIntersecting)},t);wr(()=>{s.disconnect()}),ot(n,(u,h)=>{h&&(s.unobserve(h),r.value=!1),u&&s.observe(u)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const gV=We({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...hn(),...$d(),...Xn({tag:"div"}),...vr()},"VProgressCircular"),Fg=ht()({name:"VProgressCircular",props:gV(),setup(e,t){let{slots:n}=t;const r=20,s=2*Math.PI*r,u=dt(),{themeClasses:h}=Rr(e),{sizeClasses:o,sizeStyles:p}=fm(e),{textColorClasses:y,textColorStyles:b}=Na(_t(e,"color")),{textColorClasses:C,textColorStyles:k}=Na(_t(e,"bgColor")),{intersectionRef:I,isIntersecting:R}=zA(),{resizeRef:L,contentRect:F}=lc(),B=Y(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),q=Y(()=>Number(e.width)),K=Y(()=>p.value?Number(e.size):F.value?F.value.width:Math.max(q.value,32)),se=Y(()=>r/(1-q.value/K.value)*2),Q=Y(()=>q.value/K.value*se.value),ee=Y(()=>Gt((100-B.value)/100*s));return si(()=>{I.value=u.value,L.value=u.value}),St(()=>T(e.tag,{ref:u,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":R.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},h.value,o.value,y.value,e.class],style:[p.value,b.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:B.value},{default:()=>[T("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${se.value} ${se.value}`},[T("circle",{class:["v-progress-circular__underlay",C.value],style:k.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":Q.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),T("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":Q.value,"stroke-dasharray":s,"stroke-dashoffset":ee.value},null)]),n.default&&T("div",{class:"v-progress-circular__content"},[n.default({value:B.value})])]})),{}}}),vV=We({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...hn(),...fu({location:"top"}),...Pi(),...Xn(),...vr()},"VProgressLinear"),fv=ht()({name:"VProgressLinear",props:vV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dn(e,"modelValue"),{isRtl:s,rtlClasses:u}=es(),{themeClasses:h}=Rr(e),{locationStyles:o}=Vd(e),{textColorClasses:p,textColorStyles:y}=Na(e,"color"),{backgroundColorClasses:b,backgroundColorStyles:C}=yi(Y(()=>e.bgColor||e.color)),{backgroundColorClasses:k,backgroundColorStyles:I}=yi(Y(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:R,backgroundColorStyles:L}=yi(e,"color"),{roundedClasses:F}=Bi(e),{intersectionRef:B,isIntersecting:q}=zA(),K=Y(()=>parseFloat(e.max)),se=Y(()=>parseFloat(e.height)),Q=Y(()=>la(parseFloat(e.bufferValue)/K.value*100,0,100)),ee=Y(()=>la(parseFloat(r.value)/K.value*100,0,100)),re=Y(()=>s.value!==e.reverse),H=Y(()=>e.indeterminate?"fade-transition":"slide-x-transition");function j(Z){if(!B.value)return;const{left:le,right:ne,width:ve}=B.value.getBoundingClientRect(),fe=re.value?ve-Z.clientX+(ne-ve):Z.clientX-le;r.value=Math.round(fe/ve*K.value)}return St(()=>T(e.tag,{ref:B,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&q.value,"v-progress-linear--reverse":re.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},F.value,h.value,u.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Gt(se.value):0,"--v-progress-linear-height":Gt(se.value),...e.absolute?o.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:ee.value,onClick:e.clickable&&j},{default:()=>[e.stream&&T("div",{key:"stream",class:["v-progress-linear__stream",p.value],style:{...y.value,[re.value?"left":"right"]:Gt(-se.value),borderTop:`${Gt(se.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Gt(se.value/4)})`,width:Gt(100-Q.value,"%"),"--v-progress-linear-stream-to":Gt(se.value*(re.value?1:-1))}},null),T("div",{class:["v-progress-linear__background",b.value],style:[C.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),T("div",{class:["v-progress-linear__buffer",k.value],style:[I.value,{opacity:parseFloat(e.bufferOpacity),width:Gt(Q.value,"%")}]},null),T(Ao,{name:H.value},{default:()=>[e.indeterminate?T("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(Z=>T("div",{key:Z,class:["v-progress-linear__indeterminate",Z,R.value],style:L.value},null))]):T("div",{class:["v-progress-linear__determinate",R.value],style:[L.value,{width:Gt(ee.value,"%")}]},null)]}),n.default&&T("div",{class:"v-progress-linear__content"},[n.default({value:ee.value,buffer:Q.value})])]})),{}}}),mv=We({loading:[Boolean,String]},"loader");function pv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();return{loaderClasses:Y(()=>({[`${t}--loading`]:e.loading}))}}function tx(e,t){var r;let{slots:n}=t;return T("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||T(fv,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}function yV(){const e=Jr("useRoute");return Y(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function BA(){var e,t;return(t=(e=Jr("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function mm(e,t){var y,b;const n=RR("RouterLink"),r=Y(()=>!!(e.href||e.to)),s=Y(()=>(r==null?void 0:r.value)||KS(t,"click")||KS(e,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:r,isClickable:s,href:_t(e,"href")};const u=Y(()=>({...e,to:_t(()=>e.to||"")})),h=n.useLink(u.value),o=Y(()=>e.to?h:void 0),p=yV();return{isLink:r,isClickable:s,route:(y=o.value)==null?void 0:y.route,navigate:(b=o.value)==null?void 0:b.navigate,isActive:Y(()=>{var C,k,I;return o.value?e.exact?p.value?((I=o.value.isExactActive)==null?void 0:I.value)&&gl(o.value.route.value.query,p.value.query):((k=o.value.isExactActive)==null?void 0:k.value)??!1:((C=o.value.isActive)==null?void 0:C.value)??!1:!1}),href:Y(()=>{var C;return e.to?(C=o.value)==null?void 0:C.route.value.href:e.href})}}const gv=We({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let w_=!1;function _V(e,t){let n=!1,r,s;pr&&(Hn(()=>{window.addEventListener("popstate",u),r=e==null?void 0:e.beforeEach((h,o,p)=>{w_?n?t(p):p():setTimeout(()=>n?t(p):p()),w_=!0}),s=e==null?void 0:e.afterEach(()=>{w_=!1})}),da(()=>{window.removeEventListener("popstate",u),r==null||r(),s==null||s()}));function u(h){var o;(o=h.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function bV(e,t){ot(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Hn(()=>{t(!0)})},{immediate:!0})}const Eb=Symbol("rippleStop"),xV=80;function Pk(e,t){e.style.transform=t,e.style.webkitTransform=t}function Ib(e){return e.constructor.name==="TouchEvent"}function VA(e){return e.constructor.name==="KeyboardEvent"}const wV=function(e,t){var C;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!VA(e)){const k=t.getBoundingClientRect(),I=Ib(e)?e.touches[e.touches.length-1]:e;r=I.clientX-k.left,s=I.clientY-k.top}let u=0,h=.3;(C=t._ripple)!=null&&C.circle?(h=.15,u=t.clientWidth/2,u=n.center?u:u+Math.sqrt((r-u)**2+(s-u)**2)/4):u=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const o=`${(t.clientWidth-u*2)/2}px`,p=`${(t.clientHeight-u*2)/2}px`,y=n.center?o:`${r-u}px`,b=n.center?p:`${s-u}px`;return{radius:u,scale:h,x:y,y:b,centerX:o,centerY:p}},zg={show(e,t){var I;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((I=t==null?void 0:t._ripple)!=null&&I.enabled))return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:u,scale:h,x:o,y:p,centerX:y,centerY:b}=wV(e,t,n),C=`${u*2}px`;s.className="v-ripple__animation",s.style.width=C,s.style.height=C,t.appendChild(r);const k=window.getComputedStyle(t);k&&k.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),Pk(s,`translate(${o}, ${p}) scale3d(${h},${h},${h})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),Pk(s,`translate(${y}, ${b}) scale3d(1,1,1)`)},0)},hide(e){var u;if(!((u=e==null?void 0:e._ripple)!=null&&u.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===e&&e.removeChild(n.parentNode)},300)},s)}};function NA(e){return typeof e>"u"||!!e}function $f(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[Eb])){if(e[Eb]=!0,Ib(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||VA(e),n._ripple.class&&(t.class=n._ripple.class),Ib(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{zg.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},xV)}else zg.show(e,n,t)}}function Dk(e){e[Eb]=!0}function Ka(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Ka(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),zg.hide(t)}}function $A(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Uf=!1;function UA(e){!Uf&&(e.keyCode===jS.enter||e.keyCode===jS.space)&&(Uf=!0,$f(e))}function qA(e){Uf=!1,Ka(e)}function jA(e){Uf&&(Uf=!1,Ka(e))}function HA(e,t,n){const{value:r,modifiers:s}=t,u=NA(r);if(u||zg.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=u,e._ripple.centered=s.center,e._ripple.circle=s.circle,Eg(r)&&r.class&&(e._ripple.class=r.class),u&&!n){if(s.stop){e.addEventListener("touchstart",Dk,{passive:!0}),e.addEventListener("mousedown",Dk);return}e.addEventListener("touchstart",$f,{passive:!0}),e.addEventListener("touchend",Ka,{passive:!0}),e.addEventListener("touchmove",$A,{passive:!0}),e.addEventListener("touchcancel",Ka),e.addEventListener("mousedown",$f),e.addEventListener("mouseup",Ka),e.addEventListener("mouseleave",Ka),e.addEventListener("keydown",UA),e.addEventListener("keyup",qA),e.addEventListener("blur",jA),e.addEventListener("dragstart",Ka,{passive:!0})}else!u&&n&&GA(e)}function GA(e){e.removeEventListener("mousedown",$f),e.removeEventListener("touchstart",$f),e.removeEventListener("touchend",Ka),e.removeEventListener("touchmove",$A),e.removeEventListener("touchcancel",Ka),e.removeEventListener("mouseup",Ka),e.removeEventListener("mouseleave",Ka),e.removeEventListener("keydown",UA),e.removeEventListener("keyup",qA),e.removeEventListener("dragstart",Ka),e.removeEventListener("blur",jA)}function SV(e,t){HA(e,t,!1)}function kV(e){delete e._ripple,GA(e)}function CV(e,t){if(t.value===t.oldValue)return;const n=NA(t.oldValue);HA(e,t,n)}const pu={mounted:SV,unmounted:kV,updated:CV},nx=We({active:{type:Boolean,default:void 0},baseColor:String,symbol:{type:null,default:FA},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ln,appendIcon:Ln,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...eo(),...hn(),...$a(),...to(),...ns(),...dm(),...mv(),...fu(),...lm(),...Pi(),...gv(),...$d(),...Xn({tag:"button"}),...vr(),...ro({variant:"elevated"})},"VBtn"),Kt=ht()({name:"VBtn",props:nx(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{borderClasses:u}=Lo(e),{densityClasses:h}=rs(e),{dimensionStyles:o}=no(e),{elevationClasses:p}=As(e),{loaderClasses:y}=pv(e),{locationStyles:b}=Vd(e),{positionClasses:C}=cm(e),{roundedClasses:k}=Bi(e),{sizeClasses:I,sizeStyles:R}=fm(e),L=hm(e,e.symbol,!1),F=mm(e,n),B=Y(()=>{var Z;return e.active!==void 0?e.active:F.isLink.value?(Z=F.isActive)==null?void 0:Z.value:L==null?void 0:L.isSelected.value}),q=Y(()=>{var le,ne;return{color:(L==null?void 0:L.isSelected.value)&&(!F.isLink.value||((le=F.isActive)==null?void 0:le.value))||!L||((ne=F.isActive)==null?void 0:ne.value)?e.color??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:K,colorStyles:se,variantClasses:Q}=mu(q),ee=Y(()=>(L==null?void 0:L.disabled.value)||e.disabled),re=Y(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),H=Y(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function j(Z){var le;ee.value||F.isLink.value&&(Z.metaKey||Z.ctrlKey||Z.shiftKey||Z.button!==0||n.target==="_blank")||((le=F.navigate)==null||le.call(F,Z),L==null||L.toggle())}return bV(F,L==null?void 0:L.select),St(()=>{const Z=F.isLink.value?"a":e.tag,le=!!(e.prependIcon||r.prepend),ne=!!(e.appendIcon||r.append),ve=!!(e.icon&&e.icon!==!0);return oi(T(Z,{type:Z==="a"?void 0:"button",class:["v-btn",L==null?void 0:L.selectedClass.value,{"v-btn--active":B.value,"v-btn--block":e.block,"v-btn--disabled":ee.value,"v-btn--elevated":re.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},s.value,u.value,K.value,h.value,p.value,y.value,C.value,k.value,I.value,Q.value,e.class],style:[se.value,o.value,b.value,R.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:ee.value||void 0,href:F.href.value,tabindex:e.loading||e.readonly?-1:void 0,onClick:j,value:H.value},{default:()=>{var fe;return[xl(!0,"v-btn"),!e.icon&&le&&T("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?T(Un,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):T(nr,{key:"prepend-icon",icon:e.prependIcon},null)]),T("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&ve?T(nr,{key:"content-icon",icon:e.icon},null):T(Un,{key:"content-defaults",disabled:!ve,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var Ie;return[((Ie=r.default)==null?void 0:Ie.call(r))??e.text]}})]),!e.icon&&ne&&T("span",{key:"append",class:"v-btn__append"},[r.append?T(Un,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):T(nr,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&T("span",{key:"loader",class:"v-btn__loader"},[((fe=r.loader)==null?void 0:fe.call(r))??T(Fg,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[pu,!ee.value&&!!e.ripple,"",{center:!!e.icon}]])}),{group:L}}}),WA=We({hideDayHeader:Boolean,intervals:{type:Number,default:24},...LA()},"VCalendarDay"),dg=ht()({name:"VCalendarDay",props:WA(),setup(e){const t=Mo(),n=Y(()=>[...Array.from({length:e.intervals},(r,s)=>s).filter((r,s)=>e.intervalDuration*(s+e.intervalStart)<1440)]);return St(()=>{const r=Ab.filterProps(e);return T("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&T("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[t.format(e.day.date,"weekdayShort"),T("div",null,[T(Kt,{icon:!0,text:t.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((s,u)=>T(Ab,it({index:u},r),null))])}),{intervals:n}}}),YA=We({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),Pb=ht()({name:"VCalendarHeader",props:YA(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,t){let{emit:n}=t;const{t:r}=li();function s(){n("click:prev")}function u(){n("click:next")}function h(){n("click:toToday")}return St(()=>T("div",{class:"v-calendar-header"},[e.text&&T(Kt,{key:"today",class:"v-calendar-header__today",text:r(e.text),variant:"outlined",onClick:h},null),T(Kt,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:s},null),T(Kt,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:u},null),T("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),gu=We({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),_s=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:s,group:u,...h}=e,{component:o=u?V0:Ao,...p}=typeof r=="object"?r:{};return Xr(o,it(typeof r=="string"?{name:s?"":r}:p,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:u}).filter(y=>{let[b,C]=y;return C!==void 0})),h),n)},TV=We({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Ln,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...hn(),...fu({location:"top end"}),...Pi(),...Xn(),...vr(),...gu({transition:"scale-rotate-transition"})},"VBadge"),AV=ht()({name:"VBadge",inheritAttrs:!1,props:TV(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:r}=yi(_t(e,"color")),{roundedClasses:s}=Bi(e),{t:u}=li(),{textColorClasses:h,textColorStyles:o}=Na(_t(e,"textColor")),{themeClasses:p}=cB(),{locationStyles:y}=Vd(e,!0,b=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(b)?+(e.offsetY??0):["left","right"].includes(b)?+(e.offsetX??0):0));return St(()=>{const b=Number(e.content),C=!e.max||isNaN(b)?e.content:b<=+e.max?b:`${e.max}+`,[k,I]=gb(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return T(e.tag,it({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},I,{style:e.style}),{default:()=>{var R,L;return[T("div",{class:"v-badge__wrapper"},[(L=(R=t.slots).default)==null?void 0:L.call(R),T(_s,{transition:e.transition},{default:()=>{var F,B;return[oi(T("span",it({class:["v-badge__badge",p.value,n.value,s.value,h.value],style:[r.value,o.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":u(e.label,b),"aria-live":"polite",role:"status"},k),[e.dot?void 0:t.slots.badge?(B=(F=t.slots).badge)==null?void 0:B.call(F):e.icon?T(nr,{icon:e.icon},null):C]),[[pl,e.modelValue]])]}})])]}})}),{}}}),EV=We({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function is(e,t,n){return ht()({name:e,props:EV({mode:n,origin:t}),setup(r,s){let{slots:u}=s;const h={onBeforeEnter(o){r.origin&&(o.style.transformOrigin=r.origin)},onLeave(o){if(r.leaveAbsolute){const{offsetTop:p,offsetLeft:y,offsetWidth:b,offsetHeight:C}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${p}px`,o.style.left=`${y}px`,o.style.width=`${b}px`,o.style.height=`${C}px`}r.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(r.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:p,top:y,left:b,width:C,height:k}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=p||"",o.style.top=y||"",o.style.left=b||"",o.style.width=C||"",o.style.height=k||""}}};return()=>{const o=r.group?V0:Ao;return Xr(o,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:h},u.default)}}})}function ZA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ht()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,s){let{slots:u}=s;const h=r.group?V0:Ao;return()=>Xr(h,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},u.default)}})}function KA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=ws(`offset-${n}`);return{onBeforeEnter(h){h._parent=h.parentNode,h._initialStyle={transition:h.style.transition,overflow:h.style.overflow,[n]:h.style[n]}},onEnter(h){const o=h._initialStyle;h.style.setProperty("transition","none","important"),h.style.overflow="hidden";const p=`${h[r]}px`;h.style[n]="0",h.offsetHeight,h.style.transition=o.transition,e&&h._parent&&h._parent.classList.add(e),requestAnimationFrame(()=>{h.style[n]=p})},onAfterEnter:u,onEnterCancelled:u,onLeave(h){h._initialStyle={transition:"",overflow:h.style.overflow,[n]:h.style[n]},h.style.overflow="hidden",h.style[n]=`${h[r]}px`,h.offsetHeight,requestAnimationFrame(()=>h.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(h){e&&h._parent&&h._parent.classList.remove(e),u(h)}function u(h){const o=h._initialStyle[n];h.style.overflow=h._initialStyle.overflow,o!=null&&(h.style[n]=o),delete h._initialStyle}}const IV=We({target:[Object,Array]},"v-dialog-transition"),rx=ht()({name:"VDialogTransition",props:IV(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,u){var k;await new Promise(I=>requestAnimationFrame(I)),await new Promise(I=>requestAnimationFrame(I)),s.style.visibility="";const{x:h,y:o,sx:p,sy:y,speed:b}=Lk(e.target,s),C=Yc(s,[{transform:`translate(${h}px, ${o}px) scale(${p}, ${y})`,opacity:0},{}],{duration:225*b,easing:nz});(k=Mk(s))==null||k.forEach(I=>{Yc(I,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*b,easing:Ff})}),C.finished.then(()=>u())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,u){var k;await new Promise(I=>requestAnimationFrame(I));const{x:h,y:o,sx:p,sy:y,speed:b}=Lk(e.target,s);Yc(s,[{},{transform:`translate(${h}px, ${o}px) scale(${p}, ${y})`,opacity:0}],{duration:125*b,easing:rz}).finished.then(()=>u()),(k=Mk(s))==null||k.forEach(I=>{Yc(I,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*b,easing:Ff})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?T(Ao,it({name:"dialog-transition"},r,{css:!1}),n):T(Ao,{name:"dialog-transition"},n)}});function Mk(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function Lk(e,t){const n=tA(e),r=H0(t),[s,u]=getComputedStyle(t).transformOrigin.split(" ").map(B=>parseFloat(B)),[h,o]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let p=n.left+n.width/2;h==="left"||o==="left"?p-=n.width/2:(h==="right"||o==="right")&&(p+=n.width/2);let y=n.top+n.height/2;h==="top"||o==="top"?y-=n.height/2:(h==="bottom"||o==="bottom")&&(y+=n.height/2);const b=n.width/r.width,C=n.height/r.height,k=Math.max(1,b,C),I=b/k||0,R=C/k||0,L=r.width*r.height/(window.innerWidth*window.innerHeight),F=L>.12?Math.min(1.5,(L-.12)*10+1):1;return{x:p-(s+r.left),y:y-(u+r.top),sx:I,sy:R,speed:F}}is("fab-transition","center center","out-in");is("dialog-bottom-transition");is("dialog-top-transition");const Db=is("fade-transition");is("scale-transition");is("scroll-x-transition");is("scroll-x-reverse-transition");is("scroll-y-transition");is("scroll-y-reverse-transition");is("slide-x-transition");is("slide-x-reverse-transition");const XA=is("slide-y-transition");is("slide-y-reverse-transition");const ix=ZA("expand-transition",KA()),JA=ZA("expand-x-transition",KA("",!0));function PV(e){return{aspectStyles:Y(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const QA=We({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...hn(),...to()},"VResponsive"),Rk=ht()({name:"VResponsive",props:QA(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=PV(e),{dimensionStyles:s}=no(e);return St(()=>{var u;return T("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[T("div",{class:"v-responsive__sizer",style:r.value},null),(u=n.additional)==null?void 0:u.call(n),n.default&&T("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function DV(e,t){if(!N0)return;const n=t.modifiers||{},r=t.value,{handler:s,options:u}=typeof r=="object"?r:{handler:r,options:{}},h=new IntersectionObserver(function(){var C;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0;const y=(C=e._observe)==null?void 0:C[t.instance.$.uid];if(!y)return;const b=o.some(k=>k.isIntersecting);s&&(!n.quiet||y.init)&&(!n.once||b||y.init)&&s(b,o,p),b&&n.once?eE(e,t):y.init=!0},u);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:h},h.observe(e)}function eE(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const ax={mounted:DV,unmounted:eE},MV=We({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...QA(),...hn(),...Pi(),...gu()},"VImg"),pm=ht()({name:"VImg",directives:{intersect:ax},props:MV(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(_t(e,"color")),{roundedClasses:h}=Bi(e),o=Jr("VImg"),p=Rt(""),y=dt(),b=Rt(e.eager?"loading":"idle"),C=Rt(),k=Rt(),I=Y(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),R=Y(()=>I.value.aspect||C.value/k.value||0);ot(()=>e.src,()=>{L(b.value!=="idle")}),ot(R,(ne,ve)=>{!ne&&ve&&y.value&&se(y.value)}),M0(()=>L());function L(ne){if(!(e.eager&&ne)&&!(N0&&!ne&&!e.eager)){if(b.value="loading",I.value.lazySrc){const ve=new Image;ve.src=I.value.lazySrc,se(ve,null)}I.value.src&&Hn(()=>{var ve;n("loadstart",((ve=y.value)==null?void 0:ve.currentSrc)||I.value.src),setTimeout(()=>{var fe;if(!o.isUnmounted)if((fe=y.value)!=null&&fe.complete){if(y.value.naturalWidth||B(),b.value==="error")return;R.value||se(y.value,null),b.value==="loading"&&F()}else R.value||se(y.value),q()})})}}function F(){var ne;o.isUnmounted||(q(),se(y.value),b.value="loaded",n("load",((ne=y.value)==null?void 0:ne.currentSrc)||I.value.src))}function B(){var ne;o.isUnmounted||(b.value="error",n("error",((ne=y.value)==null?void 0:ne.currentSrc)||I.value.src))}function q(){const ne=y.value;ne&&(p.value=ne.currentSrc||ne.src)}let K=-1;wr(()=>{clearTimeout(K)});function se(ne){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const fe=()=>{if(clearTimeout(K),o.isUnmounted)return;const{naturalHeight:Ie,naturalWidth:Ae}=ne;Ie||Ae?(C.value=Ae,k.value=Ie):!ne.complete&&b.value==="loading"&&ve!=null?K=window.setTimeout(fe,ve):(ne.currentSrc.endsWith(".svg")||ne.currentSrc.startsWith("data:image/svg+xml"))&&(C.value=1,k.value=1)};fe()}const Q=Y(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),ee=()=>{var fe;if(!I.value.src||b.value==="idle")return null;const ne=T("img",{class:["v-img__img",Q.value],style:{objectPosition:e.position},src:I.value.src,srcset:I.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:y,onLoad:F,onError:B},null),ve=(fe=r.sources)==null?void 0:fe.call(r);return T(_s,{transition:e.transition,appear:!0},{default:()=>[oi(ve?T("picture",{class:"v-img__picture"},[ve,ne]):ne,[[pl,b.value==="loaded"]])]})},re=()=>T(_s,{transition:e.transition},{default:()=>[I.value.lazySrc&&b.value!=="loaded"&&T("img",{class:["v-img__img","v-img__img--preload",Q.value],style:{objectPosition:e.position},src:I.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),H=()=>r.placeholder?T(_s,{transition:e.transition,appear:!0},{default:()=>[(b.value==="loading"||b.value==="error"&&!r.error)&&T("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,j=()=>r.error?T(_s,{transition:e.transition,appear:!0},{default:()=>[b.value==="error"&&T("div",{class:"v-img__error"},[r.error()])]}):null,Z=()=>e.gradient?T("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,le=Rt(!1);{const ne=ot(R,ve=>{ve&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{le.value=!0})}),ne())})}return St(()=>{const ne=Rk.filterProps(e);return oi(T(Rk,it({class:["v-img",{"v-img--booting":!le.value},s.value,h.value,e.class],style:[{width:Gt(e.width==="auto"?C.value:e.width)},u.value,e.style]},ne,{aspectRatio:R.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>T(Ht,null,[T(ee,null,null),T(re,null,null),T(Z,null,null),T(H,null,null),T(j,null,null)]),default:r.default}),[[ks("intersect"),{handler:L,options:e.options},null,{once:!0}]])}),{currentSrc:p,image:y,state:b,naturalWidth:C,naturalHeight:k}}}),LV=We({start:Boolean,end:Boolean,icon:Ln,image:String,text:String,...hn(),...$a(),...Pi(),...$d(),...Xn(),...vr(),...ro({variant:"flat"})},"VAvatar"),Eo=ht()({name:"VAvatar",props:LV(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{colorClasses:s,colorStyles:u,variantClasses:h}=mu(e),{densityClasses:o}=rs(e),{roundedClasses:p}=Bi(e),{sizeClasses:y,sizeStyles:b}=fm(e);return St(()=>T(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,s.value,o.value,p.value,y.value,h.value,e.class],style:[u.value,b.value,e.style]},{default:()=>[n.default?T(Un,{key:"content-defaults",defaults:{VImg:{cover:!0,image:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?T(pm,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?T(nr,{key:"icon",icon:e.icon},null):e.text,xl(!1,"v-avatar")]})),{}}});function RV(e){let{selectedElement:t,containerElement:n,isRtl:r,isHorizontal:s}=e;const u=qf(s,n),h=tE(s,r,n),o=qf(s,t),p=nE(s,t),y=o*.4;return h>p?p-y:h+u<p+o?p-u+o+y:h}function OV(e){let{selectedElement:t,containerElement:n,isHorizontal:r}=e;const s=qf(r,n),u=nE(r,t),h=qf(r,t);return u-s/2+h/2}function Ok(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function FV(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function tE(e,t,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:s,scrollWidth:u}=n;return e?t?u-s+r:r:n.scrollTop}function qf(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function nE(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const zV=Symbol.for("vuetify:v-slide-group"),sx=We({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:zV},nextIcon:{type:Ln,default:"$next"},prevIcon:{type:Ln,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...hn(),...Bd({mobile:null}),...Xn(),...um({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Bg=ht()({name:"VSlideGroup",props:sx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=es(),{displayClasses:s,mobile:u}=vl(e),h=Nd(e,e.symbol),o=Rt(!1),p=Rt(0),y=Rt(0),b=Rt(0),C=Y(()=>e.direction==="horizontal"),{resizeRef:k,contentRect:I}=lc(),{resizeRef:R,contentRect:L}=lc(),F=nB(),B=Y(()=>({container:k.el,duration:200,easing:"easeOutQuart"})),q=Y(()=>h.selected.value.length?h.items.value.findIndex(Ve=>Ve.id===h.selected.value[0]):-1),K=Y(()=>h.selected.value.length?h.items.value.findIndex(Ve=>Ve.id===h.selected.value[h.selected.value.length-1]):-1);if(pr){let Ve=-1;ot(()=>[h.selected.value,I.value,L.value,C.value],()=>{cancelAnimationFrame(Ve),Ve=requestAnimationFrame(()=>{if(I.value&&L.value){const Je=C.value?"width":"height";y.value=I.value[Je],b.value=L.value[Je],o.value=y.value+1<b.value}if(q.value>=0&&R.el){const Je=R.el.children[K.value];Q(Je,e.centerActive)}})})}const se=Rt(!1);function Q(Ve,Je){let Ue=0;Je?Ue=OV({containerElement:k.el,isHorizontal:C.value,selectedElement:Ve}):Ue=RV({containerElement:k.el,isHorizontal:C.value,isRtl:r.value,selectedElement:Ve}),ee(Ue)}function ee(Ve){if(!pr||!k.el)return;const Je=qf(C.value,k.el),Ue=tE(C.value,r.value,k.el);if(!(Ok(C.value,k.el)<=Je||Math.abs(Ve-Ue)<16)){if(C.value&&r.value&&k.el){const{scrollWidth:Lt,offsetWidth:mt}=k.el;Ve=Lt-mt-Ve}C.value?F.horizontal(Ve,B.value):F(Ve,B.value)}}function re(Ve){const{scrollTop:Je,scrollLeft:Ue}=Ve.target;p.value=C.value?Ue:Je}function H(Ve){if(se.value=!0,!(!o.value||!R.el)){for(const Je of Ve.composedPath())for(const Ue of R.el.children)if(Ue===Je){Q(Ue);return}}}function j(Ve){se.value=!1}let Z=!1;function le(Ve){var Je;!Z&&!se.value&&!(Ve.relatedTarget&&((Je=R.el)!=null&&Je.contains(Ve.relatedTarget)))&&fe(),Z=!1}function ne(){Z=!0}function ve(Ve){if(!R.el)return;function Je(Ue){Ve.preventDefault(),fe(Ue)}C.value?Ve.key==="ArrowRight"?Je(r.value?"prev":"next"):Ve.key==="ArrowLeft"&&Je(r.value?"next":"prev"):Ve.key==="ArrowDown"?Je("next"):Ve.key==="ArrowUp"&&Je("prev"),Ve.key==="Home"?Je("first"):Ve.key==="End"&&Je("last")}function fe(Ve){var Ue,ct;if(!R.el)return;let Je;if(!Ve)Je=Rf(R.el)[0];else if(Ve==="next"){if(Je=(Ue=R.el.querySelector(":focus"))==null?void 0:Ue.nextElementSibling,!Je)return fe("first")}else if(Ve==="prev"){if(Je=(ct=R.el.querySelector(":focus"))==null?void 0:ct.previousElementSibling,!Je)return fe("last")}else Ve==="first"?Je=R.el.firstElementChild:Ve==="last"&&(Je=R.el.lastElementChild);Je&&Je.focus({preventScroll:!0})}function Ie(Ve){const Je=C.value&&r.value?-1:1,Ue=(Ve==="prev"?-Je:Je)*y.value;let ct=p.value+Ue;if(C.value&&r.value&&k.el){const{scrollWidth:Lt,offsetWidth:mt}=k.el;ct+=Lt-mt}ee(ct)}const Ae=Y(()=>({next:h.next,prev:h.prev,select:h.select,isSelected:h.isSelected})),qe=Y(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return o.value||Math.abs(p.value)>0;case"mobile":return u.value||o.value||Math.abs(p.value)>0;default:return!u.value&&(o.value||Math.abs(p.value)>0)}}),ke=Y(()=>Math.abs(p.value)>1),Le=Y(()=>{if(!k.value)return!1;const Ve=Ok(C.value,k.el),Je=FV(C.value,k.el);return Ve-Je-Math.abs(p.value)>1});return St(()=>T(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!C.value,"v-slide-group--has-affixes":qe.value,"v-slide-group--is-overflowing":o.value},s.value,e.class],style:e.style,tabindex:se.value||h.selected.value.length?-1:0,onFocus:le},{default:()=>{var Ve,Je,Ue;return[qe.value&&T("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ke.value}],onMousedown:ne,onClick:()=>ke.value&&Ie("prev")},[((Ve=n.prev)==null?void 0:Ve.call(n,Ae.value))??T(Db,null,{default:()=>[T(nr,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),T("div",{key:"container",ref:k,class:"v-slide-group__container",onScroll:re},[T("div",{ref:R,class:"v-slide-group__content",onFocusin:H,onFocusout:j,onKeydown:ve},[(Je=n.default)==null?void 0:Je.call(n,Ae.value)])]),qe.value&&T("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Le.value}],onMousedown:ne,onClick:()=>Le.value&&Ie("next")},[((Ue=n.next)==null?void 0:Ue.call(n,Ae.value))??T(Db,null,{default:()=>[T(nr,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:h.selected,scrollTo:Ie,scrollOffset:p,focus:fe}}}),rE=Symbol.for("vuetify:v-chip-group"),BV=We({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:gl},...sx(),...hn(),...um({selectedClass:"v-chip--selected"}),...Xn(),...vr(),...ro({variant:"tonal"})},"VChipGroup");ht()({name:"VChipGroup",props:BV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{isSelected:s,select:u,next:h,prev:o,selected:p}=Nd(e,rE);return ua({VChip:{color:_t(e,"color"),disabled:_t(e,"disabled"),filter:_t(e,"filter"),variant:_t(e,"variant")}}),St(()=>{const y=Bg.filterProps(e);return T(Bg,it(y,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var b;return[(b=n.default)==null?void 0:b.call(n,{isSelected:s,select:u,next:h,prev:o,selected:p.value})]}})}),{}}});const VV=We({activeClass:String,appendAvatar:String,appendIcon:Ln,closable:Boolean,closeIcon:{type:Ln,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ln,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Wi(),onClickOnce:Wi(),...eo(),...hn(),...$a(),...ns(),...dm(),...Pi(),...gv(),...$d(),...Xn({tag:"span"}),...vr(),...ro({variant:"tonal"})},"VChip"),hl=ht()({name:"VChip",directives:{Ripple:pu},props:VV(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=li(),{borderClasses:h}=Lo(e),{colorClasses:o,colorStyles:p,variantClasses:y}=mu(e),{densityClasses:b}=rs(e),{elevationClasses:C}=As(e),{roundedClasses:k}=Bi(e),{sizeClasses:I}=fm(e),{themeClasses:R}=Rr(e),L=dn(e,"modelValue"),F=hm(e,rE,!1),B=mm(e,n),q=Y(()=>e.link!==!1&&B.isLink.value),K=Y(()=>!e.disabled&&e.link!==!1&&(!!F||e.link||B.isClickable.value)),se=Y(()=>({"aria-label":u(e.closeLabel),onClick(re){re.preventDefault(),re.stopPropagation(),L.value=!1,r("click:close",re)}}));function Q(re){var H;r("click",re),K.value&&((H=B.navigate)==null||H.call(B,re),F==null||F.toggle())}function ee(re){(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),Q(re))}return()=>{const re=B.isLink.value?"a":e.tag,H=!!(e.appendIcon||e.appendAvatar),j=!!(H||s.append),Z=!!(s.close||e.closable),le=!!(s.filter||e.filter)&&F,ne=!!(e.prependIcon||e.prependAvatar),ve=!!(ne||s.prepend),fe=!F||F.isSelected.value;return L.value&&oi(T(re,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":K.value,"v-chip--filter":le,"v-chip--pill":e.pill},R.value,h.value,fe?o.value:void 0,b.value,C.value,k.value,I.value,y.value,F==null?void 0:F.selectedClass.value,e.class],style:[fe?p.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:B.href.value,tabindex:K.value?0:void 0,onClick:Q,onKeydown:K.value&&!q.value&&ee},{default:()=>{var Ie;return[xl(K.value,"v-chip"),le&&T(JA,{key:"filter"},{default:()=>[oi(T("div",{class:"v-chip__filter"},[s.filter?T(Un,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},s.filter):T(nr,{key:"filter-icon",icon:e.filterIcon},null)]),[[pl,F.isSelected.value]])]}),ve&&T("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?T(Un,{key:"prepend-defaults",disabled:!ne,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):T(Ht,null,[e.prependIcon&&T(nr,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&T(Eo,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),T("div",{class:"v-chip__content","data-no-activator":""},[((Ie=s.default)==null?void 0:Ie.call(s,{isSelected:F==null?void 0:F.isSelected.value,selectedClass:F==null?void 0:F.selectedClass.value,select:F==null?void 0:F.select,toggle:F==null?void 0:F.toggle,value:F==null?void 0:F.value.value,disabled:e.disabled}))??e.text]),j&&T("div",{key:"append",class:"v-chip__append"},[s.append?T(Un,{key:"append-defaults",disabled:!H,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):T(Ht,null,[e.appendIcon&&T(nr,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&T(Eo,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),Z&&T("button",it({key:"close",class:"v-chip__close",type:"button"},se.value),[s.close?T(Un,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):T(nr,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ks("ripple"),K.value&&e.ripple,null]])}}}),NV=We({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),Fk=ht()({name:"VCalendarEvent",props:NV(),setup(e){return St(()=>T(hl,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var t,n;return[T(AV,{inline:!0,dot:!0,color:(t=e.event)==null?void 0:t.color},null),(n=e.event)==null?void 0:n.title]}})),{}}}),$V=We({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),iE=ht()({name:"VCalendarMonthDay",props:$V(),setup(e,t){let{emit:n,slots:r}=t;return St(()=>{var u,h,o,p,y,b,C,k,I,R,L;const s=!!(e.title||(u=r.title)!=null&&u.call(r,{title:e.title}));return T("div",{class:["v-calendar-month__day"]},[!((h=e.day)!=null&&h.isHidden)&&s&&T("div",{key:"title",class:"v-calendar-weekly__day-label"},[((o=r.title)==null?void 0:o.call(r,{title:e.title}))??T(Kt,{class:(p=e.day)!=null&&p.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(y=e.day)!=null&&y.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((b=e.day)!=null&&b.isHidden)&&T("div",{key:"content",class:"v-calendar-weekly__day-content"},[((C=r.content)==null?void 0:C.call(r))??T("div",null,[T("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(k=e.events)==null?void 0:k.filter(F=>F.allDay).map(F=>r.event?r.event({day:e.day,allDay:!0,event:F}):T(Fk,{day:e.day,event:F,allDay:!0},null))]),T("div",{class:"v-calendar-weekly__day-events-container"},[(I=e.events)==null?void 0:I.filter(F=>!F.allDay).map(F=>r.event?r.event({day:e.day,event:F,allDay:!1}):T(Fk,{day:e.day,event:F},null))])])]),!((R=e.day)!=null&&R.isHidden)&&((L=r.default)==null?void 0:L.call(r))])}),{}}}),aE=We({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"}},"calendar");function sE(e){const t=Mo(),n=dn(e,"modelValue",[],k=>Wr(k)),r=Y(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),s=dn(e,"year",void 0,k=>{const I=k!=null?Number(k):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),I))},k=>t.getYear(k)),u=dn(e,"month",void 0,k=>{const I=k!=null?Number(k):t.getMonth(r.value),R=t.setYear(t.startOfMonth(t.date()),t.getYear(s.value));return t.setMonth(R,I)},k=>t.getMonth(k)),h=Y(()=>{const k=t.getWeekArray(u.value),I=k.flat(),R=6*7;if(e.weeksInMonth==="static"&&I.length<R){const L=I[I.length-1];let F=[];for(let B=1;B<=R-I.length;B++)F.push(t.addDays(L,B)),B%7===0&&(k.push(F),F=[])}return k});function o(k,I){return k.filter(R=>e.weekdays.includes(t.toJsDate(R).getDay())).map((R,L)=>{const F=t.toISO(R),B=!t.isSameMonth(R,u.value),q=t.isSameDay(R,t.startOfMonth(u.value)),K=t.isSameDay(R,t.endOfMonth(u.value)),se=t.isSameDay(R,u.value);return{date:R,isoDate:F,formatted:t.format(R,"keyboardDate"),year:t.getYear(R),month:t.getMonth(R),isDisabled:C(R),isWeekStart:L%7===0,isWeekEnd:L%7===6,isToday:t.isSameDay(R,I),isAdjacent:B,isHidden:B&&!e.showAdjacentMonths,isStart:q,isSelected:n.value.some(Q=>t.isSameDay(R,Q)),isEnd:K,isSame:se,localized:t.format(R,"dayOfMonth")}})}const p=Y(()=>{const k=t.startOfWeek(r.value),I=[];for(let L=0;L<=6;L++)I.push(t.addDays(k,L));const R=t.date();return o(I,R)}),y=Y(()=>{const k=h.value.flat(),I=t.date();return o(k,I)}),b=Y(()=>h.value.map(k=>k.length?Xz(t,k[0]):null));function C(k){if(e.disabled)return!0;const I=t.date(k);return e.min&&t.isAfter(t.date(e.min),I)||e.max&&t.isAfter(I,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(R=>t.isSameDay(t.date(R),I)):typeof e.allowedDates=="function"?!e.allowedDates(I):!1}return{displayValue:r,daysInMonth:y,daysInWeek:p,genDays:o,model:n,weeksInMonth:h,weekNumbers:b}}const UV=We({hideHeader:Boolean,hideWeekNumber:Boolean,...aE(),...WA(),...YA()},"VCalender"),qV=ht()({name:"VCalendar",props:UV(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),{daysInMonth:u,daysInWeek:h,genDays:o,model:p,displayValue:y,weekNumbers:b}=sE(e),C=s.getWeekdays();function k(){e.viewMode==="month"&&(p.value=[s.addMonths(y.value,1)]),e.viewMode==="week"&&(p.value=[s.addDays(y.value,7)]),e.viewMode==="day"&&(p.value=[s.addDays(y.value,1)])}function I(){e.viewMode==="month"&&(p.value=[s.addMonths(y.value,-1)]),e.viewMode==="week"&&(p.value=[s.addDays(y.value,-7)]),e.viewMode==="day"&&(p.value=[s.addDays(y.value,-1)])}function R(){p.value=[s.date()]}const L=Y(()=>s.format(y.value,"monthAndYear"));return St(()=>{var q;const F=dg.filterProps(e),B=Pb.filterProps(e);return T("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[T("div",null,[!e.hideHeader&&(r.header?r.header({title:L.value}):T(Pb,it({key:"calendar-header"},B,{title:L.value,"onClick:next":k,"onClick:prev":I,"onClick:toToday":R}),null))]),T("div",{class:["v-calendar__container",`days__${e.weekdays.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&T("div",{class:["v-calendar-weekly__head",`days__${e.weekdays.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":T("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),e.weekdays.map(K=>T("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[C[K]]))]),e.viewMode==="month"&&T("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${e.weekdays.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[xF(u.value,e.weekdays.length).map((K,se)=>[e.hideWeekNumber?"":T("div",{class:"v-calendar-month__weeknumber"},[b.value[se]]),K.map(Q=>{var ee;return T(iE,{color:s.isSameDay(s.date(),Q.date)?"primary":void 0,day:Q,title:Q?s.format(Q.date,"dayOfMonth"):"NaN",events:(ee=e.events)==null?void 0:ee.filter(re=>s.isSameDay(Q.date,re.start)||s.isSameDay(Q.date,re.end))},{event:r.event})})])]),e.viewMode==="week"&&h.value.map((K,se)=>{var Q;return T(dg,it(F,{day:K,dayIndex:se,events:(Q=e.events)==null?void 0:Q.filter(ee=>s.isSameDay(ee.start,K.date)||s.isSameDay(ee.end,K.date))}),null)}),e.viewMode==="day"&&T(dg,it(F,{day:o([y.value],s.date())[0],dayIndex:0,events:(q=e.events)==null?void 0:q.filter(K=>s.isSameDay(K.start,o([y.value],s.date())[0].date)||s.isSameDay(K.end,o([y.value],s.date())[0].date))}),null)])])}),{daysInMonth:u,daysInWeek:h,genDays:o}}}),oE=We({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),zk=ht()({name:"VConfirmEdit",props:oE(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=dn(e,"modelValue"),u=dt();si(()=>{u.value=structuredClone(bn(s.value))});const{t:h}=li(),o=Y(()=>gl(s.value,u.value));function p(){s.value=u.value,n("save",u.value)}function y(){u.value=structuredClone(bn(s.value)),n("cancel")}let b=!1;return St(()=>{var k;const C=T(Ht,null,[T(Kt,{disabled:o.value,variant:"text",color:e.color,onClick:y,text:h(e.cancelText)},null),T(Kt,{disabled:o.value,variant:"text",color:e.color,onClick:p,text:h(e.okText)},null)]);return T(Ht,null,[(k=r.default)==null?void 0:k.call(r,{model:u,save:p,cancel:y,isPristine:o.value,get actions(){return b=!0,C}}),!b&&C])}),{save:p,cancel:y,isPristine:o}}}),jV=We({fluid:{type:Boolean,default:!1},...hn(),...Xn()},"VContainer"),Dr=ht()({name:"VContainer",props:jV(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=es();return St(()=>T(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:e.style},n)),{}}}),lE=dv.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),cE=dv.reduce((e,t)=>{const n="offset"+Po(t);return e[n]={type:[String,Number],default:null},e},{}),uE=dv.reduce((e,t)=>{const n="order"+Po(t);return e[n]={type:[String,Number],default:null},e},{}),Bk={col:Object.keys(lE),offset:Object.keys(cE),order:Object.keys(uE)};function HV(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");r+=`-${s}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const GV=["auto","start","end","center","baseline","stretch"],WV=We({cols:{type:[Boolean,String,Number],default:!1},...lE,offset:{type:[String,Number],default:null},...cE,order:{type:[String,Number],default:null},...uE,alignSelf:{type:String,default:null,validator:e=>GV.includes(e)},...hn(),...Xn()},"VCol"),aa=ht()({name:"VCol",props:WV(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in Bk)Bk[u].forEach(o=>{const p=e[o],y=HV(u,o,p);y&&s.push(y)});const h=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!h||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return Xr(e.tag,{class:[r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),ox=["start","end","center"],dE=["space-between","space-around","space-evenly"];function lx(e,t){return dv.reduce((n,r)=>{const s=e+Po(r);return n[s]=t(),n},{})}const YV=[...ox,"baseline","stretch"],hE=e=>YV.includes(e),fE=lx("align",()=>({type:String,default:null,validator:hE})),ZV=[...ox,...dE],mE=e=>ZV.includes(e),pE=lx("justify",()=>({type:String,default:null,validator:mE})),KV=[...ox,...dE,"stretch"],gE=e=>KV.includes(e),vE=lx("alignContent",()=>({type:String,default:null,validator:gE})),Vk={align:Object.keys(fE),justify:Object.keys(pE),alignContent:Object.keys(vE)},XV={align:"align",justify:"justify",alignContent:"align-content"};function JV(e,t,n){let r=XV[e];if(n!=null){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${n}`,r.toLowerCase()}}const QV=We({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:hE},...fE,justify:{type:String,default:null,validator:mE},...pE,alignContent:{type:String,default:null,validator:gE},...vE,...hn(),...Xn()},"VRow"),Us=ht()({name:"VRow",props:QV(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in Vk)Vk[u].forEach(h=>{const o=e[h],p=JV(u,h,o);p&&s.push(p)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return Xr(e.tag,{class:["v-row",r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),js=zd("v-spacer","div","VSpacer"),yE=We({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:[String],default:"$next"},prevIcon:{type:[String],default:"$prev"},modeIcon:{type:[String],default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Nk=ht()({name:"VDatePickerControls",props:yE(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const r=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),s=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),u=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),h=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function o(){n("click:prev")}function p(){n("click:next")}function y(){n("click:year")}function b(){n("click:month")}return St(()=>T("div",{class:["v-date-picker-controls"]},[T(Kt,{class:"v-date-picker-controls__month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:b},null),T(Kt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:y},null),T(js,{key:"mode-spacer"},null),T("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[T(Kt,{disabled:u.value,icon:e.prevIcon,variant:"text",onClick:o},null),T(Kt,{disabled:h.value,icon:e.nextIcon,variant:"text",onClick:p},null)])])),{}}}),e3=We({appendIcon:String,color:String,header:String,transition:String,onClick:Wi()},"VDatePickerHeader"),$k=ht()({name:"VDatePickerHeader",props:e3(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"color");function h(){n("click")}function o(){n("click:append")}return St(()=>{const p=!!(r.default||e.header),y=!!(r.append||e.appendIcon);return T("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},s.value],style:u.value,onClick:h},[r.prepend&&T("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),p&&T(_s,{key:"content",name:e.transition},{default:()=>{var b;return[T("div",{key:e.header,class:"v-date-picker-header__content"},[((b=r.default)==null?void 0:b.call(r))??e.header])]}}),y&&T("div",{class:"v-date-picker-header__append"},[r.append?T(Un,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var b;return[(b=r.append)==null?void 0:b.call(r)]}}):T(Kt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),_E=We({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...aE()},"VDatePickerMonth"),Uk=ht()({name:"VDatePickerMonth",props:_E(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=dt(),{daysInMonth:u,model:h,weekNumbers:o}=sE(e),p=Mo(),y=Rt(),b=Rt(),C=Rt(!1),k=Y(()=>C.value?e.reverseTransition:e.transition);e.multiple==="range"&&h.value.length>0&&(y.value=h.value[0],h.value.length>1&&(b.value=h.value[h.value.length-1]));const I=Y(()=>{const B=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return h.value.length>=B});ot(u,(B,q)=>{q&&(C.value=p.isBefore(B[0].date,q[0].date))});function R(B){const q=p.startOfDay(B);if(h.value.length===0&&(y.value=void 0),!y.value)y.value=q,h.value=[y.value];else if(b.value)y.value=B,b.value=void 0,h.value=[y.value];else{if(p.isSameDay(q,y.value)){y.value=void 0,h.value=[];return}else p.isBefore(q,y.value)?(b.value=p.endOfDay(y.value),y.value=q):b.value=p.endOfDay(q);const K=p.getDiff(b.value,y.value,"days"),se=[y.value];for(let Q=1;Q<K;Q++){const ee=p.addDays(y.value,Q);se.push(ee)}se.push(b.value),h.value=se}}function L(B){const q=h.value.findIndex(K=>p.isSameDay(K,B));if(q===-1)h.value=[...h.value,B];else{const K=[...h.value];K.splice(q,1),h.value=K}}function F(B){e.multiple==="range"?R(B):e.multiple?L(B):h.value=[B]}return()=>T("div",{class:"v-date-picker-month"},[e.showWeek&&T("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&T("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[zt(" ")]),o.value.map(B=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[B]))]),T(_s,{name:k.value},{default:()=>{var B;return[T("div",{ref:s,key:(B=u.value[0].date)==null?void 0:B.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&p.getWeekdays().map(q=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[q])),u.value.map((q,K)=>{const se={props:{onClick:()=>F(q.date)},item:q,i:K};return I.value&&!q.isSelected&&(q.isDisabled=!0),T("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":q.isAdjacent,"v-date-picker-month__day--hide-adjacent":q.isHidden,"v-date-picker-month__day--selected":q.isSelected,"v-date-picker-month__day--week-end":q.isWeekEnd,"v-date-picker-month__day--week-start":q.isWeekStart}],"data-v-date":q.isDisabled?void 0:q.isoDate},[(e.showAdjacentMonths||!q.isAdjacent)&&T(Un,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(q.isSelected||q.isToday)&&!q.isDisabled?e.color:void 0,disabled:q.isDisabled,icon:!0,ripple:!1,text:q.localized,variant:q.isDisabled?q.isToday?"outlined":"text":q.isToday&&!q.isSelected?"outlined":"flat",onClick:()=>F(q.date)}}},{default:()=>{var Q;return[((Q=r.day)==null?void 0:Q.call(r,se))??T(Kt,se.props,null)]}})])})])]}})])}}),bE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),qk=ht()({name:"VDatePickerMonths",props:bE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),u=dn(e,"modelValue"),h=Y(()=>{let o=s.startOfYear(s.date());return e.year&&(o=s.setYear(o,e.year)),Ws(12).map(p=>{const y=s.format(o,"monthShort"),b=!!(e.min&&s.isAfter(s.startOfMonth(s.date(e.min)),o)||e.max&&s.isAfter(o,s.startOfMonth(s.date(e.max))));return o=s.getNextMonth(o),{isDisabled:b,text:y,value:p}})});return si(()=>{u.value=u.value??s.getMonth(s.date())}),St(()=>T("div",{class:"v-date-picker-months",style:{height:Gt(e.height)}},[T("div",{class:"v-date-picker-months__content"},[h.value.map((o,p)=>{var C;const y={active:u.value===p,color:u.value===p?e.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:u.value===o.value?"flat":"text",onClick:()=>b(p)};function b(k){if(u.value===k){n("update:modelValue",u.value);return}u.value=k}return((C=r.month)==null?void 0:C.call(r,{month:o,i:p,props:y}))??T(Kt,it({key:"month"},y),null)})])])),{}}}),xE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),jk=ht()({name:"VDatePickerYears",props:xE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),u=dn(e,"modelValue"),h=Y(()=>{const p=s.getYear(s.date());let y=p-100,b=p+52;e.min&&(y=s.getYear(s.date(e.min))),e.max&&(b=s.getYear(s.date(e.max)));let C=s.startOfYear(s.date());return C=s.setYear(C,y),Ws(b-y+1,y).map(k=>{const I=s.format(C,"year");return C=s.setYear(C,s.getYear(C)+1),{text:I,value:k}})});si(()=>{u.value=u.value??s.getYear(s.date())});const o=Dg();return ha(async()=>{var p;await Hn(),(p=o.el)==null||p.scrollIntoView({block:"center"})}),St(()=>T("div",{class:"v-date-picker-years",style:{height:Gt(e.height)}},[T("div",{class:"v-date-picker-years__content"},[h.value.map((p,y)=>{var C;const b={ref:u.value===p.value?o:void 0,active:u.value===p.value,color:u.value===p.value?e.color:void 0,rounded:!0,text:p.text,variant:u.value===p.value?"flat":"text",onClick:()=>{if(u.value===p.value){n("update:modelValue",u.value);return}u.value=p.value}};return((C=r.year)==null?void 0:C.call(r,{year:p,i:y,props:b}))??T(Kt,it({key:"month"},b),null)})])])),{}}}),wE=zd("v-picker-title"),cx=We({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...ex()},"VPicker"),jf=ht()({name:"VPicker",props:cx(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=yi(_t(e,"color"));return St(()=>{const u=cc.filterProps(e),h=!!(e.title||n.title);return T(cc,it(u,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var o;return[!e.hideHeader&&T("div",{key:"header",class:[r.value],style:[s.value]},[h&&T(wE,{key:"picker-title"},{default:()=>{var p;return[((p=n.title)==null?void 0:p.call(n))??e.title]}}),n.header&&T("div",{class:"v-picker__header"},[n.header()])]),T("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&T(Un,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[T("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),SE=We({header:{type:String,default:"$vuetify.datePicker.header"},...yE(),..._E({weeksInMonth:"static"}),...Lr(bE(),["modelValue"]),...Lr(xE(),["modelValue"]),...cx({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),Hk=ht()({name:"VDatePicker",props:SE(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Mo(),{t:u}=li(),h=dn(e,"modelValue",void 0,j=>Wr(j),j=>e.multiple?j:j[0]),o=dn(e,"viewMode"),p=Y(()=>{var Z;const j=s.date((Z=h.value)==null?void 0:Z[0]);return j&&s.isValid(j)?j:s.date()}),y=dt(Number(e.month??s.getMonth(s.startOfMonth(p.value)))),b=dt(Number(e.year??s.getYear(s.startOfYear(s.setMonth(p.value,y.value))))),C=Rt(!1),k=Y(()=>e.multiple&&h.value.length>1?u("$vuetify.datePicker.itemsSelected",h.value.length):h.value[0]&&s.isValid(h.value[0])?s.format(s.date(h.value[0]),"normalDateWithWeekday"):u(e.header)),I=Y(()=>{let j=s.date();return j=s.setDate(j,1),j=s.setMonth(j,y.value),j=s.setYear(j,b.value),s.format(j,"monthAndYear")}),R=Y(()=>`date-picker-header${C.value?"-reverse":""}-transition`),L=Y(()=>{const j=s.date(e.min);return e.min&&s.isValid(j)?j:null}),F=Y(()=>{const j=s.date(e.max);return e.max&&s.isValid(j)?j:null}),B=Y(()=>{if(e.disabled)return!0;const j=[];if(o.value!=="month")j.push("prev","next");else{let Z=s.date();if(Z=s.setYear(Z,b.value),Z=s.setMonth(Z,y.value),L.value){const le=s.addDays(s.startOfMonth(Z),-1);s.isAfter(L.value,le)&&j.push("prev")}if(F.value){const le=s.addDays(s.endOfMonth(Z),1);s.isAfter(le,F.value)&&j.push("next")}}return j});function q(){y.value<11?y.value++:(b.value++,y.value=0,H(b.value)),re(y.value)}function K(){y.value>0?y.value--:(b.value--,y.value=11,H(b.value)),re(y.value)}function se(){o.value="month"}function Q(){o.value=o.value==="months"?"month":"months"}function ee(){o.value=o.value==="year"?"month":"year"}function re(j){o.value==="months"&&Q(),n("update:month",j)}function H(j){o.value==="year"&&ee(),n("update:year",j)}return ot(h,(j,Z)=>{const le=s.date(Wr(Z)[Z.length-1]),ne=s.date(Wr(j)[j.length-1]),ve=s.getMonth(ne),fe=s.getYear(ne);ve!==y.value&&(y.value=ve,re(y.value)),fe!==b.value&&(b.value=fe,H(b.value)),C.value=s.isBefore(le,ne)}),St(()=>{const j=jf.filterProps(e),Z=Nk.filterProps(e),le=$k.filterProps(e),ne=Uk.filterProps(e),ve=Lr(qk.filterProps(e),["modelValue"]),fe=Lr(jk.filterProps(e),["modelValue"]),Ie={header:k.value,transition:R.value};return T(jf,it(j,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var Ae;return((Ae=r.title)==null?void 0:Ae.call(r))??T("div",{class:"v-date-picker__title"},[u(e.title)])},header:()=>r.header?T(Un,{defaults:{VDatePickerHeader:{...Ie}}},{default:()=>{var Ae;return[(Ae=r.header)==null?void 0:Ae.call(r,Ie)]}}):T($k,it({key:"header"},le,Ie,{onClick:o.value!=="month"?se:void 0}),{...r,default:void 0}),default:()=>T(Ht,null,[T(Nk,it(Z,{disabled:B.value,text:I.value,"onClick:next":q,"onClick:prev":K,"onClick:month":Q,"onClick:year":ee}),null),T(Db,{hideOnLeave:!0},{default:()=>[o.value==="months"?T(qk,it({key:"date-picker-months"},ve,{modelValue:y.value,"onUpdate:modelValue":[Ae=>y.value=Ae,re],min:L.value,max:F.value,year:b.value}),null):o.value==="year"?T(jk,it({key:"date-picker-years"},fe,{modelValue:b.value,"onUpdate:modelValue":[Ae=>b.value=Ae,H],min:L.value,max:F.value}),null):T(Uk,it({key:"date-picker-month"},ne,{modelValue:h.value,"onUpdate:modelValue":Ae=>h.value=Ae,month:y.value,"onUpdate:month":[Ae=>y.value=Ae,re],year:b.value,"onUpdate:year":[Ae=>b.value=Ae,H],min:L.value,max:F.value}),null)]})]),actions:r.actions})}),{}}});function S_(e,t){return{x:e.x+t.x,y:e.y+t.y}}function t3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gk(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,s=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,u=n==="top"?0:n==="bottom"?t.height:n;return S_({x:s,y:u},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,s=n==="left"?0:n==="right"?t.width:n,u=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return S_({x:s,y:u},t)}return S_({x:t.width/2,y:t.height/2},t)}const kE={static:i3,connected:s3},n3=We({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in kE},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function r3(e,t){const n=dt({}),r=dt();pr&&Ja(()=>!!(t.isActive.value&&e.locationStrategy),u=>{var h,o;ot(()=>e.locationStrategy,u),da(()=>{window.removeEventListener("resize",s),r.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(h=e.locationStrategy(t,e,n))==null?void 0:h.updateLocation:r.value=(o=kE[e.locationStrategy](t,e,n))==null?void 0:o.updateLocation});function s(u){var h;(h=r.value)==null||h.call(r,u)}return{contentStyles:n,updateLocation:r}}function i3(){}function a3(e,t){t?e.style.removeProperty("left"):e.style.removeProperty("right");const n=H0(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function s3(e,t,n){(Array.isArray(e.target.value)||az(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:u}=U0(()=>{const R=vb(t.location,e.isRtl.value),L=t.origin==="overlap"?R:t.origin==="auto"?v_(R):vb(t.origin,e.isRtl.value);return R.side===L.side&&R.align===y_(L).align?{preferredAnchor:JS(R),preferredOrigin:JS(L)}:{preferredAnchor:R,preferredOrigin:L}}),[h,o,p,y]=["minWidth","minHeight","maxWidth","maxHeight"].map(R=>Y(()=>{const L=parseFloat(t[R]);return isNaN(L)?1/0:L})),b=Y(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const R=t.offset.split(" ").map(parseFloat);return R.length<2&&R.push(0),R}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let C=!1;const k=new ResizeObserver(()=>{C&&I()});ot([e.target,e.contentEl],(R,L)=>{let[F,B]=R,[q,K]=L;q&&!Array.isArray(q)&&k.unobserve(q),F&&!Array.isArray(F)&&k.observe(F),K&&k.unobserve(K),B&&k.observe(B)},{immediate:!0}),da(()=>{k.disconnect()});function I(){if(C=!1,requestAnimationFrame(()=>C=!0),!e.target.value||!e.contentEl.value)return;const R=tA(e.target.value),L=a3(e.contentEl.value,e.isRtl.value),F=zf(e.contentEl.value),B=12;F.length||(F.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(L.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),L.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const q=F.reduce((le,ne)=>{const ve=ne.getBoundingClientRect(),fe=new nu({x:ne===document.documentElement?0:ve.x,y:ne===document.documentElement?0:ve.y,width:ne.clientWidth,height:ne.clientHeight});return le?new nu({x:Math.max(le.left,fe.left),y:Math.max(le.top,fe.top),width:Math.min(le.right,fe.right)-Math.max(le.left,fe.left),height:Math.min(le.bottom,fe.bottom)-Math.max(le.top,fe.top)}):fe},void 0);q.x+=B,q.y+=B,q.width-=B*2,q.height-=B*2;let K={anchor:s.value,origin:u.value};function se(le){const ne=new nu(L),ve=Gk(le.anchor,R),fe=Gk(le.origin,ne);let{x:Ie,y:Ae}=t3(ve,fe);switch(le.anchor.side){case"top":Ae-=b.value[0];break;case"bottom":Ae+=b.value[0];break;case"left":Ie-=b.value[0];break;case"right":Ie+=b.value[0];break}switch(le.anchor.align){case"top":Ae-=b.value[1];break;case"bottom":Ae+=b.value[1];break;case"left":Ie-=b.value[1];break;case"right":Ie+=b.value[1];break}return ne.x+=Ie,ne.y+=Ae,ne.width=Math.min(ne.width,p.value),ne.height=Math.min(ne.height,y.value),{overflows:ek(ne,q),x:Ie,y:Ae}}let Q=0,ee=0;const re={x:0,y:0},H={x:!1,y:!1};let j=-1;for(;!(j++>10);){const{x:le,y:ne,overflows:ve}=se(K);Q+=le,ee+=ne,L.x+=le,L.y+=ne;{const fe=QS(K.anchor),Ie=ve.x.before||ve.x.after,Ae=ve.y.before||ve.y.after;let qe=!1;if(["x","y"].forEach(ke=>{if(ke==="x"&&Ie&&!H.x||ke==="y"&&Ae&&!H.y){const Le={anchor:{...K.anchor},origin:{...K.origin}},Ve=ke==="x"?fe==="y"?y_:v_:fe==="y"?v_:y_;Le.anchor=Ve(Le.anchor),Le.origin=Ve(Le.origin);const{overflows:Je}=se(Le);(Je[ke].before<=ve[ke].before&&Je[ke].after<=ve[ke].after||Je[ke].before+Je[ke].after<(ve[ke].before+ve[ke].after)/2)&&(K=Le,qe=H[ke]=!0)}}),qe)continue}ve.x.before&&(Q+=ve.x.before,L.x+=ve.x.before),ve.x.after&&(Q-=ve.x.after,L.x-=ve.x.after),ve.y.before&&(ee+=ve.y.before,L.y+=ve.y.before),ve.y.after&&(ee-=ve.y.after,L.y-=ve.y.after);{const fe=ek(L,q);re.x=q.width-fe.x.before-fe.x.after,re.y=q.height-fe.y.before-fe.y.after,Q+=fe.x.before,L.x+=fe.x.before,ee+=fe.y.before,L.y+=fe.y.before}break}const Z=QS(K.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${K.anchor.side} ${K.anchor.align}`,transformOrigin:`${K.origin.side} ${K.origin.align}`,top:Gt(k_(ee)),left:e.isRtl.value?void 0:Gt(k_(Q)),right:e.isRtl.value?Gt(k_(-Q)):void 0,minWidth:Gt(Z==="y"?Math.min(h.value,R.width):h.value),maxWidth:Gt(Wk(la(re.x,h.value===1/0?0:h.value,p.value))),maxHeight:Gt(Wk(la(re.y,o.value===1/0?0:o.value,y.value)))}),{available:re,contentBox:L}}return ot(()=>[s.value,u.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>I()),Hn(()=>{const R=I();if(!R)return;const{available:L,contentBox:F}=R;F.height>L.y&&requestAnimationFrame(()=>{I(),requestAnimationFrame(()=>{I()})})}),{updateLocation:I}}function k_(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Wk(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Mb=!0;const Vg=[];function o3(e){!Mb||Vg.length?(Vg.push(e),Lb()):(Mb=!1,e(),Lb())}let Yk=-1;function Lb(){cancelAnimationFrame(Yk),Yk=requestAnimationFrame(()=>{const e=Vg.shift();e&&e(),Vg.length?Lb():Mb=!0})}const hg={none:null,close:u3,block:d3,reposition:h3},l3=We({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in hg}},"VOverlay-scroll-strategies");function c3(e,t){if(!pr)return;let n;si(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=rv(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=hg[e.scrollStrategy])==null||r.call(hg,t,e,n)}))}),da(()=>{n==null||n.stop()})}function u3(e){function t(n){e.isActive.value=!1}CE(e.targetEl.value??e.contentEl.value,t)}function d3(e,t){var h;const n=(h=e.root.value)==null?void 0:h.offsetParent,r=[...new Set([...zf(e.targetEl.value,t.contained?n:void 0),...zf(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,u=(o=>Y0(o)&&o)(n||document.documentElement);u&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((o,p)=>{o.style.setProperty("--v-body-scroll-x",Gt(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Gt(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Gt(s)),o.classList.add("v-overlay-scroll-blocked")}),da(()=>{r.forEach((o,p)=>{const y=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),b=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),C=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-y,o.scrollTop=-b,o.style.scrollBehavior=C}),u&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function h3(e,t,n){let r=!1,s=-1,u=-1;function h(o){o3(()=>{var b,C;const p=performance.now();(C=(b=e.updateLocation).value)==null||C.call(b,o),r=(performance.now()-p)/(1e3/60)>2})}u=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{CE(e.targetEl.value??e.contentEl.value,o=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{h(o)})})):h(o)})})}),da(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(u),cancelAnimationFrame(s)})}function CE(e,t){const n=[document,...zf(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),da(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const Rb=Symbol.for("vuetify:v-menu"),TE=We({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function AE(e,t){let n=()=>{};function r(h){n==null||n();const o=Number(h?e.openDelay:e.closeDelay);return new Promise(p=>{n=kF(o,()=>{t==null||t(h),p(h)})})}function s(){return r(!0)}function u(){return r(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:u}}const f3=We({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...TE()},"VOverlay-activator");function m3(e,t){let{isActive:n,isTop:r}=t;const s=Jr("useActivator"),u=dt();let h=!1,o=!1,p=!0;const y=Y(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),b=Y(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!y.value),{runOpenDelay:C,runCloseDelay:k}=AE(e,re=>{re===(e.openOnHover&&h||y.value&&o)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==re&&(p=!0),n.value=re)}),I=dt(),R={onClick:re=>{re.stopPropagation(),u.value=re.currentTarget||re.target,n.value||(I.value=[re.clientX,re.clientY]),n.value=!n.value},onMouseenter:re=>{var H;(H=re.sourceCapabilities)!=null&&H.firesTouchEvents||(h=!0,u.value=re.currentTarget||re.target,C())},onMouseleave:re=>{h=!1,k()},onFocus:re=>{Ed(re.target,":focus-visible")!==!1&&(o=!0,re.stopPropagation(),u.value=re.currentTarget||re.target,C())},onBlur:re=>{o=!1,re.stopPropagation(),k()}},L=Y(()=>{const re={};return b.value&&(re.onClick=R.onClick),e.openOnHover&&(re.onMouseenter=R.onMouseenter,re.onMouseleave=R.onMouseleave),y.value&&(re.onFocus=R.onFocus,re.onBlur=R.onBlur),re}),F=Y(()=>{const re={};if(e.openOnHover&&(re.onMouseenter=()=>{h=!0,C()},re.onMouseleave=()=>{h=!1,k()}),y.value&&(re.onFocusin=()=>{o=!0,C()},re.onFocusout=()=>{o=!1,k()}),e.closeOnContentClick){const H=vt(Rb,null);re.onClick=()=>{n.value=!1,H==null||H.closeParents()}}return re}),B=Y(()=>{const re={};return e.openOnHover&&(re.onMouseenter=()=>{p&&(h=!0,p=!1,C())},re.onMouseleave=()=>{h=!1,k()}),re});ot(r,re=>{re&&(e.openOnHover&&!h&&(!y.value||!o)||y.value&&!o&&(!e.openOnHover||!h))&&(n.value=!1)}),ot(n,re=>{re||setTimeout(()=>{I.value=void 0})},{flush:"post"});const q=Dg();si(()=>{q.value&&Hn(()=>{u.value=q.el})});const K=Dg(),se=Y(()=>e.target==="cursor"&&I.value?I.value:K.value?K.el:EE(e.target,s)||u.value),Q=Y(()=>Array.isArray(se.value)?void 0:se.value);let ee;return ot(()=>!!e.activator,re=>{re&&pr?(ee=rv(),ee.run(()=>{p3(e,s,{activatorEl:u,activatorEvents:L})})):ee&&ee.stop()},{flush:"post",immediate:!0}),da(()=>{ee==null||ee.stop()}),{activatorEl:u,activatorRef:q,target:se,targetEl:Q,targetRef:K,activatorEvents:L,contentEvents:F,scrimEvents:B}}function p3(e,t,n){let{activatorEl:r,activatorEvents:s}=n;ot(()=>e.activator,(p,y)=>{if(y&&p!==y){const b=o(y);b&&h(b)}p&&Hn(()=>u())},{immediate:!0}),ot(()=>e.activatorProps,()=>{u()}),da(()=>{h()});function u(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;p&&AF(p,it(s.value,y))}function h(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;p&&EF(p,it(s.value,y))}function o(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const y=EE(p,t);return r.value=(y==null?void 0:y.nodeType)===Node.ELEMENT_NODE?y:void 0,r.value}}function EE(e,t){var r,s;if(!e)return;let n;if(e==="parent"){let u=(s=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:s.parentNode;for(;u!=null&&u.hasAttribute("data-no-activator");)u=u.parentNode;n=u}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function g3(){if(!pr)return Rt(!1);const{ssr:e}=vl();if(e){const t=Rt(!1);return ha(()=>{t.value=!0}),t}else return Rt(!0)}const ux=We({eager:Boolean},"lazy");function dx(e,t){const n=Rt(!1),r=Y(()=>n.value||e.eager||t.value);ot(t,()=>n.value=!0);function s(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:s}}function Ud(){const t=Jr("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Zk=Symbol.for("vuetify:stack"),lf=Ei([]);function v3(e,t,n){const r=Jr("useStack"),s=!n,u=vt(Zk,void 0),h=Ei({activeChildren:new Set});_n(Zk,h);const o=Rt(+t.value);Ja(e,()=>{var C;const b=(C=lf.at(-1))==null?void 0:C[1];o.value=b?b+10:+t.value,s&&lf.push([r.uid,o.value]),u==null||u.activeChildren.add(r.uid),da(()=>{if(s){const k=bn(lf).findIndex(I=>I[0]===r.uid);lf.splice(k,1)}u==null||u.activeChildren.delete(r.uid)})});const p=Rt(!0);s&&si(()=>{var C;const b=((C=lf.at(-1))==null?void 0:C[0])===r.uid;setTimeout(()=>p.value=b)});const y=Y(()=>!h.activeChildren.size);return{globalTop:Od(p),localTop:y,stackStyles:Y(()=>({zIndex:o.value}))}}function y3(e){return{teleportTarget:Y(()=>{const n=e.value;if(n===!0||!pr)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let s=r.querySelector(":scope > .v-overlay-container");return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function _3(){return!0}function IE(e,t,n){if(!e||PE(e,n)===!1)return!1;const r=lA(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(t),!s.some(u=>u==null?void 0:u.contains(e.target))}function PE(e,t){return(typeof t.value=="object"&&t.value.closeConditional||_3)(e)}function b3(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;t._clickOutside.lastMousedownWasOutside&&IE(e,t,n)&&setTimeout(()=>{PE(e,n)&&r&&r(e)},0)}function Kk(e,t){const n=lA(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const x3={mounted(e,t){const n=s=>b3(s,e,t),r=s=>{e._clickOutside.lastMousedownWasOutside=IE(s,e,t)};Kk(e,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},unmounted(e,t){e._clickOutside&&(Kk(e,n=>{var u;if(!n||!((u=e._clickOutside)!=null&&u[t.instance.$.uid]))return;const{onClick:r,onMousedown:s}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[t.instance.$.uid])}};function w3(e){const{modelValue:t,color:n,...r}=e;return T(Ao,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&T("div",it({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const vv=We({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...f3(),...hn(),...to(),...ux(),...n3(),...l3(),...vr(),...gu()},"VOverlay"),Pd=ht()({name:"VOverlay",directives:{ClickOutside:x3},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...vv()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:s}=t;const u=dn(e,"modelValue"),h=Y({get:()=>u.value,set:mt=>{mt&&e.disabled||(u.value=mt)}}),{teleportTarget:o}=y3(Y(()=>e.attach||e.contained)),{themeClasses:p}=Rr(e),{rtlClasses:y,isRtl:b}=es(),{hasContent:C,onAfterLeave:k}=dx(e,h),I=yi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:R,localTop:L,stackStyles:F}=v3(h,_t(e,"zIndex"),e._disableGlobalStack),{activatorEl:B,activatorRef:q,target:K,targetEl:se,targetRef:Q,activatorEvents:ee,contentEvents:re,scrimEvents:H}=m3(e,{isActive:h,isTop:L}),{dimensionStyles:j}=no(e),Z=g3(),{scopeId:le}=Ud();ot(()=>e.disabled,mt=>{mt&&(h.value=!1)});const ne=dt(),ve=dt(),fe=dt(),{contentStyles:Ie,updateLocation:Ae}=r3(e,{isRtl:b,contentEl:fe,target:K,isActive:h});c3(e,{root:ne,contentEl:fe,targetEl:se,isActive:h,updateLocation:Ae});function qe(mt){s("click:outside",mt),e.persistent?Ue():h.value=!1}function ke(mt){return h.value&&R.value&&(!e.scrim||mt.target===ve.value)}pr&&ot(h,mt=>{mt?window.addEventListener("keydown",Le):window.removeEventListener("keydown",Le)},{immediate:!0}),wr(()=>{pr&&window.removeEventListener("keydown",Le)});function Le(mt){var Tt,Ne;mt.key==="Escape"&&R.value&&(e.persistent?Ue():(h.value=!1,(Tt=fe.value)!=null&&Tt.contains(document.activeElement)&&((Ne=B.value)==null||Ne.focus())))}const Ve=BA();Ja(()=>e.closeOnBack,()=>{_V(Ve,mt=>{R.value&&h.value?(mt(!1),e.persistent?Ue():h.value=!1):mt()})});const Je=dt();ot(()=>h.value&&(e.absolute||e.contained)&&o.value==null,mt=>{if(mt){const Tt=cA(ne.value);Tt&&Tt!==document.scrollingElement&&(Je.value=Tt.scrollTop)}});function Ue(){e.noClickAnimation||fe.value&&Yc(fe.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Ff})}function ct(){s("afterEnter")}function Lt(){k(),s("afterLeave")}return St(()=>{var mt;return T(Ht,null,[(mt=n.activator)==null?void 0:mt.call(n,{isActive:h.value,targetRef:Q,props:it({ref:q},ee.value,e.activatorProps)}),Z.value&&C.value&&T(z0,{disabled:!o.value,to:o.value},{default:()=>[T("div",it({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":h.value,"v-overlay--contained":e.contained},p.value,y.value,e.class],style:[F.value,{"--v-overlay-opacity":e.opacity,top:Gt(Je.value)},e.style],ref:ne},le,r),[T(w3,it({color:I,modelValue:h.value&&!!e.scrim,ref:ve},H.value),null),T(_s,{appear:!0,persisted:!0,transition:e.transition,target:K.value,onAfterEnter:ct,onAfterLeave:Lt},{default:()=>{var Tt;return[oi(T("div",it({ref:fe,class:["v-overlay__content",e.contentClass],style:[j.value,Ie.value]},re.value,e.contentProps),[(Tt=n.default)==null?void 0:Tt.call(n,{isActive:h})]),[[pl,h.value],[ks("click-outside"),{handler:qe,closeConditional:ke,include:()=>[B.value]}]])]}})])]})])}),{activatorEl:B,scrimEl:ve,target:K,animateClick:Ue,contentEl:fe,globalTop:R,localTop:L,updateLocation:Ae}}}),C_=Symbol("Forwarded refs");function T_(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ro(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[C_]=n,new Proxy(e,{get(s,u){if(Reflect.has(s,u))return Reflect.get(s,u);if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const h of n)if(h.value&&Reflect.has(h.value,u)){const o=Reflect.get(h.value,u);return typeof o=="function"?o.bind(h.value):o}}},has(s,u){if(Reflect.has(s,u))return!0;if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const h of n)if(h.value&&Reflect.has(h.value,u))return!0;return!1},set(s,u,h){if(Reflect.has(s,u))return Reflect.set(s,u,h);if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,u))return Reflect.set(o.value,u,h);return!1},getOwnPropertyDescriptor(s,u){var o;const h=Reflect.getOwnPropertyDescriptor(s,u);if(h)return h;if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const p of n){if(!p.value)continue;const y=T_(p.value,u)??("_"in p.value?T_((o=p.value._)==null?void 0:o.setupState,u):void 0);if(y)return y}for(const p of n){const y=p.value&&p.value[C_];if(!y)continue;const b=y.slice();for(;b.length;){const C=b.shift(),k=T_(C.value,u);if(k)return k;const I=C.value&&C.value[C_];I&&b.push(...I)}}}}})}const S3=We({id:String,...Lr(vv({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:rx}}),["absolute"])},"VMenu"),hx=ht()({name:"VMenu",props:S3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dn(e,"modelValue"),{scopeId:s}=Ud(),u=Ts(),h=Y(()=>e.id||`v-menu-${u}`),o=dt(),p=vt(Rb,null),y=Rt(0);_n(Rb,{register(){++y.value},unregister(){--y.value},closeParents(L){setTimeout(()=>{!y.value&&!e.persistent&&(L==null||L&&!CF(L,o.value.contentEl))&&(r.value=!1,p==null||p.closeParents())},40)}});async function b(L){var q,K,se;const F=L.relatedTarget,B=L.target;await Hn(),r.value&&F!==B&&((q=o.value)!=null&&q.contentEl)&&((K=o.value)!=null&&K.globalTop)&&![document,o.value.contentEl].includes(B)&&!o.value.contentEl.contains(B)&&((se=Rf(o.value.contentEl)[0])==null||se.focus())}ot(r,L=>{L?(p==null||p.register(),document.addEventListener("focusin",b,{once:!0})):(p==null||p.unregister(),document.removeEventListener("focusin",b))});function C(L){p==null||p.closeParents(L)}function k(L){var F,B,q;if(!e.disabled)if(L.key==="Tab"||L.key==="Enter"&&!e.closeOnContentClick){if(L.key==="Enter"&&L.target instanceof HTMLTextAreaElement)return;L.key==="Enter"&&L.preventDefault(),QT(Rf((F=o.value)==null?void 0:F.contentEl,!1),L.shiftKey?"prev":"next",se=>se.tabIndex>=0)||(r.value=!1,(q=(B=o.value)==null?void 0:B.activatorEl)==null||q.focus())}else["Enter"," "].includes(L.key)&&e.closeOnContentClick&&(r.value=!1,p==null||p.closeParents())}function I(L){var B;if(e.disabled)return;const F=(B=o.value)==null?void 0:B.contentEl;F&&r.value?L.key==="ArrowDown"?(L.preventDefault(),Pg(F,"next")):L.key==="ArrowUp"&&(L.preventDefault(),Pg(F,"prev")):["ArrowDown","ArrowUp"].includes(L.key)&&(r.value=!0,L.preventDefault(),setTimeout(()=>setTimeout(()=>I(L))))}const R=Y(()=>it({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":h.value,onKeydown:I},e.activatorProps));return St(()=>{const L=Pd.filterProps(e);return T(Pd,it({ref:o,id:h.value,class:["v-menu",e.class],style:e.style},L,{modelValue:r.value,"onUpdate:modelValue":F=>r.value=F,absolute:!0,activatorProps:R.value,"onClick:outside":C,onKeydown:k},s),{activator:n.activator,default:function(){for(var F=arguments.length,B=new Array(F),q=0;q<F;q++)B[q]=arguments[q];return T(Un,{root:"VMenu"},{default:()=>{var K;return[(K=n.default)==null?void 0:K.call(n,...B)]}})}})}),Ro({id:h,ΨopenChildren:y},o)}}),k3=We({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...hn(),...gu({transition:{component:XA}})},"VCounter"),fx=ht()({name:"VCounter",functional:!0,props:k3(),setup(e,t){let{slots:n}=t;const r=Y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return St(()=>T(_s,{transition:e.transition},{default:()=>[oi(T("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[pl,e.active]])]})),{}}}),C3=We({text:String,onClick:Wi(),...hn(),...vr()},"VLabel"),mx=ht()({name:"VLabel",props:C3(),setup(e,t){let{slots:n}=t;return St(()=>{var r;return T("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),T3=We({floating:Boolean,...hn()},"VFieldLabel"),Kp=ht()({name:"VFieldLabel",props:T3(),setup(e,t){let{slots:n}=t;return St(()=>T(mx,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function DE(e){const{t}=li();function n(r){let{name:s}=r;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],h=e[`onClick:${s}`],o=h&&u?t(`$vuetify.input.${u}`,e.label??""):void 0;return T(nr,{icon:e[`${s}Icon`],"aria-label":o,onClick:h},null)}return{InputIcon:n}}const px=We({focused:Boolean,"onUpdate:focused":Wi()},"focus");function gm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do();const n=dn(e,"focused"),r=Y(()=>({[`${t}--focused`]:n.value}));function s(){n.value=!0}function u(){n.value=!1}return{focusClasses:r,isFocused:n,focus:s,blur:u}}const A3=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],yv=We({appendInnerIcon:Ln,bgColor:String,clearable:Boolean,clearIcon:{type:Ln,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:Ln,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>A3.includes(e)},"onClick:clear":Wi(),"onClick:appendInner":Wi(),"onClick:prependInner":Wi(),...hn(),...mv(),...Pi(),...vr()},"VField"),_v=ht()({name:"VField",inheritAttrs:!1,props:{id:String,...px(),...yv()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{themeClasses:u}=Rr(e),{loaderClasses:h}=pv(e),{focusClasses:o,isFocused:p,focus:y,blur:b}=gm(e),{InputIcon:C}=DE(e),{roundedClasses:k}=Bi(e),{rtlClasses:I}=es(),R=Y(()=>e.dirty||e.active),L=Y(()=>!e.singleLine&&!!(e.label||s.label)),F=Ts(),B=Y(()=>e.id||`input-${F}`),q=Y(()=>`${B.value}-messages`),K=dt(),se=dt(),Q=dt(),ee=Y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:re,backgroundColorStyles:H}=yi(_t(e,"bgColor")),{textColorClasses:j,textColorStyles:Z}=Na(Y(()=>e.error||e.disabled?void 0:R.value&&p.value?e.color:e.baseColor));ot(R,fe=>{if(L.value){const Ie=K.value.$el,Ae=se.value.$el;requestAnimationFrame(()=>{const qe=H0(Ie),ke=Ae.getBoundingClientRect(),Le=ke.x-qe.x,Ve=ke.y-qe.y-(qe.height/2-ke.height/2),Je=ke.width/.75,Ue=Math.abs(Je-qe.width)>1?{maxWidth:Gt(Je)}:void 0,ct=getComputedStyle(Ie),Lt=getComputedStyle(Ae),mt=parseFloat(ct.transitionDuration)*1e3||150,Tt=parseFloat(Lt.getPropertyValue("--v-field-label-scale")),Ne=Lt.getPropertyValue("color");Ie.style.visibility="visible",Ae.style.visibility="hidden",Yc(Ie,{transform:`translate(${Le}px, ${Ve}px) scale(${Tt})`,color:Ne,...Ue},{duration:mt,easing:Ff,direction:fe?"normal":"reverse"}).finished.then(()=>{Ie.style.removeProperty("visibility"),Ae.style.removeProperty("visibility")})})}},{flush:"post"});const le=Y(()=>({isActive:R,isFocused:p,controlRef:Q,blur:b,focus:y}));function ne(fe){fe.target!==document.activeElement&&fe.preventDefault()}function ve(fe){var Ie;fe.key!=="Enter"&&fe.key!==" "||(fe.preventDefault(),fe.stopPropagation(),(Ie=e["onClick:clear"])==null||Ie.call(e,new MouseEvent("click")))}return St(()=>{var Le,Ve,Je;const fe=e.variant==="outlined",Ie=!!(s["prepend-inner"]||e.prependInnerIcon),Ae=!!(e.clearable||s.clear),qe=!!(s["append-inner"]||e.appendInnerIcon||Ae),ke=()=>s.label?s.label({...le.value,label:e.label,props:{for:B.value}}):e.label;return T("div",it({class:["v-field",{"v-field--active":R.value,"v-field--appended":qe,"v-field--center-affix":e.centerAffix??!ee.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":Ie,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!ke(),[`v-field--variant-${e.variant}`]:!0},u.value,re.value,o.value,h.value,k.value,I.value,e.class],style:[H.value,e.style],onClick:ne},n),[T("div",{class:"v-field__overlay"},null),T(tx,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:s.loader}),Ie&&T("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&T(C,{key:"prepend-icon",name:"prependInner"},null),(Le=s["prepend-inner"])==null?void 0:Le.call(s,le.value)]),T("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&L.value&&T(Kp,{key:"floating-label",ref:se,class:[j.value],floating:!0,for:B.value,style:Z.value},{default:()=>[ke()]}),T(Kp,{ref:K,for:B.value},{default:()=>[ke()]}),(Ve=s.default)==null?void 0:Ve.call(s,{...le.value,props:{id:B.value,class:"v-field__input","aria-describedby":q.value},focus:y,blur:b})]),Ae&&T(JA,{key:"clear"},{default:()=>[oi(T("div",{class:"v-field__clearable",onMousedown:Ue=>{Ue.preventDefault(),Ue.stopPropagation()}},[T(Un,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[s.clear?s.clear({...le.value,props:{onKeydown:ve,onFocus:y,onBlur:b,onClick:e["onClick:clear"]}}):T(C,{name:"clear",onKeydown:ve,onFocus:y,onBlur:b},null)]})]),[[pl,e.dirty]])]}),qe&&T("div",{key:"append",class:"v-field__append-inner"},[(Je=s["append-inner"])==null?void 0:Je.call(s,le.value),e.appendInnerIcon&&T(C,{key:"append-icon",name:"appendInner"},null)]),T("div",{class:["v-field__outline",j.value],style:Z.value},[fe&&T(Ht,null,[T("div",{class:"v-field__outline__start"},null),L.value&&T("div",{class:"v-field__outline__notch"},[T(Kp,{ref:se,floating:!0,for:B.value},{default:()=>[ke()]})]),T("div",{class:"v-field__outline__end"},null)]),ee.value&&L.value&&T(Kp,{ref:se,floating:!0,for:B.value},{default:()=>[ke()]})])])}),{controlRef:Q}}});function gx(e){const t=Object.keys(_v.props).filter(n=>!uv(n)&&n!=="class"&&n!=="style");return YT(e,t)}const E3=We({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...hn(),...gu({transition:{component:XA,leaveAbsolute:!0,group:!0}})},"VMessages"),I3=ht()({name:"VMessages",props:E3(),setup(e,t){let{slots:n}=t;const r=Y(()=>Wr(e.messages)),{textColorClasses:s,textColorStyles:u}=Na(Y(()=>e.color));return St(()=>T(_s,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[u.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((h,o)=>T("div",{class:"v-messages__message",key:`${o}-${r.value}`},[n.message?n.message({message:h}):h]))]})),{}}}),ME=Symbol.for("vuetify:form"),P3=We({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function D3(e){const t=dn(e,"modelValue"),n=Y(()=>e.disabled),r=Y(()=>e.readonly),s=Rt(!1),u=dt([]),h=dt([]);async function o(){const b=[];let C=!0;h.value=[],s.value=!0;for(const k of u.value){const I=await k.validate();if(I.length>0&&(C=!1,b.push({id:k.id,errorMessages:I})),!C&&e.fastFail)break}return h.value=b,s.value=!1,{valid:C,errors:h.value}}function p(){u.value.forEach(b=>b.reset())}function y(){u.value.forEach(b=>b.resetValidation())}return ot(u,()=>{let b=0,C=0;const k=[];for(const I of u.value)I.isValid===!1?(C++,k.push({id:I.id,errorMessages:I.errorMessages})):I.isValid===!0&&b++;h.value=k,t.value=C>0?!1:b===u.value.length?!0:null},{deep:!0,flush:"post"}),_n(ME,{register:b=>{let{id:C,vm:k,validate:I,reset:R,resetValidation:L}=b;u.value.some(F=>F.id===C),u.value.push({id:C,validate:I,reset:R,resetValidation:L,vm:wg(k),isValid:null,errorMessages:[]})},unregister:b=>{u.value=u.value.filter(C=>C.id!==b)},update:(b,C,k)=>{const I=u.value.find(R=>R.id===b);I&&(I.isValid=C,I.errorMessages=k)},isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validateOn:_t(e,"validateOn")}),{errors:h,isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validate:o,reset:p,resetValidation:y}}function bv(){return vt(ME,null)}const M3=We({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...px()},"validation");function L3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Do(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ts();const r=dn(e,"modelValue"),s=Y(()=>e.validationValue===void 0?r.value:e.validationValue),u=bv(),h=dt([]),o=Rt(!0),p=Y(()=>!!(Wr(r.value===""?null:r.value).length||Wr(s.value===""?null:s.value).length)),y=Y(()=>!!(e.disabled??(u==null?void 0:u.isDisabled.value))),b=Y(()=>!!(e.readonly??(u==null?void 0:u.isReadonly.value))),C=Y(()=>{var Q;return(Q=e.errorMessages)!=null&&Q.length?Wr(e.errorMessages).concat(h.value).slice(0,Math.max(0,+e.maxErrors)):h.value}),k=Y(()=>{let Q=(e.validateOn??(u==null?void 0:u.validateOn.value))||"input";Q==="lazy"&&(Q="input lazy");const ee=new Set((Q==null?void 0:Q.split(" "))??[]);return{blur:ee.has("blur")||ee.has("input"),input:ee.has("input"),submit:ee.has("submit"),lazy:ee.has("lazy")}}),I=Y(()=>{var Q;return e.error||(Q=e.errorMessages)!=null&&Q.length?!1:e.rules.length?o.value?h.value.length||k.value.lazy?null:!0:!h.value.length:!0}),R=Rt(!1),L=Y(()=>({[`${t}--error`]:I.value===!1,[`${t}--dirty`]:p.value,[`${t}--disabled`]:y.value,[`${t}--readonly`]:b.value})),F=Jr("validation"),B=Y(()=>e.name??Vr(n));M0(()=>{u==null||u.register({id:B.value,vm:F,validate:se,reset:q,resetValidation:K})}),wr(()=>{u==null||u.unregister(B.value)}),ha(async()=>{k.value.lazy||await se(!0),u==null||u.update(B.value,I.value,C.value)}),Ja(()=>k.value.input,()=>{ot(s,()=>{if(s.value!=null)se();else if(e.focused){const Q=ot(()=>e.focused,ee=>{ee||se(),Q()})}})}),Ja(()=>k.value.blur,()=>{ot(()=>e.focused,Q=>{Q||se()})}),ot([I,C],()=>{u==null||u.update(B.value,I.value,C.value)});async function q(){r.value=null,await Hn(),await K()}async function K(){o.value=!0,k.value.lazy?h.value=[]:await se(!0)}async function se(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const ee=[];R.value=!0;for(const re of e.rules){if(ee.length>=+(e.maxErrors??1))break;const j=await(typeof re=="function"?re:()=>re)(s.value);if(j!==!0){if(j!==!1&&typeof j!="string"){console.warn(`${j} is not a valid value. Rule functions must return boolean true or a string.`);continue}ee.push(j||"")}}return h.value=ee,R.value=!1,o.value=Q,h.value}return{errorMessages:C,isDirty:p,isDisabled:y,isReadonly:b,isPristine:o,isValid:I,isValidating:R,reset:q,resetValidation:K,validate:se,validationClasses:L}}const vm=We({id:String,appendIcon:Ln,centerAffix:{type:Boolean,default:!0},prependIcon:Ln,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Wi(),"onClick:append":Wi(),...hn(),...$a(),...ZT(to(),["maxWidth","minWidth","width"]),...vr(),...M3()},"VInput"),uc=ht()({name:"VInput",props:{...vm()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const{densityClasses:u}=rs(e),{dimensionStyles:h}=no(e),{themeClasses:o}=Rr(e),{rtlClasses:p}=es(),{InputIcon:y}=DE(e),b=Ts(),C=Y(()=>e.id||`input-${b}`),k=Y(()=>`${C.value}-messages`),{errorMessages:I,isDirty:R,isDisabled:L,isReadonly:F,isPristine:B,isValid:q,isValidating:K,reset:se,resetValidation:Q,validate:ee,validationClasses:re}=L3(e,"v-input",C),H=Y(()=>({id:C,messagesId:k,isDirty:R,isDisabled:L,isReadonly:F,isPristine:B,isValid:q,isValidating:K,reset:se,resetValidation:Q,validate:ee})),j=Y(()=>{var Z;return(Z=e.errorMessages)!=null&&Z.length||!B.value&&I.value.length?I.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return St(()=>{var fe,Ie,Ae,qe;const Z=!!(r.prepend||e.prependIcon),le=!!(r.append||e.appendIcon),ne=j.value.length>0,ve=!e.hideDetails||e.hideDetails==="auto"&&(ne||!!r.details);return T("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},u.value,o.value,p.value,re.value,e.class],style:[h.value,e.style]},[Z&&T("div",{key:"prepend",class:"v-input__prepend"},[(fe=r.prepend)==null?void 0:fe.call(r,H.value),e.prependIcon&&T(y,{key:"prepend-icon",name:"prepend"},null)]),r.default&&T("div",{class:"v-input__control"},[(Ie=r.default)==null?void 0:Ie.call(r,H.value)]),le&&T("div",{key:"append",class:"v-input__append"},[e.appendIcon&&T(y,{key:"append-icon",name:"append"},null),(Ae=r.append)==null?void 0:Ae.call(r,H.value)]),ve&&T("div",{class:"v-input__details"},[T(I3,{id:k.value,active:ne,messages:j.value},{message:r.message}),(qe=r.details)==null?void 0:qe.call(r,H.value)])])}),{reset:se,resetValidation:Q,validate:ee,isValid:q,errorMessages:I}}}),R3=["color","file","time","date","datetime-local","week","month"],ym=We({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...vm(),...yv()},"VTextField"),ii=ht()({name:"VTextField",directives:{Intersect:ax},inheritAttrs:!1,props:ym(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=dn(e,"modelValue"),{isFocused:h,focus:o,blur:p}=gm(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),b=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),C=Y(()=>["plain","underlined"].includes(e.variant));function k(ee,re){var H,j;!e.autofocus||!ee||(j=(H=re[0].target)==null?void 0:H.focus)==null||j.call(H)}const I=dt(),R=dt(),L=dt(),F=Y(()=>R3.includes(e.type)||e.persistentPlaceholder||h.value||e.active);function B(){var ee;L.value!==document.activeElement&&((ee=L.value)==null||ee.focus()),h.value||o()}function q(ee){r("mousedown:control",ee),ee.target!==L.value&&(B(),ee.preventDefault())}function K(ee){B(),r("click:control",ee)}function se(ee){ee.stopPropagation(),B(),Hn(()=>{u.value=null,q0(e["onClick:clear"],ee)})}function Q(ee){var H;const re=ee.target;if(u.value=re.value,(H=e.modelModifiers)!=null&&H.trim&&["text","search","password","tel","url"].includes(e.type)){const j=[re.selectionStart,re.selectionEnd];Hn(()=>{re.selectionStart=j[0],re.selectionEnd=j[1]})}}return St(()=>{const ee=!!(s.counter||e.counter!==!1&&e.counter!=null),re=!!(ee||s.details),[H,j]=om(n),{modelValue:Z,...le}=uc.filterProps(e),ne=gx(e);return T(uc,it({ref:I,modelValue:u.value,"onUpdate:modelValue":ve=>u.value=ve,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":C.value},e.class],style:e.style},H,le,{centerAffix:!C.value,focused:h.value}),{...s,default:ve=>{let{id:fe,isDisabled:Ie,isDirty:Ae,isReadonly:qe,isValid:ke}=ve;return T(_v,it({ref:R,onMousedown:q,onClick:K,"onClick:clear":se,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},ne,{id:fe.value,active:F.value||Ae.value,dirty:Ae.value||e.dirty,disabled:Ie.value,focused:h.value,error:ke.value===!1}),{...s,default:Le=>{let{props:{class:Ve,...Je}}=Le;const Ue=oi(T("input",it({ref:L,value:u.value,onInput:Q,autofocus:e.autofocus,readonly:qe.value,disabled:Ie.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:B,onBlur:p},Je,j),null),[[ks("intersect"),{handler:k},null,{once:!0}]]);return T(Ht,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[T("span",{class:"v-text-field__prefix__text"},[e.prefix])]),s.default?T("div",{class:Ve,"data-no-activator":""},[s.default(),Ue]):dl(Ue,{class:Ve}),e.suffix&&T("span",{class:"v-text-field__suffix"},[T("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:re?ve=>{var fe;return T(Ht,null,[(fe=s.details)==null?void 0:fe.call(s,ve),ee&&T(Ht,null,[T("span",null,null),T(fx,{active:e.persistentCounter||h.value,value:y.value,max:b.value,disabled:e.disabled},s.counter)])])}:void 0})}),Ro({},I,R,L)}}),O3=We({hideActions:Boolean,...px(),...oE(),...ym({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...Lr(SE({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),F3=ht()({name:"VDateInput",props:O3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=Mo(),{isFocused:u,focus:h,blur:o}=gm(e),p=dn(e,"modelValue",e.multiple?[]:null),y=Rt(!1),b=Y(()=>{const R=Wr(p.value);if(!R.length)return null;if(e.multiple===!0)return r("$vuetify.datePicker.itemsSelected",R.length);if(e.multiple==="range"){const L=R[0],F=R[R.length-1];return s.isValid(L)&&s.isValid(F)?`${s.format(L,"keyboardDate")} - ${s.format(F,"keyboardDate")}`:""}return s.isValid(p.value)?s.format(p.value,"keyboardDate"):""});function C(R){if(R.key!=="Enter")return;if(!y.value||!u.value){y.value=!0;return}const L=R.target;p.value=s.date(L.value)}function k(R){R.preventDefault(),R.stopPropagation(),y.value=!0}function I(){y.value=!1}St(()=>{const R=zk.filterProps(e),L=Hk.filterProps(Lr(e,["active"])),F=ii.filterProps(e);return T(ii,it(F,{modelValue:b.value,onKeydown:C,focused:y.value||u.value,onFocus:h,onBlur:o,"onClick:control":k,"onClick:prepend":k}),{default:()=>{var B;return[T(hx,{modelValue:y.value,"onUpdate:modelValue":q=>y.value=q,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[T(zk,it(R,{modelValue:p.value,"onUpdate:modelValue":q=>p.value=q,onSave:I}),{default:q=>{let{actions:K,model:se}=q;return T(Hk,it(L,{modelValue:e.hideActions?p.value:se.value,"onUpdate:modelValue":Q=>{e.hideActions?(p.value=Q,e.multiple||(y.value=!1)):se.value=Q},onMousedown:Q=>Q.preventDefault()}),{actions:e.hideActions?void 0:()=>K})}})]}),(B=n.default)==null?void 0:B.call(n)]}})})}}),z3=We({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...hn(),...vr()},"VDivider"),gr=ht()({name:"VDivider",props:z3(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{textColorClasses:u,textColorStyles:h}=Na(_t(e,"color")),o=Y(()=>{const p={};return e.length&&(p[e.vertical?"height":"width"]=Gt(e.length)),e.thickness&&(p[e.vertical?"borderRightWidth":"borderTopWidth"]=Gt(e.thickness)),p});return St(()=>{const p=T("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,u.value,e.class],style:[o.value,h.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?T("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[p,T("div",{class:"v-divider__content"},[r.default()]),p]):p}),{}}}),B3=We({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,min:{type:Number,default:-1/0},max:{type:Number,default:1/0},step:{type:Number,default:1},...Lr(ym(),["appendInnerIcon","prependInnerIcon"])},"VNumberInput"),V3=ht()({name:"VNumberInput",inheritAttrs:!1,props:{...B3()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=dn(e,"modelValue"),h=Y(()=>GS(e.step)),o=Y(()=>u.value!=null?GS(u.value):0),p=bv(),y=Y(()=>e.disabled||e.readonly||(p==null?void 0:p.isReadonly.value)),b=Y(()=>y.value?!1:u.value==null?!0:u.value+e.step<=e.max),C=Y(()=>y.value?!1:u.value==null?!0:u.value-e.step>=e.min);si(()=>{y.value||u.value!=null&&(u.value<e.min||u.value>e.max)&&(u.value=la(u.value,e.min,e.max))});const k=Y(()=>e.hideInput?"stacked":e.controlVariant),I=Y(()=>({click:F})),R=Y(()=>({click:B}));function L(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(y.value)return;if(u.value==null){u.value=0;return}const ee=Math.max(o.value,h.value);Q?b.value&&(u.value=+(u.value+e.step).toFixed(ee)):C.value&&(u.value=+(u.value-e.step).toFixed(ee))}function F(Q){Q.stopPropagation(),L()}function B(Q){Q.stopPropagation(),L(!1)}function q(Q){if(!(["Enter","ArrowLeft","ArrowRight","Backspace","Tab"].includes(Q.key)||Q.ctrlKey)){if(["ArrowDown"].includes(Q.key)){Q.preventDefault(),L(!1);return}if(["ArrowUp"].includes(Q.key)){Q.preventDefault(),L();return}/^[0-9\-+.]+$/.test(Q.key)||Q.preventDefault()}}function K(Q){u.value=Q?+Q:void 0}function se(Q){Q.stopPropagation()}St(()=>{const{modelValue:Q,...ee}=ii.filterProps(e);function re(){const ve=k.value==="stacked"?"auto":"100%";return T("div",{class:"v-number-input__control"},[s.decrement?T(Un,{key:"decrement-defaults",defaults:{VBtn:{disabled:!C.value,flat:!0,height:ve,size:"small",icon:"$expand"}}},{default:()=>[s.decrement(R.value)]}):T(Kt,{disabled:!C.value,flat:!0,key:"decrement-btn",height:ve,name:"decrement-btn",icon:"$expand",size:"small",tabindex:"-1",onClick:B,onMousedown:se},null),T(gr,{vertical:k.value!=="stacked"},null),s.increment?T(Un,{key:"increment-defaults",defaults:{VBtn:{disabled:!b.value,flat:!0,height:ve,size:"small",icon:"$collapse"}}},{default:()=>[s.increment(I.value)]}):T(Kt,{disabled:!b.value,flat:!0,key:"increment-btn",height:ve,name:"increment-btn",icon:"$collapse",onClick:F,onMousedown:se,size:"small",tabindex:"-1"},null)])}function H(){return!e.hideInput&&!e.inset?T(gr,{vertical:!0},null):void 0}const j=k.value==="split"?T("div",{class:"v-number-input__control"},[T(gr,{vertical:!0},null),T(Kt,{flat:!0,height:"100%",icon:"$plus",tile:!0,tabindex:"-1",onClick:F,onMousedown:se},null)]):e.reverse?void 0:T(Ht,null,[H(),re()]),Z=s["append-inner"]||j,le=k.value==="split"?T("div",{class:"v-number-input__control"},[T(Kt,{flat:!0,height:"100%",icon:"$minus",tile:!0,tabindex:"-1",onClick:B,onMousedown:se},null),T(gr,{vertical:!0},null)]):e.reverse?T(Ht,null,[re(),H()]):void 0,ne=s["prepend-inner"]||le;return T(ii,it({modelValue:u.value,"onUpdate:modelValue":K,onKeydown:q,class:["v-number-input",{"v-number-input--default":k.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":k.value==="split","v-number-input--stacked":k.value==="stacked"},e.class]},ee,{style:e.style,inputmode:"decimal"}),{...s,"append-inner":Z?function(){var Ae;for(var ve=arguments.length,fe=new Array(ve),Ie=0;Ie<ve;Ie++)fe[Ie]=arguments[Ie];return T(Ht,null,[(Ae=s["append-inner"])==null?void 0:Ae.call(s,...fe),j])}:void 0,"prepend-inner":ne?function(){var Ae;for(var ve=arguments.length,fe=new Array(ve),Ie=0;Ie<ve;Ie++)fe[Ie]=arguments[Ie];return T(Ht,null,[le,(Ae=s["prepend-inner"])==null?void 0:Ae.call(s,...fe)])}:void 0})})}}),vx=We({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Ob=ht()({name:"VStepperActions",props:vx(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li();function u(){n("click:prev")}function h(){n("click:next")}return St(()=>{const o={onClick:u},p={onClick:h};return T("div",{class:"v-stepper-actions"},[T(Un,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:s(e.prevText),variant:"text"}}},{default:()=>{var y;return[((y=r.prev)==null?void 0:y.call(r,{props:o}))??T(Kt,o,null)]}}),T(Un,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:s(e.nextText),variant:"tonal"}}},{default:()=>{var y;return[((y=r.next)==null?void 0:y.call(r,{props:p}))??T(Kt,p,null)]}})])}),{}}}),N3=We({...vx()},"VStepperActions"),LE=ht()({name:"VStepperVerticalActions",props:N3(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;function s(){n("click:prev")}function u(){n("click:next")}return St(()=>{const h=Ob.filterProps(e);return T(Ob,it({class:"v-stepper-vertical-actions"},h,{"onClick:prev":s,"onClick:next":u}),r)}),{}}}),Hf=Symbol.for("vuetify:v-expansion-panel"),RE=We({...hn(),...ux()},"VExpansionPanelText"),Xk=ht()({name:"VExpansionPanelText",props:RE(),setup(e,t){let{slots:n}=t;const r=vt(Hf);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:u}=dx(e,r.isSelected);return St(()=>T(ix,{onAfterLeave:u},{default:()=>{var h;return[oi(T("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&s.value&&T("div",{class:"v-expansion-panel-text__wrapper"},[(h=n.default)==null?void 0:h.call(n)])]),[[pl,r.isSelected.value]])]}})),{}}}),OE=We({color:String,expandIcon:{type:Ln,default:"$expand"},collapseIcon:{type:Ln,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...hn()},"VExpansionPanelTitle"),Jk=ht()({name:"VExpansionPanelTitle",directives:{Ripple:pu},props:OE(),setup(e,t){let{slots:n}=t;const r=vt(Hf);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"color"),h=Y(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return St(()=>{var o;return oi(T("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},s.value,e.class],style:[u.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[T("span",{class:"v-expansion-panel-title__overlay"},null),(o=n.default)==null?void 0:o.call(n,h.value),!e.hideActions&&T("span",{class:"v-expansion-panel-title__icon"},[n.actions?n.actions(h.value):T(nr,{icon:r.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[ks("ripple"),e.ripple]])}),{}}}),yx=We({title:String,text:String,bgColor:String,...ns(),...dm(),...Pi(),...Xn(),...OE(),...RE()},"VExpansionPanel"),Qk=ht()({name:"VExpansionPanel",props:yx(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=hm(e,Hf),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"bgColor"),{elevationClasses:h}=As(e),{roundedClasses:o}=Bi(e),p=Y(()=>(r==null?void 0:r.disabled.value)||e.disabled),y=Y(()=>r.group.items.value.reduce((k,I,R)=>(r.group.selected.value.includes(I.id)&&k.push(R),k),[])),b=Y(()=>{const k=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-k===1)}),C=Y(()=>{const k=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-k===-1)});return _n(Hf,r),St(()=>{const k=!!(n.text||e.text),I=!!(n.title||e.title),R=Jk.filterProps(e),L=Xk.filterProps(e);return T(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":b.value,"v-expansion-panel--after-active":C.value,"v-expansion-panel--disabled":p.value},o.value,s.value,e.class],style:[u.value,e.style]},{default:()=>{var F;return[T("div",{class:["v-expansion-panel__shadow",...h.value]},null),I&&T(Jk,it({key:"title"},R),{default:()=>[n.title?n.title():e.title]}),k&&T(Xk,it({key:"text"},L),{default:()=>[n.text?n.text():e.text]}),(F=n.default)==null?void 0:F.call(n)]}})}),{groupItem:r}}}),_x=Symbol.for("vuetify:v-stepper"),FE=We({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),$3=We({...FE(),...dm()},"VStepperItem"),U3=ht()({name:"VStepperItem",directives:{Ripple:pu},props:$3(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=hm(e,_x,!0),s=Y(()=>(r==null?void 0:r.value.value)??e.value),u=Y(()=>e.rules.every(k=>k()===!0)),h=Y(()=>!e.disabled&&e.editable),o=Y(()=>!e.disabled&&e.editable),p=Y(()=>e.error||!u.value),y=Y(()=>e.complete||e.rules.length>0&&u.value),b=Y(()=>p.value?e.errorIcon:y.value?e.completeIcon:r.isSelected.value&&e.editable?e.editIcon:e.icon),C=Y(()=>({canEdit:o.value,hasError:p.value,hasCompleted:y.value,title:e.title,subtitle:e.subtitle,step:s.value,value:e.value}));return St(()=>{var F,B,q;const k=(!r||r.isSelected.value||y.value||o.value)&&!p.value&&!e.disabled,I=!!(e.title!=null||n.title),R=!!(e.subtitle!=null||n.subtitle);function L(){r==null||r.toggle()}return oi(T("button",{class:["v-stepper-item",{"v-stepper-item--complete":y.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":p.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,onClick:L},[h.value&&xl(!0,"v-stepper-item"),T(Eo,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:k?e.color:void 0,size:24},{default:()=>{var K;return[((K=n.icon)==null?void 0:K.call(n,C.value))??(b.value?T(nr,{icon:b.value},null):s.value)]}}),T("div",{class:"v-stepper-item__content"},[I&&T("div",{key:"title",class:"v-stepper-item__title"},[((F=n.title)==null?void 0:F.call(n,C.value))??e.title]),R&&T("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((B=n.subtitle)==null?void 0:B.call(n,C.value))??e.subtitle]),(q=n.default)==null?void 0:q.call(n,C.value)])]),[[ks("ripple"),e.ripple&&e.editable,null]])}),{}}}),q3=We({hideActions:Boolean,...FE(),...Lr(yx({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),zE=ht()({name:"VStepperVerticalItem",props:q3(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=dt(),u=Y(()=>isNaN(parseInt(e.value))?e.value:Number(e.value)),h=Y(()=>{var q;return(q=s.value)==null?void 0:q.groupItem}),o=Y(()=>{var q;return((q=h.value)==null?void 0:q.isSelected.value)??!1}),p=Y(()=>o.value?e.rules.every(q=>q()===!0):null),y=Y(()=>!e.disabled&&e.editable),b=Y(()=>e.error||o.value&&!p.value),C=Y(()=>e.complete||e.rules.length>0&&p.value===!0),k=Y(()=>{var q;return e.disabled?e.disabled:(q=h.value)!=null&&q.isFirst.value?"prev":!1}),I=Y(()=>{var q;return b.value?e.errorIcon:C.value?e.completeIcon:(q=h.value)!=null&&q.isSelected.value&&e.editable?e.editIcon:e.icon}),R=Y(()=>({canEdit:y.value,hasError:b.value,hasCompleted:C.value,title:e.title,subtitle:e.subtitle,step:u.value,value:e.value})),L=Y(()=>({...R.value,prev:B,next:F}));function F(){var q;n("click:next"),!((q=h.value)!=null&&q.isLast.value)&&h.value.group.next()}function B(){n("click:prev"),h.value.group.prev()}return St(()=>{var Q;const q=(C.value||((Q=h.value)==null?void 0:Q.isSelected.value))&&!b.value&&!e.disabled,K=!e.hideActions||!!r.actions,se=Qk.filterProps(e);return T(Qk,it({_as:"VStepperVerticalItem",ref:s},se,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":C.value,"v-stepper-vertical-item--disabled":e.disabled,"v-stepper-vertical-item--editable":y.value,"v-stepper-vertical-item--error":b.value},e.class],readonly:!e.editable,style:e.style,color:"","hide-actions":!1,value:u.value}),{title:()=>{var ee,re;return T(Ht,null,[T(Eo,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:q?e.color:void 0,size:24,start:!0},{default:()=>{var H;return[((H=r.icon)==null?void 0:H.call(r,R.value))??(I.value?T(nr,{icon:I.value},null):u.value)]}}),T("div",null,[T("div",{class:"v-stepper-vertical-item__title"},[((ee=r.title)==null?void 0:ee.call(r,R.value))??e.title]),T("div",{class:"v-stepper-vertical-item__subtitle"},[((re=r.subtitle)==null?void 0:re.call(r,R.value))??e.subtitle])])])},text:()=>{var ee,re;return T(Ht,null,[((ee=r.default)==null?void 0:ee.call(r,R.value))??e.text,K&&T(Un,{defaults:{VStepperVerticalActions:{disabled:k.value,finish:(re=h.value)==null?void 0:re.isLast.value}}},{default:()=>{var H;return[((H=r.actions)==null?void 0:H.call(r,L.value))??T(LE,{"onClick:next":F,"onClick:prev":B},{prev:r.prev?()=>{var j;return(j=r.prev)==null?void 0:j.call(r,L.value)}:void 0,next:r.next?()=>{var j;return(j=r.next)==null?void 0:j.call(r,L.value)}:void 0})]}})])}})}),{}}}),j3=["default","accordion","inset","popout"],BE=We({flat:Boolean,...um(),...yx(),...vr(),variant:{type:String,default:"default",validator:e=>j3.includes(e)}},"VExpansionPanels"),eC=ht()({name:"VExpansionPanels",props:BE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:r,prev:s}=Nd(e,Hf),{themeClasses:u}=Rr(e),h=Y(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ua({VExpansionPanel:{bgColor:_t(e,"bgColor"),collapseIcon:_t(e,"collapseIcon"),color:_t(e,"color"),eager:_t(e,"eager"),elevation:_t(e,"elevation"),expandIcon:_t(e,"expandIcon"),focusable:_t(e,"focusable"),hideActions:_t(e,"hideActions"),readonly:_t(e,"readonly"),ripple:_t(e,"ripple"),rounded:_t(e,"rounded"),static:_t(e,"static")}}),St(()=>T(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},u.value,h.value,e.class],style:e.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:r})]}})),{next:r,prev:s}}}),H3=zd("v-stepper-header"),G3=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:s}=e,u=.5,h=16;e.offsetX=n-t,e.offsetY=s-r,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&n<t-h&&e.left(e),e.right&&n>t+h&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&s<r-h&&e.up(e),e.down&&s>r+h&&e.down(e))};function W3(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function Y3(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),G3(t)}function Z3(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function K3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>W3(n,t),touchend:n=>Y3(n,t),touchmove:n=>Z3(n,t)}}function X3(e,t){var o;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,s=(n==null?void 0:n.options)??{passive:!0},u=(o=t.instance)==null?void 0:o.$.uid;if(!r||!u)return;const h=K3(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[u]=h,WT(h).forEach(p=>{r.addEventListener(p,h[p],s)})}function J3(e,t){var u,h;const n=(u=t.value)!=null&&u.parent?e.parentElement:e,r=(h=t.instance)==null?void 0:h.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const s=n._touchHandlers[r];WT(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[r]}const VE={mounted:X3,unmounted:J3},Q3=VE,NE=Symbol.for("vuetify:v-window"),$E=Symbol.for("vuetify:v-window-group"),bx=We({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...hn(),...Xn(),...vr()},"VWindow"),Gf=ht()({name:"VWindow",directives:{Touch:VE},props:bx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{isRtl:s}=es(),{t:u}=li(),h=Nd(e,$E),o=dt(),p=Y(()=>s.value?!e.reverse:e.reverse),y=Rt(!1),b=Y(()=>{const se=e.direction==="vertical"?"y":"x",ee=(p.value?!y.value:y.value)?"-reverse":"";return`v-window-${se}${ee}-transition`}),C=Rt(0),k=dt(void 0),I=Y(()=>h.items.value.findIndex(se=>h.selected.value.includes(se.id)));ot(I,(se,Q)=>{const ee=h.items.value.length,re=ee-1;ee<=2?y.value=se<Q:se===re&&Q===0?y.value=!0:se===0&&Q===re?y.value=!1:y.value=se<Q}),_n(NE,{transition:b,isReversed:y,transitionCount:C,transitionHeight:k,rootRef:o});const R=Y(()=>e.continuous||I.value!==0),L=Y(()=>e.continuous||I.value!==h.items.value.length-1);function F(){R.value&&h.prev()}function B(){L.value&&h.next()}const q=Y(()=>{const se=[],Q={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${p.value?"right":"left"}`,onClick:h.prev,"aria-label":u("$vuetify.carousel.prev")};se.push(R.value?n.prev?n.prev({props:Q}):T(Kt,Q,null):T("div",null,null));const ee={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${p.value?"left":"right"}`,onClick:h.next,"aria-label":u("$vuetify.carousel.next")};return se.push(L.value?n.next?n.next({props:ee}):T(Kt,ee,null):T("div",null,null)),se}),K=Y(()=>e.touch===!1?e.touch:{...{left:()=>{p.value?F():B()},right:()=>{p.value?B():F()},start:Q=>{let{originalEvent:ee}=Q;ee.stopPropagation()}},...e.touch===!0?{}:e.touch});return St(()=>oi(T(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var se,Q;return[T("div",{class:"v-window__container",style:{height:k.value}},[(se=n.default)==null?void 0:se.call(n,{group:h}),e.showArrows!==!1&&T("div",{class:"v-window__controls"},[q.value])]),(Q=n.additional)==null?void 0:Q.call(n,{group:h})]}}),[[ks("touch"),K.value]])),{group:h}}}),e4=We({...Lr(bx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),t4=ht()({name:"VStepperWindow",props:e4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=vt(_x,null),s=dn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return St(()=>{const h=Gf.filterProps(e);return T(Gf,it({_as:"VStepperWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}});function _m(){const e=Rt(!1);return ha(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:Y(()=>e.value?void 0:{transition:"none !important"}),isBooted:Od(e)}}const xx=We({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...hn(),...dm(),...ux()},"VWindowItem"),ru=ht()({name:"VWindowItem",directives:{Touch:Q3},props:xx(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=vt(NE),s=hm(e,$E),{isBooted:u}=_m();if(!r||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const h=Rt(!1),o=Y(()=>u.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function p(){!h.value||!r||(h.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function y(){var R;h.value||!r||(h.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Gt((R=r.rootRef.value)==null?void 0:R.clientHeight)),r.transitionCount.value+=1)}function b(){p()}function C(R){h.value&&Hn(()=>{!o.value||!h.value||!r||(r.transitionHeight.value=Gt(R.clientHeight))})}const k=Y(()=>{const R=r.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof R!="string"?r.transition.value:R,onBeforeEnter:y,onAfterEnter:p,onEnterCancelled:b,onBeforeLeave:y,onAfterLeave:p,onLeaveCancelled:b,onEnter:C}:!1}),{hasContent:I}=dx(e,s.isSelected);return St(()=>T(_s,{transition:k.value,disabled:!u.value},{default:()=>{var R;return[oi(T("div",{class:["v-window-item",s.selectedClass.value,e.class],style:e.style},[I.value&&((R=n.default)==null?void 0:R.call(n))]),[[pl,s.isSelected.value]])]}})),{groupItem:s}}}),n4=We({...xx()},"VStepperWindowItem"),r4=ht()({name:"VStepperWindowItem",props:n4(),setup(e,t){let{slots:n}=t;return St(()=>{const r=ru.filterProps(e);return T(ru,it({_as:"VStepperWindowItem"},r,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),UE=We({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Bd()},"Stepper"),i4=We({...UE(),...um({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...ex(),...ZT(vx(),["prevText","nextText"])},"VStepper");ht()({name:"VStepper",props:i4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:r,next:s,prev:u,selected:h}=Nd(e,_x),{displayClasses:o,mobile:p}=vl(e),{completeIcon:y,editIcon:b,errorIcon:C,color:k,editable:I,prevText:R,nextText:L}=rm(e),F=Y(()=>e.items.map((K,se)=>{const Q=zi(K,e.itemTitle,K),ee=zi(K,e.itemValue,se+1);return{title:Q,value:ee,raw:K}})),B=Y(()=>r.value.findIndex(K=>h.value.includes(K.id))),q=Y(()=>e.disabled?e.disabled:B.value===0?"prev":B.value===r.value.length-1?"next":!1);return ua({VStepperItem:{editable:I,errorIcon:C,completeIcon:y,editIcon:b,prevText:R,nextText:L},VStepperActions:{color:k,disabled:q,prevText:R,nextText:L}}),St(()=>{const K=cc.filterProps(e),se=!!(n.header||e.items.length),Q=e.items.length>0,ee=!e.hideActions&&!!(Q||n.actions);return T(cc,it(K,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":p.value},o.value,e.class],style:e.style}),{default:()=>{var re,H;return[se&&T(H3,{key:"stepper-header"},{default:()=>[F.value.map((j,Z)=>{let{raw:le,...ne}=j;return T(Ht,null,[!!Z&&T(gr,null,null),T(U3,ne,{default:n[`header-item.${ne.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),Q&&T(t4,{key:"stepper-window"},{default:()=>[F.value.map(j=>T(r4,{value:j.value},{default:()=>{var Z,le;return((Z=n[`item.${j.value}`])==null?void 0:Z.call(n,j))??((le=n.item)==null?void 0:le.call(n,j))}}))]}),(re=n.default)==null?void 0:re.call(n,{prev:u,next:s}),ee&&(((H=n.actions)==null?void 0:H.call(n,{next:s,prev:u}))??T(Ob,{key:"stepper-actions","onClick:prev":u,"onClick:next":s},n))]}})}),{prev:u,next:s}}});const a4=We({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...UE(),...Lr(BE({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),s4=ht()({name:"VStepperVertical",props:a4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dt(),{color:s,editable:u,prevText:h,nextText:o,hideActions:p}=rm(e),y=dn(e,"modelValue"),b=Y(()=>e.items.map((C,k)=>{const I=zi(C,e.itemTitle,C),R=zi(C,e.itemValue,k+1);return{title:I,value:R,raw:C}}));return ua({VStepperVerticalItem:{color:s,editable:u,prevText:h,nextText:o,hideActions:p,static:!0},VStepperActions:{color:s}}),St(()=>{const C=eC.filterProps(e);return T(eC,it(C,{modelValue:y.value,"onUpdate:modelValue":k=>y.value=k,ref:r,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{...n,default:k=>{var L;let{prev:I,next:R}=k;return T(Ht,null,[b.value.map(F=>{let{raw:B,...q}=F;return T(zE,q,{...n,default:n[`item.${q.value}`]})}),(L=n.default)==null?void 0:L.call(n,{prev:I,next:R,step:y.value})])}})}),{}}}),o4=ht()({name:"VPullToRefresh",props:{pullDownThreshold:{type:Number,default:64}},emits:{load:e=>!0},setup(e,t){let{slots:n,emit:r}=t,s=0,u=[];const h=Rt(0),o=dt(),p=Rt(!1),y=Rt(!1),b=Rt(!1),C=Y(()=>h.value>=e.pullDownThreshold&&!p.value),k=Y(()=>la(h.value,0,e.pullDownThreshold));function I(F){p.value||(b.value=!0,s="clientY"in F?F.clientY:F.touches[0].clientY)}function R(F){if(p.value||!b.value)return;const B="clientY"in F?F.clientY:F.touches[0].clientY;u.length&&!u[0].scrollTop&&(h.value=B-s)}function L(F){if(!p.value)if(b.value=!1,C.value){let q=function(){p.value&&(h.value=0,p.value=!1)};var B=q;r("load",{done:q}),p.value=!0}else h.value=0}ha(()=>{u=zf(o.value)}),ot([k,p],()=>{if(u.length){const F=k.value&&!p.value;u.forEach(B=>B.style.overflow=F?"hidden":"auto")}}),ot(k,(F,B)=>{y.value=F<B}),St(()=>{var F;return T("div",{class:["v-pull-to-refresh"],onTouchstart:I,onTouchmove:R,onTouchend:L,onMousedown:I,onMouseup:L,onMouseleave:L,onMousemove:R,ref:o},[T("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":b.value}],style:{top:Gt(-1*e.pullDownThreshold+k.value),height:Gt(e.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:C.value,goingUp:y.value,refreshing:p.value}):T("div",{class:["v-pull-to-refresh__pull-down-default"]},[p.value?T(Fg,{indeterminate:!0,active:!1},null):T(nr,{icon:C.value||y.value?"$sortAsc":"$sortDesc"},null)])]),T("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":b.value}],style:{top:Gt(k.value)}},[(F=n.default)==null?void 0:F.call(n)])])})}});function l4(e){const t=Rt(e);let n=-1;function r(){clearInterval(n)}function s(){r(),Hn(()=>t.value=e)}function u(h){const o=h?getComputedStyle(h):{transitionDuration:.2},p=parseFloat(o.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const y=performance.now();n=window.setInterval(()=>{const b=performance.now()-y+p;t.value=Math.max(e-b,0),t.value<=0&&r()},p)}return da(r),{clear:r,time:t,start:u,reset:s}}const qE=We({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...fu({location:"bottom"}),...lm(),...Pi(),...ro(),...vr(),...Lr(vv({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),tC=ht()({name:"VSnackbar",props:qE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dn(e,"modelValue"),{positionClasses:s}=cm(e),{scopeId:u}=Ud(),{themeClasses:h}=Rr(e),{colorClasses:o,colorStyles:p,variantClasses:y}=mu(e),{roundedClasses:b}=Bi(e),C=l4(Number(e.timeout)),k=dt(),I=dt(),R=Rt(!1),L=Rt(0),F=dt(),B=vt(Nf,void 0);Ja(()=>!!B,()=>{const Z=CA();si(()=>{F.value=Z.mainStyles.value})}),ot(r,K),ot(()=>e.timeout,K),ha(()=>{r.value&&K()});let q=-1;function K(){C.reset(),window.clearTimeout(q);const Z=Number(e.timeout);if(!r.value||Z===-1)return;const le=$0(I.value);C.start(le),q=window.setTimeout(()=>{r.value=!1},Z)}function se(){C.reset(),window.clearTimeout(q)}function Q(){R.value=!0,se()}function ee(){R.value=!1,K()}function re(Z){L.value=Z.touches[0].clientY}function H(Z){Math.abs(L.value-Z.changedTouches[0].clientY)>50&&(r.value=!1)}const j=Y(()=>e.location.split(" ").reduce((Z,le)=>(Z[`v-snackbar--${le}`]=!0,Z),{}));return St(()=>{const Z=Pd.filterProps(e),le=!!(n.default||n.text||e.text);return T(Pd,it({ref:k,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},j.value,s.value,e.class],style:[F.value,e.style]},Z,{modelValue:r.value,"onUpdate:modelValue":ne=>r.value=ne,contentProps:it({class:["v-snackbar__wrapper",h.value,o.value,b.value,y.value],style:[p.value],onPointerenter:Q,onPointerleave:ee},Z.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:re,onTouchend:H},u),{default:()=>{var ne,ve;return[xl(!1,"v-snackbar"),e.timer&&!R.value&&T("div",{key:"timer",class:"v-snackbar__timer"},[T(fv,{ref:I,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":C.time.value},null)]),le&&T("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((ne=n.text)==null?void 0:ne.call(n))??e.text,(ve=n.default)==null?void 0:ve.call(n)]),n.actions&&T(Un,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[T("div",{class:"v-snackbar__actions"},[n.actions({isActive:r})])]})]},activator:n.activator})}),Ro({},k)}}),c4=We({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...Lr(qE(),["modelValue"])},"VSnackbarQueue"),u4=ht()({name:"VSnackbarQueue",props:c4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li(),u=Rt(!1),h=Rt(!1),o=Rt();ot(()=>e.modelValue.length,(k,I)=>{!h.value&&k>I&&y()}),ot(u,k=>{k&&(h.value=!0)});function p(){e.modelValue.length?y():(o.value=void 0,h.value=!1)}function y(){const[k,...I]=e.modelValue;n("update:modelValue",I),o.value=typeof k=="string"?{text:k}:k,Hn(()=>{u.value=!0})}function b(){u.value=!1}const C=Y(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:s(e.closeText)}));St(()=>{const k=!!(e.closable||r.actions),{modelValue:I,...R}=tC.filterProps(e);return T(Ht,null,[h.value&&!!o.value&&(r.default?T(Un,{defaults:{VSnackbar:o.value}},{default:()=>[r.default({item:o.value})]}):T(tC,it(R,o.value,{modelValue:u.value,"onUpdate:modelValue":L=>u.value=L,onAfterLeave:p}),{text:r.text?()=>{var L;return(L=r.text)==null?void 0:L.call(r,{item:o.value})}:void 0,actions:k?()=>T(Ht,null,[r.actions?T(Un,{defaults:{VBtn:C.value}},{default:()=>[r.actions({item:o.value,props:{onClick:b}})]}):T(Kt,it(C.value,{onClick:b}),null)]):void 0}))])})}}),d4=We({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),Fb=ht()({name:"VTimePickerClock",props:d4(),emits:{change:e=>e,input:e=>e},setup(e,t){let{emit:n}=t;const r=dt(null),s=dt(null),u=dt(void 0),h=dt(!1),o=dt(null),p=dt(null),{textColorClasses:y,textColorStyles:b}=Na(_t(e,"color")),{backgroundColorClasses:C,backgroundColorStyles:k}=yi(_t(e,"color")),I=Y(()=>e.max-e.min+1),R=Y(()=>e.double?I.value/2:I.value),L=Y(()=>360/R.value),F=Y(()=>L.value*Math.PI/180),B=Y(()=>e.modelValue==null?e.min:e.modelValue),q=Y(()=>.62),K=Y(()=>{const ke=[];for(let Le=e.min;Le<=e.max;Le=Le+e.step)ke.push(Le);return ke});ot(()=>e.modelValue,ke=>{u.value=ke});function se(ke){u.value!==ke&&(u.value=ke),n("input",ke)}function Q(ke){return!e.allowedValues||e.allowedValues(ke)}function ee(ke){ke.preventDefault();const Le=Math.sign(-ke.deltaY||1);let Ve=B.value;do Ve=Ve+Le,Ve=(Ve-e.min+I.value)%I.value+e.min;while(!Q(Ve)&&Ve!==B.value);Ve!==e.displayedValue&&se(Ve)}function re(ke){return e.double&&ke-e.min>=R.value}function H(ke){return re(ke)?q.value:1}function j(ke){const Le=e.rotate*Math.PI/180;return{x:Math.sin((ke-e.min)*F.value+Le)*H(ke),y:-Math.cos((ke-e.min)*F.value+Le)*H(ke)}}function Z(ke,Le){const Ve=(Math.round(ke/L.value)+(Le?R.value:0))%I.value+e.min;return ke<360-L.value/2?Ve:Le?e.max-R.value+1:e.min}function le(ke){const{x:Le,y:Ve}=j(ke);return{left:`${50+Le*50}%`,top:`${50+Ve*50}%`}}function ne(ke,Le){const Ve=Le.x-ke.x,Je=Le.y-ke.y;return Math.sqrt(Ve*Ve+Je*Je)}function ve(ke,Le){const Ve=2*Math.atan2(Le.y-ke.y-ne(ke,Le),Le.x-ke.x);return Math.abs(Ve*180/Math.PI)}function fe(ke){o.value===null&&(o.value=ke),p.value=ke,se(ke)}function Ie(ke){var kt,$t;if(ke.preventDefault(),!h.value&&ke.type!=="click"||!r.value)return;const{width:Le,top:Ve,left:Je}=(kt=r.value)==null?void 0:kt.getBoundingClientRect(),{width:Ue}=(($t=s.value)==null?void 0:$t.getBoundingClientRect())??{width:0},{clientX:ct,clientY:Lt}="touches"in ke?ke.touches[0]:ke,mt={x:Le/2,y:-Le/2},Tt={x:ct-Je,y:Ve-Lt},Ne=Math.round(ve(mt,Tt)-e.rotate+360)%360,st=e.double&&ne(mt,Tt)<(Ue+Ue*q.value)/4,He=Math.ceil(15/L.value);let $e;for(let ae=0;ae<He;ae++)if($e=Z(Ne+ae*L.value,st),Q($e)||($e=Z(Ne-ae*L.value,st),Q($e)))return fe($e)}function Ae(ke){ke.preventDefault(),window.addEventListener("mousemove",Ie),window.addEventListener("touchmove",Ie),window.addEventListener("mouseup",qe),window.addEventListener("touchend",qe),o.value=null,p.value=null,h.value=!0,Ie(ke)}function qe(ke){ke.stopPropagation(),window.removeEventListener("mousemove",Ie),window.removeEventListener("touchmove",Ie),window.removeEventListener("mouseup",qe),window.removeEventListener("touchend",qe),h.value=!1,p.value!==null&&Q(p.value)&&n("change",p.value)}St(()=>T("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}],onMousedown:Ae,onTouchstart:Ae,onWheel:ke=>e.scrollable&&ee(ke),ref:r},[T("div",{class:"v-time-picker-clock__inner",ref:s},[T("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":re(e.modelValue)},y.value],style:[{transform:`rotate(${e.rotate+L.value*(B.value-e.min)}deg) scaleY(${H(B.value)})`},b.value]},null),K.value.map(ke=>{const Le=ke===B.value;return T("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":Le,"v-time-picker-clock__item--disabled":e.disabled||!Q(ke)},Le&&C.value],style:[le(ke),Le&&k.value]},[T("span",null,[e.format(ke)])])})])]))}}),h4=(e,t,n)=>(t=t>>0,e=String(e),n=String(n),e.length>t?String(e):(t=t-e.length,t>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e))),Zc=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return h4(e,t,"0")};var ri=function(e){return e[e.Hour=1]="Hour",e[e.Minute=2]="Minute",e[e.Second=3]="Second",e}(ri||{});const f4=We({ampm:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),zb=ht()({name:"VTimePickerControls",props:f4(),emits:{"update:period":e=>e,"update:selecting":e=>e},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li();return St(()=>{let u=e.hour;return e.ampm&&(u=u?(u-1)%12+1:12),T("div",{class:"v-time-picker-controls"},[T("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds}},[T(Kt,{active:e.selecting===1,color:e.selecting===1?e.color:void 0,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.hour==null?"--":Zc(`${u}`),onClick:()=>n("update:selecting",ri.Hour)},null),T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]},[zt(":")]),T(Kt,{active:e.selecting===2,color:e.selecting===2?e.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===2,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},variant:"tonal",text:e.minute==null?"--":Zc(e.minute),onClick:()=>n("update:selecting",ri.Minute)},null),e.useSeconds&&T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}],key:"secondsDivider"},[zt(":")]),e.useSeconds&&T(Kt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",ri.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===3,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.second==null?"--":Zc(e.second)},null),e.ampm&&T("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":e.ampmReadonly}]},[T(Kt,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"},text:s("$vuetify.timePicker.am"),variant:"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),T(Kt,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"},text:s("$vuetify.timePicker.pm"),variant:"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),m4=Ws(24),jE=Ws(12),p4=jE.map(e=>e+12);Ws(60);const g4={1:"hour",2:"minute",3:"second"},v4=We({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...Lr(cx({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),y4=ht()({name:"VTimePicker",props:v4(),emits:{"update:hour":e=>e,"update:minute":e=>e,"update:period":e=>e,"update:second":e=>e,"update:modelValue":e=>e},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li(),u=dt(null),h=dt(null),o=dt(null),p=dt(null),y=dt(null),b=dt(null),C=dt("am"),k=dt(ri.Hour),I=dt(null),R=dt(null),L=Y(()=>{let ne;if(e.allowedHours instanceof Array?ne=Ie=>e.allowedHours.includes(Ie):ne=e.allowedHours,!e.min&&!e.max)return ne;const ve=e.min?Number(e.min.split(":")[0]):0,fe=e.max?Number(e.max.split(":")[0]):23;return Ie=>Ie>=ve*1&&Ie<=fe*1&&(!ne||ne(Ie))}),F=Y(()=>{let ne;const ve=!L.value||u.value===null||L.value(u.value);if(e.allowedMinutes instanceof Array?ne=Ve=>e.allowedMinutes.includes(Ve):ne=e.allowedMinutes,!e.min&&!e.max)return ve?ne:()=>!1;const[fe,Ie]=e.min?e.min.split(":").map(Number):[0,0],[Ae,qe]=e.max?e.max.split(":").map(Number):[23,59],ke=fe*60+Ie*1,Le=Ae*60+qe*1;return Ve=>{const Je=60*u.value+Ve;return Je>=ke&&Je<=Le&&ve&&(!ne||ne(Ve))}}),B=Y(()=>{let ne;const fe=(!L.value||u.value===null||L.value(u.value))&&(!F.value||h.value===null||F.value(h.value));if(e.allowedSeconds instanceof Array?ne=ct=>e.allowedSeconds.includes(ct):ne=e.allowedSeconds,!e.min&&!e.max)return fe?ne:()=>!1;const[Ie,Ae,qe]=e.min?e.min.split(":").map(Number):[0,0,0],[ke,Le,Ve]=e.max?e.max.split(":").map(Number):[23,59,59],Je=Ie*3600+Ae*60+(qe||0)*1,Ue=ke*3600+Le*60+(Ve||0)*1;return ct=>{const Lt=3600*u.value+60*h.value+ct;return Lt>=Je&&Lt<=Ue&&fe&&(!ne||ne(ct))}}),q=Y(()=>e.format==="ampm");ot(()=>e.modelValue,ne=>re(ne)),ha(()=>{re(e.modelValue)});function K(){return u.value!=null&&h.value!=null&&(!e.useSeconds||o.value!=null)?`${Zc(u.value)}:${Zc(h.value)}`+(e.useSeconds?`:${Zc(o.value)}`:""):null}function se(){const ne=K();ne!==null&&n("update:modelValue",ne)}function Q(ne){return ne?(ne-1)%12+1:12}function ee(ne,ve){return ne%12+(ve==="pm"?12:0)}function re(ne){if(ne==null||ne==="")u.value=null,h.value=null,o.value=null;else if(ne instanceof Date)u.value=ne.getHours(),h.value=ne.getMinutes(),o.value=ne.getSeconds();else{const[ve,,fe,,Ie,Ae]=ne.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);u.value=Ae?ee(parseInt(ve,10),Ae):parseInt(ve,10),h.value=parseInt(fe,10),o.value=parseInt(Ie||0,10)}C.value=u.value==null||u.value<12?"am":"pm"}function H(ne,ve){const fe=L.value;if(!fe)return ve;const Ie=q.value?ve<12?jE:p4:m4;return((Ie.find(qe=>fe((qe+ve)%Ie.length+Ie[0]))||0)+ve)%Ie.length+Ie[0]}function j(ne){if(C.value=ne,u.value!=null){const ve=u.value+(C.value==="am"?-12:12);u.value=H("hour",ve)}return n("update:period",ne),se(),!0}function Z(ne){k.value===ri.Hour?u.value=q.value?ee(ne,C.value):ne:k.value===ri.Minute?h.value=ne:o.value=ne}function le(ne){switch(g4[k.value]){case"hour":n("update:hour",ne);break;case"minute":n("update:minute",ne);break;case"second":n("update:second",ne);break}const ve=k.value===(e.useSeconds?ri.Second:ri.Minute);k.value===ri.Hour?k.value=ri.Minute:e.useSeconds&&k.value===ri.Minute&&(k.value=ri.Second),!(u.value===p.value&&h.value===y.value&&(!e.useSeconds||o.value===b.value)||K()===null)&&(p.value=u.value,y.value=h.value,e.useSeconds&&(b.value=o.value),ve&&se())}St(()=>{const ne=jf.filterProps(e),ve=zb.filterProps(e),fe=Fb.filterProps(Lr(e,["format","modelValue","min","max"]));return T(jf,it(ne,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var Ie;return((Ie=r.title)==null?void 0:Ie.call(r))??T("div",{class:"v-time-picker__title"},[s(e.title)])},header:()=>T(zb,it(ve,{ampm:q.value||e.ampmInTitle,ampmReadonly:q.value&&!e.ampmInTitle,hour:u.value,minute:h.value,period:C.value,second:o.value,selecting:k.value,"onUpdate:period":Ie=>j(Ie),"onUpdate:selecting":Ie=>k.value=Ie,ref:I}),null),default:()=>T(Fb,it(fe,{allowedValues:k.value===ri.Hour?L.value:k.value===ri.Minute?F.value:B.value,double:k.value===ri.Hour&&!q.value,format:k.value===ri.Hour?q.value?Q:Ie=>Ie:Ie=>Zc(Ie,2),max:k.value===ri.Hour?q.value&&C.value==="am"?11:23:59,min:k.value===ri.Hour&&q.value&&C.value==="pm"?12:0,size:20,step:k.value===ri.Hour?1:5,modelValue:k.value===ri.Hour?u.value:k.value===ri.Minute?h.value:o.value,onChange:le,onInput:Z,ref:R}),null),actions:r.actions})})}}),Bb=Symbol.for("vuetify:list");function HE(){const e=vt(Bb,{hasPrepend:Rt(!1),updateHasPrepend:()=>null}),t={hasPrepend:Rt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return _n(Bb,t),e}function GE(){return vt(Bb,null)}const wx=e=>{const t={activate:n=>{let{id:r,value:s,activated:u}=n;return r=bn(r),e&&!s&&u.size===1&&u.has(r)||(s?u.add(r):u.delete(r)),u},in:(n,r,s)=>{let u=new Set;if(n!=null)for(const h of Wr(n))u=t.activate({id:h,value:!0,activated:new Set(u),children:r,parents:s});return u},out:n=>Array.from(n)};return t},WE=e=>{const t=wx(e);return{activate:r=>{let{activated:s,id:u,...h}=r;u=bn(u);const o=s.has(u)?new Set([u]):new Set;return t.activate({...h,id:u,activated:o})},in:(r,s,u)=>{let h=new Set;if(r!=null){const o=Wr(r);o.length&&(h=t.in(o.slice(0,1),s,u))}return h},out:(r,s,u)=>t.out(r,s,u)}},_4=e=>{const t=wx(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=bn(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},b4=e=>{const t=WE(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=bn(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},x4={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){const u=new Set;u.add(t);let h=s.get(t);for(;h!=null;)u.add(h),h=s.get(h);return u}else return r.delete(t),r},select:()=>null},YE={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){let u=s.get(t);for(r.add(t);u!=null&&u!==t;)r.add(u),u=s.get(u);return r}else r.delete(t);return r},select:()=>null},w4={open:YE.open,select:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(!n)return r;const u=[];let h=s.get(t);for(;h!=null;)u.push(h),h=s.get(h);return new Set(u)}},Sx=e=>{const t={select:n=>{let{id:r,value:s,selected:u}=n;if(r=bn(r),e&&!s){const h=Array.from(u.entries()).reduce((o,p)=>{let[y,b]=p;return b==="on"&&o.push(y),o},[]);if(h.length===1&&h[0]===r)return u}return u.set(r,s?"on":"off"),u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:n=>{const r=[];for(const[s,u]of n.entries())u==="on"&&r.push(s);return r}};return t},ZE=e=>{const t=Sx(e);return{select:r=>{let{selected:s,id:u,...h}=r;u=bn(u);const o=s.has(u)?new Map([[u,s.get(u)]]):new Map;return t.select({...h,id:u,selected:o})},in:(r,s,u)=>{let h=new Map;return r!=null&&r.length&&(h=t.in(r.slice(0,1),s,u)),h},out:(r,s,u)=>t.out(r,s,u)}},S4=e=>{const t=Sx(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=bn(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},k4=e=>{const t=ZE(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=bn(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},C4=e=>{const t={select:n=>{let{id:r,value:s,selected:u,children:h,parents:o}=n;r=bn(r);const p=new Map(u),y=[r];for(;y.length;){const C=y.shift();u.set(C,s?"on":"off"),h.has(C)&&y.push(...h.get(C))}let b=o.get(r);for(;b;){const C=h.get(b),k=C.every(R=>u.get(R)==="on"),I=C.every(R=>!u.has(R)||u.get(R)==="off");u.set(b,k?"on":I?"off":"indeterminate"),b=o.get(b)}return e&&!s&&Array.from(u.entries()).reduce((k,I)=>{let[R,L]=I;return L==="on"&&k.push(R),k},[]).length===0?p:u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:(n,r)=>{const s=[];for(const[u,h]of n.entries())h==="on"&&!r.has(u)&&s.push(u);return s}};return t},Wf=Symbol.for("vuetify:nested"),KE={id:Rt(),root:{register:()=>null,unregister:()=>null,parents:dt(new Map),children:dt(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:dt(!1),selectable:dt(!1),opened:dt(new Set),activated:dt(new Set),selected:dt(new Map),selectedValues:dt([])}},T4=We({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),A4=e=>{let t=!1;const n=dt(new Map),r=dt(new Map),s=dn(e,"opened",e.opened,I=>new Set(I),I=>[...I.values()]),u=Y(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return _4(e.mandatory);case"single-leaf":return b4(e.mandatory);case"independent":return wx(e.mandatory);case"single-independent":default:return WE(e.mandatory)}}),h=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return k4(e.mandatory);case"leaf":return S4(e.mandatory);case"independent":return Sx(e.mandatory);case"single-independent":return ZE(e.mandatory);case"classic":default:return C4(e.mandatory)}}),o=Y(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return w4;case"single":return x4;case"multiple":default:return YE}}),p=dn(e,"activated",e.activated,I=>u.value.in(I,n.value,r.value),I=>u.value.out(I,n.value,r.value)),y=dn(e,"selected",e.selected,I=>h.value.in(I,n.value,r.value),I=>h.value.out(I,n.value,r.value));wr(()=>{t=!0});function b(I){const R=[];let L=I;for(;L!=null;)R.unshift(L),L=r.value.get(L);return R}const C=Jr("nested"),k={id:Rt(),root:{opened:s,activatable:_t(e,"activatable"),selectable:_t(e,"selectable"),activated:p,selected:y,selectedValues:Y(()=>{const I=[];for(const[R,L]of y.value.entries())L==="on"&&I.push(R);return I}),register:(I,R,L)=>{R&&I!==R&&r.value.set(I,R),L&&n.value.set(I,[]),R!=null&&n.value.set(R,[...n.value.get(R)||[],I])},unregister:I=>{if(t)return;n.value.delete(I);const R=r.value.get(I);if(R){const L=n.value.get(R)??[];n.value.set(R,L.filter(F=>F!==I))}r.value.delete(I),s.value.delete(I)},open:(I,R,L)=>{C.emit("click:open",{id:I,value:R,path:b(I),event:L});const F=o.value.open({id:I,value:R,opened:new Set(s.value),children:n.value,parents:r.value,event:L});F&&(s.value=F)},openOnSelect:(I,R,L)=>{const F=o.value.select({id:I,value:R,selected:new Map(y.value),opened:new Set(s.value),children:n.value,parents:r.value,event:L});F&&(s.value=F)},select:(I,R,L)=>{C.emit("click:select",{id:I,value:R,path:b(I),event:L});const F=h.value.select({id:I,value:R,selected:new Map(y.value),children:n.value,parents:r.value,event:L});F&&(y.value=F),k.root.openOnSelect(I,R,L)},activate:(I,R,L)=>{if(!e.activatable)return k.root.select(I,!0,L);C.emit("click:activate",{id:I,value:R,path:b(I),event:L});const F=u.value.activate({id:I,value:R,activated:new Set(p.value),children:n.value,parents:r.value,event:L});F&&(p.value=F)},children:n,parents:r}};return _n(Wf,k),k.root},kx=(e,t)=>{const n=vt(Wf,KE),r=Symbol(Ts()),s=Y(()=>e.value!==void 0?e.value:r),u={...n,id:s,open:(h,o)=>n.root.open(s.value,h,o),openOnSelect:(h,o)=>n.root.openOnSelect(s.value,h,o),isOpen:Y(()=>n.root.opened.value.has(s.value)),parent:Y(()=>n.root.parents.value.get(s.value)),activate:(h,o)=>n.root.activate(s.value,h,o),isActivated:Y(()=>n.root.activated.value.has(bn(s.value))),select:(h,o)=>n.root.select(s.value,h,o),isSelected:Y(()=>n.root.selected.value.get(bn(s.value))==="on"),isIndeterminate:Y(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:Y(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,t),wr(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),t&&_n(Wf,u),u},E4=()=>{const e=vt(Wf,KE);_n(Wf,{...e,isGroupActivator:!0})},I4=Fd({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return E4(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),XE=We({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ln,default:"$collapse"},expandIcon:{type:Ln,default:"$expand"},prependIcon:Ln,appendIcon:Ln,fluid:Boolean,subgroup:Boolean,title:String,value:null,...hn(),...Xn()},"VListGroup"),Hs=ht()({name:"VListGroup",props:XE(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:s,id:u}=kx(_t(e,"value"),!0),h=Y(()=>`v-list-group--id-${String(u.value)}`),o=GE(),{isBooted:p}=_m();function y(I){I.stopPropagation(),s(!r.value,I)}const b=Y(()=>({onClick:y,class:"v-list-group__header",id:h.value})),C=Y(()=>r.value?e.collapseIcon:e.expandIcon),k=Y(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&C.value,appendIcon:e.appendIcon||!e.subgroup&&C.value,title:e.title,value:e.value}}));return St(()=>T(e.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&T(Un,{defaults:k.value},{default:()=>[T(I4,null,{default:()=>[n.activator({props:b.value,isOpen:r.value})]})]}),T(_s,{transition:{component:ix},disabled:!p.value},{default:()=>{var I;return[oi(T("div",{class:"v-list-group__items",role:"group","aria-labelledby":h.value},[(I=n.default)==null?void 0:I.call(n)]),[[pl,r.value]])]}})]})),{isOpen:r}}}),P4=We({...Lr(XE({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),Vb=ht()({name:"VTreeviewGroup",props:P4(),setup(e,t){let{slots:n}=t;const r=dt(),s=Y(()=>{var h;return(h=r.value)!=null&&h.isOpen?e.collapseIcon:e.expandIcon}),u=Y(()=>{var h;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(h=r.value)==null?void 0:h.isOpen,toggleIcon:s.value}}});return St(()=>{const h=Hs.filterProps(e);return T(Hs,it(h,{ref:r,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?o=>T(Ht,null,[T(Un,{defaults:u.value},{default:()=>{var p;return[(p=n.activator)==null?void 0:p.call(n,o)]}})]):void 0})}),{}}}),D4=We({opacity:[Number,String],...hn(),...Xn()},"VListItemSubtitle"),JE=ht()({name:"VListItemSubtitle",props:D4(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Wa=zd("v-list-item-title"),QE=We({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ln,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ln,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Wi(),onClickOnce:Wi(),...eo(),...hn(),...$a(),...to(),...ns(),...Pi(),...gv(),...Xn(),...vr(),...ro({variant:"text"})},"VListItem"),Pr=ht()({name:"VListItem",directives:{Ripple:pu},props:QE(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=mm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),{activate:o,isActivated:p,select:y,isSelected:b,isIndeterminate:C,isGroupActivator:k,root:I,parent:R,openOnSelect:L}=kx(h,!1),F=GE(),B=Y(()=>{var Ve;return e.active!==!1&&(e.active||((Ve=u.isActive)==null?void 0:Ve.value)||(I.activatable.value?p.value:b.value))}),q=Y(()=>e.link!==!1&&u.isLink.value),K=Y(()=>!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||!!F&&(I.selectable.value||I.activatable.value||e.value!=null))),se=Y(()=>e.rounded||e.nav),Q=Y(()=>e.color??e.activeColor),ee=Y(()=>({color:B.value?Q.value??e.baseColor:e.baseColor,variant:e.variant}));ot(()=>{var Ve;return(Ve=u.isActive)==null?void 0:Ve.value},Ve=>{Ve&&R.value!=null&&I.open(R.value,!0),Ve&&L(Ve)},{immediate:!0});const{themeClasses:re}=Rr(e),{borderClasses:H}=Lo(e),{colorClasses:j,colorStyles:Z,variantClasses:le}=mu(ee),{densityClasses:ne}=rs(e),{dimensionStyles:ve}=no(e),{elevationClasses:fe}=As(e),{roundedClasses:Ie}=Bi(se),Ae=Y(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),qe=Y(()=>({isActive:B.value,select:y,isSelected:b.value,isIndeterminate:C.value}));function ke(Ve){var Je;s("click",Ve),K.value&&((Je=u.navigate)==null||Je.call(u,Ve),!k&&(I.activatable.value?o(!p.value,Ve):(I.selectable.value||e.value!=null)&&y(!b.value,Ve)))}function Le(Ve){(Ve.key==="Enter"||Ve.key===" ")&&(Ve.preventDefault(),ke(Ve))}return St(()=>{const Ve=q.value?"a":e.tag,Je=r.title||e.title!=null,Ue=r.subtitle||e.subtitle!=null,ct=!!(e.appendAvatar||e.appendIcon),Lt=!!(ct||r.append),mt=!!(e.prependAvatar||e.prependIcon),Tt=!!(mt||r.prepend);return F==null||F.updateHasPrepend(Tt),e.activeColor&&FF("active-color",["color","base-color"]),oi(T(Ve,{class:["v-list-item",{"v-list-item--active":B.value,"v-list-item--disabled":e.disabled,"v-list-item--link":K.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Tt&&(F==null?void 0:F.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&B.value},re.value,H.value,j.value,ne.value,fe.value,Ae.value,Ie.value,le.value,e.class],style:[Z.value,ve.value,e.style],href:u.href.value,tabindex:K.value?F?-2:0:void 0,onClick:ke,onKeydown:K.value&&!q.value&&Le},{default:()=>{var Ne;return[xl(K.value||B.value,"v-list-item"),Tt&&T("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?T(Un,{key:"prepend-defaults",disabled:!mt,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var st;return[(st=r.prepend)==null?void 0:st.call(r,qe.value)]}}):T(Ht,null,[e.prependAvatar&&T(Eo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(nr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),T("div",{class:"v-list-item__spacer"},null)]),T("div",{class:"v-list-item__content","data-no-activator":""},[Je&&T(Wa,{key:"title"},{default:()=>{var st;return[((st=r.title)==null?void 0:st.call(r,{title:e.title}))??e.title]}}),Ue&&T(JE,{key:"subtitle"},{default:()=>{var st;return[((st=r.subtitle)==null?void 0:st.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(Ne=r.default)==null?void 0:Ne.call(r,qe.value)]),Lt&&T("div",{key:"append",class:"v-list-item__append"},[r.append?T(Un,{key:"append-defaults",disabled:!ct,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var st;return[(st=r.append)==null?void 0:st.call(r,qe.value)]}}):T(Ht,null,[e.appendIcon&&T(nr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Eo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),T("div",{class:"v-list-item__spacer"},null)])]}}),[[ks("ripple"),K.value&&e.ripple]])}),{activate:o,isActivated:p,isGroupActivator:k,isSelected:b,list:F,select:y}}}),M4=We({color:String,inset:Boolean,sticky:Boolean,title:String,...hn(),...Xn()},"VListSubheader"),L4=ht()({name:"VListSubheader",props:M4(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:s}=Na(_t(e,"color"));return St(()=>{const u=!!(n.default||e.title);return T(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var h;return[u&&T("div",{class:"v-list-subheader__text"},[((h=n.default)==null?void 0:h.call(n))??e.title])]}})}),{}}}),R4=We({items:Array,returnObject:Boolean},"VListChildren"),eI=ht()({name:"VListChildren",props:R4(),setup(e,t){let{slots:n}=t;return HE(),()=>{var r,s;return((r=n.default)==null?void 0:r.call(n))??((s=e.items)==null?void 0:s.map(u=>{var k,I;let{children:h,props:o,type:p,raw:y}=u;if(p==="divider")return((k=n.divider)==null?void 0:k.call(n,{props:o}))??T(gr,o,null);if(p==="subheader")return((I=n.subheader)==null?void 0:I.call(n,{props:o}))??T(L4,o,null);const b={subtitle:n.subtitle?R=>{var L;return(L=n.subtitle)==null?void 0:L.call(n,{...R,item:y})}:void 0,prepend:n.prepend?R=>{var L;return(L=n.prepend)==null?void 0:L.call(n,{...R,item:y})}:void 0,append:n.append?R=>{var L;return(L=n.append)==null?void 0:L.call(n,{...R,item:y})}:void 0,title:n.title?R=>{var L;return(L=n.title)==null?void 0:L.call(n,{...R,item:y})}:void 0},C=Hs.filterProps(o);return h?T(Hs,it({value:o==null?void 0:o.value},C),{activator:R=>{let{props:L}=R;const F={...o,...L,value:e.returnObject?y:o.value};return n.header?n.header({props:F}):T(Pr,F,b)},default:()=>T(eI,{items:h,returnObject:e.returnObject},n)}):n.item?n.item({props:o}):T(Pr,it(o,{value:e.returnObject?y:o.value}),b)}))}}}),tI=We({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:gl}},"list-items");function Nb(e,t){const n=zi(t,e.itemTitle,t),r=zi(t,e.itemValue,n),s=zi(t,e.itemChildren),u=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Lr(t,["children"]):t:void 0:zi(t,e.itemProps),h={title:n,value:r,...u};return{title:String(h.title??""),value:h.value,props:h,children:Array.isArray(s)?nI(e,s):void 0,raw:t}}function nI(e,t){const n=[];for(const r of t)n.push(Nb(e,r));return n}function rI(e){const t=Y(()=>nI(e,e.items)),n=Y(()=>t.value.some(u=>u.value===null));function r(u){return n.value||(u=u.filter(h=>h!==null)),u.map(h=>e.returnObject&&typeof h=="string"?Nb(e,h):t.value.find(o=>e.valueComparator(h,o.value))||Nb(e,h))}function s(u){return e.returnObject?u.map(h=>{let{raw:o}=h;return o}):u.map(h=>{let{value:o}=h;return o})}return{items:t,transformIn:r,transformOut:s}}function O4(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function F4(e,t){const n=zi(t,e.itemType,"item"),r=O4(t)?t:zi(t,e.itemTitle),s=zi(t,e.itemValue,void 0),u=zi(t,e.itemChildren),h=e.itemProps===!0?Lr(t,["children"]):zi(t,e.itemProps),o={title:r,value:s,...h};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&u?iI(e,u):void 0,raw:t}}function iI(e,t){const n=[];for(const r of t)n.push(F4(e,r));return n}function aI(e){return{items:Y(()=>iI(e,e.items))}}const sI=We({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Wi(),"onClick:select":Wi(),...T4({selectStrategy:"single-leaf",openStrategy:"list"}),...eo(),...hn(),...$a(),...to(),...ns(),itemType:{type:String,default:"type"},...tI(),...Pi(),...Xn(),...vr(),...ro({variant:"text"})},"VList"),Yf=ht()({name:"VList",props:sI(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=aI(e),{themeClasses:s}=Rr(e),{backgroundColorClasses:u,backgroundColorStyles:h}=yi(_t(e,"bgColor")),{borderClasses:o}=Lo(e),{densityClasses:p}=rs(e),{dimensionStyles:y}=no(e),{elevationClasses:b}=As(e),{roundedClasses:C}=Bi(e),{children:k,open:I,parents:R,select:L}=A4(e),F=Y(()=>e.lines?`v-list--${e.lines}-line`:void 0),B=_t(e,"activeColor"),q=_t(e,"baseColor"),K=_t(e,"color");HE(),ua({VListGroup:{activeColor:B,baseColor:q,color:K,expandIcon:_t(e,"expandIcon"),collapseIcon:_t(e,"collapseIcon")},VListItem:{activeClass:_t(e,"activeClass"),activeColor:B,baseColor:q,color:K,density:_t(e,"density"),disabled:_t(e,"disabled"),lines:_t(e,"lines"),nav:_t(e,"nav"),slim:_t(e,"slim"),variant:_t(e,"variant")}});const se=Rt(!1),Q=dt();function ee(ne){se.value=!0}function re(ne){se.value=!1}function H(ne){var ve;!se.value&&!(ne.relatedTarget&&((ve=Q.value)!=null&&ve.contains(ne.relatedTarget)))&&le()}function j(ne){const ve=ne.target;if(!(!Q.value||["INPUT","TEXTAREA"].includes(ve.tagName))){if(ne.key==="ArrowDown")le("next");else if(ne.key==="ArrowUp")le("prev");else if(ne.key==="Home")le("first");else if(ne.key==="End")le("last");else return;ne.preventDefault()}}function Z(ne){se.value=!0}function le(ne){if(Q.value)return Pg(Q.value,ne)}return St(()=>T(e.tag,{ref:Q,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,u.value,o.value,p.value,b.value,F.value,C.value,e.class],style:[h.value,y.value,e.style],tabindex:e.disabled||se.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:ee,onFocusout:re,onFocus:H,onKeydown:j,onMousedown:Z},{default:()=>[T(eI,{items:r.value,returnObject:e.returnObject},n)]})),{open:I,select:L,focus:le,children:k,parents:R}}}),z4=We({start:Boolean,end:Boolean,...hn(),...Xn()},"VListItemAction"),nC=ht()({name:"VListItemAction",props:z4(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),oI=Symbol.for("vuetify:v-treeview"),B4=We({loading:Boolean,toggleIcon:Ln,...QE({slim:!0})},"VTreeviewItem"),$b=ht()({name:"VTreeviewItem",props:B4(),setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=mm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),o=dt(),{activate:p,isActivated:y,select:b,isSelected:C,isIndeterminate:k,isGroupActivator:I,root:R,id:L}=kx(h,!1),F=Y(()=>R.activatable.value&&I),{densityClasses:B}=rs(e,"v-list-item"),q=Y(()=>({isActive:y.value,select:b,isSelected:C.value,isIndeterminate:k.value})),K=Y(()=>{var re;return!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||e.value!=null&&!!((re=o.value)!=null&&re.list))});function se(re){var H,j;!K.value||!F.value&&I||R.activatable.value&&(F.value?p(!y.value,re):(j=o.value)==null||j.activate(!((H=o.value)!=null&&H.isActivated),re))}function Q(re){(re.key==="Enter"||re.key===" ")&&(re.preventDefault(),se(re))}const ee=vt(oI,{visibleIds:dt()}).visibleIds;return St(()=>{var le;const re=r.title||e.title!=null,H=r.subtitle||e.subtitle!=null,j=Pr.filterProps(e),Z=r.prepend||e.toggleIcon;return F.value?oi(T("div",{class:["v-list-item","v-list-item--one-line","v-treeview-item","v-treeview-item--activetable-group-activator",{"v-list-item--active":y.value||C.value,"v-treeview-item--filtered":ee.value&&!ee.value.has(L.value)},B.value,e.class],onClick:se},[T(Ht,null,[xl(y.value||C.value,"v-list-item"),e.toggleIcon&&T(nC,{start:!1},{default:()=>[T(Kt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:e.onClick},{loader(){return T(Fg,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]})]),T("div",{class:"v-list-item__content","data-no-activator":""},[re&&T(Wa,{key:"title"},{default:()=>{var ne;return[((ne=r.title)==null?void 0:ne.call(r,{title:e.title}))??e.title]}}),H&&T(JE,{key:"subtitle"},{default:()=>{var ne;return[((ne=r.subtitle)==null?void 0:ne.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(le=r.default)==null?void 0:le.call(r,q.value)])]),[[ks("ripple"),K.value&&e.ripple]]):T(Pr,it({ref:o},j,{class:["v-treeview-item",{"v-treeview-item--filtered":ee.value&&!ee.value.has(L.value)},e.class],value:L.value,onClick:se,onKeydown:K.value&&Q}),{...r,prepend:Z?ne=>{var ve;return T(Ht,null,[e.toggleIcon&&T(nC,{start:!1},{default:()=>[T(Kt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text"},{loader(){return T(Fg,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(ve=r.prepend)==null?void 0:ve.call(r,ne)])}:void 0})}),{}}}),lI=Symbol.for("vuetify:selection-control-group"),Cx=We({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:Ln,trueIcon:Ln,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:gl},...hn(),...$a(),...vr()},"SelectionControlGroup"),V4=We({...Cx({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),N4=ht()({name:"VSelectionControlGroup",props:V4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dn(e,"modelValue"),s=Ts(),u=Y(()=>e.id||`v-selection-control-group-${s}`),h=Y(()=>e.name||u.value),o=new Set;return _n(lI,{modelValue:r,forceUpdate:()=>{o.forEach(p=>p())},onForceUpdate:p=>{o.add(p),da(()=>{o.delete(p)})}}),ua({[e.defaultsTarget]:{color:_t(e,"color"),disabled:_t(e,"disabled"),density:_t(e,"density"),error:_t(e,"error"),inline:_t(e,"inline"),modelValue:r,multiple:Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:h,falseIcon:_t(e,"falseIcon"),trueIcon:_t(e,"trueIcon"),readonly:_t(e,"readonly"),ripple:_t(e,"ripple"),type:_t(e,"type"),valueComparator:_t(e,"valueComparator")}}),St(()=>{var p;return T("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(p=n.default)==null?void 0:p.call(n)])}),{}}}),Tx=We({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...hn(),...Cx()},"VSelectionControl");function $4(e){const t=vt(lI,void 0),{densityClasses:n}=rs(e),r=dn(e,"modelValue"),s=Y(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=Y(()=>e.falseValue!==void 0?e.falseValue:!1),h=Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),o=Y({get(){const I=t?t.modelValue.value:r.value;return h.value?Wr(I).some(R=>e.valueComparator(R,s.value)):e.valueComparator(I,s.value)},set(I){if(e.readonly)return;const R=I?s.value:u.value;let L=R;h.value&&(L=I?[...Wr(r.value),R]:Wr(r.value).filter(F=>!e.valueComparator(F,s.value))),t?t.modelValue.value=L:r.value=L}}),{textColorClasses:p,textColorStyles:y}=Na(Y(()=>{if(!(e.error||e.disabled))return o.value?e.color:e.baseColor})),{backgroundColorClasses:b,backgroundColorStyles:C}=yi(Y(()=>o.value&&!e.error&&!e.disabled?e.color:e.baseColor)),k=Y(()=>o.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:s,falseValue:u,model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:b,backgroundColorStyles:C,icon:k}}const Ng=ht()({name:"VSelectionControl",directives:{Ripple:pu},inheritAttrs:!1,props:Tx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:s,densityClasses:u,icon:h,model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:b,backgroundColorStyles:C,trueValue:k}=$4(e),I=Ts(),R=Rt(!1),L=Rt(!1),F=dt(),B=Y(()=>e.id||`input-${I}`),q=Y(()=>!e.disabled&&!e.readonly);s==null||s.onForceUpdate(()=>{F.value&&(F.value.checked=o.value)});function K(re){q.value&&(R.value=!0,Ed(re.target,":focus-visible")!==!1&&(L.value=!0))}function se(){R.value=!1,L.value=!1}function Q(re){re.stopPropagation()}function ee(re){if(!q.value){F.value&&(F.value.checked=o.value);return}e.readonly&&s&&Hn(()=>s.forceUpdate()),o.value=re.target.checked}return St(()=>{var le,ne;const re=r.label?r.label({label:e.label,props:{for:B.value}}):e.label,[H,j]=om(n),Z=T("input",it({ref:F,checked:o.value,disabled:!!e.disabled,id:B.value,onBlur:se,onFocus:K,onInput:ee,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:k.value,name:e.name,"aria-checked":e.type==="checkbox"?o.value:void 0},j),null);return T("div",it({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":R.value,"v-selection-control--focus-visible":L.value,"v-selection-control--inline":e.inline},u.value,e.class]},H,{style:e.style}),[T("div",{class:["v-selection-control__wrapper",p.value],style:y.value},[(le=r.default)==null?void 0:le.call(r,{backgroundColorClasses:b,backgroundColorStyles:C}),oi(T("div",{class:["v-selection-control__input"]},[((ne=r.input)==null?void 0:ne.call(r,{model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:b,backgroundColorStyles:C,inputNode:Z,icon:h.value,props:{onFocus:K,onBlur:se,id:B.value}}))??T(Ht,null,[h.value&&T(nr,{key:"icon",icon:h.value},null),Z])]),[[ks("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),re&&T(mx,{for:B.value,onClick:Q},{default:()=>[re]})])}),{isFocused:R,input:F}}}),U4=We({indeterminate:Boolean,indeterminateIcon:{type:Ln,default:"$checkboxIndeterminate"},...Tx({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),qd=ht()({name:"VCheckboxBtn",props:U4(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=dn(e,"indeterminate"),s=dn(e,"modelValue");function u(p){r.value&&(r.value=!1)}const h=Y(()=>r.value?e.indeterminateIcon:e.falseIcon),o=Y(()=>r.value?e.indeterminateIcon:e.trueIcon);return St(()=>{const p=Lr(Ng.filterProps(e),["modelValue"]);return T(Ng,it(p,{modelValue:s.value,"onUpdate:modelValue":[y=>s.value=y,u],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:h.value,trueIcon:o.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}}),cI=We({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,selectable:Boolean,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),$g=ht()({name:"VTreeviewChildren",props:cI(),setup(e,t){let{emit:n,slots:r}=t;const s=Rt(null);function u(o){return new Promise(p=>{var y,b;if(!((y=e.items)!=null&&y.length)||!e.loadChildren)return p();if(((b=o==null?void 0:o.children)==null?void 0:b.length)===0){s.value=o.value,e.loadChildren(o).then(p);return}p()}).finally(()=>{s.value=null})}function h(o,p){e.selectable&&o(!p)}return()=>{var o,p;return((o=r.default)==null?void 0:o.call(r))??((p=e.items)==null?void 0:p.map(y=>{var B;let{children:b,props:C,raw:k}=y;const I=s.value===k.value,R={prepend:q=>{var K;return T(Ht,null,[e.selectable&&(!b||b&&!["leaf","single-leaf"].includes(e.selectStrategy))&&T("div",null,[T(qd,{key:k.value,modelValue:q.isSelected,loading:I,indeterminate:q.isIndeterminate,onClick:pb(()=>h(q.select,q.isSelected),["stop"]),onKeydown:se=>{["Enter","Space"].includes(se.key)&&(se.stopPropagation(),h(q.select,q.isSelected))}},null)]),(K=r.prepend)==null?void 0:K.call(r,{...q,item:k})])},append:r.append?q=>{var K;return(K=r.append)==null?void 0:K.call(r,{...q,item:k})}:void 0,title:r.title?q=>{var K;return(K=r.title)==null?void 0:K.call(r,{...q,item:k})}:void 0},L=Vb.filterProps(C),F=$g.filterProps(e);return b?T(Vb,it({value:C==null?void 0:C.value},L),{activator:q=>{let{props:K}=q;const se={...C,...K,value:C==null?void 0:C.value};return T($b,it(se,{loading:I,onClick:()=>u(k)}),R)},default:()=>T($g,it(F,{items:b}),r)}):((B=r.item)==null?void 0:B.call(r,{props:C}))??T($b,C,R)}))}}}),q4=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Ax=We({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function j4(e,t,n){var o;const r=[],s=(n==null?void 0:n.default)??q4,u=n!=null&&n.filterKeys?Wr(n.filterKeys):!1,h=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let p=0;p<e.length;p++){const[y,b=y]=Wr(e[p]),C={},k={};let I=-1;if((t||h>0)&&!(n!=null&&n.noFilter)){if(typeof y=="object"){const F=u||Object.keys(b);for(const B of F){const q=zi(b,B),K=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[B];if(I=K?K(q,t,y):s(q,t,y),I!==-1&&I!==!1)K?C[B]=I:k[B]=I;else if((n==null?void 0:n.filterMode)==="every")continue e}}else I=s(y,t,y),I!==-1&&I!==!1&&(k.title=I);const R=Object.keys(k).length,L=Object.keys(C).length;if(!R&&!L||(n==null?void 0:n.filterMode)==="union"&&L!==h&&!R||(n==null?void 0:n.filterMode)==="intersection"&&(L!==h||!R))continue}r.push({index:p,matches:{...k,...C}})}return r}function Ex(e,t,n,r){const s=dt([]),u=dt(new Map),h=Y(()=>r!=null&&r.transform?Vr(t).map(p=>[p,r.transform(p)]):Vr(t));si(()=>{const p=typeof n=="function"?n():Vr(n),y=typeof p!="string"&&typeof p!="number"?"":String(p),b=j4(h.value,y,{customKeyFilter:{...e.customKeyFilter,...Vr(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),C=Vr(t),k=[],I=new Map;b.forEach(R=>{let{index:L,matches:F}=R;const B=C[L];k.push(B),I.set(B.value,F)}),s.value=k,u.value=I});function o(p){return u.value.get(p.value)}return{filteredItems:s,filteredMatches:u,getMatches:o}}function uI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&uI(n.children,t);return t}const H4=We({openAll:Boolean,search:String,...Ax({filterKeys:["title"]}),...cI(),...Lr(sI({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",selectStrategy:"classic",openStrategy:"multiple",slim:!0}),["nav"])},"VTreeview"),G4=ht()({name:"VTreeview",props:H4(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=aI(e),s=_t(e,"activeColor"),u=_t(e,"baseColor"),h=_t(e,"color"),o=dn(e,"opened"),p=dn(e,"activated"),y=dn(e,"selected"),b=dt(),C=Y(()=>uI(r.value)),k=_t(e,"search"),{filteredItems:I}=Ex(e,C,k),R=Y(()=>k.value?new Set(I.value.flatMap(q=>[...L(q.props.value),...F(q.props.value)])):null);function L(q){var Q;const K=[];let se=q;for(;se!=null;)K.unshift(se),se=(Q=b.value)==null?void 0:Q.parents.get(se);return K}function F(q){var Q,ee;const K=[],se=(((Q=b.value)==null?void 0:Q.children.get(q))??[]).slice();for(;se.length;){const re=se.shift();re&&(K.push(re),se.push(...(((ee=b.value)==null?void 0:ee.children.get(re))??[]).slice()))}return K}ot(()=>e.openAll,q=>{o.value=q?B(r.value):[]},{immediate:!0});function B(q){let K=[];for(const se of q)se.children&&(K.push(se.value),se.children&&(K=K.concat(B(se.children))));return K}return _n(oI,{visibleIds:R}),ua({VTreeviewGroup:{activeColor:s,baseColor:u,color:h,collapseIcon:_t(e,"collapseIcon"),expandIcon:_t(e,"expandIcon")},VTreeviewItem:{activeClass:_t(e,"activeClass"),activeColor:s,baseColor:u,color:h,density:_t(e,"density"),disabled:_t(e,"disabled"),lines:_t(e,"lines"),variant:_t(e,"variant")}}),St(()=>{const q=Yf.filterProps(e),K=$g.filterProps(e);return T(Yf,it({ref:b},q,{class:["v-treeview",e.class],style:e.style,opened:o.value,"onUpdate:opened":se=>o.value=se,activated:p.value,"onUpdate:activated":se=>p.value=se,selected:y.value,"onUpdate:selected":se=>y.value=se}),{default:()=>[T($g,it(K,{items:r.value}),n)]})}),{open}}}),W4=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:qV,VCalendarDay:dg,VCalendarHeader:Pb,VCalendarInterval:Ab,VCalendarIntervalEvent:Tb,VCalendarMonthDay:iE,VDateInput:F3,VNumberInput:V3,VPicker:jf,VPickerTitle:wE,VPullToRefresh:o4,VSnackbarQueue:u4,VStepperVertical:s4,VStepperVerticalActions:LE,VStepperVerticalItem:zE,VTimePicker:y4,VTimePickerClock:Fb,VTimePickerControls:zb,VTreeview:G4,VTreeviewGroup:Vb,VTreeviewItem:$b},Symbol.toStringTag,{value:"Module"})),Qr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},Y4={props:["title","subtitle"]},Z4={class:"text-center text-h2"},K4={class:"text-subtitle-1 text-center"};function X4(e,t,n,r,s,u){return fn(),Vn(Dr,null,{default:De(()=>[rr("h1",Z4,Zs(n.title),1),rr("p",K4,Zs(n.subtitle),1)]),_:1})}const J4=Qr(Y4,[["render",X4]]);var cr={};const Q4="Á",e5="á",t5="Ă",n5="ă",r5="∾",i5="∿",a5="∾̳",s5="Â",o5="â",l5="´",c5="А",u5="а",d5="Æ",h5="æ",f5="⁡",m5="𝔄",p5="𝔞",g5="À",v5="à",y5="ℵ",_5="ℵ",b5="Α",x5="α",w5="Ā",S5="ā",k5="⨿",C5="&",T5="&",A5="⩕",E5="⩓",I5="∧",P5="⩜",D5="⩘",M5="⩚",L5="∠",R5="⦤",O5="∠",F5="⦨",z5="⦩",B5="⦪",V5="⦫",N5="⦬",$5="⦭",U5="⦮",q5="⦯",j5="∡",H5="∟",G5="⊾",W5="⦝",Y5="∢",Z5="Å",K5="⍼",X5="Ą",J5="ą",Q5="𝔸",e6="𝕒",t6="⩯",n6="≈",r6="⩰",i6="≊",a6="≋",s6="'",o6="⁡",l6="≈",c6="≊",u6="Å",d6="å",h6="𝒜",f6="𝒶",m6="≔",p6="*",g6="≈",v6="≍",y6="Ã",_6="ã",b6="Ä",x6="ä",w6="∳",S6="⨑",k6="≌",C6="϶",T6="‵",A6="∽",E6="⋍",I6="∖",P6="⫧",D6="⊽",M6="⌅",L6="⌆",R6="⌅",O6="⎵",F6="⎶",z6="≌",B6="Б",V6="б",N6="„",$6="∵",U6="∵",q6="∵",j6="⦰",H6="϶",G6="ℬ",W6="ℬ",Y6="Β",Z6="β",K6="ℶ",X6="≬",J6="𝔅",Q6="𝔟",eN="⋂",tN="◯",nN="⋃",rN="⨀",iN="⨁",aN="⨂",sN="⨆",oN="★",lN="▽",cN="△",uN="⨄",dN="⋁",hN="⋀",fN="⤍",mN="⧫",pN="▪",gN="▴",vN="▾",yN="◂",_N="▸",bN="␣",xN="▒",wN="░",SN="▓",kN="█",CN="=⃥",TN="≡⃥",AN="⫭",EN="⌐",IN="𝔹",PN="𝕓",DN="⊥",MN="⊥",LN="⋈",RN="⧉",ON="┐",FN="╕",zN="╖",BN="╗",VN="┌",NN="╒",$N="╓",UN="╔",qN="─",jN="═",HN="┬",GN="╤",WN="╥",YN="╦",ZN="┴",KN="╧",XN="╨",JN="╩",QN="⊟",e8="⊞",t8="⊠",n8="┘",r8="╛",i8="╜",a8="╝",s8="└",o8="╘",l8="╙",c8="╚",u8="│",d8="║",h8="┼",f8="╪",m8="╫",p8="╬",g8="┤",v8="╡",y8="╢",_8="╣",b8="├",x8="╞",w8="╟",S8="╠",k8="‵",C8="˘",T8="˘",A8="¦",E8="𝒷",I8="ℬ",P8="⁏",D8="∽",M8="⋍",L8="⧅",R8="\\",O8="⟈",F8="•",z8="•",B8="≎",V8="⪮",N8="≏",$8="≎",U8="≏",q8="Ć",j8="ć",H8="⩄",G8="⩉",W8="⩋",Y8="∩",Z8="⋒",K8="⩇",X8="⩀",J8="ⅅ",Q8="∩︀",e$="⁁",t$="ˇ",n$="ℭ",r$="⩍",i$="Č",a$="č",s$="Ç",o$="ç",l$="Ĉ",c$="ĉ",u$="∰",d$="⩌",h$="⩐",f$="Ċ",m$="ċ",p$="¸",g$="¸",v$="⦲",y$="¢",_$="·",b$="·",x$="𝔠",w$="ℭ",S$="Ч",k$="ч",C$="✓",T$="✓",A$="Χ",E$="χ",I$="ˆ",P$="≗",D$="↺",M$="↻",L$="⊛",R$="⊚",O$="⊝",F$="⊙",z$="®",B$="Ⓢ",V$="⊖",N$="⊕",$$="⊗",U$="○",q$="⧃",j$="≗",H$="⨐",G$="⫯",W$="⧂",Y$="∲",Z$="”",K$="’",X$="♣",J$="♣",Q$=":",e9="∷",t9="⩴",n9="≔",r9="≔",i9=",",a9="@",s9="∁",o9="∘",l9="∁",c9="ℂ",u9="≅",d9="⩭",h9="≡",f9="∮",m9="∯",p9="∮",g9="𝕔",v9="ℂ",y9="∐",_9="∐",b9="©",x9="©",w9="℗",S9="∳",k9="↵",C9="✗",T9="⨯",A9="𝒞",E9="𝒸",I9="⫏",P9="⫑",D9="⫐",M9="⫒",L9="⋯",R9="⤸",O9="⤵",F9="⋞",z9="⋟",B9="↶",V9="⤽",N9="⩈",$9="⩆",U9="≍",q9="∪",j9="⋓",H9="⩊",G9="⊍",W9="⩅",Y9="∪︀",Z9="↷",K9="⤼",X9="⋞",J9="⋟",Q9="⋎",eU="⋏",tU="¤",nU="↶",rU="↷",iU="⋎",aU="⋏",sU="∲",oU="∱",lU="⌭",cU="†",uU="‡",dU="ℸ",hU="↓",fU="↡",mU="⇓",pU="‐",gU="⫤",vU="⊣",yU="⤏",_U="˝",bU="Ď",xU="ď",wU="Д",SU="д",kU="‡",CU="⇊",TU="ⅅ",AU="ⅆ",EU="⤑",IU="⩷",PU="°",DU="∇",MU="Δ",LU="δ",RU="⦱",OU="⥿",FU="𝔇",zU="𝔡",BU="⥥",VU="⇃",NU="⇂",$U="´",UU="˙",qU="˝",jU="`",HU="˜",GU="⋄",WU="⋄",YU="⋄",ZU="♦",KU="♦",XU="¨",JU="ⅆ",QU="ϝ",e7="⋲",t7="÷",n7="÷",r7="⋇",i7="⋇",a7="Ђ",s7="ђ",o7="⌞",l7="⌍",c7="$",u7="𝔻",d7="𝕕",h7="¨",f7="˙",m7="⃜",p7="≐",g7="≑",v7="≐",y7="∸",_7="∔",b7="⊡",x7="⌆",w7="∯",S7="¨",k7="⇓",C7="⇐",T7="⇔",A7="⫤",E7="⟸",I7="⟺",P7="⟹",D7="⇒",M7="⊨",L7="⇑",R7="⇕",O7="∥",F7="⤓",z7="↓",B7="↓",V7="⇓",N7="⇵",$7="̑",U7="⇊",q7="⇃",j7="⇂",H7="⥐",G7="⥞",W7="⥖",Y7="↽",Z7="⥟",K7="⥗",X7="⇁",J7="↧",Q7="⊤",eq="⤐",tq="⌟",nq="⌌",rq="𝒟",iq="𝒹",aq="Ѕ",sq="ѕ",oq="⧶",lq="Đ",cq="đ",uq="⋱",dq="▿",hq="▾",fq="⇵",mq="⥯",pq="⦦",gq="Џ",vq="џ",yq="⟿",_q="É",bq="é",xq="⩮",wq="Ě",Sq="ě",kq="Ê",Cq="ê",Tq="≖",Aq="≕",Eq="Э",Iq="э",Pq="⩷",Dq="Ė",Mq="ė",Lq="≑",Rq="ⅇ",Oq="≒",Fq="𝔈",zq="𝔢",Bq="⪚",Vq="È",Nq="è",$q="⪖",Uq="⪘",qq="⪙",jq="∈",Hq="⏧",Gq="ℓ",Wq="⪕",Yq="⪗",Zq="Ē",Kq="ē",Xq="∅",Jq="∅",Qq="◻",ej="∅",tj="▫",nj=" ",rj=" ",ij=" ",aj="Ŋ",sj="ŋ",oj=" ",lj="Ę",cj="ę",uj="𝔼",dj="𝕖",hj="⋕",fj="⧣",mj="⩱",pj="ε",gj="Ε",vj="ε",yj="ϵ",_j="≖",bj="≕",xj="≂",wj="⪖",Sj="⪕",kj="⩵",Cj="=",Tj="≂",Aj="≟",Ej="⇌",Ij="≡",Pj="⩸",Dj="⧥",Mj="⥱",Lj="≓",Rj="ℯ",Oj="ℰ",Fj="≐",zj="⩳",Bj="≂",Vj="Η",Nj="η",$j="Ð",Uj="ð",qj="Ë",jj="ë",Hj="€",Gj="!",Wj="∃",Yj="∃",Zj="ℰ",Kj="ⅇ",Xj="ⅇ",Jj="≒",Qj="Ф",eH="ф",tH="♀",nH="ﬃ",rH="ﬀ",iH="ﬄ",aH="𝔉",sH="𝔣",oH="ﬁ",lH="◼",cH="▪",uH="fj",dH="♭",hH="ﬂ",fH="▱",mH="ƒ",pH="𝔽",gH="𝕗",vH="∀",yH="∀",_H="⋔",bH="⫙",xH="ℱ",wH="⨍",SH="½",kH="⅓",CH="¼",TH="⅕",AH="⅙",EH="⅛",IH="⅔",PH="⅖",DH="¾",MH="⅗",LH="⅜",RH="⅘",OH="⅚",FH="⅝",zH="⅞",BH="⁄",VH="⌢",NH="𝒻",$H="ℱ",UH="ǵ",qH="Γ",jH="γ",HH="Ϝ",GH="ϝ",WH="⪆",YH="Ğ",ZH="ğ",KH="Ģ",XH="Ĝ",JH="ĝ",QH="Г",eG="г",tG="Ġ",nG="ġ",rG="≥",iG="≧",aG="⪌",sG="⋛",oG="≥",lG="≧",cG="⩾",uG="⪩",dG="⩾",hG="⪀",fG="⪂",mG="⪄",pG="⋛︀",gG="⪔",vG="𝔊",yG="𝔤",_G="≫",bG="⋙",xG="⋙",wG="ℷ",SG="Ѓ",kG="ѓ",CG="⪥",TG="≷",AG="⪒",EG="⪤",IG="⪊",PG="⪊",DG="⪈",MG="≩",LG="⪈",RG="≩",OG="⋧",FG="𝔾",zG="𝕘",BG="`",VG="≥",NG="⋛",$G="≧",UG="⪢",qG="≷",jG="⩾",HG="≳",GG="𝒢",WG="ℊ",YG="≳",ZG="⪎",KG="⪐",XG="⪧",JG="⩺",QG=">",eW=">",tW="≫",nW="⋗",rW="⦕",iW="⩼",aW="⪆",sW="⥸",oW="⋗",lW="⋛",cW="⪌",uW="≷",dW="≳",hW="≩︀",fW="≩︀",mW="ˇ",pW=" ",gW="½",vW="ℋ",yW="Ъ",_W="ъ",bW="⥈",xW="↔",wW="⇔",SW="↭",kW="^",CW="ℏ",TW="Ĥ",AW="ĥ",EW="♥",IW="♥",PW="…",DW="⊹",MW="𝔥",LW="ℌ",RW="ℋ",OW="⤥",FW="⤦",zW="⇿",BW="∻",VW="↩",NW="↪",$W="𝕙",UW="ℍ",qW="―",jW="─",HW="𝒽",GW="ℋ",WW="ℏ",YW="Ħ",ZW="ħ",KW="≎",XW="≏",JW="⁃",QW="‐",eY="Í",tY="í",nY="⁣",rY="Î",iY="î",aY="И",sY="и",oY="İ",lY="Е",cY="е",uY="¡",dY="⇔",hY="𝔦",fY="ℑ",mY="Ì",pY="ì",gY="ⅈ",vY="⨌",yY="∭",_Y="⧜",bY="℩",xY="Ĳ",wY="ĳ",SY="Ī",kY="ī",CY="ℑ",TY="ⅈ",AY="ℐ",EY="ℑ",IY="ı",PY="ℑ",DY="⊷",MY="Ƶ",LY="⇒",RY="℅",OY="∞",FY="⧝",zY="ı",BY="⊺",VY="∫",NY="∬",$Y="ℤ",UY="∫",qY="⊺",jY="⋂",HY="⨗",GY="⨼",WY="⁣",YY="⁢",ZY="Ё",KY="ё",XY="Į",JY="į",QY="𝕀",eZ="𝕚",tZ="Ι",nZ="ι",rZ="⨼",iZ="¿",aZ="𝒾",sZ="ℐ",oZ="∈",lZ="⋵",cZ="⋹",uZ="⋴",dZ="⋳",hZ="∈",fZ="⁢",mZ="Ĩ",pZ="ĩ",gZ="І",vZ="і",yZ="Ï",_Z="ï",bZ="Ĵ",xZ="ĵ",wZ="Й",SZ="й",kZ="𝔍",CZ="𝔧",TZ="ȷ",AZ="𝕁",EZ="𝕛",IZ="𝒥",PZ="𝒿",DZ="Ј",MZ="ј",LZ="Є",RZ="є",OZ="Κ",FZ="κ",zZ="ϰ",BZ="Ķ",VZ="ķ",NZ="К",$Z="к",UZ="𝔎",qZ="𝔨",jZ="ĸ",HZ="Х",GZ="х",WZ="Ќ",YZ="ќ",ZZ="𝕂",KZ="𝕜",XZ="𝒦",JZ="𝓀",QZ="⇚",eK="Ĺ",tK="ĺ",nK="⦴",rK="ℒ",iK="Λ",aK="λ",sK="⟨",oK="⟪",lK="⦑",cK="⟨",uK="⪅",dK="ℒ",hK="«",fK="⇤",mK="⤟",pK="←",gK="↞",vK="⇐",yK="⤝",_K="↩",bK="↫",xK="⤹",wK="⥳",SK="↢",kK="⤙",CK="⤛",TK="⪫",AK="⪭",EK="⪭︀",IK="⤌",PK="⤎",DK="❲",MK="{",LK="[",RK="⦋",OK="⦏",FK="⦍",zK="Ľ",BK="ľ",VK="Ļ",NK="ļ",$K="⌈",UK="{",qK="Л",jK="л",HK="⤶",GK="“",WK="„",YK="⥧",ZK="⥋",KK="↲",XK="≤",JK="≦",QK="⟨",eX="⇤",tX="←",nX="←",rX="⇐",iX="⇆",aX="↢",sX="⌈",oX="⟦",lX="⥡",cX="⥙",uX="⇃",dX="⌊",hX="↽",fX="↼",mX="⇇",pX="↔",gX="↔",vX="⇔",yX="⇆",_X="⇋",bX="↭",xX="⥎",wX="↤",SX="⊣",kX="⥚",CX="⋋",TX="⧏",AX="⊲",EX="⊴",IX="⥑",PX="⥠",DX="⥘",MX="↿",LX="⥒",RX="↼",OX="⪋",FX="⋚",zX="≤",BX="≦",VX="⩽",NX="⪨",$X="⩽",UX="⩿",qX="⪁",jX="⪃",HX="⋚︀",GX="⪓",WX="⪅",YX="⋖",ZX="⋚",KX="⪋",XX="⋚",JX="≦",QX="≶",eJ="≶",tJ="⪡",nJ="≲",rJ="⩽",iJ="≲",aJ="⥼",sJ="⌊",oJ="𝔏",lJ="𝔩",cJ="≶",uJ="⪑",dJ="⥢",hJ="↽",fJ="↼",mJ="⥪",pJ="▄",gJ="Љ",vJ="љ",yJ="⇇",_J="≪",bJ="⋘",xJ="⌞",wJ="⇚",SJ="⥫",kJ="◺",CJ="Ŀ",TJ="ŀ",AJ="⎰",EJ="⎰",IJ="⪉",PJ="⪉",DJ="⪇",MJ="≨",LJ="⪇",RJ="≨",OJ="⋦",FJ="⟬",zJ="⇽",BJ="⟦",VJ="⟵",NJ="⟵",$J="⟸",UJ="⟷",qJ="⟷",jJ="⟺",HJ="⟼",GJ="⟶",WJ="⟶",YJ="⟹",ZJ="↫",KJ="↬",XJ="⦅",JJ="𝕃",QJ="𝕝",eQ="⨭",tQ="⨴",nQ="∗",rQ="_",iQ="↙",aQ="↘",sQ="◊",oQ="◊",lQ="⧫",cQ="(",uQ="⦓",dQ="⇆",hQ="⌟",fQ="⇋",mQ="⥭",pQ="‎",gQ="⊿",vQ="‹",yQ="𝓁",_Q="ℒ",bQ="↰",xQ="↰",wQ="≲",SQ="⪍",kQ="⪏",CQ="[",TQ="‘",AQ="‚",EQ="Ł",IQ="ł",PQ="⪦",DQ="⩹",MQ="<",LQ="<",RQ="≪",OQ="⋖",FQ="⋋",zQ="⋉",BQ="⥶",VQ="⩻",NQ="◃",$Q="⊴",UQ="◂",qQ="⦖",jQ="⥊",HQ="⥦",GQ="≨︀",WQ="≨︀",YQ="¯",ZQ="♂",KQ="✠",XQ="✠",JQ="↦",QQ="↦",eee="↧",tee="↤",nee="↥",ree="▮",iee="⨩",aee="М",see="м",oee="—",lee="∺",cee="∡",uee=" ",dee="ℳ",hee="𝔐",fee="𝔪",mee="℧",pee="µ",gee="*",vee="⫰",yee="∣",_ee="·",bee="⊟",xee="−",wee="∸",See="⨪",kee="∓",Cee="⫛",Tee="…",Aee="∓",Eee="⊧",Iee="𝕄",Pee="𝕞",Dee="∓",Mee="𝓂",Lee="ℳ",Ree="∾",Oee="Μ",Fee="μ",zee="⊸",Bee="⊸",Vee="∇",Nee="Ń",$ee="ń",Uee="∠⃒",qee="≉",jee="⩰̸",Hee="≋̸",Gee="ŉ",Wee="≉",Yee="♮",Zee="ℕ",Kee="♮",Xee=" ",Jee="≎̸",Qee="≏̸",ete="⩃",tte="Ň",nte="ň",rte="Ņ",ite="ņ",ate="≇",ste="⩭̸",ote="⩂",lte="Н",cte="н",ute="–",dte="⤤",hte="↗",fte="⇗",mte="↗",pte="≠",gte="≐̸",vte="​",yte="​",_te="​",bte="​",xte="≢",wte="⤨",Ste="≂̸",kte="≫",Cte="≪",Tte=`
`,Ate="∄",Ete="∄",Ite="𝔑",Pte="𝔫",Dte="≧̸",Mte="≱",Lte="≱",Rte="≧̸",Ote="⩾̸",Fte="⩾̸",zte="⋙̸",Bte="≵",Vte="≫⃒",Nte="≯",$te="≯",Ute="≫̸",qte="↮",jte="⇎",Hte="⫲",Gte="∋",Wte="⋼",Yte="⋺",Zte="∋",Kte="Њ",Xte="њ",Jte="↚",Qte="⇍",ene="‥",tne="≦̸",nne="≰",rne="↚",ine="⇍",ane="↮",sne="⇎",one="≰",lne="≦̸",cne="⩽̸",une="⩽̸",dne="≮",hne="⋘̸",fne="≴",mne="≪⃒",pne="≮",gne="⋪",vne="⋬",yne="≪̸",_ne="∤",bne="⁠",xne=" ",wne="𝕟",Sne="ℕ",kne="⫬",Cne="¬",Tne="≢",Ane="≭",Ene="∦",Ine="∉",Pne="≠",Dne="≂̸",Mne="∄",Lne="≯",Rne="≱",One="≧̸",Fne="≫̸",zne="≹",Bne="⩾̸",Vne="≵",Nne="≎̸",$ne="≏̸",Une="∉",qne="⋵̸",jne="⋹̸",Hne="∉",Gne="⋷",Wne="⋶",Yne="⧏̸",Zne="⋪",Kne="⋬",Xne="≮",Jne="≰",Qne="≸",ere="≪̸",tre="⩽̸",nre="≴",rre="⪢̸",ire="⪡̸",are="∌",sre="∌",ore="⋾",lre="⋽",cre="⊀",ure="⪯̸",dre="⋠",hre="∌",fre="⧐̸",mre="⋫",pre="⋭",gre="⊏̸",vre="⋢",yre="⊐̸",_re="⋣",bre="⊂⃒",xre="⊈",wre="⊁",Sre="⪰̸",kre="⋡",Cre="≿̸",Tre="⊃⃒",Are="⊉",Ere="≁",Ire="≄",Pre="≇",Dre="≉",Mre="∤",Lre="∦",Rre="∦",Ore="⫽⃥",Fre="∂̸",zre="⨔",Bre="⊀",Vre="⋠",Nre="⊀",$re="⪯̸",Ure="⪯̸",qre="⤳̸",jre="↛",Hre="⇏",Gre="↝̸",Wre="↛",Yre="⇏",Zre="⋫",Kre="⋭",Xre="⊁",Jre="⋡",Qre="⪰̸",eie="𝒩",tie="𝓃",nie="∤",rie="∦",iie="≁",aie="≄",sie="≄",oie="∤",lie="∦",cie="⋢",uie="⋣",die="⊄",hie="⫅̸",fie="⊈",mie="⊂⃒",pie="⊈",gie="⫅̸",vie="⊁",yie="⪰̸",_ie="⊅",bie="⫆̸",xie="⊉",wie="⊃⃒",Sie="⊉",kie="⫆̸",Cie="≹",Tie="Ñ",Aie="ñ",Eie="≸",Iie="⋪",Pie="⋬",Die="⋫",Mie="⋭",Lie="Ν",Rie="ν",Oie="#",Fie="№",zie=" ",Bie="≍⃒",Vie="⊬",Nie="⊭",$ie="⊮",Uie="⊯",qie="≥⃒",jie=">⃒",Hie="⤄",Gie="⧞",Wie="⤂",Yie="≤⃒",Zie="<⃒",Kie="⊴⃒",Xie="⤃",Jie="⊵⃒",Qie="∼⃒",eae="⤣",tae="↖",nae="⇖",rae="↖",iae="⤧",aae="Ó",sae="ó",oae="⊛",lae="Ô",cae="ô",uae="⊚",dae="О",hae="о",fae="⊝",mae="Ő",pae="ő",gae="⨸",vae="⊙",yae="⦼",_ae="Œ",bae="œ",xae="⦿",wae="𝔒",Sae="𝔬",kae="˛",Cae="Ò",Tae="ò",Aae="⧁",Eae="⦵",Iae="Ω",Pae="∮",Dae="↺",Mae="⦾",Lae="⦻",Rae="‾",Oae="⧀",Fae="Ō",zae="ō",Bae="Ω",Vae="ω",Nae="Ο",$ae="ο",Uae="⦶",qae="⊖",jae="𝕆",Hae="𝕠",Gae="⦷",Wae="“",Yae="‘",Zae="⦹",Kae="⊕",Xae="↻",Jae="⩔",Qae="∨",ese="⩝",tse="ℴ",nse="ℴ",rse="ª",ise="º",ase="⊶",sse="⩖",ose="⩗",lse="⩛",cse="Ⓢ",use="𝒪",dse="ℴ",hse="Ø",fse="ø",mse="⊘",pse="Õ",gse="õ",vse="⨶",yse="⨷",_se="⊗",bse="Ö",xse="ö",wse="⌽",Sse="‾",kse="⏞",Cse="⎴",Tse="⏜",Ase="¶",Ese="∥",Ise="∥",Pse="⫳",Dse="⫽",Mse="∂",Lse="∂",Rse="П",Ose="п",Fse="%",zse=".",Bse="‰",Vse="⊥",Nse="‱",$se="𝔓",Use="𝔭",qse="Φ",jse="φ",Hse="ϕ",Gse="ℳ",Wse="☎",Yse="Π",Zse="π",Kse="⋔",Xse="ϖ",Jse="ℏ",Qse="ℎ",eoe="ℏ",toe="⨣",noe="⊞",roe="⨢",ioe="+",aoe="∔",soe="⨥",ooe="⩲",loe="±",coe="±",uoe="⨦",doe="⨧",hoe="±",foe="ℌ",moe="⨕",poe="𝕡",goe="ℙ",voe="£",yoe="⪷",_oe="⪻",boe="≺",xoe="≼",woe="⪷",Soe="≺",koe="≼",Coe="≺",Toe="⪯",Aoe="≼",Eoe="≾",Ioe="⪯",Poe="⪹",Doe="⪵",Moe="⋨",Loe="⪯",Roe="⪳",Ooe="≾",Foe="′",zoe="″",Boe="ℙ",Voe="⪹",Noe="⪵",$oe="⋨",Uoe="∏",qoe="∏",joe="⌮",Hoe="⌒",Goe="⌓",Woe="∝",Yoe="∝",Zoe="∷",Koe="∝",Xoe="≾",Joe="⊰",Qoe="𝒫",ele="𝓅",tle="Ψ",nle="ψ",rle=" ",ile="𝔔",ale="𝔮",sle="⨌",ole="𝕢",lle="ℚ",cle="⁗",ule="𝒬",dle="𝓆",hle="ℍ",fle="⨖",mle="?",ple="≟",gle='"',vle='"',yle="⇛",_le="∽̱",ble="Ŕ",xle="ŕ",wle="√",Sle="⦳",kle="⟩",Cle="⟫",Tle="⦒",Ale="⦥",Ele="⟩",Ile="»",Ple="⥵",Dle="⇥",Mle="⤠",Lle="⤳",Rle="→",Ole="↠",Fle="⇒",zle="⤞",Ble="↪",Vle="↬",Nle="⥅",$le="⥴",Ule="⤖",qle="↣",jle="↝",Hle="⤚",Gle="⤜",Wle="∶",Yle="ℚ",Zle="⤍",Kle="⤏",Xle="⤐",Jle="❳",Qle="}",ece="]",tce="⦌",nce="⦎",rce="⦐",ice="Ř",ace="ř",sce="Ŗ",oce="ŗ",lce="⌉",cce="}",uce="Р",dce="р",hce="⤷",fce="⥩",mce="”",pce="”",gce="↳",vce="ℜ",yce="ℛ",_ce="ℜ",bce="ℝ",xce="ℜ",wce="▭",Sce="®",kce="®",Cce="∋",Tce="⇋",Ace="⥯",Ece="⥽",Ice="⌋",Pce="𝔯",Dce="ℜ",Mce="⥤",Lce="⇁",Rce="⇀",Oce="⥬",Fce="Ρ",zce="ρ",Bce="ϱ",Vce="⟩",Nce="⇥",$ce="→",Uce="→",qce="⇒",jce="⇄",Hce="↣",Gce="⌉",Wce="⟧",Yce="⥝",Zce="⥕",Kce="⇂",Xce="⌋",Jce="⇁",Qce="⇀",eue="⇄",tue="⇌",nue="⇉",rue="↝",iue="↦",aue="⊢",sue="⥛",oue="⋌",lue="⧐",cue="⊳",uue="⊵",due="⥏",hue="⥜",fue="⥔",mue="↾",pue="⥓",gue="⇀",vue="˚",yue="≓",_ue="⇄",bue="⇌",xue="‏",wue="⎱",Sue="⎱",kue="⫮",Cue="⟭",Tue="⇾",Aue="⟧",Eue="⦆",Iue="𝕣",Pue="ℝ",Due="⨮",Mue="⨵",Lue="⥰",Rue=")",Oue="⦔",Fue="⨒",zue="⇉",Bue="⇛",Vue="›",Nue="𝓇",$ue="ℛ",Uue="↱",que="↱",jue="]",Hue="’",Gue="’",Wue="⋌",Yue="⋊",Zue="▹",Kue="⊵",Xue="▸",Jue="⧎",Que="⧴",ede="⥨",tde="℞",nde="Ś",rde="ś",ide="‚",ade="⪸",sde="Š",ode="š",lde="⪼",cde="≻",ude="≽",dde="⪰",hde="⪴",fde="Ş",mde="ş",pde="Ŝ",gde="ŝ",vde="⪺",yde="⪶",_de="⋩",bde="⨓",xde="≿",wde="С",Sde="с",kde="⊡",Cde="⋅",Tde="⩦",Ade="⤥",Ede="↘",Ide="⇘",Pde="↘",Dde="§",Mde=";",Lde="⤩",Rde="∖",Ode="∖",Fde="✶",zde="𝔖",Bde="𝔰",Vde="⌢",Nde="♯",$de="Щ",Ude="щ",qde="Ш",jde="ш",Hde="↓",Gde="←",Wde="∣",Yde="∥",Zde="→",Kde="↑",Xde="­",Jde="Σ",Qde="σ",ehe="ς",the="ς",nhe="∼",rhe="⩪",ihe="≃",ahe="≃",she="⪞",ohe="⪠",lhe="⪝",che="⪟",uhe="≆",dhe="⨤",hhe="⥲",fhe="←",mhe="∘",phe="∖",ghe="⨳",vhe="⧤",yhe="∣",_he="⌣",bhe="⪪",xhe="⪬",whe="⪬︀",She="Ь",khe="ь",Che="⌿",The="⧄",Ahe="/",Ehe="𝕊",Ihe="𝕤",Phe="♠",Dhe="♠",Mhe="∥",Lhe="⊓",Rhe="⊓︀",Ohe="⊔",Fhe="⊔︀",zhe="√",Bhe="⊏",Vhe="⊑",Nhe="⊏",$he="⊑",Uhe="⊐",qhe="⊒",jhe="⊐",Hhe="⊒",Ghe="□",Whe="□",Yhe="⊓",Zhe="⊏",Khe="⊑",Xhe="⊐",Jhe="⊒",Qhe="⊔",efe="▪",tfe="□",nfe="▪",rfe="→",ife="𝒮",afe="𝓈",sfe="∖",ofe="⌣",lfe="⋆",cfe="⋆",ufe="☆",dfe="★",hfe="ϵ",ffe="ϕ",mfe="¯",pfe="⊂",gfe="⋐",vfe="⪽",yfe="⫅",_fe="⊆",bfe="⫃",xfe="⫁",wfe="⫋",Sfe="⊊",kfe="⪿",Cfe="⥹",Tfe="⊂",Afe="⋐",Efe="⊆",Ife="⫅",Pfe="⊆",Dfe="⊊",Mfe="⫋",Lfe="⫇",Rfe="⫕",Ofe="⫓",Ffe="⪸",zfe="≻",Bfe="≽",Vfe="≻",Nfe="⪰",$fe="≽",Ufe="≿",qfe="⪰",jfe="⪺",Hfe="⪶",Gfe="⋩",Wfe="≿",Yfe="∋",Zfe="∑",Kfe="∑",Xfe="♪",Jfe="¹",Qfe="²",eme="³",tme="⊃",nme="⋑",rme="⪾",ime="⫘",ame="⫆",sme="⊇",ome="⫄",lme="⊃",cme="⊇",ume="⟉",dme="⫗",hme="⥻",fme="⫂",mme="⫌",pme="⊋",gme="⫀",vme="⊃",yme="⋑",_me="⊇",bme="⫆",xme="⊋",wme="⫌",Sme="⫈",kme="⫔",Cme="⫖",Tme="⤦",Ame="↙",Eme="⇙",Ime="↙",Pme="⤪",Dme="ß",Mme="	",Lme="⌖",Rme="Τ",Ome="τ",Fme="⎴",zme="Ť",Bme="ť",Vme="Ţ",Nme="ţ",$me="Т",Ume="т",qme="⃛",jme="⌕",Hme="𝔗",Gme="𝔱",Wme="∴",Yme="∴",Zme="∴",Kme="Θ",Xme="θ",Jme="ϑ",Qme="ϑ",epe="≈",tpe="∼",npe="  ",rpe=" ",ipe=" ",ape="≈",spe="∼",ope="Þ",lpe="þ",cpe="˜",upe="∼",dpe="≃",hpe="≅",fpe="≈",mpe="⨱",ppe="⊠",gpe="×",vpe="⨰",ype="∭",_pe="⤨",bpe="⌶",xpe="⫱",wpe="⊤",Spe="𝕋",kpe="𝕥",Cpe="⫚",Tpe="⤩",Ape="‴",Epe="™",Ipe="™",Ppe="▵",Dpe="▿",Mpe="◃",Lpe="⊴",Rpe="≜",Ope="▹",Fpe="⊵",zpe="◬",Bpe="≜",Vpe="⨺",Npe="⃛",$pe="⨹",Upe="⧍",qpe="⨻",jpe="⏢",Hpe="𝒯",Gpe="𝓉",Wpe="Ц",Ype="ц",Zpe="Ћ",Kpe="ћ",Xpe="Ŧ",Jpe="ŧ",Qpe="≬",ege="↞",tge="↠",nge="Ú",rge="ú",ige="↑",age="↟",sge="⇑",oge="⥉",lge="Ў",cge="ў",uge="Ŭ",dge="ŭ",hge="Û",fge="û",mge="У",pge="у",gge="⇅",vge="Ű",yge="ű",_ge="⥮",bge="⥾",xge="𝔘",wge="𝔲",Sge="Ù",kge="ù",Cge="⥣",Tge="↿",Age="↾",Ege="▀",Ige="⌜",Pge="⌜",Dge="⌏",Mge="◸",Lge="Ū",Rge="ū",Oge="¨",Fge="_",zge="⏟",Bge="⎵",Vge="⏝",Nge="⋃",$ge="⊎",Uge="Ų",qge="ų",jge="𝕌",Hge="𝕦",Gge="⤒",Wge="↑",Yge="↑",Zge="⇑",Kge="⇅",Xge="↕",Jge="↕",Qge="⇕",eve="⥮",tve="↿",nve="↾",rve="⊎",ive="↖",ave="↗",sve="υ",ove="ϒ",lve="ϒ",cve="Υ",uve="υ",dve="↥",hve="⊥",fve="⇈",mve="⌝",pve="⌝",gve="⌎",vve="Ů",yve="ů",_ve="◹",bve="𝒰",xve="𝓊",wve="⋰",Sve="Ũ",kve="ũ",Cve="▵",Tve="▴",Ave="⇈",Eve="Ü",Ive="ü",Pve="⦧",Dve="⦜",Mve="ϵ",Lve="ϰ",Rve="∅",Ove="ϕ",Fve="ϖ",zve="∝",Bve="↕",Vve="⇕",Nve="ϱ",$ve="ς",Uve="⊊︀",qve="⫋︀",jve="⊋︀",Hve="⫌︀",Gve="ϑ",Wve="⊲",Yve="⊳",Zve="⫨",Kve="⫫",Xve="⫩",Jve="В",Qve="в",eye="⊢",tye="⊨",nye="⊩",rye="⊫",iye="⫦",aye="⊻",sye="∨",oye="⋁",lye="≚",cye="⋮",uye="|",dye="‖",hye="|",fye="‖",mye="∣",pye="|",gye="❘",vye="≀",yye=" ",_ye="𝔙",bye="𝔳",xye="⊲",wye="⊂⃒",Sye="⊃⃒",kye="𝕍",Cye="𝕧",Tye="∝",Aye="⊳",Eye="𝒱",Iye="𝓋",Pye="⫋︀",Dye="⊊︀",Mye="⫌︀",Lye="⊋︀",Rye="⊪",Oye="⦚",Fye="Ŵ",zye="ŵ",Bye="⩟",Vye="∧",Nye="⋀",$ye="≙",Uye="℘",qye="𝔚",jye="𝔴",Hye="𝕎",Gye="𝕨",Wye="℘",Yye="≀",Zye="≀",Kye="𝒲",Xye="𝓌",Jye="⋂",Qye="◯",e_e="⋃",t_e="▽",n_e="𝔛",r_e="𝔵",i_e="⟷",a_e="⟺",s_e="Ξ",o_e="ξ",l_e="⟵",c_e="⟸",u_e="⟼",d_e="⋻",h_e="⨀",f_e="𝕏",m_e="𝕩",p_e="⨁",g_e="⨂",v_e="⟶",y_e="⟹",__e="𝒳",b_e="𝓍",x_e="⨆",w_e="⨄",S_e="△",k_e="⋁",C_e="⋀",T_e="Ý",A_e="ý",E_e="Я",I_e="я",P_e="Ŷ",D_e="ŷ",M_e="Ы",L_e="ы",R_e="¥",O_e="𝔜",F_e="𝔶",z_e="Ї",B_e="ї",V_e="𝕐",N_e="𝕪",$_e="𝒴",U_e="𝓎",q_e="Ю",j_e="ю",H_e="ÿ",G_e="Ÿ",W_e="Ź",Y_e="ź",Z_e="Ž",K_e="ž",X_e="З",J_e="з",Q_e="Ż",ebe="ż",tbe="ℨ",nbe="​",rbe="Ζ",ibe="ζ",abe="𝔷",sbe="ℨ",obe="Ж",lbe="ж",cbe="⇝",ube="𝕫",dbe="ℤ",hbe="𝒵",fbe="𝓏",mbe="‍",pbe="‌",gbe={Aacute:Q4,aacute:e5,Abreve:t5,abreve:n5,ac:r5,acd:i5,acE:a5,Acirc:s5,acirc:o5,acute:l5,Acy:c5,acy:u5,AElig:d5,aelig:h5,af:f5,Afr:m5,afr:p5,Agrave:g5,agrave:v5,alefsym:y5,aleph:_5,Alpha:b5,alpha:x5,Amacr:w5,amacr:S5,amalg:k5,amp:C5,AMP:T5,andand:A5,And:E5,and:I5,andd:P5,andslope:D5,andv:M5,ang:L5,ange:R5,angle:O5,angmsdaa:F5,angmsdab:z5,angmsdac:B5,angmsdad:V5,angmsdae:N5,angmsdaf:$5,angmsdag:U5,angmsdah:q5,angmsd:j5,angrt:H5,angrtvb:G5,angrtvbd:W5,angsph:Y5,angst:Z5,angzarr:K5,Aogon:X5,aogon:J5,Aopf:Q5,aopf:e6,apacir:t6,ap:n6,apE:r6,ape:i6,apid:a6,apos:s6,ApplyFunction:o6,approx:l6,approxeq:c6,Aring:u6,aring:d6,Ascr:h6,ascr:f6,Assign:m6,ast:p6,asymp:g6,asympeq:v6,Atilde:y6,atilde:_6,Auml:b6,auml:x6,awconint:w6,awint:S6,backcong:k6,backepsilon:C6,backprime:T6,backsim:A6,backsimeq:E6,Backslash:I6,Barv:P6,barvee:D6,barwed:M6,Barwed:L6,barwedge:R6,bbrk:O6,bbrktbrk:F6,bcong:z6,Bcy:B6,bcy:V6,bdquo:N6,becaus:$6,because:U6,Because:q6,bemptyv:j6,bepsi:H6,bernou:G6,Bernoullis:W6,Beta:Y6,beta:Z6,beth:K6,between:X6,Bfr:J6,bfr:Q6,bigcap:eN,bigcirc:tN,bigcup:nN,bigodot:rN,bigoplus:iN,bigotimes:aN,bigsqcup:sN,bigstar:oN,bigtriangledown:lN,bigtriangleup:cN,biguplus:uN,bigvee:dN,bigwedge:hN,bkarow:fN,blacklozenge:mN,blacksquare:pN,blacktriangle:gN,blacktriangledown:vN,blacktriangleleft:yN,blacktriangleright:_N,blank:bN,blk12:xN,blk14:wN,blk34:SN,block:kN,bne:CN,bnequiv:TN,bNot:AN,bnot:EN,Bopf:IN,bopf:PN,bot:DN,bottom:MN,bowtie:LN,boxbox:RN,boxdl:ON,boxdL:FN,boxDl:zN,boxDL:BN,boxdr:VN,boxdR:NN,boxDr:$N,boxDR:UN,boxh:qN,boxH:jN,boxhd:HN,boxHd:GN,boxhD:WN,boxHD:YN,boxhu:ZN,boxHu:KN,boxhU:XN,boxHU:JN,boxminus:QN,boxplus:e8,boxtimes:t8,boxul:n8,boxuL:r8,boxUl:i8,boxUL:a8,boxur:s8,boxuR:o8,boxUr:l8,boxUR:c8,boxv:u8,boxV:d8,boxvh:h8,boxvH:f8,boxVh:m8,boxVH:p8,boxvl:g8,boxvL:v8,boxVl:y8,boxVL:_8,boxvr:b8,boxvR:x8,boxVr:w8,boxVR:S8,bprime:k8,breve:C8,Breve:T8,brvbar:A8,bscr:E8,Bscr:I8,bsemi:P8,bsim:D8,bsime:M8,bsolb:L8,bsol:R8,bsolhsub:O8,bull:F8,bullet:z8,bump:B8,bumpE:V8,bumpe:N8,Bumpeq:$8,bumpeq:U8,Cacute:q8,cacute:j8,capand:H8,capbrcup:G8,capcap:W8,cap:Y8,Cap:Z8,capcup:K8,capdot:X8,CapitalDifferentialD:J8,caps:Q8,caret:e$,caron:t$,Cayleys:n$,ccaps:r$,Ccaron:i$,ccaron:a$,Ccedil:s$,ccedil:o$,Ccirc:l$,ccirc:c$,Cconint:u$,ccups:d$,ccupssm:h$,Cdot:f$,cdot:m$,cedil:p$,Cedilla:g$,cemptyv:v$,cent:y$,centerdot:_$,CenterDot:b$,cfr:x$,Cfr:w$,CHcy:S$,chcy:k$,check:C$,checkmark:T$,Chi:A$,chi:E$,circ:I$,circeq:P$,circlearrowleft:D$,circlearrowright:M$,circledast:L$,circledcirc:R$,circleddash:O$,CircleDot:F$,circledR:z$,circledS:B$,CircleMinus:V$,CirclePlus:N$,CircleTimes:$$,cir:U$,cirE:q$,cire:j$,cirfnint:H$,cirmid:G$,cirscir:W$,ClockwiseContourIntegral:Y$,CloseCurlyDoubleQuote:Z$,CloseCurlyQuote:K$,clubs:X$,clubsuit:J$,colon:Q$,Colon:e9,Colone:t9,colone:n9,coloneq:r9,comma:i9,commat:a9,comp:s9,compfn:o9,complement:l9,complexes:c9,cong:u9,congdot:d9,Congruent:h9,conint:f9,Conint:m9,ContourIntegral:p9,copf:g9,Copf:v9,coprod:y9,Coproduct:_9,copy:b9,COPY:x9,copysr:w9,CounterClockwiseContourIntegral:S9,crarr:k9,cross:C9,Cross:T9,Cscr:A9,cscr:E9,csub:I9,csube:P9,csup:D9,csupe:M9,ctdot:L9,cudarrl:R9,cudarrr:O9,cuepr:F9,cuesc:z9,cularr:B9,cularrp:V9,cupbrcap:N9,cupcap:$9,CupCap:U9,cup:q9,Cup:j9,cupcup:H9,cupdot:G9,cupor:W9,cups:Y9,curarr:Z9,curarrm:K9,curlyeqprec:X9,curlyeqsucc:J9,curlyvee:Q9,curlywedge:eU,curren:tU,curvearrowleft:nU,curvearrowright:rU,cuvee:iU,cuwed:aU,cwconint:sU,cwint:oU,cylcty:lU,dagger:cU,Dagger:uU,daleth:dU,darr:hU,Darr:fU,dArr:mU,dash:pU,Dashv:gU,dashv:vU,dbkarow:yU,dblac:_U,Dcaron:bU,dcaron:xU,Dcy:wU,dcy:SU,ddagger:kU,ddarr:CU,DD:TU,dd:AU,DDotrahd:EU,ddotseq:IU,deg:PU,Del:DU,Delta:MU,delta:LU,demptyv:RU,dfisht:OU,Dfr:FU,dfr:zU,dHar:BU,dharl:VU,dharr:NU,DiacriticalAcute:$U,DiacriticalDot:UU,DiacriticalDoubleAcute:qU,DiacriticalGrave:jU,DiacriticalTilde:HU,diam:GU,diamond:WU,Diamond:YU,diamondsuit:ZU,diams:KU,die:XU,DifferentialD:JU,digamma:QU,disin:e7,div:t7,divide:n7,divideontimes:r7,divonx:i7,DJcy:a7,djcy:s7,dlcorn:o7,dlcrop:l7,dollar:c7,Dopf:u7,dopf:d7,Dot:h7,dot:f7,DotDot:m7,doteq:p7,doteqdot:g7,DotEqual:v7,dotminus:y7,dotplus:_7,dotsquare:b7,doublebarwedge:x7,DoubleContourIntegral:w7,DoubleDot:S7,DoubleDownArrow:k7,DoubleLeftArrow:C7,DoubleLeftRightArrow:T7,DoubleLeftTee:A7,DoubleLongLeftArrow:E7,DoubleLongLeftRightArrow:I7,DoubleLongRightArrow:P7,DoubleRightArrow:D7,DoubleRightTee:M7,DoubleUpArrow:L7,DoubleUpDownArrow:R7,DoubleVerticalBar:O7,DownArrowBar:F7,downarrow:z7,DownArrow:B7,Downarrow:V7,DownArrowUpArrow:N7,DownBreve:$7,downdownarrows:U7,downharpoonleft:q7,downharpoonright:j7,DownLeftRightVector:H7,DownLeftTeeVector:G7,DownLeftVectorBar:W7,DownLeftVector:Y7,DownRightTeeVector:Z7,DownRightVectorBar:K7,DownRightVector:X7,DownTeeArrow:J7,DownTee:Q7,drbkarow:eq,drcorn:tq,drcrop:nq,Dscr:rq,dscr:iq,DScy:aq,dscy:sq,dsol:oq,Dstrok:lq,dstrok:cq,dtdot:uq,dtri:dq,dtrif:hq,duarr:fq,duhar:mq,dwangle:pq,DZcy:gq,dzcy:vq,dzigrarr:yq,Eacute:_q,eacute:bq,easter:xq,Ecaron:wq,ecaron:Sq,Ecirc:kq,ecirc:Cq,ecir:Tq,ecolon:Aq,Ecy:Eq,ecy:Iq,eDDot:Pq,Edot:Dq,edot:Mq,eDot:Lq,ee:Rq,efDot:Oq,Efr:Fq,efr:zq,eg:Bq,Egrave:Vq,egrave:Nq,egs:$q,egsdot:Uq,el:qq,Element:jq,elinters:Hq,ell:Gq,els:Wq,elsdot:Yq,Emacr:Zq,emacr:Kq,empty:Xq,emptyset:Jq,EmptySmallSquare:Qq,emptyv:ej,EmptyVerySmallSquare:tj,emsp13:nj,emsp14:rj,emsp:ij,ENG:aj,eng:sj,ensp:oj,Eogon:lj,eogon:cj,Eopf:uj,eopf:dj,epar:hj,eparsl:fj,eplus:mj,epsi:pj,Epsilon:gj,epsilon:vj,epsiv:yj,eqcirc:_j,eqcolon:bj,eqsim:xj,eqslantgtr:wj,eqslantless:Sj,Equal:kj,equals:Cj,EqualTilde:Tj,equest:Aj,Equilibrium:Ej,equiv:Ij,equivDD:Pj,eqvparsl:Dj,erarr:Mj,erDot:Lj,escr:Rj,Escr:Oj,esdot:Fj,Esim:zj,esim:Bj,Eta:Vj,eta:Nj,ETH:$j,eth:Uj,Euml:qj,euml:jj,euro:Hj,excl:Gj,exist:Wj,Exists:Yj,expectation:Zj,exponentiale:Kj,ExponentialE:Xj,fallingdotseq:Jj,Fcy:Qj,fcy:eH,female:tH,ffilig:nH,fflig:rH,ffllig:iH,Ffr:aH,ffr:sH,filig:oH,FilledSmallSquare:lH,FilledVerySmallSquare:cH,fjlig:uH,flat:dH,fllig:hH,fltns:fH,fnof:mH,Fopf:pH,fopf:gH,forall:vH,ForAll:yH,fork:_H,forkv:bH,Fouriertrf:xH,fpartint:wH,frac12:SH,frac13:kH,frac14:CH,frac15:TH,frac16:AH,frac18:EH,frac23:IH,frac25:PH,frac34:DH,frac35:MH,frac38:LH,frac45:RH,frac56:OH,frac58:FH,frac78:zH,frasl:BH,frown:VH,fscr:NH,Fscr:$H,gacute:UH,Gamma:qH,gamma:jH,Gammad:HH,gammad:GH,gap:WH,Gbreve:YH,gbreve:ZH,Gcedil:KH,Gcirc:XH,gcirc:JH,Gcy:QH,gcy:eG,Gdot:tG,gdot:nG,ge:rG,gE:iG,gEl:aG,gel:sG,geq:oG,geqq:lG,geqslant:cG,gescc:uG,ges:dG,gesdot:hG,gesdoto:fG,gesdotol:mG,gesl:pG,gesles:gG,Gfr:vG,gfr:yG,gg:_G,Gg:bG,ggg:xG,gimel:wG,GJcy:SG,gjcy:kG,gla:CG,gl:TG,glE:AG,glj:EG,gnap:IG,gnapprox:PG,gne:DG,gnE:MG,gneq:LG,gneqq:RG,gnsim:OG,Gopf:FG,gopf:zG,grave:BG,GreaterEqual:VG,GreaterEqualLess:NG,GreaterFullEqual:$G,GreaterGreater:UG,GreaterLess:qG,GreaterSlantEqual:jG,GreaterTilde:HG,Gscr:GG,gscr:WG,gsim:YG,gsime:ZG,gsiml:KG,gtcc:XG,gtcir:JG,gt:QG,GT:eW,Gt:tW,gtdot:nW,gtlPar:rW,gtquest:iW,gtrapprox:aW,gtrarr:sW,gtrdot:oW,gtreqless:lW,gtreqqless:cW,gtrless:uW,gtrsim:dW,gvertneqq:hW,gvnE:fW,Hacek:mW,hairsp:pW,half:gW,hamilt:vW,HARDcy:yW,hardcy:_W,harrcir:bW,harr:xW,hArr:wW,harrw:SW,Hat:kW,hbar:CW,Hcirc:TW,hcirc:AW,hearts:EW,heartsuit:IW,hellip:PW,hercon:DW,hfr:MW,Hfr:LW,HilbertSpace:RW,hksearow:OW,hkswarow:FW,hoarr:zW,homtht:BW,hookleftarrow:VW,hookrightarrow:NW,hopf:$W,Hopf:UW,horbar:qW,HorizontalLine:jW,hscr:HW,Hscr:GW,hslash:WW,Hstrok:YW,hstrok:ZW,HumpDownHump:KW,HumpEqual:XW,hybull:JW,hyphen:QW,Iacute:eY,iacute:tY,ic:nY,Icirc:rY,icirc:iY,Icy:aY,icy:sY,Idot:oY,IEcy:lY,iecy:cY,iexcl:uY,iff:dY,ifr:hY,Ifr:fY,Igrave:mY,igrave:pY,ii:gY,iiiint:vY,iiint:yY,iinfin:_Y,iiota:bY,IJlig:xY,ijlig:wY,Imacr:SY,imacr:kY,image:CY,ImaginaryI:TY,imagline:AY,imagpart:EY,imath:IY,Im:PY,imof:DY,imped:MY,Implies:LY,incare:RY,in:"∈",infin:OY,infintie:FY,inodot:zY,intcal:BY,int:VY,Int:NY,integers:$Y,Integral:UY,intercal:qY,Intersection:jY,intlarhk:HY,intprod:GY,InvisibleComma:WY,InvisibleTimes:YY,IOcy:ZY,iocy:KY,Iogon:XY,iogon:JY,Iopf:QY,iopf:eZ,Iota:tZ,iota:nZ,iprod:rZ,iquest:iZ,iscr:aZ,Iscr:sZ,isin:oZ,isindot:lZ,isinE:cZ,isins:uZ,isinsv:dZ,isinv:hZ,it:fZ,Itilde:mZ,itilde:pZ,Iukcy:gZ,iukcy:vZ,Iuml:yZ,iuml:_Z,Jcirc:bZ,jcirc:xZ,Jcy:wZ,jcy:SZ,Jfr:kZ,jfr:CZ,jmath:TZ,Jopf:AZ,jopf:EZ,Jscr:IZ,jscr:PZ,Jsercy:DZ,jsercy:MZ,Jukcy:LZ,jukcy:RZ,Kappa:OZ,kappa:FZ,kappav:zZ,Kcedil:BZ,kcedil:VZ,Kcy:NZ,kcy:$Z,Kfr:UZ,kfr:qZ,kgreen:jZ,KHcy:HZ,khcy:GZ,KJcy:WZ,kjcy:YZ,Kopf:ZZ,kopf:KZ,Kscr:XZ,kscr:JZ,lAarr:QZ,Lacute:eK,lacute:tK,laemptyv:nK,lagran:rK,Lambda:iK,lambda:aK,lang:sK,Lang:oK,langd:lK,langle:cK,lap:uK,Laplacetrf:dK,laquo:hK,larrb:fK,larrbfs:mK,larr:pK,Larr:gK,lArr:vK,larrfs:yK,larrhk:_K,larrlp:bK,larrpl:xK,larrsim:wK,larrtl:SK,latail:kK,lAtail:CK,lat:TK,late:AK,lates:EK,lbarr:IK,lBarr:PK,lbbrk:DK,lbrace:MK,lbrack:LK,lbrke:RK,lbrksld:OK,lbrkslu:FK,Lcaron:zK,lcaron:BK,Lcedil:VK,lcedil:NK,lceil:$K,lcub:UK,Lcy:qK,lcy:jK,ldca:HK,ldquo:GK,ldquor:WK,ldrdhar:YK,ldrushar:ZK,ldsh:KK,le:XK,lE:JK,LeftAngleBracket:QK,LeftArrowBar:eX,leftarrow:tX,LeftArrow:nX,Leftarrow:rX,LeftArrowRightArrow:iX,leftarrowtail:aX,LeftCeiling:sX,LeftDoubleBracket:oX,LeftDownTeeVector:lX,LeftDownVectorBar:cX,LeftDownVector:uX,LeftFloor:dX,leftharpoondown:hX,leftharpoonup:fX,leftleftarrows:mX,leftrightarrow:pX,LeftRightArrow:gX,Leftrightarrow:vX,leftrightarrows:yX,leftrightharpoons:_X,leftrightsquigarrow:bX,LeftRightVector:xX,LeftTeeArrow:wX,LeftTee:SX,LeftTeeVector:kX,leftthreetimes:CX,LeftTriangleBar:TX,LeftTriangle:AX,LeftTriangleEqual:EX,LeftUpDownVector:IX,LeftUpTeeVector:PX,LeftUpVectorBar:DX,LeftUpVector:MX,LeftVectorBar:LX,LeftVector:RX,lEg:OX,leg:FX,leq:zX,leqq:BX,leqslant:VX,lescc:NX,les:$X,lesdot:UX,lesdoto:qX,lesdotor:jX,lesg:HX,lesges:GX,lessapprox:WX,lessdot:YX,lesseqgtr:ZX,lesseqqgtr:KX,LessEqualGreater:XX,LessFullEqual:JX,LessGreater:QX,lessgtr:eJ,LessLess:tJ,lesssim:nJ,LessSlantEqual:rJ,LessTilde:iJ,lfisht:aJ,lfloor:sJ,Lfr:oJ,lfr:lJ,lg:cJ,lgE:uJ,lHar:dJ,lhard:hJ,lharu:fJ,lharul:mJ,lhblk:pJ,LJcy:gJ,ljcy:vJ,llarr:yJ,ll:_J,Ll:bJ,llcorner:xJ,Lleftarrow:wJ,llhard:SJ,lltri:kJ,Lmidot:CJ,lmidot:TJ,lmoustache:AJ,lmoust:EJ,lnap:IJ,lnapprox:PJ,lne:DJ,lnE:MJ,lneq:LJ,lneqq:RJ,lnsim:OJ,loang:FJ,loarr:zJ,lobrk:BJ,longleftarrow:VJ,LongLeftArrow:NJ,Longleftarrow:$J,longleftrightarrow:UJ,LongLeftRightArrow:qJ,Longleftrightarrow:jJ,longmapsto:HJ,longrightarrow:GJ,LongRightArrow:WJ,Longrightarrow:YJ,looparrowleft:ZJ,looparrowright:KJ,lopar:XJ,Lopf:JJ,lopf:QJ,loplus:eQ,lotimes:tQ,lowast:nQ,lowbar:rQ,LowerLeftArrow:iQ,LowerRightArrow:aQ,loz:sQ,lozenge:oQ,lozf:lQ,lpar:cQ,lparlt:uQ,lrarr:dQ,lrcorner:hQ,lrhar:fQ,lrhard:mQ,lrm:pQ,lrtri:gQ,lsaquo:vQ,lscr:yQ,Lscr:_Q,lsh:bQ,Lsh:xQ,lsim:wQ,lsime:SQ,lsimg:kQ,lsqb:CQ,lsquo:TQ,lsquor:AQ,Lstrok:EQ,lstrok:IQ,ltcc:PQ,ltcir:DQ,lt:MQ,LT:LQ,Lt:RQ,ltdot:OQ,lthree:FQ,ltimes:zQ,ltlarr:BQ,ltquest:VQ,ltri:NQ,ltrie:$Q,ltrif:UQ,ltrPar:qQ,lurdshar:jQ,luruhar:HQ,lvertneqq:GQ,lvnE:WQ,macr:YQ,male:ZQ,malt:KQ,maltese:XQ,Map:"⤅",map:JQ,mapsto:QQ,mapstodown:eee,mapstoleft:tee,mapstoup:nee,marker:ree,mcomma:iee,Mcy:aee,mcy:see,mdash:oee,mDDot:lee,measuredangle:cee,MediumSpace:uee,Mellintrf:dee,Mfr:hee,mfr:fee,mho:mee,micro:pee,midast:gee,midcir:vee,mid:yee,middot:_ee,minusb:bee,minus:xee,minusd:wee,minusdu:See,MinusPlus:kee,mlcp:Cee,mldr:Tee,mnplus:Aee,models:Eee,Mopf:Iee,mopf:Pee,mp:Dee,mscr:Mee,Mscr:Lee,mstpos:Ree,Mu:Oee,mu:Fee,multimap:zee,mumap:Bee,nabla:Vee,Nacute:Nee,nacute:$ee,nang:Uee,nap:qee,napE:jee,napid:Hee,napos:Gee,napprox:Wee,natural:Yee,naturals:Zee,natur:Kee,nbsp:Xee,nbump:Jee,nbumpe:Qee,ncap:ete,Ncaron:tte,ncaron:nte,Ncedil:rte,ncedil:ite,ncong:ate,ncongdot:ste,ncup:ote,Ncy:lte,ncy:cte,ndash:ute,nearhk:dte,nearr:hte,neArr:fte,nearrow:mte,ne:pte,nedot:gte,NegativeMediumSpace:vte,NegativeThickSpace:yte,NegativeThinSpace:_te,NegativeVeryThinSpace:bte,nequiv:xte,nesear:wte,nesim:Ste,NestedGreaterGreater:kte,NestedLessLess:Cte,NewLine:Tte,nexist:Ate,nexists:Ete,Nfr:Ite,nfr:Pte,ngE:Dte,nge:Mte,ngeq:Lte,ngeqq:Rte,ngeqslant:Ote,nges:Fte,nGg:zte,ngsim:Bte,nGt:Vte,ngt:Nte,ngtr:$te,nGtv:Ute,nharr:qte,nhArr:jte,nhpar:Hte,ni:Gte,nis:Wte,nisd:Yte,niv:Zte,NJcy:Kte,njcy:Xte,nlarr:Jte,nlArr:Qte,nldr:ene,nlE:tne,nle:nne,nleftarrow:rne,nLeftarrow:ine,nleftrightarrow:ane,nLeftrightarrow:sne,nleq:one,nleqq:lne,nleqslant:cne,nles:une,nless:dne,nLl:hne,nlsim:fne,nLt:mne,nlt:pne,nltri:gne,nltrie:vne,nLtv:yne,nmid:_ne,NoBreak:bne,NonBreakingSpace:xne,nopf:wne,Nopf:Sne,Not:kne,not:Cne,NotCongruent:Tne,NotCupCap:Ane,NotDoubleVerticalBar:Ene,NotElement:Ine,NotEqual:Pne,NotEqualTilde:Dne,NotExists:Mne,NotGreater:Lne,NotGreaterEqual:Rne,NotGreaterFullEqual:One,NotGreaterGreater:Fne,NotGreaterLess:zne,NotGreaterSlantEqual:Bne,NotGreaterTilde:Vne,NotHumpDownHump:Nne,NotHumpEqual:$ne,notin:Une,notindot:qne,notinE:jne,notinva:Hne,notinvb:Gne,notinvc:Wne,NotLeftTriangleBar:Yne,NotLeftTriangle:Zne,NotLeftTriangleEqual:Kne,NotLess:Xne,NotLessEqual:Jne,NotLessGreater:Qne,NotLessLess:ere,NotLessSlantEqual:tre,NotLessTilde:nre,NotNestedGreaterGreater:rre,NotNestedLessLess:ire,notni:are,notniva:sre,notnivb:ore,notnivc:lre,NotPrecedes:cre,NotPrecedesEqual:ure,NotPrecedesSlantEqual:dre,NotReverseElement:hre,NotRightTriangleBar:fre,NotRightTriangle:mre,NotRightTriangleEqual:pre,NotSquareSubset:gre,NotSquareSubsetEqual:vre,NotSquareSuperset:yre,NotSquareSupersetEqual:_re,NotSubset:bre,NotSubsetEqual:xre,NotSucceeds:wre,NotSucceedsEqual:Sre,NotSucceedsSlantEqual:kre,NotSucceedsTilde:Cre,NotSuperset:Tre,NotSupersetEqual:Are,NotTilde:Ere,NotTildeEqual:Ire,NotTildeFullEqual:Pre,NotTildeTilde:Dre,NotVerticalBar:Mre,nparallel:Lre,npar:Rre,nparsl:Ore,npart:Fre,npolint:zre,npr:Bre,nprcue:Vre,nprec:Nre,npreceq:$re,npre:Ure,nrarrc:qre,nrarr:jre,nrArr:Hre,nrarrw:Gre,nrightarrow:Wre,nRightarrow:Yre,nrtri:Zre,nrtrie:Kre,nsc:Xre,nsccue:Jre,nsce:Qre,Nscr:eie,nscr:tie,nshortmid:nie,nshortparallel:rie,nsim:iie,nsime:aie,nsimeq:sie,nsmid:oie,nspar:lie,nsqsube:cie,nsqsupe:uie,nsub:die,nsubE:hie,nsube:fie,nsubset:mie,nsubseteq:pie,nsubseteqq:gie,nsucc:vie,nsucceq:yie,nsup:_ie,nsupE:bie,nsupe:xie,nsupset:wie,nsupseteq:Sie,nsupseteqq:kie,ntgl:Cie,Ntilde:Tie,ntilde:Aie,ntlg:Eie,ntriangleleft:Iie,ntrianglelefteq:Pie,ntriangleright:Die,ntrianglerighteq:Mie,Nu:Lie,nu:Rie,num:Oie,numero:Fie,numsp:zie,nvap:Bie,nvdash:Vie,nvDash:Nie,nVdash:$ie,nVDash:Uie,nvge:qie,nvgt:jie,nvHarr:Hie,nvinfin:Gie,nvlArr:Wie,nvle:Yie,nvlt:Zie,nvltrie:Kie,nvrArr:Xie,nvrtrie:Jie,nvsim:Qie,nwarhk:eae,nwarr:tae,nwArr:nae,nwarrow:rae,nwnear:iae,Oacute:aae,oacute:sae,oast:oae,Ocirc:lae,ocirc:cae,ocir:uae,Ocy:dae,ocy:hae,odash:fae,Odblac:mae,odblac:pae,odiv:gae,odot:vae,odsold:yae,OElig:_ae,oelig:bae,ofcir:xae,Ofr:wae,ofr:Sae,ogon:kae,Ograve:Cae,ograve:Tae,ogt:Aae,ohbar:Eae,ohm:Iae,oint:Pae,olarr:Dae,olcir:Mae,olcross:Lae,oline:Rae,olt:Oae,Omacr:Fae,omacr:zae,Omega:Bae,omega:Vae,Omicron:Nae,omicron:$ae,omid:Uae,ominus:qae,Oopf:jae,oopf:Hae,opar:Gae,OpenCurlyDoubleQuote:Wae,OpenCurlyQuote:Yae,operp:Zae,oplus:Kae,orarr:Xae,Or:Jae,or:Qae,ord:ese,order:tse,orderof:nse,ordf:rse,ordm:ise,origof:ase,oror:sse,orslope:ose,orv:lse,oS:cse,Oscr:use,oscr:dse,Oslash:hse,oslash:fse,osol:mse,Otilde:pse,otilde:gse,otimesas:vse,Otimes:yse,otimes:_se,Ouml:bse,ouml:xse,ovbar:wse,OverBar:Sse,OverBrace:kse,OverBracket:Cse,OverParenthesis:Tse,para:Ase,parallel:Ese,par:Ise,parsim:Pse,parsl:Dse,part:Mse,PartialD:Lse,Pcy:Rse,pcy:Ose,percnt:Fse,period:zse,permil:Bse,perp:Vse,pertenk:Nse,Pfr:$se,pfr:Use,Phi:qse,phi:jse,phiv:Hse,phmmat:Gse,phone:Wse,Pi:Yse,pi:Zse,pitchfork:Kse,piv:Xse,planck:Jse,planckh:Qse,plankv:eoe,plusacir:toe,plusb:noe,pluscir:roe,plus:ioe,plusdo:aoe,plusdu:soe,pluse:ooe,PlusMinus:loe,plusmn:coe,plussim:uoe,plustwo:doe,pm:hoe,Poincareplane:foe,pointint:moe,popf:poe,Popf:goe,pound:voe,prap:yoe,Pr:_oe,pr:boe,prcue:xoe,precapprox:woe,prec:Soe,preccurlyeq:koe,Precedes:Coe,PrecedesEqual:Toe,PrecedesSlantEqual:Aoe,PrecedesTilde:Eoe,preceq:Ioe,precnapprox:Poe,precneqq:Doe,precnsim:Moe,pre:Loe,prE:Roe,precsim:Ooe,prime:Foe,Prime:zoe,primes:Boe,prnap:Voe,prnE:Noe,prnsim:$oe,prod:Uoe,Product:qoe,profalar:joe,profline:Hoe,profsurf:Goe,prop:Woe,Proportional:Yoe,Proportion:Zoe,propto:Koe,prsim:Xoe,prurel:Joe,Pscr:Qoe,pscr:ele,Psi:tle,psi:nle,puncsp:rle,Qfr:ile,qfr:ale,qint:sle,qopf:ole,Qopf:lle,qprime:cle,Qscr:ule,qscr:dle,quaternions:hle,quatint:fle,quest:mle,questeq:ple,quot:gle,QUOT:vle,rAarr:yle,race:_le,Racute:ble,racute:xle,radic:wle,raemptyv:Sle,rang:kle,Rang:Cle,rangd:Tle,range:Ale,rangle:Ele,raquo:Ile,rarrap:Ple,rarrb:Dle,rarrbfs:Mle,rarrc:Lle,rarr:Rle,Rarr:Ole,rArr:Fle,rarrfs:zle,rarrhk:Ble,rarrlp:Vle,rarrpl:Nle,rarrsim:$le,Rarrtl:Ule,rarrtl:qle,rarrw:jle,ratail:Hle,rAtail:Gle,ratio:Wle,rationals:Yle,rbarr:Zle,rBarr:Kle,RBarr:Xle,rbbrk:Jle,rbrace:Qle,rbrack:ece,rbrke:tce,rbrksld:nce,rbrkslu:rce,Rcaron:ice,rcaron:ace,Rcedil:sce,rcedil:oce,rceil:lce,rcub:cce,Rcy:uce,rcy:dce,rdca:hce,rdldhar:fce,rdquo:mce,rdquor:pce,rdsh:gce,real:vce,realine:yce,realpart:_ce,reals:bce,Re:xce,rect:wce,reg:Sce,REG:kce,ReverseElement:Cce,ReverseEquilibrium:Tce,ReverseUpEquilibrium:Ace,rfisht:Ece,rfloor:Ice,rfr:Pce,Rfr:Dce,rHar:Mce,rhard:Lce,rharu:Rce,rharul:Oce,Rho:Fce,rho:zce,rhov:Bce,RightAngleBracket:Vce,RightArrowBar:Nce,rightarrow:$ce,RightArrow:Uce,Rightarrow:qce,RightArrowLeftArrow:jce,rightarrowtail:Hce,RightCeiling:Gce,RightDoubleBracket:Wce,RightDownTeeVector:Yce,RightDownVectorBar:Zce,RightDownVector:Kce,RightFloor:Xce,rightharpoondown:Jce,rightharpoonup:Qce,rightleftarrows:eue,rightleftharpoons:tue,rightrightarrows:nue,rightsquigarrow:rue,RightTeeArrow:iue,RightTee:aue,RightTeeVector:sue,rightthreetimes:oue,RightTriangleBar:lue,RightTriangle:cue,RightTriangleEqual:uue,RightUpDownVector:due,RightUpTeeVector:hue,RightUpVectorBar:fue,RightUpVector:mue,RightVectorBar:pue,RightVector:gue,ring:vue,risingdotseq:yue,rlarr:_ue,rlhar:bue,rlm:xue,rmoustache:wue,rmoust:Sue,rnmid:kue,roang:Cue,roarr:Tue,robrk:Aue,ropar:Eue,ropf:Iue,Ropf:Pue,roplus:Due,rotimes:Mue,RoundImplies:Lue,rpar:Rue,rpargt:Oue,rppolint:Fue,rrarr:zue,Rrightarrow:Bue,rsaquo:Vue,rscr:Nue,Rscr:$ue,rsh:Uue,Rsh:que,rsqb:jue,rsquo:Hue,rsquor:Gue,rthree:Wue,rtimes:Yue,rtri:Zue,rtrie:Kue,rtrif:Xue,rtriltri:Jue,RuleDelayed:Que,ruluhar:ede,rx:tde,Sacute:nde,sacute:rde,sbquo:ide,scap:ade,Scaron:sde,scaron:ode,Sc:lde,sc:cde,sccue:ude,sce:dde,scE:hde,Scedil:fde,scedil:mde,Scirc:pde,scirc:gde,scnap:vde,scnE:yde,scnsim:_de,scpolint:bde,scsim:xde,Scy:wde,scy:Sde,sdotb:kde,sdot:Cde,sdote:Tde,searhk:Ade,searr:Ede,seArr:Ide,searrow:Pde,sect:Dde,semi:Mde,seswar:Lde,setminus:Rde,setmn:Ode,sext:Fde,Sfr:zde,sfr:Bde,sfrown:Vde,sharp:Nde,SHCHcy:$de,shchcy:Ude,SHcy:qde,shcy:jde,ShortDownArrow:Hde,ShortLeftArrow:Gde,shortmid:Wde,shortparallel:Yde,ShortRightArrow:Zde,ShortUpArrow:Kde,shy:Xde,Sigma:Jde,sigma:Qde,sigmaf:ehe,sigmav:the,sim:nhe,simdot:rhe,sime:ihe,simeq:ahe,simg:she,simgE:ohe,siml:lhe,simlE:che,simne:uhe,simplus:dhe,simrarr:hhe,slarr:fhe,SmallCircle:mhe,smallsetminus:phe,smashp:ghe,smeparsl:vhe,smid:yhe,smile:_he,smt:bhe,smte:xhe,smtes:whe,SOFTcy:She,softcy:khe,solbar:Che,solb:The,sol:Ahe,Sopf:Ehe,sopf:Ihe,spades:Phe,spadesuit:Dhe,spar:Mhe,sqcap:Lhe,sqcaps:Rhe,sqcup:Ohe,sqcups:Fhe,Sqrt:zhe,sqsub:Bhe,sqsube:Vhe,sqsubset:Nhe,sqsubseteq:$he,sqsup:Uhe,sqsupe:qhe,sqsupset:jhe,sqsupseteq:Hhe,square:Ghe,Square:Whe,SquareIntersection:Yhe,SquareSubset:Zhe,SquareSubsetEqual:Khe,SquareSuperset:Xhe,SquareSupersetEqual:Jhe,SquareUnion:Qhe,squarf:efe,squ:tfe,squf:nfe,srarr:rfe,Sscr:ife,sscr:afe,ssetmn:sfe,ssmile:ofe,sstarf:lfe,Star:cfe,star:ufe,starf:dfe,straightepsilon:hfe,straightphi:ffe,strns:mfe,sub:pfe,Sub:gfe,subdot:vfe,subE:yfe,sube:_fe,subedot:bfe,submult:xfe,subnE:wfe,subne:Sfe,subplus:kfe,subrarr:Cfe,subset:Tfe,Subset:Afe,subseteq:Efe,subseteqq:Ife,SubsetEqual:Pfe,subsetneq:Dfe,subsetneqq:Mfe,subsim:Lfe,subsub:Rfe,subsup:Ofe,succapprox:Ffe,succ:zfe,succcurlyeq:Bfe,Succeeds:Vfe,SucceedsEqual:Nfe,SucceedsSlantEqual:$fe,SucceedsTilde:Ufe,succeq:qfe,succnapprox:jfe,succneqq:Hfe,succnsim:Gfe,succsim:Wfe,SuchThat:Yfe,sum:Zfe,Sum:Kfe,sung:Xfe,sup1:Jfe,sup2:Qfe,sup3:eme,sup:tme,Sup:nme,supdot:rme,supdsub:ime,supE:ame,supe:sme,supedot:ome,Superset:lme,SupersetEqual:cme,suphsol:ume,suphsub:dme,suplarr:hme,supmult:fme,supnE:mme,supne:pme,supplus:gme,supset:vme,Supset:yme,supseteq:_me,supseteqq:bme,supsetneq:xme,supsetneqq:wme,supsim:Sme,supsub:kme,supsup:Cme,swarhk:Tme,swarr:Ame,swArr:Eme,swarrow:Ime,swnwar:Pme,szlig:Dme,Tab:Mme,target:Lme,Tau:Rme,tau:Ome,tbrk:Fme,Tcaron:zme,tcaron:Bme,Tcedil:Vme,tcedil:Nme,Tcy:$me,tcy:Ume,tdot:qme,telrec:jme,Tfr:Hme,tfr:Gme,there4:Wme,therefore:Yme,Therefore:Zme,Theta:Kme,theta:Xme,thetasym:Jme,thetav:Qme,thickapprox:epe,thicksim:tpe,ThickSpace:npe,ThinSpace:rpe,thinsp:ipe,thkap:ape,thksim:spe,THORN:ope,thorn:lpe,tilde:cpe,Tilde:upe,TildeEqual:dpe,TildeFullEqual:hpe,TildeTilde:fpe,timesbar:mpe,timesb:ppe,times:gpe,timesd:vpe,tint:ype,toea:_pe,topbot:bpe,topcir:xpe,top:wpe,Topf:Spe,topf:kpe,topfork:Cpe,tosa:Tpe,tprime:Ape,trade:Epe,TRADE:Ipe,triangle:Ppe,triangledown:Dpe,triangleleft:Mpe,trianglelefteq:Lpe,triangleq:Rpe,triangleright:Ope,trianglerighteq:Fpe,tridot:zpe,trie:Bpe,triminus:Vpe,TripleDot:Npe,triplus:$pe,trisb:Upe,tritime:qpe,trpezium:jpe,Tscr:Hpe,tscr:Gpe,TScy:Wpe,tscy:Ype,TSHcy:Zpe,tshcy:Kpe,Tstrok:Xpe,tstrok:Jpe,twixt:Qpe,twoheadleftarrow:ege,twoheadrightarrow:tge,Uacute:nge,uacute:rge,uarr:ige,Uarr:age,uArr:sge,Uarrocir:oge,Ubrcy:lge,ubrcy:cge,Ubreve:uge,ubreve:dge,Ucirc:hge,ucirc:fge,Ucy:mge,ucy:pge,udarr:gge,Udblac:vge,udblac:yge,udhar:_ge,ufisht:bge,Ufr:xge,ufr:wge,Ugrave:Sge,ugrave:kge,uHar:Cge,uharl:Tge,uharr:Age,uhblk:Ege,ulcorn:Ige,ulcorner:Pge,ulcrop:Dge,ultri:Mge,Umacr:Lge,umacr:Rge,uml:Oge,UnderBar:Fge,UnderBrace:zge,UnderBracket:Bge,UnderParenthesis:Vge,Union:Nge,UnionPlus:$ge,Uogon:Uge,uogon:qge,Uopf:jge,uopf:Hge,UpArrowBar:Gge,uparrow:Wge,UpArrow:Yge,Uparrow:Zge,UpArrowDownArrow:Kge,updownarrow:Xge,UpDownArrow:Jge,Updownarrow:Qge,UpEquilibrium:eve,upharpoonleft:tve,upharpoonright:nve,uplus:rve,UpperLeftArrow:ive,UpperRightArrow:ave,upsi:sve,Upsi:ove,upsih:lve,Upsilon:cve,upsilon:uve,UpTeeArrow:dve,UpTee:hve,upuparrows:fve,urcorn:mve,urcorner:pve,urcrop:gve,Uring:vve,uring:yve,urtri:_ve,Uscr:bve,uscr:xve,utdot:wve,Utilde:Sve,utilde:kve,utri:Cve,utrif:Tve,uuarr:Ave,Uuml:Eve,uuml:Ive,uwangle:Pve,vangrt:Dve,varepsilon:Mve,varkappa:Lve,varnothing:Rve,varphi:Ove,varpi:Fve,varpropto:zve,varr:Bve,vArr:Vve,varrho:Nve,varsigma:$ve,varsubsetneq:Uve,varsubsetneqq:qve,varsupsetneq:jve,varsupsetneqq:Hve,vartheta:Gve,vartriangleleft:Wve,vartriangleright:Yve,vBar:Zve,Vbar:Kve,vBarv:Xve,Vcy:Jve,vcy:Qve,vdash:eye,vDash:tye,Vdash:nye,VDash:rye,Vdashl:iye,veebar:aye,vee:sye,Vee:oye,veeeq:lye,vellip:cye,verbar:uye,Verbar:dye,vert:hye,Vert:fye,VerticalBar:mye,VerticalLine:pye,VerticalSeparator:gye,VerticalTilde:vye,VeryThinSpace:yye,Vfr:_ye,vfr:bye,vltri:xye,vnsub:wye,vnsup:Sye,Vopf:kye,vopf:Cye,vprop:Tye,vrtri:Aye,Vscr:Eye,vscr:Iye,vsubnE:Pye,vsubne:Dye,vsupnE:Mye,vsupne:Lye,Vvdash:Rye,vzigzag:Oye,Wcirc:Fye,wcirc:zye,wedbar:Bye,wedge:Vye,Wedge:Nye,wedgeq:$ye,weierp:Uye,Wfr:qye,wfr:jye,Wopf:Hye,wopf:Gye,wp:Wye,wr:Yye,wreath:Zye,Wscr:Kye,wscr:Xye,xcap:Jye,xcirc:Qye,xcup:e_e,xdtri:t_e,Xfr:n_e,xfr:r_e,xharr:i_e,xhArr:a_e,Xi:s_e,xi:o_e,xlarr:l_e,xlArr:c_e,xmap:u_e,xnis:d_e,xodot:h_e,Xopf:f_e,xopf:m_e,xoplus:p_e,xotime:g_e,xrarr:v_e,xrArr:y_e,Xscr:__e,xscr:b_e,xsqcup:x_e,xuplus:w_e,xutri:S_e,xvee:k_e,xwedge:C_e,Yacute:T_e,yacute:A_e,YAcy:E_e,yacy:I_e,Ycirc:P_e,ycirc:D_e,Ycy:M_e,ycy:L_e,yen:R_e,Yfr:O_e,yfr:F_e,YIcy:z_e,yicy:B_e,Yopf:V_e,yopf:N_e,Yscr:$_e,yscr:U_e,YUcy:q_e,yucy:j_e,yuml:H_e,Yuml:G_e,Zacute:W_e,zacute:Y_e,Zcaron:Z_e,zcaron:K_e,Zcy:X_e,zcy:J_e,Zdot:Q_e,zdot:ebe,zeetrf:tbe,ZeroWidthSpace:nbe,Zeta:rbe,zeta:ibe,zfr:abe,Zfr:sbe,ZHcy:obe,zhcy:lbe,zigrarr:cbe,zopf:ube,Zopf:dbe,Zscr:hbe,zscr:fbe,zwj:mbe,zwnj:pbe};var dI=gbe,Ix=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,jd={},rC={};function vbe(e){var t,n,r=rC[e];if(r)return r;for(r=rC[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function xv(e,t,n){var r,s,u,h,o,p="";for(typeof t!="string"&&(n=t,t=xv.defaultChars),typeof n>"u"&&(n=!0),o=vbe(t),r=0,s=e.length;r<s;r++){if(u=e.charCodeAt(r),n&&u===37&&r+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){p+=e.slice(r,r+3),r+=2;continue}if(u<128){p+=o[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&r+1<s&&(h=e.charCodeAt(r+1),h>=56320&&h<=57343)){p+=encodeURIComponent(e[r]+e[r+1]),r++;continue}p+="%EF%BF%BD";continue}p+=encodeURIComponent(e[r])}return p}xv.defaultChars=";/?:@&=+$,-_.!~*'()#";xv.componentChars="-_.!~*'()";var ybe=xv,iC={};function _be(e){var t,n,r=iC[e];if(r)return r;for(r=iC[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function wv(e,t){var n;return typeof t!="string"&&(t=wv.defaultChars),n=_be(t),e.replace(/(%[a-f0-9]{2})+/gi,function(r){var s,u,h,o,p,y,b,C="";for(s=0,u=r.length;s<u;s+=3){if(h=parseInt(r.slice(s+1,s+3),16),h<128){C+=n[h];continue}if((h&224)===192&&s+3<u&&(o=parseInt(r.slice(s+4,s+6),16),(o&192)===128)){b=h<<6&1984|o&63,b<128?C+="��":C+=String.fromCharCode(b),s+=3;continue}if((h&240)===224&&s+6<u&&(o=parseInt(r.slice(s+4,s+6),16),p=parseInt(r.slice(s+7,s+9),16),(o&192)===128&&(p&192)===128)){b=h<<12&61440|o<<6&4032|p&63,b<2048||b>=55296&&b<=57343?C+="���":C+=String.fromCharCode(b),s+=6;continue}if((h&248)===240&&s+9<u&&(o=parseInt(r.slice(s+4,s+6),16),p=parseInt(r.slice(s+7,s+9),16),y=parseInt(r.slice(s+10,s+12),16),(o&192)===128&&(p&192)===128&&(y&192)===128)){b=h<<18&1835008|o<<12&258048|p<<6&4032|y&63,b<65536||b>1114111?C+="����":(b-=65536,C+=String.fromCharCode(55296+(b>>10),56320+(b&1023))),s+=9;continue}C+="�"}return C})}wv.defaultChars=";/?:@&=+$,#";wv.componentChars="";var bbe=wv,xbe=function(t){var n="";return n+=t.protocol||"",n+=t.slashes?"//":"",n+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?n+="["+t.hostname+"]":n+=t.hostname||"",n+=t.port?":"+t.port:"",n+=t.pathname||"",n+=t.search||"",n+=t.hash||"",n};function Ug(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var wbe=/^([a-z0-9.+-]+:)/i,Sbe=/:[0-9]*$/,kbe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Cbe=["<",">",'"',"`"," ","\r",`
`,"	"],Tbe=["{","}","|","\\","^","`"].concat(Cbe),Abe=["'"].concat(Tbe),aC=["%","/","?",";","#"].concat(Abe),sC=["/","?","#"],Ebe=255,oC=/^[+a-z0-9A-Z_-]{0,63}$/,Ibe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,lC={javascript:!0,"javascript:":!0},cC={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Pbe(e,t){if(e&&e instanceof Ug)return e;var n=new Ug;return n.parse(e,t),n}Ug.prototype.parse=function(e,t){var n,r,s,u,h,o=e;if(o=o.trim(),!t&&e.split("#").length===1){var p=kbe.exec(o);if(p)return this.pathname=p[1],p[2]&&(this.search=p[2]),this}var y=wbe.exec(o);if(y&&(y=y[0],s=y.toLowerCase(),this.protocol=y,o=o.substr(y.length)),(t||y||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(h=o.substr(0,2)==="//",h&&!(y&&lC[y])&&(o=o.substr(2),this.slashes=!0)),!lC[y]&&(h||y&&!cC[y])){var b=-1;for(n=0;n<sC.length;n++)u=o.indexOf(sC[n]),u!==-1&&(b===-1||u<b)&&(b=u);var C,k;for(b===-1?k=o.lastIndexOf("@"):k=o.lastIndexOf("@",b),k!==-1&&(C=o.slice(0,k),o=o.slice(k+1),this.auth=C),b=-1,n=0;n<aC.length;n++)u=o.indexOf(aC[n]),u!==-1&&(b===-1||u<b)&&(b=u);b===-1&&(b=o.length),o[b-1]===":"&&b--;var I=o.slice(0,b);o=o.slice(b),this.parseHost(I),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R){var L=this.hostname.split(/\./);for(n=0,r=L.length;n<r;n++){var F=L[n];if(F&&!F.match(oC)){for(var B="",q=0,K=F.length;q<K;q++)F.charCodeAt(q)>127?B+="x":B+=F[q];if(!B.match(oC)){var se=L.slice(0,n),Q=L.slice(n+1),ee=F.match(Ibe);ee&&(se.push(ee[1]),Q.unshift(ee[2])),Q.length&&(o=Q.join(".")+o),this.hostname=se.join(".");break}}}}this.hostname.length>Ebe&&(this.hostname=""),R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var re=o.indexOf("#");re!==-1&&(this.hash=o.substr(re),o=o.slice(0,re));var H=o.indexOf("?");return H!==-1&&(this.search=o.substr(H),o=o.slice(0,H)),o&&(this.pathname=o),cC[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Ug.prototype.parseHost=function(e){var t=Sbe.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Dbe=Pbe;jd.encode=ybe;jd.decode=bbe;jd.format=xbe;jd.parse=Dbe;var Uc={},A_,uC;function hI(){return uC||(uC=1,A_=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),A_}var E_,dC;function fI(){return dC||(dC=1,E_=/[\0-\x1F\x7F-\x9F]/),E_}var I_,hC;function Mbe(){return hC||(hC=1,I_=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),I_}var P_,fC;function mI(){return fC||(fC=1,P_=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),P_}var mC;function Lbe(){return mC||(mC=1,Uc.Any=hI(),Uc.Cc=fI(),Uc.Cf=Mbe(),Uc.P=Ix,Uc.Z=mI()),Uc}(function(e){function t(fe){return Object.prototype.toString.call(fe)}function n(fe){return t(fe)==="[object String]"}var r=Object.prototype.hasOwnProperty;function s(fe,Ie){return r.call(fe,Ie)}function u(fe){var Ie=Array.prototype.slice.call(arguments,1);return Ie.forEach(function(Ae){if(Ae){if(typeof Ae!="object")throw new TypeError(Ae+"must be object");Object.keys(Ae).forEach(function(qe){fe[qe]=Ae[qe]})}}),fe}function h(fe,Ie,Ae){return[].concat(fe.slice(0,Ie),Ae,fe.slice(Ie+1))}function o(fe){return!(fe>=55296&&fe<=57343||fe>=64976&&fe<=65007||(fe&65535)===65535||(fe&65535)===65534||fe>=0&&fe<=8||fe===11||fe>=14&&fe<=31||fe>=127&&fe<=159||fe>1114111)}function p(fe){if(fe>65535){fe-=65536;var Ie=55296+(fe>>10),Ae=56320+(fe&1023);return String.fromCharCode(Ie,Ae)}return String.fromCharCode(fe)}var y=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,b=/&([a-z#][a-z0-9]{1,31});/gi,C=new RegExp(y.source+"|"+b.source,"gi"),k=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,I=dI;function R(fe,Ie){var Ae;return s(I,Ie)?I[Ie]:Ie.charCodeAt(0)===35&&k.test(Ie)&&(Ae=Ie[1].toLowerCase()==="x"?parseInt(Ie.slice(2),16):parseInt(Ie.slice(1),10),o(Ae))?p(Ae):fe}function L(fe){return fe.indexOf("\\")<0?fe:fe.replace(y,"$1")}function F(fe){return fe.indexOf("\\")<0&&fe.indexOf("&")<0?fe:fe.replace(C,function(Ie,Ae,qe){return Ae||R(Ie,qe)})}var B=/[&<>"]/,q=/[&<>"]/g,K={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function se(fe){return K[fe]}function Q(fe){return B.test(fe)?fe.replace(q,se):fe}var ee=/[.?*+^$[\]\\(){}|-]/g;function re(fe){return fe.replace(ee,"\\$&")}function H(fe){switch(fe){case 9:case 32:return!0}return!1}function j(fe){if(fe>=8192&&fe<=8202)return!0;switch(fe){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var Z=Ix;function le(fe){return Z.test(fe)}function ne(fe){switch(fe){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function ve(fe){return fe=fe.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(fe=fe.replace(/ẞ/g,"ß")),fe.toLowerCase().toUpperCase()}e.lib={},e.lib.mdurl=jd,e.lib.ucmicro=Lbe(),e.assign=u,e.isString=n,e.has=s,e.unescapeMd=L,e.unescapeAll=F,e.isValidEntityCode=o,e.fromCodePoint=p,e.escapeHtml=Q,e.arrayReplaceAt=h,e.isSpace=H,e.isWhiteSpace=j,e.isMdAsciiPunct=ne,e.isPunctChar=le,e.escapeRE=re,e.normalizeReference=ve})(cr);var Sv={},Rbe=function(t,n,r){var s,u,h,o,p=-1,y=t.posMax,b=t.pos;for(t.pos=n+1,s=1;t.pos<y;){if(h=t.src.charCodeAt(t.pos),h===93&&(s--,s===0)){u=!0;break}if(o=t.pos,t.md.inline.skipToken(t),h===91){if(o===t.pos-1)s++;else if(r)return t.pos=b,-1}}return u&&(p=t.pos),t.pos=b,p},pC=cr.unescapeAll,Obe=function(t,n,r){var s,u,h=n,o={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(h)===60){for(h++;h<r;){if(s=t.charCodeAt(h),s===10||s===60)return o;if(s===62)return o.pos=h+1,o.str=pC(t.slice(n+1,h)),o.ok=!0,o;if(s===92&&h+1<r){h+=2;continue}h++}return o}for(u=0;h<r&&(s=t.charCodeAt(h),!(s===32||s<32||s===127));){if(s===92&&h+1<r){if(t.charCodeAt(h+1)===32)break;h+=2;continue}if(s===40&&(u++,u>32))return o;if(s===41){if(u===0)break;u--}h++}return n===h||u!==0||(o.str=pC(t.slice(n,h)),o.pos=h,o.ok=!0),o},Fbe=cr.unescapeAll,zbe=function(t,n,r){var s,u,h=0,o=n,p={ok:!1,pos:0,lines:0,str:""};if(o>=r||(u=t.charCodeAt(o),u!==34&&u!==39&&u!==40))return p;for(o++,u===40&&(u=41);o<r;){if(s=t.charCodeAt(o),s===u)return p.pos=o+1,p.lines=h,p.str=Fbe(t.slice(n+1,o)),p.ok=!0,p;if(s===40&&u===41)return p;s===10?h++:s===92&&o+1<r&&(o++,t.charCodeAt(o)===10&&h++),o++}return p};Sv.parseLinkLabel=Rbe;Sv.parseLinkDestination=Obe;Sv.parseLinkTitle=zbe;var Bbe=cr.assign,Vbe=cr.unescapeAll,su=cr.escapeHtml,Oo={};Oo.code_inline=function(e,t,n,r,s){var u=e[t];return"<code"+s.renderAttrs(u)+">"+su(u.content)+"</code>"};Oo.code_block=function(e,t,n,r,s){var u=e[t];return"<pre"+s.renderAttrs(u)+"><code>"+su(e[t].content)+`</code></pre>
`};Oo.fence=function(e,t,n,r,s){var u=e[t],h=u.info?Vbe(u.info).trim():"",o="",p="",y,b,C,k,I;return h&&(C=h.split(/(\s+)/g),o=C[0],p=C.slice(2).join("")),n.highlight?y=n.highlight(u.content,o,p)||su(u.content):y=su(u.content),y.indexOf("<pre")===0?y+`
`:h?(b=u.attrIndex("class"),k=u.attrs?u.attrs.slice():[],b<0?k.push(["class",n.langPrefix+o]):(k[b]=k[b].slice(),k[b][1]+=" "+n.langPrefix+o),I={attrs:k},"<pre><code"+s.renderAttrs(I)+">"+y+`</code></pre>
`):"<pre><code"+s.renderAttrs(u)+">"+y+`</code></pre>
`};Oo.image=function(e,t,n,r,s){var u=e[t];return u.attrs[u.attrIndex("alt")][1]=s.renderInlineAsText(u.children,n,r),s.renderToken(e,t,n)};Oo.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};Oo.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Oo.text=function(e,t){return su(e[t].content)};Oo.html_block=function(e,t){return e[t].content};Oo.html_inline=function(e,t){return e[t].content};function Hd(){this.rules=Bbe({},Oo)}Hd.prototype.renderAttrs=function(t){var n,r,s;if(!t.attrs)return"";for(s="",n=0,r=t.attrs.length;n<r;n++)s+=" "+su(t.attrs[n][0])+'="'+su(t.attrs[n][1])+'"';return s};Hd.prototype.renderToken=function(t,n,r){var s,u="",h=!1,o=t[n];return o.hidden?"":(o.block&&o.nesting!==-1&&n&&t[n-1].hidden&&(u+=`
`),u+=(o.nesting===-1?"</":"<")+o.tag,u+=this.renderAttrs(o),o.nesting===0&&r.xhtmlOut&&(u+=" /"),o.block&&(h=!0,o.nesting===1&&n+1<t.length&&(s=t[n+1],(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===o.tag)&&(h=!1))),u+=h?`>
`:">",u)};Hd.prototype.renderInline=function(e,t,n){for(var r,s="",u=this.rules,h=0,o=e.length;h<o;h++)r=e[h].type,typeof u[r]<"u"?s+=u[r](e,h,t,n,this):s+=this.renderToken(e,h,t);return s};Hd.prototype.renderInlineAsText=function(e,t,n){for(var r="",s=0,u=e.length;s<u;s++)e[s].type==="text"?r+=e[s].content:e[s].type==="image"?r+=this.renderInlineAsText(e[s].children,t,n):e[s].type==="softbreak"&&(r+=`
`);return r};Hd.prototype.render=function(e,t,n){var r,s,u,h="",o=this.rules;for(r=0,s=e.length;r<s;r++)u=e[r].type,u==="inline"?h+=this.renderInline(e[r].children,t,n):typeof o[u]<"u"?h+=o[u](e,r,t,n,this):h+=this.renderToken(e,r,t,n);return h};var Nbe=Hd;function io(){this.__rules__=[],this.__cache__=null}io.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};io.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};io.prototype.at=function(e,t,n){var r=this.__find__(e),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=s.alt||[],this.__cache__=null};io.prototype.before=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};io.prototype.after=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};io.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};io.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};io.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};io.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};io.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var Px=io,$be=/\r\n?|\n/g,Ube=/\0/g,qbe=function(t){var n;n=t.src.replace($be,`
`),n=n.replace(Ube,"�"),t.src=n},jbe=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},Hbe=function(t){var n=t.tokens,r,s,u;for(s=0,u=n.length;s<u;s++)r=n[s],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)},Gbe=cr.arrayReplaceAt;function Wbe(e){return/^<a[>\s]/i.test(e)}function Ybe(e){return/^<\/a\s*>/i.test(e)}var Zbe=function(t){var n,r,s,u,h,o,p,y,b,C,k,I,R,L,F,B,q=t.tokens,K;if(t.md.options.linkify){for(r=0,s=q.length;r<s;r++)if(!(q[r].type!=="inline"||!t.md.linkify.pretest(q[r].content)))for(u=q[r].children,R=0,n=u.length-1;n>=0;n--){if(o=u[n],o.type==="link_close"){for(n--;u[n].level!==o.level&&u[n].type!=="link_open";)n--;continue}if(o.type==="html_inline"&&(Wbe(o.content)&&R>0&&R--,Ybe(o.content)&&R++),!(R>0)&&o.type==="text"&&t.md.linkify.test(o.content)){for(b=o.content,K=t.md.linkify.match(b),p=[],I=o.level,k=0,K.length>0&&K[0].index===0&&n>0&&u[n-1].type==="text_special"&&(K=K.slice(1)),y=0;y<K.length;y++)L=K[y].url,F=t.md.normalizeLink(L),t.md.validateLink(F)&&(B=K[y].text,K[y].schema?K[y].schema==="mailto:"&&!/^mailto:/i.test(B)?B=t.md.normalizeLinkText("mailto:"+B).replace(/^mailto:/,""):B=t.md.normalizeLinkText(B):B=t.md.normalizeLinkText("http://"+B).replace(/^http:\/\//,""),C=K[y].index,C>k&&(h=new t.Token("text","",0),h.content=b.slice(k,C),h.level=I,p.push(h)),h=new t.Token("link_open","a",1),h.attrs=[["href",F]],h.level=I++,h.markup="linkify",h.info="auto",p.push(h),h=new t.Token("text","",0),h.content=B,h.level=I,p.push(h),h=new t.Token("link_close","a",-1),h.level=--I,h.markup="linkify",h.info="auto",p.push(h),k=K[y].lastIndex);k<b.length&&(h=new t.Token("text","",0),h.content=b.slice(k),h.level=I,p.push(h)),q[r].children=u=Gbe(u,n,p)}}}},pI=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Kbe=/\((c|tm|r)\)/i,Xbe=/\((c|tm|r)\)/ig,Jbe={c:"©",r:"®",tm:"™"};function Qbe(e,t){return Jbe[t.toLowerCase()]}function e0e(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(Xbe,Qbe)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function t0e(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&pI.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var n0e=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(Kbe.test(t.tokens[n].content)&&e0e(t.tokens[n].children),pI.test(t.tokens[n].content)&&t0e(t.tokens[n].children))},gC=cr.isWhiteSpace,vC=cr.isPunctChar,yC=cr.isMdAsciiPunct,r0e=/['"]/,_C=/['"]/g,bC="’";function Xp(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function i0e(e,t){var n,r,s,u,h,o,p,y,b,C,k,I,R,L,F,B,q,K,se,Q,ee;for(se=[],n=0;n<e.length;n++){for(r=e[n],p=e[n].level,q=se.length-1;q>=0&&!(se[q].level<=p);q--);if(se.length=q+1,r.type==="text"){s=r.content,h=0,o=s.length;e:for(;h<o&&(_C.lastIndex=h,u=_C.exec(s),!!u);){if(F=B=!0,h=u.index+1,K=u[0]==="'",b=32,u.index-1>=0)b=s.charCodeAt(u.index-1);else for(q=n-1;q>=0&&!(e[q].type==="softbreak"||e[q].type==="hardbreak");q--)if(e[q].content){b=e[q].content.charCodeAt(e[q].content.length-1);break}if(C=32,h<o)C=s.charCodeAt(h);else for(q=n+1;q<e.length&&!(e[q].type==="softbreak"||e[q].type==="hardbreak");q++)if(e[q].content){C=e[q].content.charCodeAt(0);break}if(k=yC(b)||vC(String.fromCharCode(b)),I=yC(C)||vC(String.fromCharCode(C)),R=gC(b),L=gC(C),L?F=!1:I&&(R||k||(F=!1)),R?B=!1:k&&(L||I||(B=!1)),C===34&&u[0]==='"'&&b>=48&&b<=57&&(B=F=!1),F&&B&&(F=k,B=I),!F&&!B){K&&(r.content=Xp(r.content,u.index,bC));continue}if(B){for(q=se.length-1;q>=0&&(y=se[q],!(se[q].level<p));q--)if(y.single===K&&se[q].level===p){y=se[q],K?(Q=t.md.options.quotes[2],ee=t.md.options.quotes[3]):(Q=t.md.options.quotes[0],ee=t.md.options.quotes[1]),r.content=Xp(r.content,u.index,ee),e[y.token].content=Xp(e[y.token].content,y.pos,Q),h+=ee.length-1,y.token===n&&(h+=Q.length-1),s=r.content,o=s.length,se.length=q;continue e}}F?se.push({token:n,pos:u.index,single:K,level:p}):B&&K&&(r.content=Xp(r.content,u.index,bC))}}}}var a0e=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!r0e.test(t.tokens[n].content)||i0e(t.tokens[n].children,t)},s0e=function(t){var n,r,s,u,h,o,p=t.tokens;for(n=0,r=p.length;n<r;n++)if(p[n].type==="inline"){for(s=p[n].children,h=s.length,u=0;u<h;u++)s[u].type==="text_special"&&(s[u].type="text");for(u=o=0;u<h;u++)s[u].type==="text"&&u+1<h&&s[u+1].type==="text"?s[u+1].content=s[u].content+s[u+1].content:(u!==o&&(s[o]=s[u]),o++);u!==o&&(s.length=o)}};function Gd(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Gd.prototype.attrIndex=function(t){var n,r,s;if(!this.attrs)return-1;for(n=this.attrs,r=0,s=n.length;r<s;r++)if(n[r][0]===t)return r;return-1};Gd.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Gd.prototype.attrSet=function(t,n){var r=this.attrIndex(t),s=[t,n];r<0?this.attrPush(s):this.attrs[r]=s};Gd.prototype.attrGet=function(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};Gd.prototype.attrJoin=function(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var Dx=Gd,o0e=Dx;function gI(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}gI.prototype.Token=o0e;var l0e=gI,c0e=Px,D_=[["normalize",qbe],["block",jbe],["inline",Hbe],["linkify",Zbe],["replacements",n0e],["smartquotes",a0e],["text_join",s0e]];function Mx(){this.ruler=new c0e;for(var e=0;e<D_.length;e++)this.ruler.push(D_[e][0],D_[e][1])}Mx.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};Mx.prototype.State=l0e;var u0e=Mx,M_=cr.isSpace;function L_(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function xC(e){var t=[],n=0,r=e.length,s,u=!1,h=0,o="";for(s=e.charCodeAt(n);n<r;)s===124&&(u?(o+=e.substring(h,n-1),h=n):(t.push(o+e.substring(h,n)),o="",h=n+1)),u=s===92,n++,s=e.charCodeAt(n);return t.push(o+e.substring(h)),t}var d0e=function(t,n,r,s){var u,h,o,p,y,b,C,k,I,R,L,F,B,q,K,se,Q,ee;if(n+2>r||(b=n+1,t.sCount[b]<t.blkIndent)||t.sCount[b]-t.blkIndent>=4||(o=t.bMarks[b]+t.tShift[b],o>=t.eMarks[b])||(Q=t.src.charCodeAt(o++),Q!==124&&Q!==45&&Q!==58)||o>=t.eMarks[b]||(ee=t.src.charCodeAt(o++),ee!==124&&ee!==45&&ee!==58&&!M_(ee))||Q===45&&M_(ee))return!1;for(;o<t.eMarks[b];){if(u=t.src.charCodeAt(o),u!==124&&u!==45&&u!==58&&!M_(u))return!1;o++}for(h=L_(t,n+1),C=h.split("|"),R=[],p=0;p<C.length;p++){if(L=C[p].trim(),!L){if(p===0||p===C.length-1)continue;return!1}if(!/^:?-+:?$/.test(L))return!1;L.charCodeAt(L.length-1)===58?R.push(L.charCodeAt(0)===58?"center":"right"):L.charCodeAt(0)===58?R.push("left"):R.push("")}if(h=L_(t,n).trim(),h.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(C=xC(h),C.length&&C[0]===""&&C.shift(),C.length&&C[C.length-1]===""&&C.pop(),k=C.length,k===0||k!==R.length))return!1;if(s)return!0;for(q=t.parentType,t.parentType="table",se=t.md.block.ruler.getRules("blockquote"),I=t.push("table_open","table",1),I.map=F=[n,0],I=t.push("thead_open","thead",1),I.map=[n,n+1],I=t.push("tr_open","tr",1),I.map=[n,n+1],p=0;p<C.length;p++)I=t.push("th_open","th",1),R[p]&&(I.attrs=[["style","text-align:"+R[p]]]),I=t.push("inline","",0),I.content=C[p].trim(),I.children=[],I=t.push("th_close","th",-1);for(I=t.push("tr_close","tr",-1),I=t.push("thead_close","thead",-1),b=n+2;b<r&&!(t.sCount[b]<t.blkIndent);b++){for(K=!1,p=0,y=se.length;p<y;p++)if(se[p](t,b,r,!0)){K=!0;break}if(K||(h=L_(t,b).trim(),!h)||t.sCount[b]-t.blkIndent>=4)break;for(C=xC(h),C.length&&C[0]===""&&C.shift(),C.length&&C[C.length-1]===""&&C.pop(),b===n+2&&(I=t.push("tbody_open","tbody",1),I.map=B=[n+2,0]),I=t.push("tr_open","tr",1),I.map=[b,b+1],p=0;p<k;p++)I=t.push("td_open","td",1),R[p]&&(I.attrs=[["style","text-align:"+R[p]]]),I=t.push("inline","",0),I.content=C[p]?C[p].trim():"",I.children=[],I=t.push("td_close","td",-1);I=t.push("tr_close","tr",-1)}return B&&(I=t.push("tbody_close","tbody",-1),B[1]=b),I=t.push("table_close","table",-1),F[1]=b,t.parentType=q,t.line=b,!0},h0e=function(t,n,r){var s,u,h;if(t.sCount[n]-t.blkIndent<4)return!1;for(u=s=n+1;s<r;){if(t.isEmpty(s)){s++;continue}if(t.sCount[s]-t.blkIndent>=4){s++,u=s;continue}break}return t.line=u,h=t.push("code_block","code",0),h.content=t.getLines(n,u,4+t.blkIndent,!1)+`
`,h.map=[n,t.line],!0},f0e=function(t,n,r,s){var u,h,o,p,y,b,C,k=!1,I=t.bMarks[n]+t.tShift[n],R=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||I+3>R||(u=t.src.charCodeAt(I),u!==126&&u!==96)||(y=I,I=t.skipChars(I,u),h=I-y,h<3)||(C=t.src.slice(y,I),o=t.src.slice(I,R),u===96&&o.indexOf(String.fromCharCode(u))>=0))return!1;if(s)return!0;for(p=n;p++,!(p>=r||(I=y=t.bMarks[p]+t.tShift[p],R=t.eMarks[p],I<R&&t.sCount[p]<t.blkIndent));)if(t.src.charCodeAt(I)===u&&!(t.sCount[p]-t.blkIndent>=4)&&(I=t.skipChars(I,u),!(I-y<h)&&(I=t.skipSpaces(I),!(I<R)))){k=!0;break}return h=t.sCount[n],t.line=p+(k?1:0),b=t.push("fence","code",0),b.info=o,b.content=t.getLines(n+1,p,h,!0),b.markup=C,b.map=[n,t.line],!0},m0e=cr.isSpace,p0e=function(t,n,r,s){var u,h,o,p,y,b,C,k,I,R,L,F,B,q,K,se,Q,ee,re,H,j=t.lineMax,Z=t.bMarks[n]+t.tShift[n],le=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(Z)!==62)return!1;if(s)return!0;for(R=[],L=[],q=[],K=[],ee=t.md.block.ruler.getRules("blockquote"),B=t.parentType,t.parentType="blockquote",k=n;k<r&&(H=t.sCount[k]<t.blkIndent,Z=t.bMarks[k]+t.tShift[k],le=t.eMarks[k],!(Z>=le));k++){if(t.src.charCodeAt(Z++)===62&&!H){for(p=t.sCount[k]+1,t.src.charCodeAt(Z)===32?(Z++,p++,u=!1,se=!0):t.src.charCodeAt(Z)===9?(se=!0,(t.bsCount[k]+p)%4===3?(Z++,p++,u=!1):u=!0):se=!1,I=p,R.push(t.bMarks[k]),t.bMarks[k]=Z;Z<le&&(h=t.src.charCodeAt(Z),m0e(h));){h===9?I+=4-(I+t.bsCount[k]+(u?1:0))%4:I++;Z++}b=Z>=le,L.push(t.bsCount[k]),t.bsCount[k]=t.sCount[k]+1+(se?1:0),q.push(t.sCount[k]),t.sCount[k]=I-p,K.push(t.tShift[k]),t.tShift[k]=Z-t.bMarks[k];continue}if(b)break;for(Q=!1,o=0,y=ee.length;o<y;o++)if(ee[o](t,k,r,!0)){Q=!0;break}if(Q){t.lineMax=k,t.blkIndent!==0&&(R.push(t.bMarks[k]),L.push(t.bsCount[k]),K.push(t.tShift[k]),q.push(t.sCount[k]),t.sCount[k]-=t.blkIndent);break}R.push(t.bMarks[k]),L.push(t.bsCount[k]),K.push(t.tShift[k]),q.push(t.sCount[k]),t.sCount[k]=-1}for(F=t.blkIndent,t.blkIndent=0,re=t.push("blockquote_open","blockquote",1),re.markup=">",re.map=C=[n,0],t.md.block.tokenize(t,n,k),re=t.push("blockquote_close","blockquote",-1),re.markup=">",t.lineMax=j,t.parentType=B,C[1]=t.line,o=0;o<K.length;o++)t.bMarks[o+n]=R[o],t.tShift[o+n]=K[o],t.sCount[o+n]=q[o],t.bsCount[o+n]=L[o];return t.blkIndent=F,!0},g0e=cr.isSpace,v0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],b=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y++),u!==42&&u!==45&&u!==95))return!1;for(h=1;y<b;){if(o=t.src.charCodeAt(y++),o!==u&&!g0e(o))return!1;o===u&&h++}return h<3?!1:(s||(t.line=n+1,p=t.push("hr","hr",0),p.map=[n,t.line],p.markup=Array(h+1).join(String.fromCharCode(u))),!0)},vI=cr.isSpace;function wC(e,t){var n,r,s,u;return r=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<s&&(u=e.src.charCodeAt(r),!vI(u))?-1:r}function SC(e,t){var n,r=e.bMarks[t]+e.tShift[t],s=r,u=e.eMarks[t];if(s+1>=u||(n=e.src.charCodeAt(s++),n<48||n>57))return-1;for(;;){if(s>=u)return-1;if(n=e.src.charCodeAt(s++),n>=48&&n<=57){if(s-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return s<u&&(n=e.src.charCodeAt(s),!vI(n))?-1:s}function y0e(e,t){var n,r,s=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===s&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var _0e=function(t,n,r,s){var u,h,o,p,y,b,C,k,I,R,L,F,B,q,K,se,Q,ee,re,H,j,Z,le,ne,ve,fe,Ie,Ae=n,qe=!1,ke=!0;if(t.sCount[Ae]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[Ae]-t.listIndent>=4&&t.sCount[Ae]<t.blkIndent)return!1;if(s&&t.parentType==="paragraph"&&t.sCount[Ae]>=t.blkIndent&&(qe=!0),(Z=SC(t,Ae))>=0){if(C=!0,ne=t.bMarks[Ae]+t.tShift[Ae],B=Number(t.src.slice(ne,Z-1)),qe&&B!==1)return!1}else if((Z=wC(t,Ae))>=0)C=!1;else return!1;if(qe&&t.skipSpaces(Z)>=t.eMarks[Ae])return!1;if(s)return!0;for(F=t.src.charCodeAt(Z-1),L=t.tokens.length,C?(Ie=t.push("ordered_list_open","ol",1),B!==1&&(Ie.attrs=[["start",B]])):Ie=t.push("bullet_list_open","ul",1),Ie.map=R=[Ae,0],Ie.markup=String.fromCharCode(F),le=!1,fe=t.md.block.ruler.getRules("list"),Q=t.parentType,t.parentType="list";Ae<r;){for(j=Z,q=t.eMarks[Ae],b=K=t.sCount[Ae]+Z-(t.bMarks[Ae]+t.tShift[Ae]);j<q;){if(u=t.src.charCodeAt(j),u===9)K+=4-(K+t.bsCount[Ae])%4;else if(u===32)K++;else break;j++}if(h=j,h>=q?y=1:y=K-b,y>4&&(y=1),p=b+y,Ie=t.push("list_item_open","li",1),Ie.markup=String.fromCharCode(F),Ie.map=k=[Ae,0],C&&(Ie.info=t.src.slice(ne,Z-1)),H=t.tight,re=t.tShift[Ae],ee=t.sCount[Ae],se=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=p,t.tight=!0,t.tShift[Ae]=h-t.bMarks[Ae],t.sCount[Ae]=K,h>=q&&t.isEmpty(Ae+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,Ae,r,!0),(!t.tight||le)&&(ke=!1),le=t.line-Ae>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=se,t.tShift[Ae]=re,t.sCount[Ae]=ee,t.tight=H,Ie=t.push("list_item_close","li",-1),Ie.markup=String.fromCharCode(F),Ae=t.line,k[1]=Ae,Ae>=r||t.sCount[Ae]<t.blkIndent||t.sCount[Ae]-t.blkIndent>=4)break;for(ve=!1,o=0,I=fe.length;o<I;o++)if(fe[o](t,Ae,r,!0)){ve=!0;break}if(ve)break;if(C){if(Z=SC(t,Ae),Z<0)break;ne=t.bMarks[Ae]+t.tShift[Ae]}else if(Z=wC(t,Ae),Z<0)break;if(F!==t.src.charCodeAt(Z-1))break}return C?Ie=t.push("ordered_list_close","ol",-1):Ie=t.push("bullet_list_close","ul",-1),Ie.markup=String.fromCharCode(F),R[1]=Ae,t.line=Ae,t.parentType=Q,ke&&y0e(t,L),!0},b0e=cr.normalizeReference,Jp=cr.isSpace,x0e=function(t,n,r,s){var u,h,o,p,y,b,C,k,I,R,L,F,B,q,K,se,Q=0,ee=t.bMarks[n]+t.tShift[n],re=t.eMarks[n],H=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(ee)!==91)return!1;for(;++ee<re;)if(t.src.charCodeAt(ee)===93&&t.src.charCodeAt(ee-1)!==92){if(ee+1===re||t.src.charCodeAt(ee+1)!==58)return!1;break}for(p=t.lineMax,K=t.md.block.ruler.getRules("reference"),R=t.parentType,t.parentType="reference";H<p&&!t.isEmpty(H);H++)if(!(t.sCount[H]-t.blkIndent>3)&&!(t.sCount[H]<0)){for(q=!1,b=0,C=K.length;b<C;b++)if(K[b](t,H,p,!0)){q=!0;break}if(q)break}for(B=t.getLines(n,H,t.blkIndent,!1).trim(),re=B.length,ee=1;ee<re;ee++){if(u=B.charCodeAt(ee),u===91)return!1;if(u===93){I=ee;break}else u===10?Q++:u===92&&(ee++,ee<re&&B.charCodeAt(ee)===10&&Q++)}if(I<0||B.charCodeAt(I+1)!==58)return!1;for(ee=I+2;ee<re;ee++)if(u=B.charCodeAt(ee),u===10)Q++;else if(!Jp(u))break;if(L=t.md.helpers.parseLinkDestination(B,ee,re),!L.ok||(y=t.md.normalizeLink(L.str),!t.md.validateLink(y)))return!1;for(ee=L.pos,Q+=L.lines,h=ee,o=Q,F=ee;ee<re;ee++)if(u=B.charCodeAt(ee),u===10)Q++;else if(!Jp(u))break;for(L=t.md.helpers.parseLinkTitle(B,ee,re),ee<re&&F!==ee&&L.ok?(se=L.str,ee=L.pos,Q+=L.lines):(se="",ee=h,Q=o);ee<re&&(u=B.charCodeAt(ee),!!Jp(u));)ee++;if(ee<re&&B.charCodeAt(ee)!==10&&se)for(se="",ee=h,Q=o;ee<re&&(u=B.charCodeAt(ee),!!Jp(u));)ee++;return ee<re&&B.charCodeAt(ee)!==10||(k=b0e(B.slice(1,I)),!k)?!1:(s||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[k]>"u"&&(t.env.references[k]={title:se,href:y}),t.parentType=R,t.line=n+Q+1),!0)},w0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],kv={},S0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",k0e="[^\"'=<>`\\x00-\\x20]+",C0e="'[^']*'",T0e='"[^"]*"',A0e="(?:"+k0e+"|"+C0e+"|"+T0e+")",E0e="(?:\\s+"+S0e+"(?:\\s*=\\s*"+A0e+")?)",yI="<[A-Za-z][A-Za-z0-9\\-]*"+E0e+"*\\s*\\/?>",_I="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",I0e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",P0e="<[?][\\s\\S]*?[?]>",D0e="<![A-Z]+\\s+[^>]*>",M0e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",L0e=new RegExp("^(?:"+yI+"|"+_I+"|"+I0e+"|"+P0e+"|"+D0e+"|"+M0e+")"),R0e=new RegExp("^(?:"+yI+"|"+_I+")");kv.HTML_TAG_RE=L0e;kv.HTML_OPEN_CLOSE_TAG_RE=R0e;var O0e=w0e,F0e=kv.HTML_OPEN_CLOSE_TAG_RE,od=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+O0e.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(F0e.source+"\\s*$"),/^$/,!1]],z0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],b=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(y)!==60)return!1;for(p=t.src.slice(y,b),u=0;u<od.length&&!od[u][0].test(p);u++);if(u===od.length)return!1;if(s)return od[u][2];if(h=n+1,!od[u][1].test(p)){for(;h<r&&!(t.sCount[h]<t.blkIndent);h++)if(y=t.bMarks[h]+t.tShift[h],b=t.eMarks[h],p=t.src.slice(y,b),od[u][1].test(p)){p.length!==0&&h++;break}}return t.line=h,o=t.push("html_block","",0),o.map=[n,h],o.content=t.getLines(n,h,t.blkIndent,!0),!0},kC=cr.isSpace,B0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],b=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y),u!==35||y>=b))return!1;for(h=1,u=t.src.charCodeAt(++y);u===35&&y<b&&h<=6;)h++,u=t.src.charCodeAt(++y);return h>6||y<b&&!kC(u)?!1:(s||(b=t.skipSpacesBack(b,y),o=t.skipCharsBack(b,35,y),o>y&&kC(t.src.charCodeAt(o-1))&&(b=o),t.line=n+1,p=t.push("heading_open","h"+String(h),1),p.markup="########".slice(0,h),p.map=[n,t.line],p=t.push("inline","",0),p.content=t.src.slice(y,b).trim(),p.map=[n,t.line],p.children=[],p=t.push("heading_close","h"+String(h),-1),p.markup="########".slice(0,h)),!0)},V0e=function(t,n,r){var s,u,h,o,p,y,b,C,k,I=n+1,R,L=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(R=t.parentType,t.parentType="paragraph";I<r&&!t.isEmpty(I);I++)if(!(t.sCount[I]-t.blkIndent>3)){if(t.sCount[I]>=t.blkIndent&&(y=t.bMarks[I]+t.tShift[I],b=t.eMarks[I],y<b&&(k=t.src.charCodeAt(y),(k===45||k===61)&&(y=t.skipChars(y,k),y=t.skipSpaces(y),y>=b)))){C=k===61?1:2;break}if(!(t.sCount[I]<0)){for(u=!1,h=0,o=L.length;h<o;h++)if(L[h](t,I,r,!0)){u=!0;break}if(u)break}}return C?(s=t.getLines(n,I,t.blkIndent,!1).trim(),t.line=I+1,p=t.push("heading_open","h"+String(C),1),p.markup=String.fromCharCode(k),p.map=[n,t.line],p=t.push("inline","",0),p.content=s,p.map=[n,t.line-1],p.children=[],p=t.push("heading_close","h"+String(C),-1),p.markup=String.fromCharCode(k),t.parentType=R,!0):!1},N0e=function(t,n,r){var s,u,h,o,p,y,b=n+1,C=t.md.block.ruler.getRules("paragraph");for(y=t.parentType,t.parentType="paragraph";b<r&&!t.isEmpty(b);b++)if(!(t.sCount[b]-t.blkIndent>3)&&!(t.sCount[b]<0)){for(u=!1,h=0,o=C.length;h<o;h++)if(C[h](t,b,r,!0)){u=!0;break}if(u)break}return s=t.getLines(n,b,t.blkIndent,!1).trim(),t.line=b,p=t.push("paragraph_open","p",1),p.map=[n,t.line],p=t.push("inline","",0),p.content=s,p.map=[n,t.line],p.children=[],p=t.push("paragraph_close","p",-1),t.parentType=y,!0},bI=Dx,Cv=cr.isSpace;function Fo(e,t,n,r){var s,u,h,o,p,y,b,C;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",u=this.src,C=!1,h=o=y=b=0,p=u.length;o<p;o++){if(s=u.charCodeAt(o),!C)if(Cv(s)){y++,s===9?b+=4-b%4:b++;continue}else C=!0;(s===10||o===p-1)&&(s!==10&&o++,this.bMarks.push(h),this.eMarks.push(o),this.tShift.push(y),this.sCount.push(b),this.bsCount.push(0),C=!1,y=0,b=0,h=o+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Fo.prototype.push=function(e,t,n){var r=new bI(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Fo.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Fo.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Fo.prototype.skipSpaces=function(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!Cv(n));t++);return t};Fo.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Cv(this.src.charCodeAt(--t)))return t+1;return t};Fo.prototype.skipChars=function(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Fo.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Fo.prototype.getLines=function(t,n,r,s){var u,h,o,p,y,b,C,k=t;if(t>=n)return"";for(b=new Array(n-t),u=0;k<n;k++,u++){for(h=0,C=p=this.bMarks[k],k+1<n||s?y=this.eMarks[k]+1:y=this.eMarks[k];p<y&&h<r;){if(o=this.src.charCodeAt(p),Cv(o))o===9?h+=4-(h+this.bsCount[k])%4:h++;else if(p-C<this.tShift[k])h++;else break;p++}h>r?b[u]=new Array(h-r+1).join(" ")+this.src.slice(p,y):b[u]=this.src.slice(p,y)}return b.join("")};Fo.prototype.Token=bI;var $0e=Fo,U0e=Px,Qp=[["table",d0e,["paragraph","reference"]],["code",h0e],["fence",f0e,["paragraph","reference","blockquote","list"]],["blockquote",p0e,["paragraph","reference","blockquote","list"]],["hr",v0e,["paragraph","reference","blockquote","list"]],["list",_0e,["paragraph","reference","blockquote"]],["reference",x0e],["html_block",z0e,["paragraph","reference","blockquote"]],["heading",B0e,["paragraph","reference","blockquote"]],["lheading",V0e],["paragraph",N0e]];function Tv(){this.ruler=new U0e;for(var e=0;e<Qp.length;e++)this.ruler.push(Qp[e][0],Qp[e][1],{alt:(Qp[e][2]||[]).slice()})}Tv.prototype.tokenize=function(e,t,n){for(var r,s,u,h=this.ruler.getRules(""),o=h.length,p=t,y=!1,b=e.md.options.maxNesting;p<n&&(e.line=p=e.skipEmptyLines(p),!(p>=n||e.sCount[p]<e.blkIndent));){if(e.level>=b){e.line=n;break}for(u=e.line,s=0;s<o;s++)if(r=h[s](e,p,n,!1),r){if(u>=e.line)throw new Error("block rule didn't increment state.line");break}if(!r)throw new Error("none of the block rules matched");e.tight=!y,e.isEmpty(e.line-1)&&(y=!0),p=e.line,p<n&&e.isEmpty(p)&&(y=!0,p++,e.line=p)}};Tv.prototype.parse=function(e,t,n,r){var s;e&&(s=new this.State(e,t,n,r),this.tokenize(s,s.line,s.lineMax))};Tv.prototype.State=$0e;var q0e=Tv;function j0e(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var H0e=function(t,n){for(var r=t.pos;r<t.posMax&&!j0e(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)},G0e=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,W0e=function(t,n){var r,s,u,h,o,p,y,b;return!t.md.options.linkify||t.linkLevel>0||(r=t.pos,s=t.posMax,r+3>s)||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47||(u=t.pending.match(G0e),!u)||(h=u[1],o=t.md.linkify.matchAtStart(t.src.slice(r-h.length)),!o)||(p=o.url,p.length<=h.length)||(p=p.replace(/\*+$/,""),y=t.md.normalizeLink(p),!t.md.validateLink(y))?!1:(n||(t.pending=t.pending.slice(0,-h.length),b=t.push("link_open","a",1),b.attrs=[["href",y]],b.markup="linkify",b.info="auto",b=t.push("text","",0),b.content=t.md.normalizeLinkText(p),b=t.push("link_close","a",-1),b.markup="linkify",b.info="auto"),t.pos+=p.length-h.length,!0)},Y0e=cr.isSpace,Z0e=function(t,n){var r,s,u,h=t.pos;if(t.src.charCodeAt(h)!==10)return!1;if(r=t.pending.length-1,s=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(u=r-1;u>=1&&t.pending.charCodeAt(u-1)===32;)u--;t.pending=t.pending.slice(0,u),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(h++;h<s&&Y0e(t.src.charCodeAt(h));)h++;return t.pos=h,!0},K0e=cr.isSpace,Lx=[];for(var CC=0;CC<256;CC++)Lx.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Lx[e.charCodeAt(0)]=1});var X0e=function(t,n){var r,s,u,h,o,p=t.pos,y=t.posMax;if(t.src.charCodeAt(p)!==92||(p++,p>=y))return!1;if(r=t.src.charCodeAt(p),r===10){for(n||t.push("hardbreak","br",0),p++;p<y&&(r=t.src.charCodeAt(p),!!K0e(r));)p++;return t.pos=p,!0}return h=t.src[p],r>=55296&&r<=56319&&p+1<y&&(s=t.src.charCodeAt(p+1),s>=56320&&s<=57343&&(h+=t.src[p+1],p++)),u="\\"+h,n||(o=t.push("text_special","",0),r<256&&Lx[r]!==0?o.content=h:o.content=u,o.markup=u,o.info="escape"),t.pos=p+1,!0},J0e=function(t,n){var r,s,u,h,o,p,y,b,C=t.pos,k=t.src.charCodeAt(C);if(k!==96)return!1;for(r=C,C++,s=t.posMax;C<s&&t.src.charCodeAt(C)===96;)C++;if(u=t.src.slice(r,C),y=u.length,t.backticksScanned&&(t.backticks[y]||0)<=r)return n||(t.pending+=u),t.pos+=y,!0;for(p=C;(o=t.src.indexOf("`",p))!==-1;){for(p=o+1;p<s&&t.src.charCodeAt(p)===96;)p++;if(b=p-o,b===y)return n||(h=t.push("code_inline","code",0),h.markup=u,h.content=t.src.slice(C,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=p,!0;t.backticks[b]=o}return t.backticksScanned=!0,n||(t.pending+=u),t.pos+=y,!0},Av={};Av.tokenize=function(t,n){var r,s,u,h,o,p=t.pos,y=t.src.charCodeAt(p);if(n||y!==126||(s=t.scanDelims(t.pos,!0),h=s.length,o=String.fromCharCode(y),h<2))return!1;for(h%2&&(u=t.push("text","",0),u.content=o,h--),r=0;r<h;r+=2)u=t.push("text","",0),u.content=o+o,t.delimiters.push({marker:y,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function TC(e,t){var n,r,s,u,h,o=[],p=t.length;for(n=0;n<p;n++)s=t[n],s.marker===126&&s.end!==-1&&(u=t[s.end],h=e.tokens[s.token],h.type="s_open",h.tag="s",h.nesting=1,h.markup="~~",h.content="",h=e.tokens[u.token],h.type="s_close",h.tag="s",h.nesting=-1,h.markup="~~",h.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&o.push(u.token-1));for(;o.length;){for(n=o.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(h=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=h)}}Av.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(TC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&TC(t,r[n].delimiters)};var Ev={};Ev.tokenize=function(t,n){var r,s,u,h=t.pos,o=t.src.charCodeAt(h);if(n||o!==95&&o!==42)return!1;for(s=t.scanDelims(t.pos,o===42),r=0;r<s.length;r++)u=t.push("text","",0),u.content=String.fromCharCode(o),t.delimiters.push({marker:o,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function AC(e,t){var n,r,s,u,h,o,p=t.length;for(n=p-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(s=t[r.end],o=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===s.token+1,h=String.fromCharCode(r.marker),u=e.tokens[r.token],u.type=o?"strong_open":"em_open",u.tag=o?"strong":"em",u.nesting=1,u.markup=o?h+h:h,u.content="",u=e.tokens[s.token],u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?h+h:h,u.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}Ev.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(AC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&AC(t,r[n].delimiters)};var Q0e=cr.normalizeReference,R_=cr.isSpace,exe=function(t,n){var r,s,u,h,o,p,y,b,C,k="",I="",R=t.pos,L=t.posMax,F=t.pos,B=!0;if(t.src.charCodeAt(t.pos)!==91||(o=t.pos+1,h=t.md.helpers.parseLinkLabel(t,t.pos,!0),h<0))return!1;if(p=h+1,p<L&&t.src.charCodeAt(p)===40){for(B=!1,p++;p<L&&(s=t.src.charCodeAt(p),!(!R_(s)&&s!==10));p++);if(p>=L)return!1;if(F=p,y=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),y.ok){for(k=t.md.normalizeLink(y.str),t.md.validateLink(k)?p=y.pos:k="",F=p;p<L&&(s=t.src.charCodeAt(p),!(!R_(s)&&s!==10));p++);if(y=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<L&&F!==p&&y.ok)for(I=y.str,p=y.pos;p<L&&(s=t.src.charCodeAt(p),!(!R_(s)&&s!==10));p++);}(p>=L||t.src.charCodeAt(p)!==41)&&(B=!0),p++}if(B){if(typeof t.env.references>"u")return!1;if(p<L&&t.src.charCodeAt(p)===91?(F=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?u=t.src.slice(F,p++):p=h+1):p=h+1,u||(u=t.src.slice(o,h)),b=t.env.references[Q0e(u)],!b)return t.pos=R,!1;k=b.href,I=b.title}return n||(t.pos=o,t.posMax=h,C=t.push("link_open","a",1),C.attrs=r=[["href",k]],I&&r.push(["title",I]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,C=t.push("link_close","a",-1)),t.pos=p,t.posMax=L,!0},txe=cr.normalizeReference,O_=cr.isSpace,nxe=function(t,n){var r,s,u,h,o,p,y,b,C,k,I,R,L,F="",B=t.pos,q=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(p=t.pos+2,o=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),o<0))return!1;if(y=o+1,y<q&&t.src.charCodeAt(y)===40){for(y++;y<q&&(s=t.src.charCodeAt(y),!(!O_(s)&&s!==10));y++);if(y>=q)return!1;for(L=y,C=t.md.helpers.parseLinkDestination(t.src,y,t.posMax),C.ok&&(F=t.md.normalizeLink(C.str),t.md.validateLink(F)?y=C.pos:F=""),L=y;y<q&&(s=t.src.charCodeAt(y),!(!O_(s)&&s!==10));y++);if(C=t.md.helpers.parseLinkTitle(t.src,y,t.posMax),y<q&&L!==y&&C.ok)for(k=C.str,y=C.pos;y<q&&(s=t.src.charCodeAt(y),!(!O_(s)&&s!==10));y++);else k="";if(y>=q||t.src.charCodeAt(y)!==41)return t.pos=B,!1;y++}else{if(typeof t.env.references>"u")return!1;if(y<q&&t.src.charCodeAt(y)===91?(L=y+1,y=t.md.helpers.parseLinkLabel(t,y),y>=0?h=t.src.slice(L,y++):y=o+1):y=o+1,h||(h=t.src.slice(p,o)),b=t.env.references[txe(h)],!b)return t.pos=B,!1;F=b.href,k=b.title}return n||(u=t.src.slice(p,o),t.md.inline.parse(u,t.md,t.env,R=[]),I=t.push("image","img",0),I.attrs=r=[["src",F],["alt",""]],I.children=R,I.content=u,k&&r.push(["title",k])),t.pos=y,t.posMax=q,!0},rxe=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,ixe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,axe=function(t,n){var r,s,u,h,o,p,y=t.pos;if(t.src.charCodeAt(y)!==60)return!1;for(o=t.pos,p=t.posMax;;){if(++y>=p||(h=t.src.charCodeAt(y),h===60))return!1;if(h===62)break}return r=t.src.slice(o+1,y),ixe.test(r)?(s=t.md.normalizeLink(r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):rxe.test(r)?(s=t.md.normalizeLink("mailto:"+r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):!1},sxe=kv.HTML_TAG_RE;function oxe(e){return/^<a[>\s]/i.test(e)}function lxe(e){return/^<\/a\s*>/i.test(e)}function cxe(e){var t=e|32;return t>=97&&t<=122}var uxe=function(t,n){var r,s,u,h,o=t.pos;return!t.md.options.html||(u=t.posMax,t.src.charCodeAt(o)!==60||o+2>=u)||(r=t.src.charCodeAt(o+1),r!==33&&r!==63&&r!==47&&!cxe(r))||(s=t.src.slice(o).match(sxe),!s)?!1:(n||(h=t.push("html_inline","",0),h.content=s[0],oxe(h.content)&&t.linkLevel++,lxe(h.content)&&t.linkLevel--),t.pos+=s[0].length,!0)},EC=dI,dxe=cr.has,hxe=cr.isValidEntityCode,IC=cr.fromCodePoint,fxe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,mxe=/^&([a-z][a-z0-9]{1,31});/i,pxe=function(t,n){var r,s,u,h,o=t.pos,p=t.posMax;if(t.src.charCodeAt(o)!==38||o+1>=p)return!1;if(r=t.src.charCodeAt(o+1),r===35){if(u=t.src.slice(o).match(fxe),u)return n||(s=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),h=t.push("text_special","",0),h.content=hxe(s)?IC(s):IC(65533),h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0}else if(u=t.src.slice(o).match(mxe),u&&dxe(EC,u[1]))return n||(h=t.push("text_special","",0),h.content=EC[u[1]],h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0;return!1};function PC(e){var t,n,r,s,u,h,o,p,y={},b=e.length;if(b){var C=0,k=-2,I=[];for(t=0;t<b;t++)if(r=e[t],I.push(0),(e[C].marker!==r.marker||k!==r.token-1)&&(C=t),k=r.token,r.length=r.length||0,!!r.close){for(y.hasOwnProperty(r.marker)||(y[r.marker]=[-1,-1,-1,-1,-1,-1]),u=y[r.marker][(r.open?3:0)+r.length%3],n=C-I[C]-1,h=n;n>u;n-=I[n]+1)if(s=e[n],s.marker===r.marker&&s.open&&s.end<0&&(o=!1,(s.close||r.open)&&(s.length+r.length)%3===0&&(s.length%3!==0||r.length%3!==0)&&(o=!0),!o)){p=n>0&&!e[n-1].open?I[n-1]+1:0,I[t]=t-n+p,I[n]=p,r.open=!1,s.end=t,s.close=!1,h=-1,k=-2;break}h!==-1&&(y[r.marker][(r.open?3:0)+(r.length||0)%3]=h)}}}var gxe=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(PC(t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&PC(r[n].delimiters)},vxe=function(t){var n,r,s=0,u=t.tokens,h=t.tokens.length;for(n=r=0;n<h;n++)u[n].nesting<0&&s--,u[n].level=s,u[n].nesting>0&&s++,u[n].type==="text"&&n+1<h&&u[n+1].type==="text"?u[n+1].content=u[n].content+u[n+1].content:(n!==r&&(u[r]=u[n]),r++);n!==r&&(u.length=r)},Rx=Dx,DC=cr.isWhiteSpace,MC=cr.isPunctChar,LC=cr.isMdAsciiPunct;function bm(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}bm.prototype.pushPending=function(){var e=new Rx("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};bm.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new Rx(e,t,n),s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};bm.prototype.scanDelims=function(e,t){var n=e,r,s,u,h,o,p,y,b,C,k=!0,I=!0,R=this.posMax,L=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<R&&this.src.charCodeAt(n)===L;)n++;return u=n-e,s=n<R?this.src.charCodeAt(n):32,y=LC(r)||MC(String.fromCharCode(r)),C=LC(s)||MC(String.fromCharCode(s)),p=DC(r),b=DC(s),b?k=!1:C&&(p||y||(k=!1)),p?I=!1:y&&(b||C||(I=!1)),t?(h=k,o=I):(h=k&&(!I||y),o=I&&(!k||C)),{can_open:h,can_close:o,length:u}};bm.prototype.Token=Rx;var yxe=bm,RC=Px,F_=[["text",H0e],["linkify",W0e],["newline",Z0e],["escape",X0e],["backticks",J0e],["strikethrough",Av.tokenize],["emphasis",Ev.tokenize],["link",exe],["image",nxe],["autolink",axe],["html_inline",uxe],["entity",pxe]],z_=[["balance_pairs",gxe],["strikethrough",Av.postProcess],["emphasis",Ev.postProcess],["fragments_join",vxe]];function xm(){var e;for(this.ruler=new RC,e=0;e<F_.length;e++)this.ruler.push(F_[e][0],F_[e][1]);for(this.ruler2=new RC,e=0;e<z_.length;e++)this.ruler2.push(z_[e][0],z_[e][1])}xm.prototype.skipToken=function(e){var t,n,r=e.pos,s=this.ruler.getRules(""),u=s.length,h=e.md.options.maxNesting,o=e.cache;if(typeof o[r]<"u"){e.pos=o[r];return}if(e.level<h){for(n=0;n<u;n++)if(e.level++,t=s[n](e,!0),e.level--,t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;t||e.pos++,o[r]=e.pos};xm.prototype.tokenize=function(e){for(var t,n,r,s=this.ruler.getRules(""),u=s.length,h=e.posMax,o=e.md.options.maxNesting;e.pos<h;){if(r=e.pos,e.level<o){for(n=0;n<u;n++)if(t=s[n](e,!1),t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(t){if(e.pos>=h)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};xm.prototype.parse=function(e,t,n,r){var s,u,h,o=new this.State(e,t,n,r);for(this.tokenize(o),u=this.ruler2.getRules(""),h=u.length,s=0;s<h;s++)u[s](o)};xm.prototype.State=yxe;var _xe=xm,B_,OC;function bxe(){return OC||(OC=1,B_=function(e){var t={};e=e||{},t.src_Any=hI().source,t.src_Cc=fI().source,t.src_Z=mI().source,t.src_P=Ix.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),B_}function Ub(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function Iv(e){return Object.prototype.toString.call(e)}function xxe(e){return Iv(e)==="[object String]"}function wxe(e){return Iv(e)==="[object Object]"}function Sxe(e){return Iv(e)==="[object RegExp]"}function FC(e){return Iv(e)==="[object Function]"}function kxe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var xI={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function Cxe(e){return Object.keys(e||{}).reduce(function(t,n){return t||xI.hasOwnProperty(n)},!1)}var Txe={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Axe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",Exe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Ixe(e){e.__index__=-1,e.__text_cache__=""}function Pxe(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function zC(){return function(e,t){t.normalize(e)}}function qg(e){var t=e.re=bxe()(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Axe),n.push(t.src_xn),t.src_tlds=n.join("|");function r(o){return o.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");var s=[];e.__compiled__={};function u(o,p){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+p)}Object.keys(e.__schemas__).forEach(function(o){var p=e.__schemas__[o];if(p!==null){var y={validate:null,link:null};if(e.__compiled__[o]=y,wxe(p)){Sxe(p.validate)?y.validate=Pxe(p.validate):FC(p.validate)?y.validate=p.validate:u(o,p),FC(p.normalize)?y.normalize=p.normalize:p.normalize?u(o,p):y.normalize=zC();return}if(xxe(p)){s.push(o);return}u(o,p)}}),s.forEach(function(o){e.__compiled__[e.__schemas__[o]]&&(e.__compiled__[o].validate=e.__compiled__[e.__schemas__[o]].validate,e.__compiled__[o].normalize=e.__compiled__[e.__schemas__[o]].normalize)}),e.__compiled__[""]={validate:null,normalize:zC()};var h=Object.keys(e.__compiled__).filter(function(o){return o.length>0&&e.__compiled__[o]}).map(kxe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Ixe(e)}function Dxe(e,t){var n=e.__index__,r=e.__last_index__,s=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=s,this.text=s,this.url=s}function qb(e,t){var n=new Dxe(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Qa(e,t){if(!(this instanceof Qa))return new Qa(e,t);t||Cxe(e)&&(t=e,e={}),this.__opts__=Ub({},xI,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Ub({},Txe,e),this.__compiled__={},this.__tlds__=Exe,this.__tlds_replaced__=!1,this.re={},qg(this)}Qa.prototype.add=function(t,n){return this.__schemas__[t]=n,qg(this),this};Qa.prototype.set=function(t){return this.__opts__=Ub(this.__opts__,t),this};Qa.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,r,s,u,h,o,p,y,b;if(this.re.schema_test.test(t)){for(p=this.re.schema_search,p.lastIndex=0;(n=p.exec(t))!==null;)if(u=this.testSchemaAt(t,n[2],p.lastIndex),u){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(y=t.search(this.re.host_fuzzy_test),y>=0&&(this.__index__<0||y<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(h=r.index+r[1].length,(this.__index__<0||h<this.__index__)&&(this.__schema__="",this.__index__=h,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(b=t.indexOf("@"),b>=0&&(s=t.match(this.re.email_fuzzy))!==null&&(h=s.index+s[1].length,o=s.index+s[0].length,(this.__index__<0||h<this.__index__||h===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=h,this.__last_index__=o))),this.__index__>=0};Qa.prototype.pretest=function(t){return this.re.pretest.test(t)};Qa.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};Qa.prototype.match=function(t){var n=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(qb(this,n)),n=this.__last_index__);for(var s=n?t.slice(n):t;this.test(s);)r.push(qb(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};Qa.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var n=this.re.schema_at_start.exec(t);if(!n)return null;var r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,qb(this,0)):null};Qa.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,s,u){return r!==u[s-1]}).reverse(),qg(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,qg(this),this)};Qa.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};Qa.prototype.onCompile=function(){};var Mxe=Qa;const wd=2147483647,ko=36,Ox=1,Zf=26,Lxe=38,Rxe=700,wI=72,SI=128,kI="-",Oxe=/^xn--/,Fxe=/[^\0-\x7F]/,zxe=/[\x2E\u3002\uFF0E\uFF61]/g,Bxe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},V_=ko-Ox,Co=Math.floor,N_=String.fromCharCode;function Ql(e){throw new RangeError(Bxe[e])}function Vxe(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function CI(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(zxe,".");const s=e.split("."),u=Vxe(s,t).join(".");return r+u}function Fx(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const u=e.charCodeAt(n++);(u&64512)==56320?t.push(((s&1023)<<10)+(u&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}const TI=e=>String.fromCodePoint(...e),Nxe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:ko},BC=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},AI=function(e,t,n){let r=0;for(e=n?Co(e/Rxe):e>>1,e+=Co(e/t);e>V_*Zf>>1;r+=ko)e=Co(e/V_);return Co(r+(V_+1)*e/(e+Lxe))},zx=function(e){const t=[],n=e.length;let r=0,s=SI,u=wI,h=e.lastIndexOf(kI);h<0&&(h=0);for(let o=0;o<h;++o)e.charCodeAt(o)>=128&&Ql("not-basic"),t.push(e.charCodeAt(o));for(let o=h>0?h+1:0;o<n;){const p=r;for(let b=1,C=ko;;C+=ko){o>=n&&Ql("invalid-input");const k=Nxe(e.charCodeAt(o++));k>=ko&&Ql("invalid-input"),k>Co((wd-r)/b)&&Ql("overflow"),r+=k*b;const I=C<=u?Ox:C>=u+Zf?Zf:C-u;if(k<I)break;const R=ko-I;b>Co(wd/R)&&Ql("overflow"),b*=R}const y=t.length+1;u=AI(r-p,y,p==0),Co(r/y)>wd-s&&Ql("overflow"),s+=Co(r/y),r%=y,t.splice(r++,0,s)}return String.fromCodePoint(...t)},Bx=function(e){const t=[];e=Fx(e);const n=e.length;let r=SI,s=0,u=wI;for(const p of e)p<128&&t.push(N_(p));const h=t.length;let o=h;for(h&&t.push(kI);o<n;){let p=wd;for(const b of e)b>=r&&b<p&&(p=b);const y=o+1;p-r>Co((wd-s)/y)&&Ql("overflow"),s+=(p-r)*y,r=p;for(const b of e)if(b<r&&++s>wd&&Ql("overflow"),b===r){let C=s;for(let k=ko;;k+=ko){const I=k<=u?Ox:k>=u+Zf?Zf:k-u;if(C<I)break;const R=C-I,L=ko-I;t.push(N_(BC(I+R%L,0))),C=Co(R/L)}t.push(N_(BC(C,0))),u=AI(s,y,o===h),s=0,++o}++s,++r}return t.join("")},EI=function(e){return CI(e,function(t){return Oxe.test(t)?zx(t.slice(4).toLowerCase()):t})},II=function(e){return CI(e,function(t){return Fxe.test(t)?"xn--"+Bx(t):t})},$xe={version:"2.3.1",ucs2:{decode:Fx,encode:TI},decode:zx,encode:Bx,toASCII:II,toUnicode:EI},Uxe=Object.freeze(Object.defineProperty({__proto__:null,decode:zx,default:$xe,encode:Bx,toASCII:II,toUnicode:EI,ucs2decode:Fx,ucs2encode:TI},Symbol.toStringTag,{value:"Module"})),qxe=pB(Uxe);var jxe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Hxe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Gxe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},xf=cr,Wxe=Sv,Yxe=Nbe,Zxe=u0e,Kxe=q0e,Xxe=_xe,Jxe=Mxe,Kc=jd,PI=qxe,Qxe={default:jxe,zero:Hxe,commonmark:Gxe},e1e=/^(vbscript|javascript|file|data):/,t1e=/^data:image\/(gif|png|jpeg|webp);/;function n1e(e){var t=e.trim().toLowerCase();return e1e.test(t)?!!t1e.test(t):!0}var DI=["http:","https:","mailto:"];function r1e(e){var t=Kc.parse(e,!0);if(t.hostname&&(!t.protocol||DI.indexOf(t.protocol)>=0))try{t.hostname=PI.toASCII(t.hostname)}catch{}return Kc.encode(Kc.format(t))}function i1e(e){var t=Kc.parse(e,!0);if(t.hostname&&(!t.protocol||DI.indexOf(t.protocol)>=0))try{t.hostname=PI.toUnicode(t.hostname)}catch{}return Kc.decode(Kc.format(t),Kc.decode.defaultChars+"%")}function Ss(e,t){if(!(this instanceof Ss))return new Ss(e,t);t||xf.isString(e)||(t=e||{},e="default"),this.inline=new Xxe,this.block=new Kxe,this.core=new Zxe,this.renderer=new Yxe,this.linkify=new Jxe,this.validateLink=n1e,this.normalizeLink=r1e,this.normalizeLinkText=i1e,this.utils=xf,this.helpers=xf.assign({},Wxe),this.options={},this.configure(e),t&&this.set(t)}Ss.prototype.set=function(e){return xf.assign(this.options,e),this};Ss.prototype.configure=function(e){var t=this,n;if(xf.isString(e)&&(n=e,e=Qxe[n],!e))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};Ss.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Ss.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Ss.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Ss.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Ss.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Ss.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Ss.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var a1e=Ss,s1e=a1e;const o1e=mB(s1e),l1e=lr({name:"VueMarkdown",props:{source:{type:String,required:!0},options:{type:Object,required:!1},plugins:{type:Array,required:!1}},setup(e){const t=dt(new o1e(e.options??{}));for(const r of e.plugins??[])t.value.use(r);const n=Y(()=>t.value.render(e.source));return()=>Xr("div",{innerHTML:n.value})}}),c1e={data(){return{options:{html:!0,breaks:!0}}},components:{VueMarkdown:l1e},props:{markdownText:{type:String,required:!0}}},u1e={class:"markdown"};function d1e(e,t,n,r,s,u){const h=Sn("vue-markdown");return fn(),ys("section",u1e,[T(h,{source:n.markdownText,options:s.options},null,8,["source","options"])])}const h1e=Qr(c1e,[["render",d1e]]);function MI(e,t){return function(){return e.apply(t,arguments)}}const{toString:f1e}=Object.prototype,{getPrototypeOf:Vx}=Object,Pv=(e=>t=>{const n=f1e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ao=e=>(e=e.toLowerCase(),t=>Pv(t)===e),Dv=e=>t=>typeof t===e,{isArray:Wd}=Array,Kf=Dv("undefined");function m1e(e){return e!==null&&!Kf(e)&&e.constructor!==null&&!Kf(e.constructor)&&xs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const LI=ao("ArrayBuffer");function p1e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&LI(e.buffer),t}const g1e=Dv("string"),xs=Dv("function"),RI=Dv("number"),Mv=e=>e!==null&&typeof e=="object",v1e=e=>e===!0||e===!1,fg=e=>{if(Pv(e)!=="object")return!1;const t=Vx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},y1e=ao("Date"),_1e=ao("File"),b1e=ao("Blob"),x1e=ao("FileList"),w1e=e=>Mv(e)&&xs(e.pipe),S1e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||xs(e.append)&&((t=Pv(e))==="formdata"||t==="object"&&xs(e.toString)&&e.toString()==="[object FormData]"))},k1e=ao("URLSearchParams"),[C1e,T1e,A1e,E1e]=["ReadableStream","Request","Response","Headers"].map(ao),I1e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Wd(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let o;for(r=0;r<h;r++)o=u[r],t.call(null,e[o],o,e)}}function OI(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const FI=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,zI=e=>!Kf(e)&&e!==FI;function jb(){const{caseless:e}=zI(this)&&this||{},t={},n=(r,s)=>{const u=e&&OI(t,s)||s;fg(t[u])&&fg(r)?t[u]=jb(t[u],r):fg(r)?t[u]=jb({},r):Wd(r)?t[u]=r.slice():t[u]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&wm(arguments[r],n);return t}const P1e=(e,t,n,{allOwnKeys:r}={})=>(wm(t,(s,u)=>{n&&xs(s)?e[u]=MI(s,n):e[u]=s},{allOwnKeys:r}),e),D1e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),M1e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},L1e=(e,t,n,r)=>{let s,u,h;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),u=s.length;u-- >0;)h=s[u],(!r||r(h,e,t))&&!o[h]&&(t[h]=e[h],o[h]=!0);e=n!==!1&&Vx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},R1e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},O1e=e=>{if(!e)return null;if(Wd(e))return e;let t=e.length;if(!RI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},F1e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Vx(Uint8Array)),z1e=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const u=s.value;t.call(e,u[0],u[1])}},B1e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},V1e=ao("HTMLFormElement"),N1e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),VC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$1e=ao("RegExp"),BI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};wm(n,(s,u)=>{let h;(h=t(s,u,e))!==!1&&(r[u]=h||s)}),Object.defineProperties(e,r)},U1e=e=>{BI(e,(t,n)=>{if(xs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(xs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},q1e=(e,t)=>{const n={},r=s=>{s.forEach(u=>{n[u]=!0})};return Wd(e)?r(e):r(String(e).split(t)),n},j1e=()=>{},H1e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,$_="abcdefghijklmnopqrstuvwxyz",NC="0123456789",VI={DIGIT:NC,ALPHA:$_,ALPHA_DIGIT:$_+$_.toUpperCase()+NC},G1e=(e=16,t=VI.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function W1e(e){return!!(e&&xs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Y1e=e=>{const t=new Array(10),n=(r,s)=>{if(Mv(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const u=Wd(r)?[]:{};return wm(r,(h,o)=>{const p=n(h,s+1);!Kf(p)&&(u[o]=p)}),t[s]=void 0,u}}return r};return n(e,0)},Z1e=ao("AsyncFunction"),K1e=e=>e&&(Mv(e)||xs(e))&&xs(e.then)&&xs(e.catch),tt={isArray:Wd,isArrayBuffer:LI,isBuffer:m1e,isFormData:S1e,isArrayBufferView:p1e,isString:g1e,isNumber:RI,isBoolean:v1e,isObject:Mv,isPlainObject:fg,isReadableStream:C1e,isRequest:T1e,isResponse:A1e,isHeaders:E1e,isUndefined:Kf,isDate:y1e,isFile:_1e,isBlob:b1e,isRegExp:$1e,isFunction:xs,isStream:w1e,isURLSearchParams:k1e,isTypedArray:F1e,isFileList:x1e,forEach:wm,merge:jb,extend:P1e,trim:I1e,stripBOM:D1e,inherits:M1e,toFlatObject:L1e,kindOf:Pv,kindOfTest:ao,endsWith:R1e,toArray:O1e,forEachEntry:z1e,matchAll:B1e,isHTMLForm:V1e,hasOwnProperty:VC,hasOwnProp:VC,reduceDescriptors:BI,freezeMethods:U1e,toObjectSet:q1e,toCamelCase:N1e,noop:j1e,toFiniteNumber:H1e,findKey:OI,global:FI,isContextDefined:zI,ALPHABET:VI,generateString:G1e,isSpecCompliantForm:W1e,toJSONObject:Y1e,isAsyncFn:Z1e,isThenable:K1e};function Mn(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}tt.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:tt.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const NI=Mn.prototype,$I={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$I[e]={value:e}});Object.defineProperties(Mn,$I);Object.defineProperty(NI,"isAxiosError",{value:!0});Mn.from=(e,t,n,r,s,u)=>{const h=Object.create(NI);return tt.toFlatObject(e,h,function(p){return p!==Error.prototype},o=>o!=="isAxiosError"),Mn.call(h,e.message,t,n,r,s),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};const X1e=null;function Hb(e){return tt.isPlainObject(e)||tt.isArray(e)}function UI(e){return tt.endsWith(e,"[]")?e.slice(0,-2):e}function $C(e,t,n){return e?e.concat(t).map(function(s,u){return s=UI(s),!n&&u?"["+s+"]":s}).join(n?".":""):t}function J1e(e){return tt.isArray(e)&&!e.some(Hb)}const Q1e=tt.toFlatObject(tt,{},null,function(t){return/^is[A-Z]/.test(t)});function Lv(e,t,n){if(!tt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=tt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,F){return!tt.isUndefined(F[L])});const r=n.metaTokens,s=n.visitor||b,u=n.dots,h=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&tt.isSpecCompliantForm(t);if(!tt.isFunction(s))throw new TypeError("visitor must be a function");function y(R){if(R===null)return"";if(tt.isDate(R))return R.toISOString();if(!p&&tt.isBlob(R))throw new Mn("Blob is not supported. Use a Buffer instead.");return tt.isArrayBuffer(R)||tt.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,L,F){let B=R;if(R&&!F&&typeof R=="object"){if(tt.endsWith(L,"{}"))L=r?L:L.slice(0,-2),R=JSON.stringify(R);else if(tt.isArray(R)&&J1e(R)||(tt.isFileList(R)||tt.endsWith(L,"[]"))&&(B=tt.toArray(R)))return L=UI(L),B.forEach(function(K,se){!(tt.isUndefined(K)||K===null)&&t.append(h===!0?$C([L],se,u):h===null?L:L+"[]",y(K))}),!1}return Hb(R)?!0:(t.append($C(F,L,u),y(R)),!1)}const C=[],k=Object.assign(Q1e,{defaultVisitor:b,convertValue:y,isVisitable:Hb});function I(R,L){if(!tt.isUndefined(R)){if(C.indexOf(R)!==-1)throw Error("Circular reference detected in "+L.join("."));C.push(R),tt.forEach(R,function(B,q){(!(tt.isUndefined(B)||B===null)&&s.call(t,B,tt.isString(q)?q.trim():q,L,k))===!0&&I(B,L?L.concat(q):[q])}),C.pop()}}if(!tt.isObject(e))throw new TypeError("data must be an object");return I(e),t}function UC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Nx(e,t){this._pairs=[],e&&Lv(e,this,t)}const qI=Nx.prototype;qI.append=function(t,n){this._pairs.push([t,n])};qI.toString=function(t){const n=t?function(r){return t.call(this,r,UC)}:UC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ewe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jI(e,t,n){if(!t)return e;const r=n&&n.encode||ewe,s=n&&n.serialize;let u;if(s?u=s(t,n):u=tt.isURLSearchParams(t)?t.toString():new Nx(t,n).toString(r),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class qC{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){tt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const HI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},twe=typeof URLSearchParams<"u"?URLSearchParams:Nx,nwe=typeof FormData<"u"?FormData:null,rwe=typeof Blob<"u"?Blob:null,iwe={isBrowser:!0,classes:{URLSearchParams:twe,FormData:nwe,Blob:rwe},protocols:["http","https","file","blob","url","data"]},$x=typeof window<"u"&&typeof document<"u",awe=(e=>$x&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),swe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",owe=$x&&window.location.href||"http://localhost",lwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$x,hasStandardBrowserEnv:awe,hasStandardBrowserWebWorkerEnv:swe,origin:owe},Symbol.toStringTag,{value:"Module"})),Ks={...lwe,...iwe};function cwe(e,t){return Lv(e,new Ks.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,u){return Ks.isNode&&tt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function uwe(e){return tt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function dwe(e){const t={},n=Object.keys(e);let r;const s=n.length;let u;for(r=0;r<s;r++)u=n[r],t[u]=e[u];return t}function GI(e){function t(n,r,s,u){let h=n[u++];if(h==="__proto__")return!0;const o=Number.isFinite(+h),p=u>=n.length;return h=!h&&tt.isArray(s)?s.length:h,p?(tt.hasOwnProp(s,h)?s[h]=[s[h],r]:s[h]=r,!o):((!s[h]||!tt.isObject(s[h]))&&(s[h]=[]),t(n,r,s[h],u)&&tt.isArray(s[h])&&(s[h]=dwe(s[h])),!o)}if(tt.isFormData(e)&&tt.isFunction(e.entries)){const n={};return tt.forEachEntry(e,(r,s)=>{t(uwe(r),s,n,0)}),n}return null}function hwe(e,t,n){if(tt.isString(e))try{return(t||JSON.parse)(e),tt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Sm={transitional:HI,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,u=tt.isObject(t);if(u&&tt.isHTMLForm(t)&&(t=new FormData(t)),tt.isFormData(t))return s?JSON.stringify(GI(t)):t;if(tt.isArrayBuffer(t)||tt.isBuffer(t)||tt.isStream(t)||tt.isFile(t)||tt.isBlob(t)||tt.isReadableStream(t))return t;if(tt.isArrayBufferView(t))return t.buffer;if(tt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return cwe(t,this.formSerializer).toString();if((o=tt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Lv(o?{"files[]":t}:t,p&&new p,this.formSerializer)}}return u||s?(n.setContentType("application/json",!1),hwe(t)):t}],transformResponse:[function(t){const n=this.transitional||Sm.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(tt.isResponse(t)||tt.isReadableStream(t))return t;if(t&&tt.isString(t)&&(r&&!this.responseType||s)){const h=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(h)throw o.name==="SyntaxError"?Mn.from(o,Mn.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ks.classes.FormData,Blob:Ks.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};tt.forEach(["delete","get","head","post","put","patch"],e=>{Sm.headers[e]={}});const fwe=tt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mwe=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(h){s=h.indexOf(":"),n=h.substring(0,s).trim().toLowerCase(),r=h.substring(s+1).trim(),!(!n||t[n]&&fwe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},jC=Symbol("internals");function cf(e){return e&&String(e).trim().toLowerCase()}function mg(e){return e===!1||e==null?e:tt.isArray(e)?e.map(mg):String(e)}function pwe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const gwe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function U_(e,t,n,r,s){if(tt.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!tt.isString(t)){if(tt.isString(r))return t.indexOf(r)!==-1;if(tt.isRegExp(r))return r.test(t)}}function vwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function ywe(e,t){const n=tt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,u,h){return this[r].call(this,t,s,u,h)},configurable:!0})})}class Ba{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function u(o,p,y){const b=cf(p);if(!b)throw new Error("header name must be a non-empty string");const C=tt.findKey(s,b);(!C||s[C]===void 0||y===!0||y===void 0&&s[C]!==!1)&&(s[C||p]=mg(o))}const h=(o,p)=>tt.forEach(o,(y,b)=>u(y,b,p));if(tt.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(tt.isString(t)&&(t=t.trim())&&!gwe(t))h(mwe(t),n);else if(tt.isHeaders(t))for(const[o,p]of t.entries())u(p,o,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=cf(t),t){const r=tt.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return pwe(s);if(tt.isFunction(n))return n.call(this,s,r);if(tt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=cf(t),t){const r=tt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||U_(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function u(h){if(h=cf(h),h){const o=tt.findKey(r,h);o&&(!n||U_(r,r[o],o,n))&&(delete r[o],s=!0)}}return tt.isArray(t)?t.forEach(u):u(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const u=n[r];(!t||U_(this,this[u],u,t,!0))&&(delete this[u],s=!0)}return s}normalize(t){const n=this,r={};return tt.forEach(this,(s,u)=>{const h=tt.findKey(r,u);if(h){n[h]=mg(s),delete n[u];return}const o=t?vwe(u):String(u).trim();o!==u&&delete n[u],n[o]=mg(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return tt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&tt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[jC]=this[jC]={accessors:{}}).accessors,s=this.prototype;function u(h){const o=cf(h);r[o]||(ywe(s,h),r[o]=!0)}return tt.isArray(t)?t.forEach(u):u(t),this}}Ba.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);tt.reduceDescriptors(Ba.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});tt.freezeMethods(Ba);function q_(e,t){const n=this||Sm,r=t||n,s=Ba.from(r.headers);let u=r.data;return tt.forEach(e,function(o){u=o.call(n,u,s.normalize(),t?t.status:void 0)}),s.normalize(),u}function WI(e){return!!(e&&e.__CANCEL__)}function Yd(e,t,n){Mn.call(this,e??"canceled",Mn.ERR_CANCELED,t,n),this.name="CanceledError"}tt.inherits(Yd,Mn,{__CANCEL__:!0});function YI(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Mn("Request failed with status code "+n.status,[Mn.ERR_BAD_REQUEST,Mn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function _we(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function bwe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,u=0,h;return t=t!==void 0?t:1e3,function(p){const y=Date.now(),b=r[u];h||(h=y),n[s]=p,r[s]=y;let C=u,k=0;for(;C!==s;)k+=n[C++],C=C%e;if(s=(s+1)%e,s===u&&(u=(u+1)%e),y-h<t)return;const I=b&&y-b;return I?Math.round(k*1e3/I):void 0}}function xwe(e,t){let n=0;const r=1e3/t;let s=null;return function(){const h=this===!0,o=Date.now();if(h||o-n>r)return s&&(clearTimeout(s),s=null),n=o,e.apply(null,arguments);s||(s=setTimeout(()=>(s=null,n=Date.now(),e.apply(null,arguments)),r-(o-n)))}}const jg=(e,t,n=3)=>{let r=0;const s=bwe(50,250);return xwe(u=>{const h=u.loaded,o=u.lengthComputable?u.total:void 0,p=h-r,y=s(p),b=h<=o;r=h;const C={loaded:h,total:o,progress:o?h/o:void 0,bytes:p,rate:y||void 0,estimated:y&&o&&b?(o-h)/y:void 0,event:u,lengthComputable:o!=null};C[t?"download":"upload"]=!0,e(C)},n)},wwe=Ks.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(u){let h=u;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(h){const o=tt.isString(h)?s(h):h;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),Swe=Ks.hasStandardBrowserEnv?{write(e,t,n,r,s,u){const h=[e+"="+encodeURIComponent(t)];tt.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),tt.isString(r)&&h.push("path="+r),tt.isString(s)&&h.push("domain="+s),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function kwe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cwe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ZI(e,t){return e&&!kwe(t)?Cwe(e,t):t}const HC=e=>e instanceof Ba?{...e}:e;function ou(e,t){t=t||{};const n={};function r(y,b,C){return tt.isPlainObject(y)&&tt.isPlainObject(b)?tt.merge.call({caseless:C},y,b):tt.isPlainObject(b)?tt.merge({},b):tt.isArray(b)?b.slice():b}function s(y,b,C){if(tt.isUndefined(b)){if(!tt.isUndefined(y))return r(void 0,y,C)}else return r(y,b,C)}function u(y,b){if(!tt.isUndefined(b))return r(void 0,b)}function h(y,b){if(tt.isUndefined(b)){if(!tt.isUndefined(y))return r(void 0,y)}else return r(void 0,b)}function o(y,b,C){if(C in t)return r(y,b);if(C in e)return r(void 0,y)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:o,headers:(y,b)=>s(HC(y),HC(b),!0)};return tt.forEach(Object.keys(Object.assign({},e,t)),function(b){const C=p[b]||s,k=C(e[b],t[b],b);tt.isUndefined(k)&&C!==o||(n[b]=k)}),n}const KI=e=>{const t=ou({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:u,headers:h,auth:o}=t;t.headers=h=Ba.from(h),t.url=jI(ZI(t.baseURL,t.url),e.params,e.paramsSerializer),o&&h.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let p;if(tt.isFormData(n)){if(Ks.hasStandardBrowserEnv||Ks.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[y,...b]=p?p.split(";").map(C=>C.trim()).filter(Boolean):[];h.setContentType([y||"multipart/form-data",...b].join("; "))}}if(Ks.hasStandardBrowserEnv&&(r&&tt.isFunction(r)&&(r=r(t)),r||r!==!1&&wwe(t.url))){const y=s&&u&&Swe.read(u);y&&h.set(s,y)}return t},Twe=typeof XMLHttpRequest<"u",Awe=Twe&&function(e){return new Promise(function(n,r){const s=KI(e);let u=s.data;const h=Ba.from(s.headers).normalize();let{responseType:o}=s,p;function y(){s.cancelToken&&s.cancelToken.unsubscribe(p),s.signal&&s.signal.removeEventListener("abort",p)}let b=new XMLHttpRequest;b.open(s.method.toUpperCase(),s.url,!0),b.timeout=s.timeout;function C(){if(!b)return;const I=Ba.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),L={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:I,config:e,request:b};YI(function(B){n(B),y()},function(B){r(B),y()},L),b=null}"onloadend"in b?b.onloadend=C:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(C)},b.onabort=function(){b&&(r(new Mn("Request aborted",Mn.ECONNABORTED,s,b)),b=null)},b.onerror=function(){r(new Mn("Network Error",Mn.ERR_NETWORK,s,b)),b=null},b.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const L=s.transitional||HI;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),r(new Mn(R,L.clarifyTimeoutError?Mn.ETIMEDOUT:Mn.ECONNABORTED,s,b)),b=null},u===void 0&&h.setContentType(null),"setRequestHeader"in b&&tt.forEach(h.toJSON(),function(R,L){b.setRequestHeader(L,R)}),tt.isUndefined(s.withCredentials)||(b.withCredentials=!!s.withCredentials),o&&o!=="json"&&(b.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&b.addEventListener("progress",jg(s.onDownloadProgress,!0)),typeof s.onUploadProgress=="function"&&b.upload&&b.upload.addEventListener("progress",jg(s.onUploadProgress)),(s.cancelToken||s.signal)&&(p=I=>{b&&(r(!I||I.type?new Yd(null,e,b):I),b.abort(),b=null)},s.cancelToken&&s.cancelToken.subscribe(p),s.signal&&(s.signal.aborted?p():s.signal.addEventListener("abort",p)));const k=_we(s.url);if(k&&Ks.protocols.indexOf(k)===-1){r(new Mn("Unsupported protocol "+k+":",Mn.ERR_BAD_REQUEST,e));return}b.send(u||null)})},Ewe=(e,t)=>{let n=new AbortController,r;const s=function(p){if(!r){r=!0,h();const y=p instanceof Error?p:this.reason;n.abort(y instanceof Mn?y:new Yd(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{s(new Mn(`timeout ${t} of ms exceeded`,Mn.ETIMEDOUT))},t);const h=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(p=>{p&&(p.removeEventListener?p.removeEventListener("abort",s):p.unsubscribe(s))}),e=null)};e.forEach(p=>p&&p.addEventListener&&p.addEventListener("abort",s));const{signal:o}=n;return o.unsubscribe=h,[o,()=>{u&&clearTimeout(u),u=null}]},Iwe=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Pwe=async function*(e,t,n){for await(const r of e)yield*Iwe(ArrayBuffer.isView(r)?r:await n(String(r)),t)},GC=(e,t,n,r,s)=>{const u=Pwe(e,t,s);let h=0;return new ReadableStream({type:"bytes",async pull(o){const{done:p,value:y}=await u.next();if(p){o.close(),r();return}let b=y.byteLength;n&&n(h+=b),o.enqueue(new Uint8Array(y))},cancel(o){return r(o),u.return()}},{highWaterMark:2})},WC=(e,t)=>{const n=e!=null;return r=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:r}))},Rv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",XI=Rv&&typeof ReadableStream=="function",Gb=Rv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Dwe=XI&&(()=>{let e=!1;const t=new Request(Ks.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),YC=64*1024,Wb=XI&&!!(()=>{try{return tt.isReadableStream(new Response("").body)}catch{}})(),Hg={stream:Wb&&(e=>e.body)};Rv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Hg[t]&&(Hg[t]=tt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Mn(`Response type '${t}' is not supported`,Mn.ERR_NOT_SUPPORT,r)})})})(new Response);const Mwe=async e=>{if(e==null)return 0;if(tt.isBlob(e))return e.size;if(tt.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(tt.isArrayBufferView(e))return e.byteLength;if(tt.isURLSearchParams(e)&&(e=e+""),tt.isString(e))return(await Gb(e)).byteLength},Lwe=async(e,t)=>{const n=tt.toFiniteNumber(e.getContentLength());return n??Mwe(t)},Rwe=Rv&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:u,timeout:h,onDownloadProgress:o,onUploadProgress:p,responseType:y,headers:b,withCredentials:C="same-origin",fetchOptions:k}=KI(e);y=y?(y+"").toLowerCase():"text";let[I,R]=s||u||h?Ewe([s,u],h):[],L,F;const B=()=>{!L&&setTimeout(()=>{I&&I.unsubscribe()}),L=!0};let q;try{if(p&&Dwe&&n!=="get"&&n!=="head"&&(q=await Lwe(b,r))!==0){let ee=new Request(t,{method:"POST",body:r,duplex:"half"}),re;tt.isFormData(r)&&(re=ee.headers.get("content-type"))&&b.setContentType(re),ee.body&&(r=GC(ee.body,YC,WC(q,jg(p)),null,Gb))}tt.isString(C)||(C=C?"cors":"omit"),F=new Request(t,{...k,signal:I,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:r,duplex:"half",withCredentials:C});let K=await fetch(F);const se=Wb&&(y==="stream"||y==="response");if(Wb&&(o||se)){const ee={};["status","statusText","headers"].forEach(H=>{ee[H]=K[H]});const re=tt.toFiniteNumber(K.headers.get("content-length"));K=new Response(GC(K.body,YC,o&&WC(re,jg(o,!0)),se&&B,Gb),ee)}y=y||"text";let Q=await Hg[tt.findKey(Hg,y)||"text"](K,e);return!se&&B(),R&&R(),await new Promise((ee,re)=>{YI(ee,re,{data:Q,headers:Ba.from(K.headers),status:K.status,statusText:K.statusText,config:e,request:F})})}catch(K){throw B(),K&&K.name==="TypeError"&&/fetch/i.test(K.message)?Object.assign(new Mn("Network Error",Mn.ERR_NETWORK,e,F),{cause:K.cause||K}):Mn.from(K,K&&K.code,e,F)}}),Yb={http:X1e,xhr:Awe,fetch:Rwe};tt.forEach(Yb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const ZC=e=>`- ${e}`,Owe=e=>tt.isFunction(e)||e===null||e===!1,JI={getAdapter:e=>{e=tt.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let u=0;u<t;u++){n=e[u];let h;if(r=n,!Owe(n)&&(r=Yb[(h=String(n)).toLowerCase()],r===void 0))throw new Mn(`Unknown adapter '${h}'`);if(r)break;s[h||"#"+u]=r}if(!r){const u=Object.entries(s).map(([o,p])=>`adapter ${o} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(ZC).join(`
`):" "+ZC(u[0]):"as no adapter specified";throw new Mn("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:Yb};function j_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yd(null,e)}function KC(e){return j_(e),e.headers=Ba.from(e.headers),e.data=q_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),JI.getAdapter(e.adapter||Sm.adapter)(e).then(function(r){return j_(e),r.data=q_.call(e,e.transformResponse,r),r.headers=Ba.from(r.headers),r},function(r){return WI(r)||(j_(e),r&&r.response&&(r.response.data=q_.call(e,e.transformResponse,r.response),r.response.headers=Ba.from(r.response.headers))),Promise.reject(r)})}const QI="1.7.2",Ux={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ux[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const XC={};Ux.transitional=function(t,n,r){function s(u,h){return"[Axios v"+QI+"] Transitional option '"+u+"'"+h+(r?". "+r:"")}return(u,h,o)=>{if(t===!1)throw new Mn(s(h," has been removed"+(n?" in "+n:"")),Mn.ERR_DEPRECATED);return n&&!XC[h]&&(XC[h]=!0,console.warn(s(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,h,o):!0}};function Fwe(e,t,n){if(typeof e!="object")throw new Mn("options must be an object",Mn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const u=r[s],h=t[u];if(h){const o=e[u],p=o===void 0||h(o,u,e);if(p!==!0)throw new Mn("option "+u+" must be "+p,Mn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mn("Unknown option "+u,Mn.ERR_BAD_OPTION)}}const Zb={assertOptions:Fwe,validators:Ux},Gl=Zb.validators;class iu{constructor(t){this.defaults=t,this.interceptors={request:new qC,response:new qC}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const u=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ou(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:u}=n;r!==void 0&&Zb.assertOptions(r,{silentJSONParsing:Gl.transitional(Gl.boolean),forcedJSONParsing:Gl.transitional(Gl.boolean),clarifyTimeoutError:Gl.transitional(Gl.boolean)},!1),s!=null&&(tt.isFunction(s)?n.paramsSerializer={serialize:s}:Zb.assertOptions(s,{encode:Gl.function,serialize:Gl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&tt.merge(u.common,u[n.method]);u&&tt.forEach(["delete","get","head","post","put","patch","common"],R=>{delete u[R]}),n.headers=Ba.concat(h,u);const o=[];let p=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(n)===!1||(p=p&&L.synchronous,o.unshift(L.fulfilled,L.rejected))});const y=[];this.interceptors.response.forEach(function(L){y.push(L.fulfilled,L.rejected)});let b,C=0,k;if(!p){const R=[KC.bind(this),void 0];for(R.unshift.apply(R,o),R.push.apply(R,y),k=R.length,b=Promise.resolve(n);C<k;)b=b.then(R[C++],R[C++]);return b}k=o.length;let I=n;for(C=0;C<k;){const R=o[C++],L=o[C++];try{I=R(I)}catch(F){L.call(this,F);break}}try{b=KC.call(this,I)}catch(R){return Promise.reject(R)}for(C=0,k=y.length;C<k;)b=b.then(y[C++],y[C++]);return b}getUri(t){t=ou(this.defaults,t);const n=ZI(t.baseURL,t.url);return jI(n,t.params,t.paramsSerializer)}}tt.forEach(["delete","get","head","options"],function(t){iu.prototype[t]=function(n,r){return this.request(ou(r||{},{method:t,url:n,data:(r||{}).data}))}});tt.forEach(["post","put","patch"],function(t){function n(r){return function(u,h,o){return this.request(ou(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}iu.prototype[t]=n(),iu.prototype[t+"Form"]=n(!0)});class qx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(s=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](s);r._listeners=null}),this.promise.then=s=>{let u;const h=new Promise(o=>{r.subscribe(o),u=o}).then(s);return h.cancel=function(){r.unsubscribe(u)},h},t(function(u,h,o){r.reason||(r.reason=new Yd(u,h,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new qx(function(s){t=s}),cancel:t}}}function zwe(e){return function(n){return e.apply(null,n)}}function Bwe(e){return tt.isObject(e)&&e.isAxiosError===!0}const Kb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kb).forEach(([e,t])=>{Kb[t]=e});function eP(e){const t=new iu(e),n=MI(iu.prototype.request,t);return tt.extend(n,iu.prototype,t,{allOwnKeys:!0}),tt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return eP(ou(e,s))},n}const Nr=eP(Sm);Nr.Axios=iu;Nr.CanceledError=Yd;Nr.CancelToken=qx;Nr.isCancel=WI;Nr.VERSION=QI;Nr.toFormData=Lv;Nr.AxiosError=Mn;Nr.Cancel=Nr.CanceledError;Nr.all=function(t){return Promise.all(t)};Nr.spread=zwe;Nr.isAxiosError=Bwe;Nr.mergeConfig=ou;Nr.AxiosHeaders=Ba;Nr.formToJSON=e=>GI(tt.isHTMLForm(e)?new FormData(e):e);Nr.getAdapter=JI.getAdapter;Nr.HttpStatusCode=Kb;Nr.default=Nr;const Vwe="https://api-geography.azurewebsites.net/rest/postcodes/",Nwe="https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt",$we="https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt",tP="https://api-geography.librarydata.uk/rest/libraryAuthorities",Uwe="https://api.librarydata.uk/authenticate",qwe="create.librarydata.uk",nP="https://api.librarydata.uk/schemas/",jwe=[{text:"Local authority",value:"LAL"},{text:"Local authority unstaffed",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"ICL"}];async function rP(){const e=await Nr.get(tP);return e&&e.data?e.data:[]}async function Hwe(e){const t=await Nr.get(tP+"/name/"+e);return t&&t.data?t.data:{}}const tc=ht()({name:"VCardActions",props:hn(),setup(e,t){let{slots:n}=t;return ua({VBtn:{slim:!0,variant:"text"}}),St(()=>{var r;return T("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),Gwe=We({opacity:[Number,String],...hn(),...Xn()},"VCardSubtitle"),Wwe=ht()({name:"VCardSubtitle",props:Gwe(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Xc=zd("v-card-title"),Ywe=We({appendAvatar:String,appendIcon:Ln,prependAvatar:String,prependIcon:Ln,subtitle:[String,Number],title:[String,Number],...hn(),...$a()},"VCardItem"),Zwe=ht()({name:"VCardItem",props:Ywe(),setup(e,t){let{slots:n}=t;return St(()=>{var y;const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||n.prepend),u=!!(e.appendAvatar||e.appendIcon),h=!!(u||n.append),o=!!(e.title!=null||n.title),p=!!(e.subtitle!=null||n.subtitle);return T("div",{class:["v-card-item",e.class],style:e.style},[s&&T("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?T(Un,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):T(Ht,null,[e.prependAvatar&&T(Eo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(nr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),T("div",{class:"v-card-item__content"},[o&&T(Xc,{key:"title"},{default:()=>{var b;return[((b=n.title)==null?void 0:b.call(n))??e.title]}}),p&&T(Wwe,{key:"subtitle"},{default:()=>{var b;return[((b=n.subtitle)==null?void 0:b.call(n))??e.subtitle]}}),(y=n.default)==null?void 0:y.call(n)]),h&&T("div",{key:"append",class:"v-card-item__append"},[n.append?T(Un,{key:"append-defaults",disabled:!u,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):T(Ht,null,[e.appendIcon&&T(nr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Eo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),Kwe=We({opacity:[Number,String],...hn(),...Xn()},"VCardText"),To=ht()({name:"VCardText",props:Kwe(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),Xwe=We({appendAvatar:String,appendIcon:Ln,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ln,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...eo(),...hn(),...$a(),...to(),...ns(),...mv(),...fu(),...lm(),...Pi(),...gv(),...Xn(),...vr(),...ro({variant:"elevated"})},"VCard"),Za=ht()({name:"VCard",directives:{Ripple:pu},props:Xwe(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{borderClasses:u}=Lo(e),{colorClasses:h,colorStyles:o,variantClasses:p}=mu(e),{densityClasses:y}=rs(e),{dimensionStyles:b}=no(e),{elevationClasses:C}=As(e),{loaderClasses:k}=pv(e),{locationStyles:I}=Vd(e),{positionClasses:R}=cm(e),{roundedClasses:L}=Bi(e),F=mm(e,n),B=Y(()=>e.link!==!1&&F.isLink.value),q=Y(()=>!e.disabled&&e.link!==!1&&(e.link||F.isClickable.value));return St(()=>{const K=B.value?"a":e.tag,se=!!(r.title||e.title!=null),Q=!!(r.subtitle||e.subtitle!=null),ee=se||Q,re=!!(r.append||e.appendAvatar||e.appendIcon),H=!!(r.prepend||e.prependAvatar||e.prependIcon),j=!!(r.image||e.image),Z=ee||H||re,le=!!(r.text||e.text!=null);return oi(T(K,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":q.value},s.value,u.value,h.value,y.value,C.value,k.value,R.value,L.value,p.value,e.class],style:[o.value,b.value,I.value,e.style],href:F.href.value,onClick:q.value&&F.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var ne;return[j&&T("div",{key:"image",class:"v-card__image"},[r.image?T(Un,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):T(pm,{key:"image-img",cover:!0,src:e.image},null)]),T(tx,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),Z&&T(Zwe,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),le&&T(To,{key:"text"},{default:()=>{var ve;return[((ve=r.text)==null?void 0:ve.call(r))??e.text]}}),(ne=r.default)==null?void 0:ne.call(r),r.actions&&T(tc,null,{default:r.actions}),xl(q.value,"v-card")]}}),[[ks("ripple"),q.value&&e.ripple]])}),{}}}),Jwe={props:["actions"],data(){return{}},methods:{async getServices(){let e=await rP();e=e.sort((t,n)=>t.name.localeCompare(n.name)),this.$store.commit("setServices",e),this.library_services=e},async logout(){this.$store.commit("logout")}},beforeMount(){this.getServices()}},Qwe={key:0},eSe={key:0},tSe={key:1};function nSe(e,t,n,r,s,u){return fn(),Vn(Za,{variant:"text",class:"mb-4"},{default:De(()=>[T(To,null,{default:De(()=>[this.$store.state.loginKey?(fn(),ys("p",Qwe,[zt(" Logged in as "),rr("strong",null,Zs(this.$store.state.loginSubject),1),this.$store.state.loginAdmin?(fn(),ys("span",eSe,[T(hl,{color:"info",class:"mx-2 my-2","prepend-icon":"mdi-shield-crown"},{default:De(()=>[zt(" Admin ")]),_:1})])):Kn("",!0),(fn(!0),ys(Ht,null,ag(this.$store.state.loginCodes,h=>(fn(),Vn(hl,{class:"mr-1",key:"chip_"+h},{default:De(()=>[T(nr,{left:""},{default:De(()=>[zt("mdi-map-legend")]),_:1}),zt(" "+Zs(e.library_services.length>0?e.library_services.filter(o=>o.code===h)[0].nice_name:h),1)]),_:2},1024))),128))])):Kn("",!0),this.$store.state.loginKey?Kn("",!0):(fn(),ys("p",tSe,"You are not logged in"))]),_:1}),this.actions?(fn(),Vn(tc,{key:0},{default:De(()=>[T(js),this.$store.state.loginKey?(fn(),Vn(Kt,{key:0,color:"warning",variant:"tonal",text:"",onClick:u.logout},{default:De(()=>[zt(" Log out "),T(nr,{right:""},{default:De(()=>[zt("mdi-logout")]),_:1})]),_:1},8,["onClick"])):Kn("",!0),this.$store.state.loginKey?Kn("",!0):(fn(),Vn(Kt,{key:1,color:"info",variant:"tonal",to:"/login","append-icon":"mdi-account-circle-outline"},{default:De(()=>[zt(" Log in ")]),_:1}))]),_:1})):Kn("",!0)]),_:1})}const km=Qr(Jwe,[["render",nSe]]);function rSe(){return iP().__VUE_DEVTOOLS_GLOBAL_HOOK__}function iP(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const iSe=typeof Proxy=="function",aSe="devtools-plugin:setup",sSe="plugin:settings:set";let ld,Xb;function oSe(){var e;return ld!==void 0||(typeof window<"u"&&window.performance?(ld=!0,Xb=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(ld=!0,Xb=globalThis.perf_hooks.performance):ld=!1),ld}function lSe(){return oSe()?Xb.now():Date.now()}class cSe{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const h in t.settings){const o=t.settings[h];r[h]=o.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let u=Object.assign({},r);try{const h=localStorage.getItem(s),o=JSON.parse(h);Object.assign(u,o)}catch{}this.fallbacks={getSettings(){return u},setSettings(h){try{localStorage.setItem(s,JSON.stringify(h))}catch{}u=h},now(){return lSe()}},n&&n.on(sSe,(h,o)=>{h===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(h,o)=>this.target?this.target.on[o]:(...p)=>{this.onQueue.push({method:o,args:p})}}),this.proxiedTarget=new Proxy({},{get:(h,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...p)=>(this.targetQueue.push({method:o,args:p,resolve:()=>{}}),this.fallbacks[o](...p)):(...p)=>new Promise(y=>{this.targetQueue.push({method:o,args:p,resolve:y})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function uSe(e,t){const n=e,r=iP(),s=rSe(),u=iSe&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!u))s.emit(aSe,e,t);else{const h=u?new cSe(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:h}),h&&t(h.proxiedTarget)}}/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fd=typeof document<"u";function dSe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const mr=Object.assign;function H_(e,t){const n={};for(const r in t){const s=t[r];n[r]=Xs(s)?s.map(e):e(s)}return n}const wf=()=>{},Xs=Array.isArray,aP=/#/g,hSe=/&/g,fSe=/\//g,mSe=/=/g,pSe=/\?/g,sP=/\+/g,gSe=/%5B/g,vSe=/%5D/g,oP=/%5E/g,ySe=/%60/g,lP=/%7B/g,_Se=/%7C/g,cP=/%7D/g,bSe=/%20/g;function jx(e){return encodeURI(""+e).replace(_Se,"|").replace(gSe,"[").replace(vSe,"]")}function xSe(e){return jx(e).replace(lP,"{").replace(cP,"}").replace(oP,"^")}function Jb(e){return jx(e).replace(sP,"%2B").replace(bSe,"+").replace(aP,"%23").replace(hSe,"%26").replace(ySe,"`").replace(lP,"{").replace(cP,"}").replace(oP,"^")}function wSe(e){return Jb(e).replace(mSe,"%3D")}function SSe(e){return jx(e).replace(aP,"%23").replace(pSe,"%3F")}function kSe(e){return e==null?"":SSe(e).replace(fSe,"%2F")}function Xf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const CSe=/\/$/,TSe=e=>e.replace(CSe,"");function G_(e,t,n="/"){let r,s={},u="",h="";const o=t.indexOf("#");let p=t.indexOf("?");return o<p&&o>=0&&(p=-1),p>-1&&(r=t.slice(0,p),u=t.slice(p+1,o>-1?o:t.length),s=e(u)),o>-1&&(r=r||t.slice(0,o),h=t.slice(o,t.length)),r=PSe(r??t,n),{fullPath:r+(u&&"?")+u+h,path:r,query:s,hash:Xf(h)}}function ASe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function JC(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ESe(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Dd(t.matched[r],n.matched[s])&&uP(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Dd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function uP(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!ISe(e[n],t[n]))return!1;return!0}function ISe(e,t){return Xs(e)?QC(e,t):Xs(t)?QC(t,e):e===t}function QC(e,t){return Xs(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function PSe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let u=n.length-1,h,o;for(h=0;h<r.length;h++)if(o=r[h],o!==".")if(o==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+r.slice(h).join("/")}var Jf;(function(e){e.pop="pop",e.push="push"})(Jf||(Jf={}));var Sf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Sf||(Sf={}));function DSe(e){if(!e)if(fd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),TSe(e)}const MSe=/^[^#]+#/;function LSe(e,t){return e.replace(MSe,"#")+t}function RSe(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Ov=()=>({left:window.scrollX,top:window.scrollY});function OSe(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=RSe(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function e2(e,t){return(history.state?history.state.position-t:-1)+e}const Qb=new Map;function FSe(e,t){Qb.set(e,t)}function zSe(e){const t=Qb.get(e);return Qb.delete(e),t}let BSe=()=>location.protocol+"//"+location.host;function dP(e,t){const{pathname:n,search:r,hash:s}=t,u=e.indexOf("#");if(u>-1){let o=s.includes(e.slice(u))?e.slice(u).length:1,p=s.slice(o);return p[0]!=="/"&&(p="/"+p),JC(p,"")}return JC(n,e)+r+s}function VSe(e,t,n,r){let s=[],u=[],h=null;const o=({state:k})=>{const I=dP(e,location),R=n.value,L=t.value;let F=0;if(k){if(n.value=I,t.value=k,h&&h===R){h=null;return}F=L?k.position-L.position:0}else r(I);s.forEach(B=>{B(n.value,R,{delta:F,type:Jf.pop,direction:F?F>0?Sf.forward:Sf.back:Sf.unknown})})};function p(){h=n.value}function y(k){s.push(k);const I=()=>{const R=s.indexOf(k);R>-1&&s.splice(R,1)};return u.push(I),I}function b(){const{history:k}=window;k.state&&k.replaceState(mr({},k.state,{scroll:Ov()}),"")}function C(){for(const k of u)k();u=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:p,listen:y,destroy:C}}function t2(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Ov():null}}function NSe(e){const{history:t,location:n}=window,r={value:dP(e,n)},s={value:t.state};s.value||u(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(p,y,b){const C=e.indexOf("#"),k=C>-1?(n.host&&document.querySelector("base")?e:e.slice(C))+p:BSe()+e+p;try{t[b?"replaceState":"pushState"](y,"",k),s.value=y}catch(I){console.error(I),n[b?"replace":"assign"](k)}}function h(p,y){const b=mr({},t.state,t2(s.value.back,p,s.value.forward,!0),y,{position:s.value.position});u(p,b,!0),r.value=p}function o(p,y){const b=mr({},s.value,t.state,{forward:p,scroll:Ov()});u(b.current,b,!0);const C=mr({},t2(r.value,p,null),{position:b.position+1},y);u(p,C,!1),r.value=p}return{location:r,state:s,push:o,replace:h}}function $Se(e){e=DSe(e);const t=NSe(e),n=VSe(e,t.state,t.location,t.replace);function r(u,h=!0){h||n.pauseListeners(),history.go(u)}const s=mr({location:"",base:e,go:r,createHref:LSe.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function USe(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),$Se(e)}function qSe(e){return typeof e=="string"||e&&typeof e=="object"}function hP(e){return typeof e=="string"||typeof e=="symbol"}const Wl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},fP=Symbol("");var n2;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(n2||(n2={}));function Md(e,t){return mr(new Error,{type:e,[fP]:!0},t)}function tl(e,t){return e instanceof Error&&fP in e&&(t==null||!!(e.type&t))}const r2="[^/]+?",jSe={sensitive:!1,strict:!1,start:!0,end:!0},HSe=/[.+*?^${}()[\]/\\]/g;function GSe(e,t){const n=mr({},jSe,t),r=[];let s=n.start?"^":"";const u=[];for(const y of e){const b=y.length?[]:[90];n.strict&&!y.length&&(s+="/");for(let C=0;C<y.length;C++){const k=y[C];let I=40+(n.sensitive?.25:0);if(k.type===0)C||(s+="/"),s+=k.value.replace(HSe,"\\$&"),I+=40;else if(k.type===1){const{value:R,repeatable:L,optional:F,regexp:B}=k;u.push({name:R,repeatable:L,optional:F});const q=B||r2;if(q!==r2){I+=10;try{new RegExp(`(${q})`)}catch(se){throw new Error(`Invalid custom RegExp for param "${R}" (${q}): `+se.message)}}let K=L?`((?:${q})(?:/(?:${q}))*)`:`(${q})`;C||(K=F&&y.length<2?`(?:/${K})`:"/"+K),F&&(K+="?"),s+=K,I+=20,F&&(I+=-8),L&&(I+=-20),q===".*"&&(I+=-50)}b.push(I)}r.push(b)}if(n.strict&&n.end){const y=r.length-1;r[y][r[y].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const h=new RegExp(s,n.sensitive?"":"i");function o(y){const b=y.match(h),C={};if(!b)return null;for(let k=1;k<b.length;k++){const I=b[k]||"",R=u[k-1];C[R.name]=I&&R.repeatable?I.split("/"):I}return C}function p(y){let b="",C=!1;for(const k of e){(!C||!b.endsWith("/"))&&(b+="/"),C=!1;for(const I of k)if(I.type===0)b+=I.value;else if(I.type===1){const{value:R,repeatable:L,optional:F}=I,B=R in y?y[R]:"";if(Xs(B)&&!L)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const q=Xs(B)?B.join("/"):B;if(!q)if(F)k.length<2&&(b.endsWith("/")?b=b.slice(0,-1):C=!0);else throw new Error(`Missing required param "${R}"`);b+=q}}return b||"/"}return{re:h,score:r,keys:u,parse:o,stringify:p}}function WSe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function YSe(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const u=WSe(r[n],s[n]);if(u)return u;n++}if(Math.abs(s.length-r.length)===1){if(i2(r))return 1;if(i2(s))return-1}return s.length-r.length}function i2(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ZSe={type:0,value:""},KSe=/[a-zA-Z0-9_]/;function XSe(e){if(!e)return[[]];if(e==="/")return[[ZSe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(I){throw new Error(`ERR (${n})/"${y}": ${I}`)}let n=0,r=n;const s=[];let u;function h(){u&&s.push(u),u=[]}let o=0,p,y="",b="";function C(){y&&(n===0?u.push({type:0,value:y}):n===1||n===2||n===3?(u.length>1&&(p==="*"||p==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:y,regexp:b,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):t("Invalid state to consume buffer"),y="")}function k(){y+=p}for(;o<e.length;){if(p=e[o++],p==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:p==="/"?(y&&C(),h()):p===":"?(C(),n=1):k();break;case 4:k(),n=r;break;case 1:p==="("?n=2:KSe.test(p)?k():(C(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&o--);break;case 2:p===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+p:n=3:b+=p;break;case 3:C(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&o--,b="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${y}"`),C(),h(),s}function JSe(e,t,n){const r=GSe(XSe(e.path),n),s=mr(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function QSe(e,t){const n=[],r=new Map;t=o2({strict:!1,end:!0,sensitive:!1},t);function s(b){return r.get(b)}function u(b,C,k){const I=!k,R=eke(b);R.aliasOf=k&&k.record;const L=o2(t,b),F=[R];if("alias"in b){const K=typeof b.alias=="string"?[b.alias]:b.alias;for(const se of K)F.push(mr({},R,{components:k?k.record.components:R.components,path:se,aliasOf:k?k.record:R}))}let B,q;for(const K of F){const{path:se}=K;if(C&&se[0]!=="/"){const Q=C.record.path,ee=Q[Q.length-1]==="/"?"":"/";K.path=C.record.path+(se&&ee+se)}if(B=JSe(K,C,L),k?k.alias.push(B):(q=q||B,q!==B&&q.alias.push(B),I&&b.name&&!s2(B)&&h(b.name)),R.children){const Q=R.children;for(let ee=0;ee<Q.length;ee++)u(Q[ee],B,k&&k.children[ee])}k=k||B,(B.record.components&&Object.keys(B.record.components).length||B.record.name||B.record.redirect)&&p(B)}return q?()=>{h(q)}:wf}function h(b){if(hP(b)){const C=r.get(b);C&&(r.delete(b),n.splice(n.indexOf(C),1),C.children.forEach(h),C.alias.forEach(h))}else{const C=n.indexOf(b);C>-1&&(n.splice(C,1),b.record.name&&r.delete(b.record.name),b.children.forEach(h),b.alias.forEach(h))}}function o(){return n}function p(b){let C=0;for(;C<n.length&&YSe(b,n[C])>=0&&(b.record.path!==n[C].record.path||!mP(b,n[C]));)C++;n.splice(C,0,b),b.record.name&&!s2(b)&&r.set(b.record.name,b)}function y(b,C){let k,I={},R,L;if("name"in b&&b.name){if(k=r.get(b.name),!k)throw Md(1,{location:b});L=k.record.name,I=mr(a2(C.params,k.keys.filter(q=>!q.optional).concat(k.parent?k.parent.keys.filter(q=>q.optional):[]).map(q=>q.name)),b.params&&a2(b.params,k.keys.map(q=>q.name))),R=k.stringify(I)}else if(b.path!=null)R=b.path,k=n.find(q=>q.re.test(R)),k&&(I=k.parse(R),L=k.record.name);else{if(k=C.name?r.get(C.name):n.find(q=>q.re.test(C.path)),!k)throw Md(1,{location:b,currentLocation:C});L=k.record.name,I=mr({},C.params,b.params),R=k.stringify(I)}const F=[];let B=k;for(;B;)F.unshift(B.record),B=B.parent;return{name:L,path:R,params:I,matched:F,meta:nke(F)}}return e.forEach(b=>u(b)),{addRoute:u,resolve:y,removeRoute:h,getRoutes:o,getRecordMatcher:s}}function a2(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function eke(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:tke(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function tke(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function s2(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function nke(e){return e.reduce((t,n)=>mr(t,n.meta),{})}function o2(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function mP(e,t){return t.children.some(n=>n===e||mP(e,n))}function rke(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const u=r[s].replace(sP," "),h=u.indexOf("="),o=Xf(h<0?u:u.slice(0,h)),p=h<0?null:Xf(u.slice(h+1));if(o in t){let y=t[o];Xs(y)||(y=t[o]=[y]),y.push(p)}else t[o]=p}return t}function l2(e){let t="";for(let n in e){const r=e[n];if(n=wSe(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Xs(r)?r.map(u=>u&&Jb(u)):[r&&Jb(r)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function ike(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Xs(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const ake=Symbol(""),c2=Symbol(""),Hx=Symbol(""),Gx=Symbol(""),e0=Symbol("");function uf(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function ec(e,t,n,r,s,u=h=>h()){const h=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,p)=>{const y=k=>{k===!1?p(Md(4,{from:n,to:t})):k instanceof Error?p(k):qSe(k)?p(Md(2,{from:t,to:k})):(h&&r.enterCallbacks[s]===h&&typeof k=="function"&&h.push(k),o())},b=u(()=>e.call(r&&r.instances[s],t,n,y));let C=Promise.resolve(b);e.length<3&&(C=C.then(y)),C.catch(k=>p(k))})}function W_(e,t,n,r,s=u=>u()){const u=[];for(const h of e)for(const o in h.components){let p=h.components[o];if(!(t!=="beforeRouteEnter"&&!h.instances[o]))if(ske(p)){const b=(p.__vccOpts||p)[t];b&&u.push(ec(b,n,r,h,o,s))}else{let y=p();u.push(()=>y.then(b=>{if(!b)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${h.path}"`));const C=dSe(b)?b.default:b;h.components[o]=C;const I=(C.__vccOpts||C)[t];return I&&ec(I,n,r,h,o,s)()}))}}return u}function ske(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function u2(e){const t=vt(Hx),n=vt(Gx),r=Y(()=>{const p=Vr(e.to);return t.resolve(p)}),s=Y(()=>{const{matched:p}=r.value,{length:y}=p,b=p[y-1],C=n.matched;if(!b||!C.length)return-1;const k=C.findIndex(Dd.bind(null,b));if(k>-1)return k;const I=d2(p[y-2]);return y>1&&d2(b)===I&&C[C.length-1].path!==I?C.findIndex(Dd.bind(null,p[y-2])):k}),u=Y(()=>s.value>-1&&uke(n.params,r.value.params)),h=Y(()=>s.value>-1&&s.value===n.matched.length-1&&uP(n.params,r.value.params));function o(p={}){return cke(p)?t[Vr(e.replace)?"replace":"push"](Vr(e.to)).catch(wf):Promise.resolve()}return{route:r,href:Y(()=>r.value.href),isActive:u,isExactActive:h,navigate:o}}const oke=lr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:u2,setup(e,{slots:t}){const n=Ei(u2(e)),{options:r}=vt(Hx),s=Y(()=>({[h2(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[h2(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:Xr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},u)}}}),lke=oke;function cke(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function uke(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Xs(s)||s.length!==r.length||r.some((u,h)=>u!==s[h]))return!1}return!0}function d2(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const h2=(e,t,n)=>e??t??n,dke=lr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=vt(e0),s=Y(()=>e.route||r.value),u=vt(c2,0),h=Y(()=>{let y=Vr(u);const{matched:b}=s.value;let C;for(;(C=b[y])&&!C.components;)y++;return y}),o=Y(()=>s.value.matched[h.value]);_n(c2,Y(()=>h.value+1)),_n(ake,o),_n(e0,s);const p=dt();return ot(()=>[p.value,o.value,e.name],([y,b,C],[k,I,R])=>{b&&(b.instances[C]=y,I&&I!==b&&y&&y===k&&(b.leaveGuards.size||(b.leaveGuards=I.leaveGuards),b.updateGuards.size||(b.updateGuards=I.updateGuards))),y&&b&&(!I||!Dd(b,I)||!k)&&(b.enterCallbacks[C]||[]).forEach(L=>L(y))},{flush:"post"}),()=>{const y=s.value,b=e.name,C=o.value,k=C&&C.components[b];if(!k)return f2(n.default,{Component:k,route:y});const I=C.props[b],R=I?I===!0?y.params:typeof I=="function"?I(y):I:null,F=Xr(k,mr({},R,t,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(C.instances[b]=null)},ref:p}));return f2(n.default,{Component:F,route:y})||F}}});function f2(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const hke=dke;function fke(e){const t=QSe(e.routes,e),n=e.parseQuery||rke,r=e.stringifyQuery||l2,s=e.history,u=uf(),h=uf(),o=uf(),p=Rt(Wl);let y=Wl;fd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=H_.bind(null,Ne=>""+Ne),C=H_.bind(null,kSe),k=H_.bind(null,Xf);function I(Ne,st){let He,$e;return hP(Ne)?(He=t.getRecordMatcher(Ne),$e=st):$e=Ne,t.addRoute($e,He)}function R(Ne){const st=t.getRecordMatcher(Ne);st&&t.removeRoute(st)}function L(){return t.getRoutes().map(Ne=>Ne.record)}function F(Ne){return!!t.getRecordMatcher(Ne)}function B(Ne,st){if(st=mr({},st||p.value),typeof Ne=="string"){const me=G_(n,Ne,st.path),Be=t.resolve({path:me.path},st),Ye=s.createHref(me.fullPath);return mr(me,Be,{params:k(Be.params),hash:Xf(me.hash),redirectedFrom:void 0,href:Ye})}let He;if(Ne.path!=null)He=mr({},Ne,{path:G_(n,Ne.path,st.path).path});else{const me=mr({},Ne.params);for(const Be in me)me[Be]==null&&delete me[Be];He=mr({},Ne,{params:C(me)}),st.params=C(st.params)}const $e=t.resolve(He,st),kt=Ne.hash||"";$e.params=b(k($e.params));const $t=ASe(r,mr({},Ne,{hash:xSe(kt),path:$e.path})),ae=s.createHref($t);return mr({fullPath:$t,hash:kt,query:r===l2?ike(Ne.query):Ne.query||{}},$e,{redirectedFrom:void 0,href:ae})}function q(Ne){return typeof Ne=="string"?G_(n,Ne,p.value.path):mr({},Ne)}function K(Ne,st){if(y!==Ne)return Md(8,{from:st,to:Ne})}function se(Ne){return re(Ne)}function Q(Ne){return se(mr(q(Ne),{replace:!0}))}function ee(Ne){const st=Ne.matched[Ne.matched.length-1];if(st&&st.redirect){const{redirect:He}=st;let $e=typeof He=="function"?He(Ne):He;return typeof $e=="string"&&($e=$e.includes("?")||$e.includes("#")?$e=q($e):{path:$e},$e.params={}),mr({query:Ne.query,hash:Ne.hash,params:$e.path!=null?{}:Ne.params},$e)}}function re(Ne,st){const He=y=B(Ne),$e=p.value,kt=Ne.state,$t=Ne.force,ae=Ne.replace===!0,me=ee(He);if(me)return re(mr(q(me),{state:typeof me=="object"?mr({},kt,me.state):kt,force:$t,replace:ae}),st||He);const Be=He;Be.redirectedFrom=st;let Ye;return!$t&&ESe(r,$e,He)&&(Ye=Md(16,{to:Be,from:$e}),Je($e,$e,!0,!1)),(Ye?Promise.resolve(Ye):Z(Be,$e)).catch(Xe=>tl(Xe)?tl(Xe,2)?Xe:Ve(Xe):ke(Xe,Be,$e)).then(Xe=>{if(Xe){if(tl(Xe,2))return re(mr({replace:ae},q(Xe.to),{state:typeof Xe.to=="object"?mr({},kt,Xe.to.state):kt,force:$t}),st||Be)}else Xe=ne(Be,$e,!0,ae,kt);return le(Be,$e,Xe),Xe})}function H(Ne,st){const He=K(Ne,st);return He?Promise.reject(He):Promise.resolve()}function j(Ne){const st=Lt.values().next().value;return st&&typeof st.runWithContext=="function"?st.runWithContext(Ne):Ne()}function Z(Ne,st){let He;const[$e,kt,$t]=mke(Ne,st);He=W_($e.reverse(),"beforeRouteLeave",Ne,st);for(const me of $e)me.leaveGuards.forEach(Be=>{He.push(ec(Be,Ne,st))});const ae=H.bind(null,Ne,st);return He.push(ae),Tt(He).then(()=>{He=[];for(const me of u.list())He.push(ec(me,Ne,st));return He.push(ae),Tt(He)}).then(()=>{He=W_(kt,"beforeRouteUpdate",Ne,st);for(const me of kt)me.updateGuards.forEach(Be=>{He.push(ec(Be,Ne,st))});return He.push(ae),Tt(He)}).then(()=>{He=[];for(const me of $t)if(me.beforeEnter)if(Xs(me.beforeEnter))for(const Be of me.beforeEnter)He.push(ec(Be,Ne,st));else He.push(ec(me.beforeEnter,Ne,st));return He.push(ae),Tt(He)}).then(()=>(Ne.matched.forEach(me=>me.enterCallbacks={}),He=W_($t,"beforeRouteEnter",Ne,st,j),He.push(ae),Tt(He))).then(()=>{He=[];for(const me of h.list())He.push(ec(me,Ne,st));return He.push(ae),Tt(He)}).catch(me=>tl(me,8)?me:Promise.reject(me))}function le(Ne,st,He){o.list().forEach($e=>j(()=>$e(Ne,st,He)))}function ne(Ne,st,He,$e,kt){const $t=K(Ne,st);if($t)return $t;const ae=st===Wl,me=fd?history.state:{};He&&($e||ae?s.replace(Ne.fullPath,mr({scroll:ae&&me&&me.scroll},kt)):s.push(Ne.fullPath,kt)),p.value=Ne,Je(Ne,st,He,ae),Ve()}let ve;function fe(){ve||(ve=s.listen((Ne,st,He)=>{if(!mt.listening)return;const $e=B(Ne),kt=ee($e);if(kt){re(mr(kt,{replace:!0}),$e).catch(wf);return}y=$e;const $t=p.value;fd&&FSe(e2($t.fullPath,He.delta),Ov()),Z($e,$t).catch(ae=>tl(ae,12)?ae:tl(ae,2)?(re(ae.to,$e).then(me=>{tl(me,20)&&!He.delta&&He.type===Jf.pop&&s.go(-1,!1)}).catch(wf),Promise.reject()):(He.delta&&s.go(-He.delta,!1),ke(ae,$e,$t))).then(ae=>{ae=ae||ne($e,$t,!1),ae&&(He.delta&&!tl(ae,8)?s.go(-He.delta,!1):He.type===Jf.pop&&tl(ae,20)&&s.go(-1,!1)),le($e,$t,ae)}).catch(wf)}))}let Ie=uf(),Ae=uf(),qe;function ke(Ne,st,He){Ve(Ne);const $e=Ae.list();return $e.length?$e.forEach(kt=>kt(Ne,st,He)):console.error(Ne),Promise.reject(Ne)}function Le(){return qe&&p.value!==Wl?Promise.resolve():new Promise((Ne,st)=>{Ie.add([Ne,st])})}function Ve(Ne){return qe||(qe=!Ne,fe(),Ie.list().forEach(([st,He])=>Ne?He(Ne):st()),Ie.reset()),Ne}function Je(Ne,st,He,$e){const{scrollBehavior:kt}=e;if(!fd||!kt)return Promise.resolve();const $t=!He&&zSe(e2(Ne.fullPath,0))||($e||!He)&&history.state&&history.state.scroll||null;return Hn().then(()=>kt(Ne,st,$t)).then(ae=>ae&&OSe(ae)).catch(ae=>ke(ae,Ne,st))}const Ue=Ne=>s.go(Ne);let ct;const Lt=new Set,mt={currentRoute:p,listening:!0,addRoute:I,removeRoute:R,hasRoute:F,getRoutes:L,resolve:B,options:e,push:se,replace:Q,go:Ue,back:()=>Ue(-1),forward:()=>Ue(1),beforeEach:u.add,beforeResolve:h.add,afterEach:o.add,onError:Ae.add,isReady:Le,install(Ne){const st=this;Ne.component("RouterLink",lke),Ne.component("RouterView",hke),Ne.config.globalProperties.$router=st,Object.defineProperty(Ne.config.globalProperties,"$route",{enumerable:!0,get:()=>Vr(p)}),fd&&!ct&&p.value===Wl&&(ct=!0,se(s.location).catch(kt=>{}));const He={};for(const kt in Wl)Object.defineProperty(He,kt,{get:()=>p.value[kt],enumerable:!0});Ne.provide(Hx,st),Ne.provide(Gx,J2(He)),Ne.provide(e0,p);const $e=Ne.unmount;Lt.add(Ne),Ne.unmount=function(){Lt.delete(Ne),Lt.size<1&&(y=Wl,ve&&ve(),ve=null,p.value=Wl,ct=!1,qe=!1),$e()}}};function Tt(Ne){return Ne.reduce((st,He)=>st.then(()=>j(He)),Promise.resolve())}return mt}function mke(e,t){const n=[],r=[],s=[],u=Math.max(t.matched.length,e.matched.length);for(let h=0;h<u;h++){const o=t.matched[h];o&&(e.matched.find(y=>Dd(y,o))?r.push(o):n.push(o));const p=e.matched[h];p&&(t.matched.find(y=>Dd(y,p))||s.push(p))}return[n,r,s]}function pke(){return vt(Gx)}const gke=`In 2019 a set of library workers collaborated on the [public library data schemas](https://schema.librarydata.uk/). These were designed to help public library services publish open data.

Here are some resources about that project:

- DCMS blog - [Libraries and open data](https://dcmslibraries.blog.gov.uk/2019/09/06/libraries-and-open-data/)
- DCMS blog - [Open data - an update](https://dcmslibraries.blog.gov.uk/2020/08/03/library-open-data-an-update/)
- Frictionless Data blog - [Libraries Hacked](https://frictionlessdata.io/blog/2022/02/07/libraries-hacked/#schemas-and-frictionless-data) - a case study of using Table Schema to create a public library data schemas.

This website is to provide tools to use those schemas.

- Tools for publishing and validating data
- Visualisations from the data
- Data analysis techniques using the data.
- Data tools to aid in decision-making
`,vke={data(){return{mdText:gke}},methods:{},components:{}};function yke(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"About",subtitle:"What the site is and does, and who for"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const _ke=Qr(vke,[["render",yke]]),bke=`We want as many people as possible to be able to use this website. For example, that means you should be able to:

- change colours, contrast levels and fonts
- zoom in up to 300% without the text spilling off the screen
- navigate most of the website using just a keyboard
- navigate most of the website using speech recognition software
- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)

We've also made the website text as simple as possible to understand.

[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.

## Technical information about this website's accessibility

This website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).

There are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible, we are looking at making sure the information presented by the map is also available in other formats.

If you do experience any problems using this website, please raise these and [send us an email](mailto:info@librarieshacked.org).
`,xke={data(){return{mdText:bke}},methods:{},components:{}};function wke(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const Ske=Qr(xke,[["render",wke]]),kke=`An event is any event facilitated or organised by the library service.

Events data is in a **time-series** format. Data is maintained by adding new data (e.g. the next months events).
`,Cke={data(){return{mdText:kke}},methods:{},components:{}},Tke={class:"text-center"};function Ake(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Events",subtitle:"Library event attendance and outcomes"}),rr("p",Tke,[T(Kt,{variant:"tonal",size:"large",color:"info",href:"https://schema.librarydata.uk/events",target:"_blank"},{default:De(()=>[zt(" Explore the events schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const Eke=Qr(Cke,[["render",Ake]]),Ike=`We provide tools to help libraries publish and use open data.

Inspired by the public library [open data schemas](https://schema.librarydata.uk), each tool is tailored for a different dataset documented in that project. See the [about page](/about) for more background.
`,Pke={data(){return{mdText:Ike}},methods:{},components:{}},Dke={key:1};function Mke(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section"),p=km;return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Create",subtitle:"Helping libraries publish and make use of open data"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),this.$store.state.loginKey?Kn("",!0):(fn(),Vn(Dr,{key:0,class:"text-center"},{default:De(()=>[T(Kt,{"prepend-icon":"mdi-login-variant",variant:"tonal",size:"x-large",color:"success",class:"mx-1 my-1",to:"/login"},{default:De(()=>[zt(" Log in ")]),_:1})]),_:1})),this.$store.state.loginKey?(fn(),ys("div",Dke,[T(p,{actions:!0})])):Kn("",!0)]),_:1})}const Lke=Qr(Pke,[["render",Mke]]),Rke=`A library is a static service point which provides library services for the public.

Library locaions are a data **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,Oke={data(){return{mdText:Rke}},methods:{},components:{}},Fke={class:"text-center"};function zke(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Libraries",subtitle:"Public library locations, hours, and contact details"}),rr("p",Fke,[T(Kt,{size:"large","prepend-icon":"mdi-information-outline",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/libraries",target:"_blank"},{default:De(()=>[zt(" Explore the locations schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const Bke=Qr(Oke,[["render",zke]]),Vke=We({renderless:Boolean,...hn()},"VVirtualScrollItem"),Nke=ht()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Vke(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{resizeRef:u,contentRect:h}=lc(void 0,"border");ot(()=>{var o;return(o=h.value)==null?void 0:o.height},o=>{o!=null&&r("update:height",o)}),St(()=>{var o,p;return e.renderless?T(Ht,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:u})]):T("div",it({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(p=s.default)==null?void 0:p.call(s)])})}}),$ke=-1,Uke=1,Y_=100,qke=We({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function jke(e,t){const n=vl(),r=Rt(0);si(()=>{r.value=parseFloat(e.itemHeight||0)});const s=Rt(0),u=Rt(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),h=Rt(0),o=Rt(0),p=dt(),y=dt();let b=0;const{resizeRef:C,contentRect:k}=lc();si(()=>{C.value=p.value});const I=Y(()=>{var Le;return p.value===document.documentElement?n.height.value:((Le=k.value)==null?void 0:Le.height)||parseInt(e.height)||0}),R=Y(()=>!!(p.value&&y.value&&I.value&&r.value));let L=Array.from({length:t.value.length}),F=Array.from({length:t.value.length});const B=Rt(0);let q=-1;function K(Le){return L[Le]||r.value}const se=_F(()=>{const Le=performance.now();F[0]=0;const Ve=t.value.length;for(let Je=1;Je<=Ve-1;Je++)F[Je]=(F[Je-1]||0)+K(Je-1);B.value=Math.max(B.value,performance.now()-Le)},B),Q=ot(R,Le=>{Le&&(Q(),b=y.value.offsetTop,se.immediate(),Ie(),~q&&Hn(()=>{pr&&window.requestAnimationFrame(()=>{qe(q),q=-1})}))});da(()=>{se.clear()});function ee(Le,Ve){const Je=L[Le],Ue=r.value;r.value=Ue?Math.min(r.value,Ve):Ve,(Je!==Ve||Ue!==r.value)&&(L[Le]=Ve,se())}function re(Le){return Le=la(Le,0,t.value.length-1),F[Le]||0}function H(Le){return Hke(F,Le)}let j=0,Z=0,le=0;ot(I,(Le,Ve)=>{Ve&&(Ie(),Le<Ve&&requestAnimationFrame(()=>{Z=0,Ie()}))});function ne(){if(!p.value||!y.value)return;const Le=p.value.scrollTop,Ve=performance.now();Ve-le>500?(Z=Math.sign(Le-j),b=y.value.offsetTop):Z=Le-j,j=Le,le=Ve,Ie()}function ve(){!p.value||!y.value||(Z=0,le=0,Ie())}let fe=-1;function Ie(){cancelAnimationFrame(fe),fe=requestAnimationFrame(Ae)}function Ae(){if(!p.value||!I.value)return;const Le=j-b,Ve=Math.sign(Z),Je=Math.max(0,Le-Y_),Ue=la(H(Je),0,t.value.length),ct=Le+I.value+Y_,Lt=la(H(ct)+1,Ue+1,t.value.length);if((Ve!==$ke||Ue<s.value)&&(Ve!==Uke||Lt>u.value)){const mt=re(s.value)-re(Ue),Tt=re(Lt)-re(u.value);Math.max(mt,Tt)>Y_?(s.value=Ue,u.value=Lt):(Ue<=0&&(s.value=Ue),Lt>=t.value.length&&(u.value=Lt))}h.value=re(s.value),o.value=re(t.value.length)-re(u.value)}function qe(Le){const Ve=re(Le);!p.value||Le&&!Ve?q=Le:p.value.scrollTop=Ve}const ke=Y(()=>t.value.slice(s.value,u.value).map((Le,Ve)=>({raw:Le,index:Ve+s.value})));return ot(t,()=>{L=Array.from({length:t.value.length}),F=Array.from({length:t.value.length}),se.immediate(),Ie()},{deep:!0}),{containerRef:p,markerRef:y,computedItems:ke,paddingTop:h,paddingBottom:o,scrollToIndex:qe,handleScroll:ne,handleScrollend:ve,handleItemResize:ee}}function Hke(e,t){let n=e.length-1,r=0,s=0,u=null,h=-1;if(e[n]<t)return n;for(;r<=n;)if(s=r+n>>1,u=e[s],u>t)n=s-1;else if(u<t)h=s,r=s+1;else return u===t?s:r;return h}const Gke=We({items:{type:Array,default:()=>[]},renderless:Boolean,...qke(),...hn(),...to()},"VVirtualScroll"),pP=ht()({name:"VVirtualScroll",props:Gke(),setup(e,t){let{slots:n}=t;const r=Jr("VVirtualScroll"),{dimensionStyles:s}=no(e),{containerRef:u,markerRef:h,handleScroll:o,handleScrollend:p,handleItemResize:y,scrollToIndex:b,paddingTop:C,paddingBottom:k,computedItems:I}=jke(e,_t(e,"items"));return Ja(()=>e.renderless,()=>{function R(){var B,q;const F=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";u.value===document.documentElement?(document[F]("scroll",o,{passive:!0}),document[F]("scrollend",p)):((B=u.value)==null||B[F]("scroll",o,{passive:!0}),(q=u.value)==null||q[F]("scrollend",p))}ha(()=>{u.value=cA(r.vnode.el,!0),R(!0)}),da(R)}),St(()=>{const R=I.value.map(L=>T(Nke,{key:L.index,renderless:e.renderless,"onUpdate:height":F=>y(L.index,F)},{default:F=>{var B;return(B=n.default)==null?void 0:B.call(n,{item:L.raw,index:L.index,...F})}}));return e.renderless?T(Ht,null,[T("div",{ref:h,class:"v-virtual-scroll__spacer",style:{paddingTop:Gt(C.value)}},null),R,T("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Gt(k.value)}},null)]):T("div",{ref:u,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:p,style:[s.value,e.style]},[T("div",{ref:h,class:"v-virtual-scroll__container",style:{paddingTop:Gt(C.value),paddingBottom:Gt(k.value)}},[R])])}),{scrollToIndex:b}}});function gP(e,t){const n=Rt(!1);let r;function s(o){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function u(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const p=ot(n,()=>{p(),o()})}else o()})}async function h(o){var b,C;if(o.key==="Tab"&&((b=t.value)==null||b.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const p=(C=e.value)==null?void 0:C.$el;if(!p)return;(o.key==="Home"||o.key==="End")&&p.scrollTo({top:o.key==="Home"?0:p.scrollHeight,behavior:"smooth"}),await u();const y=p.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const k=p.getBoundingClientRect().top;for(const I of y)if(I.getBoundingClientRect().top>=k){I.focus();break}}else{const k=p.getBoundingClientRect().bottom;for(const I of[...y].reverse())if(I.getBoundingClientRect().bottom<=k){I.focus();break}}}return{onListScroll:s,onListKeydown:h}}const vP=We({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ln,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...tI({itemChildren:!1})},"Select"),Wke=We({...vP(),...Lr(ym({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...gu({transition:{component:rx}})},"VSelect"),Ld=ht()({name:"VSelect",props:Wke(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=dt(),u=dt(),h=dt(),o=dn(e,"menu"),p=Y({get:()=>o.value,set:ke=>{var Le;o.value&&!ke&&((Le=u.value)!=null&&Le.ΨopenChildren)||(o.value=ke)}}),{items:y,transformIn:b,transformOut:C}=rI(e),k=dn(e,"modelValue",[],ke=>b(ke===null?[null]:Wr(ke)),ke=>{const Le=C(ke);return e.multiple?Le:Le[0]??null}),I=Y(()=>typeof e.counterValue=="function"?e.counterValue(k.value):typeof e.counterValue=="number"?e.counterValue:k.value.length),R=bv(),L=Y(()=>k.value.map(ke=>ke.value)),F=Rt(!1),B=Y(()=>p.value?e.closeText:e.openText);let q="",K;const se=Y(()=>e.hideSelected?y.value.filter(ke=>!k.value.some(Le=>e.valueComparator(Le,ke))):y.value),Q=Y(()=>e.hideNoData&&!se.value.length||e.readonly||(R==null?void 0:R.isReadonly.value)),ee=Y(()=>{var ke;return{...e.menuProps,activatorProps:{...((ke=e.menuProps)==null?void 0:ke.activatorProps)||{},"aria-haspopup":"listbox"}}}),re=dt(),{onListScroll:H,onListKeydown:j}=gP(re,s);function Z(ke){e.openOnClear&&(p.value=!0)}function le(){Q.value||(p.value=!p.value)}function ne(ke){var ct,Lt;if(!ke.key||e.readonly||R!=null&&R.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(ke.key)&&ke.preventDefault(),["Enter","ArrowDown"," "].includes(ke.key)&&(p.value=!0),["Escape","Tab"].includes(ke.key)&&(p.value=!1),ke.key==="Home"?(ct=re.value)==null||ct.focus("first"):ke.key==="End"&&((Lt=re.value)==null||Lt.focus("last"));const Le=1e3;function Ve(mt){const Tt=mt.key.length===1,Ne=!mt.ctrlKey&&!mt.metaKey&&!mt.altKey;return Tt&&Ne}if(e.multiple||!Ve(ke))return;const Je=performance.now();Je-K>Le&&(q=""),q+=ke.key.toLowerCase(),K=Je;const Ue=y.value.find(mt=>mt.title.toLowerCase().startsWith(q));if(Ue!==void 0){k.value=[Ue];const mt=se.value.indexOf(Ue);pr&&window.requestAnimationFrame(()=>{var Tt;mt>=0&&((Tt=h.value)==null||Tt.scrollToIndex(mt))})}}function ve(ke){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!ke.props.disabled)if(e.multiple){const Ve=k.value.findIndex(Ue=>e.valueComparator(Ue.value,ke.value)),Je=Le??!~Ve;if(~Ve){const Ue=Je?[...k.value,ke]:[...k.value];Ue.splice(Ve,1),k.value=Ue}else Je&&(k.value=[...k.value,ke])}else{const Ve=Le!==!1;k.value=Ve?[ke]:[],Hn(()=>{p.value=!1})}}function fe(ke){var Le;(Le=re.value)!=null&&Le.$el.contains(ke.relatedTarget)||(p.value=!1)}function Ie(){var ke;F.value&&((ke=s.value)==null||ke.focus())}function Ae(ke){F.value=!0}function qe(ke){if(ke==null)k.value=[];else if(Ed(s.value,":autofill")||Ed(s.value,":-webkit-autofill")){const Le=y.value.find(Ve=>Ve.title===ke);Le&&ve(Le)}else s.value&&(s.value.value="")}return ot(p,()=>{if(!e.hideSelected&&p.value&&k.value.length){const ke=se.value.findIndex(Le=>k.value.some(Ve=>e.valueComparator(Ve.value,Le.value)));pr&&window.requestAnimationFrame(()=>{var Le;ke>=0&&((Le=h.value)==null||Le.scrollToIndex(ke))})}}),ot(()=>e.items,(ke,Le)=>{p.value||F.value&&!Le.length&&ke.length&&(p.value=!0)}),St(()=>{const ke=!!(e.chips||n.chip),Le=!!(!e.hideNoData||se.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),Ve=k.value.length>0,Je=ii.filterProps(e),Ue=Ve||!F.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return T(ii,it({ref:s},Je,{modelValue:k.value.map(ct=>ct.props.value).join(", "),"onUpdate:modelValue":qe,focused:F.value,"onUpdate:focused":ct=>F.value=ct,validationValue:k.externalValue,counterValue:I.value,dirty:Ve,class:["v-select",{"v-select--active-menu":p.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":k.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:Ue,"onClick:clear":Z,"onMousedown:control":le,onBlur:fe,onKeydown:ne,"aria-label":r(B.value),title:r(B.value)}),{...n,default:()=>T(Ht,null,[T(hx,it({ref:u,modelValue:p.value,"onUpdate:modelValue":ct=>p.value=ct,activator:"parent",contentClass:"v-select__content",disabled:Q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:Ie},ee.value),{default:()=>[Le&&T(Yf,it({ref:re,selected:L.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ct=>ct.preventDefault(),onKeydown:j,onFocusin:Ae,onScrollPassive:H,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var ct,Lt,mt;return[(ct=n["prepend-item"])==null?void 0:ct.call(n),!se.value.length&&!e.hideNoData&&(((Lt=n["no-data"])==null?void 0:Lt.call(n))??T(Pr,{title:r(e.noDataText)},null)),T(pP,{ref:h,renderless:!0,items:se.value},{default:Tt=>{var kt;let{item:Ne,index:st,itemRef:He}=Tt;const $e=it(Ne.props,{ref:He,key:st,onClick:()=>ve(Ne,null)});return((kt=n.item)==null?void 0:kt.call(n,{item:Ne,index:st,props:$e}))??T(Pr,it($e,{role:"option"}),{prepend:$t=>{let{isSelected:ae}=$t;return T(Ht,null,[e.multiple&&!e.hideSelected?T(qd,{key:Ne.value,modelValue:ae,ripple:!1,tabindex:"-1"},null):void 0,Ne.props.prependAvatar&&T(Eo,{image:Ne.props.prependAvatar},null),Ne.props.prependIcon&&T(nr,{icon:Ne.props.prependIcon},null)])}})}}),(mt=n["append-item"])==null?void 0:mt.call(n)]}})]}),k.value.map((ct,Lt)=>{function mt(He){He.stopPropagation(),He.preventDefault(),ve(ct,!1)}const Tt={"onClick:close":mt,onKeydown(He){He.key!=="Enter"&&He.key!==" "||(He.preventDefault(),He.stopPropagation(),mt(He))},onMousedown(He){He.preventDefault(),He.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Ne=ke?!!n.chip:!!n.selection,st=Ne?j0(ke?n.chip({item:ct,index:Lt,props:Tt}):n.selection({item:ct,index:Lt})):void 0;if(!(Ne&&!st))return T("div",{key:ct.value,class:"v-select__selection"},[ke?n.chip?T(Un,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ct.title}}},{default:()=>[st]}):T(hl,it({key:"chip",closable:e.closableChips,size:"small",text:ct.title,disabled:ct.props.disabled},Tt),null):st??T("span",{class:"v-select__selection-text"},[ct.title,e.multiple&&Lt<k.value.length-1&&T("span",{class:"v-select__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var Tt;for(var ct=arguments.length,Lt=new Array(ct),mt=0;mt<ct;mt++)Lt[mt]=arguments[mt];return T(Ht,null,[(Tt=n["append-inner"])==null?void 0:Tt.call(n,...Lt),e.menuIcon?T(nr,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Ro({isFocused:F,menu:p,select:ve},s)}});function Yke(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?T(Ht,null,[T("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),T("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),T("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const Zke=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Ax({filterKeys:["title"]}),...vP(),...Lr(ym({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...gu({transition:!1})},"VAutocomplete"),Kke=ht()({name:"VAutocomplete",props:Zke(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=dt(),u=Rt(!1),h=Rt(!0),o=Rt(!1),p=dt(),y=dt(),b=dn(e,"menu"),C=Y({get:()=>b.value,set:$e=>{var kt;b.value&&!$e&&((kt=p.value)!=null&&kt.ΨopenChildren)||(b.value=$e)}}),k=Rt(-1),I=Y(()=>{var $e;return($e=s.value)==null?void 0:$e.color}),R=Y(()=>C.value?e.closeText:e.openText),{items:L,transformIn:F,transformOut:B}=rI(e),{textColorClasses:q,textColorStyles:K}=Na(I),se=dn(e,"search",""),Q=dn(e,"modelValue",[],$e=>F($e===null?[null]:Wr($e)),$e=>{const kt=B($e);return e.multiple?kt:kt[0]??null}),ee=Y(()=>typeof e.counterValue=="function"?e.counterValue(Q.value):typeof e.counterValue=="number"?e.counterValue:Q.value.length),re=bv(),{filteredItems:H,getMatches:j}=Ex(e,L,()=>h.value?"":se.value),Z=Y(()=>e.hideSelected?H.value.filter($e=>!Q.value.some(kt=>kt.value===$e.value)):H.value),le=Y(()=>!!(e.chips||n.chip)),ne=Y(()=>le.value||!!n.selection),ve=Y(()=>Q.value.map($e=>$e.props.value)),fe=Y(()=>{var kt;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&se.value===((kt=Z.value[0])==null?void 0:kt.title))&&Z.value.length>0&&!h.value&&!o.value}),Ie=Y(()=>e.hideNoData&&!Z.value.length||e.readonly||(re==null?void 0:re.isReadonly.value)),Ae=dt(),{onListScroll:qe,onListKeydown:ke}=gP(Ae,s);function Le($e){e.openOnClear&&(C.value=!0),se.value=""}function Ve(){Ie.value||(C.value=!0)}function Je($e){Ie.value||(u.value&&($e.preventDefault(),$e.stopPropagation()),C.value=!C.value)}function Ue($e){var ae,me,Be;if(e.readonly||re!=null&&re.isReadonly.value)return;const kt=s.value.selectionStart,$t=Q.value.length;if((k.value>-1||["Enter","ArrowDown","ArrowUp"].includes($e.key))&&$e.preventDefault(),["Enter","ArrowDown"].includes($e.key)&&(C.value=!0),["Escape"].includes($e.key)&&(C.value=!1),fe.value&&$e.key==="Enter"&&He(Z.value[0]),$e.key==="ArrowDown"&&fe.value&&((ae=Ae.value)==null||ae.focus("next")),["Backspace","Delete"].includes($e.key)){if(!e.multiple&&ne.value&&Q.value.length>0&&!se.value)return He(Q.value[0],!1);if(~k.value){const Ye=k.value;He(Q.value[k.value],!1),k.value=Ye>=$t-1?$t-2:Ye}else $e.key==="Backspace"&&!se.value&&(k.value=$t-1)}if(e.multiple){if($e.key==="ArrowLeft"){if(k.value<0&&kt>0)return;const Ye=k.value>-1?k.value-1:$t-1;Q.value[Ye]?k.value=Ye:(k.value=-1,s.value.setSelectionRange((me=se.value)==null?void 0:me.length,(Be=se.value)==null?void 0:Be.length))}if($e.key==="ArrowRight"){if(k.value<0)return;const Ye=k.value+1;Q.value[Ye]?k.value=Ye:(k.value=-1,s.value.setSelectionRange(0,0))}}}function ct($e){if(Ed(s.value,":autofill")||Ed(s.value,":-webkit-autofill")){const kt=L.value.find($t=>$t.title===$e.target.value);kt&&He(kt)}}function Lt(){var $e;u.value&&(h.value=!0,($e=s.value)==null||$e.focus())}function mt($e){u.value=!0,setTimeout(()=>{o.value=!0})}function Tt($e){o.value=!1}function Ne($e){($e==null||$e===""&&!e.multiple&&!ne.value)&&(Q.value=[])}const st=Rt(!1);function He($e){let kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!$e||$e.props.disabled))if(e.multiple){const $t=Q.value.findIndex(me=>e.valueComparator(me.value,$e.value)),ae=kt??!~$t;if(~$t){const me=ae?[...Q.value,$e]:[...Q.value];me.splice($t,1),Q.value=me}else ae&&(Q.value=[...Q.value,$e]);e.clearOnSelect&&(se.value="")}else{const $t=kt!==!1;Q.value=$t?[$e]:[],se.value=$t&&!ne.value?$e.title:"",Hn(()=>{C.value=!1,h.value=!0})}}return ot(u,($e,kt)=>{var $t;$e!==kt&&($e?(st.value=!0,se.value=e.multiple||ne.value?"":String((($t=Q.value.at(-1))==null?void 0:$t.props.title)??""),h.value=!0,Hn(()=>st.value=!1)):(!e.multiple&&se.value==null?Q.value=[]:fe.value&&!o.value&&!Q.value.some(ae=>{let{value:me}=ae;return me===Z.value[0].value})&&He(Z.value[0]),C.value=!1,(e.multiple||ne.value)&&(se.value=""),k.value=-1))}),ot(se,$e=>{!u.value||st.value||($e&&(C.value=!0),h.value=!$e)}),ot(C,()=>{if(!e.hideSelected&&C.value&&Q.value.length){const $e=Z.value.findIndex(kt=>Q.value.some($t=>kt.value===$t.value));pr&&window.requestAnimationFrame(()=>{var kt;$e>=0&&((kt=y.value)==null||kt.scrollToIndex($e))})}}),ot(()=>e.items,($e,kt)=>{C.value||u.value&&!kt.length&&$e.length&&(C.value=!0)}),St(()=>{const $e=!!(!e.hideNoData||Z.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),kt=Q.value.length>0,$t=ii.filterProps(e);return T(ii,it({ref:s},$t,{modelValue:se.value,"onUpdate:modelValue":[ae=>se.value=ae,Ne],focused:u.value,"onUpdate:focused":ae=>u.value=ae,validationValue:Q.externalValue,counterValue:ee.value,dirty:kt,onChange:ct,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":C.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!ne.value,"v-autocomplete--selecting-index":k.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:kt?void 0:e.placeholder,"onClick:clear":Le,"onMousedown:control":Ve,onKeydown:Ue}),{...n,default:()=>T(Ht,null,[T(hx,it({ref:p,modelValue:C.value,"onUpdate:modelValue":ae=>C.value=ae,activator:"parent",contentClass:"v-autocomplete__content",disabled:Ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:Lt},e.menuProps),{default:()=>[$e&&T(Yf,it({ref:Ae,selected:ve.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:ae=>ae.preventDefault(),onKeydown:ke,onFocusin:mt,onFocusout:Tt,onScrollPassive:qe,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},e.listProps),{default:()=>{var ae,me,Be;return[(ae=n["prepend-item"])==null?void 0:ae.call(n),!Z.value.length&&!e.hideNoData&&(((me=n["no-data"])==null?void 0:me.call(n))??T(Pr,{title:r(e.noDataText)},null)),T(pP,{ref:y,renderless:!0,items:Z.value},{default:Ye=>{var yt;let{item:Xe,index:pt,itemRef:xt}=Ye;const Ce=it(Xe.props,{ref:xt,key:pt,active:fe.value&&pt===0?!0:void 0,onClick:()=>He(Xe,null)});return((yt=n.item)==null?void 0:yt.call(n,{item:Xe,index:pt,props:Ce}))??T(Pr,it(Ce,{role:"option"}),{prepend:Qe=>{let{isSelected:lt}=Qe;return T(Ht,null,[e.multiple&&!e.hideSelected?T(qd,{key:Xe.value,modelValue:lt,ripple:!1,tabindex:"-1"},null):void 0,Xe.props.prependAvatar&&T(Eo,{image:Xe.props.prependAvatar},null),Xe.props.prependIcon&&T(nr,{icon:Xe.props.prependIcon},null)])},title:()=>{var Qe,lt;return h.value?Xe.title:Yke(Xe.title,(Qe=j(Xe))==null?void 0:Qe.title,((lt=se.value)==null?void 0:lt.length)??0)}})}}),(Be=n["append-item"])==null?void 0:Be.call(n)]}})]}),Q.value.map((ae,me)=>{function Be(xt){xt.stopPropagation(),xt.preventDefault(),He(ae,!1)}const Ye={"onClick:close":Be,onKeydown(xt){xt.key!=="Enter"&&xt.key!==" "||(xt.preventDefault(),xt.stopPropagation(),Be(xt))},onMousedown(xt){xt.preventDefault(),xt.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},Xe=le.value?!!n.chip:!!n.selection,pt=Xe?j0(le.value?n.chip({item:ae,index:me,props:Ye}):n.selection({item:ae,index:me})):void 0;if(!(Xe&&!pt))return T("div",{key:ae.value,class:["v-autocomplete__selection",me===k.value&&["v-autocomplete__selection--selected",q.value]],style:me===k.value?K.value:{}},[le.value?n.chip?T(Un,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:ae.title}}},{default:()=>[pt]}):T(hl,it({key:"chip",closable:e.closableChips,size:"small",text:ae.title,disabled:ae.props.disabled},Ye),null):pt??T("span",{class:"v-autocomplete__selection-text"},[ae.title,e.multiple&&me<Q.value.length-1&&T("span",{class:"v-autocomplete__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var Ye;for(var ae=arguments.length,me=new Array(ae),Be=0;Be<ae;Be++)me[Be]=arguments[Be];return T(Ht,null,[(Ye=n["append-inner"])==null?void 0:Ye.call(n,...me),e.menuIcon?T(nr,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Je,onClick:SF,"aria-label":r(R.value),title:r(R.value),tabindex:"-1"},null):void 0])}})}),Ro({isFocused:u,isPristine:h,menu:C,search:se,filteredItems:H,select:He},s)}}),Xke={data(){return{libraryServices:[],selectedService:null}},created(){this.libraryServices=this.$store.state.libraryServices,this.libraryServices.length===0&&this.getServices()},methods:{deselectService(){this.selectedService=null,this.$emit("select",null)},async getServices(){let e=await rP();e=e.sort((t,n)=>t.nice_name.localeCompare(n.nice_name)),this.$store.commit("setServices",e),this.libraryServices=e},updateSelection(e){this.selectedService=e,this.$emit("select",this.selectedService)}}},Jke=rr("div",{class:"text-caption pa-3"},"Select local authority",-1);function Qke(e,t,n,r,s,u){return fn(),Vn(Za,{elevation:"0",color:"grey-lighten-5"},{default:De(()=>[Jke,T(Kke,{"persistent-hint":"",variant:"outlined","bg-color":"white",class:"elevation-0",clearable:"",items:s.libraryServices,"item-title":"nice_name","item-value":"code",label:"Select local library authority","return-object":"",loading:s.libraryServices.length===0,"prepend-inner-icon":"mdi-domain","onUpdate:modelValue":u.updateSelection,hint:"You can type to search library services."},null,8,["items","loading","onUpdate:modelValue"]),s.selectedService!=null?(fn(),Vn(hl,{key:0,class:"ma-2",closable:"","onClick:close":t[0]||(t[0]=h=>u.deselectService())},{default:De(()=>[zt(Zs(s.selectedService.nice_name),1)]),_:1})):Kn("",!0)]),_:1})}const Fv=Qr(Xke,[["render",Qke]]),eCe=`This tool allows you to view and edit library service points, grouped by local authority. To make changes you must first [Log in](/login). At the end you must **publish changes** to ensure you overwrite the existing data.
`;var yP={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(Gc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,h={},o=0,p={parse:function(H,j){var Z=(j=j||{}).dynamicTyping||!1;if(re(Z)&&(j.dynamicTypingFunction=Z,Z={}),j.dynamicTyping=Z,j.transform=!!re(j.transform)&&j.transform,j.worker&&p.WORKERS_SUPPORTED){var le=function(){if(!p.WORKERS_SUPPORTED)return!1;var ve=(Ie=r.URL||r.webkitURL||null,Ae=n.toString(),p.BLOB_URL||(p.BLOB_URL=Ie.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ae,")();"],{type:"text/javascript"})))),fe=new r.Worker(ve),Ie,Ae;return fe.onmessage=q,fe.id=o++,h[fe.id]=fe}();return le.userStep=j.step,le.userChunk=j.chunk,le.userComplete=j.complete,le.userError=j.error,j.step=re(j.step),j.chunk=re(j.chunk),j.complete=re(j.complete),j.error=re(j.error),delete j.worker,void le.postMessage({input:H,config:j,workerId:le.id})}var ne=null;return p.NODE_STREAM_INPUT,typeof H=="string"?(H=function(ve){return ve.charCodeAt(0)===65279?ve.slice(1):ve}(H),ne=j.download?new C(j):new I(j)):H.readable===!0&&re(H.read)&&re(H.on)?ne=new R(j):(r.File&&H instanceof File||H instanceof Object)&&(ne=new k(j)),ne.stream(H)},unparse:function(H,j){var Z=!1,le=!0,ne=",",ve=`\r
`,fe='"',Ie=fe+fe,Ae=!1,qe=null,ke=!1;(function(){if(typeof j=="object"){if(typeof j.delimiter!="string"||p.BAD_DELIMITERS.filter(function(Ue){return j.delimiter.indexOf(Ue)!==-1}).length||(ne=j.delimiter),(typeof j.quotes=="boolean"||typeof j.quotes=="function"||Array.isArray(j.quotes))&&(Z=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(Ae=j.skipEmptyLines),typeof j.newline=="string"&&(ve=j.newline),typeof j.quoteChar=="string"&&(fe=j.quoteChar),typeof j.header=="boolean"&&(le=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");qe=j.columns}j.escapeChar!==void 0&&(Ie=j.escapeChar+fe),(typeof j.escapeFormulae=="boolean"||j.escapeFormulae instanceof RegExp)&&(ke=j.escapeFormulae instanceof RegExp?j.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Le=new RegExp(F(fe),"g");if(typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(H)){if(!H.length||Array.isArray(H[0]))return Ve(null,H,Ae);if(typeof H[0]=="object")return Ve(qe||Object.keys(H[0]),H,Ae)}else if(typeof H=="object")return typeof H.data=="string"&&(H.data=JSON.parse(H.data)),Array.isArray(H.data)&&(H.fields||(H.fields=H.meta&&H.meta.fields||qe),H.fields||(H.fields=Array.isArray(H.data[0])?H.fields:typeof H.data[0]=="object"?Object.keys(H.data[0]):[]),Array.isArray(H.data[0])||typeof H.data[0]=="object"||(H.data=[H.data])),Ve(H.fields||[],H.data||[],Ae);throw new Error("Unable to serialize unrecognized input");function Ve(Ue,ct,Lt){var mt="";typeof Ue=="string"&&(Ue=JSON.parse(Ue)),typeof ct=="string"&&(ct=JSON.parse(ct));var Tt=Array.isArray(Ue)&&0<Ue.length,Ne=!Array.isArray(ct[0]);if(Tt&&le){for(var st=0;st<Ue.length;st++)0<st&&(mt+=ne),mt+=Je(Ue[st],st);0<ct.length&&(mt+=ve)}for(var He=0;He<ct.length;He++){var $e=Tt?Ue.length:ct[He].length,kt=!1,$t=Tt?Object.keys(ct[He]).length===0:ct[He].length===0;if(Lt&&!Tt&&(kt=Lt==="greedy"?ct[He].join("").trim()==="":ct[He].length===1&&ct[He][0].length===0),Lt==="greedy"&&Tt){for(var ae=[],me=0;me<$e;me++){var Be=Ne?Ue[me]:me;ae.push(ct[He][Be])}kt=ae.join("").trim()===""}if(!kt){for(var Ye=0;Ye<$e;Ye++){0<Ye&&!$t&&(mt+=ne);var Xe=Tt&&Ne?Ue[Ye]:Ye;mt+=Je(ct[He][Xe],Ye)}He<ct.length-1&&(!Lt||0<$e&&!$t)&&(mt+=ve)}}return mt}function Je(Ue,ct){if(Ue==null)return"";if(Ue.constructor===Date)return JSON.stringify(Ue).slice(1,25);var Lt=!1;ke&&typeof Ue=="string"&&ke.test(Ue)&&(Ue="'"+Ue,Lt=!0);var mt=Ue.toString().replace(Le,Ie);return(Lt=Lt||Z===!0||typeof Z=="function"&&Z(Ue,ct)||Array.isArray(Z)&&Z[ct]||function(Tt,Ne){for(var st=0;st<Ne.length;st++)if(-1<Tt.indexOf(Ne[st]))return!0;return!1}(mt,p.BAD_DELIMITERS)||-1<mt.indexOf(ne)||mt.charAt(0)===" "||mt.charAt(mt.length-1)===" ")?fe+mt+fe:mt}}};if(p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!s&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=B,p.ParserHandle=L,p.NetworkStreamer=C,p.FileStreamer=k,p.StringStreamer=I,p.ReadableStreamStreamer=R,r.jQuery){var y=r.jQuery;y.fn.parse=function(H){var j=H.config||{},Z=[];return this.each(function(ve){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var fe=0;fe<this.files.length;fe++)Z.push({file:this.files[fe],inputElem:this,instanceConfig:y.extend({},j)})}),le(),this;function le(){if(Z.length!==0){var ve,fe,Ie,Ae,qe=Z[0];if(re(H.before)){var ke=H.before(qe.file,qe.inputElem);if(typeof ke=="object"){if(ke.action==="abort")return ve="AbortError",fe=qe.file,Ie=qe.inputElem,Ae=ke.reason,void(re(H.error)&&H.error({name:ve},fe,Ie,Ae));if(ke.action==="skip")return void ne();typeof ke.config=="object"&&(qe.instanceConfig=y.extend(qe.instanceConfig,ke.config))}else if(ke==="skip")return void ne()}var Le=qe.instanceConfig.complete;qe.instanceConfig.complete=function(Ve){re(Le)&&Le(Ve,qe.file,qe.inputElem),ne()},p.parse(qe.file,qe.instanceConfig)}else re(H.complete)&&H.complete()}function ne(){Z.splice(0,1),le()}}}function b(H){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var Z=Q(j);Z.chunkSize=parseInt(Z.chunkSize),j.step||j.chunk||(Z.chunkSize=null),this._handle=new L(Z),(this._handle.streamer=this)._config=Z}).call(this,H),this.parseChunk=function(j,Z){if(this.isFirstChunk&&re(this._config.beforeFirstChunk)){var le=this._config.beforeFirstChunk(j);le!==void 0&&(j=le)}this.isFirstChunk=!1,this._halted=!1;var ne=this._partialLine+j;this._partialLine="";var ve=this._handle.parse(ne,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var fe=ve.meta.cursor;this._finished||(this._partialLine=ne.substring(fe-this._baseIndex),this._baseIndex=fe),ve&&ve.data&&(this._rowCount+=ve.data.length);var Ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(u)r.postMessage({results:ve,workerId:p.WORKER_ID,finished:Ie});else if(re(this._config.chunk)&&!Z){if(this._config.chunk(ve,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ve=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ve.data),this._completeResults.errors=this._completeResults.errors.concat(ve.errors),this._completeResults.meta=ve.meta),this._completed||!Ie||!re(this._config.complete)||ve&&ve.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ie||ve&&ve.meta.paused||this._nextChunk(),ve}this._halted=!0},this._sendError=function(j){re(this._config.error)?this._config.error(j):u&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:j,finished:!1})}}function C(H){var j;(H=H||{}).chunkSize||(H.chunkSize=p.RemoteChunkSize),b.call(this,H),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Z){this._input=Z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),s||(j.onload=ee(this._chunkLoaded,this),j.onerror=ee(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var Z=this._config.downloadRequestHeaders;for(var le in Z)j.setRequestHeader(le,Z[le])}if(this._config.chunkSize){var ne=this._start+this._config.chunkSize-1;j.setRequestHeader("Range","bytes="+this._start+"-"+ne)}try{j.send(this._config.downloadRequestBody)}catch(ve){this._chunkError(ve.message)}s&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:j.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Z){var le=Z.getResponseHeader("Content-Range");return le===null?-1:parseInt(le.substring(le.lastIndexOf("/")+1))}(j),this.parseChunk(j.responseText)))},this._chunkError=function(Z){var le=j.statusText||Z;this._sendError(new Error(le))}}function k(H){var j,Z;(H=H||{}).chunkSize||(H.chunkSize=p.LocalChunkSize),b.call(this,H);var le=typeof FileReader<"u";this.stream=function(ne){this._input=ne,Z=ne.slice||ne.webkitSlice||ne.mozSlice,le?((j=new FileReader).onload=ee(this._chunkLoaded,this),j.onerror=ee(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ne=this._input;if(this._config.chunkSize){var ve=Math.min(this._start+this._config.chunkSize,this._input.size);ne=Z.call(ne,this._start,ve)}var fe=j.readAsText(ne,this._config.encoding);le||this._chunkLoaded({target:{result:fe}})},this._chunkLoaded=function(ne){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ne.target.result)},this._chunkError=function(){this._sendError(j.error)}}function I(H){var j;b.call(this,H=H||{}),this.stream=function(Z){return j=Z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Z,le=this._config.chunkSize;return le?(Z=j.substring(0,le),j=j.substring(le)):(Z=j,j=""),this._finished=!j,this.parseChunk(Z)}}}function R(H){b.call(this,H=H||{});var j=[],Z=!0,le=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ne){this._input=ne,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){le&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):Z=!0},this._streamData=ee(function(ne){try{j.push(typeof ne=="string"?ne:ne.toString(this._config.encoding)),Z&&(Z=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(ve){this._streamError(ve)}},this),this._streamError=ee(function(ne){this._streamCleanUp(),this._sendError(ne)},this),this._streamEnd=ee(function(){this._streamCleanUp(),le=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function L(H){var j,Z,le,ne=Math.pow(2,53),ve=-ne,fe=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ae=this,qe=0,ke=0,Le=!1,Ve=!1,Je=[],Ue={data:[],errors:[],meta:{}};if(re(H.step)){var ct=H.step;H.step=function(He){if(Ue=He,Tt())mt();else{if(mt(),Ue.data.length===0)return;qe+=He.data.length,H.preview&&qe>H.preview?Z.abort():(Ue.data=Ue.data[0],ct(Ue,Ae))}}}function Lt(He){return H.skipEmptyLines==="greedy"?He.join("").trim()==="":He.length===1&&He[0].length===0}function mt(){return Ue&&le&&(st("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),le=!1),H.skipEmptyLines&&(Ue.data=Ue.data.filter(function(He){return!Lt(He)})),Tt()&&function(){if(!Ue)return;function He(kt,$t){re(H.transformHeader)&&(kt=H.transformHeader(kt,$t)),Je.push(kt)}if(Array.isArray(Ue.data[0])){for(var $e=0;Tt()&&$e<Ue.data.length;$e++)Ue.data[$e].forEach(He);Ue.data.splice(0,1)}else Ue.data.forEach(He)}(),function(){if(!Ue||!H.header&&!H.dynamicTyping&&!H.transform)return Ue;function He(kt,$t){var ae,me=H.header?{}:[];for(ae=0;ae<kt.length;ae++){var Be=ae,Ye=kt[ae];H.header&&(Be=ae>=Je.length?"__parsed_extra":Je[ae]),H.transform&&(Ye=H.transform(Ye,Be)),Ye=Ne(Be,Ye),Be==="__parsed_extra"?(me[Be]=me[Be]||[],me[Be].push(Ye)):me[Be]=Ye}return H.header&&(ae>Je.length?st("FieldMismatch","TooManyFields","Too many fields: expected "+Je.length+" fields but parsed "+ae,ke+$t):ae<Je.length&&st("FieldMismatch","TooFewFields","Too few fields: expected "+Je.length+" fields but parsed "+ae,ke+$t)),me}var $e=1;return!Ue.data.length||Array.isArray(Ue.data[0])?(Ue.data=Ue.data.map(He),$e=Ue.data.length):Ue.data=He(Ue.data,0),H.header&&Ue.meta&&(Ue.meta.fields=Je),ke+=$e,Ue}()}function Tt(){return H.header&&Je.length===0}function Ne(He,$e){return kt=He,H.dynamicTypingFunction&&H.dynamicTyping[kt]===void 0&&(H.dynamicTyping[kt]=H.dynamicTypingFunction(kt)),(H.dynamicTyping[kt]||H.dynamicTyping)===!0?$e==="true"||$e==="TRUE"||$e!=="false"&&$e!=="FALSE"&&(function($t){if(fe.test($t)){var ae=parseFloat($t);if(ve<ae&&ae<ne)return!0}return!1}($e)?parseFloat($e):Ie.test($e)?new Date($e):$e===""?null:$e):$e;var kt}function st(He,$e,kt,$t){var ae={type:He,code:$e,message:kt};$t!==void 0&&(ae.row=$t),Ue.errors.push(ae)}this.parse=function(He,$e,kt){var $t=H.quoteChar||'"';if(H.newline||(H.newline=function(Be,Ye){Be=Be.substring(0,1048576);var Xe=new RegExp(F(Ye)+"([^]*?)"+F(Ye),"gm"),pt=(Be=Be.replace(Xe,"")).split("\r"),xt=Be.split(`
`),Ce=1<xt.length&&xt[0].length<pt[0].length;if(pt.length===1||Ce)return`
`;for(var yt=0,Qe=0;Qe<pt.length;Qe++)pt[Qe][0]===`
`&&yt++;return yt>=pt.length/2?`\r
`:"\r"}(He,$t)),le=!1,H.delimiter)re(H.delimiter)&&(H.delimiter=H.delimiter(He),Ue.meta.delimiter=H.delimiter);else{var ae=function(Be,Ye,Xe,pt,xt){var Ce,yt,Qe,lt;xt=xt||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var Et=0;Et<xt.length;Et++){var It=xt[Et],an=0,ln=0,An=0;Qe=void 0;for(var In=new B({comments:pt,delimiter:It,newline:Ye,preview:10}).parse(Be),Nn=0;Nn<In.data.length;Nn++)if(Xe&&Lt(In.data[Nn]))An++;else{var ur=In.data[Nn].length;ln+=ur,Qe!==void 0?0<ur&&(an+=Math.abs(ur-Qe),Qe=ur):Qe=ur}0<In.data.length&&(ln/=In.data.length-An),(yt===void 0||an<=yt)&&(lt===void 0||lt<ln)&&1.99<ln&&(yt=an,Ce=It,lt=ln)}return{successful:!!(H.delimiter=Ce),bestDelimiter:Ce}}(He,H.newline,H.skipEmptyLines,H.comments,H.delimitersToGuess);ae.successful?H.delimiter=ae.bestDelimiter:(le=!0,H.delimiter=p.DefaultDelimiter),Ue.meta.delimiter=H.delimiter}var me=Q(H);return H.preview&&H.header&&me.preview++,j=He,Z=new B(me),Ue=Z.parse(j,$e,kt),mt(),Le?{meta:{paused:!0}}:Ue||{meta:{paused:!1}}},this.paused=function(){return Le},this.pause=function(){Le=!0,Z.abort(),j=re(H.chunk)?"":j.substring(Z.getCharIndex())},this.resume=function(){Ae.streamer._halted?(Le=!1,Ae.streamer.parseChunk(j,!0)):setTimeout(Ae.resume,3)},this.aborted=function(){return Ve},this.abort=function(){Ve=!0,Z.abort(),Ue.meta.aborted=!0,re(H.complete)&&H.complete(Ue),j=""}}function F(H){return H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(H){var j,Z=(H=H||{}).delimiter,le=H.newline,ne=H.comments,ve=H.step,fe=H.preview,Ie=H.fastMode,Ae=j=H.quoteChar===void 0||H.quoteChar===null?'"':H.quoteChar;if(H.escapeChar!==void 0&&(Ae=H.escapeChar),(typeof Z!="string"||-1<p.BAD_DELIMITERS.indexOf(Z))&&(Z=","),ne===Z)throw new Error("Comment character same as delimiter");ne===!0?ne="#":(typeof ne!="string"||-1<p.BAD_DELIMITERS.indexOf(ne))&&(ne=!1),le!==`
`&&le!=="\r"&&le!==`\r
`&&(le=`
`);var qe=0,ke=!1;this.parse=function(Le,Ve,Je){if(typeof Le!="string")throw new Error("Input must be a string");var Ue=Le.length,ct=Z.length,Lt=le.length,mt=ne.length,Tt=re(ve),Ne=[],st=[],He=[],$e=qe=0;if(!Le)return gt();if(H.header&&!Ve){var kt=Le.split(le)[0].split(Z),$t=[],ae={},me=!1;for(var Be in kt){var Ye=kt[Be];re(H.transformHeader)&&(Ye=H.transformHeader(Ye,Be));var Xe=Ye,pt=ae[Ye]||0;for(0<pt&&(me=!0,Xe=Ye+"_"+pt),ae[Ye]=pt+1;$t.includes(Xe);)Xe=Xe+"_"+pt;$t.push(Xe)}if(me){var xt=Le.split(le);xt[0]=$t.join(Z),Le=xt.join(le)}}if(Ie||Ie!==!1&&Le.indexOf(j)===-1){for(var Ce=Le.split(le),yt=0;yt<Ce.length;yt++){if(He=Ce[yt],qe+=He.length,yt!==Ce.length-1)qe+=le.length;else if(Je)return gt();if(!ne||He.substring(0,mt)!==ne){if(Tt){if(Ne=[],An(He.split(Z)),xi(),ke)return gt()}else An(He.split(Z));if(fe&&fe<=yt)return Ne=Ne.slice(0,fe),gt(!0)}}return gt()}for(var Qe=Le.indexOf(Z,qe),lt=Le.indexOf(le,qe),Et=new RegExp(F(Ae)+F(j),"g"),It=Le.indexOf(j,qe);;)if(Le[qe]!==j)if(ne&&He.length===0&&Le.substring(qe,qe+mt)===ne){if(lt===-1)return gt();qe=lt+Lt,lt=Le.indexOf(le,qe),Qe=Le.indexOf(Z,qe)}else if(Qe!==-1&&(Qe<lt||lt===-1))He.push(Le.substring(qe,Qe)),qe=Qe+ct,Qe=Le.indexOf(Z,qe);else{if(lt===-1)break;if(He.push(Le.substring(qe,lt)),ur(lt+Lt),Tt&&(xi(),ke))return gt();if(fe&&Ne.length>=fe)return gt(!0)}else for(It=qe,qe++;;){if((It=Le.indexOf(j,It+1))===-1)return Je||st.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:qe}),Nn();if(It===Ue-1)return Nn(Le.substring(qe,It).replace(Et,j));if(j!==Ae||Le[It+1]!==Ae){if(j===Ae||It===0||Le[It-1]!==Ae){Qe!==-1&&Qe<It+1&&(Qe=Le.indexOf(Z,It+1)),lt!==-1&&lt<It+1&&(lt=Le.indexOf(le,It+1));var an=In(lt===-1?Qe:Math.min(Qe,lt));if(Le.substr(It+1+an,ct)===Z){He.push(Le.substring(qe,It).replace(Et,j)),Le[qe=It+1+an+ct]!==j&&(It=Le.indexOf(j,qe)),Qe=Le.indexOf(Z,qe),lt=Le.indexOf(le,qe);break}var ln=In(lt);if(Le.substring(It+1+ln,It+1+ln+Lt)===le){if(He.push(Le.substring(qe,It).replace(Et,j)),ur(It+1+ln+Lt),Qe=Le.indexOf(Z,qe),It=Le.indexOf(j,qe),Tt&&(xi(),ke))return gt();if(fe&&Ne.length>=fe)return gt(!0);break}st.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:qe}),It++}}else It++}return Nn();function An(kn){Ne.push(kn),$e=qe}function In(kn){var fa=0;if(kn!==-1){var dr=Le.substring(It+1,kn);dr&&dr.trim()===""&&(fa=dr.length)}return fa}function Nn(kn){return Je||(kn===void 0&&(kn=Le.substring(qe)),He.push(kn),qe=Ue,An(He),Tt&&xi()),gt()}function ur(kn){qe=kn,An(He),He=[],lt=Le.indexOf(le,qe)}function gt(kn){return{data:Ne,errors:st,meta:{delimiter:Z,linebreak:le,aborted:ke,truncated:!!kn,cursor:$e+(Ve||0)}}}function xi(){ve(gt()),Ne=[],st=[]}},this.abort=function(){ke=!0},this.getCharIndex=function(){return qe}}function q(H){var j=H.data,Z=h[j.workerId],le=!1;if(j.error)Z.userError(j.error,j.file);else if(j.results&&j.results.data){var ne={abort:function(){le=!0,K(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:se,resume:se};if(re(Z.userStep)){for(var ve=0;ve<j.results.data.length&&(Z.userStep({data:j.results.data[ve],errors:j.results.errors,meta:j.results.meta},ne),!le);ve++);delete j.results}else re(Z.userChunk)&&(Z.userChunk(j.results,ne,j.file),delete j.results)}j.finished&&!le&&K(j.workerId,j.results)}function K(H,j){var Z=h[H];re(Z.userComplete)&&Z.userComplete(j),Z.terminate(),delete h[H]}function se(){throw new Error("Not implemented.")}function Q(H){if(typeof H!="object"||H===null)return H;var j=Array.isArray(H)?[]:{};for(var Z in H)j[Z]=Q(H[Z]);return j}function ee(H,j){return function(){H.apply(j,arguments)}}function re(H){return typeof H=="function"}return u&&(r.onmessage=function(H){var j=H.data;if(p.WORKER_ID===void 0&&j&&(p.WORKER_ID=j.workerId),typeof j.input=="string")r.postMessage({workerId:p.WORKER_ID,results:p.parse(j.input,j.config),finished:!0});else if(r.File&&j.input instanceof File||j.input instanceof Object){var Z=p.parse(j.input,j.config);Z&&r.postMessage({workerId:p.WORKER_ID,results:Z,finished:!0})}}),(C.prototype=Object.create(b.prototype)).constructor=C,(k.prototype=Object.create(b.prototype)).constructor=k,(I.prototype=Object.create(I.prototype)).constructor=I,(R.prototype=Object.create(b.prototype)).constructor=R,p})})(yP);var Gg=yP.exports;const Wx=(e,t)=>new Promise(n=>{const r=[];Gg.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:s=>{r.push(s.data)},complete:()=>{n(r)}})}),tCe=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},n=await Nr.get(e,t);return Wx(n.data,!0)},nCe=async(e,t)=>{const n=`${nP}${e}/${t}`;return await tCe(n)},rCe=async(e,t,n,r)=>{const s=`${nP}${e}/${t}`;return(await Nr.put(s,n,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"text/csv"}})).status===200},iCe=zd("v-alert-title"),aCe=["success","info","warning","error"],sCe=We({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ln,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>aCe.includes(e)},...hn(),...$a(),...to(),...ns(),...fu(),...lm(),...Pi(),...Xn(),...vr(),...ro({variant:"flat"})},"VAlert"),al=ht()({name:"VAlert",props:sCe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=dn(e,"modelValue"),u=Y(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),h=Y(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:o}=Rr(e),{colorClasses:p,colorStyles:y,variantClasses:b}=mu(h),{densityClasses:C}=rs(e),{dimensionStyles:k}=no(e),{elevationClasses:I}=As(e),{locationStyles:R}=Vd(e),{positionClasses:L}=cm(e),{roundedClasses:F}=Bi(e),{textColorClasses:B,textColorStyles:q}=Na(_t(e,"borderColor")),{t:K}=li(),se=Y(()=>({"aria-label":K(e.closeLabel),onClick(Q){s.value=!1,n("click:close",Q)}}));return()=>{const Q=!!(r.prepend||u.value),ee=!!(r.title||e.title),re=!!(r.close||e.closable);return s.value&&T(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},o.value,p.value,C.value,I.value,L.value,F.value,b.value,e.class],style:[y.value,k.value,R.value,e.style],role:"alert"},{default:()=>{var H,j;return[xl(!1,"v-alert"),e.border&&T("div",{key:"border",class:["v-alert__border",B.value],style:q.value},null),Q&&T("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?T(Un,{key:"prepend-defaults",disabled:!u.value,defaults:{VIcon:{density:e.density,icon:u.value,size:e.prominent?44:28}}},r.prepend):T(nr,{key:"prepend-icon",density:e.density,icon:u.value,size:e.prominent?44:28},null)]),T("div",{class:"v-alert__content"},[ee&&T(iCe,{key:"title"},{default:()=>{var Z;return[((Z=r.title)==null?void 0:Z.call(r))??e.title]}}),((H=r.text)==null?void 0:H.call(r))??e.text,(j=r.default)==null?void 0:j.call(r)]),r.append&&T("div",{key:"append",class:"v-alert__append"},[r.append()]),re&&T("div",{key:"close",class:"v-alert__close"},[r.close?T(Un,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Z;return[(Z=r.close)==null?void 0:Z.call(r,{props:se.value})]}}):T(Kt,it({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},se.value),null)])]}})}}});function oCe(){const e=dt([]);yT(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const lCe=We({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:Ln,default:"$first"},prevIcon:{type:Ln,default:"$prev"},nextIcon:{type:Ln,default:"$next"},lastIcon:{type:Ln,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...eo(),...hn(),...$a(),...ns(),...Pi(),...$d(),...Xn({tag:"nav"}),...vr(),...ro({variant:"text"})},"VPagination"),m2=ht()({name:"VPagination",props:lCe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=dn(e,"modelValue"),{t:u,n:h}=li(),{isRtl:o}=es(),{themeClasses:p}=Rr(e),{width:y}=vl(),b=Rt(-1);ua(void 0,{scoped:!0});const{resizeRef:C}=lc(H=>{if(!H.length)return;const{target:j,contentRect:Z}=H[0],le=j.querySelector(".v-pagination__list > *");if(!le)return;const ne=Z.width,ve=le.offsetWidth+parseFloat(getComputedStyle(le).marginRight)*2;b.value=L(ne,ve)}),k=Y(()=>parseInt(e.length,10)),I=Y(()=>parseInt(e.start,10)),R=Y(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):b.value>=0?b.value:L(y.value,58));function L(H,j){const Z=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((H-j*Z)/j).toFixed(2)))}const F=Y(()=>{if(k.value<=0||isNaN(k.value)||k.value>Number.MAX_SAFE_INTEGER)return[];if(R.value<=0)return[];if(R.value===1)return[s.value];if(k.value<=R.value)return Ws(k.value,I.value);const H=R.value%2===0,j=H?R.value/2:Math.floor(R.value/2),Z=H?j:j+1,le=k.value-j;if(Z-s.value>=0)return[...Ws(Math.max(1,R.value-1),I.value),e.ellipsis,k.value];if(s.value-le>=(H?1:0)){const ne=R.value-1,ve=k.value-ne+I.value;return[I.value,e.ellipsis,...Ws(ne,ve)]}else{const ne=Math.max(1,R.value-3),ve=ne===1?s.value:s.value-Math.ceil(ne/2)+I.value;return[I.value,e.ellipsis,...Ws(ne,ve),e.ellipsis,k.value]}});function B(H,j,Z){H.preventDefault(),s.value=j,Z&&r(Z,j)}const{refs:q,updateRef:K}=oCe();ua({VPaginationBtn:{color:_t(e,"color"),border:_t(e,"border"),density:_t(e,"density"),size:_t(e,"size"),variant:_t(e,"variant"),rounded:_t(e,"rounded"),elevation:_t(e,"elevation")}});const se=Y(()=>F.value.map((H,j)=>{const Z=le=>K(le,j);if(typeof H=="string")return{isActive:!1,key:`ellipsis-${j}`,page:H,props:{ref:Z,ellipsis:!0,icon:!0,disabled:!0}};{const le=H===s.value;return{isActive:le,key:H,page:h(H),props:{ref:Z,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:le?e.activeColor:e.color,"aria-current":le,"aria-label":u(le?e.currentPageAriaLabel:e.pageAriaLabel,H),onClick:ne=>B(ne,H)}}}})),Q=Y(()=>{const H=!!e.disabled||s.value<=I.value,j=!!e.disabled||s.value>=I.value+k.value-1;return{first:e.showFirstLastPage?{icon:o.value?e.lastIcon:e.firstIcon,onClick:Z=>B(Z,I.value,"first"),disabled:H,"aria-label":u(e.firstAriaLabel),"aria-disabled":H}:void 0,prev:{icon:o.value?e.nextIcon:e.prevIcon,onClick:Z=>B(Z,s.value-1,"prev"),disabled:H,"aria-label":u(e.previousAriaLabel),"aria-disabled":H},next:{icon:o.value?e.prevIcon:e.nextIcon,onClick:Z=>B(Z,s.value+1,"next"),disabled:j,"aria-label":u(e.nextAriaLabel),"aria-disabled":j},last:e.showFirstLastPage?{icon:o.value?e.firstIcon:e.lastIcon,onClick:Z=>B(Z,I.value+k.value-1,"last"),disabled:j,"aria-label":u(e.lastAriaLabel),"aria-disabled":j}:void 0}});function ee(){var j;const H=s.value-I.value;(j=q.value[H])==null||j.$el.focus()}function re(H){H.key===HS.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,Hn(ee)):H.key===HS.right&&!e.disabled&&s.value<I.value+k.value-1&&(s.value=s.value+1,Hn(ee))}return St(()=>T(e.tag,{ref:C,class:["v-pagination",p.value,e.class],style:e.style,role:"navigation","aria-label":u(e.ariaLabel),onKeydown:re,"data-test":"v-pagination-root"},{default:()=>[T("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&T("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(Q.value.first):T(Kt,it({_as:"VPaginationBtn"},Q.value.first),null)]),T("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(Q.value.prev):T(Kt,it({_as:"VPaginationBtn"},Q.value.prev),null)]),se.value.map((H,j)=>T("li",{key:H.key,class:["v-pagination__item",{"v-pagination__item--is-active":H.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(H):T(Kt,it({_as:"VPaginationBtn"},H.props),{default:()=>[H.page]})])),T("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(Q.value.next):T(Kt,it({_as:"VPaginationBtn"},Q.value.next),null)]),e.showFirstLastPage&&T("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(Q.value.last):T(Kt,it({_as:"VPaginationBtn"},Q.value.last),null)])])]})),{}}}),cCe=We({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),_P=Symbol.for("vuetify:data-table-pagination");function uCe(e){const t=dn(e,"page",void 0,r=>+(r??1)),n=dn(e,"itemsPerPage",void 0,r=>+(r??10));return{page:t,itemsPerPage:n}}function dCe(e){const{page:t,itemsPerPage:n,itemsLength:r}=e,s=Y(()=>n.value===-1?0:n.value*(t.value-1)),u=Y(()=>n.value===-1?r.value:Math.min(r.value,s.value+n.value)),h=Y(()=>n.value===-1||r.value===0?1:Math.ceil(r.value/n.value));si(()=>{t.value>h.value&&(t.value=h.value)});function o(k){n.value=k,t.value=1}function p(){t.value=la(t.value+1,1,h.value)}function y(){t.value=la(t.value-1,1,h.value)}function b(k){t.value=la(k,1,h.value)}const C={page:t,itemsPerPage:n,startIndex:s,stopIndex:u,pageCount:h,itemsLength:r,nextPage:p,prevPage:y,setPage:b,setItemsPerPage:o};return _n(_P,C),C}function hCe(){const e=vt(_P);if(!e)throw new Error("Missing pagination!");return e}function fCe(e){const t=Jr("usePaginatedItems"),{items:n,startIndex:r,stopIndex:s,itemsPerPage:u}=e,h=Y(()=>u.value<=0?n.value:n.value.slice(r.value,s.value));return ot(h,o=>{t.emit("update:currentItems",o)}),{paginatedItems:h}}const bP=We({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),p2=ht()({name:"VDataTableFooter",props:bP(),setup(e,t){let{slots:n}=t;const{t:r}=li(),{page:s,pageCount:u,startIndex:h,stopIndex:o,itemsLength:p,itemsPerPage:y,setItemsPerPage:b}=hCe(),C=Y(()=>e.itemsPerPageOptions.map(k=>typeof k=="number"?{value:k,title:k===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(k)}:{...k,title:isNaN(Number(k.title))?r(k.title):k.title}));return St(()=>{var I;const k=m2.filterProps(e);return T("div",{class:"v-data-table-footer"},[(I=n.prepend)==null?void 0:I.call(n),T("div",{class:"v-data-table-footer__items-per-page"},[T("span",null,[r(e.itemsPerPageText)]),T(Ld,{items:C.value,modelValue:y.value,"onUpdate:modelValue":R=>b(Number(R)),density:"compact",variant:"outlined","hide-details":!0},null)]),T("div",{class:"v-data-table-footer__info"},[T("div",null,[r(e.pageText,p.value?h.value+1:0,o.value,p.value)])]),T("div",{class:"v-data-table-footer__pagination"},[T(m2,it({modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:u.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},k),null)])])}),{}}}),Wg=tz({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const r=e.tag??"td";return T(r,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Gt(e.height),width:Gt(e.width),maxWidth:Gt(e.maxWidth),left:Gt(e.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),mCe=We({headers:Array},"DataTable-header"),xP=Symbol.for("vuetify:data-table-headers"),wP={title:"",sortable:!1},pCe={...wP,width:48};function gCe(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,r)=>{let s=!1;for(let u=0;u<t.length;u++)if(t[u].priority>r){t.splice(u,0,{element:n,priority:r}),s=!0;break}s||t.push({element:n,priority:r})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let s=0;s<t.length;s++)Math.floor(t[s].priority)===r&&(n+=1);return n},dequeue:()=>t.shift()}}function t0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)t0(n,t);return t}function SP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&SP(n.children,t);return t}function vCe(e){if(e.key){if(e.key==="data-table-group")return wP;if(["data-table-expand","data-table-select"].includes(e.key))return pCe}}function Yx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>Yx(n,t+1))):t}function yCe(e){let t=!1;function n(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u)if(h&&(u.fixed=!0),u.fixed)if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o],!0);else t?isNaN(+u.width)&&(`${u.key}`,void 0):u.lastFixed=!0,t=!0;else if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o]);else t=!1}for(let u=e.length-1;u>=0;u--)n(e[u]);function r(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!u)return h;if(u.children){u.fixedOffset=h;for(const o of u.children)h=r(o,h)}else u.fixed&&(u.fixedOffset=h,h+=parseFloat(u.width||"0")||0);return h}let s=0;for(const u of e)s=r(u,s)}function _Ce(e,t){const n=[];let r=0;const s=gCe(e);for(;s.size()>0;){let h=s.count();const o=[];let p=1;for(;h>0;){const{element:y,priority:b}=s.dequeue(),C=t-r-Yx(y);if(o.push({...y,rowspan:C??1,colspan:y.children?t0(y).length:1}),y.children)for(const k of y.children){const I=b%1+p/Math.pow(10,r+2);s.enqueue(k,r+C+I)}p+=1,h-=1}r+=1,n.push(o)}return{columns:e.map(h=>t0(h)).flat(),headers:n}}function kP(e){const t=[];for(const n of e){const r={...vCe(n),...n},s=r.key??(typeof r.value=="string"?r.value:null),u=r.value??s??null,h={...r,key:s,value:u,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?kP(r.children):void 0};t.push(h)}return t}function bCe(e,t){const n=dt([]),r=dt([]),s=dt({}),u=dt({}),h=dt({});si(()=>{var L,F,B;const y=(e.headers||Object.keys(e.items[0]??{}).map(q=>({key:q,title:Po(q)}))).slice(),b=SP(y);(L=t==null?void 0:t.groupBy)!=null&&L.value.length&&!b.has("data-table-group")&&y.unshift({key:"data-table-group",title:"Group"}),(F=t==null?void 0:t.showSelect)!=null&&F.value&&!b.has("data-table-select")&&y.unshift({key:"data-table-select"}),(B=t==null?void 0:t.showExpand)!=null&&B.value&&!b.has("data-table-expand")&&y.push({key:"data-table-expand"});const C=kP(y);yCe(C);const k=Math.max(...C.map(q=>Yx(q)))+1,I=_Ce(C,k);n.value=I.headers,r.value=I.columns;const R=I.headers.flat(1);for(const q of R)q.key&&(q.sortable&&(q.sort&&(s.value[q.key]=q.sort),q.sortRaw&&(u.value[q.key]=q.sortRaw)),q.filter&&(h.value[q.key]=q.filter))});const o={headers:n,columns:r,sortFunctions:s,sortRawFunctions:u,filterFunctions:h};return _n(xP,o),o}function zv(){const e=vt(xP);if(!e)throw new Error("Missing headers!");return e}const xCe={showSelectAll:!1,allSelected:()=>[],select:e=>{var r;let{items:t,value:n}=e;return new Set(n?[(r=t[0])==null?void 0:r.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},CP={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,currentPage:n,selected:r}=e;return CP.select({items:n,value:t,selected:r})}},TP={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,allItems:n,selected:r}=e;return TP.select({items:n,value:t,selected:r})}},wCe=We({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:gl}},"DataTable-select"),AP=Symbol.for("vuetify:data-table-selection");function SCe(e,t){let{allItems:n,currentPage:r}=t;const s=dn(e,"modelValue",e.modelValue,B=>new Set(Wr(B).map(q=>{var K;return((K=n.value.find(se=>e.valueComparator(q,se.value)))==null?void 0:K.value)??q})),B=>[...B.values()]),u=Y(()=>n.value.filter(B=>B.selectable)),h=Y(()=>r.value.filter(B=>B.selectable)),o=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return xCe;case"all":return TP;case"page":default:return CP}});function p(B){return Wr(B).every(q=>s.value.has(q.value))}function y(B){return Wr(B).some(q=>s.value.has(q.value))}function b(B,q){const K=o.value.select({items:B,value:q,selected:new Set(s.value)});s.value=K}function C(B){b([B],!p([B]))}function k(B){const q=o.value.selectAll({value:B,allItems:u.value,currentPage:h.value,selected:new Set(s.value)});s.value=q}const I=Y(()=>s.value.size>0),R=Y(()=>{const B=o.value.allSelected({allItems:u.value,currentPage:h.value});return!!B.length&&p(B)}),L=Y(()=>o.value.showSelectAll),F={toggleSelect:C,select:b,selectAll:k,isSelected:p,isSomeSelected:y,someSelected:I,allSelected:R,showSelectAll:L};return _n(AP,F),F}function Bv(){const e=vt(AP);if(!e)throw new Error("Missing selection!");return e}const kCe=We({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),EP=Symbol.for("vuetify:data-table-sort");function CCe(e){const t=dn(e,"sortBy"),n=_t(e,"mustSort"),r=_t(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:r}}function TCe(e){const{sortBy:t,mustSort:n,multiSort:r,page:s}=e,u=p=>{if(p.key==null)return;let y=t.value.map(C=>({...C}))??[];const b=y.find(C=>C.key===p.key);b?b.order==="desc"?n.value?b.order="asc":y=y.filter(C=>C.key!==p.key):b.order="desc":r.value?y=[...y,{key:p.key,order:"asc"}]:y=[{key:p.key,order:"asc"}],t.value=y,s&&(s.value=1)};function h(p){return!!t.value.find(y=>y.key===p.key)}const o={sortBy:t,toggleSort:u,isSorted:h};return _n(EP,o),o}function IP(){const e=vt(EP);if(!e)throw new Error("Missing sort!");return e}function ACe(e,t,n,r){const s=li();return{sortedItems:Y(()=>{var h,o;return!n.value.length||e.disableSort?t.value:ECe(t.value,n.value,s.current.value,{transform:r==null?void 0:r.transform,sortFunctions:{...e.customKeySort,...(h=r==null?void 0:r.sortFunctions)==null?void 0:h.value},sortRawFunctions:(o=r==null?void 0:r.sortRawFunctions)==null?void 0:o.value})})}}function ECe(e,t,n,r){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(h=>[h,r!=null&&r.transform?r.transform(h):h]).sort((h,o)=>{var p,y;for(let b=0;b<t.length;b++){let C=!1;const k=t[b].key,I=t[b].order??"asc";if(I===!1)continue;let R=h[1][k],L=o[1][k],F=h[0].raw,B=o[0].raw;if(I==="desc"&&([R,L]=[L,R],[F,B]=[B,F]),(p=r==null?void 0:r.sortRawFunctions)!=null&&p[k]){const q=r.sortRawFunctions[k](F,B);if(q==null)continue;if(C=!0,q)return q}if((y=r==null?void 0:r.sortFunctions)!=null&&y[k]){const q=r.sortFunctions[k](R,L);if(q==null)continue;if(C=!0,q)return q}if(!C){if(R instanceof Date&&L instanceof Date)return R.getTime()-L.getTime();if([R,L]=[R,L].map(q=>q!=null?q.toString().toLocaleLowerCase():q),R!==L)return Hp(R)&&Hp(L)?0:Hp(R)?-1:Hp(L)?1:!isNaN(R)&&!isNaN(L)?Number(R)-Number(L):s.compare(R,L)}}return 0}).map(h=>{let[o]=h;return o})}const PP=We({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:Ln,default:"$sortAsc"},sortDescIcon:{type:Ln,default:"$sortDesc"},headerProps:{type:Object},...Bd(),...mv()},"VDataTableHeaders"),g2=ht()({name:"VDataTableHeaders",props:PP(),setup(e,t){let{slots:n}=t;const{t:r}=li(),{toggleSort:s,sortBy:u,isSorted:h}=IP(),{someSelected:o,allSelected:p,selectAll:y,showSelectAll:b}=Bv(),{columns:C,headers:k}=zv(),{loaderClasses:I}=pv(e);function R(H,j){if(!(!e.sticky&&!H.fixed))return{position:"sticky",left:H.fixed?Gt(H.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${j})`:void 0}}function L(H){const j=u.value.find(Z=>Z.key===H.key);return j?j.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:F,backgroundColorStyles:B}=yi(e,"color"),{displayClasses:q,mobile:K}=vl(e),se=Y(()=>({headers:k.value,columns:C.value,toggleSort:s,isSorted:h,sortBy:u.value,someSelected:o.value,allSelected:p.value,selectAll:y,getSortIcon:L})),Q=Y(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},q.value,I.value]),ee=H=>{let{column:j,x:Z,y:le}=H;const ne=j.key==="data-table-select"||j.key==="data-table-expand",ve=it(e.headerProps??{},j.headerProps??{});return T(Wg,it({tag:"th",align:j.align,class:[{"v-data-table__th--sortable":j.sortable&&!e.disableSort,"v-data-table__th--sorted":h(j),"v-data-table__th--fixed":j.fixed},...Q.value],style:{width:Gt(j.width),minWidth:Gt(j.minWidth),maxWidth:Gt(j.maxWidth),...R(j,le)},colspan:j.colspan,rowspan:j.rowspan,onClick:j.sortable?()=>s(j):void 0,fixed:j.fixed,nowrap:j.nowrap,lastFixed:j.lastFixed,noPadding:ne},ve),{default:()=>{var Ae;const fe=`header.${j.key}`,Ie={column:j,selectAll:y,isSorted:h,toggleSort:s,sortBy:u.value,someSelected:o.value,allSelected:p.value,getSortIcon:L};return n[fe]?n[fe](Ie):j.key==="data-table-select"?((Ae=n["header.data-table-select"])==null?void 0:Ae.call(n,Ie))??(b.value&&T(qd,{modelValue:p.value,indeterminate:o.value&&!p.value,"onUpdate:modelValue":y},null)):T("div",{class:"v-data-table-header__content"},[T("span",null,[j.title]),j.sortable&&!e.disableSort&&T(nr,{key:"icon",class:"v-data-table-header__sort-icon",icon:L(j)},null),e.multiSort&&h(j)&&T("div",{key:"badge",class:["v-data-table-header__sort-badge",...F.value],style:B.value},[u.value.findIndex(qe=>qe.key===j.key)+1])])}})},re=()=>{const H=it(e.headerProps??{}??{}),j=Y(()=>C.value.filter(le=>(le==null?void 0:le.sortable)&&!e.disableSort)),Z=Y(()=>{if(C.value.find(ne=>ne.key==="data-table-select")!=null)return p.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return T(Wg,it({tag:"th",class:[...Q.value],colspan:k.value.length+1},H),{default:()=>[T("div",{class:"v-data-table-header__content"},[T(Ld,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:j.value,label:r("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>u.value=[],appendIcon:Z.value,"onClick:append":()=>y(!p.value)},{...n,chip:le=>{var ne;return T(hl,{onClick:(ne=le.item.raw)!=null&&ne.sortable?()=>s(le.item.raw):void 0,onMousedown:ve=>{ve.preventDefault(),ve.stopPropagation()}},{default:()=>[le.item.title,T(nr,{class:["v-data-table__td-sort-icon",h(le.item.raw)&&"v-data-table__td-sort-icon-active"],icon:L(le.item.raw),size:"small"},null)]})}})])]})};St(()=>K.value?T("tr",null,[T(re,null,null)]):T(Ht,null,[n.headers?n.headers(se.value):k.value.map((H,j)=>T("tr",null,[H.map((Z,le)=>T(ee,{column:Z,x:le,y:j},null))])),e.loading&&T("tr",{class:"v-data-table-progress"},[T("th",{colspan:C.value.length},[T(tx,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),ICe=We({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),DP=Symbol.for("vuetify:data-table-group");function PCe(e){return{groupBy:dn(e,"groupBy")}}function DCe(e){const{groupBy:t,sortBy:n}=e,r=dt(new Set),s=Y(()=>t.value.map(y=>({...y,order:y.order??!1})).concat(n.value));function u(y){return r.value.has(y.id)}function h(y){const b=new Set(r.value);u(y)?b.delete(y.id):b.add(y.id),r.value=b}function o(y){function b(C){const k=[];for(const I of C.items)"type"in I&&I.type==="group"?k.push(...b(I)):k.push(I);return k}return b({type:"group",items:y,id:"dummy",key:"dummy",value:"dummy",depth:0})}const p={sortByWithGroups:s,toggleGroup:h,opened:r,groupBy:t,extractRows:o,isGroupOpen:u};return _n(DP,p),p}function MP(){const e=vt(DP);if(!e)throw new Error("Missing group!");return e}function MCe(e,t){if(!e.length)return[];const n=new Map;for(const r of e){const s=Lf(r.raw,t);n.has(s)||n.set(s,[]),n.get(s).push(r)}return n}function LP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const s=MCe(e,t[0]),u=[],h=t.slice(1);return s.forEach((o,p)=>{const y=t[0],b=`${r}_${y}_${p}`;u.push({depth:n,id:b,key:y,value:p,items:h.length?LP(o,h,n+1,b):o,type:"group"})}),u}function RP(e,t){const n=[];for(const r of e)"type"in r&&r.type==="group"?(r.value!=null&&n.push(r),(t.has(r.id)||r.value==null)&&n.push(...RP(r.items,t))):n.push(r);return n}function LCe(e,t,n){return{flatItems:Y(()=>{if(!t.value.length)return e.value;const s=LP(e.value,t.value.map(u=>u.key));return RP(s,n.value)})}}const RCe=We({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),OCe=ht()({name:"VDataTableGroupHeaderRow",props:RCe(),setup(e,t){let{slots:n}=t;const{isGroupOpen:r,toggleGroup:s,extractRows:u}=MP(),{isSelected:h,isSomeSelected:o,select:p}=Bv(),{columns:y}=zv(),b=Y(()=>u([e.item]));return()=>T("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[y.value.map(C=>{var k,I;if(C.key==="data-table-group"){const R=r(e.item)?"$expand":"$next",L=()=>s(e.item);return((k=n["data-table-group"])==null?void 0:k.call(n,{item:e.item,count:b.value.length,props:{icon:R,onClick:L}}))??T(Wg,{class:"v-data-table-group-header-row__column"},{default:()=>[T(Kt,{size:"small",variant:"text",icon:R,onClick:L},null),T("span",null,[e.item.value]),T("span",null,[zt("("),b.value.length,zt(")")])]})}if(C.key==="data-table-select"){const R=h(b.value),L=o(b.value)&&!R,F=B=>p(b.value,B);return((I=n["data-table-select"])==null?void 0:I.call(n,{props:{modelValue:R,indeterminate:L,"onUpdate:modelValue":F}}))??T("td",null,[T(qd,{modelValue:R,indeterminate:L,"onUpdate:modelValue":F},null)])}return T("td",null,null)})])}}),FCe=We({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),OP=Symbol.for("vuetify:datatable:expanded");function zCe(e){const t=_t(e,"expandOnClick"),n=dn(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function r(o,p){const y=new Set(n.value);p?y.add(o.value):y.delete(o.value),n.value=y}function s(o){return n.value.has(o.value)}function u(o){r(o,!s(o))}const h={expand:r,expanded:n,expandOnClick:t,isExpanded:s,toggleExpand:u};return _n(OP,h),h}function FP(){const e=vt(OP);if(!e)throw new Error("foo");return e}const BCe=We({index:Number,item:Object,cellProps:[Object,Function],onClick:Wi(),onContextmenu:Wi(),onDblclick:Wi(),...Bd()},"VDataTableRow"),VCe=ht()({name:"VDataTableRow",props:BCe(),setup(e,t){let{slots:n}=t;const{displayClasses:r,mobile:s}=vl(e,"v-data-table__tr"),{isSelected:u,toggleSelect:h,someSelected:o,allSelected:p,selectAll:y}=Bv(),{isExpanded:b,toggleExpand:C}=FP(),{toggleSort:k,sortBy:I,isSorted:R}=IP(),{columns:L}=zv();St(()=>T("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},r.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&L.value.map((F,B)=>{const q=e.item,K=`item.${F.key}`,se=`header.${F.key}`,Q={index:e.index,item:q.raw,internalItem:q,value:Lf(q.columns,F.key),column:F,isSelected:u,toggleSelect:h,isExpanded:b,toggleExpand:C},ee={column:F,selectAll:y,isSorted:R,toggleSort:k,sortBy:I.value,someSelected:o.value,allSelected:p.value,getSortIcon:()=>""},re=typeof e.cellProps=="function"?e.cellProps({index:Q.index,item:Q.item,internalItem:Q.internalItem,value:Q.value,column:F}):e.cellProps,H=typeof F.cellProps=="function"?F.cellProps({index:Q.index,item:Q.item,internalItem:Q.internalItem,value:Q.value}):F.cellProps;return T(Wg,it({align:F.align,class:{"v-data-table__td--expanded-row":F.key==="data-table-expand","v-data-table__td--select-row":F.key==="data-table-select"},fixed:F.fixed,fixedOffset:F.fixedOffset,lastFixed:F.lastFixed,maxWidth:s.value?void 0:F.maxWidth,noPadding:F.key==="data-table-select"||F.key==="data-table-expand",nowrap:F.nowrap,width:s.value?void 0:F.width},re,H),{default:()=>{var Z,le,ne,ve,fe;if(n[K]&&!s.value)return(Z=n[K])==null?void 0:Z.call(n,Q);if(F.key==="data-table-select")return((le=n["item.data-table-select"])==null?void 0:le.call(n,Q))??T(qd,{disabled:!q.selectable,modelValue:u([q]),onClick:pb(()=>h(q),["stop"])},null);if(F.key==="data-table-expand")return((ne=n["item.data-table-expand"])==null?void 0:ne.call(n,Q))??T(Kt,{icon:b(q)?"$collapse":"$expand",size:"small",variant:"text",onClick:pb(()=>C(q),["stop"])},null);const j=Zs(Q.value);return s.value?T(Ht,null,[T("div",{class:"v-data-table__td-title"},[((ve=n[se])==null?void 0:ve.call(n,ee))??F.title]),T("div",{class:"v-data-table__td-value"},[((fe=n[K])==null?void 0:fe.call(n,Q))??j])]):j}})})]))}}),zP=We({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Bd()},"VDataTableRows"),v2=ht()({name:"VDataTableRows",inheritAttrs:!1,props:zP(),setup(e,t){let{attrs:n,slots:r}=t;const{columns:s}=zv(),{expandOnClick:u,toggleExpand:h,isExpanded:o}=FP(),{isSelected:p,toggleSelect:y}=Bv(),{toggleGroup:b,isGroupOpen:C}=MP(),{t:k}=li(),{mobile:I}=vl(e);return St(()=>{var R,L;return e.loading&&(!e.items.length||r.loading)?T("tr",{class:"v-data-table-rows-loading",key:"loading"},[T("td",{colspan:s.value.length},[((R=r.loading)==null?void 0:R.call(r))??k(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?T("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[T("td",{colspan:s.value.length},[((L=r["no-data"])==null?void 0:L.call(r))??k(e.noDataText)])]):T(Ht,null,[e.items.map((F,B)=>{var se;if(F.type==="group"){const Q={index:B,item:F,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:p,toggleSelect:y,toggleGroup:b,isGroupOpen:C};return r["group-header"]?r["group-header"](Q):T(OCe,it({key:`group-header_${F.id}`,item:F},dk(n,":group-header",()=>Q)),r)}const q={index:B,item:F.raw,internalItem:F,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:p,toggleSelect:y},K={...q,props:it({key:`item_${F.key??F.index}`,onClick:u.value?()=>{h(F)}:void 0,index:B,item:F,cellProps:e.cellProps,mobile:I.value},dk(n,":row",()=>q),typeof e.rowProps=="function"?e.rowProps({item:q.item,index:q.index,internalItem:q.internalItem}):e.rowProps)};return T(Ht,{key:K.props.key},[r.item?r.item(K):T(VCe,K.props,r),o(F)&&((se=r["expanded-row"])==null?void 0:se.call(r,q))])})])}),{}}}),BP=We({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...hn(),...$a(),...Xn(),...vr()},"VTable"),y2=ht()({name:"VTable",props:BP(),setup(e,t){let{slots:n,emit:r}=t;const{themeClasses:s}=Rr(e),{densityClasses:u}=rs(e);return St(()=>T(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},s.value,u.value,e.class],style:e.style},{default:()=>{var h,o,p;return[(h=n.top)==null?void 0:h.call(n),n.default?T("div",{class:"v-table__wrapper",style:{height:Gt(e.height)}},[T("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(p=n.bottom)==null?void 0:p.call(n)]}})),{}}}),NCe=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function $Ce(e,t,n,r){const s=e.returnObject?t:zi(t,e.itemValue),u=zi(t,e.itemSelectable,!0),h=r.reduce((o,p)=>(p.key!=null&&(o[p.key]=zi(t,p.value)),o),{});return{type:"item",key:e.returnObject?zi(t,e.itemValue):s,index:n,value:s,selectable:u,columns:h,raw:t}}function UCe(e,t,n){return t.map((r,s)=>$Ce(e,r,s,n))}function qCe(e,t){return{items:Y(()=>UCe(e,e.items,t.value))}}function jCe(e){let{page:t,itemsPerPage:n,sortBy:r,groupBy:s,search:u}=e;const h=Jr("VDataTable"),o=Y(()=>({page:t.value,itemsPerPage:n.value,sortBy:r.value,groupBy:s.value,search:u.value}));let p=null;ot(o,()=>{gl(p,o.value)||(p&&p.search!==o.value.search&&(t.value=1),h.emit("update:options",o.value),p=o.value)},{deep:!0,immediate:!0})}const HCe=We({...zP(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...FCe(),...ICe(),...mCe(),...NCe(),...wCe(),...kCe(),...PP(),...BP()},"DataTable"),GCe=We({...cCe(),...HCe(),...Ax(),...bP()},"VDataTable"),VP=ht()({name:"VDataTable",props:GCe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:s}=PCe(e),{sortBy:u,multiSort:h,mustSort:o}=CCe(e),{page:p,itemsPerPage:y}=uCe(e),{columns:b,headers:C,sortFunctions:k,sortRawFunctions:I,filterFunctions:R}=bCe(e,{groupBy:s,showSelect:_t(e,"showSelect"),showExpand:_t(e,"showExpand")}),{items:L}=qCe(e,b),F=_t(e,"search"),{filteredItems:B}=Ex(e,L,F,{transform:Tt=>Tt.columns,customKeyFilter:R}),{toggleSort:q}=TCe({sortBy:u,multiSort:h,mustSort:o,page:p}),{sortByWithGroups:K,opened:se,extractRows:Q,isGroupOpen:ee,toggleGroup:re}=DCe({groupBy:s,sortBy:u}),{sortedItems:H}=ACe(e,B,K,{transform:Tt=>Tt.columns,sortFunctions:k,sortRawFunctions:I}),{flatItems:j}=LCe(H,s,se),Z=Y(()=>j.value.length),{startIndex:le,stopIndex:ne,pageCount:ve,setItemsPerPage:fe}=dCe({page:p,itemsPerPage:y,itemsLength:Z}),{paginatedItems:Ie}=fCe({items:j,startIndex:le,stopIndex:ne,itemsPerPage:y}),Ae=Y(()=>Q(Ie.value)),{isSelected:qe,select:ke,selectAll:Le,toggleSelect:Ve,someSelected:Je,allSelected:Ue}=SCe(e,{allItems:L,currentPage:Ae}),{isExpanded:ct,toggleExpand:Lt}=zCe(e);jCe({page:p,itemsPerPage:y,sortBy:u,groupBy:s,search:F}),ua({VDataTableRows:{hideNoData:_t(e,"hideNoData"),noDataText:_t(e,"noDataText"),loading:_t(e,"loading"),loadingText:_t(e,"loadingText")}});const mt=Y(()=>({page:p.value,itemsPerPage:y.value,sortBy:u.value,pageCount:ve.value,toggleSort:q,setItemsPerPage:fe,someSelected:Je.value,allSelected:Ue.value,isSelected:qe,select:ke,selectAll:Le,toggleSelect:Ve,isExpanded:ct,toggleExpand:Lt,isGroupOpen:ee,toggleGroup:re,items:Ae.value.map(Tt=>Tt.raw),internalItems:Ae.value,groupedItems:Ie.value,columns:b.value,headers:C.value}));return St(()=>{const Tt=p2.filterProps(e),Ne=g2.filterProps(e),st=v2.filterProps(e),He=y2.filterProps(e);return T(y2,it({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},He),{top:()=>{var $e;return($e=r.top)==null?void 0:$e.call(r,mt.value)},default:()=>{var $e,kt,$t,ae,me,Be;return r.default?r.default(mt.value):T(Ht,null,[($e=r.colgroup)==null?void 0:$e.call(r,mt.value),!e.hideDefaultHeader&&T("thead",{key:"thead"},[T(g2,Ne,r)]),(kt=r.thead)==null?void 0:kt.call(r,mt.value),!e.hideDefaultBody&&T("tbody",null,[($t=r["body.prepend"])==null?void 0:$t.call(r,mt.value),r.body?r.body(mt.value):T(v2,it(n,st,{items:Ie.value}),r),(ae=r["body.append"])==null?void 0:ae.call(r,mt.value)]),(me=r.tbody)==null?void 0:me.call(r,mt.value),(Be=r.tfoot)==null?void 0:Be.call(r,mt.value)])},bottom:()=>r.bottom?r.bottom(mt.value):!e.hideDefaultFooter&&T(Ht,null,[T(gr,null,null),T(p2,Tt,{prepend:r["footer.prepend"]})])})}),{}}}),WCe=We({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...vv({origin:"center center",scrollStrategy:"block",transition:{component:rx},zIndex:2400})},"VDialog"),md=ht()({name:"VDialog",props:WCe(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=dn(e,"modelValue"),{scopeId:u}=Ud(),h=dt();function o(b){var I,R;const C=b.relatedTarget,k=b.target;if(C!==k&&((I=h.value)!=null&&I.contentEl)&&((R=h.value)!=null&&R.globalTop)&&![document,h.value.contentEl].includes(k)&&!h.value.contentEl.contains(k)){const L=Rf(h.value.contentEl);if(!L.length)return;const F=L[0],B=L[L.length-1];C===F?B.focus():F.focus()}}pr&&ot(()=>s.value&&e.retainFocus,b=>{b?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function p(){var b;(b=h.value)!=null&&b.contentEl&&!h.value.contentEl.contains(document.activeElement)&&h.value.contentEl.focus({preventScroll:!0})}function y(){n("afterLeave")}return ot(s,async b=>{var C;b||(await Hn(),(C=h.value.activatorEl)==null||C.focus({preventScroll:!0}))}),St(()=>{const b=Pd.filterProps(e),C=it({"aria-haspopup":"dialog","aria-expanded":String(s.value)},e.activatorProps),k=it({tabindex:-1},e.contentProps);return T(Pd,it({ref:h,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},b,{modelValue:s.value,"onUpdate:modelValue":I=>s.value=I,"aria-modal":"true",activatorProps:C,contentProps:k,role:"dialog",onAfterEnter:p,onAfterLeave:y},u),{activator:r.activator,default:function(){for(var I=arguments.length,R=new Array(I),L=0;L<I;L++)R[L]=arguments[L];return T(Un,{root:"VDialog"},{default:()=>{var F;return[(F=r.default)==null?void 0:F.call(r,...R)]}})}})}),Ro({},h)}}),Zx=Symbol.for("vuetify:v-tabs"),YCe=We({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Lr(nx({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),pg=ht()({name:"VTab",props:YCe(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:s,textColorStyles:u}=Na(e,"sliderColor"),h=dt(),o=dt(),p=Y(()=>e.direction==="horizontal"),y=Y(()=>{var C,k;return((k=(C=h.value)==null?void 0:C.group)==null?void 0:k.isSelected.value)??!1});function b(C){var I,R;let{value:k}=C;if(k){const L=(R=(I=h.value)==null?void 0:I.$el.parentElement)==null?void 0:R.querySelector(".v-tab--selected .v-tab__slider"),F=o.value;if(!L||!F)return;const B=getComputedStyle(L).color,q=L.getBoundingClientRect(),K=F.getBoundingClientRect(),se=p.value?"x":"y",Q=p.value?"X":"Y",ee=p.value?"right":"bottom",re=p.value?"width":"height",H=q[se],j=K[se],Z=H>j?q[ee]-K[ee]:q[se]-K[se],le=Math.sign(Z)>0?p.value?"right":"bottom":Math.sign(Z)<0?p.value?"left":"top":"center",ve=(Math.abs(Z)+(Math.sign(Z)<0?q[re]:K[re]))/Math.max(q[re],K[re])||0,fe=q[re]/K[re]||0,Ie=1.5;Yc(F,{backgroundColor:[B,"currentcolor"],transform:[`translate${Q}(${Z}px) scale${Q}(${fe})`,`translate${Q}(${Z/Ie}px) scale${Q}(${(ve-1)/Ie+1})`,"none"],transformOrigin:Array(3).fill(le)},{duration:225,easing:Ff})}}return St(()=>{const C=Kt.filterProps(e);return T(Kt,it({symbol:Zx,ref:h,class:["v-tab",e.class],style:e.style,tabindex:y.value?0:-1,role:"tab","aria-selected":String(y.value),active:!1},C,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":b}),{...n,default:()=>{var k;return T(Ht,null,[((k=n.default)==null?void 0:k.call(n))??e.text,!e.hideSlider&&T("div",{ref:o,class:["v-tab__slider",s.value],style:u.value},null)])}})}),Ro({},h)}}),ZCe=We({...Lr(bx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),KCe=ht()({name:"VTabsWindow",props:ZCe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=vt(Zx,null),s=dn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return St(()=>{const h=Gf.filterProps(e);return T(Gf,it({_as:"VTabsWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),XCe=We({...xx()},"VTabsWindowItem"),JCe=ht()({name:"VTabsWindowItem",props:XCe(),setup(e,t){let{slots:n}=t;return St(()=>{const r=ru.filterProps(e);return T(ru,it({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function QCe(e){return e?e.map(t=>Eg(t)?t:{text:t,value:t}):[]}const e2e=We({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...sx({mandatory:"force",selectedClass:"v-tab-item--selected"}),...$a(),...Xn()},"VTabs"),t2e=ht()({name:"VTabs",props:e2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=dn(e,"modelValue"),u=Y(()=>QCe(e.items)),{densityClasses:h}=rs(e),{backgroundColorClasses:o,backgroundColorStyles:p}=yi(_t(e,"bgColor")),{scopeId:y}=Ud();return ua({VTab:{color:_t(e,"color"),direction:_t(e,"direction"),stacked:_t(e,"stacked"),fixed:_t(e,"fixedTabs"),sliderColor:_t(e,"sliderColor"),hideSlider:_t(e,"hideSlider")}}),St(()=>{const b=Bg.filterProps(e),C=!!(r.window||e.items.length>0);return T(Ht,null,[T(Bg,it(b,{modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},h.value,o.value,e.class],style:[{"--v-tabs-height":Gt(e.height)},p.value,e.style],role:"tablist",symbol:Zx},y,n),{default:()=>{var k;return[((k=r.default)==null?void 0:k.call(r))??u.value.map(I=>{var R;return((R=r.tab)==null?void 0:R.call(r,{item:I}))??T(pg,it(I,{key:I.text,value:I.value}),{default:r[`tab.${I.value}`]?()=>{var L;return(L=r[`tab.${I.value}`])==null?void 0:L.call(r,{item:I})}:void 0})})]}}),C&&T(KCe,it({modelValue:s.value,"onUpdate:modelValue":k=>s.value=k,key:"tabs-window"},y),{default:()=>{var k;return[u.value.map(I=>{var R;return((R=r.item)==null?void 0:R.call(r,{item:I}))??T(JCe,{value:I.value},{default:()=>{var L;return(L=r[`item.${I.value}`])==null?void 0:L.call(r,{item:I})}})}),(k=r.window)==null?void 0:k.call(r)]}})])}),{}}}),n2e=We({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...vm(),...yv()},"VTextarea"),r2e=ht()({name:"VTextarea",directives:{Intersect:ax},inheritAttrs:!1,props:n2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=dn(e,"modelValue"),{isFocused:h,focus:o,blur:p}=gm(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),b=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function C(le,ne){var ve,fe;!e.autofocus||!le||(fe=(ve=ne[0].target)==null?void 0:ve.focus)==null||fe.call(ve)}const k=dt(),I=dt(),R=Rt(""),L=dt(),F=Y(()=>e.persistentPlaceholder||h.value||e.active);function B(){var le;L.value!==document.activeElement&&((le=L.value)==null||le.focus()),h.value||o()}function q(le){B(),r("click:control",le)}function K(le){r("mousedown:control",le)}function se(le){le.stopPropagation(),B(),Hn(()=>{u.value="",q0(e["onClick:clear"],le)})}function Q(le){var ve;const ne=le.target;if(u.value=ne.value,(ve=e.modelModifiers)!=null&&ve.trim){const fe=[ne.selectionStart,ne.selectionEnd];Hn(()=>{ne.selectionStart=fe[0],ne.selectionEnd=fe[1]})}}const ee=dt(),re=dt(+e.rows),H=Y(()=>["plain","underlined"].includes(e.variant));si(()=>{e.autoGrow||(re.value=+e.rows)});function j(){e.autoGrow&&Hn(()=>{if(!ee.value||!I.value)return;const le=getComputedStyle(ee.value),ne=getComputedStyle(I.value.$el),ve=parseFloat(le.getPropertyValue("--v-field-padding-top"))+parseFloat(le.getPropertyValue("--v-input-padding-top"))+parseFloat(le.getPropertyValue("--v-field-padding-bottom")),fe=ee.value.scrollHeight,Ie=parseFloat(le.lineHeight),Ae=Math.max(parseFloat(e.rows)*Ie+ve,parseFloat(ne.getPropertyValue("--v-input-control-height"))),qe=parseFloat(e.maxRows)*Ie+ve||1/0,ke=la(fe??0,Ae,qe);re.value=Math.floor((ke-ve)/Ie),R.value=Gt(ke)})}ha(j),ot(u,j),ot(()=>e.rows,j),ot(()=>e.maxRows,j),ot(()=>e.density,j);let Z;return ot(ee,le=>{le?(Z=new ResizeObserver(j),Z.observe(ee.value)):Z==null||Z.disconnect()}),wr(()=>{Z==null||Z.disconnect()}),St(()=>{const le=!!(s.counter||e.counter||e.counterValue),ne=!!(le||s.details),[ve,fe]=om(n),{modelValue:Ie,...Ae}=uc.filterProps(e),qe=gx(e);return T(uc,it({ref:k,modelValue:u.value,"onUpdate:modelValue":ke=>u.value=ke,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":H.value},e.class],style:e.style},ve,Ae,{centerAffix:re.value===1&&!H.value,focused:h.value}),{...s,default:ke=>{let{id:Le,isDisabled:Ve,isDirty:Je,isReadonly:Ue,isValid:ct}=ke;return T(_v,it({ref:I,style:{"--v-textarea-control-height":R.value},onClick:q,onMousedown:K,"onClick:clear":se,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},qe,{id:Le.value,active:F.value||Je.value,centerAffix:re.value===1&&!H.value,dirty:Je.value||e.dirty,disabled:Ve.value,focused:h.value,error:ct.value===!1}),{...s,default:Lt=>{let{props:{class:mt,...Tt}}=Lt;return T(Ht,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[e.prefix]),oi(T("textarea",it({ref:L,class:mt,value:u.value,onInput:Q,autofocus:e.autofocus,readonly:Ue.value,disabled:Ve.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:B,onBlur:p},Tt,fe),null),[[ks("intersect"),{handler:C},null,{once:!0}]]),e.autoGrow&&oi(T("textarea",{class:[mt,"v-textarea__sizer"],id:`${Tt.id}-sizer`,"onUpdate:modelValue":Ne=>u.value=Ne,ref:ee,readonly:!0,"aria-hidden":"true"},null),[[oF,u.value]]),e.suffix&&T("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:ne?ke=>{var Le;return T(Ht,null,[(Le=s.details)==null?void 0:Le.call(s,ke),le&&T(Ht,null,[T("span",null,null),T(fx,{active:e.persistentCounter||h.value,value:y.value,max:b.value,disabled:e.disabled},s.counter)])])}:void 0})}),Ro({},k,I,L)}}),i2e=We({text:String,...hn(),...Xn()},"VToolbarTitle"),a2e=ht()({name:"VToolbarTitle",props:i2e(),setup(e,t){let{slots:n}=t;return St(()=>{const r=!!(n.default||n.text||e.text);return T(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[r&&T("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),s2e=[null,"prominent","default","comfortable","compact"],NP=We({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>s2e.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...eo(),...hn(),...ns(),...Pi(),...Xn({tag:"header"}),...vr()},"VToolbar"),n0=ht()({name:"VToolbar",props:NP(),setup(e,t){var I;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=yi(_t(e,"color")),{borderClasses:u}=Lo(e),{elevationClasses:h}=As(e),{roundedClasses:o}=Bi(e),{themeClasses:p}=Rr(e),{rtlClasses:y}=es(),b=Rt(!!(e.extended||(I=n.extension)!=null&&I.call(n))),C=Y(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),k=Y(()=>b.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ua({VBtn:{variant:"text"}}),St(()=>{var B;const R=!!(e.title||n.title),L=!!(n.image||e.image),F=(B=n.extension)==null?void 0:B.call(n);return b.value=!!(e.extended||F),T(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,u.value,h.value,o.value,p.value,y.value,e.class],style:[s.value,e.style]},{default:()=>[L&&T("div",{key:"image",class:"v-toolbar__image"},[n.image?T(Un,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):T(pm,{key:"image-img",cover:!0,src:e.image},null)]),T(Un,{defaults:{VTabs:{height:Gt(C.value)}}},{default:()=>{var q,K,se;return[T("div",{class:"v-toolbar__content",style:{height:Gt(C.value)}},[n.prepend&&T("div",{class:"v-toolbar__prepend"},[(q=n.prepend)==null?void 0:q.call(n)]),R&&T(a2e,{key:"title",text:e.title},{text:n.title}),(K=n.default)==null?void 0:K.call(n),n.append&&T("div",{class:"v-toolbar__append"},[(se=n.append)==null?void 0:se.call(n)])])]}}),T(Un,{defaults:{VTabs:{height:Gt(k.value)}}},{default:()=>[T(ix,null,{default:()=>[b.value&&T("div",{class:"v-toolbar__extension",style:{height:Gt(k.value)}},[F])]})]})]})}),{contentHeight:C,extensionHeight:k}}}),o2e={beforeMount(){window.addEventListener("beforeunload",e=>{this.isEditing&&(e.preventDefault(),e.returnValue="")})},beforeUnmount(){window.removeEventListener("beforeunload",this.preventNav)},beforeRouteLeave(e,t,n){this.isEditing&&!window.confirm("Leave without saving?")||n()},data(){return{days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["Staffed","Unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,editedIndex:-1,editTabs:1,editedItem:{},defaultItem:{Local_authority:"",Library_name:"",Address_1:"",Address_2:"",Address_3:"",Postcode:"",Unique_property_reference_number:"",Statutory:"",Type_of_library:"LAL",Year_opened:"",Year_closed:"",Monday_staffed_hours:"",Tuesday_staffed_hours:"",Wednesday_staffed_hours:"",Thursday_staffed_hours:"",Friday_staffed_hours:"",Saturday_staffed_hours:"",Sunday_staffed_hours:"",Monday_unstaffed_hours:"",Tuesday_unstaffed_hours:"",Wednesday_unstaffed_hours:"",Thursday_unstaffed_hours:"",Friday_unstaffed_hours:"",Saturday_unstaffed_hours:"",Sunday_unstaffed_hours:"",Special_hours:"",Colocated:"",Colocated_with:"",Notes:"",URL:"",Email_address:""},errorDialog:!1,headers:[{title:"Name",align:"start",key:"Library_name"},{title:"Closed",key:"Year_closed"},{title:"Address 1",align:"start",key:"Address_1"},{title:"Postcode",key:"Postcode"},{title:"Actions",key:"actions",sortable:!1}],isEditing:!1,libraries:[],libraryTypes:jwe,loadingServiceData:!1,mdText:eCe,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,selectedService:null,successDialog:!1}},methods:{addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},close(){this.dialogMainLibrary=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem.Local_authority=this.selectedService.name,this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){const e=this.editedItem[this.openingHoursEditKey].split(",").filter(t=>t.length>0);e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1,this.openingHoursOpen=null,this.openingHoursClose=null},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.isEditing=!0,this.libraries.splice(this.editedIndex,1),this.closeDelete()},download(){const e=this.selectedService;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){const n=new Blob([Gg.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,e);else{const r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},loadLibraries:async function(e){if(this.selectedService=e,this.libraries=[],!(e!=null&&e.code))return;this.loadingServiceData=!0;const t=this,n=await nCe("libraries",e.code);n.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/\s+/g,"_");delete n[s][u],n[s][o]=h})}),t.libraries=n,this.loadingServiceData=!1},publishChanges:async function(){const e=JSON.parse(JSON.stringify(this.libraries));e.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/_/g," ");delete e[s][u],e[s][o]=h})});const t=new Blob([Gg.unparse(e)],{type:"text/csv;charset=utf-8;"});await rCe("libraries",this.selectedService.code,t,this.$store.state.loginKey)?this.successDialog=!0:this.errorDialog=!0,this.isEditing=!1},preventNav(e){this.isEditing&&(e.preventDefault(),e.returnValue="")},removeOpeningHoursEntry(e,t){const n=this.editedItem[e].split(",").filter(r=>r.length>0);n.splice(n.indexOf(t),1),this.editedItem[e]=n.join(","),this.dialogOpeningHoursEntry=!1},save(){this.isEditing=!0,this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()}},components:{"service-select":Fv}},l2e=rr("h2",{class:"text-h5 text-decoration-underline my-3"}," Edit library locations ",-1),c2e={class:"text-subtitle"},u2e={class:"text-subtitle-2"},d2e={class:"d-flex"},h2e=rr("strong",null,"Publish changes",-1);function f2e(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section"),p=km,y=Fv;return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Edit library locations",subtitle:"View and edit the data held for public library locations"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),T(p,{actions:!0}),l2e,T(cc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:De(()=>[T(al,{icon:"mdi-numeric-1-circle",class:"mb-1",text:"Search for a local authority to view the libraries within that area.",title:"Local authority"}),T(y,{onSelect:t[0]||(t[0]=b=>u.loadLibraries(b))}),T(al,{class:"mt-8 mb-1",icon:"mdi-numeric-2-circle",text:`Select the edit icon for each library to see and edit full details.
        Changes are not saved until the next step.`,title:"Make changes"}),T(Za,{color:"grey-lighten-2",variant:"outlined",elevation:"0"},{default:De(()=>[T(VP,{hover:"","items-per-page":"5","no-filter":"","no-data-text":"To load library data ensure you select a local authority in Step 1.",headers:s.headers,items:s.libraries,"sort-by":[{key:"Library_name",order:"asc"}],class:"elevation-0"},{top:De(()=>[T(n0,{flat:"",color:"grey-lighten-5"},{default:De(()=>[T(js),T(md,{persistent:"",modelValue:s.dialogMainLibrary,"onUpdate:modelValue":t[16]||(t[16]=b=>s.dialogMainLibrary=b),"max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},{activator:De(({props:b})=>[T(Kt,it({disabled:s.selectedService===null},b,{variant:"tonal",color:"success","prepend-icon":"mdi-plus-circle"}),{default:De(()=>[zt(" Add library ")]),_:2},1040,["disabled"])]),default:De(()=>[T(Za,null,{default:De(()=>[T(Dr,null,{default:De(()=>[T(t2e,{"align-tabs":"center",modelValue:s.editTabs,"onUpdate:modelValue":t[1]||(t[1]=b=>s.editTabs=b)},{default:De(()=>[T(pg,{value:1},{default:De(()=>[zt("Details")]),_:1}),T(pg,{value:2},{default:De(()=>[zt("Address")]),_:1}),T(pg,{value:3},{default:De(()=>[zt("Hours")]),_:1})]),_:1},8,["modelValue"]),T(Gf,{modelValue:s.editTabs,"onUpdate:modelValue":t[15]||(t[15]=b=>s.editTabs=b)},{default:De(()=>[(fn(),Vn(ru,{key:1,value:1},{default:De(()=>[T(Dr,null,{default:De(()=>[T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12"},{default:De(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.editedItem.Library_name,"onUpdate:modelValue":t[2]||(t[2]=b=>s.editedItem.Library_name=b),label:"Name"},null,8,["modelValue"])]),_:1})]),_:1}),T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"8",md:"8"},{default:De(()=>[T(Ld,{modelValue:s.editedItem.Type_of_library,"onUpdate:modelValue":t[3]||(t[3]=b=>s.editedItem.Type_of_library=b),items:s.libraryTypes,variant:"outlined",density:"compact","item-title":"text","item-value":"value",label:"Type"},null,8,["modelValue","items"])]),_:1}),T(aa,{cols:"12",sm:"4",md:"4"},{default:De(()=>[T(Ld,{variant:"outlined",density:"compact",modelValue:s.editedItem.Statutory,"onUpdate:modelValue":t[4]||(t[4]=b=>s.editedItem.Statutory=b),"menu-props":{zIndex:1e4},items:["Yes","No"],label:"Statutory"},null,8,["modelValue"])]),_:1})]),_:1}),T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_opened,"onUpdate:modelValue":t[5]||(t[5]=b=>s.editedItem.Year_opened=b),label:"Year opened",type:"number"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_closed,"onUpdate:modelValue":t[6]||(t[6]=b=>s.editedItem.Year_closed=b),label:"Year closed",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Email_address,"onUpdate:modelValue":t[7]||(t[7]=b=>s.editedItem.Email_address=b),label:"Email address"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.URL,"onUpdate:modelValue":t[8]||(t[8]=b=>s.editedItem.URL=b),label:"Website"},null,8,["modelValue"])]),_:1})]),_:1}),T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"12",md:"12"},{default:De(()=>[T(r2e,{rows:"2",density:"compact",variant:"outlined",modelValue:s.editedItem.Notes,"onUpdate:modelValue":t[9]||(t[9]=b=>s.editedItem.Notes=b),label:"Notes",clearable:"","persistent-clear":"","full-width":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(fn(),Vn(ru,{key:2,value:2},{default:De(()=>[T(Dr,null,{default:De(()=>[T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_1,"onUpdate:modelValue":t[10]||(t[10]=b=>s.editedItem.Address_1=b),label:"Address 1"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_2,"onUpdate:modelValue":t[11]||(t[11]=b=>s.editedItem.Address_2=b),label:"Address 2"},null,8,["modelValue"])]),_:1})]),_:1}),T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_3,"onUpdate:modelValue":t[12]||(t[12]=b=>s.editedItem.Address_3=b),label:"Address 3"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Postcode,"onUpdate:modelValue":t[13]||(t[13]=b=>s.editedItem.Postcode=b),label:"Postcode"},null,8,["modelValue"])]),_:1})]),_:1}),T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"12",md:"12"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Unique_property_reference_number,"onUpdate:modelValue":t[14]||(t[14]=b=>s.editedItem.Unique_property_reference_number=b),label:"Unique property reference number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(fn(),Vn(ru,{key:3,value:3},{default:De(()=>[T(Dr,null,{default:De(()=>[T(Us,{dense:""},{default:De(()=>[(fn(!0),ys(Ht,null,ag(s.openingHourTypes,b=>(fn(),Vn(aa,{cols:"12",sm:"6",md:"6",key:b},{default:De(()=>[rr("h4",c2e,Zs(b),1),(fn(!0),ys(Ht,null,ag(s.days,C=>(fn(),ys("div",{key:C,class:"my-1"},[T(gr,{class:"my-1"}),rr("div",u2e,[T(Kt,{variant:"tonal",icon:"mdi-plus-circle",size:"x-small",color:"success",onClick:k=>u.addOpeningHoursEntry(C+"_"+b.toLowerCase()+"_hours")},null,8,["onClick"]),zt(" "+Zs(C),1)]),(fn(!0),ys(Ht,null,ag(s.editedItem[C+"_"+b.toLowerCase()+"_hours"]?s.editedItem[C+"_"+b.toLowerCase()+"_hours"].split(","):"",k=>(fn(),Vn(hl,{class:"ma-1",size:"small",key:k,label:"",closable:"","close-icon":"mdi-delete",color:"success","onClick:close":I=>u.removeOpeningHoursEntry(C+"_"+b.toLowerCase()+"_hours",k)},{default:De(()=>[zt(Zs(k),1)]),_:2},1032,["onClick:close"]))),128))]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["modelValue"])]),_:1}),T(tc,null,{default:De(()=>[T(js),T(Kt,{variant:"plain",onClick:u.close,"append-icon":"mdi-close-circle"},{default:De(()=>[zt(" Cancel ")]),_:1},8,["onClick"]),T(Kt,{variant:"tonal",color:"success",onClick:u.save,"append-icon":"mdi-check-circle"},{default:De(()=>[zt(" Ok ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(md,{persistent:"","overlay-opacity":"0.1","content-class":"elevation-0",modelValue:s.dialogDelete,"onUpdate:modelValue":t[17]||(t[17]=b=>s.dialogDelete=b),"max-width":"500px"},{default:De(()=>[T(Za,null,{default:De(()=>[T(Xc,null,{default:De(()=>[zt("Remove library?")]),_:1}),T(To,null,{default:De(()=>[zt(" This action will remove the library. If the library has closed it should not be removed. The closed year can be entered in the library details to mark it as closed and retain the details. ")]),_:1}),T(tc,null,{default:De(()=>[T(js),T(Kt,{variant:"plain",onClick:u.closeDelete,"append-icon":"mdi-close-circle"},{default:De(()=>[zt(" Cancel ")]),_:1},8,["onClick"]),T(Kt,{variant:"tonal",color:"warning",onClick:u.deleteItemConfirm,"append-icon":"mdi-delete"},{default:De(()=>[zt(" Remove ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(md,{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0",modelValue:s.dialogOpeningHoursEntry,"onUpdate:modelValue":t[20]||(t[20]=b=>s.dialogOpeningHoursEntry=b),"max-width":"500px"},{default:De(()=>[T(Za,null,{default:De(()=>[T(Xc,null,{default:De(()=>[zt("Add opening hours")]),_:1}),T(To,null,{default:De(()=>[T(Us,{dense:""},{default:De(()=>[T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.openingHoursOpen,"onUpdate:modelValue":t[18]||(t[18]=b=>s.openingHoursOpen=b),label:"Opening time",type:"time"},null,8,["modelValue"])]),_:1}),T(aa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.openingHoursClose,"onUpdate:modelValue":t[19]||(t[19]=b=>s.openingHoursClose=b),label:"Closing time",type:"time"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),T(tc,null,{default:De(()=>[T(js),T(Kt,{variant:"plain",onClick:u.closeOpeningHoursEntry,"append-icon":"mdi-close-circle"},{default:De(()=>[zt("Cancel")]),_:1},8,["onClick"]),T(Kt,{variant:"tonal",color:"success",onClick:u.confirmOpeningHoursEntry,disabled:!s.openingHoursOpen||!s.openingHoursClose,"append-icon":"mdi-check-circle"},{default:De(()=>[zt("Ok")]),_:1},8,["onClick","disabled"]),T(js)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":De(({item:b})=>[rr("div",d2e,[T(nr,{class:"mr-2",onClick:C=>u.editItem(b)},{default:De(()=>[zt(" mdi-pencil ")]),_:2},1032,["onClick"]),T(nr,{onClick:C=>u.deleteItem(b)},{default:De(()=>[zt("mdi-delete")]),_:2},1032,["onClick"])])]),_:2},1032,["headers","items"])]),_:1}),T(al,{class:"mt-8",icon:"mdi-numeric-3-circle",title:"Save changes"},{default:De(()=>[zt(" If you are logged in with access to edit the library data, you can update the data by selecting "),h2e,zt(". You can also save a copy of the data to your computer. ")]),_:1}),T(Kt,{disabled:!s.isEditing,size:"large",variant:"tonal",color:"info","append-icon":"mdi-content-save",onClick:u.download},{default:De(()=>[zt(" Save local copy ")]),_:1},8,["disabled","onClick"]),T(Kt,{disabled:!s.isEditing||!this.$store.state.loginKey,size:"large",variant:"tonal",color:"success",class:"ma-2","append-icon":"mdi-cloud-upload",onClick:u.publishChanges},{default:De(()=>[zt(" Publish changes ")]),_:1},8,["disabled","onClick"]),T(md,{modelValue:s.successDialog,"onUpdate:modelValue":t[22]||(t[22]=b=>s.successDialog=b),persistent:"","max-width":"290"},{default:De(()=>[T(Za,null,{default:De(()=>[T(Xc,{class:"text-h5"},{default:De(()=>[zt("Success")]),_:1}),T(To,null,{default:De(()=>[zt("Your changes have been published. Thank you")]),_:1}),T(tc,null,{default:De(()=>[T(js),T(Kt,{color:"secondary",text:"",onClick:t[21]||(t[21]=b=>s.successDialog=!1)},{default:De(()=>[zt(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(md,{modelValue:s.errorDialog,"onUpdate:modelValue":t[24]||(t[24]=b=>s.errorDialog=b),persistent:"","max-width":"290"},{default:De(()=>[T(Za,null,{default:De(()=>[T(Xc,{class:"text-h5"},{default:De(()=>[zt("Sorry")]),_:1}),T(To,null,{default:De(()=>[zt(" Your changes failed to publish - please contact info@librarieshacked.org ")]),_:1}),T(tc,null,{default:De(()=>[T(js),T(Kt,{color:"secondary",text:"",onClick:t[23]||(t[23]=b=>s.errorDialog=!1)},{default:De(()=>[zt(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const m2e=Qr(o2e,[["render",f2e]]),p2e=`A loan is the issuing of an item of stock to a library member. Renewing an item already on loan is counted as an additional loan.

Loans are in a **time-series** format. Data is maintained by adding new data (e.g. the next months loans).
`,g2e={data(){return{mdText:p2e}},methods:{},components:{}},v2e={class:"text-center"};function y2e(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Loans",subtitle:"Lending of library items"}),rr("p",v2e,[T(Kt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/loans",target:"_blank"},{default:De(()=>[zt(" Explore the loans schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const _2e=Qr(g2e,[["render",y2e]]),b2e=`Anyone can browse this site, as well use any of the tools to create and visualise library data.

To publish updates to existing data, you need to login. If your organisation has access you will be able to login using your organisation email address.

Once you've entered a valid email address you will be emailed an access link.
`;async function x2e(e){try{const t=await Nr.post(Uwe,{email:e,website:qwe});if(t&&t.status===200)return!0}catch{return!1}return!1}const w2e=We({...hn(),...P3()},"VForm"),S2e=ht()({name:"VForm",props:w2e(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=D3(e),u=dt();function h(p){p.preventDefault(),s.reset()}function o(p){const y=p,b=s.validate();y.then=b.then.bind(b),y.catch=b.catch.bind(b),y.finally=b.finally.bind(b),r("submit",y),y.defaultPrevented||b.then(C=>{var I;let{valid:k}=C;k&&((I=u.value)==null||I.submit())}),y.preventDefault()}return St(()=>{var p;return T("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:h,onSubmit:o},[(p=n.default)==null?void 0:p.call(n,s)])}),Ro(s,u)}}),k2e={data(){return{mdText:b2e,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.processLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await x2e(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},processLoginKey:function(){const t=pke().query.key;t&&(this.$store.commit("setLoginKey",t),this.$router.push("/profile"))}},components:{}};function C2e(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),rr("section",null,[T(Dr,null,{default:De(()=>[T(Za,{color:"success",variant:"outlined",elevation:"0",loading:s.loading,"max-width":"350",class:"mx-auto"},{progress:De(()=>[T(fv,{height:"5",indeterminate:""})]),default:De(()=>[T(Xc,null,{default:De(()=>[zt("Access the site")]),_:1}),s.success?Kn("",!0):(fn(),Vn(To,{key:0},{default:De(()=>[T(S2e,{ref:"form",modelValue:s.valid,"onUpdate:modelValue":t[1]||(t[1]=p=>s.valid=p)},{default:De(()=>[T(ii,{clearable:"",variant:"outlined",modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=p=>s.email=p),rules:s.emailRules,label:"Enter email address",type:"email","prepend-inner-icon":"mdi-email",required:""},null,8,["modelValue","rules"]),rr("p",null,Zs(s.message),1)]),_:1},8,["modelValue"])]),_:1})),s.success?(fn(),Vn(To,{key:1},{default:De(()=>[zt(" Thank you - you should receive an email shortly. ")]),_:1})):Kn("",!0),s.success?Kn("",!0):(fn(),Vn(tc,{key:2},{default:De(()=>[T(js),T(Kt,{"append-icon":"mdi-email",variant:"tonal",size:"large",color:"success",text:"",onClick:u.login,disabled:!s.valid},{default:De(()=>[zt(" Log in ")]),_:1},8,["onClick","disabled"])]),_:1}))]),_:1},8,["loading"])]),_:1})])]),_:1})}const T2e=Qr(k2e,[["render",C2e]]),A2e=`A library member is any member of the public registered with the library service.

Membership data is a **snapshot**. This means that each update to the data is a fresh export, representing the membership at that point in time.
`,E2e={data(){return{mdText:A2e}},methods:{},components:{}},I2e={class:"text-center"};function P2e(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}),rr("p",I2e,[T(Kt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/membership",target:"_blank"},{default:De(()=>[zt(" Explore the membership schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const D2e=Qr(E2e,[["render",P2e]]),M2e=We({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...vm({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Wr(e).every(t=>t!=null&&typeof t=="object")},...yv({clearable:!0})},"VFileInput"),L2e=ht()({name:"VFileInput",inheritAttrs:!1,props:M2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=li(),h=dn(e,"modelValue",e.modelValue,j=>Wr(j),j=>e.multiple||Array.isArray(e.modelValue)?j:j[0]??null),{isFocused:o,focus:p,blur:y}=gm(e),b=Y(()=>typeof e.showSize!="boolean"?e.showSize:void 0),C=Y(()=>(h.value??[]).reduce((j,Z)=>{let{size:le=0}=Z;return j+le},0)),k=Y(()=>ZS(C.value,b.value)),I=Y(()=>(h.value??[]).map(j=>{const{name:Z="",size:le=0}=j;return e.showSize?`${Z} (${ZS(le,b.value)})`:Z})),R=Y(()=>{var Z;const j=((Z=h.value)==null?void 0:Z.length)??0;return e.showSize?u(e.counterSizeString,j,k.value):u(e.counterString,j)}),L=dt(),F=dt(),B=dt(),q=Y(()=>o.value||e.active),K=Y(()=>["plain","underlined"].includes(e.variant));function se(){var j;B.value!==document.activeElement&&((j=B.value)==null||j.focus()),o.value||p()}function Q(j){var Z;(Z=B.value)==null||Z.click()}function ee(j){r("mousedown:control",j)}function re(j){var Z;(Z=B.value)==null||Z.click(),r("click:control",j)}function H(j){j.stopPropagation(),se(),Hn(()=>{h.value=[],q0(e["onClick:clear"],j)})}return ot(h,j=>{(!Array.isArray(j)||!j.length)&&B.value&&(B.value.value="")}),St(()=>{const j=!!(s.counter||e.counter),Z=!!(j||s.details),[le,ne]=om(n),{modelValue:ve,...fe}=uc.filterProps(e),Ie=gx(e);return T(uc,it({ref:L,modelValue:h.value,"onUpdate:modelValue":Ae=>h.value=Ae,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":K.value},e.class],style:e.style,"onClick:prepend":Q},le,fe,{centerAffix:!K.value,focused:o.value}),{...s,default:Ae=>{let{id:qe,isDisabled:ke,isDirty:Le,isReadonly:Ve,isValid:Je}=Ae;return T(_v,it({ref:F,"prepend-icon":e.prependIcon,onMousedown:ee,onClick:re,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Ie,{id:qe.value,active:q.value||Le.value,dirty:Le.value||e.dirty,disabled:ke.value,focused:o.value,error:Je.value===!1}),{...s,default:Ue=>{var mt;let{props:{class:ct,...Lt}}=Ue;return T(Ht,null,[T("input",it({ref:B,type:"file",readonly:Ve.value,disabled:ke.value,multiple:e.multiple,name:e.name,onClick:Tt=>{Tt.stopPropagation(),Ve.value&&Tt.preventDefault(),se()},onChange:Tt=>{if(!Tt.target)return;const Ne=Tt.target;h.value=[...Ne.files??[]]},onFocus:se,onBlur:y},Lt,ne),null),T("div",{class:ct},[!!((mt=h.value)!=null&&mt.length)&&!e.hideInput&&(s.selection?s.selection({fileNames:I.value,totalBytes:C.value,totalBytesReadable:k.value}):e.chips?I.value.map(Tt=>T(hl,{key:Tt,size:"small",text:Tt},null)):I.value.join(", "))])])}})},details:Z?Ae=>{var qe,ke;return T(Ht,null,[(qe=s.details)==null?void 0:qe.call(s,Ae),j&&T(Ht,null,[T("span",null,null),T(fx,{active:!!((ke=h.value)!=null&&ke.length),value:R.value,disabled:e.disabled},s.counter)])])}:void 0})}),Ro({},L,F,B)}}),R2e={props:["files"],methods:{updateSelection(e){this.$emit("change-files",e)}}};function O2e(e,t,n,r,s,u){return fn(),Vn(Za,{elevation:"0",color:"grey-lighten-5",class:"pt-4"},{default:De(()=>[T(L2e,{chips:"",accept:"text/csv",variant:"solo-filled",flat:"",multiple:"",label:"Select a file on your computer","model-value":n.files,"onUpdate:modelValue":t[0]||(t[0]=h=>u.updateSelection(h)),hint:"Only files with an extension of .csv will be displayed","persistent-hint":"","persistent-clear":"","prepend-icon":"","prepend-inner-icon":"mdi-file-document-outline"},null,8,["model-value"])]),_:1})}const Vv=Qr(R2e,[["render",O2e]]),F2e=`This tool displays library membership on a map to help explore areas of low or high membership, alongside other data such as the socioeconomic deprivation of areas.

To use this tool you will need library membership data in the [membership data schema format](https://schema.librarydata.uk/membership). This can be created using the [postcode to statistical area converter](/postcode-to-lsoa).
`,z2e=e=>/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e);String.prototype.isUrl=z2e;var $s={schemeGroups:{sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};function $P(e,t,n){if(e!==null)for(var r,s,u,h,o,p,y,b=0,C=0,k,I=e.type,R=I==="FeatureCollection",L=I==="Feature",F=R?e.features.length:1,B=0;B<F;B++){y=R?e.features[B].geometry:L?e.geometry:e,k=y?y.type==="GeometryCollection":!1,o=k?y.geometries.length:1;for(var q=0;q<o;q++){var K=0,se=0;if(h=k?y.geometries[q]:y,h!==null){p=h.coordinates;var Q=h.type;switch(b=0,Q){case null:break;case"Point":if(t(p,C,B,K,se)===!1)return!1;C++,K++;break;case"LineString":case"MultiPoint":for(r=0;r<p.length;r++){if(t(p[r],C,B,K,se)===!1)return!1;C++,Q==="MultiPoint"&&K++}Q==="LineString"&&K++;break;case"Polygon":case"MultiLineString":for(r=0;r<p.length;r++){for(s=0;s<p[r].length-b;s++){if(t(p[r][s],C,B,K,se)===!1)return!1;C++}Q==="MultiLineString"&&K++,Q==="Polygon"&&se++}Q==="Polygon"&&K++;break;case"MultiPolygon":for(r=0;r<p.length;r++){for(se=0,s=0;s<p[r].length;s++){for(u=0;u<p[r][s].length-b;u++){if(t(p[r][s][u],C,B,K,se)===!1)return!1;C++}se++}K++}break;case"GeometryCollection":for(r=0;r<h.geometries.length;r++)if($P(h.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function r0(e){var t=[1/0,1/0,-1/0,-1/0];return $P(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}r0.default=r0;const B2e=We({...Tx({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),_2=ht()({name:"VRadio",props:B2e(),setup(e,t){let{slots:n}=t;return St(()=>T(Ng,it(e,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)),{}}}),V2e=We({height:{type:[Number,String],default:"auto"},...vm(),...Lr(Cx(),["multiple"]),trueIcon:{type:Ln,default:"$radioOn"},falseIcon:{type:Ln,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),N2e=ht()({name:"VRadioGroup",inheritAttrs:!1,props:V2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=Ts(),u=Y(()=>e.id||`radio-group-${s}`),h=dn(e,"modelValue");return St(()=>{const[o,p]=om(n),y=uc.filterProps(e),b=Ng.filterProps(e),C=r.label?r.label({label:e.label,props:{for:u.value}}):e.label;return T(uc,it({class:["v-radio-group",e.class],style:e.style},o,y,{modelValue:h.value,"onUpdate:modelValue":k=>h.value=k,id:u.value}),{...r,default:k=>{let{id:I,messagesId:R,isDisabled:L,isReadonly:F}=k;return T(Ht,null,[C&&T(mx,{id:I.value},{default:()=>[C]}),T(N4,it(b,{id:I.value,"aria-describedby":R.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:L.value,readonly:F.value,"aria-labelledby":C?I.value:void 0,multiple:!1},p,{modelValue:h.value,"onUpdate:modelValue":B=>h.value=B}),r)])}})}),{}}}),$2e={data(){return{authoritySource:{data:{type:"FeatureCollection",features:[]},show:!1},authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},center:[-2,52],zoom:7,librariesSource:{tiles:[$we]},librariesLayerCircle:{filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoaFiles:[],lsoasSource:{tiles:[Nwe],promoteId:{lsoa_boundaries:"code"},show:!1},lsoasLayerFill:{paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},lsoasLayerLabel:{minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Source Sans Pro SemiBold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}},matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",matchFilter:["in",["get","code"],["literal",[]]],mapDisplay:"populationPercentage",mapStyle:"https://zoomstack.librarydata.uk/light.json",minZoom:5,maxZoom:16,matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],mdText:F2e}},methods:{addMembershipData:async function(){const e=this;if(e.lsoaFiles[0].name){const t=await Wx(e.lsoaFiles[0],!1);this.setLsoaFields(t.slice(1));const n=await Hwe(t[1][0]),r=JSON.parse(n.geojson);this.authoritySource.data=r,this.authoritySource.show=!0;const s=r0(r);this.$refs.mglMap.map.fitBounds(s,{padding:10})}},setDisplayOptions:function(){this.mapDisplay==="populationPercentage"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaPopulation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaPopulation)),this.mapDisplay==="imd"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaDeprivation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaDeprivation))},setLsoaFields:function(e){const t=[],n=["match",["get","code"]],r=["match",["get","code"]];e.forEach(C=>{const k=parseInt(C[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoas",sourceLayer:"lsoa_boundaries",id:C[2]},{members:k}),t.push(C[2]),n.push(C[2]),n.push(["concat",["to-string",["round",["*",["/",k,["to-number",["get","population"]]],100]]],"%"]),r.push(C[2]),r.push(["get","imd"])}),n.push(""),r.push("");const s=Math.floor(Math.min(...e.map(C=>parseInt(C[3].replace("x","2"))/1800*100))),u=Math.ceil(Math.max(...e.filter(C=>C[3]<=1200).map(C=>parseInt(C[3].replace("x","2"))/1500*100))),o=[1,2,3,4,5,6,7,8,9].map(C=>Math.round(s+(u-s)*(C/10))).map((C,k)=>[C,$s.OrRd[9][k]]),p=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],...o.flat()],y=["interpolate",["linear"],["to-number",["get","imd"]],1,$s.OrRd[9][8],2,$s.OrRd[9][7],3,$s.OrRd[9][6],4,$s.OrRd[9][5],5,$s.OrRd[9][4],6,$s.OrRd[9][3],7,$s.OrRd[9][2],8,$s.OrRd[9][1],9,$s.OrRd[9][0],10,$s.OrRd[9][0]],b=["in",["get","code"],["literal",t]];this.matchFilter=b,this.$refs.mglMap.map.setFilter("lsoas_layer_fill",b),this.$refs.mglMap.map.setFilter("lsoas_layer_label",b),this.matchFieldLsoaPopulation=n,this.matchFieldLsoaDeprivation=r,this.matchColourLsoaPopulation=p,this.matchColourLsoaDeprivation=y,this.setDisplayOptions()}},components:{"file-upload":Vv}},U2e=rr("h2",{class:"text-h5 text-decoration-underline my-3"},"Map library members",-1),q2e=rr("strong",null,"Percentage membership",-1),j2e=rr("strong",null,"Displaying deprivation",-1);function H2e(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section"),p=Vv,y=Sn("mgl-fullscreen-control"),b=Sn("mgl-navigation-control"),C=Sn("mgl-scale-control"),k=Sn("mgl-circle-layer"),I=Sn("mgl-vector-source"),R=Sn("mgl-fill-layer"),L=Sn("mgl-symbol-layer"),F=Sn("mgl-line-layer"),B=Sn("mgl-geo-json-source"),q=Sn("mgl-map");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Membership map",subtitle:"Insights from library membership data"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),U2e,T(cc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:De(()=>[T(al,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:De(()=>[zt(" This tool loads CSV files in the format of the membership data schema. ")]),_:1}),T(p,{files:s.lsoaFiles,onChangeFiles:t[0]||(t[0]=K=>s.lsoaFiles=K),onDeleteFile:t[1]||(t[1]=K=>s.lsoaFiles=null)},null,8,["files"]),T(Kt,{"append-icon":"mdi-map-marker-plus",color:"info",class:"mt-3",variant:"tonal",size:"large",onClick:u.addMembershipData,disabled:s.lsoaFiles.length==0},{default:De(()=>[zt(" Display on map ")]),_:1},8,["onClick","disabled"]),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Map"},{default:De(()=>[q2e,zt(" shades the map to highlight concentration of membership. When zooming in this also displays the membership population percentage for individual areas. "),j2e,zt(" shades the map to highlight highly deprived areas. This uses the index of multiple deprivation for each area. 1 represents highly deprived areas and is shaded in red, 10 the least deprived. ")]),_:1}),T(N2e,{modelValue:s.mapDisplay,"onUpdate:modelValue":t[2]||(t[2]=K=>s.mapDisplay=K),onChange:u.setDisplayOptions,inline:""},{default:De(()=>[T(_2,{label:"Highlight percentage membership",value:"populationPercentage"}),T(_2,{label:"Highlight deprivation levels",value:"imd"})]),_:1},8,["modelValue","onChange"]),T(Dr,{class:"map"},{default:De(()=>[T(q,{ref:"mglMap",center:s.center,zoom:s.zoom,mapStyle:s.mapStyle},{default:De(()=>[T(y),T(b),T(C),T(I,{"source-id":"libraries",tiles:s.librariesSource.tiles},{default:De(()=>[T(k,{"source-layer":"libraries","layer-id":"libraries_layer_circles",paint:s.librariesLayerCircle.paint},null,8,["paint"])]),_:1},8,["tiles"]),T(I,{"source-id":"lsoas",tiles:s.lsoasSource.tiles,promoteId:s.lsoasSource.promoteId},{default:De(()=>[T(R,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_fill",paint:s.lsoasLayerFill.paint,filter:s.matchFilter},null,8,["paint","filter"]),T(L,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_label",paint:s.lsoasLayerLabel.paint,layout:s.lsoasLayerLabel.layout,filter:s.matchFilter,minzoom:s.lsoasLayerLabel.minzoom},null,8,["paint","layout","filter","minzoom"])]),_:1},8,["tiles","promoteId"]),T(B,{"source-id":"authority",data:s.authoritySource.data},{default:De(()=>[s.authoritySource.show?(fn(),Vn(F,{key:0,"layer-id":"authority-line",paint:s.authorityLayerLine.paint},null,8,["paint"])):Kn("",!0),s.authoritySource.show?(fn(),Vn(L,{key:1,"layer-id":"authority-label",layout:s.authorityLayerLabel.layout,paint:s.authorityLayerLabel.paint},null,8,["layout","paint"])):Kn("",!0)]),_:1},8,["data"])]),_:1},8,["center","zoom","mapStyle"])]),_:1})]),_:1})]),_:1})}const G2e=Qr($2e,[["render",H2e]]),W2e=`This tool converts UK postcodes into statistical areas for further analysis. England and Wales store data at the census-based 'lower super output area' geographic level. In Scotland, 'Data Zones' are commonly used, and in Northern Ireland, 'Small Areas'.

All postcodes are stored securely on your own computer, and never published online.
`;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var UP;function jt(){return UP.apply(null,arguments)}function Y2e(e){UP=e}function Js(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function au(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ir(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Kx(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ir(e,t))return!1;return!0}function za(e){return e===void 0}function fl(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Cm(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function qP(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function nc(e,t){for(var n in t)ir(t,n)&&(e[n]=t[n]);return ir(t,"toString")&&(e.toString=t.toString),ir(t,"valueOf")&&(e.valueOf=t.valueOf),e}function zo(e,t,n,r){return hD(e,t,n,r,!0).utc()}function Z2e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function On(e){return e._pf==null&&(e._pf=Z2e()),e._pf}var i0;Array.prototype.some?i0=Array.prototype.some:i0=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Xx(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=On(e),n=i0.call(t.parsedDateParts,function(s){return s!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Nv(e){var t=zo(NaN);return e!=null?nc(On(t),e):On(t).userInvalidated=!0,t}var b2=jt.momentProperties=[],Z_=!1;function Jx(e,t){var n,r,s,u=b2.length;if(za(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),za(t._i)||(e._i=t._i),za(t._f)||(e._f=t._f),za(t._l)||(e._l=t._l),za(t._strict)||(e._strict=t._strict),za(t._tzm)||(e._tzm=t._tzm),za(t._isUTC)||(e._isUTC=t._isUTC),za(t._offset)||(e._offset=t._offset),za(t._pf)||(e._pf=On(t)),za(t._locale)||(e._locale=t._locale),u>0)for(n=0;n<u;n++)r=b2[n],s=t[r],za(s)||(e[r]=s);return e}function Tm(e){Jx(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Z_===!1&&(Z_=!0,jt.updateOffset(this),Z_=!1)}function Qs(e){return e instanceof Tm||e!=null&&e._isAMomentObject!=null}function jP(e){jt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Es(e,t){var n=!0;return nc(function(){if(jt.deprecationHandler!=null&&jt.deprecationHandler(null,e),n){var r=[],s,u,h,o=arguments.length;for(u=0;u<o;u++){if(s="",typeof arguments[u]=="object"){s+=`
[`+u+"] ";for(h in arguments[0])ir(arguments[0],h)&&(s+=h+": "+arguments[0][h]+", ");s=s.slice(0,-2)}else s=arguments[u];r.push(s)}jP(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var x2={};function HP(e,t){jt.deprecationHandler!=null&&jt.deprecationHandler(e,t),x2[e]||(jP(t),x2[e]=!0)}jt.suppressDeprecationWarnings=!1;jt.deprecationHandler=null;function Bo(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function K2e(e){var t,n;for(n in e)ir(e,n)&&(t=e[n],Bo(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function a0(e,t){var n=nc({},e),r;for(r in t)ir(t,r)&&(au(e[r])&&au(t[r])?(n[r]={},nc(n[r],e[r]),nc(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ir(e,r)&&!ir(t,r)&&au(e[r])&&(n[r]=nc({},n[r]));return n}function Qx(e){e!=null&&this.set(e)}var s0;Object.keys?s0=Object.keys:s0=function(e){var t,n=[];for(t in e)ir(e,t)&&n.push(t);return n};var X2e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function J2e(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Bo(r)?r.call(t,n):r}function Io(e,t,n){var r=""+Math.abs(e),s=t-r.length,u=e>=0;return(u?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var e1=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,eg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,K_={},Sd={};function cn(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(Sd[e]=s),t&&(Sd[t[0]]=function(){return Io(s.apply(this,arguments),t[1],t[2])}),n&&(Sd[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function Q2e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function eTe(e){var t=e.match(e1),n,r;for(n=0,r=t.length;n<r;n++)Sd[t[n]]?t[n]=Sd[t[n]]:t[n]=Q2e(t[n]);return function(s){var u="",h;for(h=0;h<r;h++)u+=Bo(t[h])?t[h].call(s,e):t[h];return u}}function gg(e,t){return e.isValid()?(t=GP(t,e.localeData()),K_[t]=K_[t]||eTe(t),K_[t](e)):e.localeData().invalidDate()}function GP(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(eg.lastIndex=0;n>=0&&eg.test(e);)e=e.replace(eg,r),eg.lastIndex=0,n-=1;return e}var tTe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nTe(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(e1).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var rTe="Invalid date";function iTe(){return this._invalidDate}var aTe="%d",sTe=/\d{1,2}/;function oTe(e){return this._ordinal.replace("%d",e)}var lTe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function cTe(e,t,n,r){var s=this._relativeTime[n];return Bo(s)?s(e,t,n,r):s.replace(/%d/i,e)}function uTe(e,t){var n=this._relativeTime[e>0?"future":"past"];return Bo(n)?n(t):n.replace(/%s/i,t)}var w2={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Is(e){return typeof e=="string"?w2[e]||w2[e.toLowerCase()]:void 0}function t1(e){var t={},n,r;for(r in e)ir(e,r)&&(n=Is(r),n&&(t[n]=e[r]));return t}var dTe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function hTe(e){var t=[],n;for(n in e)ir(e,n)&&t.push({unit:n,priority:dTe[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}var WP=/\d/,as=/\d\d/,YP=/\d{3}/,n1=/\d{4}/,$v=/[+-]?\d{6}/,Ur=/\d\d?/,ZP=/\d\d\d\d?/,KP=/\d\d\d\d\d\d?/,Uv=/\d{1,3}/,r1=/\d{1,4}/,qv=/[+-]?\d{1,6}/,Zd=/\d+/,jv=/[+-]?\d+/,fTe=/Z|[+-]\d\d:?\d\d/gi,Hv=/Z|[+-]\d\d(?::?\d\d)?/gi,mTe=/[+-]?\d+(\.\d{1,3})?/,Am=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Kd=/^[1-9]\d?/,i1=/^([1-9]\d|\d)/,Yg;Yg={};function en(e,t,n){Yg[e]=Bo(t)?t:function(r,s){return r&&n?n:t}}function pTe(e,t){return ir(Yg,e)?Yg[e](t._strict,t._locale):new RegExp(gTe(e))}function gTe(e){return cl(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,u){return n||r||s||u}))}function cl(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function gs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function qn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=gs(t)),n}var o0={};function Sr(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),fl(t)&&(r=function(u,h){h[t]=qn(u)}),s=e.length,n=0;n<s;n++)o0[e[n]]=r}function Em(e,t){Sr(e,function(n,r,s,u){s._w=s._w||{},t(n,s._w,s,u)})}function vTe(e,t,n){t!=null&&ir(o0,e)&&o0[e](t,n._a,n,e)}function Gv(e){return e%4===0&&e%100!==0||e%400===0}var ca=0,sl=1,wo=2,Ii=3,Ys=4,ol=5,Jc=6,yTe=7,_Te=8;cn("Y",0,0,function(){var e=this.year();return e<=9999?Io(e,4):"+"+e});cn(0,["YY",2],0,function(){return this.year()%100});cn(0,["YYYY",4],0,"year");cn(0,["YYYYY",5],0,"year");cn(0,["YYYYYY",6,!0],0,"year");en("Y",jv);en("YY",Ur,as);en("YYYY",r1,n1);en("YYYYY",qv,$v);en("YYYYYY",qv,$v);Sr(["YYYYY","YYYYYY"],ca);Sr("YYYY",function(e,t){t[ca]=e.length===2?jt.parseTwoDigitYear(e):qn(e)});Sr("YY",function(e,t){t[ca]=jt.parseTwoDigitYear(e)});Sr("Y",function(e,t){t[ca]=parseInt(e,10)});function kf(e){return Gv(e)?366:365}jt.parseTwoDigitYear=function(e){return qn(e)+(qn(e)>68?1900:2e3)};var XP=Xd("FullYear",!0);function bTe(){return Gv(this.year())}function Xd(e,t){return function(n){return n!=null?(JP(this,e,n),jt.updateOffset(this,t),this):Qf(this,e)}}function Qf(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function JP(e,t,n){var r,s,u,h,o;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}u=n,h=e.month(),o=e.date(),o=o===29&&h===1&&!Gv(u)?28:o,s?r.setUTCFullYear(u,h,o):r.setFullYear(u,h,o)}}function xTe(e){return e=Is(e),Bo(this[e])?this[e]():this}function wTe(e,t){if(typeof e=="object"){e=t1(e);var n=hTe(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=Is(e),Bo(this[e]))return this[e](t);return this}function STe(e,t){return(e%t+t)%t}var vi;Array.prototype.indexOf?vi=Array.prototype.indexOf:vi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function a1(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=STe(t,12);return e+=(t-n)/12,n===1?Gv(e)?29:28:31-n%7%2}cn("M",["MM",2],"Mo",function(){return this.month()+1});cn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});cn("MMMM",0,0,function(e){return this.localeData().months(this,e)});en("M",Ur,Kd);en("MM",Ur,as);en("MMM",function(e,t){return t.monthsShortRegex(e)});en("MMMM",function(e,t){return t.monthsRegex(e)});Sr(["M","MM"],function(e,t){t[sl]=qn(e)-1});Sr(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[sl]=s:On(n).invalidMonth=e});var kTe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),QP="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),eD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,CTe=Am,TTe=Am;function ATe(e,t){return e?Js(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||eD).test(t)?"format":"standalone"][e.month()]:Js(this._months)?this._months:this._months.standalone}function ETe(e,t){return e?Js(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[eD.test(t)?"format":"standalone"][e.month()]:Js(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ITe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)u=zo([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(u,"").toLocaleLowerCase();return n?t==="MMM"?(s=vi.call(this._shortMonthsParse,h),s!==-1?s:null):(s=vi.call(this._longMonthsParse,h),s!==-1?s:null):t==="MMM"?(s=vi.call(this._shortMonthsParse,h),s!==-1?s:(s=vi.call(this._longMonthsParse,h),s!==-1?s:null)):(s=vi.call(this._longMonthsParse,h),s!==-1?s:(s=vi.call(this._shortMonthsParse,h),s!==-1?s:null))}function PTe(e,t,n){var r,s,u;if(this._monthsParseExact)return ITe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=zo([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(u="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function tD(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=qn(t);else if(t=e.localeData().monthsParse(t),!fl(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,a1(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function nD(e){return e!=null?(tD(this,e),jt.updateOffset(this,!0),this):Qf(this,"Month")}function DTe(){return a1(this.year(),this.month())}function MTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||rD.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ir(this,"_monthsShortRegex")||(this._monthsShortRegex=CTe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function LTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||rD.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ir(this,"_monthsRegex")||(this._monthsRegex=TTe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function rD(){function e(p,y){return y.length-p.length}var t=[],n=[],r=[],s,u,h,o;for(s=0;s<12;s++)u=zo([2e3,s]),h=cl(this.monthsShort(u,"")),o=cl(this.months(u,"")),t.push(h),n.push(o),r.push(o),r.push(h);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function RTe(e,t,n,r,s,u,h){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,s,u,h),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,s,u,h),o}function em(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Zg(e,t,n){var r=7+t-n,s=(7+em(e,0,r).getUTCDay()-t)%7;return-s+r-1}function iD(e,t,n,r,s){var u=(7+n-r)%7,h=Zg(e,r,s),o=1+7*(t-1)+u+h,p,y;return o<=0?(p=e-1,y=kf(p)+o):o>kf(e)?(p=e+1,y=o-kf(e)):(p=e,y=o),{year:p,dayOfYear:y}}function tm(e,t,n){var r=Zg(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,u,h;return s<1?(h=e.year()-1,u=s+ul(h,t,n)):s>ul(e.year(),t,n)?(u=s-ul(e.year(),t,n),h=e.year()+1):(h=e.year(),u=s),{week:u,year:h}}function ul(e,t,n){var r=Zg(e,t,n),s=Zg(e+1,t,n);return(kf(e)-r+s)/7}cn("w",["ww",2],"wo","week");cn("W",["WW",2],"Wo","isoWeek");en("w",Ur,Kd);en("ww",Ur,as);en("W",Ur,Kd);en("WW",Ur,as);Em(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=qn(e)});function OTe(e){return tm(e,this._week.dow,this._week.doy).week}var FTe={dow:0,doy:6};function zTe(){return this._week.dow}function BTe(){return this._week.doy}function VTe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function NTe(e){var t=tm(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}cn("d",0,"do","day");cn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});cn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});cn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});cn("e",0,0,"weekday");cn("E",0,0,"isoWeekday");en("d",Ur);en("e",Ur);en("E",Ur);en("dd",function(e,t){return t.weekdaysMinRegex(e)});en("ddd",function(e,t){return t.weekdaysShortRegex(e)});en("dddd",function(e,t){return t.weekdaysRegex(e)});Em(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:On(n).invalidWeekday=e});Em(["d","e","E"],function(e,t,n,r){t[r]=qn(e)});function $Te(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function UTe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function s1(e,t){return e.slice(t,7).concat(e.slice(0,t))}var qTe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),aD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),jTe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),HTe=Am,GTe=Am,WTe=Am;function YTe(e,t){var n=Js(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?s1(n,this._week.dow):e?n[e.day()]:n}function ZTe(e){return e===!0?s1(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function KTe(e){return e===!0?s1(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function XTe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)u=zo([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(u,"").toLocaleLowerCase();return n?t==="dddd"?(s=vi.call(this._weekdaysParse,h),s!==-1?s:null):t==="ddd"?(s=vi.call(this._shortWeekdaysParse,h),s!==-1?s:null):(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null):t==="dddd"?(s=vi.call(this._weekdaysParse,h),s!==-1||(s=vi.call(this._shortWeekdaysParse,h),s!==-1)?s:(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null)):t==="ddd"?(s=vi.call(this._shortWeekdaysParse,h),s!==-1||(s=vi.call(this._weekdaysParse,h),s!==-1)?s:(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null)):(s=vi.call(this._minWeekdaysParse,h),s!==-1||(s=vi.call(this._weekdaysParse,h),s!==-1)?s:(s=vi.call(this._shortWeekdaysParse,h),s!==-1?s:null))}function JTe(e,t,n){var r,s,u;if(this._weekdaysParseExact)return XTe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=zo([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(u="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function QTe(e){if(!this.isValid())return e!=null?this:NaN;var t=Qf(this,"Day");return e!=null?(e=$Te(e,this.localeData()),this.add(e-t,"d")):t}function eAe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function tAe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=UTe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function nAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||o1.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ir(this,"_weekdaysRegex")||(this._weekdaysRegex=HTe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function rAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||o1.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ir(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=GTe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function iAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||o1.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ir(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=WTe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function o1(){function e(b,C){return C.length-b.length}var t=[],n=[],r=[],s=[],u,h,o,p,y;for(u=0;u<7;u++)h=zo([2e3,1]).day(u),o=cl(this.weekdaysMin(h,"")),p=cl(this.weekdaysShort(h,"")),y=cl(this.weekdays(h,"")),t.push(o),n.push(p),r.push(y),s.push(o),s.push(p),s.push(y);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function l1(){return this.hours()%12||12}function aAe(){return this.hours()||24}cn("H",["HH",2],0,"hour");cn("h",["hh",2],0,l1);cn("k",["kk",2],0,aAe);cn("hmm",0,0,function(){return""+l1.apply(this)+Io(this.minutes(),2)});cn("hmmss",0,0,function(){return""+l1.apply(this)+Io(this.minutes(),2)+Io(this.seconds(),2)});cn("Hmm",0,0,function(){return""+this.hours()+Io(this.minutes(),2)});cn("Hmmss",0,0,function(){return""+this.hours()+Io(this.minutes(),2)+Io(this.seconds(),2)});function sD(e,t){cn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}sD("a",!0);sD("A",!1);function oD(e,t){return t._meridiemParse}en("a",oD);en("A",oD);en("H",Ur,i1);en("h",Ur,Kd);en("k",Ur,Kd);en("HH",Ur,as);en("hh",Ur,as);en("kk",Ur,as);en("hmm",ZP);en("hmmss",KP);en("Hmm",ZP);en("Hmmss",KP);Sr(["H","HH"],Ii);Sr(["k","kk"],function(e,t,n){var r=qn(e);t[Ii]=r===24?0:r});Sr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Sr(["h","hh"],function(e,t,n){t[Ii]=qn(e),On(n).bigHour=!0});Sr("hmm",function(e,t,n){var r=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Ys]=qn(e.substr(r)),On(n).bigHour=!0});Sr("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Ys]=qn(e.substr(r,2)),t[ol]=qn(e.substr(s)),On(n).bigHour=!0});Sr("Hmm",function(e,t,n){var r=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Ys]=qn(e.substr(r))});Sr("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ii]=qn(e.substr(0,r)),t[Ys]=qn(e.substr(r,2)),t[ol]=qn(e.substr(s))});function sAe(e){return(e+"").toLowerCase().charAt(0)==="p"}var oAe=/[ap]\.?m?\.?/i,lAe=Xd("Hours",!0);function cAe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var lD={calendar:X2e,longDateFormat:tTe,invalidDate:rTe,ordinal:aTe,dayOfMonthOrdinalParse:sTe,relativeTime:lTe,months:kTe,monthsShort:QP,week:FTe,weekdays:qTe,weekdaysMin:jTe,weekdaysShort:aD,meridiemParse:oAe},Gr={},df={},nm;function uAe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function S2(e){return e&&e.toLowerCase().replace("_","-")}function dAe(e){for(var t=0,n,r,s,u;t<e.length;){for(u=S2(e[t]).split("-"),n=u.length,r=S2(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=Wv(u.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&uAe(u,r)>=n-1)break;n--}t++}return nm}function hAe(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Wv(e){var t=null,n;if(Gr[e]===void 0&&typeof _g<"u"&&_g&&_g.exports&&hAe(e))try{t=nm._abbr,n=require,n("./locale/"+e),sc(t)}catch{Gr[e]=null}return Gr[e]}function sc(e,t){var n;return e&&(za(t)?n=wl(e):n=c1(e,t),n?nm=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nm._abbr}function c1(e,t){if(t!==null){var n,r=lD;if(t.abbr=e,Gr[e]!=null)HP("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Gr[e]._config;else if(t.parentLocale!=null)if(Gr[t.parentLocale]!=null)r=Gr[t.parentLocale]._config;else if(n=Wv(t.parentLocale),n!=null)r=n._config;else return df[t.parentLocale]||(df[t.parentLocale]=[]),df[t.parentLocale].push({name:e,config:t}),null;return Gr[e]=new Qx(a0(r,t)),df[e]&&df[e].forEach(function(s){c1(s.name,s.config)}),sc(e),Gr[e]}else return delete Gr[e],null}function fAe(e,t){if(t!=null){var n,r,s=lD;Gr[e]!=null&&Gr[e].parentLocale!=null?Gr[e].set(a0(Gr[e]._config,t)):(r=Wv(e),r!=null&&(s=r._config),t=a0(s,t),r==null&&(t.abbr=e),n=new Qx(t),n.parentLocale=Gr[e],Gr[e]=n),sc(e)}else Gr[e]!=null&&(Gr[e].parentLocale!=null?(Gr[e]=Gr[e].parentLocale,e===sc()&&sc(e)):Gr[e]!=null&&delete Gr[e]);return Gr[e]}function wl(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nm;if(!Js(e)){if(t=Wv(e),t)return t;e=[e]}return dAe(e)}function mAe(){return s0(Gr)}function u1(e){var t,n=e._a;return n&&On(e).overflow===-2&&(t=n[sl]<0||n[sl]>11?sl:n[wo]<1||n[wo]>a1(n[ca],n[sl])?wo:n[Ii]<0||n[Ii]>24||n[Ii]===24&&(n[Ys]!==0||n[ol]!==0||n[Jc]!==0)?Ii:n[Ys]<0||n[Ys]>59?Ys:n[ol]<0||n[ol]>59?ol:n[Jc]<0||n[Jc]>999?Jc:-1,On(e)._overflowDayOfYear&&(t<ca||t>wo)&&(t=wo),On(e)._overflowWeeks&&t===-1&&(t=yTe),On(e)._overflowWeekday&&t===-1&&(t=_Te),On(e).overflow=t),e}var pAe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gAe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vAe=/Z|[+-]\d\d(?::?\d\d)?/,tg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],X_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yAe=/^\/?Date\((-?\d+)/i,_Ae=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,bAe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function cD(e){var t,n,r=e._i,s=pAe.exec(r)||gAe.exec(r),u,h,o,p,y=tg.length,b=X_.length;if(s){for(On(e).iso=!0,t=0,n=y;t<n;t++)if(tg[t][1].exec(s[1])){h=tg[t][0],u=tg[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(s[3]){for(t=0,n=b;t<n;t++)if(X_[t][1].exec(s[3])){o=(s[2]||" ")+X_[t][0];break}if(o==null){e._isValid=!1;return}}if(!u&&o!=null){e._isValid=!1;return}if(s[4])if(vAe.exec(s[4]))p="Z";else{e._isValid=!1;return}e._f=h+(o||"")+(p||""),h1(e)}else e._isValid=!1}function xAe(e,t,n,r,s,u){var h=[wAe(e),QP.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return u&&h.push(parseInt(u,10)),h}function wAe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function SAe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kAe(e,t,n){if(e){var r=aD.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return On(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function CAe(e,t,n){if(e)return bAe[e];if(t)return 0;var r=parseInt(n,10),s=r%100,u=(r-s)/100;return u*60+s}function uD(e){var t=_Ae.exec(SAe(e._i)),n;if(t){if(n=xAe(t[4],t[3],t[2],t[5],t[6],t[7]),!kAe(t[1],n,e))return;e._a=n,e._tzm=CAe(t[8],t[9],t[10]),e._d=em.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),On(e).rfc2822=!0}else e._isValid=!1}function TAe(e){var t=yAe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(cD(e),e._isValid===!1)delete e._isValid;else return;if(uD(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:jt.createFromInputFallback(e)}jt.createFromInputFallback=Es("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function pd(e,t,n){return e??t??n}function AAe(e){var t=new Date(jt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function d1(e){var t,n,r=[],s,u,h;if(!e._d){for(s=AAe(e),e._w&&e._a[wo]==null&&e._a[sl]==null&&EAe(e),e._dayOfYear!=null&&(h=pd(e._a[ca],s[ca]),(e._dayOfYear>kf(h)||e._dayOfYear===0)&&(On(e)._overflowDayOfYear=!0),n=em(h,0,e._dayOfYear),e._a[sl]=n.getUTCMonth(),e._a[wo]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ii]===24&&e._a[Ys]===0&&e._a[ol]===0&&e._a[Jc]===0&&(e._nextDay=!0,e._a[Ii]=0),e._d=(e._useUTC?em:RTe).apply(null,r),u=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ii]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==u&&(On(e).weekdayMismatch=!0)}}function EAe(e){var t,n,r,s,u,h,o,p,y;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(u=1,h=4,n=pd(t.GG,e._a[ca],tm($r(),1,4).year),r=pd(t.W,1),s=pd(t.E,1),(s<1||s>7)&&(p=!0)):(u=e._locale._week.dow,h=e._locale._week.doy,y=tm($r(),u,h),n=pd(t.gg,e._a[ca],y.year),r=pd(t.w,y.week),t.d!=null?(s=t.d,(s<0||s>6)&&(p=!0)):t.e!=null?(s=t.e+u,(t.e<0||t.e>6)&&(p=!0)):s=u),r<1||r>ul(n,u,h)?On(e)._overflowWeeks=!0:p!=null?On(e)._overflowWeekday=!0:(o=iD(n,r,s,u,h),e._a[ca]=o.year,e._dayOfYear=o.dayOfYear)}jt.ISO_8601=function(){};jt.RFC_2822=function(){};function h1(e){if(e._f===jt.ISO_8601){cD(e);return}if(e._f===jt.RFC_2822){uD(e);return}e._a=[],On(e).empty=!0;var t=""+e._i,n,r,s,u,h,o=t.length,p=0,y,b;for(s=GP(e._f,e._locale).match(e1)||[],b=s.length,n=0;n<b;n++)u=s[n],r=(t.match(pTe(u,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&On(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),p+=r.length),Sd[u]?(r?On(e).empty=!1:On(e).unusedTokens.push(u),vTe(u,r,e)):e._strict&&!r&&On(e).unusedTokens.push(u);On(e).charsLeftOver=o-p,t.length>0&&On(e).unusedInput.push(t),e._a[Ii]<=12&&On(e).bigHour===!0&&e._a[Ii]>0&&(On(e).bigHour=void 0),On(e).parsedDateParts=e._a.slice(0),On(e).meridiem=e._meridiem,e._a[Ii]=IAe(e._locale,e._a[Ii],e._meridiem),y=On(e).era,y!==null&&(e._a[ca]=e._locale.erasConvertYear(y,e._a[ca])),d1(e),u1(e)}function IAe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function PAe(e){var t,n,r,s,u,h,o=!1,p=e._f.length;if(p===0){On(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<p;s++)u=0,h=!1,t=Jx({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],h1(t),Xx(t)&&(h=!0),u+=On(t).charsLeftOver,u+=On(t).unusedTokens.length*10,On(t).score=u,o?u<r&&(r=u,n=t):(r==null||u<r||h)&&(r=u,n=t,h&&(o=!0));nc(e,n||t)}function DAe(e){if(!e._d){var t=t1(e._i),n=t.day===void 0?t.date:t.day;e._a=qP([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),d1(e)}}function MAe(e){var t=new Tm(u1(dD(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function dD(e){var t=e._i,n=e._f;return e._locale=e._locale||wl(e._l),t===null||n===void 0&&t===""?Nv({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Qs(t)?new Tm(u1(t)):(Cm(t)?e._d=t:Js(n)?PAe(e):n?h1(e):LAe(e),Xx(e)||(e._d=null),e))}function LAe(e){var t=e._i;za(t)?e._d=new Date(jt.now()):Cm(t)?e._d=new Date(t.valueOf()):typeof t=="string"?TAe(e):Js(t)?(e._a=qP(t.slice(0),function(n){return parseInt(n,10)}),d1(e)):au(t)?DAe(e):fl(t)?e._d=new Date(t):jt.createFromInputFallback(e)}function hD(e,t,n,r,s){var u={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(au(e)&&Kx(e)||Js(e)&&e.length===0)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=r,MAe(u)}function $r(e,t,n,r){return hD(e,t,n,r,!1)}var RAe=Es("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$r.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Nv()}),OAe=Es("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=$r.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Nv()});function fD(e,t){var n,r;if(t.length===1&&Js(t[0])&&(t=t[0]),!t.length)return $r();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function FAe(){var e=[].slice.call(arguments,0);return fD("isBefore",e)}function zAe(){var e=[].slice.call(arguments,0);return fD("isAfter",e)}var BAe=function(){return Date.now?Date.now():+new Date},hf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function VAe(e){var t,n=!1,r,s=hf.length;for(t in e)if(ir(e,t)&&!(vi.call(hf,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[hf[r]]){if(n)return!1;parseFloat(e[hf[r]])!==qn(e[hf[r]])&&(n=!0)}return!0}function NAe(){return this._isValid}function $Ae(){return so(NaN)}function Yv(e){var t=t1(e),n=t.year||0,r=t.quarter||0,s=t.month||0,u=t.week||t.isoWeek||0,h=t.day||0,o=t.hour||0,p=t.minute||0,y=t.second||0,b=t.millisecond||0;this._isValid=VAe(t),this._milliseconds=+b+y*1e3+p*6e4+o*1e3*60*60,this._days=+h+u*7,this._months=+s+r*3+n*12,this._data={},this._locale=wl(),this._bubble()}function vg(e){return e instanceof Yv}function l0(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function UAe(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),u=0,h;for(h=0;h<r;h++)qn(e[h])!==qn(t[h])&&u++;return u+s}function mD(e,t){cn(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Io(~~(n/60),2)+t+Io(~~n%60,2)})}mD("Z",":");mD("ZZ","");en("Z",Hv);en("ZZ",Hv);Sr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=f1(Hv,e)});var qAe=/([\+\-]|\d\d)/gi;function f1(e,t){var n=(t||"").match(e),r,s,u;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(qAe)||["-",0,0],u=+(s[1]*60)+qn(s[2]),u===0?0:s[0]==="+"?u:-u)}function m1(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Qs(e)||Cm(e)?e.valueOf():$r(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),jt.updateOffset(n,!1),n):$r(e).local()}function c0(e){return-Math.round(e._d.getTimezoneOffset())}jt.updateOffset=function(){};function jAe(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=f1(Hv,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=c0(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?vD(this,so(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,jt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:c0(this)}function HAe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function GAe(e){return this.utcOffset(0,e)}function WAe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(c0(this),"m")),this}function YAe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=f1(fTe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ZAe(e){return this.isValid()?(e=e?$r(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function KAe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function XAe(){if(!za(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Jx(e,this),e=dD(e),e._a?(t=e._isUTC?zo(e._a):$r(e._a),this._isDSTShifted=this.isValid()&&UAe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function JAe(){return this.isValid()?!this._isUTC:!1}function QAe(){return this.isValid()?this._isUTC:!1}function pD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var eEe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tEe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function so(e,t){var n=e,r=null,s,u,h;return vg(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:fl(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=eEe.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:qn(r[wo])*s,h:qn(r[Ii])*s,m:qn(r[Ys])*s,s:qn(r[ol])*s,ms:qn(l0(r[Jc]*1e3))*s}):(r=tEe.exec(e))?(s=r[1]==="-"?-1:1,n={y:qc(r[2],s),M:qc(r[3],s),w:qc(r[4],s),d:qc(r[5],s),h:qc(r[6],s),m:qc(r[7],s),s:qc(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(h=nEe($r(n.from),$r(n.to)),n={},n.ms=h.milliseconds,n.M=h.months),u=new Yv(n),vg(e)&&ir(e,"_locale")&&(u._locale=e._locale),vg(e)&&ir(e,"_isValid")&&(u._isValid=e._isValid),u}so.fn=Yv.prototype;so.invalid=$Ae;function qc(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function k2(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function nEe(e,t){var n;return e.isValid()&&t.isValid()?(t=m1(t,e),e.isBefore(t)?n=k2(e,t):(n=k2(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function gD(e,t){return function(n,r){var s,u;return r!==null&&!isNaN(+r)&&(HP(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=n,n=r,r=u),s=so(n,r),vD(this,s,e),this}}function vD(e,t,n,r){var s=t._milliseconds,u=l0(t._days),h=l0(t._months);e.isValid()&&(r=r??!0,h&&tD(e,Qf(e,"Month")+h*n),u&&JP(e,"Date",Qf(e,"Date")+u*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&jt.updateOffset(e,u||h))}var rEe=gD(1,"add"),iEe=gD(-1,"subtract");function yD(e){return typeof e=="string"||e instanceof String}function aEe(e){return Qs(e)||Cm(e)||yD(e)||fl(e)||oEe(e)||sEe(e)||e===null||e===void 0}function sEe(e){var t=au(e)&&!Kx(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,u,h=r.length;for(s=0;s<h;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function oEe(e){var t=Js(e),n=!1;return t&&(n=e.filter(function(r){return!fl(r)&&yD(e)}).length===0),t&&n}function lEe(e){var t=au(e)&&!Kx(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,u;for(s=0;s<r.length;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function cEe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function uEe(e,t){arguments.length===1&&(arguments[0]?aEe(arguments[0])?(e=arguments[0],t=void 0):lEe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||$r(),r=m1(n,this).startOf("day"),s=jt.calendarFormat(this,r)||"sameElse",u=t&&(Bo(t[s])?t[s].call(this,n):t[s]);return this.format(u||this.localeData().calendar(s,this,$r(n)))}function dEe(){return new Tm(this)}function hEe(e,t){var n=Qs(e)?e:$r(e);return this.isValid()&&n.isValid()?(t=Is(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function fEe(e,t){var n=Qs(e)?e:$r(e);return this.isValid()&&n.isValid()?(t=Is(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function mEe(e,t,n,r){var s=Qs(e)?e:$r(e),u=Qs(t)?t:$r(t);return this.isValid()&&s.isValid()&&u.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(u,n):!this.isAfter(u,n))):!1}function pEe(e,t){var n=Qs(e)?e:$r(e),r;return this.isValid()&&n.isValid()?(t=Is(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function gEe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function vEe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yEe(e,t,n){var r,s,u;if(!this.isValid())return NaN;if(r=m1(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=Is(t),t){case"year":u=yg(this,r)/12;break;case"month":u=yg(this,r);break;case"quarter":u=yg(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-s)/864e5;break;case"week":u=(this-r-s)/6048e5;break;default:u=this-r}return n?u:gs(u)}function yg(e,t){if(e.date()<t.date())return-yg(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,u;return t-r<0?(s=e.clone().add(n-1,"months"),u=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),u=(t-r)/(s-r)),-(n+u)||0}jt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";jt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function _Ee(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function bEe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?gg(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Bo(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gg(n,"Z")):gg(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function xEe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,u;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",u=t+'[")]',this.format(n+r+s+u)}function wEe(e){e||(e=this.isUtc()?jt.defaultFormatUtc:jt.defaultFormat);var t=gg(this,e);return this.localeData().postformat(t)}function SEe(e,t){return this.isValid()&&(Qs(e)&&e.isValid()||$r(e).isValid())?so({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kEe(e){return this.from($r(),e)}function CEe(e,t){return this.isValid()&&(Qs(e)&&e.isValid()||$r(e).isValid())?so({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function TEe(e){return this.to($r(),e)}function _D(e){var t;return e===void 0?this._locale._abbr:(t=wl(e),t!=null&&(this._locale=t),this)}var bD=Es("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function xD(){return this._locale}var Kg=1e3,kd=60*Kg,Xg=60*kd,wD=(365*400+97)*24*Xg;function Cd(e,t){return(e%t+t)%t}function SD(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-wD:new Date(e,t,n).valueOf()}function kD(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-wD:Date.UTC(e,t,n)}function AEe(e){var t,n;if(e=Is(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kD:SD,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Cd(t+(this._isUTC?0:this.utcOffset()*kd),Xg);break;case"minute":t=this._d.valueOf(),t-=Cd(t,kd);break;case"second":t=this._d.valueOf(),t-=Cd(t,Kg);break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function EEe(e){var t,n;if(e=Is(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?kD:SD,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Xg-Cd(t+(this._isUTC?0:this.utcOffset()*kd),Xg)-1;break;case"minute":t=this._d.valueOf(),t+=kd-Cd(t,kd)-1;break;case"second":t=this._d.valueOf(),t+=Kg-Cd(t,Kg)-1;break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function IEe(){return this._d.valueOf()-(this._offset||0)*6e4}function PEe(){return Math.floor(this.valueOf()/1e3)}function DEe(){return new Date(this.valueOf())}function MEe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function LEe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function REe(){return this.isValid()?this.toISOString():null}function OEe(){return Xx(this)}function FEe(){return nc({},On(this))}function zEe(){return On(this).overflow}function BEe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}cn("N",0,0,"eraAbbr");cn("NN",0,0,"eraAbbr");cn("NNN",0,0,"eraAbbr");cn("NNNN",0,0,"eraName");cn("NNNNN",0,0,"eraNarrow");cn("y",["y",1],"yo","eraYear");cn("y",["yy",2],0,"eraYear");cn("y",["yyy",3],0,"eraYear");cn("y",["yyyy",4],0,"eraYear");en("N",p1);en("NN",p1);en("NNN",p1);en("NNNN",ZEe);en("NNNNN",KEe);Sr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?On(n).era=s:On(n).invalidEra=e});en("y",Zd);en("yy",Zd);en("yyy",Zd);en("yyyy",Zd);en("yo",XEe);Sr(["y","yy","yyy","yyyy"],ca);Sr(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ca]=n._locale.eraYearOrdinalParse(e,s):t[ca]=parseInt(e,10)});function VEe(e,t){var n,r,s,u=this._eras||wl("en")._eras;for(n=0,r=u.length;n<r;++n){switch(typeof u[n].since){case"string":s=jt(u[n].since).startOf("day"),u[n].since=s.valueOf();break}switch(typeof u[n].until){case"undefined":u[n].until=1/0;break;case"string":s=jt(u[n].until).startOf("day").valueOf(),u[n].until=s.valueOf();break}}return u}function NEe(e,t,n){var r,s,u=this.eras(),h,o,p;for(e=e.toUpperCase(),r=0,s=u.length;r<s;++r)if(h=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),p=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(h===e)return u[r];break;case"NNNNN":if(p===e)return u[r];break}else if([h,o,p].indexOf(e)>=0)return u[r]}function $Ee(e,t){var n=e.since<=e.until?1:-1;return t===void 0?jt(e.since).year():jt(e.since).year()+(t-e.offset)*n}function UEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function qEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function jEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function HEe(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-jt(s[e].since).year())*n+s[e].offset;return this.year()}function GEe(e){return ir(this,"_erasNameRegex")||g1.call(this),e?this._erasNameRegex:this._erasRegex}function WEe(e){return ir(this,"_erasAbbrRegex")||g1.call(this),e?this._erasAbbrRegex:this._erasRegex}function YEe(e){return ir(this,"_erasNarrowRegex")||g1.call(this),e?this._erasNarrowRegex:this._erasRegex}function p1(e,t){return t.erasAbbrRegex(e)}function ZEe(e,t){return t.erasNameRegex(e)}function KEe(e,t){return t.erasNarrowRegex(e)}function XEe(e,t){return t._eraYearOrdinalRegex||Zd}function g1(){var e=[],t=[],n=[],r=[],s,u,h,o,p,y=this.eras();for(s=0,u=y.length;s<u;++s)h=cl(y[s].name),o=cl(y[s].abbr),p=cl(y[s].narrow),t.push(h),e.push(o),n.push(p),r.push(h),r.push(o),r.push(p);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}cn(0,["gg",2],0,function(){return this.weekYear()%100});cn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Zv(e,t){cn(0,[e,e.length],0,t)}Zv("gggg","weekYear");Zv("ggggg","weekYear");Zv("GGGG","isoWeekYear");Zv("GGGGG","isoWeekYear");en("G",jv);en("g",jv);en("GG",Ur,as);en("gg",Ur,as);en("GGGG",r1,n1);en("gggg",r1,n1);en("GGGGG",qv,$v);en("ggggg",qv,$v);Em(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=qn(e)});Em(["gg","GG"],function(e,t,n,r){t[r]=jt.parseTwoDigitYear(e)});function JEe(e){return CD.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function QEe(e){return CD.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function eIe(){return ul(this.year(),1,4)}function tIe(){return ul(this.isoWeekYear(),1,4)}function nIe(){var e=this.localeData()._week;return ul(this.year(),e.dow,e.doy)}function rIe(){var e=this.localeData()._week;return ul(this.weekYear(),e.dow,e.doy)}function CD(e,t,n,r,s){var u;return e==null?tm(this,r,s).year:(u=ul(e,r,s),t>u&&(t=u),iIe.call(this,e,t,n,r,s))}function iIe(e,t,n,r,s){var u=iD(e,t,n,r,s),h=em(u.year,0,u.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}cn("Q",0,"Qo","quarter");en("Q",WP);Sr("Q",function(e,t){t[sl]=(qn(e)-1)*3});function aIe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}cn("D",["DD",2],"Do","date");en("D",Ur,Kd);en("DD",Ur,as);en("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Sr(["D","DD"],wo);Sr("Do",function(e,t){t[wo]=qn(e.match(Ur)[0])});var TD=Xd("Date",!0);cn("DDD",["DDDD",3],"DDDo","dayOfYear");en("DDD",Uv);en("DDDD",YP);Sr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=qn(e)});function sIe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}cn("m",["mm",2],0,"minute");en("m",Ur,i1);en("mm",Ur,as);Sr(["m","mm"],Ys);var oIe=Xd("Minutes",!1);cn("s",["ss",2],0,"second");en("s",Ur,i1);en("ss",Ur,as);Sr(["s","ss"],ol);var lIe=Xd("Seconds",!1);cn("S",0,0,function(){return~~(this.millisecond()/100)});cn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});cn(0,["SSS",3],0,"millisecond");cn(0,["SSSS",4],0,function(){return this.millisecond()*10});cn(0,["SSSSS",5],0,function(){return this.millisecond()*100});cn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});cn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});cn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});cn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});en("S",Uv,WP);en("SS",Uv,as);en("SSS",Uv,YP);var rc,AD;for(rc="SSSS";rc.length<=9;rc+="S")en(rc,Zd);function cIe(e,t){t[Jc]=qn(("0."+e)*1e3)}for(rc="S";rc.length<=9;rc+="S")Sr(rc,cIe);AD=Xd("Milliseconds",!1);cn("z",0,0,"zoneAbbr");cn("zz",0,0,"zoneName");function uIe(){return this._isUTC?"UTC":""}function dIe(){return this._isUTC?"Coordinated Universal Time":""}var Mt=Tm.prototype;Mt.add=rEe;Mt.calendar=uEe;Mt.clone=dEe;Mt.diff=yEe;Mt.endOf=EEe;Mt.format=wEe;Mt.from=SEe;Mt.fromNow=kEe;Mt.to=CEe;Mt.toNow=TEe;Mt.get=xTe;Mt.invalidAt=zEe;Mt.isAfter=hEe;Mt.isBefore=fEe;Mt.isBetween=mEe;Mt.isSame=pEe;Mt.isSameOrAfter=gEe;Mt.isSameOrBefore=vEe;Mt.isValid=OEe;Mt.lang=bD;Mt.locale=_D;Mt.localeData=xD;Mt.max=OAe;Mt.min=RAe;Mt.parsingFlags=FEe;Mt.set=wTe;Mt.startOf=AEe;Mt.subtract=iEe;Mt.toArray=MEe;Mt.toObject=LEe;Mt.toDate=DEe;Mt.toISOString=bEe;Mt.inspect=xEe;typeof Symbol<"u"&&Symbol.for!=null&&(Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Mt.toJSON=REe;Mt.toString=_Ee;Mt.unix=PEe;Mt.valueOf=IEe;Mt.creationData=BEe;Mt.eraName=UEe;Mt.eraNarrow=qEe;Mt.eraAbbr=jEe;Mt.eraYear=HEe;Mt.year=XP;Mt.isLeapYear=bTe;Mt.weekYear=JEe;Mt.isoWeekYear=QEe;Mt.quarter=Mt.quarters=aIe;Mt.month=nD;Mt.daysInMonth=DTe;Mt.week=Mt.weeks=VTe;Mt.isoWeek=Mt.isoWeeks=NTe;Mt.weeksInYear=nIe;Mt.weeksInWeekYear=rIe;Mt.isoWeeksInYear=eIe;Mt.isoWeeksInISOWeekYear=tIe;Mt.date=TD;Mt.day=Mt.days=QTe;Mt.weekday=eAe;Mt.isoWeekday=tAe;Mt.dayOfYear=sIe;Mt.hour=Mt.hours=lAe;Mt.minute=Mt.minutes=oIe;Mt.second=Mt.seconds=lIe;Mt.millisecond=Mt.milliseconds=AD;Mt.utcOffset=jAe;Mt.utc=GAe;Mt.local=WAe;Mt.parseZone=YAe;Mt.hasAlignedHourOffset=ZAe;Mt.isDST=KAe;Mt.isLocal=JAe;Mt.isUtcOffset=QAe;Mt.isUtc=pD;Mt.isUTC=pD;Mt.zoneAbbr=uIe;Mt.zoneName=dIe;Mt.dates=Es("dates accessor is deprecated. Use date instead.",TD);Mt.months=Es("months accessor is deprecated. Use month instead",nD);Mt.years=Es("years accessor is deprecated. Use year instead",XP);Mt.zone=Es("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",HAe);Mt.isDSTShifted=Es("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",XAe);function hIe(e){return $r(e*1e3)}function fIe(){return $r.apply(null,arguments).parseZone()}function ED(e){return e}var ar=Qx.prototype;ar.calendar=J2e;ar.longDateFormat=nTe;ar.invalidDate=iTe;ar.ordinal=oTe;ar.preparse=ED;ar.postformat=ED;ar.relativeTime=cTe;ar.pastFuture=uTe;ar.set=K2e;ar.eras=VEe;ar.erasParse=NEe;ar.erasConvertYear=$Ee;ar.erasAbbrRegex=WEe;ar.erasNameRegex=GEe;ar.erasNarrowRegex=YEe;ar.months=ATe;ar.monthsShort=ETe;ar.monthsParse=PTe;ar.monthsRegex=LTe;ar.monthsShortRegex=MTe;ar.week=OTe;ar.firstDayOfYear=BTe;ar.firstDayOfWeek=zTe;ar.weekdays=YTe;ar.weekdaysMin=KTe;ar.weekdaysShort=ZTe;ar.weekdaysParse=JTe;ar.weekdaysRegex=nAe;ar.weekdaysShortRegex=rAe;ar.weekdaysMinRegex=iAe;ar.isPM=sAe;ar.meridiem=cAe;function Jg(e,t,n,r){var s=wl(),u=zo().set(r,t);return s[n](u,e)}function ID(e,t,n){if(fl(e)&&(t=e,e=void 0),e=e||"",t!=null)return Jg(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Jg(e,r,n,"month");return s}function v1(e,t,n,r){typeof e=="boolean"?(fl(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,fl(t)&&(n=t,t=void 0),t=t||"");var s=wl(),u=e?s._week.dow:0,h,o=[];if(n!=null)return Jg(t,(n+u)%7,r,"day");for(h=0;h<7;h++)o[h]=Jg(t,(h+u)%7,r,"day");return o}function mIe(e,t){return ID(e,t,"months")}function pIe(e,t){return ID(e,t,"monthsShort")}function gIe(e,t,n){return v1(e,t,n,"weekdays")}function vIe(e,t,n){return v1(e,t,n,"weekdaysShort")}function yIe(e,t,n){return v1(e,t,n,"weekdaysMin")}sc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=qn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});jt.lang=Es("moment.lang is deprecated. Use moment.locale instead.",sc);jt.langData=Es("moment.langData is deprecated. Use moment.localeData instead.",wl);var nl=Math.abs;function _Ie(){var e=this._data;return this._milliseconds=nl(this._milliseconds),this._days=nl(this._days),this._months=nl(this._months),e.milliseconds=nl(e.milliseconds),e.seconds=nl(e.seconds),e.minutes=nl(e.minutes),e.hours=nl(e.hours),e.months=nl(e.months),e.years=nl(e.years),this}function PD(e,t,n,r){var s=so(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function bIe(e,t){return PD(this,e,t,1)}function xIe(e,t){return PD(this,e,t,-1)}function C2(e){return e<0?Math.floor(e):Math.ceil(e)}function wIe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,u,h,o,p;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=C2(u0(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=gs(e/1e3),r.seconds=s%60,u=gs(s/60),r.minutes=u%60,h=gs(u/60),r.hours=h%24,t+=gs(h/24),p=gs(DD(t)),n+=p,t-=C2(u0(p)),o=gs(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function DD(e){return e*4800/146097}function u0(e){return e*146097/4800}function SIe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Is(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+DD(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(u0(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Sl(e){return function(){return this.as(e)}}var MD=Sl("ms"),kIe=Sl("s"),CIe=Sl("m"),TIe=Sl("h"),AIe=Sl("d"),EIe=Sl("w"),IIe=Sl("M"),PIe=Sl("Q"),DIe=Sl("y"),MIe=MD;function LIe(){return so(this)}function RIe(e){return e=Is(e),this.isValid()?this[e+"s"]():NaN}function vu(e){return function(){return this.isValid()?this._data[e]:NaN}}var OIe=vu("milliseconds"),FIe=vu("seconds"),zIe=vu("minutes"),BIe=vu("hours"),VIe=vu("days"),NIe=vu("months"),$Ie=vu("years");function UIe(){return gs(this.days()/7)}var il=Math.round,vd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qIe(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function jIe(e,t,n,r){var s=so(e).abs(),u=il(s.as("s")),h=il(s.as("m")),o=il(s.as("h")),p=il(s.as("d")),y=il(s.as("M")),b=il(s.as("w")),C=il(s.as("y")),k=u<=n.ss&&["s",u]||u<n.s&&["ss",u]||h<=1&&["m"]||h<n.m&&["mm",h]||o<=1&&["h"]||o<n.h&&["hh",o]||p<=1&&["d"]||p<n.d&&["dd",p];return n.w!=null&&(k=k||b<=1&&["w"]||b<n.w&&["ww",b]),k=k||y<=1&&["M"]||y<n.M&&["MM",y]||C<=1&&["y"]||["yy",C],k[2]=t,k[3]=+e>0,k[4]=r,qIe.apply(null,k)}function HIe(e){return e===void 0?il:typeof e=="function"?(il=e,!0):!1}function GIe(e,t){return vd[e]===void 0?!1:t===void 0?vd[e]:(vd[e]=t,e==="s"&&(vd.ss=t-1),!0)}function WIe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=vd,s,u;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},vd,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),u=jIe(this,!n,r,s),n&&(u=s.pastFuture(+this,u)),s.postformat(u)}var J_=Math.abs;function cd(e){return(e>0)-(e<0)||+e}function Kv(){if(!this.isValid())return this.localeData().invalidDate();var e=J_(this._milliseconds)/1e3,t=J_(this._days),n=J_(this._months),r,s,u,h,o=this.asSeconds(),p,y,b,C;return o?(r=gs(e/60),s=gs(r/60),e%=60,r%=60,u=gs(n/12),n%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",p=o<0?"-":"",y=cd(this._months)!==cd(o)?"-":"",b=cd(this._days)!==cd(o)?"-":"",C=cd(this._milliseconds)!==cd(o)?"-":"",p+"P"+(u?y+u+"Y":"")+(n?y+n+"M":"")+(t?b+t+"D":"")+(s||r||e?"T":"")+(s?C+s+"H":"")+(r?C+r+"M":"")+(e?C+h+"S":"")):"P0D"}var Jn=Yv.prototype;Jn.isValid=NAe;Jn.abs=_Ie;Jn.add=bIe;Jn.subtract=xIe;Jn.as=SIe;Jn.asMilliseconds=MD;Jn.asSeconds=kIe;Jn.asMinutes=CIe;Jn.asHours=TIe;Jn.asDays=AIe;Jn.asWeeks=EIe;Jn.asMonths=IIe;Jn.asQuarters=PIe;Jn.asYears=DIe;Jn.valueOf=MIe;Jn._bubble=wIe;Jn.clone=LIe;Jn.get=RIe;Jn.milliseconds=OIe;Jn.seconds=FIe;Jn.minutes=zIe;Jn.hours=BIe;Jn.days=VIe;Jn.weeks=UIe;Jn.months=NIe;Jn.years=$Ie;Jn.humanize=WIe;Jn.toISOString=Kv;Jn.toString=Kv;Jn.toJSON=Kv;Jn.locale=_D;Jn.localeData=xD;Jn.toIsoString=Es("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kv);Jn.lang=bD;cn("X",0,0,"unix");cn("x",0,0,"valueOf");en("x",jv);en("X",mTe);Sr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Sr("x",function(e,t,n){n._d=new Date(qn(e))});//! moment.js
jt.version="2.30.1";Y2e($r);jt.fn=Mt;jt.min=FAe;jt.max=zAe;jt.now=BAe;jt.utc=zo;jt.unix=hIe;jt.months=mIe;jt.isDate=Cm;jt.locale=sc;jt.invalid=Nv;jt.duration=so;jt.isMoment=Qs;jt.weekdays=gIe;jt.parseZone=fIe;jt.localeData=wl;jt.isDuration=vg;jt.monthsShort=pIe;jt.weekdaysMin=yIe;jt.defineLocale=c1;jt.updateLocale=fAe;jt.locales=mAe;jt.weekdaysShort=vIe;jt.normalizeUnits=Is;jt.relativeTimeRounding=HIe;jt.relativeTimeThreshold=GIe;jt.calendarFormat=cEe;jt.prototype=Mt;jt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var LD={exports:{}};(function(e,t){(function(n,r){r()})(Gc,function(){function n(y,b){return typeof b>"u"?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob(["\uFEFF",y],{type:y.type}):y}function r(y,b,C){var k=new XMLHttpRequest;k.open("GET",y),k.responseType="blob",k.onload=function(){p(k.response,b,C)},k.onerror=function(){console.error("could not download file")},k.send()}function s(y){var b=new XMLHttpRequest;b.open("HEAD",y,!1);try{b.send()}catch{}return 200<=b.status&&299>=b.status}function u(y){try{y.dispatchEvent(new MouseEvent("click"))}catch{var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),y.dispatchEvent(b)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Gc=="object"&&Gc.global===Gc?Gc:void 0,o=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(y,b,C){var k=h.URL||h.webkitURL,I=document.createElement("a");b=b||y.name||"download",I.download=b,I.rel="noopener",typeof y=="string"?(I.href=y,I.origin===location.origin?u(I):s(I.href)?r(y,b,C):u(I,I.target="_blank")):(I.href=k.createObjectURL(y),setTimeout(function(){k.revokeObjectURL(I.href)},4e4),setTimeout(function(){u(I)},0))}:"msSaveOrOpenBlob"in navigator?function(y,b,C){if(b=b||y.name||"download",typeof y!="string")navigator.msSaveOrOpenBlob(n(y,C),b);else if(s(y))r(y,b,C);else{var k=document.createElement("a");k.href=y,k.target="_blank",setTimeout(function(){u(k)})}}:function(y,b,C,k){if(k=k||open("","_blank"),k&&(k.document.title=k.document.body.innerText="downloading..."),typeof y=="string")return r(y,b,C);var I=y.type==="application/octet-stream",R=/constructor/i.test(h.HTMLElement)||h.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||I&&R||o)&&typeof FileReader<"u"){var F=new FileReader;F.onloadend=function(){var K=F.result;K=L?K:K.replace(/^data:[^;]*;/,"data:attachment/file;"),k?k.location.href=K:location=K,k=null},F.readAsDataURL(y)}else{var B=h.URL||h.webkitURL,q=B.createObjectURL(y);k?k.location=q:location.href=q,k=null,setTimeout(function(){B.revokeObjectURL(q)},4e4)}});h.saveAs=p.saveAs=p,e.exports=p})})(LD);var YIe=LD.exports;function ZIe(e){return[...new Set(e.map(n=>KIe(n)).filter(n=>n!=null))]}function KIe(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){const n=e.match(t);if(n&&n.length>0)return n[0].substring(0,6)}return null}function XIe(e,t){Nr.post(Vwe+"lsoas?filter=sector",e).then(n=>{t(n.data)})}function JIe(e,t){const n=ZIe(e),r={};XIe(n,s=>{Object.keys(s).forEach(u=>{s[u].forEach(h=>{r[h.replace(/\s/g,"")]=u.trim()})}),t(r)})}const QIe={data(){return{authority:null,columns:[],countsColumn:"",csvData:[],endTime:null,extractDate:null,files:[],loading:!1,lsoasCounted:{},mdText:W2e,postcodeColumn:"",startTime:null,summaryColumns:[{key:"total",title:"Total"},{key:"converted",title:"Successful"},{key:"terminated",title:"Terminated"},{key:"unknown",title:"Unknown"}],summaryData:[{total:0,converted:0,terminated:0,unknown:0}]}},methods:{confirmFile:async function(e){this.files=e;const t=this;if(t.loading=!0,t.files.length>0){const n=await Wx(t.files[0],!1);t.columns=n[0],t.csvData=n,t.loading=!1}},confirmOptions:function(){const e=this;e.startTime=jt(),e.loading=!0,e.summaryData[0].total=0,e.summaryData[0].converted=0,e.summaryData[0].unknown=0,e.summaryData[0].terminated=0,e.lsoasCounted={Unknown:0};const t=e.columns.indexOf(e.postcodeColumn),n=e.columns.indexOf(this.countsColumn),r=e.csvData.map(s=>s[t]).filter(s=>s!=null&&s!==e.postcodeColumn);JIe(r,s=>{e.csvData.forEach((u,h)=>{const o=u[t],p=o.replace(/\s/g,"");if(h===0&&o===e.postcodeColumn)u[t]="LSOA";else{this.summaryData[0].total++;let y="";o&&o!==""&&s[p]?(y=s[p],y==="Terminated"?(u[t]="Terminated",this.summaryData[0].terminated++):y==="Unknown"?(u[t]="Unknown",this.summaryData[0].unknown++):(u[t]=y,this.summaryData[0].converted++)):(u[t]="Unknown",this.summaryData[0].unknown++,y="Unknown"),y==="Terminated"&&(y="Unknown"),this.lsoasCounted[y]||(this.lsoasCounted[y]=0),this.countsColumn!==""?this.lsoasCounted[y]=this.lsoasCounted[y]+parseInt(u[n]):this.lsoasCounted[y]++}}),e.active_step=3,this.loading=!1,this.endTime=jt()})},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csvData)},downloadSchemaFile:async function(){const e=[["Local authority","Count date","Area code","Members"]],t=jt(this.extractDate).format("YYYY-MM-DD");Object.keys(this.lsoasCounted).filter(r=>r!=="Unknown"&&r!=="Terminated").forEach(r=>{const s=this.lsoasCounted[r];e.push([this.authority.name,t,r,s>4?s.toString():"x"])});const n=this.lsoasCounted.Unknown;this.lsoasCounted.Unknown>0&&e.push([this.authority.name,t,"Unknown",n>4?n.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){const n=new Blob([Gg.unparse(t)],{type:"text/plain;charset=utf-8"});YIe.saveAs(n,e)},getTimeCompleted:function(){return this.startTime&&this.endTime?Math.round(jt.duration(this.endTime.diff(this.startTime))):""}},components:{"file-upload":Vv,"service-select":Fv}},ePe=rr("h2",{class:"text-h5 text-decoration-underline my-3"},"Convert postcodes",-1),tPe=rr("strong",null,"Save as",-1),nPe=rr("strong",null,"Terminated",-1),rPe=rr("strong",null,"Unknown",-1),iPe=rr("br",null,null,-1),aPe={key:0},sPe={class:"mb-2"},oPe=rr("a",{href:"https://schema.librarydata.uk/membership",target:"_blank"},"library membership data",-1),lPe={key:1};function cPe(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section"),p=Vv,y=Fv;return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Postcode to area",subtitle:"Convert postcode locations to statistical areas"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),ePe,T(cc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:De(()=>[T(al,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:De(()=>[zt(" This tool loads CSV files. If your data isn't in CSV format try "),tPe,zt(" in your software. The first row should be column headings and one column should contain UK postcodes ")]),_:1}),T(p,{files:s.files,onChangeFiles:t[0]||(t[0]=b=>u.confirmFile(b))},null,8,["files"]),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Select file options"},{default:De(()=>[zt(" The field headings in your file are displayed below. Choose which column contains the postcodes. If your data includes counts per postcode, also select the field holding the count")]),_:1}),T(Ld,{color:"success",modelValue:s.postcodeColumn,"onUpdate:modelValue":t[1]||(t[1]=b=>s.postcodeColumn=b),items:s.columns,label:"Select postcode field",variant:"outlined",disabled:s.columns.length===0},null,8,["modelValue","items","disabled"]),T(Ld,{color:"success",value:s.countsColumn,items:s.columns.filter(b=>b!==s.postcodeColumn),disabled:s.postcodeColumn===""||s.columns.filter(b=>b!==s.postcodeColumn).length===0,label:"Count field (optional)",variant:"outlined"},null,8,["value","items","disabled"]),T(Kt,{color:"info",variant:"tonal",size:"large",onClick:u.confirmOptions,disabled:s.postcodeColumn==="","append-icon":"mdi-chevron-triple-right"},{default:De(()=>[zt(" Convert ")]),_:1},8,["onClick","disabled"]),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-3-circle",title:"Results"},{default:De(()=>[zt(" Valid postcodes are changed to their statistical area code. Postcodes that are no longer valid are changed to "),nPe,zt(". Postcodes not recognised are changed to "),rPe,zt("."),iPe]),_:1}),s.endTime!==null?(fn(),ys("span",aPe,[rr("p",sPe,Zs("Completed in "+u.getTimeCompleted()+" seconds"),1),T(Za,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:De(()=>[T(VP,{"no-filter":"",headers:s.summaryColumns,items:s.summaryData,"item-key":"total"},{bottom:De(()=>[]),_:1},8,["headers","items"])]),_:1}),T(Kt,{color:"info",variant:"tonal",size:"large",onClick:u.downloadConvertedFile,"append-icon":"mdi-content-save"},{default:De(()=>[zt(" Save converted file ")]),_:1},8,["onClick"])])):Kn("",!0),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-4-circle",title:"Library membership data"},{default:De(()=>[zt(" Census geographies are required to publish "),oPe,zt(". This tool has calculated a count of members per statistical area. Select the name of your library service and choose a date the postcodes were extracted from your library management system ")]),_:1}),s.endTime!==null?(fn(),ys("span",lPe,[T(y,{onSelect:t[2]||(t[2]=b=>s.authority=b)}),T(ii,{class:"mt-4",variant:"outlined",modelValue:s.extractDate,"onUpdate:modelValue":t[3]||(t[3]=b=>s.extractDate=b),label:"Count date","prepend-inner-icon":"mdi-calendar",type:"date"},null,8,["modelValue"]),T(Kt,{variant:"tonal",color:"success",onClick:u.downloadSchemaFile,size:"large","append-icon":"mdi-content-save",disabled:s.authority===""||s.extractDate===null},{default:De(()=>[zt("Save membership data")]),_:1},8,["onClick","disabled"])])):Kn("",!0)]),_:1}),T(md,{modelValue:s.loading,"onUpdate:modelValue":t[4]||(t[4]=b=>s.loading=b),persistent:"",width:"300"},{default:De(()=>[T(Za,null,{default:De(()=>[T(Xc,null,{default:De(()=>[zt(" Please wait ")]),_:1}),T(To,null,{default:De(()=>[T(fv,{indeterminate:"",color:"info"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const uPe=Qr(QIe,[["render",cPe]]),dPe=`A mobile library stop is a location visited by a mobile library vehicle during it's round.

Mobile library stops are a **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,hPe={data(){return{mdText:dPe}},methods:{},components:{}},fPe={class:"text-center"};function mPe(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}),rr("p",fPe,[T(Kt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"},{default:De(()=>[zt(" Explore the mobile stops schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const pPe=Qr(hPe,[["render",mPe]]),gPe=`A physical visit is an individual entering the library premises - for whatever reason. For co-located premises, this may mean counting visits that are not specifically for the purpose of using the library. Visit counts are often referred to as footfall.

Physical visits are a **time-series**. Data is maintained by adding new data (e.g. the next months visit counts).
`,vPe={data(){return{mdText:gPe}},methods:{},components:{}},yPe={class:"text-center"};function _Pe(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Physical visits",subtitle:"Counts of people using libraries"}),rr("p",yPe,[T(Kt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/physical-visits",target:"_blank"},{default:De(()=>[zt(" Explore the visits schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const bPe=Qr(vPe,[["render",_Pe]]),xPe=`These pages were created by Dave at [Libraries Hacked](https://www.librarieshacked.org). You can [contact me via email](mailto:info@librarieshacked.org) with any queries or concerns.

## GitHub pages

This site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include data such as your IP address.

GitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to GitHub's services for their own users, but there is a reference to GitHub pages sites. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.

> “Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.”

## Cookies

Cookies are files saved on your phone, tablet or computer when you visit a website. This site does not save any cookies onto your computer.

## Tracking and analytics

There are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.
`,wPe={data(){return{mdText:xPe}},methods:{},components:{}};function SPe(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Privacy policy",subtitle:"How your data and privacy is protected"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const kPe=Qr(wPe,[["render",SPe]]),CPe=`While logged in you will be able to see the level of access you have, which will either be for individual library services, or 'Admin' which provides access to all library data.

No personal data is held about you. Your email address is not stored online, only the domain part of the email (e.g. bl.uk for British Library users) in order to grant access.
`,TPe={data(){return{mdText:CPe}},methods:{logout(){this.$store.dispatch("logout")}},components:{}};function APe(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section"),p=km;return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Profile",subtitle:"See access and profile information"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),rr("section",null,[T(Dr,null,{default:De(()=>[T(p,{actions:!0})]),_:1})])]),_:1})}const EPe=Qr(TPe,[["render",APe]]),IPe=`An item of stock is any item held by the library that is available to the public, and catalogued in the library management system. This dataset provides counts of the different types of items held by libraries.

Stock summary data is a **snapshot**. This means that each update to the data is a fresh export, representing the stock held at that point in time.
`,PPe={data(){return{mdText:IPe}},methods:{},components:{}},DPe={class:"text-center"};function MPe(e,t,n,r,s,u){const h=Sn("layout-header"),o=Sn("markdown-section");return fn(),Vn(Dr,null,{default:De(()=>[T(h,{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}),rr("p",DPe,[T(Kt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/stock-summary",target:"_blank"},{default:De(()=>[zt(" Explore the stock summary schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const LPe=Qr(PPe,[["render",MPe]]),RPe=fke({history:USe(),base:"/",routes:[{path:"/",name:"Home",component:Lke},{path:"/about",name:"About",component:_ke},{path:"/events",name:"Events",component:Eke},{path:"/libraries",name:"Libraries",component:Bke},{path:"/libraries-edit",name:"Libraries edit",component:m2e},{path:"/loans",name:"Loans",component:_2e},{path:"/membership",name:"Membership",component:D2e},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:uPe},{path:"/membership-map",name:"Membership map",component:G2e},{path:"/mobile-library-stops",name:"Mobile library stops",component:pPe},{path:"/physical-visits",name:"Physical visits",component:bPe},{path:"/stock-summary",name:"Stock summary",component:LPe},{path:"/privacy",name:"Privacy",component:kPe},{path:"/accessibility",name:"Accessibility",component:Ske},{path:"/login",name:"Login",component:T2e},{path:"/profile",name:"Profile",component:EPe}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var OPe="store";function Jd(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function FPe(e){return e!==null&&typeof e=="object"}function zPe(e){return e&&typeof e.then=="function"}function BPe(e,t){return function(){return e(t)}}function RD(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function OD(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Xv(e,n,[],e._modules.root,!0),y1(e,n,t)}function y1(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var u=e._wrappedGetters,h={},o={},p=rv(!0);p.run(function(){Jd(u,function(y,b){h[b]=BPe(y,e),o[b]=Y(function(){return h[b]()}),Object.defineProperty(e.getters,b,{get:function(){return o[b].value},enumerable:!0})})}),e._state=Ei({data:t}),e._scope=p,e.strict&&qPe(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function Xv(e,t,n,r,s){var u=!n.length,h=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[h],e._modulesNamespaceMap[h]=r),!u&&!s){var o=_1(t,n.slice(0,-1)),p=n[n.length-1];e._withCommit(function(){o[p]=r.state})}var y=r.context=VPe(e,h,n);r.forEachMutation(function(b,C){var k=h+C;NPe(e,k,b,y)}),r.forEachAction(function(b,C){var k=b.root?C:h+C,I=b.handler||b;$Pe(e,k,I,y)}),r.forEachGetter(function(b,C){var k=h+C;UPe(e,k,b,y)}),r.forEachChild(function(b,C){Xv(e,t,n.concat(C),b,s)})}function VPe(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(u,h,o){var p=Qg(u,h,o),y=p.payload,b=p.options,C=p.type;return(!b||!b.root)&&(C=t+C),e.dispatch(C,y)},commit:r?e.commit:function(u,h,o){var p=Qg(u,h,o),y=p.payload,b=p.options,C=p.type;(!b||!b.root)&&(C=t+C),e.commit(C,y,b)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return FD(e,t)}},state:{get:function(){return _1(e.state,n)}}}),s}function FD(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var u=s.slice(r);Object.defineProperty(n,u,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function NPe(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(h){n.call(e,r.state,h)})}function $Pe(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(h){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},h);return zPe(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(p){throw e._devtoolHook.emit("vuex:error",p),p}):o})}function UPe(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(u){return n(r.state,r.getters,u.state,u.getters)})}function qPe(e){ot(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function _1(e,t){return t.reduce(function(n,r){return n[r]},e)}function Qg(e,t,n){return FPe(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var jPe="vuex bindings",T2="vuex:mutations",Q_="vuex:actions",ud="vuex",HPe=0;function GPe(e,t){uSe({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[jPe]},function(n){n.addTimelineLayer({id:T2,label:"Vuex Mutations",color:A2}),n.addTimelineLayer({id:Q_,label:"Vuex Actions",color:A2}),n.addInspector({id:ud,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===ud)if(r.filter){var s=[];ND(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[VD(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===ud){var s=r.nodeId;FD(t,s),r.state=ZPe(XPe(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===ud){var s=r.nodeId,u=r.path;s!=="root"&&(u=s.split("/").filter(Boolean).concat(u)),t._withCommit(function(){r.set(t._state.data,u,r.state.value)})}}),t.subscribe(function(r,s){var u={};r.payload&&(u.payload=r.payload),u.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(ud),n.sendInspectorState(ud),n.addTimelineEvent({layerId:T2,event:{time:Date.now(),title:r.type,data:u}})}),t.subscribeAction({before:function(r,s){var u={};r.payload&&(u.payload=r.payload),r._id=HPe++,r._time=Date.now(),u.state=s,n.addTimelineEvent({layerId:Q_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:u}})},after:function(r,s){var u={},h=Date.now()-r._time;u.duration={_custom:{type:"duration",display:h+"ms",tooltip:"Action duration",value:h}},r.payload&&(u.payload=r.payload),u.state=s,n.addTimelineEvent({layerId:Q_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:u}})}})})}var A2=8702998,WPe=6710886,YPe=16777215,zD={label:"namespaced",textColor:YPe,backgroundColor:WPe};function BD(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function VD(e,t){return{id:t||"root",label:BD(t),tags:e.namespaced?[zD]:[],children:Object.keys(e._children).map(function(n){return VD(e._children[n],t+n+"/")})}}function ND(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[zD]:[]}),Object.keys(t._children).forEach(function(s){ND(e,t._children[s],n,r+s+"/")})}function ZPe(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(h){return{key:h,editable:!0,value:e.state[h]}})};if(r.length){var u=KPe(t);s.getters=Object.keys(u).map(function(h){return{key:h.endsWith("/")?BD(h):h,editable:!1,value:d0(function(){return u[h]})}})}return s}function KPe(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,u=r.pop();r.forEach(function(h){s[h]||(s[h]={_custom:{value:{},display:h,tooltip:"Module",abstract:!0}}),s=s[h]._custom.value}),s[u]=d0(function(){return e[n]})}else t[n]=d0(function(){return e[n]})}),t}function XPe(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,u){var h=r[s];if(!h)throw new Error('Missing module "'+s+'" for path "'+t+'".');return u===n.length-1?h:h._children},t==="root"?e:e.root._children)}function d0(e){try{return e()}catch(t){return t}}var oo=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},$D={namespaced:{configurable:!0}};$D.namespaced.get=function(){return!!this._rawModule.namespaced};oo.prototype.addChild=function(t,n){this._children[t]=n};oo.prototype.removeChild=function(t){delete this._children[t]};oo.prototype.getChild=function(t){return this._children[t]};oo.prototype.hasChild=function(t){return t in this._children};oo.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};oo.prototype.forEachChild=function(t){Jd(this._children,t)};oo.prototype.forEachGetter=function(t){this._rawModule.getters&&Jd(this._rawModule.getters,t)};oo.prototype.forEachAction=function(t){this._rawModule.actions&&Jd(this._rawModule.actions,t)};oo.prototype.forEachMutation=function(t){this._rawModule.mutations&&Jd(this._rawModule.mutations,t)};Object.defineProperties(oo.prototype,$D);var yu=function(t){this.register([],t,!1)};yu.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};yu.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};yu.prototype.update=function(t){UD([],this.root,t)};yu.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var u=new oo(n,r);if(t.length===0)this.root=u;else{var h=this.get(t.slice(0,-1));h.addChild(t[t.length-1],u)}n.modules&&Jd(n.modules,function(o,p){s.register(t.concat(p),o,r)})};yu.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};yu.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function UD(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;UD(e.concat(r),t.getChild(r),n.modules[r])}}function JPe(e){return new Ua(e)}var Ua=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var u=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new yu(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=u;var h=this,o=this,p=o.dispatch,y=o.commit;this.dispatch=function(k,I){return p.call(h,k,I)},this.commit=function(k,I,R){return y.call(h,k,I,R)},this.strict=s;var b=this._modules.root.state;Xv(this,b,[],this._modules.root),y1(this,b),r.forEach(function(C){return C(n)})},b1={state:{configurable:!0}};Ua.prototype.install=function(t,n){t.provide(n||OPe,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&GPe(t,this)};b1.state.get=function(){return this._state.data};b1.state.set=function(e){};Ua.prototype.commit=function(t,n,r){var s=this,u=Qg(t,n,r),h=u.type,o=u.payload,p={type:h,payload:o},y=this._mutations[h];y&&(this._withCommit(function(){y.forEach(function(C){C(o)})}),this._subscribers.slice().forEach(function(b){return b(p,s.state)}))};Ua.prototype.dispatch=function(t,n){var r=this,s=Qg(t,n),u=s.type,h=s.payload,o={type:u,payload:h},p=this._actions[u];if(p){try{this._actionSubscribers.slice().filter(function(b){return b.before}).forEach(function(b){return b.before(o,r.state)})}catch{}var y=p.length>1?Promise.all(p.map(function(b){return b(h)})):p[0](h);return new Promise(function(b,C){y.then(function(k){try{r._actionSubscribers.filter(function(I){return I.after}).forEach(function(I){return I.after(o,r.state)})}catch{}b(k)},function(k){try{r._actionSubscribers.filter(function(I){return I.error}).forEach(function(I){return I.error(o,r.state,k)})}catch{}C(k)})})}};Ua.prototype.subscribe=function(t,n){return RD(t,this._subscribers,n)};Ua.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return RD(r,this._actionSubscribers,n)};Ua.prototype.watch=function(t,n,r){var s=this;return ot(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Ua.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Ua.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Xv(this,this.state,t,this._modules.get(t),r.preserveState),y1(this,this.state)};Ua.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=_1(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),OD(this)};Ua.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Ua.prototype.hotUpdate=function(t){this._modules.update(t),OD(this,!0)};Ua.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Ua.prototype,b1);new TextEncoder;const qD=new TextDecoder,QPe=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},eDe=e=>{let t=e;t instanceof Uint8Array&&(t=qD.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return QPe(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class tDe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class jc extends tDe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function nDe(e){return typeof e=="object"&&e!==null}function rDe(e){if(!nDe(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const iDe=eDe;function E2(e){if(typeof e!="string")throw new jc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new jc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new jc("Invalid JWT");if(!t)throw new jc("JWTs must contain a payload");let r;try{r=iDe(t)}catch{throw new jc("Failed to base64url decode the payload")}let s;try{s=JSON.parse(qD.decode(r))}catch{throw new jc("Failed to parse the decoded payload as JSON")}if(!rDe(s))throw new jc("Invalid JWT Claims Set");return s}const aDe=JPe({state:{loginKey:null,loginSubject:null,loginIssuer:null,loginExpires:null,loginAdmin:!1,loginCodes:[],libraryServices:[]},mutations:{initialiseStore(e){if(localStorage.getItem("loginKey")){e.loginKey=localStorage.getItem("loginKey");const t=E2(e.loginKey);e.loginSubject=t.sub,e.loginIssuer=t.iss,e.loginExpires=new Date(t.exp*1e3),e.loginAdmin=t.admin,e.loginCodes=t.codes}},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t;const n=E2(e.loginKey);e.loginSubject=n.sub,e.loginIssuer=n.iss,e.loginExpires=new Date(n.exp*1e3),e.loginAdmin=n.admin,e.loginCodes=n.codes},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null,e.loginSubject=null,e.loginIssuer=null,e.loginExpires=null,e.loginAdmin=null,e.loginCodes=[]},setServices(e,t){e.libraryServices=t}},actions:{logout({commit:e}){e("logout")}}}),sDe=We({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...eo(),...hn(),...ns(),...K0(),...Pi(),...Xn({tag:"footer"}),...vr()},"VFooter"),oDe=ht()({name:"VFooter",props:sDe(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(_t(e,"color")),{borderClasses:h}=Lo(e),{elevationClasses:o}=As(e),{roundedClasses:p}=Bi(e),y=Rt(32),{resizeRef:b}=lc(R=>{R.length&&(y.value=R[0].target.clientHeight)}),C=Y(()=>e.height==="auto"?y.value:parseInt(e.height,10)),{layoutItemStyles:k,layoutIsReady:I}=X0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:Y(()=>"bottom"),layoutSize:C,elementSize:Y(()=>e.height==="auto"?void 0:C.value),active:Y(()=>e.app),absolute:_t(e,"absolute")});return St(()=>T(e.tag,{ref:b,class:["v-footer",r.value,s.value,h.value,o.value,p.value,e.class],style:[u.value,e.app?k.value:{height:Gt(e.height)},e.style]},n)),e.app?I:{}}}),lDe={};function cDe(e,t){return fn(),Vn(oDe,{app:"",color:"grey-lighten-5",class:"pa-3"},{default:De(()=>[T(Us,{justify:"center",class:"text-xs-center w-100","no-gutters":""},{default:De(()=>[T(Kt,{variant:"text",color:"info",to:"/accessibility"},{default:De(()=>[zt(" Accessibility ")]),_:1}),zt("   "),T(Kt,{variant:"text",color:"info",to:"/privacy"},{default:De(()=>[zt("Privacy")]),_:1})]),_:1})]),_:1})}const uDe=Qr(lDe,[["render",cDe]]),dDe="/assets/logo.png",hDe=We({...hn(),...uB({fullHeight:!0}),...vr()},"VApp"),fDe=ht()({name:"VApp",props:hDe(),setup(e,t){let{slots:n}=t;const r=Rr(e),{layoutClasses:s,getLayoutItem:u,items:h,layoutRef:o}=hB(e),{rtlClasses:p}=es();return St(()=>T("div",{ref:o,class:["v-application",r.themeClasses.value,s.value,p.value,e.class],style:[e.style]},[T("div",{class:"v-application__wrap"},[T(zR,null,{default:()=>{var y;return[T(Ht,null,[(y=n.default)==null?void 0:y.call(n)])]}})])])),{getLayoutItem:u,items:h,theme:r}}}),mDe=We({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function pDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0;const s=dt(null),u=Rt(0),h=Rt(0),o=Rt(0),p=Rt(!1),y=Rt(!1),b=Y(()=>Number(e.scrollThreshold)),C=Y(()=>la((b.value-u.value)/b.value||0)),k=()=>{const I=s.value;!I||n&&!n.value||(r=u.value,u.value="window"in I?I.pageYOffset:I.scrollTop,y.value=u.value<r,o.value=Math.abs(u.value-b.value))};return ot(y,()=>{h.value=h.value||u.value}),ot(p,()=>{h.value=0}),ha(()=>{ot(()=>e.scrollTarget,I=>{var L;const R=I?document.querySelector(I):window;R&&R!==s.value&&((L=s.value)==null||L.removeEventListener("scroll",k),s.value=R,s.value.addEventListener("scroll",k,{passive:!0}))},{immediate:!0})}),wr(()=>{var I;(I=s.value)==null||I.removeEventListener("scroll",k)}),n&&ot(n,k,{immediate:!0}),{scrollThreshold:b,currentScroll:u,currentThreshold:o,isScrollActive:p,scrollRatio:C,isScrollingUp:y,savedScroll:h}}const gDe=We({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...NP(),...K0(),...mDe(),height:{type:[Number,String],default:64}},"VAppBar"),vDe=ht()({name:"VAppBar",props:gDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dt(),s=dn(e,"modelValue"),u=Y(()=>{var se;const K=new Set(((se=e.scrollBehavior)==null?void 0:se.split(" "))??[]);return{hide:K.has("hide"),fullyHide:K.has("fully-hide"),inverted:K.has("inverted"),collapse:K.has("collapse"),elevate:K.has("elevate"),fadeImage:K.has("fade-image")}}),h=Y(()=>{const K=u.value;return K.hide||K.fullyHide||K.inverted||K.collapse||K.elevate||K.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:p,isScrollingUp:y,scrollRatio:b}=pDe(e,{canScroll:h}),C=Y(()=>u.value.hide||u.value.fullyHide),k=Y(()=>e.collapse||u.value.collapse&&(u.value.inverted?b.value>0:b.value===0)),I=Y(()=>e.flat||u.value.fullyHide&&!s.value||u.value.elevate&&(u.value.inverted?o.value>0:o.value===0)),R=Y(()=>u.value.fadeImage?u.value.inverted?1-b.value:b.value:void 0),L=Y(()=>{var Q,ee;const K=Number(((Q=r.value)==null?void 0:Q.contentHeight)??e.height),se=Number(((ee=r.value)==null?void 0:ee.extensionHeight)??0);return C.value?o.value<p.value||u.value.fullyHide?K+se:K:K+se});Ja(Y(()=>!!e.scrollBehavior),()=>{si(()=>{C.value?u.value.inverted?s.value=o.value>p.value:s.value=y.value||o.value<p.value:s.value=!0})});const{ssrBootStyles:F}=_m(),{layoutItemStyles:B,layoutIsReady:q}=X0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:_t(e,"location"),layoutSize:L,elementSize:Rt(void 0),active:s,absolute:_t(e,"absolute")});return St(()=>{const K=n0.filterProps(e);return T(n0,it({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":R.value,height:void 0,...F.value},e.style]},K,{collapse:k.value,flat:I.value}),n)}),q}}),yDe=We({...nx({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),_De=ht()({name:"VAppBarNavIcon",props:yDe(),setup(e,t){let{slots:n}=t;return St(()=>T(Kt,it(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),bDe=We({scrollable:Boolean,...hn(),...to(),...Xn({tag:"main"})},"VMain"),xDe=ht()({name:"VMain",props:bDe(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=no(e),{mainStyles:s,layoutIsReady:u}=CA(),{ssrBootStyles:h}=_m();return St(()=>T(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,h.value,r.value,e.style]},{default:()=>{var o,p;return[e.scrollable?T("div",{class:"v-main__scroller"},[(o=n.default)==null?void 0:o.call(n)]):(p=n.default)==null?void 0:p.call(n)]}})),u}});function wDe(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const s=Rt(!1),u=Rt(0),h=Y(()=>{const y=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[y]:Gt(u.value)}:{top:r.value.top}]});ha(()=>{ot(n,y=>{y?window.addEventListener("scroll",p,{passive:!0}):window.removeEventListener("scroll",p)},{immediate:!0})}),wr(()=>{window.removeEventListener("scroll",p)});let o=0;function p(){const y=o>window.scrollY?"up":"down",b=t.value.getBoundingClientRect(),C=parseFloat(r.value.top??0),k=window.scrollY-Math.max(0,u.value-C),I=b.height+Math.max(u.value,C)-window.scrollY-window.innerHeight,R=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;b.height<window.innerHeight-C?(s.value="top",u.value=C):y==="up"&&s.value==="bottom"||y==="down"&&s.value==="top"?(u.value=window.scrollY+b.top-R,s.value=!0):y==="down"&&I<=0?(u.value=0,s.value="bottom"):y==="up"&&k<=0&&(R?s.value!=="top"&&(u.value=-k+R+C,s.value="top"):(u.value=b.top+k,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:h}}const SDe=100,kDe=20;function I2(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function P2(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=I2(t),s=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(s-r)*Math.abs(s),n===e.length-1&&(t*=.5)}return I2(t)*1e3}function CDe(){const e={};function t(s){Array.from(s.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new wF(kDe))).push([s.timeStamp,u])})}function n(s){Array.from(s.changedTouches).forEach(u=>{delete e[u.identifier]})}function r(s){var y;const u=(y=e[s])==null?void 0:y.values().reverse();if(!u)throw new Error(`No samples for touch id ${s}`);const h=u[0],o=[],p=[];for(const b of u){if(h[0]-b[0]>SDe)break;o.push({t:b[0],d:b[1].clientX}),p.push({t:b[0],d:b[1].clientY})}return{x:P2(o),y:P2(p),get direction(){const{x:b,y:C}=this,[k,I]=[Math.abs(b),Math.abs(C)];return k>I&&b>=0?"right":k>I&&b<=0?"left":I>k&&C>=0?"down":I>k&&C<=0?"up":TDe()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function TDe(){throw new Error}function ADe(e){let{el:t,isActive:n,isTemporary:r,width:s,touchless:u,position:h}=e;ha(()=>{window.addEventListener("touchstart",q,{passive:!0}),window.addEventListener("touchmove",K,{passive:!1}),window.addEventListener("touchend",se,{passive:!0})}),wr(()=>{window.removeEventListener("touchstart",q),window.removeEventListener("touchmove",K),window.removeEventListener("touchend",se)});const o=Y(()=>["left","right"].includes(h.value)),{addMovement:p,endTouch:y,getVelocity:b}=CDe();let C=!1;const k=Rt(!1),I=Rt(0),R=Rt(0);let L;function F(ee,re){return(h.value==="left"?ee:h.value==="right"?document.documentElement.clientWidth-ee:h.value==="top"?ee:h.value==="bottom"?document.documentElement.clientHeight-ee:dd())-(re?s.value:0)}function B(ee){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const H=h.value==="left"?(ee-R.value)/s.value:h.value==="right"?(document.documentElement.clientWidth-ee-R.value)/s.value:h.value==="top"?(ee-R.value)/s.value:h.value==="bottom"?(document.documentElement.clientHeight-ee-R.value)/s.value:dd();return re?Math.max(0,Math.min(1,H)):H}function q(ee){if(u.value)return;const re=ee.changedTouches[0].clientX,H=ee.changedTouches[0].clientY,j=25,Z=h.value==="left"?re<j:h.value==="right"?re>document.documentElement.clientWidth-j:h.value==="top"?H<j:h.value==="bottom"?H>document.documentElement.clientHeight-j:dd(),le=n.value&&(h.value==="left"?re<s.value:h.value==="right"?re>document.documentElement.clientWidth-s.value:h.value==="top"?H<s.value:h.value==="bottom"?H>document.documentElement.clientHeight-s.value:dd());(Z||le||n.value&&r.value)&&(L=[re,H],R.value=F(o.value?re:H,n.value),I.value=B(o.value?re:H),C=R.value>-20&&R.value<80,y(ee),p(ee))}function K(ee){const re=ee.changedTouches[0].clientX,H=ee.changedTouches[0].clientY;if(C){if(!ee.cancelable){C=!1;return}const Z=Math.abs(re-L[0]),le=Math.abs(H-L[1]);(o.value?Z>le&&Z>3:le>Z&&le>3)?(k.value=!0,C=!1):(o.value?le:Z)>3&&(C=!1)}if(!k.value)return;ee.preventDefault(),p(ee);const j=B(o.value?re:H,!1);I.value=Math.max(0,Math.min(1,j)),j>1?R.value=F(o.value?re:H,!0):j<0&&(R.value=F(o.value?re:H,!1))}function se(ee){if(C=!1,!k.value)return;p(ee),k.value=!1;const re=b(ee.changedTouches[0].identifier),H=Math.abs(re.x),j=Math.abs(re.y);(o.value?H>j&&H>400:j>H&&j>3)?n.value=re.direction===({left:"right",right:"left",top:"down",bottom:"up"}[h.value]||dd()):n.value=I.value>.5}const Q=Y(()=>k.value?{transform:h.value==="left"?`translateX(calc(-100% + ${I.value*s.value}px))`:h.value==="right"?`translateX(calc(100% - ${I.value*s.value}px))`:h.value==="top"?`translateY(calc(-100% + ${I.value*s.value}px))`:h.value==="bottom"?`translateY(calc(100% - ${I.value*s.value}px))`:dd(),transition:"none"}:void 0);return Ja(k,()=>{var H,j;const ee=((H=t.value)==null?void 0:H.style.transform)??null,re=((j=t.value)==null?void 0:j.style.transition)??null;si(()=>{var Z,le,ne,ve;(le=t.value)==null||le.style.setProperty("transform",((Z=Q.value)==null?void 0:Z.transform)||"none"),(ve=t.value)==null||ve.style.setProperty("transition",((ne=Q.value)==null?void 0:ne.transition)||null)}),da(()=>{var Z,le;(Z=t.value)==null||Z.style.setProperty("transform",ee),(le=t.value)==null||le.style.setProperty("transition",re)})}),{isDragging:k,dragProgress:I,dragStyles:Q}}function dd(){throw new Error}const EDe=["start","end","left","right","top","bottom"],IDe=We({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>EDe.includes(e)},sticky:Boolean,...eo(),...hn(),...TE(),...Bd({mobile:null}),...ns(),...K0(),...Pi(),...Xn({tag:"nav"}),...vr()},"VNavigationDrawer"),PDe=ht()({name:"VNavigationDrawer",props:IDe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{isRtl:u}=es(),{themeClasses:h}=Rr(e),{borderClasses:o}=Lo(e),{backgroundColorClasses:p,backgroundColorStyles:y}=yi(_t(e,"color")),{elevationClasses:b}=As(e),{displayClasses:C,mobile:k}=vl(e),{roundedClasses:I}=Bi(e),R=BA(),L=dn(e,"modelValue",null,Ue=>!!Ue),{ssrBootStyles:F}=_m(),{scopeId:B}=Ud(),q=dt(),K=Rt(!1),{runOpenDelay:se,runCloseDelay:Q}=AE(e,Ue=>{K.value=Ue}),ee=Y(()=>e.rail&&e.expandOnHover&&K.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),re=Y(()=>yb(e.location,u.value)),H=Y(()=>e.persistent),j=Y(()=>!e.permanent&&(k.value||e.temporary)),Z=Y(()=>e.sticky&&!j.value&&re.value!=="bottom");Ja(()=>e.expandOnHover&&e.rail!=null,()=>{ot(K,Ue=>r("update:rail",!Ue))}),Ja(()=>!e.disableResizeWatcher,()=>{ot(j,Ue=>!e.permanent&&Hn(()=>L.value=!Ue))}),Ja(()=>!e.disableRouteWatcher&&!!R,()=>{ot(R.currentRoute,()=>j.value&&(L.value=!1))}),ot(()=>e.permanent,Ue=>{Ue&&(L.value=!0)}),e.modelValue==null&&!j.value&&(L.value=e.permanent||!k.value);const{isDragging:le,dragProgress:ne}=ADe({el:q,isActive:L,isTemporary:j,width:ee,touchless:_t(e,"touchless"),position:re}),ve=Y(()=>{const Ue=j.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):ee.value;return le.value?Ue*ne.value:Ue}),fe=Y(()=>["top","bottom"].includes(e.location)?0:ee.value),{layoutItemStyles:Ie,layoutItemScrimStyles:Ae,layoutIsReady:qe}=X0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:re,layoutSize:ve,elementSize:fe,active:Y(()=>L.value||le.value),disableTransitions:Y(()=>le.value),absolute:Y(()=>e.absolute||Z.value&&typeof ke.value!="string")}),{isStuck:ke,stickyStyles:Le}=wDe({rootEl:q,isSticky:Z,layoutItemStyles:Ie}),Ve=yi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),Je=Y(()=>({...le.value?{opacity:ne.value*.2,transition:"none"}:void 0,...Ae.value}));return ua({VList:{bgColor:"transparent"}}),St(()=>{const Ue=s.image||e.image;return T(Ht,null,[T(e.tag,it({ref:q,onMouseenter:se,onMouseleave:Q,class:["v-navigation-drawer",`v-navigation-drawer--${re.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":K.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":j.value,"v-navigation-drawer--persistent":H.value,"v-navigation-drawer--active":L.value,"v-navigation-drawer--sticky":Z.value},h.value,p.value,o.value,C.value,b.value,I.value,e.class],style:[y.value,Ie.value,F.value,Le.value,e.style,["top","bottom"].includes(re.value)?{height:"auto"}:{}]},B,n),{default:()=>{var ct,Lt,mt;return[Ue&&T("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?T(Un,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},s.image):T(pm,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),s.prepend&&T("div",{class:"v-navigation-drawer__prepend"},[(ct=s.prepend)==null?void 0:ct.call(s)]),T("div",{class:"v-navigation-drawer__content"},[(Lt=s.default)==null?void 0:Lt.call(s)]),s.append&&T("div",{class:"v-navigation-drawer__append"},[(mt=s.append)==null?void 0:mt.call(s)])]}}),T(Ao,{name:"fade-transition"},{default:()=>[j.value&&(le.value||L.value)&&!!e.scrim&&T("div",it({class:["v-navigation-drawer__scrim",Ve.backgroundColorClasses.value],style:[Je.value,Ve.backgroundColorStyles.value],onClick:()=>{H.value||(L.value=!1)}},B),null)]})])}),qe.then(()=>({isStuck:ke}))}}),DDe={name:"App",components:{"layout-footer":uDe},methods:{async logout(){await this.$store.dispatch("logout"),this.$router.push("/")}},data:()=>({drawer:null})},MDe={href:"/"};function LDe(e,t,n,r,s,u){const h=km,o=Sn("router-view"),p=Sn("layout-footer");return fn(),Vn(fDe,null,{default:De(()=>[T(vDe,{elevation:"0",flat:"",color:"grey-lighten-5"},{default:De(()=>[T(_De,{class:"hidden-lg-and-up",onClick:t[0]||(t[0]=y=>e.drawer=!e.drawer)}),T(Dr,null,{default:De(()=>[rr("a",MDe,[T(pm,{src:dDe,height:"40"})]),T(js)]),_:1})]),_:1}),T(PDe,{border:"",modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=y=>e.drawer=y),elevation:"0"},{append:De(()=>[T(Za,null,{default:De(()=>[T(To,null,{default:De(()=>[T(h,{actions:!0})]),_:1})]),_:1})]),default:De(()=>[T(Yf,{nav:""},{default:De(()=>[T(Pr,{color:"info",to:"/about","active-class":"highlighted",class:Oa(e.$route.path==="/about"?"highlighted":""),"prepend-icon":"mdi-information-variant"},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("About")]),_:1})]),_:1},8,["class"]),T(gr),T(Hs,{value:"Events","no-action":"","prepend-icon":"mdi-calendar-badge"},{activator:De(({props:y})=>[T(Pr,it(y,{title:"Events"}),null,16)]),default:De(()=>[T(Pr,{color:"success",to:"/events","active-class":"highlighted",class:Oa(e.$route.path==="/events"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Events")]),_:1})]),_:1},8,["class"])]),_:1}),T(Hs,{value:"Library locations","no-action":"","prepend-icon":"mdi-office-building-marker"},{activator:De(({props:y})=>[T(Pr,it(y,{title:"Library locations"}),null,16)]),default:De(()=>[T(Pr,{color:"success",to:"/libraries","active-class":"highlighted",class:Oa(e.$route.path==="/libraries"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Locations")]),_:1})]),_:1},8,["class"]),T(Pr,{color:"success",to:"/libraries-edit","active-class":"highlighted",class:Oa(e.$route.path==="/libraries"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Edit locations")]),_:1})]),_:1},8,["class"])]),_:1}),T(Hs,{value:"Loans","prepend-icon":"mdi-book-account-outline"},{activator:De(({props:y})=>[T(Pr,it(y,{title:"Loans"}),null,16)]),default:De(()=>[T(Pr,{color:"success",to:"/loans","active-class":"highlighted",class:Oa(e.$route.path==="/loans"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Loans")]),_:1})]),_:1},8,["class"])]),_:1}),T(Hs,{value:"Membership","prepend-icon":"mdi-account-group"},{activator:De(({props:y})=>[T(Pr,it(y,{title:"Membership"}),null,16)]),default:De(()=>[T(Pr,{color:"success",to:"/membership","active-class":"highlighted",class:Oa(e.$route.path==="/membership"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Membership")]),_:1})]),_:1},8,["class"]),T(Pr,{color:"success",to:"/postcode-to-lsoa","active-class":"highlighted",class:Oa(e.$route.path==="/postcode-to-lsoa"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Postcode converter")]),_:1})]),_:1},8,["class"]),T(Pr,{color:"success",to:"/membership-map","active-class":"highlighted",class:Oa(e.$route.path==="/membership-map"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Membership map")]),_:1})]),_:1},8,["class"])]),_:1}),T(Hs,{value:"MobileLibraries","prepend-icon":"mdi-bus-clock"},{activator:De(({props:y})=>[T(Pr,it(y,{title:"Mobile libraries"}),null,16)]),default:De(()=>[T(Pr,{color:"success",to:"/mobile-library-stops","active-class":"highlighted",class:Oa(e.$route.path==="/mobile-library-stops"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Mobile library stops")]),_:1})]),_:1},8,["class"])]),_:1}),T(Hs,{value:"Visits","prepend-icon":"mdi-shoe-print"},{activator:De(({props:y})=>[T(Pr,it(y,{title:"Visits"}),null,16)]),default:De(()=>[T(Pr,{color:"success",to:"/physical-visits","active-class":"highlighted",class:Oa(e.$route.path==="/physical-visits"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Physical visits")]),_:1})]),_:1},8,["class"])]),_:1}),T(Hs,{value:"Catalogue","prepend-icon":"mdi-bookshelf"},{activator:De(({props:y})=>[T(Pr,it(y,{title:"Catalogue"}),null,16)]),default:De(()=>[T(Pr,{color:"success",to:"/stock-summary","active-class":"highlighted",class:Oa(e.$route.path==="/stock-summary"?"highlighted":"")},{default:De(()=>[T(Wa,null,{default:De(()=>[zt("Stock summary")]),_:1})]),_:1},8,["class"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(xDe,null,{default:De(()=>[T(o)]),_:1}),T(p)]),_:1})}const RDe=Qr(DDe,[["render",LDe]]),ODe=TA({icons:{defaultSet:"mdi",aliases:bA,sets:{mdi:xA}},components:{...W4},defaults:{VBtn:{style:"text-transform: none;"},VTabs:{style:"text-transform: none;"}}});hF({extends:RDe,beforeCreate(){this.$store.commit("initialiseStore")}}).use(ODe).use(RPe).use(aDe).use(aV).component("layout-header",J4).component("markdown-section",h1e).component("user-profile",km).mount("#app")});export default FDe();
