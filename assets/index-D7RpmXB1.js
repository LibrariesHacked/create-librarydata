var FL=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var RDe=FL((FDe,yg)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function l0(e,t){const n=new Set(e.split(","));return r=>n.has(r)}const Gr={},wd=[],Ja=()=>{},zL=()=>!1,Kg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),c0=e=>e.startsWith("onUpdate:"),Pi=Object.assign,u0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},BL=Object.prototype.hasOwnProperty,Qn=(e,t)=>BL.call(e,t),yn=Array.isArray,Sd=e=>Xg(e)==="[object Map]",T2=e=>Xg(e)==="[object Set]",Cn=e=>typeof e=="function",ai=e=>typeof e=="string",uc=e=>typeof e=="symbol",Lr=e=>e!==null&&typeof e=="object",A2=e=>(Lr(e)||Cn(e))&&Cn(e.then)&&Cn(e.catch),E2=Object.prototype.toString,Xg=e=>E2.call(e),VL=e=>Xg(e).slice(8,-1),I2=e=>Xg(e)==="[object Object]",d0=e=>ai(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_f=l0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jg=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},NL=/-(\w)/g,ts=Jg(e=>e.replace(NL,(t,n)=>n?n.toUpperCase():"")),$L=/\B([A-Z])/g,hu=Jg(e=>e.replace($L,"-$1").toLowerCase()),Do=Jg(e=>e.charAt(0).toUpperCase()+e.slice(1)),r_=Jg(e=>e?`on${Do(e)}`:""),sc=(e,t)=>!Object.is(e,t),tg=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},P2=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},J_=e=>{const t=parseFloat(e);return isNaN(t)?e:t},UL=e=>{const t=ai(e)?Number(e):NaN;return isNaN(t)?e:t};let Jw;const D2=()=>Jw||(Jw=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function h0(e){if(yn(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ai(r)?GL(r):h0(r);if(s)for(const u in s)t[u]=s[u]}return t}else if(ai(e)||Lr(e))return e}const qL=/;(?![^(]*\))/g,jL=/:([^]+)/,HL=/\/\*[^]*?\*\//g;function GL(e){const t={};return e.replace(HL,"").split(qL).forEach(n=>{if(n){const r=n.split(jL);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function La(e){let t="";if(ai(e))t=e;else if(yn(e))for(let n=0;n<e.length;n++){const r=La(e[n]);r&&(t+=r+" ")}else if(Lr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const WL="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",YL=l0(WL);function M2(e){return!!e||e===""}const L2=e=>!!(e&&e.__v_isRef===!0),Ss=e=>ai(e)?e:e==null?"":yn(e)||Lr(e)&&(e.toString===E2||!Cn(e.toString))?L2(e)?Ss(e.value):JSON.stringify(e,R2,2):String(e),R2=(e,t)=>L2(t)?R2(e,t.value):Sd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],u)=>(n[i_(r,u)+" =>"]=s,n),{})}:T2(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>i_(n))}:uc(t)?i_(t):Lr(t)&&!yn(t)&&!I2(t)?String(t):t,i_=(e,t="")=>{var n;return uc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Za;class O2{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Za,!t&&Za&&(this.index=(Za.scopes||(Za.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Za;try{return Za=this,t()}finally{Za=n}}}on(){Za=this}off(){Za=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Qg(e){return new O2(e)}function ZL(e,t=Za){t&&t.active&&t.effects.push(e)}function KL(){return Za}function ha(e){Za&&Za.cleanups.push(e)}let tu;class f0{constructor(t,n,r,s){this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ZL(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,dc();for(let t=0;t<this._depsLength;t++){const n=this.deps[t];if(n.computed&&(XL(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),hc()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=rc,n=tu;try{return rc=!0,tu=this,this._runnings++,Qw(this),this.fn()}finally{eS(this),this._runnings--,tu=n,rc=t}}stop(){this.active&&(Qw(this),eS(this),this.onStop&&this.onStop(),this.active=!1)}}function XL(e){return e.value}function Qw(e){e._trackId++,e._depsLength=0}function eS(e){if(e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)F2(e.deps[t],e);e.deps.length=e._depsLength}}function F2(e,t){const n=e.get(t);n!==void 0&&t._trackId!==n&&(e.delete(t),e.size===0&&e.cleanup())}let rc=!0,Q_=0;const z2=[];function dc(){z2.push(rc),rc=!1}function hc(){const e=z2.pop();rc=e===void 0?!0:e}function m0(){Q_++}function p0(){for(Q_--;!Q_&&eb.length;)eb.shift()()}function B2(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);const r=e.deps[e._depsLength];r!==t?(r&&F2(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}const eb=[];function V2(e,t,n){m0();for(const r of e.keys()){let s;r._dirtyLevel<t&&(s??(s=e.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=t),r._shouldSchedule&&(s??(s=e.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&eb.push(r.scheduler)))}p0()}const N2=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},_g=new WeakMap,nu=Symbol(""),tb=Symbol("");function Na(e,t,n){if(rc&&tu){let r=_g.get(e);r||_g.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=N2(()=>r.delete(n))),B2(tu,s)}}function ll(e,t,n,r,s,u){const h=_g.get(e);if(!h)return;let o=[];if(t==="clear")o=[...h.values()];else if(n==="length"&&yn(e)){const g=Number(r);h.forEach((y,w)=>{(w==="length"||!uc(w)&&w>=g)&&o.push(y)})}else switch(n!==void 0&&o.push(h.get(n)),t){case"add":yn(e)?d0(n)&&o.push(h.get("length")):(o.push(h.get(nu)),Sd(e)&&o.push(h.get(tb)));break;case"delete":yn(e)||(o.push(h.get(nu)),Sd(e)&&o.push(h.get(tb)));break;case"set":Sd(e)&&o.push(h.get(nu));break}m0();for(const g of o)g&&V2(g,4);p0()}function JL(e,t){const n=_g.get(e);return n&&n.get(t)}const QL=l0("__proto__,__v_isRef,__isVue"),$2=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(uc)),tS=eR();function eR(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=an(this);for(let u=0,h=this.length;u<h;u++)Na(r,"get",u+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(an)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){dc(),m0();const r=an(this)[t].apply(this,n);return p0(),hc(),r}}),e}function tR(e){uc(e)||(e=String(e));const t=an(this);return Na(t,"has",e),t.hasOwnProperty(e)}class U2{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const s=this._isReadonly,u=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return u;if(n==="__v_raw")return r===(s?u?mR:G2:u?H2:j2).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const h=yn(t);if(!s){if(h&&Qn(tS,n))return Reflect.get(tS,n,r);if(n==="hasOwnProperty")return tR}const o=Reflect.get(t,n,r);return(uc(n)?$2.has(n):QL(n))||(s||Na(t,"get",n),u)?o:wr(o)?h&&d0(n)?o:o.value:Lr(o)?s?rm(o):Ai(o):o}}class q2 extends U2{constructor(t=!1){super(!1,t)}set(t,n,r,s){let u=t[n];if(!this._isShallow){const g=lu(u);if(!Pd(r)&&!lu(r)&&(u=an(u),r=an(r)),!yn(t)&&wr(u)&&!wr(r))return g?!1:(u.value=r,!0)}const h=yn(t)&&d0(n)?Number(n)<t.length:Qn(t,n),o=Reflect.set(t,n,r,s);return t===an(s)&&(h?sc(r,u)&&ll(t,"set",n,r):ll(t,"add",n,r)),o}deleteProperty(t,n){const r=Qn(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&ll(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!uc(n)||!$2.has(n))&&Na(t,"has",n),r}ownKeys(t){return Na(t,"iterate",yn(t)?"length":nu),Reflect.ownKeys(t)}}class nR extends U2{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const rR=new q2,iR=new nR,aR=new q2(!0),g0=e=>e,ev=e=>Reflect.getPrototypeOf(e);function Op(e,t,n=!1,r=!1){e=e.__v_raw;const s=an(e),u=an(t);n||(sc(t,u)&&Na(s,"get",t),Na(s,"get",u));const{has:h}=ev(s),o=r?g0:n?_0:If;if(h.call(s,t))return o(e.get(t));if(h.call(s,u))return o(e.get(u));e!==s&&e.get(t)}function Fp(e,t=!1){const n=this.__v_raw,r=an(n),s=an(e);return t||(sc(e,s)&&Na(r,"has",e),Na(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function zp(e,t=!1){return e=e.__v_raw,!t&&Na(an(e),"iterate",nu),Reflect.get(e,"size",e)}function nS(e,t=!1){!t&&!Pd(e)&&!lu(e)&&(e=an(e));const n=an(this);return ev(n).has.call(n,e)||(n.add(e),ll(n,"add",e,e)),this}function rS(e,t,n=!1){!n&&!Pd(t)&&!lu(t)&&(t=an(t));const r=an(this),{has:s,get:u}=ev(r);let h=s.call(r,e);h||(e=an(e),h=s.call(r,e));const o=u.call(r,e);return r.set(e,t),h?sc(t,o)&&ll(r,"set",e,t):ll(r,"add",e,t),this}function iS(e){const t=an(this),{has:n,get:r}=ev(t);let s=n.call(t,e);s||(e=an(e),s=n.call(t,e)),r&&r.call(t,e);const u=t.delete(e);return s&&ll(t,"delete",e,void 0),u}function aS(){const e=an(this),t=e.size!==0,n=e.clear();return t&&ll(e,"clear",void 0,void 0),n}function Bp(e,t){return function(r,s){const u=this,h=u.__v_raw,o=an(h),g=t?g0:e?_0:If;return!e&&Na(o,"iterate",nu),h.forEach((y,w)=>r.call(s,g(y),g(w),u))}}function Vp(e,t,n){return function(...r){const s=this.__v_raw,u=an(s),h=Sd(u),o=e==="entries"||e===Symbol.iterator&&h,g=e==="keys"&&h,y=s[e](...r),w=n?g0:t?_0:If;return!t&&Na(u,"iterate",g?tb:nu),{next(){const{value:k,done:C}=y.next();return C?{value:k,done:C}:{value:o?[w(k[0]),w(k[1])]:w(k),done:C}},[Symbol.iterator](){return this}}}}function ql(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function sR(){const e={get(u){return Op(this,u)},get size(){return zp(this)},has:Fp,add:nS,set:rS,delete:iS,clear:aS,forEach:Bp(!1,!1)},t={get(u){return Op(this,u,!1,!0)},get size(){return zp(this)},has:Fp,add(u){return nS.call(this,u,!0)},set(u,h){return rS.call(this,u,h,!0)},delete:iS,clear:aS,forEach:Bp(!1,!0)},n={get(u){return Op(this,u,!0)},get size(){return zp(this,!0)},has(u){return Fp.call(this,u,!0)},add:ql("add"),set:ql("set"),delete:ql("delete"),clear:ql("clear"),forEach:Bp(!0,!1)},r={get(u){return Op(this,u,!0,!0)},get size(){return zp(this,!0)},has(u){return Fp.call(this,u,!0)},add:ql("add"),set:ql("set"),delete:ql("delete"),clear:ql("clear"),forEach:Bp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Vp(u,!1,!1),n[u]=Vp(u,!0,!1),t[u]=Vp(u,!1,!0),r[u]=Vp(u,!0,!0)}),[e,n,t,r]}const[oR,lR,cR,uR]=sR();function v0(e,t){const n=t?e?uR:cR:e?lR:oR;return(r,s,u)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(Qn(n,s)&&s in r?n:r,s,u)}const dR={get:v0(!1,!1)},hR={get:v0(!1,!0)},fR={get:v0(!0,!1)},j2=new WeakMap,H2=new WeakMap,G2=new WeakMap,mR=new WeakMap;function pR(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function gR(e){return e.__v_skip||!Object.isExtensible(e)?0:pR(VL(e))}function Ai(e){return lu(e)?e:y0(e,!1,rR,dR,j2)}function W2(e){return y0(e,!1,aR,hR,H2)}function rm(e){return y0(e,!0,iR,fR,G2)}function y0(e,t,n,r,s){if(!Lr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=s.get(e);if(u)return u;const h=gR(e);if(h===0)return e;const o=new Proxy(e,h===2?r:n);return s.set(e,o),o}function bf(e){return lu(e)?bf(e.__v_raw):!!(e&&e.__v_isReactive)}function lu(e){return!!(e&&e.__v_isReadonly)}function Pd(e){return!!(e&&e.__v_isShallow)}function Y2(e){return e?!!e.__v_raw:!1}function an(e){const t=e&&e.__v_raw;return t?an(t):e}function bg(e){return Object.isExtensible(e)&&P2(e,"__v_skip",!0),e}const If=e=>Lr(e)?Ai(e):e,_0=e=>Lr(e)?rm(e):e;class Z2{constructor(t,n,r,s){this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new f0(()=>t(this._value),()=>ng(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const t=an(this);return(!t._cacheable||t.effect.dirty)&&sc(t._value,t._value=t.effect.run())&&ng(t,4),K2(t),t.effect._dirtyLevel>=2&&ng(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function vR(e,t,n=!1){let r,s;const u=Cn(e);return u?(r=e,s=Ja):(r=e.get,s=e.set),new Z2(r,s,u||!s,n)}function K2(e){var t;rc&&tu&&(e=an(e),B2(tu,(t=e.dep)!=null?t:e.dep=N2(()=>e.dep=void 0,e instanceof Z2?e:void 0)))}function ng(e,t=4,n,r){e=an(e);const s=e.dep;s&&V2(s,t)}function wr(e){return!!(e&&e.__v_isRef===!0)}function ht(e){return X2(e,!1)}function Rt(e){return X2(e,!0)}function X2(e,t){return wr(e)?e:new yR(e,t)}class yR{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:an(t),this._value=n?t:If(t)}get value(){return K2(this),this._value}set value(t){const n=this.__v_isShallow||Pd(t)||lu(t);t=n?t:an(t),sc(t,this._rawValue)&&(this._rawValue,this._rawValue=t,this._value=n?t:If(t),ng(this,4))}}function Br(e){return wr(e)?e.value:e}const _R={get:(e,t,n)=>Br(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return wr(s)&&!wr(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function J2(e){return bf(e)?e:new Proxy(e,_R)}function Vd(e){const t=yn(e)?new Array(e.length):{};for(const n in e)t[n]=Q2(e,n);return t}class bR{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return JL(an(this._object),this._key)}}class xR{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function bt(e,t,n){return wr(e)?e:Cn(e)?new xR(e):Lr(e)&&arguments.length>1?Q2(e,t,n):ht(e)}function Q2(e,t,n){const r=e[t];return wr(r)?r:new bR(e,t,n)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ic(e,t,n,r){try{return r?e(...r):e()}catch(s){tv(s,t,n)}}function ks(e,t,n,r){if(Cn(e)){const s=ic(e,t,n,r);return s&&A2(s)&&s.catch(u=>{tv(u,t,n)}),s}if(yn(e)){const s=[];for(let u=0;u<e.length;u++)s.push(ks(e[u],t,n,r));return s}}function tv(e,t,n,r=!0){const s=t?t.vnode:null;if(t){let u=t.parent;const h=t.proxy,o=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const y=u.ec;if(y){for(let w=0;w<y.length;w++)if(y[w](e,h,o)===!1)return}u=u.parent}const g=t.appContext.config.errorHandler;if(g){dc(),ic(g,null,10,[e,h,o]),hc();return}}wR(e,n,s,r)}function wR(e,t,n,r=!0){console.error(e)}let Pf=!1,nb=!1;const la=[];let wo=0;const kd=[];let Yl=null,Gc=0;const eT=Promise.resolve();let b0=null;function Xn(e){const t=b0||eT;return e?t.then(this?e.bind(this):e):t}function SR(e){let t=wo+1,n=la.length;for(;t<n;){const r=t+n>>>1,s=la[r],u=Df(s);u<e||u===e&&s.pre?t=r+1:n=r}return t}function x0(e){(!la.length||!la.includes(e,Pf&&e.allowRecurse?wo+1:wo))&&(e.id==null?la.push(e):la.splice(SR(e.id),0,e),tT())}function tT(){!Pf&&!nb&&(nb=!0,b0=eT.then(rT))}function kR(e){const t=la.indexOf(e);t>wo&&la.splice(t,1)}function CR(e){yn(e)?kd.push(...e):(!Yl||!Yl.includes(e,e.allowRecurse?Gc+1:Gc))&&kd.push(e),tT()}function sS(e,t,n=Pf?wo+1:0){for(;n<la.length;n++){const r=la[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;la.splice(n,1),n--,r()}}}function nT(e){if(kd.length){const t=[...new Set(kd)].sort((n,r)=>Df(n)-Df(r));if(kd.length=0,Yl){Yl.push(...t);return}for(Yl=t,Gc=0;Gc<Yl.length;Gc++){const n=Yl[Gc];n.active!==!1&&n()}Yl=null,Gc=0}}const Df=e=>e.id==null?1/0:e.id,TR=(e,t)=>{const n=Df(e)-Df(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function rT(e){nb=!1,Pf=!0,la.sort(TR);try{for(wo=0;wo<la.length;wo++){const t=la[wo];t&&t.active!==!1&&ic(t,t.i,t.i?15:14)}}finally{wo=0,la.length=0,nT(),Pf=!1,b0=null,(la.length||kd.length)&&rT()}}let za=null,iT=null;function xg(e){const t=za;return za=e,iT=e&&e.type.__scopeId||null,t}function De(e,t=za,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&yS(-1);const u=xg(t);let h;try{h=e(...s)}finally{xg(u),r._d&&yS(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function vi(e,t){if(za===null)return e;const n=sv(za),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,h,o,g=Gr]=t[s];u&&(Cn(u)&&(u={mounted:u,updated:u}),u.deep&&Ql(h),r.push({dir:u,instance:n,value:h,oldValue:void 0,arg:o,modifiers:g}))}return e}function Bc(e,t,n,r){const s=e.dirs,u=t&&t.dirs;for(let h=0;h<s.length;h++){const o=s[h];u&&(o.oldValue=u[h].value);let g=o.dir[r];g&&(dc(),ks(g,n,8,[e.el,o,e,t]),hc())}}const Zl=Symbol("_leaveCb"),Np=Symbol("_enterCb");function aT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Vi(()=>{e.isMounted=!0}),vr(()=>{e.isUnmounting=!0}),e}const ys=[Function,Array],sT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ys,onEnter:ys,onAfterEnter:ys,onEnterCancelled:ys,onBeforeLeave:ys,onLeave:ys,onAfterLeave:ys,onLeaveCancelled:ys,onBeforeAppear:ys,onAppear:ys,onAfterAppear:ys,onAppearCancelled:ys},oT=e=>{const t=e.subTree;return t.component?oT(t.component):t},AR={name:"BaseTransition",props:sT,setup(e,{slots:t}){const n=Ts(),r=aT();return()=>{const s=t.default&&w0(t.default(),!0);if(!s||!s.length)return;let u=s[0];if(s.length>1){for(const C of s)if(C.type!==Fa){u=C;break}}const h=an(e),{mode:o}=h;if(r.isLeaving)return a_(u);const g=oS(u);if(!g)return a_(u);let y=Mf(g,h,r,n,C=>y=C);Dd(g,y);const w=n.subTree,k=w&&oS(w);if(k&&k.type!==Fa&&!Wc(g,k)&&oT(n).type!==Fa){const C=Mf(k,h,r,n);if(Dd(k,C),o==="out-in"&&g.type!==Fa)return r.isLeaving=!0,C.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},a_(u);o==="in-out"&&g.type!==Fa&&(C.delayLeave=(I,O,L)=>{const R=lT(r,k);R[String(k.key)]=k,I[Zl]=()=>{O(),I[Zl]=void 0,delete y.delayedLeave},y.delayedLeave=L})}return u}}},ER=AR;function lT(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Mf(e,t,n,r,s){const{appear:u,mode:h,persisted:o=!1,onBeforeEnter:g,onEnter:y,onAfterEnter:w,onEnterCancelled:k,onBeforeLeave:C,onLeave:I,onAfterLeave:O,onLeaveCancelled:L,onBeforeAppear:R,onAppear:B,onAfterAppear:j,onAppearCancelled:Z}=t,re=String(e.key),ie=lT(n,e),Q=($,K)=>{$&&ks($,r,9,K)},se=($,K)=>{const ae=K[1];Q($,K),yn($)?$.every(te=>te.length<=1)&&ae():$.length<=1&&ae()},H={mode:h,persisted:o,beforeEnter($){let K=g;if(!n.isMounted)if(u)K=R||g;else return;$[Zl]&&$[Zl](!0);const ae=ie[re];ae&&Wc(e,ae)&&ae.el[Zl]&&ae.el[Zl](),Q(K,[$])},enter($){let K=y,ae=w,te=k;if(!n.isMounted)if(u)K=B||y,ae=j||w,te=Z||k;else return;let be=!1;const me=$[Np]=Ie=>{be||(be=!0,Ie?Q(te,[$]):Q(ae,[$]),H.delayedLeave&&H.delayedLeave(),$[Np]=void 0)};K?se(K,[$,me]):me()},leave($,K){const ae=String(e.key);if($[Np]&&$[Np](!0),n.isUnmounting)return K();Q(C,[$]);let te=!1;const be=$[Zl]=me=>{te||(te=!0,K(),me?Q(L,[$]):Q(O,[$]),$[Zl]=void 0,ie[ae]===e&&delete ie[ae])};ie[ae]=e,I?se(I,[$,be]):be()},clone($){const K=Mf($,t,n,r,s);return s&&s(K),K}};return H}function a_(e){if(nv(e))return e=dl(e),e.children=null,e}function oS(e){if(!nv(e))return e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Cn(n.default))return n.default()}}function Dd(e,t){e.shapeFlag&6&&e.component?Dd(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function w0(e,t=!1,n){let r=[],s=0;for(let u=0;u<e.length;u++){let h=e[u];const o=n==null?h.key:String(n)+String(h.key!=null?h.key:u);h.type===Gt?(h.patchFlag&128&&s++,r=r.concat(w0(h.children,t,o))):(t||h.type!==Fa)&&r.push(o!=null?dl(h,{key:o}):h)}if(s>1)for(let u=0;u<r.length;u++)r[u].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function lr(e,t){return Cn(e)?Pi({name:e.name},t,{setup:e}):e}const rg=e=>!!e.type.__asyncLoader,nv=e=>e.type.__isKeepAlive;function cT(e,t){uT(e,"a",t)}function S0(e,t){uT(e,"da",t)}function uT(e,t,n=Yi){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(rv(t,r,n),n){let s=n.parent;for(;s&&s.parent;)nv(s.parent.vnode)&&IR(r,t,n,s),s=s.parent}}function IR(e,t,n,r){const s=rv(t,e,r,!0);hT(()=>{u0(r[t],s)},n)}function rv(e,t,n=Yi,r=!1){if(n){const s=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...h)=>{dc();const o=am(n),g=ks(t,n,e,h);return o(),hc(),g});return r?s.unshift(u):s.push(u),u}}const ml=e=>(t,n=Yi)=>{(!av||e==="sp")&&rv(e,(...r)=>t(...r),n)},k0=ml("bm"),Vi=ml("m"),dT=ml("bu"),C0=ml("u"),vr=ml("bum"),hT=ml("um"),PR=ml("sp"),DR=ml("rtg"),MR=ml("rtc");function LR(e,t=Yi){rv("ec",e,t)}const T0="components",RR="directives";function kn(e,t){return A0(T0,e,!0,t)||e}const OR=Symbol.for("v-ndc");function FR(e){return ai(e)&&A0(T0,e,!1)||e}function to(e){return A0(RR,e)}function A0(e,t,n=!0,r=!1){const s=za||Yi;if(s){const u=s.type;if(e===T0){const o=CO(u,!1);if(o&&(o===t||o===ts(t)||o===Do(ts(t))))return u}const h=lS(s[e]||u[e],t)||lS(s.appContext[e],t);return!h&&r?u:h}}function lS(e,t){return e&&(e[t]||e[ts(t)]||e[Do(ts(t))])}function ig(e,t,n,r){let s;const u=n;if(yn(e)||ai(e)){s=new Array(e.length);for(let h=0,o=e.length;h<o;h++)s[h]=t(e[h],h,void 0,u)}else if(typeof e=="number"){s=new Array(e);for(let h=0;h<e;h++)s[h]=t(h+1,h,void 0,u)}else if(Lr(e))if(e[Symbol.iterator])s=Array.from(e,(h,o)=>t(h,o,void 0,u));else{const h=Object.keys(e);s=new Array(h.length);for(let o=0,g=h.length;o<g;o++){const y=h[o];s[o]=t(e[y],y,o,u)}}else s=[];return s}const rb=e=>e?MT(e)?sv(e):rb(e.parent):null,xf=Pi(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rb(e.parent),$root:e=>rb(e.root),$emit:e=>e.emit,$options:e=>E0(e),$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,x0(e.update)}),$nextTick:e=>e.n||(e.n=Xn.bind(e.proxy)),$watch:e=>sO.bind(e)}),s_=(e,t)=>e!==Gr&&!e.__isScriptSetup&&Qn(e,t),zR={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:u,accessCache:h,type:o,appContext:g}=e;let y;if(t[0]!=="$"){const I=h[t];if(I!==void 0)switch(I){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return u[t]}else{if(s_(r,t))return h[t]=1,r[t];if(s!==Gr&&Qn(s,t))return h[t]=2,s[t];if((y=e.propsOptions[0])&&Qn(y,t))return h[t]=3,u[t];if(n!==Gr&&Qn(n,t))return h[t]=4,n[t];ib&&(h[t]=0)}}const w=xf[t];let k,C;if(w)return t==="$attrs"&&Na(e.attrs,"get",""),w(e);if((k=o.__cssModules)&&(k=k[t]))return k;if(n!==Gr&&Qn(n,t))return h[t]=4,n[t];if(C=g.config.globalProperties,Qn(C,t))return C[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:u}=e;return s_(s,t)?(s[t]=n,!0):r!==Gr&&Qn(r,t)?(r[t]=n,!0):Qn(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:u}},h){let o;return!!n[h]||e!==Gr&&Qn(e,h)||s_(t,h)||(o=u[0])&&Qn(o,h)||Qn(r,h)||Qn(xf,h)||Qn(s.config.globalProperties,h)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Qn(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function cS(e){return yn(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ib=!0;function BR(e){const t=E0(e),n=e.proxy,r=e.ctx;ib=!1,t.beforeCreate&&uS(t.beforeCreate,e,"bc");const{data:s,computed:u,methods:h,watch:o,provide:g,inject:y,created:w,beforeMount:k,mounted:C,beforeUpdate:I,updated:O,activated:L,deactivated:R,beforeDestroy:B,beforeUnmount:j,destroyed:Z,unmounted:re,render:ie,renderTracked:Q,renderTriggered:se,errorCaptured:H,serverPrefetch:$,expose:K,inheritAttrs:ae,components:te,directives:be,filters:me}=t;if(y&&VR(y,r,null),h)for(const Ue in h){const Fe=h[Ue];Cn(Fe)&&(r[Ue]=Fe.bind(n))}if(s){const Ue=s.call(n,n);Lr(Ue)&&(e.data=Ai(Ue))}if(ib=!0,u)for(const Ue in u){const Fe=u[Ue],Ce=Cn(Fe)?Fe.bind(n,n):Cn(Fe.get)?Fe.get.bind(n,n):Ja,Ve=!Cn(Fe)&&Cn(Fe.set)?Fe.set.bind(n):Ja,$e=Y({get:Ce,set:Ve});Object.defineProperty(r,Ue,{enumerable:!0,configurable:!0,get:()=>$e.value,set:qe=>$e.value=qe})}if(o)for(const Ue in o)fT(o[Ue],r,n,Ue);if(g){const Ue=Cn(g)?g.call(n):g;Reflect.ownKeys(Ue).forEach(Fe=>{wn(Fe,Ue[Fe])})}w&&uS(w,e,"c");function Ae(Ue,Fe){yn(Fe)?Fe.forEach(Ce=>Ue(Ce.bind(n))):Fe&&Ue(Fe.bind(n))}if(Ae(k0,k),Ae(Vi,C),Ae(dT,I),Ae(C0,O),Ae(cT,L),Ae(S0,R),Ae(LR,H),Ae(MR,Q),Ae(DR,se),Ae(vr,j),Ae(hT,re),Ae(PR,$),yn(K))if(K.length){const Ue=e.exposed||(e.exposed={});K.forEach(Fe=>{Object.defineProperty(Ue,Fe,{get:()=>n[Fe],set:Ce=>n[Fe]=Ce})})}else e.exposed||(e.exposed={});ie&&e.render===Ja&&(e.render=ie),ae!=null&&(e.inheritAttrs=ae),te&&(e.components=te),be&&(e.directives=be)}function VR(e,t,n=Ja){yn(e)&&(e=ab(e));for(const r in e){const s=e[r];let u;Lr(s)?"default"in s?u=yt(s.from||r,s.default,!0):u=yt(s.from||r):u=yt(s),wr(u)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:h=>u.value=h}):t[r]=u}}function uS(e,t,n){ks(yn(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function fT(e,t,n,r){const s=r.includes(".")?ET(n,r):()=>n[r];if(ai(e)){const u=t[e];Cn(u)&&ut(s,u)}else if(Cn(e))ut(s,e.bind(n));else if(Lr(e))if(yn(e))e.forEach(u=>fT(u,t,n,r));else{const u=Cn(e.handler)?e.handler.bind(n):t[e.handler];Cn(u)&&ut(s,u,e)}}function E0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:u,config:{optionMergeStrategies:h}}=e.appContext,o=u.get(t);let g;return o?g=o:!s.length&&!n&&!r?g=t:(g={},s.length&&s.forEach(y=>wg(g,y,h,!0)),wg(g,t,h)),Lr(t)&&u.set(t,g),g}function wg(e,t,n,r=!1){const{mixins:s,extends:u}=t;u&&wg(e,u,n,!0),s&&s.forEach(h=>wg(e,h,n,!0));for(const h in t)if(!(r&&h==="expose")){const o=NR[h]||n&&n[h];e[h]=o?o(e[h],t[h]):t[h]}return e}const NR={data:dS,props:hS,emits:hS,methods:vf,computed:vf,beforeCreate:ka,created:ka,beforeMount:ka,mounted:ka,beforeUpdate:ka,updated:ka,beforeDestroy:ka,beforeUnmount:ka,destroyed:ka,unmounted:ka,activated:ka,deactivated:ka,errorCaptured:ka,serverPrefetch:ka,components:vf,directives:vf,watch:UR,provide:dS,inject:$R};function dS(e,t){return t?e?function(){return Pi(Cn(e)?e.call(this,this):e,Cn(t)?t.call(this,this):t)}:t:e}function $R(e,t){return vf(ab(e),ab(t))}function ab(e){if(yn(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ka(e,t){return e?[...new Set([].concat(e,t))]:t}function vf(e,t){return e?Pi(Object.create(null),e,t):t}function hS(e,t){return e?yn(e)&&yn(t)?[...new Set([...e,...t])]:Pi(Object.create(null),cS(e),cS(t??{})):t}function UR(e,t){if(!e)return t;if(!t)return e;const n=Pi(Object.create(null),e);for(const r in t)n[r]=ka(e[r],t[r]);return n}function mT(){return{app:null,config:{isNativeTag:zL,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qR=0;function jR(e,t){return function(r,s=null){Cn(r)||(r=Pi({},r)),s!=null&&!Lr(s)&&(s=null);const u=mT(),h=new WeakSet;let o=!1;const g=u.app={_uid:qR++,_component:r,_props:s,_container:null,_context:u,_instance:null,version:AO,get config(){return u.config},set config(y){},use(y,...w){return h.has(y)||(y&&Cn(y.install)?(h.add(y),y.install(g,...w)):Cn(y)&&(h.add(y),y(g,...w))),g},mixin(y){return u.mixins.includes(y)||u.mixins.push(y),g},component(y,w){return w?(u.components[y]=w,g):u.components[y]},directive(y,w){return w?(u.directives[y]=w,g):u.directives[y]},mount(y,w,k){if(!o){const C=T(r,s);return C.appContext=u,k===!0?k="svg":k===!1&&(k=void 0),w&&t?t(C,y):e(C,y,k),o=!0,g._container=y,y.__vue_app__=g,sv(C.component)}},unmount(){o&&(e(null,g._container),delete g._container.__vue_app__)},provide(y,w){return u.provides[y]=w,g},runWithContext(y){const w=Cd;Cd=g;try{return y()}finally{Cd=w}}};return g}}let Cd=null;function wn(e,t){if(Yi){let n=Yi.provides;const r=Yi.parent&&Yi.parent.provides;r===n&&(n=Yi.provides=Object.create(r)),n[e]=t}}function yt(e,t,n=!1){const r=Yi||za;if(r||Cd){const s=Cd?Cd._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Cn(t)?t.call(r&&r.proxy):t}}const pT={},gT=()=>Object.create(pT),vT=e=>Object.getPrototypeOf(e)===pT;function HR(e,t,n,r=!1){const s={},u=gT();e.propsDefaults=Object.create(null),yT(e,t,s,u);for(const h in e.propsOptions[0])h in s||(s[h]=void 0);n?e.props=r?s:W2(s):e.type.props?e.props=s:e.props=u,e.attrs=u}function GR(e,t,n,r){const{props:s,attrs:u,vnode:{patchFlag:h}}=e,o=an(s),[g]=e.propsOptions;let y=!1;if((r||h>0)&&!(h&16)){if(h&8){const w=e.vnode.dynamicProps;for(let k=0;k<w.length;k++){let C=w[k];if(iv(e.emitsOptions,C))continue;const I=t[C];if(g)if(Qn(u,C))I!==u[C]&&(u[C]=I,y=!0);else{const O=ts(C);s[O]=sb(g,o,O,I,e,!1)}else I!==u[C]&&(u[C]=I,y=!0)}}}else{yT(e,t,s,u)&&(y=!0);let w;for(const k in o)(!t||!Qn(t,k)&&((w=hu(k))===k||!Qn(t,w)))&&(g?n&&(n[k]!==void 0||n[w]!==void 0)&&(s[k]=sb(g,o,k,void 0,e,!0)):delete s[k]);if(u!==o)for(const k in u)(!t||!Qn(t,k))&&(delete u[k],y=!0)}y&&ll(e.attrs,"set","")}function yT(e,t,n,r){const[s,u]=e.propsOptions;let h=!1,o;if(t)for(let g in t){if(_f(g))continue;const y=t[g];let w;s&&Qn(s,w=ts(g))?!u||!u.includes(w)?n[w]=y:(o||(o={}))[w]=y:iv(e.emitsOptions,g)||(!(g in r)||y!==r[g])&&(r[g]=y,h=!0)}if(u){const g=an(n),y=o||Gr;for(let w=0;w<u.length;w++){const k=u[w];n[k]=sb(s,g,k,y[k],e,!Qn(y,k))}}return h}function sb(e,t,n,r,s,u){const h=e[n];if(h!=null){const o=Qn(h,"default");if(o&&r===void 0){const g=h.default;if(h.type!==Function&&!h.skipFactory&&Cn(g)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const w=am(s);r=y[n]=g.call(null,t),w()}}else r=g}h[0]&&(u&&!o?r=!1:h[1]&&(r===""||r===hu(n))&&(r=!0))}return r}const WR=new WeakMap;function _T(e,t,n=!1){const r=n?WR:t.propsCache,s=r.get(e);if(s)return s;const u=e.props,h={},o=[];let g=!1;if(!Cn(e)){const w=k=>{g=!0;const[C,I]=_T(k,t,!0);Pi(h,C),I&&o.push(...I)};!n&&t.mixins.length&&t.mixins.forEach(w),e.extends&&w(e.extends),e.mixins&&e.mixins.forEach(w)}if(!u&&!g)return Lr(e)&&r.set(e,wd),wd;if(yn(u))for(let w=0;w<u.length;w++){const k=ts(u[w]);fS(k)&&(h[k]=Gr)}else if(u)for(const w in u){const k=ts(w);if(fS(k)){const C=u[w],I=h[k]=yn(C)||Cn(C)?{type:C}:Pi({},C),O=I.type;let L=!1,R=!0;if(yn(O))for(let B=0;B<O.length;++B){const j=O[B],Z=Cn(j)&&j.name;if(Z==="Boolean"){L=!0;break}else Z==="String"&&(R=!1)}else L=Cn(O)&&O.name==="Boolean";I[0]=L,I[1]=R,(L||Qn(I,"default"))&&o.push(k)}}const y=[h,o];return Lr(e)&&r.set(e,y),y}function fS(e){return e[0]!=="$"&&!_f(e)}const bT=e=>e[0]==="_"||e==="$stable",I0=e=>yn(e)?e.map(xo):[xo(e)],YR=(e,t,n)=>{if(t._n)return t;const r=De((...s)=>I0(t(...s)),n);return r._c=!1,r},xT=(e,t,n)=>{const r=e._ctx;for(const s in e){if(bT(s))continue;const u=e[s];if(Cn(u))t[s]=YR(s,u,r);else if(u!=null){const h=I0(u);t[s]=()=>h}}},wT=(e,t)=>{const n=I0(t);e.slots.default=()=>n},ST=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},ZR=(e,t,n)=>{const r=e.slots=gT();if(e.vnode.shapeFlag&32){const s=t._;s?(ST(r,t,n),n&&P2(r,"_",s,!0)):xT(t,r)}else t&&wT(e,t)},KR=(e,t,n)=>{const{vnode:r,slots:s}=e;let u=!0,h=Gr;if(r.shapeFlag&32){const o=t._;o?n&&o===1?u=!1:ST(s,t,n):(u=!t.$stable,xT(t,s)),h=t}else t&&(wT(e,t),h={default:1});if(u)for(const o in s)!bT(o)&&h[o]==null&&delete s[o]};function ob(e,t,n,r,s=!1){if(yn(e)){e.forEach((C,I)=>ob(C,t&&(yn(t)?t[I]:t),n,r,s));return}if(rg(r)&&!s)return;const u=r.shapeFlag&4?sv(r.component):r.el,h=s?null:u,{i:o,r:g}=e,y=t&&t.r,w=o.refs===Gr?o.refs={}:o.refs,k=o.setupState;if(y!=null&&y!==g&&(ai(y)?(w[y]=null,Qn(k,y)&&(k[y]=null)):wr(y)&&(y.value=null)),Cn(g))ic(g,o,12,[h,w]);else{const C=ai(g),I=wr(g);if(C||I){const O=()=>{if(e.f){const L=C?Qn(k,g)?k[g]:w[g]:g.value;s?yn(L)&&u0(L,u):yn(L)?L.includes(u)||L.push(u):C?(w[g]=[u],Qn(k,g)&&(k[g]=w[g])):(g.value=[u],e.k&&(w[e.k]=g.value))}else C?(w[g]=h,Qn(k,g)&&(k[g]=h)):I&&(g.value=h,e.k&&(w[e.k]=h))};h?(O.id=-1,Ra(O,n)):O()}}}const kT=Symbol("_vte"),XR=e=>e.__isTeleport,wf=e=>e&&(e.disabled||e.disabled===""),mS=e=>typeof SVGElement<"u"&&e instanceof SVGElement,pS=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,lb=(e,t)=>{const n=e&&e.to;return ai(n)?t?t(n):null:n},JR={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,u,h,o,g,y){const{mc:w,pc:k,pbc:C,o:{insert:I,querySelector:O,createText:L,createComment:R}}=y,B=wf(t.props);let{shapeFlag:j,children:Z,dynamicChildren:re}=t;if(e==null){const ie=t.el=L(""),Q=t.anchor=L("");I(ie,n,r),I(Q,n,r);const se=t.target=lb(t.props,O),H=TT(se,t,L,I);se&&(h==="svg"||mS(se)?h="svg":(h==="mathml"||pS(se))&&(h="mathml"));const $=(K,ae)=>{j&16&&w(Z,K,ae,s,u,h,o,g)};B?$(n,Q):se&&$(se,H)}else{t.el=e.el,t.targetStart=e.targetStart;const ie=t.anchor=e.anchor,Q=t.target=e.target,se=t.targetAnchor=e.targetAnchor,H=wf(e.props),$=H?n:Q,K=H?ie:se;if(h==="svg"||mS(Q)?h="svg":(h==="mathml"||pS(Q))&&(h="mathml"),re?(C(e.dynamicChildren,re,$,s,u,h,o),D0(e,t,!0)):g||k(e,t,$,K,s,u,h,o,!1),B)H?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):$p(t,n,ie,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ae=t.target=lb(t.props,O);ae&&$p(t,ae,null,y,0)}else H&&$p(t,Q,se,y,1)}CT(t)},remove(e,t,n,{um:r,o:{remove:s}},u){const{shapeFlag:h,children:o,anchor:g,targetStart:y,targetAnchor:w,target:k,props:C}=e;if(k&&(s(y),s(w)),u&&s(g),h&16){const I=u||!wf(C);for(let O=0;O<o.length;O++){const L=o[O];r(L,t,n,I,!!L.dynamicChildren)}}},move:$p,hydrate:QR};function $p(e,t,n,{o:{insert:r},m:s},u=2){u===0&&r(e.targetAnchor,t,n);const{el:h,anchor:o,shapeFlag:g,children:y,props:w}=e,k=u===2;if(k&&r(h,t,n),(!k||wf(w))&&g&16)for(let C=0;C<y.length;C++)s(y[C],t,n,2);k&&r(o,t,n)}function QR(e,t,n,r,s,u,{o:{nextSibling:h,parentNode:o,querySelector:g,insert:y,createText:w}},k){const C=t.target=lb(t.props,g);if(C){const I=C._lpa||C.firstChild;if(t.shapeFlag&16)if(wf(t.props))t.anchor=k(h(e),t,o(e),n,r,s,u),t.targetStart=I,t.targetAnchor=I&&h(I);else{t.anchor=h(e);let O=I;for(;O;){if(O&&O.nodeType===8){if(O.data==="teleport start anchor")t.targetStart=O;else if(O.data==="teleport anchor"){t.targetAnchor=O,C._lpa=t.targetAnchor&&h(t.targetAnchor);break}}O=h(O)}t.targetAnchor||TT(C,t,w,y),k(I&&h(I),t,C,n,r,s,u)}CT(t)}return t.anchor&&h(t.anchor)}const P0=JR;function CT(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function TT(e,t,n,r){const s=t.targetStart=n(""),u=t.targetAnchor=n("");return s[kT]=u,e&&(r(s,e),r(u,e)),u}const Ra=mO;function eO(e){return tO(e)}function tO(e,t){const n=D2();n.__VUE__=!0;const{insert:r,remove:s,patchProp:u,createElement:h,createText:o,createComment:g,setText:y,setElementText:w,parentNode:k,nextSibling:C,setScopeId:I=Ja,insertStaticContent:O}=e,L=(oe,fe,Me,Xe=null,Ze=null,nt=null,Tt=void 0,ke=null,_t=!!fe.dynamicChildren)=>{if(oe===fe)return;oe&&!Wc(oe,fe)&&(Xe=Ne(oe),qe(oe,Ze,nt,!0),oe=null),fe.patchFlag===-2&&(_t=!1,fe.dynamicChildren=null);const{type:Qe,ref:ct,shapeFlag:kt}=fe;switch(Qe){case im:R(oe,fe,Me,Xe);break;case Fa:B(oe,fe,Me,Xe);break;case c_:oe==null&&j(fe,Me,Xe,Tt);break;case Gt:te(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t);break;default:kt&1?ie(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t):kt&6?be(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t):(kt&64||kt&128)&&Qe.process(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t,et)}ct!=null&&Ze&&ob(ct,oe&&oe.ref,nt,fe||oe,!fe)},R=(oe,fe,Me,Xe)=>{if(oe==null)r(fe.el=o(fe.children),Me,Xe);else{const Ze=fe.el=oe.el;fe.children!==oe.children&&y(Ze,fe.children)}},B=(oe,fe,Me,Xe)=>{oe==null?r(fe.el=g(fe.children||""),Me,Xe):fe.el=oe.el},j=(oe,fe,Me,Xe)=>{[oe.el,oe.anchor]=O(oe.children,fe,Me,Xe,oe.el,oe.anchor)},Z=({el:oe,anchor:fe},Me,Xe)=>{let Ze;for(;oe&&oe!==fe;)Ze=C(oe),r(oe,Me,Xe),oe=Ze;r(fe,Me,Xe)},re=({el:oe,anchor:fe})=>{let Me;for(;oe&&oe!==fe;)Me=C(oe),s(oe),oe=Me;s(fe)},ie=(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t)=>{fe.type==="svg"?Tt="svg":fe.type==="math"&&(Tt="mathml"),oe==null?Q(fe,Me,Xe,Ze,nt,Tt,ke,_t):$(oe,fe,Ze,nt,Tt,ke,_t)},Q=(oe,fe,Me,Xe,Ze,nt,Tt,ke)=>{let _t,Qe;const{props:ct,shapeFlag:kt,transition:Pt,dirs:sn}=oe;if(_t=oe.el=h(oe.type,nt,ct&&ct.is,ct),kt&8?w(_t,oe.children):kt&16&&H(oe.children,_t,null,Xe,Ze,o_(oe,nt),Tt,ke),sn&&Bc(oe,null,Xe,"created"),se(_t,oe,oe.scopeId,Tt,Xe),ct){for(const On in ct)On!=="value"&&!_f(On)&&u(_t,On,null,ct[On],nt,Xe);"value"in ct&&u(_t,"value",null,ct.value,nt),(Qe=ct.onVnodeBeforeMount)&&_o(Qe,Xe,oe)}sn&&Bc(oe,null,Xe,"beforeMount");const on=nO(Ze,Pt);on&&Pt.beforeEnter(_t),r(_t,fe,Me),((Qe=ct&&ct.onVnodeMounted)||on||sn)&&Ra(()=>{Qe&&_o(Qe,Xe,oe),on&&Pt.enter(_t),sn&&Bc(oe,null,Xe,"mounted")},Ze)},se=(oe,fe,Me,Xe,Ze)=>{if(Me&&I(oe,Me),Xe)for(let nt=0;nt<Xe.length;nt++)I(oe,Xe[nt]);if(Ze){let nt=Ze.subTree;if(fe===nt){const Tt=Ze.vnode;se(oe,Tt,Tt.scopeId,Tt.slotScopeIds,Ze.parent)}}},H=(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t=0)=>{for(let Qe=_t;Qe<oe.length;Qe++){const ct=oe[Qe]=ke?Kl(oe[Qe]):xo(oe[Qe]);L(null,ct,fe,Me,Xe,Ze,nt,Tt,ke)}},$=(oe,fe,Me,Xe,Ze,nt,Tt)=>{const ke=fe.el=oe.el;let{patchFlag:_t,dynamicChildren:Qe,dirs:ct}=fe;_t|=oe.patchFlag&16;const kt=oe.props||Gr,Pt=fe.props||Gr;let sn;if(Me&&Vc(Me,!1),(sn=Pt.onVnodeBeforeUpdate)&&_o(sn,Me,fe,oe),ct&&Bc(fe,oe,Me,"beforeUpdate"),Me&&Vc(Me,!0),(kt.innerHTML&&Pt.innerHTML==null||kt.textContent&&Pt.textContent==null)&&w(ke,""),Qe?K(oe.dynamicChildren,Qe,ke,Me,Xe,o_(fe,Ze),nt):Tt||Fe(oe,fe,ke,null,Me,Xe,o_(fe,Ze),nt,!1),_t>0){if(_t&16)ae(ke,kt,Pt,Me,Ze);else if(_t&2&&kt.class!==Pt.class&&u(ke,"class",null,Pt.class,Ze),_t&4&&u(ke,"style",kt.style,Pt.style,Ze),_t&8){const on=fe.dynamicProps;for(let On=0;On<on.length;On++){const bn=on[On],$n=kt[bn],ur=Pt[bn];(ur!==$n||bn==="value")&&u(ke,bn,$n,ur,Ze,Me)}}_t&1&&oe.children!==fe.children&&w(ke,fe.children)}else!Tt&&Qe==null&&ae(ke,kt,Pt,Me,Ze);((sn=Pt.onVnodeUpdated)||ct)&&Ra(()=>{sn&&_o(sn,Me,fe,oe),ct&&Bc(fe,oe,Me,"updated")},Xe)},K=(oe,fe,Me,Xe,Ze,nt,Tt)=>{for(let ke=0;ke<fe.length;ke++){const _t=oe[ke],Qe=fe[ke],ct=_t.el&&(_t.type===Gt||!Wc(_t,Qe)||_t.shapeFlag&70)?k(_t.el):Me;L(_t,Qe,ct,null,Xe,Ze,nt,Tt,!0)}},ae=(oe,fe,Me,Xe,Ze)=>{if(fe!==Me){if(fe!==Gr)for(const nt in fe)!_f(nt)&&!(nt in Me)&&u(oe,nt,fe[nt],null,Ze,Xe);for(const nt in Me){if(_f(nt))continue;const Tt=Me[nt],ke=fe[nt];Tt!==ke&&nt!=="value"&&u(oe,nt,ke,Tt,Ze,Xe)}"value"in Me&&u(oe,"value",fe.value,Me.value,Ze)}},te=(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t)=>{const Qe=fe.el=oe?oe.el:o(""),ct=fe.anchor=oe?oe.anchor:o("");let{patchFlag:kt,dynamicChildren:Pt,slotScopeIds:sn}=fe;sn&&(ke=ke?ke.concat(sn):sn),oe==null?(r(Qe,Me,Xe),r(ct,Me,Xe),H(fe.children||[],Me,ct,Ze,nt,Tt,ke,_t)):kt>0&&kt&64&&Pt&&oe.dynamicChildren?(K(oe.dynamicChildren,Pt,Me,Ze,nt,Tt,ke),(fe.key!=null||Ze&&fe===Ze.subTree)&&D0(oe,fe,!0)):Fe(oe,fe,Me,ct,Ze,nt,Tt,ke,_t)},be=(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t)=>{fe.slotScopeIds=ke,oe==null?fe.shapeFlag&512?Ze.ctx.activate(fe,Me,Xe,Tt,_t):me(fe,Me,Xe,Ze,nt,Tt,_t):Ie(oe,fe,_t)},me=(oe,fe,Me,Xe,Ze,nt,Tt)=>{const ke=oe.component=bO(oe,Xe,Ze);if(nv(oe)&&(ke.ctx.renderer=et),xO(ke,!1,Tt),ke.asyncDep){if(Ze&&Ze.registerDep(ke,Ae,Tt),!oe.el){const _t=ke.subTree=T(Fa);B(null,_t,fe,Me)}}else Ae(ke,oe,fe,Me,Ze,nt,Tt)},Ie=(oe,fe,Me)=>{const Xe=fe.component=oe.component;if(dO(oe,fe,Me))if(Xe.asyncDep&&!Xe.asyncResolved){Ue(Xe,fe,Me);return}else Xe.next=fe,kR(Xe.update),Xe.effect.dirty=!0,Xe.update();else fe.el=oe.el,Xe.vnode=fe},Ae=(oe,fe,Me,Xe,Ze,nt,Tt)=>{const ke=()=>{if(oe.isMounted){let{next:ct,bu:kt,u:Pt,parent:sn,vnode:on}=oe;{const vt=AT(oe);if(vt){ct&&(ct.el=on.el,Ue(oe,ct,Tt)),vt.asyncDep.then(()=>{oe.isUnmounted||ke()});return}}let On=ct,bn;Vc(oe,!1),ct?(ct.el=on.el,Ue(oe,ct,Tt)):ct=on,kt&&tg(kt),(bn=ct.props&&ct.props.onVnodeBeforeUpdate)&&_o(bn,sn,ct,on),Vc(oe,!0);const $n=l_(oe),ur=oe.subTree;oe.subTree=$n,L(ur,$n,k(ur.el),Ne(ur),oe,Ze,nt),ct.el=$n.el,On===null&&hO(oe,$n.el),Pt&&Ra(Pt,Ze),(bn=ct.props&&ct.props.onVnodeUpdated)&&Ra(()=>_o(bn,sn,ct,on),Ze)}else{let ct;const{el:kt,props:Pt}=fe,{bm:sn,m:on,parent:On}=oe,bn=rg(fe);if(Vc(oe,!1),sn&&tg(sn),!bn&&(ct=Pt&&Pt.onVnodeBeforeMount)&&_o(ct,On,fe),Vc(oe,!0),kt&&It){const $n=()=>{oe.subTree=l_(oe),It(kt,oe.subTree,oe,Ze,null)};bn?fe.type.__asyncLoader().then(()=>!oe.isUnmounted&&$n()):$n()}else{const $n=oe.subTree=l_(oe);L(null,$n,Me,Xe,oe,Ze,nt),fe.el=$n.el}if(on&&Ra(on,Ze),!bn&&(ct=Pt&&Pt.onVnodeMounted)){const $n=fe;Ra(()=>_o(ct,On,$n),Ze)}(fe.shapeFlag&256||On&&rg(On.vnode)&&On.vnode.shapeFlag&256)&&oe.a&&Ra(oe.a,Ze),oe.isMounted=!0,fe=Me=Xe=null}},_t=oe.effect=new f0(ke,Ja,()=>x0(Qe),oe.scope),Qe=oe.update=()=>{_t.dirty&&_t.run()};Qe.i=oe,Qe.id=oe.uid,Vc(oe,!0),Qe()},Ue=(oe,fe,Me)=>{fe.component=oe;const Xe=oe.vnode.props;oe.vnode=fe,oe.next=null,GR(oe,fe.props,Xe,Me),KR(oe,fe.children,Me),dc(),sS(oe),hc()},Fe=(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t=!1)=>{const Qe=oe&&oe.children,ct=oe?oe.shapeFlag:0,kt=fe.children,{patchFlag:Pt,shapeFlag:sn}=fe;if(Pt>0){if(Pt&128){Ve(Qe,kt,Me,Xe,Ze,nt,Tt,ke,_t);return}else if(Pt&256){Ce(Qe,kt,Me,Xe,Ze,nt,Tt,ke,_t);return}}sn&8?(ct&16&&gt(Qe,Ze,nt),kt!==Qe&&w(Me,kt)):ct&16?sn&16?Ve(Qe,kt,Me,Xe,Ze,nt,Tt,ke,_t):gt(Qe,Ze,nt,!0):(ct&8&&w(Me,""),sn&16&&H(kt,Me,Xe,Ze,nt,Tt,ke,_t))},Ce=(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t)=>{oe=oe||wd,fe=fe||wd;const Qe=oe.length,ct=fe.length,kt=Math.min(Qe,ct);let Pt;for(Pt=0;Pt<kt;Pt++){const sn=fe[Pt]=_t?Kl(fe[Pt]):xo(fe[Pt]);L(oe[Pt],sn,Me,null,Ze,nt,Tt,ke,_t)}Qe>ct?gt(oe,Ze,nt,!0,!1,kt):H(fe,Me,Xe,Ze,nt,Tt,ke,_t,kt)},Ve=(oe,fe,Me,Xe,Ze,nt,Tt,ke,_t)=>{let Qe=0;const ct=fe.length;let kt=oe.length-1,Pt=ct-1;for(;Qe<=kt&&Qe<=Pt;){const sn=oe[Qe],on=fe[Qe]=_t?Kl(fe[Qe]):xo(fe[Qe]);if(Wc(sn,on))L(sn,on,Me,null,Ze,nt,Tt,ke,_t);else break;Qe++}for(;Qe<=kt&&Qe<=Pt;){const sn=oe[kt],on=fe[Pt]=_t?Kl(fe[Pt]):xo(fe[Pt]);if(Wc(sn,on))L(sn,on,Me,null,Ze,nt,Tt,ke,_t);else break;kt--,Pt--}if(Qe>kt){if(Qe<=Pt){const sn=Pt+1,on=sn<ct?fe[sn].el:Xe;for(;Qe<=Pt;)L(null,fe[Qe]=_t?Kl(fe[Qe]):xo(fe[Qe]),Me,on,Ze,nt,Tt,ke,_t),Qe++}}else if(Qe>Pt)for(;Qe<=kt;)qe(oe[Qe],Ze,nt,!0),Qe++;else{const sn=Qe,on=Qe,On=new Map;for(Qe=on;Qe<=Pt;Qe++){const hr=fe[Qe]=_t?Kl(fe[Qe]):xo(fe[Qe]);hr.key!=null&&On.set(hr.key,Qe)}let bn,$n=0;const ur=Pt-on+1;let vt=!1,bi=0;const Tn=new Array(ur);for(Qe=0;Qe<ur;Qe++)Tn[Qe]=0;for(Qe=sn;Qe<=kt;Qe++){const hr=oe[Qe];if($n>=ur){qe(hr,Ze,nt,!0);continue}let At;if(hr.key!=null)At=On.get(hr.key);else for(bn=on;bn<=Pt;bn++)if(Tn[bn-on]===0&&Wc(hr,fe[bn])){At=bn;break}At===void 0?qe(hr,Ze,nt,!0):(Tn[At-on]=Qe+1,At>=bi?bi=At:vt=!0,L(hr,fe[At],Me,null,Ze,nt,Tt,ke,_t),$n++)}const fa=vt?rO(Tn):wd;for(bn=fa.length-1,Qe=ur-1;Qe>=0;Qe--){const hr=on+Qe,At=fe[hr],_n=hr+1<ct?fe[hr+1].el:Xe;Tn[Qe]===0?L(null,At,Me,_n,Ze,nt,Tt,ke,_t):vt&&(bn<0||Qe!==fa[bn]?$e(At,Me,_n,2):bn--)}}},$e=(oe,fe,Me,Xe,Ze=null)=>{const{el:nt,type:Tt,transition:ke,children:_t,shapeFlag:Qe}=oe;if(Qe&6){$e(oe.component.subTree,fe,Me,Xe);return}if(Qe&128){oe.suspense.move(fe,Me,Xe);return}if(Qe&64){Tt.move(oe,fe,Me,et);return}if(Tt===Gt){r(nt,fe,Me);for(let kt=0;kt<_t.length;kt++)$e(_t[kt],fe,Me,Xe);r(oe.anchor,fe,Me);return}if(Tt===c_){Z(oe,fe,Me);return}if(Xe!==2&&Qe&1&&ke)if(Xe===0)ke.beforeEnter(nt),r(nt,fe,Me),Ra(()=>ke.enter(nt),Ze);else{const{leave:kt,delayLeave:Pt,afterLeave:sn}=ke,on=()=>r(nt,fe,Me),On=()=>{kt(nt,()=>{on(),sn&&sn()})};Pt?Pt(nt,on,On):On()}else r(nt,fe,Me)},qe=(oe,fe,Me,Xe=!1,Ze=!1)=>{const{type:nt,props:Tt,ref:ke,children:_t,dynamicChildren:Qe,shapeFlag:ct,patchFlag:kt,dirs:Pt,cacheIndex:sn}=oe;if(kt===-2&&(Ze=!1),ke!=null&&ob(ke,null,Me,oe,!0),sn!=null&&(fe.renderCache[sn]=void 0),ct&256){fe.ctx.deactivate(oe);return}const on=ct&1&&Pt,On=!rg(oe);let bn;if(On&&(bn=Tt&&Tt.onVnodeBeforeUnmount)&&_o(bn,fe,oe),ct&6)$t(oe.component,Me,Xe);else{if(ct&128){oe.suspense.unmount(Me,Xe);return}on&&Bc(oe,null,fe,"beforeUnmount"),ct&64?oe.type.remove(oe,fe,Me,et,Xe):Qe&&!Qe.hasOnce&&(nt!==Gt||kt>0&&kt&64)?gt(Qe,fe,Me,!1,!0):(nt===Gt&&kt&384||!Ze&&ct&16)&&gt(_t,fe,Me),Xe&&pt(oe)}(On&&(bn=Tt&&Tt.onVnodeUnmounted)||on)&&Ra(()=>{bn&&_o(bn,fe,oe),on&&Bc(oe,null,fe,"unmounted")},Me)},pt=oe=>{const{type:fe,el:Me,anchor:Xe,transition:Ze}=oe;if(fe===Gt){Ct(Me,Xe);return}if(fe===c_){re(oe);return}const nt=()=>{s(Me),Ze&&!Ze.persisted&&Ze.afterLeave&&Ze.afterLeave()};if(oe.shapeFlag&1&&Ze&&!Ze.persisted){const{leave:Tt,delayLeave:ke}=Ze,_t=()=>Tt(Me,nt);ke?ke(oe.el,nt,_t):_t()}else nt()},Ct=(oe,fe)=>{let Me;for(;oe!==fe;)Me=C(oe),s(oe),oe=Me;s(fe)},$t=(oe,fe,Me)=>{const{bum:Xe,scope:Ze,update:nt,subTree:Tt,um:ke,m:_t,a:Qe}=oe;gS(_t),gS(Qe),Xe&&tg(Xe),Ze.stop(),nt&&(nt.active=!1,qe(Tt,oe,fe,Me)),ke&&Ra(ke,fe),Ra(()=>{oe.isUnmounted=!0},fe),fe&&fe.pendingBranch&&!fe.isUnmounted&&oe.asyncDep&&!oe.asyncResolved&&oe.suspenseId===fe.pendingId&&(fe.deps--,fe.deps===0&&fe.resolve())},gt=(oe,fe,Me,Xe=!1,Ze=!1,nt=0)=>{for(let Tt=nt;Tt<oe.length;Tt++)qe(oe[Tt],fe,Me,Xe,Ze)},Ne=oe=>{if(oe.shapeFlag&6)return Ne(oe.component.subTree);if(oe.shapeFlag&128)return oe.suspense.next();const fe=C(oe.anchor||oe.el),Me=fe&&fe[kT];return Me?C(Me):fe};let tt=!1;const je=(oe,fe,Me)=>{oe==null?fe._vnode&&qe(fe._vnode,null,null,!0):L(fe._vnode||null,oe,fe,null,null,null,Me),fe._vnode=oe,tt||(tt=!0,sS(),nT(),tt=!1)},et={p:L,um:qe,m:$e,r:pt,mt:me,mc:H,pc:Fe,pbc:K,n:Ne,o:e};let Je,It;return{render:je,hydrate:Je,createApp:jR(je,Je)}}function o_({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Vc({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function nO(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function D0(e,t,n=!1){const r=e.children,s=t.children;if(yn(r)&&yn(s))for(let u=0;u<r.length;u++){const h=r[u];let o=s[u];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[u]=Kl(s[u]),o.el=h.el),!n&&o.patchFlag!==-2&&D0(h,o)),o.type===im&&(o.el=h.el)}}function rO(e){const t=e.slice(),n=[0];let r,s,u,h,o;const g=e.length;for(r=0;r<g;r++){const y=e[r];if(y!==0){if(s=n[n.length-1],e[s]<y){t[r]=s,n.push(r);continue}for(u=0,h=n.length-1;u<h;)o=u+h>>1,e[n[o]]<y?u=o+1:h=o;y<e[n[u]]&&(u>0&&(t[r]=n[u-1]),n[u]=r)}}for(u=n.length,h=n[u-1];u-- >0;)n[u]=h,h=t[h];return n}function AT(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:AT(t)}function gS(e){if(e)for(let t=0;t<e.length;t++)e[t].active=!1}const iO=Symbol.for("v-scx"),aO=()=>yt(iO);function yi(e,t){return M0(e,null,t)}const Up={};function ut(e,t,n){return M0(e,t,n)}function M0(e,t,{immediate:n,deep:r,flush:s,once:u,onTrack:h,onTrigger:o}=Gr){if(t&&u){const Q=t;t=(...se)=>{Q(...se),ie()}}const g=Yi,y=Q=>r===!0?Q:Ql(Q,r===!1?1:void 0);let w,k=!1,C=!1;if(wr(e)?(w=()=>e.value,k=Pd(e)):bf(e)?(w=()=>y(e),k=!0):yn(e)?(C=!0,k=e.some(Q=>bf(Q)||Pd(Q)),w=()=>e.map(Q=>{if(wr(Q))return Q.value;if(bf(Q))return y(Q);if(Cn(Q))return ic(Q,g,2)})):Cn(e)?t?w=()=>ic(e,g,2):w=()=>(I&&I(),ks(e,g,3,[O])):w=Ja,t&&r){const Q=w;w=()=>Ql(Q())}let I,O=Q=>{I=Z.onStop=()=>{ic(Q,g,4),I=Z.onStop=void 0}},L;if(av)if(O=Ja,t?n&&ks(t,g,3,[w(),C?[]:void 0,O]):w(),s==="sync"){const Q=aO();L=Q.__watcherHandles||(Q.__watcherHandles=[])}else return Ja;let R=C?new Array(e.length).fill(Up):Up;const B=()=>{if(!(!Z.active||!Z.dirty))if(t){const Q=Z.run();(r||k||(C?Q.some((se,H)=>sc(se,R[H])):sc(Q,R)))&&(I&&I(),ks(t,g,3,[Q,R===Up?void 0:C&&R[0]===Up?[]:R,O]),R=Q)}else Z.run()};B.allowRecurse=!!t;let j;s==="sync"?j=B:s==="post"?j=()=>Ra(B,g&&g.suspense):(B.pre=!0,g&&(B.id=g.uid),j=()=>x0(B));const Z=new f0(w,Ja,j),re=KL(),ie=()=>{Z.stop(),re&&u0(re.effects,Z)};return t?n?B():R=Z.run():s==="post"?Ra(Z.run.bind(Z),g&&g.suspense):Z.run(),L&&L.push(ie),ie}function sO(e,t,n){const r=this.proxy,s=ai(e)?e.includes(".")?ET(r,e):()=>r[e]:e.bind(r,r);let u;Cn(t)?u=t:(u=t.handler,n=t);const h=am(this),o=M0(s,u.bind(r),n);return h(),o}function ET(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Ql(e,t=1/0,n){if(t<=0||!Lr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,wr(e))Ql(e.value,t,n);else if(yn(e))for(let r=0;r<e.length;r++)Ql(e[r],t,n);else if(T2(e)||Sd(e))e.forEach(r=>{Ql(r,t,n)});else if(I2(e)){for(const r in e)Ql(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Ql(e[r],t,n)}return e}const oO=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ts(t)}Modifiers`]||e[`${hu(t)}Modifiers`];function lO(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Gr;let s=n;const u=t.startsWith("update:"),h=u&&oO(r,t.slice(7));h&&(h.trim&&(s=n.map(w=>ai(w)?w.trim():w)),h.number&&(s=n.map(J_)));let o,g=r[o=r_(t)]||r[o=r_(ts(t))];!g&&u&&(g=r[o=r_(hu(t))]),g&&ks(g,e,6,s);const y=r[o+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,ks(y,e,6,s)}}function IT(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const u=e.emits;let h={},o=!1;if(!Cn(e)){const g=y=>{const w=IT(y,t,!0);w&&(o=!0,Pi(h,w))};!n&&t.mixins.length&&t.mixins.forEach(g),e.extends&&g(e.extends),e.mixins&&e.mixins.forEach(g)}return!u&&!o?(Lr(e)&&r.set(e,null),null):(yn(u)?u.forEach(g=>h[g]=null):Pi(h,u),Lr(e)&&r.set(e,h),h)}function iv(e,t){return!e||!Kg(t)?!1:(t=t.slice(2).replace(/Once$/,""),Qn(e,t[0].toLowerCase()+t.slice(1))||Qn(e,hu(t))||Qn(e,t))}function l_(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[u],slots:h,attrs:o,emit:g,render:y,renderCache:w,props:k,data:C,setupState:I,ctx:O,inheritAttrs:L}=e,R=xg(e);let B,j;try{if(n.shapeFlag&4){const re=s||r,ie=re;B=xo(y.call(ie,re,w,k,I,C,O)),j=o}else{const re=t;B=xo(re.length>1?re(k,{attrs:o,slots:h,emit:g}):re(k,null)),j=t.props?o:cO(o)}}catch(re){Sf.length=0,tv(re,e,1),B=T(Fa)}let Z=B;if(j&&L!==!1){const re=Object.keys(j),{shapeFlag:ie}=Z;re.length&&ie&7&&(u&&re.some(c0)&&(j=uO(j,u)),Z=dl(Z,j,!1,!0))}return n.dirs&&(Z=dl(Z,null,!1,!0),Z.dirs=Z.dirs?Z.dirs.concat(n.dirs):n.dirs),n.transition&&(Z.transition=n.transition),B=Z,xg(R),B}const cO=e=>{let t;for(const n in e)(n==="class"||n==="style"||Kg(n))&&((t||(t={}))[n]=e[n]);return t},uO=(e,t)=>{const n={};for(const r in e)(!c0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function dO(e,t,n){const{props:r,children:s,component:u}=e,{props:h,children:o,patchFlag:g}=t,y=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&g>=0){if(g&1024)return!0;if(g&16)return r?vS(r,h,y):!!h;if(g&8){const w=t.dynamicProps;for(let k=0;k<w.length;k++){const C=w[k];if(h[C]!==r[C]&&!iv(y,C))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===h?!1:r?h?vS(r,h,y):!0:!!h;return!1}function vS(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const u=r[s];if(t[u]!==e[u]&&!iv(n,u))return!0}return!1}function hO({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const fO=e=>e.__isSuspense;function mO(e,t){t&&t.pendingBranch?yn(e)?t.effects.push(...e):t.effects.push(e):CR(e)}const Gt=Symbol.for("v-fgt"),im=Symbol.for("v-txt"),Fa=Symbol.for("v-cmt"),c_=Symbol.for("v-stc"),Sf=[];let Qa=null;function vn(e=!1){Sf.push(Qa=e?null:[])}function pO(){Sf.pop(),Qa=Sf[Sf.length-1]||null}let Lf=1;function yS(e){Lf+=e,e<0&&Qa&&(Qa.hasOnce=!0)}function PT(e){return e.dynamicChildren=Lf>0?Qa||wd:null,pO(),Lf>0&&Qa&&Qa.push(e),e}function xs(e,t,n,r,s,u){return PT(rr(e,t,n,r,s,u,!0))}function Nn(e,t,n,r,s){return PT(T(e,t,n,r,s,!0))}function Sg(e){return e?e.__v_isVNode===!0:!1}function Wc(e,t){return e.type===t.type&&e.key===t.key}const DT=({key:e})=>e??null,ag=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ai(e)||wr(e)||Cn(e)?{i:za,r:e,k:t,f:!!n}:e:null);function rr(e,t=null,n=null,r=0,s=null,u=e===Gt?0:1,h=!1,o=!1){const g={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&DT(t),ref:t&&ag(t),scopeId:iT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:za};return o?(L0(g,n),u&128&&e.normalize(g)):n&&(g.shapeFlag|=ai(n)?8:16),Lf>0&&!h&&Qa&&(g.patchFlag>0||u&6)&&g.patchFlag!==32&&Qa.push(g),g}const T=gO;function gO(e,t=null,n=null,r=0,s=null,u=!1){if((!e||e===OR)&&(e=Fa),Sg(e)){const o=dl(e,t,!0);return n&&L0(o,n),Lf>0&&!u&&Qa&&(o.shapeFlag&6?Qa[Qa.indexOf(e)]=o:Qa.push(o)),o.patchFlag=-2,o}if(TO(e)&&(e=e.__vccOpts),t){t=vO(t);let{class:o,style:g}=t;o&&!ai(o)&&(t.class=La(o)),Lr(g)&&(Y2(g)&&!yn(g)&&(g=Pi({},g)),t.style=h0(g))}const h=ai(e)?1:fO(e)?128:XR(e)?64:Lr(e)?4:Cn(e)?2:0;return rr(e,t,n,r,s,h,u,!0)}function vO(e){return e?Y2(e)||vT(e)?Pi({},e):e:null}function dl(e,t,n=!1,r=!1){const{props:s,ref:u,patchFlag:h,children:o,transition:g}=e,y=t?lt(s||{},t):s,w={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&DT(y),ref:t&&t.ref?n&&u?yn(u)?u.concat(ag(t)):[u,ag(t)]:ag(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Gt?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:g,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&dl(e.ssContent),ssFallback:e.ssFallback&&dl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return g&&r&&Dd(w,g.clone(w)),w}function zt(e=" ",t=0){return T(im,null,e,t)}function Kn(e="",t=!1){return t?(vn(),Nn(Fa,null,e)):T(Fa,null,e)}function xo(e){return e==null||typeof e=="boolean"?T(Fa):yn(e)?T(Gt,null,e.slice()):typeof e=="object"?Kl(e):T(im,null,String(e))}function Kl(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:dl(e)}function L0(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(yn(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),L0(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!vT(t)?t._ctx=za:s===3&&za&&(za.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Cn(t)?(t={default:t,_ctx:za},n=32):(t=String(t),r&64?(n=16,t=[zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function lt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=La([t.class,r.class]));else if(s==="style")t.style=h0([t.style,r.style]);else if(Kg(s)){const u=t[s],h=r[s];h&&u!==h&&!(yn(u)&&u.includes(h))&&(t[s]=u?[].concat(u,h):h)}else s!==""&&(t[s]=r[s])}return t}function _o(e,t,n,r=null){ks(e,t,7,[n,r])}const yO=mT();let _O=0;function bO(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||yO,u={uid:_O++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new O2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_T(r,s),emitsOptions:IT(r,s),emit:null,emitted:null,propsDefaults:Gr,inheritAttrs:r.inheritAttrs,ctx:Gr,data:Gr,props:Gr,attrs:Gr,slots:Gr,refs:Gr,setupState:Gr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=lO.bind(null,u),e.ce&&e.ce(u),u}let Yi=null;const Ts=()=>Yi||za;let kg,cb;{const e=D2(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),u=>{s.length>1?s.forEach(h=>h(u)):s[0](u)}};kg=t("__VUE_INSTANCE_SETTERS__",n=>Yi=n),cb=t("__VUE_SSR_SETTERS__",n=>av=n)}const am=e=>{const t=Yi;return kg(e),e.scope.on(),()=>{e.scope.off(),kg(t)}},_S=()=>{Yi&&Yi.scope.off(),kg(null)};function MT(e){return e.vnode.shapeFlag&4}let av=!1;function xO(e,t=!1,n=!1){t&&cb(t);const{props:r,children:s}=e.vnode,u=MT(e);HR(e,r,u,t),ZR(e,s,n);const h=u?wO(e,t):void 0;return t&&cb(!1),h}function wO(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zR);const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?kO(e):null,u=am(e);dc();const h=ic(r,e,0,[e.props,s]);if(hc(),u(),A2(h)){if(h.then(_S,_S),t)return h.then(o=>{bS(e,o,t)}).catch(o=>{tv(o,e,0)});e.asyncDep=h}else bS(e,h,t)}else LT(e,t)}function bS(e,t,n){Cn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Lr(t)&&(e.setupState=J2(t)),LT(e,n)}let xS;function LT(e,t,n){const r=e.type;if(!e.render){if(!t&&xS&&!r.render){const s=r.template||E0(e).template;if(s){const{isCustomElement:u,compilerOptions:h}=e.appContext.config,{delimiters:o,compilerOptions:g}=r,y=Pi(Pi({isCustomElement:u,delimiters:o},h),g);r.render=xS(s,y)}}e.render=r.render||Ja}{const s=am(e);dc();try{BR(e)}finally{hc(),s()}}}const SO={get(e,t){return Na(e,"get",""),e[t]}};function kO(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,SO),slots:e.slots,emit:e.emit,expose:t}}function sv(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(J2(bg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in xf)return xf[n](e)},has(t,n){return n in t||n in xf}})):e.proxy}function CO(e,t=!0){return Cn(e)?e.displayName||e.name:e.name||t&&e.__name}function TO(e){return Cn(e)&&"__vccOpts"in e}const Y=(e,t)=>vR(e,t,av);function Jr(e,t,n){const r=arguments.length;return r===2?Lr(t)&&!yn(t)?Sg(t)?T(e,null,[t]):T(e,t):T(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Sg(n)&&(n=[n]),T(e,t,n))}const AO="3.4.38",EO=Ja;/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const IO="http://www.w3.org/2000/svg",PO="http://www.w3.org/1998/Math/MathML",rl=typeof document<"u"?document:null,wS=rl&&rl.createElement("template"),DO={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?rl.createElementNS(IO,e):t==="mathml"?rl.createElementNS(PO,e):n?rl.createElement(e,{is:n}):rl.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>rl.createTextNode(e),createComment:e=>rl.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>rl.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,u){const h=n?n.previousSibling:t.lastChild;if(s&&(s===u||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===u||!(s=s.nextSibling)););else{wS.innerHTML=r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e;const o=wS.content;if(r==="svg"||r==="mathml"){const g=o.firstChild;for(;g.firstChild;)o.appendChild(g.firstChild);o.removeChild(g)}t.insertBefore(o,n)}return[h?h.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},jl="transition",uf="animation",Md=Symbol("_vtc"),Eo=(e,{slots:t})=>Jr(ER,OT(e),t);Eo.displayName="Transition";const RT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},MO=Eo.props=Pi({},sT,RT),Nc=(e,t=[])=>{yn(e)?e.forEach(n=>n(...t)):e&&e(...t)},SS=e=>e?yn(e)?e.some(t=>t.length>1):e.length>1:!1;function OT(e){const t={};for(const te in e)te in RT||(t[te]=e[te]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:u=`${n}-enter-from`,enterActiveClass:h=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:g=u,appearActiveClass:y=h,appearToClass:w=o,leaveFromClass:k=`${n}-leave-from`,leaveActiveClass:C=`${n}-leave-active`,leaveToClass:I=`${n}-leave-to`}=e,O=LO(s),L=O&&O[0],R=O&&O[1],{onBeforeEnter:B,onEnter:j,onEnterCancelled:Z,onLeave:re,onLeaveCancelled:ie,onBeforeAppear:Q=B,onAppear:se=j,onAppearCancelled:H=Z}=t,$=(te,be,me)=>{Wl(te,be?w:o),Wl(te,be?y:h),me&&me()},K=(te,be)=>{te._isLeaving=!1,Wl(te,k),Wl(te,I),Wl(te,C),be&&be()},ae=te=>(be,me)=>{const Ie=te?se:j,Ae=()=>$(be,te,me);Nc(Ie,[be,Ae]),kS(()=>{Wl(be,te?g:u),nl(be,te?w:o),SS(Ie)||CS(be,r,L,Ae)})};return Pi(t,{onBeforeEnter(te){Nc(B,[te]),nl(te,u),nl(te,h)},onBeforeAppear(te){Nc(Q,[te]),nl(te,g),nl(te,y)},onEnter:ae(!1),onAppear:ae(!0),onLeave(te,be){te._isLeaving=!0;const me=()=>K(te,be);nl(te,k),nl(te,C),zT(),kS(()=>{te._isLeaving&&(Wl(te,k),nl(te,I),SS(re)||CS(te,r,R,me))}),Nc(re,[te,me])},onEnterCancelled(te){$(te,!1),Nc(Z,[te])},onAppearCancelled(te){$(te,!0),Nc(H,[te])},onLeaveCancelled(te){K(te),Nc(ie,[te])}})}function LO(e){if(e==null)return null;if(Lr(e))return[u_(e.enter),u_(e.leave)];{const t=u_(e);return[t,t]}}function u_(e){return UL(e)}function nl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Md]||(e[Md]=new Set)).add(t)}function Wl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Md];n&&(n.delete(t),n.size||(e[Md]=void 0))}function kS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let RO=0;function CS(e,t,n,r){const s=e._endId=++RO,u=()=>{s===e._endId&&r()};if(n)return setTimeout(u,n);const{type:h,timeout:o,propCount:g}=FT(e,t);if(!h)return r();const y=h+"end";let w=0;const k=()=>{e.removeEventListener(y,C),u()},C=I=>{I.target===e&&++w>=g&&k()};setTimeout(()=>{w<g&&k()},o+1),e.addEventListener(y,C)}function FT(e,t){const n=window.getComputedStyle(e),r=O=>(n[O]||"").split(", "),s=r(`${jl}Delay`),u=r(`${jl}Duration`),h=TS(s,u),o=r(`${uf}Delay`),g=r(`${uf}Duration`),y=TS(o,g);let w=null,k=0,C=0;t===jl?h>0&&(w=jl,k=h,C=u.length):t===uf?y>0&&(w=uf,k=y,C=g.length):(k=Math.max(h,y),w=k>0?h>y?jl:uf:null,C=w?w===jl?u.length:g.length:0);const I=w===jl&&/\b(transform|all)(,|$)/.test(r(`${jl}Property`).toString());return{type:w,timeout:k,propCount:C,hasTransform:I}}function TS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>AS(n)+AS(e[r])))}function AS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function zT(){return document.body.offsetHeight}function OO(e,t,n){const r=e[Md];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Cg=Symbol("_vod"),BT=Symbol("_vsh"),pl={beforeMount(e,{value:t},{transition:n}){e[Cg]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):df(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),df(e,!0),r.enter(e)):r.leave(e,()=>{df(e,!1)}):df(e,t))},beforeUnmount(e,{value:t}){df(e,t)}};function df(e,t){e.style.display=t?e[Cg]:"none",e[BT]=!t}const FO=Symbol(""),zO=/(^|;)\s*display\s*:/;function BO(e,t,n){const r=e.style,s=ai(n);let u=!1;if(n&&!s){if(t)if(ai(t))for(const h of t.split(";")){const o=h.slice(0,h.indexOf(":")).trim();n[o]==null&&sg(r,o,"")}else for(const h in t)n[h]==null&&sg(r,h,"");for(const h in n)h==="display"&&(u=!0),sg(r,h,n[h])}else if(s){if(t!==n){const h=r[FO];h&&(n+=";"+h),r.cssText=n,u=zO.test(n)}}else t&&e.removeAttribute("style");Cg in e&&(e[Cg]=u?r.display:"",e[BT]&&(r.display="none"))}const ES=/\s*!important$/;function sg(e,t,n){if(yn(n))n.forEach(r=>sg(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=VO(e,t);ES.test(n)?e.setProperty(hu(r),n.replace(ES,""),"important"):e[r]=n}}const IS=["Webkit","Moz","ms"],d_={};function VO(e,t){const n=d_[t];if(n)return n;let r=ts(t);if(r!=="filter"&&r in e)return d_[t]=r;r=Do(r);for(let s=0;s<IS.length;s++){const u=IS[s]+r;if(u in e)return d_[t]=u}return t}const PS="http://www.w3.org/1999/xlink";function DS(e,t,n,r,s,u=YL(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(PS,t.slice(6,t.length)):e.setAttributeNS(PS,t,n):n==null||u&&!M2(n)?e.removeAttribute(t):e.setAttribute(t,u?"":uc(n)?String(n):n)}function NO(e,t,n,r){if(t==="innerHTML"||t==="textContent"){if(n==null)return;e[t]=n;return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const h=s==="OPTION"?e.getAttribute("value")||"":e.value,o=n==null?"":String(n);(h!==o||!("_value"in e))&&(e.value=o),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=M2(n):n==null&&h==="string"?(n="",u=!0):h==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function gd(e,t,n,r){e.addEventListener(t,n,r)}function $O(e,t,n,r){e.removeEventListener(t,n,r)}const MS=Symbol("_vei");function UO(e,t,n,r,s=null){const u=e[MS]||(e[MS]={}),h=u[t];if(r&&h)h.value=r;else{const[o,g]=qO(t);if(r){const y=u[t]=GO(r,s);gd(e,o,y,g)}else h&&($O(e,o,h,g),u[t]=void 0)}}const LS=/(?:Once|Passive|Capture)$/;function qO(e){let t;if(LS.test(e)){t={};let r;for(;r=e.match(LS);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hu(e.slice(2)),t]}let h_=0;const jO=Promise.resolve(),HO=()=>h_||(jO.then(()=>h_=0),h_=Date.now());function GO(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;ks(WO(r,n.value),t,5,[r])};return n.value=e,n.attached=HO(),n}function WO(e,t){if(yn(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const RS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,YO=(e,t,n,r,s,u)=>{const h=s==="svg";t==="class"?OO(e,r,h):t==="style"?BO(e,n,r):Kg(t)?c0(t)||UO(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ZO(e,t,r,h))?(NO(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&DS(e,t,r,h,u,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),DS(e,t,r,h))};function ZO(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&RS(t)&&Cn(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return RS(t)&&ai(n)?!1:t in e}const VT=new WeakMap,NT=new WeakMap,Tg=Symbol("_moveCb"),OS=Symbol("_enterCb"),$T={name:"TransitionGroup",props:Pi({},MO,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ts(),r=aT();let s,u;return C0(()=>{if(!s.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!eF(s[0].el,n.vnode.el,h))return;s.forEach(XO),s.forEach(JO);const o=s.filter(QO);zT(),o.forEach(g=>{const y=g.el,w=y.style;nl(y,h),w.transform=w.webkitTransform=w.transitionDuration="";const k=y[Tg]=C=>{C&&C.target!==y||(!C||/transform$/.test(C.propertyName))&&(y.removeEventListener("transitionend",k),y[Tg]=null,Wl(y,h))};y.addEventListener("transitionend",k)})}),()=>{const h=an(e),o=OT(h);let g=h.tag||Gt;if(s=[],u)for(let y=0;y<u.length;y++){const w=u[y];w.el&&w.el instanceof Element&&(s.push(w),Dd(w,Mf(w,o,r,n)),VT.set(w,w.el.getBoundingClientRect()))}u=t.default?w0(t.default()):[];for(let y=0;y<u.length;y++){const w=u[y];w.key!=null&&Dd(w,Mf(w,o,r,n))}return T(g,null,u)}}},KO=e=>delete e.mode;$T.props;const R0=$T;function XO(e){const t=e.el;t[Tg]&&t[Tg](),t[OS]&&t[OS]()}function JO(e){NT.set(e,e.el.getBoundingClientRect())}function QO(e){const t=VT.get(e),n=NT.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${r}px,${s}px)`,u.transitionDuration="0s",e}}function eF(e,t,n){const r=e.cloneNode(),s=e[Md];s&&s.forEach(o=>{o.split(/\s+/).forEach(g=>g&&r.classList.remove(g))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const u=t.nodeType===1?t:t.parentNode;u.appendChild(r);const{hasTransform:h}=FT(r);return u.removeChild(r),h}const FS=e=>{const t=e.props["onUpdate:modelValue"]||!1;return yn(t)?n=>tg(t,n):t};function tF(e){e.target.composing=!0}function zS(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const f_=Symbol("_assign"),nF={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[f_]=FS(s);const u=r||s.props&&s.props.type==="number";gd(e,t?"change":"input",h=>{if(h.target.composing)return;let o=e.value;n&&(o=o.trim()),u&&(o=J_(o)),e[f_](o)}),n&&gd(e,"change",()=>{e.value=e.value.trim()}),t||(gd(e,"compositionstart",tF),gd(e,"compositionend",zS),gd(e,"change",zS))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:u}},h){if(e[f_]=FS(h),e.composing)return;const o=(u||e.type==="number")&&!/^0\d/.test(e.value)?J_(e.value):e.value,g=t??"";o!==g&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===g)||(e.value=g))}},rF=["ctrl","shift","alt","meta"],iF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>rF.some(n=>e[`${n}Key`]&&!t.includes(n))},ub=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...u)=>{for(let h=0;h<t.length;h++){const o=iF[t[h]];if(o&&o(s,t))return}return e(s,...u)})},aF=Pi({patchProp:YO},DO);let BS;function sF(){return BS||(BS=eO(aF))}const oF=(...e)=>{const t=sF().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=cF(r);if(!s)return;const u=t._component;!Cn(u)&&!u.render&&!u.template&&(u.template=s.innerHTML),s.innerHTML="";const h=n(s,!1,lF(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),h},t};function lF(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function cF(e){return ai(e)?document.querySelector(e):e}function Ba(e,t){let n;function r(){n=Qg(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}ut(e,s=>{s&&!n?r():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),ha(()=>{n==null||n.stop()})}const dr=typeof window<"u",O0=dr&&"IntersectionObserver"in window,uF=dr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function VS(e,t,n){dF(e,t),t.set(e,n)}function dF(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hF(e,t,n){return e.set(UT(e,t),n),n}function $c(e,t){return e.get(UT(e,t))}function UT(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function qT(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let s=0;s<r;s++){if(e==null)return n;e=e[t[s]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function gl(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>gl(e[r],t[r]))}function cu(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),qT(e,t.split("."),n))}function Bi(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const s=t(e,n);return typeof s>"u"?n:s}if(typeof t=="string")return cu(e,t,n);if(Array.isArray(t))return qT(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function Zs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function Ht(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function Ag(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function F0(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const NS=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),$S=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function jT(e){return Object.keys(e)}function m_(e,t){return t.every(n=>e.hasOwnProperty(n))}function z0(e,t){const n={},r=new Set(Object.keys(e));for(const s of t)r.has(s)&&(n[s]=e[s]);return n}function db(e,t,n){const r=Object.create(null),s=Object.create(null);for(const u in e)t.some(h=>h instanceof RegExp?h.test(u):h===u)&&!(n!=null&&n.some(h=>h===u))?r[u]=e[u]:s[u]=e[u];return[r,s]}function Tr(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function HT(e,t){const n={};return t.forEach(r=>n[r]=e[r]),n}const GT=/^on[^a-z]/,ov=e=>GT.test(e),fF=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function sm(e){const[t,n]=db(e,[GT]),r=Tr(t,fF),[s,u]=db(n,["class","style","id",/^data-/]);return Object.assign(s,t),Object.assign(u,r),[s,u]}function Wr(e){return e==null?[]:Array.isArray(e)?e:[e]}function mF(e,t){let n=0;const r=function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];clearTimeout(n),n=setTimeout(()=>e(...u),Br(t))};return r.clear=()=>{clearTimeout(n)},r.immediate=e,r}function Zi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function US(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function qS(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function jS(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function pF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function gF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}function HS(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<n.length-1;)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function ca(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in e)r[s]=e[s];for(const s in t){const u=e[s],h=t[s];if(Ag(u)&&Ag(h)){r[s]=ca(u,h,n);continue}if(Array.isArray(u)&&Array.isArray(h)&&n){r[s]=n(u,h);continue}r[s]=h}return r}function WT(e){return e.map(t=>t.type===Gt?WT(t.children):t).flat()}function ru(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(ru.cache.has(e))return ru.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return ru.cache.set(e,t),t}ru.cache=new Map;function bd(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>bd(e,n)).flat(1);if(t.suspense)return bd(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>bd(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return bd(e,t.component.subTree).flat(1)}return[]}var qp=new WeakMap,ld=new WeakMap;class vF{constructor(t){VS(this,qp,[]),VS(this,ld,0),this.size=t}push(t){$c(qp,this)[$c(ld,this)]=t,hF(ld,this,($c(ld,this)+1)%this.size)}values(){return $c(qp,this).slice($c(ld,this)).concat($c(qp,this).slice(0,$c(ld,this)))}}function B0(e){const t=Ai({}),n=Y(e);return yi(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),Vd(t)}function Eg(e,t){return e.includes(t)}function YT(e){return e[2].toLowerCase()+e.slice(3)}const Ii=()=>[Function,Array];function GS(e,t){return t="on"+Do(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function V0(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const s of e)s(...n);else typeof e=="function"&&e(...n)}function Rf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function ZT(e,t,n){let r,s=e.indexOf(document.activeElement);const u=t==="next"?1:-1;do s+=u,r=e[s];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&s<e.length&&s>=0);return r}function kf(e,t){var r,s,u,h;const n=Rf(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(t==="first")(s=n[0])==null||s.focus();else if(t==="last")(u=n.at(-1))==null||u.focus();else if(typeof t=="number")(h=n[t])==null||h.focus();else{const o=ZT(n,t);o?o.focus():kf(e,t==="next"?"first":"last")}}function jp(e){return e==null||typeof e=="string"&&e.trim()===""}function yF(){}function Ld(e,t){if(!(dr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function N0(e){return e.some(t=>Sg(t)?t.type===Fa?!1:t.type!==Gt||N0(t.children):!0)?e:null}function _F(e,t){if(!dr||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function bF(e,t){const n=e.clientX,r=e.clientY,s=t.getBoundingClientRect(),u=s.left,h=s.top,o=s.right,g=s.bottom;return n>=u&&n<=o&&r>=h&&r<=g}function Ig(){const e=Rt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>F0(e.value)}),t}function hb(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}const KT=["top","bottom"],xF=["start","end","left","right"];function fb(e,t){let[n,r]=e.split(" ");return r||(r=Eg(KT,n)?"start":Eg(xF,n)?"top":"center"),{side:mb(n,t),align:mb(r,t)}}function mb(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function p_(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function g_(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function WS(e){return{side:e.align,align:e.side}}function YS(e){return Eg(KT,e.side)?"y":"x"}class iu{constructor(t){let{x:n,y:r,width:s,height:u}=t;this.x=n,this.y=r,this.width=s,this.height=u}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function ZS(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function XT(e){return Array.isArray(e)?new iu({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function $0(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let s,u,h,o,g;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),u=+s[0],h=+s[5],o=+s[12],g=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),u=+s[0],h=+s[3],o=+s[4],g=+s[5];else return new iu(t);const y=n.transformOrigin,w=t.x-o-(1-u)*parseFloat(y),k=t.y-g-(1-h)*parseFloat(y.slice(y.indexOf(" ")+1)),C=u?t.width/u:e.offsetWidth+1,I=h?t.height/h:e.offsetHeight+1;return new iu({x:w,y:k,width:C,height:I})}else return new iu(t)}function Zc(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}const og=new WeakMap;function wF(e,t){Object.keys(t).forEach(n=>{if(ov(n)){const r=YT(n),s=og.get(e);if(t[n]==null)s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))});else if(!s||![...s].some(u=>u[0]===r&&u[1]===t[n])){e.addEventListener(r,t[n]);const u=s||new Set;u.add([r,t[n]]),og.has(e)||og.set(e,u)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function SF(e,t){Object.keys(t).forEach(n=>{if(ov(n)){const r=YT(n),s=og.get(e);s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))})}else e.removeAttribute(n)})}const cd=2.4,KS=.2126729,XS=.7151522,JS=.072175,kF=.55,CF=.58,TF=.57,AF=.62,Hp=.03,QS=1.45,EF=5e-4,IF=1.25,PF=1.25,ek=.078,tk=12.82051282051282,Gp=.06,nk=.001;function rk(e,t){const n=(e.r/255)**cd,r=(e.g/255)**cd,s=(e.b/255)**cd,u=(t.r/255)**cd,h=(t.g/255)**cd,o=(t.b/255)**cd;let g=n*KS+r*XS+s*JS,y=u*KS+h*XS+o*JS;if(g<=Hp&&(g+=(Hp-g)**QS),y<=Hp&&(y+=(Hp-y)**QS),Math.abs(y-g)<EF)return 0;let w;if(y>g){const k=(y**kF-g**CF)*IF;w=k<nk?0:k<ek?k-k*tk*Gp:k-Gp}else{const k=(y**AF-g**TF)*PF;w=k>-nk?0:k>-ek?k-k*tk*Gp:k+Gp}return w*100}function DF(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Pg=.20689655172413793,MF=e=>e>Pg**3?Math.cbrt(e):e/(3*Pg**2)+4/29,LF=e=>e>Pg?e**3:3*Pg**2*(e-4/29);function JT(e){const t=MF,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function QT(e){const t=LF,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const RF=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],OF=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,FF=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],zF=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function eA(e){const t=Array(3),n=OF,r=RF;for(let s=0;s<3;++s)t[s]=Math.round(Zi(n(r[s][0]*e[0]+r[s][1]*e[1]+r[s][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function U0(e){let{r:t,g:n,b:r}=e;const s=[0,0,0],u=zF,h=FF;t=u(t/255),n=u(n/255),r=u(r/255);for(let o=0;o<3;++o)s[o]=h[o][0]*t+h[o][1]*n+h[o][2]*r;return s}function pb(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function BF(e){return pb(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const ik=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,VF={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>ak({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>ak({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>Of({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>Of({h:e,s:t,v:n,a:r})};function ko(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&ik.test(e)){const{groups:t}=e.match(ik),{fn:n,values:r}=t,s=r.split(/,\s*/).map(u=>u.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(u)/100:parseFloat(u));return VF[n](...s)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),$F(t)}else if(typeof e=="object"){if(m_(e,["r","g","b"]))return e;if(m_(e,["h","s","l"]))return Of(tA(e));if(m_(e,["h","s","v"]))return Of(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Of(e){const{h:t,s:n,v:r,a:s}=e,u=o=>{const g=(o+t/60)%6;return r-r*n*Math.max(Math.min(g,4-g,1),0)},h=[u(5),u(3),u(1)].map(o=>Math.round(o*255));return{r:h[0],g:h[1],b:h[2],a:s}}function ak(e){return Of(tA(e))}function tA(e){const{h:t,s:n,l:r,a:s}=e,u=r+n*Math.min(r,1-r),h=u===0?0:2-2*r/u;return{h:t,s:h,v:u,a:s}}function Wp(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function NF(e){let{r:t,g:n,b:r,a:s}=e;return`#${[Wp(t),Wp(n),Wp(r),s!==void 0?Wp(Math.round(s*255)):""].join("")}`}function $F(e){e=UF(e);let[t,n,r,s]=pF(e,2).map(u=>parseInt(u,16));return s=s===void 0?s:s/255,{r:t,g:n,b:r,a:s}}function UF(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=qS(qS(e,6),8,"F")),e}function qF(e,t){const n=JT(U0(e));return n[0]=n[0]+t*10,eA(QT(n))}function jF(e,t){const n=JT(U0(e));return n[0]=n[0]-t*10,eA(QT(n))}function HF(e){const t=ko(e);return U0(t)[1]}function nA(e){const t=Math.abs(rk(ko(0),ko(e)));return Math.abs(rk(ko(16777215),ko(e)))>Math.min(t,50)?"#fff":"#000"}function We(e,t){return n=>Object.keys(e).reduce((r,s)=>{const h=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return n&&s in n?r[s]={...h,default:n[s]}:r[s]=h,t&&!r[s].source&&(r[s].source=t),r},{})}const un=We({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Yr(e,t){const n=Ts();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Mo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Yr(e).type;return ru((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let rA=0,lg=new WeakMap;function As(){const e=Yr("getUid");if(lg.has(e))return lg.get(e);{const t=rA++;return lg.set(e,t),t}}As.reset=()=>{rA=0,lg=new WeakMap};function GF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Yr("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Rd=Symbol.for("vuetify:defaults");function WF(e){return ht(e)}function q0(){const e=yt(Rd);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function da(e,t){const n=q0(),r=ht(e),s=Y(()=>{if(Br(t==null?void 0:t.disabled))return n.value;const h=Br(t==null?void 0:t.scoped),o=Br(t==null?void 0:t.reset),g=Br(t==null?void 0:t.root);if(r.value==null&&!(h||o||g))return n.value;let y=ca(r.value,{prev:n.value});if(h)return y;if(o||g){const w=Number(o||1/0);for(let k=0;k<=w&&!(!y||!("prev"in y));k++)y=y.prev;return y&&typeof g=="string"&&g in y&&(y=ca(ca(y,{prev:y}),y[g])),y}return y.prev?ca(y.prev,y):y});return wn(Rd,s),s}function YF(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[ru(t)])<"u"}function ZF(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q0();const r=Yr("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const s=Y(()=>{var g;return(g=n.value)==null?void 0:g[e._as??t]}),u=new Proxy(e,{get(g,y){var k,C,I,O,L,R,B;const w=Reflect.get(g,y);return y==="class"||y==="style"?[(k=s.value)==null?void 0:k[y],w].filter(j=>j!=null):typeof y=="string"&&!YF(r.vnode,y)?((C=s.value)==null?void 0:C[y])!==void 0?(I=s.value)==null?void 0:I[y]:((L=(O=n.value)==null?void 0:O.global)==null?void 0:L[y])!==void 0?(B=(R=n.value)==null?void 0:R.global)==null?void 0:B[y]:w:w}}),h=Rt();yi(()=>{if(s.value){const g=Object.entries(s.value).filter(y=>{let[w]=y;return w.startsWith(w[0].toUpperCase())});h.value=g.length?Object.fromEntries(g):void 0}else h.value=void 0});function o(){const g=GF(Rd,r);wn(Rd,Y(()=>h.value?ca((g==null?void 0:g.value)??{},h.value):g==null?void 0:g.value))}return{props:u,provideSubDefaults:o}}function Nd(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=We(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return z0(r,t)},e.props._as=String,e.setup=function(r,s){const u=q0();if(!u.value)return e._setup(r,s);const{props:h,provideSubDefaults:o}=ZF(r,r._as??e.name,u),g=e._setup(h,s);return o(),g}}return e}function ft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?Nd:lr)(t)}function KF(e,t){return t.props=e,t}function $d(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ft()({name:n??Do(ts(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...un()},setup(r,s){let{slots:u}=s;return()=>{var h;return Jr(r.tag,{class:[e,r.class],style:r.style},(h=u.default)==null?void 0:h.call(u))}}})}function iA(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Ff="cubic-bezier(0.4, 0, 0.2, 1)",XF="cubic-bezier(0.0, 0, 0.2, 1)",JF="cubic-bezier(0.4, 0, 1, 1)";function sk(e,t,n){return Object.keys(e).filter(r=>ov(r)&&r.endsWith(t)).reduce((r,s)=>(r[s.slice(0,-t.length)]=u=>e[s](u,n(u)),r),{})}function aA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?QF(e):j0(e))return e;e=e.parentElement}return document.scrollingElement}function zf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(j0(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function j0(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function QF(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function ez(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function St(e){const t=Yr("useRender");t.render=e}function fn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k=>k,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:k=>k;const u=Yr("useProxiedModel"),h=ht(e[t]!==void 0?e[t]:n),o=ru(t),y=Y(o!==t?()=>{var k,C,I,O;return e[t],!!(((k=u.vnode.props)!=null&&k.hasOwnProperty(t)||(C=u.vnode.props)!=null&&C.hasOwnProperty(o))&&((I=u.vnode.props)!=null&&I.hasOwnProperty(`onUpdate:${t}`)||(O=u.vnode.props)!=null&&O.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var k,C;return e[t],!!((k=u.vnode.props)!=null&&k.hasOwnProperty(t)&&((C=u.vnode.props)!=null&&C.hasOwnProperty(`onUpdate:${t}`)))});Ba(()=>!y.value,()=>{ut(()=>e[t],k=>{h.value=k})});const w=Y({get(){const k=e[t];return r(y.value?k:h.value)},set(k){const C=s(k),I=an(y.value?e[t]:h.value);I===C||r(I)===k||(h.value=C,u==null||u.emit(`update:${t}`,C))}});return Object.defineProperty(w,"externalValue",{get:()=>y.value?e[t]:h.value}),w}const tz={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},ok="$vuetify.",lk=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),sA=(e,t,n)=>function(r){for(var s=arguments.length,u=new Array(s>1?s-1:0),h=1;h<s;h++)u[h-1]=arguments[h];if(!r.startsWith(ok))return lk(r,u);const o=r.replace(ok,""),g=e.value&&n.value[e.value],y=t.value&&n.value[t.value];let w=cu(g,o,null);return w||(`${r}${e.value}`,w=cu(y,o,null)),w||(w=r),typeof w!="string"&&(w=r),lk(w,u)};function oA(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function v_(e,t,n){const r=fn(e,t,e[t]??n.value);return r.value=e[t]??n.value,ut(n,s=>{e[t]==null&&(r.value=n.value)}),r}function lA(e){return t=>{const n=v_(t,"locale",e.current),r=v_(t,"fallback",e.fallback),s=v_(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:s,t:sA(n,r,s),n:oA(n,r),provide:lA({current:n,fallback:r,messages:s})}}}function nz(e){const t=Rt((e==null?void 0:e.locale)??"en"),n=Rt((e==null?void 0:e.fallback)??"en"),r=ht({en:tz,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:sA(t,n,r),n:oA(t,n),provide:lA({current:t,fallback:n,messages:r})}}const Dg=Symbol.for("vuetify:locale");function rz(e){return e.name!=null}function iz(e){const t=e!=null&&e.adapter&&rz(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:nz(e),n=sz(t,e);return{...t,...n}}function si(){const e=yt(Dg);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function az(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function sz(e,t){const n=ht((t==null?void 0:t.rtl)??az()),r=Y(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:Y(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Ua(){const e=yt(Dg);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const lv={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function oz(e,t,n){const r=[];let s=[];const u=cA(e),h=uA(e),o=n??lv[t.slice(-2).toUpperCase()]??0,g=(u.getDay()-o+7)%7,y=(h.getDay()-o+7)%7;for(let w=0;w<g;w++){const k=new Date(u);k.setDate(k.getDate()-(g-w)),s.push(k)}for(let w=1;w<=h.getDate();w++){const k=new Date(e.getFullYear(),e.getMonth(),w);s.push(k),s.length===7&&(r.push(s),s=[])}for(let w=1;w<7-y;w++){const k=new Date(h);k.setDate(k.getDate()+w),s.push(k)}return s.length>0&&r.push(s),r}function lz(e,t,n){const r=n??lv[t.slice(-2).toUpperCase()]??0,s=new Date(e);for(;s.getDay()!==r;)s.setDate(s.getDate()-1);return s}function cz(e,t){const n=new Date(e),r=((lv[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function cA(e){return new Date(e.getFullYear(),e.getMonth(),1)}function uA(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function uz(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const dz=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function dA(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(dz.test(e))return uz(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const ck=new Date(2e3,0,2);function hz(e,t){const n=t??lv[e.slice(-2).toUpperCase()]??0;return Zs(7).map(r=>{const s=new Date(ck);return s.setDate(ck.getDate()+n+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(s)})}function fz(e,t,n,r){const s=dA(e)??new Date,u=r==null?void 0:r[t];if(typeof u=="function")return u(s,t,n);let h={};switch(t){case"fullDate":h={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":h={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),g=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${g}`;case"normalDateWithWeekday":h={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":h={month:"short",day:"numeric"};break;case"year":h={year:"numeric"};break;case"month":h={month:"long"};break;case"monthShort":h={month:"short"};break;case"monthAndYear":h={month:"long",year:"numeric"};break;case"monthAndDate":h={month:"long",day:"numeric"};break;case"weekday":h={weekday:"long"};break;case"weekdayShort":h={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":h={hour:"numeric",hour12:!0};break;case"hours24h":h={hour:"numeric",hour12:!1};break;case"minutes":h={minute:"numeric"};break;case"seconds":h={second:"numeric"};break;case"fullTime":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":h={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:h=u??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,h).format(s)}function mz(e,t){const n=e.toJsDate(t),r=n.getFullYear(),s=jS(String(n.getMonth()+1),2,"0"),u=jS(String(n.getDate()),2,"0");return`${r}-${s}-${u}`}function pz(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function gz(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function vz(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function yz(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function _z(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function bz(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function xz(e){return e.getFullYear()}function wz(e){return e.getMonth()}function Sz(e){return e.getDate()}function kz(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Cz(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function Tz(e){return e.getHours()}function Az(e){return e.getMinutes()}function Ez(e){return new Date(e.getFullYear(),0,1)}function Iz(e){return new Date(e.getFullYear(),11,31)}function Pz(e,t){return Mg(e,t[0])&&Lz(e,t[1])}function Dz(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Mg(e,t){return e.getTime()>t.getTime()}function Mz(e,t){return Mg(gb(e),gb(t))}function Lz(e,t){return e.getTime()<t.getTime()}function uk(e,t){return e.getTime()===t.getTime()}function Rz(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Oz(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function Fz(e,t){return e.getFullYear()===t.getFullYear()}function zz(e,t,n){const r=new Date(e),s=new Date(t);switch(n){case"years":return r.getFullYear()-s.getFullYear();case"quarters":return Math.floor((r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12)/4);case"months":return r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-s.getTime())/1e3);default:return r.getTime()-s.getTime()}}function Bz(e,t){const n=new Date(e);return n.setHours(t),n}function Vz(e,t){const n=new Date(e);return n.setMinutes(t),n}function Nz(e,t){const n=new Date(e);return n.setMonth(t),n}function $z(e,t){const n=new Date(e);return n.setDate(t),n}function Uz(e,t){const n=new Date(e);return n.setFullYear(t),n}function gb(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function qz(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class jz{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return dA(t)}toJsDate(t){return t}toISO(t){return mz(this,t)}parseISO(t){return pz(t)}addMinutes(t,n){return gz(t,n)}addHours(t,n){return vz(t,n)}addDays(t,n){return yz(t,n)}addWeeks(t,n){return _z(t,n)}addMonths(t,n){return bz(t,n)}getWeekArray(t,n){return oz(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return lz(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return cz(t,this.locale)}startOfMonth(t){return cA(t)}endOfMonth(t){return uA(t)}format(t,n){return fz(t,n,this.locale,this.formats)}isEqual(t,n){return uk(t,n)}isValid(t){return Dz(t)}isWithinRange(t,n){return Pz(t,n)}isAfter(t,n){return Mg(t,n)}isAfterDay(t,n){return Mz(t,n)}isBefore(t,n){return!Mg(t,n)&&!uk(t,n)}isSameDay(t,n){return Rz(t,n)}isSameMonth(t,n){return Oz(t,n)}isSameYear(t,n){return Fz(t,n)}setMinutes(t,n){return Vz(t,n)}setHours(t,n){return Bz(t,n)}setMonth(t,n){return Nz(t,n)}setDate(t,n){return $z(t,n)}setYear(t,n){return Uz(t,n)}getDiff(t,n,r){return zz(t,n,r)}getWeekdays(t){return hz(this.locale,t?Number(t):void 0)}getYear(t){return xz(t)}getMonth(t){return wz(t)}getDate(t){return Sz(t)}getNextMonth(t){return kz(t)}getPreviousMonth(t){return Cz(t)}getHours(t){return Tz(t)}getMinutes(t){return Az(t)}startOfDay(t){return gb(t)}endOfDay(t){return qz(t)}startOfYear(t){return Ez(t)}endOfYear(t){return Iz(t)}}const hA=Symbol.for("vuetify:date-options"),dk=Symbol.for("vuetify:date-adapter");function Hz(e,t){const n=ca({adapter:jz,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:fA(n,t)}}function fA(e,t){const n=Ai(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ut(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}function Lo(){const e=yt(hA);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=si();return fA(e,t)}function Gz(e,t){const n=e.toJsDate(t);let r=n.getFullYear(),s=new Date(r,0,1);if(n<s)r=r-1,s=new Date(r,0,1);else{const o=new Date(r+1,0,1);n>=o&&(r=r+1,s=o)}const u=Math.abs(n.getTime()-s.getTime()),h=Math.ceil(u/(1e3*60*60*24));return Math.floor(h/7)+1}const cv=["sm","md","lg","xl","xxl"],vb=Symbol.for("vuetify:display"),hk={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Wz=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hk;return ca(hk,e)};function fk(e){return dr&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function mk(e){return dr&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function pk(e){const t=dr&&!e?window.navigator.userAgent:"ssr";function n(O){return!!t.match(O)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),u=n(/cordova/i),h=n(/electron/i),o=n(/chrome/i),g=n(/edge/i),y=n(/firefox/i),w=n(/opera/i),k=n(/win/i),C=n(/mac/i),I=n(/linux/i);return{android:r,ios:s,cordova:u,electron:h,chrome:o,edge:g,firefox:y,opera:w,win:k,mac:C,linux:I,touch:uF,ssr:t==="ssr"}}function Yz(e,t){const{thresholds:n,mobileBreakpoint:r}=Wz(e),s=Rt(mk(t)),u=Rt(pk(t)),h=Ai({}),o=Rt(fk(t));function g(){s.value=mk(),o.value=fk()}function y(){g(),u.value=pk()}return yi(()=>{const w=o.value<n.sm,k=o.value<n.md&&!w,C=o.value<n.lg&&!(k||w),I=o.value<n.xl&&!(C||k||w),O=o.value<n.xxl&&!(I||C||k||w),L=o.value>=n.xxl,R=w?"xs":k?"sm":C?"md":I?"lg":O?"xl":"xxl",B=typeof r=="number"?r:n[r],j=o.value<B;h.xs=w,h.sm=k,h.md=C,h.lg=I,h.xl=O,h.xxl=L,h.smAndUp=!w,h.mdAndUp=!(w||k),h.lgAndUp=!(w||k||C),h.xlAndUp=!(w||k||C||I),h.smAndDown=!(C||I||O||L),h.mdAndDown=!(I||O||L),h.lgAndDown=!(O||L),h.xlAndDown=!L,h.name=R,h.height=s.value,h.width=o.value,h.mobile=j,h.mobileBreakpoint=r,h.platform=u.value,h.thresholds=n}),dr&&window.addEventListener("resize",g,{passive:!0}),{...Vd(h),update:y,ssr:!!t}}const Ud=We({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function vl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();const n=yt(vb);if(!n)throw new Error("Could not find Vuetify display injection");const r=Y(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const u=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<u}),s=Y(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:s,mobile:r}}const mA=Symbol.for("vuetify:goto");function pA(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function Zz(e){return H0(e)??(document.scrollingElement||document.body)}function H0(e){return typeof e=="string"?document.querySelector(e):F0(e)}function y_(e,t,n){if(typeof e=="number")return t&&n?-e:e;let r=H0(e),s=0;for(;r;)s+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return s}function Kz(e,t){return{rtl:t.isRtl,options:ca(pA(),e)}}async function gk(e,t,n,r){const s=n?"scrollLeft":"scrollTop",u=ca((r==null?void 0:r.options)??pA(),t),h=r==null?void 0:r.rtl.value,o=(typeof e=="number"?e:H0(e))??0,g=u.container==="parent"&&o instanceof HTMLElement?o.parentElement:Zz(u.container),y=typeof u.easing=="function"?u.easing:u.patterns[u.easing];if(!y)throw new TypeError(`Easing function "${u.easing}" not found.`);let w;if(typeof o=="number")w=y_(o,n,h);else if(w=y_(o,n,h)-y_(g,n,h),u.layout){const O=window.getComputedStyle(o).getPropertyValue("--v-layout-top");O&&(w-=parseInt(O,10))}w+=u.offset,w=Jz(g,w,!!h,!!n);const k=g[s]??0;if(w===k)return Promise.resolve(w);const C=performance.now();return new Promise(I=>requestAnimationFrame(function O(L){const B=(L-C)/u.duration,j=Math.floor(k+(w-k)*y(Zi(B,0,1)));if(g[s]=j,B>=1&&Math.abs(j-g[s])<10)return I(w);if(B>2)return I(g[s]);requestAnimationFrame(O)}))}function Xz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=yt(mA),{isRtl:n}=Ua();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:Y(()=>t.rtl.value||n.value)};async function s(u,h){return gk(u,ca(e,h),!1,r)}return s.horizontal=async(u,h)=>gk(u,ca(e,h),!0,r),s}function Jz(e,t,n,r){const{scrollWidth:s,scrollHeight:u}=e,[h,o]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let g,y;return r?n?(g=-(s-h),y=0):(g=0,y=s-h):(g=0,y=u+-o),Math.max(Math.min(t,y),g)}const gA={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},vA={component:e=>Jr(_A,{...e,class:"mdi"})},mn=[String,Function,Object,Array],yb=Symbol.for("vuetify:icons"),uv=We({icon:{type:mn},tag:{type:String,required:!0}},"icon"),vk=ft()({name:"VComponentIcon",props:uv(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return T(e.tag,null,{default:()=>{var s;return[e.icon?T(r,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),yA=Nd({name:"VSvgIcon",inheritAttrs:!1,props:uv(),setup(e,t){let{attrs:n}=t;return()=>T(e.tag,lt(n,{style:null}),{default:()=>[T("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?T("path",{d:r[0],"fill-opacity":r[1]},null):T("path",{d:r},null)):T("path",{d:e.icon},null)])]})}});Nd({name:"VLigatureIcon",props:uv(),setup(e){return()=>T(e.tag,null,{default:()=>[e.icon]})}});const _A=Nd({name:"VClassIcon",props:uv(),setup(e){return()=>T(e.tag,{class:e.icon},null)}});function Qz(){return{svg:{component:yA},class:{component:_A}}}function eB(e){const t=Qz(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=vA),ca({defaultSet:n,sets:t,aliases:{...gA,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const tB=e=>{const t=yt(yb);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Y(()=>{var g;const r=Br(e);if(!r)return{component:vk};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(g=t.aliases)==null?void 0:g[s.slice(1)])),Array.isArray(s))return{component:yA,icon:s};if(typeof s!="string")return{component:vk,icon:s};const u=Object.keys(t.sets).find(y=>typeof s=="string"&&s.startsWith(`${y}:`)),h=u?s.slice(u.length+1):s;return{component:t.sets[u??t.defaultSet].component,icon:h}})}},Bf=Symbol.for("vuetify:theme"),yr=We({theme:String},"theme");function yk(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function nB(){var r,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yk();const t=yk();if(!e)return{...t,isDisabled:!0};const n={};for(const[u,h]of Object.entries(e.themes??{})){const o=h.dark||u==="dark"?(r=t.themes)==null?void 0:r.dark:(s=t.themes)==null?void 0:s.light;n[u]=ca(o,h)}return ca(t,{...e,themes:n})}function rB(e){const t=nB(e),n=ht(t.defaultTheme),r=ht(t.themes),s=Y(()=>{const w={};for(const[k,C]of Object.entries(r.value)){const I=w[k]={...C,colors:{...C.colors}};if(t.variations)for(const O of t.variations.colors){const L=I.colors[O];if(L)for(const R of["lighten","darken"]){const B=R==="lighten"?qF:jF;for(const j of Zs(t.variations[R],1))I.colors[`${O}-${R}-${j}`]=NF(B(ko(L),j))}}for(const O of Object.keys(I.colors)){if(/^on-[a-z]/.test(O)||I.colors[`on-${O}`])continue;const L=`on-${O}`,R=ko(I.colors[O]);I.colors[L]=nA(R)}}return w}),u=Y(()=>s.value[n.value]),h=Y(()=>{var O;const w=[];(O=u.value)!=null&&O.dark&&Uc(w,":root",["color-scheme: dark"]),Uc(w,":root",_k(u.value));for(const[L,R]of Object.entries(s.value))Uc(w,`.v-theme--${L}`,[`color-scheme: ${R.dark?"dark":"normal"}`,..._k(R)]);const k=[],C=[],I=new Set(Object.values(s.value).flatMap(L=>Object.keys(L.colors)));for(const L of I)/^on-[a-z]/.test(L)?Uc(C,`.${L}`,[`color: rgb(var(--v-theme-${L})) !important`]):(Uc(k,`.bg-${L}`,[`--v-theme-overlay-multiplier: var(--v-theme-${L}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${L})) !important`,`color: rgb(var(--v-theme-on-${L})) !important`]),Uc(C,`.text-${L}`,[`color: rgb(var(--v-theme-${L})) !important`]),Uc(C,`.border-${L}`,[`--v-border-color: var(--v-theme-${L})`]));return w.push(...k,...C),w.map((L,R)=>R===0?L:`    ${L}`).join("")});function o(){return{style:[{children:h.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function g(w){if(t.isDisabled)return;const k=w._context.provides.usehead;if(k)if(k.push){const I=k.push(o);dr&&ut(h,()=>{I.patch(o)})}else dr?(k.addHeadObjs(Y(o)),yi(()=>k.updateDOM())):k.addHeadObjs(o());else{let O=function(){if(typeof document<"u"&&!I){const L=document.createElement("style");L.type="text/css",L.id="vuetify-theme-stylesheet",t.cspNonce&&L.setAttribute("nonce",t.cspNonce),I=L,document.head.appendChild(I)}I&&(I.innerHTML=h.value)};var C=O;let I=dr?document.getElementById("vuetify-theme-stylesheet"):null;dr?ut(h,O,{immediate:!0}):O()}}const y=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:g,isDisabled:t.isDisabled,name:n,themes:r,current:u,computedThemes:s,themeClasses:y,styles:h,global:{name:n,current:u}}}function Rr(e){Yr("provideTheme");const t=yt(Bf,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Y(()=>e.theme??t.name.value),r=Y(()=>t.themes.value[n.value]),s=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`),u={...t,name:n,current:r,themeClasses:s};return wn(Bf,u),u}function iB(){Yr("useTheme");const e=yt(Bf,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Uc(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function _k(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[s,u]of Object.entries(e.colors)){const h=ko(u);r.push(`--v-theme-${s}: ${h.r},${h.g},${h.b}`),s.startsWith("on-")||r.push(`--v-theme-${s}-overlay-multiplier: ${HF(u)>.18?t:n}`)}for(const[s,u]of Object.entries(e.variables)){const h=typeof u=="string"&&u.startsWith("#")?ko(u):void 0,o=h?`${h.r}, ${h.g}, ${h.b}`:void 0;r.push(`--v-${s}: ${o??u}`)}return r}function oc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Ig(),r=ht();if(dr){const s=new ResizeObserver(u=>{e==null||e(u,s),u.length&&(t==="content"?r.value=u[0].contentRect:r.value=u[0].target.getBoundingClientRect())});vr(()=>{s.disconnect()}),ut(()=>n.el,(u,h)=>{h&&(s.unobserve(h),r.value=void 0),u&&s.observe(u)},{flush:"post"})}return{resizeRef:n,contentRect:rm(r)}}const Vf=Symbol.for("vuetify:layout"),bA=Symbol.for("vuetify:layout-item"),bk=1e3,aB=We({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),G0=We({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function xA(){const e=yt(Vf);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function W0(e){const t=yt(Vf);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${As()}`,r=Yr("useLayoutItem");wn(bA,{id:n});const s=Rt(!1);S0(()=>s.value=!0),cT(()=>s.value=!1);const{layoutItemStyles:u,layoutItemScrimStyles:h}=t.register(r,{...e,active:Y(()=>s.value?!1:e.active.value),id:n});return vr(()=>t.unregister(n)),{layoutItemStyles:u,layoutRect:t.layoutRect,layoutItemScrimStyles:h}}const sB=(e,t,n,r)=>{let s={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...s}}];for(const h of e){const o=t.get(h),g=n.get(h),y=r.get(h);if(!o||!g||!y)continue;const w={...s,[o.value]:parseInt(s[o.value],10)+(y.value?parseInt(g.value,10):0)};u.push({id:h,layer:w}),s=w}return u};function oB(e){const t=yt(Vf,null),n=Y(()=>t?t.rootZIndex.value-100:bk),r=ht([]),s=Ai(new Map),u=Ai(new Map),h=Ai(new Map),o=Ai(new Map),g=Ai(new Map),{resizeRef:y,contentRect:w}=oc(),k=Y(()=>{const Q=new Map,se=e.overlaps??[];for(const H of se.filter($=>$.includes(":"))){const[$,K]=H.split(":");if(!r.value.includes($)||!r.value.includes(K))continue;const ae=s.get($),te=s.get(K),be=u.get($),me=u.get(K);!ae||!te||!be||!me||(Q.set(K,{position:ae.value,amount:parseInt(be.value,10)}),Q.set($,{position:te.value,amount:-parseInt(me.value,10)}))}return Q}),C=Y(()=>{const Q=[...new Set([...h.values()].map(H=>H.value))].sort((H,$)=>H-$),se=[];for(const H of Q){const $=r.value.filter(K=>{var ae;return((ae=h.get(K))==null?void 0:ae.value)===H});se.push(...$)}return sB(se,s,u,o)}),I=Y(()=>!Array.from(g.values()).some(Q=>Q.value)),O=Y(()=>C.value[C.value.length-1].layer),L=Y(()=>({"--v-layout-left":Ht(O.value.left),"--v-layout-right":Ht(O.value.right),"--v-layout-top":Ht(O.value.top),"--v-layout-bottom":Ht(O.value.bottom),...I.value?void 0:{transition:"none"}})),R=Y(()=>C.value.slice(1).map((Q,se)=>{let{id:H}=Q;const{layer:$}=C.value[se],K=u.get(H),ae=s.get(H);return{id:H,...$,size:Number(K.value),position:ae.value}})),B=Q=>R.value.find(se=>se.id===Q),j=Yr("createLayout"),Z=Rt(!1);Vi(()=>{Z.value=!0}),wn(Vf,{register:(Q,se)=>{let{id:H,order:$,position:K,layoutSize:ae,elementSize:te,active:be,disableTransitions:me,absolute:Ie}=se;h.set(H,$),s.set(H,K),u.set(H,ae),o.set(H,be),me&&g.set(H,me);const Ue=bd(bA,j==null?void 0:j.vnode).indexOf(Q);Ue>-1?r.value.splice(Ue,0,H):r.value.push(H);const Fe=Y(()=>R.value.findIndex(qe=>qe.id===H)),Ce=Y(()=>n.value+C.value.length*2-Fe.value*2),Ve=Y(()=>{const qe=K.value==="left"||K.value==="right",pt=K.value==="right",Ct=K.value==="bottom",$t=te.value??ae.value,gt=$t===0?"%":"px",Ne={[K.value]:0,zIndex:Ce.value,transform:`translate${qe?"X":"Y"}(${(be.value?0:-($t===0?100:$t))*(pt||Ct?-1:1)}${gt})`,position:Ie.value||n.value!==bk?"absolute":"fixed",...I.value?void 0:{transition:"none"}};if(!Z.value)return Ne;const tt=R.value[Fe.value];if(!tt)throw new Error(`[Vuetify] Could not find layout item "${H}"`);const je=k.value.get(H);return je&&(tt[je.position]+=je.amount),{...Ne,height:qe?`calc(100% - ${tt.top}px - ${tt.bottom}px)`:te.value?`${te.value}px`:void 0,left:pt?void 0:`${tt.left}px`,right:pt?`${tt.right}px`:void 0,top:K.value!=="bottom"?`${tt.top}px`:void 0,bottom:K.value!=="top"?`${tt.bottom}px`:void 0,width:qe?te.value?`${te.value}px`:void 0:`calc(100% - ${tt.left}px - ${tt.right}px)`}}),$e=Y(()=>({zIndex:Ce.value-1}));return{layoutItemStyles:Ve,layoutItemScrimStyles:$e,zIndex:Ce}},unregister:Q=>{h.delete(Q),s.delete(Q),u.delete(Q),o.delete(Q),g.delete(Q),r.value=r.value.filter(se=>se!==Q)},mainRect:O,mainStyles:L,getLayoutItem:B,items:R,layoutRect:w,rootZIndex:n});const re=Y(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),ie=Y(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:re,layoutStyles:ie,getLayoutItem:B,items:R,layoutRect:w,layoutRef:y}}function wA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=ca(t,n),{aliases:s={},components:u={},directives:h={}}=r,o=WF(r.defaults),g=Yz(r.display,r.ssr),y=rB(r.theme),w=eB(r.icons),k=iz(r.locale),C=Hz(r.date,k),I=Kz(r.goTo,k);return{install:L=>{for(const R in h)L.directive(R,h[R]);for(const R in u)L.component(R,u[R]);for(const R in s)L.component(R,Nd({...s[R],name:R,aliasName:s[R].name}));if(y.install(L),L.provide(Rd,o),L.provide(vb,g),L.provide(Bf,y),L.provide(yb,w),L.provide(Dg,k),L.provide(hA,C.options),L.provide(dk,C.instance),L.provide(mA,I),dr&&r.ssr)if(L.$nuxt)L.$nuxt.hook("app:suspense:resolve",()=>{g.update()});else{const{mount:R}=L;L.mount=function(){const B=R(...arguments);return Xn(()=>g.update()),L.mount=R,B}}As.reset(),L.mixin({computed:{$vuetify(){return Ai({defaults:ud.call(this,Rd),display:ud.call(this,vb),theme:ud.call(this,Bf),icons:ud.call(this,yb),locale:ud.call(this,Dg),date:ud.call(this,dk)})}}})},defaults:o,display:g,theme:y,icons:w,locale:k,date:C,goTo:I}}const lB="3.7.0";wA.version=lB;function ud(e){var r,s;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((s=t.vnode.appContext)==null?void 0:s.provides);if(n&&e in n)return n[e]}var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var SA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Yc,function(){var n,r,s;function u(o,g){if(!n)n=g;else if(!r)r=g;else{var y="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",w={};n(w),s=g(w),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"})))}}u(["exports"],function(o){function g(l,i,c,f){return new(c||(c=Promise))(function(p,b){function S(F){try{D(f.next(F))}catch(V){b(V)}}function A(F){try{D(f.throw(F))}catch(V){b(V)}}function D(F){var V;F.done?p(F.value):(V=F.value,V instanceof c?V:new c(function(q){q(V)})).then(S,A)}D((f=f.apply(l,i||[])).next())})}function y(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}typeof SuppressedError=="function"&&SuppressedError;var w=k;function k(l,i){this.x=l,this.y=i}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,i){return this.clone()._rotateAround(l,i)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var i=l.x-this.x,c=l.y-this.y;return i*i+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,i){return Math.atan2(this.x*i-this.y*l,this.x*l+this.y*i)},_matMult:function(l){var i=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=i,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var i=Math.cos(l),c=Math.sin(l),f=c*this.x+i*this.y;return this.x=i*this.x-c*this.y,this.y=f,this},_rotateAround:function(l,i){var c=Math.cos(l),f=Math.sin(l),p=i.y+f*(this.x-i.x)+c*(this.y-i.y);return this.x=i.x+c*(this.x-i.x)-f*(this.y-i.y),this.y=p,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},k.convert=function(l){return l instanceof k?l:Array.isArray(l)?new k(l[0],l[1]):l};var C=y(w),I=O;function O(l,i,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=i,this.p2x=c,this.p2y=f}O.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,i){if(i===void 0&&(i=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var p=this.sampleCurveX(c)-l;if(Math.abs(p)<i)return c;var b=this.sampleCurveDerivativeX(c);if(Math.abs(b)<1e-6)break;c-=p/b}var S=0,A=1;for(c=l,f=0;f<20&&(p=this.sampleCurveX(c),!(Math.abs(p-l)<i));f++)l>p?S=c:A=c,c=.5*(A-S)+S;return c},solve:function(l,i){return this.sampleCurveY(this.solveCurveX(l,i))}};var L=y(I);let R,B;function j(){return R==null&&(R=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),R}function Z(){if(B==null&&(B=!1,j())){const i=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(i){for(let f=0;f<5*5;f++){const p=4*f;i.fillStyle=`rgb(${p},${p+1},${p+2})`,i.fillRect(f%5,Math.floor(f/5),1,1)}const c=i.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&c[f]!==f){B=!0;break}}}return B||!1}function re(l,i,c,f){const p=new L(l,i,c,f);return function(b){return p.solve(b)}}const ie=re(.25,.1,.25,1);function Q(l,i,c){return Math.min(c,Math.max(i,l))}function se(l,i,c){const f=c-i,p=((l-i)%f+f)%f+i;return p===i?c:p}function H(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}let $=1;function K(l,i,c){const f={};for(const p in l)f[p]=i.call(c||this,l[p],p,l);return f}function ae(l,i,c){const f={};for(const p in l)i.call(c||this,l[p],p,l)&&(f[p]=l[p]);return f}function te(l){return Array.isArray(l)?l.map(te):typeof l=="object"&&l?K(l,te):l}const be={};function me(l){be[l]||(typeof console<"u"&&console.warn(l),be[l]=!0)}function Ie(l,i,c){return(c.y-l.y)*(i.x-l.x)>(i.y-l.y)*(c.x-l.x)}function Ae(l){let i=0;for(let c,f,p=0,b=l.length,S=b-1;p<b;S=p++)c=l[p],f=l[S],i+=(f.x-c.x)*(c.y+f.y);return i}function Ue(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Fe=null;function Ce(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function $e(l,i,c,f,p){return g(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const b=new VideoFrame(l,{timestamp:0});try{const S=b==null?void 0:b.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);const A=S.startsWith("BGR"),D=new Uint8ClampedArray(f*p*4);if(yield b.copyTo(D,function(F,V,q,W,ee){const ne=4*Math.max(-V,0),ue=(Math.max(0,q)-q)*W*4+ne,ye=4*W,we=Math.max(0,V),Oe=Math.max(0,q);return{rect:{x:we,y:Oe,width:Math.min(F.width,V+W)-we,height:Math.min(F.height,q+ee)-Oe},layout:[{offset:ue,stride:ye}]}}(l,i,c,f,p)),A)for(let F=0;F<D.length;F+=4){const V=D[F];D[F]=D[F+2],D[F+2]=V}return D}finally{b.close()}})}let qe,pt,Ct,$t;const gt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(l){const i=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(i)}},getImageData(l,i=0){return this.getImageCanvasContext(l).getImageData(-i,-i,l.width+2*i,l.height+2*i)},getImageCanvasContext(l){const i=window.document.createElement("canvas"),c=i.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return i.width=l.width,i.height=l.height,c.drawImage(l,0,0,l.width,l.height),c},resolveURL:l=>(Ct||(Ct=document.createElement("a")),Ct.href=l,Ct.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&($t==null&&($t=matchMedia("(prefers-reduced-motion: reduce)")),$t.matches)}},Ne={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class tt extends Error{constructor(i,c,f,p){super(`AJAXError: ${c} (${i}): ${f}`),this.status=i,this.statusText=c,this.url=f,this.body=p}}const je=Ue()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,et=l=>Ne.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))];function Je(l,i){const c=new AbortController,f=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,cache:l.cache,referrer:je(),signal:c.signal});let p=!1,b=!1;return l.type==="json"&&f.headers.set("Accept","application/json"),b||fetch(f).then(S=>S.ok?(A=>{(l.type==="arrayBuffer"||l.type==="image"?A.arrayBuffer():l.type==="json"?A.json():A.text()).then(D=>{b||(p=!0,i(null,D,A.headers.get("Cache-Control"),A.headers.get("Expires")))}).catch(D=>{b||i(new Error(D.message))})})(S):S.blob().then(A=>i(new tt(S.status,S.statusText,l.url,A)))).catch(S=>{S.code!==20&&i(new Error(S.message))}),{cancel:()=>{b=!0,p||c.abort()}}}const It=function(l,i){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){if(Ue()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i);if(!Ue())return(et(l.url)||Je)(l,i)}if(!(/^file:/.test(c=l.url)||/^file:/.test(je())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Je(l,i);if(Ue()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i,void 0,!0)}var c;return function(f,p){const b=new XMLHttpRequest;b.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(b.responseType="arraybuffer");for(const S in f.headers)b.setRequestHeader(S,f.headers[S]);return f.type==="json"&&(b.responseType="text",b.setRequestHeader("Accept","application/json")),b.withCredentials=f.credentials==="include",b.onerror=()=>{p(new Error(b.statusText))},b.onload=()=>{if((b.status>=200&&b.status<300||b.status===0)&&b.response!==null){let S=b.response;if(f.type==="json")try{S=JSON.parse(b.response)}catch(A){return p(A)}p(null,S,b.getResponseHeader("Cache-Control"),b.getResponseHeader("Expires"))}else{const S=new Blob([b.response],{type:b.getResponseHeader("Content-Type")});p(new tt(b.status,b.statusText,f.url,S))}},b.send(f.body),{cancel:()=>b.abort()}}(l,i)},oe=function(l,i){return It(H(l,{type:"arrayBuffer"}),i)};function fe(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;const i=new URL(l),c=window.location;return i.protocol===c.protocol&&i.host===c.host}function Me(l,i,c){c[l]&&c[l].indexOf(i)!==-1||(c[l]=c[l]||[],c[l].push(i))}function Xe(l,i,c){if(c&&c[l]){const f=c[l].indexOf(i);f!==-1&&c[l].splice(f,1)}}class Ze{constructor(i,c={}){H(this,c),this.type=i}}class nt extends Ze{constructor(i,c={}){super("error",H({error:i},c))}}class Tt{on(i,c){return this._listeners=this._listeners||{},Me(i,c,this._listeners),this}off(i,c){return Xe(i,c,this._listeners),Xe(i,c,this._oneTimeListeners),this}once(i,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Me(i,c,this._oneTimeListeners),this):new Promise(f=>this.once(i,f))}fire(i,c){typeof i=="string"&&(i=new Ze(i,c||{}));const f=i.type;if(this.listens(f)){i.target=this;const p=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const A of p)A.call(this,i);const b=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const A of b)Xe(f,A,this._oneTimeListeners),A.call(this,i);const S=this._eventedParent;S&&(H(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(i))}else i instanceof nt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,c){return this._eventedParent=i,this._eventedParentData=c,this}}var ke={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const _t=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Qe(l,i){const c={};for(const f in l)f!=="ref"&&(c[f]=l[f]);return _t.forEach(f=>{f in i&&(c[f]=i[f])}),c}function ct(l,i){if(Array.isArray(l)){if(!Array.isArray(i)||l.length!==i.length)return!1;for(let c=0;c<l.length;c++)if(!ct(l[c],i[c]))return!1;return!0}if(typeof l=="object"&&l!==null&&i!==null){if(typeof i!="object"||Object.keys(l).length!==Object.keys(i).length)return!1;for(const c in l)if(!ct(l[c],i[c]))return!1;return!0}return l===i}const kt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Pt(l,i,c){c.push({command:kt.addSource,args:[l,i[l]]})}function sn(l,i,c){i.push({command:kt.removeSource,args:[l]}),c[l]=!0}function on(l,i,c,f){sn(l,c,f),Pt(l,i,c)}function On(l,i,c){let f;for(f in l[c])if(Object.prototype.hasOwnProperty.call(l[c],f)&&f!=="data"&&!ct(l[c][f],i[c][f]))return!1;for(f in i[c])if(Object.prototype.hasOwnProperty.call(i[c],f)&&f!=="data"&&!ct(l[c][f],i[c][f]))return!1;return!0}function bn(l,i,c,f,p,b){let S;for(S in i=i||{},l=l||{})Object.prototype.hasOwnProperty.call(l,S)&&(ct(l[S],i[S])||c.push({command:b,args:[f,S,i[S],p]}));for(S in i)Object.prototype.hasOwnProperty.call(i,S)&&!Object.prototype.hasOwnProperty.call(l,S)&&(ct(l[S],i[S])||c.push({command:b,args:[f,S,i[S],p]}))}function $n(l){return l.id}function ur(l,i){return l[i.id]=i,l}class vt{constructor(i,c,f,p){this.message=(i?`${i}: `:"")+f,p&&(this.identifier=p),c!=null&&c.__line__&&(this.line=c.__line__)}}function bi(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}class Tn extends Error{constructor(i,c){super(c),this.message=c,this.key=i}}class fa{constructor(i,c=[]){this.parent=i,this.bindings={};for(const[f,p]of c)this.bindings[f]=p}concat(i){return new fa(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const hr={kind:"null"},At={kind:"number"},_n={kind:"string"},pn={kind:"boolean"},$i={kind:"color"},cs={kind:"object"},xn={kind:"value"},Ls={kind:"collator"},pe={kind:"formatted"},G={kind:"padding"},X={kind:"resolvedImage"},le={kind:"variableAnchorOffsetCollection"};function ve(l,i){return{kind:"array",itemType:l,N:i}}function _e(l){if(l.kind==="array"){const i=_e(l.itemType);return typeof l.N=="number"?`array<${i}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${i}>`}return l.kind}const ze=[hr,At,_n,pn,$i,pe,cs,ve(xn),G,X,le];function Ee(l,i){if(i.kind==="error")return null;if(l.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Ee(l.itemType,i.itemType))&&(typeof l.N!="number"||l.N===i.N))return null}else{if(l.kind===i.kind)return null;if(l.kind==="value"){for(const c of ze)if(!Ee(c,i))return null}}return`Expected ${_e(l)} but found ${_e(i)} instead.`}function Se(l,i){return i.some(c=>c.kind===l.kind)}function Re(l,i){return i.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}function rt(l,i){return l.kind==="array"&&i.kind==="array"?l.itemType.kind===i.itemType.kind&&typeof l.N=="number":l.kind===i.kind}const at=.96422,dt=.82521,tn=4/29,hn=6/29,Wt=3*hn*hn,rn=hn*hn*hn,gn=Math.PI/180,Zn=180/Math.PI;function sr(l){return(l%=360)<0&&(l+=360),l}function Un([l,i,c,f]){let p,b;const S=Mi((.2225045*(l=Vn(l))+.7168786*(i=Vn(i))+.0606169*(c=Vn(c)))/1);l===i&&i===c?p=b=S:(p=Mi((.4360747*l+.3850649*i+.1430804*c)/at),b=Mi((.0139322*l+.0971045*i+.7141733*c)/dt));const A=116*S-16;return[A<0?0:A,500*(p-S),200*(S-b),f]}function Vn(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Mi(l){return l>rn?Math.pow(l,1/3):l/Wt+tn}function fr([l,i,c,f]){let p=(l+16)/116,b=isNaN(i)?p:p+i/500,S=isNaN(c)?p:p-c/200;return p=1*wi(p),b=at*wi(b),S=dt*wi(S),[ei(3.1338561*b-1.6168667*p-.4906146*S),ei(-.9787684*b+1.9161415*p+.033454*S),ei(.0719453*b-.2289914*p+1.4052427*S),f]}function ei(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function wi(l){return l>hn?l*l*l:Wt*(l-tn)}function Ca(l){return parseInt(l.padEnd(2,l),16)/255}function Em(l,i){return Sl(i?l/100:l,0,1)}function Sl(l,i,c){return Math.min(Math.max(i,l),c)}function kl(l){return!l.some(Number.isNaN)}const Kv={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class er{constructor(i,c,f,p=1,b=!0){this.r=i,this.g=c,this.b=f,this.a=p,b||(this.r*=p,this.g*=p,this.b*=p,p||this.overwriteGetter("rgb",[i,c,f,p]))}static parse(i){if(i instanceof er)return i;if(typeof i!="string")return;const c=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const p=Kv[f];if(p){const[S,A,D]=p;return[S/255,A/255,D/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const S=f.length<6?1:2;let A=1;return[Ca(f.slice(A,A+=S)),Ca(f.slice(A,A+=S)),Ca(f.slice(A,A+=S)),Ca(f.slice(A,A+S)||"ff")]}if(f.startsWith("rgb")){const S=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[A,D,F,V,q,W,ee,ne,ue,ye,we,Oe]=S,Te=[V||" ",ee||" ",ye].join("");if(Te==="  "||Te==="  /"||Te===",,"||Te===",,,"){const Be=[F,W,ue].join(""),Ge=Be==="%%%"?100:Be===""?255:0;if(Ge){const ot=[Sl(+D/Ge,0,1),Sl(+q/Ge,0,1),Sl(+ne/Ge,0,1),we?Em(+we,Oe):1];if(kl(ot))return ot}}return}}const b=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(b){const[S,A,D,F,V,q,W,ee,ne]=b,ue=[D||" ",V||" ",W].join("");if(ue==="  "||ue==="  /"||ue===",,"||ue===",,,"){const ye=[+A,Sl(+F,0,100),Sl(+q,0,100),ee?Em(+ee,ne):1];if(kl(ye))return function([we,Oe,Te,Be]){function Ge(ot){const Nt=(ot+we/30)%12,Zt=Oe*Math.min(Te,1-Te);return Te-Zt*Math.max(-1,Math.min(Nt-3,9-Nt,1))}return we=sr(we),Oe/=100,Te/=100,[Ge(0),Ge(8),Ge(4),Be]}(ye)}}}(i);return c?new er(...c,!1):void 0}get rgb(){const{r:i,g:c,b:f,a:p}=this,b=p||1/0;return this.overwriteGetter("rgb",[i/b,c/b,f/b,p])}get hcl(){return this.overwriteGetter("hcl",function(i){const[c,f,p,b]=Un(i),S=Math.sqrt(f*f+p*p);return[Math.round(1e4*S)?sr(Math.atan2(p,f)*Zn):NaN,S,c,b]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Un(this.rgb))}overwriteGetter(i,c){return Object.defineProperty(this,i,{value:c}),c}toString(){const[i,c,f,p]=this.rgb;return`rgba(${[i,c,f].map(b=>Math.round(255*b)).join(",")},${p})`}}er.black=new er(0,0,0,1),er.white=new er(1,1,1,1),er.transparent=new er(0,0,0,0),er.red=new er(1,0,0,1);class rh{constructor(i,c,f){this.sensitivity=i?c?"variant":"case":c?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,c){return this.collator.compare(i,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Su{constructor(i,c,f,p,b){this.text=i,this.image=c,this.scale=f,this.fontStack=p,this.textColor=b}}class Li{constructor(i){this.sections=i}static fromString(i){return new Li([new Su(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Li?i:Li.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class ma{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof ma)return i;if(typeof i=="number")return new ma([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const c of i)if(typeof c!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new ma(i)}}toString(){return JSON.stringify(this.values)}}const Xv=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ta{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof Ta)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let c=0;c<i.length;c+=2){const f=i[c],p=i[c+1];if(typeof f!="string"||!Xv.has(f)||!Array.isArray(p)||p.length!==2||typeof p[0]!="number"||typeof p[1]!="number")return}return new Ta(i)}}toString(){return JSON.stringify(this.values)}}class Si{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Si({name:i,available:!1}):null}}function ku(l,i,c,f){return typeof l=="number"&&l>=0&&l<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof c=="number"&&c>=0&&c<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,i,c,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,i,c,f]:[l,i,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Cl(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof er||l instanceof rh||l instanceof Li||l instanceof ma||l instanceof Ta||l instanceof Si)return!0;if(Array.isArray(l)){for(const i of l)if(!Cl(i))return!1;return!0}if(typeof l=="object"){for(const i in l)if(!Cl(l[i]))return!1;return!0}return!1}function Ar(l){if(l===null)return hr;if(typeof l=="string")return _n;if(typeof l=="boolean")return pn;if(typeof l=="number")return At;if(l instanceof er)return $i;if(l instanceof rh)return Ls;if(l instanceof Li)return pe;if(l instanceof ma)return G;if(l instanceof Ta)return le;if(l instanceof Si)return X;if(Array.isArray(l)){const i=l.length;let c;for(const f of l){const p=Ar(f);if(c){if(c===p)continue;c=xn;break}c=p}return ve(c||xn,i)}return cs}function Hn(l){const i=typeof l;return l===null?"":i==="string"||i==="number"||i==="boolean"?String(l):l instanceof er||l instanceof Li||l instanceof ma||l instanceof Ta||l instanceof Si?l.toString():JSON.stringify(l)}class Bo{constructor(i,c){this.type=i,this.value=c}static parse(i,c){if(i.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Cl(i[1]))return c.error("invalid value");const f=i[1];let p=Ar(f);const b=c.expectedType;return p.kind!=="array"||p.N!==0||!b||b.kind!=="array"||typeof b.N=="number"&&b.N!==0||(p=b),new Bo(p,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Or{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const Cu={string:_n,number:At,boolean:pn,object:cs};class Aa{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");let f,p=1;const b=i[0];if(b==="array"){let A,D;if(i.length>2){const F=i[1];if(typeof F!="string"||!(F in Cu)||F==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);A=Cu[F],p++}else A=xn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return c.error('The length argument to "array" must be a positive integer literal',2);D=i[2],p++}f=ve(A,D)}else{if(!Cu[b])throw new Error(`Types doesn't contain name = ${b}`);f=Cu[b]}const S=[];for(;p<i.length;p++){const A=c.parse(i[p],p,xn);if(!A)return null;S.push(A)}return new Aa(f,S)}evaluate(i){for(let c=0;c<this.args.length;c++){const f=this.args[c].evaluate(i);if(!Ee(this.type,Ar(f)))return f;if(c===this.args.length-1)throw new Or(`Expected value to be of type ${_e(this.type)}, but found ${_e(Ar(f))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const ih={"to-boolean":pn,"to-color":$i,"to-number":At,"to-string":_n};class co{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[0];if(!ih[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&i.length!==2)return c.error("Expected one argument.");const p=ih[f],b=[];for(let S=1;S<i.length;S++){const A=c.parse(i[S],S,xn);if(!A)return null;b.push(A)}return new co(p,b)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let c,f;for(const p of this.args){if(c=p.evaluate(i),f=null,c instanceof er)return c;if(typeof c=="string"){const b=i.parseColor(c);if(b)return b}else if(Array.isArray(c)&&(f=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:ku(c[0],c[1],c[2],c[3]),!f))return new er(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Or(f||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const f of this.args){c=f.evaluate(i);const p=ma.parse(c);if(p)return p}throw new Or(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const f of this.args){c=f.evaluate(i);const p=Ta.parse(c);if(p)return p}throw new Or(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const f of this.args){if(c=f.evaluate(i),c===null)return 0;const p=Number(c);if(!isNaN(p))return p}throw new Or(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Li.fromString(Hn(this.args[0].evaluate(i)));case"resolvedImage":return Si.fromString(Hn(this.args[0].evaluate(i)));default:return Hn(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const Im=["Unknown","Point","LineString","Polygon"];class ah{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Im[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let c=this._parseColorCache[i];return c||(c=this._parseColorCache[i]=er.parse(i)),c}}class Tu{constructor(i,c,f=[],p,b=new fa,S=[]){this.registry=i,this.path=f,this.key=f.map(A=>`[${A}]`).join(""),this.scope=b,this.errors=S,this.expectedType=p,this._isConstant=c}parse(i,c,f,p,b={}){return c?this.concat(c,f,p)._parse(i,b):this._parse(i,b)}_parse(i,c){function f(p,b,S){return S==="assert"?new Aa(b,[p]):S==="coerce"?new co(b,[p]):p}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const p=i[0];if(typeof p!="string")return this.error(`Expression name must be a string, but found ${typeof p} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const b=this.registry[p];if(b){let S=b.parse(i,this);if(!S)return null;if(this.expectedType){const A=this.expectedType,D=S.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||D.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||D.kind!=="value"&&D.kind!=="string")if(A.kind!=="padding"||D.kind!=="value"&&D.kind!=="number"&&D.kind!=="array")if(A.kind!=="variableAnchorOffsetCollection"||D.kind!=="value"&&D.kind!=="array"){if(this.checkSubtype(A,D))return null}else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"assert")}if(!(S instanceof Bo)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){const A=new ah;try{S=new Bo(S.type,S.evaluate(A))}catch(D){return this.error(D.message),null}}return S}return this.error(`Unknown expression "${p}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,c,f){const p=typeof i=="number"?this.path.concat(i):this.path,b=f?this.scope.concat(f):this.scope;return new Tu(this.registry,this._isConstant,p,c||null,b,this.errors)}error(i,...c){const f=`${this.key}${c.map(p=>`[${p}]`).join("")}`;this.errors.push(new Tn(f,i))}checkSubtype(i,c){const f=Ee(i,c);return f&&this.error(f),f}}class Au{constructor(i,c,f){this.type=Ls,this.locale=f,this.caseSensitive=i,this.diacriticSensitive=c}static parse(i,c){if(i.length!==2)return c.error("Expected one argument.");const f=i[1];if(typeof f!="object"||Array.isArray(f))return c.error("Collator options argument must be an object.");const p=c.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,pn);if(!p)return null;const b=c.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,pn);if(!b)return null;let S=null;return f.locale&&(S=c.parse(f.locale,1,_n),!S)?null:new Au(p,b,S)}evaluate(i){return new rh(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}const uo=8192;function sh(l,i){l[0]=Math.min(l[0],i[0]),l[1]=Math.min(l[1],i[1]),l[2]=Math.max(l[2],i[0]),l[3]=Math.max(l[3],i[1])}function vc(l,i){return!(l[0]<=i[0]||l[2]>=i[2]||l[1]<=i[1]||l[3]>=i[3])}function Pm(l,i){const c=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,p=Math.pow(2,i.z);return[Math.round(c*p*uo),Math.round(f*p*uo)]}function Jv(l,i,c){const f=l[0]-i[0],p=l[1]-i[1],b=l[0]-c[0],S=l[1]-c[1];return f*S-b*p==0&&f*b<=0&&p*S<=0}function oh(l,i){let c=!1;for(let S=0,A=i.length;S<A;S++){const D=i[S];for(let F=0,V=D.length;F<V-1;F++){if(Jv(l,D[F],D[F+1]))return!1;(p=D[F])[1]>(f=l)[1]!=(b=D[F+1])[1]>f[1]&&f[0]<(b[0]-p[0])*(f[1]-p[1])/(b[1]-p[1])+p[0]&&(c=!c)}}var f,p,b;return c}function lh(l,i){for(let c=0;c<i.length;c++)if(oh(l,i[c]))return!0;return!1}function Dm(l,i,c,f){const p=f[0]-c[0],b=f[1]-c[1],S=(l[0]-c[0])*b-p*(l[1]-c[1]),A=(i[0]-c[0])*b-p*(i[1]-c[1]);return S>0&&A<0||S<0&&A>0}function Qv(l,i,c){for(const F of c)for(let V=0;V<F.length-1;++V)if((A=[(S=F[V+1])[0]-(b=F[V])[0],S[1]-b[1]])[0]*(D=[(p=i)[0]-(f=l)[0],p[1]-f[1]])[1]-A[1]*D[0]!=0&&Dm(f,p,b,S)&&Dm(b,S,f,p))return!0;var f,p,b,S,A,D;return!1}function Mm(l,i){for(let c=0;c<l.length;++c)if(!oh(l[c],i))return!1;for(let c=0;c<l.length-1;++c)if(Qv(l[c],l[c+1],i))return!1;return!0}function Lm(l,i){for(let c=0;c<i.length;c++)if(Mm(l,i[c]))return!0;return!1}function Eu(l,i,c){const f=[];for(let p=0;p<l.length;p++){const b=[];for(let S=0;S<l[p].length;S++){const A=Pm(l[p][S],c);sh(i,A),b.push(A)}f.push(b)}return f}function Rm(l,i,c){const f=[];for(let p=0;p<l.length;p++){const b=Eu(l[p],i,c);f.push(b)}return f}function Om(l,i,c,f){if(l[0]<c[0]||l[0]>c[2]){const p=.5*f;let b=l[0]-c[0]>p?-f:c[0]-l[0]>p?f:0;b===0&&(b=l[0]-c[2]>p?-f:c[2]-l[0]>p?f:0),l[0]+=b}sh(i,l)}function ch(l,i,c,f){const p=Math.pow(2,f.z)*uo,b=[f.x*uo,f.y*uo],S=[];for(const A of l)for(const D of A){const F=[D.x+b[0],D.y+b[1]];Om(F,i,c,p),S.push(F)}return S}function uh(l,i,c,f){const p=Math.pow(2,f.z)*uo,b=[f.x*uo,f.y*uo],S=[];for(const D of l){const F=[];for(const V of D){const q=[V.x+b[0],V.y+b[1]];sh(i,q),F.push(q)}S.push(F)}if(i[2]-i[0]<=p/2){(A=i)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const D of S)for(const F of D)Om(F,i,c,p)}var A;return S}class Vo{constructor(i,c){this.type=pn,this.geojson=i,this.geometries=c}static parse(i,c){if(i.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Cl(i[1])){const f=i[1];if(f.type==="FeatureCollection")for(let p=0;p<f.features.length;++p){const b=f.features[p].geometry.type;if(b==="Polygon"||b==="MultiPolygon")return new Vo(f,f.features[p].geometry)}else if(f.type==="Feature"){const p=f.geometry.type;if(p==="Polygon"||p==="MultiPolygon")return new Vo(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Vo(f,f)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(c,f){const p=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=Eu(f.coordinates,b,S),D=ch(c.geometry(),p,b,S);if(!vc(p,b))return!1;for(const F of D)if(!oh(F,A))return!1}if(f.type==="MultiPolygon"){const A=Rm(f.coordinates,b,S),D=ch(c.geometry(),p,b,S);if(!vc(p,b))return!1;for(const F of D)if(!lh(F,A))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(c,f){const p=[1/0,1/0,-1/0,-1/0],b=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=Eu(f.coordinates,b,S),D=uh(c.geometry(),p,b,S);if(!vc(p,b))return!1;for(const F of D)if(!Mm(F,A))return!1}if(f.type==="MultiPolygon"){const A=Rm(f.coordinates,b,S),D=uh(c.geometry(),p,b,S);if(!vc(p,b))return!1;for(const F of D)if(!Lm(F,A))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Iu{constructor(i,c){this.type=c.type,this.name=i,this.boundExpression=c}static parse(i,c){if(i.length!==2||typeof i[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const f=i[1];return c.scope.has(f)?new Iu(f,c.scope.get(f)):c.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class Ea{constructor(i,c,f,p){this.name=i,this.type=c,this._evaluate=f,this.args=p}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,c){const f=i[0],p=Ea.definitions[f];if(!p)return c.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const b=Array.isArray(p)?p[0]:p.type,S=Array.isArray(p)?[[p[1],p[2]]]:p.overloads,A=S.filter(([F])=>!Array.isArray(F)||F.length===i.length-1);let D=null;for(const[F,V]of A){D=new Tu(c.registry,Pu,c.path,null,c.scope);const q=[];let W=!1;for(let ee=1;ee<i.length;ee++){const ne=i[ee],ue=Array.isArray(F)?F[ee-1]:F.type,ye=D.parse(ne,1+q.length,ue);if(!ye){W=!0;break}q.push(ye)}if(!W)if(Array.isArray(F)&&F.length!==q.length)D.error(`Expected ${F.length} arguments, but found ${q.length} instead.`);else{for(let ee=0;ee<q.length;ee++){const ne=Array.isArray(F)?F[ee]:F.type,ue=q[ee];D.concat(ee+1).checkSubtype(ne,ue.type)}if(D.errors.length===0)return new Ea(f,b,V,q)}}if(A.length===1)c.errors.push(...D.errors);else{const F=(A.length?A:S).map(([q])=>{return W=q,Array.isArray(W)?`(${W.map(_e).join(", ")})`:`(${_e(W.type)}...)`;var W}).join(" | "),V=[];for(let q=1;q<i.length;q++){const W=c.parse(i[q],1+V.length);if(!W)return null;V.push(_e(W.type))}c.error(`Expected arguments of type ${F}, but found (${V.join(", ")}) instead.`)}return null}static register(i,c){Ea.definitions=c;for(const f in c)i[f]=Ea}}function Pu(l){if(l instanceof Iu)return Pu(l.boundExpression);if(l instanceof Ea&&l.name==="error"||l instanceof Au||l instanceof Vo)return!1;const i=l instanceof co||l instanceof Aa;let c=!0;return l.eachChild(f=>{c=i?c&&Pu(f):c&&f instanceof Bo}),!!c&&Du(l)&&Mu(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Du(l){if(l instanceof Ea&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof Vo)return!1;let i=!0;return l.eachChild(c=>{i&&!Du(c)&&(i=!1)}),i}function yc(l){if(l instanceof Ea&&l.name==="feature-state")return!1;let i=!0;return l.eachChild(c=>{i&&!yc(c)&&(i=!1)}),i}function Mu(l,i){if(l instanceof Ea&&i.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(f=>{c&&!Mu(f,i)&&(c=!1)}),c}function Tl(l,i){const c=l.length-1;let f,p,b=0,S=c,A=0;for(;b<=S;)if(A=Math.floor((b+S)/2),f=l[A],p=l[A+1],f<=i){if(A===c||i<p)return A;b=A+1}else{if(!(f>i))throw new Or("Input is not a number.");S=A-1}return 0}class ho{constructor(i,c,f){this.type=i,this.input=c,this.labels=[],this.outputs=[];for(const[p,b]of f)this.labels.push(p),this.outputs.push(b)}static parse(i,c){if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");const f=c.parse(i[1],1,At);if(!f)return null;const p=[];let b=null;c.expectedType&&c.expectedType.kind!=="value"&&(b=c.expectedType);for(let S=1;S<i.length;S+=2){const A=S===1?-1/0:i[S],D=i[S+1],F=S,V=S+1;if(typeof A!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',F);if(p.length&&p[p.length-1][0]>=A)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',F);const q=c.parse(D,V,b);if(!q)return null;b=b||q.type,p.push([A,q])}return new ho(b,f,p)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const p=this.input.evaluate(i);if(p<=c[0])return f[0].evaluate(i);const b=c.length;return p>=c[b-1]?f[b-1].evaluate(i):f[Tl(c,p)].evaluate(i)}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Fn(l,i,c){return l+c*(i-l)}function Lu(l,i,c){return l.map((f,p)=>Fn(f,i[p],c))}const pa={number:Fn,color:function(l,i,c,f="rgb"){switch(f){case"rgb":{const[p,b,S,A]=Lu(l.rgb,i.rgb,c);return new er(p,b,S,A,!1)}case"hcl":{const[p,b,S,A]=l.hcl,[D,F,V,q]=i.hcl;let W,ee;if(isNaN(p)||isNaN(D))isNaN(p)?isNaN(D)?W=NaN:(W=D,S!==1&&S!==0||(ee=F)):(W=p,V!==1&&V!==0||(ee=b));else{let Oe=D-p;D>p&&Oe>180?Oe-=360:D<p&&p-D>180&&(Oe+=360),W=p+c*Oe}const[ne,ue,ye,we]=function([Oe,Te,Be,Ge]){return Oe=isNaN(Oe)?0:Oe*gn,fr([Be,Math.cos(Oe)*Te,Math.sin(Oe)*Te,Ge])}([W,ee??Fn(b,F,c),Fn(S,V,c),Fn(A,q,c)]);return new er(ne,ue,ye,we,!1)}case"lab":{const[p,b,S,A]=fr(Lu(l.lab,i.lab,c));return new er(p,b,S,A,!1)}}},array:Lu,padding:function(l,i,c){return new ma(Lu(l.values,i.values,c))},variableAnchorOffsetCollection:function(l,i,c){const f=l.values,p=i.values;if(f.length!==p.length)throw new Or(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${i.toString()}`);const b=[];for(let S=0;S<f.length;S+=2){if(f[S]!==p[S])throw new Or(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${f[S]}, to[${S}]: ${p[S]}`);b.push(f[S]);const[A,D]=f[S+1],[F,V]=p[S+1];b.push([Fn(A,F,c),Fn(D,V,c)])}return new Ta(b)}};class ga{constructor(i,c,f,p,b){this.type=i,this.operator=c,this.interpolation=f,this.input=p,this.labels=[],this.outputs=[];for(const[S,A]of b)this.labels.push(S),this.outputs.push(A)}static interpolationFactor(i,c,f,p){let b=0;if(i.name==="exponential")b=dh(c,i.base,f,p);else if(i.name==="linear")b=dh(c,1,f,p);else if(i.name==="cubic-bezier"){const S=i.controlPoints;b=new L(S[0],S[1],S[2],S[3]).solve(dh(c,1,f,p))}return b}static parse(i,c){let[f,p,b,...S]=i;if(!Array.isArray(p)||p.length===0)return c.error("Expected an interpolation type expression.",1);if(p[0]==="linear")p={name:"linear"};else if(p[0]==="exponential"){const F=p[1];if(typeof F!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);p={name:"exponential",base:F}}else{if(p[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(p[0])}`,1,0);{const F=p.slice(1);if(F.length!==4||F.some(V=>typeof V!="number"||V<0||V>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);p={name:"cubic-bezier",controlPoints:F}}}if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(b=c.parse(b,2,At),!b)return null;const A=[];let D=null;f==="interpolate-hcl"||f==="interpolate-lab"?D=$i:c.expectedType&&c.expectedType.kind!=="value"&&(D=c.expectedType);for(let F=0;F<S.length;F+=2){const V=S[F],q=S[F+1],W=F+3,ee=F+4;if(typeof V!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(A.length&&A[A.length-1][0]>=V)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const ne=c.parse(q,ee,D);if(!ne)return null;D=D||ne.type,A.push([V,ne])}return rt(D,At)||rt(D,$i)||rt(D,G)||rt(D,le)||rt(D,ve(At))?new ga(D,f,p,b,A):c.error(`Type ${_e(D)} is not interpolatable.`)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const p=this.input.evaluate(i);if(p<=c[0])return f[0].evaluate(i);const b=c.length;if(p>=c[b-1])return f[b-1].evaluate(i);const S=Tl(c,p),A=ga.interpolationFactor(this.interpolation,p,c[S],c[S+1]),D=f[S].evaluate(i),F=f[S+1].evaluate(i);switch(this.operator){case"interpolate":return pa[this.type.kind](D,F,A);case"interpolate-hcl":return pa.color(D,F,A,"hcl");case"interpolate-lab":return pa.color(D,F,A,"lab")}}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function dh(l,i,c,f){const p=f-c,b=l-c;return p===0?0:i===1?b/p:(Math.pow(i,b)-1)/(Math.pow(i,p)-1)}class Ru{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expectected at least one argument.");let f=null;const p=c.expectedType;p&&p.kind!=="value"&&(f=p);const b=[];for(const A of i.slice(1)){const D=c.parse(A,1+b.length,f,void 0,{typeAnnotation:"omit"});if(!D)return null;f=f||D.type,b.push(D)}if(!f)throw new Error("No output type");const S=p&&b.some(A=>Ee(p,A.type));return new Ru(S?xn:f,b)}evaluate(i){let c,f=null,p=0;for(const b of this.args)if(p++,f=b.evaluate(i),f&&f instanceof Si&&!f.available&&(c||(c=f.name),f=null,p===this.args.length&&(f=c)),f!==null)break;return f}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}class Ou{constructor(i,c){this.type=c.type,this.bindings=[].concat(i),this.result=c}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const c of this.bindings)i(c[1]);i(this.result)}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const f=[];for(let b=1;b<i.length-1;b+=2){const S=i[b];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,b);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",b);const A=c.parse(i[b+1],b+1);if(!A)return null;f.push([S,A])}const p=c.parse(i[i.length-1],i.length-1,c.expectedType,f);return p?new Ou(f,p):null}outputDefined(){return this.result.outputDefined()}}class hh{constructor(i,c,f){this.type=i,this.index=c,this.input=f}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,At),p=c.parse(i[2],2,ve(c.expectedType||xn));return f&&p?new hh(p.type.itemType,f,p):null}evaluate(i){const c=this.index.evaluate(i),f=this.input.evaluate(i);if(c<0)throw new Or(`Array index out of bounds: ${c} < 0.`);if(c>=f.length)throw new Or(`Array index out of bounds: ${c} > ${f.length-1}.`);if(c!==Math.floor(c))throw new Or(`Array index must be an integer, but found ${c} instead.`);return f[c]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class fh{constructor(i,c){this.type=pn,this.needle=i,this.haystack=c}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,xn),p=c.parse(i[2],2,xn);return f&&p?Se(f.type,[pn,_n,At,hr,xn])?new fh(f,p):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${_e(f.type)} instead`):null}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!f)return!1;if(!Re(c,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${_e(Ar(c))} instead.`);if(!Re(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${_e(Ar(f))} instead.`);return f.indexOf(c)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class Fu{constructor(i,c,f){this.type=At,this.needle=i,this.haystack=c,this.fromIndex=f}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,xn),p=c.parse(i[2],2,xn);if(!f||!p)return null;if(!Se(f.type,[pn,_n,At,hr,xn]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${_e(f.type)} instead`);if(i.length===4){const b=c.parse(i[3],3,At);return b?new Fu(f,p,b):null}return new Fu(f,p)}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!Re(c,["boolean","string","number","null"]))throw new Or(`Expected first argument to be of type boolean, string, number or null, but found ${_e(Ar(c))} instead.`);if(!Re(f,["string","array"]))throw new Or(`Expected second argument to be of type array or string, but found ${_e(Ar(f))} instead.`);if(this.fromIndex){const p=this.fromIndex.evaluate(i);return f.indexOf(c,p)}return f.indexOf(c)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class mh{constructor(i,c,f,p,b,S){this.inputType=i,this.type=c,this.input=f,this.cases=p,this.outputs=b,this.otherwise=S}static parse(i,c){if(i.length<5)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return c.error("Expected an even number of arguments.");let f,p;c.expectedType&&c.expectedType.kind!=="value"&&(p=c.expectedType);const b={},S=[];for(let F=2;F<i.length-1;F+=2){let V=i[F];const q=i[F+1];Array.isArray(V)||(V=[V]);const W=c.concat(F);if(V.length===0)return W.error("Expected at least one branch label.");for(const ne of V){if(typeof ne!="number"&&typeof ne!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ne=="number"&&Math.abs(ne)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ne=="number"&&Math.floor(ne)!==ne)return W.error("Numeric branch labels must be integer values.");if(f){if(W.checkSubtype(f,Ar(ne)))return null}else f=Ar(ne);if(b[String(ne)]!==void 0)return W.error("Branch labels must be unique.");b[String(ne)]=S.length}const ee=c.parse(q,F,p);if(!ee)return null;p=p||ee.type,S.push(ee)}const A=c.parse(i[1],1,xn);if(!A)return null;const D=c.parse(i[i.length-1],i.length-1,p);return D?A.type.kind!=="value"&&c.concat(1).checkSubtype(f,A.type)?null:new mh(f,p,A,b,S,D):null}evaluate(i){const c=this.input.evaluate(i);return(Ar(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class ph{constructor(i,c,f){this.type=i,this.branches=c,this.otherwise=f}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return c.error("Expected an odd number of arguments.");let f;c.expectedType&&c.expectedType.kind!=="value"&&(f=c.expectedType);const p=[];for(let S=1;S<i.length-1;S+=2){const A=c.parse(i[S],S,pn);if(!A)return null;const D=c.parse(i[S+1],S+1,f);if(!D)return null;p.push([A,D]),f=f||D.type}const b=c.parse(i[i.length-1],i.length-1,f);if(!b)return null;if(!f)throw new Error("Can't infer output type");return new ph(f,p,b)}evaluate(i){for(const[c,f]of this.branches)if(c.evaluate(i))return f.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[c,f]of this.branches)i(c),i(f);i(this.otherwise)}outputDefined(){return this.branches.every(([i,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class zu{constructor(i,c,f,p){this.type=i,this.input=c,this.beginIndex=f,this.endIndex=p}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,xn),p=c.parse(i[2],2,At);if(!f||!p)return null;if(!Se(f.type,[ve(xn),_n,xn]))return c.error(`Expected first argument to be of type array or string, but found ${_e(f.type)} instead`);if(i.length===4){const b=c.parse(i[3],3,At);return b?new zu(f.type,f,p,b):null}return new zu(f.type,f,p)}evaluate(i){const c=this.input.evaluate(i),f=this.beginIndex.evaluate(i);if(!Re(c,["string","array"]))throw new Or(`Expected first argument to be of type array or string, but found ${_e(Ar(c))} instead.`);if(this.endIndex){const p=this.endIndex.evaluate(i);return c.slice(f,p)}return c.slice(f)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function Fm(l,i){return l==="=="||l==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function zm(l,i,c,f){return f.compare(i,c)===0}function Al(l,i,c){const f=l!=="=="&&l!=="!=";return class kA{constructor(b,S,A){this.type=pn,this.lhs=b,this.rhs=S,this.collator=A,this.hasUntypedArgument=b.type.kind==="value"||S.type.kind==="value"}static parse(b,S){if(b.length!==3&&b.length!==4)return S.error("Expected two or three arguments.");const A=b[0];let D=S.parse(b[1],1,xn);if(!D)return null;if(!Fm(A,D.type))return S.concat(1).error(`"${A}" comparisons are not supported for type '${_e(D.type)}'.`);let F=S.parse(b[2],2,xn);if(!F)return null;if(!Fm(A,F.type))return S.concat(2).error(`"${A}" comparisons are not supported for type '${_e(F.type)}'.`);if(D.type.kind!==F.type.kind&&D.type.kind!=="value"&&F.type.kind!=="value")return S.error(`Cannot compare types '${_e(D.type)}' and '${_e(F.type)}'.`);f&&(D.type.kind==="value"&&F.type.kind!=="value"?D=new Aa(F.type,[D]):D.type.kind!=="value"&&F.type.kind==="value"&&(F=new Aa(D.type,[F])));let V=null;if(b.length===4){if(D.type.kind!=="string"&&F.type.kind!=="string"&&D.type.kind!=="value"&&F.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(V=S.parse(b[3],3,Ls),!V)return null}return new kA(D,F,V)}evaluate(b){const S=this.lhs.evaluate(b),A=this.rhs.evaluate(b);if(f&&this.hasUntypedArgument){const D=Ar(S),F=Ar(A);if(D.kind!==F.kind||D.kind!=="string"&&D.kind!=="number")throw new Or(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${D.kind}, ${F.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const D=Ar(S),F=Ar(A);if(D.kind!=="string"||F.kind!=="string")return i(b,S,A)}return this.collator?c(b,S,A,this.collator.evaluate(b)):i(b,S,A)}eachChild(b){b(this.lhs),b(this.rhs),this.collator&&b(this.collator)}outputDefined(){return!0}}}const ey=Al("==",function(l,i,c){return i===c},zm),ty=Al("!=",function(l,i,c){return i!==c},function(l,i,c,f){return!zm(0,i,c,f)}),ny=Al("<",function(l,i,c){return i<c},function(l,i,c,f){return f.compare(i,c)<0}),ry=Al(">",function(l,i,c){return i>c},function(l,i,c,f){return f.compare(i,c)>0}),iy=Al("<=",function(l,i,c){return i<=c},function(l,i,c,f){return f.compare(i,c)<=0}),ay=Al(">=",function(l,i,c){return i>=c},function(l,i,c,f){return f.compare(i,c)>=0});class gh{constructor(i,c,f,p,b){this.type=_n,this.number=i,this.locale=c,this.currency=f,this.minFractionDigits=p,this.maxFractionDigits=b}static parse(i,c){if(i.length!==3)return c.error("Expected two arguments.");const f=c.parse(i[1],1,At);if(!f)return null;const p=i[2];if(typeof p!="object"||Array.isArray(p))return c.error("NumberFormat options argument must be an object.");let b=null;if(p.locale&&(b=c.parse(p.locale,1,_n),!b))return null;let S=null;if(p.currency&&(S=c.parse(p.currency,1,_n),!S))return null;let A=null;if(p["min-fraction-digits"]&&(A=c.parse(p["min-fraction-digits"],1,At),!A))return null;let D=null;return p["max-fraction-digits"]&&(D=c.parse(p["max-fraction-digits"],1,At),!D)?null:new gh(f,b,S,A,D)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class Bu{constructor(i){this.type=pe,this.sections=i}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[1];if(!Array.isArray(f)&&typeof f=="object")return c.error("First argument must be an image or text section.");const p=[];let b=!1;for(let S=1;S<=i.length-1;++S){const A=i[S];if(b&&typeof A=="object"&&!Array.isArray(A)){b=!1;let D=null;if(A["font-scale"]&&(D=c.parse(A["font-scale"],1,At),!D))return null;let F=null;if(A["text-font"]&&(F=c.parse(A["text-font"],1,ve(_n)),!F))return null;let V=null;if(A["text-color"]&&(V=c.parse(A["text-color"],1,$i),!V))return null;const q=p[p.length-1];q.scale=D,q.font=F,q.textColor=V}else{const D=c.parse(i[S],1,xn);if(!D)return null;const F=D.type.kind;if(F!=="string"&&F!=="value"&&F!=="null"&&F!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");b=!0,p.push({content:D,scale:null,font:null,textColor:null})}}return new Bu(p)}evaluate(i){return new Li(this.sections.map(c=>{const f=c.content.evaluate(i);return Ar(f)===X?new Su("",f,null,null,null):new Su(Hn(f),null,c.scale?c.scale.evaluate(i):null,c.font?c.font.evaluate(i).join(","):null,c.textColor?c.textColor.evaluate(i):null)}))}eachChild(i){for(const c of this.sections)i(c.content),c.scale&&i(c.scale),c.font&&i(c.font),c.textColor&&i(c.textColor)}outputDefined(){return!1}}class vh{constructor(i){this.type=X,this.input=i}static parse(i,c){if(i.length!==2)return c.error("Expected two arguments.");const f=c.parse(i[1],1,_n);return f?new vh(f):c.error("No image name provided.")}evaluate(i){const c=this.input.evaluate(i),f=Si.fromString(c);return f&&i.availableImages&&(f.available=i.availableImages.indexOf(c)>-1),f}eachChild(i){i(this.input)}outputDefined(){return!1}}class yh{constructor(i){this.type=At,this.input=i}static parse(i,c){if(i.length!==2)return c.error(`Expected 1 argument, but found ${i.length-1} instead.`);const f=c.parse(i[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${_e(f.type)} instead.`):new yh(f):null}evaluate(i){const c=this.input.evaluate(i);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Or(`Expected value to be of type string or array, but found ${_e(Ar(c))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const El={"==":ey,"!=":ty,">":ry,"<":ny,">=":ay,"<=":iy,array:Aa,at:hh,boolean:Aa,case:ph,coalesce:Ru,collator:Au,format:Bu,image:vh,in:fh,"index-of":Fu,interpolate:ga,"interpolate-hcl":ga,"interpolate-lab":ga,length:yh,let:Ou,literal:Bo,match:mh,number:Aa,"number-format":gh,object:Aa,slice:zu,step:ho,string:Aa,"to-boolean":co,"to-color":co,"to-number":co,"to-string":co,var:Iu,within:Vo};function Bm(l,[i,c,f,p]){i=i.evaluate(l),c=c.evaluate(l),f=f.evaluate(l);const b=p?p.evaluate(l):1,S=ku(i,c,f,b);if(S)throw new Or(S);return new er(i/255,c/255,f/255,b,!1)}function Vm(l,i){return l in i}function _h(l,i){const c=i[l];return c===void 0?null:c}function No(l){return{type:l}}function Nm(l){return{result:"success",value:l}}function fo(l){return{result:"error",value:l}}function Il(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function $m(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function bh(l){return!!l.expression&&l.expression.interpolated}function Gn(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Er(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function sy(l){return l}function zn(l,i){const c=i.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",p=f||!(f||l.property!==void 0),b=l.type||(bh(i)?"exponential":"interval");if(c||i.type==="padding"){const V=c?er.parse:ma.parse;(l=bi({},l)).stops&&(l.stops=l.stops.map(q=>[q[0],V(q[1])])),l.default=V(l.default?l.default:i.default)}if(l.colorSpace&&(S=l.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var S;let A,D,F;if(b==="exponential")A=_c;else if(b==="interval")A=kr;else if(b==="categorical"){A=Ir,D=Object.create(null);for(const V of l.stops)D[V[0]]=V[1];F=typeof l.stops[0][0]}else{if(b!=="identity")throw new Error(`Unknown function type "${b}"`);A=Um}if(f){const V={},q=[];for(let ne=0;ne<l.stops.length;ne++){const ue=l.stops[ne],ye=ue[0].zoom;V[ye]===void 0&&(V[ye]={zoom:ye,type:l.type,property:l.property,default:l.default,stops:[]},q.push(ye)),V[ye].stops.push([ue[0].value,ue[1]])}const W=[];for(const ne of q)W.push([V[ne].zoom,zn(V[ne],i)]);const ee={name:"linear"};return{kind:"composite",interpolationType:ee,interpolationFactor:ga.interpolationFactor.bind(void 0,ee),zoomStops:W.map(ne=>ne[0]),evaluate:({zoom:ne},ue)=>_c({stops:W,base:l.base},i,ne).evaluate(ne,ue)}}if(p){const V=b==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:V,interpolationFactor:ga.interpolationFactor.bind(void 0,V),zoomStops:l.stops.map(q=>q[0]),evaluate:({zoom:q})=>A(l,i,q,D,F)}}return{kind:"source",evaluate(V,q){const W=q&&q.properties?q.properties[l.property]:void 0;return W===void 0?$o(l.default,i.default):A(l,i,W,D,F)}}}function $o(l,i,c){return l!==void 0?l:i!==void 0?i:c!==void 0?c:void 0}function Ir(l,i,c,f,p){return $o(typeof c===p?f[c]:void 0,l.default,i.default)}function kr(l,i,c){if(Gn(c)!=="number")return $o(l.default,i.default);const f=l.stops.length;if(f===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[f-1][0])return l.stops[f-1][1];const p=Tl(l.stops.map(b=>b[0]),c);return l.stops[p][1]}function _c(l,i,c){const f=l.base!==void 0?l.base:1;if(Gn(c)!=="number")return $o(l.default,i.default);const p=l.stops.length;if(p===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[p-1][0])return l.stops[p-1][1];const b=Tl(l.stops.map(V=>V[0]),c),S=function(V,q,W,ee){const ne=ee-W,ue=V-W;return ne===0?0:q===1?ue/ne:(Math.pow(q,ue)-1)/(Math.pow(q,ne)-1)}(c,f,l.stops[b][0],l.stops[b+1][0]),A=l.stops[b][1],D=l.stops[b+1][1],F=pa[i.type]||sy;return typeof A.evaluate=="function"?{evaluate(...V){const q=A.evaluate.apply(void 0,V),W=D.evaluate.apply(void 0,V);if(q!==void 0&&W!==void 0)return F(q,W,S,l.colorSpace)}}:F(A,D,S,l.colorSpace)}function Um(l,i,c){switch(i.type){case"color":c=er.parse(c);break;case"formatted":c=Li.fromString(c.toString());break;case"resolvedImage":c=Si.fromString(c.toString());break;case"padding":c=ma.parse(c);break;default:Gn(c)===i.type||i.type==="enum"&&i.values[c]||(c=void 0)}return $o(c,l.default,i.default)}Ea.register(El,{error:[{kind:"error"},[_n],(l,[i])=>{throw new Or(i.evaluate(l))}],typeof:[_n,[xn],(l,[i])=>_e(Ar(i.evaluate(l)))],"to-rgba":[ve(At,4),[$i],(l,[i])=>{const[c,f,p,b]=i.evaluate(l).rgb;return[255*c,255*f,255*p,b]}],rgb:[$i,[At,At,At],Bm],rgba:[$i,[At,At,At,At],Bm],has:{type:pn,overloads:[[[_n],(l,[i])=>Vm(i.evaluate(l),l.properties())],[[_n,cs],(l,[i,c])=>Vm(i.evaluate(l),c.evaluate(l))]]},get:{type:xn,overloads:[[[_n],(l,[i])=>_h(i.evaluate(l),l.properties())],[[_n,cs],(l,[i,c])=>_h(i.evaluate(l),c.evaluate(l))]]},"feature-state":[xn,[_n],(l,[i])=>_h(i.evaluate(l),l.featureState||{})],properties:[cs,[],l=>l.properties()],"geometry-type":[_n,[],l=>l.geometryType()],id:[xn,[],l=>l.id()],zoom:[At,[],l=>l.globals.zoom],"heatmap-density":[At,[],l=>l.globals.heatmapDensity||0],"line-progress":[At,[],l=>l.globals.lineProgress||0],accumulated:[xn,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[At,No(At),(l,i)=>{let c=0;for(const f of i)c+=f.evaluate(l);return c}],"*":[At,No(At),(l,i)=>{let c=1;for(const f of i)c*=f.evaluate(l);return c}],"-":{type:At,overloads:[[[At,At],(l,[i,c])=>i.evaluate(l)-c.evaluate(l)],[[At],(l,[i])=>-i.evaluate(l)]]},"/":[At,[At,At],(l,[i,c])=>i.evaluate(l)/c.evaluate(l)],"%":[At,[At,At],(l,[i,c])=>i.evaluate(l)%c.evaluate(l)],ln2:[At,[],()=>Math.LN2],pi:[At,[],()=>Math.PI],e:[At,[],()=>Math.E],"^":[At,[At,At],(l,[i,c])=>Math.pow(i.evaluate(l),c.evaluate(l))],sqrt:[At,[At],(l,[i])=>Math.sqrt(i.evaluate(l))],log10:[At,[At],(l,[i])=>Math.log(i.evaluate(l))/Math.LN10],ln:[At,[At],(l,[i])=>Math.log(i.evaluate(l))],log2:[At,[At],(l,[i])=>Math.log(i.evaluate(l))/Math.LN2],sin:[At,[At],(l,[i])=>Math.sin(i.evaluate(l))],cos:[At,[At],(l,[i])=>Math.cos(i.evaluate(l))],tan:[At,[At],(l,[i])=>Math.tan(i.evaluate(l))],asin:[At,[At],(l,[i])=>Math.asin(i.evaluate(l))],acos:[At,[At],(l,[i])=>Math.acos(i.evaluate(l))],atan:[At,[At],(l,[i])=>Math.atan(i.evaluate(l))],min:[At,No(At),(l,i)=>Math.min(...i.map(c=>c.evaluate(l)))],max:[At,No(At),(l,i)=>Math.max(...i.map(c=>c.evaluate(l)))],abs:[At,[At],(l,[i])=>Math.abs(i.evaluate(l))],round:[At,[At],(l,[i])=>{const c=i.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[At,[At],(l,[i])=>Math.floor(i.evaluate(l))],ceil:[At,[At],(l,[i])=>Math.ceil(i.evaluate(l))],"filter-==":[pn,[_n,xn],(l,[i,c])=>l.properties()[i.value]===c.value],"filter-id-==":[pn,[xn],(l,[i])=>l.id()===i.value],"filter-type-==":[pn,[_n],(l,[i])=>l.geometryType()===i.value],"filter-<":[pn,[_n,xn],(l,[i,c])=>{const f=l.properties()[i.value],p=c.value;return typeof f==typeof p&&f<p}],"filter-id-<":[pn,[xn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<f}],"filter->":[pn,[_n,xn],(l,[i,c])=>{const f=l.properties()[i.value],p=c.value;return typeof f==typeof p&&f>p}],"filter-id->":[pn,[xn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>f}],"filter-<=":[pn,[_n,xn],(l,[i,c])=>{const f=l.properties()[i.value],p=c.value;return typeof f==typeof p&&f<=p}],"filter-id-<=":[pn,[xn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<=f}],"filter->=":[pn,[_n,xn],(l,[i,c])=>{const f=l.properties()[i.value],p=c.value;return typeof f==typeof p&&f>=p}],"filter-id->=":[pn,[xn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>=f}],"filter-has":[pn,[xn],(l,[i])=>i.value in l.properties()],"filter-has-id":[pn,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[pn,[ve(_n)],(l,[i])=>i.value.indexOf(l.geometryType())>=0],"filter-id-in":[pn,[ve(xn)],(l,[i])=>i.value.indexOf(l.id())>=0],"filter-in-small":[pn,[_n,ve(xn)],(l,[i,c])=>c.value.indexOf(l.properties()[i.value])>=0],"filter-in-large":[pn,[_n,ve(xn)],(l,[i,c])=>function(f,p,b,S){for(;b<=S;){const A=b+S>>1;if(p[A]===f)return!0;p[A]>f?S=A-1:b=A+1}return!1}(l.properties()[i.value],c.value,0,c.value.length-1)],all:{type:pn,overloads:[[[pn,pn],(l,[i,c])=>i.evaluate(l)&&c.evaluate(l)],[No(pn),(l,i)=>{for(const c of i)if(!c.evaluate(l))return!1;return!0}]]},any:{type:pn,overloads:[[[pn,pn],(l,[i,c])=>i.evaluate(l)||c.evaluate(l)],[No(pn),(l,i)=>{for(const c of i)if(c.evaluate(l))return!0;return!1}]]},"!":[pn,[pn],(l,[i])=>!i.evaluate(l)],"is-supported-script":[pn,[_n],(l,[i])=>{const c=l.globals&&l.globals.isSupportedScript;return!c||c(i.evaluate(l))}],upcase:[_n,[_n],(l,[i])=>i.evaluate(l).toUpperCase()],downcase:[_n,[_n],(l,[i])=>i.evaluate(l).toLowerCase()],concat:[_n,No(xn),(l,i)=>i.map(c=>Hn(c.evaluate(l))).join("")],"resolved-locale":[_n,[Ls],(l,[i])=>i.evaluate(l).resolvedLocale()]});class xh{constructor(i,c){var f;this.expression=i,this._warningHistory={},this._evaluator=new ah,this._defaultValue=c?(f=c).type==="color"&&Er(f.default)?new er(0,0,0,0):f.type==="color"?er.parse(f.default)||null:f.type==="padding"?ma.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?Ta.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(i,c,f,p,b,S){return this._evaluator.globals=i,this._evaluator.feature=c,this._evaluator.featureState=f,this._evaluator.canonical=p,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(i,c,f,p,b,S){this._evaluator.globals=i,this._evaluator.feature=c||null,this._evaluator.featureState=f||null,this._evaluator.canonical=p,this._evaluator.availableImages=b||null,this._evaluator.formattedSection=S||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Or(`Expected value to be one of ${Object.keys(this._enumValues).map(D=>JSON.stringify(D)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Vu(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in El}function Nu(l,i){const c=new Tu(El,Pu,[],i?function(p){const b={color:$i,string:_n,number:At,enum:_n,boolean:pn,formatted:pe,padding:G,resolvedImage:X,variableAnchorOffsetCollection:le};return p.type==="array"?ve(b[p.value]||xn,p.length):b[p.type]}(i):void 0),f=c.parse(l,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?Nm(new xh(f,i)):fo(c.errors)}class wh{constructor(i,c){this.kind=i,this._styleExpression=c,this.isStateDependent=i!=="constant"&&!yc(c.expression)}evaluateWithoutErrorHandling(i,c,f,p,b,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,p,b,S)}evaluate(i,c,f,p,b,S){return this._styleExpression.evaluate(i,c,f,p,b,S)}}class $u{constructor(i,c,f,p){this.kind=i,this.zoomStops=f,this._styleExpression=c,this.isStateDependent=i!=="camera"&&!yc(c.expression),this.interpolationType=p}evaluateWithoutErrorHandling(i,c,f,p,b,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,p,b,S)}evaluate(i,c,f,p,b,S){return this._styleExpression.evaluate(i,c,f,p,b,S)}interpolationFactor(i,c,f){return this.interpolationType?ga.interpolationFactor(this.interpolationType,i,c,f):0}}function Sh(l,i){const c=Nu(l,i);if(c.result==="error")return c;const f=c.value.expression,p=Du(f);if(!p&&!Il(i))return fo([new Tn("","data expressions not supported")]);const b=Mu(f,["zoom"]);if(!b&&!$m(i))return fo([new Tn("","zoom expressions not supported")]);const S=xc(f);return S||b?S instanceof Tn?fo([S]):S instanceof ga&&!bh(i)?fo([new Tn("",'"interpolate" expressions cannot be used with this property')]):Nm(S?new $u(p?"camera":"composite",c.value,S.labels,S instanceof ga?S.interpolation:void 0):new wh(p?"constant":"source",c.value)):fo([new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class bc{constructor(i,c){this._parameters=i,this._specification=c,bi(this,zn(this._parameters,this._specification))}static deserialize(i){return new bc(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function xc(l){let i=null;if(l instanceof Ou)i=xc(l.result);else if(l instanceof Ru){for(const c of l.args)if(i=xc(c),i)break}else(l instanceof ho||l instanceof ga)&&l.input instanceof Ea&&l.input.name==="zoom"&&(i=l);return i instanceof Tn||l.eachChild(c=>{const f=xc(c);f instanceof Tn?i=f:!i&&f?i=new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&f&&i!==f&&(i=new Tn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function wc(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const i of l.slice(1))if(!wc(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const oy={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function kh(l){if(l==null)return{filter:()=>!0,needGeometry:!1};wc(l)||(l=Uu(l));const i=Nu(l,oy);if(i.result==="error")throw new Error(i.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,f,p)=>i.value.evaluate(c,f,{},p),needGeometry:qm(l)}}function ly(l,i){return l<i?-1:l>i?1:0}function qm(l){if(!Array.isArray(l))return!1;if(l[0]==="within")return!0;for(let i=1;i<l.length;i++)if(qm(l[i]))return!0;return!1}function Uu(l){if(!l)return!0;const i=l[0];return l.length<=1?i!=="any":i==="=="?Ch(l[1],l[2],"=="):i==="!="?Sc(Ch(l[1],l[2],"==")):i==="<"||i===">"||i==="<="||i===">="?Ch(l[1],l[2],i):i==="any"?(c=l.slice(1),["any"].concat(c.map(Uu))):i==="all"?["all"].concat(l.slice(1).map(Uu)):i==="none"?["all"].concat(l.slice(1).map(Uu).map(Sc)):i==="in"?jm(l[1],l.slice(2)):i==="!in"?Sc(jm(l[1],l.slice(2))):i==="has"?Hm(l[1]):i==="!has"?Sc(Hm(l[1])):i!=="within"||l;var c}function Ch(l,i,c){switch(l){case"$type":return[`filter-type-${c}`,i];case"$id":return[`filter-id-${c}`,i];default:return[`filter-${c}`,l,i]}}function jm(l,i){if(i.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(c=>typeof c!=typeof i[0])?["filter-in-large",l,["literal",i.sort(ly)]]:["filter-in-small",l,["literal",i]]}}function Hm(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function Sc(l){return["!",l]}function qu(l){const i=typeof l;if(i==="number"||i==="boolean"||i==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let p="[";for(const b of l)p+=`${qu(b)},`;return`${p}]`}const c=Object.keys(l).sort();let f="{";for(let p=0;p<c.length;p++)f+=`${JSON.stringify(c[p])}:${qu(l[c[p]])},`;return`${f}}`}function ju(l){let i="";for(const c of _t)i+=`/${qu(l[c])}`;return i}function Gm(l){const i=l.value;return i?[new vt(l.key,i,"constants have been deprecated as of v8")]:[]}function Fr(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function Uo(l){if(Array.isArray(l))return l.map(Uo);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const i={};for(const c in l)i[c]=Uo(l[c]);return i}return Fr(l)}function Qi(l){const i=l.key,c=l.value,f=l.valueSpec||{},p=l.objectElementValidators||{},b=l.style,S=l.styleSpec,A=l.validateSpec;let D=[];const F=Gn(c);if(F!=="object")return[new vt(i,c,`object expected, ${F} found`)];for(const V in c){const q=V.split(".")[0],W=f[q]||f["*"];let ee;if(p[q])ee=p[q];else if(f[q])ee=A;else if(p["*"])ee=p["*"];else{if(!f["*"]){D.push(new vt(i,c[V],`unknown property "${V}"`));continue}ee=A}D=D.concat(ee({key:(i&&`${i}.`)+V,value:c[V],valueSpec:W,style:b,styleSpec:S,object:c,objectKey:V,validateSpec:A},c))}for(const V in f)p[V]||f[V].required&&f[V].default===void 0&&c[V]===void 0&&D.push(new vt(i,c,`missing required property "${V}"`));return D}function Pl(l){const i=l.value,c=l.valueSpec,f=l.style,p=l.styleSpec,b=l.key,S=l.arrayElementValidator||l.validateSpec;if(Gn(i)!=="array")return[new vt(b,i,`array expected, ${Gn(i)} found`)];if(c.length&&i.length!==c.length)return[new vt(b,i,`array length ${c.length} expected, length ${i.length} found`)];if(c["min-length"]&&i.length<c["min-length"])return[new vt(b,i,`array length at least ${c["min-length"]} expected, length ${i.length} found`)];let A={type:c.value,values:c.values};p.$version<7&&(A.function=c.function),Gn(c.value)==="object"&&(A=c.value);let D=[];for(let F=0;F<i.length;F++)D=D.concat(S({array:i,arrayIndex:F,value:i[F],valueSpec:A,validateSpec:l.validateSpec,style:f,styleSpec:p,key:`${b}[${F}]`}));return D}function kc(l){const i=l.key,c=l.value,f=l.valueSpec;let p=Gn(c);return p==="number"&&c!=c&&(p="NaN"),p!=="number"?[new vt(i,c,`number expected, ${p} found`)]:"minimum"in f&&c<f.minimum?[new vt(i,c,`${c} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&c>f.maximum?[new vt(i,c,`${c} is greater than the maximum value ${f.maximum}`)]:[]}function Hu(l){const i=l.valueSpec,c=Fr(l.value.type);let f,p,b,S={};const A=c!=="categorical"&&l.value.property===void 0,D=!A,F=Gn(l.value.stops)==="array"&&Gn(l.value.stops[0])==="array"&&Gn(l.value.stops[0][0])==="object",V=Qi({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(ee){if(c==="identity")return[new vt(ee.key,ee.value,'identity function may not have a "stops" property')];let ne=[];const ue=ee.value;return ne=ne.concat(Pl({key:ee.key,value:ue,valueSpec:ee.valueSpec,validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec,arrayElementValidator:q})),Gn(ue)==="array"&&ue.length===0&&ne.push(new vt(ee.key,ue,"array must have at least one stop")),ne},default:function(ee){return ee.validateSpec({key:ee.key,value:ee.value,valueSpec:i,validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec})}}});return c==="identity"&&A&&V.push(new vt(l.key,l.value,'missing required property "property"')),c==="identity"||l.value.stops||V.push(new vt(l.key,l.value,'missing required property "stops"')),c==="exponential"&&l.valueSpec.expression&&!bh(l.valueSpec)&&V.push(new vt(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(D&&!Il(l.valueSpec)?V.push(new vt(l.key,l.value,"property functions not supported")):A&&!$m(l.valueSpec)&&V.push(new vt(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!F||l.value.property!==void 0||V.push(new vt(l.key,l.value,'"property" property is required')),V;function q(ee){let ne=[];const ue=ee.value,ye=ee.key;if(Gn(ue)!=="array")return[new vt(ye,ue,`array expected, ${Gn(ue)} found`)];if(ue.length!==2)return[new vt(ye,ue,`array length 2 expected, length ${ue.length} found`)];if(F){if(Gn(ue[0])!=="object")return[new vt(ye,ue,`object expected, ${Gn(ue[0])} found`)];if(ue[0].zoom===void 0)return[new vt(ye,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new vt(ye,ue,"object stop key must have value")];if(b&&b>Fr(ue[0].zoom))return[new vt(ye,ue[0].zoom,"stop zoom values must appear in ascending order")];Fr(ue[0].zoom)!==b&&(b=Fr(ue[0].zoom),p=void 0,S={}),ne=ne.concat(Qi({key:`${ye}[0]`,value:ue[0],valueSpec:{zoom:{}},validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec,objectElementValidators:{zoom:kc,value:W}}))}else ne=ne.concat(W({key:`${ye}[0]`,value:ue[0],valueSpec:{},validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec},ue));return Vu(Uo(ue[1]))?ne.concat([new vt(`${ye}[1]`,ue[1],"expressions are not allowed in function stops.")]):ne.concat(ee.validateSpec({key:`${ye}[1]`,value:ue[1],valueSpec:i,validateSpec:ee.validateSpec,style:ee.style,styleSpec:ee.styleSpec}))}function W(ee,ne){const ue=Gn(ee.value),ye=Fr(ee.value),we=ee.value!==null?ee.value:ne;if(f){if(ue!==f)return[new vt(ee.key,we,`${ue} stop domain type must match previous stop domain type ${f}`)]}else f=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean")return[new vt(ee.key,we,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&c!=="categorical"){let Oe=`number expected, ${ue} found`;return Il(i)&&c===void 0&&(Oe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new vt(ee.key,we,Oe)]}return c!=="categorical"||ue!=="number"||isFinite(ye)&&Math.floor(ye)===ye?c!=="categorical"&&ue==="number"&&p!==void 0&&ye<p?[new vt(ee.key,we,"stop domain values must appear in ascending order")]:(p=ye,c==="categorical"&&ye in S?[new vt(ee.key,we,"stop domain values must be unique")]:(S[ye]=!0,[])):[new vt(ee.key,we,`integer expected, found ${ye}`)]}}function qo(l){const i=(l.expressionContext==="property"?Sh:Nu)(Uo(l.value),l.valueSpec);if(i.result==="error")return i.value.map(f=>new vt(`${l.key}${f.key}`,l.value,f.message));const c=i.value.expression||i.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new vt(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!yc(c))return[new vt(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!yc(c))return[new vt(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!Mu(c,["zoom","feature-state"]))return[new vt(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!Du(c))return[new vt(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Cc(l){const i=l.key,c=l.value,f=l.valueSpec,p=[];return Array.isArray(f.values)?f.values.indexOf(Fr(c))===-1&&p.push(new vt(i,c,`expected one of [${f.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(f.values).indexOf(Fr(c))===-1&&p.push(new vt(i,c,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(c)} found`)),p}function Dl(l){return wc(Uo(l.value))?qo(bi({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Wm(l)}function Wm(l){const i=l.value,c=l.key;if(Gn(i)!=="array")return[new vt(c,i,`array expected, ${Gn(i)} found`)];const f=l.styleSpec;let p,b=[];if(i.length<1)return[new vt(c,i,"filter array must have at least 1 element")];switch(b=b.concat(Cc({key:`${c}[0]`,value:i[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),Fr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Fr(i[1])==="$type"&&b.push(new vt(c,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&b.push(new vt(c,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(p=Gn(i[1]),p!=="string"&&b.push(new vt(`${c}[1]`,i[1],`string expected, ${p} found`)));for(let S=2;S<i.length;S++)p=Gn(i[S]),Fr(i[1])==="$type"?b=b.concat(Cc({key:`${c}[${S}]`,value:i[S],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):p!=="string"&&p!=="number"&&p!=="boolean"&&b.push(new vt(`${c}[${S}]`,i[S],`string, number, or boolean expected, ${p} found`));break;case"any":case"all":case"none":for(let S=1;S<i.length;S++)b=b.concat(Wm({key:`${c}[${S}]`,value:i[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":p=Gn(i[1]),i.length!==2?b.push(new vt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="string"&&b.push(new vt(`${c}[1]`,i[1],`string expected, ${p} found`));break;case"within":p=Gn(i[1]),i.length!==2?b.push(new vt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):p!=="object"&&b.push(new vt(`${c}[1]`,i[1],`object expected, ${p} found`))}return b}function Ym(l,i){const c=l.key,f=l.validateSpec,p=l.style,b=l.styleSpec,S=l.value,A=l.objectKey,D=b[`${i}_${l.layerType}`];if(!D)return[];const F=A.match(/^(.*)-transition$/);if(i==="paint"&&F&&D[F[1]]&&D[F[1]].transition)return f({key:c,value:S,valueSpec:b.transition,style:p,styleSpec:b});const V=l.valueSpec||D[A];if(!V)return[new vt(c,S,`unknown property "${A}"`)];let q;if(Gn(S)==="string"&&Il(V)&&!V.tokens&&(q=/^{([^}]+)}$/.exec(S)))return[new vt(c,S,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(q[1])} }\`.`)];const W=[];return l.layerType==="symbol"&&(A==="text-field"&&p&&!p.glyphs&&W.push(new vt(c,S,'use of "text-field" requires a style "glyphs" property')),A==="text-font"&&Er(Uo(S))&&Fr(S.type)==="identity"&&W.push(new vt(c,S,'"text-font" does not support identity functions'))),W.concat(f({key:l.key,value:S,valueSpec:V,style:p,styleSpec:b,expressionContext:"property",propertyType:i,propertyKey:A}))}function Zm(l){return Ym(l,"paint")}function Km(l){return Ym(l,"layout")}function Xm(l){let i=[];const c=l.value,f=l.key,p=l.style,b=l.styleSpec;c.type||c.ref||i.push(new vt(f,c,'either "type" or "ref" is required'));let S=Fr(c.type);const A=Fr(c.ref);if(c.id){const D=Fr(c.id);for(let F=0;F<l.arrayIndex;F++){const V=p.layers[F];Fr(V.id)===D&&i.push(new vt(f,c.id,`duplicate layer id "${c.id}", previously used at line ${V.id.__line__}`))}}if("ref"in c){let D;["type","source","source-layer","filter","layout"].forEach(F=>{F in c&&i.push(new vt(f,c[F],`"${F}" is prohibited for ref layers`))}),p.layers.forEach(F=>{Fr(F.id)===A&&(D=F)}),D?D.ref?i.push(new vt(f,c.ref,"ref cannot reference another ref layer")):S=Fr(D.type):i.push(new vt(f,c.ref,`ref layer "${A}" not found`))}else if(S!=="background")if(c.source){const D=p.sources&&p.sources[c.source],F=D&&Fr(D.type);D?F==="vector"&&S==="raster"?i.push(new vt(f,c.source,`layer "${c.id}" requires a raster source`)):F!=="raster-dem"&&S==="hillshade"?i.push(new vt(f,c.source,`layer "${c.id}" requires a raster-dem source`)):F==="raster"&&S!=="raster"?i.push(new vt(f,c.source,`layer "${c.id}" requires a vector source`)):F!=="vector"||c["source-layer"]?F==="raster-dem"&&S!=="hillshade"?i.push(new vt(f,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||F==="geojson"&&D.lineMetrics||i.push(new vt(f,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new vt(f,c,`layer "${c.id}" must specify a "source-layer"`)):i.push(new vt(f,c.source,`source "${c.source}" not found`))}else i.push(new vt(f,c,'missing required property "source"'));return i=i.concat(Qi({key:f,value:c,valueSpec:b.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:c.type,valueSpec:b.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:Dl,layout:D=>Qi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":F=>Km(bi({layerType:S},F))}}),paint:D=>Qi({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":F=>Zm(bi({layerType:S},F))}})}})),i}function us(l){const i=l.value,c=l.key,f=Gn(i);return f!=="string"?[new vt(c,i,`string expected, ${f} found`)]:[]}const Tc={promoteId:function({key:l,value:i}){if(Gn(i)==="string")return us({key:l,value:i});{const c=[];for(const f in i)c.push(...us({key:`${l}.${f}`,value:i[f]}));return c}}};function va(l){const i=l.value,c=l.key,f=l.styleSpec,p=l.style,b=l.validateSpec;if(!i.type)return[new vt(c,i,'"type" is required')];const S=Fr(i.type);let A;switch(S){case"vector":case"raster":return A=Qi({key:c,value:i,valueSpec:f[`source_${S.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:Tc,validateSpec:b}),A;case"raster-dem":return A=function(D){var F;const V=(F=D.sourceName)!==null&&F!==void 0?F:"",q=D.value,W=D.styleSpec,ee=W.source_raster_dem,ne=D.style;let ue=[];const ye=Gn(q);if(q===void 0)return ue;if(ye!=="object")return ue.push(new vt("source_raster_dem",q,`object expected, ${ye} found`)),ue;const we=Fr(q.encoding)==="custom",Oe=["redFactor","greenFactor","blueFactor","baseShift"],Te=D.value.encoding?`"${D.value.encoding}"`:"Default";for(const Be in q)!we&&Oe.includes(Be)?ue.push(new vt(Be,q[Be],`In "${V}": "${Be}" is only valid when "encoding" is set to "custom". ${Te} encoding found`)):ee[Be]?ue=ue.concat(D.validateSpec({key:Be,value:q[Be],valueSpec:ee[Be],validateSpec:D.validateSpec,style:ne,styleSpec:W})):ue.push(new vt(Be,q[Be],`unknown property "${Be}"`));return ue}({sourceName:c,value:i,style:l.style,styleSpec:f,validateSpec:b}),A;case"geojson":if(A=Qi({key:c,value:i,valueSpec:f.source_geojson,style:p,styleSpec:f,validateSpec:b,objectElementValidators:Tc}),i.cluster)for(const D in i.clusterProperties){const[F,V]=i.clusterProperties[D],q=typeof F=="string"?[F,["accumulated"],["get",D]]:F;A.push(...qo({key:`${c}.${D}.map`,value:V,validateSpec:b,expressionContext:"cluster-map"})),A.push(...qo({key:`${c}.${D}.reduce`,value:q,validateSpec:b,expressionContext:"cluster-reduce"}))}return A;case"video":return Qi({key:c,value:i,valueSpec:f.source_video,style:p,validateSpec:b,styleSpec:f});case"image":return Qi({key:c,value:i,valueSpec:f.source_image,style:p,validateSpec:b,styleSpec:f});case"canvas":return[new vt(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Cc({key:`${c}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:p,validateSpec:b,styleSpec:f})}}function Ac(l){const i=l.value,c=l.styleSpec,f=c.light,p=l.style;let b=[];const S=Gn(i);if(i===void 0)return b;if(S!=="object")return b=b.concat([new vt("light",i,`object expected, ${S} found`)]),b;for(const A in i){const D=A.match(/^(.*)-transition$/);b=b.concat(D&&f[D[1]]&&f[D[1]].transition?l.validateSpec({key:A,value:i[A],valueSpec:c.transition,validateSpec:l.validateSpec,style:p,styleSpec:c}):f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:p,styleSpec:c}):[new vt(A,i[A],`unknown property "${A}"`)])}return b}function Jm(l){const i=l.value,c=l.styleSpec,f=c.terrain,p=l.style;let b=[];const S=Gn(i);if(i===void 0)return b;if(S!=="object")return b=b.concat([new vt("terrain",i,`object expected, ${S} found`)]),b;for(const A in i)b=b.concat(f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:p,styleSpec:c}):[new vt(A,i[A],`unknown property "${A}"`)]);return b}function Qm(l){let i=[];const c=l.value,f=l.key;if(Array.isArray(c)){const p=[],b=[];for(const S in c)c[S].id&&p.includes(c[S].id)&&i.push(new vt(f,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),p.push(c[S].id),c[S].url&&b.includes(c[S].url)&&i.push(new vt(f,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),b.push(c[S].url),i=i.concat(Qi({key:`${f}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return i}return us({key:f,value:c})}const ep={"*":()=>[],array:Pl,boolean:function(l){const i=l.value,c=l.key,f=Gn(i);return f!=="boolean"?[new vt(c,i,`boolean expected, ${f} found`)]:[]},number:kc,color:function(l){const i=l.key,c=l.value,f=Gn(c);return f!=="string"?[new vt(i,c,`color expected, ${f} found`)]:er.parse(String(c))?[]:[new vt(i,c,`color expected, "${c}" found`)]},constants:Gm,enum:Cc,filter:Dl,function:Hu,layer:Xm,object:Qi,source:va,light:Ac,terrain:Jm,string:us,formatted:function(l){return us(l).length===0?[]:qo(l)},resolvedImage:function(l){return us(l).length===0?[]:qo(l)},padding:function(l){const i=l.key,c=l.value;if(Gn(c)==="array"){if(c.length<1||c.length>4)return[new vt(i,c,`padding requires 1 to 4 values; ${c.length} values found`)];const f={type:"number"};let p=[];for(let b=0;b<c.length;b++)p=p.concat(l.validateSpec({key:`${i}[${b}]`,value:c[b],validateSpec:l.validateSpec,valueSpec:f}));return p}return kc({key:i,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(l){const i=l.key,c=l.value,f=Gn(c),p=l.styleSpec;if(f!=="array"||c.length<1||c.length%2!=0)return[new vt(i,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let b=[];for(let S=0;S<c.length;S+=2)b=b.concat(Cc({key:`${i}[${S}]`,value:c[S],valueSpec:p.layout_symbol["text-anchor"]})),b=b.concat(Pl({key:`${i}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:p}));return b},sprite:Qm};function Rs(l){const i=l.value,c=l.valueSpec,f=l.styleSpec;return l.validateSpec=Rs,c.expression&&Er(Fr(i))?Hu(l):c.expression&&Vu(Uo(i))?qo(l):c.type&&ep[c.type]?ep[c.type](l):Qi(bi({},l,{valueSpec:c.type?f[c.type]:c}))}function tp(l){const i=l.value,c=l.key,f=us(l);return f.length||(i.indexOf("{fontstack}")===-1&&f.push(new vt(c,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&f.push(new vt(c,i,'"glyphs" url must include a "{range}" token'))),f}function Ia(l,i=ke){let c=[];return c=c.concat(Rs({key:"",value:l,valueSpec:i.$root,styleSpec:i,style:l,validateSpec:Rs,objectElementValidators:{glyphs:tp,"*":()=>[]}})),l.constants&&(c=c.concat(Gm({key:"constants",value:l.constants,style:l,styleSpec:i,validateSpec:Rs}))),Gu(c)}function Os(l){return function(i){return l({...i,validateSpec:Rs})}}function Gu(l){return[].concat(l).sort((i,c)=>i.line-c.line)}function Fs(l){return function(...i){return Gu(l.apply(this,i))}}Ia.source=Fs(Os(va)),Ia.sprite=Fs(Os(Qm)),Ia.glyphs=Fs(Os(tp)),Ia.light=Fs(Os(Ac)),Ia.terrain=Fs(Os(Jm)),Ia.layer=Fs(Os(Xm)),Ia.filter=Fs(Os(Dl)),Ia.paintProperty=Fs(Os(Zm)),Ia.layoutProperty=Fs(Os(Km));const zs=Ia,cy=zs.light,Th=zs.paintProperty,np=zs.layoutProperty;function Wu(l,i){let c=!1;if(i&&i.length)for(const f of i)l.fire(new nt(new Error(f.message))),c=!0;return c}class Ml{constructor(i,c,f){const p=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const S=new Int32Array(this.arrayBuffer);i=S[0],this.d=(c=S[1])+2*(f=S[2]);for(let D=0;D<this.d*this.d;D++){const F=S[3+D],V=S[3+D+1];p.push(F===V?null:S.subarray(F,V))}const A=S[3+p.length+1];this.keys=S.subarray(S[3+p.length],A),this.bboxes=S.subarray(A),this.insert=this._insertReadonly}else{this.d=c+2*f;for(let S=0;S<this.d*this.d;S++)p.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=i,this.padding=f,this.scale=c/i,this.uid=0;const b=f/c*i;this.min=-b,this.max=i+b}insert(i,c,f,p,b){this._forEachCell(c,f,p,b,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(p),this.bboxes.push(b)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,c,f,p,b,S){this.cells[b].push(S)}query(i,c,f,p,b){const S=this.min,A=this.max;if(i<=S&&c<=S&&A<=f&&A<=p&&!b)return Array.prototype.slice.call(this.keys);{const D=[];return this._forEachCell(i,c,f,p,this._queryCell,D,{},b),D}}_queryCell(i,c,f,p,b,S,A,D){const F=this.cells[b];if(F!==null){const V=this.keys,q=this.bboxes;for(let W=0;W<F.length;W++){const ee=F[W];if(A[ee]===void 0){const ne=4*ee;(D?D(q[ne+0],q[ne+1],q[ne+2],q[ne+3]):i<=q[ne+2]&&c<=q[ne+3]&&f>=q[ne+0]&&p>=q[ne+1])?(A[ee]=!0,S.push(V[ee])):A[ee]=!1}}}}_forEachCell(i,c,f,p,b,S,A,D){const F=this._convertToCellCoord(i),V=this._convertToCellCoord(c),q=this._convertToCellCoord(f),W=this._convertToCellCoord(p);for(let ee=F;ee<=q;ee++)for(let ne=V;ne<=W;ne++){const ue=this.d*ne+ee;if((!D||D(this._convertFromCellCoord(ee),this._convertFromCellCoord(ne),this._convertFromCellCoord(ee+1),this._convertFromCellCoord(ne+1)))&&b.call(this,i,c,f,p,ue,S,A,D))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,c=3+this.cells.length+1+1;let f=0;for(let S=0;S<this.cells.length;S++)f+=this.cells[S].length;const p=new Int32Array(c+f+this.keys.length+this.bboxes.length);p[0]=this.extent,p[1]=this.n,p[2]=this.padding;let b=c;for(let S=0;S<i.length;S++){const A=i[S];p[3+S]=b,p.set(A,b),b+=A.length}return p[3+i.length]=b,p.set(this.keys,b),b+=this.keys.length,p[3+i.length+1]=b,p.set(this.bboxes,b),b+=this.bboxes.length,p.buffer}static serialize(i,c){const f=i.toArrayBuffer();return c&&c.push(f),{buffer:f}}static deserialize(i){return new Ml(i.buffer)}}const Bs={};function Ut(l,i,c={}){if(Bs[l])throw new Error(`${l} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:l,writeable:!1}),Bs[l]={klass:i,omit:c.omit||[],shallow:c.shallow||[]}}Ut("Object",Object),Ut("TransferableGridIndex",Ml),Ut("Color",er),Ut("Error",Error),Ut("AJAXError",tt),Ut("ResolvedImage",Si),Ut("StylePropertyFunction",bc),Ut("StyleExpression",xh,{omit:["_evaluator"]}),Ut("ZoomDependentExpression",$u),Ut("ZoomConstantExpression",wh),Ut("CompoundExpression",Ea,{omit:["_evaluate"]});for(const l in El)El[l]._classRegistryKey||Ut(`Expression_${l}`,El[l]);function Yu(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function mo(l,i){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob)return l;if(Yu(l)||Ce(l))return i&&i.push(l),l;if(ArrayBuffer.isView(l)){const c=l;return i&&i.push(c.buffer),c}if(l instanceof ImageData)return i&&i.push(l.data.buffer),l;if(Array.isArray(l)){const c=[];for(const f of l)c.push(mo(f,i));return c}if(typeof l=="object"){const c=l.constructor,f=c._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");if(!Bs[f])throw new Error(`${f} is not registered.`);const p=c.serialize?c.serialize(l,i):{};if(c.serialize){if(i&&p===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const b in l){if(!l.hasOwnProperty(b)||Bs[f].omit.indexOf(b)>=0)continue;const S=l[b];p[b]=Bs[f].shallow.indexOf(b)>=0?S:mo(S,i)}l instanceof Error&&(p.message=l.message)}if(p.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(p.$name=f),p}throw new Error("can't serialize object of type "+typeof l)}function Ll(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||Yu(l)||Ce(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(Ll);if(typeof l=="object"){const i=l.$name||"Object";if(!Bs[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:c}=Bs[i];if(!c)throw new Error(`can't deserialize unregistered class ${i}`);if(c.deserialize)return c.deserialize(l);const f=Object.create(c.prototype);for(const p of Object.keys(l)){if(p==="$name")continue;const b=l[p];f[p]=Bs[i].shallow.indexOf(p)>=0?b:Ll(b)}return f}throw new Error("can't deserialize object of type "+typeof l)}class rp{constructor(){this.first=!0}update(i,c){const f=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=c),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=f,!0))}}const Vt={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function Ah(l){for(const i of l)if(Ih(i.charCodeAt(0)))return!0;return!1}function Eh(l){for(const i of l)if(!uy(i.charCodeAt(0)))return!1;return!0}function uy(l){return!(Vt.Arabic(l)||Vt["Arabic Supplement"](l)||Vt["Arabic Extended-A"](l)||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l))}function Ih(l){return!(l!==746&&l!==747&&(l<4352||!(Vt["Bopomofo Extended"](l)||Vt.Bopomofo(l)||Vt["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Vt["CJK Compatibility Ideographs"](l)||Vt["CJK Compatibility"](l)||Vt["CJK Radicals Supplement"](l)||Vt["CJK Strokes"](l)||!(!Vt["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Vt["CJK Unified Ideographs Extension A"](l)||Vt["CJK Unified Ideographs"](l)||Vt["Enclosed CJK Letters and Months"](l)||Vt["Hangul Compatibility Jamo"](l)||Vt["Hangul Jamo Extended-A"](l)||Vt["Hangul Jamo Extended-B"](l)||Vt["Hangul Jamo"](l)||Vt["Hangul Syllables"](l)||Vt.Hiragana(l)||Vt["Ideographic Description Characters"](l)||Vt.Kanbun(l)||Vt["Kangxi Radicals"](l)||Vt["Katakana Phonetic Extensions"](l)||Vt.Katakana(l)&&l!==12540||!(!Vt["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Vt["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Vt["Unified Canadian Aboriginal Syllabics"](l)||Vt["Unified Canadian Aboriginal Syllabics Extended"](l)||Vt["Vertical Forms"](l)||Vt["Yijing Hexagram Symbols"](l)||Vt["Yi Syllables"](l)||Vt["Yi Radicals"](l))))}function ip(l){return!(Ih(l)||function(i){return!!(Vt["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||Vt["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||Vt["Letterlike Symbols"](i)||Vt["Number Forms"](i)||Vt["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||Vt["Control Pictures"](i)&&i!==9251||Vt["Optical Character Recognition"](i)||Vt["Enclosed Alphanumerics"](i)||Vt["Geometric Shapes"](i)||Vt["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||Vt["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Vt["CJK Symbols and Punctuation"](i)||Vt.Katakana(i)||Vt["Private Use Area"](i)||Vt["CJK Compatibility Forms"](i)||Vt["Small Form Variants"](i)||Vt["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(l))}function ap(l){return l>=1424&&l<=2303||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l)}function sp(l,i){return!(!i&&ap(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Vt.Khmer(l))}function dy(l){for(const i of l)if(ap(i.charCodeAt(0)))return!0;return!1}const Ph="deferred",Dh="loading",Mh="loaded";let Lh=null,ea="unavailable",po=null;const Ec=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(ea="error"),Lh&&Lh(l)};function Rh(){Ic.fire(new Ze("pluginStateChange",{pluginStatus:ea,pluginURL:po}))}const Ic=new Tt,Oh=function(){return ea},op=function(){if(ea!==Ph||!po)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ea=Dh,Rh(),po&&oe({url:po},l=>{l?Ec(l):(ea=Mh,Rh())})},ya={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ea===Mh||ya.applyArabicShaping!=null,isLoading:()=>ea===Dh,setState(l){if(!Ue())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");ea=l.pluginStatus,po=l.pluginURL},isParsed(){if(!Ue())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return ya.applyArabicShaping!=null&&ya.processBidirectionalText!=null&&ya.processStyledBidirectionalText!=null},getPluginURL(){if(!Ue())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return po}};class _r{constructor(i,c){this.zoom=i,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new rp,this.transition={})}isSupportedScript(i){return function(c,f){for(const p of c)if(!sp(p.charCodeAt(0),f))return!1;return!0}(i,ya.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,c=i-Math.floor(i),f=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*c}}}class Zu{constructor(i,c){this.property=i,this.value=c,this.expression=function(f,p){if(Er(f))return new bc(f,p);if(Vu(f)){const b=Sh(f,p);if(b.result==="error")throw new Error(b.value.map(S=>`${S.key}: ${S.message}`).join(", "));return b.value}{let b=f;return p.type==="color"&&typeof f=="string"?b=er.parse(f):p.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?p.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(b=Ta.parse(f)):b=ma.parse(f),{kind:"constant",evaluate:()=>b}}}(c===void 0?i.specification.default:c,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,c,f){return this.property.possiblyEvaluate(this,i,c,f)}}class Fh{constructor(i){this.property=i,this.value=new Zu(i,void 0)}transitioned(i,c){return new cp(this.property,this.value,c,H({},i.transition,this.transition),i.now)}untransitioned(){return new cp(this.property,this.value,null,{},0)}}class lp{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return te(this._values[i].value.value)}setValue(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Fh(this._values[i].property)),this._values[i].value=new Zu(this._values[i].property,c===null?void 0:te(c))}getTransition(i){return te(this._values[i].transition)}setTransition(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Fh(this._values[i].property)),this._values[i].transition=te(c)||void 0}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f);const p=this.getTransition(c);p!==void 0&&(i[`${c}-transition`]=p)}return i}transitioned(i,c){const f=new up(this._properties);for(const p of Object.keys(this._values))f._values[p]=this._values[p].transitioned(i,c._values[p]);return f}untransitioned(){const i=new up(this._properties);for(const c of Object.keys(this._values))i._values[c]=this._values[c].untransitioned();return i}}class cp{constructor(i,c,f,p,b){this.property=i,this.value=c,this.begin=b+p.delay||0,this.end=this.begin+p.duration||0,i.specification.transition&&(p.delay||p.duration)&&(this.prior=f)}possiblyEvaluate(i,c,f){const p=i.now||0,b=this.value.possiblyEvaluate(i,c,f),S=this.prior;if(S){if(p>this.end)return this.prior=null,b;if(this.value.isDataDriven())return this.prior=null,b;if(p<this.begin)return S.possiblyEvaluate(i,c,f);{const A=(p-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(i,c,f),b,function(D){if(D<=0)return 0;if(D>=1)return 1;const F=D*D,V=F*D;return 4*(D<.5?V:3*(D-F)+V-.75)}(A))}}return b}}class up{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,c,f){const p=new Ku(this._properties);for(const b of Object.keys(this._values))p._values[b]=this._values[b].possiblyEvaluate(i,c,f);return p}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class hy{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return this._values[i].value!==void 0}getValue(i){return te(this._values[i].value)}setValue(i,c){this._values[i]=new Zu(this._values[i].property,c===null?void 0:te(c))}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f)}return i}possiblyEvaluate(i,c,f){const p=new Ku(this._properties);for(const b of Object.keys(this._values))p._values[b]=this._values[b].possiblyEvaluate(i,c,f);return p}}class Ui{constructor(i,c,f){this.property=i,this.value=c,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,c,f,p){return this.property.evaluate(this.value,this.parameters,i,c,f,p)}}class Ku{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Qt{constructor(i){this.specification=i}possiblyEvaluate(i,c){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(c)}interpolate(i,c,f){const p=pa[this.specification.type];return p?p(i,c,f):i}}class ln{constructor(i,c){this.specification=i,this.overrides=c}possiblyEvaluate(i,c,f,p){return new Ui(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(c,null,{},f,p)}:i.expression,c)}interpolate(i,c,f){if(i.value.kind!=="constant"||c.value.kind!=="constant")return i;if(i.value.value===void 0||c.value.value===void 0)return new Ui(this,{kind:"constant",value:void 0},i.parameters);const p=pa[this.specification.type];if(p){const b=p(i.value.value,c.value.value,f);return new Ui(this,{kind:"constant",value:b},i.parameters)}return i}evaluate(i,c,f,p,b,S){return i.kind==="constant"?i.value:i.evaluate(c,f,p,b,S)}}class Pc extends ln{possiblyEvaluate(i,c,f,p){if(i.value===void 0)return new Ui(this,{kind:"constant",value:void 0},c);if(i.expression.kind==="constant"){const b=i.expression.evaluate(c,null,{},f,p),S=i.property.specification.type==="resolvedImage"&&typeof b!="string"?b.name:b,A=this._calculate(S,S,S,c);return new Ui(this,{kind:"constant",value:A},c)}if(i.expression.kind==="camera"){const b=this._calculate(i.expression.evaluate({zoom:c.zoom-1}),i.expression.evaluate({zoom:c.zoom}),i.expression.evaluate({zoom:c.zoom+1}),c);return new Ui(this,{kind:"constant",value:b},c)}return new Ui(this,i.expression,c)}evaluate(i,c,f,p,b,S){if(i.kind==="source"){const A=i.evaluate(c,f,p,b,S);return this._calculate(A,A,A,c)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(c.zoom)-1},f,p),i.evaluate({zoom:Math.floor(c.zoom)},f,p),i.evaluate({zoom:Math.floor(c.zoom)+1},f,p),c):i.value}_calculate(i,c,f,p){return p.zoom>p.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class zh{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,p){if(i.value!==void 0){if(i.expression.kind==="constant"){const b=i.expression.evaluate(c,null,{},f,p);return this._calculate(b,b,b,c)}return this._calculate(i.expression.evaluate(new _r(Math.floor(c.zoom-1),c)),i.expression.evaluate(new _r(Math.floor(c.zoom),c)),i.expression.evaluate(new _r(Math.floor(c.zoom+1),c)),c)}}_calculate(i,c,f,p){return p.zoom>p.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class Bh{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,p){return!!i.expression.evaluate(c,null,{},f,p)}interpolate(){return!1}}class Zr{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in i){const f=i[c];f.specification.overridable&&this.overridableProperties.push(c);const p=this.defaultPropertyValues[c]=new Zu(f,void 0),b=this.defaultTransitionablePropertyValues[c]=new Fh(f);this.defaultTransitioningPropertyValues[c]=b.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=p.possiblyEvaluate({})}}}Ut("DataDrivenProperty",ln),Ut("DataConstantProperty",Qt),Ut("CrossFadedDataDrivenProperty",Pc),Ut("CrossFadedProperty",zh),Ut("ColorRampProperty",Bh);const Vh="-transition";class Pa extends Tt{constructor(i,c){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),c.layout&&(this._unevaluatedLayout=new hy(c.layout)),c.paint)){this._transitionablePaint=new lp(c.paint);for(const f in i.paint)this.setPaintProperty(f,i.paint[f],{validate:!1});for(const f in i.layout)this.setLayoutProperty(f,i.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ku(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,c,f={}){c!=null&&this._validate(np,`layers.${this.id}.layout.${i}`,i,c,f)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,c):this.visibility=c)}getPaintProperty(i){return i.endsWith(Vh)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,c,f={}){if(c!=null&&this._validate(Th,`layers.${this.id}.paint.${i}`,i,c,f))return!1;if(i.endsWith(Vh))return this._transitionablePaint.setTransition(i.slice(0,-11),c||void 0),!1;{const p=this._transitionablePaint._values[i],b=p.property.specification["property-type"]==="cross-faded-data-driven",S=p.value.isDataDriven(),A=p.value;this._transitionablePaint.setValue(i,c),this._handleSpecialPaintPropertyUpdate(i);const D=this._transitionablePaint._values[i].value;return D.isDataDriven()||S||b||this._handleOverridablePaintPropertyUpdate(i,A,D)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,c,f){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,c){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,c)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ae(i,(c,f)=>!(c===void 0||f==="layout"&&!Object.keys(c).length||f==="paint"&&!Object.keys(c).length))}_validate(i,c,f,p,b={}){return(!b||b.validate!==!1)&&Wu(this,i.call(zs,{key:c,layerType:this.type,objectKey:f,value:p,styleSpec:ke,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const c=this.paint.get(i);if(c instanceof Ui&&Il(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const dp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class jo{constructor(i,c){this._structArray=i,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class zr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,c){return i._trim(),c&&(i.isTransferred=!0,c.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const c=Object.create(this.prototype);return c.arrayBuffer=i.arrayBuffer,c.length=i.length,c.capacity=i.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Pr(l,i=1){let c=0,f=0;return{members:l.map(p=>{const b=dp[p.type].BYTES_PER_ELEMENT,S=c=Rl(c,Math.max(i,b)),A=p.components||1;return f=Math.max(f,b),c+=b*A,{name:p.name,type:p.type,components:A,offset:S}}),size:Rl(c,Math.max(f,i)),alignment:i}}function Rl(l,i){return Math.ceil(l/i)*i}class Dc extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const p=2*i;return this.int16[p+0]=c,this.int16[p+1]=f,i}}Dc.prototype.bytesPerElement=4,Ut("StructArrayLayout2i4",Dc);class Mc extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f){const p=this.length;return this.resize(p+1),this.emplace(p,i,c,f)}emplace(i,c,f,p){const b=3*i;return this.int16[b+0]=c,this.int16[b+1]=f,this.int16[b+2]=p,i}}Mc.prototype.bytesPerElement=6,Ut("StructArrayLayout3i6",Mc);class Ho extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,p){const b=this.length;return this.resize(b+1),this.emplace(b,i,c,f,p)}emplace(i,c,f,p,b){const S=4*i;return this.int16[S+0]=c,this.int16[S+1]=f,this.int16[S+2]=p,this.int16[S+3]=b,i}}Ho.prototype.bytesPerElement=8,Ut("StructArrayLayout4i8",Ho);class Nh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,p,b,S)}emplace(i,c,f,p,b,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=p,this.int16[D+3]=b,this.int16[D+4]=S,this.int16[D+5]=A,i}}Nh.prototype.bytesPerElement=12,Ut("StructArrayLayout2i4i12",Nh);class $h extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,p,b,S)}emplace(i,c,f,p,b,S,A){const D=4*i,F=8*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.uint8[F+4]=p,this.uint8[F+5]=b,this.uint8[F+6]=S,this.uint8[F+7]=A,i}}$h.prototype.bytesPerElement=8,Ut("StructArrayLayout2i4ub8",$h);class Ol extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const p=2*i;return this.float32[p+0]=c,this.float32[p+1]=f,i}}Ol.prototype.bytesPerElement=8,Ut("StructArrayLayout2f8",Ol);class Uh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S,A,D,F,V){const q=this.length;return this.resize(q+1),this.emplace(q,i,c,f,p,b,S,A,D,F,V)}emplace(i,c,f,p,b,S,A,D,F,V,q){const W=10*i;return this.uint16[W+0]=c,this.uint16[W+1]=f,this.uint16[W+2]=p,this.uint16[W+3]=b,this.uint16[W+4]=S,this.uint16[W+5]=A,this.uint16[W+6]=D,this.uint16[W+7]=F,this.uint16[W+8]=V,this.uint16[W+9]=q,i}}Uh.prototype.bytesPerElement=20,Ut("StructArrayLayout10ui20",Uh);class qh extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S,A,D,F,V,q,W){const ee=this.length;return this.resize(ee+1),this.emplace(ee,i,c,f,p,b,S,A,D,F,V,q,W)}emplace(i,c,f,p,b,S,A,D,F,V,q,W,ee){const ne=12*i;return this.int16[ne+0]=c,this.int16[ne+1]=f,this.int16[ne+2]=p,this.int16[ne+3]=b,this.uint16[ne+4]=S,this.uint16[ne+5]=A,this.uint16[ne+6]=D,this.uint16[ne+7]=F,this.int16[ne+8]=V,this.int16[ne+9]=q,this.int16[ne+10]=W,this.int16[ne+11]=ee,i}}qh.prototype.bytesPerElement=24,Ut("StructArrayLayout4i4ui4i24",qh);class Wn extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const p=this.length;return this.resize(p+1),this.emplace(p,i,c,f)}emplace(i,c,f,p){const b=3*i;return this.float32[b+0]=c,this.float32[b+1]=f,this.float32[b+2]=p,i}}Wn.prototype.bytesPerElement=12,Ut("StructArrayLayout3f12",Wn);class _ extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint32[1*i+0]=c,i}}_.prototype.bytesPerElement=4,Ut("StructArrayLayout1ul4",_);class a extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S,A,D,F){const V=this.length;return this.resize(V+1),this.emplace(V,i,c,f,p,b,S,A,D,F)}emplace(i,c,f,p,b,S,A,D,F,V){const q=10*i,W=5*i;return this.int16[q+0]=c,this.int16[q+1]=f,this.int16[q+2]=p,this.int16[q+3]=b,this.int16[q+4]=S,this.int16[q+5]=A,this.uint32[W+3]=D,this.uint16[q+8]=F,this.uint16[q+9]=V,i}}a.prototype.bytesPerElement=20,Ut("StructArrayLayout6i1ul2ui20",a);class d extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,p,b,S)}emplace(i,c,f,p,b,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=p,this.int16[D+3]=b,this.int16[D+4]=S,this.int16[D+5]=A,i}}d.prototype.bytesPerElement=12,Ut("StructArrayLayout2i2i2i12",d);class m extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b){const S=this.length;return this.resize(S+1),this.emplace(S,i,c,f,p,b)}emplace(i,c,f,p,b,S){const A=4*i,D=8*i;return this.float32[A+0]=c,this.float32[A+1]=f,this.float32[A+2]=p,this.int16[D+6]=b,this.int16[D+7]=S,i}}m.prototype.bytesPerElement=16,Ut("StructArrayLayout2f1f2i16",m);class v extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,p){const b=this.length;return this.resize(b+1),this.emplace(b,i,c,f,p)}emplace(i,c,f,p,b){const S=12*i,A=3*i;return this.uint8[S+0]=c,this.uint8[S+1]=f,this.float32[A+1]=p,this.float32[A+2]=b,i}}v.prototype.bytesPerElement=12,Ut("StructArrayLayout2ub2f12",v);class x extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const p=this.length;return this.resize(p+1),this.emplace(p,i,c,f)}emplace(i,c,f,p){const b=3*i;return this.uint16[b+0]=c,this.uint16[b+1]=f,this.uint16[b+2]=p,i}}x.prototype.bytesPerElement=6,Ut("StructArrayLayout3ui6",x);class E extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S,A,D,F,V,q,W,ee,ne,ue,ye,we){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,i,c,f,p,b,S,A,D,F,V,q,W,ee,ne,ue,ye,we)}emplace(i,c,f,p,b,S,A,D,F,V,q,W,ee,ne,ue,ye,we,Oe){const Te=24*i,Be=12*i,Ge=48*i;return this.int16[Te+0]=c,this.int16[Te+1]=f,this.uint16[Te+2]=p,this.uint16[Te+3]=b,this.uint32[Be+2]=S,this.uint32[Be+3]=A,this.uint32[Be+4]=D,this.uint16[Te+10]=F,this.uint16[Te+11]=V,this.uint16[Te+12]=q,this.float32[Be+7]=W,this.float32[Be+8]=ee,this.uint8[Ge+36]=ne,this.uint8[Ge+37]=ue,this.uint8[Ge+38]=ye,this.uint32[Be+10]=we,this.int16[Te+22]=Oe,i}}E.prototype.bytesPerElement=48,Ut("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",E);class P extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,p,b,S,A,D,F,V,q,W,ee,ne,ue,ye,we,Oe,Te,Be,Ge,ot,Nt,Zt,Bt,Ft,Dt,qt){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,i,c,f,p,b,S,A,D,F,V,q,W,ee,ne,ue,ye,we,Oe,Te,Be,Ge,ot,Nt,Zt,Bt,Ft,Dt,qt)}emplace(i,c,f,p,b,S,A,D,F,V,q,W,ee,ne,ue,ye,we,Oe,Te,Be,Ge,ot,Nt,Zt,Bt,Ft,Dt,qt,Mt){const wt=32*i,nn=16*i;return this.int16[wt+0]=c,this.int16[wt+1]=f,this.int16[wt+2]=p,this.int16[wt+3]=b,this.int16[wt+4]=S,this.int16[wt+5]=A,this.int16[wt+6]=D,this.int16[wt+7]=F,this.uint16[wt+8]=V,this.uint16[wt+9]=q,this.uint16[wt+10]=W,this.uint16[wt+11]=ee,this.uint16[wt+12]=ne,this.uint16[wt+13]=ue,this.uint16[wt+14]=ye,this.uint16[wt+15]=we,this.uint16[wt+16]=Oe,this.uint16[wt+17]=Te,this.uint16[wt+18]=Be,this.uint16[wt+19]=Ge,this.uint16[wt+20]=ot,this.uint16[wt+21]=Nt,this.uint16[wt+22]=Zt,this.uint32[nn+12]=Bt,this.float32[nn+13]=Ft,this.float32[nn+14]=Dt,this.uint16[wt+30]=qt,this.uint16[wt+31]=Mt,i}}P.prototype.bytesPerElement=64,Ut("StructArrayLayout8i15ui1ul2f2ui64",P);class M extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.float32[1*i+0]=c,i}}M.prototype.bytesPerElement=4,Ut("StructArrayLayout1f4",M);class z extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const p=this.length;return this.resize(p+1),this.emplace(p,i,c,f)}emplace(i,c,f,p){const b=3*i;return this.uint16[6*i+0]=c,this.float32[b+1]=f,this.float32[b+2]=p,i}}z.prototype.bytesPerElement=12,Ut("StructArrayLayout1ui2f12",z);class N extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const p=this.length;return this.resize(p+1),this.emplace(p,i,c,f)}emplace(i,c,f,p){const b=4*i;return this.uint32[2*i+0]=c,this.uint16[b+2]=f,this.uint16[b+3]=p,i}}N.prototype.bytesPerElement=8,Ut("StructArrayLayout1ul2ui8",N);class U extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const p=2*i;return this.uint16[p+0]=c,this.uint16[p+1]=f,i}}U.prototype.bytesPerElement=4,Ut("StructArrayLayout2ui4",U);class J extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint16[1*i+0]=c,i}}J.prototype.bytesPerElement=2,Ut("StructArrayLayout1ui2",J);class he extends zr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,p){const b=this.length;return this.resize(b+1),this.emplace(b,i,c,f,p)}emplace(i,c,f,p,b){const S=4*i;return this.float32[S+0]=c,this.float32[S+1]=f,this.float32[S+2]=p,this.float32[S+3]=b,i}}he.prototype.bytesPerElement=16,Ut("StructArrayLayout4f16",he);class de extends jo{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new C(this.anchorPointX,this.anchorPointY)}}de.prototype.size=20;class ge extends a{get(i){return new de(this,i)}}Ut("CollisionBoxArray",ge);class ce extends jo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ce.prototype.size=48;class Pe extends E{get(i){return new ce(this,i)}}Ut("PlacedSymbolArray",Pe);class He extends jo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}He.prototype.size=64;class xe extends P{get(i){return new He(this,i)}}Ut("SymbolInstanceArray",xe);class Le extends M{getoffsetX(i){return this.float32[1*i+0]}}Ut("GlyphOffsetArray",Le);class Ye extends Mc{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}Ut("SymbolLineVertexArray",Ye);class Ke extends jo{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ke.prototype.size=12;class st extends z{get(i){return new Ke(this,i)}}Ut("TextAnchorOffsetArray",st);class xt extends jo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}xt.prototype.size=8;class mt extends N{get(i){return new xt(this,i)}}Ut("FeatureIndexArray",mt);class Et extends Dc{}class Yt extends Dc{}class Pn extends Dc{}class Ot extends Nh{}class cn extends $h{}class Kt extends Ol{}class tr extends Uh{}class In extends qh{}class Sn extends Wn{}class Dn extends _{}class Ur extends d{}class mr extends v{}class ki extends x{}class oi extends U{}const Kr=Pr([{name:"a_pos",components:2,type:"Int16"}],4),{members:_a}=Kr;class br{constructor(i=[]){this.segments=i}prepareSegment(i,c,f,p){let b=this.segments[this.segments.length-1];return i>br.MAX_VERTEX_ARRAY_LENGTH&&me(`Max vertices per segment is ${br.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!b||b.vertexLength+i>br.MAX_VERTEX_ARRAY_LENGTH||b.sortKey!==p)&&(b={vertexOffset:c.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},p!==void 0&&(b.sortKey=p),this.segments.push(b)),b}get(){return this.segments}destroy(){for(const i of this.segments)for(const c in i.vaos)i.vaos[c].destroy()}static simpleSegment(i,c,f,p){return new br([{vertexOffset:i,primitiveOffset:c,vertexLength:f,primitiveLength:p,vaos:{},sortKey:0}])}}function ds(l,i){return 256*(l=Q(Math.floor(l),0,255))+Q(Math.floor(i),0,255)}br.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ut("SegmentVector",br);const hs=Pr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var go={exports:{}},Go={exports:{}};Go.exports=function(l,i){var c,f,p,b,S,A,D,F;for(f=l.length-(c=3&l.length),p=i,S=3432918353,A=461845907,F=0;F<f;)D=255&l.charCodeAt(F)|(255&l.charCodeAt(++F))<<8|(255&l.charCodeAt(++F))<<16|(255&l.charCodeAt(++F))<<24,++F,p=27492+(65535&(b=5*(65535&(p=(p^=D=(65535&(D=(D=(65535&D)*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295)<<13|p>>>19))+((5*(p>>>16)&65535)<<16)&4294967295))+((58964+(b>>>16)&65535)<<16);switch(D=0,c){case 3:D^=(255&l.charCodeAt(F+2))<<16;case 2:D^=(255&l.charCodeAt(F+1))<<8;case 1:p^=D=(65535&(D=(D=(65535&(D^=255&l.charCodeAt(F)))*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295}return p^=l.length,p=2246822507*(65535&(p^=p>>>16))+((2246822507*(p>>>16)&65535)<<16)&4294967295,p=3266489909*(65535&(p^=p>>>13))+((3266489909*(p>>>16)&65535)<<16)&4294967295,(p^=p>>>16)>>>0};var Fl=Go.exports,Ri={exports:{}};Ri.exports=function(l,i){for(var c,f=l.length,p=i^f,b=0;f>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(b)|(255&l.charCodeAt(++b))<<8|(255&l.charCodeAt(++b))<<16|(255&l.charCodeAt(++b))<<24))+((1540483477*(c>>>16)&65535)<<16),p=1540483477*(65535&p)+((1540483477*(p>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),f-=4,++b;switch(f){case 3:p^=(255&l.charCodeAt(b+2))<<16;case 2:p^=(255&l.charCodeAt(b+1))<<8;case 1:p=1540483477*(65535&(p^=255&l.charCodeAt(b)))+((1540483477*(p>>>16)&65535)<<16)}return p=1540483477*(65535&(p^=p>>>13))+((1540483477*(p>>>16)&65535)<<16),(p^=p>>>15)>>>0};var Ci=Fl,qi=Ri.exports;go.exports=Ci,go.exports.murmur3=Ci,go.exports.murmur2=qi;var Wo=y(go.exports);class qr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,c,f,p){this.ids.push(li(i)),this.positions.push(c,f,p)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=li(i);let f=0,p=this.ids.length-1;for(;f<p;){const S=f+p>>1;this.ids[S]>=c?p=S:f=S+1}const b=[];for(;this.ids[f]===c;)b.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return b}static serialize(i,c){const f=new Float64Array(i.ids),p=new Uint32Array(i.positions);return ta(f,p,0,f.length-1),c&&c.push(f.buffer,p.buffer),{ids:f,positions:p}}static deserialize(i){const c=new qr;return c.ids=i.ids,c.positions=i.positions,c.indexed=!0,c}}function li(l){const i=+l;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Wo(String(l))}function ta(l,i,c,f){for(;c<f;){const p=l[c+f>>1];let b=c-1,S=f+1;for(;;){do b++;while(l[b]<p);do S--;while(l[S]>p);if(b>=S)break;jr(l,b,S),jr(i,3*b,3*S),jr(i,3*b+1,3*S+1),jr(i,3*b+2,3*S+2)}S-c<f-S?(ta(l,i,c,S),c=S+1):(ta(l,i,S+1,f),f=S)}}function jr(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}Ut("FeaturePositionMap",qr);class Yo{constructor(i,c){this.gl=i.gl,this.location=c}}class Xu extends Yo{constructor(i,c){super(i,c),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class hp extends Yo{constructor(i,c){super(i,c),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class fp extends Yo{constructor(i,c){super(i,c),this.current=er.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const fy=new Float32Array(16);function jh(l){return[ds(255*l.r,255*l.g),ds(255*l.b,255*l.a)]}class fs{constructor(i,c,f){this.value=i,this.uniformNames=c.map(p=>`u_${p}`),this.type=f}setUniform(i,c,f){i.set(f.constantOr(this.value))}getBinding(i,c,f){return this.type==="color"?new fp(i,c):new Xu(i,c)}}class Zo{constructor(i,c){this.uniformNames=c.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=i.tlbr}setUniform(i,c,f,p){const b=p==="u_pattern_to"?this.patternTo:p==="u_pattern_from"?this.patternFrom:p==="u_pixel_ratio_to"?this.pixelRatioTo:p==="u_pixel_ratio_from"?this.pixelRatioFrom:null;b&&i.set(b)}getBinding(i,c,f){return f.substr(0,9)==="u_pattern"?new hp(i,c):new Xu(i,c)}}class ms{constructor(i,c,f,p){this.expression=i,this.type=f,this.maxValue=0,this.paintVertexAttributes=c.map(b=>({name:`a_${b}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new p}populatePaintArray(i,c,f,p,b){const S=this.paintVertexArray.length,A=this.expression.evaluate(new _r(0),c,{},p,[],b);this.paintVertexArray.resize(i),this._setPaintValue(S,i,A)}updatePaintArray(i,c,f,p){const b=this.expression.evaluate({zoom:0},f,p);this._setPaintValue(i,c,b)}_setPaintValue(i,c,f){if(this.type==="color"){const p=jh(f);for(let b=i;b<c;b++)this.paintVertexArray.emplace(b,p[0],p[1])}else{for(let p=i;p<c;p++)this.paintVertexArray.emplace(p,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Da{constructor(i,c,f,p,b,S){this.expression=i,this.uniformNames=c.map(A=>`u_${A}_t`),this.type=f,this.useIntegerZoom=p,this.zoom=b,this.maxValue=0,this.paintVertexAttributes=c.map(A=>({name:`a_${A}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(i,c,f,p,b){const S=this.expression.evaluate(new _r(this.zoom),c,{},p,[],b),A=this.expression.evaluate(new _r(this.zoom+1),c,{},p,[],b),D=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(D,i,S,A)}updatePaintArray(i,c,f,p){const b=this.expression.evaluate({zoom:this.zoom},f,p),S=this.expression.evaluate({zoom:this.zoom+1},f,p);this._setPaintValue(i,c,b,S)}_setPaintValue(i,c,f,p){if(this.type==="color"){const b=jh(f),S=jh(p);for(let A=i;A<c;A++)this.paintVertexArray.emplace(A,b[0],b[1],S[0],S[1])}else{for(let b=i;b<c;b++)this.paintVertexArray.emplace(b,f,p);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(p))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,c){const f=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,p=Q(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);i.set(p)}getBinding(i,c,f){return new Xu(i,c)}}class ps{constructor(i,c,f,p,b,S){this.expression=i,this.type=c,this.useIntegerZoom=f,this.zoom=p,this.layerId=S,this.zoomInPaintVertexArray=new b,this.zoomOutPaintVertexArray=new b}populatePaintArray(i,c,f){const p=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(p,i,c.patterns&&c.patterns[this.layerId],f)}updatePaintArray(i,c,f,p,b){this._setPaintValues(i,c,f.patterns&&f.patterns[this.layerId],b)}_setPaintValues(i,c,f,p){if(!p||!f)return;const{min:b,mid:S,max:A}=f,D=p[b],F=p[S],V=p[A];if(D&&F&&V)for(let q=i;q<c;q++)this.zoomInPaintVertexArray.emplace(q,F.tl[0],F.tl[1],F.br[0],F.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],F.pixelRatio,D.pixelRatio),this.zoomOutPaintVertexArray.emplace(q,F.tl[0],F.tl[1],F.br[0],F.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1],F.pixelRatio,V.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,hs.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,hs.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Hh{constructor(i,c,f){this.binders={},this._buffers=[];const p=[];for(const b in i.paint._values){if(!f(b))continue;const S=i.paint.get(b);if(!(S instanceof Ui&&Il(S.property.specification)))continue;const A=UD(b,i.type),D=S.value,F=S.property.specification.type,V=S.property.useIntegerZoom,q=S.property.specification["property-type"],W=q==="cross-faded"||q==="cross-faded-data-driven";if(D.kind==="constant")this.binders[b]=W?new Zo(D.value,A):new fs(D.value,A,F),p.push(`/u_${b}`);else if(D.kind==="source"||W){const ee=y1(b,F,"source");this.binders[b]=W?new ps(D,F,V,c,ee,i.id):new ms(D,A,F,ee),p.push(`/a_${b}`)}else{const ee=y1(b,F,"composite");this.binders[b]=new Da(D,A,F,V,c,ee),p.push(`/z_${b}`)}}this.cacheKey=p.sort().join("")}getMaxValue(i){const c=this.binders[i];return c instanceof ms||c instanceof Da?c.maxValue:0}populatePaintArrays(i,c,f,p,b){for(const S in this.binders){const A=this.binders[S];(A instanceof ms||A instanceof Da||A instanceof ps)&&A.populatePaintArray(i,c,f,p,b)}}setConstantPatternPositions(i,c){for(const f in this.binders){const p=this.binders[f];p instanceof Zo&&p.setConstantPatternPositions(i,c)}}updatePaintArrays(i,c,f,p,b){let S=!1;for(const A in i){const D=c.getPositions(A);for(const F of D){const V=f.feature(F.index);for(const q in this.binders){const W=this.binders[q];if((W instanceof ms||W instanceof Da||W instanceof ps)&&W.expression.isStateDependent===!0){const ee=p.paint.get(q);W.expression=ee.value,W.updatePaintArray(F.start,F.end,V,i[A],b),S=!0}}}}return S}defines(){const i=[];for(const c in this.binders){const f=this.binders[c];(f instanceof fs||f instanceof Zo)&&i.push(...f.uniformNames.map(p=>`#define HAS_UNIFORM_${p}`))}return i}getBinderAttributes(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof ms||f instanceof Da)for(let p=0;p<f.paintVertexAttributes.length;p++)i.push(f.paintVertexAttributes[p].name);else if(f instanceof ps)for(let p=0;p<hs.members.length;p++)i.push(hs.members[p].name)}return i}getBinderUniforms(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof fs||f instanceof Zo||f instanceof Da)for(const p of f.uniformNames)i.push(p)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,c){const f=[];for(const p in this.binders){const b=this.binders[p];if(b instanceof fs||b instanceof Zo||b instanceof Da){for(const S of b.uniformNames)if(c[S]){const A=b.getBinding(i,c[S],S);f.push({name:S,property:p,binding:A})}}}return f}setUniforms(i,c,f,p){for(const{name:b,property:S,binding:A}of c)this.binders[S].setUniform(A,p,f.get(S),b)}updatePaintBuffers(i){this._buffers=[];for(const c in this.binders){const f=this.binders[c];if(i&&f instanceof ps){const p=i.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;p&&this._buffers.push(p)}else(f instanceof ms||f instanceof Da)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(i){for(const c in this.binders){const f=this.binders[c];(f instanceof ms||f instanceof Da||f instanceof ps)&&f.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const c=this.binders[i];(c instanceof ms||c instanceof Da||c instanceof ps)&&c.destroy()}}}class Vs{constructor(i,c,f=()=>!0){this.programConfigurations={};for(const p of i)this.programConfigurations[p.id]=new Hh(p,c,f);this.needsUpload=!1,this._featureMap=new qr,this._bufferOffset=0}populatePaintArrays(i,c,f,p,b,S){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(i,c,p,b,S);c.id!==void 0&&this._featureMap.add(c.id,f,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,c,f,p){for(const b of f)this.needsUpload=this.programConfigurations[b.id].updatePaintArrays(i,this._featureMap,c,b,p)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function UD(l,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${i}-`,"").replace(/-/g,"_")]}function y1(l,i,c){const f={color:{source:Ol,composite:he},number:{source:M,composite:Ol}},p=function(b){return{"line-pattern":{source:tr,composite:tr},"fill-pattern":{source:tr,composite:tr},"fill-extrusion-pattern":{source:tr,composite:tr}}[b]}(l);return p&&p[c]||f[i][c]}Ut("ConstantBinder",fs),Ut("CrossFadedConstantBinder",Zo),Ut("SourceExpressionBinder",ms),Ut("CrossFadedCompositeBinder",ps),Ut("CompositeExpressionBinder",Da),Ut("ProgramConfiguration",Hh,{omit:["_buffers"]}),Ut("ProgramConfigurationSet",Vs);const ti=8192,my=Math.pow(2,14)-1,_1=-my-1;function Lc(l){const i=ti/l.extent,c=l.loadGeometry();for(let f=0;f<c.length;f++){const p=c[f];for(let b=0;b<p.length;b++){const S=p[b],A=Math.round(S.x*i),D=Math.round(S.y*i);S.x=Q(A,_1,my),S.y=Q(D,_1,my),(A<S.x||A>S.x+1||D<S.y||D>S.y+1)&&me("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function Rc(l,i){return{type:l.type,id:l.id,properties:l.properties,geometry:i?Lc(l):[]}}function mp(l,i,c,f,p){l.emplaceBack(2*i+(f+1)/2,2*c+(p+1)/2)}class py{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Yt,this.indexArray=new ki,this.segments=new br,this.programConfigurations=new Vs(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){const p=this.layers[0],b=[];let S=null,A=!1;p.type==="circle"&&(S=p.layout.get("circle-sort-key"),A=!S.isConstant());for(const{feature:D,id:F,index:V,sourceLayerIndex:q}of i){const W=this.layers[0]._featureFilter.needGeometry,ee=Rc(D,W);if(!this.layers[0]._featureFilter.filter(new _r(this.zoom),ee,f))continue;const ne=A?S.evaluate(ee,{},f):void 0,ue={id:F,properties:D.properties,type:D.type,sourceLayerIndex:q,index:V,geometry:W?ee.geometry:Lc(D),patterns:{},sortKey:ne};b.push(ue)}A&&b.sort((D,F)=>D.sortKey-F.sortKey);for(const D of b){const{geometry:F,index:V,sourceLayerIndex:q}=D,W=i[V].feature;this.addFeature(D,F,V,f),c.featureIndex.insert(W,F,V,q,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,_a),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,c,f,p){for(const b of c)for(const S of b){const A=S.x,D=S.y;if(A<0||A>=ti||D<0||D>=ti)continue;const F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),V=F.vertexLength;mp(this.layoutVertexArray,A,D,-1,-1),mp(this.layoutVertexArray,A,D,1,-1),mp(this.layoutVertexArray,A,D,1,1),mp(this.layoutVertexArray,A,D,-1,1),this.indexArray.emplaceBack(V,V+1,V+2),this.indexArray.emplaceBack(V,V+3,V+2),F.vertexLength+=4,F.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,{},p)}}function b1(l,i){for(let c=0;c<l.length;c++)if(Ju(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(Ju(l,i[c]))return!0;return!!gy(l,i)}function qD(l,i,c){return!!Ju(l,i)||!!vy(i,l,c)}function x1(l,i){if(l.length===1)return S1(i,l[0]);for(let c=0;c<i.length;c++){const f=i[c];for(let p=0;p<f.length;p++)if(Ju(l,f[p]))return!0}for(let c=0;c<l.length;c++)if(S1(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(gy(l,i[c]))return!0;return!1}function jD(l,i,c){if(l.length>1){if(gy(l,i))return!0;for(let f=0;f<i.length;f++)if(vy(i[f],l,c))return!0}for(let f=0;f<l.length;f++)if(vy(l[f],i,c))return!0;return!1}function gy(l,i){if(l.length===0||i.length===0)return!1;for(let c=0;c<l.length-1;c++){const f=l[c],p=l[c+1];for(let b=0;b<i.length-1;b++)if(HD(f,p,i[b],i[b+1]))return!0}return!1}function HD(l,i,c,f){return Ie(l,c,f)!==Ie(i,c,f)&&Ie(l,i,c)!==Ie(l,i,f)}function vy(l,i,c){const f=c*c;if(i.length===1)return l.distSqr(i[0])<f;for(let p=1;p<i.length;p++)if(w1(l,i[p-1],i[p])<f)return!0;return!1}function w1(l,i,c){const f=i.distSqr(c);if(f===0)return l.distSqr(i);const p=((l.x-i.x)*(c.x-i.x)+(l.y-i.y)*(c.y-i.y))/f;return l.distSqr(p<0?i:p>1?c:c.sub(i)._mult(p)._add(i))}function S1(l,i){let c,f,p,b=!1;for(let S=0;S<l.length;S++){c=l[S];for(let A=0,D=c.length-1;A<c.length;D=A++)f=c[A],p=c[D],f.y>i.y!=p.y>i.y&&i.x<(p.x-f.x)*(i.y-f.y)/(p.y-f.y)+f.x&&(b=!b)}return b}function Ju(l,i){let c=!1;for(let f=0,p=l.length-1;f<l.length;p=f++){const b=l[f],S=l[p];b.y>i.y!=S.y>i.y&&i.x<(S.x-b.x)*(i.y-b.y)/(S.y-b.y)+b.x&&(c=!c)}return c}function GD(l,i,c){const f=c[0],p=c[2];if(l.x<f.x&&i.x<f.x||l.x>p.x&&i.x>p.x||l.y<f.y&&i.y<f.y||l.y>p.y&&i.y>p.y)return!1;const b=Ie(l,i,c[0]);return b!==Ie(l,i,c[1])||b!==Ie(l,i,c[2])||b!==Ie(l,i,c[3])}function Gh(l,i,c){const f=i.paint.get(l).value;return f.kind==="constant"?f.value:c.programConfigurations.get(i.id).getMaxValue(l)}function pp(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function gp(l,i,c,f,p){if(!i[0]&&!i[1])return l;const b=C.convert(i)._mult(p);c==="viewport"&&b._rotate(-f);const S=[];for(let A=0;A<l.length;A++)S.push(l[A].sub(b));return S}let k1,C1;Ut("CircleBucket",py,{omit:["layers"]});var WD={get paint(){return C1=C1||new Zr({"circle-radius":new ln(ke.paint_circle["circle-radius"]),"circle-color":new ln(ke.paint_circle["circle-color"]),"circle-blur":new ln(ke.paint_circle["circle-blur"]),"circle-opacity":new ln(ke.paint_circle["circle-opacity"]),"circle-translate":new Qt(ke.paint_circle["circle-translate"]),"circle-translate-anchor":new Qt(ke.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qt(ke.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qt(ke.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new ln(ke.paint_circle["circle-stroke-width"]),"circle-stroke-color":new ln(ke.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new ln(ke.paint_circle["circle-stroke-opacity"])})},get layout(){return k1=k1||new Zr({"circle-sort-key":new ln(ke.layout_circle["circle-sort-key"])})}},na=1e-6,Qu=typeof Float32Array<"u"?Float32Array:Array;function yy(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function T1(l,i,c){var f=i[0],p=i[1],b=i[2],S=i[3],A=i[4],D=i[5],F=i[6],V=i[7],q=i[8],W=i[9],ee=i[10],ne=i[11],ue=i[12],ye=i[13],we=i[14],Oe=i[15],Te=c[0],Be=c[1],Ge=c[2],ot=c[3];return l[0]=Te*f+Be*A+Ge*q+ot*ue,l[1]=Te*p+Be*D+Ge*W+ot*ye,l[2]=Te*b+Be*F+Ge*ee+ot*we,l[3]=Te*S+Be*V+Ge*ne+ot*Oe,l[4]=(Te=c[4])*f+(Be=c[5])*A+(Ge=c[6])*q+(ot=c[7])*ue,l[5]=Te*p+Be*D+Ge*W+ot*ye,l[6]=Te*b+Be*F+Ge*ee+ot*we,l[7]=Te*S+Be*V+Ge*ne+ot*Oe,l[8]=(Te=c[8])*f+(Be=c[9])*A+(Ge=c[10])*q+(ot=c[11])*ue,l[9]=Te*p+Be*D+Ge*W+ot*ye,l[10]=Te*b+Be*F+Ge*ee+ot*we,l[11]=Te*S+Be*V+Ge*ne+ot*Oe,l[12]=(Te=c[12])*f+(Be=c[13])*A+(Ge=c[14])*q+(ot=c[15])*ue,l[13]=Te*p+Be*D+Ge*W+ot*ye,l[14]=Te*b+Be*F+Ge*ee+ot*we,l[15]=Te*S+Be*V+Ge*ne+ot*Oe,l}Math.hypot||(Math.hypot=function(){for(var l=0,i=arguments.length;i--;)l+=arguments[i]*arguments[i];return Math.sqrt(l)});var Wh,YD=T1;function vp(l,i,c){var f=i[0],p=i[1],b=i[2],S=i[3];return l[0]=c[0]*f+c[4]*p+c[8]*b+c[12]*S,l[1]=c[1]*f+c[5]*p+c[9]*b+c[13]*S,l[2]=c[2]*f+c[6]*p+c[10]*b+c[14]*S,l[3]=c[3]*f+c[7]*p+c[11]*b+c[15]*S,l}Wh=new Qu(4),Qu!=Float32Array&&(Wh[0]=0,Wh[1]=0,Wh[2]=0,Wh[3]=0);class ZD extends Pa{constructor(i){super(i,WD)}createBucket(i){return new py(i)}queryRadius(i){const c=i;return Gh("circle-radius",this,c)+Gh("circle-stroke-width",this,c)+pp(this.paint.get("circle-translate"))}queryIntersectsFeature(i,c,f,p,b,S,A,D){const F=gp(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,A),V=this.paint.get("circle-radius").evaluate(c,f)+this.paint.get("circle-stroke-width").evaluate(c,f),q=this.paint.get("circle-pitch-alignment")==="map",W=q?F:function(ne,ue){return ne.map(ye=>A1(ye,ue))}(F,D),ee=q?V*A:V;for(const ne of p)for(const ue of ne){const ye=q?ue:A1(ue,D);let we=ee;const Oe=vp([],[ue.x,ue.y,0,1],D);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?we*=Oe[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(we*=S.cameraToCenterDistance/Oe[3]),qD(W,ye,we))return!0}return!1}}function A1(l,i){const c=vp([],[l.x,l.y,0,1],i);return new C(c[0]/c[3],c[1]/c[3])}class E1 extends py{}let I1;Ut("HeatmapBucket",E1,{omit:["layers"]});var KD={get paint(){return I1=I1||new Zr({"heatmap-radius":new ln(ke.paint_heatmap["heatmap-radius"]),"heatmap-weight":new ln(ke.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qt(ke.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Bh(ke.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qt(ke.paint_heatmap["heatmap-opacity"])})}};function _y(l,{width:i,height:c},f,p){if(p){if(p instanceof Uint8ClampedArray)p=new Uint8Array(p.buffer);else if(p.length!==i*c*f)throw new RangeError(`mismatched image size. expected: ${p.length} but got: ${i*c*f}`)}else p=new Uint8Array(i*c*f);return l.width=i,l.height=c,l.data=p,l}function P1(l,{width:i,height:c},f){if(i===l.width&&c===l.height)return;const p=_y({},{width:i,height:c},f);by(l,p,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,i),height:Math.min(l.height,c)},f),l.width=i,l.height=c,l.data=p.data}function by(l,i,c,f,p,b){if(p.width===0||p.height===0)return i;if(p.width>l.width||p.height>l.height||c.x>l.width-p.width||c.y>l.height-p.height)throw new RangeError("out of range source coordinates for image copy");if(p.width>i.width||p.height>i.height||f.x>i.width-p.width||f.y>i.height-p.height)throw new RangeError("out of range destination coordinates for image copy");const S=l.data,A=i.data;if(S===A)throw new Error("srcData equals dstData, so image is already copied");for(let D=0;D<p.height;D++){const F=((c.y+D)*l.width+c.x)*b,V=((f.y+D)*i.width+f.x)*b;for(let q=0;q<p.width*b;q++)A[V+q]=S[F+q]}return i}class Yh{constructor(i,c){_y(this,i,1,c)}resize(i){P1(this,i,1)}clone(){return new Yh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,p,b){by(i,c,f,p,b,1)}}class Ha{constructor(i,c){_y(this,i,4,c)}resize(i){P1(this,i,4)}replace(i,c){c?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Ha({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,p,b){by(i,c,f,p,b,4)}}function D1(l){const i={},c=l.resolution||256,f=l.clips?l.clips.length:1,p=l.image||new Ha({width:c,height:f});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const b=(S,A,D)=>{i[l.evaluationKey]=D;const F=l.expression.evaluate(i);p.data[S+A+0]=Math.floor(255*F.r/F.a),p.data[S+A+1]=Math.floor(255*F.g/F.a),p.data[S+A+2]=Math.floor(255*F.b/F.a),p.data[S+A+3]=Math.floor(255*F.a)};if(l.clips)for(let S=0,A=0;S<f;++S,A+=4*c)for(let D=0,F=0;D<c;D++,F+=4){const V=D/(c-1),{start:q,end:W}=l.clips[S];b(A,F,q*(1-V)+W*V)}else for(let S=0,A=0;S<c;S++,A+=4)b(0,A,S/(c-1));return p}Ut("AlphaImage",Yh),Ut("RGBAImage",Ha);class XD extends Pa{createBucket(i){return new E1(i)}constructor(i){super(i,KD),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=D1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let M1;var JD={get paint(){return M1=M1||new Zr({"hillshade-illumination-direction":new Qt(ke.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qt(ke.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qt(ke.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qt(ke.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qt(ke.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qt(ke.paint_hillshade["hillshade-accent-color"])})}};class QD extends Pa{constructor(i){super(i,JD)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const eM=Pr([{name:"a_pos",components:2,type:"Int16"}],4),{members:tM}=eM;var xy={exports:{}};function yp(l,i,c){c=c||2;var f,p,b,S,A,D,F,V=i&&i.length,q=V?i[0]*c:l.length,W=L1(l,0,q,c,!0),ee=[];if(!W||W.next===W.prev)return ee;if(V&&(W=function(ue,ye,we,Oe){var Te,Be,Ge,ot=[];for(Te=0,Be=ye.length;Te<Be;Te++)(Ge=L1(ue,ye[Te]*Oe,Te<Be-1?ye[Te+1]*Oe:ue.length,Oe,!1))===Ge.next&&(Ge.steiner=!0),ot.push(cM(Ge));for(ot.sort(sM),Te=0;Te<ot.length;Te++)we=oM(ot[Te],we);return we}(l,i,W,c)),l.length>80*c){f=b=l[0],p=S=l[1];for(var ne=c;ne<q;ne+=c)(A=l[ne])<f&&(f=A),(D=l[ne+1])<p&&(p=D),A>b&&(b=A),D>S&&(S=D);F=(F=Math.max(b-f,S-p))!==0?32767/F:0}return Zh(W,ee,c,f,p,F,0),ee}function L1(l,i,c,f,p){var b,S;if(p===ky(l,i,c,f)>0)for(b=i;b<c;b+=f)S=F1(b,l[b],l[b+1],S);else for(b=c-f;b>=i;b-=f)S=F1(b,l[b],l[b+1],S);return S&&_p(S,S.next)&&(Xh(S),S=S.next),S}function Oc(l,i){if(!l)return l;i||(i=l);var c,f=l;do if(c=!1,f.steiner||!_p(f,f.next)&&Xr(f.prev,f,f.next)!==0)f=f.next;else{if(Xh(f),(f=i=f.prev)===f.next)break;c=!0}while(c||f!==i);return i}function Zh(l,i,c,f,p,b,S){if(l){!S&&b&&function(V,q,W,ee){var ne=V;do ne.z===0&&(ne.z=wy(ne.x,ne.y,q,W,ee)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next;while(ne!==V);ne.prevZ.nextZ=null,ne.prevZ=null,function(ue){var ye,we,Oe,Te,Be,Ge,ot,Nt,Zt=1;do{for(we=ue,ue=null,Be=null,Ge=0;we;){for(Ge++,Oe=we,ot=0,ye=0;ye<Zt&&(ot++,Oe=Oe.nextZ);ye++);for(Nt=Zt;ot>0||Nt>0&&Oe;)ot!==0&&(Nt===0||!Oe||we.z<=Oe.z)?(Te=we,we=we.nextZ,ot--):(Te=Oe,Oe=Oe.nextZ,Nt--),Be?Be.nextZ=Te:ue=Te,Te.prevZ=Be,Be=Te;we=Oe}Be.nextZ=null,Zt*=2}while(Ge>1)}(ne)}(l,f,p,b);for(var A,D,F=l;l.prev!==l.next;)if(A=l.prev,D=l.next,b?rM(l,f,p,b):nM(l))i.push(A.i/c|0),i.push(l.i/c|0),i.push(D.i/c|0),Xh(l),l=D.next,F=D.next;else if((l=D)===F){S?S===1?Zh(l=iM(Oc(l),i,c),i,c,f,p,b,2):S===2&&aM(l,i,c,f,p,b):Zh(Oc(l),i,c,f,p,b,1);break}}}function nM(l){var i=l.prev,c=l,f=l.next;if(Xr(i,c,f)>=0)return!1;for(var p=i.x,b=c.x,S=f.x,A=i.y,D=c.y,F=f.y,V=p<b?p<S?p:S:b<S?b:S,q=A<D?A<F?A:F:D<F?D:F,W=p>b?p>S?p:S:b>S?b:S,ee=A>D?A>F?A:F:D>F?D:F,ne=f.next;ne!==i;){if(ne.x>=V&&ne.x<=W&&ne.y>=q&&ne.y<=ee&&ed(p,A,b,D,S,F,ne.x,ne.y)&&Xr(ne.prev,ne,ne.next)>=0)return!1;ne=ne.next}return!0}function rM(l,i,c,f){var p=l.prev,b=l,S=l.next;if(Xr(p,b,S)>=0)return!1;for(var A=p.x,D=b.x,F=S.x,V=p.y,q=b.y,W=S.y,ee=A<D?A<F?A:F:D<F?D:F,ne=V<q?V<W?V:W:q<W?q:W,ue=A>D?A>F?A:F:D>F?D:F,ye=V>q?V>W?V:W:q>W?q:W,we=wy(ee,ne,i,c,f),Oe=wy(ue,ye,i,c,f),Te=l.prevZ,Be=l.nextZ;Te&&Te.z>=we&&Be&&Be.z<=Oe;){if(Te.x>=ee&&Te.x<=ue&&Te.y>=ne&&Te.y<=ye&&Te!==p&&Te!==S&&ed(A,V,D,q,F,W,Te.x,Te.y)&&Xr(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Be.x>=ee&&Be.x<=ue&&Be.y>=ne&&Be.y<=ye&&Be!==p&&Be!==S&&ed(A,V,D,q,F,W,Be.x,Be.y)&&Xr(Be.prev,Be,Be.next)>=0))return!1;Be=Be.nextZ}for(;Te&&Te.z>=we;){if(Te.x>=ee&&Te.x<=ue&&Te.y>=ne&&Te.y<=ye&&Te!==p&&Te!==S&&ed(A,V,D,q,F,W,Te.x,Te.y)&&Xr(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Be&&Be.z<=Oe;){if(Be.x>=ee&&Be.x<=ue&&Be.y>=ne&&Be.y<=ye&&Be!==p&&Be!==S&&ed(A,V,D,q,F,W,Be.x,Be.y)&&Xr(Be.prev,Be,Be.next)>=0)return!1;Be=Be.nextZ}return!0}function iM(l,i,c){var f=l;do{var p=f.prev,b=f.next.next;!_p(p,b)&&R1(p,f,f.next,b)&&Kh(p,b)&&Kh(b,p)&&(i.push(p.i/c|0),i.push(f.i/c|0),i.push(b.i/c|0),Xh(f),Xh(f.next),f=l=b),f=f.next}while(f!==l);return Oc(f)}function aM(l,i,c,f,p,b){var S=l;do{for(var A=S.next.next;A!==S.prev;){if(S.i!==A.i&&uM(S,A)){var D=O1(S,A);return S=Oc(S,S.next),D=Oc(D,D.next),Zh(S,i,c,f,p,b,0),void Zh(D,i,c,f,p,b,0)}A=A.next}S=S.next}while(S!==l)}function sM(l,i){return l.x-i.x}function oM(l,i){var c=function(p,b){var S,A=b,D=p.x,F=p.y,V=-1/0;do{if(F<=A.y&&F>=A.next.y&&A.next.y!==A.y){var q=A.x+(F-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(q<=D&&q>V&&(V=q,S=A.x<A.next.x?A:A.next,q===D))return S}A=A.next}while(A!==b);if(!S)return null;var W,ee=S,ne=S.x,ue=S.y,ye=1/0;A=S;do D>=A.x&&A.x>=ne&&D!==A.x&&ed(F<ue?D:V,F,ne,ue,F<ue?V:D,F,A.x,A.y)&&(W=Math.abs(F-A.y)/(D-A.x),Kh(A,p)&&(W<ye||W===ye&&(A.x>S.x||A.x===S.x&&lM(S,A)))&&(S=A,ye=W)),A=A.next;while(A!==ee);return S}(l,i);if(!c)return i;var f=O1(c,l);return Oc(f,f.next),Oc(c,c.next)}function lM(l,i){return Xr(l.prev,l,i.prev)<0&&Xr(i.next,l,l.next)<0}function wy(l,i,c,f,p){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*p|0)|l<<8))|l<<4))|l<<2))|l<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-f)*p|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function cM(l){var i=l,c=l;do(i.x<c.x||i.x===c.x&&i.y<c.y)&&(c=i),i=i.next;while(i!==l);return c}function ed(l,i,c,f,p,b,S,A){return(p-S)*(i-A)>=(l-S)*(b-A)&&(l-S)*(f-A)>=(c-S)*(i-A)&&(c-S)*(b-A)>=(p-S)*(f-A)}function uM(l,i){return l.next.i!==i.i&&l.prev.i!==i.i&&!function(c,f){var p=c;do{if(p.i!==c.i&&p.next.i!==c.i&&p.i!==f.i&&p.next.i!==f.i&&R1(p,p.next,c,f))return!0;p=p.next}while(p!==c);return!1}(l,i)&&(Kh(l,i)&&Kh(i,l)&&function(c,f){var p=c,b=!1,S=(c.x+f.x)/2,A=(c.y+f.y)/2;do p.y>A!=p.next.y>A&&p.next.y!==p.y&&S<(p.next.x-p.x)*(A-p.y)/(p.next.y-p.y)+p.x&&(b=!b),p=p.next;while(p!==c);return b}(l,i)&&(Xr(l.prev,l,i.prev)||Xr(l,i.prev,i))||_p(l,i)&&Xr(l.prev,l,l.next)>0&&Xr(i.prev,i,i.next)>0)}function Xr(l,i,c){return(i.y-l.y)*(c.x-i.x)-(i.x-l.x)*(c.y-i.y)}function _p(l,i){return l.x===i.x&&l.y===i.y}function R1(l,i,c,f){var p=xp(Xr(l,i,c)),b=xp(Xr(l,i,f)),S=xp(Xr(c,f,l)),A=xp(Xr(c,f,i));return p!==b&&S!==A||!(p!==0||!bp(l,c,i))||!(b!==0||!bp(l,f,i))||!(S!==0||!bp(c,l,f))||!(A!==0||!bp(c,i,f))}function bp(l,i,c){return i.x<=Math.max(l.x,c.x)&&i.x>=Math.min(l.x,c.x)&&i.y<=Math.max(l.y,c.y)&&i.y>=Math.min(l.y,c.y)}function xp(l){return l>0?1:l<0?-1:0}function Kh(l,i){return Xr(l.prev,l,l.next)<0?Xr(l,i,l.next)>=0&&Xr(l,l.prev,i)>=0:Xr(l,i,l.prev)<0||Xr(l,l.next,i)<0}function O1(l,i){var c=new Sy(l.i,l.x,l.y),f=new Sy(i.i,i.x,i.y),p=l.next,b=i.prev;return l.next=i,i.prev=l,c.next=p,p.prev=c,f.next=c,c.prev=f,b.next=f,f.prev=b,f}function F1(l,i,c,f){var p=new Sy(l,i,c);return f?(p.next=f.next,p.prev=f,f.next.prev=p,f.next=p):(p.prev=p,p.next=p),p}function Xh(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function Sy(l,i,c){this.i=l,this.x=i,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function ky(l,i,c,f){for(var p=0,b=i,S=c-f;b<c;b+=f)p+=(l[S]-l[b])*(l[b+1]+l[S+1]),S=b;return p}xy.exports=yp,xy.exports.default=yp,yp.deviation=function(l,i,c,f){var p=i&&i.length,b=Math.abs(ky(l,0,p?i[0]*c:l.length,c));if(p)for(var S=0,A=i.length;S<A;S++)b-=Math.abs(ky(l,i[S]*c,S<A-1?i[S+1]*c:l.length,c));var D=0;for(S=0;S<f.length;S+=3){var F=f[S]*c,V=f[S+1]*c,q=f[S+2]*c;D+=Math.abs((l[F]-l[q])*(l[V+1]-l[F+1])-(l[F]-l[V])*(l[q+1]-l[F+1]))}return b===0&&D===0?0:Math.abs((D-b)/b)},yp.flatten=function(l){for(var i=l[0][0].length,c={vertices:[],holes:[],dimensions:i},f=0,p=0;p<l.length;p++){for(var b=0;b<l[p].length;b++)for(var S=0;S<i;S++)c.vertices.push(l[p][b][S]);p>0&&c.holes.push(f+=l[p-1].length)}return c};var z1=y(xy.exports);function dM(l,i,c,f,p){B1(l,i,c,f||l.length-1,p||hM)}function B1(l,i,c,f,p){for(;f>c;){if(f-c>600){var b=f-c+1,S=i-c+1,A=Math.log(b),D=.5*Math.exp(2*A/3),F=.5*Math.sqrt(A*D*(b-D)/b)*(S-b/2<0?-1:1);B1(l,i,Math.max(c,Math.floor(i-S*D/b+F)),Math.min(f,Math.floor(i+(b-S)*D/b+F)),p)}var V=l[i],q=c,W=f;for(Jh(l,c,i),p(l[f],V)>0&&Jh(l,c,f);q<W;){for(Jh(l,q,W),q++,W--;p(l[q],V)<0;)q++;for(;p(l[W],V)>0;)W--}p(l[c],V)===0?Jh(l,c,W):Jh(l,++W,f),W<=i&&(c=W+1),i<=W&&(f=W-1)}}function Jh(l,i,c){var f=l[i];l[i]=l[c],l[c]=f}function hM(l,i){return l<i?-1:l>i?1:0}function Cy(l,i){const c=l.length;if(c<=1)return[l];const f=[];let p,b;for(let S=0;S<c;S++){const A=Ae(l[S]);A!==0&&(l[S].area=Math.abs(A),b===void 0&&(b=A<0),b===A<0?(p&&f.push(p),p=[l[S]]):p.push(l[S]))}if(p&&f.push(p),i>1)for(let S=0;S<f.length;S++)f[S].length<=i||(dM(f[S],i,1,f[S].length-1,fM),f[S]=f[S].slice(0,i));return f}function fM(l,i){return i.area-l.area}function Ty(l,i,c){const f=c.patternDependencies;let p=!1;for(const b of i){const S=b.paint.get(`${l}-pattern`);S.isConstant()||(p=!0);const A=S.constantOr(null);A&&(p=!0,f[A.to]=!0,f[A.from]=!0)}return p}function Ay(l,i,c,f,p){const b=p.patternDependencies;for(const S of i){const A=S.paint.get(`${l}-pattern`).value;if(A.kind!=="constant"){let D=A.evaluate({zoom:f-1},c,{},p.availableImages),F=A.evaluate({zoom:f},c,{},p.availableImages),V=A.evaluate({zoom:f+1},c,{},p.availableImages);D=D&&D.name?D.name:D,F=F&&F.name?F.name:F,V=V&&V.name?V.name:V,b[D]=!0,b[F]=!0,b[V]=!0,c.patterns[S.id]={min:D,mid:F,max:V}}}return c}class Ey{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pn,this.indexArray=new ki,this.indexArray2=new oi,this.programConfigurations=new Vs(i.layers,i.zoom),this.segments=new br,this.segments2=new br,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Ty("fill",this.layers,c);const p=this.layers[0].layout.get("fill-sort-key"),b=!p.isConstant(),S=[];for(const{feature:A,id:D,index:F,sourceLayerIndex:V}of i){const q=this.layers[0]._featureFilter.needGeometry,W=Rc(A,q);if(!this.layers[0]._featureFilter.filter(new _r(this.zoom),W,f))continue;const ee=b?p.evaluate(W,{},f,c.availableImages):void 0,ne={id:D,properties:A.properties,type:A.type,sourceLayerIndex:V,index:F,geometry:q?W.geometry:Lc(A),patterns:{},sortKey:ee};S.push(ne)}b&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:F,sourceLayerIndex:V}=A;if(this.hasPattern){const q=Ay("fill",this.layers,A,this.zoom,c);this.patternFeatures.push(q)}else this.addFeature(A,D,F,f,{});c.featureIndex.insert(i[F].feature,D,F,V,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const p of this.patternFeatures)this.addFeature(p,p.geometry,p.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,tM),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,c,f,p,b){for(const S of Cy(c,500)){let A=0;for(const ee of S)A+=ee.length;const D=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),F=D.vertexLength,V=[],q=[];for(const ee of S){if(ee.length===0)continue;ee!==S[0]&&q.push(V.length/2);const ne=this.segments2.prepareSegment(ee.length,this.layoutVertexArray,this.indexArray2),ue=ne.vertexLength;this.layoutVertexArray.emplaceBack(ee[0].x,ee[0].y),this.indexArray2.emplaceBack(ue+ee.length-1,ue),V.push(ee[0].x),V.push(ee[0].y);for(let ye=1;ye<ee.length;ye++)this.layoutVertexArray.emplaceBack(ee[ye].x,ee[ye].y),this.indexArray2.emplaceBack(ue+ye-1,ue+ye),V.push(ee[ye].x),V.push(ee[ye].y);ne.vertexLength+=ee.length,ne.primitiveLength+=ee.length}const W=z1(V,q);for(let ee=0;ee<W.length;ee+=3)this.indexArray.emplaceBack(F+W[ee],F+W[ee+1],F+W[ee+2]);D.vertexLength+=A,D.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,b,p)}}let V1,N1;Ut("FillBucket",Ey,{omit:["layers","patternFeatures"]});var mM={get paint(){return N1=N1||new Zr({"fill-antialias":new Qt(ke.paint_fill["fill-antialias"]),"fill-opacity":new ln(ke.paint_fill["fill-opacity"]),"fill-color":new ln(ke.paint_fill["fill-color"]),"fill-outline-color":new ln(ke.paint_fill["fill-outline-color"]),"fill-translate":new Qt(ke.paint_fill["fill-translate"]),"fill-translate-anchor":new Qt(ke.paint_fill["fill-translate-anchor"]),"fill-pattern":new Pc(ke.paint_fill["fill-pattern"])})},get layout(){return V1=V1||new Zr({"fill-sort-key":new ln(ke.layout_fill["fill-sort-key"])})}};class pM extends Pa{constructor(i){super(i,mM)}recalculate(i,c){super.recalculate(i,c);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new Ey(i)}queryRadius(){return pp(this.paint.get("fill-translate"))}queryIntersectsFeature(i,c,f,p,b,S,A){return x1(gp(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,A),p)}isTileClipped(){return!0}}const gM=Pr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),vM=Pr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:yM}=gM;var zl={},_M=w,$1=td;function td(l,i,c,f,p){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=p,l.readFields(bM,this,i)}function bM(l,i,c){l==1?i.id=c.readVarint():l==2?function(f,p){for(var b=f.readVarint()+f.pos;f.pos<b;){var S=p._keys[f.readVarint()],A=p._values[f.readVarint()];p.properties[S]=A}}(c,i):l==3?i.type=c.readVarint():l==4&&(i._geometry=c.pos)}function xM(l){for(var i,c,f=0,p=0,b=l.length,S=b-1;p<b;S=p++)f+=((c=l[S]).x-(i=l[p]).x)*(i.y+c.y);return f}td.types=["Unknown","Point","LineString","Polygon"],td.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var i,c=l.readVarint()+l.pos,f=1,p=0,b=0,S=0,A=[];l.pos<c;){if(p<=0){var D=l.readVarint();f=7&D,p=D>>3}if(p--,f===1||f===2)b+=l.readSVarint(),S+=l.readSVarint(),f===1&&(i&&A.push(i),i=[]),i.push(new _M(b,S));else{if(f!==7)throw new Error("unknown command "+f);i&&i.push(i[0].clone())}}return i&&A.push(i),A},td.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var i=l.readVarint()+l.pos,c=1,f=0,p=0,b=0,S=1/0,A=-1/0,D=1/0,F=-1/0;l.pos<i;){if(f<=0){var V=l.readVarint();c=7&V,f=V>>3}if(f--,c===1||c===2)(p+=l.readSVarint())<S&&(S=p),p>A&&(A=p),(b+=l.readSVarint())<D&&(D=b),b>F&&(F=b);else if(c!==7)throw new Error("unknown command "+c)}return[S,D,A,F]},td.prototype.toGeoJSON=function(l,i,c){var f,p,b=this.extent*Math.pow(2,c),S=this.extent*l,A=this.extent*i,D=this.loadGeometry(),F=td.types[this.type];function V(ee){for(var ne=0;ne<ee.length;ne++){var ue=ee[ne];ee[ne]=[360*(ue.x+S)/b-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+A)/b)*Math.PI/180))-90]}}switch(this.type){case 1:var q=[];for(f=0;f<D.length;f++)q[f]=D[f][0];V(D=q);break;case 2:for(f=0;f<D.length;f++)V(D[f]);break;case 3:for(D=function(ee){var ne=ee.length;if(ne<=1)return[ee];for(var ue,ye,we=[],Oe=0;Oe<ne;Oe++){var Te=xM(ee[Oe]);Te!==0&&(ye===void 0&&(ye=Te<0),ye===Te<0?(ue&&we.push(ue),ue=[ee[Oe]]):ue.push(ee[Oe]))}return ue&&we.push(ue),we}(D),f=0;f<D.length;f++)for(p=0;p<D[f].length;p++)V(D[f][p])}D.length===1?D=D[0]:F="Multi"+F;var W={type:"Feature",geometry:{type:F,coordinates:D},properties:this.properties};return"id"in this&&(W.id=this.id),W};var wM=$1,U1=q1;function q1(l,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(SM,this,i),this.length=this._features.length}function SM(l,i,c){l===15?i.version=c.readVarint():l===1?i.name=c.readString():l===5?i.extent=c.readVarint():l===2?i._features.push(c.pos):l===3?i._keys.push(c.readString()):l===4&&i._values.push(function(f){for(var p=null,b=f.readVarint()+f.pos;f.pos<b;){var S=f.readVarint()>>3;p=S===1?f.readString():S===2?f.readFloat():S===3?f.readDouble():S===4?f.readVarint64():S===5?f.readVarint():S===6?f.readSVarint():S===7?f.readBoolean():null}return p}(c))}q1.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var i=this._pbf.readVarint()+this._pbf.pos;return new wM(this._pbf,i,this.extent,this._keys,this._values)};var kM=U1;function CM(l,i,c){if(l===3){var f=new kM(c,c.readVarint()+c.pos);f.length&&(i[f.name]=f)}}zl.VectorTile=function(l,i){this.layers=l.readFields(CM,{},i)},zl.VectorTileFeature=$1,zl.VectorTileLayer=U1;const TM=zl.VectorTileFeature.types,Iy=Math.pow(2,13);function Qh(l,i,c,f,p,b,S,A){l.emplaceBack(i,c,2*Math.floor(f*Iy)+S,p*Iy*2,b*Iy*2,Math.round(A))}class Py{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ot,this.centroidVertexArray=new Et,this.indexArray=new ki,this.programConfigurations=new Vs(i.layers,i.zoom),this.segments=new br,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.features=[],this.hasPattern=Ty("fill-extrusion",this.layers,c);for(const{feature:p,id:b,index:S,sourceLayerIndex:A}of i){const D=this.layers[0]._featureFilter.needGeometry,F=Rc(p,D);if(!this.layers[0]._featureFilter.filter(new _r(this.zoom),F,f))continue;const V={id:b,sourceLayerIndex:A,index:S,geometry:D?F.geometry:Lc(p),properties:p.properties,type:p.type,patterns:{}};this.hasPattern?this.features.push(Ay("fill-extrusion",this.layers,V,this.zoom,c)):this.addFeature(V,V.geometry,S,f,{}),c.featureIndex.insert(p,V.geometry,S,A,this.index,!0)}}addFeatures(i,c,f){for(const p of this.features){const{geometry:b}=p;this.addFeature(p,b,p.index,c,f)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,yM),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,vM.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,c,f,p,b){const S={x:0,y:0,vertexCount:0};for(const A of Cy(c,500)){let D=0;for(const ne of A)D+=ne.length;let F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ne of A){if(ne.length===0||EM(ne))continue;let ue=0;for(let ye=0;ye<ne.length;ye++){const we=ne[ye];if(ye>=1){const Oe=ne[ye-1];if(!AM(we,Oe)){F.vertexLength+4>br.MAX_VERTEX_ARRAY_LENGTH&&(F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Te=we.sub(Oe)._perp()._unit(),Be=Oe.dist(we);ue+Be>32768&&(ue=0),Qh(this.layoutVertexArray,we.x,we.y,Te.x,Te.y,0,0,ue),Qh(this.layoutVertexArray,we.x,we.y,Te.x,Te.y,0,1,ue),S.x+=2*we.x,S.y+=2*we.y,S.vertexCount+=2,ue+=Be,Qh(this.layoutVertexArray,Oe.x,Oe.y,Te.x,Te.y,0,0,ue),Qh(this.layoutVertexArray,Oe.x,Oe.y,Te.x,Te.y,0,1,ue),S.x+=2*Oe.x,S.y+=2*Oe.y,S.vertexCount+=2;const Ge=F.vertexLength;this.indexArray.emplaceBack(Ge,Ge+2,Ge+1),this.indexArray.emplaceBack(Ge+1,Ge+2,Ge+3),F.vertexLength+=4,F.primitiveLength+=2}}}}if(F.vertexLength+D>br.MAX_VERTEX_ARRAY_LENGTH&&(F=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray)),TM[i.type]!=="Polygon")continue;const V=[],q=[],W=F.vertexLength;for(const ne of A)if(ne.length!==0){ne!==A[0]&&q.push(V.length/2);for(let ue=0;ue<ne.length;ue++){const ye=ne[ue];Qh(this.layoutVertexArray,ye.x,ye.y,0,0,1,1,0),S.x+=ye.x,S.y+=ye.y,S.vertexCount+=1,V.push(ye.x),V.push(ye.y)}}const ee=z1(V,q);for(let ne=0;ne<ee.length;ne+=3)this.indexArray.emplaceBack(W+ee[ne],W+ee[ne+2],W+ee[ne+1]);F.primitiveLength+=ee.length/3,F.vertexLength+=D}for(let A=0;A<S.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(S.x/S.vertexCount),Math.floor(S.y/S.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,b,p)}}function AM(l,i){return l.x===i.x&&(l.x<0||l.x>ti)||l.y===i.y&&(l.y<0||l.y>ti)}function EM(l){return l.every(i=>i.x<0)||l.every(i=>i.x>ti)||l.every(i=>i.y<0)||l.every(i=>i.y>ti)}let j1;Ut("FillExtrusionBucket",Py,{omit:["layers","features"]});var IM={get paint(){return j1=j1||new Zr({"fill-extrusion-opacity":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new ln(ke["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Pc(ke["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new ln(ke["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new ln(ke["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class PM extends Pa{constructor(i){super(i,IM)}createBucket(i){return new Py(i)}queryRadius(){return pp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,c,f,p,b,S,A,D){const F=gp(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,A),V=this.paint.get("fill-extrusion-height").evaluate(c,f),q=this.paint.get("fill-extrusion-base").evaluate(c,f),W=function(ne,ue,ye,we){const Oe=[];for(const Te of ne){const Be=[Te.x,Te.y,0,1];vp(Be,Be,ue),Oe.push(new C(Be[0]/Be[3],Be[1]/Be[3]))}return Oe}(F,D),ee=function(ne,ue,ye,we){const Oe=[],Te=[],Be=we[8]*ue,Ge=we[9]*ue,ot=we[10]*ue,Nt=we[11]*ue,Zt=we[8]*ye,Bt=we[9]*ye,Ft=we[10]*ye,Dt=we[11]*ye;for(const qt of ne){const Mt=[],wt=[];for(const nn of qt){const Xt=nn.x,An=nn.y,xr=we[0]*Xt+we[4]*An+we[12],Cr=we[1]*Xt+we[5]*An+we[13],ui=we[2]*Xt+we[6]*An+we[14],Ma=we[3]*Xt+we[7]*An+we[15],ra=ui+ot,ni=Ma+Nt,Ti=xr+Zt,Fi=Cr+Bt,ia=ui+Ft,aa=Ma+Dt,di=new C((xr+Be)/ni,(Cr+Ge)/ni);di.z=ra/ni,Mt.push(di);const hi=new C(Ti/aa,Fi/aa);hi.z=ia/aa,wt.push(hi)}Oe.push(Mt),Te.push(wt)}return[Oe,Te]}(p,q,V,D);return function(ne,ue,ye){let we=1/0;x1(ye,ue)&&(we=H1(ye,ue[0]));for(let Oe=0;Oe<ue.length;Oe++){const Te=ue[Oe],Be=ne[Oe];for(let Ge=0;Ge<Te.length-1;Ge++){const ot=Te[Ge],Nt=[ot,Te[Ge+1],Be[Ge+1],Be[Ge],ot];b1(ye,Nt)&&(we=Math.min(we,H1(ye,Nt)))}}return we!==1/0&&we}(ee[0],ee[1],W)}}function ef(l,i){return l.x*i.x+l.y*i.y}function H1(l,i){if(l.length===1){let c=0;const f=i[c++];let p;for(;!p||f.equals(p);)if(p=i[c++],!p)return 1/0;for(;c<i.length;c++){const b=i[c],S=l[0],A=p.sub(f),D=b.sub(f),F=S.sub(f),V=ef(A,A),q=ef(A,D),W=ef(D,D),ee=ef(F,A),ne=ef(F,D),ue=V*W-q*q,ye=(W*ee-q*ne)/ue,we=(V*ne-q*ee)/ue,Oe=f.z*(1-ye-we)+p.z*ye+b.z*we;if(isFinite(Oe))return Oe}return 1/0}{let c=1/0;for(const f of i)c=Math.min(c,f.z);return c}}const DM=Pr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:MM}=DM,LM=Pr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:RM}=LM,OM=zl.VectorTileFeature.types,FM=Math.cos(Math.PI/180*37.5),G1=Math.pow(2,14)/.5;class Dy{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new cn,this.layoutVertexArray2=new Kt,this.indexArray=new ki,this.programConfigurations=new Vs(i.layers,i.zoom),this.segments=new br,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Ty("line",this.layers,c);const p=this.layers[0].layout.get("line-sort-key"),b=!p.isConstant(),S=[];for(const{feature:A,id:D,index:F,sourceLayerIndex:V}of i){const q=this.layers[0]._featureFilter.needGeometry,W=Rc(A,q);if(!this.layers[0]._featureFilter.filter(new _r(this.zoom),W,f))continue;const ee=b?p.evaluate(W,{},f):void 0,ne={id:D,properties:A.properties,type:A.type,sourceLayerIndex:V,index:F,geometry:q?W.geometry:Lc(A),patterns:{},sortKey:ee};S.push(ne)}b&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:F,sourceLayerIndex:V}=A;if(this.hasPattern){const q=Ay("line",this.layers,A,this.zoom,c);this.patternFeatures.push(q)}else this.addFeature(A,D,F,f,{});c.featureIndex.insert(i[F].feature,D,F,V,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const p of this.patternFeatures)this.addFeature(p,p.geometry,p.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,RM)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,MM),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,c,f,p,b){const S=this.layers[0].layout,A=S.get("line-join").evaluate(i,{}),D=S.get("line-cap"),F=S.get("line-miter-limit"),V=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const q of c)this.addLine(q,i,A,D,F,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,b,p)}addLine(i,c,f,p,b,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let we=0;we<i.length-1;we++)this.totalDistance+=i[we].dist(i[we+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=OM[c.type]==="Polygon";let D=i.length;for(;D>=2&&i[D-1].equals(i[D-2]);)D--;let F=0;for(;F<D-1&&i[F].equals(i[F+1]);)F++;if(D<(A?3:2))return;f==="bevel"&&(b=1.05);const V=this.overscaling<=16?15*ti/(512*this.overscaling):0,q=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray);let W,ee,ne,ue,ye;this.e1=this.e2=-1,A&&(W=i[D-2],ye=i[F].sub(W)._unit()._perp());for(let we=F;we<D;we++){if(ne=we===D-1?A?i[F+1]:void 0:i[we+1],ne&&i[we].equals(ne))continue;ye&&(ue=ye),W&&(ee=W),W=i[we],ye=ne?ne.sub(W)._unit()._perp():ue,ue=ue||ye;let Oe=ue.add(ye);Oe.x===0&&Oe.y===0||Oe._unit();const Te=ue.x*ye.x+ue.y*ye.y,Be=Oe.x*ye.x+Oe.y*ye.y,Ge=Be!==0?1/Be:1/0,ot=2*Math.sqrt(2-2*Be),Nt=Be<FM&&ee&&ne,Zt=ue.x*ye.y-ue.y*ye.x>0;if(Nt&&we>F){const Dt=W.dist(ee);if(Dt>2*V){const qt=W.sub(W.sub(ee)._mult(V/Dt)._round());this.updateDistance(ee,qt),this.addCurrentVertex(qt,ue,0,0,q),ee=qt}}const Bt=ee&&ne;let Ft=Bt?f:A?"butt":p;if(Bt&&Ft==="round"&&(Ge<S?Ft="miter":Ge<=2&&(Ft="fakeround")),Ft==="miter"&&Ge>b&&(Ft="bevel"),Ft==="bevel"&&(Ge>2&&(Ft="flipbevel"),Ge<b&&(Ft="miter")),ee&&this.updateDistance(ee,W),Ft==="miter")Oe._mult(Ge),this.addCurrentVertex(W,Oe,0,0,q);else if(Ft==="flipbevel"){if(Ge>100)Oe=ye.mult(-1);else{const Dt=Ge*ue.add(ye).mag()/ue.sub(ye).mag();Oe._perp()._mult(Dt*(Zt?-1:1))}this.addCurrentVertex(W,Oe,0,0,q),this.addCurrentVertex(W,Oe.mult(-1),0,0,q)}else if(Ft==="bevel"||Ft==="fakeround"){const Dt=-Math.sqrt(Ge*Ge-1),qt=Zt?Dt:0,Mt=Zt?0:Dt;if(ee&&this.addCurrentVertex(W,ue,qt,Mt,q),Ft==="fakeround"){const wt=Math.round(180*ot/Math.PI/20);for(let nn=1;nn<wt;nn++){let Xt=nn/wt;if(Xt!==.5){const xr=Xt-.5;Xt+=Xt*xr*(Xt-1)*((1.0904+Te*(Te*(3.55645-1.43519*Te)-3.2452))*xr*xr+(.848013+Te*(.215638*Te-1.06021)))}const An=ye.sub(ue)._mult(Xt)._add(ue)._unit()._mult(Zt?-1:1);this.addHalfVertex(W,An.x,An.y,!1,Zt,0,q)}}ne&&this.addCurrentVertex(W,ye,-qt,-Mt,q)}else if(Ft==="butt")this.addCurrentVertex(W,Oe,0,0,q);else if(Ft==="square"){const Dt=ee?1:-1;this.addCurrentVertex(W,Oe,Dt,Dt,q)}else Ft==="round"&&(ee&&(this.addCurrentVertex(W,ue,0,0,q),this.addCurrentVertex(W,ue,1,1,q,!0)),ne&&(this.addCurrentVertex(W,ye,-1,-1,q,!0),this.addCurrentVertex(W,ye,0,0,q)));if(Nt&&we<D-1){const Dt=W.dist(ne);if(Dt>2*V){const qt=W.add(ne.sub(W)._mult(V/Dt)._round());this.updateDistance(W,qt),this.addCurrentVertex(qt,ye,0,0,q),W=qt}}}}addCurrentVertex(i,c,f,p,b,S=!1){const A=c.y*p-c.x,D=-c.y-c.x*p;this.addHalfVertex(i,c.x+c.y*f,c.y-c.x*f,S,!1,f,b),this.addHalfVertex(i,A,D,S,!0,-p,b),this.distance>G1/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,c,f,p,b,S))}addHalfVertex({x:i,y:c},f,p,b,S,A,D){const F=.5*(this.lineClips?this.scaledDistance*(G1-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(b?1:0),(c<<1)+(S?1:0),Math.round(63*f)+128,Math.round(63*p)+128,1+(A===0?0:A<0?-1:1)|(63&F)<<2,F>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const V=D.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,V),D.primitiveLength++),S?this.e2=V:this.e1=V}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,c){this.distance+=i.dist(c),this.updateScaledDistance()}}let W1,Y1;Ut("LineBucket",Dy,{omit:["layers","patternFeatures"]});var Z1={get paint(){return Y1=Y1||new Zr({"line-opacity":new ln(ke.paint_line["line-opacity"]),"line-color":new ln(ke.paint_line["line-color"]),"line-translate":new Qt(ke.paint_line["line-translate"]),"line-translate-anchor":new Qt(ke.paint_line["line-translate-anchor"]),"line-width":new ln(ke.paint_line["line-width"]),"line-gap-width":new ln(ke.paint_line["line-gap-width"]),"line-offset":new ln(ke.paint_line["line-offset"]),"line-blur":new ln(ke.paint_line["line-blur"]),"line-dasharray":new zh(ke.paint_line["line-dasharray"]),"line-pattern":new Pc(ke.paint_line["line-pattern"]),"line-gradient":new Bh(ke.paint_line["line-gradient"])})},get layout(){return W1=W1||new Zr({"line-cap":new Qt(ke.layout_line["line-cap"]),"line-join":new ln(ke.layout_line["line-join"]),"line-miter-limit":new Qt(ke.layout_line["line-miter-limit"]),"line-round-limit":new Qt(ke.layout_line["line-round-limit"]),"line-sort-key":new ln(ke.layout_line["line-sort-key"])})}};class zM extends ln{possiblyEvaluate(i,c){return c=new _r(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(i,c)}evaluate(i,c,f,p){return c=H({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(i,c,f,p)}}let wp;class BM extends Pa{constructor(i){super(i,Z1),this.gradientVersion=0,wp||(wp=new zM(Z1.paint.properties["line-width"].specification),wp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof ho,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,c){super.recalculate(i,c),this.paint._values["line-floorwidth"]=wp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new Dy(i)}queryRadius(i){const c=i,f=K1(Gh("line-width",this,c),Gh("line-gap-width",this,c)),p=Gh("line-offset",this,c);return f/2+Math.abs(p)+pp(this.paint.get("line-translate"))}queryIntersectsFeature(i,c,f,p,b,S,A){const D=gp(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,A),F=A/2*K1(this.paint.get("line-width").evaluate(c,f),this.paint.get("line-gap-width").evaluate(c,f)),V=this.paint.get("line-offset").evaluate(c,f);return V&&(p=function(q,W){const ee=[];for(let ne=0;ne<q.length;ne++){const ue=q[ne],ye=[];for(let we=0;we<ue.length;we++){const Oe=ue[we-1],Te=ue[we],Be=ue[we+1],Ge=we===0?new C(0,0):Te.sub(Oe)._unit()._perp(),ot=we===ue.length-1?new C(0,0):Be.sub(Te)._unit()._perp(),Nt=Ge._add(ot)._unit(),Zt=Nt.x*ot.x+Nt.y*ot.y;Zt!==0&&Nt._mult(1/Zt),ye.push(Nt._mult(W)._add(Te))}ee.push(ye)}return ee}(p,V*A)),function(q,W,ee){for(let ne=0;ne<W.length;ne++){const ue=W[ne];if(q.length>=3){for(let ye=0;ye<ue.length;ye++)if(Ju(q,ue[ye]))return!0}if(jD(q,ue,ee))return!0}return!1}(D,p,F)}isTileClipped(){return!0}}function K1(l,i){return i>0?i+2*l:l}const VM=Pr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),NM=Pr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Pr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const $M=Pr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Pr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const X1=Pr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),UM=Pr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function qM(l,i,c){return l.sections.forEach(f=>{f.text=function(p,b,S){const A=b.layout.get("text-transform").evaluate(S,{});return A==="uppercase"?p=p.toLocaleUpperCase():A==="lowercase"&&(p=p.toLocaleLowerCase()),ya.applyArabicShaping&&(p=ya.applyArabicShaping(p)),p}(f.text,i,c)}),l}Pr([{name:"triangle",components:3,type:"Uint16"}]),Pr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Pr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Pr([{type:"Float32",name:"offsetX"}]),Pr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Pr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const tf={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ci=24,J1=or,Q1=function(l,i,c,f,p){var b,S,A=8*p-f-1,D=(1<<A)-1,F=D>>1,V=-7,q=p-1,W=-1,ee=l[i+q];for(q+=W,b=ee&(1<<-V)-1,ee>>=-V,V+=A;V>0;b=256*b+l[i+q],q+=W,V-=8);for(S=b&(1<<-V)-1,b>>=-V,V+=f;V>0;S=256*S+l[i+q],q+=W,V-=8);if(b===0)b=1-F;else{if(b===D)return S?NaN:1/0*(ee?-1:1);S+=Math.pow(2,f),b-=F}return(ee?-1:1)*S*Math.pow(2,b-f)},ew=function(l,i,c,f,p,b){var S,A,D,F=8*b-p-1,V=(1<<F)-1,q=V>>1,W=p===23?Math.pow(2,-24)-Math.pow(2,-77):0,ee=0,ne=1,ue=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(A=isNaN(i)?1:0,S=V):(S=Math.floor(Math.log(i)/Math.LN2),i*(D=Math.pow(2,-S))<1&&(S--,D*=2),(i+=S+q>=1?W/D:W*Math.pow(2,1-q))*D>=2&&(S++,D/=2),S+q>=V?(A=0,S=V):S+q>=1?(A=(i*D-1)*Math.pow(2,p),S+=q):(A=i*Math.pow(2,q-1)*Math.pow(2,p),S=0));p>=8;l[c+ee]=255&A,ee+=ne,A/=256,p-=8);for(S=S<<p|A,F+=p;F>0;l[c+ee]=255&S,ee+=ne,S/=256,F-=8);l[c+ee-ne]|=128*ue};function or(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}or.Varint=0,or.Fixed64=1,or.Bytes=2,or.Fixed32=5;var My=4294967296,tw=1/My,nw=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ko(l){return l.type===or.Bytes?l.readVarint()+l.pos:l.pos+1}function nd(l,i,c){return c?4294967296*i+(l>>>0):4294967296*(i>>>0)+(l>>>0)}function rw(l,i,c){var f=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));c.realloc(f);for(var p=c.pos-1;p>=l;p--)c.buf[p+f]=c.buf[p]}function jM(l,i){for(var c=0;c<l.length;c++)i.writeVarint(l[c])}function HM(l,i){for(var c=0;c<l.length;c++)i.writeSVarint(l[c])}function GM(l,i){for(var c=0;c<l.length;c++)i.writeFloat(l[c])}function WM(l,i){for(var c=0;c<l.length;c++)i.writeDouble(l[c])}function YM(l,i){for(var c=0;c<l.length;c++)i.writeBoolean(l[c])}function ZM(l,i){for(var c=0;c<l.length;c++)i.writeFixed32(l[c])}function KM(l,i){for(var c=0;c<l.length;c++)i.writeSFixed32(l[c])}function XM(l,i){for(var c=0;c<l.length;c++)i.writeFixed64(l[c])}function JM(l,i){for(var c=0;c<l.length;c++)i.writeSFixed64(l[c])}function Sp(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+16777216*l[i+3]}function rd(l,i,c){l[c]=i,l[c+1]=i>>>8,l[c+2]=i>>>16,l[c+3]=i>>>24}function iw(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+(l[i+3]<<24)}or.prototype={destroy:function(){this.buf=null},readFields:function(l,i,c){for(c=c||this.length;this.pos<c;){var f=this.readVarint(),p=f>>3,b=this.pos;this.type=7&f,l(p,i,this),this.pos===b&&this.skip(f)}return i},readMessage:function(l,i){return this.readFields(l,i,this.readVarint()+this.pos)},readFixed32:function(){var l=Sp(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=iw(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=Sp(this.buf,this.pos)+Sp(this.buf,this.pos+4)*My;return this.pos+=8,l},readSFixed64:function(){var l=Sp(this.buf,this.pos)+iw(this.buf,this.pos+4)*My;return this.pos+=8,l},readFloat:function(){var l=Q1(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=Q1(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var i,c,f=this.buf;return i=127&(c=f[this.pos++]),c<128?i:(i|=(127&(c=f[this.pos++]))<<7,c<128?i:(i|=(127&(c=f[this.pos++]))<<14,c<128?i:(i|=(127&(c=f[this.pos++]))<<21,c<128?i:function(p,b,S){var A,D,F=S.buf;if(A=(112&(D=F[S.pos++]))>>4,D<128||(A|=(127&(D=F[S.pos++]))<<3,D<128)||(A|=(127&(D=F[S.pos++]))<<10,D<128)||(A|=(127&(D=F[S.pos++]))<<17,D<128)||(A|=(127&(D=F[S.pos++]))<<24,D<128)||(A|=(1&(D=F[S.pos++]))<<31,D<128))return nd(p,A,b);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(c=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,i=this.pos;return this.pos=l,l-i>=12&&nw?function(c,f,p){return nw.decode(c.subarray(f,p))}(this.buf,i,l):function(c,f,p){for(var b="",S=f;S<p;){var A,D,F,V=c[S],q=null,W=V>239?4:V>223?3:V>191?2:1;if(S+W>p)break;W===1?V<128&&(q=V):W===2?(192&(A=c[S+1]))==128&&(q=(31&V)<<6|63&A)<=127&&(q=null):W===3?(D=c[S+2],(192&(A=c[S+1]))==128&&(192&D)==128&&((q=(15&V)<<12|(63&A)<<6|63&D)<=2047||q>=55296&&q<=57343)&&(q=null)):W===4&&(D=c[S+2],F=c[S+3],(192&(A=c[S+1]))==128&&(192&D)==128&&(192&F)==128&&((q=(15&V)<<18|(63&A)<<12|(63&D)<<6|63&F)<=65535||q>=1114112)&&(q=null)),q===null?(q=65533,W=1):q>65535&&(q-=65536,b+=String.fromCharCode(q>>>10&1023|55296),q=56320|1023&q),b+=String.fromCharCode(q),S+=W}return b}(this.buf,i,l)},readBytes:function(){var l=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,l);return this.pos=l,i},readPackedVarint:function(l,i){if(this.type!==or.Bytes)return l.push(this.readVarint(i));var c=Ko(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(i));return l},readPackedSVarint:function(l){if(this.type!==or.Bytes)return l.push(this.readSVarint());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==or.Bytes)return l.push(this.readBoolean());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==or.Bytes)return l.push(this.readFloat());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==or.Bytes)return l.push(this.readDouble());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==or.Bytes)return l.push(this.readFixed32());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==or.Bytes)return l.push(this.readSFixed32());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==or.Bytes)return l.push(this.readFixed64());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==or.Bytes)return l.push(this.readSFixed64());var i=Ko(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed64());return l},skip:function(l){var i=7&l;if(i===or.Varint)for(;this.buf[this.pos++]>127;);else if(i===or.Bytes)this.pos=this.readVarint()+this.pos;else if(i===or.Fixed32)this.pos+=4;else{if(i!==or.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(l,i){this.writeVarint(l<<3|i)},realloc:function(l){for(var i=this.length||16;i<this.pos+l;)i*=2;if(i!==this.length){var c=new Uint8Array(i);c.set(this.buf),this.buf=c,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),rd(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),rd(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),rd(this.buf,-1&l,this.pos),rd(this.buf,Math.floor(l*tw),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),rd(this.buf,-1&l,this.pos),rd(this.buf,Math.floor(l*tw),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(i,c){var f,p;if(i>=0?(f=i%4294967296|0,p=i/4294967296|0):(p=~(-i/4294967296),4294967295^(f=~(-i%4294967296))?f=f+1|0:(f=0,p=p+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(b,S,A){A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,b>>>=7,A.buf[A.pos++]=127&b|128,A.buf[A.pos]=127&(b>>>=7)}(f,0,c),function(b,S){var A=(7&b)<<4;S.buf[S.pos++]|=A|((b>>>=3)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b|((b>>>=7)?128:0),b&&(S.buf[S.pos++]=127&b)))))}(p,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var i=this.pos;this.pos=function(f,p,b){for(var S,A,D=0;D<p.length;D++){if((S=p.charCodeAt(D))>55295&&S<57344){if(!A){S>56319||D+1===p.length?(f[b++]=239,f[b++]=191,f[b++]=189):A=S;continue}if(S<56320){f[b++]=239,f[b++]=191,f[b++]=189,A=S;continue}S=A-55296<<10|S-56320|65536,A=null}else A&&(f[b++]=239,f[b++]=191,f[b++]=189,A=null);S<128?f[b++]=S:(S<2048?f[b++]=S>>6|192:(S<65536?f[b++]=S>>12|224:(f[b++]=S>>18|240,f[b++]=S>>12&63|128),f[b++]=S>>6&63|128),f[b++]=63&S|128)}return b}(this.buf,l,this.pos);var c=this.pos-i;c>=128&&rw(i,c,this),this.pos=i-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),ew(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),ew(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var i=l.length;this.writeVarint(i),this.realloc(i);for(var c=0;c<i;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,i){this.pos++;var c=this.pos;l(i,this);var f=this.pos-c;f>=128&&rw(c,f,this),this.pos=c-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,i,c){this.writeTag(l,or.Bytes),this.writeRawMessage(i,c)},writePackedVarint:function(l,i){i.length&&this.writeMessage(l,jM,i)},writePackedSVarint:function(l,i){i.length&&this.writeMessage(l,HM,i)},writePackedBoolean:function(l,i){i.length&&this.writeMessage(l,YM,i)},writePackedFloat:function(l,i){i.length&&this.writeMessage(l,GM,i)},writePackedDouble:function(l,i){i.length&&this.writeMessage(l,WM,i)},writePackedFixed32:function(l,i){i.length&&this.writeMessage(l,ZM,i)},writePackedSFixed32:function(l,i){i.length&&this.writeMessage(l,KM,i)},writePackedFixed64:function(l,i){i.length&&this.writeMessage(l,XM,i)},writePackedSFixed64:function(l,i){i.length&&this.writeMessage(l,JM,i)},writeBytesField:function(l,i){this.writeTag(l,or.Bytes),this.writeBytes(i)},writeFixed32Field:function(l,i){this.writeTag(l,or.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(l,i){this.writeTag(l,or.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(l,i){this.writeTag(l,or.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(l,i){this.writeTag(l,or.Fixed64),this.writeSFixed64(i)},writeVarintField:function(l,i){this.writeTag(l,or.Varint),this.writeVarint(i)},writeSVarintField:function(l,i){this.writeTag(l,or.Varint),this.writeSVarint(i)},writeStringField:function(l,i){this.writeTag(l,or.Bytes),this.writeString(i)},writeFloatField:function(l,i){this.writeTag(l,or.Fixed32),this.writeFloat(i)},writeDoubleField:function(l,i){this.writeTag(l,or.Fixed64),this.writeDouble(i)},writeBooleanField:function(l,i){this.writeVarintField(l,!!i)}};var Ly=y(J1);const Ry=3;function QM(l,i,c){l===1&&c.readMessage(eL,i)}function eL(l,i,c){if(l===3){const{id:f,bitmap:p,width:b,height:S,left:A,top:D,advance:F}=c.readMessage(tL,{});i.push({id:f,bitmap:new Yh({width:b+2*Ry,height:S+2*Ry},p),metrics:{width:b,height:S,left:A,top:D,advance:F}})}}function tL(l,i,c){l===1?i.id=c.readVarint():l===2?i.bitmap=c.readBytes():l===3?i.width=c.readVarint():l===4?i.height=c.readVarint():l===5?i.left=c.readSVarint():l===6?i.top=c.readSVarint():l===7&&(i.advance=c.readVarint())}const aw=Ry;function sw(l){let i=0,c=0;for(const S of l)i+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,A)=>A.h-S.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),c),h:1/0}];let p=0,b=0;for(const S of l)for(let A=f.length-1;A>=0;A--){const D=f[A];if(!(S.w>D.w||S.h>D.h)){if(S.x=D.x,S.y=D.y,b=Math.max(b,S.y+S.h),p=Math.max(p,S.x+S.w),S.w===D.w&&S.h===D.h){const F=f.pop();A<f.length&&(f[A]=F)}else S.h===D.h?(D.x+=S.w,D.w-=S.w):S.w===D.w?(D.y+=S.h,D.h-=S.h):(f.push({x:D.x+S.w,y:D.y,w:D.w-S.w,h:S.h}),D.y+=S.h,D.h-=S.h);break}}return{w:p,h:b,fill:i/(p*b)||0}}const ba=1;class Oy{constructor(i,{pixelRatio:c,version:f,stretchX:p,stretchY:b,content:S}){this.paddedRect=i,this.pixelRatio=c,this.stretchX=p,this.stretchY=b,this.content=S,this.version=f}get tl(){return[this.paddedRect.x+ba,this.paddedRect.y+ba]}get br(){return[this.paddedRect.x+this.paddedRect.w-ba,this.paddedRect.y+this.paddedRect.h-ba]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*ba)/this.pixelRatio,(this.paddedRect.h-2*ba)/this.pixelRatio]}}class ow{constructor(i,c){const f={},p={};this.haveRenderCallbacks=[];const b=[];this.addImages(i,f,b),this.addImages(c,p,b);const{w:S,h:A}=sw(b),D=new Ha({width:S||1,height:A||1});for(const F in i){const V=i[F],q=f[F].paddedRect;Ha.copy(V.data,D,{x:0,y:0},{x:q.x+ba,y:q.y+ba},V.data)}for(const F in c){const V=c[F],q=p[F].paddedRect,W=q.x+ba,ee=q.y+ba,ne=V.data.width,ue=V.data.height;Ha.copy(V.data,D,{x:0,y:0},{x:W,y:ee},V.data),Ha.copy(V.data,D,{x:0,y:ue-1},{x:W,y:ee-1},{width:ne,height:1}),Ha.copy(V.data,D,{x:0,y:0},{x:W,y:ee+ue},{width:ne,height:1}),Ha.copy(V.data,D,{x:ne-1,y:0},{x:W-1,y:ee},{width:1,height:ue}),Ha.copy(V.data,D,{x:0,y:0},{x:W+ne,y:ee},{width:1,height:ue})}this.image=D,this.iconPositions=f,this.patternPositions=p}addImages(i,c,f){for(const p in i){const b=i[p],S={x:0,y:0,w:b.data.width+2*ba,h:b.data.height+2*ba};f.push(S),c[p]=new Oy(S,b),b.hasRenderCallback&&this.haveRenderCallbacks.push(p)}}patchUpdatedImages(i,c){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in i.updatedImages)this.patchUpdatedImage(this.iconPositions[f],i.getImage(f),c),this.patchUpdatedImage(this.patternPositions[f],i.getImage(f),c)}patchUpdatedImage(i,c,f){if(!i||!c||i.version===c.version)return;i.version=c.version;const[p,b]=i.tl;f.update(c.data,void 0,{x:p,y:b})}}var Bl;Ut("ImagePosition",Oy),Ut("ImageAtlas",ow),o.ai=void 0,(Bl=o.ai||(o.ai={}))[Bl.none=0]="none",Bl[Bl.horizontal=1]="horizontal",Bl[Bl.vertical=2]="vertical",Bl[Bl.horizontalOnly=3]="horizontalOnly";const nf=-17;class rf{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,c){const f=new rf;return f.scale=i||1,f.fontStack=c,f}static forImage(i){const c=new rf;return c.imageName=i,c}}class id{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,c){const f=new id;for(let p=0;p<i.sections.length;p++){const b=i.sections[p];b.image?f.addImageSection(b):f.addTextSection(b,c)}return f}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let c="";for(let f=0;f<i.length;f++){const p=i.charCodeAt(f+1)||null,b=i.charCodeAt(f-1)||null;c+=p&&ip(p)&&!tf[i[f+1]]||b&&ip(b)&&!tf[i[f-1]]||!tf[i[f]]?i[f]:tf[i[f]]}return c}(this.text)}trim(){let i=0;for(let f=0;f<this.text.length&&Cp[this.text.charCodeAt(f)];f++)i++;let c=this.text.length;for(let f=this.text.length-1;f>=0&&f>=i&&Cp[this.text.charCodeAt(f)];f--)c--;this.text=this.text.substring(i,c),this.sectionIndex=this.sectionIndex.slice(i,c)}substring(i,c){const f=new id;return f.text=this.text.substring(i,c),f.sectionIndex=this.sectionIndex.slice(i,c),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,c)=>Math.max(i,this.sections[c].scale),0)}addTextSection(i,c){this.text+=i.text,this.sections.push(rf.forText(i.scale,i.fontStack||c));const f=this.sections.length-1;for(let p=0;p<i.text.length;++p)this.sectionIndex.push(f)}addImageSection(i){const c=i.image?i.image.name:"";if(c.length===0)return void me("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(rf.forImage(c)),this.sectionIndex.push(this.sections.length-1)):me("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function kp(l,i,c,f,p,b,S,A,D,F,V,q,W,ee,ne,ue){const ye=id.fromFeature(l,p);let we;q===o.ai.vertical&&ye.verticalizePunctuation();const{processBidirectionalText:Oe,processStyledBidirectionalText:Te}=ya;if(Oe&&ye.sections.length===1){we=[];const ot=Oe(ye.toString(),Fy(ye,F,b,i,f,ee,ne));for(const Nt of ot){const Zt=new id;Zt.text=Nt,Zt.sections=ye.sections;for(let Bt=0;Bt<Nt.length;Bt++)Zt.sectionIndex.push(0);we.push(Zt)}}else if(Te){we=[];const ot=Te(ye.text,ye.sectionIndex,Fy(ye,F,b,i,f,ee,ne));for(const Nt of ot){const Zt=new id;Zt.text=Nt[0],Zt.sectionIndex=Nt[1],Zt.sections=ye.sections,we.push(Zt)}}else we=function(ot,Nt){const Zt=[],Bt=ot.text;let Ft=0;for(const Dt of Nt)Zt.push(ot.substring(Ft,Dt)),Ft=Dt;return Ft<Bt.length&&Zt.push(ot.substring(Ft,Bt.length)),Zt}(ye,Fy(ye,F,b,i,f,ee,ne));const Be=[],Ge={positionedLines:Be,text:ye.toString(),top:V[1],bottom:V[1],left:V[0],right:V[0],writingMode:q,iconsInText:!1,verticalizable:!1};return function(ot,Nt,Zt,Bt,Ft,Dt,qt,Mt,wt,nn,Xt,An){let xr=0,Cr=nf,ui=0,Ma=0;const ra=Mt==="right"?1:Mt==="left"?0:.5;let ni=0;for(const di of Ft){di.trim();const hi=di.getMaxScale(),ji=(hi-1)*ci,sa={positionedGlyphs:[],lineOffset:0};ot.positionedLines[ni]=sa;const Hi=sa.positionedGlyphs;let xa=0;if(!di.length()){Cr+=Dt,++ni;continue}for(let fi=0;fi<di.length();fi++){const Ln=di.getSection(fi),Gi=di.getSectionIndex(fi),zi=di.getCharCode(fi);let mi=0,gs=null,Ns=null,$s=null,Xo=ci;const vs=!(wt===o.ai.horizontal||!Xt&&!Ih(zi)||Xt&&(Cp[zi]||(Ti=zi,Vt.Arabic(Ti)||Vt["Arabic Supplement"](Ti)||Vt["Arabic Extended-A"](Ti)||Vt["Arabic Presentation Forms-A"](Ti)||Vt["Arabic Presentation Forms-B"](Ti))));if(Ln.imageName){const Wa=Bt[Ln.imageName];if(!Wa)continue;$s=Ln.imageName,ot.iconsInText=ot.iconsInText||!0,Ns=Wa.paddedRect;const Sa=Wa.displaySize;Ln.scale=Ln.scale*ci/An,gs={width:Sa[0],height:Sa[1],left:ba,top:-aw,advance:vs?Sa[1]:Sa[0]},mi=ji+(ci-Sa[1]*Ln.scale),Xo=gs.advance;const Jo=vs?Sa[0]*Ln.scale-ci*hi:Sa[1]*Ln.scale-ci*hi;Jo>0&&Jo>xa&&(xa=Jo)}else{const Wa=Zt[Ln.fontStack],Sa=Wa&&Wa[zi];if(Sa&&Sa.rect)Ns=Sa.rect,gs=Sa.metrics;else{const Jo=Nt[Ln.fontStack],cf=Jo&&Jo[zi];if(!cf)continue;gs=cf.metrics}mi=(hi-Ln.scale)*ci}vs?(ot.verticalizable=!0,Hi.push({glyph:zi,imageName:$s,x:xr,y:Cr+mi,vertical:vs,scale:Ln.scale,fontStack:Ln.fontStack,sectionIndex:Gi,metrics:gs,rect:Ns}),xr+=Xo*Ln.scale+nn):(Hi.push({glyph:zi,imageName:$s,x:xr,y:Cr+mi,vertical:vs,scale:Ln.scale,fontStack:Ln.fontStack,sectionIndex:Gi,metrics:gs,rect:Ns}),xr+=gs.advance*Ln.scale+nn)}Hi.length!==0&&(ui=Math.max(xr-nn,ui),iL(Hi,0,Hi.length-1,ra,xa)),xr=0;const wa=Dt*hi+xa;sa.lineOffset=Math.max(xa,ji),Cr+=wa,Ma=Math.max(wa,Ma),++ni}var Ti;const Fi=Cr-nf,{horizontalAlign:ia,verticalAlign:aa}=zy(qt);(function(di,hi,ji,sa,Hi,xa,wa,fi,Ln){const Gi=(hi-ji)*Hi;let zi=0;zi=xa!==wa?-fi*sa-nf:(-sa*Ln+.5)*wa;for(const mi of di)for(const gs of mi.positionedGlyphs)gs.x+=Gi,gs.y+=zi})(ot.positionedLines,ra,ia,aa,ui,Ma,Dt,Fi,Ft.length),ot.top+=-aa*Fi,ot.bottom=ot.top+Fi,ot.left+=-ia*ui,ot.right=ot.left+ui}(Ge,i,c,f,we,S,A,D,q,F,W,ue),!function(ot){for(const Nt of ot)if(Nt.positionedGlyphs.length!==0)return!1;return!0}(Be)&&Ge}const Cp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},nL={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function lw(l,i,c,f,p,b){if(i.imageName){const S=f[i.imageName];return S?S.displaySize[0]*i.scale*ci/b+p:0}{const S=c[i.fontStack],A=S&&S[l];return A?A.metrics.advance*i.scale+p:0}}function cw(l,i,c,f){const p=Math.pow(l-i,2);return f?l<i?p/2:2*p:p+Math.abs(c)*c}function rL(l,i,c){let f=0;return l===10&&(f-=1e4),c&&(f+=150),l!==40&&l!==65288||(f+=50),i!==41&&i!==65289||(f+=50),f}function uw(l,i,c,f,p,b){let S=null,A=cw(i,c,p,b);for(const D of f){const F=cw(i-D.x,c,p,b)+D.badness;F<=A&&(S=D,A=F)}return{index:l,x:i,priorBreak:S,badness:A}}function dw(l){return l?dw(l.priorBreak).concat(l.index):[]}function Fy(l,i,c,f,p,b,S){if(b!=="point")return[];if(!l)return[];const A=[],D=function(W,ee,ne,ue,ye,we){let Oe=0;for(let Te=0;Te<W.length();Te++){const Be=W.getSection(Te);Oe+=lw(W.getCharCode(Te),Be,ue,ye,ee,we)}return Oe/Math.max(1,Math.ceil(Oe/ne))}(l,i,c,f,p,S),F=l.text.indexOf("​")>=0;let V=0;for(let W=0;W<l.length();W++){const ee=l.getSection(W),ne=l.getCharCode(W);if(Cp[ne]||(V+=lw(ne,ee,f,p,i,S)),W<l.length()-1){const ue=!((q=ne)<11904||!(Vt["Bopomofo Extended"](q)||Vt.Bopomofo(q)||Vt["CJK Compatibility Forms"](q)||Vt["CJK Compatibility Ideographs"](q)||Vt["CJK Compatibility"](q)||Vt["CJK Radicals Supplement"](q)||Vt["CJK Strokes"](q)||Vt["CJK Symbols and Punctuation"](q)||Vt["CJK Unified Ideographs Extension A"](q)||Vt["CJK Unified Ideographs"](q)||Vt["Enclosed CJK Letters and Months"](q)||Vt["Halfwidth and Fullwidth Forms"](q)||Vt.Hiragana(q)||Vt["Ideographic Description Characters"](q)||Vt["Kangxi Radicals"](q)||Vt["Katakana Phonetic Extensions"](q)||Vt.Katakana(q)||Vt["Vertical Forms"](q)||Vt["Yi Radicals"](q)||Vt["Yi Syllables"](q)));(nL[ne]||ue||ee.imageName)&&A.push(uw(W+1,V,D,A,rL(ne,l.getCharCode(W+1),ue&&F),!1))}}var q;return dw(uw(l.length(),V,D,A,0,!0))}function zy(l){let i=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:i,verticalAlign:c}}function iL(l,i,c,f,p){if(!f&&!p)return;const b=l[c],S=(l[c].x+b.metrics.advance*b.scale)*f;for(let A=i;A<=c;A++)l[A].x-=S,l[A].y+=p}function aL(l,i,c){const{horizontalAlign:f,verticalAlign:p}=zy(c),b=i[0]-l.displaySize[0]*f,S=i[1]-l.displaySize[1]*p;return{image:l,top:S,bottom:S+l.displaySize[1],left:b,right:b+l.displaySize[0]}}function hw(l,i,c,f,p,b){const S=l.image;let A;if(S.content){const ye=S.content,we=S.pixelRatio||1;A=[ye[0]/we,ye[1]/we,S.displaySize[0]-ye[2]/we,S.displaySize[1]-ye[3]/we]}const D=i.left*b,F=i.right*b;let V,q,W,ee;c==="width"||c==="both"?(ee=p[0]+D-f[3],q=p[0]+F+f[1]):(ee=p[0]+(D+F-S.displaySize[0])/2,q=ee+S.displaySize[0]);const ne=i.top*b,ue=i.bottom*b;return c==="height"||c==="both"?(V=p[1]+ne-f[0],W=p[1]+ue+f[2]):(V=p[1]+(ne+ue-S.displaySize[1])/2,W=V+S.displaySize[1]),{image:S,top:V,right:q,bottom:W,left:ee,collisionPadding:A}}const af=255,vo=128,Vl=af*vo;function fw(l,i){const{expression:c}=i;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new _r(l+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:p}=c;let b=0;for(;b<f.length&&f[b]<=l;)b++;b=Math.max(0,b-1);let S=b;for(;S<f.length&&f[S]<l+1;)S++;S=Math.min(f.length-1,S);const A=f[b],D=f[S];return c.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:D,interpolationType:p}:{kind:"camera",minZoom:A,maxZoom:D,minSize:c.evaluate(new _r(A)),maxSize:c.evaluate(new _r(D)),interpolationType:p}}}function By(l,i,c){let f="never";const p=l.get(i);return p?f=p:l.get(c)&&(f="always"),f}const sL=zl.VectorTileFeature.types,oL=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Tp(l,i,c,f,p,b,S,A,D,F,V,q,W){const ee=A?Math.min(Vl,Math.round(A[0])):0,ne=A?Math.min(Vl,Math.round(A[1])):0;l.emplaceBack(i,c,Math.round(32*f),Math.round(32*p),b,S,(ee<<1)+(D?1:0),ne,16*F,16*V,256*q,256*W)}function Vy(l,i,c){l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c)}function lL(l){for(const i of l.sections)if(dy(i.text))return!0;return!1}class Ny{constructor(i){this.layoutVertexArray=new In,this.indexArray=new ki,this.programConfigurations=i,this.segments=new br,this.dynamicLayoutVertexArray=new Sn,this.opacityVertexArray=new Dn,this.hasVisibleVertices=!1,this.placedSymbolArray=new Pe}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,c,f,p){this.isEmpty()||(f&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,VM.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,NM.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,oL,!0),this.opacityVertexBuffer.itemSize=1),(f||p)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ut("SymbolBuffers",Ny);class $y{constructor(i,c,f){this.layoutVertexArray=new i,this.layoutAttributes=c,this.indexArray=new f,this.segments=new br,this.collisionVertexArray=new mr}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,$M.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ut("CollisionBuffers",$y);class ad{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(S=>S.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=yy([]),this.placementViewportMatrix=yy([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=fw(this.zoom,c["text-size"]),this.iconSizeData=fw(this.zoom,c["icon-size"]);const f=this.layers[0].layout,p=f.get("symbol-sort-key"),b=f.get("symbol-z-order");this.canOverlap=By(f,"text-overlap","text-allow-overlap")!=="never"||By(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=b!=="viewport-y"&&!p.isConstant(),this.sortFeaturesByY=(b==="viewport-y"||b==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(S=>o.ai[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=i.sourceID}createArrays(){this.text=new Ny(new Vs(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Ny(new Vs(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Le,this.lineVertexArray=new Ye,this.symbolInstances=new xe,this.textAnchorOffsets=new st}calculateGlyphDependencies(i,c,f,p,b){for(let S=0;S<i.length;S++)if(c[i.charCodeAt(S)]=!0,(f||p)&&b){const A=tf[i.charAt(S)];A&&(c[A.charCodeAt(0)]=!0)}}populate(i,c,f){const p=this.layers[0],b=p.layout,S=b.get("text-font"),A=b.get("text-field"),D=b.get("icon-image"),F=(A.value.kind!=="constant"||A.value.value instanceof Li&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),V=D.value.kind!=="constant"||!!D.value.value||Object.keys(D.parameters).length>0,q=b.get("symbol-sort-key");if(this.features=[],!F&&!V)return;const W=c.iconDependencies,ee=c.glyphDependencies,ne=c.availableImages,ue=new _r(this.zoom);for(const{feature:ye,id:we,index:Oe,sourceLayerIndex:Te}of i){const Be=p._featureFilter.needGeometry,Ge=Rc(ye,Be);if(!p._featureFilter.filter(ue,Ge,f))continue;let ot,Nt;if(Be||(Ge.geometry=Lc(ye)),F){const Bt=p.getValueAndResolveTokens("text-field",Ge,f,ne),Ft=Li.factory(Bt);lL(Ft)&&(this.hasRTLText=!0),(!this.hasRTLText||Oh()==="unavailable"||this.hasRTLText&&ya.isParsed())&&(ot=qM(Ft,p,Ge))}if(V){const Bt=p.getValueAndResolveTokens("icon-image",Ge,f,ne);Nt=Bt instanceof Si?Bt:Si.fromString(Bt)}if(!ot&&!Nt)continue;const Zt=this.sortFeaturesByKey?q.evaluate(Ge,{},f):void 0;if(this.features.push({id:we,text:ot,icon:Nt,index:Oe,sourceLayerIndex:Te,geometry:Ge.geometry,properties:ye.properties,type:sL[ye.type],sortKey:Zt}),Nt&&(W[Nt.name]=!0),ot){const Bt=S.evaluate(Ge,{},f).join(","),Ft=b.get("text-rotation-alignment")!=="viewport"&&b.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(o.ai.vertical)>=0;for(const Dt of ot.sections)if(Dt.image)W[Dt.image.name]=!0;else{const qt=Ah(ot.toString()),Mt=Dt.fontStack||Bt,wt=ee[Mt]=ee[Mt]||{};this.calculateGlyphDependencies(Dt.text,wt,Ft,this.allowVerticalPlacement,qt)}}}b.get("symbol-placement")==="line"&&(this.features=function(ye){const we={},Oe={},Te=[];let Be=0;function Ge(Bt){Te.push(ye[Bt]),Be++}function ot(Bt,Ft,Dt){const qt=Oe[Bt];return delete Oe[Bt],Oe[Ft]=qt,Te[qt].geometry[0].pop(),Te[qt].geometry[0]=Te[qt].geometry[0].concat(Dt[0]),qt}function Nt(Bt,Ft,Dt){const qt=we[Ft];return delete we[Ft],we[Bt]=qt,Te[qt].geometry[0].shift(),Te[qt].geometry[0]=Dt[0].concat(Te[qt].geometry[0]),qt}function Zt(Bt,Ft,Dt){const qt=Dt?Ft[0][Ft[0].length-1]:Ft[0][0];return`${Bt}:${qt.x}:${qt.y}`}for(let Bt=0;Bt<ye.length;Bt++){const Ft=ye[Bt],Dt=Ft.geometry,qt=Ft.text?Ft.text.toString():null;if(!qt){Ge(Bt);continue}const Mt=Zt(qt,Dt),wt=Zt(qt,Dt,!0);if(Mt in Oe&&wt in we&&Oe[Mt]!==we[wt]){const nn=Nt(Mt,wt,Dt),Xt=ot(Mt,wt,Te[nn].geometry);delete we[Mt],delete Oe[wt],Oe[Zt(qt,Te[Xt].geometry,!0)]=Xt,Te[nn].geometry=null}else Mt in Oe?ot(Mt,wt,Dt):wt in we?Nt(Mt,wt,Dt):(Ge(Bt),we[Mt]=Be-1,Oe[wt]=Be-1)}return Te.filter(Bt=>Bt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ye,we)=>ye.sortKey-we.sortKey)}update(i,c,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,c,this.layers,f),this.icon.programConfigurations.updatePaintArrays(i,c,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,c){const f=this.lineVertexArray.length;if(i.segment!==void 0){let p=i.dist(c[i.segment+1]),b=i.dist(c[i.segment]);const S={};for(let A=i.segment+1;A<c.length;A++)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:p},A<c.length-1&&(p+=c[A+1].dist(c[A]));for(let A=i.segment||0;A>=0;A--)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:b},A>0&&(b+=c[A-1].dist(c[A]));for(let A=0;A<c.length;A++){const D=S[A];this.lineVertexArray.emplaceBack(D.x,D.y,D.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(i,c,f,p,b,S,A,D,F,V,q,W){const ee=i.indexArray,ne=i.layoutVertexArray,ue=i.segments.prepareSegment(4*c.length,ne,ee,this.canOverlap?S.sortKey:void 0),ye=this.glyphOffsetArray.length,we=ue.vertexLength,Oe=this.allowVerticalPlacement&&A===o.ai.vertical?Math.PI/2:0,Te=S.text&&S.text.sections;for(let Be=0;Be<c.length;Be++){const{tl:Ge,tr:ot,bl:Nt,br:Zt,tex:Bt,pixelOffsetTL:Ft,pixelOffsetBR:Dt,minFontScaleX:qt,minFontScaleY:Mt,glyphOffset:wt,isSDF:nn,sectionIndex:Xt}=c[Be],An=ue.vertexLength,xr=wt[1];Tp(ne,D.x,D.y,Ge.x,xr+Ge.y,Bt.x,Bt.y,f,nn,Ft.x,Ft.y,qt,Mt),Tp(ne,D.x,D.y,ot.x,xr+ot.y,Bt.x+Bt.w,Bt.y,f,nn,Dt.x,Ft.y,qt,Mt),Tp(ne,D.x,D.y,Nt.x,xr+Nt.y,Bt.x,Bt.y+Bt.h,f,nn,Ft.x,Dt.y,qt,Mt),Tp(ne,D.x,D.y,Zt.x,xr+Zt.y,Bt.x+Bt.w,Bt.y+Bt.h,f,nn,Dt.x,Dt.y,qt,Mt),Vy(i.dynamicLayoutVertexArray,D,Oe),ee.emplaceBack(An,An+1,An+2),ee.emplaceBack(An+1,An+2,An+3),ue.vertexLength+=4,ue.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(wt[0]),Be!==c.length-1&&Xt===c[Be+1].sectionIndex||i.programConfigurations.populatePaintArrays(ne.length,S,S.index,{},W,Te&&Te[Xt])}i.placedSymbolArray.emplaceBack(D.x,D.y,ye,this.glyphOffsetArray.length-ye,we,F,V,D.segment,f?f[0]:0,f?f[1]:0,p[0],p[1],A,0,!1,0,q)}_addCollisionDebugVertex(i,c,f,p,b,S){return c.emplaceBack(0,0),i.emplaceBack(f.x,f.y,p,b,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(i,c,f,p,b,S,A){const D=b.segments.prepareSegment(4,b.layoutVertexArray,b.indexArray),F=D.vertexLength,V=b.layoutVertexArray,q=b.collisionVertexArray,W=A.anchorX,ee=A.anchorY;this._addCollisionDebugVertex(V,q,S,W,ee,new C(i,c)),this._addCollisionDebugVertex(V,q,S,W,ee,new C(f,c)),this._addCollisionDebugVertex(V,q,S,W,ee,new C(f,p)),this._addCollisionDebugVertex(V,q,S,W,ee,new C(i,p)),D.vertexLength+=4;const ne=b.indexArray;ne.emplaceBack(F,F+1),ne.emplaceBack(F+1,F+2),ne.emplaceBack(F+2,F+3),ne.emplaceBack(F+3,F),D.primitiveLength+=4}addDebugCollisionBoxes(i,c,f,p){for(let b=i;b<c;b++){const S=this.collisionBoxArray.get(b);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,p?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new $y(Ur,X1.members,oi),this.iconCollisionBox=new $y(Ur,X1.members,oi);for(let i=0;i<this.symbolInstances.length;i++){const c=this.symbolInstances.get(i);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(i,c,f,p,b,S,A,D,F){const V={};for(let q=c;q<f;q++){const W=i.get(q);V.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.textFeatureIndex=W.featureIndex;break}for(let q=p;q<b;q++){const W=i.get(q);V.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.verticalTextFeatureIndex=W.featureIndex;break}for(let q=S;q<A;q++){const W=i.get(q);V.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.iconFeatureIndex=W.featureIndex;break}for(let q=D;q<F;q++){const W=i.get(q);V.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.verticalIconFeatureIndex=W.featureIndex;break}return V}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const f=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,c){const f=i.placedSymbolArray.get(c),p=f.vertexStartIndex+4*f.numGlyphs;for(let b=f.vertexStartIndex;b<p;b+=4)i.indexArray.emplaceBack(b,b+1,b+2),i.indexArray.emplaceBack(b+1,b+2,b+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(i),f=Math.cos(i),p=[],b=[],S=[];for(let A=0;A<this.symbolInstances.length;++A){S.push(A);const D=this.symbolInstances.get(A);p.push(0|Math.round(c*D.anchorX+f*D.anchorY)),b.push(D.featureIndex)}return S.sort((A,D)=>p[A]-p[D]||b[D]-b[A]),S}addToSortKeyRanges(i,c){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===c?f.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const f=this.symbolInstances.get(c);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((p,b,S)=>{p>=0&&S.indexOf(p)===b&&this.addIndicesForPlacedSymbol(this.text,p)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let mw,pw;Ut("SymbolBucket",ad,{omit:["layers","collisionBoxArray","features","compareText"]}),ad.MAX_GLYPHS=65535,ad.addDynamicAttributes=Vy;var Uy={get paint(){return pw=pw||new Zr({"icon-opacity":new ln(ke.paint_symbol["icon-opacity"]),"icon-color":new ln(ke.paint_symbol["icon-color"]),"icon-halo-color":new ln(ke.paint_symbol["icon-halo-color"]),"icon-halo-width":new ln(ke.paint_symbol["icon-halo-width"]),"icon-halo-blur":new ln(ke.paint_symbol["icon-halo-blur"]),"icon-translate":new Qt(ke.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qt(ke.paint_symbol["icon-translate-anchor"]),"text-opacity":new ln(ke.paint_symbol["text-opacity"]),"text-color":new ln(ke.paint_symbol["text-color"],{runtimeType:$i,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new ln(ke.paint_symbol["text-halo-color"]),"text-halo-width":new ln(ke.paint_symbol["text-halo-width"]),"text-halo-blur":new ln(ke.paint_symbol["text-halo-blur"]),"text-translate":new Qt(ke.paint_symbol["text-translate"]),"text-translate-anchor":new Qt(ke.paint_symbol["text-translate-anchor"])})},get layout(){return mw=mw||new Zr({"symbol-placement":new Qt(ke.layout_symbol["symbol-placement"]),"symbol-spacing":new Qt(ke.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qt(ke.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new ln(ke.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qt(ke.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qt(ke.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Qt(ke.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Qt(ke.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qt(ke.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qt(ke.layout_symbol["icon-rotation-alignment"]),"icon-size":new ln(ke.layout_symbol["icon-size"]),"icon-text-fit":new Qt(ke.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qt(ke.layout_symbol["icon-text-fit-padding"]),"icon-image":new ln(ke.layout_symbol["icon-image"]),"icon-rotate":new ln(ke.layout_symbol["icon-rotate"]),"icon-padding":new ln(ke.layout_symbol["icon-padding"]),"icon-keep-upright":new Qt(ke.layout_symbol["icon-keep-upright"]),"icon-offset":new ln(ke.layout_symbol["icon-offset"]),"icon-anchor":new ln(ke.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qt(ke.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qt(ke.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qt(ke.layout_symbol["text-rotation-alignment"]),"text-field":new ln(ke.layout_symbol["text-field"]),"text-font":new ln(ke.layout_symbol["text-font"]),"text-size":new ln(ke.layout_symbol["text-size"]),"text-max-width":new ln(ke.layout_symbol["text-max-width"]),"text-line-height":new Qt(ke.layout_symbol["text-line-height"]),"text-letter-spacing":new ln(ke.layout_symbol["text-letter-spacing"]),"text-justify":new ln(ke.layout_symbol["text-justify"]),"text-radial-offset":new ln(ke.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qt(ke.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new ln(ke.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new ln(ke.layout_symbol["text-anchor"]),"text-max-angle":new Qt(ke.layout_symbol["text-max-angle"]),"text-writing-mode":new Qt(ke.layout_symbol["text-writing-mode"]),"text-rotate":new ln(ke.layout_symbol["text-rotate"]),"text-padding":new Qt(ke.layout_symbol["text-padding"]),"text-keep-upright":new Qt(ke.layout_symbol["text-keep-upright"]),"text-transform":new ln(ke.layout_symbol["text-transform"]),"text-offset":new ln(ke.layout_symbol["text-offset"]),"text-allow-overlap":new Qt(ke.layout_symbol["text-allow-overlap"]),"text-overlap":new Qt(ke.layout_symbol["text-overlap"]),"text-ignore-placement":new Qt(ke.layout_symbol["text-ignore-placement"]),"text-optional":new Qt(ke.layout_symbol["text-optional"])})}};class gw{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:hr,this.defaultValue=i}evaluate(i){if(i.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(i.formattedSection))return c.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ut("FormatSectionOverride",gw,{omit:["defaultValue"]});class Ap extends Pa{constructor(i){super(i,Uy)}recalculate(i,c){if(super.recalculate(i,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const p=[];for(const b of f)p.indexOf(b)<0&&p.push(b);this.layout._values["text-writing-mode"]=p}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,c,f,p){const b=this.layout.get(i).evaluate(c,{},f,p),S=this._unevaluatedLayout._values[i];return S.isDataDriven()||Vu(S.value)||!b?b:function(A,D){return D.replace(/{([^{}]+)}/g,(F,V)=>A&&V in A?String(A[V]):"")}(c.properties,b)}createBucket(i){return new ad(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of Uy.paint.overridableProperties){if(!Ap.hasPaintOverride(this.layout,i))continue;const c=this.paint.get(i),f=new gw(c),p=new xh(f,c.property.specification);let b=null;b=c.value.kind==="constant"||c.value.kind==="source"?new wh("source",p):new $u("composite",p,c.value.zoomStops),this.paint._values[i]=new Ui(c.property,b,c.parameters)}}_handleOverridablePaintPropertyUpdate(i,c,f){return!(!this.layout||c.isDataDriven()||f.isDataDriven())&&Ap.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,c){const f=i.get("text-field"),p=Uy.paint.properties[c];let b=!1;const S=A=>{for(const D of A)if(p.overrides&&p.overrides.hasOverride(D))return void(b=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Li)S(f.value.value.sections);else if(f.value.kind==="source"){const A=F=>{b||(F instanceof Bo&&Ar(F.value)===pe?S(F.value.sections):F instanceof Bu?S(F.sections):F.eachChild(A))},D=f.value;D._styleExpression&&A(D._styleExpression.expression)}return b}}let vw;var cL={get paint(){return vw=vw||new Zr({"background-color":new Qt(ke.paint_background["background-color"]),"background-pattern":new zh(ke.paint_background["background-pattern"]),"background-opacity":new Qt(ke.paint_background["background-opacity"])})}};class uL extends Pa{constructor(i){super(i,cL)}}let yw;var dL={get paint(){return yw=yw||new Zr({"raster-opacity":new Qt(ke.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qt(ke.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qt(ke.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qt(ke.paint_raster["raster-brightness-max"]),"raster-saturation":new Qt(ke.paint_raster["raster-saturation"]),"raster-contrast":new Qt(ke.paint_raster["raster-contrast"]),"raster-resampling":new Qt(ke.paint_raster["raster-resampling"]),"raster-fade-duration":new Qt(ke.paint_raster["raster-fade-duration"])})}};class hL extends Pa{constructor(i){super(i,dL)}}class fL extends Pa{constructor(i){super(i,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class mL{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const qy=63710088e-1;class Nl{constructor(i,c){if(isNaN(i)||isNaN(c))throw new Error(`Invalid LngLat object: (${i}, ${c})`);if(this.lng=+i,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Nl(se(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const c=Math.PI/180,f=this.lat*c,p=i.lat*c,b=Math.sin(f)*Math.sin(p)+Math.cos(f)*Math.cos(p)*Math.cos((i.lng-this.lng)*c);return qy*Math.acos(Math.min(b,1))}static convert(i){if(i instanceof Nl)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Nl(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Nl(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const _w=2*Math.PI*qy;function bw(l){return _w*Math.cos(l*Math.PI/180)}function xw(l){return(180+l)/360}function ww(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function Sw(l,i){return l/bw(i)}function kw(l){return 360*l-180}function jy(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class Ep{constructor(i,c,f=0){this.x=+i,this.y=+c,this.z=+f}static fromLngLat(i,c=0){const f=Nl.convert(i);return new Ep(xw(f.lng),ww(f.lat),Sw(c,f.lat))}toLngLat(){return new Nl(kw(this.x),jy(this.y))}toAltitude(){return this.z*bw(jy(this.y))}meterInMercatorCoordinateUnits(){return 1/_w*(i=jy(this.y),1/Math.cos(i*Math.PI/180));var i}}function Cw(l,i,c){var f=2*Math.PI*6378137/256/Math.pow(2,c);return[l*f-2*Math.PI*6378137/2,i*f-2*Math.PI*6378137/2]}class Hy{constructor(i,c,f){if(i<0||i>25||f<0||f>=Math.pow(2,i)||c<0||c>=Math.pow(2,i))throw new Error(`x=${c}, y=${f}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=c,this.y=f,this.key=sf(0,i,i,c,f)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,c,f){const p=(S=this.y,A=this.z,D=Cw(256*(b=this.x),256*(S=Math.pow(2,A)-S-1),A),F=Cw(256*(b+1),256*(S+1),A),D[0]+","+D[1]+","+F[0]+","+F[1]);var b,S,A,D,F;const V=function(q,W,ee){let ne,ue="";for(let ye=q;ye>0;ye--)ne=1<<ye-1,ue+=(W&ne?1:0)+(ee&ne?2:0);return ue}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,V).replace(/{bbox-epsg-3857}/g,p)}isChildOf(i){const c=this.z-i.z;return c>0&&i.x===this.x>>c&&i.y===this.y>>c}getTilePoint(i){const c=Math.pow(2,this.z);return new C((i.x*c-this.x)*ti,(i.y*c-this.y)*ti)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Tw{constructor(i,c){this.wrap=i,this.canonical=c,this.key=sf(i,c.z,c.z,c.x,c.y)}}class Ga{constructor(i,c,f,p,b){if(i<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${f}`);this.overscaledZ=i,this.wrap=c,this.canonical=new Hy(f,+p,+b),this.key=sf(c,i,f,p,b)}clone(){return new Ga(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-i;return i>this.canonical.z?new Ga(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ga(i,this.wrap,i,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(i,c){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-i;return i>this.canonical.z?sf(this.wrap*+c,i,this.canonical.z,this.canonical.x,this.canonical.y):sf(this.wrap*+c,i,i,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const c=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>c&&i.canonical.y===this.canonical.y>>c}children(i){if(this.overscaledZ>=i)return[new Ga(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,f=2*this.canonical.x,p=2*this.canonical.y;return[new Ga(c,this.wrap,c,f,p),new Ga(c,this.wrap,c,f+1,p),new Ga(c,this.wrap,c,f,p+1),new Ga(c,this.wrap,c,f+1,p+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Ga(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Ga(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Tw(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new Ep(i.x-this.wrap,i.y))}}function sf(l,i,c,f,p){(l*=2)<0&&(l=-1*l-1);const b=1<<c;return(b*b*l+b*p+f).toString(36)+c.toString(36)+i.toString(36)}Ut("CanonicalTileID",Hy),Ut("OverscaledTileID",Ga,{omit:["posMatrix"]});class Aw{constructor(i,c,f,p=1,b=1,S=1,A=0){if(this.uid=i,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void me(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const D=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=p,this.greenFactor=b,this.blueFactor=S,this.baseShift=A;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let F=0;F<D;F++)this.data[this._idx(-1,F)]=this.data[this._idx(0,F)],this.data[this._idx(D,F)]=this.data[this._idx(D-1,F)],this.data[this._idx(F,-1)]=this.data[this._idx(F,0)],this.data[this._idx(F,D)]=this.data[this._idx(F,D-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(D,-1)]=this.data[this._idx(D-1,0)],this.data[this._idx(-1,D)]=this.data[this._idx(0,D-1)],this.data[this._idx(D,D)]=this.data[this._idx(D-1,D-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let F=0;F<D;F++)for(let V=0;V<D;V++){const q=this.get(F,V);q>this.max&&(this.max=q),q<this.min&&(this.min=q)}}get(i,c){const f=new Uint8Array(this.data.buffer),p=4*this._idx(i,c);return this.unpack(f[p],f[p+1],f[p+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(i,c){if(i<-1||i>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(i+1)}unpack(i,c,f){return i*this.redFactor+c*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new Ha({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,c,f){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let p=c*this.dim,b=c*this.dim+this.dim,S=f*this.dim,A=f*this.dim+this.dim;switch(c){case-1:p=b-1;break;case 1:b=p+1}switch(f){case-1:S=A-1;break;case 1:A=S+1}const D=-c*this.dim,F=-f*this.dim;for(let V=S;V<A;V++)for(let q=p;q<b;q++)this.data[this._idx(q,V)]=i.data[this._idx(q+D,V+F)]}}Ut("DEMData",Aw);class Ew{constructor(i){this._stringToNumber={},this._numberToString=[];for(let c=0;c<i.length;c++){const f=i[c];this._stringToNumber[f]=c,this._numberToString[c]=f}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class Iw{constructor(i,c,f,p,b){this.type="Feature",this._vectorTileFeature=i,i._z=c,i._x=f,i._y=p,this.properties=i.properties,this.id=b}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(i[c]=this[c]);return i}}class Pw{constructor(i,c){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new Ml(ti,16,0),this.grid3D=new Ml(ti,16,0),this.featureIndexArray=new mt,this.promoteId=c}insert(i,c,f,p,b,S){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,p,b);const D=S?this.grid3D:this.grid;for(let F=0;F<c.length;F++){const V=c[F],q=[1/0,1/0,-1/0,-1/0];for(let W=0;W<V.length;W++){const ee=V[W];q[0]=Math.min(q[0],ee.x),q[1]=Math.min(q[1],ee.y),q[2]=Math.max(q[2],ee.x),q[3]=Math.max(q[3],ee.y)}q[0]<ti&&q[1]<ti&&q[2]>=0&&q[3]>=0&&D.insert(A,q[0],q[1],q[2],q[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new zl.VectorTile(new Ly(this.rawTileData)).layers,this.sourceLayerCoder=new Ew(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,c,f,p){this.loadVTLayers();const b=i.params||{},S=ti/i.tileSize/i.scale,A=kh(b.filter),D=i.queryGeometry,F=i.queryPadding*S,V=Mw(D),q=this.grid.query(V.minX-F,V.minY-F,V.maxX+F,V.maxY+F),W=Mw(i.cameraQueryGeometry),ee=this.grid3D.query(W.minX-F,W.minY-F,W.maxX+F,W.maxY+F,(ye,we,Oe,Te)=>function(Be,Ge,ot,Nt,Zt){for(const Ft of Be)if(Ge<=Ft.x&&ot<=Ft.y&&Nt>=Ft.x&&Zt>=Ft.y)return!0;const Bt=[new C(Ge,ot),new C(Ge,Zt),new C(Nt,Zt),new C(Nt,ot)];if(Be.length>2){for(const Ft of Bt)if(Ju(Be,Ft))return!0}for(let Ft=0;Ft<Be.length-1;Ft++)if(GD(Be[Ft],Be[Ft+1],Bt))return!0;return!1}(i.cameraQueryGeometry,ye-F,we-F,Oe+F,Te+F));for(const ye of ee)q.push(ye);q.sort(pL);const ne={};let ue;for(let ye=0;ye<q.length;ye++){const we=q[ye];if(we===ue)continue;ue=we;const Oe=this.featureIndexArray.get(we);let Te=null;this.loadMatchingFeature(ne,Oe.bucketIndex,Oe.sourceLayerIndex,Oe.featureIndex,A,b.layers,b.availableImages,c,f,p,(Be,Ge,ot)=>(Te||(Te=Lc(Be)),Ge.queryIntersectsFeature(D,Be,ot,Te,this.z,i.transform,S,i.pixelPosMatrix)))}return ne}loadMatchingFeature(i,c,f,p,b,S,A,D,F,V,q){const W=this.bucketLayerIDs[c];if(S&&!function(ye,we){for(let Oe=0;Oe<ye.length;Oe++)if(we.indexOf(ye[Oe])>=0)return!0;return!1}(S,W))return;const ee=this.sourceLayerCoder.decode(f),ne=this.vtLayers[ee].feature(p);if(b.needGeometry){const ye=Rc(ne,!0);if(!b.filter(new _r(this.tileID.overscaledZ),ye,this.tileID.canonical))return}else if(!b.filter(new _r(this.tileID.overscaledZ),ne))return;const ue=this.getId(ne,ee);for(let ye=0;ye<W.length;ye++){const we=W[ye];if(S&&S.indexOf(we)<0)continue;const Oe=D[we];if(!Oe)continue;let Te={};ue&&V&&(Te=V.getState(Oe.sourceLayer||"_geojsonTileLayer",ue));const Be=H({},F[we]);Be.paint=Dw(Be.paint,Oe.paint,ne,Te,A),Be.layout=Dw(Be.layout,Oe.layout,ne,Te,A);const Ge=!q||q(ne,Oe,Te);if(!Ge)continue;const ot=new Iw(ne,this.z,this.x,this.y,ue);ot.layer=Be;let Nt=i[we];Nt===void 0&&(Nt=i[we]=[]),Nt.push({featureIndex:p,feature:ot,intersectionZ:Ge})}}lookupSymbolFeatures(i,c,f,p,b,S,A,D){const F={};this.loadVTLayers();const V=kh(b);for(const q of i)this.loadMatchingFeature(F,f,p,q,V,S,A,D,c);return F}hasLayer(i){for(const c of this.bucketLayerIDs)for(const f of c)if(i===f)return!0;return!1}getId(i,c){let f=i.id;return this.promoteId&&(f=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof f=="boolean"&&(f=Number(f))),f}}function Dw(l,i,c,f,p){return K(l,(b,S)=>{const A=i instanceof Ku?i.get(S):null;return A&&A.evaluate?A.evaluate(c,f,p):A})}function Mw(l){let i=1/0,c=1/0,f=-1/0,p=-1/0;for(const b of l)i=Math.min(i,b.x),c=Math.min(c,b.y),f=Math.max(f,b.x),p=Math.max(p,b.y);return{minX:i,minY:c,maxX:f,maxY:p}}function pL(l,i){return i-l}function Lw(l,i,c,f,p){const b=[];for(let S=0;S<l.length;S++){const A=l[S];let D;for(let F=0;F<A.length-1;F++){let V=A[F],q=A[F+1];V.x<i&&q.x<i||(V.x<i?V=new C(i,V.y+(i-V.x)/(q.x-V.x)*(q.y-V.y))._round():q.x<i&&(q=new C(i,V.y+(i-V.x)/(q.x-V.x)*(q.y-V.y))._round()),V.y<c&&q.y<c||(V.y<c?V=new C(V.x+(c-V.y)/(q.y-V.y)*(q.x-V.x),c)._round():q.y<c&&(q=new C(V.x+(c-V.y)/(q.y-V.y)*(q.x-V.x),c)._round()),V.x>=f&&q.x>=f||(V.x>=f?V=new C(f,V.y+(f-V.x)/(q.x-V.x)*(q.y-V.y))._round():q.x>=f&&(q=new C(f,V.y+(f-V.x)/(q.x-V.x)*(q.y-V.y))._round()),V.y>=p&&q.y>=p||(V.y>=p?V=new C(V.x+(p-V.y)/(q.y-V.y)*(q.x-V.x),p)._round():q.y>=p&&(q=new C(V.x+(p-V.y)/(q.y-V.y)*(q.x-V.x),p)._round()),D&&V.equals(D[D.length-1])||(D=[V],b.push(D)),D.push(q)))))}}return b}Ut("FeatureIndex",Pw,{omit:["rawTileData","sourceLayerCoder"]});class $l extends C{constructor(i,c,f,p){super(i,c),this.angle=f,p!==void 0&&(this.segment=p)}clone(){return new $l(this.x,this.y,this.angle,this.segment)}}function Rw(l,i,c,f,p){if(i.segment===void 0||c===0)return!0;let b=i,S=i.segment+1,A=0;for(;A>-c/2;){if(S--,S<0)return!1;A-=l[S].dist(b),b=l[S]}A+=l[S].dist(l[S+1]),S++;const D=[];let F=0;for(;A<c/2;){const V=l[S],q=l[S+1];if(!q)return!1;let W=l[S-1].angleTo(V)-V.angleTo(q);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),D.push({distance:A,angleDelta:W}),F+=W;A-D[0].distance>f;)F-=D.shift().angleDelta;if(F>p)return!1;S++,A+=V.dist(q)}return!0}function Ow(l){let i=0;for(let c=0;c<l.length-1;c++)i+=l[c].dist(l[c+1]);return i}function Fw(l,i,c){return l?.6*i*c:0}function zw(l,i){return Math.max(l?l.right-l.left:0,i?i.right-i.left:0)}function gL(l,i,c,f,p,b){const S=Fw(c,p,b),A=zw(c,f)*b;let D=0;const F=Ow(l)/2;for(let V=0;V<l.length-1;V++){const q=l[V],W=l[V+1],ee=q.dist(W);if(D+ee>F){const ne=(F-D)/ee,ue=pa.number(q.x,W.x,ne),ye=pa.number(q.y,W.y,ne),we=new $l(ue,ye,W.angleTo(q),V);return we._round(),!S||Rw(l,we,A,S,i)?we:void 0}D+=ee}}function vL(l,i,c,f,p,b,S,A,D){const F=Fw(f,b,S),V=zw(f,p),q=V*S,W=l[0].x===0||l[0].x===D||l[0].y===0||l[0].y===D;return i-q<i/4&&(i=q+i/4),Bw(l,W?i/2*A%i:(V/2+2*b)*S*A%i,i,F,c,q,W,!1,D)}function Bw(l,i,c,f,p,b,S,A,D){const F=b/2,V=Ow(l);let q=0,W=i-c,ee=[];for(let ne=0;ne<l.length-1;ne++){const ue=l[ne],ye=l[ne+1],we=ue.dist(ye),Oe=ye.angleTo(ue);for(;W+c<q+we;){W+=c;const Te=(W-q)/we,Be=pa.number(ue.x,ye.x,Te),Ge=pa.number(ue.y,ye.y,Te);if(Be>=0&&Be<D&&Ge>=0&&Ge<D&&W-F>=0&&W+F<=V){const ot=new $l(Be,Ge,Oe,ne);ot._round(),f&&!Rw(l,ot,b,f,p)||ee.push(ot)}}q+=we}return A||ee.length||S||(ee=Bw(l,q/2,c,f,p,b,S,!0,D)),ee}Ut("Anchor",$l);const sd=ba;function Vw(l,i,c,f){const p=[],b=l.image,S=b.pixelRatio,A=b.paddedRect.w-2*sd,D=b.paddedRect.h-2*sd,F=l.right-l.left,V=l.bottom-l.top,q=b.stretchX||[[0,A]],W=b.stretchY||[[0,D]],ee=(Dt,qt)=>Dt+qt[1]-qt[0],ne=q.reduce(ee,0),ue=W.reduce(ee,0),ye=A-ne,we=D-ue;let Oe=0,Te=ne,Be=0,Ge=ue,ot=0,Nt=ye,Zt=0,Bt=we;if(b.content&&f){const Dt=b.content;Oe=Ip(q,0,Dt[0]),Be=Ip(W,0,Dt[1]),Te=Ip(q,Dt[0],Dt[2]),Ge=Ip(W,Dt[1],Dt[3]),ot=Dt[0]-Oe,Zt=Dt[1]-Be,Nt=Dt[2]-Dt[0]-Te,Bt=Dt[3]-Dt[1]-Ge}const Ft=(Dt,qt,Mt,wt)=>{const nn=Pp(Dt.stretch-Oe,Te,F,l.left),Xt=Dp(Dt.fixed-ot,Nt,Dt.stretch,ne),An=Pp(qt.stretch-Be,Ge,V,l.top),xr=Dp(qt.fixed-Zt,Bt,qt.stretch,ue),Cr=Pp(Mt.stretch-Oe,Te,F,l.left),ui=Dp(Mt.fixed-ot,Nt,Mt.stretch,ne),Ma=Pp(wt.stretch-Be,Ge,V,l.top),ra=Dp(wt.fixed-Zt,Bt,wt.stretch,ue),ni=new C(nn,An),Ti=new C(Cr,An),Fi=new C(Cr,Ma),ia=new C(nn,Ma),aa=new C(Xt/S,xr/S),di=new C(ui/S,ra/S),hi=i*Math.PI/180;if(hi){const Hi=Math.sin(hi),xa=Math.cos(hi),wa=[xa,-Hi,Hi,xa];ni._matMult(wa),Ti._matMult(wa),ia._matMult(wa),Fi._matMult(wa)}const ji=Dt.stretch+Dt.fixed,sa=qt.stretch+qt.fixed;return{tl:ni,tr:Ti,bl:ia,br:Fi,tex:{x:b.paddedRect.x+sd+ji,y:b.paddedRect.y+sd+sa,w:Mt.stretch+Mt.fixed-ji,h:wt.stretch+wt.fixed-sa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:aa,pixelOffsetBR:di,minFontScaleX:Nt/S/F,minFontScaleY:Bt/S/V,isSDF:c}};if(f&&(b.stretchX||b.stretchY)){const Dt=Nw(q,ye,ne),qt=Nw(W,we,ue);for(let Mt=0;Mt<Dt.length-1;Mt++){const wt=Dt[Mt],nn=Dt[Mt+1];for(let Xt=0;Xt<qt.length-1;Xt++)p.push(Ft(wt,qt[Xt],nn,qt[Xt+1]))}}else p.push(Ft({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:D+1}));return p}function Ip(l,i,c){let f=0;for(const p of l)f+=Math.max(i,Math.min(c,p[1]))-Math.max(i,Math.min(c,p[0]));return f}function Nw(l,i,c){const f=[{fixed:-sd,stretch:0}];for(const[p,b]of l){const S=f[f.length-1];f.push({fixed:p-S.stretch,stretch:S.stretch}),f.push({fixed:p-S.stretch,stretch:S.stretch+(b-p)})}return f.push({fixed:i+sd,stretch:c}),f}function Pp(l,i,c,f){return l/i*c+f}function Dp(l,i,c,f){return l-i*c/f}class Mp{constructor(i,c,f,p,b,S,A,D,F,V){if(this.boxStartIndex=i.length,F){let q=S.top,W=S.bottom;const ee=S.collisionPadding;ee&&(q-=ee[1],W+=ee[3]);let ne=W-q;ne>0&&(ne=Math.max(10,ne),this.circleDiameter=ne)}else{let q=S.top*A-D[0],W=S.bottom*A+D[2],ee=S.left*A-D[3],ne=S.right*A+D[1];const ue=S.collisionPadding;if(ue&&(ee-=ue[0]*A,q-=ue[1]*A,ne+=ue[2]*A,W+=ue[3]*A),V){const ye=new C(ee,q),we=new C(ne,q),Oe=new C(ee,W),Te=new C(ne,W),Be=V*Math.PI/180;ye._rotate(Be),we._rotate(Be),Oe._rotate(Be),Te._rotate(Be),ee=Math.min(ye.x,we.x,Oe.x,Te.x),ne=Math.max(ye.x,we.x,Oe.x,Te.x),q=Math.min(ye.y,we.y,Oe.y,Te.y),W=Math.max(ye.y,we.y,Oe.y,Te.y)}i.emplaceBack(c.x,c.y,ee,q,ne,W,f,p,b)}this.boxEndIndex=i.length}}class yL{constructor(i=[],c=_L){if(this.data=i,this.length=this.data.length,this.compare=c,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:c,compare:f}=this,p=c[i];for(;i>0;){const b=i-1>>1,S=c[b];if(f(p,S)>=0)break;c[i]=S,i=b}c[i]=p}_down(i){const{data:c,compare:f}=this,p=this.length>>1,b=c[i];for(;i<p;){let S=1+(i<<1),A=c[S];const D=S+1;if(D<this.length&&f(c[D],A)<0&&(S=D,A=c[D]),f(A,b)>=0)break;c[i]=A,i=S}c[i]=b}}function _L(l,i){return l<i?-1:l>i?1:0}function bL(l,i=1,c=!1){let f=1/0,p=1/0,b=-1/0,S=-1/0;const A=l[0];for(let ee=0;ee<A.length;ee++){const ne=A[ee];(!ee||ne.x<f)&&(f=ne.x),(!ee||ne.y<p)&&(p=ne.y),(!ee||ne.x>b)&&(b=ne.x),(!ee||ne.y>S)&&(S=ne.y)}const D=Math.min(b-f,S-p);let F=D/2;const V=new yL([],xL);if(D===0)return new C(f,p);for(let ee=f;ee<b;ee+=D)for(let ne=p;ne<S;ne+=D)V.push(new od(ee+F,ne+F,F,l));let q=function(ee){let ne=0,ue=0,ye=0;const we=ee[0];for(let Oe=0,Te=we.length,Be=Te-1;Oe<Te;Be=Oe++){const Ge=we[Oe],ot=we[Be],Nt=Ge.x*ot.y-ot.x*Ge.y;ue+=(Ge.x+ot.x)*Nt,ye+=(Ge.y+ot.y)*Nt,ne+=3*Nt}return new od(ue/ne,ye/ne,0,ee)}(l),W=V.length;for(;V.length;){const ee=V.pop();(ee.d>q.d||!q.d)&&(q=ee,c&&console.log("found best %d after %d probes",Math.round(1e4*ee.d)/1e4,W)),ee.max-q.d<=i||(F=ee.h/2,V.push(new od(ee.p.x-F,ee.p.y-F,F,l)),V.push(new od(ee.p.x+F,ee.p.y-F,F,l)),V.push(new od(ee.p.x-F,ee.p.y+F,F,l)),V.push(new od(ee.p.x+F,ee.p.y+F,F,l)),W+=4)}return c&&(console.log(`num probes: ${W}`),console.log(`best distance: ${q.d}`)),q.p}function xL(l,i){return i.max-l.max}function od(l,i,c,f){this.p=new C(l,i),this.h=c,this.d=function(p,b){let S=!1,A=1/0;for(let D=0;D<b.length;D++){const F=b[D];for(let V=0,q=F.length,W=q-1;V<q;W=V++){const ee=F[V],ne=F[W];ee.y>p.y!=ne.y>p.y&&p.x<(ne.x-ee.x)*(p.y-ee.y)/(ne.y-ee.y)+ee.x&&(S=!S),A=Math.min(A,w1(p,ee,ne))}}return(S?1:-1)*Math.sqrt(A)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var Oi;o.aq=void 0,(Oi=o.aq||(o.aq={}))[Oi.center=1]="center",Oi[Oi.left=2]="left",Oi[Oi.right=3]="right",Oi[Oi.top=4]="top",Oi[Oi.bottom=5]="bottom",Oi[Oi["top-left"]=6]="top-left",Oi[Oi["top-right"]=7]="top-right",Oi[Oi["bottom-left"]=8]="bottom-left",Oi[Oi["bottom-right"]=9]="bottom-right";const Ul=7,Gy=Number.POSITIVE_INFINITY;function $w(l,i){return i[1]!==Gy?function(c,f,p){let b=0,S=0;switch(f=Math.abs(f),p=Math.abs(p),c){case"top-right":case"top-left":case"top":S=p-Ul;break;case"bottom-right":case"bottom-left":case"bottom":S=-p+Ul}switch(c){case"top-right":case"bottom-right":case"right":b=-f;break;case"top-left":case"bottom-left":case"left":b=f}return[b,S]}(l,i[0],i[1]):function(c,f){let p=0,b=0;f<0&&(f=0);const S=f/Math.SQRT2;switch(c){case"top-right":case"top-left":b=S-Ul;break;case"bottom-right":case"bottom-left":b=-S+Ul;break;case"bottom":b=-f+Ul;break;case"top":b=f-Ul}switch(c){case"top-right":case"bottom-right":p=-S;break;case"top-left":case"bottom-left":p=S;break;case"left":p=f;break;case"right":p=-f}return[p,b]}(l,i[0])}function Uw(l,i,c){var f;const p=l.layout,b=(f=p.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(i,{},c);if(b){const A=b.values,D=[];for(let F=0;F<A.length;F+=2){const V=D[F]=A[F],q=A[F+1].map(W=>W*ci);V.startsWith("top")?q[1]-=Ul:V.startsWith("bottom")&&(q[1]+=Ul),D[F+1]=q}return new Ta(D)}const S=p.get("text-variable-anchor");if(S){let A;A=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[p.get("text-radial-offset").evaluate(i,{},c)*ci,Gy]:p.get("text-offset").evaluate(i,{},c).map(F=>F*ci);const D=[];for(const F of S)D.push(F,$w(F,A));return new Ta(D)}return null}function Wy(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function wL(l,i,c,f,p,b,S,A,D,F,V){let q=b.textMaxSize.evaluate(i,{});q===void 0&&(q=S);const W=l.layers[0].layout,ee=W.get("icon-offset").evaluate(i,{},V),ne=jw(c.horizontal),ue=S/24,ye=l.tilePixelRatio*ue,we=l.tilePixelRatio*q/24,Oe=l.tilePixelRatio*A,Te=l.tilePixelRatio*W.get("symbol-spacing"),Be=W.get("text-padding")*l.tilePixelRatio,Ge=function(wt,nn,Xt,An=1){const xr=wt.get("icon-padding").evaluate(nn,{},Xt),Cr=xr&&xr.values;return[Cr[0]*An,Cr[1]*An,Cr[2]*An,Cr[3]*An]}(W,i,V,l.tilePixelRatio),ot=W.get("text-max-angle")/180*Math.PI,Nt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",Zt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Bt=W.get("symbol-placement"),Ft=Te/2,Dt=W.get("icon-text-fit");let qt;f&&Dt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(qt=hw(f,c.vertical,Dt,W.get("icon-text-fit-padding"),ee,ue)),ne&&(f=hw(f,ne,Dt,W.get("icon-text-fit-padding"),ee,ue)));const Mt=(wt,nn)=>{nn.x<0||nn.x>=ti||nn.y<0||nn.y>=ti||function(Xt,An,xr,Cr,ui,Ma,ra,ni,Ti,Fi,ia,aa,di,hi,ji,sa,Hi,xa,wa,fi,Ln,Gi,zi,mi,gs){const Ns=Xt.addToLineVertexArray(An,xr);let $s,Xo,vs,Wa,Sa=0,Jo=0,cf=0,Yw=0,t_=-1,n_=-1;const Qo={};let Zw=Wo("");if(Xt.allowVerticalPlacement&&Cr.vertical){const Wi=ni.layout.get("text-rotate").evaluate(Ln,{},mi)+90;vs=new Mp(Ti,An,Fi,ia,aa,Cr.vertical,di,hi,ji,Wi),ra&&(Wa=new Mp(Ti,An,Fi,ia,aa,ra,Hi,xa,ji,Wi))}if(ui){const Wi=ni.layout.get("icon-rotate").evaluate(Ln,{}),Ya=ni.layout.get("icon-text-fit")!=="none",Fc=Vw(ui,Wi,zi,Ya),qs=ra?Vw(ra,Wi,zi,Ya):void 0;Xo=new Mp(Ti,An,Fi,ia,aa,ui,Hi,xa,!1,Wi),Sa=4*Fc.length;const zc=Xt.iconSizeData;let yo=null;zc.kind==="source"?(yo=[vo*ni.layout.get("icon-size").evaluate(Ln,{})],yo[0]>Vl&&me(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${af}. Reduce your "icon-size".`)):zc.kind==="composite"&&(yo=[vo*Gi.compositeIconSizes[0].evaluate(Ln,{},mi),vo*Gi.compositeIconSizes[1].evaluate(Ln,{},mi)],(yo[0]>Vl||yo[1]>Vl)&&me(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${af}. Reduce your "icon-size".`)),Xt.addSymbols(Xt.icon,Fc,yo,fi,wa,Ln,o.ai.none,An,Ns.lineStartIndex,Ns.lineLength,-1,mi),t_=Xt.icon.placedSymbolArray.length-1,qs&&(Jo=4*qs.length,Xt.addSymbols(Xt.icon,qs,yo,fi,wa,Ln,o.ai.vertical,An,Ns.lineStartIndex,Ns.lineLength,-1,mi),n_=Xt.icon.placedSymbolArray.length-1)}const Kw=Object.keys(Cr.horizontal);for(const Wi of Kw){const Ya=Cr.horizontal[Wi];if(!$s){Zw=Wo(Ya.text);const qs=ni.layout.get("text-rotate").evaluate(Ln,{},mi);$s=new Mp(Ti,An,Fi,ia,aa,Ya,di,hi,ji,qs)}const Fc=Ya.positionedLines.length===1;if(cf+=qw(Xt,An,Ya,Ma,ni,ji,Ln,sa,Ns,Cr.vertical?o.ai.horizontal:o.ai.horizontalOnly,Fc?Kw:[Wi],Qo,t_,Gi,mi),Fc)break}Cr.vertical&&(Yw+=qw(Xt,An,Cr.vertical,Ma,ni,ji,Ln,sa,Ns,o.ai.vertical,["vertical"],Qo,n_,Gi,mi));const CL=$s?$s.boxStartIndex:Xt.collisionBoxArray.length,TL=$s?$s.boxEndIndex:Xt.collisionBoxArray.length,AL=vs?vs.boxStartIndex:Xt.collisionBoxArray.length,EL=vs?vs.boxEndIndex:Xt.collisionBoxArray.length,IL=Xo?Xo.boxStartIndex:Xt.collisionBoxArray.length,PL=Xo?Xo.boxEndIndex:Xt.collisionBoxArray.length,DL=Wa?Wa.boxStartIndex:Xt.collisionBoxArray.length,ML=Wa?Wa.boxEndIndex:Xt.collisionBoxArray.length;let Us=-1;const Rp=(Wi,Ya)=>Wi&&Wi.circleDiameter?Math.max(Wi.circleDiameter,Ya):Ya;Us=Rp($s,Us),Us=Rp(vs,Us),Us=Rp(Xo,Us),Us=Rp(Wa,Us);const Xw=Us>-1?1:0;Xw&&(Us*=gs/ci),Xt.glyphOffsetArray.length>=ad.MAX_GLYPHS&&me("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ln.sortKey!==void 0&&Xt.addToSortKeyRanges(Xt.symbolInstances.length,Ln.sortKey);const LL=Uw(ni,Ln,mi),[RL,OL]=function(Wi,Ya){const Fc=Wi.length,qs=Ya==null?void 0:Ya.values;if((qs==null?void 0:qs.length)>0)for(let zc=0;zc<qs.length;zc+=2){const yo=qs[zc+1];Wi.emplaceBack(o.aq[qs[zc]],yo[0],yo[1])}return[Fc,Wi.length]}(Xt.textAnchorOffsets,LL);Xt.symbolInstances.emplaceBack(An.x,An.y,Qo.right>=0?Qo.right:-1,Qo.center>=0?Qo.center:-1,Qo.left>=0?Qo.left:-1,Qo.vertical||-1,t_,n_,Zw,CL,TL,AL,EL,IL,PL,DL,ML,Fi,cf,Yw,Sa,Jo,Xw,0,di,Us,RL,OL)}(l,nn,wt,c,f,p,qt,l.layers[0],l.collisionBoxArray,i.index,i.sourceLayerIndex,l.index,ye,[Be,Be,Be,Be],Nt,D,Oe,Ge,Zt,ee,i,b,F,V,S)};if(Bt==="line")for(const wt of Lw(i.geometry,0,0,ti,ti)){const nn=vL(wt,Te,ot,c.vertical||ne,f,24,we,l.overscaling,ti);for(const Xt of nn)ne&&SL(l,ne.text,Ft,Xt)||Mt(wt,Xt)}else if(Bt==="line-center"){for(const wt of i.geometry)if(wt.length>1){const nn=gL(wt,ot,c.vertical||ne,f,24,we);nn&&Mt(wt,nn)}}else if(i.type==="Polygon")for(const wt of Cy(i.geometry,0)){const nn=bL(wt,16);Mt(wt[0],new $l(nn.x,nn.y,0))}else if(i.type==="LineString")for(const wt of i.geometry)Mt(wt,new $l(wt[0].x,wt[0].y,0));else if(i.type==="Point")for(const wt of i.geometry)for(const nn of wt)Mt([nn],new $l(nn.x,nn.y,0))}function qw(l,i,c,f,p,b,S,A,D,F,V,q,W,ee,ne){const ue=function(Oe,Te,Be,Ge,ot,Nt,Zt,Bt){const Ft=Ge.layout.get("text-rotate").evaluate(Nt,{})*Math.PI/180,Dt=[];for(const qt of Te.positionedLines)for(const Mt of qt.positionedGlyphs){if(!Mt.rect)continue;const wt=Mt.rect||{};let nn=aw+1,Xt=!0,An=1,xr=0;const Cr=(ot||Bt)&&Mt.vertical,ui=Mt.metrics.advance*Mt.scale/2;if(Bt&&Te.verticalizable&&(xr=qt.lineOffset/2-(Mt.imageName?-(ci-Mt.metrics.width*Mt.scale)/2:(Mt.scale-1)*ci)),Mt.imageName){const fi=Zt[Mt.imageName];Xt=fi.sdf,An=fi.pixelRatio,nn=ba/An}const Ma=ot?[Mt.x+ui,Mt.y]:[0,0];let ra=ot?[0,0]:[Mt.x+ui+Be[0],Mt.y+Be[1]-xr],ni=[0,0];Cr&&(ni=ra,ra=[0,0]);const Ti=Mt.metrics.isDoubleResolution?2:1,Fi=(Mt.metrics.left-nn)*Mt.scale-ui+ra[0],ia=(-Mt.metrics.top-nn)*Mt.scale+ra[1],aa=Fi+wt.w/Ti*Mt.scale/An,di=ia+wt.h/Ti*Mt.scale/An,hi=new C(Fi,ia),ji=new C(aa,ia),sa=new C(Fi,di),Hi=new C(aa,di);if(Cr){const fi=new C(-ui,ui-nf),Ln=-Math.PI/2,Gi=ci/2-ui,zi=new C(5-nf-Gi,-(Mt.imageName?Gi:0)),mi=new C(...ni);hi._rotateAround(Ln,fi)._add(zi)._add(mi),ji._rotateAround(Ln,fi)._add(zi)._add(mi),sa._rotateAround(Ln,fi)._add(zi)._add(mi),Hi._rotateAround(Ln,fi)._add(zi)._add(mi)}if(Ft){const fi=Math.sin(Ft),Ln=Math.cos(Ft),Gi=[Ln,-fi,fi,Ln];hi._matMult(Gi),ji._matMult(Gi),sa._matMult(Gi),Hi._matMult(Gi)}const xa=new C(0,0),wa=new C(0,0);Dt.push({tl:hi,tr:ji,bl:sa,br:Hi,tex:wt,writingMode:Te.writingMode,glyphOffset:Ma,sectionIndex:Mt.sectionIndex,isSDF:Xt,pixelOffsetTL:xa,pixelOffsetBR:wa,minFontScaleX:0,minFontScaleY:0})}return Dt}(0,c,A,p,b,S,f,l.allowVerticalPlacement),ye=l.textSizeData;let we=null;ye.kind==="source"?(we=[vo*p.layout.get("text-size").evaluate(S,{})],we[0]>Vl&&me(`${l.layerIds[0]}: Value for "text-size" is >= ${af}. Reduce your "text-size".`)):ye.kind==="composite"&&(we=[vo*ee.compositeTextSizes[0].evaluate(S,{},ne),vo*ee.compositeTextSizes[1].evaluate(S,{},ne)],(we[0]>Vl||we[1]>Vl)&&me(`${l.layerIds[0]}: Value for "text-size" is >= ${af}. Reduce your "text-size".`)),l.addSymbols(l.text,ue,we,A,b,S,F,i,D.lineStartIndex,D.lineLength,W,ne);for(const Oe of V)q[Oe]=l.text.placedSymbolArray.length-1;return 4*ue.length}function jw(l){for(const i in l)return l[i];return null}function SL(l,i,c,f){const p=l.compareText;if(i in p){const b=p[i];for(let S=b.length-1;S>=0;S--)if(f.dist(b[S])<c)return!0}else p[i]=[];return p[i].push(f),!1}const Hw=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Yy{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,f]=new Uint8Array(i,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const p=f>>4;if(p!==1)throw new Error(`Got v${p} data when expected v1.`);const b=Hw[15&f];if(!b)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(i,2,1),[A]=new Uint32Array(i,4,1);return new Yy(A,S,b,i)}constructor(i,c=64,f=Float64Array,p){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=f,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const b=Hw.indexOf(this.ArrayType),S=2*i*this.ArrayType.BYTES_PER_ELEMENT,A=i*this.IndexArrayType.BYTES_PER_ELEMENT,D=(8-A%8)%8;if(b<0)throw new Error(`Unexpected typed array class: ${f}.`);p&&p instanceof ArrayBuffer?(this.data=p,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+S+A+D),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+b]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=i)}add(i,c){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=i,this.coords[this._pos++]=c,f}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return Zy(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,c,f,p){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:b,coords:S,nodeSize:A}=this,D=[0,b.length-1,0],F=[];for(;D.length;){const V=D.pop()||0,q=D.pop()||0,W=D.pop()||0;if(q-W<=A){for(let ye=W;ye<=q;ye++){const we=S[2*ye],Oe=S[2*ye+1];we>=i&&we<=f&&Oe>=c&&Oe<=p&&F.push(b[ye])}continue}const ee=W+q>>1,ne=S[2*ee],ue=S[2*ee+1];ne>=i&&ne<=f&&ue>=c&&ue<=p&&F.push(b[ee]),(V===0?i<=ne:c<=ue)&&(D.push(W),D.push(ee-1),D.push(1-V)),(V===0?f>=ne:p>=ue)&&(D.push(ee+1),D.push(q),D.push(1-V))}return F}within(i,c,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:p,coords:b,nodeSize:S}=this,A=[0,p.length-1,0],D=[],F=f*f;for(;A.length;){const V=A.pop()||0,q=A.pop()||0,W=A.pop()||0;if(q-W<=S){for(let ye=W;ye<=q;ye++)Ww(b[2*ye],b[2*ye+1],i,c)<=F&&D.push(p[ye]);continue}const ee=W+q>>1,ne=b[2*ee],ue=b[2*ee+1];Ww(ne,ue,i,c)<=F&&D.push(p[ee]),(V===0?i-f<=ne:c-f<=ue)&&(A.push(W),A.push(ee-1),A.push(1-V)),(V===0?i+f>=ne:c+f>=ue)&&(A.push(ee+1),A.push(q),A.push(1-V))}return D}}function Zy(l,i,c,f,p,b){if(p-f<=c)return;const S=f+p>>1;Gw(l,i,S,f,p,b),Zy(l,i,c,f,S-1,1-b),Zy(l,i,c,S+1,p,1-b)}function Gw(l,i,c,f,p,b){for(;p>f;){if(p-f>600){const F=p-f+1,V=c-f+1,q=Math.log(F),W=.5*Math.exp(2*q/3),ee=.5*Math.sqrt(q*W*(F-W)/F)*(V-F/2<0?-1:1);Gw(l,i,c,Math.max(f,Math.floor(c-V*W/F+ee)),Math.min(p,Math.floor(c+(F-V)*W/F+ee)),b)}const S=i[2*c+b];let A=f,D=p;for(of(l,i,f,c),i[2*p+b]>S&&of(l,i,f,p);A<D;){for(of(l,i,A,D),A++,D--;i[2*A+b]<S;)A++;for(;i[2*D+b]>S;)D--}i[2*f+b]===S?of(l,i,f,D):(D++,of(l,i,D,p)),D<=c&&(f=D+1),c<=D&&(p=D-1)}}function of(l,i,c,f){Ky(l,c,f),Ky(i,2*c,2*f),Ky(i,2*c+1,2*f+1)}function Ky(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}function Ww(l,i,c,f){const p=l-c,b=i-f;return p*p+b*b}var Xy;o.bh=void 0,(Xy=o.bh||(o.bh={})).create="create",Xy.load="load",Xy.fullLoad="fullLoad";let Lp=null,lf=[];const Jy=1e3/60,Qy="loadTime",e_="fullLoadTime",kL={mark(l){performance.mark(l)},frame(l){const i=l;Lp!=null&&lf.push(i-Lp),Lp=i},clearMetrics(){Lp=null,lf=[],performance.clearMeasures(Qy),performance.clearMeasures(e_);for(const l in o.bh)performance.clearMarks(o.bh[l])},getPerformanceMetrics(){performance.measure(Qy,o.bh.create,o.bh.load),performance.measure(e_,o.bh.create,o.bh.fullLoad);const l=performance.getEntriesByName(Qy)[0].duration,i=performance.getEntriesByName(e_)[0].duration,c=lf.length,f=1/(lf.reduce((b,S)=>b+S,0)/c/1e3),p=lf.filter(b=>b>Jy).reduce((b,S)=>b+(S-Jy)/Jy,0);return{loadTime:l,fullLoadTime:i,fps:f,percentDroppedFrames:p/(c+p)*100,totalFrames:c}}};o.$=function(l,i,c){var f,p,b,S,A,D,F,V,q,W,ee,ne,ue=c[0],ye=c[1],we=c[2];return i===l?(l[12]=i[0]*ue+i[4]*ye+i[8]*we+i[12],l[13]=i[1]*ue+i[5]*ye+i[9]*we+i[13],l[14]=i[2]*ue+i[6]*ye+i[10]*we+i[14],l[15]=i[3]*ue+i[7]*ye+i[11]*we+i[15]):(p=i[1],b=i[2],S=i[3],A=i[4],D=i[5],F=i[6],V=i[7],q=i[8],W=i[9],ee=i[10],ne=i[11],l[0]=f=i[0],l[1]=p,l[2]=b,l[3]=S,l[4]=A,l[5]=D,l[6]=F,l[7]=V,l[8]=q,l[9]=W,l[10]=ee,l[11]=ne,l[12]=f*ue+A*ye+q*we+i[12],l[13]=p*ue+D*ye+W*we+i[13],l[14]=b*ue+F*ye+ee*we+i[14],l[15]=S*ue+V*ye+ne*we+i[15]),l},o.A=Qu,o.B=pa,o.C=class{constructor(l,i,c){this.receive=f=>{const p=f.data,b=p.id;if(b&&(!p.targetMapId||this.mapId===p.targetMapId))if(p.type==="<cancel>"){delete this.tasks[b];const S=this.cancelCallbacks[b];delete this.cancelCallbacks[b],S&&S()}else Ue()||p.mustQueue?(this.tasks[b]=p,this.taskQueue.push(b),this.invoker.trigger()):this.processTask(b,p)},this.process=()=>{if(!this.taskQueue.length)return;const f=this.taskQueue.shift(),p=this.tasks[f];delete this.tasks[f],this.taskQueue.length&&this.invoker.trigger(),p&&this.processTask(f,p)},this.target=l,this.parent=i,this.mapId=c,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new mL(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ue()?l:window}send(l,i,c,f,p=!1){const b=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(this.callbacks[b]=c);const S=[],A={id:b,type:l,hasCallback:!!c,targetMapId:f,mustQueue:p,sourceMapId:this.mapId,data:mo(i,S)};return this.target.postMessage(A,{transfer:S}),{cancel:()=>{c&&delete this.callbacks[b],this.target.postMessage({id:b,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}processTask(l,i){if(i.type==="<response>"){const c=this.callbacks[l];delete this.callbacks[l],c&&(i.error?c(Ll(i.error)):c(null,Ll(i.data)))}else{let c=!1;const f=[],p=i.hasCallback?(A,D)=>{c=!0,delete this.cancelCallbacks[l];const F={id:l,type:"<response>",sourceMapId:this.mapId,error:A?mo(A):null,data:mo(D,f)};this.target.postMessage(F,{transfer:f})}:A=>{c=!0};let b=null;const S=Ll(i.data);if(this.parent[i.type])b=this.parent[i.type](i.sourceMapId,S,p);else if("getWorkerSource"in this.parent){const A=i.type.split(".");b=this.parent.getWorkerSource(i.sourceMapId,A[0],S.source)[A[1]](S,p)}else p(new Error(`Could not find function ${i.type}`));!c&&b&&b.cancel&&(this.cancelCallbacks[l]=b.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},o.D=Qt,o.E=Tt,o.F=function(l,i){const c={};for(let f=0;f<i.length;f++){const p=i[f];p in l&&(c[p]=l[p])}return c},o.G=xw,o.H=ww,o.I=Oy,o.J=j,o.K=Z,o.L=Nl,o.M=$e,o.N=ti,o.O=Ga,o.P=C,o.Q=Pr,o.R=Ha,o.S=br,o.T=lp,o.U=Ep,o.V=class extends Ho{},o.W=Hy,o.X=function(l,i){const c=window.document.createElement("video");c.muted=!0,c.onloadstart=function(){i(null,c)};for(let f=0;f<l.length;f++){const p=window.document.createElement("source");fe(l[f])||(c.crossOrigin="Anonymous"),p.src=l[f],c.appendChild(p)}return{cancel:()=>{}}},o.Y=vt,o.Z=function(){var l=new Qu(16);return Qu!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},o._=g,o.a=Ce,o.a$=class extends J{},o.a0=function(l,i,c){var f=c[0],p=c[1],b=c[2];return l[0]=i[0]*f,l[1]=i[1]*f,l[2]=i[2]*f,l[3]=i[3]*f,l[4]=i[4]*p,l[5]=i[5]*p,l[6]=i[6]*p,l[7]=i[7]*p,l[8]=i[8]*b,l[9]=i[9]*b,l[10]=i[10]*b,l[11]=i[11]*b,l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.a1=T1,o.a2=function(){return $++},o.a3=ge,o.a4=ad,o.a5=function(){ya.isLoading()||ya.isLoaded()||Oh()!=="deferred"||op()},o.a6=kh,o.a7=Rc,o.a8=_r,o.a9=Iw,o.aA=Ec,o.aB=function(l){l=l.slice();const i=Object.create(null);for(let c=0;c<l.length;c++)i[l[c].id]=l[c];for(let c=0;c<l.length;c++)"ref"in l[c]&&(l[c]=Qe(l[c],i[l[c].ref]));return l},o.aC=function(l){if(l.type==="custom")return new fL(l);switch(l.type){case"background":return new uL(l);case"circle":return new ZD(l);case"fill":return new pM(l);case"fill-extrusion":return new PM(l);case"heatmap":return new XD(l);case"hillshade":return new QD(l);case"line":return new BM(l);case"raster":return new hL(l);case"symbol":return new Ap(l)}},o.aD=te,o.aE=function(l,i){if(!l)return[{command:kt.setStyle,args:[i]}];let c=[];try{if(!ct(l.version,i.version))return[{command:kt.setStyle,args:[i]}];ct(l.center,i.center)||c.push({command:kt.setCenter,args:[i.center]}),ct(l.zoom,i.zoom)||c.push({command:kt.setZoom,args:[i.zoom]}),ct(l.bearing,i.bearing)||c.push({command:kt.setBearing,args:[i.bearing]}),ct(l.pitch,i.pitch)||c.push({command:kt.setPitch,args:[i.pitch]}),ct(l.sprite,i.sprite)||c.push({command:kt.setSprite,args:[i.sprite]}),ct(l.glyphs,i.glyphs)||c.push({command:kt.setGlyphs,args:[i.glyphs]}),ct(l.transition,i.transition)||c.push({command:kt.setTransition,args:[i.transition]}),ct(l.light,i.light)||c.push({command:kt.setLight,args:[i.light]});const f={},p=[];(function(S,A,D,F){let V;for(V in A=A||{},S=S||{})Object.prototype.hasOwnProperty.call(S,V)&&(Object.prototype.hasOwnProperty.call(A,V)||sn(V,D,F));for(V in A)Object.prototype.hasOwnProperty.call(A,V)&&(Object.prototype.hasOwnProperty.call(S,V)?ct(S[V],A[V])||(S[V].type==="geojson"&&A[V].type==="geojson"&&On(S,A,V)?D.push({command:kt.setGeoJSONSourceData,args:[V,A[V].data]}):on(V,A,D,F)):Pt(V,A,D))})(l.sources,i.sources,p,f);const b=[];l.layers&&l.layers.forEach(S=>{f[S.source]?c.push({command:kt.removeLayer,args:[S.id]}):b.push(S)}),c=c.concat(p),function(S,A,D){A=A||[];const F=(S=S||[]).map($n),V=A.map($n),q=S.reduce(ur,{}),W=A.reduce(ur,{}),ee=F.slice(),ne=Object.create(null);let ue,ye,we,Oe,Te,Be,Ge;for(ue=0,ye=0;ue<F.length;ue++)we=F[ue],Object.prototype.hasOwnProperty.call(W,we)?ye++:(D.push({command:kt.removeLayer,args:[we]}),ee.splice(ee.indexOf(we,ye),1));for(ue=0,ye=0;ue<V.length;ue++)we=V[V.length-1-ue],ee[ee.length-1-ue]!==we&&(Object.prototype.hasOwnProperty.call(q,we)?(D.push({command:kt.removeLayer,args:[we]}),ee.splice(ee.lastIndexOf(we,ee.length-ye),1)):ye++,Be=ee[ee.length-ue],D.push({command:kt.addLayer,args:[W[we],Be]}),ee.splice(ee.length-ue,0,we),ne[we]=!0);for(ue=0;ue<V.length;ue++)if(we=V[ue],Oe=q[we],Te=W[we],!ne[we]&&!ct(Oe,Te))if(ct(Oe.source,Te.source)&&ct(Oe["source-layer"],Te["source-layer"])&&ct(Oe.type,Te.type)){for(Ge in bn(Oe.layout,Te.layout,D,we,null,kt.setLayoutProperty),bn(Oe.paint,Te.paint,D,we,null,kt.setPaintProperty),ct(Oe.filter,Te.filter)||D.push({command:kt.setFilter,args:[we,Te.filter]}),ct(Oe.minzoom,Te.minzoom)&&ct(Oe.maxzoom,Te.maxzoom)||D.push({command:kt.setLayerZoomRange,args:[we,Te.minzoom,Te.maxzoom]}),Oe)Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?bn(Oe[Ge],Te[Ge],D,we,Ge.slice(6),kt.setPaintProperty):ct(Oe[Ge],Te[Ge])||D.push({command:kt.setLayerProperty,args:[we,Ge,Te[Ge]]}));for(Ge in Te)Object.prototype.hasOwnProperty.call(Te,Ge)&&!Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?bn(Oe[Ge],Te[Ge],D,we,Ge.slice(6),kt.setPaintProperty):ct(Oe[Ge],Te[Ge])||D.push({command:kt.setLayerProperty,args:[we,Ge,Te[Ge]]}))}else D.push({command:kt.removeLayer,args:[we]}),Be=ee[ee.lastIndexOf(we)+1],D.push({command:kt.addLayer,args:[Te,Be]})}(b,i.layers,c)}catch(f){console.warn("Unable to compute style diff:",f),c=[{command:kt.setStyle,args:[i]}]}return c},o.aF=function(l){const i=[],c=l.id;return c===void 0&&i.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&i.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&i.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),i},o.aG=function l(i,c){if(Array.isArray(i)){if(!Array.isArray(c)||i.length!==c.length)return!1;for(let f=0;f<i.length;f++)if(!l(i[f],c[f]))return!1;return!0}if(typeof i=="object"&&i!==null&&c!==null){if(typeof c!="object"||Object.keys(i).length!==Object.keys(c).length)return!1;for(const f in i)if(!l(i[f],c[f]))return!1;return!0}return i===c},o.aH=K,o.aI=ae,o.aJ=Ic,o.aK=function(l){return l({pluginStatus:ea,pluginURL:po}),Ic.on("pluginStateChange",l),l},o.aL=class extends Yo{constructor(l,i){super(l,i),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},o.aM=Xu,o.aN=class extends Yo{constructor(l,i){super(l,i),this.current=fy}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let i=1;i<16;i++)if(l[i]!==this.current[i]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},o.aO=hp,o.aP=class extends Yo{constructor(l,i){super(l,i),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},o.aQ=class extends Yo{constructor(l,i){super(l,i),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},o.aR=fp,o.aS=function(l,i,c,f,p,b,S){var A=1/(i-c),D=1/(f-p),F=1/(b-S);return l[0]=-2*A,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*D,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*F,l[11]=0,l[12]=(i+c)*A,l[13]=(p+f)*D,l[14]=(S+b)*F,l[15]=1,l},o.aT=er,o.aU=YD,o.aV=class extends m{},o.aW=UM,o.aX=class extends x{},o.aY=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},o.aZ=D1,o.a_=Et,o.aa=function(l){const i={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,f,p,b)=>{const S=p||b;return i[f]=!S||S.toLowerCase(),""}),i["max-age"]){const c=parseInt(i["max-age"],10);isNaN(c)?delete i["max-age"]:i["max-age"]=c}return i},o.ab=function(l,i){const c=[];for(const f in l)f in i||c.push(f);return c},o.ac=function(l){if(Fe==null){const i=l.navigator?l.navigator.userAgent:null;Fe=!!l.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Fe},o.ad=Q,o.ae=function(l,i,c){var f=Math.sin(c),p=Math.cos(c),b=i[0],S=i[1],A=i[2],D=i[3],F=i[4],V=i[5],q=i[6],W=i[7];return i!==l&&(l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[0]=b*p+F*f,l[1]=S*p+V*f,l[2]=A*p+q*f,l[3]=D*p+W*f,l[4]=F*p-b*f,l[5]=V*p-S*f,l[6]=q*p-A*f,l[7]=W*p-D*f,l},o.af=function(l){var i=new Qu(16);return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i},o.ag=vp,o.ah=function(l,i){let c=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:p,minZoom:b,maxZoom:S}=l,A=p?Q(ga.interpolationFactor(p,i,b,S),0,1):0;l.kind==="camera"?f=pa.number(l.minSize,l.maxSize,A):c=A}return{uSizeT:c,uSize:f}},o.aj=function(l,{uSize:i,uSizeT:c},{lowerSize:f,upperSize:p}){return l.kind==="source"?f/vo:l.kind==="composite"?pa.number(f/vo,p/vo,c):i},o.ak=Vy,o.al=function(l,i,c,f){const p=i.y-l.y,b=i.x-l.x,S=f.y-c.y,A=f.x-c.x,D=S*b-A*p;if(D===0)return null;const F=(A*(l.y-c.y)-S*(l.x-c.x))/D;return new C(l.x+F*b,l.y+F*p)},o.am=Lw,o.an=b1,o.ao=yy,o.ap=ci,o.ar=By,o.as=function(l,i){var c=i[0],f=i[1],p=i[2],b=i[3],S=i[4],A=i[5],D=i[6],F=i[7],V=i[8],q=i[9],W=i[10],ee=i[11],ne=i[12],ue=i[13],ye=i[14],we=i[15],Oe=c*A-f*S,Te=c*D-p*S,Be=c*F-b*S,Ge=f*D-p*A,ot=f*F-b*A,Nt=p*F-b*D,Zt=V*ue-q*ne,Bt=V*ye-W*ne,Ft=V*we-ee*ne,Dt=q*ye-W*ue,qt=q*we-ee*ue,Mt=W*we-ee*ye,wt=Oe*Mt-Te*qt+Be*Dt+Ge*Ft-ot*Bt+Nt*Zt;return wt?(l[0]=(A*Mt-D*qt+F*Dt)*(wt=1/wt),l[1]=(p*qt-f*Mt-b*Dt)*wt,l[2]=(ue*Nt-ye*ot+we*Ge)*wt,l[3]=(W*ot-q*Nt-ee*Ge)*wt,l[4]=(D*Ft-S*Mt-F*Bt)*wt,l[5]=(c*Mt-p*Ft+b*Bt)*wt,l[6]=(ye*Be-ne*Nt-we*Te)*wt,l[7]=(V*Nt-W*Be+ee*Te)*wt,l[8]=(S*qt-A*Ft+F*Zt)*wt,l[9]=(f*Ft-c*qt-b*Zt)*wt,l[10]=(ne*ot-ue*Be+we*Oe)*wt,l[11]=(q*Be-V*ot-ee*Oe)*wt,l[12]=(A*Bt-S*Dt-D*Zt)*wt,l[13]=(c*Dt-f*Bt+p*Zt)*wt,l[14]=(ue*Te-ne*Ge-ye*Oe)*wt,l[15]=(V*Ge-q*Te+W*Oe)*wt,l):null},o.at=Wy,o.au=zy,o.av=Yy,o.aw=function(){const l={},i=ke.$version;for(const c in ke.$root){const f=ke.$root[c];if(f.required){let p=null;p=c==="version"?i:f.type==="array"?[]:{},p!=null&&(l[c]=p)}}return l},o.ax=kt,o.ay=rp,o.az=je,o.b=function(l,i){const c=new Blob([new Uint8Array(l)],{type:"image/png"});createImageBitmap(c).then(f=>{i(null,f)}).catch(f=>{i(new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},o.b0=ki,o.b1=function(l,i){var c=l[0],f=l[1],p=l[2],b=l[3],S=l[4],A=l[5],D=l[6],F=l[7],V=l[8],q=l[9],W=l[10],ee=l[11],ne=l[12],ue=l[13],ye=l[14],we=l[15],Oe=i[0],Te=i[1],Be=i[2],Ge=i[3],ot=i[4],Nt=i[5],Zt=i[6],Bt=i[7],Ft=i[8],Dt=i[9],qt=i[10],Mt=i[11],wt=i[12],nn=i[13],Xt=i[14],An=i[15];return Math.abs(c-Oe)<=na*Math.max(1,Math.abs(c),Math.abs(Oe))&&Math.abs(f-Te)<=na*Math.max(1,Math.abs(f),Math.abs(Te))&&Math.abs(p-Be)<=na*Math.max(1,Math.abs(p),Math.abs(Be))&&Math.abs(b-Ge)<=na*Math.max(1,Math.abs(b),Math.abs(Ge))&&Math.abs(S-ot)<=na*Math.max(1,Math.abs(S),Math.abs(ot))&&Math.abs(A-Nt)<=na*Math.max(1,Math.abs(A),Math.abs(Nt))&&Math.abs(D-Zt)<=na*Math.max(1,Math.abs(D),Math.abs(Zt))&&Math.abs(F-Bt)<=na*Math.max(1,Math.abs(F),Math.abs(Bt))&&Math.abs(V-Ft)<=na*Math.max(1,Math.abs(V),Math.abs(Ft))&&Math.abs(q-Dt)<=na*Math.max(1,Math.abs(q),Math.abs(Dt))&&Math.abs(W-qt)<=na*Math.max(1,Math.abs(W),Math.abs(qt))&&Math.abs(ee-Mt)<=na*Math.max(1,Math.abs(ee),Math.abs(Mt))&&Math.abs(ne-wt)<=na*Math.max(1,Math.abs(ne),Math.abs(wt))&&Math.abs(ue-nn)<=na*Math.max(1,Math.abs(ue),Math.abs(nn))&&Math.abs(ye-Xt)<=na*Math.max(1,Math.abs(ye),Math.abs(Xt))&&Math.abs(we-An)<=na*Math.max(1,Math.abs(we),Math.abs(An))},o.b2=function(l,i){return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.b3=function(l,i,c){return l[0]=i[0]*c[0],l[1]=i[1]*c[1],l[2]=i[2]*c[2],l[3]=i[3]*c[3],l},o.b4=function(l,i){return l[0]*i[0]+l[1]*i[1]+l[2]*i[2]+l[3]*i[3]},o.b5=se,o.b6=Tw,o.b7=Sw,o.b8=function(l,i,c,f,p){var b,S=1/Math.tan(i/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,p!=null&&p!==1/0?(l[10]=(p+f)*(b=1/(f-p)),l[14]=2*p*f*b):(l[10]=-1,l[14]=-2*f),l},o.b9=function(l,i,c){var f=Math.sin(c),p=Math.cos(c),b=i[4],S=i[5],A=i[6],D=i[7],F=i[8],V=i[9],q=i[10],W=i[11];return i!==l&&(l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[4]=b*p+F*f,l[5]=S*p+V*f,l[6]=A*p+q*f,l[7]=D*p+W*f,l[8]=F*p-b*f,l[9]=V*p-S*f,l[10]=q*p-A*f,l[11]=W*p-D*f,l},o.bA=w,o.bB=J1,o.bC=Nu,o.bD=ya,o.ba=re,o.bb=ie,o.bc=function(l,i){return l[0]=i[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=i[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=i[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},o.bd=class extends Mc{},o.be=qy,o.bf=kw,o.bg=kL,o.bi=tt,o.bj=function(l,i,c=!1){if(ea===Ph||ea===Dh||ea===Mh)throw new Error("setRTLTextPlugin cannot be called multiple times.");po=gt.resolveURL(l),ea=Ph,Lh=i,Rh(),c||op()},o.bk=Oh,o.bl=function(l,i){const c={};for(let p=0;p<l.length;p++){const b=i&&i[l[p].id]||ju(l[p]);i&&(i[l[p].id]=b);let S=c[b];S||(S=c[b]=[]),S.push(l[p])}const f=[];for(const p in c)f.push(c[p]);return f},o.bm=Ut,o.bn=Ew,o.bo=Pw,o.bp=ow,o.bq=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=ti/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const i=l.bucket.layers[0],c=i.layout,f=i._unevaluatedLayout._values,p={layoutIconSize:f["icon-size"].possiblyEvaluate(new _r(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new _r(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new _r(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:F,maxZoom:V}=l.bucket.textSizeData;p.compositeTextSizes=[f["text-size"].possiblyEvaluate(new _r(F),l.canonical),f["text-size"].possiblyEvaluate(new _r(V),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:F,maxZoom:V}=l.bucket.iconSizeData;p.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new _r(F),l.canonical),f["icon-size"].possiblyEvaluate(new _r(V),l.canonical)]}const b=c.get("text-line-height")*ci,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",A=c.get("text-keep-upright"),D=c.get("text-size");for(const F of l.bucket.features){const V=c.get("text-font").evaluate(F,{},l.canonical).join(","),q=D.evaluate(F,{},l.canonical),W=p.layoutTextSize.evaluate(F,{},l.canonical),ee=p.layoutIconSize.evaluate(F,{},l.canonical),ne={horizontal:{},vertical:void 0},ue=F.text;let ye,we=[0,0];if(ue){const Be=ue.toString(),Ge=c.get("text-letter-spacing").evaluate(F,{},l.canonical)*ci,ot=Eh(Be)?Ge:0,Nt=c.get("text-anchor").evaluate(F,{},l.canonical),Zt=Uw(i,F,l.canonical);if(!Zt){const Mt=c.get("text-radial-offset").evaluate(F,{},l.canonical);we=Mt?$w(Nt,[Mt*ci,Gy]):c.get("text-offset").evaluate(F,{},l.canonical).map(wt=>wt*ci)}let Bt=S?"center":c.get("text-justify").evaluate(F,{},l.canonical);const Ft=c.get("symbol-placement"),Dt=Ft==="point"?c.get("text-max-width").evaluate(F,{},l.canonical)*ci:0,qt=()=>{l.bucket.allowVerticalPlacement&&Ah(Be)&&(ne.vertical=kp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,b,Nt,"left",ot,we,o.ai.vertical,!0,Ft,W,q))};if(!S&&Zt){const Mt=new Set;if(Bt==="auto")for(let nn=0;nn<Zt.values.length;nn+=2)Mt.add(Wy(Zt.values[nn]));else Mt.add(Bt);let wt=!1;for(const nn of Mt)if(!ne.horizontal[nn])if(wt)ne.horizontal[nn]=ne.horizontal[0];else{const Xt=kp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,b,"center",nn,ot,we,o.ai.horizontal,!1,Ft,W,q);Xt&&(ne.horizontal[nn]=Xt,wt=Xt.positionedLines.length===1)}qt()}else{Bt==="auto"&&(Bt=Wy(Nt));const Mt=kp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,b,Nt,Bt,ot,we,o.ai.horizontal,!1,Ft,W,q);Mt&&(ne.horizontal[Bt]=Mt),qt(),Ah(Be)&&S&&A&&(ne.vertical=kp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,b,Nt,Bt,ot,we,o.ai.vertical,!1,Ft,W,q))}}let Oe=!1;if(F.icon&&F.icon.name){const Be=l.imageMap[F.icon.name];Be&&(ye=aL(l.imagePositions[F.icon.name],c.get("icon-offset").evaluate(F,{},l.canonical),c.get("icon-anchor").evaluate(F,{},l.canonical)),Oe=!!Be.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Oe:l.bucket.sdfIcons!==Oe&&me("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Be.pixelRatio!==l.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const Te=jw(ne.horizontal)||ne.vertical;l.bucket.iconsInText=!!Te&&Te.iconsInText,(Te||ye)&&wL(l.bucket,F,ne,ye,l.imageMap,p,W,ee,we,Oe,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},o.br=Dy,o.bs=Ey,o.bt=Py,o.bu=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},o.bv=Ly,o.bw=zl,o.bx=function(l,i,c,f,p){return g(this,void 0,void 0,function*(){if(Z())try{return yield $e(l,i,c,f,p)}catch{}return function(b,S,A,D,F){const V=b.width,q=b.height;qe&&pt||(qe=new OffscreenCanvas(V,q),pt=qe.getContext("2d",{willReadFrequently:!0})),qe.width=V,qe.height=q,pt.drawImage(b,0,0,V,q);const W=pt.getImageData(S,A,D,F);return pt.clearRect(0,0,V,q),W.data}(l,i,c,f,p)})},o.by=Aw,o.bz=y,o.c=Ne,o.d=function(l,i){const c=new Image;c.onload=()=>{i(null,c),URL.revokeObjectURL(c.src),c.onload=null,window.requestAnimationFrame(()=>{c.src=Ve})},c.onerror=()=>i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const f=new Blob([new Uint8Array(l)],{type:"image/png"});c.src=l.byteLength?URL.createObjectURL(f):Ve},o.e=H,o.f=function(l,i){return It(H(l,{type:"json"}),i)},o.g=et,o.h=gt,o.i=Ue,o.j=nt,o.k=Ze,o.l=oe,o.m=It,o.n=function(l){return new Ly(l).readFields(QM,[])},o.o=function(l,i,c){if(!l.length)return c(null,[]);let f=l.length;const p=new Array(l.length);let b=null;l.forEach((S,A)=>{i(S,(D,F)=>{D&&(b=D),p[A]=F,--f==0&&c(b,p)})})},o.p=sw,o.q=Yh,o.r=Zr,o.s=fe,o.t=cy,o.u=Vt,o.v=ke,o.w=me,o.x=Wu,o.y=zs,o.z=function([l,i,c]){return i+=90,i*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(i)*Math.sin(c),y:l*Math.sin(i)*Math.sin(c),z:l*Math.cos(c)}}}),u(["./shared"],function(o){class g{constructor(G){this.keyCache={},G&&this.replace(G)}replace(G){this._layerConfigs={},this._layers={},this.update(G,[])}update(G,X){for(const ve of G){this._layerConfigs[ve.id]=ve;const _e=this._layers[ve.id]=o.aC(ve);_e._featureFilter=o.a6(_e.filter),this.keyCache[ve.id]&&delete this.keyCache[ve.id]}for(const ve of X)delete this.keyCache[ve],delete this._layerConfigs[ve],delete this._layers[ve];this.familiesBySource={};const le=o.bl(Object.values(this._layerConfigs),this.keyCache);for(const ve of le){const _e=ve.map(at=>this._layers[at.id]),ze=_e[0];if(ze.visibility==="none")continue;const Ee=ze.source||"";let Se=this.familiesBySource[Ee];Se||(Se=this.familiesBySource[Ee]={});const Re=ze.sourceLayer||"_geojsonTileLayer";let rt=Se[Re];rt||(rt=Se[Re]=[]),rt.push(_e)}}}class y{constructor(G){const X={},le=[];for(const Ee in G){const Se=G[Ee],Re=X[Ee]={};for(const rt in Se){const at=Se[+rt];if(!at||at.bitmap.width===0||at.bitmap.height===0)continue;const dt={x:0,y:0,w:at.bitmap.width+2,h:at.bitmap.height+2};le.push(dt),Re[rt]={rect:dt,metrics:at.metrics}}}const{w:ve,h:_e}=o.p(le),ze=new o.q({width:ve||1,height:_e||1});for(const Ee in G){const Se=G[Ee];for(const Re in Se){const rt=Se[+Re];if(!rt||rt.bitmap.width===0||rt.bitmap.height===0)continue;const at=X[Ee][Re].rect;o.q.copy(rt.bitmap,ze,{x:0,y:0},{x:at.x+1,y:at.y+1},rt.bitmap)}}this.image=ze,this.positions=X}}o.bm("GlyphAtlas",y);class w{constructor(G){this.tileID=new o.O(G.tileID.overscaledZ,G.tileID.wrap,G.tileID.canonical.z,G.tileID.canonical.x,G.tileID.canonical.y),this.uid=G.uid,this.zoom=G.zoom,this.pixelRatio=G.pixelRatio,this.tileSize=G.tileSize,this.source=G.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=G.showCollisionBoxes,this.collectResourceTiming=!!G.collectResourceTiming,this.returnDependencies=!!G.returnDependencies,this.promoteId=G.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(G,X,le,ve,_e){this.status="parsing",this.data=G,this.collisionBoxArray=new o.a3;const ze=new o.bn(Object.keys(G.layers).sort()),Ee=new o.bo(this.tileID,this.promoteId);Ee.bucketLayerIDs=[];const Se={},Re={featureIndex:Ee,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:le},rt=X.familiesBySource[this.source];for(const Un in rt){const Vn=G.layers[Un];if(!Vn)continue;Vn.version===1&&o.w(`Vector tile source "${this.source}" layer "${Un}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Mi=ze.encode(Un),fr=[];for(let ei=0;ei<Vn.length;ei++){const wi=Vn.feature(ei),Ca=Ee.getId(wi,Un);fr.push({feature:wi,id:Ca,index:ei,sourceLayerIndex:Mi})}for(const ei of rt[Un]){const wi=ei[0];wi.source!==this.source&&o.w(`layer.source = ${wi.source} does not equal this.source = ${this.source}`),wi.minzoom&&this.zoom<Math.floor(wi.minzoom)||wi.maxzoom&&this.zoom>=wi.maxzoom||wi.visibility!=="none"&&(k(ei,this.zoom,le),(Se[wi.id]=wi.createBucket({index:Ee.bucketLayerIDs.length,layers:ei,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Mi,sourceID:this.source})).populate(fr,Re,this.tileID.canonical),Ee.bucketLayerIDs.push(ei.map(Ca=>Ca.id)))}}let at,dt,tn,hn;const Wt=o.aH(Re.glyphDependencies,Un=>Object.keys(Un).map(Number));this.inFlightDependencies.forEach(Un=>Un==null?void 0:Un.cancel()),this.inFlightDependencies=[];const rn=++this.dependencySentinel;Object.keys(Wt).length?this.inFlightDependencies.push(ve.send("getGlyphs",{uid:this.uid,stacks:Wt,source:this.source,tileID:this.tileID,type:"glyphs"},(Un,Vn)=>{rn===this.dependencySentinel&&(at||(at=Un,dt=Vn,sr.call(this)))})):dt={};const gn=Object.keys(Re.iconDependencies);gn.length?this.inFlightDependencies.push(ve.send("getImages",{icons:gn,source:this.source,tileID:this.tileID,type:"icons"},(Un,Vn)=>{rn===this.dependencySentinel&&(at||(at=Un,tn=Vn,sr.call(this)))})):tn={};const Zn=Object.keys(Re.patternDependencies);function sr(){if(at)return _e(at);if(dt&&tn&&hn){const Un=new y(dt),Vn=new o.bp(tn,hn);for(const Mi in Se){const fr=Se[Mi];fr instanceof o.a4?(k(fr.layers,this.zoom,le),o.bq({bucket:fr,glyphMap:dt,glyphPositions:Un.positions,imageMap:tn,imagePositions:Vn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):fr.hasPattern&&(fr instanceof o.br||fr instanceof o.bs||fr instanceof o.bt)&&(k(fr.layers,this.zoom,le),fr.addFeatures(Re,this.tileID.canonical,Vn.patternPositions))}this.status="done",_e(null,{buckets:Object.values(Se).filter(Mi=>!Mi.isEmpty()),featureIndex:Ee,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Un.image,imageAtlas:Vn,glyphMap:this.returnDependencies?dt:null,iconMap:this.returnDependencies?tn:null,glyphPositions:this.returnDependencies?Un.positions:null})}}Zn.length?this.inFlightDependencies.push(ve.send("getImages",{icons:Zn,source:this.source,tileID:this.tileID,type:"patterns"},(Un,Vn)=>{rn===this.dependencySentinel&&(at||(at=Un,hn=Vn,sr.call(this)))})):hn={},sr.call(this)}}function k(pe,G,X){const le=new o.a8(G);for(const ve of pe)ve.recalculate(le,X)}function C(pe,G){const X=o.l(pe.request,(le,ve,_e,ze)=>{if(le)G(le);else if(ve)try{const Ee=new o.bw.VectorTile(new o.bv(ve));G(null,{vectorTile:Ee,rawData:ve,cacheControl:_e,expires:ze})}catch(Ee){const Se=new Uint8Array(ve);let Re=`Unable to parse the tile at ${pe.request.url}, `;Re+=Se[0]===31&&Se[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ee.messge}`,G(new Error(Re))}});return()=>{X.cancel(),G()}}class I{constructor(G,X,le,ve){this.actor=G,this.layerIndex=X,this.availableImages=le,this.loadVectorData=ve||C,this.fetching={},this.loading={},this.loaded={}}loadTile(G,X){const le=G.uid;this.loading||(this.loading={});const ve=!!(G&&G.request&&G.request.collectResourceTiming)&&new o.bu(G.request),_e=this.loading[le]=new w(G);_e.abort=this.loadVectorData(G,(ze,Ee)=>{if(delete this.loading[le],ze||!Ee)return _e.status="done",this.loaded[le]=_e,X(ze);const Se=Ee.rawData,Re={};Ee.expires&&(Re.expires=Ee.expires),Ee.cacheControl&&(Re.cacheControl=Ee.cacheControl);const rt={};if(ve){const at=ve.finish();at&&(rt.resourceTiming=JSON.parse(JSON.stringify(at)))}_e.vectorTile=Ee.vectorTile,_e.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor,(at,dt)=>{if(delete this.fetching[le],at||!dt)return X(at);X(null,o.e({rawTileData:Se.slice(0)},dt,Re,rt))}),this.loaded=this.loaded||{},this.loaded[le]=_e,this.fetching[le]={rawTileData:Se,cacheControl:Re,resourceTiming:rt}})}reloadTile(G,X){const le=this.loaded,ve=G.uid;if(le&&le[ve]){const _e=le[ve];_e.showCollisionBoxes=G.showCollisionBoxes,_e.status==="parsing"?_e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor,(ze,Ee)=>{if(ze||!Ee)return X(ze,Ee);let Se;if(this.fetching[ve]){const{rawTileData:Re,cacheControl:rt,resourceTiming:at}=this.fetching[ve];delete this.fetching[ve],Se=o.e({rawTileData:Re.slice(0)},Ee,rt,at)}else Se=Ee;X(null,Se)}):_e.status==="done"&&(_e.vectorTile?_e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor,X):X())}}abortTile(G,X){const le=this.loading,ve=G.uid;le&&le[ve]&&le[ve].abort&&(le[ve].abort(),delete le[ve]),X()}removeTile(G,X){const le=this.loaded,ve=G.uid;le&&le[ve]&&delete le[ve],X()}}class O{constructor(){this.loaded={}}loadTile(G,X){return o._(this,void 0,void 0,function*(){const{uid:le,encoding:ve,rawImageData:_e,redFactor:ze,greenFactor:Ee,blueFactor:Se,baseShift:Re}=G,rt=_e.width+2,at=_e.height+2,dt=o.a(_e)?new o.R({width:rt,height:at},yield o.bx(_e,-1,-1,rt,at)):_e,tn=new o.by(le,dt,ve,ze,Ee,Se,Re);this.loaded=this.loaded||{},this.loaded[le]=tn,X(null,tn)})}removeTile(G){const X=this.loaded,le=G.uid;X&&X[le]&&delete X[le]}}function L(pe,G){if(pe.length!==0){R(pe[0],G);for(var X=1;X<pe.length;X++)R(pe[X],!G)}}function R(pe,G){for(var X=0,le=0,ve=0,_e=pe.length,ze=_e-1;ve<_e;ze=ve++){var Ee=(pe[ve][0]-pe[ze][0])*(pe[ze][1]+pe[ve][1]),Se=X+Ee;le+=Math.abs(X)>=Math.abs(Ee)?X-Se+Ee:Ee-Se+X,X=Se}X+le>=0!=!!G&&pe.reverse()}var B=o.bz(function pe(G,X){var le,ve=G&&G.type;if(ve==="FeatureCollection")for(le=0;le<G.features.length;le++)pe(G.features[le],X);else if(ve==="GeometryCollection")for(le=0;le<G.geometries.length;le++)pe(G.geometries[le],X);else if(ve==="Feature")pe(G.geometry,X);else if(ve==="Polygon")L(G.coordinates,X);else if(ve==="MultiPolygon")for(le=0;le<G.coordinates.length;le++)L(G.coordinates[le],X);return G});const j=o.bw.VectorTileFeature.prototype.toGeoJSON;var Z={exports:{}},re=o.bA,ie=o.bw.VectorTileFeature,Q=se;function se(pe,G){this.options=G||{},this.features=pe,this.length=pe.length}function H(pe,G){this.id=typeof pe.id=="number"?pe.id:void 0,this.type=pe.type,this.rawGeometry=pe.type===1?[pe.geometry]:pe.geometry,this.properties=pe.tags,this.extent=G||4096}se.prototype.feature=function(pe){return new H(this.features[pe],this.options.extent)},H.prototype.loadGeometry=function(){var pe=this.rawGeometry;this.geometry=[];for(var G=0;G<pe.length;G++){for(var X=pe[G],le=[],ve=0;ve<X.length;ve++)le.push(new re(X[ve][0],X[ve][1]));this.geometry.push(le)}return this.geometry},H.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pe=this.geometry,G=1/0,X=-1/0,le=1/0,ve=-1/0,_e=0;_e<pe.length;_e++)for(var ze=pe[_e],Ee=0;Ee<ze.length;Ee++){var Se=ze[Ee];G=Math.min(G,Se.x),X=Math.max(X,Se.x),le=Math.min(le,Se.y),ve=Math.max(ve,Se.y)}return[G,le,X,ve]},H.prototype.toGeoJSON=ie.prototype.toGeoJSON;var $=o.bB,K=Q;function ae(pe){var G=new $;return function(X,le){for(var ve in X.layers)le.writeMessage(3,te,X.layers[ve])}(pe,G),G.finish()}function te(pe,G){var X;G.writeVarintField(15,pe.version||1),G.writeStringField(1,pe.name||""),G.writeVarintField(5,pe.extent||4096);var le={keys:[],values:[],keycache:{},valuecache:{}};for(X=0;X<pe.length;X++)le.feature=pe.feature(X),G.writeMessage(2,be,le);var ve=le.keys;for(X=0;X<ve.length;X++)G.writeStringField(3,ve[X]);var _e=le.values;for(X=0;X<_e.length;X++)G.writeMessage(4,Fe,_e[X])}function be(pe,G){var X=pe.feature;X.id!==void 0&&G.writeVarintField(1,X.id),G.writeMessage(2,me,pe),G.writeVarintField(3,X.type),G.writeMessage(4,Ue,X)}function me(pe,G){var X=pe.feature,le=pe.keys,ve=pe.values,_e=pe.keycache,ze=pe.valuecache;for(var Ee in X.properties){var Se=X.properties[Ee],Re=_e[Ee];if(Se!==null){Re===void 0&&(le.push(Ee),_e[Ee]=Re=le.length-1),G.writeVarint(Re);var rt=typeof Se;rt!=="string"&&rt!=="boolean"&&rt!=="number"&&(Se=JSON.stringify(Se));var at=rt+":"+Se,dt=ze[at];dt===void 0&&(ve.push(Se),ze[at]=dt=ve.length-1),G.writeVarint(dt)}}}function Ie(pe,G){return(G<<3)+(7&pe)}function Ae(pe){return pe<<1^pe>>31}function Ue(pe,G){for(var X=pe.loadGeometry(),le=pe.type,ve=0,_e=0,ze=X.length,Ee=0;Ee<ze;Ee++){var Se=X[Ee],Re=1;le===1&&(Re=Se.length),G.writeVarint(Ie(1,Re));for(var rt=le===3?Se.length-1:Se.length,at=0;at<rt;at++){at===1&&le!==1&&G.writeVarint(Ie(2,rt-1));var dt=Se[at].x-ve,tn=Se[at].y-_e;G.writeVarint(Ae(dt)),G.writeVarint(Ae(tn)),ve+=dt,_e+=tn}le===3&&G.writeVarint(Ie(7,1))}}function Fe(pe,G){var X=typeof pe;X==="string"?G.writeStringField(1,pe):X==="boolean"?G.writeBooleanField(7,pe):X==="number"&&(pe%1!=0?G.writeDoubleField(3,pe):pe<0?G.writeSVarintField(6,pe):G.writeVarintField(5,pe))}Z.exports=ae,Z.exports.fromVectorTileJs=ae,Z.exports.fromGeojsonVt=function(pe,G){G=G||{};var X={};for(var le in pe)X[le]=new K(pe[le].features,G),X[le].name=le,X[le].version=G.version,X[le].extent=G.extent;return ae({layers:X})},Z.exports.GeoJSONWrapper=K;var Ce=o.bz(Z.exports);const Ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:pe=>pe},$e=Math.fround||(qe=new Float32Array(1),pe=>(qe[0]=+pe,qe[0]));var qe;const pt=3,Ct=5,$t=6;class gt{constructor(G){this.options=Object.assign(Object.create(Ve),G),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(G){const{log:X,minZoom:le,maxZoom:ve}=this.options;X&&console.time("total time");const _e=`prepare ${G.length} points`;X&&console.time(_e),this.points=G;const ze=[];for(let Se=0;Se<G.length;Se++){const Re=G[Se];if(!Re.geometry)continue;const[rt,at]=Re.geometry.coordinates,dt=$e(je(rt)),tn=$e(et(at));ze.push(dt,tn,1/0,Se,-1,1),this.options.reduce&&ze.push(0)}let Ee=this.trees[ve+1]=this._createTree(ze);X&&console.timeEnd(_e);for(let Se=ve;Se>=le;Se--){const Re=+Date.now();Ee=this.trees[Se]=this._createTree(this._cluster(Ee,Se)),X&&console.log("z%d: %d clusters in %dms",Se,Ee.numItems,+Date.now()-Re)}return X&&console.timeEnd("total time"),this}getClusters(G,X){let le=((G[0]+180)%360+360)%360-180;const ve=Math.max(-90,Math.min(90,G[1]));let _e=G[2]===180?180:((G[2]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,G[3]));if(G[2]-G[0]>=360)le=-180,_e=180;else if(le>_e){const at=this.getClusters([le,ve,180,ze],X),dt=this.getClusters([-180,ve,_e,ze],X);return at.concat(dt)}const Ee=this.trees[this._limitZoom(X)],Se=Ee.range(je(le),et(ze),je(_e),et(ve)),Re=Ee.data,rt=[];for(const at of Se){const dt=this.stride*at;rt.push(Re[dt+Ct]>1?Ne(Re,dt,this.clusterProps):this.points[Re[dt+pt]])}return rt}getChildren(G){const X=this._getOriginId(G),le=this._getOriginZoom(G),ve="No cluster with the specified id.",_e=this.trees[le];if(!_e)throw new Error(ve);const ze=_e.data;if(X*this.stride>=ze.length)throw new Error(ve);const Ee=this.options.radius/(this.options.extent*Math.pow(2,le-1)),Se=_e.within(ze[X*this.stride],ze[X*this.stride+1],Ee),Re=[];for(const rt of Se){const at=rt*this.stride;ze[at+4]===G&&Re.push(ze[at+Ct]>1?Ne(ze,at,this.clusterProps):this.points[ze[at+pt]])}if(Re.length===0)throw new Error(ve);return Re}getLeaves(G,X,le){const ve=[];return this._appendLeaves(ve,G,X=X||10,le=le||0,0),ve}getTile(G,X,le){const ve=this.trees[this._limitZoom(G)],_e=Math.pow(2,G),{extent:ze,radius:Ee}=this.options,Se=Ee/ze,Re=(le-Se)/_e,rt=(le+1+Se)/_e,at={features:[]};return this._addTileFeatures(ve.range((X-Se)/_e,Re,(X+1+Se)/_e,rt),ve.data,X,le,_e,at),X===0&&this._addTileFeatures(ve.range(1-Se/_e,Re,1,rt),ve.data,_e,le,_e,at),X===_e-1&&this._addTileFeatures(ve.range(0,Re,Se/_e,rt),ve.data,-1,le,_e,at),at.features.length?at:null}getClusterExpansionZoom(G){let X=this._getOriginZoom(G)-1;for(;X<=this.options.maxZoom;){const le=this.getChildren(G);if(X++,le.length!==1)break;G=le[0].properties.cluster_id}return X}_appendLeaves(G,X,le,ve,_e){const ze=this.getChildren(X);for(const Ee of ze){const Se=Ee.properties;if(Se&&Se.cluster?_e+Se.point_count<=ve?_e+=Se.point_count:_e=this._appendLeaves(G,Se.cluster_id,le,ve,_e):_e<ve?_e++:G.push(Ee),G.length===le)break}return _e}_createTree(G){const X=new o.av(G.length/this.stride|0,this.options.nodeSize,Float32Array);for(let le=0;le<G.length;le+=this.stride)X.add(G[le],G[le+1]);return X.finish(),X.data=G,X}_addTileFeatures(G,X,le,ve,_e,ze){for(const Ee of G){const Se=Ee*this.stride,Re=X[Se+Ct]>1;let rt,at,dt;if(Re)rt=tt(X,Se,this.clusterProps),at=X[Se],dt=X[Se+1];else{const Wt=this.points[X[Se+pt]];rt=Wt.properties;const[rn,gn]=Wt.geometry.coordinates;at=je(rn),dt=et(gn)}const tn={type:1,geometry:[[Math.round(this.options.extent*(at*_e-le)),Math.round(this.options.extent*(dt*_e-ve))]],tags:rt};let hn;hn=Re||this.options.generateId?X[Se+pt]:this.points[X[Se+pt]].id,hn!==void 0&&(tn.id=hn),ze.features.push(tn)}}_limitZoom(G){return Math.max(this.options.minZoom,Math.min(Math.floor(+G),this.options.maxZoom+1))}_cluster(G,X){const{radius:le,extent:ve,reduce:_e,minPoints:ze}=this.options,Ee=le/(ve*Math.pow(2,X)),Se=G.data,Re=[],rt=this.stride;for(let at=0;at<Se.length;at+=rt){if(Se[at+2]<=X)continue;Se[at+2]=X;const dt=Se[at],tn=Se[at+1],hn=G.within(Se[at],Se[at+1],Ee),Wt=Se[at+Ct];let rn=Wt;for(const gn of hn){const Zn=gn*rt;Se[Zn+2]>X&&(rn+=Se[Zn+Ct])}if(rn>Wt&&rn>=ze){let gn,Zn=dt*Wt,sr=tn*Wt,Un=-1;const Vn=((at/rt|0)<<5)+(X+1)+this.points.length;for(const Mi of hn){const fr=Mi*rt;if(Se[fr+2]<=X)continue;Se[fr+2]=X;const ei=Se[fr+Ct];Zn+=Se[fr]*ei,sr+=Se[fr+1]*ei,Se[fr+4]=Vn,_e&&(gn||(gn=this._map(Se,at,!0),Un=this.clusterProps.length,this.clusterProps.push(gn)),_e(gn,this._map(Se,fr)))}Se[at+4]=Vn,Re.push(Zn/rn,sr/rn,1/0,Vn,-1,rn),_e&&Re.push(Un)}else{for(let gn=0;gn<rt;gn++)Re.push(Se[at+gn]);if(rn>1)for(const gn of hn){const Zn=gn*rt;if(!(Se[Zn+2]<=X)){Se[Zn+2]=X;for(let sr=0;sr<rt;sr++)Re.push(Se[Zn+sr])}}}}return Re}_getOriginId(G){return G-this.points.length>>5}_getOriginZoom(G){return(G-this.points.length)%32}_map(G,X,le){if(G[X+Ct]>1){const ze=this.clusterProps[G[X+$t]];return le?Object.assign({},ze):ze}const ve=this.points[G[X+pt]].properties,_e=this.options.map(ve);return le&&_e===ve?Object.assign({},_e):_e}}function Ne(pe,G,X){return{type:"Feature",id:pe[G+pt],properties:tt(pe,G,X),geometry:{type:"Point",coordinates:[(le=pe[G],360*(le-.5)),Je(pe[G+1])]}};var le}function tt(pe,G,X){const le=pe[G+Ct],ve=le>=1e4?`${Math.round(le/1e3)}k`:le>=1e3?Math.round(le/100)/10+"k":le,_e=pe[G+$t],ze=_e===-1?{}:Object.assign({},X[_e]);return Object.assign(ze,{cluster:!0,cluster_id:pe[G+pt],point_count:le,point_count_abbreviated:ve})}function je(pe){return pe/360+.5}function et(pe){const G=Math.sin(pe*Math.PI/180),X=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return X<0?0:X>1?1:X}function Je(pe){const G=(180-360*pe)*Math.PI/180;return 360*Math.atan(Math.exp(G))/Math.PI-90}function It(pe,G,X,le){for(var ve,_e=le,ze=X-G>>1,Ee=X-G,Se=pe[G],Re=pe[G+1],rt=pe[X],at=pe[X+1],dt=G+3;dt<X;dt+=3){var tn=oe(pe[dt],pe[dt+1],Se,Re,rt,at);if(tn>_e)ve=dt,_e=tn;else if(tn===_e){var hn=Math.abs(dt-ze);hn<Ee&&(ve=dt,Ee=hn)}}_e>le&&(ve-G>3&&It(pe,G,ve,le),pe[ve+2]=_e,X-ve>3&&It(pe,ve,X,le))}function oe(pe,G,X,le,ve,_e){var ze=ve-X,Ee=_e-le;if(ze!==0||Ee!==0){var Se=((pe-X)*ze+(G-le)*Ee)/(ze*ze+Ee*Ee);Se>1?(X=ve,le=_e):Se>0&&(X+=ze*Se,le+=Ee*Se)}return(ze=pe-X)*ze+(Ee=G-le)*Ee}function fe(pe,G,X,le){var ve={id:pe===void 0?null:pe,type:G,geometry:X,tags:le,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(_e){var ze=_e.geometry,Ee=_e.type;if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")Me(_e,ze);else if(Ee==="Polygon"||Ee==="MultiLineString")for(var Se=0;Se<ze.length;Se++)Me(_e,ze[Se]);else if(Ee==="MultiPolygon")for(Se=0;Se<ze.length;Se++)for(var Re=0;Re<ze[Se].length;Re++)Me(_e,ze[Se][Re])}(ve),ve}function Me(pe,G){for(var X=0;X<G.length;X+=3)pe.minX=Math.min(pe.minX,G[X]),pe.minY=Math.min(pe.minY,G[X+1]),pe.maxX=Math.max(pe.maxX,G[X]),pe.maxY=Math.max(pe.maxY,G[X+1])}function Xe(pe,G,X,le){if(G.geometry){var ve=G.geometry.coordinates,_e=G.geometry.type,ze=Math.pow(X.tolerance/((1<<X.maxZoom)*X.extent),2),Ee=[],Se=G.id;if(X.promoteId?Se=G.properties[X.promoteId]:X.generateId&&(Se=le||0),_e==="Point")Ze(ve,Ee);else if(_e==="MultiPoint")for(var Re=0;Re<ve.length;Re++)Ze(ve[Re],Ee);else if(_e==="LineString")nt(ve,Ee,ze,!1);else if(_e==="MultiLineString"){if(X.lineMetrics){for(Re=0;Re<ve.length;Re++)nt(ve[Re],Ee=[],ze,!1),pe.push(fe(Se,"LineString",Ee,G.properties));return}Tt(ve,Ee,ze,!1)}else if(_e==="Polygon")Tt(ve,Ee,ze,!0);else{if(_e!=="MultiPolygon"){if(_e==="GeometryCollection"){for(Re=0;Re<G.geometry.geometries.length;Re++)Xe(pe,{id:Se,geometry:G.geometry.geometries[Re],properties:G.properties},X,le);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Re=0;Re<ve.length;Re++){var rt=[];Tt(ve[Re],rt,ze,!0),Ee.push(rt)}}pe.push(fe(Se,_e,Ee,G.properties))}}function Ze(pe,G){G.push(ke(pe[0])),G.push(_t(pe[1])),G.push(0)}function nt(pe,G,X,le){for(var ve,_e,ze=0,Ee=0;Ee<pe.length;Ee++){var Se=ke(pe[Ee][0]),Re=_t(pe[Ee][1]);G.push(Se),G.push(Re),G.push(0),Ee>0&&(ze+=le?(ve*Re-Se*_e)/2:Math.sqrt(Math.pow(Se-ve,2)+Math.pow(Re-_e,2))),ve=Se,_e=Re}var rt=G.length-3;G[2]=1,It(G,0,rt,X),G[rt+2]=1,G.size=Math.abs(ze),G.start=0,G.end=G.size}function Tt(pe,G,X,le){for(var ve=0;ve<pe.length;ve++){var _e=[];nt(pe[ve],_e,X,le),G.push(_e)}}function ke(pe){return pe/360+.5}function _t(pe){var G=Math.sin(pe*Math.PI/180),X=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return X<0?0:X>1?1:X}function Qe(pe,G,X,le,ve,_e,ze,Ee){if(le/=G,_e>=(X/=G)&&ze<le)return pe;if(ze<X||_e>=le)return null;for(var Se=[],Re=0;Re<pe.length;Re++){var rt=pe[Re],at=rt.geometry,dt=rt.type,tn=ve===0?rt.minX:rt.minY,hn=ve===0?rt.maxX:rt.maxY;if(tn>=X&&hn<le)Se.push(rt);else if(!(hn<X||tn>=le)){var Wt=[];if(dt==="Point"||dt==="MultiPoint")ct(at,Wt,X,le,ve);else if(dt==="LineString")kt(at,Wt,X,le,ve,!1,Ee.lineMetrics);else if(dt==="MultiLineString")sn(at,Wt,X,le,ve,!1);else if(dt==="Polygon")sn(at,Wt,X,le,ve,!0);else if(dt==="MultiPolygon")for(var rn=0;rn<at.length;rn++){var gn=[];sn(at[rn],gn,X,le,ve,!0),gn.length&&Wt.push(gn)}if(Wt.length){if(Ee.lineMetrics&&dt==="LineString"){for(rn=0;rn<Wt.length;rn++)Se.push(fe(rt.id,dt,Wt[rn],rt.tags));continue}dt!=="LineString"&&dt!=="MultiLineString"||(Wt.length===1?(dt="LineString",Wt=Wt[0]):dt="MultiLineString"),dt!=="Point"&&dt!=="MultiPoint"||(dt=Wt.length===3?"Point":"MultiPoint"),Se.push(fe(rt.id,dt,Wt,rt.tags))}}}return Se.length?Se:null}function ct(pe,G,X,le,ve){for(var _e=0;_e<pe.length;_e+=3){var ze=pe[_e+ve];ze>=X&&ze<=le&&(G.push(pe[_e]),G.push(pe[_e+1]),G.push(pe[_e+2]))}}function kt(pe,G,X,le,ve,_e,ze){for(var Ee,Se,Re=Pt(pe),rt=ve===0?On:bn,at=pe.start,dt=0;dt<pe.length-3;dt+=3){var tn=pe[dt],hn=pe[dt+1],Wt=pe[dt+2],rn=pe[dt+3],gn=pe[dt+4],Zn=ve===0?tn:hn,sr=ve===0?rn:gn,Un=!1;ze&&(Ee=Math.sqrt(Math.pow(tn-rn,2)+Math.pow(hn-gn,2))),Zn<X?sr>X&&(Se=rt(Re,tn,hn,rn,gn,X),ze&&(Re.start=at+Ee*Se)):Zn>le?sr<le&&(Se=rt(Re,tn,hn,rn,gn,le),ze&&(Re.start=at+Ee*Se)):on(Re,tn,hn,Wt),sr<X&&Zn>=X&&(Se=rt(Re,tn,hn,rn,gn,X),Un=!0),sr>le&&Zn<=le&&(Se=rt(Re,tn,hn,rn,gn,le),Un=!0),!_e&&Un&&(ze&&(Re.end=at+Ee*Se),G.push(Re),Re=Pt(pe)),ze&&(at+=Ee)}var Vn=pe.length-3;tn=pe[Vn],hn=pe[Vn+1],Wt=pe[Vn+2],(Zn=ve===0?tn:hn)>=X&&Zn<=le&&on(Re,tn,hn,Wt),Vn=Re.length-3,_e&&Vn>=3&&(Re[Vn]!==Re[0]||Re[Vn+1]!==Re[1])&&on(Re,Re[0],Re[1],Re[2]),Re.length&&G.push(Re)}function Pt(pe){var G=[];return G.size=pe.size,G.start=pe.start,G.end=pe.end,G}function sn(pe,G,X,le,ve,_e){for(var ze=0;ze<pe.length;ze++)kt(pe[ze],G,X,le,ve,_e,!1)}function on(pe,G,X,le){pe.push(G),pe.push(X),pe.push(le)}function On(pe,G,X,le,ve,_e){var ze=(_e-G)/(le-G);return pe.push(_e),pe.push(X+(ve-X)*ze),pe.push(1),ze}function bn(pe,G,X,le,ve,_e){var ze=(_e-X)/(ve-X);return pe.push(G+(le-G)*ze),pe.push(_e),pe.push(1),ze}function $n(pe,G){for(var X=[],le=0;le<pe.length;le++){var ve,_e=pe[le],ze=_e.type;if(ze==="Point"||ze==="MultiPoint"||ze==="LineString")ve=ur(_e.geometry,G);else if(ze==="MultiLineString"||ze==="Polygon"){ve=[];for(var Ee=0;Ee<_e.geometry.length;Ee++)ve.push(ur(_e.geometry[Ee],G))}else if(ze==="MultiPolygon")for(ve=[],Ee=0;Ee<_e.geometry.length;Ee++){for(var Se=[],Re=0;Re<_e.geometry[Ee].length;Re++)Se.push(ur(_e.geometry[Ee][Re],G));ve.push(Se)}X.push(fe(_e.id,ze,ve,_e.tags))}return X}function ur(pe,G){var X=[];X.size=pe.size,pe.start!==void 0&&(X.start=pe.start,X.end=pe.end);for(var le=0;le<pe.length;le+=3)X.push(pe[le]+G,pe[le+1],pe[le+2]);return X}function vt(pe,G){if(pe.transformed)return pe;var X,le,ve,_e=1<<pe.z,ze=pe.x,Ee=pe.y;for(X=0;X<pe.features.length;X++){var Se=pe.features[X],Re=Se.geometry,rt=Se.type;if(Se.geometry=[],rt===1)for(le=0;le<Re.length;le+=2)Se.geometry.push(bi(Re[le],Re[le+1],G,_e,ze,Ee));else for(le=0;le<Re.length;le++){var at=[];for(ve=0;ve<Re[le].length;ve+=2)at.push(bi(Re[le][ve],Re[le][ve+1],G,_e,ze,Ee));Se.geometry.push(at)}}return pe.transformed=!0,pe}function bi(pe,G,X,le,ve,_e){return[Math.round(X*(pe*le-ve)),Math.round(X*(G*le-_e))]}function Tn(pe,G,X,le,ve){for(var _e=G===ve.maxZoom?0:ve.tolerance/((1<<G)*ve.extent),ze={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:X,y:le,z:G,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ee=0;Ee<pe.length;Ee++){ze.numFeatures++,fa(ze,pe[Ee],_e,ve);var Se=pe[Ee].minX,Re=pe[Ee].minY,rt=pe[Ee].maxX,at=pe[Ee].maxY;Se<ze.minX&&(ze.minX=Se),Re<ze.minY&&(ze.minY=Re),rt>ze.maxX&&(ze.maxX=rt),at>ze.maxY&&(ze.maxY=at)}return ze}function fa(pe,G,X,le){var ve=G.geometry,_e=G.type,ze=[];if(_e==="Point"||_e==="MultiPoint")for(var Ee=0;Ee<ve.length;Ee+=3)ze.push(ve[Ee]),ze.push(ve[Ee+1]),pe.numPoints++,pe.numSimplified++;else if(_e==="LineString")hr(ze,ve,pe,X,!1,!1);else if(_e==="MultiLineString"||_e==="Polygon")for(Ee=0;Ee<ve.length;Ee++)hr(ze,ve[Ee],pe,X,_e==="Polygon",Ee===0);else if(_e==="MultiPolygon")for(var Se=0;Se<ve.length;Se++){var Re=ve[Se];for(Ee=0;Ee<Re.length;Ee++)hr(ze,Re[Ee],pe,X,!0,Ee===0)}if(ze.length){var rt=G.tags||null;if(_e==="LineString"&&le.lineMetrics){for(var at in rt={},G.tags)rt[at]=G.tags[at];rt.mapbox_clip_start=ve.start/ve.size,rt.mapbox_clip_end=ve.end/ve.size}var dt={geometry:ze,type:_e==="Polygon"||_e==="MultiPolygon"?3:_e==="LineString"||_e==="MultiLineString"?2:1,tags:rt};G.id!==null&&(dt.id=G.id),pe.features.push(dt)}}function hr(pe,G,X,le,ve,_e){var ze=le*le;if(le>0&&G.size<(ve?ze:le))X.numPoints+=G.length/3;else{for(var Ee=[],Se=0;Se<G.length;Se+=3)(le===0||G[Se+2]>ze)&&(X.numSimplified++,Ee.push(G[Se]),Ee.push(G[Se+1])),X.numPoints++;ve&&function(Re,rt){for(var at=0,dt=0,tn=Re.length,hn=tn-2;dt<tn;hn=dt,dt+=2)at+=(Re[dt]-Re[hn])*(Re[dt+1]+Re[hn+1]);if(at>0===rt)for(dt=0,tn=Re.length;dt<tn/2;dt+=2){var Wt=Re[dt],rn=Re[dt+1];Re[dt]=Re[tn-2-dt],Re[dt+1]=Re[tn-1-dt],Re[tn-2-dt]=Wt,Re[tn-1-dt]=rn}}(Ee,_e),pe.push(Ee)}}function At(pe,G){var X=(G=this.options=function(ve,_e){for(var ze in _e)ve[ze]=_e[ze];return ve}(Object.create(this.options),G)).debug;if(X&&console.time("preprocess data"),G.maxZoom<0||G.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(G.promoteId&&G.generateId)throw new Error("promoteId and generateId cannot be used together.");var le=function(ve,_e){var ze=[];if(ve.type==="FeatureCollection")for(var Ee=0;Ee<ve.features.length;Ee++)Xe(ze,ve.features[Ee],_e,Ee);else Xe(ze,ve.type==="Feature"?ve:{geometry:ve},_e);return ze}(pe,G);this.tiles={},this.tileCoords=[],X&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",G.indexMaxZoom,G.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),le=function(ve,_e){var ze=_e.buffer/_e.extent,Ee=ve,Se=Qe(ve,1,-1-ze,ze,0,-1,2,_e),Re=Qe(ve,1,1-ze,2+ze,0,-1,2,_e);return(Se||Re)&&(Ee=Qe(ve,1,-ze,1+ze,0,-1,2,_e)||[],Se&&(Ee=$n(Se,1).concat(Ee)),Re&&(Ee=Ee.concat($n(Re,-1)))),Ee}(le,G),le.length&&this.splitTile(le,0,0,0),X&&(le.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function _n(pe,G,X){return 32*((1<<pe)*X+G)+pe}function pn(pe,G){return G?pe.properties[G]:pe.id}function $i(pe,G){if(pe==null)return!0;if(pe.type==="Feature")return pn(pe,G)!=null;if(pe.type==="FeatureCollection"){const X=new Set;for(const le of pe.features){const ve=pn(le,G);if(ve==null||X.has(ve))return!1;X.add(ve)}return!0}return!1}function cs(pe,G){const X=new Map;if(pe!=null)if(pe.type==="Feature")X.set(pn(pe,G),pe);else for(const le of pe.features)X.set(pn(le,G),le);return X}At.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},At.prototype.splitTile=function(pe,G,X,le,ve,_e,ze){for(var Ee=[pe,G,X,le],Se=this.options,Re=Se.debug;Ee.length;){le=Ee.pop(),X=Ee.pop(),G=Ee.pop(),pe=Ee.pop();var rt=1<<G,at=_n(G,X,le),dt=this.tiles[at];if(!dt&&(Re>1&&console.time("creation"),dt=this.tiles[at]=Tn(pe,G,X,le,Se),this.tileCoords.push({z:G,x:X,y:le}),Re)){Re>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",G,X,le,dt.numFeatures,dt.numPoints,dt.numSimplified),console.timeEnd("creation"));var tn="z"+G;this.stats[tn]=(this.stats[tn]||0)+1,this.total++}if(dt.source=pe,ve){if(G===Se.maxZoom||G===ve)continue;var hn=1<<ve-G;if(X!==Math.floor(_e/hn)||le!==Math.floor(ze/hn))continue}else if(G===Se.indexMaxZoom||dt.numPoints<=Se.indexMaxPoints)continue;if(dt.source=null,pe.length!==0){Re>1&&console.time("clipping");var Wt,rn,gn,Zn,sr,Un,Vn=.5*Se.buffer/Se.extent,Mi=.5-Vn,fr=.5+Vn,ei=1+Vn;Wt=rn=gn=Zn=null,sr=Qe(pe,rt,X-Vn,X+fr,0,dt.minX,dt.maxX,Se),Un=Qe(pe,rt,X+Mi,X+ei,0,dt.minX,dt.maxX,Se),pe=null,sr&&(Wt=Qe(sr,rt,le-Vn,le+fr,1,dt.minY,dt.maxY,Se),rn=Qe(sr,rt,le+Mi,le+ei,1,dt.minY,dt.maxY,Se),sr=null),Un&&(gn=Qe(Un,rt,le-Vn,le+fr,1,dt.minY,dt.maxY,Se),Zn=Qe(Un,rt,le+Mi,le+ei,1,dt.minY,dt.maxY,Se),Un=null),Re>1&&console.timeEnd("clipping"),Ee.push(Wt||[],G+1,2*X,2*le),Ee.push(rn||[],G+1,2*X,2*le+1),Ee.push(gn||[],G+1,2*X+1,2*le),Ee.push(Zn||[],G+1,2*X+1,2*le+1)}}},At.prototype.getTile=function(pe,G,X){var le=this.options,ve=le.extent,_e=le.debug;if(pe<0||pe>24)return null;var ze=1<<pe,Ee=_n(pe,G=(G%ze+ze)%ze,X);if(this.tiles[Ee])return vt(this.tiles[Ee],ve);_e>1&&console.log("drilling down to z%d-%d-%d",pe,G,X);for(var Se,Re=pe,rt=G,at=X;!Se&&Re>0;)Re--,rt=Math.floor(rt/2),at=Math.floor(at/2),Se=this.tiles[_n(Re,rt,at)];return Se&&Se.source?(_e>1&&console.log("found parent tile z%d-%d-%d",Re,rt,at),_e>1&&console.time("drilling down"),this.splitTile(Se.source,Re,rt,at,pe,G,X),_e>1&&console.timeEnd("drilling down"),this.tiles[Ee]?vt(this.tiles[Ee],ve):null):null};class xn extends I{constructor(G,X,le,ve){super(G,X,le),this._dataUpdateable=new Map,this.loadGeoJSON=(_e,ze)=>{const{promoteId:Ee}=_e;if(_e.request)return o.f(_e.request,(Se,Re,rt,at)=>{this._dataUpdateable=$i(Re,Ee)?cs(Re,Ee):void 0,ze(Se,Re,rt,at)});if(typeof _e.data=="string")try{const Se=JSON.parse(_e.data);this._dataUpdateable=$i(Se,Ee)?cs(Se,Ee):void 0,ze(null,Se)}catch{ze(new Error(`Input data given to '${_e.source}' is not a valid GeoJSON object.`))}else _e.dataDiff?this._dataUpdateable?(function(Se,Re,rt){var at,dt,tn,hn;if(Re.removeAll&&Se.clear(),Re.remove)for(const Wt of Re.remove)Se.delete(Wt);if(Re.add)for(const Wt of Re.add){const rn=pn(Wt,rt);rn!=null&&Se.set(rn,Wt)}if(Re.update)for(const Wt of Re.update){let rn=Se.get(Wt.id);if(rn==null)continue;const gn=!Wt.removeAllProperties&&(((at=Wt.removeProperties)===null||at===void 0?void 0:at.length)>0||((dt=Wt.addOrUpdateProperties)===null||dt===void 0?void 0:dt.length)>0);if((Wt.newGeometry||Wt.removeAllProperties||gn)&&(rn=Object.assign({},rn),Se.set(Wt.id,rn),gn&&(rn.properties=Object.assign({},rn.properties))),Wt.newGeometry&&(rn.geometry=Wt.newGeometry),Wt.removeAllProperties)rn.properties={};else if(((tn=Wt.removeProperties)===null||tn===void 0?void 0:tn.length)>0)for(const Zn of Wt.removeProperties)Object.prototype.hasOwnProperty.call(rn.properties,Zn)&&delete rn.properties[Zn];if(((hn=Wt.addOrUpdateProperties)===null||hn===void 0?void 0:hn.length)>0)for(const{key:Zn,value:sr}of Wt.addOrUpdateProperties)rn.properties[Zn]=sr}}(this._dataUpdateable,_e.dataDiff,Ee),ze(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):ze(new Error(`Cannot update existing geojson data in ${_e.source}`)):ze(new Error(`Input data given to '${_e.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,ve&&(this.loadGeoJSON=ve)}loadGeoJSONTile(G,X){const le=G.tileID.canonical;if(!this._geoJSONIndex)return X(null,null);const ve=this._geoJSONIndex.getTile(le.z,le.x,le.y);if(!ve)return X(null,null);const _e=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.N,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(Se){this._feature=Se,this.extent=o.N,this.type=Se.type,this.properties=Se.tags,"id"in Se&&!isNaN(Se.id)&&(this.id=parseInt(Se.id,10))}loadGeometry(){if(this._feature.type===1){const Se=[];for(const Re of this._feature.geometry)Se.push([new o.P(Re[0],Re[1])]);return Se}{const Se=[];for(const Re of this._feature.geometry){const rt=[];for(const at of Re)rt.push(new o.P(at[0],at[1]));Se.push(rt)}return Se}}toGeoJSON(Se,Re,rt){return j.call(this,Se,Re,rt)}}(this._features[Ee])}}(ve.features);let ze=Ce(_e);ze.byteOffset===0&&ze.byteLength===ze.buffer.byteLength||(ze=new Uint8Array(ze)),X(null,{vectorTile:_e,rawData:ze.buffer})}loadData(G,X){var le;(le=this._pendingRequest)===null||le===void 0||le.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ve=!!(G&&G.request&&G.request.collectResourceTiming)&&new o.bu(G.request);this._pendingCallback=X,this._pendingRequest=this.loadGeoJSON(G,(_e,ze)=>{if(delete this._pendingCallback,delete this._pendingRequest,_e||!ze)return X(_e);if(typeof ze!="object")return X(new Error(`Input data given to '${G.source}' is not a valid GeoJSON object.`));{B(ze,!0);try{if(G.filter){const Se=o.bC(G.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Se.result==="error")throw new Error(Se.value.map(rt=>`${rt.key}: ${rt.message}`).join(", "));ze={type:"FeatureCollection",features:ze.features.filter(rt=>Se.value.evaluate({zoom:0},rt))}}this._geoJSONIndex=G.cluster?new gt(function({superclusterOptions:Se,clusterProperties:Re}){if(!Re||!Se)return Se;const rt={},at={},dt={accumulated:null,zoom:0},tn={properties:null},hn=Object.keys(Re);for(const Wt of hn){const[rn,gn]=Re[Wt],Zn=o.bC(gn),sr=o.bC(typeof rn=="string"?[rn,["accumulated"],["get",Wt]]:rn);rt[Wt]=Zn.value,at[Wt]=sr.value}return Se.map=Wt=>{tn.properties=Wt;const rn={};for(const gn of hn)rn[gn]=rt[gn].evaluate(dt,tn);return rn},Se.reduce=(Wt,rn)=>{tn.properties=rn;for(const gn of hn)dt.accumulated=Wt[gn],Wt[gn]=at[gn].evaluate(dt,tn)},Se}(G)).load(ze.features):function(Se,Re){return new At(Se,Re)}(ze,G.geojsonVtOptions)}catch(Se){return X(Se)}this.loaded={};const Ee={};if(ve){const Se=ve.finish();Se&&(Ee.resourceTiming={},Ee.resourceTiming[G.source]=JSON.parse(JSON.stringify(Se)))}X(null,Ee)}})}reloadTile(G,X){const le=this.loaded;return le&&le[G.uid]?super.reloadTile(G,X):this.loadTile(G,X)}removeSource(G,X){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),X()}getClusterExpansionZoom(G,X){try{X(null,this._geoJSONIndex.getClusterExpansionZoom(G.clusterId))}catch(le){X(le)}}getClusterChildren(G,X){try{X(null,this._geoJSONIndex.getChildren(G.clusterId))}catch(le){X(le)}}getClusterLeaves(G,X){try{X(null,this._geoJSONIndex.getLeaves(G.clusterId,G.limit,G.offset))}catch(le){X(le)}}}class Ls{constructor(G){this.self=G,this.actor=new o.C(G,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:I,geojson:xn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(X,le)=>{if(this.workerSourceTypes[X])throw new Error(`Worker source with name "${X}" already registered.`);this.workerSourceTypes[X]=le},this.self.registerRTLTextPlugin=X=>{if(o.bD.isParsed())throw new Error("RTL text plugin already registered.");o.bD.applyArabicShaping=X.applyArabicShaping,o.bD.processBidirectionalText=X.processBidirectionalText,o.bD.processStyledBidirectionalText=X.processStyledBidirectionalText}}setReferrer(G,X){this.referrer=X}setImages(G,X,le){this.availableImages[G]=X;for(const ve in this.workerSources[G]){const _e=this.workerSources[G][ve];for(const ze in _e)_e[ze].availableImages=X}le()}setLayers(G,X,le){this.getLayerIndex(G).replace(X),le()}updateLayers(G,X,le){this.getLayerIndex(G).update(X.layers,X.removedIds),le()}loadTile(G,X,le){this.getWorkerSource(G,X.type,X.source).loadTile(X,le)}loadDEMTile(G,X,le){this.getDEMWorkerSource(G,X.source).loadTile(X,le)}reloadTile(G,X,le){this.getWorkerSource(G,X.type,X.source).reloadTile(X,le)}abortTile(G,X,le){this.getWorkerSource(G,X.type,X.source).abortTile(X,le)}removeTile(G,X,le){this.getWorkerSource(G,X.type,X.source).removeTile(X,le)}removeDEMTile(G,X){this.getDEMWorkerSource(G,X.source).removeTile(X)}removeSource(G,X,le){if(!this.workerSources[G]||!this.workerSources[G][X.type]||!this.workerSources[G][X.type][X.source])return;const ve=this.workerSources[G][X.type][X.source];delete this.workerSources[G][X.type][X.source],ve.removeSource!==void 0?ve.removeSource(X,le):le()}loadWorkerSource(G,X,le){try{this.self.importScripts(X.url),le()}catch(ve){le(ve.toString())}}syncRTLPluginState(G,X,le){try{o.bD.setState(X);const ve=o.bD.getPluginURL();if(o.bD.isLoaded()&&!o.bD.isParsed()&&ve!=null){this.self.importScripts(ve);const _e=o.bD.isParsed();le(_e?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ve}`),_e)}}catch(ve){le(ve.toString())}}getAvailableImages(G){let X=this.availableImages[G];return X||(X=[]),X}getLayerIndex(G){let X=this.layerIndexes[G];return X||(X=this.layerIndexes[G]=new g),X}getWorkerSource(G,X,le){return this.workerSources[G]||(this.workerSources[G]={}),this.workerSources[G][X]||(this.workerSources[G][X]={}),this.workerSources[G][X][le]||(this.workerSources[G][X][le]=new this.workerSourceTypes[X]({send:(ve,_e,ze)=>{this.actor.send(ve,_e,ze,G)}},this.getLayerIndex(G),this.getAvailableImages(G))),this.workerSources[G][X][le]}getDEMWorkerSource(G,X){return this.demWorkerSources[G]||(this.demWorkerSources[G]={}),this.demWorkerSources[G][X]||(this.demWorkerSources[G][X]=new O),this.demWorkerSources[G][X]}}return o.i()&&(self.worker=new Ls(self)),Ls}),u(["./shared"],function(o){var g="3.6.2";class y{static testProp(a){if(!y.docStyle)return a[0];for(let d=0;d<a.length;d++)if(a[d]in y.docStyle)return a[d];return a[0]}static create(a,d,m){const v=window.document.createElement(a);return d!==void 0&&(v.className=d),m&&m.appendChild(v),v}static createNS(a,d){return window.document.createElementNS(a,d)}static disableDrag(){y.docStyle&&y.selectProp&&(y.userSelect=y.docStyle[y.selectProp],y.docStyle[y.selectProp]="none")}static enableDrag(){y.docStyle&&y.selectProp&&(y.docStyle[y.selectProp]=y.userSelect)}static setTransform(a,d){a.style[y.transformProp]=d}static addEventListener(a,d,m,v={}){a.addEventListener(d,m,"passive"in v?v:v.capture)}static removeEventListener(a,d,m,v={}){a.removeEventListener(d,m,"passive"in v?v:v.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",y.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",y.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",y.suppressClickInternal,!0)},0)}static mousePos(a,d){const m=a.getBoundingClientRect();return new o.P(d.clientX-m.left-a.clientLeft,d.clientY-m.top-a.clientTop)}static touchPos(a,d){const m=a.getBoundingClientRect(),v=[];for(let x=0;x<d.length;x++)v.push(new o.P(d[x].clientX-m.left-a.clientLeft,d[x].clientY-m.top-a.clientTop));return v}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}y.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,y.selectProp=y.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),y.transformProp=y.testProp(["transform","WebkitTransform"]);const w={supported:!1,testSupport:function(_){!I&&C&&(O?L(_):k=_)}};let k,C,I=!1,O=!1;function L(_){const a=_.createTexture();_.bindTexture(_.TEXTURE_2D,a);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,C),_.isContextLost())return;w.supported=!0}catch{}_.deleteTexture(a),I=!0}var R,B;typeof document<"u"&&(C=document.createElement("img"),C.onload=function(){k&&L(k),k=null,O=!0},C.onerror=function(){I=!0,k=null},C.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(_){let a,d,m,v;_.resetRequestQueue=()=>{a=[],d=0,m=0,v={}},_.addThrottleControl=z=>{const N=m++;return v[N]=z,N},_.removeThrottleControl=z=>{delete v[z],P()},_.getImage=(z,N,U=!0)=>{w.supported&&(z.headers||(z.headers={}),z.headers.accept="image/webp,*/*");const J={requestParameters:z,supportImageRefresh:U,callback:N,cancelled:!1,completed:!1,cancel:()=>{J.completed||J.cancelled||(J.cancelled=!0,J.innerRequest&&(J.innerRequest.cancel(),d--),P())}};return a.push(J),P(),J};const x=z=>{const{requestParameters:N,supportImageRefresh:U,callback:J}=z;return o.e(N,{type:"image"}),(U!==!1||o.i()||o.g(N.url)||N.headers&&!Object.keys(N.headers).reduce((he,de)=>he&&de==="accept",!0)?o.m:M)(N,(he,de,ge,ce)=>{E(z,J,he,de,ge,ce)})},E=(z,N,U,J,he,de)=>{U?N(U):J instanceof HTMLImageElement||o.a(J)?N(null,J):J&&((ge,ce)=>{typeof createImageBitmap=="function"?o.b(ge,ce):o.d(ge,ce)})(J,(ge,ce)=>{ge!=null?N(ge):ce!=null&&N(null,ce,{cacheControl:he,expires:de})}),z.cancelled||(z.completed=!0,d--,P())},P=()=>{const z=(()=>{const N=Object.keys(v);let U=!1;if(N.length>0){for(const J of N)if(U=v[J](),U)break}return U})()?o.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let N=d;N<z&&a.length>0;N++){const U=a.shift();if(U.cancelled){N--;continue}const J=x(U);d++,U.innerRequest=J}},M=(z,N)=>{const U=new Image,J=z.url;let he=!1;const de=z.credentials;return de&&de==="include"?U.crossOrigin="use-credentials":(de&&de==="same-origin"||!o.s(J))&&(U.crossOrigin="anonymous"),U.fetchPriority="high",U.onload=()=>{N(null,U),U.onerror=U.onload=null},U.onerror=()=>{he||N(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),U.onerror=U.onload=null},U.src=J,{cancel:()=>{he=!0,U.src=""}}}}(R||(R={})),R.resetRequestQueue(),function(_){_.Glyphs="Glyphs",_.Image="Image",_.Source="Source",_.SpriteImage="SpriteImage",_.SpriteJSON="SpriteJSON",_.Style="Style",_.Tile="Tile",_.Unknown="Unknown"}(B||(B={}));class j{constructor(a){this._transformRequestFn=a}transformRequest(a,d){return this._transformRequestFn&&this._transformRequestFn(a,d)||{url:a}}normalizeSpriteURL(a,d,m){const v=function(x){const E=x.match(Z);if(!E)throw new Error(`Unable to parse URL "${x}"`);return{protocol:E[1],authority:E[2],path:E[3]||"/",params:E[4]?E[4].split("&"):[]}}(a);return v.path+=`${d}${m}`,function(x){const E=x.params.length?`?${x.params.join("&")}`:"";return`${x.protocol}://${x.authority}${x.path}${E}`}(v)}setTransformRequest(a){this._transformRequestFn=a}}const Z=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function re(_){var a=new o.A(3);return a[0]=_[0],a[1]=_[1],a[2]=_[2],a}var ie,Q=function(_,a,d){return _[0]=a[0]-d[0],_[1]=a[1]-d[1],_[2]=a[2]-d[2],_};ie=new o.A(3),o.A!=Float32Array&&(ie[0]=0,ie[1]=0,ie[2]=0);var se=function(_){var a=_[0],d=_[1];return a*a+d*d};function H(_){const a=[];if(typeof _=="string")a.push({id:"default",url:_});else if(_&&_.length>0){const d=[];for(const{id:m,url:v}of _){const x=`${m}${v}`;d.indexOf(x)===-1&&(d.push(x),a.push({id:m,url:v}))}}return a}function $(_,a,d,m,v){if(m)return void _(m);if(v!==Object.values(a).length||v!==Object.values(d).length)return;const x={};for(const E in a){x[E]={};const P=o.h.getImageCanvasContext(d[E]),M=a[E];for(const z in M){const{width:N,height:U,x:J,y:he,sdf:de,pixelRatio:ge,stretchX:ce,stretchY:Pe,content:He}=M[z];x[E][z]={data:null,pixelRatio:ge,sdf:de,stretchX:ce,stretchY:Pe,content:He,spriteData:{width:N,height:U,x:J,y:he,context:P}}}}_(null,x)}(function(){var _=new o.A(2);o.A!=Float32Array&&(_[0]=0,_[1]=0)})();class K{constructor(a,d,m,v){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(d,v)}update(a,d,m){const{width:v,height:x}=a,E=!(this.size&&this.size[0]===v&&this.size[1]===x||m),{context:P}=this,{gl:M}=P;if(this.useMipmap=!!(d&&d.useMipmap),M.bindTexture(M.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===M.RGBA&&(!d||d.premultiply!==!1)),E)this.size=[v,x],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,M.UNSIGNED_BYTE,a):M.texImage2D(M.TEXTURE_2D,0,this.format,v,x,0,this.format,M.UNSIGNED_BYTE,a.data);else{const{x:z,y:N}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?M.texSubImage2D(M.TEXTURE_2D,0,z,N,M.RGBA,M.UNSIGNED_BYTE,a):M.texSubImage2D(M.TEXTURE_2D,0,z,N,v,x,M.RGBA,M.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&M.generateMipmap(M.TEXTURE_2D)}bind(a,d,m){const{context:v}=this,{gl:x}=v;x.bindTexture(x.TEXTURE_2D,this.texture),m!==x.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=x.LINEAR),a!==this.filter&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,a),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,m||a),this.filter=a),d!==this.wrap&&(x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,d),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function ae(_){const{userImage:a}=_;return!!(a&&a.render&&a.render())&&(_.data.replace(new Uint8Array(a.data.buffer)),!0)}class te extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:d,callback:m}of this.requestors)this._notify(d,m);this.requestors=[]}}getImage(a){const d=this.images[a];if(d&&!d.data&&d.spriteData){const m=d.spriteData;d.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),d.spriteData=null}return d}addImage(a,d){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let m=!0;const v=d.data||d.spriteData;return this._validateStretch(d.stretchX,v&&v.width)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,v&&v.height)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,d){if(!a)return!0;let m=0;for(const v of a){if(v[0]<m||v[1]<v[0]||d<v[1])return!1;m=v[1]}return!0}_validateContent(a,d){if(!a)return!0;if(a.length!==4)return!1;const m=d.spriteData,v=m&&m.width||d.data.width,x=m&&m.height||d.data.height;return!(a[0]<0||v<a[0]||a[1]<0||x<a[1]||a[2]<0||v<a[2]||a[3]<0||x<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,d,m=!0){const v=this.getImage(a);if(m&&(v.data.width!==d.data.width||v.data.height!==d.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=v.version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){const d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,d){let m=!0;if(!this.isLoaded())for(const v of a)this.images[v]||(m=!1);this.isLoaded()||m?this._notify(a,d):this.requestors.push({ids:a,callback:d})}_notify(a,d){const m={};for(const v of a){let x=this.getImage(v);x||(this.fire(new o.k("styleimagemissing",{id:v})),x=this.getImage(v)),x?m[v]={data:x.data.clone(),pixelRatio:x.pixelRatio,sdf:x.sdf,version:x.version,stretchX:x.stretchX,stretchY:x.stretchY,content:x.content,hasRenderCallback:!!(x.userImage&&x.userImage.render)}:o.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,m)}getPixelSize(){const{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){const d=this.patterns[a],m=this.getImage(a);if(!m)return null;if(d&&d.position.version===m.version)return d.position;if(d)d.position.version=m.version;else{const v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},x=new o.I(v,m);this.patterns[a]={bin:v,position:x}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new K(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const x in this.patterns)a.push(this.patterns[x].bin);const{w:d,h:m}=o.p(a),v=this.atlasImage;v.resize({width:d||1,height:m||1});for(const x in this.patterns){const{bin:E}=this.patterns[x],P=E.x+1,M=E.y+1,z=this.getImage(x).data,N=z.width,U=z.height;o.R.copy(z,v,{x:0,y:0},{x:P,y:M},{width:N,height:U}),o.R.copy(z,v,{x:0,y:U-1},{x:P,y:M-1},{width:N,height:1}),o.R.copy(z,v,{x:0,y:0},{x:P,y:M+U},{width:N,height:1}),o.R.copy(z,v,{x:N-1,y:0},{x:P-1,y:M},{width:1,height:U}),o.R.copy(z,v,{x:0,y:0},{x:P+N,y:M},{width:1,height:U})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const m=this.getImage(d);m||o.w(`Image with ID: "${d}" was not found`),ae(m)&&this.updateImage(d,m)}}}const be=1e20;function me(_,a,d,m,v,x,E,P,M){for(let z=a;z<a+m;z++)Ie(_,d*x+z,x,v,E,P,M);for(let z=d;z<d+v;z++)Ie(_,z*x+a,1,m,E,P,M)}function Ie(_,a,d,m,v,x,E){x[0]=0,E[0]=-be,E[1]=be,v[0]=_[a];for(let P=1,M=0,z=0;P<m;P++){v[P]=_[a+P*d];const N=P*P;do{const U=x[M];z=(v[P]-v[U]+N-U*U)/(P-U)/2}while(z<=E[M]&&--M>-1);M++,x[M]=P,E[M]=z,E[M+1]=be}for(let P=0,M=0;P<m;P++){for(;E[M+1]<P;)M++;const z=x[M],N=P-z;_[a+P*d]=v[z]+N*N}}class Ae{constructor(a,d){this.requestManager=a,this.localIdeographFontFamily=d,this.entries={}}setURL(a){this.url=a}getGlyphs(a,d){const m=[];for(const v in a)for(const x of a[v])m.push({stack:v,id:x});o.o(m,({stack:v,id:x},E)=>{let P=this.entries[v];P||(P=this.entries[v]={glyphs:{},requests:{},ranges:{}});let M=P.glyphs[x];if(M!==void 0)return void E(null,{stack:v,id:x,glyph:M});if(M=this._tinySDF(P,v,x),M)return P.glyphs[x]=M,void E(null,{stack:v,id:x,glyph:M});const z=Math.floor(x/256);if(256*z>65535)return void E(new Error("glyphs > 65535 not supported"));if(P.ranges[z])return void E(null,{stack:v,id:x,glyph:M});if(!this.url)return void E(new Error("glyphsUrl is not set"));let N=P.requests[z];N||(N=P.requests[z]=[],Ae.loadGlyphRange(v,z,this.url,this.requestManager,(U,J)=>{if(J){for(const he in J)this._doesCharSupportLocalGlyph(+he)||(P.glyphs[+he]=J[+he]);P.ranges[z]=!0}for(const he of N)he(U,J);delete P.requests[z]})),N.push((U,J)=>{U?E(U):J&&E(null,{stack:v,id:x,glyph:J[x]||null})})},(v,x)=>{if(v)d(v);else if(x){const E={};for(const{stack:P,id:M,glyph:z}of x)(E[P]||(E[P]={}))[M]=z&&{id:z.id,bitmap:z.bitmap.clone(),metrics:z.metrics};d(null,E)}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(o.u["CJK Unified Ideographs"](a)||o.u["Hangul Syllables"](a)||o.u.Hiragana(a)||o.u.Katakana(a))}_tinySDF(a,d,m){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(m))return;let x=a.tinySDF;if(!x){let P="400";/bold/i.test(d)?P="900":/medium/i.test(d)?P="500":/light/i.test(d)&&(P="200"),x=a.tinySDF=new Ae.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:P})}const E=x.draw(String.fromCharCode(m));return{id:m,bitmap:new o.q({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ae.loadGlyphRange=function(_,a,d,m,v){const x=256*a,E=x+255,P=m.transformRequest(d.replace("{fontstack}",_).replace("{range}",`${x}-${E}`),B.Glyphs);o.l(P,(M,z)=>{if(M)v(M);else if(z){const N={};for(const U of o.n(z))N[U.id]=U;v(null,N)}})},Ae.TinySDF=class{constructor({fontSize:_=24,buffer:a=3,radius:d=8,cutoff:m=.25,fontFamily:v="sans-serif",fontWeight:x="normal",fontStyle:E="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=d;const P=this.size=_+4*a,M=this._createCanvas(P),z=this.ctx=M.getContext("2d",{willReadFrequently:!0});z.font=`${E} ${x} ${_}px ${v}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(_){const a=document.createElement("canvas");return a.width=a.height=_,a}draw(_){const{width:a,actualBoundingBoxAscent:d,actualBoundingBoxDescent:m,actualBoundingBoxLeft:v,actualBoundingBoxRight:x}=this.ctx.measureText(_),E=Math.ceil(d),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(x-v))),M=Math.min(this.size-this.buffer,E+Math.ceil(m)),z=P+2*this.buffer,N=M+2*this.buffer,U=Math.max(z*N,0),J=new Uint8ClampedArray(U),he={data:J,width:z,height:N,glyphWidth:P,glyphHeight:M,glyphTop:E,glyphLeft:0,glyphAdvance:a};if(P===0||M===0)return he;const{ctx:de,buffer:ge,gridInner:ce,gridOuter:Pe}=this;de.clearRect(ge,ge,P,M),de.fillText(_,ge,ge+E);const He=de.getImageData(ge,ge,P,M);Pe.fill(be,0,U),ce.fill(0,0,U);for(let xe=0;xe<M;xe++)for(let Le=0;Le<P;Le++){const Ye=He.data[4*(xe*P+Le)+3]/255;if(Ye===0)continue;const Ke=(xe+ge)*z+Le+ge;if(Ye===1)Pe[Ke]=0,ce[Ke]=be;else{const st=.5-Ye;Pe[Ke]=st>0?st*st:0,ce[Ke]=st<0?st*st:0}}me(Pe,0,0,z,N,z,this.f,this.v,this.z),me(ce,ge,ge,P,M,z,this.f,this.v,this.z);for(let xe=0;xe<U;xe++){const Le=Math.sqrt(Pe[xe])-Math.sqrt(ce[xe]);J[xe]=Math.round(255-255*(Le/this.radius+this.cutoff))}return he}};class Ue{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,d){return o.z(a.expression.evaluate(d))}interpolate(a,d,m){return{x:o.B.number(a.x,d.x,m),y:o.B.number(a.y,d.y,m),z:o.B.number(a.z,d.z,m)}}}let Fe;class Ce extends o.E{constructor(a){super(),Fe=Fe||new o.r({anchor:new o.D(o.v.light.anchor),position:new Ue,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(Fe),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(o.t,a,d))for(const m in a){const v=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m){return(!m||m.validate!==!1)&&o.x(this,a.call(o.y,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}}class Ve{constructor(a,d){this.width=a,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,d){const m=a.join(",")+String(d);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,d)),this.dashEntry[m]}getDashRanges(a,d,m){const v=[];let x=a.length%2==1?-a[a.length-1]*m:0,E=a[0]*m,P=!0;v.push({left:x,right:E,isDash:P,zeroLength:a[0]===0});let M=a[0];for(let z=1;z<a.length;z++){P=!P;const N=a[z];x=M*m,M+=N,E=M*m,v.push({left:x,right:E,isDash:P,zeroLength:N===0})}return v}addRoundDash(a,d,m){const v=d/2;for(let x=-m;x<=m;x++){const E=this.width*(this.nextRow+m+x);let P=0,M=a[P];for(let z=0;z<this.width;z++){z/M.right>1&&(M=a[++P]);const N=Math.abs(z-M.left),U=Math.abs(z-M.right),J=Math.min(N,U);let he;const de=x/m*(v+1);if(M.isDash){const ge=v-Math.abs(de);he=Math.sqrt(J*J+ge*ge)}else he=v-Math.sqrt(J*J+de*de);this.data[E+z]=Math.max(0,Math.min(255,he+128))}}}addRegularDash(a){for(let P=a.length-1;P>=0;--P){const M=a[P],z=a[P+1];M.zeroLength?a.splice(P,1):z&&z.isDash===M.isDash&&(z.left=M.left,a.splice(P,1))}const d=a[0],m=a[a.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);const v=this.width*this.nextRow;let x=0,E=a[x];for(let P=0;P<this.width;P++){P/E.right>1&&(E=a[++x]);const M=Math.abs(P-E.left),z=Math.abs(P-E.right),N=Math.min(M,z);this.data[v+P]=Math.max(0,Math.min(255,(E.isDash?N:-N)+128))}}addDash(a,d){const m=d?7:0,v=2*m+1;if(this.nextRow+v>this.height)return o.w("LineAtlas out of space"),null;let x=0;for(let P=0;P<a.length;P++)x+=a[P];if(x!==0){const P=this.width/x,M=this.getDashRanges(a,this.width,P);d?this.addRoundDash(M,P,m):this.addRegularDash(M)}const E={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:x};return this.nextRow+=v,this.dirty=!0,E}bind(a){const d=a.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class $e{constructor(a,d,m){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=m;const v=this.workerPool.acquire(m);for(let x=0;x<v.length;x++){const E=new o.C(v[x],d,m);E.name=`Worker ${x}`,this.actors.push(E)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,d,m){o.o(this.actors,(v,x)=>{v.send(a,d,x)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}}function qe(_,a,d){const m=function(v,x){if(v)return d(v);if(x){const E=o.F(o.e(x,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);x.vector_layers&&(E.vectorLayers=x.vector_layers,E.vectorLayerIds=E.vectorLayers.map(P=>P.id)),d(null,E)}};return _.url?o.f(a.transformRequest(_.url,B.Source),m):o.h.frame(()=>m(null,_))}class pt{constructor(a,d){a&&(d?this.setSouthWest(a).setNorthEast(d):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}extend(a){const d=this._sw,m=this._ne;let v,x;if(a instanceof o.L)v=a,x=a;else{if(!(a instanceof pt))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(pt.convert(a)):this.extend(o.L.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.L.convert(a)):this;if(v=a._sw,x=a._ne,!v||!x)return this}return d||m?(d.lng=Math.min(v.lng,d.lng),d.lat=Math.min(v.lat,d.lat),m.lng=Math.max(x.lng,m.lng),m.lat=Math.max(x.lat,m.lat)):(this._sw=new o.L(v.lng,v.lat),this._ne=new o.L(x.lng,x.lat)),this}getCenter(){return new o.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.L(this.getWest(),this.getNorth())}getSouthEast(){return new o.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:d,lat:m}=o.L.convert(a);let v=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&v}static convert(a){return a instanceof pt?a:a&&new pt(a)}static fromLngLat(a,d=0){const m=360*d/40075017,v=m/Math.cos(Math.PI/180*a.lat);return new pt(new o.L(a.lng-v,a.lat-m),new o.L(a.lng+v,a.lat+m))}}class Ct{constructor(a,d,m){this.bounds=pt.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const d=Math.pow(2,a.z),m=Math.floor(o.G(this.bounds.getWest())*d),v=Math.floor(o.H(this.bounds.getNorth())*d),x=Math.ceil(o.G(this.bounds.getEast())*d),E=Math.ceil(o.H(this.bounds.getSouth())*d);return a.x>=m&&a.x<x&&a.y>=v&&a.y<E}}class $t extends o.E{constructor(a,d,m,v){if(super(),this.load=()=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=qe(this._options,this.map._requestManager,(x,E)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),x?this.fire(new o.j(x)):E&&(o.e(this,E),E.bounds&&(this.tileBounds=new Ct(E.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>o.e({},this._options),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.F(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(m,B.Tile),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function x(E,P){return delete a.request,a.aborted?d(null):E&&E.status!==404?d(E):(P&&P.resourceTiming&&(a.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&a.setExpiryData(P),a.loadVectorData(P,this.map.painter),d(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,a.actor&&a.state!=="expired"?a.state==="loading"?a.reloadCallback=d:a.request=a.actor.send("reloadTile",v,x.bind(this)):(a.actor=this.dispatcher.getActor(),a.request=a.actor.send("loadTile",v,x.bind(this)))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id},void 0)}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class gt extends o.E{constructor(a,d,m,v){super(),this.id=a,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.F(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=qe(this._options,this.map._requestManager,(a,d)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new o.j(a)):d&&(o.e(this,d),d.bounds&&(this.tileBounds=new Ct(d.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.request=R.getImage(this.map._requestManager.transformRequest(m,B.Tile),(v,x,E)=>{if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(v)a.state="errored",d(v);else if(x){this.map._refreshExpiredTiles&&E&&a.setExpiryData(E);const P=this.map.painter.context,M=P.gl;a.texture=this.map.painter.getTileTexture(x.width),a.texture?a.texture.update(x,{useMipmap:!0}):(a.texture=new K(P,x,M.RGBA,{useMipmap:!0}),a.texture.bind(M.LINEAR,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),P.extTextureFilterAnisotropic&&M.texParameterf(M.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax)),a.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(a,d){a.request&&(a.request.cancel(),delete a.request),d()}unloadTile(a,d){a.texture&&this.map.painter.saveTileTexture(a.texture),d()}hasTransition(){return!1}}class Ne extends gt{constructor(a,d,m,v){super(a,d,m,v),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(m,B.Tile);function x(E,P){E&&(a.state="errored",d(E)),P&&(a.dem=P,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded",d(null))}a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.request=R.getImage(v,(E,P,M)=>o._(this,void 0,void 0,function*(){if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(E)a.state="errored",d(E);else if(P){this.map._refreshExpiredTiles&&a.setExpiryData(M);const z=o.a(P)&&o.J()?P:yield function(U){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.K()){const J=U.width+2,he=U.height+2;try{return new o.R({width:J,height:he},yield o.M(U,-1,-1,J,he))}catch{}}return o.h.getImageData(U,1)})}(P),N={uid:a.uid,coord:a.tileID,source:this.id,rawImageData:z,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};a.actor&&a.state!=="expired"||(a.actor=this.dispatcher.getActor(),a.actor.send("loadDEMTile",N,x))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(a){const d=a.canonical,m=Math.pow(2,d.z),v=(d.x-1+m)%m,x=d.x===0?a.wrap-1:a.wrap,E=(d.x+1+m)%m,P=d.x+1===m?a.wrap+1:a.wrap,M={};return M[new o.O(a.overscaledZ,x,d.z,v,d.y).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y).key]={backfilled:!1},d.y>0&&(M[new o.O(a.overscaledZ,x,d.z,v,d.y-1).key]={backfilled:!1},M[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y-1).key]={backfilled:!1}),d.y+1<m&&(M[new o.O(a.overscaledZ,x,d.z,v,d.y+1).key]={backfilled:!1},M[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y+1).key]={backfilled:!1}),M}unloadTile(a){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&a.actor.send("removeDEMTile",{uid:a.uid,source:this.id})}}class tt extends o.E{constructor(a,d,m,v){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>o.e({},this._options,{type:this.type,data:this._data}),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(v),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const x=o.N/this.tileSize;this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*x,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*x,extent:o.N,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.N,radius:(d.clusterRadius||50)*x,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:a,source:this.id},d),this}getClusterChildren(a,d){return this.actor.send("geojson.getClusterChildren",{clusterId:a,source:this.id},d),this}getClusterLeaves(a,d,m,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:a,limit:d,offset:m},v),this}_updateWorkerData(a){const d=o.e({},this.workerOptions);a?d.dataDiff=a:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(o.h.resolveURL(this._data),B.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(m,v)=>{if(this._pendingLoads--,this._removed||v&&v.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let x=null;if(v&&v.resourceTiming&&v.resourceTiming[this.id]&&(x=v.resourceTiming[this.id].slice(0)),m)return void this.fire(new o.j(m));const E={dataType:"source"};this._collectResourceTiming&&x&&x.length>0&&o.e(E,{resourceTiming:x}),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(a,d){const m=a.actor?"reloadTile":"loadTile";a.actor=this.actor;const v={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.request=this.actor.send(m,v,(x,E)=>(delete a.request,a.unloadVectorData(),a.aborted?d(null):x?d(x):(a.loadVectorData(E,this.map.painter,m==="reloadTile"),d(null))))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.aborted=!0}unloadTile(a){a.unloadVectorData(),this.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var je=o.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class et extends o.E{constructor(a,d,m,v){super(),this.load=(x,E)=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=R.getImage(this.map._requestManager.transformRequest(this.url,B.Image),(P,M)=>{this._request=null,this._loaded=!0,P?this.fire(new o.j(P)):M&&(this.image=M,x&&(this.coordinates=x),E&&E(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const x=this.map.painter.context,E=x.gl;this.boundsBuffer||(this.boundsBuffer=x.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new K(x,this.image,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const M in this.tiles){const z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=a,this.dispatcher=m,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=d}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=a.url,this.load(a.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(a){this.coordinates=a;const d=a.map(o.U.fromLngLat);this.tileID=function(v){let x=1/0,E=1/0,P=-1/0,M=-1/0;for(const J of v)x=Math.min(x,J.x),E=Math.min(E,J.y),P=Math.max(P,J.x),M=Math.max(M,J.y);const z=Math.max(P-x,M-E),N=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),U=Math.pow(2,N);return new o.W(N,Math.floor((x+P)/2*U),Math.floor((E+M)/2*U))}(d),this.minzoom=this.maxzoom=this.tileID.z;const m=d.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new o.V,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,o.N,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,o.N),this._boundsArray.emplaceBack(m[2].x,m[2].y,o.N,o.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(a,d){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},d(null)):(a.state="errored",d(null))}hasTransition(){return!1}}class Je extends et{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!1;const x=this.options;this.urls=[];for(const E of x.urls)this.urls.push(this.map._requestManager.transformRequest(E,B.Source).url);o.X(this.urls,(E,P)=>{this._loaded=!0,E?this.fire(new o.j(E)):P&&(this.video=P,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const x=this.map.painter.context,E=x.gl;this.boundsBuffer||(this.boundsBuffer=x.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.texSubImage2D(E.TEXTURE_2D,0,0,0,E.RGBA,E.UNSIGNED_BYTE,this.video)):(this.texture=new K(x,this.video,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const M in this.tiles){const z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const d=this.video.seekable;a<d.start(0)||a>d.end(0)?this.fire(new o.j(new o.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class It extends et{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let x=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,x=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,x=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const E=this.map.painter.context,P=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?(x||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new K(E,this.canvas,P.RGBA,{premultiply:!0});let M=!1;for(const z in this.tiles){const N=this.tiles[z];N.state!=="loaded"&&(N.state="loaded",N.texture=this.texture,M=!0)}M&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(x=>!Array.isArray(x)||x.length!==2||x.some(E=>typeof E!="number"))||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.j(new o.Y(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const oe={},fe=_=>{switch(_){case"geojson":return tt;case"image":return et;case"raster":return gt;case"raster-dem":return Ne;case"vector":return $t;case"video":return Je;case"canvas":return It}return oe[_]};function Me(_,a){const d=o.Z();return o.$(d,d,[1,1,0]),o.a0(d,d,[.5*_.width,.5*_.height,1]),o.a1(d,d,_.calculatePosMatrix(a.toUnwrapped()))}function Xe(_,a,d,m,v,x){const E=function(U,J,he){if(U)for(const de of U){const ge=J[de];if(ge&&ge.source===he&&ge.type==="fill-extrusion")return!0}else for(const de in J){const ge=J[de];if(ge.source===he&&ge.type==="fill-extrusion")return!0}return!1}(v&&v.layers,a,_.id),P=x.maxPitchScaleFactor(),M=_.tilesIn(m,P,E);M.sort(Ze);const z=[];for(const U of M)z.push({wrappedTileID:U.tileID.wrapped().key,queryResults:U.tile.queryRenderedFeatures(a,d,_._state,U.queryGeometry,U.cameraQueryGeometry,U.scale,v,x,P,Me(_.transform,U.tileID))});const N=function(U){const J={},he={};for(const de of U){const ge=de.queryResults,ce=de.wrappedTileID,Pe=he[ce]=he[ce]||{};for(const He in ge){const xe=ge[He],Le=Pe[He]=Pe[He]||{},Ye=J[He]=J[He]||[];for(const Ke of xe)Le[Ke.featureIndex]||(Le[Ke.featureIndex]=!0,Ye.push(Ke))}}return J}(z);for(const U in N)N[U].forEach(J=>{const he=J.feature,de=_.getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=de});return N}function Ze(_,a){const d=_.tileID,m=a.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}class nt{constructor(a,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a2(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const d=a+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,d,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(v,x){const E={};if(!x)return E;for(const P of v){const M=P.layerIds.map(z=>x.getLayer(z)).filter(Boolean);if(M.length!==0){P.layers=M,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(z=>M.filter(N=>N.id===z)[0]));for(const z of M)E[z.id]=P}}return E}(a.buckets,d.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const x=this.buckets[v];if(x instanceof o.a4){if(this.hasSymbolBuckets=!0,!m)break;x.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const x=this.buckets[v];if(x instanceof o.a4&&x.hasRTLText){this.hasRTLText=!0,o.a5();break}}this.queryPadding=0;for(const v in this.buckets){const x=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(v).queryRadius(x))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a3}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const m in this.buckets){const v=this.buckets[m];v.uploadPending()&&v.upload(a)}const d=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new K(a,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new K(a,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,d,m,v,x,E,P,M,z,N){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:x,scale:E,tileSize:this.tileSize,pixelPosMatrix:N,transform:M,params:P,queryPadding:this.queryPadding*z},a,d,m):{}}querySourceFeatures(a,d){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const v=m.loadVTLayers(),x=d&&d.sourceLayer?d.sourceLayer:"",E=v._geojsonTileLayer||v[x];if(!E)return;const P=o.a6(d&&d.filter),{z:M,x:z,y:N}=this.tileID.canonical,U={z:M,x:z,y:N};for(let J=0;J<E.length;J++){const he=E.feature(J);if(P.needGeometry){const ce=o.a7(he,!0);if(!P.filter(new o.a8(this.tileID.overscaledZ),ce,this.tileID.canonical))continue}else if(!P.filter(new o.a8(this.tileID.overscaledZ),he))continue;const de=m.getId(he,x),ge=new o.a9(he,M,z,N,de);ge.tile=U,a.push(ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const d=this.expirationTime;if(a.cacheControl){const m=o.aa(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const m=Date.now();let v=!1;if(this.expirationTime>m)v=!1;else if(d)if(this.expirationTime<d)v=!0;else{const x=this.expirationTime-d;x?this.expirationTime=m+Math.max(x,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!d.style.hasLayer(v))continue;const x=this.buckets[v],E=x.layers[0].sourceLayer||"_geojsonTileLayer",P=m[E],M=a[E];if(!P||!M||Object.keys(M).length===0)continue;x.update(M,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});const z=d&&d.style&&d.style.getLayer(v);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(x)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<o.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=o.h.now()+a}setDependencies(a,d){const m={};for(const v of d)m[v]=!0;this.dependencies[a]=m}hasDependency(a,d){for(const m of a){const v=this.dependencies[m];if(v){for(const x of d)if(v[x])return!0}}return!1}}class Tt{constructor(a,d){this.max=a,this.onRemove=d,this.reset()}reset(){for(const a in this.data)for(const d of this.data[a])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(a,d,m){const v=a.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const x={value:d,timeout:void 0};if(m!==void 0&&(x.timeout=setTimeout(()=>{this.remove(a,x)},m)),this.data[v].push(x),this.order.push(v),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const d=this.data[a].shift();return d.timeout&&clearTimeout(d.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),d.value}getByKey(a){const d=this.data[a];return d?d[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,d){if(!this.has(a))return this;const m=a.wrapped().key,v=d===void 0?0:this.data[m].indexOf(d),x=this.data[m][v];return this.data[m].splice(v,1),x.timeout&&clearTimeout(x.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(x.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(a){const d=[];for(const m in this.data)for(const v of this.data[m])a(v.value)||d.push(v);for(const m of d)this.remove(m.value.tileID,m)}}class ke{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,d,m){const v=String(d);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][v]=this.stateChanges[a][v]||{},o.e(this.stateChanges[a][v],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(const x in this.state[a])x!==v&&(this.deletedStates[a][x]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][v]===null){this.deletedStates[a][v]={};for(const x in this.state[a][v])m[x]||(this.deletedStates[a][v][x]=null)}else for(const x in m)this.deletedStates[a]&&this.deletedStates[a][v]&&this.deletedStates[a][v][x]===null&&delete this.deletedStates[a][v][x]}removeFeatureState(a,d,m){if(this.deletedStates[a]===null)return;const v=String(d);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&d!==void 0)this.deletedStates[a][v]!==null&&(this.deletedStates[a][v]=this.deletedStates[a][v]||{},this.deletedStates[a][v][m]=null);else if(d!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][v])for(m in this.deletedStates[a][v]={},this.stateChanges[a][v])this.deletedStates[a][v][m]=null;else this.deletedStates[a][v]=null;else this.deletedStates[a]=null}getState(a,d){const m=String(d),v=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const x=this.deletedStates[a][d];if(x===null)return{};for(const E in x)delete v[E]}return v}initializeTileState(a,d){a.setFeatureState(this.state,d)}coalesceChanges(a,d){const m={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const x={};for(const E in this.stateChanges[v])this.state[v][E]||(this.state[v][E]={}),o.e(this.state[v][E],this.stateChanges[v][E]),x[E]=this.state[v][E];m[v]=x}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const x={};if(this.deletedStates[v]===null)for(const E in this.state[v])x[E]={},this.state[v][E]={};else for(const E in this.deletedStates[v]){if(this.deletedStates[v][E]===null)this.state[v][E]={};else for(const P of Object.keys(this.deletedStates[v][E]))delete this.state[v][E][P];x[E]=this.state[v][E]}m[v]=m[v]||{},o.e(m[v],x)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const v in a)a[v].setFeatureState(m,d)}}class _t extends o.E{constructor(a,d,m){super(),this.id=a,this.dispatcher=m,this.on("data",v=>{v.dataType==="source"&&v.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&v.dataType==="source"&&v.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,x,E,P)=>{const M=new(fe(x.type))(v,x,E,P);if(M.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${M.id}`);return M})(a,d,m,this),this._tiles={},this._cache=new Tt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ke,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const a in this._tiles){const d=this._tiles[a];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,d){return this._source.loadTile(a,d)}_unloadTile(a){if(this._source.unloadTile)return this._source.unloadTile(a,()=>{})}_abortTile(a){this._source.abortTile&&this._source.abortTile(a,()=>{}),this._source.fire(new o.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const m=this._tiles[d];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(Qe).map(a=>a.key)}getRenderableIds(a){const d=[];for(const m in this._tiles)this._isIdRenderable(m,a)&&d.push(this._tiles[m]);return a?d.sort((m,v)=>{const x=m.tileID,E=v.tileID,P=new o.P(x.canonical.x,x.canonical.y)._rotate(this.transform.angle),M=new o.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return x.overscaledZ-E.overscaledZ||M.y-P.y||M.x-P.x}).map(m=>m.tileID.key):d.map(m=>m.tileID).sort(Qe).map(m=>m.key)}hasRenderableParent(a){const d=this.findLoadedParent(a,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(a,d){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(d||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,d){const m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=d),this._loadTile(m,this._tileLoaded.bind(this,m,a,d)))}_tileLoaded(a,d,m,v){if(v)return a.state="errored",void(v.status!==404?this._source.fire(new o.j(v,{tile:a})):this.update(this.transform,this.terrain));a.timeAdded=o.h.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(d,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const d=this.getRenderableIds();for(let v=0;v<d.length;v++){const x=d[v];if(a.neighboringTiles&&a.neighboringTiles[x]){const E=this.getTileByID(x);m(a,E),m(E,a)}}function m(v,x){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let E=x.tileID.canonical.x-v.tileID.canonical.x;const P=x.tileID.canonical.y-v.tileID.canonical.y,M=Math.pow(2,v.tileID.canonical.z),z=x.tileID.key;E===0&&P===0||Math.abs(P)>1||(Math.abs(E)>1&&(Math.abs(E+M)===1?E+=M:Math.abs(E-M)===1&&(E-=M)),x.dem&&v.dem&&(v.dem.backfillBorder(x.dem,E,P),v.neighboringTiles&&v.neighboringTiles[z]&&(v.neighboringTiles[z].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,d,m,v){for(const x in this._tiles){let E=this._tiles[x];if(v[x]||!E.hasData()||E.tileID.overscaledZ<=d||E.tileID.overscaledZ>m)continue;let P=E.tileID;for(;E&&E.tileID.overscaledZ>d+1;){const z=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[z.key],E&&E.hasData()&&(P=z)}let M=P;for(;M.overscaledZ>d;)if(M=M.scaledTo(M.overscaledZ-1),a[M.key]){v[P.key]=P;break}}}findLoadedParent(a,d){if(a.key in this._loadedParentTiles){const m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=a.overscaledZ-1;m>=d;m--){const v=a.scaledTo(m),x=this._getLoadedTile(v);if(x)return x}}_getLoadedTile(a){const d=this._tiles[a.key];return d&&d.hasData()?d:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const d=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,v=Math.floor(d*m*(this._maxTileCacheZoomLevels===null?o.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),x=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(x)}handleWrapJump(a){const d=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,d){const m={};for(const v in this._tiles){const x=this._tiles[v];x.tileID=x.tileID.unwrapTo(x.tileID.wrap+d),m[x.tileID.key]=x}this._tiles=m;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}update(a,d){if(this.transform=a,this.terrain=d,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new o.O(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(m=m.filter(N=>this._source.hasTile(N)))):m=[];const v=a.coveringZoomLevel(this._source),x=Math.max(v-_t.maxOverzooming,this._source.minzoom),E=Math.max(v+_t.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const N={};for(const U of m)if(U.canonical.z>this._source.minzoom){const J=U.scaledTo(U.canonical.z-1);N[J.key]=J;const he=U.scaledTo(Math.max(this._source.minzoom,Math.min(U.canonical.z,5)));N[he.key]=he}m=m.concat(Object.values(N))}const P=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,P&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const M=this._updateRetainedTiles(m,v);if(ct(this._source.type)){const N={},U={},J=Object.keys(M),he=o.h.now();for(const de of J){const ge=M[de],ce=this._tiles[de];if(!ce||ce.fadeEndTime!==0&&ce.fadeEndTime<=he)continue;const Pe=this.findLoadedParent(ge,x);Pe&&(this._addTile(Pe.tileID),N[Pe.tileID.key]=Pe.tileID),U[de]=ge}this._retainLoadedChildren(U,v,E,M);for(const de in N)M[de]||(this._coveredTiles[de]=!0,M[de]=N[de]);if(d){const de={},ge={};for(const ce of m)this._tiles[ce.key].hasData()?de[ce.key]=ce:ge[ce.key]=ce;for(const ce in ge){const Pe=ge[ce].children(this._source.maxzoom);this._tiles[Pe[0].key]&&this._tiles[Pe[1].key]&&this._tiles[Pe[2].key]&&this._tiles[Pe[3].key]&&(de[Pe[0].key]=M[Pe[0].key]=Pe[0],de[Pe[1].key]=M[Pe[1].key]=Pe[1],de[Pe[2].key]=M[Pe[2].key]=Pe[2],de[Pe[3].key]=M[Pe[3].key]=Pe[3],delete ge[ce])}for(const ce in ge){const Pe=this.findLoadedParent(ge[ce],this._source.minzoom);if(Pe){de[Pe.tileID.key]=M[Pe.tileID.key]=Pe.tileID;for(const He in de)de[He].isChildOf(Pe.tileID)&&delete de[He]}}for(const ce in this._tiles)de[ce]||(this._coveredTiles[ce]=!0)}}for(const N in M)this._tiles[N].clearFadeHold();const z=o.ab(this._tiles,M);for(const N of z){const U=this._tiles[N];U.hasSymbolBuckets&&!U.holdingForFade()?U.setHoldDuration(this.map._fadeDuration):U.hasSymbolBuckets&&!U.symbolFadeFinished()||this._removeTile(N)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,d){const m={},v={},x=Math.max(d-_t.maxOverzooming,this._source.minzoom),E=Math.max(d+_t.maxUnderzooming,this._source.minzoom),P={};for(const M of a){const z=this._addTile(M);m[M.key]=M,z.hasData()||d<this._source.maxzoom&&(P[M.key]=M)}this._retainLoadedChildren(P,d,E,m);for(const M of a){let z=this._tiles[M.key];if(z.hasData())continue;if(d+1>this._source.maxzoom){const U=M.children(this._source.maxzoom)[0],J=this.getTile(U);if(J&&J.hasData()){m[U.key]=U;continue}}else{const U=M.children(this._source.maxzoom);if(m[U[0].key]&&m[U[1].key]&&m[U[2].key]&&m[U[3].key])continue}let N=z.wasRequested();for(let U=M.overscaledZ-1;U>=x;--U){const J=M.scaledTo(U);if(v[J.key])break;if(v[J.key]=!0,z=this.getTile(J),!z&&N&&(z=this._addTile(J)),z){const he=z.hasData();if((N||he)&&(m[J.key]=J),N=z.wasRequested(),he)break}}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const d=[];let m,v=this._tiles[a].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}d.push(v.key);const x=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(x),m)break;v=x}for(const x of d)this._loadedParentTiles[x]=m}}_addTile(a){let d=this._tiles[a.key];if(d)return d;d=this._cache.getAndRemove(a),d&&(this._setTileReloadTimer(a.key,d),d.tileID=a,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,d)));const m=d;return d||(d=new nt(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,a.key,d.state))),d.uses++,this._tiles[a.key]=d,m||this._source.fire(new o.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(a,d){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const m=d.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){const d=this._tiles[a];d&&(d.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,d,m){const v=[],x=this.transform;if(!x)return v;const E=m?x.getCameraQueryGeometry(a):a,P=a.map(de=>x.pointCoordinate(de,this.terrain)),M=E.map(de=>x.pointCoordinate(de,this.terrain)),z=this.getIds();let N=1/0,U=1/0,J=-1/0,he=-1/0;for(const de of M)N=Math.min(N,de.x),U=Math.min(U,de.y),J=Math.max(J,de.x),he=Math.max(he,de.y);for(let de=0;de<z.length;de++){const ge=this._tiles[z[de]];if(ge.holdingForFade())continue;const ce=ge.tileID,Pe=Math.pow(2,x.zoom-ge.tileID.overscaledZ),He=d*ge.queryPadding*o.N/ge.tileSize/Pe,xe=[ce.getTilePoint(new o.U(N,U)),ce.getTilePoint(new o.U(J,he))];if(xe[0].x-He<o.N&&xe[0].y-He<o.N&&xe[1].x+He>=0&&xe[1].y+He>=0){const Le=P.map(Ke=>ce.getTilePoint(Ke)),Ye=M.map(Ke=>ce.getTilePoint(Ke));v.push({tile:ge,tileID:ce,queryGeometry:Le,cameraQueryGeometry:Ye,scale:Pe})}}return v}getVisibleCoordinates(a){const d=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(const m of d)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(ct(this._source.type)){const a=o.h.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=a)return!0}return!1}setFeatureState(a,d,m){this._state.updateState(a=a||"_geojsonTileLayer",d,m)}removeFeatureState(a,d,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",d,m)}getFeatureState(a,d){return this._state.getState(a=a||"_geojsonTileLayer",d)}setDependencies(a,d,m){const v=this._tiles[a];v&&v.setDependencies(d,m)}reloadTilesForDependencies(a,d){for(const m in this._tiles)this._tiles[m].hasDependency(a,d)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,d))}}function Qe(_,a){const d=Math.abs(2*_.wrap)-+(_.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return _.overscaledZ-a.overscaledZ||m-d||a.canonical.y-_.canonical.y||a.canonical.x-_.canonical.x}function ct(_){return _==="raster"||_==="image"||_==="video"}_t.maxOverzooming=10,_t.maxUnderzooming=3;const kt="mapboxgl_preloaded_worker_pool";class Pt{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Pt.workerCount;)this.workers.push(new Worker(o.c.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[kt]}numActive(){return Object.keys(this.active).length}}const sn=Math.floor(o.h.hardwareConcurrency/2);let on;function On(){return on||(on=new Pt),on}Pt.workerCount=o.ac(globalThis)?Math.max(Math.min(sn,3),1):1;class bn{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ad(a,0,1);let d=1,m=this._distances[d];const v=a*this.paddedLength+this.padding;for(;m<v&&d<this._distances.length;)m=this._distances[++d];const x=d-1,E=this._distances[x],P=m-E,M=P>0?(v-E)/P:0;return this.points[x].mult(1-M).add(this.points[d].mult(M))}}function $n(_,a){let d=!0;return _==="always"||_!=="never"&&a!=="never"||(d=!1),d}class ur{constructor(a,d,m){const v=this.boxCells=[],x=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(d/m);for(let E=0;E<this.xCellCount*this.yCellCount;E++)v.push([]),x.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,m,v,x){this._forEachCell(d,m,v,x,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(x)}insertCircle(a,d,m,v){this._forEachCell(d-v,m-v,d+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(m),this.circles.push(v)}_insertBoxCell(a,d,m,v,x,E){this.boxCells[x].push(E)}_insertCircleCell(a,d,m,v,x,E){this.circleCells[x].push(E)}_query(a,d,m,v,x,E,P){if(m<0||a>this.width||v<0||d>this.height)return[];const M=[];if(a<=0&&d<=0&&this.width<=m&&this.height<=v){if(x)return[{key:null,x1:a,y1:d,x2:m,y2:v}];for(let z=0;z<this.boxKeys.length;z++)M.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const N=this.circles[3*z],U=this.circles[3*z+1],J=this.circles[3*z+2];M.push({key:this.circleKeys[z],x1:N-J,y1:U-J,x2:N+J,y2:U+J})}}else this._forEachCell(a,d,m,v,this._queryCell,M,{hitTest:x,overlapMode:E,seenUids:{box:{},circle:{}}},P);return M}query(a,d,m,v){return this._query(a,d,m,v,!1,null)}hitTest(a,d,m,v,x,E){return this._query(a,d,m,v,!0,x,E).length>0}hitTestCircle(a,d,m,v,x){const E=a-m,P=a+m,M=d-m,z=d+m;if(P<0||E>this.width||z<0||M>this.height)return!1;const N=[];return this._forEachCell(E,M,P,z,this._queryCellCircle,N,{hitTest:!0,overlapMode:v,circle:{x:a,y:d,radius:m},seenUids:{box:{},circle:{}}},x),N.length>0}_queryCell(a,d,m,v,x,E,P,M){const{seenUids:z,hitTest:N,overlapMode:U}=P,J=this.boxCells[x];if(J!==null){const de=this.bboxes;for(const ge of J)if(!z.box[ge]){z.box[ge]=!0;const ce=4*ge,Pe=this.boxKeys[ge];if(a<=de[ce+2]&&d<=de[ce+3]&&m>=de[ce+0]&&v>=de[ce+1]&&(!M||M(Pe))&&(!N||!$n(U,Pe.overlapMode))&&(E.push({key:Pe,x1:de[ce],y1:de[ce+1],x2:de[ce+2],y2:de[ce+3]}),N))return!0}}const he=this.circleCells[x];if(he!==null){const de=this.circles;for(const ge of he)if(!z.circle[ge]){z.circle[ge]=!0;const ce=3*ge,Pe=this.circleKeys[ge];if(this._circleAndRectCollide(de[ce],de[ce+1],de[ce+2],a,d,m,v)&&(!M||M(Pe))&&(!N||!$n(U,Pe.overlapMode))){const He=de[ce],xe=de[ce+1],Le=de[ce+2];if(E.push({key:Pe,x1:He-Le,y1:xe-Le,x2:He+Le,y2:xe+Le}),N)return!0}}}return!1}_queryCellCircle(a,d,m,v,x,E,P,M){const{circle:z,seenUids:N,overlapMode:U}=P,J=this.boxCells[x];if(J!==null){const de=this.bboxes;for(const ge of J)if(!N.box[ge]){N.box[ge]=!0;const ce=4*ge,Pe=this.boxKeys[ge];if(this._circleAndRectCollide(z.x,z.y,z.radius,de[ce+0],de[ce+1],de[ce+2],de[ce+3])&&(!M||M(Pe))&&!$n(U,Pe.overlapMode))return E.push(!0),!0}}const he=this.circleCells[x];if(he!==null){const de=this.circles;for(const ge of he)if(!N.circle[ge]){N.circle[ge]=!0;const ce=3*ge,Pe=this.circleKeys[ge];if(this._circlesCollide(de[ce],de[ce+1],de[ce+2],z.x,z.y,z.radius)&&(!M||M(Pe))&&!$n(U,Pe.overlapMode))return E.push(!0),!0}}}_forEachCell(a,d,m,v,x,E,P,M){const z=this._convertToXCellCoord(a),N=this._convertToYCellCoord(d),U=this._convertToXCellCoord(m),J=this._convertToYCellCoord(v);for(let he=z;he<=U;he++)for(let de=N;de<=J;de++)if(x.call(this,a,d,m,v,this.xCellCount*de+he,E,P,M))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,m,v,x,E){const P=v-a,M=x-d,z=m+E;return z*z>P*P+M*M}_circleAndRectCollide(a,d,m,v,x,E,P){const M=(E-v)/2,z=Math.abs(a-(v+M));if(z>M+m)return!1;const N=(P-x)/2,U=Math.abs(d-(x+N));if(U>N+m)return!1;if(z<=M||U<=N)return!0;const J=z-M,he=U-N;return J*J+he*he<=m*m}}function vt(_,a,d,m,v){const x=o.Z();return a?(o.a0(x,x,[1/v,1/v,1]),d||o.ae(x,x,m.angle)):o.a1(x,m.labelPlaneMatrix,_),x}function bi(_,a,d,m,v){if(a){const x=o.af(_);return o.a0(x,x,[v,v,1]),d||o.ae(x,x,-m.angle),x}return m.glCoordMatrix}function Tn(_,a,d){let m;d?(m=[_.x,_.y,d(_.x,_.y),1],o.ag(m,m,a)):(m=[_.x,_.y,0,1],ve(m,m,a));const v=m[3];return{point:new o.P(m[0]/v,m[1]/v),signedDistanceFromCamera:v}}function fa(_,a){return .5+_/a*.5}function hr(_,a){const d=_[0]/_[3],m=_[1]/_[3];return d>=-a[0]&&d<=a[0]&&m>=-a[1]&&m<=a[1]}function At(_,a,d,m,v,x,E,P,M,z){const N=m?_.textSizeData:_.iconSizeData,U=o.ah(N,d.transform.zoom),J=[256/d.width*2+1,256/d.height*2+1],he=m?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;he.clear();const de=_.lineVertexArray,ge=m?_.text.placedSymbolArray:_.icon.placedSymbolArray,ce=d.transform.width/d.transform.height;let Pe=!1;for(let He=0;He<ge.length;He++){const xe=ge.get(He);if(xe.hidden||xe.writingMode===o.ai.vertical&&!Pe){le(xe.numGlyphs,he);continue}let Le;if(Pe=!1,z?(Le=[xe.anchorX,xe.anchorY,z(xe.anchorX,xe.anchorY),1],o.ag(Le,Le,a)):(Le=[xe.anchorX,xe.anchorY,0,1],ve(Le,Le,a)),!hr(Le,J)){le(xe.numGlyphs,he);continue}const Ye=fa(d.transform.cameraToCenterDistance,Le[3]),Ke=o.aj(N,U,xe),st=E?Ke/Ye:Ke*Ye,xt=new o.P(xe.anchorX,xe.anchorY),mt=Tn(xt,v,z).point,Et={projections:{},offsets:{}},Yt=$i(xe,st,!1,P,a,v,x,_.glyphOffsetArray,de,he,mt,xt,Et,ce,M,z);Pe=Yt.useVertical,(Yt.notEnoughRoom||Pe||Yt.needsFlipping&&$i(xe,st,!0,P,a,v,x,_.glyphOffsetArray,de,he,mt,xt,Et,ce,M,z).notEnoughRoom)&&le(xe.numGlyphs,he)}m?_.text.dynamicLayoutVertexBuffer.updateData(he):_.icon.dynamicLayoutVertexBuffer.updateData(he)}function _n(_,a,d,m,v,x,E,P,M,z,N,U,J){const he=P.glyphStartIndex+P.numGlyphs,de=P.lineStartIndex,ge=P.lineStartIndex+P.lineLength,ce=a.getoffsetX(P.glyphStartIndex),Pe=a.getoffsetX(he-1),He=G(_*ce,d,m,v,x,E,P.segment,de,ge,M,z,N,U,J);if(!He)return null;const xe=G(_*Pe,d,m,v,x,E,P.segment,de,ge,M,z,N,U,J);return xe?{first:He,last:xe}:null}function pn(_,a,d,m){return _===o.ai.horizontal&&Math.abs(d.y-a.y)>Math.abs(d.x-a.x)*m?{useVertical:!0}:(_===o.ai.vertical?a.y<d.y:a.x>d.x)?{needsFlipping:!0}:null}function $i(_,a,d,m,v,x,E,P,M,z,N,U,J,he,de,ge){const ce=a/24,Pe=_.lineOffsetX*ce,He=_.lineOffsetY*ce;let xe;if(_.numGlyphs>1){const Le=_.glyphStartIndex+_.numGlyphs,Ye=_.lineStartIndex,Ke=_.lineStartIndex+_.lineLength,st=_n(ce,P,Pe,He,d,N,U,_,M,x,J,de,ge);if(!st)return{notEnoughRoom:!0};const xt=Tn(st.first.point,E,ge).point,mt=Tn(st.last.point,E,ge).point;if(m&&!d){const Et=pn(_.writingMode,xt,mt,he);if(Et)return Et}xe=[st.first];for(let Et=_.glyphStartIndex+1;Et<Le-1;Et++)xe.push(G(ce*P.getoffsetX(Et),Pe,He,d,N,U,_.segment,Ye,Ke,M,x,J,de,ge));xe.push(st.last)}else{if(m&&!d){const Ye=Tn(U,v,ge).point,Ke=_.lineStartIndex+_.segment+1,st=new o.P(M.getx(Ke),M.gety(Ke)),xt=Tn(st,v,ge),mt=xt.signedDistanceFromCamera>0?xt.point:cs(U,st,Ye,1,v,ge),Et=pn(_.writingMode,Ye,mt,he);if(Et)return Et}const Le=G(ce*P.getoffsetX(_.glyphStartIndex),Pe,He,d,N,U,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,M,x,J,de,ge);if(!Le)return{notEnoughRoom:!0};xe=[Le]}for(const Le of xe)o.ak(z,Le.point,Le.angle);return{}}function cs(_,a,d,m,v,x){const E=Tn(_.add(_.sub(a)._unit()),v,x).point,P=d.sub(E);return d.add(P._mult(m/P.mag()))}function xn(_,a){const{projectionCache:d,lineVertexArray:m,labelPlaneMatrix:v,tileAnchorPoint:x,distanceFromAnchor:E,getElevation:P,previousVertex:M,direction:z,absOffsetX:N}=a;if(d.projections[_])return d.projections[_];const U=new o.P(m.getx(_),m.gety(_)),J=Tn(U,v,P);if(J.signedDistanceFromCamera>0)return d.projections[_]=J.point,J.point;const he=_-z;return cs(E===0?x:new o.P(m.getx(he),m.gety(he)),U,M,N-E+1,v,P)}function Ls(_,a,d){return _._unit()._perp()._mult(a*d)}function pe(_,a,d,m,v,x,E,P){const{projectionCache:M,direction:z}=P;if(M.offsets[_])return M.offsets[_];const N=d.add(a);if(_+z<m||_+z>=v)return M.offsets[_]=N,N;const U=xn(_+z,P),J=Ls(U.sub(d),E,z),he=d.add(J),de=U.add(J);return M.offsets[_]=o.al(x,N,he,de)||N,M.offsets[_]}function G(_,a,d,m,v,x,E,P,M,z,N,U,J,he){const de=m?_-a:_+a;let ge=de>0?1:-1,ce=0;m&&(ge*=-1,ce=Math.PI),ge<0&&(ce+=Math.PI);let Pe,He,xe=ge>0?P+E:P+E+1,Le=v,Ye=v,Ke=0,st=0;const xt=Math.abs(de),mt=[];let Et;for(;Ke+st<=xt;){if(xe+=ge,xe<P||xe>=M)return null;Ke+=st,Ye=Le,He=Pe;const Ot={projectionCache:U,lineVertexArray:z,labelPlaneMatrix:N,tileAnchorPoint:x,distanceFromAnchor:Ke,getElevation:he,previousVertex:Ye,direction:ge,absOffsetX:xt};if(Le=xn(xe,Ot),d===0)mt.push(Ye),Et=Le.sub(Ye);else{let cn;const Kt=Le.sub(Ye);cn=Kt.mag()===0?Ls(xn(xe+ge,Ot).sub(Le),d,ge):Ls(Kt,d,ge),He||(He=Ye.add(cn)),Pe=pe(xe,cn,Le,P,M,He,d,Ot),mt.push(He),Et=Pe.sub(He)}st=Et.mag()}const Yt=Et._mult((xt-Ke)/st)._add(He||Ye),Pn=ce+Math.atan2(Le.y-Ye.y,Le.x-Ye.x);return mt.push(Yt),{point:Yt,angle:J?Pn:0,path:mt}}const X=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function le(_,a){for(let d=0;d<_;d++){const m=a.length;a.resize(m+4),a.float32.set(X,3*m)}}function ve(_,a,d){const m=a[0],v=a[1];return _[0]=d[0]*m+d[4]*v+d[12],_[1]=d[1]*m+d[5]*v+d[13],_[3]=d[3]*m+d[7]*v+d[15],_}const _e=100;class ze{constructor(a,d=new ur(a.width+200,a.height+200,25),m=new ur(a.width+200,a.height+200,25)){this.transform=a,this.grid=d,this.ignoredGrid=m,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+_e,this.screenBottomBoundary=a.height+_e,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,d,m,v,x,E){const P=this.projectAndGetPerspectiveRatio(v,a.anchorPointX,a.anchorPointY,E),M=m*P.perspectiveRatio,z=a.x1*M+P.point.x,N=a.y1*M+P.point.y,U=a.x2*M+P.point.x,J=a.y2*M+P.point.y;return!this.isInsideGrid(z,N,U,J)||d!=="always"&&this.grid.hitTest(z,N,U,J,d,x)||P.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[z,N,U,J],offscreen:this.isOffscreen(z,N,U,J)}}placeCollisionCircles(a,d,m,v,x,E,P,M,z,N,U,J,he,de){const ge=[],ce=new o.P(d.anchorX,d.anchorY),Pe=Tn(ce,E,de),He=fa(this.transform.cameraToCenterDistance,Pe.signedDistanceFromCamera),xe=(N?x/He:x*He)/o.ap,Le=Tn(ce,P,de).point,Ye=_n(xe,v,d.lineOffsetX*xe,d.lineOffsetY*xe,!1,Le,ce,d,m,P,{projections:{},offsets:{}},!1,de);let Ke=!1,st=!1,xt=!0;if(Ye){const mt=.5*J*He+he,Et=new o.P(-100,-100),Yt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Pn=new bn,Ot=Ye.first,cn=Ye.last;let Kt=[];for(let Sn=Ot.path.length-1;Sn>=1;Sn--)Kt.push(Ot.path[Sn]);for(let Sn=1;Sn<cn.path.length;Sn++)Kt.push(cn.path[Sn]);const tr=2.5*mt;if(M){const Sn=Kt.map(Dn=>Tn(Dn,M,de));Kt=Sn.some(Dn=>Dn.signedDistanceFromCamera<=0)?[]:Sn.map(Dn=>Dn.point)}let In=[];if(Kt.length>0){const Sn=Kt[0].clone(),Dn=Kt[0].clone();for(let Ur=1;Ur<Kt.length;Ur++)Sn.x=Math.min(Sn.x,Kt[Ur].x),Sn.y=Math.min(Sn.y,Kt[Ur].y),Dn.x=Math.max(Dn.x,Kt[Ur].x),Dn.y=Math.max(Dn.y,Kt[Ur].y);In=Sn.x>=Et.x&&Dn.x<=Yt.x&&Sn.y>=Et.y&&Dn.y<=Yt.y?[Kt]:Dn.x<Et.x||Sn.x>Yt.x||Dn.y<Et.y||Sn.y>Yt.y?[]:o.am([Kt],Et.x,Et.y,Yt.x,Yt.y)}for(const Sn of In){Pn.reset(Sn,.25*mt);let Dn=0;Dn=Pn.length<=.5*mt?1:Math.ceil(Pn.paddedLength/tr)+1;for(let Ur=0;Ur<Dn;Ur++){const mr=Ur/Math.max(Dn-1,1),ki=Pn.lerp(mr),oi=ki.x+_e,Kr=ki.y+_e;ge.push(oi,Kr,mt,0);const _a=oi-mt,br=Kr-mt,ds=oi+mt,hs=Kr+mt;if(xt=xt&&this.isOffscreen(_a,br,ds,hs),st=st||this.isInsideGrid(_a,br,ds,hs),a!=="always"&&this.grid.hitTestCircle(oi,Kr,mt,a,U)&&(Ke=!0,!z))return{circles:[],offscreen:!1,collisionDetected:Ke}}}}return{circles:!z&&Ke||!st||He<this.perspectiveRatioCutoff?[]:ge,offscreen:xt,collisionDetected:Ke}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let m=1/0,v=1/0,x=-1/0,E=-1/0;for(const N of a){const U=new o.P(N.x+_e,N.y+_e);m=Math.min(m,U.x),v=Math.min(v,U.y),x=Math.max(x,U.x),E=Math.max(E,U.y),d.push(U)}const P=this.grid.query(m,v,x,E).concat(this.ignoredGrid.query(m,v,x,E)),M={},z={};for(const N of P){const U=N.key;if(M[U.bucketInstanceId]===void 0&&(M[U.bucketInstanceId]={}),M[U.bucketInstanceId][U.featureIndex])continue;const J=[new o.P(N.x1,N.y1),new o.P(N.x2,N.y1),new o.P(N.x2,N.y2),new o.P(N.x1,N.y2)];o.an(d,J)&&(M[U.bucketInstanceId][U.featureIndex]=!0,z[U.bucketInstanceId]===void 0&&(z[U.bucketInstanceId]=[]),z[U.bucketInstanceId].push(U.featureIndex))}return z}insertCollisionBox(a,d,m,v,x,E){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:x,collisionGroupID:E,overlapMode:d},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,m,v,x,E){const P=m?this.ignoredGrid:this.grid,M={bucketInstanceId:v,featureIndex:x,collisionGroupID:E,overlapMode:d};for(let z=0;z<a.length;z+=4)P.insertCircle(M,a[z],a[z+1],a[z+2])}projectAndGetPerspectiveRatio(a,d,m,v){let x;return v?(x=[d,m,v(d,m),1],o.ag(x,x,a)):(x=[d,m,0,1],ve(x,x,a)),{point:new o.P((x[0]/x[3]+1)/2*this.transform.width+_e,(-x[1]/x[3]+1)/2*this.transform.height+_e),perspectiveRatio:.5+this.transform.cameraToCenterDistance/x[3]*.5}}isOffscreen(a,d,m,v){return m<_e||a>=this.screenRightBoundary||v<_e||d>this.screenBottomBoundary}isInsideGrid(a,d,m,v){return m>=0&&a<this.gridRightBoundary&&v>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const a=o.ao([]);return o.$(a,a,[-100,-100,0]),a}}function Ee(_,a,d){return a*(o.N/(_.tileSize*Math.pow(2,d-_.tileID.overscaledZ)))}class Se{constructor(a,d,m,v){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):v&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Re{constructor(a,d,m,v,x){this.text=new Se(a?a.text:null,d,m,x),this.icon=new Se(a?a.icon:null,d,v,x)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class rt{constructor(a,d,m){this.text=a,this.icon=d,this.skipFade=m}}class at{constructor(){this.invProjMatrix=o.Z(),this.viewportMatrix=o.Z(),this.circles=[]}}class dt{constructor(a,d,m,v,x){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=x}}class tn{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[a]}}function hn(_,a,d,m,v){const{horizontalAlign:x,verticalAlign:E}=o.au(_);return new o.P(-(x-.5)*a+m[0]*v,-(E-.5)*d+m[1]*v)}function Wt(_,a,d,m,v,x){const{x1:E,x2:P,y1:M,y2:z,anchorPointX:N,anchorPointY:U}=_,J=new o.P(a,d);return m&&J._rotate(v?x:-x),{x1:E+J.x,y1:M+J.y,x2:P+J.x,y2:z+J.y,anchorPointX:N,anchorPointY:U}}class rn{constructor(a,d,m,v,x){this.transform=a.clone(),this.terrain=d,this.collisionIndex=new ze(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new tn(v),this.collisionCircleArrays={},this.prevPlacement=x,x&&(x.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,d,m,v){const x=m.getBucket(d),E=m.latestFeatureIndex;if(!x||!E||d.id!==x.layerIds[0])return;const P=m.collisionBoxArray,M=x.layers[0].layout,z=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),N=m.tileSize/o.N,U=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),J=M.get("text-pitch-alignment")==="map",he=M.get("text-rotation-alignment")==="map",de=Ee(m,1,this.transform.zoom),ge=vt(U,J,he,this.transform,de);let ce=null;if(J){const He=bi(U,J,he,this.transform,de);ce=o.a1([],this.transform.labelPlaneMatrix,He)}this.retainedQueryData[x.bucketInstanceId]=new dt(x.bucketInstanceId,E,x.sourceLayerIndex,x.index,m.tileID);const Pe={bucket:x,layout:M,posMatrix:U,textLabelPlaneMatrix:ge,labelToScreenMatrix:ce,scale:z,textPixelRatio:N,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:o.ah(x.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(x.sourceID)};if(v)for(const He of x.sortKeyRanges){const{sortKey:xe,symbolInstanceStart:Le,symbolInstanceEnd:Ye}=He;a.push({sortKey:xe,symbolInstanceStart:Le,symbolInstanceEnd:Ye,parameters:Pe})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:x.symbolInstances.length,parameters:Pe})}attemptAnchorPlacement(a,d,m,v,x,E,P,M,z,N,U,J,he,de,ge,ce){const Pe=o.aq[a.textAnchor],He=[a.textOffset0,a.textOffset1],xe=hn(Pe,m,v,He,x),Le=this.collisionIndex.placeCollisionBox(Wt(d,xe.x,xe.y,E,P,this.transform.angle),U,M,z,N.predicate,ce);if((!ge||this.collisionIndex.placeCollisionBox(Wt(ge,xe.x,xe.y,E,P,this.transform.angle),U,M,z,N.predicate,ce).box.length!==0)&&Le.box.length>0){let Ye;if(this.prevPlacement&&this.prevPlacement.variableOffsets[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID]&&this.prevPlacement.placements[J.crossTileID].text&&(Ye=this.prevPlacement.variableOffsets[J.crossTileID].anchor),J.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[J.crossTileID]={textOffset:He,width:m,height:v,anchor:Pe,textBoxScale:x,prevAnchor:Ye},this.markUsedJustification(he,Pe,J,de),he.allowVerticalPlacement&&(this.markUsedOrientation(he,de,J),this.placedOrientations[J.crossTileID]=de),{shift:xe,placedGlyphBoxes:Le}}}placeLayerBucketPart(a,d,m){const{bucket:v,layout:x,posMatrix:E,textLabelPlaneMatrix:P,labelToScreenMatrix:M,textPixelRatio:z,holdingForFade:N,collisionBoxArray:U,partiallyEvaluatedTextSize:J,collisionGroup:he}=a.parameters,de=x.get("text-optional"),ge=x.get("icon-optional"),ce=o.ar(x,"text-overlap","text-allow-overlap"),Pe=ce==="always",He=o.ar(x,"icon-overlap","icon-allow-overlap"),xe=He==="always",Le=x.get("text-rotation-alignment")==="map",Ye=x.get("text-pitch-alignment")==="map",Ke=x.get("icon-text-fit")!=="none",st=x.get("symbol-z-order")==="viewport-y",xt=Pe&&(xe||!v.hasIconData()||ge),mt=xe&&(Pe||!v.hasTextData()||de);!v.collisionArrays&&U&&v.deserializeCollisionBoxes(U);const Et=this.retainedQueryData[v.bucketInstanceId].tileID,Yt=this.terrain?(Ot,cn)=>this.terrain.getElevation(Et,Ot,cn):null,Pn=(Ot,cn)=>{var Kt,tr;if(d[Ot.crossTileID])return;if(N)return void(this.placements[Ot.crossTileID]=new rt(!1,!1,!1));let In=!1,Sn=!1,Dn=!0,Ur=null,mr={box:null,offscreen:null},ki={box:null,offscreen:null},oi=null,Kr=null,_a=null,br=0,ds=0,hs=0;cn.textFeatureIndex?br=cn.textFeatureIndex:Ot.useRuntimeCollisionCircles&&(br=Ot.featureIndex),cn.verticalTextFeatureIndex&&(ds=cn.verticalTextFeatureIndex);const go=cn.textBox;if(go){const Ri=qr=>{let li=o.ai.horizontal;if(v.allowVerticalPlacement&&!qr&&this.prevPlacement){const ta=this.prevPlacement.placedOrientations[Ot.crossTileID];ta&&(this.placedOrientations[Ot.crossTileID]=ta,li=ta,this.markUsedOrientation(v,li,Ot))}return li},Ci=(qr,li)=>{if(v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&cn.verticalTextBox){for(const ta of v.writingModes)if(ta===o.ai.vertical?(mr=li(),ki=mr):mr=qr(),mr&&mr.box&&mr.box.length)break}else mr=qr()},qi=Ot.textAnchorOffsetStartIndex,Wo=Ot.textAnchorOffsetEndIndex;if(Wo===qi){const qr=(li,ta)=>{const jr=this.collisionIndex.placeCollisionBox(li,ce,z,E,he.predicate,Yt);return jr&&jr.box&&jr.box.length&&(this.markUsedOrientation(v,ta,Ot),this.placedOrientations[Ot.crossTileID]=ta),jr};Ci(()=>qr(go,o.ai.horizontal),()=>{const li=cn.verticalTextBox;return v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&li?qr(li,o.ai.vertical):{box:null,offscreen:null}}),Ri(mr&&mr.box&&mr.box.length)}else{let qr=o.aq[(tr=(Kt=this.prevPlacement)===null||Kt===void 0?void 0:Kt.variableOffsets[Ot.crossTileID])===null||tr===void 0?void 0:tr.anchor];const li=(jr,Yo,Xu)=>{const hp=jr.x2-jr.x1,fp=jr.y2-jr.y1,fy=Ot.textBoxScale,jh=Ke&&He==="never"?Yo:null;let fs={box:[],offscreen:!1},Zo=ce==="never"?1:2,ms="never";qr&&Zo++;for(let Da=0;Da<Zo;Da++){for(let ps=qi;ps<Wo;ps++){const Hh=v.textAnchorOffsets.get(ps);if(qr&&Hh.textAnchor!==qr)continue;const Vs=this.attemptAnchorPlacement(Hh,jr,hp,fp,fy,Le,Ye,z,E,he,ms,Ot,v,Xu,jh,Yt);if(Vs&&(fs=Vs.placedGlyphBoxes,fs&&fs.box&&fs.box.length))return In=!0,Ur=Vs.shift,fs}qr?qr=null:ms=ce}return fs};Ci(()=>li(go,cn.iconBox,o.ai.horizontal),()=>{const jr=cn.verticalTextBox;return v.allowVerticalPlacement&&!(mr&&mr.box&&mr.box.length)&&Ot.numVerticalGlyphVertices>0&&jr?li(jr,cn.verticalIconBox,o.ai.vertical):{box:null,offscreen:null}}),mr&&(In=mr.box,Dn=mr.offscreen);const ta=Ri(mr&&mr.box);if(!In&&this.prevPlacement){const jr=this.prevPlacement.variableOffsets[Ot.crossTileID];jr&&(this.variableOffsets[Ot.crossTileID]=jr,this.markUsedJustification(v,jr.anchor,Ot,ta))}}}if(oi=mr,In=oi&&oi.box&&oi.box.length>0,Dn=oi&&oi.offscreen,Ot.useRuntimeCollisionCircles){const Ri=v.text.placedSymbolArray.get(Ot.centerJustifiedTextSymbolIndex),Ci=o.aj(v.textSizeData,J,Ri),qi=x.get("text-padding");Kr=this.collisionIndex.placeCollisionCircles(ce,Ri,v.lineVertexArray,v.glyphOffsetArray,Ci,E,P,M,m,Ye,he.predicate,Ot.collisionCircleDiameter,qi,Yt),Kr.circles.length&&Kr.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),In=Pe||Kr.circles.length>0&&!Kr.collisionDetected,Dn=Dn&&Kr.offscreen}if(cn.iconFeatureIndex&&(hs=cn.iconFeatureIndex),cn.iconBox){const Ri=Ci=>{const qi=Ke&&Ur?Wt(Ci,Ur.x,Ur.y,Le,Ye,this.transform.angle):Ci;return this.collisionIndex.placeCollisionBox(qi,He,z,E,he.predicate,Yt)};ki&&ki.box&&ki.box.length&&cn.verticalIconBox?(_a=Ri(cn.verticalIconBox),Sn=_a.box.length>0):(_a=Ri(cn.iconBox),Sn=_a.box.length>0),Dn=Dn&&_a.offscreen}const Go=de||Ot.numHorizontalGlyphVertices===0&&Ot.numVerticalGlyphVertices===0,Fl=ge||Ot.numIconVertices===0;if(Go||Fl?Fl?Go||(Sn=Sn&&In):In=Sn&&In:Sn=In=Sn&&In,In&&oi&&oi.box&&this.collisionIndex.insertCollisionBox(oi.box,ce,x.get("text-ignore-placement"),v.bucketInstanceId,ki&&ki.box&&ds?ds:br,he.ID),Sn&&_a&&this.collisionIndex.insertCollisionBox(_a.box,He,x.get("icon-ignore-placement"),v.bucketInstanceId,hs,he.ID),Kr&&(In&&this.collisionIndex.insertCollisionCircles(Kr.circles,ce,x.get("text-ignore-placement"),v.bucketInstanceId,br,he.ID),m)){const Ri=v.bucketInstanceId;let Ci=this.collisionCircleArrays[Ri];Ci===void 0&&(Ci=this.collisionCircleArrays[Ri]=new at);for(let qi=0;qi<Kr.circles.length;qi+=4)Ci.circles.push(Kr.circles[qi+0]),Ci.circles.push(Kr.circles[qi+1]),Ci.circles.push(Kr.circles[qi+2]),Ci.circles.push(Kr.collisionDetected?1:0)}if(Ot.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Ot.crossTileID]=new rt(In||xt,Sn||mt,Dn||v.justReloaded),d[Ot.crossTileID]=!0};if(st){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Ot=v.getSortedSymbolIndexes(this.transform.angle);for(let cn=Ot.length-1;cn>=0;--cn){const Kt=Ot[cn];Pn(v.symbolInstances.get(Kt),v.collisionArrays[Kt])}}else for(let Ot=a.symbolInstanceStart;Ot<a.symbolInstanceEnd;Ot++)Pn(v.symbolInstances.get(Ot),v.collisionArrays[Ot]);if(m&&v.bucketInstanceId in this.collisionCircleArrays){const Ot=this.collisionCircleArrays[v.bucketInstanceId];o.as(Ot.invProjMatrix,E),Ot.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}markUsedJustification(a,d,m,v){let x;x=v===o.ai.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.at(d)];const E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const P of E)P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=x>=0&&P!==x?0:m.crossTileID)}markUsedOrientation(a,d,m){const v=d===o.ai.horizontal||d===o.ai.horizontalOnly?d:0,x=d===o.ai.vertical?d:0,E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const P of E)a.text.placedSymbolArray.get(P).placedOrientation=v;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=x)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const v=d?d.symbolFadeChange(a):1,x=d?d.opacities:{},E=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(const M in this.placements){const z=this.placements[M],N=x[M];N?(this.opacities[M]=new Re(N,v,z.text,z.icon),m=m||z.text!==N.text.placed||z.icon!==N.icon.placed):(this.opacities[M]=new Re(null,v,z.text,z.icon,z.skipFade),m=m||z.text||z.icon)}for(const M in x){const z=x[M];if(!this.opacities[M]){const N=new Re(z,v,!1,!1);N.isHidden()||(this.opacities[M]=N,m=m||z.text.placed||z.icon.placed)}}for(const M in E)this.variableOffsets[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.variableOffsets[M]=E[M]);for(const M in P)this.placedOrientations[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.placedOrientations[M]=P[M]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){const m={};for(const v of d){const x=v.getBucket(a);x&&v.latestFeatureIndex&&a.id===x.layerIds[0]&&this.updateBucketOpacities(x,m,v.collisionBoxArray)}}updateBucketOpacities(a,d,m){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const v=a.layers[0],x=v.layout,E=new Re(null,0,!1,!1,!0),P=x.get("text-allow-overlap"),M=x.get("icon-allow-overlap"),z=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),N=x.get("text-rotation-alignment")==="map",U=x.get("text-pitch-alignment")==="map",J=x.get("icon-text-fit")!=="none",he=new Re(null,0,P&&(M||!a.hasIconData()||x.get("icon-optional")),M&&(P||!a.hasTextData()||x.get("text-optional")),!0);!a.collisionArrays&&m&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(m);const de=(ge,ce,Pe)=>{for(let He=0;He<ce/4;He++)ge.opacityVertexArray.emplaceBack(Pe);ge.hasVisibleVertices=ge.hasVisibleVertices||Pe!==Ca};for(let ge=0;ge<a.symbolInstances.length;ge++){const ce=a.symbolInstances.get(ge),{numHorizontalGlyphVertices:Pe,numVerticalGlyphVertices:He,crossTileID:xe}=ce;let Le=this.opacities[xe];d[xe]?Le=E:Le||(Le=he,this.opacities[xe]=Le),d[xe]=!0;const Ye=ce.numIconVertices>0,Ke=this.placedOrientations[ce.crossTileID],st=Ke===o.ai.vertical,xt=Ke===o.ai.horizontal||Ke===o.ai.horizontalOnly;if(Pe>0||He>0){const mt=wi(Le.text);de(a.text,Pe,st?Ca:mt),de(a.text,He,xt?Ca:mt);const Et=Le.text.isHidden();[ce.rightJustifiedTextSymbolIndex,ce.centerJustifiedTextSymbolIndex,ce.leftJustifiedTextSymbolIndex].forEach(Ot=>{Ot>=0&&(a.text.placedSymbolArray.get(Ot).hidden=Et||st?1:0)}),ce.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ce.verticalPlacedTextSymbolIndex).hidden=Et||xt?1:0);const Yt=this.variableOffsets[ce.crossTileID];Yt&&this.markUsedJustification(a,Yt.anchor,ce,Ke);const Pn=this.placedOrientations[ce.crossTileID];Pn&&(this.markUsedJustification(a,"left",ce,Pn),this.markUsedOrientation(a,Pn,ce))}if(Ye){const mt=wi(Le.icon),Et=!(J&&ce.verticalPlacedIconSymbolIndex&&st);ce.placedIconSymbolIndex>=0&&(de(a.icon,ce.numIconVertices,Et?mt:Ca),a.icon.placedSymbolArray.get(ce.placedIconSymbolIndex).hidden=Le.icon.isHidden()),ce.verticalPlacedIconSymbolIndex>=0&&(de(a.icon,ce.numVerticalIconVertices,Et?Ca:mt),a.icon.placedSymbolArray.get(ce.verticalPlacedIconSymbolIndex).hidden=Le.icon.isHidden())}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const mt=a.collisionArrays[ge];if(mt){let Et=new o.P(0,0);if(mt.textBox||mt.verticalTextBox){let Pn=!0;if(z){const Ot=this.variableOffsets[xe];Ot?(Et=hn(Ot.anchor,Ot.width,Ot.height,Ot.textOffset,Ot.textBoxScale),N&&Et._rotate(U?this.transform.angle:-this.transform.angle)):Pn=!1}mt.textBox&&gn(a.textCollisionBox.collisionVertexArray,Le.text.placed,!Pn||st,Et.x,Et.y),mt.verticalTextBox&&gn(a.textCollisionBox.collisionVertexArray,Le.text.placed,!Pn||xt,Et.x,Et.y)}const Yt=!!(!xt&&mt.verticalIconBox);mt.iconBox&&gn(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,Yt,J?Et.x:0,J?Et.y:0),mt.verticalIconBox&&gn(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,!Yt,J?Et.x:0,J?Et.y:0)}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const ge=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=ge.invProjMatrix,a.placementViewportMatrix=ge.viewportMatrix,a.collisionCircleArray=ge.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){const m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function gn(_,a,d,m,v){_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0)}const Zn=Math.pow(2,25),sr=Math.pow(2,24),Un=Math.pow(2,17),Vn=Math.pow(2,16),Mi=Math.pow(2,9),fr=Math.pow(2,8),ei=Math.pow(2,1);function wi(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const a=_.placed?1:0,d=Math.floor(127*_.opacity);return d*Zn+a*sr+d*Un+a*Vn+d*Mi+a*fr+d*ei+a}const Ca=0;class Em{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,m,v,x){const E=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(E,v,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,x())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((P,M)=>P.sortKey-M.sortKey));this._currentPartIndex<E.length;)if(d.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,x())return!0;return!1}}class Sl{constructor(a,d,m,v,x,E,P,M){this.placement=new rn(a,d,E,P,M),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=x,this._done=!1}isDone(){return this._done}continuePlacement(a,d,m){const v=o.h.now(),x=()=>!this._forceFullPlacement&&o.h.now()-v>2;for(;this._currentPlacementIndex>=0;){const E=d[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=P)&&(!E.maxzoom||E.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new Em(E)),this._inProgressLayer.continuePlacement(m[E.source],this.placement,this._showCollisionBoxes,E,x))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const kl=512/o.N/2;class Kv{constructor(a,d,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};const v=new Map;for(let x=0;x<d.length;x++){const E=d.get(x),P=E.key,M=v.get(P);M?M.push(E):v.set(P,[E])}for(const[x,E]of v){const P={positions:E.map(M=>({x:Math.floor(M.anchorX*kl),y:Math.floor(M.anchorY*kl)})),crossTileIDs:E.map(M=>M.crossTileID)};if(P.positions.length>128){const M=new o.av(P.positions.length,16,Uint16Array);for(const{x:z,y:N}of P.positions)M.add(z,N);M.finish(),delete P.positions,P.index=M}this._symbolsByKey[x]=P}}getScaledCoordinates(a,d){const{x:m,y:v,z:x}=this.tileID.canonical,{x:E,y:P,z:M}=d.canonical,z=kl/Math.pow(2,M-x),N=(P*o.N+a.anchorY)*z,U=v*o.N*kl;return{x:Math.floor((E*o.N+a.anchorX)*z-m*o.N*kl),y:Math.floor(N-U)}}findMatches(a,d,m){const v=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let x=0;x<a.length;x++){const E=a.get(x);if(E.crossTileID)continue;const P=this._symbolsByKey[E.key];if(!P)continue;const M=this.getScaledCoordinates(E,d);if(P.index){const z=P.index.range(M.x-v,M.y-v,M.x+v,M.y+v).sort();for(const N of z){const U=P.crossTileIDs[N];if(!m[U]){m[U]=!0,E.crossTileID=U;break}}}else if(P.positions)for(let z=0;z<P.positions.length;z++){const N=P.positions[z],U=P.crossTileIDs[z];if(Math.abs(N.x-M.x)<=v&&Math.abs(N.y-M.y)<=v&&!m[U]){m[U]=!0,E.crossTileID=U;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class er{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class rh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const d=Math.round((a-this.lng)/360);if(d!==0)for(const m in this.indexes){const v=this.indexes[m],x={};for(const E in v){const P=v[E];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),x[P.tileID.key]=P}this.indexes[m]=x}this.lng=a}addBucket(a,d,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let x=0;x<d.symbolInstances.length;x++)d.symbolInstances.get(x).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const v=this.usedCrossTileIDs[a.overscaledZ];for(const x in this.indexes){const E=this.indexes[x];if(Number(x)>a.overscaledZ)for(const P in E){const M=E[P];M.tileID.isChildOf(a)&&M.findMatches(d.symbolInstances,a,v)}else{const P=E[a.scaledTo(Number(x)).key];P&&P.findMatches(d.symbolInstances,a,v)}}for(let x=0;x<d.symbolInstances.length;x++){const E=d.symbolInstances.get(x);E.crossTileID||(E.crossTileID=m.generate(),v[E.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new Kv(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(const m of d.getCrossTileIDsLists())for(const v of m)delete this.usedCrossTileIDs[a][v]}removeStaleBuckets(a){let d=!1;for(const m in this.indexes){const v=this.indexes[m];for(const x in v)a[v[x].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[x]),delete v[x],d=!0)}return d}}class Su{constructor(){this.layerIndexes={},this.crossTileIDs=new er,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,m){let v=this.layerIndexes[a.id];v===void 0&&(v=this.layerIndexes[a.id]=new rh);let x=!1;const E={};v.handleWrapJump(m);for(const P of d){const M=P.getBucket(a);M&&a.id===M.layerIds[0]&&(M.bucketInstanceId||(M.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(P.tileID,M,this.crossTileIDs)&&(x=!0),E[M.bucketInstanceId]=!0)}return v.removeStaleBuckets(E)&&(x=!0),x}pruneUnusedLayers(a){const d={};a.forEach(m=>{d[m]=!0});for(const m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}const Li=(_,a)=>o.x(_,a&&a.filter(d=>d.identifier!=="source.canvas")),ma=o.F(o.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),Xv=o.F(o.ax,["setCenter","setZoom","setBearing","setPitch"]),Ta=o.aw();class Si extends o.E{constructor(a,d={}){super(),this.map=a,this.dispatcher=new $e(On(),this,a._getMapId()),this.imageManager=new te,this.imageManager.setEventedParent(this),this.glyphManager=new Ae(a._requestManager,d.localIdeographFontFamily),this.lineAtlas=new Ve(256,512),this.crossTileSymbolIndex=new Su,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.az());const m=this;this._rtlTextPluginCallback=Si.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(x,E)=>{if(o.aA(x),E&&E.every(P=>P))for(const P in m.sourceCaches){const M=m.sourceCaches[P].getSource().type;M!=="vector"&&M!=="geojson"||m.sourceCaches[P].reload()}})}),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const x=this.sourceCaches[v.sourceId];if(!x)return;const E=x.getSource();if(E&&E.vectorLayerIds)for(const P in this._layers){const M=this._layers[P];M.source===E.id&&this._validateLayer(M)}})}loadURL(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const v=this.map._requestManager.transformRequest(a,B.Style);this._request=o.f(v,(x,E)=>{this._request=null,x?this.fire(new o.j(x)):E&&this._load(E,d,m)})}loadJSON(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),this._request=o.h.frame(()=>{this._request=null,d.validate=d.validate!==!1,this._load(a,d,m)})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(Ta,{validate:!1})}_load(a,d,m){var v;const x=d.transformStyle?d.transformStyle(m,a):a;if(!d.validate||!Li(this,o.y(x))){this._loaded=!0,this.stylesheet=x;for(const E in x.sources)this.addSource(E,x.sources[E],{validate:!1});x.sprite?this._loadSprite(x.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(x.glyphs),this._createLayers(),this.light=new Ce(this.stylesheet.light),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){const a=o.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",a),this._order=a.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of a){const m=o.aC(d);m.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=m}}_loadSprite(a,d=!1,m=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(v,x,E,P){const M=H(v),z=M.length,N=E>1?"@2x":"",U={},J={},he={};for(const{id:de,url:ge}of M){const ce=x.transformRequest(x.normalizeSpriteURL(ge,N,".json"),B.SpriteJSON),Pe=`${de}_${ce.url}`;U[Pe]=o.f(ce,(Le,Ye)=>{delete U[Pe],J[de]=Ye,$(P,J,he,Le,z)});const He=x.transformRequest(x.normalizeSpriteURL(ge,N,".png"),B.SpriteImage),xe=`${de}_${He.url}`;U[xe]=R.getImage(He,(Le,Ye)=>{delete U[xe],he[de]=Ye,$(P,J,he,Le,z)})}return{cancel(){for(const de of Object.values(U))de.cancel()}}}(a,this.map._requestManager,this.map.getPixelRatio(),(v,x)=>{if(this._spriteRequest=null,v)this.fire(new o.j(v));else if(x)for(const E in x){this._spritesImagesIds[E]=[];const P=this._spritesImagesIds[E]?this._spritesImagesIds[E].filter(M=>!(M in x)):[];for(const M of P)this.imageManager.removeImage(M),this._changedImages[M]=!0;for(const M in x[E]){const z=E==="default"?M:`${E}:${M}`;this._spritesImagesIds[E].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,x[E][M],!1):this.imageManager.addImage(z,x[E][M]),d&&(this._changedImages[z]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),m&&m(v)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(a){const d=this.sourceCaches[a.source];if(!d)return;const m=a.sourceLayer;if(!m)return;const v=d.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.j(new Error(`Source layer "${m}" does not exist on source "${v.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a){const d=this._serializedAllLayers();if(!a||a.length===0)return Object.values(d);const m=[];for(const v of a)d[v]&&m.push(d[v]);return m}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};const d=Object.keys(this._layers);for(const m of d){const v=this._layers[m];v.type!=="custom"&&(a[m]=v.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const d=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),x=Object.keys(this._removedLayers);(v.length||x.length)&&this._updateWorkerLayers(v,x);for(const E in this._updatedSources){const P=this._updatedSources[E];if(P==="reload")this._reloadSource(E);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const m={};for(const v in this.sourceCaches){const x=this.sourceCaches[v];m[v]=x.used,x.used=!1}for(const v of this._order){const x=this._layers[v];x.recalculate(a,this._availableImages),!x.isHidden(a.zoom)&&x.source&&(this.sourceCaches[x.source].used=!0)}for(const v in m){const x=this.sourceCaches[v];m[v]!==x.used&&x.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(a),this.z=a.zoom,d&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(a),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,d={}){this._checkLoaded();const m=this.serialize();if(a=d.transformStyle?d.transformStyle(m,a):a,Li(this,o.y(a)))return!1;(a=o.aD(a)).layers=o.aB(a.layers);const v=o.aE(m,a).filter(E=>!(E.command in Xv));if(v.length===0)return!1;const x=v.filter(E=>!(E.command in ma));if(x.length>0)throw new Error(`Unimplemented: ${x.map(E=>E.command).join(", ")}.`);for(const E of v)E.command!=="setTransition"&&this[E.command].apply(this,E.args);return this.stylesheet=a,this._serializedLayers=null,!0}addImage(a,d){if(this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,d),this._afterImageUpdated(a)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,d,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.y.source,`sources.${a}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const v=this.sourceCaches[a]=new _t(a,d,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:a})),v.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===a)return this.fire(new o.j(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));const d=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],d.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,d){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(d),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,d,m={}){this._checkLoaded();const v=a.id;if(this.getLayer(v))return void this.fire(new o.j(new Error(`Layer "${v}" already exists on this map.`)));let x;if(a.type==="custom"){if(Li(this,o.aF(a)))return;x=o.aC(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(v,a.source),a=o.aD(a),a=o.e(a,{source:v})),this._validate(o.y.layer,`layers.${v}`,a,{arrayIndex:-1},m))return;x=o.aC(a),this._validateLayer(x),x.setEventedParent(this,{layer:{id:v}})}const E=d?this._order.indexOf(d):this._order.length;if(d&&E===-1)this.fire(new o.j(new Error(`Cannot add layer "${v}" before non-existing layer "${d}".`)));else{if(this._order.splice(E,0,v),this._layerOrderChanged=!0,this._layers[v]=x,this._removedLayers[v]&&x.source&&x.type!=="custom"){const P=this._removedLayers[v];delete this._removedLayers[v],P.type!==x.type?this._updatedSources[x.source]="clear":(this._updatedSources[x.source]="reload",this.sourceCaches[x.source].pause())}this._updateLayer(x),x.onAdd&&x.onAdd(this.map)}}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;const m=this._order.indexOf(a);this._order.splice(m,1);const v=d?this._order.indexOf(d):this._order.length;d&&v===-1?this.fire(new o.j(new Error(`Cannot move layer "${a}" before non-existing layer "${d}".`))):(this._order.splice(v,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const d=this._layers[a];if(!d)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${a}".`)));d.setEventedParent(null);const m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,d,m){this._checkLoaded();const v=this.getLayer(a);v?v.minzoom===d&&v.maxzoom===m||(d!=null&&(v.minzoom=d),m!=null&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,d,m={}){this._checkLoaded();const v=this.getLayer(a);if(v){if(!o.aG(v.filter,d))return d==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(o.y.filter,`layers.${v.id}.filter`,d,null,m)||(v.filter=o.aD(d),this._updateLayer(v)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.aD(this.getLayer(a).filter)}setLayoutProperty(a,d,m,v={}){this._checkLoaded();const x=this.getLayer(a);x?o.aG(x.getLayoutProperty(d),m)||(x.setLayoutProperty(d,m,v),this._updateLayer(x)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,d){const m=this.getLayer(a);if(m)return m.getLayoutProperty(d);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,d,m,v={}){this._checkLoaded();const x=this.getLayer(a);x?o.aG(x.getPaintProperty(d),m)||(x.setPaintProperty(d,m,v)&&this._updateLayer(x),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,d){return this.getLayer(a).getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();const m=a.source,v=a.sourceLayer,x=this.sourceCaches[m];if(x===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const E=x.getSource().type;E==="geojson"&&v?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||v?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),x.setFeatureState(v,a.id,d)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,d){this._checkLoaded();const m=a.source,v=this.sourceCaches[m];if(v===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const x=v.getSource().type,E=x==="vector"?a.sourceLayer:void 0;x!=="vector"||E?d&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(E,a.id,d):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const d=a.source,m=a.sourceLayer,v=this.sourceCaches[d];if(v!==void 0)return v.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(m,a.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const a=o.aH(this.sourceCaches,x=>x.serialize()),d=this._serializeByIds(this._order),m=this.map.getTerrain()||void 0,v=this.stylesheet;return o.aI({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:a,layers:d,terrain:m},x=>x!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){const d=E=>this._layers[E].type==="fill-extrusion",m={},v=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P)){m[P]=E;for(const M of a){const z=M[P];if(z)for(const N of z)v.push(N)}}}v.sort((E,P)=>P.intersectionZ-E.intersectionZ);const x=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P))for(let M=v.length-1;M>=0;M--){const z=v[M].feature;if(m[z.layer.id]<E)break;x.push(z),v.pop()}else for(const M of a){const z=M[P];if(z)for(const N of z)x.push(N.feature)}}return x}queryRenderedFeatures(a,d,m){d&&d.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",d.filter,null,d);const v={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(const P of d.layers){const M=this._layers[P];if(!M)return this.fire(new o.j(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];v[M.source]=!0}}const x=[];d.availableImages=this._availableImages;const E=this._serializedAllLayers();for(const P in this.sourceCaches)d.layers&&!v[P]||x.push(Xe(this.sourceCaches[P],this._layers,E,a,d,m));return this.placement&&x.push(function(P,M,z,N,U,J,he){const de={},ge=J.queryRenderedSymbols(N),ce=[];for(const Pe of Object.keys(ge).map(Number))ce.push(he[Pe]);ce.sort(Ze);for(const Pe of ce){const He=Pe.featureIndex.lookupSymbolFeatures(ge[Pe.bucketInstanceId],M,Pe.bucketIndex,Pe.sourceLayerIndex,U.filter,U.layers,U.availableImages,P);for(const xe in He){const Le=de[xe]=de[xe]||[],Ye=He[xe];Ye.sort((Ke,st)=>{const xt=Pe.featureSortOrder;if(xt){const mt=xt.indexOf(Ke.featureIndex);return xt.indexOf(st.featureIndex)-mt}return st.featureIndex-Ke.featureIndex});for(const Ke of Ye)Le.push(Ke)}}for(const Pe in de)de[Pe].forEach(He=>{const xe=He.feature,Le=z[P[Pe].source].getFeatureState(xe.layer["source-layer"],xe.id);xe.source=xe.layer.source,xe.layer["source-layer"]&&(xe.sourceLayer=xe.layer["source-layer"]),xe.state=Le});return de}(this._layers,E,this.sourceCaches,a,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(x)}querySourceFeatures(a,d){d&&d.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",d.filter,null,d);const m=this.sourceCaches[a];return m?function(v,x){const E=v.getRenderableIds().map(z=>v.getTileByID(z)),P=[],M={};for(let z=0;z<E.length;z++){const N=E[z],U=N.tileID.canonical.key;M[U]||(M[U]=!0,N.querySourceFeatures(P,x))}return P}(m,d):[]}addSourceType(a,d,m){return fe(a)?m(new Error(`A source type called "${a}" already exists.`)):(((v,x)=>{oe[v]=x})(a,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:d.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();const m=this.light.getLight();let v=!1;for(const E in a)if(!o.aG(a[E],m[E])){v=!0;break}if(!v)return;const x={now:o.h.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,d),this.light.updateTransitions(x)}_validate(a,d,m,v,x={}){return(!x||x.validate!==!1)&&Li(this,a.call(o.y,o.e({key:d,style:this.serialize(),value:m,styleSpec:o.v},v)))}_remove(a=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const m=this.sourceCaches[d];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const d in this.sourceCaches)this.sourceCaches[d].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,d,m,v,x=!1){let E=!1,P=!1;const M={};for(const z of this._order){const N=this._layers[z];if(N.type!=="symbol")continue;if(!M[N.source]){const J=this.sourceCaches[N.source];M[N.source]=J.getRenderableIds(!0).map(he=>J.getTileByID(he)).sort((he,de)=>de.tileID.overscaledZ-he.tileID.overscaledZ||(he.tileID.isLessThan(de.tileID)?-1:1))}const U=this.crossTileSymbolIndex.addLayer(N,M[N.source],a.center.lng);E=E||U}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((x=x||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.h.now(),a.zoom))&&(this.pauseablePlacement=new Sl(a,this.map.terrain,this._order,x,d,m,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,M),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.h.now()),P=!0),E&&this.pauseablePlacement.placement.setStale()),P||E)for(const z of this._order){const N=this._layers[z];N.type==="symbol"&&this.placement.updateLayerOpacities(N,M[N.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.h.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d,m){this.imageManager.getImages(d.icons,m),this._updateTilesForChangedImages();const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(a,d,m){this.glyphManager.getGlyphs(d.stacks,m);const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,[""])}getResource(a,d,m){return o.m(d,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,d={}){this._checkLoaded(),a&&this._validate(o.y.glyphs,"glyphs",a,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,d,m={},v){this._checkLoaded();const x=[{id:a,url:d}],E=[...H(this.stylesheet.sprite),...x];this._validate(o.y.sprite,"sprite",E,null,m)||(this.stylesheet.sprite=E,this._loadSprite(x,!0,v))}removeSprite(a){this._checkLoaded();const d=H(this.stylesheet.sprite);if(d.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(const m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;d.splice(d.findIndex(m=>m.id===a),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return H(this.stylesheet.sprite)}setSprite(a,d={},m){this._checkLoaded(),a&&this._validate(o.y.sprite,"sprite",a,null,d)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}Si.registerForPluginStateChange=o.aK;var ku=o.Q([{name:"a_pos",type:"Int16",components:2}]),Cl="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Ar={prelude:Hn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Hn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Hn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Hn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Hn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Hn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Hn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Hn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Hn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Hn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Hn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Hn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Hn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Hn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Hn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Hn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Hn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Hn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Hn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Hn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Hn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Hn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Cl),terrainDepth:Hn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Cl),terrainCoords:Hn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Cl)};function Hn(_,a){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),v=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),x=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=x?x.concat(v):v,P={};return{fragmentSource:_=_.replace(d,(M,z,N,U,J)=>(P[J]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${J}
varying ${N} ${U} ${J};
#else
uniform ${N} ${U} u_${J};
#endif
`:`
#ifdef HAS_UNIFORM_u_${J}
    ${N} ${U} ${J} = u_${J};
#endif
`)),vertexSource:a=a.replace(d,(M,z,N,U,J)=>{const he=U==="float"?"vec2":"vec4",de=J.match(/color/)?"color":he;return P[J]?z==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${N} ${he} a_${J};
varying ${N} ${U} ${J};
#else
uniform ${N} ${U} u_${J};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = a_${J};
#else
    ${N} ${U} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${J} = unpack_mix_${de}(a_${J}, u_${J}_t);
#else
    ${N} ${U} ${J} = u_${J};
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_${J}
uniform lowp float u_${J}_t;
attribute ${N} ${he} a_${J};
#else
uniform ${N} ${U} u_${J};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${J}
    ${N} ${U} ${J} = a_${J};
#else
    ${N} ${U} ${J} = u_${J};
#endif
`:`
#ifndef HAS_UNIFORM_u_${J}
    ${N} ${U} ${J} = unpack_mix_${de}(a_${J}, u_${J}_t);
#else
    ${N} ${U} ${J} = u_${J};
#endif
`}),staticAttributes:m,staticUniforms:E}}class Bo{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,d,m,v,x,E,P,M,z){this.context=a;let N=this.boundPaintVertexBuffers.length!==v.length;for(let U=0;!N&&U<v.length;U++)this.boundPaintVertexBuffers[U]!==v[U]&&(N=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==m||N||this.boundIndexBuffer!==x||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==P||this.boundDynamicVertexBuffer2!==M||this.boundDynamicVertexBuffer3!==z?this.freshBind(d,m,v,x,E,P,M,z):(a.bindVertexArray.set(this.vao),P&&P.bind(),x&&x.dynamicDraw&&x.bind(),M&&M.bind(),z&&z.bind())}freshBind(a,d,m,v,x,E,P,M){const z=a.numAttributes,N=this.context,U=N.gl;this.vao&&this.destroy(),this.vao=N.createVertexArray(),N.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=x,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=M,d.enableAttributes(U,a);for(const J of m)J.enableAttributes(U,a);E&&E.enableAttributes(U,a),P&&P.enableAttributes(U,a),M&&M.enableAttributes(U,a),d.bind(),d.setVertexAttribPointers(U,a,x);for(const J of m)J.bind(),J.setVertexAttribPointers(U,a,x);E&&(E.bind(),E.setVertexAttribPointers(U,a,x)),v&&v.bind(),P&&(P.bind(),P.setVertexAttribPointers(U,a,x)),M&&(M.bind(),M.setVertexAttribPointers(U,a,x)),N.currentNumAttributes=z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Or(_){const a=[];for(let d=0;d<_.length;d++){if(_[d]===null)continue;const m=_[d].split(" ");a.push(m.pop())}return a}class Cu{constructor(a,d,m,v,x,E){const P=a.gl;this.program=P.createProgram();const M=Or(d.staticAttributes),z=m?m.getBinderAttributes():[],N=M.concat(z),U=Ar.prelude.staticUniforms?Or(Ar.prelude.staticUniforms):[],J=d.staticUniforms?Or(d.staticUniforms):[],he=m?m.getBinderUniforms():[],de=U.concat(J).concat(he),ge=[];for(const Ke of de)ge.indexOf(Ke)<0&&ge.push(Ke);const ce=m?m.defines():[];x&&ce.push("#define OVERDRAW_INSPECTOR;"),E&&ce.push("#define TERRAIN3D;");const Pe=ce.concat(Ar.prelude.fragmentSource,d.fragmentSource).join(`
`),He=ce.concat(Ar.prelude.vertexSource,d.vertexSource).join(`
`),xe=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(xe,Pe),P.compileShader(xe),!P.getShaderParameter(xe,P.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${P.getShaderInfoLog(xe)}`);P.attachShader(this.program,xe);const Le=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(Le,He),P.compileShader(Le),!P.getShaderParameter(Le,P.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${P.getShaderInfoLog(Le)}`);P.attachShader(this.program,Le),this.attributes={};const Ye={};this.numAttributes=N.length;for(let Ke=0;Ke<this.numAttributes;Ke++)N[Ke]&&(P.bindAttribLocation(this.program,Ke,N[Ke]),this.attributes[N[Ke]]=Ke);if(P.linkProgram(this.program),!P.getProgramParameter(this.program,P.LINK_STATUS))throw new Error(`Program failed to link: ${P.getProgramInfoLog(this.program)}`);P.deleteShader(Le),P.deleteShader(xe);for(let Ke=0;Ke<ge.length;Ke++){const st=ge[Ke];if(st&&!Ye[st]){const xt=P.getUniformLocation(this.program,st);xt&&(Ye[st]=xt)}}this.fixedUniforms=v(a,Ye),this.terrainUniforms=((Ke,st)=>({u_depth:new o.aL(Ke,st.u_depth),u_terrain:new o.aL(Ke,st.u_terrain),u_terrain_dim:new o.aM(Ke,st.u_terrain_dim),u_terrain_matrix:new o.aN(Ke,st.u_terrain_matrix),u_terrain_unpack:new o.aO(Ke,st.u_terrain_unpack),u_terrain_exaggeration:new o.aM(Ke,st.u_terrain_exaggeration)}))(a,Ye),this.binderUniforms=m?m.getUniforms(a,Ye):[]}draw(a,d,m,v,x,E,P,M,z,N,U,J,he,de,ge,ce,Pe,He){const xe=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(v),a.setColorMode(x),a.setCullFace(E),M){a.activeTexture.set(xe.TEXTURE2),xe.bindTexture(xe.TEXTURE_2D,M.depthTexture),a.activeTexture.set(xe.TEXTURE3),xe.bindTexture(xe.TEXTURE_2D,M.texture);for(const Ye in this.terrainUniforms)this.terrainUniforms[Ye].set(M[Ye])}for(const Ye in this.fixedUniforms)this.fixedUniforms[Ye].set(P[Ye]);ge&&ge.setUniforms(a,this.binderUniforms,he,{zoom:de});let Le=0;switch(d){case xe.LINES:Le=2;break;case xe.TRIANGLES:Le=3;break;case xe.LINE_STRIP:Le=1}for(const Ye of J.get()){const Ke=Ye.vaos||(Ye.vaos={});(Ke[z]||(Ke[z]=new Bo)).bind(a,this,N,ge?ge.getPaintVertexBuffers():[],U,Ye.vertexOffset,ce,Pe,He),xe.drawElements(d,Ye.primitiveLength*Le,xe.UNSIGNED_SHORT,Ye.primitiveOffset*Le*2)}}}function Aa(_,a,d){const m=1/Ee(d,1,a.transform.tileZoom),v=Math.pow(2,d.tileID.overscaledZ),x=d.tileSize*Math.pow(2,a.transform.tileZoom)/v,E=x*(d.tileID.canonical.x+d.tileID.wrap*v),P=x*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[m,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[E>>16,P>>16],u_pixel_coord_lower:[65535&E,65535&P]}}const ih=(_,a,d,m)=>{const v=a.style.light,x=v.properties.get("position"),E=[x.x,x.y,x.z],P=function(){var z=new o.A(9);return o.A!=Float32Array&&(z[1]=0,z[2]=0,z[3]=0,z[5]=0,z[6]=0,z[7]=0),z[0]=1,z[4]=1,z[8]=1,z}();v.properties.get("anchor")==="viewport"&&function(z,N){var U=Math.sin(N),J=Math.cos(N);z[0]=J,z[1]=U,z[2]=0,z[3]=-U,z[4]=J,z[5]=0,z[6]=0,z[7]=0,z[8]=1}(P,-a.transform.angle),function(z,N,U){var J=N[0],he=N[1],de=N[2];z[0]=J*U[0]+he*U[3]+de*U[6],z[1]=J*U[1]+he*U[4]+de*U[7],z[2]=J*U[2]+he*U[5]+de*U[8]}(E,E,P);const M=v.properties.get("color");return{u_matrix:_,u_lightpos:E,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[M.r,M.g,M.b],u_vertical_gradient:+d,u_opacity:m}},co=(_,a,d,m,v,x,E)=>o.e(ih(_,a,d,m),Aa(x,a,E),{u_height_factor:-Math.pow(2,v.overscaledZ)/E.tileSize/8}),Im=_=>({u_matrix:_}),ah=(_,a,d,m)=>o.e(Im(_),Aa(d,a,m)),Tu=(_,a)=>({u_matrix:_,u_world:a}),Au=(_,a,d,m,v)=>o.e(ah(_,a,d,m),{u_world:v}),uo=(_,a,d,m)=>{const v=_.transform;let x,E;if(m.paint.get("circle-pitch-alignment")==="map"){const P=Ee(d,1,v.zoom);x=!0,E=[P,P]}else x=!1,E=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(a.posMatrix,d,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+x,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:E}},sh=(_,a,d)=>{const m=Ee(d,1,a.zoom),v=Math.pow(2,a.zoom-d.tileID.overscaledZ),x=d.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:a.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[a.pixelsToGLUnits[0]/(m*v),a.pixelsToGLUnits[1]/(m*v)],u_overscale_factor:x}},vc=(_,a,d=1)=>({u_matrix:_,u_color:a,u_overlay:0,u_overlay_scale:d}),Pm=_=>({u_matrix:_}),Jv=(_,a,d,m)=>({u_matrix:_,u_extrude_scale:Ee(a,1,d),u_intensity:m});function oh(_,a){const d=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.U(0,m/d).toLngLat().lat,new o.U(0,(m+1)/d).toLngLat().lat]}const lh=(_,a,d,m)=>{const v=_.transform;return{u_matrix:Eu(_,a,d,m),u_ratio:1/Ee(a,1,v.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},Dm=(_,a,d,m,v)=>o.e(lh(_,a,d,v),{u_image:0,u_image_height:m}),Qv=(_,a,d,m,v)=>{const x=_.transform,E=Lm(a,x);return{u_matrix:Eu(_,a,d,v),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Ee(a,1,x.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[E,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/x.pixelsToGLUnits[0],1/x.pixelsToGLUnits[1]]}},Mm=(_,a,d,m,v,x)=>{const E=_.lineAtlas,P=Lm(a,_.transform),M=d.layout.get("line-cap")==="round",z=E.getDash(m.from,M),N=E.getDash(m.to,M),U=z.width*v.fromScale,J=N.width*v.toScale;return o.e(lh(_,a,d,x),{u_patternscale_a:[P/U,-z.height/2],u_patternscale_b:[P/J,-N.height/2],u_sdfgamma:E.width/(256*Math.min(U,J)*_.pixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:N.y,u_mix:v.t})};function Lm(_,a){return 1/Ee(_,1,a.tileZoom)}function Eu(_,a,d,m){return _.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const Rm=(_,a,d,m,v)=>{return{u_matrix:_,u_tl_parent:a,u_scale_parent:d,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(E=v.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(x=v.paint.get("raster-contrast"),x>0?1/(1-x):1+x),u_spin_weights:Om(v.paint.get("raster-hue-rotate"))};var x,E};function Om(_){_*=Math.PI/180;const a=Math.sin(_),d=Math.cos(_);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}const ch=(_,a,d,m,v,x,E,P,M,z)=>{const N=v.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:N.cameraToCenterDistance,u_pitch:N.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:N.width/N.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:x,u_label_plane_matrix:E,u_coord_matrix:P,u_is_text:+M,u_pitch_with_map:+m,u_texsize:z,u_texture:0}},uh=(_,a,d,m,v,x,E,P,M,z,N)=>{const U=v.transform;return o.e(ch(_,a,d,m,v,x,E,P,M,z),{u_gamma_scale:m?Math.cos(U._pitch)*U.cameraToCenterDistance:1,u_device_pixel_ratio:v.pixelRatio,u_is_halo:+N})},Vo=(_,a,d,m,v,x,E,P,M,z)=>o.e(uh(_,a,d,m,v,x,E,P,!0,M,!0),{u_texsize_icon:z,u_texture_icon:1}),Iu=(_,a,d)=>({u_matrix:_,u_opacity:a,u_color:d}),Ea=(_,a,d,m,v,x)=>o.e(function(E,P,M,z){const N=M.imageManager.getPattern(E.from.toString()),U=M.imageManager.getPattern(E.to.toString()),{width:J,height:he}=M.imageManager.getPixelSize(),de=Math.pow(2,z.tileID.overscaledZ),ge=z.tileSize*Math.pow(2,M.transform.tileZoom)/de,ce=ge*(z.tileID.canonical.x+z.tileID.wrap*de),Pe=ge*z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:N.tl,u_pattern_br_a:N.br,u_pattern_tl_b:U.tl,u_pattern_br_b:U.br,u_texsize:[J,he],u_mix:P.t,u_pattern_size_a:N.displaySize,u_pattern_size_b:U.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/Ee(z,1,M.transform.tileZoom),u_pixel_coord_upper:[ce>>16,Pe>>16],u_pixel_coord_lower:[65535&ce,65535&Pe]}}(m,x,d,v),{u_matrix:_,u_opacity:a}),Pu={fillExtrusion:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_opacity:new o.aM(_,a.u_opacity)}),fillExtrusionPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_height_factor:new o.aM(_,a.u_height_factor),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade),u_opacity:new o.aM(_,a.u_opacity)}),fill:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),fillPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),fillOutline:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world)}),fillOutlinePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),circle:(_,a)=>({u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_scale_with_map:new o.aL(_,a.u_scale_with_map),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_matrix:new o.aN(_,a.u_matrix)}),collisionBox:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pixels_to_tile_units:new o.aM(_,a.u_pixels_to_tile_units),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_overscale_factor:new o.aM(_,a.u_overscale_factor)}),collisionCircle:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_inv_matrix:new o.aN(_,a.u_inv_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_viewport_size:new o.aQ(_,a.u_viewport_size)}),debug:(_,a)=>({u_color:new o.aR(_,a.u_color),u_matrix:new o.aN(_,a.u_matrix),u_overlay:new o.aL(_,a.u_overlay),u_overlay_scale:new o.aM(_,a.u_overlay_scale)}),clippingMask:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),heatmap:(_,a)=>({u_extrude_scale:new o.aM(_,a.u_extrude_scale),u_intensity:new o.aM(_,a.u_intensity),u_matrix:new o.aN(_,a.u_matrix)}),heatmapTexture:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_color_ramp:new o.aL(_,a.u_color_ramp),u_opacity:new o.aM(_,a.u_opacity)}),hillshade:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_latrange:new o.aQ(_,a.u_latrange),u_light:new o.aQ(_,a.u_light),u_shadow:new o.aR(_,a.u_shadow),u_highlight:new o.aR(_,a.u_highlight),u_accent:new o.aR(_,a.u_accent)}),hillshadePrepare:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_dimension:new o.aQ(_,a.u_dimension),u_zoom:new o.aM(_,a.u_zoom),u_unpack:new o.aO(_,a.u_unpack)}),line:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels)}),lineGradient:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_image:new o.aL(_,a.u_image),u_image_height:new o.aM(_,a.u_image_height)}),linePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texsize:new o.aQ(_,a.u_texsize),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_image:new o.aL(_,a.u_image),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),lineSDF:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_patternscale_a:new o.aQ(_,a.u_patternscale_a),u_patternscale_b:new o.aQ(_,a.u_patternscale_b),u_sdfgamma:new o.aM(_,a.u_sdfgamma),u_image:new o.aL(_,a.u_image),u_tex_y_a:new o.aM(_,a.u_tex_y_a),u_tex_y_b:new o.aM(_,a.u_tex_y_b),u_mix:new o.aM(_,a.u_mix)}),raster:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_tl_parent:new o.aQ(_,a.u_tl_parent),u_scale_parent:new o.aM(_,a.u_scale_parent),u_buffer_scale:new o.aM(_,a.u_buffer_scale),u_fade_t:new o.aM(_,a.u_fade_t),u_opacity:new o.aM(_,a.u_opacity),u_image0:new o.aL(_,a.u_image0),u_image1:new o.aL(_,a.u_image1),u_brightness_low:new o.aM(_,a.u_brightness_low),u_brightness_high:new o.aM(_,a.u_brightness_high),u_saturation_factor:new o.aM(_,a.u_saturation_factor),u_contrast_factor:new o.aM(_,a.u_contrast_factor),u_spin_weights:new o.aP(_,a.u_spin_weights)}),symbolIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture)}),symbolSDF:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),symbolTextAndIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texsize_icon:new o.aQ(_,a.u_texsize_icon),u_texture:new o.aL(_,a.u_texture),u_texture_icon:new o.aL(_,a.u_texture_icon),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),background:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_color:new o.aR(_,a.u_color)}),backgroundPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_image:new o.aL(_,a.u_image),u_pattern_tl_a:new o.aQ(_,a.u_pattern_tl_a),u_pattern_br_a:new o.aQ(_,a.u_pattern_br_a),u_pattern_tl_b:new o.aQ(_,a.u_pattern_tl_b),u_pattern_br_b:new o.aQ(_,a.u_pattern_br_b),u_texsize:new o.aQ(_,a.u_texsize),u_mix:new o.aM(_,a.u_mix),u_pattern_size_a:new o.aQ(_,a.u_pattern_size_a),u_pattern_size_b:new o.aQ(_,a.u_pattern_size_b),u_scale_a:new o.aM(_,a.u_scale_a),u_scale_b:new o.aM(_,a.u_scale_b),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aM(_,a.u_tile_units_to_pixels)}),terrain:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainDepth:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainCoords:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_terrain_coords_id:new o.aM(_,a.u_terrain_coords_id),u_ele_delta:new o.aM(_,a.u_ele_delta)})};class Du{constructor(a,d,m){this.context=a;const v=a.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const yc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Mu{constructor(a,d,m,v){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=v,this.context=a;const x=a.gl;this.buffer=x.createBuffer(),a.bindVertexBuffer.set(this.buffer),x.bufferData(x.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?x.DYNAMIC_DRAW:x.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let m=0;m<this.attributes.length;m++){const v=d.attributes[this.attributes[m].name];v!==void 0&&a.enableVertexAttribArray(v)}}setVertexAttribPointers(a,d,m){for(let v=0;v<this.attributes.length;v++){const x=this.attributes[v],E=d.attributes[x.name];E!==void 0&&a.vertexAttribPointer(E,x.components,a[yc[x.type]],!1,this.itemSize,x.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Tl=new WeakMap;function ho(_){var a;if(Tl.has(_))return Tl.get(_);{const d=(a=_.getParameter(_.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return Tl.set(_,d),d}}class Fn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Lu extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class pa extends Fn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class ga extends Fn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class dh extends Fn{getDefault(){return[!0,!0,!0,!0]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Ru extends Fn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Ou extends Fn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class hh extends Fn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class fh extends Fn{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Fu extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class mh extends Fn{getDefault(){return[0,1]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class ph extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class zu extends Fn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Fm extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class zm extends Fn{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Al extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ey extends Fn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class ty extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class ny extends Fn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class ry extends Fn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class iy extends Fn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class ay extends Fn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class gh extends Fn{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class Bu extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class vh extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class yh extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class El extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Bm extends Fn{getDefault(){return null}set(a){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Vm extends Fn{getDefault(){return null}set(a){var d;if(a===this.current&&!this.dirty)return;const m=this.gl;ho(m)?m.bindVertexArray(a):(d=m.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class _h extends Fn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class No extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Nm extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class fo extends Fn{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class Il extends fo{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class $m extends fo{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class bh extends fo{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Gn{constructor(a,d,m,v,x){this.context=a,this.width=d,this.height=m;const E=a.gl,P=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Il(a,P),v)this.depthAttachment=x?new bh(a,P):new $m(a,P);else if(x)throw new Error("Stencil cannot be setted without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){const m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class Er{constructor(a,d,m){this.blendFunction=a,this.blendColor=d,this.mask=m}}Er.Replace=[1,0],Er.disabled=new Er(Er.Replace,o.aT.transparent,[!1,!1,!1,!1]),Er.unblended=new Er(Er.Replace,o.aT.transparent,[!0,!0,!0,!0]),Er.alphaBlended=new Er([1,771],o.aT.transparent,[!0,!0,!0,!0]);class sy{constructor(a){var d,m;if(this.gl=a,this.clearColor=new Lu(this),this.clearDepth=new pa(this),this.clearStencil=new ga(this),this.colorMask=new dh(this),this.depthMask=new Ru(this),this.stencilMask=new Ou(this),this.stencilFunc=new hh(this),this.stencilOp=new fh(this),this.stencilTest=new Fu(this),this.depthRange=new mh(this),this.depthTest=new ph(this),this.depthFunc=new zu(this),this.blend=new Fm(this),this.blendFunc=new zm(this),this.blendColor=new Al(this),this.blendEquation=new ey(this),this.cullFace=new ty(this),this.cullFaceSide=new ny(this),this.frontFace=new ry(this),this.program=new iy(this),this.activeTexture=new ay(this),this.viewport=new gh(this),this.bindFramebuffer=new Bu(this),this.bindRenderbuffer=new vh(this),this.bindTexture=new yh(this),this.bindVertexBuffer=new El(this),this.bindElementBuffer=new Bm(this),this.bindVertexArray=new Vm(this),this.pixelStoreUnpack=new _h(this),this.pixelStoreUnpackPremultiplyAlpha=new No(this),this.pixelStoreUnpackFlipY=new Nm(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),ho(a)){this.HALF_FLOAT=a.HALF_FLOAT;const v=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=a.RGBA16F)!==null&&d!==void 0?d:v==null?void 0:v.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:v==null?void 0:v.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");const v=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=v==null?void 0:v.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new Du(this,a,d)}createVertexBuffer(a,d,m){return new Mu(this,a,d,m)}createRenderbuffer(a,d,m){const v=this.gl,x=v.createRenderbuffer();return this.bindRenderbuffer.set(x),v.renderbufferStorage(v.RENDERBUFFER,a,d,m),this.bindRenderbuffer.set(null),x}createFramebuffer(a,d,m,v){return new Gn(this,a,d,m,v)}clear({color:a,depth:d,stencil:m}){const v=this.gl;let x=0;a&&(x|=v.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(x|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m!==void 0&&(x|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(x)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.aG(a.blendFunction,Er.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return ho(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var d;return ho(this.gl)?this.gl.deleteVertexArray(a):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class zn{constructor(a,d,m){this.func=a,this.mask=d,this.range=m}}zn.ReadOnly=!1,zn.ReadWrite=!0,zn.disabled=new zn(519,zn.ReadOnly,[0,1]);const $o=7680;class Ir{constructor(a,d,m,v,x,E){this.test=a,this.ref=d,this.mask=m,this.fail=v,this.depthFail=x,this.pass=E}}Ir.disabled=new Ir({func:519,mask:0},0,0,$o,$o,$o);class kr{constructor(a,d,m){this.enable=a,this.mode=d,this.frontFace=m}}let _c;function Um(_,a,d,m,v,x,E){const P=_.context,M=P.gl,z=_.useProgram("collisionBox"),N=[];let U=0,J=0;for(let xe=0;xe<m.length;xe++){const Le=m[xe],Ye=a.getTile(Le),Ke=Ye.getBucket(d);if(!Ke)continue;let st=Le.posMatrix;v[0]===0&&v[1]===0||(st=_.translatePosMatrix(Le.posMatrix,Ye,v,x));const xt=E?Ke.textCollisionBox:Ke.iconCollisionBox,mt=Ke.collisionCircleArray;if(mt.length>0){const Et=o.Z(),Yt=st;o.aU(Et,Ke.placementInvProjMatrix,_.transform.glCoordMatrix),o.aU(Et,Et,Ke.placementViewportMatrix),N.push({circleArray:mt,circleOffset:J,transform:Yt,invTransform:Et,coord:Le}),U+=mt.length/4,J=U}xt&&z.draw(P,M.LINES,zn.disabled,Ir.disabled,_.colorModeForRenderPass(),kr.disabled,sh(st,_.transform,Ye),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Le),d.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,null,_.transform.zoom,null,null,xt.collisionVertexBuffer)}if(!E||!N.length)return;const he=_.useProgram("collisionCircle"),de=new o.aV;de.resize(4*U),de._trim();let ge=0;for(const xe of N)for(let Le=0;Le<xe.circleArray.length/4;Le++){const Ye=4*Le,Ke=xe.circleArray[Ye+0],st=xe.circleArray[Ye+1],xt=xe.circleArray[Ye+2],mt=xe.circleArray[Ye+3];de.emplace(ge++,Ke,st,xt,mt,0),de.emplace(ge++,Ke,st,xt,mt,1),de.emplace(ge++,Ke,st,xt,mt,2),de.emplace(ge++,Ke,st,xt,mt,3)}(!_c||_c.length<2*U)&&(_c=function(xe){const Le=2*xe,Ye=new o.aX;Ye.resize(Le),Ye._trim();for(let Ke=0;Ke<Le;Ke++){const st=6*Ke;Ye.uint16[st+0]=4*Ke+0,Ye.uint16[st+1]=4*Ke+1,Ye.uint16[st+2]=4*Ke+2,Ye.uint16[st+3]=4*Ke+2,Ye.uint16[st+4]=4*Ke+3,Ye.uint16[st+5]=4*Ke+0}return Ye}(U));const ce=P.createIndexBuffer(_c,!0),Pe=P.createVertexBuffer(de,o.aW.members,!0);for(const xe of N){const Le={u_matrix:xe.transform,u_inv_matrix:xe.invTransform,u_camera_to_center_distance:(He=_.transform).cameraToCenterDistance,u_viewport_size:[He.width,He.height]};he.draw(P,M.TRIANGLES,zn.disabled,Ir.disabled,_.colorModeForRenderPass(),kr.disabled,Le,_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe.coord),d.id,Pe,ce,o.S.simpleSegment(0,2*xe.circleOffset,xe.circleArray.length,xe.circleArray.length/2),null,_.transform.zoom,null,null,null)}var He;Pe.destroy(),ce.destroy()}kr.disabled=new kr(!1,1029,2305),kr.backCCW=new kr(!0,1029,2305);const xh=o.ao(new Float32Array(16));function Vu(_,a,d,m,v,x){const{horizontalAlign:E,verticalAlign:P}=o.au(_);return new o.P((-(E-.5)*a/v+m[0])*x,(-(P-.5)*d/v+m[1])*x)}function Nu(_,a,d,m,v,x,E,P,M,z,N){const U=_.text.placedSymbolArray,J=_.text.dynamicLayoutVertexArray,he=_.icon.dynamicLayoutVertexArray,de={};J.clear();for(let ge=0;ge<U.length;ge++){const ce=U.get(ge),Pe=ce.hidden||!ce.crossTileID||_.allowVerticalPlacement&&!ce.placedOrientation?null:m[ce.crossTileID];if(Pe){const He=new o.P(ce.anchorX,ce.anchorY),xe=Tn(He,d?E:x,N),Le=fa(v.cameraToCenterDistance,xe.signedDistanceFromCamera);let Ye=o.aj(_.textSizeData,M,ce)*Le/o.ap;d&&(Ye*=_.tilePixelRatio/P);const{width:Ke,height:st,anchor:xt,textOffset:mt,textBoxScale:Et}=Pe,Yt=Vu(xt,Ke,st,mt,Et,Ye),Pn=d?Tn(He.add(Yt),x,N).point:xe.point.add(a?Yt.rotate(-v.angle):Yt),Ot=_.allowVerticalPlacement&&ce.placedOrientation===o.ai.vertical?Math.PI/2:0;for(let cn=0;cn<ce.numGlyphs;cn++)o.ak(J,Pn,Ot);z&&ce.associatedIconIndex>=0&&(de[ce.associatedIconIndex]={shiftedAnchor:Pn,angle:Ot})}else le(ce.numGlyphs,J)}if(z){he.clear();const ge=_.icon.placedSymbolArray;for(let ce=0;ce<ge.length;ce++){const Pe=ge.get(ce);if(Pe.hidden)le(Pe.numGlyphs,he);else{const He=de[ce];if(He)for(let xe=0;xe<Pe.numGlyphs;xe++)o.ak(he,He.shiftedAnchor,He.angle);else le(Pe.numGlyphs,he)}}_.icon.dynamicLayoutVertexBuffer.updateData(he)}_.text.dynamicLayoutVertexBuffer.updateData(J)}function wh(_,a,d){return d.iconsInText&&a?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function $u(_,a,d,m,v,x,E,P,M,z,N,U){const J=_.context,he=J.gl,de=_.transform,ge=P==="map",ce=M==="map",Pe=P!=="viewport"&&d.layout.get("symbol-placement")!=="point",He=ge&&!ce&&!Pe,xe=!d.layout.get("symbol-sort-key").isConstant();let Le=!1;const Ye=_.depthModeForSublayer(0,zn.ReadOnly),Ke=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),st=[];for(const xt of m){const mt=a.getTile(xt),Et=mt.getBucket(d);if(!Et)continue;const Yt=v?Et.text:Et.icon;if(!Yt||!Yt.segments.get().length||!Yt.hasVisibleVertices)continue;const Pn=Yt.programConfigurations.get(d.id),Ot=v||Et.sdfIcons,cn=v?Et.textSizeData:Et.iconSizeData,Kt=ce||de.pitch!==0,tr=_.useProgram(wh(Ot,v,Et),Pn),In=o.ah(cn,de.zoom),Sn=_.style.map.terrain&&_.style.map.terrain.getTerrainData(xt);let Dn,Ur,mr,ki,oi=[0,0],Kr=null;if(v)Ur=mt.glyphAtlasTexture,mr=he.LINEAR,Dn=mt.glyphAtlasTexture.size,Et.iconsInText&&(oi=mt.imageAtlasTexture.size,Kr=mt.imageAtlasTexture,ki=Kt||_.options.rotating||_.options.zooming||cn.kind==="composite"||cn.kind==="camera"?he.LINEAR:he.NEAREST);else{const qr=d.layout.get("icon-size").constantOr(0)!==1||Et.iconsNeedLinear;Ur=mt.imageAtlasTexture,mr=Ot||_.options.rotating||_.options.zooming||qr||Kt?he.LINEAR:he.NEAREST,Dn=mt.imageAtlasTexture.size}const _a=Ee(mt,1,_.transform.zoom),br=vt(xt.posMatrix,ce,ge,_.transform,_a),ds=bi(xt.posMatrix,ce,ge,_.transform,_a),hs=Ke&&Et.hasTextData(),go=d.layout.get("icon-text-fit")!=="none"&&hs&&Et.hasIconData();if(Pe){const qr=_.style.map.terrain?(ta,jr)=>_.style.map.terrain.getElevation(xt,ta,jr):null,li=d.layout.get("text-rotation-alignment")==="map";At(Et,xt.posMatrix,_,v,br,ds,ce,z,li,qr)}const Go=_.translatePosMatrix(xt.posMatrix,mt,x,E),Fl=Pe||v&&Ke||go?xh:br,Ri=_.translatePosMatrix(ds,mt,x,E,!0),Ci=Ot&&d.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let qi;qi=Ot?Et.iconsInText?Vo(cn.kind,In,He,ce,_,Go,Fl,Ri,Dn,oi):uh(cn.kind,In,He,ce,_,Go,Fl,Ri,v,Dn,!0):ch(cn.kind,In,He,ce,_,Go,Fl,Ri,v,Dn);const Wo={program:tr,buffers:Yt,uniformValues:qi,atlasTexture:Ur,atlasTextureIcon:Kr,atlasInterpolation:mr,atlasInterpolationIcon:ki,isSDF:Ot,hasHalo:Ci};if(xe&&Et.canOverlap){Le=!0;const qr=Yt.segments.get();for(const li of qr)st.push({segments:new o.S([li]),sortKey:li.sortKey,state:Wo,terrainData:Sn})}else st.push({segments:Yt.segments,sortKey:0,state:Wo,terrainData:Sn})}Le&&st.sort((xt,mt)=>xt.sortKey-mt.sortKey);for(const xt of st){const mt=xt.state;if(J.activeTexture.set(he.TEXTURE0),mt.atlasTexture.bind(mt.atlasInterpolation,he.CLAMP_TO_EDGE),mt.atlasTextureIcon&&(J.activeTexture.set(he.TEXTURE1),mt.atlasTextureIcon&&mt.atlasTextureIcon.bind(mt.atlasInterpolationIcon,he.CLAMP_TO_EDGE)),mt.isSDF){const Et=mt.uniformValues;mt.hasHalo&&(Et.u_is_halo=1,Sh(mt.buffers,xt.segments,d,_,mt.program,Ye,N,U,Et,xt.terrainData)),Et.u_is_halo=0}Sh(mt.buffers,xt.segments,d,_,mt.program,Ye,N,U,mt.uniformValues,xt.terrainData)}}function Sh(_,a,d,m,v,x,E,P,M,z){const N=m.context;v.draw(N,N.gl.TRIANGLES,x,E,P,kr.disabled,M,z,d.id,_.layoutVertexBuffer,_.indexBuffer,a,d.paint,m.transform.zoom,_.programConfigurations.get(d.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function bc(_,a,d,m,v){if(!d||!m||!m.imageAtlas)return;const x=m.imageAtlas.patternPositions;let E=x[d.to.toString()],P=x[d.from.toString()];if(!E&&P&&(E=P),!P&&E&&(P=E),!E||!P){const M=v.getPaintProperty(a);E=x[M],P=x[M]}E&&P&&_.setConstantPatternPositions(E,P)}function xc(_,a,d,m,v,x,E){const P=_.context.gl,M="fill-pattern",z=d.paint.get(M),N=z&&z.constantOr(1),U=d.getCrossfadeParameters();let J,he,de,ge,ce;E?(he=N&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",J=P.LINES):(he=N?"fillPattern":"fill",J=P.TRIANGLES);const Pe=z.constantOr(null);for(const He of m){const xe=a.getTile(He);if(N&&!xe.patternsLoaded())continue;const Le=xe.getBucket(d);if(!Le)continue;const Ye=Le.programConfigurations.get(d.id),Ke=_.useProgram(he,Ye),st=_.style.map.terrain&&_.style.map.terrain.getTerrainData(He);N&&(_.context.activeTexture.set(P.TEXTURE0),xe.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ye.updatePaintBuffers(U)),bc(Ye,M,Pe,xe,d);const xt=st?He:null,mt=_.translatePosMatrix(xt?xt.posMatrix:He.posMatrix,xe,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(E){ge=Le.indexBuffer2,ce=Le.segments2;const Et=[P.drawingBufferWidth,P.drawingBufferHeight];de=he==="fillOutlinePattern"&&N?Au(mt,_,U,xe,Et):Tu(mt,Et)}else ge=Le.indexBuffer,ce=Le.segments,de=N?ah(mt,_,U,xe):Im(mt);Ke.draw(_.context,J,v,_.stencilModeForClipping(He),x,kr.disabled,de,st,d.id,Le.layoutVertexBuffer,ge,ce,d.paint,_.transform.zoom,Ye)}}function wc(_,a,d,m,v,x,E){const P=_.context,M=P.gl,z="fill-extrusion-pattern",N=d.paint.get(z),U=N.constantOr(1),J=d.getCrossfadeParameters(),he=d.paint.get("fill-extrusion-opacity"),de=N.constantOr(null);for(const ge of m){const ce=a.getTile(ge),Pe=ce.getBucket(d);if(!Pe)continue;const He=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ge),xe=Pe.programConfigurations.get(d.id),Le=_.useProgram(U?"fillExtrusionPattern":"fillExtrusion",xe);U&&(_.context.activeTexture.set(M.TEXTURE0),ce.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),xe.updatePaintBuffers(J)),bc(xe,z,de,ce,d);const Ye=_.translatePosMatrix(ge.posMatrix,ce,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ke=d.paint.get("fill-extrusion-vertical-gradient"),st=U?co(Ye,_,Ke,he,ge,J,ce):ih(Ye,_,Ke,he);Le.draw(P,P.gl.TRIANGLES,v,x,E,kr.backCCW,st,He,d.id,Pe.layoutVertexBuffer,Pe.indexBuffer,Pe.segments,d.paint,_.transform.zoom,xe,_.style.map.terrain&&Pe.centroidVertexBuffer)}}function oy(_,a,d,m,v,x,E){const P=_.context,M=P.gl,z=d.fbo;if(!z)return;const N=_.useProgram("hillshade"),U=_.style.map.terrain&&_.style.map.terrain.getTerrainData(a);P.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,z.colorAttachment.get()),N.draw(P,M.TRIANGLES,v,x,E,kr.disabled,((J,he,de,ge)=>{const ce=de.paint.get("hillshade-shadow-color"),Pe=de.paint.get("hillshade-highlight-color"),He=de.paint.get("hillshade-accent-color");let xe=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(xe-=J.transform.angle);const Le=!J.options.moving;return{u_matrix:ge?ge.posMatrix:J.transform.calculatePosMatrix(he.tileID.toUnwrapped(),Le),u_image:0,u_latrange:oh(0,he.tileID),u_light:[de.paint.get("hillshade-exaggeration"),xe],u_shadow:ce,u_highlight:Pe,u_accent:He}})(_,d,m,U?a:null),U,m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function kh(_,a,d,m,v,x){const E=_.context,P=E.gl,M=a.dem;if(M&&M.data){const z=M.dim,N=M.stride,U=M.getPixels();if(E.activeTexture.set(P.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||_.getTileTexture(N),a.demTexture){const he=a.demTexture;he.update(U,{premultiply:!1}),he.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else a.demTexture=new K(E,U,P.RGBA,{premultiply:!1}),a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);E.activeTexture.set(P.TEXTURE0);let J=a.fbo;if(!J){const he=new K(E,{width:z,height:z,data:null},P.RGBA);he.bind(P.LINEAR,P.CLAMP_TO_EDGE),J=a.fbo=E.createFramebuffer(z,z,!0,!1),J.colorAttachment.set(he.texture)}E.bindFramebuffer.set(J.framebuffer),E.viewport.set([0,0,z,z]),_.useProgram("hillshadePrepare").draw(E,P.TRIANGLES,m,v,x,kr.disabled,((he,de)=>{const ge=de.stride,ce=o.Z();return o.aS(ce,0,o.N,-o.N,0,0,1),o.$(ce,ce,[0,-o.N,0]),{u_matrix:ce,u_image:1,u_dimension:[ge,ge],u_zoom:he.overscaledZ,u_unpack:de.getUnpackVector()}})(a.tileID,M),null,d.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function ly(_,a,d,m,v,x){const E=m.paint.get("raster-fade-duration");if(!x&&E>0){const P=o.h.now(),M=(P-_.timeAdded)/E,z=a?(P-a.timeAdded)/E:-1,N=d.getSource(),U=v.coveringZoomLevel({tileSize:N.tileSize,roundZoom:N.roundZoom}),J=!a||Math.abs(a.tileID.overscaledZ-U)>Math.abs(_.tileID.overscaledZ-U),he=J&&_.refreshedUponExpiration?1:o.ad(J?M:1-z,0,1);return _.refreshedUponExpiration&&M>=1&&(_.refreshedUponExpiration=!1),a?{opacity:1,mix:1-he}:{opacity:he,mix:0}}return{opacity:1,mix:0}}const qm=new o.aT(1,0,0,1),Uu=new o.aT(0,1,0,1),Ch=new o.aT(0,0,1,1),jm=new o.aT(1,0,1,1),Hm=new o.aT(0,1,1,1);function Sc(_,a,d,m){ju(_,0,a+d/2,_.transform.width,d,m)}function qu(_,a,d,m){ju(_,a-d/2,0,d,_.transform.height,m)}function ju(_,a,d,m,v,x){const E=_.context,P=E.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*_.pixelRatio,d*_.pixelRatio,m*_.pixelRatio,v*_.pixelRatio),E.clear({color:x}),P.disable(P.SCISSOR_TEST)}function Gm(_,a,d){const m=_.context,v=m.gl,x=d.posMatrix,E=_.useProgram("debug"),P=zn.disabled,M=Ir.disabled,z=_.colorModeForRenderPass(),N="$debug",U=_.style.map.terrain&&_.style.map.terrain.getTerrainData(d);m.activeTexture.set(v.TEXTURE0);const J=a.getTileByID(d.key).latestRawTileData,he=Math.floor((J&&J.byteLength||0)/1024),de=a.getTile(d).tileSize,ge=512/Math.min(de,512)*(d.overscaledZ/_.transform.zoom)*.5;let ce=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(ce+=` => ${d.overscaledZ}`),function(Pe,He){Pe.initDebugOverlayCanvas();const xe=Pe.debugOverlayCanvas,Le=Pe.context.gl,Ye=Pe.debugOverlayCanvas.getContext("2d");Ye.clearRect(0,0,xe.width,xe.height),Ye.shadowColor="white",Ye.shadowBlur=2,Ye.lineWidth=1.5,Ye.strokeStyle="white",Ye.textBaseline="top",Ye.font="bold 36px Open Sans, sans-serif",Ye.fillText(He,5,5),Ye.strokeText(He,5,5),Pe.debugOverlayTexture.update(xe),Pe.debugOverlayTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE)}(_,`${ce} ${he}kB`),E.draw(m,v.TRIANGLES,P,M,Er.alphaBlended,kr.disabled,vc(x,o.aT.transparent,ge),null,N,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),E.draw(m,v.LINE_STRIP,P,M,z,kr.disabled,vc(x,o.aT.red),U,N,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function Fr(_,a,d){const m=_.context,v=m.gl,x=_.colorModeForRenderPass(),E=new zn(v.LEQUAL,zn.ReadWrite,_.depthRangeFor3D),P=_.useProgram("terrain"),M=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,_.width,_.height]);for(const z of d){const N=_.renderToTexture.getTexture(z),U=a.getTerrainData(z.tileID);m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,N.texture);const J={u_matrix:_.transform.calculatePosMatrix(z.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(_.transform.zoom)};P.draw(m,v.TRIANGLES,E,Ir.disabled,x,kr.backCCW,J,U,"terrain",M.vertexBuffer,M.indexBuffer,M.segments)}}class Uo{constructor(a,d){this.context=new sy(a),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.Z(),renderTime:0},this.setup(),this.numSublayers=_t.maxUnderzooming+_t.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Su}resize(a,d,m){if(this.width=Math.floor(a*m),this.height=Math.floor(d*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const a=this.context,d=new o.a_;d.emplaceBack(0,0),d.emplaceBack(o.N,0),d.emplaceBack(0,o.N),d.emplaceBack(o.N,o.N),this.tileExtentBuffer=a.createVertexBuffer(d,ku.members),this.tileExtentSegments=o.S.simpleSegment(0,0,4,2);const m=new o.a_;m.emplaceBack(0,0),m.emplaceBack(o.N,0),m.emplaceBack(0,o.N),m.emplaceBack(o.N,o.N),this.debugBuffer=a.createVertexBuffer(m,ku.members),this.debugSegments=o.S.simpleSegment(0,0,4,5);const v=new o.V;v.emplaceBack(0,0,0,0),v.emplaceBack(o.N,0,o.N,0),v.emplaceBack(0,o.N,0,o.N),v.emplaceBack(o.N,o.N,o.N,o.N),this.rasterBoundsBuffer=a.createVertexBuffer(v,je.members),this.rasterBoundsSegments=o.S.simpleSegment(0,0,4,2);const x=new o.a_;x.emplaceBack(0,0),x.emplaceBack(1,0),x.emplaceBack(0,1),x.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(x,ku.members),this.viewportSegments=o.S.simpleSegment(0,0,4,2);const E=new o.a$;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(E);const P=new o.b0;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(P);const M=this.context.gl;this.stencilClearMode=new Ir({func:M.ALWAYS,mask:0},0,255,M.ZERO,M.ZERO,M.ZERO)}clearStencil(){const a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=o.Z();o.aS(m,0,this.width,this.height,0,0,1),o.a0(m,m,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,d.TRIANGLES,zn.disabled,this.stencilClearMode,Er.disabled,kr.disabled,Pm(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!d||!d.length)return;this.currentStencilSource=a.source;const m=this.context,v=m.gl;this.nextStencilID+d.length>256&&this.clearStencil(),m.setColorMode(Er.disabled),m.setDepthMode(zn.disabled);const x=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of d){const P=this._tileClippingMaskIDs[E.key]=this.nextStencilID++,M=this.style.map.terrain&&this.style.map.terrain.getTerrainData(E);x.draw(m,v.TRIANGLES,zn.disabled,new Ir({func:v.ALWAYS,mask:0},P,255,v.KEEP,v.KEEP,v.REPLACE),Er.disabled,kr.disabled,Pm(E.posMatrix),M,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,d=this.context.gl;return new Ir({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){const d=this.context.gl;return new Ir({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){const d=this.context.gl,m=a.sort((E,P)=>P.overscaledZ-E.overscaledZ),v=m[m.length-1].overscaledZ,x=m[0].overscaledZ-v+1;if(x>1){this.currentStencilSource=void 0,this.nextStencilID+x>256&&this.clearStencil();const E={};for(let P=0;P<x;P++)E[P+v]=new Ir({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=x,[E,m]}return[{[v]:Ir.disabled},m]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new Er([a.CONSTANT_COLOR,a.ONE],new o.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Er.unblended:Er.alphaBlended}depthModeForSublayer(a,d,m){if(!this.opaquePassEnabledForLayer())return zn.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new zn(m||this.context.gl.LEQUAL,d,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(o.h.now()),this.imageManager.beginFrame();const m=this.style._order,v=this.style.sourceCaches,x={},E={},P={};for(const M in v){const z=v[M];z.used&&z.prepare(this.context),x[M]=z.getVisibleCoordinates(),E[M]=x[M].slice().reverse(),P[M]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let M=0;M<m.length;M++)if(this.style._layers[m[M]].is3D()){this.opaquePassCutoff=M;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const M=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!o.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||M.length)&&(o.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(z,N){const U=z.context,J=U.gl,he=Er.unblended,de=new zn(J.LEQUAL,zn.ReadWrite,[0,1]),ge=N.getTerrainMesh(),ce=N.sourceCache.getRenderableTiles(),Pe=z.useProgram("terrainDepth");U.bindFramebuffer.set(N.getFramebuffer("depth").framebuffer),U.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),U.clear({color:o.aT.transparent,depth:1});for(const He of ce){const xe=N.getTerrainData(He.tileID),Le={u_matrix:z.transform.calculatePosMatrix(He.tileID.toUnwrapped()),u_ele_delta:N.getMeshFrameDelta(z.transform.zoom)};Pe.draw(U,J.TRIANGLES,de,Ir.disabled,he,kr.backCCW,Le,xe,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments)}U.bindFramebuffer.set(null),U.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain),function(z,N){const U=z.context,J=U.gl,he=Er.unblended,de=new zn(J.LEQUAL,zn.ReadWrite,[0,1]),ge=N.getTerrainMesh(),ce=N.getCoordsTexture(),Pe=N.sourceCache.getRenderableTiles(),He=z.useProgram("terrainCoords");U.bindFramebuffer.set(N.getFramebuffer("coords").framebuffer),U.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),U.clear({color:o.aT.transparent,depth:1}),N.coordsIndex=[];for(const xe of Pe){const Le=N.getTerrainData(xe.tileID);U.activeTexture.set(J.TEXTURE0),J.bindTexture(J.TEXTURE_2D,ce.texture);const Ye={u_matrix:z.transform.calculatePosMatrix(xe.tileID.toUnwrapped()),u_terrain_coords_id:(255-N.coordsIndex.length)/255,u_texture:0,u_ele_delta:N.getMeshFrameDelta(z.transform.zoom)};He.draw(U,J.TRIANGLES,de,Ir.disabled,he,kr.backCCW,Ye,Le,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments),N.coordsIndex.push(xe.tileID.key)}U.bindFramebuffer.set(null),U.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const M of m){const z=this.style._layers[M];if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;const N=E[z.source];(z.type==="custom"||N.length)&&this.renderLayer(this,v[z.source],z,N)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.aT.black:o.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const M=this.style._layers[m[this.currentLayer]],z=v[M.source],N=x[M.source];this._renderTileClippingMasks(M,N),this.renderLayer(this,z,M,N)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const M=this.style._layers[m[this.currentLayer]],z=v[M.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(M))continue;const N=(M.type==="symbol"?P:E)[M.source];this._renderTileClippingMasks(M,x[M.source]),this.renderLayer(this,z,M,N)}if(this.options.showTileBoundaries){const M=function(z,N){let U=null;const J=Object.values(z._layers).flatMap(ce=>ce.source&&!ce.isHidden(N)?[z.sourceCaches[ce.source]]:[]),he=J.filter(ce=>ce.getSource().type==="vector"),de=J.filter(ce=>ce.getSource().type!=="vector"),ge=ce=>{(!U||U.getSource().maxzoom<ce.getSource().maxzoom)&&(U=ce)};return he.forEach(ce=>ge(ce)),U||de.forEach(ce=>ge(ce)),U}(this.style,this.transform.zoom);M&&function(z,N,U){for(let J=0;J<U.length;J++)Gm(z,N,U[J])}(this,M,M.getVisibleCoordinates())}this.options.showPadding&&function(M){const z=M.transform.padding;Sc(M,M.transform.height-(z.top||0),3,qm),Sc(M,z.bottom||0,3,Uu),qu(M,z.left||0,3,Ch),qu(M,M.transform.width-(z.right||0),3,jm);const N=M.transform.centerPoint;(function(U,J,he,de){ju(U,J-1,he-10,2,20,de),ju(U,J-10,he-1,20,2,de)})(M,N.x,M.transform.height-N.y,Hm)}(this),this.context.setDefault()}renderLayer(a,d,m,v){if(!m.isHidden(this.transform.zoom)&&(m.type==="background"||m.type==="custom"||(v||[]).length))switch(this.id=m.id,m.type){case"symbol":(function(x,E,P,M,z){if(x.renderPass!=="translucent")return;const N=Ir.disabled,U=x.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(J,he,de,ge,ce,Pe,He){const xe=he.transform,Le=ce==="map",Ye=Pe==="map";for(const Ke of J){const st=ge.getTile(Ke),xt=st.getBucket(de);if(!xt||!xt.text||!xt.text.segments.get().length)continue;const mt=o.ah(xt.textSizeData,xe.zoom),Et=Ee(st,1,he.transform.zoom),Yt=vt(Ke.posMatrix,Ye,Le,he.transform,Et),Pn=de.layout.get("icon-text-fit")!=="none"&&xt.hasIconData();if(mt){const Ot=Math.pow(2,xe.zoom-st.tileID.overscaledZ);Nu(xt,Le,Ye,He,xe,Yt,Ke.posMatrix,Ot,mt,Pn,he.style.map.terrain?(cn,Kt)=>he.style.map.terrain.getElevation(Ke,cn,Kt):null)}}}(M,x,P,E,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),z),P.paint.get("icon-opacity").constantOr(1)!==0&&$u(x,E,P,M,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),N,U),P.paint.get("text-opacity").constantOr(1)!==0&&$u(x,E,P,M,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),N,U),E.map.showCollisionBoxes&&(Um(x,E,P,M,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),!0),Um(x,E,P,M,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),!1))})(a,d,m,v,this.style.placement.variableOffsets);break;case"circle":(function(x,E,P,M){if(x.renderPass!=="translucent")return;const z=P.paint.get("circle-opacity"),N=P.paint.get("circle-stroke-width"),U=P.paint.get("circle-stroke-opacity"),J=!P.layout.get("circle-sort-key").isConstant();if(z.constantOr(1)===0&&(N.constantOr(1)===0||U.constantOr(1)===0))return;const he=x.context,de=he.gl,ge=x.depthModeForSublayer(0,zn.ReadOnly),ce=Ir.disabled,Pe=x.colorModeForRenderPass(),He=[];for(let xe=0;xe<M.length;xe++){const Le=M[xe],Ye=E.getTile(Le),Ke=Ye.getBucket(P);if(!Ke)continue;const st=Ke.programConfigurations.get(P.id),xt=x.useProgram("circle",st),mt=Ke.layoutVertexBuffer,Et=Ke.indexBuffer,Yt=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Le),Pn={programConfiguration:st,program:xt,layoutVertexBuffer:mt,indexBuffer:Et,uniformValues:uo(x,Le,Ye,P),terrainData:Yt};if(J){const Ot=Ke.segments.get();for(const cn of Ot)He.push({segments:new o.S([cn]),sortKey:cn.sortKey,state:Pn})}else He.push({segments:Ke.segments,sortKey:0,state:Pn})}J&&He.sort((xe,Le)=>xe.sortKey-Le.sortKey);for(const xe of He){const{programConfiguration:Le,program:Ye,layoutVertexBuffer:Ke,indexBuffer:st,uniformValues:xt,terrainData:mt}=xe.state;Ye.draw(he,de.TRIANGLES,ge,ce,Pe,kr.disabled,xt,mt,P.id,Ke,st,xe.segments,P.paint,x.transform.zoom,Le)}})(a,d,m,v);break;case"heatmap":(function(x,E,P,M){if(P.paint.get("heatmap-opacity")!==0)if(x.renderPass==="offscreen"){const z=x.context,N=z.gl,U=Ir.disabled,J=new Er([N.ONE,N.ONE],o.aT.transparent,[!0,!0,!0,!0]);(function(he,de,ge){const ce=he.gl;he.activeTexture.set(ce.TEXTURE1),he.viewport.set([0,0,de.width/4,de.height/4]);let Pe=ge.heatmapFbo;if(Pe)ce.bindTexture(ce.TEXTURE_2D,Pe.colorAttachment.get()),he.bindFramebuffer.set(Pe.framebuffer);else{const He=ce.createTexture();ce.bindTexture(ce.TEXTURE_2D,He),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,ce.LINEAR),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,ce.LINEAR),Pe=ge.heatmapFbo=he.createFramebuffer(de.width/4,de.height/4,!1,!1),function(xe,Le,Ye,Ke){var st,xt;const mt=xe.gl,Et=(st=xe.HALF_FLOAT)!==null&&st!==void 0?st:mt.UNSIGNED_BYTE,Yt=(xt=xe.RGBA16F)!==null&&xt!==void 0?xt:mt.RGBA;mt.texImage2D(mt.TEXTURE_2D,0,Yt,Le.width/4,Le.height/4,0,mt.RGBA,Et,null),Ke.colorAttachment.set(Ye)}(he,de,He,Pe)}})(z,x,P),z.clear({color:o.aT.transparent});for(let he=0;he<M.length;he++){const de=M[he];if(E.hasRenderableParent(de))continue;const ge=E.getTile(de),ce=ge.getBucket(P);if(!ce)continue;const Pe=ce.programConfigurations.get(P.id),He=x.useProgram("heatmap",Pe),{zoom:xe}=x.transform;He.draw(z,N.TRIANGLES,zn.disabled,U,J,kr.disabled,Jv(de.posMatrix,ge,xe,P.paint.get("heatmap-intensity")),null,P.id,ce.layoutVertexBuffer,ce.indexBuffer,ce.segments,P.paint,x.transform.zoom,Pe)}z.viewport.set([0,0,x.width,x.height])}else x.renderPass==="translucent"&&(x.context.setColorMode(x.colorModeForRenderPass()),function(z,N){const U=z.context,J=U.gl,he=N.heatmapFbo;if(!he)return;U.activeTexture.set(J.TEXTURE0),J.bindTexture(J.TEXTURE_2D,he.colorAttachment.get()),U.activeTexture.set(J.TEXTURE1);let de=N.colorRampTexture;de||(de=N.colorRampTexture=new K(U,N.colorRamp,J.RGBA)),de.bind(J.LINEAR,J.CLAMP_TO_EDGE),z.useProgram("heatmapTexture").draw(U,J.TRIANGLES,zn.disabled,Ir.disabled,z.colorModeForRenderPass(),kr.disabled,((ge,ce,Pe,He)=>{const xe=o.Z();o.aS(xe,0,ge.width,ge.height,0,0,1);const Le=ge.context.gl;return{u_matrix:xe,u_world:[Le.drawingBufferWidth,Le.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ce.paint.get("heatmap-opacity")}})(z,N),null,N.id,z.viewportBuffer,z.quadTriangleIndexBuffer,z.viewportSegments,N.paint,z.transform.zoom)}(x,P))})(a,d,m,v);break;case"line":(function(x,E,P,M){if(x.renderPass!=="translucent")return;const z=P.paint.get("line-opacity"),N=P.paint.get("line-width");if(z.constantOr(1)===0||N.constantOr(1)===0)return;const U=x.depthModeForSublayer(0,zn.ReadOnly),J=x.colorModeForRenderPass(),he=P.paint.get("line-dasharray"),de=P.paint.get("line-pattern"),ge=de.constantOr(1),ce=P.paint.get("line-gradient"),Pe=P.getCrossfadeParameters(),He=ge?"linePattern":he?"lineSDF":ce?"lineGradient":"line",xe=x.context,Le=xe.gl;let Ye=!0;for(const Ke of M){const st=E.getTile(Ke);if(ge&&!st.patternsLoaded())continue;const xt=st.getBucket(P);if(!xt)continue;const mt=xt.programConfigurations.get(P.id),Et=x.context.program.get(),Yt=x.useProgram(He,mt),Pn=Ye||Yt.program!==Et,Ot=x.style.map.terrain&&x.style.map.terrain.getTerrainData(Ke),cn=de.constantOr(null);if(cn&&st.imageAtlas){const In=st.imageAtlas,Sn=In.patternPositions[cn.to.toString()],Dn=In.patternPositions[cn.from.toString()];Sn&&Dn&&mt.setConstantPatternPositions(Sn,Dn)}const Kt=Ot?Ke:null,tr=ge?Qv(x,st,P,Pe,Kt):he?Mm(x,st,P,he,Pe,Kt):ce?Dm(x,st,P,xt.lineClipsArray.length,Kt):lh(x,st,P,Kt);if(ge)xe.activeTexture.set(Le.TEXTURE0),st.imageAtlasTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE),mt.updatePaintBuffers(Pe);else if(he&&(Pn||x.lineAtlas.dirty))xe.activeTexture.set(Le.TEXTURE0),x.lineAtlas.bind(xe);else if(ce){const In=xt.gradients[P.id];let Sn=In.texture;if(P.gradientVersion!==In.version){let Dn=256;if(P.stepInterpolant){const Ur=E.getSource().maxzoom,mr=Ke.canonical.z===Ur?Math.ceil(1<<x.transform.maxZoom-Ke.canonical.z):1;Dn=o.ad(o.aY(xt.maxLineLength/o.N*1024*mr),256,xe.maxTextureSize)}In.gradient=o.aZ({expression:P.gradientExpression(),evaluationKey:"lineProgress",resolution:Dn,image:In.gradient||void 0,clips:xt.lineClipsArray}),In.texture?In.texture.update(In.gradient):In.texture=new K(xe,In.gradient,Le.RGBA),In.version=P.gradientVersion,Sn=In.texture}xe.activeTexture.set(Le.TEXTURE0),Sn.bind(P.stepInterpolant?Le.NEAREST:Le.LINEAR,Le.CLAMP_TO_EDGE)}Yt.draw(xe,Le.TRIANGLES,U,x.stencilModeForClipping(Ke),J,kr.disabled,tr,Ot,P.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,P.paint,x.transform.zoom,mt,xt.layoutVertexBuffer2),Ye=!1}})(a,d,m,v);break;case"fill":(function(x,E,P,M){const z=P.paint.get("fill-color"),N=P.paint.get("fill-opacity");if(N.constantOr(1)===0)return;const U=x.colorModeForRenderPass(),J=P.paint.get("fill-pattern"),he=x.opaquePassEnabledForLayer()&&!J.constantOr(1)&&z.constantOr(o.aT.transparent).a===1&&N.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===he){const de=x.depthModeForSublayer(1,x.renderPass==="opaque"?zn.ReadWrite:zn.ReadOnly);xc(x,E,P,M,de,U,!1)}if(x.renderPass==="translucent"&&P.paint.get("fill-antialias")){const de=x.depthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,zn.ReadOnly);xc(x,E,P,M,de,U,!0)}})(a,d,m,v);break;case"fill-extrusion":(function(x,E,P,M){const z=P.paint.get("fill-extrusion-opacity");if(z!==0&&x.renderPass==="translucent"){const N=new zn(x.context.gl.LEQUAL,zn.ReadWrite,x.depthRangeFor3D);if(z!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))wc(x,E,P,M,N,Ir.disabled,Er.disabled),wc(x,E,P,M,N,x.stencilModeFor3D(),x.colorModeForRenderPass());else{const U=x.colorModeForRenderPass();wc(x,E,P,M,N,Ir.disabled,U)}}})(a,d,m,v);break;case"hillshade":(function(x,E,P,M){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;const z=x.context,N=x.depthModeForSublayer(0,zn.ReadOnly),U=x.colorModeForRenderPass(),[J,he]=x.renderPass==="translucent"?x.stencilConfigForOverlap(M):[{},M];for(const de of he){const ge=E.getTile(de);ge.needsHillshadePrepare!==void 0&&ge.needsHillshadePrepare&&x.renderPass==="offscreen"?kh(x,ge,P,N,Ir.disabled,U):x.renderPass==="translucent"&&oy(x,de,ge,P,N,J[de.overscaledZ],U)}z.viewport.set([0,0,x.width,x.height])})(a,d,m,v);break;case"raster":(function(x,E,P,M){if(x.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!M.length)return;const z=x.context,N=z.gl,U=E.getSource(),J=x.useProgram("raster"),he=x.colorModeForRenderPass(),[de,ge]=U instanceof et?[{},M]:x.stencilConfigForOverlap(M),ce=ge[ge.length-1].overscaledZ,Pe=!x.options.moving;for(const He of ge){const xe=x.depthModeForSublayer(He.overscaledZ-ce,P.paint.get("raster-opacity")===1?zn.ReadWrite:zn.ReadOnly,N.LESS),Le=E.getTile(He);Le.registerFadeDuration(P.paint.get("raster-fade-duration"));const Ye=E.findLoadedParent(He,0),Ke=ly(Le,Ye,E,P,x.transform,x.style.map.terrain);let st,xt;const mt=P.paint.get("raster-resampling")==="nearest"?N.NEAREST:N.LINEAR;z.activeTexture.set(N.TEXTURE0),Le.texture.bind(mt,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),z.activeTexture.set(N.TEXTURE1),Ye?(Ye.texture.bind(mt,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),st=Math.pow(2,Ye.tileID.overscaledZ-Le.tileID.overscaledZ),xt=[Le.tileID.canonical.x*st%1,Le.tileID.canonical.y*st%1]):Le.texture.bind(mt,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST);const Et=x.style.map.terrain&&x.style.map.terrain.getTerrainData(He),Yt=Et?He:null,Pn=Yt?Yt.posMatrix:x.transform.calculatePosMatrix(He.toUnwrapped(),Pe),Ot=Rm(Pn,xt||[0,0],st||1,Ke,P);U instanceof et?J.draw(z,N.TRIANGLES,xe,Ir.disabled,he,kr.disabled,Ot,Et,P.id,U.boundsBuffer,x.quadTriangleIndexBuffer,U.boundsSegments):J.draw(z,N.TRIANGLES,xe,de[He.overscaledZ],he,kr.disabled,Ot,Et,P.id,x.rasterBoundsBuffer,x.quadTriangleIndexBuffer,x.rasterBoundsSegments)}})(a,d,m,v);break;case"background":(function(x,E,P,M){const z=P.paint.get("background-color"),N=P.paint.get("background-opacity");if(N===0)return;const U=x.context,J=U.gl,he=x.transform,de=he.tileSize,ge=P.paint.get("background-pattern");if(x.isPatternMissing(ge))return;const ce=!ge&&z.a===1&&N===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==ce)return;const Pe=Ir.disabled,He=x.depthModeForSublayer(0,ce==="opaque"?zn.ReadWrite:zn.ReadOnly),xe=x.colorModeForRenderPass(),Le=x.useProgram(ge?"backgroundPattern":"background"),Ye=M||he.coveringTiles({tileSize:de,terrain:x.style.map.terrain});ge&&(U.activeTexture.set(J.TEXTURE0),x.imageManager.bind(x.context));const Ke=P.getCrossfadeParameters();for(const st of Ye){const xt=M?st.posMatrix:x.transform.calculatePosMatrix(st.toUnwrapped()),mt=ge?Ea(xt,N,x,ge,{tileID:st,tileSize:de},Ke):Iu(xt,N,z),Et=x.style.map.terrain&&x.style.map.terrain.getTerrainData(st);Le.draw(U,J.TRIANGLES,He,Pe,xe,kr.disabled,mt,Et,P.id,x.tileExtentBuffer,x.quadTriangleIndexBuffer,x.tileExtentSegments)}})(a,0,m,v);break;case"custom":(function(x,E,P){const M=x.context,z=P.implementation;if(x.renderPass==="offscreen"){const N=z.prerender;N&&(x.setCustomLayerDefaults(),M.setColorMode(x.colorModeForRenderPass()),N.call(z,M.gl,x.transform.customLayerMatrix()),M.setDirty(),x.setBaseState())}else if(x.renderPass==="translucent"){x.setCustomLayerDefaults(),M.setColorMode(x.colorModeForRenderPass()),M.setStencilMode(Ir.disabled);const N=z.renderingMode==="3d"?new zn(x.context.gl.LEQUAL,zn.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,zn.ReadOnly);M.setDepthMode(N),z.render(M.gl,x.transform.customLayerMatrix()),M.setDirty(),x.setBaseState(),M.bindFramebuffer.set(null)}})(a,0,m)}}translatePosMatrix(a,d,m,v,x){if(!m[0]&&!m[1])return a;const E=x?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(E){const z=Math.sin(E),N=Math.cos(E);m=[m[0]*N-m[1]*z,m[0]*z+m[1]*N]}const P=[x?m[0]:Ee(d,m[0],this.transform.zoom),x?m[1]:Ee(d,m[1],this.transform.zoom),0],M=new Float32Array(16);return o.$(M,a,P),M}saveTileTexture(a){const d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const d=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!d||!m}useProgram(a,d){this.cache=this.cache||{};const m=a+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new Cu(this.context,Ar[a],d,Pu[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new K(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:a,drawingBufferHeight:d}=this.context.gl;return this.width!==a||this.height!==d}}class Qi{constructor(a,d){this.points=a,this.planes=d}static fromInvProjectionMatrix(a,d,m){const v=Math.pow(2,m),x=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{const M=1/(P=o.ag([],P,a))[3]/d*v;return o.b3(P,P,[M,M,1/P[3],M])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const M=function(J,he){var de=he[0],ge=he[1],ce=he[2],Pe=de*de+ge*ge+ce*ce;return Pe>0&&(Pe=1/Math.sqrt(Pe)),J[0]=he[0]*Pe,J[1]=he[1]*Pe,J[2]=he[2]*Pe,J}([],function(J,he,de){var ge=he[0],ce=he[1],Pe=he[2],He=de[0],xe=de[1],Le=de[2];return J[0]=ce*Le-Pe*xe,J[1]=Pe*He-ge*Le,J[2]=ge*xe-ce*He,J}([],Q([],x[P[0]],x[P[1]]),Q([],x[P[2]],x[P[1]]))),z=-((N=M)[0]*(U=x[P[1]])[0]+N[1]*U[1]+N[2]*U[2]);var N,U;return M.concat(z)});return new Qi(x,E)}}class Pl{constructor(a,d){this.min=a,this.max=d,this.center=function(m,v,x){return m[0]=.5*v[0],m[1]=.5*v[1],m[2]=.5*v[2],m}([],function(m,v,x){return m[0]=v[0]+x[0],m[1]=v[1]+x[1],m[2]=v[2]+x[2],m}([],this.min,this.max))}quadrant(a){const d=[a%2==0,a<2],m=re(this.min),v=re(this.max);for(let x=0;x<d.length;x++)m[x]=d[x]?this.min[x]:this.center[x],v[x]=d[x]?this.center[x]:this.max[x];return v[2]=this.max[2],new Pl(m,v)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let v=0;v<a.planes.length;v++){const x=a.planes[v];let E=0;for(let P=0;P<d.length;P++)o.b4(x,d[P])>=0&&E++;if(E===0)return 0;E!==d.length&&(m=!1)}if(m)return 2;for(let v=0;v<3;v++){let x=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let P=0;P<a.points.length;P++){const M=a.points[P][v]-this.min[v];x=Math.min(x,M),E=Math.max(E,M)}if(E<0||x>this.max[v]-this.min[v])return 0}return 1}}class kc{constructor(a=0,d=0,m=0,v=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=m,this.right=v}interpolate(a,d,m){return d.top!=null&&a.top!=null&&(this.top=o.B.number(a.top,d.top,m)),d.bottom!=null&&a.bottom!=null&&(this.bottom=o.B.number(a.bottom,d.bottom,m)),d.left!=null&&a.left!=null&&(this.left=o.B.number(a.left,d.left,m)),d.right!=null&&a.right!=null&&(this.right=o.B.number(a.right,d.right,m)),this}getCenter(a,d){const m=o.ad((this.left+a-this.right)/2,0,a),v=o.ad((this.top+d-this.bottom)/2,0,d);return new o.P(m,v)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new kc(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Hu{constructor(a,d,m,v,x){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=x===void 0||!!x,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=m??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new kc,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const a=new Hu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this._minEleveationForCurrentTile=a._minEleveationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const d=-o.b5(a,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var m=new o.A(4);return o.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,v,x){var E=v[0],P=v[1],M=v[2],z=v[3],N=Math.sin(x),U=Math.cos(x);m[0]=E*U+M*N,m[1]=P*U+z*N,m[2]=E*-N+M*U,m[3]=P*-N+z*U}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const d=o.ad(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,m){this._unmodified=!1,this._edgeInsets.interpolate(a,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){const d=[new o.b6(0,a)];if(this._renderWorldCopies){const m=this.pointCoordinate(new o.P(0,0)),v=this.pointCoordinate(new o.P(this.width,0)),x=this.pointCoordinate(new o.P(this.width,this.height)),E=this.pointCoordinate(new o.P(0,this.height)),P=Math.floor(Math.min(m.x,v.x,x.x,E.x)),M=Math.floor(Math.max(m.x,v.x,x.x,E.x)),z=1;for(let N=P-z;N<=M+z;N++)N!==0&&d.push(new o.b6(N,a))}return d}coveringTiles(a){var d,m;let v=this.coveringZoomLevel(a);const x=v;if(a.minzoom!==void 0&&v<a.minzoom)return[];a.maxzoom!==void 0&&v>a.maxzoom&&(v=a.maxzoom);const E=this.pointCoordinate(this.getCameraPoint()),P=o.U.fromLngLat(this.center),M=Math.pow(2,v),z=[M*E.x,M*E.y,0],N=[M*P.x,M*P.y,0],U=Qi.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,v);let J=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(J=v);const he=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,de=xe=>({aabb:new Pl([xe*M,0,0],[(xe+1)*M,M,0]),zoom:0,x:0,y:0,wrap:xe,fullyVisible:!1}),ge=[],ce=[],Pe=v,He=a.reparseOverscaled?x:v;if(this._renderWorldCopies)for(let xe=1;xe<=3;xe++)ge.push(de(-xe)),ge.push(de(xe));for(ge.push(de(0));ge.length>0;){const xe=ge.pop(),Le=xe.x,Ye=xe.y;let Ke=xe.fullyVisible;if(!Ke){const Yt=xe.aabb.intersects(U);if(Yt===0)continue;Ke=Yt===2}const st=a.terrain?z:N,xt=xe.aabb.distanceX(st),mt=xe.aabb.distanceY(st),Et=Math.max(Math.abs(xt),Math.abs(mt));if(xe.zoom===Pe||Et>he+(1<<Pe-xe.zoom)-2&&xe.zoom>=J){const Yt=Pe-xe.zoom,Pn=z[0]-.5-(Le<<Yt),Ot=z[1]-.5-(Ye<<Yt);ce.push({tileID:new o.O(xe.zoom===Pe?He:xe.zoom,xe.wrap,xe.zoom,Le,Ye),distanceSq:se([N[0]-.5-Le,N[1]-.5-Ye]),tileDistanceToCamera:Math.sqrt(Pn*Pn+Ot*Ot)})}else for(let Yt=0;Yt<4;Yt++){const Pn=(Le<<1)+Yt%2,Ot=(Ye<<1)+(Yt>>1),cn=xe.zoom+1;let Kt=xe.aabb.quadrant(Yt);if(a.terrain){const tr=new o.O(cn,xe.wrap,cn,Pn,Ot),In=a.terrain.getMinMaxElevation(tr),Sn=(d=In.minElevation)!==null&&d!==void 0?d:this.elevation,Dn=(m=In.maxElevation)!==null&&m!==void 0?m:this.elevation;Kt=new Pl([Kt.min[0],Kt.min[1],Sn],[Kt.max[0],Kt.max[1],Dn])}ge.push({aabb:Kt,zoom:cn,x:Pn,y:Ot,wrap:xe.wrap,fullyVisible:Ke})}}return ce.sort((xe,Le)=>xe.distanceSq-Le.distanceSq).map(xe=>xe.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const d=o.ad(a.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.P(o.G(a.lng)*this.worldSize,o.H(d)*this.worldSize)}unproject(a){return new o.U(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const d=this.pointLocation(this.centerPoint,a),m=a.getElevationForLngLatZoom(d,this.tileZoom);if(!(this.elevation-m))return;const v=this.getCameraPosition(),x=o.U.fromLngLat(v.lngLat,v.altitude),E=o.U.fromLngLat(d,m),P=x.x-E.x,M=x.y-E.y,z=x.z-E.z,N=Math.sqrt(P*P+M*M+z*z),U=this.scaleZoom(this.cameraToCenterDistance/N/this.tileSize);this._elevation=m,this._center=d,this.zoom=U}setLocationAtPoint(a,d){const m=this.pointCoordinate(d),v=this.pointCoordinate(this.centerPoint),x=this.locationCoordinate(a),E=new o.U(x.x-(m.x-v.x),x.y-(m.y-v.y));this.center=this.coordinateLocation(E),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,d){return d?this.coordinatePoint(this.locationCoordinate(a),d.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,d){return this.coordinateLocation(this.pointCoordinate(a,d))}locationCoordinate(a){return o.U.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,d){if(d){const J=d.pointCoordinate(a);if(J!=null)return J}const m=[a.x,a.y,0,1],v=[a.x,a.y,1,1];o.ag(m,m,this.pixelMatrixInverse),o.ag(v,v,this.pixelMatrixInverse);const x=m[3],E=v[3],P=m[1]/x,M=v[1]/E,z=m[2]/x,N=v[2]/E,U=z===N?0:(0-z)/(N-z);return new o.U(o.B.number(m[0]/x,v[0]/E,U)/this.worldSize,o.B.number(P,M,U)/this.worldSize)}coordinatePoint(a,d=0,m=this.pixelMatrix){const v=[a.x*this.worldSize,a.y*this.worldSize,d,1];return o.ag(v,v,m),new o.P(v[0]/v[3],v[1]/v[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new pt().extend(this.pointLocation(new o.P(0,a))).extend(this.pointLocation(new o.P(this.width,a))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new pt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(a,d=!1){const m=a.key,v=d?this._alignedPosMatrixCache:this._posMatrixCache;if(v[m])return v[m];const x=a.canonical,E=this.worldSize/this.zoomScale(x.z),P=x.x+Math.pow(2,x.z)*a.wrap,M=o.ao(new Float64Array(16));return o.$(M,M,[P*E,x.y*E,0]),o.a0(M,M,[E/o.N,E/o.N,1]),o.a1(M,d?this.alignedProjMatrix:this.projMatrix,M),v[m]=new Float32Array(M),v[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a,d,m,v,x=-90,E=90,P=-180,M=180;const z=this.size,N=this._unmodified;if(this.latRange){const he=this.latRange;x=o.H(he[1])*this.worldSize,E=o.H(he[0])*this.worldSize,a=E-x<z.y?z.y/(E-x):0}if(this.lngRange){const he=this.lngRange;P=o.b5(o.G(he[0])*this.worldSize,0,this.worldSize),M=o.b5(o.G(he[1])*this.worldSize,0,this.worldSize),M<P&&(M+=this.worldSize),d=M-P<z.x?z.x/(M-P):0}const U=this.point,J=Math.max(d||0,a||0);if(J)return this.center=this.unproject(new o.P(d?(M+P)/2:U.x,a?(E+x)/2:U.y)),this.zoom+=this.scaleZoom(J),this._unmodified=N,void(this._constraining=!1);if(this.latRange){const he=U.y,de=z.y/2;he-de<x&&(v=x+de),he+de>E&&(v=E-de)}if(this.lngRange){const he=(P+M)/2,de=o.b5(U.x,he-this.worldSize/2,he+this.worldSize/2),ge=z.x/2;de-ge<P&&(m=P+ge),de+ge>M&&(m=M-ge)}m===void 0&&v===void 0||(this.center=this.unproject(new o.P(m!==void 0?m:U.x,v!==void 0?v:U.y)).wrap()),this._unmodified=N,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,d=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b7(1,this.center.lat)*this.worldSize;let v=o.ao(new Float64Array(16));o.a0(v,v,[this.width/2,-this.height/2,1]),o.$(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=o.ao(new Float64Array(16)),o.a0(v,v,[1,-1,1]),o.$(v,v,[-1,-1,0]),o.a0(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const x=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),E=Math.min(this.elevation,this._minEleveationForCurrentTile),P=x-E*this._pixelPerMeter/Math.cos(this._pitch),M=E<0?P:x,z=Math.PI/2+this._pitch,N=this._fov*(.5+a.y/this.height),U=Math.sin(N)*M/Math.sin(o.ad(Math.PI-z-N,.01,Math.PI-.01)),J=this.getHorizon(),he=2*Math.atan(J/this.cameraToCenterDistance)*(.5+a.y/(2*J)),de=Math.sin(he)*M/Math.sin(o.ad(Math.PI-z-he,.01,Math.PI-.01)),ge=Math.min(U,de),ce=1.01*(Math.cos(Math.PI/2-this._pitch)*ge+M),Pe=this.height/50;v=new Float64Array(16),o.b8(v,this._fov,this.width/this.height,Pe,ce),v[8]=2*-a.x/this.width,v[9]=2*a.y/this.height,o.a0(v,v,[1,-1,1]),o.$(v,v,[0,0,-this.cameraToCenterDistance]),o.b9(v,v,this._pitch),o.ae(v,v,this.angle),o.$(v,v,[-d,-m,0]),this.mercatorMatrix=o.a0([],v,[this.worldSize,this.worldSize,this.worldSize]),o.a0(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.a1(new Float64Array(16),this.labelPlaneMatrix,v),o.$(v,v,[0,0,-this.elevation]),this.projMatrix=v,this.invProjMatrix=o.as([],v),this.pixelMatrix3D=o.a1(new Float64Array(16),this.labelPlaneMatrix,v);const He=this.width%2/2,xe=this.height%2/2,Le=Math.cos(this.angle),Ye=Math.sin(this.angle),Ke=d-Math.round(d)+Le*He+Ye*xe,st=m-Math.round(m)+Le*xe+Ye*He,xt=new Float64Array(v);if(o.$(xt,xt,[Ke>.5?Ke-1:Ke,st>.5?st-1:st,0]),this.alignedProjMatrix=xt,v=o.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new o.P(0,0)),d=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.ag(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,a))}getCameraQueryGeometry(a){const d=this.getCameraPoint();if(a.length===1)return[a[0],d];{let m=d.x,v=d.y,x=d.x,E=d.y;for(const P of a)m=Math.min(m,P.x),v=Math.min(v,P.y),x=Math.max(x,P.x),E=Math.max(E,P.y);return[new o.P(m,v),new o.P(x,v),new o.P(x,E),new o.P(m,E),new o.P(m,v)]}}}function qo(_,a){let d,m=!1,v=null,x=null;const E=()=>{v=null,m&&(_.apply(x,d),v=setTimeout(E,a),m=!1)};return(...P)=>(m=!0,x=this,d=P,v||E(),v)}class Cc{constructor(a){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(m=v)}),(m&&m[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:m,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=qo(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const d=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),x=Math.pow(10,v),E=Math.round(d.lng*x)/x,P=Math.round(d.lat*x)/x,M=this._map.getBearing(),z=this._map.getPitch();let N="";if(N+=a?`/${E}/${P}/${m}`:`${m}/${P}/${E}`,(M||z)&&(N+="/"+Math.round(10*M)/10),z&&(N+=`/${Math.round(z)}`),this._hashName){const U=this._hashName;let J=!1;const he=window.location.hash.slice(1).split("&").map(de=>{const ge=de.split("=")[0];return ge===U?(J=!0,`${ge}=${N}`):de}).filter(de=>de);return J||he.push(`${U}=${N}`),`#${he.join("&")}`}return`#${N}`}}const Dl={linearity:.3,easing:o.ba(0,0,.3,1)},Wm=o.e({deceleration:2500,maxSpeed:1400},Dl),Ym=o.e({deceleration:20,maxSpeed:1400},Dl),Zm=o.e({deceleration:1e3,maxSpeed:360},Dl),Km=o.e({deceleration:1e3,maxSpeed:90},Dl);class Xm{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.h.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,d=o.h.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:x}of this._inertiaBuffer)d.zoom+=x.zoomDelta||0,d.bearing+=x.bearingDelta||0,d.pitch+=x.pitchDelta||0,x.panDelta&&d.pan._add(x.panDelta),x.around&&(d.around=x.around),x.pinchAround&&(d.pinchAround=x.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(d.pan.mag()){const x=Tc(d.pan.mag(),m,o.e({},Wm,a||{}));v.offset=d.pan.mult(x.amount/d.pan.mag()),v.center=this._map.transform.center,us(v,x)}if(d.zoom){const x=Tc(d.zoom,m,Ym);v.zoom=this._map.transform.zoom+x.amount,us(v,x)}if(d.bearing){const x=Tc(d.bearing,m,Zm);v.bearing=this._map.transform.bearing+o.ad(x.amount,-179,179),us(v,x)}if(d.pitch){const x=Tc(d.pitch,m,Km);v.pitch=this._map.transform.pitch+x.amount,us(v,x)}if(v.zoom||v.bearing){const x=d.pinchAround===void 0?d.around:d.pinchAround;v.around=x?this._map.unproject(x):this._map.getCenter()}return this.clear(),o.e(v,{noMoveStart:!0})}}function us(_,a){(!_.duration||_.duration<a.duration)&&(_.duration=a.duration,_.easing=a.easing)}function Tc(_,a,d){const{maxSpeed:m,linearity:v,deceleration:x}=d,E=o.ad(_*v/(a/1e3),-m,m),P=Math.abs(E)/(x*v);return{easing:d.easing,duration:1e3*P,amount:E*(P/2)}}class va extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m,v={}){const x=y.mousePos(d.getCanvasContainer(),m),E=d.unproject(x);super(a,o.e({point:x,lngLat:E,originalEvent:m},v)),this._defaultPrevented=!1,this.target=d}}class Ac extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){const v=a==="touchend"?m.changedTouches:m.touches,x=y.touchPos(d.getCanvasContainer(),v),E=x.map(M=>d.unproject(M)),P=x.reduce((M,z,N,U)=>M.add(z.div(U.length)),new o.P(0,0));super(a,{points:x,point:P,lngLats:E,lngLat:d.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class Jm extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class Qm{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new Jm(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new va(a.type,this._map,a))}mouseup(a){this._map.fire(new va(a.type,this._map,a))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new va(a.type,this._map,a))}dblclick(a){return this._firePreventable(new va(a.type,this._map,a))}mouseover(a){this._map.fire(new va(a.type,this._map,a))}mouseout(a){this._map.fire(new va(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Ac(a.type,this._map,a))}touchmove(a){this._map.fire(new Ac(a.type,this._map,a))}touchend(a){this._map.fire(new Ac(a.type,this._map,a))}touchcancel(a){this._map.fire(new Ac(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ep{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new va(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new va("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new va(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Rs{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(o.P.convert(a),this._map.terrain)}}class tp{constructor(a,d){this._map=a,this._tr=new Rs(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(y.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;const m=d;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=m,this._box||(this._box=y.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const x=Math.min(v.x,m.x),E=Math.max(v.x,m.x),P=Math.min(v.y,m.y),M=Math.max(v.y,m.y);y.setTransform(this._box,`translate(${x}px,${P}px)`),this._box.style.width=E-x+"px",this._box.style.height=M-P+"px"}mouseupWindow(a,d){if(!this._active||a.button!==0)return;const m=this._startPos,v=d;if(this.reset(),y.suppressClick(),m.x!==v.x||m.y!==v.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:a})),{cameraAnimation:x=>x.fitScreenCoordinates(m,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new o.k(a,{originalEvent:d}))}}function Ia(_,a){if(_.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${a.length}`);const d={};for(let m=0;m<_.length;m++)d[_[m].identifier]=a[m];return d}class Os{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const x=new o.P(0,0);for(const E of v)x._add(E);return x.div(v.length)}(d),this.touches=Ia(m,d)))}touchmove(a,d,m){if(this.aborted||!this.centroid)return;const v=Ia(m,d);for(const x in this.touches){const E=v[x];(!E||E.dist(this.touches[x])>30)&&(this.aborted=!0)}}touchend(a,d,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class Gu{constructor(a){this.singleTap=new Os(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,d,m){this.singleTap.touchstart(a,d,m)}touchmove(a,d,m){this.singleTap.touchmove(a,d,m)}touchend(a,d,m){const v=this.singleTap.touchend(a,d,m);if(v){const x=a.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(v)<30;if(x&&E||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Fs{constructor(a){this._tr=new Rs(a),this._zoomIn=new Gu({numTouches:1,numTaps:2}),this._zoomOut=new Gu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,m){this._zoomIn.touchstart(a,d,m),this._zoomOut.touchstart(a,d,m)}touchmove(a,d,m){this._zoomIn.touchmove(a,d,m),this._zoomOut.touchmove(a,d,m)}touchend(a,d,m){const v=this._zoomIn.touchend(a,d,m),x=this._zoomOut.touchend(a,d,m),E=this._tr;return v?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(v)},{originalEvent:a})}):x?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(x)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zs{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const d=this._moveFunction(...a);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(a,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,d){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const v=d.length?d[0]:d;return!this._moved&&v.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(m,v))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&y.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const cy={0:1,2:2};class Th{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const d=y.mouseButton(a);this._eventButton=d}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(d,m){const v=cy[m];return d.buttons===void 0||(d.buttons&v)!==v}(a,this._eventButton)}isValidEndEvent(a){return y.mouseButton(a)===this._eventButton}}class np{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const Wu=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=function(a){a.preventDefault()}},Ml=({enable:_,clickTolerance:a,bearingDegreesPerPixelMoved:d=.8})=>{const m=new Th({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new zs({clickTolerance:a,move:(v,x)=>({bearingDelta:(x.x-v.x)*d}),moveStateManager:m,enable:_,assignEvents:Wu})},Bs=({enable:_,clickTolerance:a,pitchDegreesPerPixelMoved:d=-.5})=>{const m=new Th({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new zs({clickTolerance:a,move:(v,x)=>({pitchDelta:(x.y-v.y)*d}),moveStateManager:m,enable:_,assignEvents:Wu})};class Ut{constructor(a,d){this._minTouches=a.cooperativeGestures?2:1,this._clickTolerance=a.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(a,d,m){return this._calculateTransform(a,d,m)}touchmove(a,d,m){if(this._map._cooperativeGestures&&(this._minTouches===2&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(a,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return a.preventDefault(),this._calculateTransform(a,d,m)}touchend(a,d,m){this._calculateTransform(a,d,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,m){m.length>0&&(this._active=!0);const v=Ia(m,d),x=new o.P(0,0),E=new o.P(0,0);let P=0;for(const z in v){const N=v[z],U=this._touches[z];U&&(x._add(N),E._add(N.sub(U)),P++,v[z]=N)}if(this._touches=v,P<this._minTouches||!E.mag())return;const M=E.div(P);return this._sum._add(M),this._sum.mag()<this._clickTolerance?void 0:{around:x.div(P),panDelta:M}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Yu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,m){if(!this._firstTwoTouches)return;a.preventDefault();const[v,x]=this._firstTwoTouches,E=mo(m,d,v),P=mo(m,d,x);if(!E||!P)return;const M=this._aroundCenter?null:E.add(P).div(2);return this._move([E,P],M,a)}touchend(a,d,m){if(!this._firstTwoTouches)return;const[v,x]=this._firstTwoTouches,E=mo(m,d,v),P=mo(m,d,x);E&&P||(this._active&&y.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function mo(_,a,d){for(let m=0;m<_.length;m++)if(_[m].identifier===d)return a[m]}function Ll(_,a){return Math.log(_/a)/Math.LN2}class rp extends Yu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){const m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Ll(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Ll(this._distance,m),pinchAround:d}}}function Vt(_,a){return 180*_.angleWith(a)/Math.PI}class Ah extends Yu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d){const m=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Vt(this._vector,m),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const d=25/(Math.PI*this._minDiameter)*360,m=Vt(a,this._startVector);return Math.abs(m)<d}}function Eh(_){return Math.abs(_.y)>Math.abs(_.x)}class uy extends Yu{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,d,m){super.touchstart(a,d,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,Eh(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const v=a[0].sub(this._lastPoints[0]),x=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,x,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(v.y+x.y)/2*-.5}):void 0}gestureBeginsVertically(a,d,m){if(this._valid!==void 0)return this._valid;const v=a.mag()>=2,x=d.mag()>=2;if(!v&&!x)return;if(!v||!x)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const E=a.y>0==d.y>0;return Eh(a)&&Eh(d)&&E}}const Ih={panStep:100,bearingStep:15,pitchStep:10};class ip{constructor(a){this._tr=new Rs(a);const d=Ih;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,m=0,v=0,x=0,E=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),x=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),x=1);break;case 38:a.shiftKey?v=1:(a.preventDefault(),E=-1);break;case 40:a.shiftKey?v=-1:(a.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:P=>{const M=this._tr;P.easeTo({duration:300,easeId:"keyboardHandler",easing:ap,zoom:d?Math.round(M.zoom)+d*(a.shiftKey?2:1):M.zoom,bearing:M.bearing+m*this._bearingStep,pitch:M.pitch+v*this._pitchStep,offset:[-x*this._panStep,-E*this._panStep],center:M.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function ap(_){return _*(2-_)}const sp=4.000244140625;class dy{constructor(a,d){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new Rs(a),this._el=a.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!a[this._map._metaKey])return;a.preventDefault()}let d=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const m=o.h.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%sp==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(v*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=y.mousePos(this._el,a),m=this._tr;this._around=o.L.convert(this._aroundCenter?m.center:m.unproject(d)),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._tr.transform;if(this._delta!==0){const P=this._type==="wheel"&&Math.abs(this._delta)>sp?this._wheelZoomRate:this._defaultZoomRate;let M=2/(1+Math.exp(-Math.abs(this._delta*P)));this._delta<0&&M!==0&&(M=1/M);const z=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(z*M))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,v=this._easing;let x,E=!1;if(this._type==="wheel"&&m&&v){const P=Math.min((o.h.now()-this._lastWheelEventTime)/200,1),M=v(P);x=o.B.number(m,d,M),P<1?this._frameId||(this._frameId=!0):E=!0}else x=d,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:x-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=o.bb;if(this._prevEase){const m=this._prevEase,v=(o.h.now()-m.start)/m.duration,x=m.easing(v+.01)-m.easing(v),E=.27/Math.sqrt(x*x+1e-4)*.01,P=Math.sqrt(.0729-E*E);d=o.ba(E,P,.25,1)}return this._prevEase={start:o.h.now(),duration:a,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Ph{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Dh{constructor(a){this._tr=new Rs(a),this.reset()}reset(){this._active=!1}dblclick(a,d){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Mh{constructor(){this._tap=new Gu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,d,m){if(!this._swipePoint)if(this._tapTime){const v=d[0],x=a.timeStamp-this._tapTime<500,E=this._tapPoint.dist(v)<30;x&&E?m.length>0&&(this._swipePoint=v,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,d,m)}touchmove(a,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=d[0],x=v.y-this._swipePoint.y;return this._swipePoint=v,a.preventDefault(),this._active=!0,{zoomDelta:x/128}}}else this._tap.touchmove(a,d,m)}touchend(a,d,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{const v=this._tap.touchend(a,d,m);v&&(this._tapTime=a.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Lh{constructor(a,d,m){this._el=a,this._mousePan=d,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ea{constructor(a,d,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class po{constructor(a,d,m,v){this._el=a,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Ec=_=>_.zoom||_.drag||_.pitch||_.rotate;class Rh extends o.k{}function Ic(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Oh{constructor(a,d){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,x)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const E=v.type==="renderFrame"?void 0:v,P={needsRenderFrame:!1},M={},z={},N=v.touches,U=N?this._getMapTouches(N):void 0,J=U?y.touchPos(this._el,U):y.mousePos(this._el,v);for(const{handlerName:ge,handler:ce,allowed:Pe}of this._handlers){if(!ce.isEnabled())continue;let He;this._blockedByActive(z,Pe,ge)?ce.reset():ce[x||v.type]&&(He=ce[x||v.type](v,J,U),this.mergeHandlerResult(P,M,He,ge,E),He&&He.needsRenderFrame&&this._triggerRenderFrame()),(He||ce.isActive())&&(z[ge]=ce)}const he={};for(const ge in this._previousActiveHandlers)z[ge]||(he[ge]=E);this._previousActiveHandlers=z,(Object.keys(he).length||Ic(P))&&(this._changes.push([P,M,he]),this._triggerRenderFrame()),(Object.keys(z).length||Ic(P))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:de}=P;de&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],de(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Xm(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,x,E]of this._listeners)y.addEventListener(v,x,v===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[a,d,m]of this._listeners)y.removeEventListener(a,d,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){const d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new Qm(d,a));const v=d.boxZoom=new tp(d,a);this._add("boxZoom",v),a.interactive&&a.boxZoom&&v.enable();const x=new Fs(d),E=new Dh(d);d.doubleClickZoom=new Ph(E,x),this._add("tapZoom",x),this._add("clickZoom",E),a.interactive&&a.doubleClickZoom&&d.doubleClickZoom.enable();const P=new Mh;this._add("tapDragZoom",P);const M=d.touchPitch=new uy(d);this._add("touchPitch",M),a.interactive&&a.touchPitch&&d.touchPitch.enable(a.touchPitch);const z=Ml(a),N=Bs(a);d.dragRotate=new ea(a,z,N),this._add("mouseRotate",z,["mousePitch"]),this._add("mousePitch",N,["mouseRotate"]),a.interactive&&a.dragRotate&&d.dragRotate.enable();const U=(({enable:Pe,clickTolerance:He})=>{const xe=new Th({checkCorrectEvent:Le=>y.mouseButton(Le)===0&&!Le.ctrlKey});return new zs({clickTolerance:He,move:(Le,Ye)=>({around:Ye,panDelta:Ye.sub(Le)}),activateOnStart:!0,moveStateManager:xe,enable:Pe,assignEvents:Wu})})(a),J=new Ut(a,d);d.dragPan=new Lh(m,U,J),this._add("mousePan",U),this._add("touchPan",J,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&d.dragPan.enable(a.dragPan);const he=new Ah,de=new rp;d.touchZoomRotate=new po(m,de,he,P),this._add("touchRotate",he,["touchPan","touchZoom"]),this._add("touchZoom",de,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&d.touchZoomRotate.enable(a.touchZoomRotate);const ge=d.scrollZoom=new dy(d,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),a.interactive&&a.scrollZoom&&d.scrollZoom.enable(a.scrollZoom);const ce=d.keyboard=new ip(d);this._add("keyboard",ce),a.interactive&&a.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new ep(d))}_add(a,d,m){this._handlers.push({handlerName:a,handler:d,allowed:m}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Ec(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,d,m){for(const v in a)if(v!==m&&(!d||d.indexOf(v)<0))return!0;return!1}_getMapTouches(a){const d=[];for(const m of a)this._el.contains(m.target)&&d.push(m);return d}mergeHandlerResult(a,d,m,v,x){if(!m)return;o.e(a,m);const E={handlerName:v,originalEvent:m.originalEvent||x};m.zoomDelta!==void 0&&(d.zoom=E),m.panDelta!==void 0&&(d.drag=E),m.pitchDelta!==void 0&&(d.pitch=E),m.bearingDelta!==void 0&&(d.rotate=E)}_applyChanges(){const a={},d={},m={};for(const[v,x,E]of this._changes)v.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(v.panDelta)),v.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(a.around=v.around),v.pinchAround!==void 0&&(a.pinchAround=v.pinchAround),v.noInertia&&(a.noInertia=v.noInertia),o.e(d,x),o.e(m,E);this._updateMapTransform(a,d,m),this._changes=[]}_updateMapTransform(a,d,m){const v=this._map,x=v._getTransformForUpdate(),E=v.terrain;if(!(Ic(a)||E&&this._terrainMovement))return this._fireEvents(d,m,!0);let{panDelta:P,zoomDelta:M,bearingDelta:z,pitchDelta:N,around:U,pinchAround:J}=a;J!==void 0&&(U=J),v._stop(!0),U=U||v.transform.centerPoint;const he=x.pointLocation(P?U.sub(P):U);z&&(x.bearing+=z),N&&(x.pitch+=N),M&&(x.zoom+=M),E?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?x.center=x.pointLocation(x.centerPoint.sub(P)):x.setLocationAtPoint(he,U):(this._terrainMovement=!0,this._map._elevationFreeze=!0,x.setLocationAtPoint(he,U),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,x.recalculateZoom(v.terrain)})):x.setLocationAtPoint(he,U),v._applyUpdatedTransform(x),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,m,!0)}_fireEvents(a,d,m){const v=Ec(this._eventsInProgress),x=Ec(a),E={};for(const N in a){const{originalEvent:U}=a[N];this._eventsInProgress[N]||(E[`${N}start`]=U),this._eventsInProgress[N]=a[N]}!v&&x&&this._fireEvent("movestart",x.originalEvent);for(const N in E)this._fireEvent(N,E[N]);x&&this._fireEvent("move",x.originalEvent);for(const N in a){const{originalEvent:U}=a[N];this._fireEvent(N,U)}const P={};let M;for(const N in this._eventsInProgress){const{handlerName:U,originalEvent:J}=this._eventsInProgress[N];this._handlersById[U].isActive()||(delete this._eventsInProgress[N],M=d[U]||J,P[`${N}end`]=M)}for(const N in P)this._fireEvent(N,P[N]);const z=Ec(this._eventsInProgress);if(m&&(v||x)&&!z){this._updatingCamera=!0;const N=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),U=J=>J!==0&&-this._bearingSnap<J&&J<this._bearingSnap;!N||!N.essential&&o.h.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:M})),U(this._map.getBearing())&&this._map.resetNorth()):(U(N.bearing||this._map.getBearing())&&(N.bearing=0),N.freezeElevation=!0,this._map.easeTo(N,{originalEvent:M})),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new o.k(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Rh("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class op extends o.E{constructor(a,d){super(),this._renderFrameCallback=()=>{const m=Math.min((o.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.L(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},d),m)}panTo(a,d,m){return this.easeTo(o.e({center:a},d),m)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,m){return this.easeTo(o.e({zoom:a},d),m)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,m){return this.easeTo(o.e({bearing:a},d),m)}resetNorth(a,d){return this.rotateTo(0,o.e({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=pt.convert(a);const m=d&&d.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,d)}_cameraForBoxAndBearing(a,d,m,v){const x={top:0,bottom:0,right:0,left:0};if(typeof(v=o.e({padding:x,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Ye=v.padding;v.padding={top:Ye,bottom:Ye,right:Ye,left:Ye}}v.padding=o.e(x,v.padding);const E=this.transform,P=E.padding,M=E.project(o.L.convert(a)),z=E.project(o.L.convert(d)),N=M.rotate(-m*Math.PI/180),U=z.rotate(-m*Math.PI/180),J=new o.P(Math.max(N.x,U.x),Math.max(N.y,U.y)),he=new o.P(Math.min(N.x,U.x),Math.min(N.y,U.y)),de=J.sub(he),ge=(E.width-(P.left+P.right+v.padding.left+v.padding.right))/de.x,ce=(E.height-(P.top+P.bottom+v.padding.top+v.padding.bottom))/de.y;if(ce<0||ge<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Pe=Math.min(E.scaleZoom(E.scale*Math.min(ge,ce)),v.maxZoom),He=o.P.convert(v.offset),xe=new o.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(m*Math.PI/180),Le=He.add(xe).mult(E.scale/E.zoomScale(Pe));return{center:E.unproject(M.add(z).div(2).sub(Le)),zoom:Pe,bearing:m}}fitBounds(a,d,m){return this._fitInternal(this.cameraForBounds(a,d),d,m)}fitScreenCoordinates(a,d,m,v,x){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(a)),this.transform.pointLocation(o.P.convert(d)),m,v),v,x)}_fitInternal(a,d,m){return a?(delete(d=o.e(a,d)).padding,d.linear?this.easeTo(d,m):this.flyTo(d,m)):this}jumpTo(a,d){this.stop();const m=this._getTransformForUpdate();let v=!1,x=!1,E=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(v=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=o.L.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(x=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(E=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this._applyUpdatedTransform(m),this.fire(new o.k("movestart",d)).fire(new o.k("move",d)),v&&this.fire(new o.k("zoomstart",d)).fire(new o.k("zoom",d)).fire(new o.k("zoomend",d)),x&&this.fire(new o.k("rotatestart",d)).fire(new o.k("rotate",d)).fire(new o.k("rotateend",d)),E&&this.fire(new o.k("pitchstart",d)).fire(new o.k("pitch",d)).fire(new o.k("pitchend",d)),this.fire(new o.k("moveend",d))}calculateCameraOptionsFromTo(a,d,m,v=0){const x=o.U.fromLngLat(a,d),E=o.U.fromLngLat(m,v),P=E.x-x.x,M=E.y-x.y,z=E.z-x.z,N=Math.hypot(P,M,z);if(N===0)throw new Error("Can't calculate camera options with same From and To");const U=Math.hypot(P,M),J=this.transform.scaleZoom(this.transform.cameraToCenterDistance/N/this.transform.tileSize),he=180*Math.atan2(P,-M)/Math.PI;let de=180*Math.acos(U/N)/Math.PI;return de=z<0?90-de:90+de,{center:E.toLngLat(),zoom:J,pitch:de,bearing:he}}easeTo(a,d){this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.bb},a)).animate===!1||!a.essential&&o.h.prefersReducedMotion)&&(a.duration=0);const m=this._getTransformForUpdate(),v=this.getZoom(),x=this.getBearing(),E=this.getPitch(),P=this.getPadding(),M="zoom"in a?+a.zoom:v,z="bearing"in a?this._normalizeBearing(a.bearing,x):x,N="pitch"in a?+a.pitch:E,U="padding"in a?a.padding:m.padding,J=o.P.convert(a.offset);let he=m.centerPoint.add(J);const de=m.pointLocation(he),ge=o.L.convert(a.center||de);this._normalizeCenter(ge);const ce=m.project(de),Pe=m.project(ge).sub(ce),He=m.zoomScale(M-v);let xe,Le;a.around&&(xe=o.L.convert(a.around),Le=m.locationPoint(xe));const Ye={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||M!==v,this._rotating=this._rotating||x!==z,this._pitching=this._pitching||N!==E,this._padding=!m.isPaddingEqual(U),this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,Ye),this.terrain&&this._prepareElevation(ge),this._ease(Ke=>{if(this._zooming&&(m.zoom=o.B.number(v,M,Ke)),this._rotating&&(m.bearing=o.B.number(x,z,Ke)),this._pitching&&(m.pitch=o.B.number(E,N,Ke)),this._padding&&(m.interpolatePadding(P,U,Ke),he=m.centerPoint.add(J)),this.terrain&&!a.freezeElevation&&this._updateElevation(Ke),xe)m.setLocationAtPoint(xe,Le);else{const st=m.zoomScale(m.zoom-v),xt=M>v?Math.min(2,He):Math.max(.5,He),mt=Math.pow(xt,1-Ke),Et=m.unproject(ce.add(Pe.mult(Ke*mt)).mult(st));m.setLocationAtPoint(m.renderWorldCopies?Et.wrap():Et,he)}this._applyUpdatedTransform(m),this._fireMoveEvents(d)},Ke=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Ke)},a),this}_prepareEase(a,d,m={}){this._moving=!0,d||m.moving||this.fire(new o.k("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.k("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.k("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&d!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(d-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=d}this.transform.elevation=o.B.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(a){if(!this.transformCameraUpdate)return;const d=a.clone(),{center:m,zoom:v,pitch:x,bearing:E,elevation:P}=this.transformCameraUpdate(d);m&&(d.center=m),v!==void 0&&(d.zoom=v),x!==void 0&&(d.pitch=x),E!==void 0&&(d.bearing=E),P!==void 0&&(d.elevation=P),this.transform.apply(d)}_fireMoveEvents(a){this.fire(new o.k("move",a)),this._zooming&&this.fire(new o.k("zoom",a)),this._rotating&&this.fire(new o.k("rotate",a)),this._pitching&&this.fire(new o.k("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const m=this._zooming,v=this._rotating,x=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new o.k("zoomend",a)),v&&this.fire(new o.k("rotateend",a)),x&&this.fire(new o.k("pitchend",a)),this.fire(new o.k("moveend",a))}flyTo(a,d){if(!a.essential&&o.h.prefersReducedMotion){const Kt=o.F(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Kt,d)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.bb},a);const m=this._getTransformForUpdate(),v=this.getZoom(),x=this.getBearing(),E=this.getPitch(),P=this.getPadding(),M="zoom"in a?o.ad(+a.zoom,m.minZoom,m.maxZoom):v,z="bearing"in a?this._normalizeBearing(a.bearing,x):x,N="pitch"in a?+a.pitch:E,U="padding"in a?a.padding:m.padding,J=m.zoomScale(M-v),he=o.P.convert(a.offset);let de=m.centerPoint.add(he);const ge=m.pointLocation(de),ce=o.L.convert(a.center||ge);this._normalizeCenter(ce);const Pe=m.project(ge),He=m.project(ce).sub(Pe);let xe=a.curve;const Le=Math.max(m.width,m.height),Ye=Le/J,Ke=He.mag();if("minZoom"in a){const Kt=o.ad(Math.min(a.minZoom,v,M),m.minZoom,m.maxZoom),tr=Le/m.zoomScale(Kt-v);xe=Math.sqrt(tr/Ke*2)}const st=xe*xe;function xt(Kt){const tr=(Ye*Ye-Le*Le+(Kt?-1:1)*st*st*Ke*Ke)/(2*(Kt?Ye:Le)*st*Ke);return Math.log(Math.sqrt(tr*tr+1)-tr)}function mt(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function Et(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}const Yt=xt(!1);let Pn=function(Kt){return Et(Yt)/Et(Yt+xe*Kt)},Ot=function(Kt){return Le*((Et(Yt)*(mt(tr=Yt+xe*Kt)/Et(tr))-mt(Yt))/st)/Ke;var tr},cn=(xt(!0)-Yt)/xe;if(Math.abs(Ke)<1e-6||!isFinite(cn)){if(Math.abs(Le-Ye)<1e-6)return this.easeTo(a,d);const Kt=Ye<Le?-1:1;cn=Math.abs(Math.log(Ye/Le))/xe,Ot=function(){return 0},Pn=function(tr){return Math.exp(Kt*xe*tr)}}return a.duration="duration"in a?+a.duration:1e3*cn/("screenSpeed"in a?+a.screenSpeed/xe:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=x!==z,this._pitching=N!==E,this._padding=!m.isPaddingEqual(U),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ce),this._ease(Kt=>{const tr=Kt*cn,In=1/Pn(tr);m.zoom=Kt===1?M:v+m.scaleZoom(In),this._rotating&&(m.bearing=o.B.number(x,z,Kt)),this._pitching&&(m.pitch=o.B.number(E,N,Kt)),this._padding&&(m.interpolatePadding(P,U,Kt),de=m.centerPoint.add(he)),this.terrain&&!a.freezeElevation&&this._updateElevation(Kt);const Sn=Kt===1?ce:m.unproject(Pe.add(He.mult(Ot(tr))).mult(In));m.setLocationAtPoint(m.renderWorldCopies?Sn.wrap():Sn,de),this._applyUpdatedTransform(m),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,d)}if(!a){const m=this.handlers;m&&m.stop(!1)}return this}_ease(a,d,m){m.animate===!1||m.duration===0?(a(1),d()):(this._easeStart=o.h.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,d){a=o.b5(a,-180,180);const m=Math.abs(a-d);return Math.abs(a-360-d)<m&&(a-=360),Math.abs(a+360-d)<m&&(a+=360),a}_normalizeCenter(a){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const m=a.lng-d.center.lng;a.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.L.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}class ya{constructor(a={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=y.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,d){const m=this._map._getUIString(`AttributionControl.${d}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(v=>typeof v!="string"?"":v)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const d=this._map.style.sourceCaches;for(const v in d){const x=d[v];if(x.used||x.usedForTerrain){const E=x.getSource();E.attribution&&a.indexOf(E.attribution)<0&&a.push(E.attribution)}}a=a.filter(v=>String(v).trim()),a.sort((v,x)=>v.length-x.length),a=a.filter((v,x)=>{for(let E=x+1;E<a.length;E++)if(a[E].indexOf(v)>=0)return!1;return!0});const m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class _r{constructor(a={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const m=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("div","maplibregl-ctrl");const d=y.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){y.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Zu{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){const d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(const v of m)if(v.id===a)return void(v.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const m of d)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Fh={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var lp=o.Q([{name:"a_pos3d",type:"Int16",components:3}]);class cp extends o.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,d){this.sourceCache.update(a,d),this._renderableTilesKeys=[];const m={};for(const v of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))m[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),o.aS(v.posMatrix,0,o.N,0,o.N,0,1),this._tiles[v.key]=new nt(v,this.tileSize));for(const v in this._tiles)m[v]||delete this._tiles[v]}freeRtt(a){for(const d in this._tiles){const m=this._tiles[d];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const d={};for(const m of this._renderableTilesKeys){const v=this._tiles[m].tileID;if(v.canonical.equals(a.canonical)){const x=a.clone();x.posMatrix=new Float64Array(16),o.aS(x.posMatrix,0,o.N,0,o.N,0,1),d[m]=x}else if(v.canonical.isChildOf(a.canonical)){const x=a.clone();x.posMatrix=new Float64Array(16);const E=v.canonical.z-a.canonical.z,P=v.canonical.x-(v.canonical.x>>E<<E),M=v.canonical.y-(v.canonical.y>>E<<E),z=o.N>>E;o.aS(x.posMatrix,0,z,0,z,0,1),o.$(x.posMatrix,x.posMatrix,[-P*z,-M*z,0]),d[m]=x}else if(a.canonical.isChildOf(v.canonical)){const x=a.clone();x.posMatrix=new Float64Array(16);const E=a.canonical.z-v.canonical.z,P=a.canonical.x-(a.canonical.x>>E<<E),M=a.canonical.y-(a.canonical.y>>E<<E),z=o.N>>E;o.aS(x.posMatrix,0,o.N,0,o.N,0,1),o.$(x.posMatrix,x.posMatrix,[P*z,M*z,0]),o.a0(x.posMatrix,x.posMatrix,[1/2**E,1/2**E,0]),d[m]=x}}return d}getSourceTile(a,d){const m=this.sourceCache._source;let v=a.overscaledZ-this.deltaZoom;if(v>m.maxzoom&&(v=m.maxzoom),v<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(v).key);let x=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!x||!x.dem)&&d)for(;v>=m.minzoom&&(!x||!x.dem);)x=this.sourceCache.getTileByID(a.scaledTo(v--).key);return x}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=a)}}class up{constructor(a,d,m){this.painter=a,this.sourceCache=new cp(d),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,d,m,v=o.N){var x;if(!(d>=0&&d<v&&m>=0&&m<v))return 0;const E=this.getTerrainData(a),P=(x=E.tile)===null||x===void 0?void 0:x.dem;if(!P)return 0;const M=function(de,ge,ce){var Pe=ge[0],He=ge[1];return de[0]=ce[0]*Pe+ce[4]*He+ce[12],de[1]=ce[1]*Pe+ce[5]*He+ce[13],de}([],[d/v*o.N,m/v*o.N],E.u_terrain_matrix),z=[M[0]*P.dim,M[1]*P.dim],N=Math.floor(z[0]),U=Math.floor(z[1]),J=z[0]-N,he=z[1]-U;return P.get(N,U)*(1-J)*(1-he)+P.get(N+1,U)*J*(1-he)+P.get(N,U+1)*(1-J)*he+P.get(N+1,U+1)*J*he}getElevationForLngLatZoom(a,d){const{tileID:m,mercatorX:v,mercatorY:x}=this._getOverscaledTileIDFromLngLatZoom(a,d);return this.getElevation(m,v%o.N,x%o.N,o.N)}getElevation(a,d,m,v=o.N){return this.getDEMElevation(a,d,m,v)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const v=this.painter.context,x=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new K(v,x,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new K(v,new o.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ao([])}const d=this.sourceCache.getSourceTile(a,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const v=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new K(v,d.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),d.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const m=d&&d+d.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){const v=this.sourceCache.sourceCache._source.maxzoom;let x=a.canonical.z-d.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=v?x=a.canonical.z-v:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const E=a.canonical.x-(a.canonical.x>>x<<x),P=a.canonical.y-(a.canonical.y>>x<<x),M=o.bc(new Float64Array(16),[1/(o.N<<x),1/(o.N<<x),0]);o.$(M,M,[E*o.N,P*o.N,0]),this._demMatrixCache[a.key]={matrix:M,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(a){const d=this.painter,m=d.width/devicePixelRatio,v=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new K(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new K(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(m,v,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,m,v))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let x=0,E=0;x<this._coordsTextureSize;x++)for(let P=0;P<this._coordsTextureSize;P++,E+=4)d[E+0]=255&P,d[E+1]=255&x,d[E+2]=P>>8<<4|x>>8,d[E+3]=0;const m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),v=new K(a,m,a.gl.RGBA,{premultiply:!1});return v.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(a){const d=new Uint8Array(4),m=this.painter.context,v=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null);const x=d[0]+(d[2]>>4<<8),E=d[1]+((15&d[2])<<8),P=this.coordsIndex[255-d[3]],M=P&&this.sourceCache.getTileByID(P);if(!M)return null;const z=this._coordsTextureSize,N=(1<<M.tileID.canonical.z)*z;return new o.U(this._allowMercatorOverflow(a,(M.tileID.canonical.x*z+x)/N),(M.tileID.canonical.y*z+E)/N,this.getElevation(M.tileID,x,E,z))}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,d=new o.bd,m=new o.b0,v=this.meshSize,x=o.N/v,E=v*v;for(let U=0;U<=v;U++)for(let J=0;J<=v;J++)d.emplaceBack(J*x,U*x,0);for(let U=0;U<E;U+=v+1)for(let J=0;J<v;J++)m.emplaceBack(J+U,v+J+U+1,v+J+U+2),m.emplaceBack(J+U,v+J+U+2,J+U+1);const P=d.length,M=P+2*(v+1);for(const U of[0,1])for(let J=0;J<=v;J++)for(const he of[0,1])d.emplaceBack(J*x,U*o.N,he);for(let U=0;U<2*v;U+=2)m.emplaceBack(M+U,M+U+1,M+U+3),m.emplaceBack(M+U,M+U+3,M+U+2),m.emplaceBack(P+U,P+U+3,P+U+1),m.emplaceBack(P+U,P+U+2,P+U+3);const z=d.length,N=z+2*(v+1);for(const U of[0,1])for(let J=0;J<=v;J++)for(const he of[0,1])d.emplaceBack(U*o.N,J*x,he);for(let U=0;U<2*v;U+=2)m.emplaceBack(z+U,z+U+1,z+U+3),m.emplaceBack(z+U,z+U+3,z+U+2),m.emplaceBack(N+U,N+U+3,N+U+1),m.emplaceBack(N+U,N+U+2,N+U+3);return this._mesh={indexBuffer:a.createIndexBuffer(m),vertexBuffer:a.createVertexBuffer(d,lp.members),segments:o.S.simpleSegment(0,0,d.length,m.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*o.be/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,d){var m;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(a,d);return(m=this.getMinMaxElevation(v).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){const d=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return d&&d.dem&&(m.minElevation=d.dem.min*this.exaggeration,m.maxElevation=d.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,d){const m=o.U.fromLngLat(a.wrap()),v=(1<<d)*o.N,x=m.x*v,E=m.y*v,P=Math.floor(x/o.N),M=Math.floor(E/o.N);return{tileID:new o.O(d,0,d,P,M),mercatorX:x,mercatorY:E}}_allowMercatorOverflow(a,d){const m=a.x<this.painter.width/2;let v=o.bf(d);const x=this.painter.transform.center.lng;return m&&Math.sign(v)>0&&Math.sign(x)<0||!m&&Math.sign(v)<0&&Math.sign(x)>0?(v=360*Math.sign(x)+v,o.G(v)):d}}class hy{constructor(a,d,m){this._context=a,this._size=d,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new K(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(m.texture),{id:a,fbo:d,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>a.id!==d),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const Ui={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Ku{constructor(a,d){this.painter=a,this.terrain=d,this.pool=new hy(a.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(d)),this._coordsDescendingInv={};for(const m in a.sourceCaches){this._coordsDescendingInv[m]={};const v=a.sourceCaches[m].getVisibleCoordinates();for(const x of v){const E=this.terrain.sourceCache.getTerrainCoords(x);for(const P in E)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(E[P])}}this._coordsDescendingInvStr={};for(const m of a._order){const v=a._layers[m],x=v.source;if(Ui[v.type]&&!this._coordsDescendingInvStr[x]){this._coordsDescendingInvStr[x]={};for(const E in this._coordsDescendingInv[x])this._coordsDescendingInvStr[x][E]=this._coordsDescendingInv[x][E].map(P=>P.key).sort().join()}}for(const m of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const x=this._coordsDescendingInvStr[v][m.tileID.key];x&&x!==m.rttCoords[v]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const d=a.type,m=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(Ui[d]&&(this._prevType&&Ui[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(a.id),!v))return!0;if(Ui[this._prevType]||Ui[d]&&v){this._prevType=d;const x=this._stacks.length-1,E=this._stacks[x]||[];for(const P of this._renderableTiles){if(this.pool.isFull()&&(Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(P),P.rtt[x]){const z=this.pool.getObjectForId(P.rtt[x].id);if(z.stamp===P.rtt[x].stamp){this.pool.useObject(z);continue}}const M=this.pool.getOrCreateFreeObject();this.pool.useObject(M),this.pool.stampObject(M),P.rtt[x]={id:M.id,stamp:M.stamp},m.context.bindFramebuffer.set(M.fbo.framebuffer),m.context.clear({color:o.aT.transparent,stencil:0}),m.currentStencilSource=void 0;for(let z=0;z<E.length;z++){const N=m.style._layers[E[z]],U=N.source?this._coordsDescendingInv[N.source][P.tileID.key]:[P.tileID];m.context.viewport.set([0,0,M.fbo.width,M.fbo.height]),m._renderTileClippingMasks(N,U),m.renderLayer(m,m.style.sourceCaches[N.source],N,U),N.source&&(P.rttCoords[N.source]=this._coordsDescendingInvStr[N.source][P.tileID.key])}}return Fr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),Ui[d]}return!1}}const Qt=g,ln={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Pc=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},zh={showCompass:!0,showZoom:!0,visualizePitch:!1};class Bh{constructor(a,d,m=!1){this.mousedown=E=>{this.startMouse(o.e({},E,{ctrlKey:!0,preventDefault:()=>E.preventDefault()}),y.mousePos(this.element,E)),y.addEventListener(window,"mousemove",this.mousemove),y.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=E=>{this.moveMouse(E,y.mousePos(this.element,E))},this.mouseup=E=>{this.mouseRotate.dragEnd(E),this.mousePitch&&this.mousePitch.dragEnd(E),this.offTemp()},this.touchstart=E=>{E.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.startTouch(E,this._startPos),y.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.addEventListener(window,"touchend",this.touchend))},this.touchmove=E=>{E.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.moveTouch(E,this._lastPos))},this.touchend=E=>{E.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=a.dragRotate._mouseRotate.getClickTolerance(),x=a.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=Ml({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:E,clickTolerance:P,bearingDegreesPerPixelMoved:M=.8})=>{const z=new np;return new zs({clickTolerance:P,move:(N,U)=>({bearingDelta:(U.x-N.x)*M}),moveStateManager:z,enable:E,assignEvents:Pc})})({clickTolerance:v,enable:!0}),this.map=a,m&&(this.mousePitch=Bs({clickTolerance:x,enable:!0}),this.touchPitch=(({enable:E,clickTolerance:P,pitchDegreesPerPixelMoved:M=-.5})=>{const z=new np;return new zs({clickTolerance:P,move:(N,U)=>({pitchDelta:(U.y-N.y)*M}),moveStateManager:z,enable:E,assignEvents:Pc})})({clickTolerance:x,enable:!0})),y.addEventListener(d,"mousedown",this.mousedown),y.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(d,"touchcancel",this.reset)}startMouse(a,d){this.mouseRotate.dragStart(a,d),this.mousePitch&&this.mousePitch.dragStart(a,d),y.disableDrag()}startTouch(a,d){this.touchRotate.dragStart(a,d),this.touchPitch&&this.touchPitch.dragStart(a,d),y.disableDrag()}moveMouse(a,d){const m=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.mousePitch){const{pitchDelta:x}=this.mousePitch.dragMove(a,d)||{};x&&m.setPitch(m.getPitch()+x)}}moveTouch(a,d){const m=this.map,{bearingDelta:v}=this.touchRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.touchPitch){const{pitchDelta:x}=this.touchPitch.dragMove(a,d)||{};x&&m.setPitch(m.getPitch()+x)}}off(){const a=this.element;y.removeEventListener(a,"mousedown",this.mousedown),y.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend),y.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){y.enableDrag(),y.removeEventListener(window,"mousemove",this.mousemove),y.removeEventListener(window,"mouseup",this.mouseup),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend)}}let Zr;function Vh(_,a,d){if(_=new o.L(_.lng,_.lat),a){const m=new o.L(_.lng-360,_.lat),v=new o.L(_.lng+360,_.lat),x=d.locationPoint(_).distSqr(a);d.locationPoint(m).distSqr(a)<x?_=m:d.locationPoint(v).distSqr(a)<x&&(_=v)}for(;Math.abs(_.lng-d.center.lng)>180;){const m=d.locationPoint(_);if(m.x>=0&&m.y>=0&&m.x<=d.width&&m.y<=d.height)break;_.lng>d.center.lng?_.lng-=360:_.lng+=360}return _}const Pa={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function dp(_,a,d){const m=_.classList;for(const v in Pa)m.remove(`maplibregl-${d}-anchor-${v}`);m.add(`maplibregl-${d}-anchor-${a}`)}class jo extends o.E{constructor(a){if(super(),this._onKeyPress=d=>{const m=d.code,v=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=d=>{const m=d.originalEvent.target,v=this._element;this._popup&&(m===v||v.contains(m))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const m=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!m)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Vh(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let v="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?v=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let x="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?x="rotateX(0deg)":this._pitchAlignment==="map"&&(x=`rotateX(${this._map.getPitch()}deg)`),d&&d.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,`${Pa[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${x} ${v}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const E=this._map.unproject(this._pos),P=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=E.distanceTo(this._lngLat)>20*P?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");const d=y.createNS("http://www.w3.org/2000/svg","svg"),m=41,v=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${m}px`),d.setAttributeNS(null,"width",`${v}px`),d.setAttributeNS(null,"viewBox",`0 0 ${v} ${m}`);const x=y.createNS("http://www.w3.org/2000/svg","g");x.setAttributeNS(null,"stroke","none"),x.setAttributeNS(null,"stroke-width","1"),x.setAttributeNS(null,"fill","none"),x.setAttributeNS(null,"fill-rule","evenodd");const E=y.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");const P=y.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"transform","translate(3.0, 29.0)"),P.setAttributeNS(null,"fill","#000000");const M=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const Pe of M){const He=y.createNS("http://www.w3.org/2000/svg","ellipse");He.setAttributeNS(null,"opacity","0.04"),He.setAttributeNS(null,"cx","10.5"),He.setAttributeNS(null,"cy","5.80029008"),He.setAttributeNS(null,"rx",Pe.rx),He.setAttributeNS(null,"ry",Pe.ry),P.appendChild(He)}const z=y.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const N=y.createNS("http://www.w3.org/2000/svg","path");N.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(N);const U=y.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"opacity","0.25"),U.setAttributeNS(null,"fill","#000000");const J=y.createNS("http://www.w3.org/2000/svg","path");J.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),U.appendChild(J);const he=y.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(6.0, 7.0)"),he.setAttributeNS(null,"fill","#FFFFFF");const de=y.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ge=y.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");const ce=y.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#FFFFFF"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962"),de.appendChild(ge),de.appendChild(ce),E.appendChild(P),E.appendChild(z),E.appendChild(U),E.appendChild(he),E.appendChild(de),d.appendChild(E),d.setAttributeNS(null,"height",m*this._scale+"px"),d.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),dp(this._element,this._anchor,"marker"),a&&a.className)for(const d of a.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(a){return this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.L.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const v=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?a.remove():a.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const zr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Pr=0,Rl=!1;const Dc={maxWidth:100,unit:"metric"};function Mc(_,a,d){const m=d&&d.maxWidth||100,v=_._container.clientHeight/2,x=_.unproject([0,v]),E=_.unproject([m,v]),P=x.distanceTo(E);if(d&&d.unit==="imperial"){const M=3.2808*P;M>5280?Ho(a,m,M/5280,_._getUIString("ScaleControl.Miles")):Ho(a,m,M,_._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Ho(a,m,P/1852,_._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Ho(a,m,P/1e3,_._getUIString("ScaleControl.Kilometers")):Ho(a,m,P,_._getUIString("ScaleControl.Meters"))}function Ho(_,a,d,m){const v=function(x){const E=Math.pow(10,`${Math.floor(x)}`.length-1);let P=x/E;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(M){const z=Math.pow(10,Math.ceil(-Math.log(M)/Math.LN10));return Math.round(M*z)/z}(P),E*P}(d);_.style.width=a*(v/d)+"px",_.innerHTML=`${v}&nbsp;${m}`}const Nh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},$h=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ol(_){if(_){if(typeof _=="number"){const a=Math.round(Math.abs(_)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,_),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-_),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(_,0),right:new o.P(-_,0)}}if(_ instanceof o.P||Array.isArray(_)){const a=o.P.convert(_);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(_.center||[0,0]),top:o.P.convert(_.top||[0,0]),"top-left":o.P.convert(_["top-left"]||[0,0]),"top-right":o.P.convert(_["top-right"]||[0,0]),bottom:o.P.convert(_.bottom||[0,0]),"bottom-left":o.P.convert(_["bottom-left"]||[0,0]),"bottom-right":o.P.convert(_["bottom-right"]||[0,0]),left:o.P.convert(_.left||[0,0]),right:o.P.convert(_.right||[0,0])}}return Ol(new o.P(0,0))}const Uh={extend:(_,...a)=>o.e(_,...a),run(_){_()},logToElement(_,a=!1,d="log"){const m=window.document.getElementById(d);m&&(a&&(m.innerHTML=""),m.innerHTML+=`<br>${_}`)}},qh=g;class Wn{static get version(){return qh}static get workerCount(){return Pt.workerCount}static set workerCount(a){Pt.workerCount=a}static get maxParallelImageRequests(){return o.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(a){o.c.MAX_PARALLEL_IMAGE_REQUESTS=a}static get workerUrl(){return o.c.WORKER_URL}static set workerUrl(a){o.c.WORKER_URL=a}static addProtocol(a,d){o.c.REGISTERED_PROTOCOLS[a]=d}static removeProtocol(a){delete o.c.REGISTERED_PROTOCOLS[a]}}return Wn.Map=class extends op{constructor(_){if(o.bg.mark(o.bh.create),(_=o.e({},ln,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Hu(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),{bearingSnap:_.bearingSnap}),this._cooperativeGesturesOnWheel=a=>{this._onCooperativeGesture(a,a[this._metaKey],1)},this._contextLost=a=>{a.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.k("webglcontextlost",{originalEvent:a}))},this._contextRestored=a=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:a}))},this._onMapScroll=a=>{if(a.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._cooperativeGestures=_.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new Zu,this._controls=[],this._mapId=o.a2(),this._locale=o.e({},Fh,_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this._imageQueueHandle=R.addThrottleControl(()=>this.isMoving()),this._requestManager=new j(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let a=!1;const d=qo(m=>{this._trackResize&&!this._removed&&this.resize(m)._update()},50);this._resizeObserver=new ResizeObserver(m=>{a?d(m):a=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Oh(this,_),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=_.hash&&new Cc(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,o.e({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new ya({customAttribution:_.customAttribution})),_.maplibreLogo&&this.addControl(new _r,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new o.k(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new o.k(`${a.dataType}dataloading`,a))}),this.on("dataabort",a=>{this.fire(new o.k("sourcedataabort",a))})}_getMapId(){return this._mapId}addControl(_,a){if(a===void 0&&(a=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=_.onAdd(this);this._controls.push(_);const m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(_);return a>-1&&this._controls.splice(a,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,a,d,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,a,d,m)}resize(_){var a;const d=this._containerDimensions(),m=d[0],v=d[1],x=this._getClampedPixelRatio(m,v);if(this._resizeCanvas(m,v,x),this.painter.resize(m,v,x),this.painter.overLimit()){const P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];const M=this._getClampedPixelRatio(m,v);this._resizeCanvas(m,v,M),this.painter.resize(m,v,M)}this.transform.resize(m,v),(a=this._requestedCameraState)===null||a===void 0||a.resize(m,v);const E=!this._moving;return E&&(this.stop(),this.fire(new o.k("movestart",_)).fire(new o.k("move",_))),this.fire(new o.k("resize",_)),E&&this.fire(new o.k("moveend",_)),this}_getClampedPixelRatio(_,a){const{0:d,1:m}=this._maxCanvasSize,v=this.getPixelRatio(),x=_*v,E=a*v;return Math.min(x>d?d/x:1,E>m?m/E:1)*v}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(pt.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(_){return this._cooperativeGestures=_,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(_){return this.transform.locationPoint(o.L.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(o.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,a,d){if(_==="mouseenter"||_==="mouseover"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:x=>{const E=this.getLayer(a)?this.queryRenderedFeatures(x.point,{layers:[a]}):[];E.length?m||(m=!0,d.call(this,new va(_,this,x.originalEvent,{features:E}))):m=!1},mouseout:()=>{m=!1}}}}if(_==="mouseleave"||_==="mouseout"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:E=>{(this.getLayer(a)?this.queryRenderedFeatures(E.point,{layers:[a]}):[]).length?m=!0:m&&(m=!1,d.call(this,new va(_,this,E.originalEvent)))},mouseout:E=>{m&&(m=!1,d.call(this,new va(_,this,E.originalEvent)))}}}}{const m=v=>{const x=this.getLayer(a)?this.queryRenderedFeatures(v.point,{layers:[a]}):[];x.length&&(v.features=x,d.call(this,v),delete v.features)};return{layer:a,listener:d,delegates:{[_]:m}}}}on(_,a,d){if(d===void 0)return super.on(_,a);const m=this._createDelegatedListener(_,a,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(_,a,d){if(d===void 0)return super.once(_,a);const m=this._createDelegatedListener(_,a,d);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(_,a,d){return d===void 0?super.off(_,a):(this._delegatedListeners&&this._delegatedListeners[_]&&(m=>{const v=this._delegatedListeners[_];for(let x=0;x<v.length;x++){const E=v[x];if(E.layer===a&&E.listener===d){for(const P in E.delegates)this.off(P,E.delegates[P]);return v.splice(x,1),this}}})(),this)}queryRenderedFeatures(_,a){if(!this.style)return[];let d;const m=_ instanceof o.P||Array.isArray(_),v=m?_:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:_)||{},v instanceof o.P||typeof v[0]=="number")d=[o.P.convert(v)];else{const x=o.P.convert(v[0]),E=o.P.convert(v[1]);d=[x,new o.P(E.x,x.y),E,new o.P(x.x,E.y),x]}return this.style.queryRenderedFeatures(d,a,this.transform)}querySourceFeatures(_,a){return this.style.querySourceFeatures(_,a)}setStyle(_,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(_,a))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const a=this._locale[_];if(a==null)throw new Error(`Missing UI string '${_}'`);return a}_updateStyle(_,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(_,a));const d=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new Si(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,a,d):this.style.loadJSON(_,a,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Si(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,a){if(typeof _=="string"){const d=this._requestManager.transformRequest(_,B.Style);o.f(d,(m,v)=>{m?this.fire(new o.j(m)):v&&this._updateDiff(v,a)})}else typeof _=="object"&&this._updateDiff(_,a)}_updateDiff(_,a){try{this.style.setState(_,a)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(_,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(_,a){return this._lazyInitEmptyStyle(),this.style.addSource(_,a),this._update(!0)}isSourceLoaded(_){const a=this.style&&this.style.sourceCaches[_];if(a!==void 0)return a.loaded();this.fire(new o.j(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const a=this.style.sourceCaches[_.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);for(const d in this.style._layers){const m=this.style._layers[d];m.type==="hillshade"&&m.source===_.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new up(this.painter,a,_),this.painter.renderToTexture=new Ku(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==_.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:_})),this}getTerrain(){var _,a;return(a=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&a!==void 0?a:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const a in _){const d=_[a]._tiles;for(const m in d){const v=d[m];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}addSourceType(_,a,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(_,a,d)}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,a,d={}){const{pixelRatio:m=1,sdf:v=!1,stretchX:x,stretchY:E,content:P}=d;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.a(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:M,height:z,data:N}=a,U=a;return this.style.addImage(_,{data:new o.R({width:M,height:z},new Uint8Array(N)),pixelRatio:m,stretchX:x,stretchY:E,content:P,sdf:v,version:0,userImage:U}),U.onAdd&&U.onAdd(this,_),this}}{const{width:M,height:z,data:N}=o.h.getImageData(a);this.style.addImage(_,{data:new o.R({width:M,height:z},N),pixelRatio:m,stretchX:x,stretchY:E,content:P,sdf:v,version:0})}}updateImage(_,a){const d=this.style.getImage(_);if(!d)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=a instanceof HTMLImageElement||o.a(a)?o.h.getImageData(a):a,{width:v,height:x,data:E}=m;if(v===void 0||x===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==d.data.width||x!==d.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const P=!(a instanceof HTMLImageElement||o.a(a));return d.data.replace(E,P),this.style.updateImage(_,d),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,a){R.getImage(this._requestManager.transformRequest(_,B.Image),a)}listImages(){return this.style.listImages()}addLayer(_,a){return this._lazyInitEmptyStyle(),this.style.addLayer(_,a),this._update(!0)}moveLayer(_,a){return this.style.moveLayer(_,a),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,a,d){return this.style.setLayerZoomRange(_,a,d),this._update(!0)}setFilter(_,a,d={}){return this.style.setFilter(_,a,d),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,a,d,m={}){return this.style.setPaintProperty(_,a,d,m),this._update(!0)}getPaintProperty(_,a){return this.style.getPaintProperty(_,a)}setLayoutProperty(_,a,d,m={}){return this.style.setLayoutProperty(_,a,d,m),this._update(!0)}getLayoutProperty(_,a){return this.style.getLayoutProperty(_,a)}setGlyphs(_,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,a,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,a,d,m=>{m||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,a,d=>{d||this._update(!0)}),this}setLight(_,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(_,a){return this.style.setFeatureState(_,a),this._update()}removeFeatureState(_,a){return this.style.removeFeatureState(_,a),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,a=0;return this._container&&(_=this._container.clientWidth||400,a=this._container.clientHeight||300),[_,a]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const a=this._canvasContainer=y.create("div","maplibregl-canvas-container",_);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=y.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),m=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],m);const v=this._controlContainer=y.create("div","maplibregl-control-container",_),x=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{x[E]=y.create("div",`maplibregl-ctrl-${E} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=y.create("div","maplibregl-cooperative-gesture-screen",this._container);let _=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(_=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${_}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){y.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(_,a,d){this._canvas.width=Math.floor(d*_),this._canvas.height=Math.floor(d*a),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:_},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});const d=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!d){const m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new Uo(d,this.transform),w.testSupport(d)}_onCooperativeGesture(_,a,d){return!a&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){const a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,x=o.h.now();this.style.zoomHistory.update(v,x);const E=new o.a8(v,{now:x,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=E.crossFadingFactor();P===1&&P===this._crossFadingFactor||(d=!0,this._crossFadingFactor=P),this.style.update(E)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bg.mark(o.bh.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,o.bg.mark(o.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),R.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const a=this.painter.context.gl.getExtension("WEBGL_lose_context");a&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),y.remove(this._canvasContainer),y.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),o.bg.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=o.h.frame(_=>{o.bg.frame(_),this._frame=null,this._render(_)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return Qt}getCameraTargetElevation(){return this.transform.elevation}},Wn.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const a=this._map.getZoom(),d=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,d)=>{const m=this._map._getUIString(`NavigationControl.${d}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},zh,_),this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=y.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Bh(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,a){const d=y.create("button",_,this._container);return d.type="button",d.addEventListener("click",a),d}},Wn.GeolocateControl=class extends o.E{constructor(_){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{const d=new o.L(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,v=this._map.getBearing(),x=o.e({bearing:v},this.options.fitBoundsOptions),E=pt.fromLngLat(d,m);this._map.fitBounds(E,x,{geolocateSource:!0})},this._updateMarker=a=>{if(a){const d=new o.L(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Rl)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=a=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=y.create("button","maplibregl-ctrl-geolocate",this._container),y.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new jo({element:this._dotElement}),this._circleElement=y.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new jo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")))})}},this.options=o.e({},zr,_)}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(a,d=!1){Zr===void 0||d?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(m=>{Zr=m.state!=="denied",a(Zr)}).catch(()=>{Zr=!!window.navigator.geolocation,a(Zr)}):(Zr=!!window.navigator.geolocation,a(Zr)):a(Zr)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Pr=0,Rl=!1}_isOutOfMapMaxBounds(_){const a=this._map.getMaxBounds(),d=_.coords;return a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),a=_.getSouthEast(),d=_.getNorthEast(),m=a.distanceTo(d),v=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Pr--,Rl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Pr++,Pr>1?(_={maximumAge:6e5,timeout:0},Rl=!0):(_=this.options.positionOptions,Rl=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Wn.AttributionControl=ya,Wn.LogoControl=_r,Wn.ScaleControl=class{constructor(_){this._onMove=()=>{Mc(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,Mc(this._map,this._container,this.options)},this.options=o.e({},Dc,_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Wn.FullscreenControl=class extends o.E{constructor(_={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){y.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=y.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);y.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Wn.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=_}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=y.create("button","maplibregl-ctrl-terrain",this._container),y.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){y.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Wn.Popup=class extends o.E{constructor(_){super(),this.remove=()=>(this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.k("close")),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=y.create("div","maplibregl-popup",this._map.getContainer()),this._tip=y.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const E of this.options.className.split(" "))this._container.classList.add(E);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Vh(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!a)return;const d=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);let m=this.options.anchor;const v=Ol(this.options.offset);if(!m){const E=this._container.offsetWidth,P=this._container.offsetHeight;let M;M=d.y+v.bottom.y<P?["top"]:d.y>this._map.transform.height-P?["bottom"]:[],d.x<E/2?M.push("left"):d.x>this._map.transform.width-E/2&&M.push("right"),m=M.length===0?"bottom":M.join("-")}const x=d.add(v[m]).round();y.setTransform(this._container,`${Pa[m]} translate(${x.x}px,${x.y}px)`),dp(this._container,m,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(Nh),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=o.L.convert(_),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const a=document.createDocumentFragment(),d=document.createElement("body");let m;for(d.innerHTML=_;m=d.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=y.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){this._container&&this._container.classList.add(_)}removeClassName(_){this._container&&this._container.classList.remove(_)}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}_createCloseButton(){this.options.closeButton&&(this._closeButton=y.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector($h);_&&_.focus()}},Wn.Marker=jo,Wn.Style=Si,Wn.LngLat=o.L,Wn.LngLatBounds=pt,Wn.Point=o.P,Wn.MercatorCoordinate=o.U,Wn.Evented=o.E,Wn.AJAXError=o.bi,Wn.config=o.c,Wn.CanvasSource=It,Wn.GeoJSONSource=tt,Wn.ImageSource=et,Wn.RasterDEMTileSource=Ne,Wn.RasterTileSource=gt,Wn.VectorTileSource=$t,Wn.VideoSource=Je,Wn.setRTLTextPlugin=o.bj,Wn.getRTLTextPluginStatus=o.bk,Wn.prewarm=function(){On().acquire(kt)},Wn.clearPrewarmedResources=function(){const _=on;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(kt),on=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Uh.extend(Wn,{isSafari:o.ac,getPerformanceMetrics:o.bg.getPerformanceMetrics}),Wn});var h=s;return h})})(SA);var fu=SA.exports;function dB(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}/*!
* vue-maplibre-gl v3.1.3
* (c) 2024 Volker Nauruhn
* @license MIT
*/var hB=Object.defineProperty,fB=(e,t,n)=>t in e?hB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,xi=(e,t,n)=>(fB(e,typeof t!="symbol"?t+"":t,n),n);const _i=Symbol("map"),rs=Symbol("isLoaded"),yl=Symbol("isInitialized"),Ki=Symbol("componentId"),Xi=Symbol("sourceId"),fc=Symbol("sourceLayerRegistry"),Y0=Symbol("emitter");function mu(e){return Object.keys(e)}const En=Ai({style:"https://demotiles.maplibre.org/style.json",center:Object.freeze([0,0]),zoom:1,trackResize:!1});class Gs{static createEventHandler(t,n,r,s){return(u={})=>r.emit(s,{type:u.type,map:n,component:t,event:u})}}xi(Gs,"MAP_OPTION_KEYS",["antialias","attributionControl","bearing","bearingSnap","bounds","boxZoom","center","clickTolerance","collectResourceTiming","crossSourceCollisions","container","customAttribution","dragPan","dragRotate","doubleClickZoom","hash","fadeDuration","failIfMajorPerformanceCaveat","fitBoundsOptions","interactive","keyboard","locale","localIdeographFontFamily","logoPosition","maxBounds","maxPitch","maxZoom","minPitch","minZoom","preserveDrawingBuffer","pitch","pitchWithRotate","refreshExpiredTiles","renderWorldCopies","scrollZoom","mapStyle","trackResize","transformRequest","touchZoomRotate","touchPitch","zoom","maxTileCacheSize","pixelRatio","cooperativeGestures"]),xi(Gs,"MARKER_OPTION_KEYS",["element","offset","anchor","color","draggable","clickTolerance","rotation","rotationAlignment","pitchAlignment","scale"]),xi(Gs,"MAP_EVENT_TYPES",["error","load","idle","remove","render","resize","webglcontextlost","webglcontextrestored","dataloading","data","tiledataloading","sourcedataloading","styledataloading","sourcedata","styledata","boxzoomcancel","boxzoomstart","boxzoomend","touchcancel","touchmove","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","movestart","move","moveend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","dragstart","drag","dragend","pitchstart","pitch","pitchend","wheel"]);var mc=(e=>(e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(mc||{});const _l=Object.values(mc),xk=new Map,mB=Symbol("default");function pB(e,t,n=mB){var r;let s=xk.get(n);return s||(s=Ai({isLoaded:!1,isMounted:!1,language:null}),xk.set(n,s)),s.isLoaded=!1,s.isMounted=!1,s.component=e,s.map=t.value,s.isLoaded=((r=t.value)==null?void 0:r.loaded())||!1,s}function gB(e,t=250,n=!1){let r;function s(){const u=arguments,h=()=>{r=void 0,n!==!0&&e.apply(this,u)};clearTimeout(r),n===!0&&r===void 0&&e.apply(this,u),r=window.setTimeout(h,t)}return s.cancel=()=>{clearTimeout(r)},s}const CA={AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"latin",NON_LATIN:"nonlatin",LOCAL:"",ALBANIAN:"sq",AMHARIC:"am",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BASQUE:"eu",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CORSICAN:"co",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HINDI:"hi",HUNGARIAN:"hu",ICELANDIC:"is",INDONESIAN:"id",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",JAPANESE_HIRAGANA:"ja-Hira",JAPANESE_KANA:"ja_kana",JAPANESE_LATIN:"ja_rm",JAPANESE_2018:"ja-Latn",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",KOREAN_LATIN:"ko-Latn",KURDISH:"ku",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALAYALAM:"ml",MALTESE:"mt",NORWEGIAN:"no",OCCITAN:"oc",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SERBIAN_LATIN:"sr-Latn",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",TAMIL:"ta",TELUGU:"te",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(CA));new Set(Object.values(CA));function __(e,t){const n=e.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,s=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/,h=/^(.*)({\s*name\s*(:\s*(\S*))?\s*})(.*)$/,o=t?`name:${t}`:"name",g=["case",["has",o],["get",o],["get","name"]];for(let y=0;y<n.length;y+=1){const w=n[y],k=w.layout;if(!k||!k["text-field"])continue;const C=e.getLayoutProperty(w.id,"text-field");let I;if(Array.isArray(C)&&C.length>=2&&C[0].trim().toLowerCase()==="concat"){const O=C.slice();for(let L=0;L<C.length;L+=1){const R=C[L];if((typeof R=="string"||R instanceof String)&&r.exec(R.toString())){O[L]=g;break}else if(Array.isArray(R)&&R.length>=2&&R[0].trim().toLowerCase()==="get"&&s.exec(R[1].toString())){O[L]=g;break}else if(Array.isArray(R)&&R.length===4&&R[0].trim().toLowerCase()==="case"){O[L]=g;break}}e.setLayoutProperty(w.id,"text-field",O)}else if(Array.isArray(C)&&C.length>=2&&C[0].trim().toLowerCase()==="get"&&s.exec(C[1].toString())){const O=g;e.setLayoutProperty(w.id,"text-field",O)}else if((typeof C=="string"||C instanceof String)&&r.exec(C.toString())){const O=g;e.setLayoutProperty(w.id,"text-field",O)}else if(Array.isArray(C)&&C.length===4&&C[0].trim().toLowerCase()==="case"){const O=g;e.setLayoutProperty(w.id,"text-field",O)}else if((typeof C=="string"||C instanceof String)&&(I=u.exec(C.toString()))!==null){const O=`{${o}}${I[3]}{name${I[4]||""}}`;e.setLayoutProperty(w.id,"text-field",O)}else if((typeof C=="string"||C instanceof String)&&(I=h.exec(C.toString()))!==null){const O=`${I[1]}{${o}}${I[5]}`;e.setLayoutProperty(w.id,"text-field",O)}}}const vB=lr({name:"MglMap",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},antialias:{type:Boolean,default:()=>En.antialias},attributionControl:{type:Boolean,default:()=>En.attributionControl},bearing:{type:Number,default:()=>En.bearing},bearingSnap:{type:Number,default:()=>En.bearingSnap},bounds:{type:[Array,Object],default:()=>En.bounds},boxZoom:{type:Boolean,default:()=>En.boxZoom},center:{type:[Array,Object],default:()=>En.center},clickTolerance:{type:Number,default:()=>En.clickTolerance},collectResourceTiming:{type:Boolean,default:()=>En.collectResourceTiming},crossSourceCollisions:{type:Boolean,default:()=>En.crossSourceCollisions},customAttribution:{type:[String,Array],default:()=>En.customAttribution},dragPan:{type:Boolean,default:()=>En.dragPan},dragRotate:{type:Boolean,default:()=>En.dragRotate},doubleClickZoom:{type:Boolean,default:()=>En.doubleClickZoom},hash:{type:[Boolean,String],default:()=>En.hash},fadeDuration:{type:Number,default:()=>En.fadeDuration},failIfMajorPerformanceCaveat:{type:Boolean,default:()=>En.failIfMajorPerformanceCaveat},fitBoundsOptions:{type:Object,default:()=>En.fitBoundsOptions},interactive:{type:Boolean,default:()=>En.interactive},keyboard:{type:Boolean,default:()=>En.keyboard},locale:{type:Object,default:()=>En.locale},language:{type:String,default:()=>En.language||null},localIdeographFontFamily:{type:String,default:()=>En.localIdeographFontFamily},logoPosition:{type:[String],validator:e=>e in mc,default:()=>En.logoPosition},maxBounds:{type:[Array,Object],default:()=>En.maxBounds},maxPitch:{type:Number,default:()=>En.maxPitch},maxZoom:{type:Number,default:()=>En.maxZoom},minPitch:{type:Number,default:()=>En.minPitch},minZoom:{type:Number,default:()=>En.minZoom},preserveDrawingBuffer:{type:Boolean,default:()=>En.preserveDrawingBuffer},pitch:{type:Number,default:()=>En.pitch},pitchWithRotate:{type:Boolean,default:()=>En.pitchWithRotate},refreshExpiredTiles:{type:Boolean,default:()=>En.refreshExpiredTiles},renderWorldCopies:{type:Boolean,default:()=>En.renderWorldCopies},scrollZoom:{type:Boolean,default:()=>En.scrollZoom},mapStyle:{type:[String,Object],default:()=>En.style},trackResize:{type:Boolean,default:()=>En.trackResize},transformRequest:{type:Function,default:En.transformRequest},touchZoomRotate:{type:Boolean,default:()=>En.touchZoomRotate},touchPitch:{type:Boolean,default:()=>En.touchPitch},zoom:{type:Number,default:()=>En.zoom},maxTileCacheSize:{type:Number,default:()=>En.maxTileCacheSize},mapKey:{type:[String,Symbol]},pixelRatio:{type:Number,default:()=>En.pixelRatio},cooperativeGestures:{type:[Boolean,Object],default:()=>En.cooperativeGestures}},emits:["map:error","map:load","map:idle","map:remove","map:render","map:resize","map:webglcontextlost","map:webglcontextrestored","map:dataloading","map:data","map:tiledataloading","map:sourcedataloading","map:styledataloading","map:sourcedata","map:styledata","map:boxzoomcancel","map:boxzoomstart","map:boxzoomend","map:touchcancel","map:touchmove","map:touchend","map:touchstart","map:click","map:contextmenu","map:dblclick","map:mousemove","map:mouseup","map:mousedown","map:mouseout","map:mouseover","map:movestart","map:move","map:moveend","map:zoomstart","map:zoom","map:zoomend","map:rotatestart","map:rotate","map:rotateend","map:dragstart","map:drag","map:dragend","map:pitchstart","map:pitch","map:pitchend","map:wheel"],slots:Object,setup(e,t){const n=bg(Ts()),r=Rt(),s=Rt(),u=ht(!1),h=ht(!1),o=ht(!1),g=new Map,y=dB(),w=pB(n,s,e.mapKey);let k;wn(_i,s),wn(rs,h),wn(yl,u),wn(Ki,n.uid),wn(Xi,""),wn(Y0,y),ut(()=>e.bearing,R=>{var B;R&&((B=s.value)==null||B.setBearing(R))}),ut(()=>e.bounds,R=>{var B;R&&((B=s.value)==null||B.fitBounds(R,e.fitBoundsOptions))}),ut(()=>e.center,R=>{var B;R&&((B=s.value)==null||B.setCenter(R))}),ut(()=>e.maxBounds,R=>{var B;R&&((B=s.value)==null||B.setMaxBounds(R))}),ut(()=>e.maxPitch,R=>{var B;R&&((B=s.value)==null||B.setMaxPitch(R))}),ut(()=>e.maxZoom,R=>{var B;R&&((B=s.value)==null||B.setMaxZoom(R))}),ut(()=>e.minPitch,R=>{var B;R&&((B=s.value)==null||B.setMinPitch(R))}),ut(()=>e.minZoom,R=>{var B;R&&((B=s.value)==null||B.setMinZoom(R))}),ut(()=>e.pitch,R=>{var B;R&&((B=s.value)==null||B.setPitch(R))}),ut(()=>e.renderWorldCopies,R=>{var B;R&&((B=s.value)==null||B.setRenderWorldCopies(R))}),ut(()=>e.mapStyle,R=>{var B;R&&((B=s.value)==null||B.setStyle(R))}),ut(()=>e.transformRequest,R=>{var B;R&&((B=s.value)==null||B.setTransformRequest(R))}),ut(()=>e.zoom,R=>{var B;R&&((B=s.value)==null||B.setZoom(R))}),ut(()=>e.zoom,R=>{var B;R&&((B=s.value)==null||B.setZoom(R))}),ut(()=>e.language,R=>{o.value&&s.value&&w.language!==(R||null)&&(__(s.value,R||""),w.language=R||null)}),ut(()=>w.language,R=>{o.value&&s.value&&__(s.value,R||"")});function C(){o.value=!0,e.language?w.language=e.language:w.language&&__(s.value,e.language||"")}function I(){w.isMounted=!0;const R=Object.keys(e).filter(B=>e[B]!==void 0&&Gs.MAP_OPTION_KEYS.indexOf(B)!==-1).reduce((B,j)=>(B[j==="mapStyle"?"style":j]=Br(e[j]),B),{container:r.value});if(s.value=bg(new fu.Map(R)),w.map=s.value,u.value=!0,g.set("__load",()=>(h.value=!0,w.isLoaded=!0)),s.value.once("styledata",C),s.value.on("load",g.get("__load")),n.vnode.props){for(let B=0,j=Gs.MAP_EVENT_TYPES.length;B<j;B++)if(n.vnode.props["onMap:"+Gs.MAP_EVENT_TYPES[B]]){const Z=Gs.createEventHandler(n,s.value,t,"map:"+Gs.MAP_EVENT_TYPES[B]);g.set(Gs.MAP_EVENT_TYPES[B],Z),s.value.on(Gs.MAP_EVENT_TYPES[B],Z)}}s.value.getCanvas().addEventListener("webglcontextlost",L)}async function O(){w.isMounted=!1,w.isLoaded=!1,h.value=!1,s.value&&(s.value.getCanvas().removeEventListener("webglcontextlost",L),s.value._controls.forEach(R=>{s.value.removeControl(R)}),u.value=!1,g.forEach((R,B)=>{s.value.off(B.startsWith("__")?B.substring(2):B,R)}),s.value.remove())}function L(){O(),Xn(I)}return Vi(()=>{I(),s.value&&(k=new ResizeObserver(gB(s.value.resize.bind(s.value),100)),k.observe(r.value))}),vr(()=>{k!==void 0&&(k.disconnect(),k=void 0),O()}),t.expose({map:s}),()=>Jr("div",{class:"mgl-container",style:{height:e.height,width:e.width}},[Jr("div",{ref:r,class:"mgl-wrapper"}),u.value&&t.slots.default?t.slots.default({}):void 0])}});function pc(e,t,n){ut(e,r=>{var s,u;r&&_l.indexOf(r)===-1||((s=t.value)!=null&&s.hasControl(n)&&t.value.removeControl(n),(u=t.value)==null||u.addControl(n,r))},{immediate:!0})}const yB=lr({name:"MglAttributionControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},compact:Boolean,customAttribution:[String,Array]},setup(e){const t=yt(_i),n=yt(yl),r=new fu.AttributionControl({compact:e.compact,customAttribution:e.customAttribution});pc(()=>e.position,t,r),vr(()=>n.value&&t.value.removeControl(r))},render(){}}),_b=class yf{constructor(t,n){xi(this,"container"),this.isAdded=t,this.container=document.createElement("div"),this.setClasses(n)}getDefaultPosition(){return mc.TOP_LEFT}onAdd(){return Xn(()=>this.isAdded.value=!0),this.container}onRemove(){this.isAdded.value=!1,this.container.remove()}setClasses(t){t?(this.container.classList.remove(yf.CONTROL_CLASS),this.container.classList.remove(yf.CONTROL_GROUP_CLASS)):(this.container.classList.add(yf.CONTROL_CLASS),this.container.classList.add(yf.CONTROL_GROUP_CLASS))}};xi(_b,"CONTROL_CLASS","maplibregl-ctrl"),xi(_b,"CONTROL_GROUP_CLASS","maplibregl-ctrl-group");let TA=_b;const _B=lr({name:"MglCustomControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},noClasses:{type:Boolean,default:!1}},slots:Object,setup(e,{slots:t}){const n=yt(_i),r=yt(yl),s=ht(!1),u=new TA(s,e.noClasses);return pc(()=>e.position,n,u),ut(()=>e.noClasses,h=>u.setClasses(h)),vr(()=>{var h;return r.value&&((h=n.value)==null?void 0:h.removeControl(u))}),()=>{var h;return s.value?Jr(P0,{to:u.container},(h=t.default)==null?void 0:h.call(t,{})):Kn("custom-component")}}}),bB=lr({name:"MglFullscreenControl",props:{position:{type:String,default:mc.TOP_RIGHT,validator:e=>_l.indexOf(e)!==-1},container:{type:Object,default:null}},setup(e){const t=yt(_i),n=yt(yl),r=new fu.FullscreenControl({container:e.container||void 0});function s(){Xn(()=>{var u;return(u=t.value)==null?void 0:u.resize()})}r.on("fullscreenstart",s),r.on("fullscreenend",s),pc(()=>e.position,t,r),vr(()=>{var u;r.off("fullscreenstart",s),r.off("fullscreenend",s),n.value&&((u=t.value)==null||u.removeControl(r))})},render(){}});class xB{constructor(t="rgba(0,0,0,0.9)",n=4*window.devicePixelRatio,r="#7cf859",s="Monaco, Consolas, Courier, monospace",u=60*window.devicePixelRatio,h=90*window.devicePixelRatio,o=0,g=5*window.devicePixelRatio,y=100*window.devicePixelRatio){xi(this,"frames",0),xi(this,"totalTime",0),xi(this,"totalFrames",0),xi(this,"time",null),xi(this,"map"),xi(this,"container"),xi(this,"readOutput"),xi(this,"canvas"),xi(this,"eventHandlers",new Map),this.background=t,this.barWidth=n,this.color=r,this.font=s,this.graphHeight=u,this.graphWidth=h,this.graphTop=o,this.graphRight=g,this.width=y}getDefaultPosition(){return mc.TOP_RIGHT}onAdd(t){this.map=t;const n=this.container=document.createElement("div");return n.className="maplibregl-ctrl maplibregl-ctrl-fps",n.style.backgroundColor=this.background,n.style.borderRadius="6px",this.readOutput=document.createElement("div"),this.readOutput.style.color=this.color,this.readOutput.style.fontFamily=this.font,this.readOutput.style.padding="0 5px 5px",this.readOutput.style.fontSize="9px",this.readOutput.style.fontWeight="bold",this.readOutput.textContent="Waiting…",this.canvas=document.createElement("canvas"),this.canvas.className="maplibregl-ctrl-canvas",this.canvas.width=this.width,this.canvas.height=this.graphHeight,this.canvas.style.cssText=`width: ${this.width/window.devicePixelRatio}px; height: ${this.graphHeight/window.devicePixelRatio}px;`,n.appendChild(this.readOutput),n.appendChild(this.canvas),this.eventHandlers.set("movestart",this.onMoveStart.bind(this)),this.eventHandlers.set("moveend",this.onMoveEnd.bind(this)),this.map.on("movestart",this.eventHandlers.get("movestart")),this.map.on("moveend",this.eventHandlers.get("moveend")),this.container}onRemove(){this.map.off("movestart",this.eventHandlers.get("movestart")),this.map.off("moveend",this.eventHandlers.get("moveend")),this.eventHandlers.clear(),this.container.parentNode.removeChild(this.container),this.map=void 0}onMoveStart(){this.frames=0,this.time=performance.now(),this.eventHandlers.set("render",this.onRender.bind(this)),this.map.on("render",this.eventHandlers.get("render"))}onMoveEnd(){const t=performance.now();this.updateGraph(this.getFPS(t)),this.frames=0,this.time=null,this.map.off("render",this.eventHandlers.get("render"))}onRender(){if(this.time){this.frames++;const t=performance.now();t>=this.time+1e3&&(this.updateGraph(this.getFPS(t)),this.frames=0,this.time=performance.now())}}getFPS(t){return this.totalTime+=t-this.time,this.totalFrames+=this.frames,Math.round(1e3*this.frames/(t-this.time))||0}updateGraph(t){const n=this.canvas.getContext("2d"),r=Math.round(1e3*this.totalFrames/this.totalTime)||0,s=(this.graphHeight,this.barWidth);n.fillStyle=this.background,n.globalAlpha=1,n.fillRect(0,0,this.graphWidth,this.graphTop),n.fillStyle=this.color,this.readOutput.textContent=`${t} FPS (${r} Avg)`,n.drawImage(this.canvas,this.graphRight+s,this.graphTop,this.graphWidth-s,this.graphHeight,this.graphRight,this.graphTop,this.graphWidth-s,this.graphHeight),n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,this.graphHeight),n.fillStyle=this.background,n.globalAlpha=.75,n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,(1-t/100)*this.graphHeight)}}const wB=lr({name:"MglFrameRateControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},background:{type:String,default:"rgba(0,0,0,0.9)"},barWidth:{type:Number,default:4*window.devicePixelRatio},color:{type:String,default:"#7cf859"},font:{type:String,default:"Monaco, Consolas, Courier, monospace"},graphHeight:{type:Number,default:60*window.devicePixelRatio},graphWidth:{type:Number,default:90*window.devicePixelRatio},graphTop:{type:Number,default:0},graphRight:{type:Number,default:5*window.devicePixelRatio},width:{type:Number,default:100*window.devicePixelRatio}},setup(e){const t=yt(_i),n=yt(yl),r=new xB(e.background,e.barWidth,e.color,e.font,e.graphHeight,e.graphWidth,e.graphTop,e.graphRight,e.width);pc(()=>e.position,t,r),vr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),SB=lr({name:"MglGeolocationControl",props:{position:{type:String,default:mc.TOP_RIGHT,validator:e=>_l.indexOf(e)!==-1},positionOptions:{type:Object,default:{enableHighAccuracy:!1,timeout:6e3}},fitBoundsOptions:{type:Object,default:{maxZoom:15}},trackUserLocation:{type:Boolean,default:!1},showAccuracyCircle:{type:Boolean,default:!0},showUserLocation:{type:Boolean,default:!0}},setup(e){const t=yt(_i),n=yt(yl),r=new fu.GeolocateControl({positionOptions:e.positionOptions,fitBoundsOptions:e.fitBoundsOptions,trackUserLocation:e.trackUserLocation,showAccuracyCircle:e.showAccuracyCircle,showUserLocation:e.showUserLocation});pc(()=>e.position,t,r),vr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),kB=lr({name:"MglNavigationControl",props:{position:{type:String,default:mc.TOP_RIGHT,validator:e=>_l.indexOf(e)!==-1},showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:Boolean},setup(e){const t=yt(_i),n=yt(yl),r=new fu.NavigationControl({showCompass:e.showCompass,showZoom:e.showZoom,visualizePitch:e.visualizePitch});pc(()=>e.position,t,r),vr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var AA=(e=>(e.IMPERIAL="imperial",e.METRIC="metric",e.NAUTICAL="nautical",e))(AA||{});const CB=Object.values(AA),TB=lr({name:"MglScaleControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},maxWidth:{type:Number,default:100},unit:{type:String,default:"metric",validator:e=>CB.indexOf(e)!==-1}},setup(e){const t=yt(_i),n=yt(yl),r=new fu.ScaleControl({maxWidth:e.maxWidth,unit:e.unit});pc(()=>e.position,t,r),vr(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var Lg=(e=>(e.DEFAULT="default",e.TEXT="text",e.MDI="mdi",e.SIMPLE_ICON="simple-icons",e))(Lg||{});const AB=Object.values(Lg),Yp={text:void 0,mdi:{size:21,viewbox:"0 0 24 24"},"simple-icons":{size:21,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},bb=lr({name:"MglButton",props:{type:{type:String,default:"default",validator:e=>AB.indexOf(e)!==-1},path:{type:String},size:Number,viewbox:String},slots:Object,setup(e,{slots:t}){!e.path&&e.type!=="text"&&EO();const n=ht(Yp[e.type]||Yp.default);return ut(()=>e.type,r=>n.value=Yp[r]||Yp.default),()=>{var r,s;return e.type==="text"?Jr("button",{type:"button"},(r=t.default)==null?void 0:r.call(t,{})):Jr("button",{type:"button",class:"maplibregl-ctrl-icon"},[Jr("svg",{width:e.size||n.value.size,height:e.size||n.value.size,viewBox:e.viewbox||n.value.viewbox},Jr("path",{fill:"currentColor",d:e.path})),(s=t.default)==null?void 0:s.call(t,{})])}}});function wk(e){return e&&!!e.stopPropagation}const EB=lr({name:"MglStyleSwitchControl",props:{position:{type:String,validator:e=>_l.indexOf(e)!==-1},mapStyles:{type:Array,required:!0,default:[]},modelValue:{type:Object},isOpen:{type:Boolean,default:void 0}},slots:Object,emits:["update:modelValue","update:isOpen"],setup(e,{emit:t,slots:n}){const r=yt(_i),s=yt(yl),u=yt(rs),h=yt(Y0),o=ht(!1),g=ht(e.isOpen===void 0?!1:e.isOpen),y=Rt(e.modelValue===void 0?e.mapStyles.length?e.mapStyles[0]:null:e.modelValue),w=new TA(o,!1),k=O.bind(null,!1);function C(){const L=r.value.getStyle().name;for(let R=0,B=e.mapStyles.length;R<B;R++)if(e.mapStyles[R].name===L){I(e.mapStyles[R]);break}}ut(u,L=>{L&&C()},{immediate:!0}),r.value.on("style.load",C),document.addEventListener("click",k),pc(()=>e.position,r,w),e.modelValue!==void 0&&ut(()=>e.modelValue,L=>{L!==void 0&&(y.value=L)}),e.isOpen!==void 0&&ut(()=>e.isOpen,L=>{L!==void 0&&(g.value=L)}),vr(()=>{s.value&&(r.value.removeControl(w),r.value.off("style.load",C)),document.removeEventListener("click",k)});function I(L){var R;((R=y.value)==null?void 0:R.name)!==L.name&&(h.emit("styleSwitched",L),r.value.setStyle(L.style,{diff:!1}),e.modelValue===void 0&&(y.value=L),t("update:modelValue",L),O(!1))}function O(L,R){wk(R)?R.stopPropagation():wk(L)&&L.stopPropagation(),!(e.isOpen!==void 0&&e.isOpen===L||g.value===L)&&(e.isOpen===void 0?(g.value=typeof L=="boolean"?L:!g.value,t("update:isOpen",g.value)):t("update:isOpen",typeof L=="boolean"?L:!e.isOpen))}return()=>{if(!o.value)return Kn("style-switch-control");const L={isOpen:g,toggleOpen:O,setStyle:I,mapStyles:e.mapStyles,currentStyle:y};return Jr(P0,{to:w.container},n.default?n.default(L):[n.button?n.button(L):Jr(bb,{type:Lg.MDI,path:"M12,18.54L19.37,12.8L21,14.07L12,21.07L3,14.07L4.62,12.81L12,18.54M12,16L3,9L12,2L21,9L12,16M12,4.53L6.26,9L12,13.47L17.74,9L12,4.53Z",class:["maplibregl-ctrl-icon maplibregl-style-switch",g.value?"is-open":""],onClick:O.bind(null,!0)}),n.styleList?n.styleList(L):Jr("div",{class:["maplibregl-style-list",g.value?"is-open":""]},e.mapStyles.map(R=>{var B,j;return R.icon?Jr(bb,{type:Lg.MDI,path:R.icon.path,class:((B=y.value)==null?void 0:B.name)===R.name?"is-active":"",onClick:()=>I(R)},zt(R.label)):Jr("button",{type:"button",class:((j=y.value)==null?void 0:j.name)===R.name?"is-active":"",onClick:()=>I(R)},zt(R.label))}))])}},template:`
		<slot>
		<slot name="button"></slot>
		<slot name="styleList"></slot>
		</slot>
	`}),IB=lr({name:"MglMarker",props:{coordinates:{type:[Object,Array],required:!0},offset:[Object,Array],anchor:String,color:String,clickTolerance:Number,rotation:Number,rotationAlignment:String,pitchAlignment:String,scale:Number},setup(e){const t=yt(_i),n=Object.keys(e).filter(s=>e[s]!==void 0&&Gs.MARKER_OPTION_KEYS.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Br(e[u]),s),{}),r=new fu.Marker(n);return r.setLngLat(e.coordinates).addTo(t.value),ut(()=>e.coordinates,s=>r.setLngLat(s)),ut(()=>e.offset,s=>r.setOffset(s||[0,0])),ut(()=>e.pitchAlignment,s=>r.setPitchAlignment(s||"auto")),ut(()=>e.rotationAlignment,s=>r.setRotationAlignment(s||"auto")),vr(r.remove.bind(r)),{marker:r}},render(){}});class pu{constructor(){xi(this,"unmountHandlers",new Map)}registerUnmountHandler(t,n){this.unmountHandlers.set(t,n)}unregisterUnmountHandler(t){this.unmountHandlers.delete(t)}unmount(){this.unmountHandlers.forEach(t=>t())}}const EA=class xb{static genSourceOpts(t,n,r){return Object.keys(n).filter(s=>n[s]!==void 0&&r.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Br(n[u]),s),{type:t})}static getSourceRef(t,n){const r=typeof n=="string",s=String(t)+(r?n:"");let u=xb.REFS.get(s);return u||(u=ht(r?null:void 0),xb.REFS.set(s,u)),u}};xi(EA,"REFS",new Map);let Ji=EA;function gu(e,t,n,r,s){const u=yt(_i),h=yt(rs),o=yt(Y0);function g(){h.value&&(u.value.addSource(t.sourceId,Ji.genSourceOpts(n,t,r)),e.value=u.value.getSource(t.sourceId))}function y(){e.value=null}return ut(h,g,{immediate:!0}),u.value.on("style.load",g),o.on("styleSwitched",y),vr(()=>{h.value&&(s.unmount(),u.value.removeSource(t.sourceId)),u.value.off("style.load",g),o.off("styleSwitched",y)})}const PB=mu({animate:void 0,canvas:void 0,coordinates:void 0}),DB=lr({name:"MglCanvasSource",props:{sourceId:{type:String,required:!0},coordinates:Array,animate:Boolean,canvas:[Object,String]},slots:Object,setup(e,{slots:t}){const n=yt(Ki),r=Ji.getSourceRef(n,e.sourceId),s=new pu;return wn(Xi,e.sourceId),wn(fc,s),gu(r,e,"canvas",PB,s),ut(wr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Kn("Canvas Source"),r.value&&t.default?t.default({}):void 0]}}),MB=mu({data:void 0,maxzoom:void 0,attribution:void 0,buffer:void 0,tolerance:void 0,cluster:void 0,clusterRadius:void 0,clusterMaxZoom:void 0,clusterMinPoints:void 0,clusterProperties:void 0,lineMetrics:void 0,generateId:void 0,promoteId:void 0,filter:void 0}),LB=lr({name:"MglGeoJsonSource",props:{sourceId:{type:String,required:!0},data:[Object,String],maxzoom:Number,attribution:String,buffer:Number,tolerance:Number,cluster:[Number,Boolean],clusterRadius:Number,clusterMaxZoom:Number,clusterMinPoints:Number,clusterProperties:Object,lineMetrics:Boolean,generateId:Boolean,promoteId:[Object,String],filter:[Array,String,Object]},slots:Object,setup(e,{slots:t}){const n=yt(Ki),r=Ji.getSourceRef(n,e.sourceId),s=new pu;return wn(Xi,e.sourceId),wn(fc,s),gu(r,e,"geojson",MB,s),ut(wr(e.data)?e.data:()=>e.data,u=>{var h;(h=r.value)==null||h.setData(u||{type:"FeatureCollection",features:[]})},{immediate:!0}),()=>[Kn("GeoJSON Source"),r.value&&t.default?t.default({}):void 0]}}),RB=mu({url:void 0,coordinates:void 0}),OB=lr({name:"MglImageSource",props:{sourceId:{type:String,required:!0},url:String,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=yt(Ki),r=Ji.getSourceRef(n,e.sourceId),s=new pu;return wn(Xi,e.sourceId),wn(fc,s),gu(r,e,"image",RB,s),ut(wr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Kn("Image Source"),r.value&&t.default?t.default({}):void 0]}}),FB=mu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,scheme:void 0,attribution:void 0,volatile:void 0}),zB=lr({name:"MglRasterSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,scheme:String,attribution:String,volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=yt(Ki),r=Ji.getSourceRef(n,e.sourceId),s=new pu;return wn(Xi,e.sourceId),wn(fc,s),gu(r,e,"raster",FB,s),()=>[Kn("Raster Source"),r.value&&t.default?t.default({}):void 0]}}),BB=mu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,attribution:void 0,encoding:void 0,volatile:void 0,redFactor:void 0,blueFactor:void 0,greenFactor:void 0,baseShift:void 0}),VB=lr({name:"MglRasterDemSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,attribution:String,encoding:String,volatile:Boolean,redFactor:Number,blueFactor:Number,greenFactor:Number,baseShift:Number},slots:Object,setup(e,{slots:t}){const n=yt(Ki),r=Ji.getSourceRef(n,e.sourceId),s=new pu;return wn(Xi,e.sourceId),wn(fc,s),gu(r,e,"raster-dem",BB,s),()=>[Kn("RasterDem Source"),r.value&&t.default?t.default({}):void 0]}}),NB=mu({url:void 0,tiles:void 0,bounds:void 0,scheme:void 0,minzoom:void 0,maxzoom:void 0,attribution:void 0,promoteId:void 0,volatile:void 0}),$B=lr({name:"MglVectorSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,scheme:String,minzoom:Number,maxzoom:Number,attribution:String,promoteId:[Object,String],volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=yt(Ki),r=Ji.getSourceRef(n,e.sourceId),s=new pu;return wn(Xi,e.sourceId),wn(fc,s),gu(r,e,"vector",NB,s),ut(wr(e.tiles)?e.tiles:()=>e.tiles,u=>{var h;(h=r.value)==null||h.setTiles(u||[])},{immediate:!0}),ut(wr(e.url)?e.url:()=>e.url,u=>{var h;(h=r.value)==null||h.setUrl(u||"")},{immediate:!0}),()=>[Kn("Vector Source"),r.value&&t.default?t.default({}):void 0]}}),UB=mu({urls:void 0,coordinates:void 0}),qB=lr({name:"MglVideoSource",props:{sourceId:{type:String,required:!0},urls:Array,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=yt(Ki),r=Ji.getSourceRef(n,e.sourceId),s=new pu;return wn(Xi,e.sourceId),wn(fc,s),gu(r,e,"video",UB,s),ut(wr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Kn("Video Source"),r.value&&t.default?t.default({}):void 0]}}),cg=class bo{static genLayerOpts(t,n,r,s){return Object.keys(r).filter(u=>r[u]!==void 0&&bo.SOURCE_OPTS.indexOf(u)!==-1).reduce((u,h)=>(u[h==="sourceLayer"?"source-layer":h]=Br(r[h]),u),{type:n,source:r.source||s,id:t})}static registerLayerEvents(t,n,r){if(r.props)for(let s=0,u=bo.LAYER_EVENTS.length;s<u;s++){const h="on"+bo.LAYER_EVENTS[s].charAt(0).toUpperCase()+bo.LAYER_EVENTS[s].substr(1);r.props[h]&&t.on(bo.LAYER_EVENTS[s],n,r.props[h])}}static unregisterLayerEvents(t,n,r){if(r.props)for(let s=0,u=bo.LAYER_EVENTS.length;s<u;s++){const h="on"+bo.LAYER_EVENTS[s].charAt(0).toUpperCase()+bo.LAYER_EVENTS[s].substr(1);r.props[h]&&t.off(bo.LAYER_EVENTS[s],n,r.props[h])}}};xi(cg,"SOURCE_OPTS",["metadata","ref","source","sourceLayer","minzoom","maxzoom","interactive","filter","layout","paint"]),xi(cg,"LAYER_EVENTS",["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]),xi(cg,"SHARED",{props:{layerId:{type:String,required:!0},source:[String,Object],metadata:[Object,Array,String,Number],sourceLayer:String,minzoom:Number,maxzoom:Number,interactive:Boolean,filter:Array,before:String},emits:["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]});let jn=cg;function bl(e,t){const n=yt(_i),r=yt(rs),s=yt(fc);function u(){r.value&&(t&&jn.unregisterLayerEvents(n.value,e,t.vnode),n.value.getLayer(e)&&n.value.removeLayer(e))}s.registerUnmountHandler(e,u),vr(()=>{s.unregisterUnmountHandler(e),u()})}const jB=lr({name:"MglBackgroundLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=yt(_i),r=yt(rs),s=yt(Ki),u=Ji.getSourceRef(s,e.source||t);return bl(e.layerId),ut([r,u],([h,o])=>{h&&(o||o===void 0)&&n.value.addLayer(jn.genLayerOpts(e.layerId,"background",e,t),e.before||void 0)},{immediate:!0}),()=>Kn("Background Layer")}}),HB=lr({name:"MglCircleLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"circle",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Circle Layer")}}),GB=lr({name:"MglFillLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"fill",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Fill Layer")}}),WB=lr({name:"MglFillExtrusionLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"fill-extrusion",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Fill Extrusion Layer")}}),YB=lr({name:"MglHeatmapLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"heatmap",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Heatmap Layer")}}),ZB=lr({name:"MglHillshadeLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"hillshade",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Hillshade Layer")}}),KB=lr({name:"MglLineLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"line",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Line Layer")}}),XB=lr({name:"MglRasterLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"raster",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Raster Layer")}}),JB=lr({name:"MglSymbolLayer",props:{...jn.SHARED.props,layout:Object,paint:Object},emits:[...jn.SHARED.emits],setup(e){const t=yt(Xi);if(!t&&!e.source)return;const n=Ts(),r=yt(_i),s=yt(rs),u=yt(Ki),h=Ji.getSourceRef(u,e.source||t);return bl(e.layerId,n),ut([s,h],([o,g])=>{o&&(g||g===void 0)&&(r.value.addLayer(jn.genLayerOpts(e.layerId,"symbol",e,t),e.before||void 0),jn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Kn("Symbol Layer")}}),QB=Object.freeze(Object.defineProperty({__proto__:null,MglAttributionControl:yB,MglBackgroundLayer:jB,MglButton:bb,MglCanvasSource:DB,MglCircleLayer:HB,MglCustomControl:_B,MglFillExtrusionLayer:WB,MglFillLayer:GB,MglFrameRateControl:wB,MglFullscreenControl:bB,MglGeoJsonSource:LB,MglGeolocationControl:SB,MglHeatmapLayer:YB,MglHillshadeLayer:ZB,MglImageSource:OB,MglLineLayer:KB,MglMap:vB,MglMarker:IB,MglNavigationControl:kB,MglRasterDemSource:VB,MglRasterLayer:XB,MglRasterSource:zB,MglScaleControl:TB,MglStyleSwitchControl:EB,MglSymbolLayer:JB,MglVectorSource:$B,MglVideoSource:qB},Symbol.toStringTag,{value:"Module"})),eV=function(e){Object.entries(QB).forEach(([t,n])=>{e.component(t,n)})},Es=We({border:[Boolean,Number,String]},"border");function no(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();return{borderClasses:Y(()=>{const r=wr(e)?e.value:e.border,s=[];if(r===!0||r==="")s.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const u of String(r).split(" "))s.push(`border-${u}`);return s})}}function Z0(e){return B0(()=>{const t=[],n={};if(e.value.background)if(pb(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&BF(e.value.background)){const r=ko(e.value.background);if(r.a==null||r.a===1){const s=nA(r);n.color=s,n.caretColor=s}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(pb(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function $a(e,t){const n=Y(()=>({text:wr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Z0(n);return{textColorClasses:r,textColorStyles:s}}function gi(e,t){const n=Y(()=>({background:wr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=Z0(n);return{backgroundColorClasses:r,backgroundColorStyles:s}}const is=We({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function as(e){return{dimensionStyles:Y(()=>{const n={},r=Ht(e.height),s=Ht(e.maxHeight),u=Ht(e.maxWidth),h=Ht(e.minHeight),o=Ht(e.minWidth),g=Ht(e.width);return r!=null&&(n.height=r),s!=null&&(n.maxHeight=s),u!=null&&(n.maxWidth=u),h!=null&&(n.minHeight=h),o!=null&&(n.minWidth=o),g!=null&&(n.width=g),n})}}const ss=We({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Is(e){return{elevationClasses:Y(()=>{const n=wr(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const Sk={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},vu=We({location:String},"location");function qd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Ua();return{locationStyles:Y(()=>{if(!e.location)return{};const{side:u,align:h}=fb(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function o(y){return n?n(y):0}const g={};return u!=="center"&&(t?g[Sk[u]]=`calc(100% - ${o(u)}px)`:g[u]=0),h!=="center"?t?g[Sk[h]]=`calc(100% - ${o(h)}px)`:g[h]=0:(u==="center"?g.top=g.left="50%":g[{top:"left",bottom:"left",left:"top",right:"top"}[u]]="50%",g.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[u]),g})}}const tV=["static","relative","fixed","absolute","sticky"],om=We({position:{type:String,validator:e=>tV.includes(e)}},"position");function lm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();return{positionClasses:Y(()=>e.position?`${t}--${e.position}`:void 0)}}const Di=We({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Ni(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();return{roundedClasses:Y(()=>{const r=wr(e)?e.value:e.rounded,s=wr(e)?e.value:e.tile,u=[];if(r===!0||r==="")u.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const h of String(r).split(" "))u.push(`rounded-${h}`);else(s||r===!1)&&u.push("rounded-0");return u})}}const Yn=We({tag:{type:String,default:"div"}},"tag"),K0=We({color:String,...Es(),...un(),...is(),...ss(),...vu(),...om(),...Di(),...Yn(),...yr()},"VSheet"),lc=ft()({name:"VSheet",props:K0(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{backgroundColorClasses:s,backgroundColorStyles:u}=gi(bt(e,"color")),{borderClasses:h}=no(e),{dimensionStyles:o}=as(e),{elevationClasses:g}=Is(e),{locationStyles:y}=qd(e),{positionClasses:w}=lm(e),{roundedClasses:k}=Ni(e);return St(()=>T(e.tag,{class:["v-sheet",r.value,s.value,h.value,g.value,w.value,k.value,e.class],style:[u.value,o.value,y.value,e.style]},n)),{}}}),nV=We({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),wb=ft()({name:"VCalendarIntervalEvent",props:nV(),setup(e){const t=Lo(),n=()=>{var r,s,u,h;if(!((r=e.event)!=null&&r.first)&&!((s=e.event)!=null&&s.last)||t.isEqual((u=e.event)==null?void 0:u.start,(h=e.interval)==null?void 0:h.start))return{height:"100%",margin:Ht(0)};{const{height:o,margin:g}=Array.from({length:e.intervalDivisions},y=>y*(e.intervalDuration/e.intervalDivisions)).reduce((y,w,k)=>{var C,I;return t.isBefore(t.addMinutes((C=e.interval)==null?void 0:C.start,w),(I=e.event)==null?void 0:I.start)?{height:Ht(e.intervalHeight/e.intervalDivisions*k),margin:Ht(e.intervalHeight/e.intervalDivisions*k)}:{height:y.height,margin:y.margin}},{height:"",margin:""});return{height:o,margin:g}}};return St(()=>{var r,s,u,h,o;return T(lc,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((r=e.event)==null?void 0:r.color)??void 0,rounded:(s=e.event)!=null&&s.first&&((u=e.event)!=null&&u.last)?!0:(h=e.event)!=null&&h.first?"t":(o=e.event)!=null&&o.last?"b":!1},{default:()=>{var g,y;return[(g=e.event)!=null&&g.first?(y=e.event)==null?void 0:y.title:""]}})}),{}}}),IA=We({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),Sb=ft()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...IA()},setup(e,t){const n=Lo(),r=Y(()=>{const s=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),u=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:n.format(s,"fullTime24h"),start:s,end:u,events:e.events?e.events.filter(h=>!h.allDay&&(n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u])||n.isWithinRange(s,[h.start,h.end])||n.isEqual(u,h.end))).map(h=>({...h,first:n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u]),last:n.isEqual(u,h.end)||n.isWithinRange(h.end,[s,u])})):[]}});return St(()=>{var s,u;return e.dayIndex===0?T("div",{class:"v-calendar-day__row-with-label",style:`height: ${Ht(e.intervalHeight)}`},[T("div",{class:"v-calendar-day__row-label"},[T("slot",{name:"intervalFormat",interval:r.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?n.format(r.value.start,"hours12h"):e.intervalFormat(r.value):r.value.label:""])]),T("div",{class:"v-calendar-day__row-hairline"},null),T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(s=r.value.events)==null?void 0:s.map(h=>T(wb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):T("div",{class:"v-calendar-day__row-without-label",style:`height: ${Ht(e.intervalHeight)}`},[T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(u=r.value.events)==null?void 0:u.filter(h=>!h.allDay).map(h=>T(wb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:r}}}),rV=[null,"default","comfortable","compact"],qa=We({density:{type:String,default:"default",validator:e=>rV.includes(e)}},"density");function Ps(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();return{densityClasses:Y(()=>`${t}--density-${e.density}`)}}const iV=["elevated","flat","tonal","outlined","text","plain"];function gc(e,t){return T(Gt,null,[e&&T("span",{key:"overlay",class:`${t}__overlay`},null),T("span",{key:"underlay",class:`${t}__underlay`},null)])}const ro=We({color:String,variant:{type:String,default:"elevated",validator:e=>iV.includes(e)}},"variant");function yu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();const n=Y(()=>{const{variant:u}=Br(e);return`${t}--variant-${u}`}),{colorClasses:r,colorStyles:s}=Z0(Y(()=>{const{variant:u,color:h}=Br(e);return{[["elevated","flat"].includes(u)?"background":"text"]:h}}));return{colorClasses:r,colorStyles:s,variantClasses:n}}const PA=We({baseColor:String,divided:Boolean,...Es(),...un(),...qa(),...ss(),...Di(),...Yn(),...yr(),...ro()},"VBtnGroup"),kk=ft()({name:"VBtnGroup",props:PA(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{densityClasses:s}=Ps(e),{borderClasses:u}=no(e),{elevationClasses:h}=Is(e),{roundedClasses:o}=Ni(e);da({VBtn:{height:"auto",baseColor:bt(e,"baseColor"),color:bt(e,"color"),density:bt(e,"density"),flat:!0,variant:bt(e,"variant")}}),St(()=>T(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,u.value,s.value,h.value,o.value,e.class],style:e.style},n))}}),cm=We({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),um=We({value:null,disabled:Boolean,selectedClass:String},"group-item");function dm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Yr("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=As();wn(Symbol.for(`${t.description}:id`),s);const u=yt(t,null);if(!u){if(!n)return u;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const h=bt(e,"value"),o=Y(()=>!!(u.disabled.value||e.disabled));u.register({id:s,value:h,disabled:o},r),vr(()=>{u.unregister(s)});const g=Y(()=>u.isSelected(s)),y=Y(()=>u.items.value[0].id===s),w=Y(()=>u.items.value[u.items.value.length-1].id===s),k=Y(()=>g.value&&[u.selectedClass.value,e.selectedClass]);return ut(g,C=>{r.emit("group:selected",{value:C})},{flush:"sync"}),{id:s,isSelected:g,isFirst:y,isLast:w,toggle:()=>u.select(s,!g.value),select:C=>u.select(s,C),selectedClass:k,value:h,disabled:o,group:u}}function jd(e,t){let n=!1;const r=Ai([]),s=fn(e,"modelValue",[],C=>C==null?[]:DA(r,Wr(C)),C=>{const I=sV(r,C);return e.multiple?I:I[0]}),u=Yr("useGroup");function h(C,I){const O=C,L=Symbol.for(`${t.description}:id`),B=bd(L,u==null?void 0:u.vnode).indexOf(I);Br(O.value)==null&&(O.value=B,O.useIndexAsValue=!0),B>-1?r.splice(B,0,O):r.push(O)}function o(C){if(n)return;g();const I=r.findIndex(O=>O.id===C);r.splice(I,1)}function g(){const C=r.find(I=>!I.disabled);C&&e.mandatory==="force"&&!s.value.length&&(s.value=[C.id])}Vi(()=>{g()}),vr(()=>{n=!0}),C0(()=>{for(let C=0;C<r.length;C++)r[C].useIndexAsValue&&(r[C].value=C)});function y(C,I){const O=r.find(L=>L.id===C);if(!(I&&(O!=null&&O.disabled)))if(e.multiple){const L=s.value.slice(),R=L.findIndex(j=>j===C),B=~R;if(I=I??!B,B&&e.mandatory&&L.length<=1||!B&&e.max!=null&&L.length+1>e.max)return;R<0&&I?L.push(C):R>=0&&!I&&L.splice(R,1),s.value=L}else{const L=s.value.includes(C);if(e.mandatory&&L)return;s.value=I??!L?[C]:[]}}function w(C){if(e.multiple,s.value.length){const I=s.value[0],O=r.findIndex(B=>B.id===I);let L=(O+C)%r.length,R=r[L];for(;R.disabled&&L!==O;)L=(L+C)%r.length,R=r[L];if(R.disabled)return;s.value=[r[L].id]}else{const I=r.find(O=>!O.disabled);I&&(s.value=[I.id])}}const k={register:h,unregister:o,selected:s,select:y,disabled:bt(e,"disabled"),prev:()=>w(r.length-1),next:()=>w(1),isSelected:C=>s.value.includes(C),selectedClass:Y(()=>e.selectedClass),items:Y(()=>r),getItemIndex:C=>aV(r,C)};return wn(t,k),k}function aV(e,t){const n=DA(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function DA(e,t){const n=[];return t.forEach(r=>{const s=e.find(h=>gl(r,h.value)),u=e[r];(s==null?void 0:s.value)!=null?n.push(s.id):u!=null&&n.push(u.id)}),n}function sV(e,t){const n=[];return t.forEach(r=>{const s=e.findIndex(u=>u.id===r);if(~s){const u=e[s];n.push(u.value!=null?u.value:s)}}),n}const MA=Symbol.for("vuetify:v-btn-toggle"),oV=We({...PA(),...cm()},"VBtnToggle");ft()({name:"VBtnToggle",props:oV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:s,prev:u,select:h,selected:o}=jd(e,MA);return St(()=>{const g=kk.filterProps(e);return T(kk,lt({class:["v-btn-toggle",e.class]},g,{style:e.style}),{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{isSelected:r,next:s,prev:u,select:h,selected:o})]}})}),{next:s,prev:u,select:h}}});const lV=We({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Bn=ft(!1)({name:"VDefaultsProvider",props:lV(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:s,reset:u,root:h,scoped:o}=Vd(e);return da(r,{reset:u,root:h,scoped:o,disabled:s}),()=>{var g;return(g=n.default)==null?void 0:g.call(n)}}}),cV=["x-small","small","default","large","x-large"],Hd=We({size:{type:[String,Number],default:"default"}},"size");function hm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();return B0(()=>{let n,r;return Eg(cV,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:Ht(e.size),height:Ht(e.size)}),{sizeClasses:n,sizeStyles:r}})}const uV=We({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:mn,...un(),...Hd(),...Yn({tag:"i"}),...yr()},"VIcon"),nr=ft()({name:"VIcon",props:uV(),setup(e,t){let{attrs:n,slots:r}=t;const s=ht(),{themeClasses:u}=Rr(e),{iconData:h}=tB(Y(()=>s.value||e.icon)),{sizeClasses:o}=hm(e),{textColorClasses:g,textColorStyles:y}=$a(bt(e,"color"));return St(()=>{var C,I;const w=(C=r.default)==null?void 0:C.call(r);w&&(s.value=(I=WT(w).filter(O=>O.type===im&&O.children&&typeof O.children=="string")[0])==null?void 0:I.children);const k=!!(n.onClick||n.onClickOnce);return T(h.value.component,{tag:e.tag,icon:h.value.icon,class:["v-icon","notranslate",u.value,o.value,g.value,{"v-icon--clickable":k,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[o.value?void 0:{fontSize:Ht(e.size),height:Ht(e.size),width:Ht(e.size)},y.value,e.style],role:k?"button":void 0,"aria-hidden":!k,tabindex:k?e.disabled?-1:0:void 0},{default:()=>[w]})}),{}}});function LA(e,t){const n=ht(),r=Rt(!1);if(O0){const s=new IntersectionObserver(u=>{r.value=!!u.find(h=>h.isIntersecting)},t);vr(()=>{s.disconnect()}),ut(n,(u,h)=>{h&&(s.unobserve(h),r.value=!1),u&&s.observe(u)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const dV=We({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...un(),...Hd(),...Yn({tag:"div"}),...yr()},"VProgressCircular"),X0=ft()({name:"VProgressCircular",props:dV(),setup(e,t){let{slots:n}=t;const r=20,s=2*Math.PI*r,u=ht(),{themeClasses:h}=Rr(e),{sizeClasses:o,sizeStyles:g}=hm(e),{textColorClasses:y,textColorStyles:w}=$a(bt(e,"color")),{textColorClasses:k,textColorStyles:C}=$a(bt(e,"bgColor")),{intersectionRef:I,isIntersecting:O}=LA(),{resizeRef:L,contentRect:R}=oc(),B=Y(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),j=Y(()=>Number(e.width)),Z=Y(()=>g.value?Number(e.size):R.value?R.value.width:Math.max(j.value,32)),re=Y(()=>r/(1-j.value/Z.value)*2),ie=Y(()=>j.value/Z.value*re.value),Q=Y(()=>Ht((100-B.value)/100*s));return yi(()=>{I.value=u.value,L.value=u.value}),St(()=>T(e.tag,{ref:u,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":O.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},h.value,o.value,y.value,e.class],style:[g.value,w.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:B.value},{default:()=>[T("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${re.value} ${re.value}`},[T("circle",{class:["v-progress-circular__underlay",k.value],style:C.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":ie.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),T("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":ie.value,"stroke-dasharray":s,"stroke-dashoffset":Q.value},null)]),n.default&&T("div",{class:"v-progress-circular__content"},[n.default({value:B.value})])]})),{}}}),hV=We({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...un(),...vu({location:"top"}),...Di(),...Yn(),...yr()},"VProgressLinear"),dv=ft()({name:"VProgressLinear",props:hV(),emits:{"update:modelValue":e=>!0},setup(e,t){var ae;let{slots:n}=t;const r=fn(e,"modelValue"),{isRtl:s,rtlClasses:u}=Ua(),{themeClasses:h}=Rr(e),{locationStyles:o}=qd(e),{textColorClasses:g,textColorStyles:y}=$a(e,"color"),{backgroundColorClasses:w,backgroundColorStyles:k}=gi(Y(()=>e.bgColor||e.color)),{backgroundColorClasses:C,backgroundColorStyles:I}=gi(Y(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:O,backgroundColorStyles:L}=gi(e,"color"),{roundedClasses:R}=Ni(e),{intersectionRef:B,isIntersecting:j}=LA(),Z=Y(()=>parseFloat(e.max)),re=Y(()=>parseFloat(e.height)),ie=Y(()=>Zi(parseFloat(e.bufferValue)/Z.value*100,0,100)),Q=Y(()=>Zi(parseFloat(r.value)/Z.value*100,0,100)),se=Y(()=>s.value!==e.reverse),H=Y(()=>e.indeterminate?"fade-transition":"slide-x-transition"),$=dr&&((ae=window.matchMedia)==null?void 0:ae.call(window,"(forced-colors: active)").matches);function K(te){if(!B.value)return;const{left:be,right:me,width:Ie}=B.value.getBoundingClientRect(),Ae=se.value?Ie-te.clientX+(me-Ie):te.clientX-be;r.value=Math.round(Ae/Ie*Z.value)}return St(()=>T(e.tag,{ref:B,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&j.value,"v-progress-linear--reverse":se.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},R.value,h.value,u.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Ht(re.value):0,"--v-progress-linear-height":Ht(re.value),...e.absolute?o.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Q.value,onClick:e.clickable&&K},{default:()=>[e.stream&&T("div",{key:"stream",class:["v-progress-linear__stream",g.value],style:{...y.value,[se.value?"left":"right"]:Ht(-re.value),borderTop:`${Ht(re.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Ht(re.value/4)})`,width:Ht(100-ie.value,"%"),"--v-progress-linear-stream-to":Ht(re.value*(se.value?1:-1))}},null),T("div",{class:["v-progress-linear__background",$?void 0:w.value],style:[k.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),T("div",{class:["v-progress-linear__buffer",$?void 0:C.value],style:[I.value,{opacity:parseFloat(e.bufferOpacity),width:Ht(ie.value,"%")}]},null),T(Eo,{name:H.value},{default:()=>[e.indeterminate?T("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(te=>T("div",{key:te,class:["v-progress-linear__indeterminate",te,$?void 0:O.value],style:L.value},null))]):T("div",{class:["v-progress-linear__determinate",$?void 0:O.value],style:[L.value,{width:Ht(Q.value,"%")}]},null)]}),n.default&&T("div",{class:"v-progress-linear__content"},[n.default({value:Q.value,buffer:ie.value})])]})),{}}}),hv=We({loading:[Boolean,String]},"loader");function fv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();return{loaderClasses:Y(()=>({[`${t}--loading`]:e.loading}))}}function J0(e,t){var r;let{slots:n}=t;return T("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||T(dv,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}function fV(){const e=Yr("useRoute");return Y(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function RA(){var e,t;return(t=(e=Yr("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function fm(e,t){var y,w;const n=FR("RouterLink"),r=Y(()=>!!(e.href||e.to)),s=Y(()=>(r==null?void 0:r.value)||GS(t,"click")||GS(e,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:r,isClickable:s,href:bt(e,"href")};const u=Y(()=>({...e,to:bt(()=>e.to||"")})),h=n.useLink(u.value),o=Y(()=>e.to?h:void 0),g=fV();return{isLink:r,isClickable:s,route:(y=o.value)==null?void 0:y.route,navigate:(w=o.value)==null?void 0:w.navigate,isActive:Y(()=>{var k,C,I;return o.value?e.exact?g.value?((I=o.value.isExactActive)==null?void 0:I.value)&&gl(o.value.route.value.query,g.value.query):((C=o.value.isExactActive)==null?void 0:C.value)??!1:((k=o.value.isActive)==null?void 0:k.value)??!1:!1}),href:Y(()=>{var k;return e.to?(k=o.value)==null?void 0:k.route.value.href:e.href})}}const mv=We({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let b_=!1;function mV(e,t){let n=!1,r,s;dr&&(Xn(()=>{window.addEventListener("popstate",u),r=e==null?void 0:e.beforeEach((h,o,g)=>{b_?n?t(g):g():setTimeout(()=>n?t(g):g()),b_=!0}),s=e==null?void 0:e.afterEach(()=>{b_=!1})}),ha(()=>{window.removeEventListener("popstate",u),r==null||r(),s==null||s()}));function u(h){var o;(o=h.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function pV(e,t){ut(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Xn(()=>{t(!0)})},{immediate:!0})}const kb=Symbol("rippleStop"),gV=80;function Ck(e,t){e.style.transform=t,e.style.webkitTransform=t}function Cb(e){return e.constructor.name==="TouchEvent"}function OA(e){return e.constructor.name==="KeyboardEvent"}const vV=function(e,t){var k;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!OA(e)){const C=t.getBoundingClientRect(),I=Cb(e)?e.touches[e.touches.length-1]:e;r=I.clientX-C.left,s=I.clientY-C.top}let u=0,h=.3;(k=t._ripple)!=null&&k.circle?(h=.15,u=t.clientWidth/2,u=n.center?u:u+Math.sqrt((r-u)**2+(s-u)**2)/4):u=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const o=`${(t.clientWidth-u*2)/2}px`,g=`${(t.clientHeight-u*2)/2}px`,y=n.center?o:`${r-u}px`,w=n.center?g:`${s-u}px`;return{radius:u,scale:h,x:y,y:w,centerX:o,centerY:g}},Rg={show(e,t){var I;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((I=t==null?void 0:t._ripple)!=null&&I.enabled))return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:u,scale:h,x:o,y:g,centerX:y,centerY:w}=vV(e,t,n),k=`${u*2}px`;s.className="v-ripple__animation",s.style.width=k,s.style.height=k,t.appendChild(r);const C=window.getComputedStyle(t);C&&C.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),Ck(s,`translate(${o}, ${g}) scale3d(${h},${h},${h})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),Ck(s,`translate(${y}, ${w}) scale3d(1,1,1)`)},0)},hide(e){var u;if(!((u=e==null?void 0:e._ripple)!=null&&u.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===e&&e.removeChild(n.parentNode)},300)},s)}};function FA(e){return typeof e>"u"||!!e}function Nf(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[kb])){if(e[kb]=!0,Cb(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||OA(e),n._ripple.class&&(t.class=n._ripple.class),Cb(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Rg.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},gV)}else Rg.show(e,n,t)}}function Tk(e){e[kb]=!0}function Xa(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Xa(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Rg.hide(t)}}function zA(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let $f=!1;function BA(e){!$f&&(e.keyCode===NS.enter||e.keyCode===NS.space)&&($f=!0,Nf(e))}function VA(e){$f=!1,Xa(e)}function NA(e){$f&&($f=!1,Xa(e))}function $A(e,t,n){const{value:r,modifiers:s}=t,u=FA(r);if(u||Rg.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=u,e._ripple.centered=s.center,e._ripple.circle=s.circle,Ag(r)&&r.class&&(e._ripple.class=r.class),u&&!n){if(s.stop){e.addEventListener("touchstart",Tk,{passive:!0}),e.addEventListener("mousedown",Tk);return}e.addEventListener("touchstart",Nf,{passive:!0}),e.addEventListener("touchend",Xa,{passive:!0}),e.addEventListener("touchmove",zA,{passive:!0}),e.addEventListener("touchcancel",Xa),e.addEventListener("mousedown",Nf),e.addEventListener("mouseup",Xa),e.addEventListener("mouseleave",Xa),e.addEventListener("keydown",BA),e.addEventListener("keyup",VA),e.addEventListener("blur",NA),e.addEventListener("dragstart",Xa,{passive:!0})}else!u&&n&&UA(e)}function UA(e){e.removeEventListener("mousedown",Nf),e.removeEventListener("touchstart",Nf),e.removeEventListener("touchend",Xa),e.removeEventListener("touchmove",zA),e.removeEventListener("touchcancel",Xa),e.removeEventListener("mouseup",Xa),e.removeEventListener("mouseleave",Xa),e.removeEventListener("keydown",BA),e.removeEventListener("keyup",VA),e.removeEventListener("dragstart",Xa),e.removeEventListener("blur",NA)}function yV(e,t){$A(e,t,!1)}function _V(e){delete e._ripple,UA(e)}function bV(e,t){if(t.value===t.oldValue)return;const n=FA(t.oldValue);$A(e,t,n)}const _u={mounted:yV,unmounted:_V,updated:bV},Q0=We({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:MA},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:mn,appendIcon:mn,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Es(),...un(),...qa(),...is(),...ss(),...um(),...hv(),...vu(),...om(),...Di(),...mv(),...Hd(),...Yn({tag:"button"}),...yr(),...ro({variant:"elevated"})},"VBtn"),Jt=ft()({name:"VBtn",props:Q0(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{borderClasses:u}=no(e),{densityClasses:h}=Ps(e),{dimensionStyles:o}=as(e),{elevationClasses:g}=Is(e),{loaderClasses:y}=fv(e),{locationStyles:w}=qd(e),{positionClasses:k}=lm(e),{roundedClasses:C}=Ni(e),{sizeClasses:I,sizeStyles:O}=hm(e),L=dm(e,e.symbol,!1),R=fm(e,n),B=Y(()=>{var ae;return e.active!==void 0?e.active:R.isLink.value?(ae=R.isActive)==null?void 0:ae.value:L==null?void 0:L.isSelected.value}),j=Y(()=>B.value?e.activeColor??e.color:e.color),Z=Y(()=>{var te,be;return{color:(L==null?void 0:L.isSelected.value)&&(!R.isLink.value||((te=R.isActive)==null?void 0:te.value))||!L||((be=R.isActive)==null?void 0:be.value)?j.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:re,colorStyles:ie,variantClasses:Q}=yu(Z),se=Y(()=>(L==null?void 0:L.disabled.value)||e.disabled),H=Y(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),$=Y(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function K(ae){var te;se.value||R.isLink.value&&(ae.metaKey||ae.ctrlKey||ae.shiftKey||ae.button!==0||n.target==="_blank")||((te=R.navigate)==null||te.call(R,ae),L==null||L.toggle())}return pV(R,L==null?void 0:L.select),St(()=>{const ae=R.isLink.value?"a":e.tag,te=!!(e.prependIcon||r.prepend),be=!!(e.appendIcon||r.append),me=!!(e.icon&&e.icon!==!0);return vi(T(ae,{type:ae==="a"?void 0:"button",class:["v-btn",L==null?void 0:L.selectedClass.value,{"v-btn--active":B.value,"v-btn--block":e.block,"v-btn--disabled":se.value,"v-btn--elevated":H.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},s.value,u.value,re.value,h.value,g.value,y.value,k.value,C.value,I.value,Q.value,e.class],style:[ie.value,o.value,w.value,O.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:se.value||void 0,href:R.href.value,tabindex:e.loading||e.readonly?-1:void 0,onClick:K,value:$.value},{default:()=>{var Ie;return[gc(!0,"v-btn"),!e.icon&&te&&T("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):T(nr,{key:"prepend-icon",icon:e.prependIcon},null)]),T("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&me?T(nr,{key:"content-icon",icon:e.icon},null):T(Bn,{key:"content-defaults",disabled:!me,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var Ae;return[((Ae=r.default)==null?void 0:Ae.call(r))??e.text]}})]),!e.icon&&be&&T("span",{key:"append",class:"v-btn__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):T(nr,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&T("span",{key:"loader",class:"v-btn__loader"},[((Ie=r.loader)==null?void 0:Ie.call(r))??T(X0,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[_u,!se.value&&e.ripple,"",{center:!!e.icon}]])}),{group:L}}}),qA=We({hideDayHeader:Boolean,intervals:{type:Number,default:24},...IA()},"VCalendarDay"),ug=ft()({name:"VCalendarDay",props:qA(),setup(e){const t=Lo(),n=Y(()=>[...Array.from({length:e.intervals},(r,s)=>s).filter((r,s)=>e.intervalDuration*(s+e.intervalStart)<1440)]);return St(()=>{const r=Sb.filterProps(e);return T("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&T("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[t.format(e.day.date,"weekdayShort"),T("div",null,[T(Jt,{icon:!0,text:t.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((s,u)=>T(Sb,lt({index:u},r),null))])}),{intervals:n}}}),jA=We({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),Tb=ft()({name:"VCalendarHeader",props:jA(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,t){let{emit:n}=t;const{t:r}=si();function s(){n("click:prev")}function u(){n("click:next")}function h(){n("click:toToday")}return St(()=>T("div",{class:"v-calendar-header"},[e.text&&T(Jt,{key:"today",class:"v-calendar-header__today",text:r(e.text),variant:"outlined",onClick:h},null),T(Jt,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:s},null),T(Jt,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:u},null),T("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),bu=We({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),ws=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:s,group:u,...h}=e,{component:o=u?R0:Eo,...g}=typeof r=="object"?r:{};return Jr(o,lt(typeof r=="string"?{name:s?"":r}:g,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:u}).filter(y=>{let[w,k]=y;return k!==void 0})),h),n)},xV=We({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:mn,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...un(),...vu({location:"top end"}),...Di(),...Yn(),...yr(),...bu({transition:"scale-rotate-transition"})},"VBadge"),wV=ft()({name:"VBadge",inheritAttrs:!1,props:xV(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:r}=gi(bt(e,"color")),{roundedClasses:s}=Ni(e),{t:u}=si(),{textColorClasses:h,textColorStyles:o}=$a(bt(e,"textColor")),{themeClasses:g}=iB(),{locationStyles:y}=qd(e,!0,w=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(w)?+(e.offsetY??0):["left","right"].includes(w)?+(e.offsetX??0):0));return St(()=>{const w=Number(e.content),k=!e.max||isNaN(w)?e.content:w<=+e.max?w:`${e.max}+`,[C,I]=db(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return T(e.tag,lt({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},I,{style:e.style}),{default:()=>{var O,L;return[T("div",{class:"v-badge__wrapper"},[(L=(O=t.slots).default)==null?void 0:L.call(O),T(ws,{transition:e.transition},{default:()=>{var R,B;return[vi(T("span",lt({class:["v-badge__badge",g.value,n.value,s.value,h.value],style:[r.value,o.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":u(e.label,w),"aria-live":"polite",role:"status"},C),[e.dot?void 0:t.slots.badge?(B=(R=t.slots).badge)==null?void 0:B.call(R):e.icon?T(nr,{icon:e.icon},null):k]),[[pl,e.modelValue]])]}})])]}})}),{}}}),SV=We({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function os(e,t,n){return ft()({name:e,props:SV({mode:n,origin:t}),setup(r,s){let{slots:u}=s;const h={onBeforeEnter(o){r.origin&&(o.style.transformOrigin=r.origin)},onLeave(o){if(r.leaveAbsolute){const{offsetTop:g,offsetLeft:y,offsetWidth:w,offsetHeight:k}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${g}px`,o.style.left=`${y}px`,o.style.width=`${w}px`,o.style.height=`${k}px`}r.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(r.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:g,top:y,left:w,width:k,height:C}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=g||"",o.style.top=y||"",o.style.left=w||"",o.style.width=k||"",o.style.height=C||""}}};return()=>{const o=r.group?R0:Eo;return Jr(o,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:h},u.default)}}})}function HA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ft()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,s){let{slots:u}=s;const h=r.group?R0:Eo;return()=>Jr(h,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},u.default)}})}function GA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=ts(`offset-${n}`);return{onBeforeEnter(h){h._parent=h.parentNode,h._initialStyle={transition:h.style.transition,overflow:h.style.overflow,[n]:h.style[n]}},onEnter(h){const o=h._initialStyle;h.style.setProperty("transition","none","important"),h.style.overflow="hidden";const g=`${h[r]}px`;h.style[n]="0",h.offsetHeight,h.style.transition=o.transition,e&&h._parent&&h._parent.classList.add(e),requestAnimationFrame(()=>{h.style[n]=g})},onAfterEnter:u,onEnterCancelled:u,onLeave(h){h._initialStyle={transition:"",overflow:h.style.overflow,[n]:h.style[n]},h.style.overflow="hidden",h.style[n]=`${h[r]}px`,h.offsetHeight,requestAnimationFrame(()=>h.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(h){e&&h._parent&&h._parent.classList.remove(e),u(h)}function u(h){const o=h._initialStyle[n];h.style.overflow=h._initialStyle.overflow,o!=null&&(h.style[n]=o),delete h._initialStyle}}const kV=We({target:[Object,Array]},"v-dialog-transition"),ex=ft()({name:"VDialogTransition",props:kV(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,u){var C;await new Promise(I=>requestAnimationFrame(I)),await new Promise(I=>requestAnimationFrame(I)),s.style.visibility="";const{x:h,y:o,sx:g,sy:y,speed:w}=Ek(e.target,s),k=Zc(s,[{transform:`translate(${h}px, ${o}px) scale(${g}, ${y})`,opacity:0},{}],{duration:225*w,easing:XF});(C=Ak(s))==null||C.forEach(I=>{Zc(I,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*w,easing:Ff})}),k.finished.then(()=>u())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,u){var C;await new Promise(I=>requestAnimationFrame(I));const{x:h,y:o,sx:g,sy:y,speed:w}=Ek(e.target,s);Zc(s,[{},{transform:`translate(${h}px, ${o}px) scale(${g}, ${y})`,opacity:0}],{duration:125*w,easing:JF}).finished.then(()=>u()),(C=Ak(s))==null||C.forEach(I=>{Zc(I,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*w,easing:Ff})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?T(Eo,lt({name:"dialog-transition"},r,{css:!1}),n):T(Eo,{name:"dialog-transition"},n)}});function Ak(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function Ek(e,t){const n=XT(e),r=$0(t),[s,u]=getComputedStyle(t).transformOrigin.split(" ").map(B=>parseFloat(B)),[h,o]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let g=n.left+n.width/2;h==="left"||o==="left"?g-=n.width/2:(h==="right"||o==="right")&&(g+=n.width/2);let y=n.top+n.height/2;h==="top"||o==="top"?y-=n.height/2:(h==="bottom"||o==="bottom")&&(y+=n.height/2);const w=n.width/r.width,k=n.height/r.height,C=Math.max(1,w,k),I=w/C||0,O=k/C||0,L=r.width*r.height/(window.innerWidth*window.innerHeight),R=L>.12?Math.min(1.5,(L-.12)*10+1):1;return{x:g-(s+r.left),y:y-(u+r.top),sx:I,sy:O,speed:R}}os("fab-transition","center center","out-in");os("dialog-bottom-transition");os("dialog-top-transition");const Ab=os("fade-transition");os("scale-transition");os("scroll-x-transition");os("scroll-x-reverse-transition");os("scroll-y-transition");os("scroll-y-reverse-transition");os("slide-x-transition");os("slide-x-reverse-transition");const WA=os("slide-y-transition");os("slide-y-reverse-transition");const tx=HA("expand-transition",GA()),YA=HA("expand-x-transition",GA("",!0));function CV(e){return{aspectStyles:Y(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const ZA=We({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...un(),...is()},"VResponsive"),Ik=ft()({name:"VResponsive",props:ZA(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=CV(e),{dimensionStyles:s}=as(e);return St(()=>{var u;return T("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[T("div",{class:"v-responsive__sizer",style:r.value},null),(u=n.additional)==null?void 0:u.call(n),n.default&&T("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function TV(e,t){if(!O0)return;const n=t.modifiers||{},r=t.value,{handler:s,options:u}=typeof r=="object"?r:{handler:r,options:{}},h=new IntersectionObserver(function(){var k;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1?arguments[1]:void 0;const y=(k=e._observe)==null?void 0:k[t.instance.$.uid];if(!y)return;const w=o.some(C=>C.isIntersecting);s&&(!n.quiet||y.init)&&(!n.once||w||y.init)&&s(w,o,g),w&&n.once?KA(e,t):y.init=!0},u);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:h},h.observe(e)}function KA(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const nx={mounted:TV,unmounted:KA},AV=We({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...ZA(),...un(),...Di(),...bu()},"VImg"),mm=ft()({name:"VImg",directives:{intersect:nx},props:AV(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=gi(bt(e,"color")),{roundedClasses:h}=Ni(e),o=Yr("VImg"),g=Rt(""),y=ht(),w=Rt(e.eager?"loading":"idle"),k=Rt(),C=Rt(),I=Y(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),O=Y(()=>I.value.aspect||k.value/C.value||0);ut(()=>e.src,()=>{L(w.value!=="idle")}),ut(O,(te,be)=>{!te&&be&&y.value&&re(y.value)}),k0(()=>L());function L(te){if(!(e.eager&&te)&&!(O0&&!te&&!e.eager)){if(w.value="loading",I.value.lazySrc){const be=new Image;be.src=I.value.lazySrc,re(be,null)}I.value.src&&Xn(()=>{var be;n("loadstart",((be=y.value)==null?void 0:be.currentSrc)||I.value.src),setTimeout(()=>{var me;if(!o.isUnmounted)if((me=y.value)!=null&&me.complete){if(y.value.naturalWidth||B(),w.value==="error")return;O.value||re(y.value,null),w.value==="loading"&&R()}else O.value||re(y.value),j()})})}}function R(){var te;o.isUnmounted||(j(),re(y.value),w.value="loaded",n("load",((te=y.value)==null?void 0:te.currentSrc)||I.value.src))}function B(){var te;o.isUnmounted||(w.value="error",n("error",((te=y.value)==null?void 0:te.currentSrc)||I.value.src))}function j(){const te=y.value;te&&(g.value=te.currentSrc||te.src)}let Z=-1;vr(()=>{clearTimeout(Z)});function re(te){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const me=()=>{if(clearTimeout(Z),o.isUnmounted)return;const{naturalHeight:Ie,naturalWidth:Ae}=te;Ie||Ae?(k.value=Ae,C.value=Ie):!te.complete&&w.value==="loading"&&be!=null?Z=window.setTimeout(me,be):(te.currentSrc.endsWith(".svg")||te.currentSrc.startsWith("data:image/svg+xml"))&&(k.value=1,C.value=1)};me()}const ie=Y(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),Q=()=>{var me;if(!I.value.src||w.value==="idle")return null;const te=T("img",{class:["v-img__img",ie.value],style:{objectPosition:e.position},src:I.value.src,srcset:I.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:y,onLoad:R,onError:B},null),be=(me=r.sources)==null?void 0:me.call(r);return T(ws,{transition:e.transition,appear:!0},{default:()=>[vi(be?T("picture",{class:"v-img__picture"},[be,te]):te,[[pl,w.value==="loaded"]])]})},se=()=>T(ws,{transition:e.transition},{default:()=>[I.value.lazySrc&&w.value!=="loaded"&&T("img",{class:["v-img__img","v-img__img--preload",ie.value],style:{objectPosition:e.position},src:I.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),H=()=>r.placeholder?T(ws,{transition:e.transition,appear:!0},{default:()=>[(w.value==="loading"||w.value==="error"&&!r.error)&&T("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,$=()=>r.error?T(ws,{transition:e.transition,appear:!0},{default:()=>[w.value==="error"&&T("div",{class:"v-img__error"},[r.error()])]}):null,K=()=>e.gradient?T("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,ae=Rt(!1);{const te=ut(O,be=>{be&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{ae.value=!0})}),te())})}return St(()=>{const te=Ik.filterProps(e);return vi(T(Ik,lt({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!ae.value},s.value,h.value,e.class],style:[{width:Ht(e.width==="auto"?k.value:e.width)},u.value,e.style]},te,{aspectRatio:O.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>T(Gt,null,[T(Q,null,null),T(se,null,null),T(K,null,null),T(H,null,null),T($,null,null)]),default:r.default}),[[to("intersect"),{handler:L,options:e.options},null,{once:!0}]])}),{currentSrc:g,image:y,state:w,naturalWidth:k,naturalHeight:C}}}),EV=We({start:Boolean,end:Boolean,icon:mn,image:String,text:String,...Es(),...un(),...qa(),...Di(),...Hd(),...Yn(),...yr(),...ro({variant:"flat"})},"VAvatar"),Io=ft()({name:"VAvatar",props:EV(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{borderClasses:s}=no(e),{colorClasses:u,colorStyles:h,variantClasses:o}=yu(e),{densityClasses:g}=Ps(e),{roundedClasses:y}=Ni(e),{sizeClasses:w,sizeStyles:k}=hm(e);return St(()=>T(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,s.value,u.value,g.value,y.value,w.value,o.value,e.class],style:[h.value,k.value,e.style]},{default:()=>[n.default?T(Bn,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?T(mm,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?T(nr,{key:"icon",icon:e.icon},null):e.text,gc(!1,"v-avatar")]})),{}}});function IV(e){let{selectedElement:t,containerElement:n,isRtl:r,isHorizontal:s}=e;const u=Uf(s,n),h=XA(s,r,n),o=Uf(s,t),g=JA(s,t),y=o*.4;return h>g?g-y:h+u<g+o?g-u+o+y:h}function PV(e){let{selectedElement:t,containerElement:n,isHorizontal:r}=e;const s=Uf(r,n),u=JA(r,t),h=Uf(r,t);return u-s/2+h/2}function Pk(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function DV(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function XA(e,t,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:s,scrollWidth:u}=n;return e?t?u-s+r:r:n.scrollTop}function Uf(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function JA(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const MV=Symbol.for("vuetify:v-slide-group"),rx=We({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:MV},nextIcon:{type:mn,default:"$next"},prevIcon:{type:mn,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...un(),...Ud({mobile:null}),...Yn(),...cm({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Og=ft()({name:"VSlideGroup",props:rx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=Ua(),{displayClasses:s,mobile:u}=vl(e),h=jd(e,e.symbol),o=Rt(!1),g=Rt(0),y=Rt(0),w=Rt(0),k=Y(()=>e.direction==="horizontal"),{resizeRef:C,contentRect:I}=oc(),{resizeRef:O,contentRect:L}=oc(),R=Xz(),B=Y(()=>({container:C.el,duration:200,easing:"easeOutQuart"})),j=Y(()=>h.selected.value.length?h.items.value.findIndex(Ve=>Ve.id===h.selected.value[0]):-1),Z=Y(()=>h.selected.value.length?h.items.value.findIndex(Ve=>Ve.id===h.selected.value[h.selected.value.length-1]):-1);if(dr){let Ve=-1;ut(()=>[h.selected.value,I.value,L.value,k.value],()=>{cancelAnimationFrame(Ve),Ve=requestAnimationFrame(()=>{if(I.value&&L.value){const $e=k.value?"width":"height";y.value=I.value[$e],w.value=L.value[$e],o.value=y.value+1<w.value}if(j.value>=0&&O.el){const $e=O.el.children[Z.value];ie($e,e.centerActive)}})})}const re=Rt(!1);function ie(Ve,$e){let qe=0;$e?qe=PV({containerElement:C.el,isHorizontal:k.value,selectedElement:Ve}):qe=IV({containerElement:C.el,isHorizontal:k.value,isRtl:r.value,selectedElement:Ve}),Q(qe)}function Q(Ve){if(!dr||!C.el)return;const $e=Uf(k.value,C.el),qe=XA(k.value,r.value,C.el);if(!(Pk(k.value,C.el)<=$e||Math.abs(Ve-qe)<16)){if(k.value&&r.value&&C.el){const{scrollWidth:Ct,offsetWidth:$t}=C.el;Ve=Ct-$t-Ve}k.value?R.horizontal(Ve,B.value):R(Ve,B.value)}}function se(Ve){const{scrollTop:$e,scrollLeft:qe}=Ve.target;g.value=k.value?qe:$e}function H(Ve){if(re.value=!0,!(!o.value||!O.el)){for(const $e of Ve.composedPath())for(const qe of O.el.children)if(qe===$e){ie(qe);return}}}function $(Ve){re.value=!1}let K=!1;function ae(Ve){var $e;!K&&!re.value&&!(Ve.relatedTarget&&(($e=O.el)!=null&&$e.contains(Ve.relatedTarget)))&&me(),K=!1}function te(){K=!0}function be(Ve){if(!O.el)return;function $e(qe){Ve.preventDefault(),me(qe)}k.value?Ve.key==="ArrowRight"?$e(r.value?"prev":"next"):Ve.key==="ArrowLeft"&&$e(r.value?"next":"prev"):Ve.key==="ArrowDown"?$e("next"):Ve.key==="ArrowUp"&&$e("prev"),Ve.key==="Home"?$e("first"):Ve.key==="End"&&$e("last")}function me(Ve){var qe,pt;if(!O.el)return;let $e;if(!Ve)$e=Rf(O.el)[0];else if(Ve==="next"){if($e=(qe=O.el.querySelector(":focus"))==null?void 0:qe.nextElementSibling,!$e)return me("first")}else if(Ve==="prev"){if($e=(pt=O.el.querySelector(":focus"))==null?void 0:pt.previousElementSibling,!$e)return me("last")}else Ve==="first"?$e=O.el.firstElementChild:Ve==="last"&&($e=O.el.lastElementChild);$e&&$e.focus({preventScroll:!0})}function Ie(Ve){const $e=k.value&&r.value?-1:1,qe=(Ve==="prev"?-$e:$e)*y.value;let pt=g.value+qe;if(k.value&&r.value&&C.el){const{scrollWidth:Ct,offsetWidth:$t}=C.el;pt+=Ct-$t}Q(pt)}const Ae=Y(()=>({next:h.next,prev:h.prev,select:h.select,isSelected:h.isSelected})),Ue=Y(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return o.value||Math.abs(g.value)>0;case"mobile":return u.value||o.value||Math.abs(g.value)>0;default:return!u.value&&(o.value||Math.abs(g.value)>0)}}),Fe=Y(()=>Math.abs(g.value)>1),Ce=Y(()=>{if(!C.value)return!1;const Ve=Pk(k.value,C.el),$e=DV(k.value,C.el);return Ve-$e-Math.abs(g.value)>1});return St(()=>T(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!k.value,"v-slide-group--has-affixes":Ue.value,"v-slide-group--is-overflowing":o.value},s.value,e.class],style:e.style,tabindex:re.value||h.selected.value.length?-1:0,onFocus:ae},{default:()=>{var Ve,$e,qe;return[Ue.value&&T("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Fe.value}],onMousedown:te,onClick:()=>Fe.value&&Ie("prev")},[((Ve=n.prev)==null?void 0:Ve.call(n,Ae.value))??T(Ab,null,{default:()=>[T(nr,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),T("div",{key:"container",ref:C,class:"v-slide-group__container",onScroll:se},[T("div",{ref:O,class:"v-slide-group__content",onFocusin:H,onFocusout:$,onKeydown:be},[($e=n.default)==null?void 0:$e.call(n,Ae.value)])]),Ue.value&&T("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Ce.value}],onMousedown:te,onClick:()=>Ce.value&&Ie("next")},[((qe=n.next)==null?void 0:qe.call(n,Ae.value))??T(Ab,null,{default:()=>[T(nr,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:h.selected,scrollTo:Ie,scrollOffset:g,focus:me,hasPrev:Fe,hasNext:Ce}}}),QA=Symbol.for("vuetify:v-chip-group"),LV=We({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:gl},...rx(),...un(),...cm({selectedClass:"v-chip--selected"}),...Yn(),...yr(),...ro({variant:"tonal"})},"VChipGroup");ft()({name:"VChipGroup",props:LV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{isSelected:s,select:u,next:h,prev:o,selected:g}=jd(e,QA);return da({VChip:{color:bt(e,"color"),disabled:bt(e,"disabled"),filter:bt(e,"filter"),variant:bt(e,"variant")}}),St(()=>{const y=Og.filterProps(e);return T(Og,lt(y,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var w;return[(w=n.default)==null?void 0:w.call(n,{isSelected:s,select:u,next:h,prev:o,selected:g.value})]}})}),{}}});const RV=We({activeClass:String,appendAvatar:String,appendIcon:mn,closable:Boolean,closeIcon:{type:mn,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:mn,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ii(),onClickOnce:Ii(),...Es(),...un(),...qa(),...ss(),...um(),...Di(),...mv(),...Hd(),...Yn({tag:"span"}),...yr(),...ro({variant:"tonal"})},"VChip"),hl=ft()({name:"VChip",directives:{Ripple:_u},props:RV(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=si(),{borderClasses:h}=no(e),{colorClasses:o,colorStyles:g,variantClasses:y}=yu(e),{densityClasses:w}=Ps(e),{elevationClasses:k}=Is(e),{roundedClasses:C}=Ni(e),{sizeClasses:I}=hm(e),{themeClasses:O}=Rr(e),L=fn(e,"modelValue"),R=dm(e,QA,!1),B=fm(e,n),j=Y(()=>e.link!==!1&&B.isLink.value),Z=Y(()=>!e.disabled&&e.link!==!1&&(!!R||e.link||B.isClickable.value)),re=Y(()=>({"aria-label":u(e.closeLabel),onClick(se){se.preventDefault(),se.stopPropagation(),L.value=!1,r("click:close",se)}}));function ie(se){var H;r("click",se),Z.value&&((H=B.navigate)==null||H.call(B,se),R==null||R.toggle())}function Q(se){(se.key==="Enter"||se.key===" ")&&(se.preventDefault(),ie(se))}return()=>{const se=B.isLink.value?"a":e.tag,H=!!(e.appendIcon||e.appendAvatar),$=!!(H||s.append),K=!!(s.close||e.closable),ae=!!(s.filter||e.filter)&&R,te=!!(e.prependIcon||e.prependAvatar),be=!!(te||s.prepend),me=!R||R.isSelected.value;return L.value&&vi(T(se,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":Z.value,"v-chip--filter":ae,"v-chip--pill":e.pill},O.value,h.value,me?o.value:void 0,w.value,k.value,C.value,I.value,y.value,R==null?void 0:R.selectedClass.value,e.class],style:[me?g.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:B.href.value,tabindex:Z.value?0:void 0,onClick:ie,onKeydown:Z.value&&!j.value&&Q},{default:()=>{var Ie;return[gc(Z.value,"v-chip"),ae&&T(YA,{key:"filter"},{default:()=>[vi(T("div",{class:"v-chip__filter"},[s.filter?T(Bn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},s.filter):T(nr,{key:"filter-icon",icon:e.filterIcon},null)]),[[pl,R.isSelected.value]])]}),be&&T("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?T(Bn,{key:"prepend-defaults",disabled:!te,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):T(Gt,null,[e.prependIcon&&T(nr,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&T(Io,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),T("div",{class:"v-chip__content","data-no-activator":""},[((Ie=s.default)==null?void 0:Ie.call(s,{isSelected:R==null?void 0:R.isSelected.value,selectedClass:R==null?void 0:R.selectedClass.value,select:R==null?void 0:R.select,toggle:R==null?void 0:R.toggle,value:R==null?void 0:R.value.value,disabled:e.disabled}))??e.text]),$&&T("div",{key:"append",class:"v-chip__append"},[s.append?T(Bn,{key:"append-defaults",disabled:!H,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):T(Gt,null,[e.appendIcon&&T(nr,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&T(Io,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),K&&T("button",lt({key:"close",class:"v-chip__close",type:"button"},re.value),[s.close?T(Bn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):T(nr,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[to("ripple"),Z.value&&e.ripple,null]])}}}),OV=We({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),Dk=ft()({name:"VCalendarEvent",props:OV(),setup(e){return St(()=>T(hl,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var t,n;return[T(wV,{inline:!0,dot:!0,color:(t=e.event)==null?void 0:t.color},null),(n=e.event)==null?void 0:n.title]}})),{}}}),FV=We({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),eE=ft()({name:"VCalendarMonthDay",props:FV(),setup(e,t){let{emit:n,slots:r}=t;return St(()=>{var u,h,o,g,y,w,k,C,I,O,L;const s=!!(e.title||(u=r.title)!=null&&u.call(r,{title:e.title}));return T("div",{class:["v-calendar-month__day"]},[!((h=e.day)!=null&&h.isHidden)&&s&&T("div",{key:"title",class:"v-calendar-weekly__day-label"},[((o=r.title)==null?void 0:o.call(r,{title:e.title}))??T(Jt,{class:(g=e.day)!=null&&g.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(y=e.day)!=null&&y.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((w=e.day)!=null&&w.isHidden)&&T("div",{key:"content",class:"v-calendar-weekly__day-content"},[((k=r.content)==null?void 0:k.call(r))??T("div",null,[T("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(C=e.events)==null?void 0:C.filter(R=>R.allDay).map(R=>r.event?r.event({day:e.day,allDay:!0,event:R}):T(Dk,{day:e.day,event:R,allDay:!0},null))]),T("div",{class:"v-calendar-weekly__day-events-container"},[(I=e.events)==null?void 0:I.filter(R=>!R.allDay).map(R=>r.event?r.event({day:e.day,event:R,allDay:!1}):T(Dk,{day:e.day,event:R},null))])])]),!((O=e.day)!=null&&O.isHidden)&&((L=r.default)==null?void 0:L.call(r))])}),{}}}),tE=We({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function nE(e){const t=Lo(),n=fn(e,"modelValue",[],I=>Wr(I)),r=Y(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),s=fn(e,"year",void 0,I=>{const O=I!=null?Number(I):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),O))},I=>t.getYear(I)),u=fn(e,"month",void 0,I=>{const O=I!=null?Number(I):t.getMonth(r.value),L=t.setYear(t.startOfMonth(t.date()),t.getYear(s.value));return t.setMonth(L,O)},I=>t.getMonth(I)),h=Y(()=>{const I=Number(e.firstDayOfWeek??0);return e.weekdays.map(O=>(O+I)%7)}),o=Y(()=>{const I=t.getWeekArray(u.value,e.firstDayOfWeek),O=I.flat(),L=6*7;if(e.weeksInMonth==="static"&&O.length<L){const R=O[O.length-1];let B=[];for(let j=1;j<=L-O.length;j++)B.push(t.addDays(R,j)),j%7===0&&(I.push(B),B=[])}return I});function g(I,O){return I.filter(L=>h.value.includes(t.toJsDate(L).getDay())).map((L,R)=>{const B=t.toISO(L),j=!t.isSameMonth(L,u.value),Z=t.isSameDay(L,t.startOfMonth(u.value)),re=t.isSameDay(L,t.endOfMonth(u.value)),ie=t.isSameDay(L,u.value);return{date:L,isoDate:B,formatted:t.format(L,"keyboardDate"),year:t.getYear(L),month:t.getMonth(L),isDisabled:C(L),isWeekStart:R%7===0,isWeekEnd:R%7===6,isToday:t.isSameDay(L,O),isAdjacent:j,isHidden:j&&!e.showAdjacentMonths,isStart:Z,isSelected:n.value.some(Q=>t.isSameDay(L,Q)),isEnd:re,isSame:ie,localized:t.format(L,"dayOfMonth")}})}const y=Y(()=>{const I=t.startOfWeek(r.value,e.firstDayOfWeek),O=[];for(let R=0;R<=6;R++)O.push(t.addDays(I,R));const L=t.date();return g(O,L)}),w=Y(()=>{const I=o.value.flat(),O=t.date();return g(I,O)}),k=Y(()=>o.value.map(I=>I.length?Gz(t,I[0]):null));function C(I){if(e.disabled)return!0;const O=t.date(I);return e.min&&t.isAfter(t.date(e.min),O)||e.max&&t.isAfter(O,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(L=>t.isSameDay(t.date(L),O)):typeof e.allowedDates=="function"?!e.allowedDates(O):!1}return{displayValue:r,daysInMonth:w,daysInWeek:y,genDays:g,model:n,weeksInMonth:o,weekDays:h,weekNumbers:k}}const zV=We({hideHeader:Boolean,hideWeekNumber:Boolean,...tE(),...qA(),...jA()},"VCalender"),BV=ft()({name:"VCalendar",props:zV(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,t){let{emit:n,slots:r}=t;const s=Lo(),{daysInMonth:u,daysInWeek:h,genDays:o,model:g,displayValue:y,weekNumbers:w,weekDays:k}=nE(e),C=s.getWeekdays();function I(){e.viewMode==="month"&&(g.value=[s.addMonths(y.value,1)]),e.viewMode==="week"&&(g.value=[s.addDays(y.value,7)]),e.viewMode==="day"&&(g.value=[s.addDays(y.value,1)])}function O(){e.viewMode==="month"&&(g.value=[s.addMonths(y.value,-1)]),e.viewMode==="week"&&(g.value=[s.addDays(y.value,-7)]),e.viewMode==="day"&&(g.value=[s.addDays(y.value,-1)])}function L(){g.value=[s.date()]}const R=Y(()=>s.format(y.value,"monthAndYear"));return St(()=>{var Z;const B=ug.filterProps(e),j=Tb.filterProps(e);return T("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[T("div",null,[!e.hideHeader&&(r.header?r.header({title:R.value}):T(Tb,lt({key:"calendar-header"},j,{title:R.value,"onClick:next":I,"onClick:prev":O,"onClick:toToday":L}),null))]),T("div",{class:["v-calendar__container",`days__${k.value.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&T("div",{class:["v-calendar-weekly__head",`days__${k.value.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":T("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),k.value.map(re=>T("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[C[re]]))]),e.viewMode==="month"&&T("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${k.value.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[gF(u.value,k.value.length).map((re,ie)=>[e.hideWeekNumber?"":T("div",{class:"v-calendar-month__weeknumber"},[w.value[ie]]),re.map(Q=>{var se;return T(eE,{color:s.isSameDay(s.date(),Q.date)?"primary":void 0,day:Q,title:Q?s.format(Q.date,"dayOfMonth"):"NaN",events:(se=e.events)==null?void 0:se.filter(H=>s.isSameDay(Q.date,H.start)||s.isSameDay(Q.date,H.end))},{event:r.event})})])]),e.viewMode==="week"&&h.value.map((re,ie)=>{var Q;return T(ug,lt(B,{day:re,dayIndex:ie,events:(Q=e.events)==null?void 0:Q.filter(se=>s.isSameDay(se.start,re.date)||s.isSameDay(se.end,re.date))}),null)}),e.viewMode==="day"&&T(ug,lt(B,{day:o([y.value],s.date())[0],dayIndex:0,events:(Z=e.events)==null?void 0:Z.filter(re=>s.isSameDay(re.start,o([y.value],s.date())[0].date)||s.isSameDay(re.end,o([y.value],s.date())[0].date))}),null)])])}),{daysInMonth:u,daysInWeek:h,genDays:o}}}),rE=We({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),Mk=ft()({name:"VConfirmEdit",props:rE(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=fn(e,"modelValue"),u=ht();yi(()=>{u.value=structuredClone(an(s.value))});const{t:h}=si(),o=Y(()=>gl(s.value,u.value));function g(){s.value=u.value,n("save",u.value)}function y(){u.value=structuredClone(an(s.value)),n("cancel")}let w=!1;return St(()=>{var C;const k=T(Gt,null,[T(Jt,{disabled:o.value,variant:"text",color:e.color,onClick:y,text:h(e.cancelText)},null),T(Jt,{disabled:o.value,variant:"text",color:e.color,onClick:g,text:h(e.okText)},null)]);return T(Gt,null,[(C=r.default)==null?void 0:C.call(r,{model:u,save:g,cancel:y,isPristine:o.value,get actions(){return w=!0,k}}),!w&&k])}),{save:g,cancel:y,isPristine:o}}}),VV=We({fluid:{type:Boolean,default:!1},...un(),...is(),...Yn()},"VContainer"),Mr=ft()({name:"VContainer",props:VV(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=Ua(),{dimensionStyles:s}=as(e);return St(()=>T(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:[s.value,e.style]},n)),{}}}),iE=cv.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),aE=cv.reduce((e,t)=>{const n="offset"+Do(t);return e[n]={type:[String,Number],default:null},e},{}),sE=cv.reduce((e,t)=>{const n="order"+Do(t);return e[n]={type:[String,Number],default:null},e},{}),Lk={col:Object.keys(iE),offset:Object.keys(aE),order:Object.keys(sE)};function NV(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");r+=`-${s}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const $V=["auto","start","end","center","baseline","stretch"],UV=We({cols:{type:[Boolean,String,Number],default:!1},...iE,offset:{type:[String,Number],default:null},...aE,order:{type:[String,Number],default:null},...sE,alignSelf:{type:String,default:null,validator:e=>$V.includes(e)},...un(),...Yn()},"VCol"),oa=ft()({name:"VCol",props:UV(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in Lk)Lk[u].forEach(o=>{const g=e[o],y=NV(u,o,g);y&&s.push(y)});const h=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!h||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return Jr(e.tag,{class:[r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),ix=["start","end","center"],oE=["space-between","space-around","space-evenly"];function ax(e,t){return cv.reduce((n,r)=>{const s=e+Do(r);return n[s]=t(),n},{})}const qV=[...ix,"baseline","stretch"],lE=e=>qV.includes(e),cE=ax("align",()=>({type:String,default:null,validator:lE})),jV=[...ix,...oE],uE=e=>jV.includes(e),dE=ax("justify",()=>({type:String,default:null,validator:uE})),HV=[...ix,...oE,"stretch"],hE=e=>HV.includes(e),fE=ax("alignContent",()=>({type:String,default:null,validator:hE})),Rk={align:Object.keys(cE),justify:Object.keys(dE),alignContent:Object.keys(fE)},GV={align:"align",justify:"justify",alignContent:"align-content"};function WV(e,t,n){let r=GV[e];if(n!=null){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${n}`,r.toLowerCase()}}const YV=We({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:lE},...cE,justify:{type:String,default:null,validator:uE},...dE,alignContent:{type:String,default:null,validator:hE},...fE,...un(),...Yn()},"VRow"),Hs=ft()({name:"VRow",props:YV(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in Rk)Rk[u].forEach(h=>{const o=e[h],g=WV(u,h,o);g&&s.push(g)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return Jr(e.tag,{class:["v-row",r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),Ws=$d("v-spacer","div","VSpacer"),mE=We({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:mn,default:"$next"},prevIcon:{type:mn,default:"$prev"},modeIcon:{type:mn,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Ok=ft()({name:"VDatePickerControls",props:mE(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const r=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),s=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),u=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),h=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function o(){n("click:prev")}function g(){n("click:next")}function y(){n("click:year")}function w(){n("click:month")}return St(()=>T("div",{class:["v-date-picker-controls"]},[T(Jt,{class:"v-date-picker-controls__month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:w},null),T(Jt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:y},null),T(Ws,{key:"mode-spacer"},null),T("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[T(Jt,{disabled:u.value,icon:e.prevIcon,variant:"text",onClick:o},null),T(Jt,{disabled:h.value,icon:e.nextIcon,variant:"text",onClick:g},null)])])),{}}}),ZV=We({appendIcon:String,color:String,header:String,transition:String,onClick:Ii()},"VDatePickerHeader"),Fk=ft()({name:"VDatePickerHeader",props:ZV(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=gi(e,"color");function h(){n("click")}function o(){n("click:append")}return St(()=>{const g=!!(r.default||e.header),y=!!(r.append||e.appendIcon);return T("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},s.value],style:u.value,onClick:h},[r.prepend&&T("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),g&&T(ws,{key:"content",name:e.transition},{default:()=>{var w;return[T("div",{key:e.header,class:"v-date-picker-header__content"},[((w=r.default)==null?void 0:w.call(r))??e.header])]}}),y&&T("div",{class:"v-date-picker-header__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var w;return[(w=r.append)==null?void 0:w.call(r)]}}):T(Jt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),pE=We({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...tE()},"VDatePickerMonth"),zk=ft()({name:"VDatePickerMonth",props:pE(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=ht(),{daysInMonth:u,model:h,weekNumbers:o}=nE(e),g=Lo(),y=Rt(),w=Rt(),k=Rt(!1),C=Y(()=>k.value?e.reverseTransition:e.transition);e.multiple==="range"&&h.value.length>0&&(y.value=h.value[0],h.value.length>1&&(w.value=h.value[h.value.length-1]));const I=Y(()=>{const B=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return h.value.length>=B});ut(u,(B,j)=>{j&&(k.value=g.isBefore(B[0].date,j[0].date))});function O(B){const j=g.startOfDay(B);if(h.value.length===0?y.value=void 0:h.value.length===1&&(y.value=h.value[0],w.value=void 0),!y.value)y.value=j,h.value=[y.value];else if(w.value)y.value=B,w.value=void 0,h.value=[y.value];else{if(g.isSameDay(j,y.value)){y.value=void 0,h.value=[];return}else g.isBefore(j,y.value)?(w.value=g.endOfDay(y.value),y.value=j):w.value=g.endOfDay(j);const Z=g.getDiff(w.value,y.value,"days"),re=[y.value];for(let ie=1;ie<Z;ie++){const Q=g.addDays(y.value,ie);re.push(Q)}re.push(w.value),h.value=re}}function L(B){const j=h.value.findIndex(Z=>g.isSameDay(Z,B));if(j===-1)h.value=[...h.value,B];else{const Z=[...h.value];Z.splice(j,1),h.value=Z}}function R(B){e.multiple==="range"?O(B):e.multiple?L(B):h.value=[B]}return()=>T("div",{class:"v-date-picker-month"},[e.showWeek&&T("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&T("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[zt(" ")]),o.value.map(B=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[B]))]),T(ws,{name:C.value},{default:()=>{var B;return[T("div",{ref:s,key:(B=u.value[0].date)==null?void 0:B.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&g.getWeekdays(e.firstDayOfWeek).map(j=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[j])),u.value.map((j,Z)=>{const re={props:{onClick:()=>R(j.date)},item:j,i:Z};return I.value&&!j.isSelected&&(j.isDisabled=!0),T("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":j.isAdjacent,"v-date-picker-month__day--hide-adjacent":j.isHidden,"v-date-picker-month__day--selected":j.isSelected,"v-date-picker-month__day--week-end":j.isWeekEnd,"v-date-picker-month__day--week-start":j.isWeekStart}],"data-v-date":j.isDisabled?void 0:j.isoDate},[(e.showAdjacentMonths||!j.isAdjacent)&&T(Bn,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(j.isSelected||j.isToday)&&!j.isDisabled?e.color:void 0,disabled:j.isDisabled,icon:!0,ripple:!1,text:j.localized,variant:j.isDisabled?j.isToday?"outlined":"text":j.isToday&&!j.isSelected?"outlined":"flat",onClick:()=>R(j.date)}}},{default:()=>{var ie;return[((ie=r.day)==null?void 0:ie.call(r,re))??T(Jt,re.props,null)]}})])})])]}})])}}),gE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Bk=ft()({name:"VDatePickerMonths",props:gE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Lo(),u=fn(e,"modelValue"),h=Y(()=>{let o=s.startOfYear(s.date());return e.year&&(o=s.setYear(o,e.year)),Zs(12).map(g=>{const y=s.format(o,"monthShort"),w=!!(e.min&&s.isAfter(s.startOfMonth(s.date(e.min)),o)||e.max&&s.isAfter(o,s.startOfMonth(s.date(e.max))));return o=s.getNextMonth(o),{isDisabled:w,text:y,value:g}})});return yi(()=>{u.value=u.value??s.getMonth(s.date())}),St(()=>T("div",{class:"v-date-picker-months",style:{height:Ht(e.height)}},[T("div",{class:"v-date-picker-months__content"},[h.value.map((o,g)=>{var k;const y={active:u.value===g,color:u.value===g?e.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:u.value===o.value?"flat":"text",onClick:()=>w(g)};function w(C){if(u.value===C){n("update:modelValue",u.value);return}u.value=C}return((k=r.month)==null?void 0:k.call(r,{month:o,i:g,props:y}))??T(Jt,lt({key:"month"},y),null)})])])),{}}}),vE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),Vk=ft()({name:"VDatePickerYears",props:vE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Lo(),u=fn(e,"modelValue"),h=Y(()=>{const g=s.getYear(s.date());let y=g-100,w=g+52;e.min&&(y=s.getYear(s.date(e.min))),e.max&&(w=s.getYear(s.date(e.max)));let k=s.startOfYear(s.date());return k=s.setYear(k,y),Zs(w-y+1,y).map(C=>{const I=s.format(k,"year");return k=s.setYear(k,s.getYear(k)+1),{text:I,value:C}})});yi(()=>{u.value=u.value??s.getYear(s.date())});const o=Ig();return Vi(async()=>{var g;await Xn(),(g=o.el)==null||g.scrollIntoView({block:"center"})}),St(()=>T("div",{class:"v-date-picker-years",style:{height:Ht(e.height)}},[T("div",{class:"v-date-picker-years__content"},[h.value.map((g,y)=>{var k;const w={ref:u.value===g.value?o:void 0,active:u.value===g.value,color:u.value===g.value?e.color:void 0,rounded:!0,text:g.text,variant:u.value===g.value?"flat":"text",onClick:()=>{if(u.value===g.value){n("update:modelValue",u.value);return}u.value=g.value}};return((k=r.year)==null?void 0:k.call(r,{year:g,i:y,props:w}))??T(Jt,lt({key:"month"},w),null)})])])),{}}}),yE=$d("v-picker-title"),sx=We({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...K0()},"VPicker"),qf=ft()({name:"VPicker",props:sx(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=gi(bt(e,"color"));return St(()=>{const u=lc.filterProps(e),h=!!(e.title||n.title);return T(lc,lt(u,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var o;return[!e.hideHeader&&T("div",{key:"header",class:[r.value],style:[s.value]},[h&&T(yE,{key:"picker-title"},{default:()=>{var g;return[((g=n.title)==null?void 0:g.call(n))??e.title]}}),n.header&&T("div",{class:"v-picker__header"},[n.header()])]),T("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&T(Bn,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[T("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),_E=We({header:{type:String,default:"$vuetify.datePicker.header"},...mE(),...pE({weeksInMonth:"static"}),...Tr(gE(),["modelValue"]),...Tr(vE(),["modelValue"]),...sx({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),Nk=ft()({name:"VDatePicker",props:_E(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Lo(),{t:u}=si(),h=fn(e,"modelValue",void 0,$=>Wr($),$=>e.multiple?$:$[0]),o=fn(e,"viewMode"),g=Y(()=>{var K;const $=s.date((K=h.value)==null?void 0:K[0]);return $&&s.isValid($)?$:s.date()}),y=ht(Number(e.month??s.getMonth(s.startOfMonth(g.value)))),w=ht(Number(e.year??s.getYear(s.startOfYear(s.setMonth(g.value,y.value))))),k=Rt(!1),C=Y(()=>e.multiple&&h.value.length>1?u("$vuetify.datePicker.itemsSelected",h.value.length):h.value[0]&&s.isValid(h.value[0])?s.format(s.date(h.value[0]),"normalDateWithWeekday"):u(e.header)),I=Y(()=>{let $=s.date();return $=s.setDate($,1),$=s.setMonth($,y.value),$=s.setYear($,w.value),s.format($,"monthAndYear")}),O=Y(()=>`date-picker-header${k.value?"-reverse":""}-transition`),L=Y(()=>{const $=s.date(e.min);return e.min&&s.isValid($)?$:null}),R=Y(()=>{const $=s.date(e.max);return e.max&&s.isValid($)?$:null}),B=Y(()=>{if(e.disabled)return!0;const $=[];if(o.value!=="month")$.push("prev","next");else{let K=s.date();if(K=s.setYear(K,w.value),K=s.setMonth(K,y.value),L.value){const ae=s.addDays(s.startOfMonth(K),-1);s.isAfter(L.value,ae)&&$.push("prev")}if(R.value){const ae=s.addDays(s.endOfMonth(K),1);s.isAfter(ae,R.value)&&$.push("next")}}return $});function j(){y.value<11?y.value++:(w.value++,y.value=0,H(w.value)),se(y.value)}function Z(){y.value>0?y.value--:(w.value--,y.value=11,H(w.value)),se(y.value)}function re(){o.value="month"}function ie(){o.value=o.value==="months"?"month":"months"}function Q(){o.value=o.value==="year"?"month":"year"}function se($){o.value==="months"&&ie(),n("update:month",$)}function H($){o.value==="year"&&Q(),n("update:year",$)}return ut(h,($,K)=>{const ae=Wr(K),te=Wr($);if(!te.length)return;const be=s.date(ae[ae.length-1]),me=s.date(te[te.length-1]),Ie=s.getMonth(me),Ae=s.getYear(me);Ie!==y.value&&(y.value=Ie,se(y.value)),Ae!==w.value&&(w.value=Ae,H(w.value)),k.value=s.isBefore(be,me)}),St(()=>{const $=qf.filterProps(e),K=Ok.filterProps(e),ae=Fk.filterProps(e),te=zk.filterProps(e),be=Tr(Bk.filterProps(e),["modelValue"]),me=Tr(Vk.filterProps(e),["modelValue"]),Ie={header:C.value,transition:O.value};return T(qf,lt($,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var Ae;return((Ae=r.title)==null?void 0:Ae.call(r))??T("div",{class:"v-date-picker__title"},[u(e.title)])},header:()=>r.header?T(Bn,{defaults:{VDatePickerHeader:{...Ie}}},{default:()=>{var Ae;return[(Ae=r.header)==null?void 0:Ae.call(r,Ie)]}}):T(Fk,lt({key:"header"},ae,Ie,{onClick:o.value!=="month"?re:void 0}),{...r,default:void 0}),default:()=>T(Gt,null,[T(Ok,lt(K,{disabled:B.value,text:I.value,"onClick:next":j,"onClick:prev":Z,"onClick:month":ie,"onClick:year":Q}),null),T(Ab,{hideOnLeave:!0},{default:()=>[o.value==="months"?T(Bk,lt({key:"date-picker-months"},be,{modelValue:y.value,"onUpdate:modelValue":[Ae=>y.value=Ae,se],min:L.value,max:R.value,year:w.value}),null):o.value==="year"?T(Vk,lt({key:"date-picker-years"},me,{modelValue:w.value,"onUpdate:modelValue":[Ae=>w.value=Ae,H],min:L.value,max:R.value}),null):T(zk,lt({key:"date-picker-month"},te,{modelValue:h.value,"onUpdate:modelValue":Ae=>h.value=Ae,month:y.value,"onUpdate:month":[Ae=>y.value=Ae,se],year:w.value,"onUpdate:year":[Ae=>w.value=Ae,H],min:L.value,max:R.value}),null)]})]),actions:r.actions})}),{}}});function x_(e,t){return{x:e.x+t.x,y:e.y+t.y}}function KV(e,t){return{x:e.x-t.x,y:e.y-t.y}}function $k(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,s=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,u=n==="top"?0:n==="bottom"?t.height:n;return x_({x:s,y:u},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,s=n==="left"?0:n==="right"?t.width:n,u=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return x_({x:s,y:u},t)}return x_({x:t.width/2,y:t.height/2},t)}const bE={static:QV,connected:t3},XV=We({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in bE},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function JV(e,t){const n=ht({}),r=ht();dr&&Ba(()=>!!(t.isActive.value&&e.locationStrategy),u=>{var h,o;ut(()=>e.locationStrategy,u),ha(()=>{window.removeEventListener("resize",s),r.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(h=e.locationStrategy(t,e,n))==null?void 0:h.updateLocation:r.value=(o=bE[e.locationStrategy](t,e,n))==null?void 0:o.updateLocation});function s(u){var h;(h=r.value)==null||h.call(r,u)}return{contentStyles:n,updateLocation:r}}function QV(){}function e3(e,t){const n=$0(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function t3(e,t,n){(Array.isArray(e.target.value)||ez(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:u}=B0(()=>{const O=fb(t.location,e.isRtl.value),L=t.origin==="overlap"?O:t.origin==="auto"?p_(O):fb(t.origin,e.isRtl.value);return O.side===L.side&&O.align===g_(L).align?{preferredAnchor:WS(O),preferredOrigin:WS(L)}:{preferredAnchor:O,preferredOrigin:L}}),[h,o,g,y]=["minWidth","minHeight","maxWidth","maxHeight"].map(O=>Y(()=>{const L=parseFloat(t[O]);return isNaN(L)?1/0:L})),w=Y(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const O=t.offset.split(" ").map(parseFloat);return O.length<2&&O.push(0),O}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let k=!1;const C=new ResizeObserver(()=>{k&&I()});ut([e.target,e.contentEl],(O,L)=>{let[R,B]=O,[j,Z]=L;j&&!Array.isArray(j)&&C.unobserve(j),R&&!Array.isArray(R)&&C.observe(R),Z&&C.unobserve(Z),B&&C.observe(B)},{immediate:!0}),ha(()=>{C.disconnect()});function I(){if(k=!1,requestAnimationFrame(()=>k=!0),!e.target.value||!e.contentEl.value)return;const O=XT(e.target.value),L=e3(e.contentEl.value,e.isRtl.value),R=zf(e.contentEl.value),B=12;R.length||(R.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(L.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),L.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const j=R.reduce((ae,te)=>{const be=te.getBoundingClientRect(),me=new iu({x:te===document.documentElement?0:be.x,y:te===document.documentElement?0:be.y,width:te.clientWidth,height:te.clientHeight});return ae?new iu({x:Math.max(ae.left,me.left),y:Math.max(ae.top,me.top),width:Math.min(ae.right,me.right)-Math.max(ae.left,me.left),height:Math.min(ae.bottom,me.bottom)-Math.max(ae.top,me.top)}):me},void 0);j.x+=B,j.y+=B,j.width-=B*2,j.height-=B*2;let Z={anchor:s.value,origin:u.value};function re(ae){const te=new iu(L),be=$k(ae.anchor,O),me=$k(ae.origin,te);let{x:Ie,y:Ae}=KV(be,me);switch(ae.anchor.side){case"top":Ae-=w.value[0];break;case"bottom":Ae+=w.value[0];break;case"left":Ie-=w.value[0];break;case"right":Ie+=w.value[0];break}switch(ae.anchor.align){case"top":Ae-=w.value[1];break;case"bottom":Ae+=w.value[1];break;case"left":Ie-=w.value[1];break;case"right":Ie+=w.value[1];break}return te.x+=Ie,te.y+=Ae,te.width=Math.min(te.width,g.value),te.height=Math.min(te.height,y.value),{overflows:ZS(te,j),x:Ie,y:Ae}}let ie=0,Q=0;const se={x:0,y:0},H={x:!1,y:!1};let $=-1;for(;!($++>10);){const{x:ae,y:te,overflows:be}=re(Z);ie+=ae,Q+=te,L.x+=ae,L.y+=te;{const me=YS(Z.anchor),Ie=be.x.before||be.x.after,Ae=be.y.before||be.y.after;let Ue=!1;if(["x","y"].forEach(Fe=>{if(Fe==="x"&&Ie&&!H.x||Fe==="y"&&Ae&&!H.y){const Ce={anchor:{...Z.anchor},origin:{...Z.origin}},Ve=Fe==="x"?me==="y"?g_:p_:me==="y"?p_:g_;Ce.anchor=Ve(Ce.anchor),Ce.origin=Ve(Ce.origin);const{overflows:$e}=re(Ce);($e[Fe].before<=be[Fe].before&&$e[Fe].after<=be[Fe].after||$e[Fe].before+$e[Fe].after<(be[Fe].before+be[Fe].after)/2)&&(Z=Ce,Ue=H[Fe]=!0)}}),Ue)continue}be.x.before&&(ie+=be.x.before,L.x+=be.x.before),be.x.after&&(ie-=be.x.after,L.x-=be.x.after),be.y.before&&(Q+=be.y.before,L.y+=be.y.before),be.y.after&&(Q-=be.y.after,L.y-=be.y.after);{const me=ZS(L,j);se.x=j.width-me.x.before-me.x.after,se.y=j.height-me.y.before-me.y.after,ie+=me.x.before,L.x+=me.x.before,Q+=me.y.before,L.y+=me.y.before}break}const K=YS(Z.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${Z.anchor.side} ${Z.anchor.align}`,transformOrigin:`${Z.origin.side} ${Z.origin.align}`,top:Ht(w_(Q)),left:e.isRtl.value?void 0:Ht(w_(ie)),right:e.isRtl.value?Ht(w_(-ie)):void 0,minWidth:Ht(K==="y"?Math.min(h.value,O.width):h.value),maxWidth:Ht(Uk(Zi(se.x,h.value===1/0?0:h.value,g.value))),maxHeight:Ht(Uk(Zi(se.y,o.value===1/0?0:o.value,y.value)))}),{available:se,contentBox:L}}return ut(()=>[s.value,u.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>I()),Xn(()=>{const O=I();if(!O)return;const{available:L,contentBox:R}=O;R.height>L.y&&requestAnimationFrame(()=>{I(),requestAnimationFrame(()=>{I()})})}),{updateLocation:I}}function w_(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function Uk(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Eb=!0;const Fg=[];function n3(e){!Eb||Fg.length?(Fg.push(e),Ib()):(Eb=!1,e(),Ib())}let qk=-1;function Ib(){cancelAnimationFrame(qk),qk=requestAnimationFrame(()=>{const e=Fg.shift();e&&e(),Fg.length?Ib():Eb=!0})}const dg={none:null,close:a3,block:s3,reposition:o3},r3=We({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in dg}},"VOverlay-scroll-strategies");function i3(e,t){if(!dr)return;let n;yi(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=Qg(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=dg[e.scrollStrategy])==null||r.call(dg,t,e,n)}))}),ha(()=>{n==null||n.stop()})}function a3(e){function t(n){e.isActive.value=!1}xE(e.targetEl.value??e.contentEl.value,t)}function s3(e,t){var h;const n=(h=e.root.value)==null?void 0:h.offsetParent,r=[...new Set([...zf(e.targetEl.value,t.contained?n:void 0),...zf(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,u=(o=>j0(o)&&o)(n||document.documentElement);u&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((o,g)=>{o.style.setProperty("--v-body-scroll-x",Ht(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Ht(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Ht(s)),o.classList.add("v-overlay-scroll-blocked")}),ha(()=>{r.forEach((o,g)=>{const y=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),w=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),k=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-y,o.scrollTop=-w,o.style.scrollBehavior=k}),u&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function o3(e,t,n){let r=!1,s=-1,u=-1;function h(o){n3(()=>{var w,k;const g=performance.now();(k=(w=e.updateLocation).value)==null||k.call(w,o),r=(performance.now()-g)/(1e3/60)>2})}u=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{xE(e.targetEl.value??e.contentEl.value,o=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{h(o)})})):h(o)})})}),ha(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(u),cancelAnimationFrame(s)})}function xE(e,t){const n=[document,...zf(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),ha(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const Pb=Symbol.for("vuetify:v-menu"),wE=We({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function SE(e,t){let n=()=>{};function r(h){n==null||n();const o=Number(h?e.openDelay:e.closeDelay);return new Promise(g=>{n=_F(o,()=>{t==null||t(h),g(h)})})}function s(){return r(!0)}function u(){return r(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:u}}const l3=We({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...wE()},"VOverlay-activator");function c3(e,t){let{isActive:n,isTop:r,contentEl:s}=t;const u=Yr("useActivator"),h=ht();let o=!1,g=!1,y=!0;const w=Y(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),k=Y(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!w.value),{runOpenDelay:C,runCloseDelay:I}=SE(e,H=>{H===(e.openOnHover&&o||w.value&&g)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==H&&(y=!0),n.value=H)}),O=ht(),L={onClick:H=>{H.stopPropagation(),h.value=H.currentTarget||H.target,n.value||(O.value=[H.clientX,H.clientY]),n.value=!n.value},onMouseenter:H=>{var $;($=H.sourceCapabilities)!=null&&$.firesTouchEvents||(o=!0,h.value=H.currentTarget||H.target,C())},onMouseleave:H=>{o=!1,I()},onFocus:H=>{Ld(H.target,":focus-visible")!==!1&&(g=!0,H.stopPropagation(),h.value=H.currentTarget||H.target,C())},onBlur:H=>{g=!1,H.stopPropagation(),I()}},R=Y(()=>{const H={};return k.value&&(H.onClick=L.onClick),e.openOnHover&&(H.onMouseenter=L.onMouseenter,H.onMouseleave=L.onMouseleave),w.value&&(H.onFocus=L.onFocus,H.onBlur=L.onBlur),H}),B=Y(()=>{const H={};if(e.openOnHover&&(H.onMouseenter=()=>{o=!0,C()},H.onMouseleave=()=>{o=!1,I()}),w.value&&(H.onFocusin=()=>{g=!0,C()},H.onFocusout=()=>{g=!1,I()}),e.closeOnContentClick){const $=yt(Pb,null);H.onClick=()=>{n.value=!1,$==null||$.closeParents()}}return H}),j=Y(()=>{const H={};return e.openOnHover&&(H.onMouseenter=()=>{y&&(o=!0,y=!1,C())},H.onMouseleave=()=>{o=!1,I()}),H});ut(r,H=>{var $;H&&(e.openOnHover&&!o&&(!w.value||!g)||w.value&&!g&&(!e.openOnHover||!o))&&!(($=s.value)!=null&&$.contains(document.activeElement))&&(n.value=!1)}),ut(n,H=>{H||setTimeout(()=>{O.value=void 0})},{flush:"post"});const Z=Ig();yi(()=>{Z.value&&Xn(()=>{h.value=Z.el})});const re=Ig(),ie=Y(()=>e.target==="cursor"&&O.value?O.value:re.value?re.el:kE(e.target,u)||h.value),Q=Y(()=>Array.isArray(ie.value)?void 0:ie.value);let se;return ut(()=>!!e.activator,H=>{H&&dr?(se=Qg(),se.run(()=>{u3(e,u,{activatorEl:h,activatorEvents:R})})):se&&se.stop()},{flush:"post",immediate:!0}),ha(()=>{se==null||se.stop()}),{activatorEl:h,activatorRef:Z,target:ie,targetEl:Q,targetRef:re,activatorEvents:R,contentEvents:B,scrimEvents:j}}function u3(e,t,n){let{activatorEl:r,activatorEvents:s}=n;ut(()=>e.activator,(g,y)=>{if(y&&g!==y){const w=o(y);w&&h(w)}g&&Xn(()=>u())},{immediate:!0}),ut(()=>e.activatorProps,()=>{u()}),ha(()=>{h()});function u(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;g&&wF(g,lt(s.value,y))}function h(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;g&&SF(g,lt(s.value,y))}function o(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const y=kE(g,t);return r.value=(y==null?void 0:y.nodeType)===Node.ELEMENT_NODE?y:void 0,r.value}}function kE(e,t){var r,s;if(!e)return;let n;if(e==="parent"){let u=(s=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:s.parentNode;for(;u!=null&&u.hasAttribute("data-no-activator");)u=u.parentNode;n=u}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function d3(){if(!dr)return Rt(!1);const{ssr:e}=vl();if(e){const t=Rt(!1);return Vi(()=>{t.value=!0}),t}else return Rt(!0)}const ox=We({eager:Boolean},"lazy");function lx(e,t){const n=Rt(!1),r=Y(()=>n.value||e.eager||t.value);ut(t,()=>n.value=!0);function s(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:s}}function Gd(){const t=Yr("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const jk=Symbol.for("vuetify:stack"),hf=Ai([]);function h3(e,t,n){const r=Yr("useStack"),s=!n,u=yt(jk,void 0),h=Ai({activeChildren:new Set});wn(jk,h);const o=Rt(+t.value);Ba(e,()=>{var k;const w=(k=hf.at(-1))==null?void 0:k[1];o.value=w?w+10:+t.value,s&&hf.push([r.uid,o.value]),u==null||u.activeChildren.add(r.uid),ha(()=>{if(s){const C=an(hf).findIndex(I=>I[0]===r.uid);hf.splice(C,1)}u==null||u.activeChildren.delete(r.uid)})});const g=Rt(!0);s&&yi(()=>{var k;const w=((k=hf.at(-1))==null?void 0:k[0])===r.uid;setTimeout(()=>g.value=w)});const y=Y(()=>!h.activeChildren.size);return{globalTop:rm(g),localTop:y,stackStyles:Y(()=>({zIndex:o.value}))}}function f3(e){return{teleportTarget:Y(()=>{const n=e();if(n===!0||!dr)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let s=[...r.children].find(u=>u.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function m3(){return!0}function CE(e,t,n){if(!e||TE(e,n)===!1)return!1;const r=iA(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(t),!s.some(u=>u==null?void 0:u.contains(e.target))}function TE(e,t){return(typeof t.value=="object"&&t.value.closeConditional||m3)(e)}function p3(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&CE(e,t,n)&&setTimeout(()=>{TE(e,n)&&r&&r(e)},0)}function Hk(e,t){const n=iA(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const g3={mounted(e,t){const n=s=>p3(s,e,t),r=s=>{e._clickOutside.lastMousedownWasOutside=CE(s,e,t)};Hk(e,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(Hk(e,n=>{var u;if(!n||!((u=e._clickOutside)!=null&&u[t.instance.$.uid]))return;const{onClick:r,onMousedown:s}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[t.instance.$.uid])}};function v3(e){const{modelValue:t,color:n,...r}=e;return T(Eo,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&T("div",lt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const pv=We({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...l3(),...un(),...is(),...ox(),...XV(),...r3(),...yr(),...bu()},"VOverlay"),Od=ft()({name:"VOverlay",directives:{ClickOutside:g3},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...pv()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:s}=t;const u=Yr("VOverlay"),h=ht(),o=ht(),g=ht(),y=fn(e,"modelValue"),w=Y({get:()=>y.value,set:gt=>{gt&&e.disabled||(y.value=gt)}}),{themeClasses:k}=Rr(e),{rtlClasses:C,isRtl:I}=Ua(),{hasContent:O,onAfterLeave:L}=lx(e,w),R=gi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:B,localTop:j,stackStyles:Z}=h3(w,bt(e,"zIndex"),e._disableGlobalStack),{activatorEl:re,activatorRef:ie,target:Q,targetEl:se,targetRef:H,activatorEvents:$,contentEvents:K,scrimEvents:ae}=c3(e,{isActive:w,isTop:j,contentEl:g}),{teleportTarget:te}=f3(()=>{var tt,je,et;const gt=e.attach||e.contained;if(gt)return gt;const Ne=((tt=re==null?void 0:re.value)==null?void 0:tt.getRootNode())||((et=(je=u.proxy)==null?void 0:je.$el)==null?void 0:et.getRootNode());return Ne instanceof ShadowRoot?Ne:!1}),{dimensionStyles:be}=as(e),me=d3(),{scopeId:Ie}=Gd();ut(()=>e.disabled,gt=>{gt&&(w.value=!1)});const{contentStyles:Ae,updateLocation:Ue}=JV(e,{isRtl:I,contentEl:g,target:Q,isActive:w});i3(e,{root:h,contentEl:g,targetEl:se,isActive:w,updateLocation:Ue});function Fe(gt){s("click:outside",gt),e.persistent?pt():w.value=!1}function Ce(gt){return w.value&&B.value&&(!e.scrim||gt.target===o.value||gt instanceof MouseEvent&&gt.shadowTarget===o.value)}dr&&ut(w,gt=>{gt?window.addEventListener("keydown",Ve):window.removeEventListener("keydown",Ve)},{immediate:!0}),vr(()=>{dr&&window.removeEventListener("keydown",Ve)});function Ve(gt){var Ne,tt;gt.key==="Escape"&&B.value&&(e.persistent?pt():(w.value=!1,(Ne=g.value)!=null&&Ne.contains(document.activeElement)&&((tt=re.value)==null||tt.focus())))}const $e=RA();Ba(()=>e.closeOnBack,()=>{mV($e,gt=>{B.value&&w.value?(gt(!1),e.persistent?pt():w.value=!1):gt()})});const qe=ht();ut(()=>w.value&&(e.absolute||e.contained)&&te.value==null,gt=>{if(gt){const Ne=aA(h.value);Ne&&Ne!==document.scrollingElement&&(qe.value=Ne.scrollTop)}});function pt(){e.noClickAnimation||g.value&&Zc(g.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Ff})}function Ct(){s("afterEnter")}function $t(){L(),s("afterLeave")}return St(()=>{var gt;return T(Gt,null,[(gt=n.activator)==null?void 0:gt.call(n,{isActive:w.value,targetRef:H,props:lt({ref:ie},$.value,e.activatorProps)}),me.value&&O.value&&T(P0,{disabled:!te.value,to:te.value},{default:()=>[T("div",lt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":w.value,"v-overlay--contained":e.contained},k.value,C.value,e.class],style:[Z.value,{"--v-overlay-opacity":e.opacity,top:Ht(qe.value)},e.style],ref:h},Ie,r),[T(v3,lt({color:R,modelValue:w.value&&!!e.scrim,ref:o},ae.value),null),T(ws,{appear:!0,persisted:!0,transition:e.transition,target:Q.value,onAfterEnter:Ct,onAfterLeave:$t},{default:()=>{var Ne;return[vi(T("div",lt({ref:g,class:["v-overlay__content",e.contentClass],style:[be.value,Ae.value]},K.value,e.contentProps),[(Ne=n.default)==null?void 0:Ne.call(n,{isActive:w})]),[[pl,w.value],[to("click-outside"),{handler:Fe,closeConditional:Ce,include:()=>[re.value]}]])]}})])]})])}),{activatorEl:re,scrimEl:o,target:Q,animateClick:pt,contentEl:g,globalTop:B,localTop:j,updateLocation:Ue}}}),S_=Symbol("Forwarded refs");function k_(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function io(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[S_]=n,new Proxy(e,{get(s,u){if(Reflect.has(s,u))return Reflect.get(s,u);if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const h of n)if(h.value&&Reflect.has(h.value,u)){const o=Reflect.get(h.value,u);return typeof o=="function"?o.bind(h.value):o}}},has(s,u){if(Reflect.has(s,u))return!0;if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const h of n)if(h.value&&Reflect.has(h.value,u))return!0;return!1},set(s,u,h){if(Reflect.has(s,u))return Reflect.set(s,u,h);if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,u))return Reflect.set(o.value,u,h);return!1},getOwnPropertyDescriptor(s,u){var o;const h=Reflect.getOwnPropertyDescriptor(s,u);if(h)return h;if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const g of n){if(!g.value)continue;const y=k_(g.value,u)??("_"in g.value?k_((o=g.value._)==null?void 0:o.setupState,u):void 0);if(y)return y}for(const g of n){const y=g.value&&g.value[S_];if(!y)continue;const w=y.slice();for(;w.length;){const k=w.shift(),C=k_(k.value,u);if(C)return C;const I=k.value&&k.value[S_];I&&w.push(...I)}}}}})}const y3=We({id:String,submenu:Boolean,...Tr(pv({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ex}}),["absolute"])},"VMenu"),cx=ft()({name:"VMenu",props:y3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),{scopeId:s}=Gd(),{isRtl:u}=Ua(),h=As(),o=Y(()=>e.id||`v-menu-${h}`),g=ht(),y=yt(Pb,null),w=Rt(new Set);wn(Pb,{register(){w.value.add(h)},unregister(){w.value.delete(h)},closeParents(R){setTimeout(()=>{var B;!w.value.size&&!e.persistent&&(R==null||(B=g.value)!=null&&B.contentEl&&!bF(R,g.value.contentEl))&&(r.value=!1,y==null||y.closeParents())},40)}}),vr(()=>y==null?void 0:y.unregister()),S0(()=>r.value=!1);async function k(R){var Z,re,ie;const B=R.relatedTarget,j=R.target;await Xn(),r.value&&B!==j&&((Z=g.value)!=null&&Z.contentEl)&&((re=g.value)!=null&&re.globalTop)&&![document,g.value.contentEl].includes(j)&&!g.value.contentEl.contains(j)&&((ie=Rf(g.value.contentEl)[0])==null||ie.focus())}ut(r,R=>{R?(y==null||y.register(),document.addEventListener("focusin",k,{once:!0})):(y==null||y.unregister(),document.removeEventListener("focusin",k))});function C(R){y==null||y.closeParents(R)}function I(R){var B,j,Z,re,ie;if(!e.disabled)if(R.key==="Tab"||R.key==="Enter"&&!e.closeOnContentClick){if(R.key==="Enter"&&(R.target instanceof HTMLTextAreaElement||R.target instanceof HTMLInputElement&&R.target.closest("form")))return;R.key==="Enter"&&R.preventDefault(),ZT(Rf((B=g.value)==null?void 0:B.contentEl,!1),R.shiftKey?"prev":"next",se=>se.tabIndex>=0)||(r.value=!1,(Z=(j=g.value)==null?void 0:j.activatorEl)==null||Z.focus())}else e.submenu&&R.key===(u.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(ie=(re=g.value)==null?void 0:re.activatorEl)==null||ie.focus())}function O(R){var j;if(e.disabled)return;const B=(j=g.value)==null?void 0:j.contentEl;B&&r.value?R.key==="ArrowDown"?(R.preventDefault(),R.stopImmediatePropagation(),kf(B,"next")):R.key==="ArrowUp"?(R.preventDefault(),R.stopImmediatePropagation(),kf(B,"prev")):e.submenu&&(R.key===(u.value?"ArrowRight":"ArrowLeft")?r.value=!1:R.key===(u.value?"ArrowLeft":"ArrowRight")&&(R.preventDefault(),kf(B,"first"))):(e.submenu?R.key===(u.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(R.key))&&(r.value=!0,R.preventDefault(),setTimeout(()=>setTimeout(()=>O(R))))}const L=Y(()=>lt({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":o.value,onKeydown:O},e.activatorProps));return St(()=>{const R=Od.filterProps(e);return T(Od,lt({ref:g,id:o.value,class:["v-menu",e.class],style:e.style},R,{modelValue:r.value,"onUpdate:modelValue":B=>r.value=B,absolute:!0,activatorProps:L.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":C,onKeydown:I},s),{activator:n.activator,default:function(){for(var B=arguments.length,j=new Array(B),Z=0;Z<B;Z++)j[Z]=arguments[Z];return T(Bn,{root:"VMenu"},{default:()=>{var re;return[(re=n.default)==null?void 0:re.call(n,...j)]}})}})}),io({id:o,ΨopenChildren:w},g)}}),_3=We({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...un(),...bu({transition:{component:WA}})},"VCounter"),ux=ft()({name:"VCounter",functional:!0,props:_3(),setup(e,t){let{slots:n}=t;const r=Y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return St(()=>T(ws,{transition:e.transition},{default:()=>[vi(T("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[pl,e.active]])]})),{}}}),b3=We({text:String,onClick:Ii(),...un(),...yr()},"VLabel"),dx=ft()({name:"VLabel",props:b3(),setup(e,t){let{slots:n}=t;return St(()=>{var r;return T("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),x3=We({floating:Boolean,...un()},"VFieldLabel"),Zp=ft()({name:"VFieldLabel",props:x3(),setup(e,t){let{slots:n}=t;return St(()=>T(dx,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function AE(e){const{t}=si();function n(r){let{name:s}=r;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],h=e[`onClick:${s}`],o=h&&u?t(`$vuetify.input.${u}`,e.label??""):void 0;return T(nr,{icon:e[`${s}Icon`],"aria-label":o,onClick:h},null)}return{InputIcon:n}}const hx=We({focused:Boolean,"onUpdate:focused":Ii()},"focus");function pm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo();const n=fn(e,"focused"),r=Y(()=>({[`${t}--focused`]:n.value}));function s(){n.value=!0}function u(){n.value=!1}return{focusClasses:r,isFocused:n,focus:s,blur:u}}const w3=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],gv=We({appendInnerIcon:mn,bgColor:String,clearable:Boolean,clearIcon:{type:mn,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:mn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>w3.includes(e)},"onClick:clear":Ii(),"onClick:appendInner":Ii(),"onClick:prependInner":Ii(),...un(),...hv(),...Di(),...yr()},"VField"),vv=ft()({name:"VField",inheritAttrs:!1,props:{id:String,...hx(),...gv()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{themeClasses:u}=Rr(e),{loaderClasses:h}=fv(e),{focusClasses:o,isFocused:g,focus:y,blur:w}=pm(e),{InputIcon:k}=AE(e),{roundedClasses:C}=Ni(e),{rtlClasses:I}=Ua(),O=Y(()=>e.dirty||e.active),L=Y(()=>!e.singleLine&&!!(e.label||s.label)),R=As(),B=Y(()=>e.id||`input-${R}`),j=Y(()=>`${B.value}-messages`),Z=ht(),re=ht(),ie=ht(),Q=Y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:se,backgroundColorStyles:H}=gi(bt(e,"bgColor")),{textColorClasses:$,textColorStyles:K}=$a(Y(()=>e.error||e.disabled?void 0:O.value&&g.value?e.color:e.baseColor));ut(O,me=>{if(L.value){const Ie=Z.value.$el,Ae=re.value.$el;requestAnimationFrame(()=>{const Ue=$0(Ie),Fe=Ae.getBoundingClientRect(),Ce=Fe.x-Ue.x,Ve=Fe.y-Ue.y-(Ue.height/2-Fe.height/2),$e=Fe.width/.75,qe=Math.abs($e-Ue.width)>1?{maxWidth:Ht($e)}:void 0,pt=getComputedStyle(Ie),Ct=getComputedStyle(Ae),$t=parseFloat(pt.transitionDuration)*1e3||150,gt=parseFloat(Ct.getPropertyValue("--v-field-label-scale")),Ne=Ct.getPropertyValue("color");Ie.style.visibility="visible",Ae.style.visibility="hidden",Zc(Ie,{transform:`translate(${Ce}px, ${Ve}px) scale(${gt})`,color:Ne,...qe},{duration:$t,easing:Ff,direction:me?"normal":"reverse"}).finished.then(()=>{Ie.style.removeProperty("visibility"),Ae.style.removeProperty("visibility")})})}},{flush:"post"});const ae=Y(()=>({isActive:O,isFocused:g,controlRef:ie,blur:w,focus:y}));function te(me){me.target!==document.activeElement&&me.preventDefault()}function be(me){var Ie;me.key!=="Enter"&&me.key!==" "||(me.preventDefault(),me.stopPropagation(),(Ie=e["onClick:clear"])==null||Ie.call(e,new MouseEvent("click")))}return St(()=>{var Ce,Ve,$e;const me=e.variant==="outlined",Ie=!!(s["prepend-inner"]||e.prependInnerIcon),Ae=!!(e.clearable||s.clear),Ue=!!(s["append-inner"]||e.appendInnerIcon||Ae),Fe=()=>s.label?s.label({...ae.value,label:e.label,props:{for:B.value}}):e.label;return T("div",lt({class:["v-field",{"v-field--active":O.value,"v-field--appended":Ue,"v-field--center-affix":e.centerAffix??!Q.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":Ie,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!Fe(),[`v-field--variant-${e.variant}`]:!0},u.value,se.value,o.value,h.value,C.value,I.value,e.class],style:[H.value,e.style],onClick:te},n),[T("div",{class:"v-field__overlay"},null),T(J0,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:s.loader}),Ie&&T("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&T(k,{key:"prepend-icon",name:"prependInner"},null),(Ce=s["prepend-inner"])==null?void 0:Ce.call(s,ae.value)]),T("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&L.value&&T(Zp,{key:"floating-label",ref:re,class:[$.value],floating:!0,for:B.value,style:K.value},{default:()=>[Fe()]}),T(Zp,{ref:Z,for:B.value},{default:()=>[Fe()]}),(Ve=s.default)==null?void 0:Ve.call(s,{...ae.value,props:{id:B.value,class:"v-field__input","aria-describedby":j.value},focus:y,blur:w})]),Ae&&T(YA,{key:"clear"},{default:()=>[vi(T("div",{class:"v-field__clearable",onMousedown:qe=>{qe.preventDefault(),qe.stopPropagation()}},[T(Bn,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[s.clear?s.clear({...ae.value,props:{onKeydown:be,onFocus:y,onBlur:w,onClick:e["onClick:clear"]}}):T(k,{name:"clear",onKeydown:be,onFocus:y,onBlur:w},null)]})]),[[pl,e.dirty]])]}),Ue&&T("div",{key:"append",class:"v-field__append-inner"},[($e=s["append-inner"])==null?void 0:$e.call(s,ae.value),e.appendInnerIcon&&T(k,{key:"append-icon",name:"appendInner"},null)]),T("div",{class:["v-field__outline",$.value],style:K.value},[me&&T(Gt,null,[T("div",{class:"v-field__outline__start"},null),L.value&&T("div",{class:"v-field__outline__notch"},[T(Zp,{ref:re,floating:!0,for:B.value},{default:()=>[Fe()]})]),T("div",{class:"v-field__outline__end"},null)]),Q.value&&L.value&&T(Zp,{ref:re,floating:!0,for:B.value},{default:()=>[Fe()]})])])}),{controlRef:ie}}});function fx(e){const t=Object.keys(vv.props).filter(n=>!ov(n)&&n!=="class"&&n!=="style");return z0(e,t)}const S3=We({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...un(),...bu({transition:{component:WA,leaveAbsolute:!0,group:!0}})},"VMessages"),k3=ft()({name:"VMessages",props:S3(),setup(e,t){let{slots:n}=t;const r=Y(()=>Wr(e.messages)),{textColorClasses:s,textColorStyles:u}=$a(Y(()=>e.color));return St(()=>T(ws,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[u.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((h,o)=>T("div",{class:"v-messages__message",key:`${o}-${r.value}`},[n.message?n.message({message:h}):h]))]})),{}}}),EE=Symbol.for("vuetify:form"),C3=We({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function T3(e){const t=fn(e,"modelValue"),n=Y(()=>e.disabled),r=Y(()=>e.readonly),s=Rt(!1),u=ht([]),h=ht([]);async function o(){const w=[];let k=!0;h.value=[],s.value=!0;for(const C of u.value){const I=await C.validate();if(I.length>0&&(k=!1,w.push({id:C.id,errorMessages:I})),!k&&e.fastFail)break}return h.value=w,s.value=!1,{valid:k,errors:h.value}}function g(){u.value.forEach(w=>w.reset())}function y(){u.value.forEach(w=>w.resetValidation())}return ut(u,()=>{let w=0,k=0;const C=[];for(const I of u.value)I.isValid===!1?(k++,C.push({id:I.id,errorMessages:I.errorMessages})):I.isValid===!0&&w++;h.value=C,t.value=k>0?!1:w===u.value.length?!0:null},{deep:!0,flush:"post"}),wn(EE,{register:w=>{let{id:k,vm:C,validate:I,reset:O,resetValidation:L}=w;u.value.some(R=>R.id===k),u.value.push({id:k,validate:I,reset:O,resetValidation:L,vm:bg(C),isValid:null,errorMessages:[]})},unregister:w=>{u.value=u.value.filter(k=>k.id!==w)},update:(w,k,C)=>{const I=u.value.find(O=>O.id===w);I&&(I.isValid=k,I.errorMessages=C)},isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validateOn:bt(e,"validateOn")}),{errors:h,isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validate:o,reset:g,resetValidation:y}}function yv(){return yt(EE,null)}const A3=We({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...hx()},"validation");function E3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Mo(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:As();const r=fn(e,"modelValue"),s=Y(()=>e.validationValue===void 0?r.value:e.validationValue),u=yv(),h=ht([]),o=Rt(!0),g=Y(()=>!!(Wr(r.value===""?null:r.value).length||Wr(s.value===""?null:s.value).length)),y=Y(()=>!!(e.disabled??(u==null?void 0:u.isDisabled.value))),w=Y(()=>!!(e.readonly??(u==null?void 0:u.isReadonly.value))),k=Y(()=>{var ie;return(ie=e.errorMessages)!=null&&ie.length?Wr(e.errorMessages).concat(h.value).slice(0,Math.max(0,+e.maxErrors)):h.value}),C=Y(()=>{let ie=(e.validateOn??(u==null?void 0:u.validateOn.value))||"input";ie==="lazy"&&(ie="input lazy"),ie==="eager"&&(ie="input eager");const Q=new Set((ie==null?void 0:ie.split(" "))??[]);return{input:Q.has("input"),blur:Q.has("blur")||Q.has("input")||Q.has("invalid-input"),invalidInput:Q.has("invalid-input"),lazy:Q.has("lazy"),eager:Q.has("eager")}}),I=Y(()=>{var ie;return e.error||(ie=e.errorMessages)!=null&&ie.length?!1:e.rules.length?o.value?h.value.length||C.value.lazy?null:!0:!h.value.length:!0}),O=Rt(!1),L=Y(()=>({[`${t}--error`]:I.value===!1,[`${t}--dirty`]:g.value,[`${t}--disabled`]:y.value,[`${t}--readonly`]:w.value})),R=Yr("validation"),B=Y(()=>e.name??Br(n));k0(()=>{u==null||u.register({id:B.value,vm:R,validate:re,reset:j,resetValidation:Z})}),vr(()=>{u==null||u.unregister(B.value)}),Vi(async()=>{C.value.lazy||await re(!C.value.eager),u==null||u.update(B.value,I.value,k.value)}),Ba(()=>C.value.input||C.value.invalidInput&&I.value===!1,()=>{ut(s,()=>{if(s.value!=null)re();else if(e.focused){const ie=ut(()=>e.focused,Q=>{Q||re(),ie()})}})}),Ba(()=>C.value.blur,()=>{ut(()=>e.focused,ie=>{ie||re()})}),ut([I,k],()=>{u==null||u.update(B.value,I.value,k.value)});async function j(){r.value=null,await Xn(),await Z()}async function Z(){o.value=!0,C.value.lazy?h.value=[]:await re(!C.value.eager)}async function re(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const Q=[];O.value=!0;for(const se of e.rules){if(Q.length>=+(e.maxErrors??1))break;const $=await(typeof se=="function"?se:()=>se)(s.value);if($!==!0){if($!==!1&&typeof $!="string"){console.warn(`${$} is not a valid value. Rule functions must return boolean true or a string.`);continue}Q.push($||"")}}return h.value=Q,O.value=!1,o.value=ie,h.value}return{errorMessages:k,isDirty:g,isDisabled:y,isReadonly:w,isPristine:o,isValid:I,isValidating:O,reset:j,resetValidation:Z,validate:re,validationClasses:L}}const gm=We({id:String,appendIcon:mn,centerAffix:{type:Boolean,default:!0},prependIcon:mn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Ii(),"onClick:append":Ii(),...un(),...qa(),...HT(is(),["maxWidth","minWidth","width"]),...yr(),...A3()},"VInput"),cc=ft()({name:"VInput",props:{...gm()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const{densityClasses:u}=Ps(e),{dimensionStyles:h}=as(e),{themeClasses:o}=Rr(e),{rtlClasses:g}=Ua(),{InputIcon:y}=AE(e),w=As(),k=Y(()=>e.id||`input-${w}`),C=Y(()=>`${k.value}-messages`),{errorMessages:I,isDirty:O,isDisabled:L,isReadonly:R,isPristine:B,isValid:j,isValidating:Z,reset:re,resetValidation:ie,validate:Q,validationClasses:se}=E3(e,"v-input",k),H=Y(()=>({id:k,messagesId:C,isDirty:O,isDisabled:L,isReadonly:R,isPristine:B,isValid:j,isValidating:Z,reset:re,resetValidation:ie,validate:Q})),$=Y(()=>{var K;return(K=e.errorMessages)!=null&&K.length||!B.value&&I.value.length?I.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return St(()=>{var me,Ie,Ae,Ue;const K=!!(r.prepend||e.prependIcon),ae=!!(r.append||e.appendIcon),te=$.value.length>0,be=!e.hideDetails||e.hideDetails==="auto"&&(te||!!r.details);return T("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},u.value,o.value,g.value,se.value,e.class],style:[h.value,e.style]},[K&&T("div",{key:"prepend",class:"v-input__prepend"},[(me=r.prepend)==null?void 0:me.call(r,H.value),e.prependIcon&&T(y,{key:"prepend-icon",name:"prepend"},null)]),r.default&&T("div",{class:"v-input__control"},[(Ie=r.default)==null?void 0:Ie.call(r,H.value)]),ae&&T("div",{key:"append",class:"v-input__append"},[e.appendIcon&&T(y,{key:"append-icon",name:"append"},null),(Ae=r.append)==null?void 0:Ae.call(r,H.value)]),be&&T("div",{class:"v-input__details"},[T(k3,{id:C.value,active:te,messages:$.value},{message:r.message}),(Ue=r.details)==null?void 0:Ue.call(r,H.value)])])}),{reset:re,resetValidation:ie,validate:Q,isValid:j,errorMessages:I}}}),I3=["color","file","time","date","datetime-local","week","month"],vm=We({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...gm(),...gv()},"VTextField"),ii=ft()({name:"VTextField",directives:{Intersect:nx},inheritAttrs:!1,props:vm(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=fn(e,"modelValue"),{isFocused:h,focus:o,blur:g}=pm(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),w=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),k=Y(()=>["plain","underlined"].includes(e.variant));function C(Q,se){var H,$;!e.autofocus||!Q||($=(H=se[0].target)==null?void 0:H.focus)==null||$.call(H)}const I=ht(),O=ht(),L=ht(),R=Y(()=>I3.includes(e.type)||e.persistentPlaceholder||h.value||e.active);function B(){var Q;L.value!==document.activeElement&&((Q=L.value)==null||Q.focus()),h.value||o()}function j(Q){r("mousedown:control",Q),Q.target!==L.value&&(B(),Q.preventDefault())}function Z(Q){B(),r("click:control",Q)}function re(Q){Q.stopPropagation(),B(),Xn(()=>{u.value=null,V0(e["onClick:clear"],Q)})}function ie(Q){var H;const se=Q.target;if(u.value=se.value,(H=e.modelModifiers)!=null&&H.trim&&["text","search","password","tel","url"].includes(e.type)){const $=[se.selectionStart,se.selectionEnd];Xn(()=>{se.selectionStart=$[0],se.selectionEnd=$[1]})}}return St(()=>{const Q=!!(s.counter||e.counter!==!1&&e.counter!=null),se=!!(Q||s.details),[H,$]=sm(n),{modelValue:K,...ae}=cc.filterProps(e),te=fx(e);return T(cc,lt({ref:I,modelValue:u.value,"onUpdate:modelValue":be=>u.value=be,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":k.value},e.class],style:e.style},H,ae,{centerAffix:!k.value,focused:h.value}),{...s,default:be=>{let{id:me,isDisabled:Ie,isDirty:Ae,isReadonly:Ue,isValid:Fe}=be;return T(vv,lt({ref:O,onMousedown:j,onClick:Z,"onClick:clear":re,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},te,{id:me.value,active:R.value||Ae.value,dirty:Ae.value||e.dirty,disabled:Ie.value,focused:h.value,error:Fe.value===!1}),{...s,default:Ce=>{let{props:{class:Ve,...$e}}=Ce;const qe=vi(T("input",lt({ref:L,value:u.value,onInput:ie,autofocus:e.autofocus,readonly:Ue.value,disabled:Ie.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:B,onBlur:g},$e,$),null),[[to("intersect"),{handler:C},null,{once:!0}]]);return T(Gt,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[T("span",{class:"v-text-field__prefix__text"},[e.prefix])]),s.default?T("div",{class:Ve,"data-no-activator":""},[s.default(),qe]):dl(qe,{class:Ve}),e.suffix&&T("span",{class:"v-text-field__suffix"},[T("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:se?be=>{var me;return T(Gt,null,[(me=s.details)==null?void 0:me.call(s,be),Q&&T(Gt,null,[T("span",null,null),T(ux,{active:e.persistentCounter||h.value,value:y.value,max:w.value,disabled:e.disabled},s.counter)])])}:void 0})}),io({},I,O,L)}}),P3=We({hideActions:Boolean,...hx(),...rE(),...vm({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...Tr(_E({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),D3=ft()({name:"VDateInput",props:P3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=si(),s=Lo(),{isFocused:u,focus:h,blur:o}=pm(e),g=fn(e,"modelValue",e.multiple?[]:null),y=Rt(!1),w=Y(()=>{const L=Wr(g.value);if(!L.length)return null;if(e.multiple===!0)return r("$vuetify.datePicker.itemsSelected",L.length);if(e.multiple==="range"){const R=L[0],B=L[L.length-1];return s.isValid(R)&&s.isValid(B)?`${s.format(R,"keyboardDate")} - ${s.format(B,"keyboardDate")}`:""}return s.isValid(g.value)?s.format(g.value,"keyboardDate"):""}),k=Y(()=>!e.disabled&&!e.readonly);function C(L){if(L.key!=="Enter")return;if(!y.value||!u.value){y.value=!0;return}const R=L.target;g.value=s.date(R.value)}function I(L){L.preventDefault(),L.stopPropagation(),y.value=!0}function O(){y.value=!1}St(()=>{const L=Mk.filterProps(e),R=Nk.filterProps(Tr(e,["active"])),B=ii.filterProps(e);return T(ii,lt(B,{class:e.class,style:e.style,modelValue:w.value,onKeydown:k.value?C:void 0,focused:y.value||u.value,onFocus:h,onBlur:o,"onClick:control":k.value?I:void 0,"onClick:prepend":k.value?I:void 0}),{default:()=>{var j;return[T(cx,{modelValue:y.value,"onUpdate:modelValue":Z=>y.value=Z,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[T(Mk,lt(L,{modelValue:g.value,"onUpdate:modelValue":Z=>g.value=Z,onSave:O}),{default:Z=>{let{actions:re,model:ie}=Z;return T(Nk,lt(R,{modelValue:e.hideActions?g.value:ie.value,"onUpdate:modelValue":Q=>{e.hideActions?(g.value=Q,e.multiple||(y.value=!1)):ie.value=Q},onMousedown:Q=>Q.preventDefault()}),{actions:e.hideActions?void 0:()=>re})}})]}),(j=n.default)==null?void 0:j.call(n)]}})})}}),M3=We({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...un(),...yr()},"VDivider"),gr=ft()({name:"VDivider",props:M3(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{textColorClasses:u,textColorStyles:h}=$a(bt(e,"color")),o=Y(()=>{const g={};return e.length&&(g[e.vertical?"height":"width"]=Ht(e.length)),e.thickness&&(g[e.vertical?"borderRightWidth":"borderTopWidth"]=Ht(e.thickness)),g});return St(()=>{const g=T("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,u.value,e.class],style:[o.value,h.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?T("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[g,T("div",{class:"v-divider__content"},[r.default()]),g]):g}),{}}}),L3=We({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...Tr(vm({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),R3=ft()({name:"VNumberInput",props:{...L3()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),s=Y({get:()=>r.value,set(K){typeof K!="string"&&(r.value=K)}}),u=ht(),h=Y(()=>US(e.step)),o=Y(()=>typeof s.value=="number"?US(s.value):0),g=yv(),y=Y(()=>e.disabled||e.readonly||(g==null?void 0:g.isReadonly.value)),w=Y(()=>y.value?!1:(s.value??0)+e.step<=e.max),k=Y(()=>y.value?!1:(s.value??0)-e.step>=e.min),C=Y(()=>e.hideInput?"stacked":e.controlVariant),I=Y(()=>C.value==="split"?"$plus":"$collapse"),O=Y(()=>C.value==="split"?"$minus":"$expand"),L=Y(()=>C.value==="split"?"default":"small"),R=Y(()=>C.value==="stacked"?"auto":"100%"),B=Y(()=>({click:re})),j=Y(()=>({click:ie}));Vi(()=>{!e.readonly&&!e.disabled&&$()});function Z(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(y.value)return;if(s.value==null){s.value=Zi(0,e.min,e.max);return}const ae=Math.max(o.value,h.value);K?w.value&&(s.value=+(s.value+e.step).toFixed(ae)):k.value&&(s.value=+(s.value-e.step).toFixed(ae))}function re(K){K.stopPropagation(),Z()}function ie(K){K.stopPropagation(),Z(!1)}function Q(K){var Ie,Ae,Ue;if(!K.data)return;const ae=(Ie=K.target)==null?void 0:Ie.value,te=(Ae=K.target)==null?void 0:Ae.selectionStart,be=(Ue=K.target)==null?void 0:Ue.selectionEnd,me=ae?ae.slice(0,te)+K.data+ae.slice(be):K.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(me)||K.preventDefault()}async function se(K){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(K.key)||K.ctrlKey||["ArrowDown","ArrowUp"].includes(K.key)&&(K.preventDefault(),$(),await Xn(),K.key==="ArrowDown"?Z(!1):Z())}function H(K){K.stopPropagation()}function $(){if(!u.value)return;const K=u.value.value;K&&!isNaN(+K)?s.value=Zi(+K,e.min,e.max):s.value=null}return St(()=>{const{modelValue:K,...ae}=ii.filterProps(e);function te(){return n.increment?T(Bn,{key:"increment-defaults",defaults:{VBtn:{disabled:!w.value,flat:!0,height:R.value,size:L.value,icon:I.value}}},{default:()=>[n.increment(B.value)]}):T(Jt,{disabled:!w.value,flat:!0,key:"increment-btn",height:R.value,name:"increment-btn",icon:I.value,onClick:re,onMousedown:H,size:L.value,tabindex:"-1"},null)}function be(){return n.decrement?T(Bn,{key:"decrement-defaults",defaults:{VBtn:{disabled:!k.value,flat:!0,height:R.value,size:L.value,icon:O.value}}},{default:()=>[n.decrement(j.value)]}):T(Jt,{disabled:!k.value,flat:!0,key:"decrement-btn",height:R.value,name:"decrement-btn",icon:O.value,size:L.value,tabindex:"-1",onClick:ie,onMousedown:H},null)}function me(){return T("div",{class:"v-number-input__control"},[be(),T(gr,{vertical:C.value!=="stacked"},null),te()])}function Ie(){return!e.hideInput&&!e.inset?T(gr,{vertical:!0},null):void 0}const Ae=C.value==="split"?T("div",{class:"v-number-input__control"},[T(gr,{vertical:!0},null),te()]):e.reverse?void 0:T(Gt,null,[Ie(),me()]),Ue=n["append-inner"]||Ae,Fe=C.value==="split"?T("div",{class:"v-number-input__control"},[be(),T(gr,{vertical:!0},null)]):e.reverse?T(Gt,null,[me(),Ie()]):void 0,Ce=n["prepend-inner"]||Fe;return T(ii,lt({ref:u,modelValue:s.value,"onUpdate:modelValue":Ve=>s.value=Ve,onBeforeinput:Q,onChange:$,onKeydown:se,class:["v-number-input",{"v-number-input--default":C.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":C.value==="split","v-number-input--stacked":C.value==="stacked"},e.class]},ae,{style:e.style,inputmode:"decimal"}),{...n,"append-inner":Ue?function(){var pt;for(var Ve=arguments.length,$e=new Array(Ve),qe=0;qe<Ve;qe++)$e[qe]=arguments[qe];return T(Gt,null,[(pt=n["append-inner"])==null?void 0:pt.call(n,...$e),Ae])}:void 0,"prepend-inner":Ce?function(){var pt;for(var Ve=arguments.length,$e=new Array(Ve),qe=0;qe<Ve;qe++)$e[qe]=arguments[qe];return T(Gt,null,[Fe,(pt=n["prepend-inner"])==null?void 0:pt.call(n,...$e)])}:void 0})}),io({},u)}}),mx=We({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Db=ft()({name:"VStepperActions",props:mx(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=si();function u(){n("click:prev")}function h(){n("click:next")}return St(()=>{const o={onClick:u},g={onClick:h};return T("div",{class:"v-stepper-actions"},[T(Bn,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:s(e.prevText),variant:"text"}}},{default:()=>{var y;return[((y=r.prev)==null?void 0:y.call(r,{props:o}))??T(Jt,o,null)]}}),T(Bn,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:s(e.nextText),variant:"tonal"}}},{default:()=>{var y;return[((y=r.next)==null?void 0:y.call(r,{props:g}))??T(Jt,g,null)]}})])}),{}}}),O3=We({...mx()},"VStepperActions"),IE=ft()({name:"VStepperVerticalActions",props:O3(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;function s(){n("click:prev")}function u(){n("click:next")}return St(()=>{const h=Db.filterProps(e);return T(Db,lt({class:"v-stepper-vertical-actions"},h,{"onClick:prev":s,"onClick:next":u}),r)}),{}}}),jf=Symbol.for("vuetify:v-expansion-panel"),PE=We({...un(),...ox()},"VExpansionPanelText"),Gk=ft()({name:"VExpansionPanelText",props:PE(),setup(e,t){let{slots:n}=t;const r=yt(jf);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:u}=lx(e,r.isSelected);return St(()=>T(tx,{onAfterLeave:u},{default:()=>{var h;return[vi(T("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&s.value&&T("div",{class:"v-expansion-panel-text__wrapper"},[(h=n.default)==null?void 0:h.call(n)])]),[[pl,r.isSelected.value]])]}})),{}}}),DE=We({color:String,expandIcon:{type:mn,default:"$expand"},collapseIcon:{type:mn,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...un(),...is()},"VExpansionPanelTitle"),Wk=ft()({name:"VExpansionPanelTitle",directives:{Ripple:_u},props:DE(),setup(e,t){let{slots:n}=t;const r=yt(jf);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:u}=gi(e,"color"),{dimensionStyles:h}=as(e),o=Y(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),g=Y(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return St(()=>{var y;return vi(T("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},s.value,e.class],style:[u.value,h.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[T("span",{class:"v-expansion-panel-title__overlay"},null),(y=n.default)==null?void 0:y.call(n,o.value),!e.hideActions&&T(Bn,{defaults:{VIcon:{icon:g.value}}},{default:()=>{var w;return[T("span",{class:"v-expansion-panel-title__icon"},[((w=n.actions)==null?void 0:w.call(n,o.value))??T(nr,null,null)])]}})]),[[to("ripple"),e.ripple]])}),{}}}),px=We({title:String,text:String,bgColor:String,...ss(),...um(),...Di(),...Yn(),...DE(),...PE()},"VExpansionPanel"),Yk=ft()({name:"VExpansionPanel",props:px(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=dm(e,jf),{backgroundColorClasses:s,backgroundColorStyles:u}=gi(e,"bgColor"),{elevationClasses:h}=Is(e),{roundedClasses:o}=Ni(e),g=Y(()=>(r==null?void 0:r.disabled.value)||e.disabled),y=Y(()=>r.group.items.value.reduce((C,I,O)=>(r.group.selected.value.includes(I.id)&&C.push(O),C),[])),w=Y(()=>{const C=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-C===1)}),k=Y(()=>{const C=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-C===-1)});return wn(jf,r),St(()=>{const C=!!(n.text||e.text),I=!!(n.title||e.title),O=Wk.filterProps(e),L=Gk.filterProps(e);return T(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":w.value,"v-expansion-panel--after-active":k.value,"v-expansion-panel--disabled":g.value},o.value,s.value,e.class],style:[u.value,e.style]},{default:()=>[T("div",{class:["v-expansion-panel__shadow",...h.value]},null),T(Bn,{defaults:{VExpansionPanelTitle:{...O},VExpansionPanelText:{...L}}},{default:()=>{var R;return[I&&T(Wk,{key:"title"},{default:()=>[n.title?n.title():e.title]}),C&&T(Gk,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(R=n.default)==null?void 0:R.call(n)]}})]})}),{groupItem:r}}}),gx=Symbol.for("vuetify:v-stepper"),ME=We({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),F3=We({...ME(),...um()},"VStepperItem"),z3=ft()({name:"VStepperItem",directives:{Ripple:_u},props:F3(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=dm(e,gx,!0),s=Y(()=>(r==null?void 0:r.value.value)??e.value),u=Y(()=>e.rules.every(C=>C()===!0)),h=Y(()=>!e.disabled&&e.editable),o=Y(()=>!e.disabled&&e.editable),g=Y(()=>e.error||!u.value),y=Y(()=>e.complete||e.rules.length>0&&u.value),w=Y(()=>g.value?e.errorIcon:y.value?e.completeIcon:r.isSelected.value&&e.editable?e.editIcon:e.icon),k=Y(()=>({canEdit:o.value,hasError:g.value,hasCompleted:y.value,title:e.title,subtitle:e.subtitle,step:s.value,value:e.value}));return St(()=>{var R,B,j;const C=(!r||r.isSelected.value||y.value||o.value)&&!g.value&&!e.disabled,I=!!(e.title!=null||n.title),O=!!(e.subtitle!=null||n.subtitle);function L(){r==null||r.toggle()}return vi(T("button",{class:["v-stepper-item",{"v-stepper-item--complete":y.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":g.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,onClick:L},[h.value&&gc(!0,"v-stepper-item"),T(Io,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:C?e.color:void 0,size:24},{default:()=>{var Z;return[((Z=n.icon)==null?void 0:Z.call(n,k.value))??(w.value?T(nr,{icon:w.value},null):s.value)]}}),T("div",{class:"v-stepper-item__content"},[I&&T("div",{key:"title",class:"v-stepper-item__title"},[((R=n.title)==null?void 0:R.call(n,k.value))??e.title]),O&&T("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((B=n.subtitle)==null?void 0:B.call(n,k.value))??e.subtitle]),(j=n.default)==null?void 0:j.call(n,k.value)])]),[[to("ripple"),e.ripple&&e.editable,null]])}),{}}}),B3=We({hideActions:Boolean,...ME(),...Tr(px({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),LE=ft()({name:"VStepperVerticalItem",props:B3(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=ht(),u=Y(()=>isNaN(parseInt(e.value))?e.value:Number(e.value)),h=Y(()=>{var j;return(j=s.value)==null?void 0:j.groupItem}),o=Y(()=>{var j;return((j=h.value)==null?void 0:j.isSelected.value)??!1}),g=Y(()=>o.value?e.rules.every(j=>j()===!0):null),y=Y(()=>!e.disabled&&e.editable),w=Y(()=>e.error||o.value&&!g.value),k=Y(()=>e.complete||e.rules.length>0&&g.value===!0),C=Y(()=>{var j;return e.disabled?e.disabled:(j=h.value)!=null&&j.isFirst.value?"prev":!1}),I=Y(()=>{var j;return w.value?e.errorIcon:k.value?e.completeIcon:(j=h.value)!=null&&j.isSelected.value&&e.editable?e.editIcon:e.icon}),O=Y(()=>({canEdit:y.value,hasError:w.value,hasCompleted:k.value,title:e.title,subtitle:e.subtitle,step:u.value,value:e.value})),L=Y(()=>({...O.value,prev:B,next:R}));function R(){var j;n("click:next"),!((j=h.value)!=null&&j.isLast.value)&&h.value.group.next()}function B(){n("click:prev"),h.value.group.prev()}return St(()=>{var ie;const j=(k.value||((ie=h.value)==null?void 0:ie.isSelected.value))&&!w.value&&!e.disabled,Z=!e.hideActions||!!r.actions,re=Yk.filterProps(e);return T(Yk,lt({_as:"VStepperVerticalItem",ref:s},re,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":k.value,"v-stepper-vertical-item--disabled":e.disabled,"v-stepper-vertical-item--editable":y.value,"v-stepper-vertical-item--error":w.value},e.class],readonly:!e.editable,style:e.style,color:"","hide-actions":!1,value:u.value}),{title:()=>{var Q,se;return T(Gt,null,[T(Io,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:j?e.color:void 0,size:24,start:!0},{default:()=>{var H;return[((H=r.icon)==null?void 0:H.call(r,O.value))??(I.value?T(nr,{icon:I.value},null):u.value)]}}),T("div",null,[T("div",{class:"v-stepper-vertical-item__title"},[((Q=r.title)==null?void 0:Q.call(r,O.value))??e.title]),T("div",{class:"v-stepper-vertical-item__subtitle"},[((se=r.subtitle)==null?void 0:se.call(r,O.value))??e.subtitle])])])},text:()=>{var Q,se;return T(Gt,null,[((Q=r.default)==null?void 0:Q.call(r,O.value))??e.text,Z&&T(Bn,{defaults:{VStepperVerticalActions:{disabled:C.value,finish:(se=h.value)==null?void 0:se.isLast.value}}},{default:()=>{var H;return[((H=r.actions)==null?void 0:H.call(r,L.value))??T(IE,{"onClick:next":R,"onClick:prev":B},{prev:r.prev?()=>{var $;return($=r.prev)==null?void 0:$.call(r,L.value)}:void 0,next:r.next?()=>{var $;return($=r.next)==null?void 0:$.call(r,L.value)}:void 0})]}})])}})}),{}}}),V3=["default","accordion","inset","popout"],RE=We({flat:Boolean,...cm(),...z0(px(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...yr(),...un(),...Yn(),variant:{type:String,default:"default",validator:e=>V3.includes(e)}},"VExpansionPanels"),Zk=ft()({name:"VExpansionPanels",props:RE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:r,prev:s}=jd(e,jf),{themeClasses:u}=Rr(e),h=Y(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return da({VExpansionPanel:{bgColor:bt(e,"bgColor"),collapseIcon:bt(e,"collapseIcon"),color:bt(e,"color"),eager:bt(e,"eager"),elevation:bt(e,"elevation"),expandIcon:bt(e,"expandIcon"),focusable:bt(e,"focusable"),hideActions:bt(e,"hideActions"),readonly:bt(e,"readonly"),ripple:bt(e,"ripple"),rounded:bt(e,"rounded"),static:bt(e,"static")}}),St(()=>T(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},u.value,h.value,e.class],style:e.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:r})]}})),{next:r,prev:s}}}),N3=$d("v-stepper-header"),$3=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:s}=e,u=.5,h=16;e.offsetX=n-t,e.offsetY=s-r,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&n<t-h&&e.left(e),e.right&&n>t+h&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&s<r-h&&e.up(e),e.down&&s>r+h&&e.down(e))};function U3(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function q3(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),$3(t)}function j3(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function H3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>U3(n,t),touchend:n=>q3(n,t),touchmove:n=>j3(n,t)}}function G3(e,t){var o;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,s=(n==null?void 0:n.options)??{passive:!0},u=(o=t.instance)==null?void 0:o.$.uid;if(!r||!u)return;const h=H3(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[u]=h,jT(h).forEach(g=>{r.addEventListener(g,h[g],s)})}function W3(e,t){var u,h;const n=(u=t.value)!=null&&u.parent?e.parentElement:e,r=(h=t.instance)==null?void 0:h.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const s=n._touchHandlers[r];jT(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[r]}const OE={mounted:G3,unmounted:W3},Y3=OE,FE=Symbol.for("vuetify:v-window"),zE=Symbol.for("vuetify:v-window-group"),vx=We({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...un(),...Yn(),...yr()},"VWindow"),Hf=ft()({name:"VWindow",directives:{Touch:OE},props:vx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Rr(e),{isRtl:s}=Ua(),{t:u}=si(),h=jd(e,zE),o=ht(),g=Y(()=>s.value?!e.reverse:e.reverse),y=Rt(!1),w=Y(()=>{const re=e.direction==="vertical"?"y":"x",Q=(g.value?!y.value:y.value)?"-reverse":"";return`v-window-${re}${Q}-transition`}),k=Rt(0),C=ht(void 0),I=Y(()=>h.items.value.findIndex(re=>h.selected.value.includes(re.id)));ut(I,(re,ie)=>{const Q=h.items.value.length,se=Q-1;Q<=2?y.value=re<ie:re===se&&ie===0?y.value=!0:re===0&&ie===se?y.value=!1:y.value=re<ie}),wn(FE,{transition:w,isReversed:y,transitionCount:k,transitionHeight:C,rootRef:o});const O=Y(()=>e.continuous||I.value!==0),L=Y(()=>e.continuous||I.value!==h.items.value.length-1);function R(){O.value&&h.prev()}function B(){L.value&&h.next()}const j=Y(()=>{const re=[],ie={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${g.value?"right":"left"}`,onClick:h.prev,"aria-label":u("$vuetify.carousel.prev")};re.push(O.value?n.prev?n.prev({props:ie}):T(Jt,ie,null):T("div",null,null));const Q={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${g.value?"left":"right"}`,onClick:h.next,"aria-label":u("$vuetify.carousel.next")};return re.push(L.value?n.next?n.next({props:Q}):T(Jt,Q,null):T("div",null,null)),re}),Z=Y(()=>e.touch===!1?e.touch:{...{left:()=>{g.value?R():B()},right:()=>{g.value?B():R()},start:ie=>{let{originalEvent:Q}=ie;Q.stopPropagation()}},...e.touch===!0?{}:e.touch});return St(()=>vi(T(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var re,ie;return[T("div",{class:"v-window__container",style:{height:C.value}},[(re=n.default)==null?void 0:re.call(n,{group:h}),e.showArrows!==!1&&T("div",{class:"v-window__controls"},[j.value])]),(ie=n.additional)==null?void 0:ie.call(n,{group:h})]}}),[[to("touch"),Z.value]])),{group:h}}}),Z3=We({...Tr(vx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),K3=ft()({name:"VStepperWindow",props:Z3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(gx,null),s=fn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return St(()=>{const h=Hf.filterProps(e);return T(Hf,lt({_as:"VStepperWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}});function ym(){const e=Rt(!1);return Vi(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:Y(()=>e.value?void 0:{transition:"none !important"}),isBooted:rm(e)}}const yx=We({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...un(),...um(),...ox()},"VWindowItem"),au=ft()({name:"VWindowItem",directives:{Touch:Y3},props:yx(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(FE),s=dm(e,zE),{isBooted:u}=ym();if(!r||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const h=Rt(!1),o=Y(()=>u.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function g(){!h.value||!r||(h.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function y(){var O;h.value||!r||(h.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Ht((O=r.rootRef.value)==null?void 0:O.clientHeight)),r.transitionCount.value+=1)}function w(){g()}function k(O){h.value&&Xn(()=>{!o.value||!h.value||!r||(r.transitionHeight.value=Ht(O.clientHeight))})}const C=Y(()=>{const O=r.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof O!="string"?r.transition.value:O,onBeforeEnter:y,onAfterEnter:g,onEnterCancelled:w,onBeforeLeave:y,onAfterLeave:g,onLeaveCancelled:w,onEnter:k}:!1}),{hasContent:I}=lx(e,s.isSelected);return St(()=>T(ws,{transition:C.value,disabled:!u.value},{default:()=>{var O;return[vi(T("div",{class:["v-window-item",s.selectedClass.value,e.class],style:e.style},[I.value&&((O=n.default)==null?void 0:O.call(n))]),[[pl,s.isSelected.value]])]}})),{groupItem:s}}}),X3=We({...yx()},"VStepperWindowItem"),J3=ft()({name:"VStepperWindowItem",props:X3(),setup(e,t){let{slots:n}=t;return St(()=>{const r=au.filterProps(e);return T(au,lt({_as:"VStepperWindowItem"},r,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),BE=We({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Ud()},"Stepper"),Q3=We({...BE(),...cm({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...K0(),...HT(mx(),["prevText","nextText"])},"VStepper");ft()({name:"VStepper",props:Q3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:r,next:s,prev:u,selected:h}=jd(e,gx),{displayClasses:o,mobile:g}=vl(e),{completeIcon:y,editIcon:w,errorIcon:k,color:C,editable:I,prevText:O,nextText:L}=Vd(e),R=Y(()=>e.items.map((Z,re)=>{const ie=Bi(Z,e.itemTitle,Z),Q=Bi(Z,e.itemValue,re+1);return{title:ie,value:Q,raw:Z}})),B=Y(()=>r.value.findIndex(Z=>h.value.includes(Z.id))),j=Y(()=>e.disabled?e.disabled:B.value===0?"prev":B.value===r.value.length-1?"next":!1);return da({VStepperItem:{editable:I,errorIcon:k,completeIcon:y,editIcon:w,prevText:O,nextText:L},VStepperActions:{color:C,disabled:j,prevText:O,nextText:L}}),St(()=>{const Z=lc.filterProps(e),re=!!(n.header||e.items.length),ie=e.items.length>0,Q=!e.hideActions&&!!(ie||n.actions);return T(lc,lt(Z,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":g.value},o.value,e.class],style:e.style}),{default:()=>{var se,H;return[re&&T(N3,{key:"stepper-header"},{default:()=>[R.value.map(($,K)=>{let{raw:ae,...te}=$;return T(Gt,null,[!!K&&T(gr,null,null),T(z3,te,{default:n[`header-item.${te.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),ie&&T(K3,{key:"stepper-window"},{default:()=>[R.value.map($=>T(J3,{value:$.value},{default:()=>{var K,ae;return((K=n[`item.${$.value}`])==null?void 0:K.call(n,$))??((ae=n.item)==null?void 0:ae.call(n,$))}}))]}),(se=n.default)==null?void 0:se.call(n,{prev:u,next:s}),Q&&(((H=n.actions)==null?void 0:H.call(n,{next:s,prev:u}))??T(Db,{key:"stepper-actions","onClick:prev":u,"onClick:next":s},n))]}})}),{prev:u,next:s}}});const e4=We({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...BE(),...Tr(RE({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),t4=ft()({name:"VStepperVertical",props:e4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ht(),{color:s,eager:u,editable:h,prevText:o,nextText:g,hideActions:y}=Vd(e),w=fn(e,"modelValue"),k=Y(()=>e.items.map((C,I)=>{const O=Bi(C,e.itemTitle,C),L=Bi(C,e.itemValue,I+1);return{title:O,value:L,raw:C}}));return da({VStepperVerticalItem:{color:s,eager:u,editable:h,prevText:o,nextText:g,hideActions:y,static:!0},VStepperActions:{color:s}}),St(()=>{const C=Zk.filterProps(e);return T(Zk,lt(C,{modelValue:w.value,"onUpdate:modelValue":I=>w.value=I,ref:r,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{...n,default:I=>{var R;let{prev:O,next:L}=I;return T(Gt,null,[k.value.map(B=>{let{raw:j,...Z}=B;return T(LE,Z,{...n,default:n[`item.${Z.value}`]})}),(R=n.default)==null?void 0:R.call(n,{prev:O,next:L,step:w.value})])}})}),{}}}),n4=ft()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:e=>!0},setup(e,t){let{slots:n,emit:r}=t,s=0,u=[];const h=Rt(0),o=ht(),g=Rt(!1),y=Rt(!1),w=Rt(!1),k=Y(()=>h.value>=e.pullDownThreshold&&!g.value),C=Y(()=>Zi(h.value,0,e.pullDownThreshold));function I(R){g.value||e.disabled||(w.value=!0,s="clientY"in R?R.clientY:R.touches[0].clientY)}function O(R){if(g.value||!w.value||e.disabled)return;const B="clientY"in R?R.clientY:R.touches[0].clientY;u.length&&!u[0].scrollTop&&(h.value=B-s)}function L(R){if(!(g.value||e.disabled))if(w.value=!1,k.value){let j=function(){g.value&&(h.value=0,g.value=!1)};var B=j;r("load",{done:j}),g.value=!0}else h.value=0}Vi(()=>{u=zf(o.value)}),ut([C,g],()=>{if(u.length){const R=C.value&&!g.value;u.forEach(B=>B.style.overflow=R?"hidden":"auto")}}),ut(C,(R,B)=>{y.value=R<B}),St(()=>{var R;return T("div",{class:["v-pull-to-refresh"],onTouchstart:I,onTouchmove:O,onTouchend:L,onMousedown:I,onMouseup:L,onMouseleave:L,onMousemove:O,ref:o},[T("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":w.value}],style:{top:Ht(-1*e.pullDownThreshold+C.value),height:Ht(e.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:k.value,goingUp:y.value,refreshing:g.value}):T("div",{class:["v-pull-to-refresh__pull-down-default"]},[g.value?T(X0,{indeterminate:!0,active:!1},null):T(nr,{icon:k.value||y.value?"$sortAsc":"$sortDesc"},null)])]),T("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":w.value}],style:{top:Ht(C.value)}},[(R=n.default)==null?void 0:R.call(n)])])})}});function r4(e){const t=Rt(e());let n=-1;function r(){clearInterval(n)}function s(){r(),Xn(()=>t.value=e())}function u(h){const o=h?getComputedStyle(h):{transitionDuration:.2},g=parseFloat(o.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const y=performance.now();n=window.setInterval(()=>{const w=performance.now()-y+g;t.value=Math.max(e()-w,0),t.value<=0&&r()},g)}return ha(r),{clear:r,time:t,start:u,reset:s}}const VE=We({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...vu({location:"bottom"}),...om(),...Di(),...ro(),...yr(),...Tr(pv({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),Kk=ft()({name:"VSnackbar",props:VE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),{positionClasses:s}=lm(e),{scopeId:u}=Gd(),{themeClasses:h}=Rr(e),{colorClasses:o,colorStyles:g,variantClasses:y}=yu(e),{roundedClasses:w}=Ni(e),k=r4(()=>Number(e.timeout)),C=ht(),I=ht(),O=Rt(!1),L=Rt(0),R=ht(),B=yt(Vf,void 0);Ba(()=>!!B,()=>{const ae=xA();yi(()=>{R.value=ae.mainStyles.value})}),ut(r,Z),ut(()=>e.timeout,Z),Vi(()=>{r.value&&Z()});let j=-1;function Z(){k.reset(),window.clearTimeout(j);const ae=Number(e.timeout);if(!r.value||ae===-1)return;const te=F0(I.value);k.start(te),j=window.setTimeout(()=>{r.value=!1},ae)}function re(){k.reset(),window.clearTimeout(j)}function ie(){O.value=!0,re()}function Q(){O.value=!1,Z()}function se(ae){L.value=ae.touches[0].clientY}function H(ae){Math.abs(L.value-ae.changedTouches[0].clientY)>50&&(r.value=!1)}function $(){O.value&&Q()}const K=Y(()=>e.location.split(" ").reduce((ae,te)=>(ae[`v-snackbar--${te}`]=!0,ae),{}));return St(()=>{const ae=Od.filterProps(e),te=!!(n.default||n.text||e.text);return T(Od,lt({ref:C,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},K.value,s.value,e.class],style:[R.value,e.style]},ae,{modelValue:r.value,"onUpdate:modelValue":be=>r.value=be,contentProps:lt({class:["v-snackbar__wrapper",h.value,o.value,w.value,y.value],style:[g.value],onPointerenter:ie,onPointerleave:Q},ae.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:se,onTouchend:H,onAfterLeave:$},u),{default:()=>{var be,me;return[gc(!1,"v-snackbar"),e.timer&&!O.value&&T("div",{key:"timer",class:"v-snackbar__timer"},[T(dv,{ref:I,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":k.time.value},null)]),te&&T("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((be=n.text)==null?void 0:be.call(n))??e.text,(me=n.default)==null?void 0:me.call(n)]),n.actions&&T(Bn,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[T("div",{class:"v-snackbar__actions"},[n.actions({isActive:r})])]})]},activator:n.activator})}),io({},C)}}),i4=We({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...Tr(VE(),["modelValue"])},"VSnackbarQueue"),a4=ft()({name:"VSnackbarQueue",props:i4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=si(),u=Rt(!1),h=Rt(!1),o=Rt();ut(()=>e.modelValue.length,(C,I)=>{!h.value&&C>I&&y()}),ut(u,C=>{C&&(h.value=!0)});function g(){e.modelValue.length?y():(o.value=void 0,h.value=!1)}function y(){const[C,...I]=e.modelValue;n("update:modelValue",I),o.value=typeof C=="string"?{text:C}:C,Xn(()=>{u.value=!0})}function w(){u.value=!1}const k=Y(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:s(e.closeText)}));St(()=>{const C=!!(e.closable||r.actions),{modelValue:I,...O}=Kk.filterProps(e);return T(Gt,null,[h.value&&!!o.value&&(r.default?T(Bn,{defaults:{VSnackbar:o.value}},{default:()=>[r.default({item:o.value})]}):T(Kk,lt(O,o.value,{modelValue:u.value,"onUpdate:modelValue":L=>u.value=L,onAfterLeave:g}),{text:r.text?()=>{var L;return(L=r.text)==null?void 0:L.call(r,{item:o.value})}:void 0,actions:C?()=>T(Gt,null,[r.actions?T(Bn,{defaults:{VBtn:k.value}},{default:()=>[r.actions({item:o.value,props:{onClick:w}})]}):T(Jt,lt(k.value,{onClick:w}),null)]):void 0}))])})}}),s4=We({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),Mb=ft()({name:"VTimePickerClock",props:s4(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const r=ht(null),s=ht(null),u=ht(void 0),h=ht(!1),o=ht(null),g=ht(null),{textColorClasses:y,textColorStyles:w}=$a(bt(e,"color")),{backgroundColorClasses:k,backgroundColorStyles:C}=gi(bt(e,"color")),I=Y(()=>e.max-e.min+1),O=Y(()=>e.double?I.value/2:I.value),L=Y(()=>360/O.value),R=Y(()=>L.value*Math.PI/180),B=Y(()=>e.modelValue==null?e.min:e.modelValue),j=Y(()=>.62),Z=Y(()=>{const Fe=[];for(let Ce=e.min;Ce<=e.max;Ce=Ce+e.step)Fe.push(Ce);return Fe});ut(()=>e.modelValue,Fe=>{u.value=Fe});function re(Fe){u.value!==Fe&&(u.value=Fe),n("input",Fe)}function ie(Fe){return!e.allowedValues||e.allowedValues(Fe)}function Q(Fe){if(!e.scrollable||e.disabled)return;Fe.preventDefault();const Ce=Math.sign(-Fe.deltaY||1);let Ve=B.value;do Ve=Ve+Ce,Ve=(Ve-e.min+I.value)%I.value+e.min;while(!ie(Ve)&&Ve!==B.value);Ve!==e.displayedValue&&re(Ve)}function se(Fe){return e.double&&Fe-e.min>=O.value}function H(Fe){return se(Fe)?j.value:1}function $(Fe){const Ce=e.rotate*Math.PI/180;return{x:Math.sin((Fe-e.min)*R.value+Ce)*H(Fe),y:-Math.cos((Fe-e.min)*R.value+Ce)*H(Fe)}}function K(Fe,Ce){const Ve=(Math.round(Fe/L.value)+(Ce?O.value:0))%I.value+e.min;return Fe<360-L.value/2?Ve:Ce?e.max-O.value+1:e.min}function ae(Fe){const{x:Ce,y:Ve}=$(Fe);return{left:`${50+Ce*50}%`,top:`${50+Ve*50}%`}}function te(Fe,Ce){const Ve=Ce.x-Fe.x,$e=Ce.y-Fe.y;return Math.sqrt(Ve*Ve+$e*$e)}function be(Fe,Ce){const Ve=2*Math.atan2(Ce.y-Fe.y-te(Fe,Ce),Ce.x-Fe.x);return Math.abs(Ve*180/Math.PI)}function me(Fe){o.value===null&&(o.value=Fe),g.value=Fe,re(Fe)}function Ie(Fe){var Je,It;if(Fe.preventDefault(),!h.value&&Fe.type!=="click"||!r.value)return;const{width:Ce,top:Ve,left:$e}=(Je=r.value)==null?void 0:Je.getBoundingClientRect(),{width:qe}=((It=s.value)==null?void 0:It.getBoundingClientRect())??{width:0},{clientX:pt,clientY:Ct}="touches"in Fe?Fe.touches[0]:Fe,$t={x:Ce/2,y:-Ce/2},gt={x:pt-$e,y:Ve-Ct},Ne=Math.round(be($t,gt)-e.rotate+360)%360,tt=e.double&&te($t,gt)<(qe+qe*j.value)/4,je=Math.ceil(15/L.value);let et;for(let oe=0;oe<je;oe++)if(et=K(Ne+oe*L.value,tt),ie(et)||(et=K(Ne-oe*L.value,tt),ie(et)))return me(et)}function Ae(Fe){e.disabled||(Fe.preventDefault(),window.addEventListener("mousemove",Ie),window.addEventListener("touchmove",Ie),window.addEventListener("mouseup",Ue),window.addEventListener("touchend",Ue),o.value=null,g.value=null,h.value=!0,Ie(Fe))}function Ue(Fe){Fe.stopPropagation(),window.removeEventListener("mousemove",Ie),window.removeEventListener("touchmove",Ie),window.removeEventListener("mouseup",Ue),window.removeEventListener("touchend",Ue),h.value=!1,g.value!==null&&ie(g.value)&&n("change",g.value)}St(()=>T("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}],onMousedown:Ae,onTouchstart:Ae,onWheel:Q,ref:r},[T("div",{class:"v-time-picker-clock__inner",ref:s},[T("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":se(e.modelValue)},y.value],style:[{transform:`rotate(${e.rotate+L.value*(B.value-e.min)}deg) scaleY(${H(B.value)})`},w.value]},null),Z.value.map(Fe=>{const Ce=Fe===B.value;return T("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":Ce,"v-time-picker-clock__item--disabled":e.disabled||!ie(Fe)},Ce&&k.value],style:[ae(Fe),Ce&&C.value]},[T("span",null,[e.format(Fe)])])})])]))}}),o4=(e,t,n)=>(t=t>>0,e=String(e),n=String(n),e.length>t?String(e):(t=t-e.length,t>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e))),Kc=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return o4(e,t,"0")};var ri=function(e){return e[e.Hour=1]="Hour",e[e.Minute=2]="Minute",e[e.Second=3]="Second",e}(ri||{});const l4=We({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),Lb=ft()({name:"VTimePickerControls",props:l4(),emits:{"update:period":e=>!0,"update:selecting":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=si();return St(()=>{let u=e.hour;return e.ampm&&(u=u?(u-1)%12+1:12),T("div",{class:"v-time-picker-controls"},[T("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds}},[T(Jt,{active:e.selecting===1,color:e.selecting===1?e.color:void 0,disabled:e.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.hour==null?"--":Kc(`${u}`),onClick:()=>n("update:selecting",ri.Hour)},null),T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]},[zt(":")]),T(Jt,{active:e.selecting===2,color:e.selecting===2?e.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===2,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,variant:"tonal",text:e.minute==null?"--":Kc(e.minute),onClick:()=>n("update:selecting",ri.Minute)},null),e.useSeconds&&T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}],key:"secondsDivider"},[zt(":")]),e.useSeconds&&T(Jt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",ri.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===3,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,text:e.second==null?"--":Kc(e.second)},null),e.ampm&&e.ampmInTitle&&T("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":e.ampmReadonly}]},[T(Jt,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"},disabled:e.disabled,text:s("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),T(Jt,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"},disabled:e.disabled,text:s("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),c4=Zs(24),NE=Zs(12),u4=NE.map(e=>e+12);Zs(60);const d4={1:"hour",2:"minute",3:"second"},h4=We({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...Tr(sx({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),f4=ft()({name:"VTimePicker",props:h4(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=si(),u=ht(null),h=ht(null),o=ht(null),g=ht(null),y=ht(null),w=ht(null),k=ht("am"),C=ht(ri.Hour),I=ht(null),O=ht(null),L=Y(()=>{let te;if(e.allowedHours instanceof Array?te=Ie=>e.allowedHours.includes(Ie):te=e.allowedHours,!e.min&&!e.max)return te;const be=e.min?Number(e.min.split(":")[0]):0,me=e.max?Number(e.max.split(":")[0]):23;return Ie=>Ie>=be*1&&Ie<=me*1&&(!te||te(Ie))}),R=Y(()=>{let te;const be=!L.value||u.value===null||L.value(u.value);if(e.allowedMinutes instanceof Array?te=Ve=>e.allowedMinutes.includes(Ve):te=e.allowedMinutes,!e.min&&!e.max)return be?te:()=>!1;const[me,Ie]=e.min?e.min.split(":").map(Number):[0,0],[Ae,Ue]=e.max?e.max.split(":").map(Number):[23,59],Fe=me*60+Ie*1,Ce=Ae*60+Ue*1;return Ve=>{const $e=60*u.value+Ve;return $e>=Fe&&$e<=Ce&&be&&(!te||te(Ve))}}),B=Y(()=>{let te;const me=(!L.value||u.value===null||L.value(u.value))&&(!R.value||h.value===null||R.value(h.value));if(e.allowedSeconds instanceof Array?te=pt=>e.allowedSeconds.includes(pt):te=e.allowedSeconds,!e.min&&!e.max)return me?te:()=>!1;const[Ie,Ae,Ue]=e.min?e.min.split(":").map(Number):[0,0,0],[Fe,Ce,Ve]=e.max?e.max.split(":").map(Number):[23,59,59],$e=Ie*3600+Ae*60+(Ue||0)*1,qe=Fe*3600+Ce*60+(Ve||0)*1;return pt=>{const Ct=3600*u.value+60*h.value+pt;return Ct>=$e&&Ct<=qe&&me&&(!te||te(pt))}}),j=Y(()=>e.format==="ampm");ut(()=>e.modelValue,te=>se(te)),Vi(()=>{se(e.modelValue)});function Z(){return u.value!=null&&h.value!=null&&(!e.useSeconds||o.value!=null)?`${Kc(u.value)}:${Kc(h.value)}`+(e.useSeconds?`:${Kc(o.value)}`:""):null}function re(){const te=Z();te!==null&&n("update:modelValue",te)}function ie(te){return te?(te-1)%12+1:12}function Q(te,be){return te%12+(be==="pm"?12:0)}function se(te){if(te==null||te==="")u.value=null,h.value=null,o.value=null;else if(te instanceof Date)u.value=te.getHours(),h.value=te.getMinutes(),o.value=te.getSeconds();else{const[be,,me,,Ie,Ae]=te.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);u.value=Ae?Q(parseInt(be,10),Ae):parseInt(be,10),h.value=parseInt(me,10),o.value=parseInt(Ie||0,10)}k.value=u.value==null||u.value<12?"am":"pm"}function H(te,be){const me=L.value;if(!me)return be;const Ie=j.value?be<12?NE:u4:c4;return((Ie.find(Ue=>me((Ue+be)%Ie.length+Ie[0]))||0)+be)%Ie.length+Ie[0]}function $(te){if(k.value=te,u.value!=null){const be=u.value+(k.value==="am"?-12:12);u.value=H("hour",be)}return n("update:period",te),re(),!0}function K(te){C.value===ri.Hour?u.value=j.value?Q(te,k.value):te:C.value===ri.Minute?h.value=te:o.value=te}function ae(te){switch(d4[C.value]){case"hour":n("update:hour",te);break;case"minute":n("update:minute",te);break;case"second":n("update:second",te);break}const be=C.value===(e.useSeconds?ri.Second:ri.Minute);C.value===ri.Hour?C.value=ri.Minute:e.useSeconds&&C.value===ri.Minute&&(C.value=ri.Second),!(u.value===g.value&&h.value===y.value&&(!e.useSeconds||o.value===w.value)||Z()===null)&&(g.value=u.value,y.value=h.value,e.useSeconds&&(w.value=o.value),be&&re())}St(()=>{const te=qf.filterProps(e),be=Lb.filterProps(e),me=Mb.filterProps(Tr(e,["format","modelValue","min","max"]));return T(qf,lt(te,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var Ie;return((Ie=r.title)==null?void 0:Ie.call(r))??T("div",{class:"v-time-picker__title"},[s(e.title)])},header:()=>T(Lb,lt(be,{ampm:j.value||e.ampmInTitle,ampmReadonly:j.value&&!e.ampmInTitle,hour:u.value,minute:h.value,period:k.value,second:o.value,selecting:C.value,"onUpdate:period":Ie=>$(Ie),"onUpdate:selecting":Ie=>C.value=Ie,ref:I}),null),default:()=>T(Mb,lt(me,{allowedValues:C.value===ri.Hour?L.value:C.value===ri.Minute?R.value:B.value,double:C.value===ri.Hour&&!j.value,format:C.value===ri.Hour?j.value?ie:Ie=>Ie:Ie=>Kc(Ie,2),max:C.value===ri.Hour?j.value&&k.value==="am"?11:23:59,min:C.value===ri.Hour&&j.value&&k.value==="pm"?12:0,size:20,step:C.value===ri.Hour?1:5,modelValue:C.value===ri.Hour?u.value:C.value===ri.Minute?h.value:o.value,onChange:ae,onInput:K,ref:O}),null),actions:r.actions})})}}),Rb=Symbol.for("vuetify:list");function $E(){const e=yt(Rb,{hasPrepend:Rt(!1),updateHasPrepend:()=>null}),t={hasPrepend:Rt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return wn(Rb,t),e}function UE(){return yt(Rb,null)}const _x=e=>{const t={activate:n=>{let{id:r,value:s,activated:u}=n;return r=an(r),e&&!s&&u.size===1&&u.has(r)||(s?u.add(r):u.delete(r)),u},in:(n,r,s)=>{let u=new Set;if(n!=null)for(const h of Wr(n))u=t.activate({id:h,value:!0,activated:new Set(u),children:r,parents:s});return u},out:n=>Array.from(n)};return t},qE=e=>{const t=_x(e);return{activate:r=>{let{activated:s,id:u,...h}=r;u=an(u);const o=s.has(u)?new Set([u]):new Set;return t.activate({...h,id:u,activated:o})},in:(r,s,u)=>{let h=new Set;if(r!=null){const o=Wr(r);o.length&&(h=t.in(o.slice(0,1),s,u))}return h},out:(r,s,u)=>t.out(r,s,u)}},m4=e=>{const t=_x(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},p4=e=>{const t=qE(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},g4={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){const u=new Set;u.add(t);let h=s.get(t);for(;h!=null;)u.add(h),h=s.get(h);return u}else return r.delete(t),r},select:()=>null},jE={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){let u=an(s.get(t));for(r.add(t);u!=null&&u!==t;)r.add(u),u=an(s.get(u));return r}else r.delete(t);return r},select:()=>null},v4={open:jE.open,select:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(!n)return r;const u=[];let h=s.get(t);for(;h!=null;)u.push(h),h=s.get(h);return new Set(u)}},bx=e=>{const t={select:n=>{let{id:r,value:s,selected:u}=n;if(r=an(r),e&&!s){const h=Array.from(u.entries()).reduce((o,g)=>{let[y,w]=g;return w==="on"&&o.push(y),o},[]);if(h.length===1&&h[0]===r)return u}return u.set(r,s?"on":"off"),u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:n=>{const r=[];for(const[s,u]of n.entries())u==="on"&&r.push(s);return r}};return t},HE=e=>{const t=bx(e);return{select:r=>{let{selected:s,id:u,...h}=r;u=an(u);const o=s.has(u)?new Map([[u,s.get(u)]]):new Map;return t.select({...h,id:u,selected:o})},in:(r,s,u)=>{let h=new Map;return r!=null&&r.length&&(h=t.in(r.slice(0,1),s,u)),h},out:(r,s,u)=>t.out(r,s,u)}},y4=e=>{const t=bx(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},_4=e=>{const t=HE(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},b4=e=>{const t={select:n=>{let{id:r,value:s,selected:u,children:h,parents:o}=n;r=an(r);const g=new Map(u),y=[r];for(;y.length;){const k=y.shift();u.set(an(k),s?"on":"off"),h.has(k)&&y.push(...h.get(k))}let w=an(o.get(r));for(;w;){const k=h.get(w),C=k.every(O=>u.get(an(O))==="on"),I=k.every(O=>!u.has(an(O))||u.get(an(O))==="off");u.set(w,C?"on":I?"off":"indeterminate"),w=an(o.get(w))}return e&&!s&&Array.from(u.entries()).reduce((C,I)=>{let[O,L]=I;return L==="on"&&C.push(O),C},[]).length===0?g:u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:(n,r)=>{const s=[];for(const[u,h]of n.entries())h==="on"&&!r.has(u)&&s.push(u);return s}};return t},Gf=Symbol.for("vuetify:nested"),GE={id:Rt(),root:{register:()=>null,unregister:()=>null,parents:ht(new Map),children:ht(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:ht(!1),selectable:ht(!1),opened:ht(new Set),activated:ht(new Set),selected:ht(new Map),selectedValues:ht([])}},x4=We({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),w4=e=>{let t=!1;const n=ht(new Map),r=ht(new Map),s=fn(e,"opened",e.opened,I=>new Set(an(I)),I=>[...I.values()]),u=Y(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return m4(e.mandatory);case"single-leaf":return p4(e.mandatory);case"independent":return _x(e.mandatory);case"single-independent":default:return qE(e.mandatory)}}),h=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return _4(e.mandatory);case"leaf":return y4(e.mandatory);case"independent":return bx(e.mandatory);case"single-independent":return HE(e.mandatory);case"classic":default:return b4(e.mandatory)}}),o=Y(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return v4;case"single":return g4;case"multiple":default:return jE}}),g=fn(e,"activated",e.activated,I=>u.value.in(I,n.value,r.value),I=>u.value.out(I,n.value,r.value)),y=fn(e,"selected",e.selected,I=>h.value.in(I,n.value,r.value),I=>h.value.out(I,n.value,r.value));vr(()=>{t=!0});function w(I){const O=[];let L=I;for(;L!=null;)O.unshift(L),L=r.value.get(L);return O}const k=Yr("nested"),C={id:Rt(),root:{opened:s,activatable:bt(e,"activatable"),selectable:bt(e,"selectable"),activated:g,selected:y,selectedValues:Y(()=>{const I=[];for(const[O,L]of y.value.entries())L==="on"&&I.push(O);return I}),register:(I,O,L)=>{O&&I!==O&&r.value.set(I,O),L&&n.value.set(I,[]),O!=null&&n.value.set(O,[...n.value.get(O)||[],I])},unregister:I=>{if(t)return;n.value.delete(I);const O=r.value.get(I);if(O){const L=n.value.get(O)??[];n.value.set(O,L.filter(R=>R!==I))}r.value.delete(I)},open:(I,O,L)=>{k.emit("click:open",{id:I,value:O,path:w(I),event:L});const R=o.value.open({id:I,value:O,opened:new Set(s.value),children:n.value,parents:r.value,event:L});R&&(s.value=R)},openOnSelect:(I,O,L)=>{const R=o.value.select({id:I,value:O,selected:new Map(y.value),opened:new Set(s.value),children:n.value,parents:r.value,event:L});R&&(s.value=R)},select:(I,O,L)=>{k.emit("click:select",{id:I,value:O,path:w(I),event:L});const R=h.value.select({id:I,value:O,selected:new Map(y.value),children:n.value,parents:r.value,event:L});R&&(y.value=R),C.root.openOnSelect(I,O,L)},activate:(I,O,L)=>{if(!e.activatable)return C.root.select(I,!0,L);k.emit("click:activate",{id:I,value:O,path:w(I),event:L});const R=u.value.activate({id:I,value:O,activated:new Set(g.value),children:n.value,parents:r.value,event:L});R&&(g.value=R)},children:n,parents:r}};return wn(Gf,C),C.root},xx=(e,t)=>{const n=yt(Gf,GE),r=Symbol(As()),s=Y(()=>e.value!==void 0?e.value:r),u={...n,id:s,open:(h,o)=>n.root.open(an(s.value),h,o),openOnSelect:(h,o)=>n.root.openOnSelect(s.value,h,o),isOpen:Y(()=>n.root.opened.value.has(an(s.value))),parent:Y(()=>n.root.parents.value.get(s.value)),activate:(h,o)=>n.root.activate(s.value,h,o),isActivated:Y(()=>n.root.activated.value.has(an(s.value))),select:(h,o)=>n.root.select(s.value,h,o),isSelected:Y(()=>n.root.selected.value.get(an(s.value))==="on"),isIndeterminate:Y(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:Y(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,t),vr(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),t&&wn(Gf,u),u},S4=()=>{const e=yt(Gf,GE);wn(Gf,{...e,isGroupActivator:!0})},k4=Nd({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return S4(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),WE=We({activeColor:String,baseColor:String,color:String,collapseIcon:{type:mn,default:"$collapse"},expandIcon:{type:mn,default:"$expand"},prependIcon:mn,appendIcon:mn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...un(),...Yn()},"VListGroup"),Ys=ft()({name:"VListGroup",props:WE(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:s,id:u}=xx(bt(e,"value"),!0),h=Y(()=>`v-list-group--id-${String(u.value)}`),o=UE(),{isBooted:g}=ym();function y(I){I.stopPropagation(),s(!r.value,I)}const w=Y(()=>({onClick:y,class:"v-list-group__header",id:h.value})),k=Y(()=>r.value?e.collapseIcon:e.expandIcon),C=Y(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&k.value,appendIcon:e.appendIcon||!e.subgroup&&k.value,title:e.title,value:e.value}}));return St(()=>T(e.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&T(Bn,{defaults:C.value},{default:()=>[T(k4,null,{default:()=>[n.activator({props:w.value,isOpen:r.value})]})]}),T(ws,{transition:{component:tx},disabled:!g.value},{default:()=>{var I;return[vi(T("div",{class:"v-list-group__items",role:"group","aria-labelledby":h.value},[(I=n.default)==null?void 0:I.call(n)]),[[pl,r.value]])]}})]})),{isOpen:r}}}),C4=We({...Tr(WE({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),Ob=ft()({name:"VTreeviewGroup",props:C4(),setup(e,t){let{slots:n}=t;const r=ht(),s=Y(()=>{var h;return(h=r.value)!=null&&h.isOpen?e.collapseIcon:e.expandIcon}),u=Y(()=>{var h;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(h=r.value)==null?void 0:h.isOpen,toggleIcon:s.value}}});return St(()=>{const h=Ys.filterProps(e);return T(Ys,lt(h,{ref:r,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?o=>T(Gt,null,[T(Bn,{defaults:u.value},{default:()=>{var g;return[(g=n.activator)==null?void 0:g.call(n,o)]}})]):void 0})}),{}}}),T4=We({opacity:[Number,String],...un(),...Yn()},"VListItemSubtitle"),A4=ft()({name:"VListItemSubtitle",props:T4(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),_s=$d("v-list-item-title"),YE=We({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:mn,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:mn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Ii(),onClickOnce:Ii(),...Es(),...un(),...qa(),...is(),...ss(),...Di(),...mv(),...Yn(),...yr(),...ro({variant:"text"})},"VListItem"),Dr=ft()({name:"VListItem",directives:{Ripple:_u},props:YE(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=fm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),{activate:o,isActivated:g,select:y,isOpen:w,isSelected:k,isIndeterminate:C,isGroupActivator:I,root:O,parent:L,openOnSelect:R}=xx(h,!1),B=UE(),j=Y(()=>{var $e;return e.active!==!1&&(e.active||(($e=u.isActive)==null?void 0:$e.value)||(O.activatable.value?g.value:k.value))}),Z=Y(()=>e.link!==!1&&u.isLink.value),re=Y(()=>!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||!!B&&(O.selectable.value||O.activatable.value||e.value!=null))),ie=Y(()=>e.rounded||e.nav),Q=Y(()=>e.color??e.activeColor),se=Y(()=>({color:j.value?Q.value??e.baseColor:e.baseColor,variant:e.variant}));ut(()=>{var $e;return($e=u.isActive)==null?void 0:$e.value},$e=>{$e&&L.value!=null&&O.open(L.value,!0),$e&&R($e)},{immediate:!0});const{themeClasses:H}=Rr(e),{borderClasses:$}=no(e),{colorClasses:K,colorStyles:ae,variantClasses:te}=yu(se),{densityClasses:be}=Ps(e),{dimensionStyles:me}=as(e),{elevationClasses:Ie}=Is(e),{roundedClasses:Ae}=Ni(ie),Ue=Y(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),Fe=Y(()=>({isActive:j.value,select:y,isOpen:w.value,isSelected:k.value,isIndeterminate:C.value}));function Ce($e){var qe;s("click",$e),re.value&&((qe=u.navigate)==null||qe.call(u,$e),!I&&(O.activatable.value?o(!g.value,$e):(O.selectable.value||e.value!=null)&&y(!k.value,$e)))}function Ve($e){($e.key==="Enter"||$e.key===" ")&&($e.preventDefault(),$e.target.dispatchEvent(new MouseEvent("click",$e)))}return St(()=>{const $e=Z.value?"a":e.tag,qe=r.title||e.title!=null,pt=r.subtitle||e.subtitle!=null,Ct=!!(e.appendAvatar||e.appendIcon),$t=!!(Ct||r.append),gt=!!(e.prependAvatar||e.prependIcon),Ne=!!(gt||r.prepend);return B==null||B.updateHasPrepend(Ne),e.activeColor&&DF("active-color",["color","base-color"]),vi(T($e,{class:["v-list-item",{"v-list-item--active":j.value,"v-list-item--disabled":e.disabled,"v-list-item--link":re.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Ne&&(B==null?void 0:B.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&j.value},H.value,$.value,K.value,be.value,Ie.value,Ue.value,Ae.value,te.value,e.class],style:[ae.value,me.value,e.style],href:u.href.value,tabindex:re.value?B?-2:0:void 0,onClick:Ce,onKeydown:re.value&&!Z.value&&Ve},{default:()=>{var tt;return[gc(re.value||j.value,"v-list-item"),Ne&&T("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!gt,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var je;return[(je=r.prepend)==null?void 0:je.call(r,Fe.value)]}}):T(Gt,null,[e.prependAvatar&&T(Io,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(nr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),T("div",{class:"v-list-item__spacer"},null)]),T("div",{class:"v-list-item__content","data-no-activator":""},[qe&&T(_s,{key:"title"},{default:()=>{var je;return[((je=r.title)==null?void 0:je.call(r,{title:e.title}))??e.title]}}),pt&&T(A4,{key:"subtitle"},{default:()=>{var je;return[((je=r.subtitle)==null?void 0:je.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(tt=r.default)==null?void 0:tt.call(r,Fe.value)]),$t&&T("div",{key:"append",class:"v-list-item__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!Ct,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var je;return[(je=r.append)==null?void 0:je.call(r,Fe.value)]}}):T(Gt,null,[e.appendIcon&&T(nr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Io,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),T("div",{class:"v-list-item__spacer"},null)])]}}),[[to("ripple"),re.value&&e.ripple]])}),{activate:o,isActivated:g,isGroupActivator:I,isSelected:k,list:B,select:y}}}),E4=We({color:String,inset:Boolean,sticky:Boolean,title:String,...un(),...Yn()},"VListSubheader"),ZE=ft()({name:"VListSubheader",props:E4(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:s}=$a(bt(e,"color"));return St(()=>{const u=!!(n.default||e.title);return T(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var h;return[u&&T("div",{class:"v-list-subheader__text"},[((h=n.default)==null?void 0:h.call(n))??e.title])]}})}),{}}}),I4=We({items:Array,returnObject:Boolean},"VListChildren"),KE=ft()({name:"VListChildren",props:I4(),setup(e,t){let{slots:n}=t;return $E(),()=>{var r,s;return((r=n.default)==null?void 0:r.call(n))??((s=e.items)==null?void 0:s.map(u=>{var C,I;let{children:h,props:o,type:g,raw:y}=u;if(g==="divider")return((C=n.divider)==null?void 0:C.call(n,{props:o}))??T(gr,o,null);if(g==="subheader")return((I=n.subheader)==null?void 0:I.call(n,{props:o}))??T(ZE,o,null);const w={subtitle:n.subtitle?O=>{var L;return(L=n.subtitle)==null?void 0:L.call(n,{...O,item:y})}:void 0,prepend:n.prepend?O=>{var L;return(L=n.prepend)==null?void 0:L.call(n,{...O,item:y})}:void 0,append:n.append?O=>{var L;return(L=n.append)==null?void 0:L.call(n,{...O,item:y})}:void 0,title:n.title?O=>{var L;return(L=n.title)==null?void 0:L.call(n,{...O,item:y})}:void 0},k=Ys.filterProps(o);return h?T(Ys,lt({value:o==null?void 0:o.value},k),{activator:O=>{let{props:L}=O;const R={...o,...L,value:e.returnObject?y:o.value};return n.header?n.header({props:R}):T(Dr,R,w)},default:()=>T(KE,{items:h,returnObject:e.returnObject},n)}):n.item?n.item({props:o}):T(Dr,lt(o,{value:e.returnObject?y:o.value}),w)}))}}}),XE=We({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:gl}},"list-items");function Fb(e,t){const n=Bi(t,e.itemTitle,t),r=Bi(t,e.itemValue,n),s=Bi(t,e.itemChildren),u=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Tr(t,["children"]):t:void 0:Bi(t,e.itemProps),h={title:n,value:r,...u};return{title:String(h.title??""),value:h.value,props:h,children:Array.isArray(s)?JE(e,s):void 0,raw:t}}function JE(e,t){const n=[];for(const r of t)n.push(Fb(e,r));return n}function QE(e){const t=Y(()=>JE(e,e.items)),n=Y(()=>t.value.some(u=>u.value===null));function r(u){return n.value||(u=u.filter(h=>h!==null)),u.map(h=>e.returnObject&&typeof h=="string"?Fb(e,h):t.value.find(o=>e.valueComparator(h,o.value))||Fb(e,h))}function s(u){return e.returnObject?u.map(h=>{let{raw:o}=h;return o}):u.map(h=>{let{value:o}=h;return o})}return{items:t,transformIn:r,transformOut:s}}function P4(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function D4(e,t){const n=Bi(t,e.itemType,"item"),r=P4(t)?t:Bi(t,e.itemTitle),s=Bi(t,e.itemValue,void 0),u=Bi(t,e.itemChildren),h=e.itemProps===!0?Tr(t,["children"]):Bi(t,e.itemProps),o={title:r,value:s,...h};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&u?eI(e,u):void 0,raw:t}}function eI(e,t){const n=[];for(const r of t)n.push(D4(e,r));return n}function tI(e){return{items:Y(()=>eI(e,e.items))}}const nI=We({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Ii(),"onClick:select":Ii(),"onUpdate:opened":Ii(),...x4({selectStrategy:"single-leaf",openStrategy:"list"}),...Es(),...un(),...qa(),...is(),...ss(),itemType:{type:String,default:"type"},...XE(),...Di(),...Yn(),...yr(),...ro({variant:"text"})},"VList"),Wf=ft()({name:"VList",props:nI(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=tI(e),{themeClasses:s}=Rr(e),{backgroundColorClasses:u,backgroundColorStyles:h}=gi(bt(e,"bgColor")),{borderClasses:o}=no(e),{densityClasses:g}=Ps(e),{dimensionStyles:y}=as(e),{elevationClasses:w}=Is(e),{roundedClasses:k}=Ni(e),{children:C,open:I,parents:O,select:L}=w4(e),R=Y(()=>e.lines?`v-list--${e.lines}-line`:void 0),B=bt(e,"activeColor"),j=bt(e,"baseColor"),Z=bt(e,"color");$E(),da({VListGroup:{activeColor:B,baseColor:j,color:Z,expandIcon:bt(e,"expandIcon"),collapseIcon:bt(e,"collapseIcon")},VListItem:{activeClass:bt(e,"activeClass"),activeColor:B,baseColor:j,color:Z,density:bt(e,"density"),disabled:bt(e,"disabled"),lines:bt(e,"lines"),nav:bt(e,"nav"),slim:bt(e,"slim"),variant:bt(e,"variant")}});const re=Rt(!1),ie=ht();function Q(te){re.value=!0}function se(te){re.value=!1}function H(te){var be;!re.value&&!(te.relatedTarget&&((be=ie.value)!=null&&be.contains(te.relatedTarget)))&&ae()}function $(te){const be=te.target;if(!(!ie.value||["INPUT","TEXTAREA"].includes(be.tagName))){if(te.key==="ArrowDown")ae("next");else if(te.key==="ArrowUp")ae("prev");else if(te.key==="Home")ae("first");else if(te.key==="End")ae("last");else return;te.preventDefault()}}function K(te){re.value=!0}function ae(te){if(ie.value)return kf(ie.value,te)}return St(()=>T(e.tag,{ref:ie,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,u.value,o.value,g.value,w.value,R.value,k.value,e.class],style:[h.value,y.value,e.style],tabindex:e.disabled||re.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:Q,onFocusout:se,onFocus:H,onKeydown:$,onMousedown:K},{default:()=>[T(KE,{items:r.value,returnObject:e.returnObject},n)]})),{open:I,select:L,focus:ae,children:C,parents:O}}}),M4=We({start:Boolean,end:Boolean,...un(),...Yn()},"VListItemAction"),L4=ft()({name:"VListItemAction",props:M4(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),rI=Symbol.for("vuetify:v-treeview"),R4=We({loading:Boolean,onToggleExpand:Ii(),toggleIcon:mn,...YE({slim:!0})},"VTreeviewItem"),zb=ft()({name:"VTreeviewItem",props:R4(),setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=fm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),o=ht(),{activate:g,isActivated:y,isGroupActivator:w,root:k,id:C}=xx(h,!1),I=Y(()=>k.activatable.value&&w),O=Y(()=>{var B;return!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||e.value!=null&&!!((B=o.value)!=null&&B.list)||I.value)});function L(B){var j,Z;!O.value||!I.value&&w||k.activatable.value&&(I.value?g(!y.value,B):(Z=o.value)==null||Z.activate(!((j=o.value)!=null&&j.isActivated),B))}const R=yt(rI,{visibleIds:ht()}).visibleIds;return St(()=>{const B=Tr(Dr.filterProps(e),["onClick"]),j=r.prepend||e.toggleIcon;return T(Dr,lt(B,{active:y.value,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":I.value,"v-treeview-item--filtered":R.value&&!R.value.has(C.value)},e.class],ripple:!1,onClick:e.onClick??L}),{...r,prepend:j?Z=>{var re;return T(Gt,null,[e.toggleIcon&&T(L4,{start:!1},{default:()=>[T(Jt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:e.onToggleExpand},{loader(){return T(X0,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(re=r.prepend)==null?void 0:re.call(r,Z)])}:void 0})}),{}}}),iI=Symbol.for("vuetify:selection-control-group"),wx=We({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:mn,trueIcon:mn,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:gl},...un(),...qa(),...yr()},"SelectionControlGroup"),O4=We({...wx({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),F4=ft()({name:"VSelectionControlGroup",props:O4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),s=As(),u=Y(()=>e.id||`v-selection-control-group-${s}`),h=Y(()=>e.name||u.value),o=new Set;return wn(iI,{modelValue:r,forceUpdate:()=>{o.forEach(g=>g())},onForceUpdate:g=>{o.add(g),ha(()=>{o.delete(g)})}}),da({[e.defaultsTarget]:{color:bt(e,"color"),disabled:bt(e,"disabled"),density:bt(e,"density"),error:bt(e,"error"),inline:bt(e,"inline"),modelValue:r,multiple:Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:h,falseIcon:bt(e,"falseIcon"),trueIcon:bt(e,"trueIcon"),readonly:bt(e,"readonly"),ripple:bt(e,"ripple"),type:bt(e,"type"),valueComparator:bt(e,"valueComparator")}}),St(()=>{var g;return T("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(g=n.default)==null?void 0:g.call(n)])}),{}}}),Sx=We({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...un(),...wx()},"VSelectionControl");function z4(e){const t=yt(iI,void 0),{densityClasses:n}=Ps(e),r=fn(e,"modelValue"),s=Y(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=Y(()=>e.falseValue!==void 0?e.falseValue:!1),h=Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),o=Y({get(){const I=t?t.modelValue.value:r.value;return h.value?Wr(I).some(O=>e.valueComparator(O,s.value)):e.valueComparator(I,s.value)},set(I){if(e.readonly)return;const O=I?s.value:u.value;let L=O;h.value&&(L=I?[...Wr(r.value),O]:Wr(r.value).filter(R=>!e.valueComparator(R,s.value))),t?t.modelValue.value=L:r.value=L}}),{textColorClasses:g,textColorStyles:y}=$a(Y(()=>{if(!(e.error||e.disabled))return o.value?e.color:e.baseColor})),{backgroundColorClasses:w,backgroundColorStyles:k}=gi(Y(()=>o.value&&!e.error&&!e.disabled?e.color:e.baseColor)),C=Y(()=>o.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:s,falseValue:u,model:o,textColorClasses:g,textColorStyles:y,backgroundColorClasses:w,backgroundColorStyles:k,icon:C}}const Yf=ft()({name:"VSelectionControl",directives:{Ripple:_u},inheritAttrs:!1,props:Sx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:s,densityClasses:u,icon:h,model:o,textColorClasses:g,textColorStyles:y,backgroundColorClasses:w,backgroundColorStyles:k,trueValue:C}=z4(e),I=As(),O=Rt(!1),L=Rt(!1),R=ht(),B=Y(()=>e.id||`input-${I}`),j=Y(()=>!e.disabled&&!e.readonly);s==null||s.onForceUpdate(()=>{R.value&&(R.value.checked=o.value)});function Z(se){j.value&&(O.value=!0,Ld(se.target,":focus-visible")!==!1&&(L.value=!0))}function re(){O.value=!1,L.value=!1}function ie(se){se.stopPropagation()}function Q(se){if(!j.value){R.value&&(R.value.checked=o.value);return}e.readonly&&s&&Xn(()=>s.forceUpdate()),o.value=se.target.checked}return St(()=>{var ae,te;const se=r.label?r.label({label:e.label,props:{for:B.value}}):e.label,[H,$]=sm(n),K=T("input",lt({ref:R,checked:o.value,disabled:!!e.disabled,id:B.value,onBlur:re,onFocus:Z,onInput:Q,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:C.value,name:e.name,"aria-checked":e.type==="checkbox"?o.value:void 0},$),null);return T("div",lt({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":O.value,"v-selection-control--focus-visible":L.value,"v-selection-control--inline":e.inline},u.value,e.class]},H,{style:e.style}),[T("div",{class:["v-selection-control__wrapper",g.value],style:y.value},[(ae=r.default)==null?void 0:ae.call(r,{backgroundColorClasses:w,backgroundColorStyles:k}),vi(T("div",{class:["v-selection-control__input"]},[((te=r.input)==null?void 0:te.call(r,{model:o,textColorClasses:g,textColorStyles:y,backgroundColorClasses:w,backgroundColorStyles:k,inputNode:K,icon:h.value,props:{onFocus:Z,onBlur:re,id:B.value}}))??T(Gt,null,[h.value&&T(nr,{key:"icon",icon:h.value},null),K])]),[[to("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),se&&T(dx,{for:B.value,onClick:ie},{default:()=>[se]})])}),{isFocused:O,input:R}}}),B4=We({indeterminate:Boolean,indeterminateIcon:{type:mn,default:"$checkboxIndeterminate"},...Sx({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Wd=ft()({name:"VCheckboxBtn",props:B4(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"indeterminate"),s=fn(e,"modelValue");function u(g){r.value&&(r.value=!1)}const h=Y(()=>r.value?e.indeterminateIcon:e.falseIcon),o=Y(()=>r.value?e.indeterminateIcon:e.trueIcon);return St(()=>{const g=Tr(Yf.filterProps(e),["modelValue"]);return T(Yf,lt(g,{modelValue:s.value,"onUpdate:modelValue":[y=>s.value=y,u],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:h.value,trueIcon:o.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}}),aI=We({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:mn,default:"$checkboxIndeterminate"},falseIcon:mn,trueIcon:mn,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),zg=ft()({name:"VTreeviewChildren",props:aI(),setup(e,t){let{emit:n,slots:r}=t;const s=Rt(null),u=Y(()=>e.openOnClick!=null?e.openOnClick:e.selectable);function h(g){return new Promise(y=>{var w,k;if(!((w=e.items)!=null&&w.length)||!e.loadChildren)return y();if(((k=g==null?void 0:g.children)==null?void 0:k.length)===0){s.value=g.value,e.loadChildren(g).then(y);return}y()}).finally(()=>{s.value=null})}function o(g,y){e.selectable&&g(!y)}return()=>{var g,y;return((g=r.default)==null?void 0:g.call(r))??((y=e.items)==null?void 0:y.map(w=>{var j;let{children:k,props:C,raw:I}=w;const O=s.value===I.value,L={prepend:Z=>{var re;return T(Gt,null,[e.selectable&&(!k||k&&!["leaf","single-leaf"].includes(e.selectStrategy))&&T("div",null,[T(Wd,{key:I.value,modelValue:Z.isSelected,loading:O,color:e.selectedColor,indeterminate:Z.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,onClick:ub(()=>o(Z.select,Z.isSelected),["stop"]),onKeydown:ie=>{["Enter","Space"].includes(ie.key)&&(ie.stopPropagation(),o(Z.select,Z.isSelected))}},null)]),(re=r.prepend)==null?void 0:re.call(r,{...Z,item:I})])},append:r.append?Z=>{var re;return(re=r.append)==null?void 0:re.call(r,{...Z,item:I})}:void 0,title:r.title?Z=>{var re;return(re=r.title)==null?void 0:re.call(r,{...Z,item:I})}:void 0},R=Ob.filterProps(C),B=zg.filterProps(e);return k?T(Ob,lt(R,{value:e.returnObject?I:R==null?void 0:R.value}),{activator:Z=>{let{props:re}=Z;const ie={...C,...re,value:C==null?void 0:C.value,onToggleExpand:re.onClick,onClick:u.value?[()=>h(I),re.onClick]:void 0};return T(zb,lt(ie,{value:e.returnObject?an(I):C.value,loading:O}),L)},default:()=>T(zg,lt(B,{items:k,returnObject:e.returnObject}),r)}):((j=r.item)==null?void 0:j.call(r,{props:C}))??T(zb,lt(C,{value:e.returnObject?an(I):C.value}),L)}))}}}),V4=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),kx=We({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function N4(e,t,n){var o;const r=[],s=(n==null?void 0:n.default)??V4,u=n!=null&&n.filterKeys?Wr(n.filterKeys):!1,h=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let g=0;g<e.length;g++){const[y,w=y]=Wr(e[g]),k={},C={};let I=-1;if((t||h>0)&&!(n!=null&&n.noFilter)){if(typeof y=="object"){const R=u||Object.keys(w);for(const B of R){const j=Bi(w,B),Z=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[B];if(I=Z?Z(j,t,y):s(j,t,y),I!==-1&&I!==!1)Z?k[B]=I:C[B]=I;else if((n==null?void 0:n.filterMode)==="every")continue e}}else I=s(y,t,y),I!==-1&&I!==!1&&(C.title=I);const O=Object.keys(C).length,L=Object.keys(k).length;if(!O&&!L||(n==null?void 0:n.filterMode)==="union"&&L!==h&&!O||(n==null?void 0:n.filterMode)==="intersection"&&(L!==h||!O))continue}r.push({index:g,matches:{...C,...k}})}return r}function Cx(e,t,n,r){const s=ht([]),u=ht(new Map),h=Y(()=>r!=null&&r.transform?Br(t).map(g=>[g,r.transform(g)]):Br(t));yi(()=>{const g=typeof n=="function"?n():Br(n),y=typeof g!="string"&&typeof g!="number"?"":String(g),w=N4(h.value,y,{customKeyFilter:{...e.customKeyFilter,...Br(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),k=Br(t),C=[],I=new Map;w.forEach(O=>{let{index:L,matches:R}=O;const B=k[L];C.push(B),I.set(B.value,R)}),s.value=C,u.value=I});function o(g){return u.value.get(g.value)}return{filteredItems:s,filteredMatches:u,getMatches:o}}function sI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&sI(n.children,t);return t}const $4=We({openAll:Boolean,search:String,...kx({filterKeys:["title"]}),...aI(),...Tr(nI({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),U4=ft()({name:"VTreeview",props:$4(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=tI(e),s=bt(e,"activeColor"),u=bt(e,"baseColor"),h=bt(e,"color"),o=fn(e,"activated"),g=fn(e,"modelValue"),y=fn(e,"selected",e.modelValue),w=Y({get:()=>y.value,set(re){y.value=re,g.value=re}}),k=ht(),C=Y(()=>e.openAll?Z(r.value):e.opened),I=Y(()=>sI(r.value)),O=bt(e,"search"),{filteredItems:L}=Cx(e,I,O),R=Y(()=>O.value?new Set(L.value.flatMap(re=>[...B(re.props.value),...j(re.props.value)])):null);function B(re){var se;const ie=[];let Q=re;for(;Q!=null;)ie.unshift(Q),Q=(se=k.value)==null?void 0:se.parents.get(Q);return ie}function j(re){var se,H;const ie=[],Q=(((se=k.value)==null?void 0:se.children.get(re))??[]).slice();for(;Q.length;){const $=Q.shift();$&&(ie.push($),Q.push(...(((H=k.value)==null?void 0:H.children.get($))??[]).slice()))}return ie}function Z(re){let ie=[];for(const Q of re)Q.children&&(ie.push(e.returnObject?an(Q.raw):Q.value),Q.children&&(ie=ie.concat(Z(Q.children))));return ie}return wn(rI,{visibleIds:R}),da({VTreeviewGroup:{activeColor:s,baseColor:u,color:h,collapseIcon:bt(e,"collapseIcon"),expandIcon:bt(e,"expandIcon")},VTreeviewItem:{activeClass:bt(e,"activeClass"),activeColor:s,baseColor:u,color:h,density:bt(e,"density"),disabled:bt(e,"disabled"),lines:bt(e,"lines"),variant:bt(e,"variant")}}),St(()=>{const re=Wf.filterProps(e),ie=zg.filterProps(e);return T(Wf,lt({ref:k},re,{class:["v-treeview",e.class],"open-strategy":"multiple",style:e.style,opened:C.value,activated:o.value,"onUpdate:activated":Q=>o.value=Q,selected:w.value,"onUpdate:selected":Q=>w.value=Q}),{default:()=>[T(zg,lt(ie,{returnObject:e.returnObject,items:r.value}),n)]})}),{}}}),q4=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:BV,VCalendarDay:ug,VCalendarHeader:Tb,VCalendarInterval:Sb,VCalendarIntervalEvent:wb,VCalendarMonthDay:eE,VDateInput:D3,VNumberInput:R3,VPicker:qf,VPickerTitle:yE,VPullToRefresh:n4,VSnackbarQueue:a4,VStepperVertical:t4,VStepperVerticalActions:IE,VStepperVerticalItem:LE,VTimePicker:f4,VTimePickerClock:Mb,VTimePickerControls:Lb,VTreeview:U4,VTreeviewGroup:Ob,VTreeviewItem:zb},Symbol.toStringTag,{value:"Module"})),Qr=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},j4={props:["title","subtitle"]},H4={class:"text-center text-h2"},G4={class:"text-subtitle-1 text-center"};function W4(e,t,n,r,s,u){return vn(),Nn(Mr,null,{default:De(()=>[rr("h1",H4,Ss(n.title),1),rr("p",G4,Ss(n.subtitle),1)]),_:1})}const Y4=Qr(j4,[["render",W4]]);var cr={};const Z4="Á",K4="á",X4="Ă",J4="ă",Q4="∾",e5="∿",t5="∾̳",n5="Â",r5="â",i5="´",a5="А",s5="а",o5="Æ",l5="æ",c5="⁡",u5="𝔄",d5="𝔞",h5="À",f5="à",m5="ℵ",p5="ℵ",g5="Α",v5="α",y5="Ā",_5="ā",b5="⨿",x5="&",w5="&",S5="⩕",k5="⩓",C5="∧",T5="⩜",A5="⩘",E5="⩚",I5="∠",P5="⦤",D5="∠",M5="⦨",L5="⦩",R5="⦪",O5="⦫",F5="⦬",z5="⦭",B5="⦮",V5="⦯",N5="∡",$5="∟",U5="⊾",q5="⦝",j5="∢",H5="Å",G5="⍼",W5="Ą",Y5="ą",Z5="𝔸",K5="𝕒",X5="⩯",J5="≈",Q5="⩰",e6="≊",t6="≋",n6="'",r6="⁡",i6="≈",a6="≊",s6="Å",o6="å",l6="𝒜",c6="𝒶",u6="≔",d6="*",h6="≈",f6="≍",m6="Ã",p6="ã",g6="Ä",v6="ä",y6="∳",_6="⨑",b6="≌",x6="϶",w6="‵",S6="∽",k6="⋍",C6="∖",T6="⫧",A6="⊽",E6="⌅",I6="⌆",P6="⌅",D6="⎵",M6="⎶",L6="≌",R6="Б",O6="б",F6="„",z6="∵",B6="∵",V6="∵",N6="⦰",$6="϶",U6="ℬ",q6="ℬ",j6="Β",H6="β",G6="ℶ",W6="≬",Y6="𝔅",Z6="𝔟",K6="⋂",X6="◯",J6="⋃",Q6="⨀",eN="⨁",tN="⨂",nN="⨆",rN="★",iN="▽",aN="△",sN="⨄",oN="⋁",lN="⋀",cN="⤍",uN="⧫",dN="▪",hN="▴",fN="▾",mN="◂",pN="▸",gN="␣",vN="▒",yN="░",_N="▓",bN="█",xN="=⃥",wN="≡⃥",SN="⫭",kN="⌐",CN="𝔹",TN="𝕓",AN="⊥",EN="⊥",IN="⋈",PN="⧉",DN="┐",MN="╕",LN="╖",RN="╗",ON="┌",FN="╒",zN="╓",BN="╔",VN="─",NN="═",$N="┬",UN="╤",qN="╥",jN="╦",HN="┴",GN="╧",WN="╨",YN="╩",ZN="⊟",KN="⊞",XN="⊠",JN="┘",QN="╛",e8="╜",t8="╝",n8="└",r8="╘",i8="╙",a8="╚",s8="│",o8="║",l8="┼",c8="╪",u8="╫",d8="╬",h8="┤",f8="╡",m8="╢",p8="╣",g8="├",v8="╞",y8="╟",_8="╠",b8="‵",x8="˘",w8="˘",S8="¦",k8="𝒷",C8="ℬ",T8="⁏",A8="∽",E8="⋍",I8="⧅",P8="\\",D8="⟈",M8="•",L8="•",R8="≎",O8="⪮",F8="≏",z8="≎",B8="≏",V8="Ć",N8="ć",$8="⩄",U8="⩉",q8="⩋",j8="∩",H8="⋒",G8="⩇",W8="⩀",Y8="ⅅ",Z8="∩︀",K8="⁁",X8="ˇ",J8="ℭ",Q8="⩍",e$="Č",t$="č",n$="Ç",r$="ç",i$="Ĉ",a$="ĉ",s$="∰",o$="⩌",l$="⩐",c$="Ċ",u$="ċ",d$="¸",h$="¸",f$="⦲",m$="¢",p$="·",g$="·",v$="𝔠",y$="ℭ",_$="Ч",b$="ч",x$="✓",w$="✓",S$="Χ",k$="χ",C$="ˆ",T$="≗",A$="↺",E$="↻",I$="⊛",P$="⊚",D$="⊝",M$="⊙",L$="®",R$="Ⓢ",O$="⊖",F$="⊕",z$="⊗",B$="○",V$="⧃",N$="≗",$$="⨐",U$="⫯",q$="⧂",j$="∲",H$="”",G$="’",W$="♣",Y$="♣",Z$=":",K$="∷",X$="⩴",J$="≔",Q$="≔",e9=",",t9="@",n9="∁",r9="∘",i9="∁",a9="ℂ",s9="≅",o9="⩭",l9="≡",c9="∮",u9="∯",d9="∮",h9="𝕔",f9="ℂ",m9="∐",p9="∐",g9="©",v9="©",y9="℗",_9="∳",b9="↵",x9="✗",w9="⨯",S9="𝒞",k9="𝒸",C9="⫏",T9="⫑",A9="⫐",E9="⫒",I9="⋯",P9="⤸",D9="⤵",M9="⋞",L9="⋟",R9="↶",O9="⤽",F9="⩈",z9="⩆",B9="≍",V9="∪",N9="⋓",$9="⩊",U9="⊍",q9="⩅",j9="∪︀",H9="↷",G9="⤼",W9="⋞",Y9="⋟",Z9="⋎",K9="⋏",X9="¤",J9="↶",Q9="↷",eU="⋎",tU="⋏",nU="∲",rU="∱",iU="⌭",aU="†",sU="‡",oU="ℸ",lU="↓",cU="↡",uU="⇓",dU="‐",hU="⫤",fU="⊣",mU="⤏",pU="˝",gU="Ď",vU="ď",yU="Д",_U="д",bU="‡",xU="⇊",wU="ⅅ",SU="ⅆ",kU="⤑",CU="⩷",TU="°",AU="∇",EU="Δ",IU="δ",PU="⦱",DU="⥿",MU="𝔇",LU="𝔡",RU="⥥",OU="⇃",FU="⇂",zU="´",BU="˙",VU="˝",NU="`",$U="˜",UU="⋄",qU="⋄",jU="⋄",HU="♦",GU="♦",WU="¨",YU="ⅆ",ZU="ϝ",KU="⋲",XU="÷",JU="÷",QU="⋇",e7="⋇",t7="Ђ",n7="ђ",r7="⌞",i7="⌍",a7="$",s7="𝔻",o7="𝕕",l7="¨",c7="˙",u7="⃜",d7="≐",h7="≑",f7="≐",m7="∸",p7="∔",g7="⊡",v7="⌆",y7="∯",_7="¨",b7="⇓",x7="⇐",w7="⇔",S7="⫤",k7="⟸",C7="⟺",T7="⟹",A7="⇒",E7="⊨",I7="⇑",P7="⇕",D7="∥",M7="⤓",L7="↓",R7="↓",O7="⇓",F7="⇵",z7="̑",B7="⇊",V7="⇃",N7="⇂",$7="⥐",U7="⥞",q7="⥖",j7="↽",H7="⥟",G7="⥗",W7="⇁",Y7="↧",Z7="⊤",K7="⤐",X7="⌟",J7="⌌",Q7="𝒟",eq="𝒹",tq="Ѕ",nq="ѕ",rq="⧶",iq="Đ",aq="đ",sq="⋱",oq="▿",lq="▾",cq="⇵",uq="⥯",dq="⦦",hq="Џ",fq="џ",mq="⟿",pq="É",gq="é",vq="⩮",yq="Ě",_q="ě",bq="Ê",xq="ê",wq="≖",Sq="≕",kq="Э",Cq="э",Tq="⩷",Aq="Ė",Eq="ė",Iq="≑",Pq="ⅇ",Dq="≒",Mq="𝔈",Lq="𝔢",Rq="⪚",Oq="È",Fq="è",zq="⪖",Bq="⪘",Vq="⪙",Nq="∈",$q="⏧",Uq="ℓ",qq="⪕",jq="⪗",Hq="Ē",Gq="ē",Wq="∅",Yq="∅",Zq="◻",Kq="∅",Xq="▫",Jq=" ",Qq=" ",ej=" ",tj="Ŋ",nj="ŋ",rj=" ",ij="Ę",aj="ę",sj="𝔼",oj="𝕖",lj="⋕",cj="⧣",uj="⩱",dj="ε",hj="Ε",fj="ε",mj="ϵ",pj="≖",gj="≕",vj="≂",yj="⪖",_j="⪕",bj="⩵",xj="=",wj="≂",Sj="≟",kj="⇌",Cj="≡",Tj="⩸",Aj="⧥",Ej="⥱",Ij="≓",Pj="ℯ",Dj="ℰ",Mj="≐",Lj="⩳",Rj="≂",Oj="Η",Fj="η",zj="Ð",Bj="ð",Vj="Ë",Nj="ë",$j="€",Uj="!",qj="∃",jj="∃",Hj="ℰ",Gj="ⅇ",Wj="ⅇ",Yj="≒",Zj="Ф",Kj="ф",Xj="♀",Jj="ﬃ",Qj="ﬀ",eH="ﬄ",tH="𝔉",nH="𝔣",rH="ﬁ",iH="◼",aH="▪",sH="fj",oH="♭",lH="ﬂ",cH="▱",uH="ƒ",dH="𝔽",hH="𝕗",fH="∀",mH="∀",pH="⋔",gH="⫙",vH="ℱ",yH="⨍",_H="½",bH="⅓",xH="¼",wH="⅕",SH="⅙",kH="⅛",CH="⅔",TH="⅖",AH="¾",EH="⅗",IH="⅜",PH="⅘",DH="⅚",MH="⅝",LH="⅞",RH="⁄",OH="⌢",FH="𝒻",zH="ℱ",BH="ǵ",VH="Γ",NH="γ",$H="Ϝ",UH="ϝ",qH="⪆",jH="Ğ",HH="ğ",GH="Ģ",WH="Ĝ",YH="ĝ",ZH="Г",KH="г",XH="Ġ",JH="ġ",QH="≥",eG="≧",tG="⪌",nG="⋛",rG="≥",iG="≧",aG="⩾",sG="⪩",oG="⩾",lG="⪀",cG="⪂",uG="⪄",dG="⋛︀",hG="⪔",fG="𝔊",mG="𝔤",pG="≫",gG="⋙",vG="⋙",yG="ℷ",_G="Ѓ",bG="ѓ",xG="⪥",wG="≷",SG="⪒",kG="⪤",CG="⪊",TG="⪊",AG="⪈",EG="≩",IG="⪈",PG="≩",DG="⋧",MG="𝔾",LG="𝕘",RG="`",OG="≥",FG="⋛",zG="≧",BG="⪢",VG="≷",NG="⩾",$G="≳",UG="𝒢",qG="ℊ",jG="≳",HG="⪎",GG="⪐",WG="⪧",YG="⩺",ZG=">",KG=">",XG="≫",JG="⋗",QG="⦕",eW="⩼",tW="⪆",nW="⥸",rW="⋗",iW="⋛",aW="⪌",sW="≷",oW="≳",lW="≩︀",cW="≩︀",uW="ˇ",dW=" ",hW="½",fW="ℋ",mW="Ъ",pW="ъ",gW="⥈",vW="↔",yW="⇔",_W="↭",bW="^",xW="ℏ",wW="Ĥ",SW="ĥ",kW="♥",CW="♥",TW="…",AW="⊹",EW="𝔥",IW="ℌ",PW="ℋ",DW="⤥",MW="⤦",LW="⇿",RW="∻",OW="↩",FW="↪",zW="𝕙",BW="ℍ",VW="―",NW="─",$W="𝒽",UW="ℋ",qW="ℏ",jW="Ħ",HW="ħ",GW="≎",WW="≏",YW="⁃",ZW="‐",KW="Í",XW="í",JW="⁣",QW="Î",eY="î",tY="И",nY="и",rY="İ",iY="Е",aY="е",sY="¡",oY="⇔",lY="𝔦",cY="ℑ",uY="Ì",dY="ì",hY="ⅈ",fY="⨌",mY="∭",pY="⧜",gY="℩",vY="Ĳ",yY="ĳ",_Y="Ī",bY="ī",xY="ℑ",wY="ⅈ",SY="ℐ",kY="ℑ",CY="ı",TY="ℑ",AY="⊷",EY="Ƶ",IY="⇒",PY="℅",DY="∞",MY="⧝",LY="ı",RY="⊺",OY="∫",FY="∬",zY="ℤ",BY="∫",VY="⊺",NY="⋂",$Y="⨗",UY="⨼",qY="⁣",jY="⁢",HY="Ё",GY="ё",WY="Į",YY="į",ZY="𝕀",KY="𝕚",XY="Ι",JY="ι",QY="⨼",eZ="¿",tZ="𝒾",nZ="ℐ",rZ="∈",iZ="⋵",aZ="⋹",sZ="⋴",oZ="⋳",lZ="∈",cZ="⁢",uZ="Ĩ",dZ="ĩ",hZ="І",fZ="і",mZ="Ï",pZ="ï",gZ="Ĵ",vZ="ĵ",yZ="Й",_Z="й",bZ="𝔍",xZ="𝔧",wZ="ȷ",SZ="𝕁",kZ="𝕛",CZ="𝒥",TZ="𝒿",AZ="Ј",EZ="ј",IZ="Є",PZ="є",DZ="Κ",MZ="κ",LZ="ϰ",RZ="Ķ",OZ="ķ",FZ="К",zZ="к",BZ="𝔎",VZ="𝔨",NZ="ĸ",$Z="Х",UZ="х",qZ="Ќ",jZ="ќ",HZ="𝕂",GZ="𝕜",WZ="𝒦",YZ="𝓀",ZZ="⇚",KZ="Ĺ",XZ="ĺ",JZ="⦴",QZ="ℒ",eK="Λ",tK="λ",nK="⟨",rK="⟪",iK="⦑",aK="⟨",sK="⪅",oK="ℒ",lK="«",cK="⇤",uK="⤟",dK="←",hK="↞",fK="⇐",mK="⤝",pK="↩",gK="↫",vK="⤹",yK="⥳",_K="↢",bK="⤙",xK="⤛",wK="⪫",SK="⪭",kK="⪭︀",CK="⤌",TK="⤎",AK="❲",EK="{",IK="[",PK="⦋",DK="⦏",MK="⦍",LK="Ľ",RK="ľ",OK="Ļ",FK="ļ",zK="⌈",BK="{",VK="Л",NK="л",$K="⤶",UK="“",qK="„",jK="⥧",HK="⥋",GK="↲",WK="≤",YK="≦",ZK="⟨",KK="⇤",XK="←",JK="←",QK="⇐",eX="⇆",tX="↢",nX="⌈",rX="⟦",iX="⥡",aX="⥙",sX="⇃",oX="⌊",lX="↽",cX="↼",uX="⇇",dX="↔",hX="↔",fX="⇔",mX="⇆",pX="⇋",gX="↭",vX="⥎",yX="↤",_X="⊣",bX="⥚",xX="⋋",wX="⧏",SX="⊲",kX="⊴",CX="⥑",TX="⥠",AX="⥘",EX="↿",IX="⥒",PX="↼",DX="⪋",MX="⋚",LX="≤",RX="≦",OX="⩽",FX="⪨",zX="⩽",BX="⩿",VX="⪁",NX="⪃",$X="⋚︀",UX="⪓",qX="⪅",jX="⋖",HX="⋚",GX="⪋",WX="⋚",YX="≦",ZX="≶",KX="≶",XX="⪡",JX="≲",QX="⩽",eJ="≲",tJ="⥼",nJ="⌊",rJ="𝔏",iJ="𝔩",aJ="≶",sJ="⪑",oJ="⥢",lJ="↽",cJ="↼",uJ="⥪",dJ="▄",hJ="Љ",fJ="љ",mJ="⇇",pJ="≪",gJ="⋘",vJ="⌞",yJ="⇚",_J="⥫",bJ="◺",xJ="Ŀ",wJ="ŀ",SJ="⎰",kJ="⎰",CJ="⪉",TJ="⪉",AJ="⪇",EJ="≨",IJ="⪇",PJ="≨",DJ="⋦",MJ="⟬",LJ="⇽",RJ="⟦",OJ="⟵",FJ="⟵",zJ="⟸",BJ="⟷",VJ="⟷",NJ="⟺",$J="⟼",UJ="⟶",qJ="⟶",jJ="⟹",HJ="↫",GJ="↬",WJ="⦅",YJ="𝕃",ZJ="𝕝",KJ="⨭",XJ="⨴",JJ="∗",QJ="_",eQ="↙",tQ="↘",nQ="◊",rQ="◊",iQ="⧫",aQ="(",sQ="⦓",oQ="⇆",lQ="⌟",cQ="⇋",uQ="⥭",dQ="‎",hQ="⊿",fQ="‹",mQ="𝓁",pQ="ℒ",gQ="↰",vQ="↰",yQ="≲",_Q="⪍",bQ="⪏",xQ="[",wQ="‘",SQ="‚",kQ="Ł",CQ="ł",TQ="⪦",AQ="⩹",EQ="<",IQ="<",PQ="≪",DQ="⋖",MQ="⋋",LQ="⋉",RQ="⥶",OQ="⩻",FQ="◃",zQ="⊴",BQ="◂",VQ="⦖",NQ="⥊",$Q="⥦",UQ="≨︀",qQ="≨︀",jQ="¯",HQ="♂",GQ="✠",WQ="✠",YQ="↦",ZQ="↦",KQ="↧",XQ="↤",JQ="↥",QQ="▮",eee="⨩",tee="М",nee="м",ree="—",iee="∺",aee="∡",see=" ",oee="ℳ",lee="𝔐",cee="𝔪",uee="℧",dee="µ",hee="*",fee="⫰",mee="∣",pee="·",gee="⊟",vee="−",yee="∸",_ee="⨪",bee="∓",xee="⫛",wee="…",See="∓",kee="⊧",Cee="𝕄",Tee="𝕞",Aee="∓",Eee="𝓂",Iee="ℳ",Pee="∾",Dee="Μ",Mee="μ",Lee="⊸",Ree="⊸",Oee="∇",Fee="Ń",zee="ń",Bee="∠⃒",Vee="≉",Nee="⩰̸",$ee="≋̸",Uee="ŉ",qee="≉",jee="♮",Hee="ℕ",Gee="♮",Wee=" ",Yee="≎̸",Zee="≏̸",Kee="⩃",Xee="Ň",Jee="ň",Qee="Ņ",ete="ņ",tte="≇",nte="⩭̸",rte="⩂",ite="Н",ate="н",ste="–",ote="⤤",lte="↗",cte="⇗",ute="↗",dte="≠",hte="≐̸",fte="​",mte="​",pte="​",gte="​",vte="≢",yte="⤨",_te="≂̸",bte="≫",xte="≪",wte=`
`,Ste="∄",kte="∄",Cte="𝔑",Tte="𝔫",Ate="≧̸",Ete="≱",Ite="≱",Pte="≧̸",Dte="⩾̸",Mte="⩾̸",Lte="⋙̸",Rte="≵",Ote="≫⃒",Fte="≯",zte="≯",Bte="≫̸",Vte="↮",Nte="⇎",$te="⫲",Ute="∋",qte="⋼",jte="⋺",Hte="∋",Gte="Њ",Wte="њ",Yte="↚",Zte="⇍",Kte="‥",Xte="≦̸",Jte="≰",Qte="↚",ene="⇍",tne="↮",nne="⇎",rne="≰",ine="≦̸",ane="⩽̸",sne="⩽̸",one="≮",lne="⋘̸",cne="≴",une="≪⃒",dne="≮",hne="⋪",fne="⋬",mne="≪̸",pne="∤",gne="⁠",vne=" ",yne="𝕟",_ne="ℕ",bne="⫬",xne="¬",wne="≢",Sne="≭",kne="∦",Cne="∉",Tne="≠",Ane="≂̸",Ene="∄",Ine="≯",Pne="≱",Dne="≧̸",Mne="≫̸",Lne="≹",Rne="⩾̸",One="≵",Fne="≎̸",zne="≏̸",Bne="∉",Vne="⋵̸",Nne="⋹̸",$ne="∉",Une="⋷",qne="⋶",jne="⧏̸",Hne="⋪",Gne="⋬",Wne="≮",Yne="≰",Zne="≸",Kne="≪̸",Xne="⩽̸",Jne="≴",Qne="⪢̸",ere="⪡̸",tre="∌",nre="∌",rre="⋾",ire="⋽",are="⊀",sre="⪯̸",ore="⋠",lre="∌",cre="⧐̸",ure="⋫",dre="⋭",hre="⊏̸",fre="⋢",mre="⊐̸",pre="⋣",gre="⊂⃒",vre="⊈",yre="⊁",_re="⪰̸",bre="⋡",xre="≿̸",wre="⊃⃒",Sre="⊉",kre="≁",Cre="≄",Tre="≇",Are="≉",Ere="∤",Ire="∦",Pre="∦",Dre="⫽⃥",Mre="∂̸",Lre="⨔",Rre="⊀",Ore="⋠",Fre="⊀",zre="⪯̸",Bre="⪯̸",Vre="⤳̸",Nre="↛",$re="⇏",Ure="↝̸",qre="↛",jre="⇏",Hre="⋫",Gre="⋭",Wre="⊁",Yre="⋡",Zre="⪰̸",Kre="𝒩",Xre="𝓃",Jre="∤",Qre="∦",eie="≁",tie="≄",nie="≄",rie="∤",iie="∦",aie="⋢",sie="⋣",oie="⊄",lie="⫅̸",cie="⊈",uie="⊂⃒",die="⊈",hie="⫅̸",fie="⊁",mie="⪰̸",pie="⊅",gie="⫆̸",vie="⊉",yie="⊃⃒",_ie="⊉",bie="⫆̸",xie="≹",wie="Ñ",Sie="ñ",kie="≸",Cie="⋪",Tie="⋬",Aie="⋫",Eie="⋭",Iie="Ν",Pie="ν",Die="#",Mie="№",Lie=" ",Rie="≍⃒",Oie="⊬",Fie="⊭",zie="⊮",Bie="⊯",Vie="≥⃒",Nie=">⃒",$ie="⤄",Uie="⧞",qie="⤂",jie="≤⃒",Hie="<⃒",Gie="⊴⃒",Wie="⤃",Yie="⊵⃒",Zie="∼⃒",Kie="⤣",Xie="↖",Jie="⇖",Qie="↖",eae="⤧",tae="Ó",nae="ó",rae="⊛",iae="Ô",aae="ô",sae="⊚",oae="О",lae="о",cae="⊝",uae="Ő",dae="ő",hae="⨸",fae="⊙",mae="⦼",pae="Œ",gae="œ",vae="⦿",yae="𝔒",_ae="𝔬",bae="˛",xae="Ò",wae="ò",Sae="⧁",kae="⦵",Cae="Ω",Tae="∮",Aae="↺",Eae="⦾",Iae="⦻",Pae="‾",Dae="⧀",Mae="Ō",Lae="ō",Rae="Ω",Oae="ω",Fae="Ο",zae="ο",Bae="⦶",Vae="⊖",Nae="𝕆",$ae="𝕠",Uae="⦷",qae="“",jae="‘",Hae="⦹",Gae="⊕",Wae="↻",Yae="⩔",Zae="∨",Kae="⩝",Xae="ℴ",Jae="ℴ",Qae="ª",ese="º",tse="⊶",nse="⩖",rse="⩗",ise="⩛",ase="Ⓢ",sse="𝒪",ose="ℴ",lse="Ø",cse="ø",use="⊘",dse="Õ",hse="õ",fse="⨶",mse="⨷",pse="⊗",gse="Ö",vse="ö",yse="⌽",_se="‾",bse="⏞",xse="⎴",wse="⏜",Sse="¶",kse="∥",Cse="∥",Tse="⫳",Ase="⫽",Ese="∂",Ise="∂",Pse="П",Dse="п",Mse="%",Lse=".",Rse="‰",Ose="⊥",Fse="‱",zse="𝔓",Bse="𝔭",Vse="Φ",Nse="φ",$se="ϕ",Use="ℳ",qse="☎",jse="Π",Hse="π",Gse="⋔",Wse="ϖ",Yse="ℏ",Zse="ℎ",Kse="ℏ",Xse="⨣",Jse="⊞",Qse="⨢",eoe="+",toe="∔",noe="⨥",roe="⩲",ioe="±",aoe="±",soe="⨦",ooe="⨧",loe="±",coe="ℌ",uoe="⨕",doe="𝕡",hoe="ℙ",foe="£",moe="⪷",poe="⪻",goe="≺",voe="≼",yoe="⪷",_oe="≺",boe="≼",xoe="≺",woe="⪯",Soe="≼",koe="≾",Coe="⪯",Toe="⪹",Aoe="⪵",Eoe="⋨",Ioe="⪯",Poe="⪳",Doe="≾",Moe="′",Loe="″",Roe="ℙ",Ooe="⪹",Foe="⪵",zoe="⋨",Boe="∏",Voe="∏",Noe="⌮",$oe="⌒",Uoe="⌓",qoe="∝",joe="∝",Hoe="∷",Goe="∝",Woe="≾",Yoe="⊰",Zoe="𝒫",Koe="𝓅",Xoe="Ψ",Joe="ψ",Qoe=" ",ele="𝔔",tle="𝔮",nle="⨌",rle="𝕢",ile="ℚ",ale="⁗",sle="𝒬",ole="𝓆",lle="ℍ",cle="⨖",ule="?",dle="≟",hle='"',fle='"',mle="⇛",ple="∽̱",gle="Ŕ",vle="ŕ",yle="√",_le="⦳",ble="⟩",xle="⟫",wle="⦒",Sle="⦥",kle="⟩",Cle="»",Tle="⥵",Ale="⇥",Ele="⤠",Ile="⤳",Ple="→",Dle="↠",Mle="⇒",Lle="⤞",Rle="↪",Ole="↬",Fle="⥅",zle="⥴",Ble="⤖",Vle="↣",Nle="↝",$le="⤚",Ule="⤜",qle="∶",jle="ℚ",Hle="⤍",Gle="⤏",Wle="⤐",Yle="❳",Zle="}",Kle="]",Xle="⦌",Jle="⦎",Qle="⦐",ece="Ř",tce="ř",nce="Ŗ",rce="ŗ",ice="⌉",ace="}",sce="Р",oce="р",lce="⤷",cce="⥩",uce="”",dce="”",hce="↳",fce="ℜ",mce="ℛ",pce="ℜ",gce="ℝ",vce="ℜ",yce="▭",_ce="®",bce="®",xce="∋",wce="⇋",Sce="⥯",kce="⥽",Cce="⌋",Tce="𝔯",Ace="ℜ",Ece="⥤",Ice="⇁",Pce="⇀",Dce="⥬",Mce="Ρ",Lce="ρ",Rce="ϱ",Oce="⟩",Fce="⇥",zce="→",Bce="→",Vce="⇒",Nce="⇄",$ce="↣",Uce="⌉",qce="⟧",jce="⥝",Hce="⥕",Gce="⇂",Wce="⌋",Yce="⇁",Zce="⇀",Kce="⇄",Xce="⇌",Jce="⇉",Qce="↝",eue="↦",tue="⊢",nue="⥛",rue="⋌",iue="⧐",aue="⊳",sue="⊵",oue="⥏",lue="⥜",cue="⥔",uue="↾",due="⥓",hue="⇀",fue="˚",mue="≓",pue="⇄",gue="⇌",vue="‏",yue="⎱",_ue="⎱",bue="⫮",xue="⟭",wue="⇾",Sue="⟧",kue="⦆",Cue="𝕣",Tue="ℝ",Aue="⨮",Eue="⨵",Iue="⥰",Pue=")",Due="⦔",Mue="⨒",Lue="⇉",Rue="⇛",Oue="›",Fue="𝓇",zue="ℛ",Bue="↱",Vue="↱",Nue="]",$ue="’",Uue="’",que="⋌",jue="⋊",Hue="▹",Gue="⊵",Wue="▸",Yue="⧎",Zue="⧴",Kue="⥨",Xue="℞",Jue="Ś",Que="ś",ede="‚",tde="⪸",nde="Š",rde="š",ide="⪼",ade="≻",sde="≽",ode="⪰",lde="⪴",cde="Ş",ude="ş",dde="Ŝ",hde="ŝ",fde="⪺",mde="⪶",pde="⋩",gde="⨓",vde="≿",yde="С",_de="с",bde="⊡",xde="⋅",wde="⩦",Sde="⤥",kde="↘",Cde="⇘",Tde="↘",Ade="§",Ede=";",Ide="⤩",Pde="∖",Dde="∖",Mde="✶",Lde="𝔖",Rde="𝔰",Ode="⌢",Fde="♯",zde="Щ",Bde="щ",Vde="Ш",Nde="ш",$de="↓",Ude="←",qde="∣",jde="∥",Hde="→",Gde="↑",Wde="­",Yde="Σ",Zde="σ",Kde="ς",Xde="ς",Jde="∼",Qde="⩪",ehe="≃",the="≃",nhe="⪞",rhe="⪠",ihe="⪝",ahe="⪟",she="≆",ohe="⨤",lhe="⥲",che="←",uhe="∘",dhe="∖",hhe="⨳",fhe="⧤",mhe="∣",phe="⌣",ghe="⪪",vhe="⪬",yhe="⪬︀",_he="Ь",bhe="ь",xhe="⌿",whe="⧄",She="/",khe="𝕊",Che="𝕤",The="♠",Ahe="♠",Ehe="∥",Ihe="⊓",Phe="⊓︀",Dhe="⊔",Mhe="⊔︀",Lhe="√",Rhe="⊏",Ohe="⊑",Fhe="⊏",zhe="⊑",Bhe="⊐",Vhe="⊒",Nhe="⊐",$he="⊒",Uhe="□",qhe="□",jhe="⊓",Hhe="⊏",Ghe="⊑",Whe="⊐",Yhe="⊒",Zhe="⊔",Khe="▪",Xhe="□",Jhe="▪",Qhe="→",efe="𝒮",tfe="𝓈",nfe="∖",rfe="⌣",ife="⋆",afe="⋆",sfe="☆",ofe="★",lfe="ϵ",cfe="ϕ",ufe="¯",dfe="⊂",hfe="⋐",ffe="⪽",mfe="⫅",pfe="⊆",gfe="⫃",vfe="⫁",yfe="⫋",_fe="⊊",bfe="⪿",xfe="⥹",wfe="⊂",Sfe="⋐",kfe="⊆",Cfe="⫅",Tfe="⊆",Afe="⊊",Efe="⫋",Ife="⫇",Pfe="⫕",Dfe="⫓",Mfe="⪸",Lfe="≻",Rfe="≽",Ofe="≻",Ffe="⪰",zfe="≽",Bfe="≿",Vfe="⪰",Nfe="⪺",$fe="⪶",Ufe="⋩",qfe="≿",jfe="∋",Hfe="∑",Gfe="∑",Wfe="♪",Yfe="¹",Zfe="²",Kfe="³",Xfe="⊃",Jfe="⋑",Qfe="⪾",eme="⫘",tme="⫆",nme="⊇",rme="⫄",ime="⊃",ame="⊇",sme="⟉",ome="⫗",lme="⥻",cme="⫂",ume="⫌",dme="⊋",hme="⫀",fme="⊃",mme="⋑",pme="⊇",gme="⫆",vme="⊋",yme="⫌",_me="⫈",bme="⫔",xme="⫖",wme="⤦",Sme="↙",kme="⇙",Cme="↙",Tme="⤪",Ame="ß",Eme="	",Ime="⌖",Pme="Τ",Dme="τ",Mme="⎴",Lme="Ť",Rme="ť",Ome="Ţ",Fme="ţ",zme="Т",Bme="т",Vme="⃛",Nme="⌕",$me="𝔗",Ume="𝔱",qme="∴",jme="∴",Hme="∴",Gme="Θ",Wme="θ",Yme="ϑ",Zme="ϑ",Kme="≈",Xme="∼",Jme="  ",Qme=" ",epe=" ",tpe="≈",npe="∼",rpe="Þ",ipe="þ",ape="˜",spe="∼",ope="≃",lpe="≅",cpe="≈",upe="⨱",dpe="⊠",hpe="×",fpe="⨰",mpe="∭",ppe="⤨",gpe="⌶",vpe="⫱",ype="⊤",_pe="𝕋",bpe="𝕥",xpe="⫚",wpe="⤩",Spe="‴",kpe="™",Cpe="™",Tpe="▵",Ape="▿",Epe="◃",Ipe="⊴",Ppe="≜",Dpe="▹",Mpe="⊵",Lpe="◬",Rpe="≜",Ope="⨺",Fpe="⃛",zpe="⨹",Bpe="⧍",Vpe="⨻",Npe="⏢",$pe="𝒯",Upe="𝓉",qpe="Ц",jpe="ц",Hpe="Ћ",Gpe="ћ",Wpe="Ŧ",Ype="ŧ",Zpe="≬",Kpe="↞",Xpe="↠",Jpe="Ú",Qpe="ú",ege="↑",tge="↟",nge="⇑",rge="⥉",ige="Ў",age="ў",sge="Ŭ",oge="ŭ",lge="Û",cge="û",uge="У",dge="у",hge="⇅",fge="Ű",mge="ű",pge="⥮",gge="⥾",vge="𝔘",yge="𝔲",_ge="Ù",bge="ù",xge="⥣",wge="↿",Sge="↾",kge="▀",Cge="⌜",Tge="⌜",Age="⌏",Ege="◸",Ige="Ū",Pge="ū",Dge="¨",Mge="_",Lge="⏟",Rge="⎵",Oge="⏝",Fge="⋃",zge="⊎",Bge="Ų",Vge="ų",Nge="𝕌",$ge="𝕦",Uge="⤒",qge="↑",jge="↑",Hge="⇑",Gge="⇅",Wge="↕",Yge="↕",Zge="⇕",Kge="⥮",Xge="↿",Jge="↾",Qge="⊎",eve="↖",tve="↗",nve="υ",rve="ϒ",ive="ϒ",ave="Υ",sve="υ",ove="↥",lve="⊥",cve="⇈",uve="⌝",dve="⌝",hve="⌎",fve="Ů",mve="ů",pve="◹",gve="𝒰",vve="𝓊",yve="⋰",_ve="Ũ",bve="ũ",xve="▵",wve="▴",Sve="⇈",kve="Ü",Cve="ü",Tve="⦧",Ave="⦜",Eve="ϵ",Ive="ϰ",Pve="∅",Dve="ϕ",Mve="ϖ",Lve="∝",Rve="↕",Ove="⇕",Fve="ϱ",zve="ς",Bve="⊊︀",Vve="⫋︀",Nve="⊋︀",$ve="⫌︀",Uve="ϑ",qve="⊲",jve="⊳",Hve="⫨",Gve="⫫",Wve="⫩",Yve="В",Zve="в",Kve="⊢",Xve="⊨",Jve="⊩",Qve="⊫",eye="⫦",tye="⊻",nye="∨",rye="⋁",iye="≚",aye="⋮",sye="|",oye="‖",lye="|",cye="‖",uye="∣",dye="|",hye="❘",fye="≀",mye=" ",pye="𝔙",gye="𝔳",vye="⊲",yye="⊂⃒",_ye="⊃⃒",bye="𝕍",xye="𝕧",wye="∝",Sye="⊳",kye="𝒱",Cye="𝓋",Tye="⫋︀",Aye="⊊︀",Eye="⫌︀",Iye="⊋︀",Pye="⊪",Dye="⦚",Mye="Ŵ",Lye="ŵ",Rye="⩟",Oye="∧",Fye="⋀",zye="≙",Bye="℘",Vye="𝔚",Nye="𝔴",$ye="𝕎",Uye="𝕨",qye="℘",jye="≀",Hye="≀",Gye="𝒲",Wye="𝓌",Yye="⋂",Zye="◯",Kye="⋃",Xye="▽",Jye="𝔛",Qye="𝔵",e_e="⟷",t_e="⟺",n_e="Ξ",r_e="ξ",i_e="⟵",a_e="⟸",s_e="⟼",o_e="⋻",l_e="⨀",c_e="𝕏",u_e="𝕩",d_e="⨁",h_e="⨂",f_e="⟶",m_e="⟹",p_e="𝒳",g_e="𝓍",v_e="⨆",y_e="⨄",__e="△",b_e="⋁",x_e="⋀",w_e="Ý",S_e="ý",k_e="Я",C_e="я",T_e="Ŷ",A_e="ŷ",E_e="Ы",I_e="ы",P_e="¥",D_e="𝔜",M_e="𝔶",L_e="Ї",R_e="ї",O_e="𝕐",F_e="𝕪",z_e="𝒴",B_e="𝓎",V_e="Ю",N_e="ю",$_e="ÿ",U_e="Ÿ",q_e="Ź",j_e="ź",H_e="Ž",G_e="ž",W_e="З",Y_e="з",Z_e="Ż",K_e="ż",X_e="ℨ",J_e="​",Q_e="Ζ",ebe="ζ",tbe="𝔷",nbe="ℨ",rbe="Ж",ibe="ж",abe="⇝",sbe="𝕫",obe="ℤ",lbe="𝒵",cbe="𝓏",ube="‍",dbe="‌",hbe={Aacute:Z4,aacute:K4,Abreve:X4,abreve:J4,ac:Q4,acd:e5,acE:t5,Acirc:n5,acirc:r5,acute:i5,Acy:a5,acy:s5,AElig:o5,aelig:l5,af:c5,Afr:u5,afr:d5,Agrave:h5,agrave:f5,alefsym:m5,aleph:p5,Alpha:g5,alpha:v5,Amacr:y5,amacr:_5,amalg:b5,amp:x5,AMP:w5,andand:S5,And:k5,and:C5,andd:T5,andslope:A5,andv:E5,ang:I5,ange:P5,angle:D5,angmsdaa:M5,angmsdab:L5,angmsdac:R5,angmsdad:O5,angmsdae:F5,angmsdaf:z5,angmsdag:B5,angmsdah:V5,angmsd:N5,angrt:$5,angrtvb:U5,angrtvbd:q5,angsph:j5,angst:H5,angzarr:G5,Aogon:W5,aogon:Y5,Aopf:Z5,aopf:K5,apacir:X5,ap:J5,apE:Q5,ape:e6,apid:t6,apos:n6,ApplyFunction:r6,approx:i6,approxeq:a6,Aring:s6,aring:o6,Ascr:l6,ascr:c6,Assign:u6,ast:d6,asymp:h6,asympeq:f6,Atilde:m6,atilde:p6,Auml:g6,auml:v6,awconint:y6,awint:_6,backcong:b6,backepsilon:x6,backprime:w6,backsim:S6,backsimeq:k6,Backslash:C6,Barv:T6,barvee:A6,barwed:E6,Barwed:I6,barwedge:P6,bbrk:D6,bbrktbrk:M6,bcong:L6,Bcy:R6,bcy:O6,bdquo:F6,becaus:z6,because:B6,Because:V6,bemptyv:N6,bepsi:$6,bernou:U6,Bernoullis:q6,Beta:j6,beta:H6,beth:G6,between:W6,Bfr:Y6,bfr:Z6,bigcap:K6,bigcirc:X6,bigcup:J6,bigodot:Q6,bigoplus:eN,bigotimes:tN,bigsqcup:nN,bigstar:rN,bigtriangledown:iN,bigtriangleup:aN,biguplus:sN,bigvee:oN,bigwedge:lN,bkarow:cN,blacklozenge:uN,blacksquare:dN,blacktriangle:hN,blacktriangledown:fN,blacktriangleleft:mN,blacktriangleright:pN,blank:gN,blk12:vN,blk14:yN,blk34:_N,block:bN,bne:xN,bnequiv:wN,bNot:SN,bnot:kN,Bopf:CN,bopf:TN,bot:AN,bottom:EN,bowtie:IN,boxbox:PN,boxdl:DN,boxdL:MN,boxDl:LN,boxDL:RN,boxdr:ON,boxdR:FN,boxDr:zN,boxDR:BN,boxh:VN,boxH:NN,boxhd:$N,boxHd:UN,boxhD:qN,boxHD:jN,boxhu:HN,boxHu:GN,boxhU:WN,boxHU:YN,boxminus:ZN,boxplus:KN,boxtimes:XN,boxul:JN,boxuL:QN,boxUl:e8,boxUL:t8,boxur:n8,boxuR:r8,boxUr:i8,boxUR:a8,boxv:s8,boxV:o8,boxvh:l8,boxvH:c8,boxVh:u8,boxVH:d8,boxvl:h8,boxvL:f8,boxVl:m8,boxVL:p8,boxvr:g8,boxvR:v8,boxVr:y8,boxVR:_8,bprime:b8,breve:x8,Breve:w8,brvbar:S8,bscr:k8,Bscr:C8,bsemi:T8,bsim:A8,bsime:E8,bsolb:I8,bsol:P8,bsolhsub:D8,bull:M8,bullet:L8,bump:R8,bumpE:O8,bumpe:F8,Bumpeq:z8,bumpeq:B8,Cacute:V8,cacute:N8,capand:$8,capbrcup:U8,capcap:q8,cap:j8,Cap:H8,capcup:G8,capdot:W8,CapitalDifferentialD:Y8,caps:Z8,caret:K8,caron:X8,Cayleys:J8,ccaps:Q8,Ccaron:e$,ccaron:t$,Ccedil:n$,ccedil:r$,Ccirc:i$,ccirc:a$,Cconint:s$,ccups:o$,ccupssm:l$,Cdot:c$,cdot:u$,cedil:d$,Cedilla:h$,cemptyv:f$,cent:m$,centerdot:p$,CenterDot:g$,cfr:v$,Cfr:y$,CHcy:_$,chcy:b$,check:x$,checkmark:w$,Chi:S$,chi:k$,circ:C$,circeq:T$,circlearrowleft:A$,circlearrowright:E$,circledast:I$,circledcirc:P$,circleddash:D$,CircleDot:M$,circledR:L$,circledS:R$,CircleMinus:O$,CirclePlus:F$,CircleTimes:z$,cir:B$,cirE:V$,cire:N$,cirfnint:$$,cirmid:U$,cirscir:q$,ClockwiseContourIntegral:j$,CloseCurlyDoubleQuote:H$,CloseCurlyQuote:G$,clubs:W$,clubsuit:Y$,colon:Z$,Colon:K$,Colone:X$,colone:J$,coloneq:Q$,comma:e9,commat:t9,comp:n9,compfn:r9,complement:i9,complexes:a9,cong:s9,congdot:o9,Congruent:l9,conint:c9,Conint:u9,ContourIntegral:d9,copf:h9,Copf:f9,coprod:m9,Coproduct:p9,copy:g9,COPY:v9,copysr:y9,CounterClockwiseContourIntegral:_9,crarr:b9,cross:x9,Cross:w9,Cscr:S9,cscr:k9,csub:C9,csube:T9,csup:A9,csupe:E9,ctdot:I9,cudarrl:P9,cudarrr:D9,cuepr:M9,cuesc:L9,cularr:R9,cularrp:O9,cupbrcap:F9,cupcap:z9,CupCap:B9,cup:V9,Cup:N9,cupcup:$9,cupdot:U9,cupor:q9,cups:j9,curarr:H9,curarrm:G9,curlyeqprec:W9,curlyeqsucc:Y9,curlyvee:Z9,curlywedge:K9,curren:X9,curvearrowleft:J9,curvearrowright:Q9,cuvee:eU,cuwed:tU,cwconint:nU,cwint:rU,cylcty:iU,dagger:aU,Dagger:sU,daleth:oU,darr:lU,Darr:cU,dArr:uU,dash:dU,Dashv:hU,dashv:fU,dbkarow:mU,dblac:pU,Dcaron:gU,dcaron:vU,Dcy:yU,dcy:_U,ddagger:bU,ddarr:xU,DD:wU,dd:SU,DDotrahd:kU,ddotseq:CU,deg:TU,Del:AU,Delta:EU,delta:IU,demptyv:PU,dfisht:DU,Dfr:MU,dfr:LU,dHar:RU,dharl:OU,dharr:FU,DiacriticalAcute:zU,DiacriticalDot:BU,DiacriticalDoubleAcute:VU,DiacriticalGrave:NU,DiacriticalTilde:$U,diam:UU,diamond:qU,Diamond:jU,diamondsuit:HU,diams:GU,die:WU,DifferentialD:YU,digamma:ZU,disin:KU,div:XU,divide:JU,divideontimes:QU,divonx:e7,DJcy:t7,djcy:n7,dlcorn:r7,dlcrop:i7,dollar:a7,Dopf:s7,dopf:o7,Dot:l7,dot:c7,DotDot:u7,doteq:d7,doteqdot:h7,DotEqual:f7,dotminus:m7,dotplus:p7,dotsquare:g7,doublebarwedge:v7,DoubleContourIntegral:y7,DoubleDot:_7,DoubleDownArrow:b7,DoubleLeftArrow:x7,DoubleLeftRightArrow:w7,DoubleLeftTee:S7,DoubleLongLeftArrow:k7,DoubleLongLeftRightArrow:C7,DoubleLongRightArrow:T7,DoubleRightArrow:A7,DoubleRightTee:E7,DoubleUpArrow:I7,DoubleUpDownArrow:P7,DoubleVerticalBar:D7,DownArrowBar:M7,downarrow:L7,DownArrow:R7,Downarrow:O7,DownArrowUpArrow:F7,DownBreve:z7,downdownarrows:B7,downharpoonleft:V7,downharpoonright:N7,DownLeftRightVector:$7,DownLeftTeeVector:U7,DownLeftVectorBar:q7,DownLeftVector:j7,DownRightTeeVector:H7,DownRightVectorBar:G7,DownRightVector:W7,DownTeeArrow:Y7,DownTee:Z7,drbkarow:K7,drcorn:X7,drcrop:J7,Dscr:Q7,dscr:eq,DScy:tq,dscy:nq,dsol:rq,Dstrok:iq,dstrok:aq,dtdot:sq,dtri:oq,dtrif:lq,duarr:cq,duhar:uq,dwangle:dq,DZcy:hq,dzcy:fq,dzigrarr:mq,Eacute:pq,eacute:gq,easter:vq,Ecaron:yq,ecaron:_q,Ecirc:bq,ecirc:xq,ecir:wq,ecolon:Sq,Ecy:kq,ecy:Cq,eDDot:Tq,Edot:Aq,edot:Eq,eDot:Iq,ee:Pq,efDot:Dq,Efr:Mq,efr:Lq,eg:Rq,Egrave:Oq,egrave:Fq,egs:zq,egsdot:Bq,el:Vq,Element:Nq,elinters:$q,ell:Uq,els:qq,elsdot:jq,Emacr:Hq,emacr:Gq,empty:Wq,emptyset:Yq,EmptySmallSquare:Zq,emptyv:Kq,EmptyVerySmallSquare:Xq,emsp13:Jq,emsp14:Qq,emsp:ej,ENG:tj,eng:nj,ensp:rj,Eogon:ij,eogon:aj,Eopf:sj,eopf:oj,epar:lj,eparsl:cj,eplus:uj,epsi:dj,Epsilon:hj,epsilon:fj,epsiv:mj,eqcirc:pj,eqcolon:gj,eqsim:vj,eqslantgtr:yj,eqslantless:_j,Equal:bj,equals:xj,EqualTilde:wj,equest:Sj,Equilibrium:kj,equiv:Cj,equivDD:Tj,eqvparsl:Aj,erarr:Ej,erDot:Ij,escr:Pj,Escr:Dj,esdot:Mj,Esim:Lj,esim:Rj,Eta:Oj,eta:Fj,ETH:zj,eth:Bj,Euml:Vj,euml:Nj,euro:$j,excl:Uj,exist:qj,Exists:jj,expectation:Hj,exponentiale:Gj,ExponentialE:Wj,fallingdotseq:Yj,Fcy:Zj,fcy:Kj,female:Xj,ffilig:Jj,fflig:Qj,ffllig:eH,Ffr:tH,ffr:nH,filig:rH,FilledSmallSquare:iH,FilledVerySmallSquare:aH,fjlig:sH,flat:oH,fllig:lH,fltns:cH,fnof:uH,Fopf:dH,fopf:hH,forall:fH,ForAll:mH,fork:pH,forkv:gH,Fouriertrf:vH,fpartint:yH,frac12:_H,frac13:bH,frac14:xH,frac15:wH,frac16:SH,frac18:kH,frac23:CH,frac25:TH,frac34:AH,frac35:EH,frac38:IH,frac45:PH,frac56:DH,frac58:MH,frac78:LH,frasl:RH,frown:OH,fscr:FH,Fscr:zH,gacute:BH,Gamma:VH,gamma:NH,Gammad:$H,gammad:UH,gap:qH,Gbreve:jH,gbreve:HH,Gcedil:GH,Gcirc:WH,gcirc:YH,Gcy:ZH,gcy:KH,Gdot:XH,gdot:JH,ge:QH,gE:eG,gEl:tG,gel:nG,geq:rG,geqq:iG,geqslant:aG,gescc:sG,ges:oG,gesdot:lG,gesdoto:cG,gesdotol:uG,gesl:dG,gesles:hG,Gfr:fG,gfr:mG,gg:pG,Gg:gG,ggg:vG,gimel:yG,GJcy:_G,gjcy:bG,gla:xG,gl:wG,glE:SG,glj:kG,gnap:CG,gnapprox:TG,gne:AG,gnE:EG,gneq:IG,gneqq:PG,gnsim:DG,Gopf:MG,gopf:LG,grave:RG,GreaterEqual:OG,GreaterEqualLess:FG,GreaterFullEqual:zG,GreaterGreater:BG,GreaterLess:VG,GreaterSlantEqual:NG,GreaterTilde:$G,Gscr:UG,gscr:qG,gsim:jG,gsime:HG,gsiml:GG,gtcc:WG,gtcir:YG,gt:ZG,GT:KG,Gt:XG,gtdot:JG,gtlPar:QG,gtquest:eW,gtrapprox:tW,gtrarr:nW,gtrdot:rW,gtreqless:iW,gtreqqless:aW,gtrless:sW,gtrsim:oW,gvertneqq:lW,gvnE:cW,Hacek:uW,hairsp:dW,half:hW,hamilt:fW,HARDcy:mW,hardcy:pW,harrcir:gW,harr:vW,hArr:yW,harrw:_W,Hat:bW,hbar:xW,Hcirc:wW,hcirc:SW,hearts:kW,heartsuit:CW,hellip:TW,hercon:AW,hfr:EW,Hfr:IW,HilbertSpace:PW,hksearow:DW,hkswarow:MW,hoarr:LW,homtht:RW,hookleftarrow:OW,hookrightarrow:FW,hopf:zW,Hopf:BW,horbar:VW,HorizontalLine:NW,hscr:$W,Hscr:UW,hslash:qW,Hstrok:jW,hstrok:HW,HumpDownHump:GW,HumpEqual:WW,hybull:YW,hyphen:ZW,Iacute:KW,iacute:XW,ic:JW,Icirc:QW,icirc:eY,Icy:tY,icy:nY,Idot:rY,IEcy:iY,iecy:aY,iexcl:sY,iff:oY,ifr:lY,Ifr:cY,Igrave:uY,igrave:dY,ii:hY,iiiint:fY,iiint:mY,iinfin:pY,iiota:gY,IJlig:vY,ijlig:yY,Imacr:_Y,imacr:bY,image:xY,ImaginaryI:wY,imagline:SY,imagpart:kY,imath:CY,Im:TY,imof:AY,imped:EY,Implies:IY,incare:PY,in:"∈",infin:DY,infintie:MY,inodot:LY,intcal:RY,int:OY,Int:FY,integers:zY,Integral:BY,intercal:VY,Intersection:NY,intlarhk:$Y,intprod:UY,InvisibleComma:qY,InvisibleTimes:jY,IOcy:HY,iocy:GY,Iogon:WY,iogon:YY,Iopf:ZY,iopf:KY,Iota:XY,iota:JY,iprod:QY,iquest:eZ,iscr:tZ,Iscr:nZ,isin:rZ,isindot:iZ,isinE:aZ,isins:sZ,isinsv:oZ,isinv:lZ,it:cZ,Itilde:uZ,itilde:dZ,Iukcy:hZ,iukcy:fZ,Iuml:mZ,iuml:pZ,Jcirc:gZ,jcirc:vZ,Jcy:yZ,jcy:_Z,Jfr:bZ,jfr:xZ,jmath:wZ,Jopf:SZ,jopf:kZ,Jscr:CZ,jscr:TZ,Jsercy:AZ,jsercy:EZ,Jukcy:IZ,jukcy:PZ,Kappa:DZ,kappa:MZ,kappav:LZ,Kcedil:RZ,kcedil:OZ,Kcy:FZ,kcy:zZ,Kfr:BZ,kfr:VZ,kgreen:NZ,KHcy:$Z,khcy:UZ,KJcy:qZ,kjcy:jZ,Kopf:HZ,kopf:GZ,Kscr:WZ,kscr:YZ,lAarr:ZZ,Lacute:KZ,lacute:XZ,laemptyv:JZ,lagran:QZ,Lambda:eK,lambda:tK,lang:nK,Lang:rK,langd:iK,langle:aK,lap:sK,Laplacetrf:oK,laquo:lK,larrb:cK,larrbfs:uK,larr:dK,Larr:hK,lArr:fK,larrfs:mK,larrhk:pK,larrlp:gK,larrpl:vK,larrsim:yK,larrtl:_K,latail:bK,lAtail:xK,lat:wK,late:SK,lates:kK,lbarr:CK,lBarr:TK,lbbrk:AK,lbrace:EK,lbrack:IK,lbrke:PK,lbrksld:DK,lbrkslu:MK,Lcaron:LK,lcaron:RK,Lcedil:OK,lcedil:FK,lceil:zK,lcub:BK,Lcy:VK,lcy:NK,ldca:$K,ldquo:UK,ldquor:qK,ldrdhar:jK,ldrushar:HK,ldsh:GK,le:WK,lE:YK,LeftAngleBracket:ZK,LeftArrowBar:KK,leftarrow:XK,LeftArrow:JK,Leftarrow:QK,LeftArrowRightArrow:eX,leftarrowtail:tX,LeftCeiling:nX,LeftDoubleBracket:rX,LeftDownTeeVector:iX,LeftDownVectorBar:aX,LeftDownVector:sX,LeftFloor:oX,leftharpoondown:lX,leftharpoonup:cX,leftleftarrows:uX,leftrightarrow:dX,LeftRightArrow:hX,Leftrightarrow:fX,leftrightarrows:mX,leftrightharpoons:pX,leftrightsquigarrow:gX,LeftRightVector:vX,LeftTeeArrow:yX,LeftTee:_X,LeftTeeVector:bX,leftthreetimes:xX,LeftTriangleBar:wX,LeftTriangle:SX,LeftTriangleEqual:kX,LeftUpDownVector:CX,LeftUpTeeVector:TX,LeftUpVectorBar:AX,LeftUpVector:EX,LeftVectorBar:IX,LeftVector:PX,lEg:DX,leg:MX,leq:LX,leqq:RX,leqslant:OX,lescc:FX,les:zX,lesdot:BX,lesdoto:VX,lesdotor:NX,lesg:$X,lesges:UX,lessapprox:qX,lessdot:jX,lesseqgtr:HX,lesseqqgtr:GX,LessEqualGreater:WX,LessFullEqual:YX,LessGreater:ZX,lessgtr:KX,LessLess:XX,lesssim:JX,LessSlantEqual:QX,LessTilde:eJ,lfisht:tJ,lfloor:nJ,Lfr:rJ,lfr:iJ,lg:aJ,lgE:sJ,lHar:oJ,lhard:lJ,lharu:cJ,lharul:uJ,lhblk:dJ,LJcy:hJ,ljcy:fJ,llarr:mJ,ll:pJ,Ll:gJ,llcorner:vJ,Lleftarrow:yJ,llhard:_J,lltri:bJ,Lmidot:xJ,lmidot:wJ,lmoustache:SJ,lmoust:kJ,lnap:CJ,lnapprox:TJ,lne:AJ,lnE:EJ,lneq:IJ,lneqq:PJ,lnsim:DJ,loang:MJ,loarr:LJ,lobrk:RJ,longleftarrow:OJ,LongLeftArrow:FJ,Longleftarrow:zJ,longleftrightarrow:BJ,LongLeftRightArrow:VJ,Longleftrightarrow:NJ,longmapsto:$J,longrightarrow:UJ,LongRightArrow:qJ,Longrightarrow:jJ,looparrowleft:HJ,looparrowright:GJ,lopar:WJ,Lopf:YJ,lopf:ZJ,loplus:KJ,lotimes:XJ,lowast:JJ,lowbar:QJ,LowerLeftArrow:eQ,LowerRightArrow:tQ,loz:nQ,lozenge:rQ,lozf:iQ,lpar:aQ,lparlt:sQ,lrarr:oQ,lrcorner:lQ,lrhar:cQ,lrhard:uQ,lrm:dQ,lrtri:hQ,lsaquo:fQ,lscr:mQ,Lscr:pQ,lsh:gQ,Lsh:vQ,lsim:yQ,lsime:_Q,lsimg:bQ,lsqb:xQ,lsquo:wQ,lsquor:SQ,Lstrok:kQ,lstrok:CQ,ltcc:TQ,ltcir:AQ,lt:EQ,LT:IQ,Lt:PQ,ltdot:DQ,lthree:MQ,ltimes:LQ,ltlarr:RQ,ltquest:OQ,ltri:FQ,ltrie:zQ,ltrif:BQ,ltrPar:VQ,lurdshar:NQ,luruhar:$Q,lvertneqq:UQ,lvnE:qQ,macr:jQ,male:HQ,malt:GQ,maltese:WQ,Map:"⤅",map:YQ,mapsto:ZQ,mapstodown:KQ,mapstoleft:XQ,mapstoup:JQ,marker:QQ,mcomma:eee,Mcy:tee,mcy:nee,mdash:ree,mDDot:iee,measuredangle:aee,MediumSpace:see,Mellintrf:oee,Mfr:lee,mfr:cee,mho:uee,micro:dee,midast:hee,midcir:fee,mid:mee,middot:pee,minusb:gee,minus:vee,minusd:yee,minusdu:_ee,MinusPlus:bee,mlcp:xee,mldr:wee,mnplus:See,models:kee,Mopf:Cee,mopf:Tee,mp:Aee,mscr:Eee,Mscr:Iee,mstpos:Pee,Mu:Dee,mu:Mee,multimap:Lee,mumap:Ree,nabla:Oee,Nacute:Fee,nacute:zee,nang:Bee,nap:Vee,napE:Nee,napid:$ee,napos:Uee,napprox:qee,natural:jee,naturals:Hee,natur:Gee,nbsp:Wee,nbump:Yee,nbumpe:Zee,ncap:Kee,Ncaron:Xee,ncaron:Jee,Ncedil:Qee,ncedil:ete,ncong:tte,ncongdot:nte,ncup:rte,Ncy:ite,ncy:ate,ndash:ste,nearhk:ote,nearr:lte,neArr:cte,nearrow:ute,ne:dte,nedot:hte,NegativeMediumSpace:fte,NegativeThickSpace:mte,NegativeThinSpace:pte,NegativeVeryThinSpace:gte,nequiv:vte,nesear:yte,nesim:_te,NestedGreaterGreater:bte,NestedLessLess:xte,NewLine:wte,nexist:Ste,nexists:kte,Nfr:Cte,nfr:Tte,ngE:Ate,nge:Ete,ngeq:Ite,ngeqq:Pte,ngeqslant:Dte,nges:Mte,nGg:Lte,ngsim:Rte,nGt:Ote,ngt:Fte,ngtr:zte,nGtv:Bte,nharr:Vte,nhArr:Nte,nhpar:$te,ni:Ute,nis:qte,nisd:jte,niv:Hte,NJcy:Gte,njcy:Wte,nlarr:Yte,nlArr:Zte,nldr:Kte,nlE:Xte,nle:Jte,nleftarrow:Qte,nLeftarrow:ene,nleftrightarrow:tne,nLeftrightarrow:nne,nleq:rne,nleqq:ine,nleqslant:ane,nles:sne,nless:one,nLl:lne,nlsim:cne,nLt:une,nlt:dne,nltri:hne,nltrie:fne,nLtv:mne,nmid:pne,NoBreak:gne,NonBreakingSpace:vne,nopf:yne,Nopf:_ne,Not:bne,not:xne,NotCongruent:wne,NotCupCap:Sne,NotDoubleVerticalBar:kne,NotElement:Cne,NotEqual:Tne,NotEqualTilde:Ane,NotExists:Ene,NotGreater:Ine,NotGreaterEqual:Pne,NotGreaterFullEqual:Dne,NotGreaterGreater:Mne,NotGreaterLess:Lne,NotGreaterSlantEqual:Rne,NotGreaterTilde:One,NotHumpDownHump:Fne,NotHumpEqual:zne,notin:Bne,notindot:Vne,notinE:Nne,notinva:$ne,notinvb:Une,notinvc:qne,NotLeftTriangleBar:jne,NotLeftTriangle:Hne,NotLeftTriangleEqual:Gne,NotLess:Wne,NotLessEqual:Yne,NotLessGreater:Zne,NotLessLess:Kne,NotLessSlantEqual:Xne,NotLessTilde:Jne,NotNestedGreaterGreater:Qne,NotNestedLessLess:ere,notni:tre,notniva:nre,notnivb:rre,notnivc:ire,NotPrecedes:are,NotPrecedesEqual:sre,NotPrecedesSlantEqual:ore,NotReverseElement:lre,NotRightTriangleBar:cre,NotRightTriangle:ure,NotRightTriangleEqual:dre,NotSquareSubset:hre,NotSquareSubsetEqual:fre,NotSquareSuperset:mre,NotSquareSupersetEqual:pre,NotSubset:gre,NotSubsetEqual:vre,NotSucceeds:yre,NotSucceedsEqual:_re,NotSucceedsSlantEqual:bre,NotSucceedsTilde:xre,NotSuperset:wre,NotSupersetEqual:Sre,NotTilde:kre,NotTildeEqual:Cre,NotTildeFullEqual:Tre,NotTildeTilde:Are,NotVerticalBar:Ere,nparallel:Ire,npar:Pre,nparsl:Dre,npart:Mre,npolint:Lre,npr:Rre,nprcue:Ore,nprec:Fre,npreceq:zre,npre:Bre,nrarrc:Vre,nrarr:Nre,nrArr:$re,nrarrw:Ure,nrightarrow:qre,nRightarrow:jre,nrtri:Hre,nrtrie:Gre,nsc:Wre,nsccue:Yre,nsce:Zre,Nscr:Kre,nscr:Xre,nshortmid:Jre,nshortparallel:Qre,nsim:eie,nsime:tie,nsimeq:nie,nsmid:rie,nspar:iie,nsqsube:aie,nsqsupe:sie,nsub:oie,nsubE:lie,nsube:cie,nsubset:uie,nsubseteq:die,nsubseteqq:hie,nsucc:fie,nsucceq:mie,nsup:pie,nsupE:gie,nsupe:vie,nsupset:yie,nsupseteq:_ie,nsupseteqq:bie,ntgl:xie,Ntilde:wie,ntilde:Sie,ntlg:kie,ntriangleleft:Cie,ntrianglelefteq:Tie,ntriangleright:Aie,ntrianglerighteq:Eie,Nu:Iie,nu:Pie,num:Die,numero:Mie,numsp:Lie,nvap:Rie,nvdash:Oie,nvDash:Fie,nVdash:zie,nVDash:Bie,nvge:Vie,nvgt:Nie,nvHarr:$ie,nvinfin:Uie,nvlArr:qie,nvle:jie,nvlt:Hie,nvltrie:Gie,nvrArr:Wie,nvrtrie:Yie,nvsim:Zie,nwarhk:Kie,nwarr:Xie,nwArr:Jie,nwarrow:Qie,nwnear:eae,Oacute:tae,oacute:nae,oast:rae,Ocirc:iae,ocirc:aae,ocir:sae,Ocy:oae,ocy:lae,odash:cae,Odblac:uae,odblac:dae,odiv:hae,odot:fae,odsold:mae,OElig:pae,oelig:gae,ofcir:vae,Ofr:yae,ofr:_ae,ogon:bae,Ograve:xae,ograve:wae,ogt:Sae,ohbar:kae,ohm:Cae,oint:Tae,olarr:Aae,olcir:Eae,olcross:Iae,oline:Pae,olt:Dae,Omacr:Mae,omacr:Lae,Omega:Rae,omega:Oae,Omicron:Fae,omicron:zae,omid:Bae,ominus:Vae,Oopf:Nae,oopf:$ae,opar:Uae,OpenCurlyDoubleQuote:qae,OpenCurlyQuote:jae,operp:Hae,oplus:Gae,orarr:Wae,Or:Yae,or:Zae,ord:Kae,order:Xae,orderof:Jae,ordf:Qae,ordm:ese,origof:tse,oror:nse,orslope:rse,orv:ise,oS:ase,Oscr:sse,oscr:ose,Oslash:lse,oslash:cse,osol:use,Otilde:dse,otilde:hse,otimesas:fse,Otimes:mse,otimes:pse,Ouml:gse,ouml:vse,ovbar:yse,OverBar:_se,OverBrace:bse,OverBracket:xse,OverParenthesis:wse,para:Sse,parallel:kse,par:Cse,parsim:Tse,parsl:Ase,part:Ese,PartialD:Ise,Pcy:Pse,pcy:Dse,percnt:Mse,period:Lse,permil:Rse,perp:Ose,pertenk:Fse,Pfr:zse,pfr:Bse,Phi:Vse,phi:Nse,phiv:$se,phmmat:Use,phone:qse,Pi:jse,pi:Hse,pitchfork:Gse,piv:Wse,planck:Yse,planckh:Zse,plankv:Kse,plusacir:Xse,plusb:Jse,pluscir:Qse,plus:eoe,plusdo:toe,plusdu:noe,pluse:roe,PlusMinus:ioe,plusmn:aoe,plussim:soe,plustwo:ooe,pm:loe,Poincareplane:coe,pointint:uoe,popf:doe,Popf:hoe,pound:foe,prap:moe,Pr:poe,pr:goe,prcue:voe,precapprox:yoe,prec:_oe,preccurlyeq:boe,Precedes:xoe,PrecedesEqual:woe,PrecedesSlantEqual:Soe,PrecedesTilde:koe,preceq:Coe,precnapprox:Toe,precneqq:Aoe,precnsim:Eoe,pre:Ioe,prE:Poe,precsim:Doe,prime:Moe,Prime:Loe,primes:Roe,prnap:Ooe,prnE:Foe,prnsim:zoe,prod:Boe,Product:Voe,profalar:Noe,profline:$oe,profsurf:Uoe,prop:qoe,Proportional:joe,Proportion:Hoe,propto:Goe,prsim:Woe,prurel:Yoe,Pscr:Zoe,pscr:Koe,Psi:Xoe,psi:Joe,puncsp:Qoe,Qfr:ele,qfr:tle,qint:nle,qopf:rle,Qopf:ile,qprime:ale,Qscr:sle,qscr:ole,quaternions:lle,quatint:cle,quest:ule,questeq:dle,quot:hle,QUOT:fle,rAarr:mle,race:ple,Racute:gle,racute:vle,radic:yle,raemptyv:_le,rang:ble,Rang:xle,rangd:wle,range:Sle,rangle:kle,raquo:Cle,rarrap:Tle,rarrb:Ale,rarrbfs:Ele,rarrc:Ile,rarr:Ple,Rarr:Dle,rArr:Mle,rarrfs:Lle,rarrhk:Rle,rarrlp:Ole,rarrpl:Fle,rarrsim:zle,Rarrtl:Ble,rarrtl:Vle,rarrw:Nle,ratail:$le,rAtail:Ule,ratio:qle,rationals:jle,rbarr:Hle,rBarr:Gle,RBarr:Wle,rbbrk:Yle,rbrace:Zle,rbrack:Kle,rbrke:Xle,rbrksld:Jle,rbrkslu:Qle,Rcaron:ece,rcaron:tce,Rcedil:nce,rcedil:rce,rceil:ice,rcub:ace,Rcy:sce,rcy:oce,rdca:lce,rdldhar:cce,rdquo:uce,rdquor:dce,rdsh:hce,real:fce,realine:mce,realpart:pce,reals:gce,Re:vce,rect:yce,reg:_ce,REG:bce,ReverseElement:xce,ReverseEquilibrium:wce,ReverseUpEquilibrium:Sce,rfisht:kce,rfloor:Cce,rfr:Tce,Rfr:Ace,rHar:Ece,rhard:Ice,rharu:Pce,rharul:Dce,Rho:Mce,rho:Lce,rhov:Rce,RightAngleBracket:Oce,RightArrowBar:Fce,rightarrow:zce,RightArrow:Bce,Rightarrow:Vce,RightArrowLeftArrow:Nce,rightarrowtail:$ce,RightCeiling:Uce,RightDoubleBracket:qce,RightDownTeeVector:jce,RightDownVectorBar:Hce,RightDownVector:Gce,RightFloor:Wce,rightharpoondown:Yce,rightharpoonup:Zce,rightleftarrows:Kce,rightleftharpoons:Xce,rightrightarrows:Jce,rightsquigarrow:Qce,RightTeeArrow:eue,RightTee:tue,RightTeeVector:nue,rightthreetimes:rue,RightTriangleBar:iue,RightTriangle:aue,RightTriangleEqual:sue,RightUpDownVector:oue,RightUpTeeVector:lue,RightUpVectorBar:cue,RightUpVector:uue,RightVectorBar:due,RightVector:hue,ring:fue,risingdotseq:mue,rlarr:pue,rlhar:gue,rlm:vue,rmoustache:yue,rmoust:_ue,rnmid:bue,roang:xue,roarr:wue,robrk:Sue,ropar:kue,ropf:Cue,Ropf:Tue,roplus:Aue,rotimes:Eue,RoundImplies:Iue,rpar:Pue,rpargt:Due,rppolint:Mue,rrarr:Lue,Rrightarrow:Rue,rsaquo:Oue,rscr:Fue,Rscr:zue,rsh:Bue,Rsh:Vue,rsqb:Nue,rsquo:$ue,rsquor:Uue,rthree:que,rtimes:jue,rtri:Hue,rtrie:Gue,rtrif:Wue,rtriltri:Yue,RuleDelayed:Zue,ruluhar:Kue,rx:Xue,Sacute:Jue,sacute:Que,sbquo:ede,scap:tde,Scaron:nde,scaron:rde,Sc:ide,sc:ade,sccue:sde,sce:ode,scE:lde,Scedil:cde,scedil:ude,Scirc:dde,scirc:hde,scnap:fde,scnE:mde,scnsim:pde,scpolint:gde,scsim:vde,Scy:yde,scy:_de,sdotb:bde,sdot:xde,sdote:wde,searhk:Sde,searr:kde,seArr:Cde,searrow:Tde,sect:Ade,semi:Ede,seswar:Ide,setminus:Pde,setmn:Dde,sext:Mde,Sfr:Lde,sfr:Rde,sfrown:Ode,sharp:Fde,SHCHcy:zde,shchcy:Bde,SHcy:Vde,shcy:Nde,ShortDownArrow:$de,ShortLeftArrow:Ude,shortmid:qde,shortparallel:jde,ShortRightArrow:Hde,ShortUpArrow:Gde,shy:Wde,Sigma:Yde,sigma:Zde,sigmaf:Kde,sigmav:Xde,sim:Jde,simdot:Qde,sime:ehe,simeq:the,simg:nhe,simgE:rhe,siml:ihe,simlE:ahe,simne:she,simplus:ohe,simrarr:lhe,slarr:che,SmallCircle:uhe,smallsetminus:dhe,smashp:hhe,smeparsl:fhe,smid:mhe,smile:phe,smt:ghe,smte:vhe,smtes:yhe,SOFTcy:_he,softcy:bhe,solbar:xhe,solb:whe,sol:She,Sopf:khe,sopf:Che,spades:The,spadesuit:Ahe,spar:Ehe,sqcap:Ihe,sqcaps:Phe,sqcup:Dhe,sqcups:Mhe,Sqrt:Lhe,sqsub:Rhe,sqsube:Ohe,sqsubset:Fhe,sqsubseteq:zhe,sqsup:Bhe,sqsupe:Vhe,sqsupset:Nhe,sqsupseteq:$he,square:Uhe,Square:qhe,SquareIntersection:jhe,SquareSubset:Hhe,SquareSubsetEqual:Ghe,SquareSuperset:Whe,SquareSupersetEqual:Yhe,SquareUnion:Zhe,squarf:Khe,squ:Xhe,squf:Jhe,srarr:Qhe,Sscr:efe,sscr:tfe,ssetmn:nfe,ssmile:rfe,sstarf:ife,Star:afe,star:sfe,starf:ofe,straightepsilon:lfe,straightphi:cfe,strns:ufe,sub:dfe,Sub:hfe,subdot:ffe,subE:mfe,sube:pfe,subedot:gfe,submult:vfe,subnE:yfe,subne:_fe,subplus:bfe,subrarr:xfe,subset:wfe,Subset:Sfe,subseteq:kfe,subseteqq:Cfe,SubsetEqual:Tfe,subsetneq:Afe,subsetneqq:Efe,subsim:Ife,subsub:Pfe,subsup:Dfe,succapprox:Mfe,succ:Lfe,succcurlyeq:Rfe,Succeeds:Ofe,SucceedsEqual:Ffe,SucceedsSlantEqual:zfe,SucceedsTilde:Bfe,succeq:Vfe,succnapprox:Nfe,succneqq:$fe,succnsim:Ufe,succsim:qfe,SuchThat:jfe,sum:Hfe,Sum:Gfe,sung:Wfe,sup1:Yfe,sup2:Zfe,sup3:Kfe,sup:Xfe,Sup:Jfe,supdot:Qfe,supdsub:eme,supE:tme,supe:nme,supedot:rme,Superset:ime,SupersetEqual:ame,suphsol:sme,suphsub:ome,suplarr:lme,supmult:cme,supnE:ume,supne:dme,supplus:hme,supset:fme,Supset:mme,supseteq:pme,supseteqq:gme,supsetneq:vme,supsetneqq:yme,supsim:_me,supsub:bme,supsup:xme,swarhk:wme,swarr:Sme,swArr:kme,swarrow:Cme,swnwar:Tme,szlig:Ame,Tab:Eme,target:Ime,Tau:Pme,tau:Dme,tbrk:Mme,Tcaron:Lme,tcaron:Rme,Tcedil:Ome,tcedil:Fme,Tcy:zme,tcy:Bme,tdot:Vme,telrec:Nme,Tfr:$me,tfr:Ume,there4:qme,therefore:jme,Therefore:Hme,Theta:Gme,theta:Wme,thetasym:Yme,thetav:Zme,thickapprox:Kme,thicksim:Xme,ThickSpace:Jme,ThinSpace:Qme,thinsp:epe,thkap:tpe,thksim:npe,THORN:rpe,thorn:ipe,tilde:ape,Tilde:spe,TildeEqual:ope,TildeFullEqual:lpe,TildeTilde:cpe,timesbar:upe,timesb:dpe,times:hpe,timesd:fpe,tint:mpe,toea:ppe,topbot:gpe,topcir:vpe,top:ype,Topf:_pe,topf:bpe,topfork:xpe,tosa:wpe,tprime:Spe,trade:kpe,TRADE:Cpe,triangle:Tpe,triangledown:Ape,triangleleft:Epe,trianglelefteq:Ipe,triangleq:Ppe,triangleright:Dpe,trianglerighteq:Mpe,tridot:Lpe,trie:Rpe,triminus:Ope,TripleDot:Fpe,triplus:zpe,trisb:Bpe,tritime:Vpe,trpezium:Npe,Tscr:$pe,tscr:Upe,TScy:qpe,tscy:jpe,TSHcy:Hpe,tshcy:Gpe,Tstrok:Wpe,tstrok:Ype,twixt:Zpe,twoheadleftarrow:Kpe,twoheadrightarrow:Xpe,Uacute:Jpe,uacute:Qpe,uarr:ege,Uarr:tge,uArr:nge,Uarrocir:rge,Ubrcy:ige,ubrcy:age,Ubreve:sge,ubreve:oge,Ucirc:lge,ucirc:cge,Ucy:uge,ucy:dge,udarr:hge,Udblac:fge,udblac:mge,udhar:pge,ufisht:gge,Ufr:vge,ufr:yge,Ugrave:_ge,ugrave:bge,uHar:xge,uharl:wge,uharr:Sge,uhblk:kge,ulcorn:Cge,ulcorner:Tge,ulcrop:Age,ultri:Ege,Umacr:Ige,umacr:Pge,uml:Dge,UnderBar:Mge,UnderBrace:Lge,UnderBracket:Rge,UnderParenthesis:Oge,Union:Fge,UnionPlus:zge,Uogon:Bge,uogon:Vge,Uopf:Nge,uopf:$ge,UpArrowBar:Uge,uparrow:qge,UpArrow:jge,Uparrow:Hge,UpArrowDownArrow:Gge,updownarrow:Wge,UpDownArrow:Yge,Updownarrow:Zge,UpEquilibrium:Kge,upharpoonleft:Xge,upharpoonright:Jge,uplus:Qge,UpperLeftArrow:eve,UpperRightArrow:tve,upsi:nve,Upsi:rve,upsih:ive,Upsilon:ave,upsilon:sve,UpTeeArrow:ove,UpTee:lve,upuparrows:cve,urcorn:uve,urcorner:dve,urcrop:hve,Uring:fve,uring:mve,urtri:pve,Uscr:gve,uscr:vve,utdot:yve,Utilde:_ve,utilde:bve,utri:xve,utrif:wve,uuarr:Sve,Uuml:kve,uuml:Cve,uwangle:Tve,vangrt:Ave,varepsilon:Eve,varkappa:Ive,varnothing:Pve,varphi:Dve,varpi:Mve,varpropto:Lve,varr:Rve,vArr:Ove,varrho:Fve,varsigma:zve,varsubsetneq:Bve,varsubsetneqq:Vve,varsupsetneq:Nve,varsupsetneqq:$ve,vartheta:Uve,vartriangleleft:qve,vartriangleright:jve,vBar:Hve,Vbar:Gve,vBarv:Wve,Vcy:Yve,vcy:Zve,vdash:Kve,vDash:Xve,Vdash:Jve,VDash:Qve,Vdashl:eye,veebar:tye,vee:nye,Vee:rye,veeeq:iye,vellip:aye,verbar:sye,Verbar:oye,vert:lye,Vert:cye,VerticalBar:uye,VerticalLine:dye,VerticalSeparator:hye,VerticalTilde:fye,VeryThinSpace:mye,Vfr:pye,vfr:gye,vltri:vye,vnsub:yye,vnsup:_ye,Vopf:bye,vopf:xye,vprop:wye,vrtri:Sye,Vscr:kye,vscr:Cye,vsubnE:Tye,vsubne:Aye,vsupnE:Eye,vsupne:Iye,Vvdash:Pye,vzigzag:Dye,Wcirc:Mye,wcirc:Lye,wedbar:Rye,wedge:Oye,Wedge:Fye,wedgeq:zye,weierp:Bye,Wfr:Vye,wfr:Nye,Wopf:$ye,wopf:Uye,wp:qye,wr:jye,wreath:Hye,Wscr:Gye,wscr:Wye,xcap:Yye,xcirc:Zye,xcup:Kye,xdtri:Xye,Xfr:Jye,xfr:Qye,xharr:e_e,xhArr:t_e,Xi:n_e,xi:r_e,xlarr:i_e,xlArr:a_e,xmap:s_e,xnis:o_e,xodot:l_e,Xopf:c_e,xopf:u_e,xoplus:d_e,xotime:h_e,xrarr:f_e,xrArr:m_e,Xscr:p_e,xscr:g_e,xsqcup:v_e,xuplus:y_e,xutri:__e,xvee:b_e,xwedge:x_e,Yacute:w_e,yacute:S_e,YAcy:k_e,yacy:C_e,Ycirc:T_e,ycirc:A_e,Ycy:E_e,ycy:I_e,yen:P_e,Yfr:D_e,yfr:M_e,YIcy:L_e,yicy:R_e,Yopf:O_e,yopf:F_e,Yscr:z_e,yscr:B_e,YUcy:V_e,yucy:N_e,yuml:$_e,Yuml:U_e,Zacute:q_e,zacute:j_e,Zcaron:H_e,zcaron:G_e,Zcy:W_e,zcy:Y_e,Zdot:Z_e,zdot:K_e,zeetrf:X_e,ZeroWidthSpace:J_e,Zeta:Q_e,zeta:ebe,zfr:tbe,Zfr:nbe,ZHcy:rbe,zhcy:ibe,zigrarr:abe,zopf:sbe,Zopf:obe,Zscr:lbe,zscr:cbe,zwj:ube,zwnj:dbe};var oI=hbe,Tx=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Yd={},Xk={};function fbe(e){var t,n,r=Xk[e];if(r)return r;for(r=Xk[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function _v(e,t,n){var r,s,u,h,o,g="";for(typeof t!="string"&&(n=t,t=_v.defaultChars),typeof n>"u"&&(n=!0),o=fbe(t),r=0,s=e.length;r<s;r++){if(u=e.charCodeAt(r),n&&u===37&&r+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){g+=e.slice(r,r+3),r+=2;continue}if(u<128){g+=o[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&r+1<s&&(h=e.charCodeAt(r+1),h>=56320&&h<=57343)){g+=encodeURIComponent(e[r]+e[r+1]),r++;continue}g+="%EF%BF%BD";continue}g+=encodeURIComponent(e[r])}return g}_v.defaultChars=";/?:@&=+$,-_.!~*'()#";_v.componentChars="-_.!~*'()";var mbe=_v,Jk={};function pbe(e){var t,n,r=Jk[e];if(r)return r;for(r=Jk[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function bv(e,t){var n;return typeof t!="string"&&(t=bv.defaultChars),n=pbe(t),e.replace(/(%[a-f0-9]{2})+/gi,function(r){var s,u,h,o,g,y,w,k="";for(s=0,u=r.length;s<u;s+=3){if(h=parseInt(r.slice(s+1,s+3),16),h<128){k+=n[h];continue}if((h&224)===192&&s+3<u&&(o=parseInt(r.slice(s+4,s+6),16),(o&192)===128)){w=h<<6&1984|o&63,w<128?k+="��":k+=String.fromCharCode(w),s+=3;continue}if((h&240)===224&&s+6<u&&(o=parseInt(r.slice(s+4,s+6),16),g=parseInt(r.slice(s+7,s+9),16),(o&192)===128&&(g&192)===128)){w=h<<12&61440|o<<6&4032|g&63,w<2048||w>=55296&&w<=57343?k+="���":k+=String.fromCharCode(w),s+=6;continue}if((h&248)===240&&s+9<u&&(o=parseInt(r.slice(s+4,s+6),16),g=parseInt(r.slice(s+7,s+9),16),y=parseInt(r.slice(s+10,s+12),16),(o&192)===128&&(g&192)===128&&(y&192)===128)){w=h<<18&1835008|o<<12&258048|g<<6&4032|y&63,w<65536||w>1114111?k+="����":(w-=65536,k+=String.fromCharCode(55296+(w>>10),56320+(w&1023))),s+=9;continue}k+="�"}return k})}bv.defaultChars=";/?:@&=+$,#";bv.componentChars="";var gbe=bv,vbe=function(t){var n="";return n+=t.protocol||"",n+=t.slashes?"//":"",n+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?n+="["+t.hostname+"]":n+=t.hostname||"",n+=t.port?":"+t.port:"",n+=t.pathname||"",n+=t.search||"",n+=t.hash||"",n};function Bg(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var ybe=/^([a-z0-9.+-]+:)/i,_be=/:[0-9]*$/,bbe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,xbe=["<",">",'"',"`"," ","\r",`
`,"	"],wbe=["{","}","|","\\","^","`"].concat(xbe),Sbe=["'"].concat(wbe),Qk=["%","/","?",";","#"].concat(Sbe),eC=["/","?","#"],kbe=255,tC=/^[+a-z0-9A-Z_-]{0,63}$/,Cbe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,nC={javascript:!0,"javascript:":!0},rC={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Tbe(e,t){if(e&&e instanceof Bg)return e;var n=new Bg;return n.parse(e,t),n}Bg.prototype.parse=function(e,t){var n,r,s,u,h,o=e;if(o=o.trim(),!t&&e.split("#").length===1){var g=bbe.exec(o);if(g)return this.pathname=g[1],g[2]&&(this.search=g[2]),this}var y=ybe.exec(o);if(y&&(y=y[0],s=y.toLowerCase(),this.protocol=y,o=o.substr(y.length)),(t||y||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(h=o.substr(0,2)==="//",h&&!(y&&nC[y])&&(o=o.substr(2),this.slashes=!0)),!nC[y]&&(h||y&&!rC[y])){var w=-1;for(n=0;n<eC.length;n++)u=o.indexOf(eC[n]),u!==-1&&(w===-1||u<w)&&(w=u);var k,C;for(w===-1?C=o.lastIndexOf("@"):C=o.lastIndexOf("@",w),C!==-1&&(k=o.slice(0,C),o=o.slice(C+1),this.auth=k),w=-1,n=0;n<Qk.length;n++)u=o.indexOf(Qk[n]),u!==-1&&(w===-1||u<w)&&(w=u);w===-1&&(w=o.length),o[w-1]===":"&&w--;var I=o.slice(0,w);o=o.slice(w),this.parseHost(I),this.hostname=this.hostname||"";var O=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!O){var L=this.hostname.split(/\./);for(n=0,r=L.length;n<r;n++){var R=L[n];if(R&&!R.match(tC)){for(var B="",j=0,Z=R.length;j<Z;j++)R.charCodeAt(j)>127?B+="x":B+=R[j];if(!B.match(tC)){var re=L.slice(0,n),ie=L.slice(n+1),Q=R.match(Cbe);Q&&(re.push(Q[1]),ie.unshift(Q[2])),ie.length&&(o=ie.join(".")+o),this.hostname=re.join(".");break}}}}this.hostname.length>kbe&&(this.hostname=""),O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var se=o.indexOf("#");se!==-1&&(this.hash=o.substr(se),o=o.slice(0,se));var H=o.indexOf("?");return H!==-1&&(this.search=o.substr(H),o=o.slice(0,H)),o&&(this.pathname=o),rC[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Bg.prototype.parseHost=function(e){var t=_be.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Abe=Tbe;Yd.encode=mbe;Yd.decode=gbe;Yd.format=vbe;Yd.parse=Abe;var qc={},C_,iC;function lI(){return iC||(iC=1,C_=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),C_}var T_,aC;function cI(){return aC||(aC=1,T_=/[\0-\x1F\x7F-\x9F]/),T_}var A_,sC;function Ebe(){return sC||(sC=1,A_=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),A_}var E_,oC;function uI(){return oC||(oC=1,E_=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),E_}var lC;function Ibe(){return lC||(lC=1,qc.Any=lI(),qc.Cc=cI(),qc.Cf=Ebe(),qc.P=Tx,qc.Z=uI()),qc}(function(e){function t(me){return Object.prototype.toString.call(me)}function n(me){return t(me)==="[object String]"}var r=Object.prototype.hasOwnProperty;function s(me,Ie){return r.call(me,Ie)}function u(me){var Ie=Array.prototype.slice.call(arguments,1);return Ie.forEach(function(Ae){if(Ae){if(typeof Ae!="object")throw new TypeError(Ae+"must be object");Object.keys(Ae).forEach(function(Ue){me[Ue]=Ae[Ue]})}}),me}function h(me,Ie,Ae){return[].concat(me.slice(0,Ie),Ae,me.slice(Ie+1))}function o(me){return!(me>=55296&&me<=57343||me>=64976&&me<=65007||(me&65535)===65535||(me&65535)===65534||me>=0&&me<=8||me===11||me>=14&&me<=31||me>=127&&me<=159||me>1114111)}function g(me){if(me>65535){me-=65536;var Ie=55296+(me>>10),Ae=56320+(me&1023);return String.fromCharCode(Ie,Ae)}return String.fromCharCode(me)}var y=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,w=/&([a-z#][a-z0-9]{1,31});/gi,k=new RegExp(y.source+"|"+w.source,"gi"),C=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,I=oI;function O(me,Ie){var Ae;return s(I,Ie)?I[Ie]:Ie.charCodeAt(0)===35&&C.test(Ie)&&(Ae=Ie[1].toLowerCase()==="x"?parseInt(Ie.slice(2),16):parseInt(Ie.slice(1),10),o(Ae))?g(Ae):me}function L(me){return me.indexOf("\\")<0?me:me.replace(y,"$1")}function R(me){return me.indexOf("\\")<0&&me.indexOf("&")<0?me:me.replace(k,function(Ie,Ae,Ue){return Ae||O(Ie,Ue)})}var B=/[&<>"]/,j=/[&<>"]/g,Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function re(me){return Z[me]}function ie(me){return B.test(me)?me.replace(j,re):me}var Q=/[.?*+^$[\]\\(){}|-]/g;function se(me){return me.replace(Q,"\\$&")}function H(me){switch(me){case 9:case 32:return!0}return!1}function $(me){if(me>=8192&&me<=8202)return!0;switch(me){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var K=Tx;function ae(me){return K.test(me)}function te(me){switch(me){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function be(me){return me=me.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(me=me.replace(/ẞ/g,"ß")),me.toLowerCase().toUpperCase()}e.lib={},e.lib.mdurl=Yd,e.lib.ucmicro=Ibe(),e.assign=u,e.isString=n,e.has=s,e.unescapeMd=L,e.unescapeAll=R,e.isValidEntityCode=o,e.fromCodePoint=g,e.escapeHtml=ie,e.arrayReplaceAt=h,e.isSpace=H,e.isWhiteSpace=$,e.isMdAsciiPunct=te,e.isPunctChar=ae,e.escapeRE=se,e.normalizeReference=be})(cr);var xv={},Pbe=function(t,n,r){var s,u,h,o,g=-1,y=t.posMax,w=t.pos;for(t.pos=n+1,s=1;t.pos<y;){if(h=t.src.charCodeAt(t.pos),h===93&&(s--,s===0)){u=!0;break}if(o=t.pos,t.md.inline.skipToken(t),h===91){if(o===t.pos-1)s++;else if(r)return t.pos=w,-1}}return u&&(g=t.pos),t.pos=w,g},cC=cr.unescapeAll,Dbe=function(t,n,r){var s,u,h=n,o={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(h)===60){for(h++;h<r;){if(s=t.charCodeAt(h),s===10||s===60)return o;if(s===62)return o.pos=h+1,o.str=cC(t.slice(n+1,h)),o.ok=!0,o;if(s===92&&h+1<r){h+=2;continue}h++}return o}for(u=0;h<r&&(s=t.charCodeAt(h),!(s===32||s<32||s===127));){if(s===92&&h+1<r){if(t.charCodeAt(h+1)===32)break;h+=2;continue}if(s===40&&(u++,u>32))return o;if(s===41){if(u===0)break;u--}h++}return n===h||u!==0||(o.str=cC(t.slice(n,h)),o.pos=h,o.ok=!0),o},Mbe=cr.unescapeAll,Lbe=function(t,n,r){var s,u,h=0,o=n,g={ok:!1,pos:0,lines:0,str:""};if(o>=r||(u=t.charCodeAt(o),u!==34&&u!==39&&u!==40))return g;for(o++,u===40&&(u=41);o<r;){if(s=t.charCodeAt(o),s===u)return g.pos=o+1,g.lines=h,g.str=Mbe(t.slice(n+1,o)),g.ok=!0,g;if(s===40&&u===41)return g;s===10?h++:s===92&&o+1<r&&(o++,t.charCodeAt(o)===10&&h++),o++}return g};xv.parseLinkLabel=Pbe;xv.parseLinkDestination=Dbe;xv.parseLinkTitle=Lbe;var Rbe=cr.assign,Obe=cr.unescapeAll,uu=cr.escapeHtml,Ro={};Ro.code_inline=function(e,t,n,r,s){var u=e[t];return"<code"+s.renderAttrs(u)+">"+uu(u.content)+"</code>"};Ro.code_block=function(e,t,n,r,s){var u=e[t];return"<pre"+s.renderAttrs(u)+"><code>"+uu(e[t].content)+`</code></pre>
`};Ro.fence=function(e,t,n,r,s){var u=e[t],h=u.info?Obe(u.info).trim():"",o="",g="",y,w,k,C,I;return h&&(k=h.split(/(\s+)/g),o=k[0],g=k.slice(2).join("")),n.highlight?y=n.highlight(u.content,o,g)||uu(u.content):y=uu(u.content),y.indexOf("<pre")===0?y+`
`:h?(w=u.attrIndex("class"),C=u.attrs?u.attrs.slice():[],w<0?C.push(["class",n.langPrefix+o]):(C[w]=C[w].slice(),C[w][1]+=" "+n.langPrefix+o),I={attrs:C},"<pre><code"+s.renderAttrs(I)+">"+y+`</code></pre>
`):"<pre><code"+s.renderAttrs(u)+">"+y+`</code></pre>
`};Ro.image=function(e,t,n,r,s){var u=e[t];return u.attrs[u.attrIndex("alt")][1]=s.renderInlineAsText(u.children,n,r),s.renderToken(e,t,n)};Ro.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};Ro.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};Ro.text=function(e,t){return uu(e[t].content)};Ro.html_block=function(e,t){return e[t].content};Ro.html_inline=function(e,t){return e[t].content};function Zd(){this.rules=Rbe({},Ro)}Zd.prototype.renderAttrs=function(t){var n,r,s;if(!t.attrs)return"";for(s="",n=0,r=t.attrs.length;n<r;n++)s+=" "+uu(t.attrs[n][0])+'="'+uu(t.attrs[n][1])+'"';return s};Zd.prototype.renderToken=function(t,n,r){var s,u="",h=!1,o=t[n];return o.hidden?"":(o.block&&o.nesting!==-1&&n&&t[n-1].hidden&&(u+=`
`),u+=(o.nesting===-1?"</":"<")+o.tag,u+=this.renderAttrs(o),o.nesting===0&&r.xhtmlOut&&(u+=" /"),o.block&&(h=!0,o.nesting===1&&n+1<t.length&&(s=t[n+1],(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===o.tag)&&(h=!1))),u+=h?`>
`:">",u)};Zd.prototype.renderInline=function(e,t,n){for(var r,s="",u=this.rules,h=0,o=e.length;h<o;h++)r=e[h].type,typeof u[r]<"u"?s+=u[r](e,h,t,n,this):s+=this.renderToken(e,h,t);return s};Zd.prototype.renderInlineAsText=function(e,t,n){for(var r="",s=0,u=e.length;s<u;s++)e[s].type==="text"?r+=e[s].content:e[s].type==="image"?r+=this.renderInlineAsText(e[s].children,t,n):e[s].type==="softbreak"&&(r+=`
`);return r};Zd.prototype.render=function(e,t,n){var r,s,u,h="",o=this.rules;for(r=0,s=e.length;r<s;r++)u=e[r].type,u==="inline"?h+=this.renderInline(e[r].children,t,n):typeof o[u]<"u"?h+=o[u](e,r,t,n,this):h+=this.renderToken(e,r,t,n);return h};var Fbe=Zd;function ao(){this.__rules__=[],this.__cache__=null}ao.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};ao.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};ao.prototype.at=function(e,t,n){var r=this.__find__(e),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=s.alt||[],this.__cache__=null};ao.prototype.before=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};ao.prototype.after=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};ao.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};ao.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};ao.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};ao.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};ao.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var Ax=ao,zbe=/\r\n?|\n/g,Bbe=/\0/g,Vbe=function(t){var n;n=t.src.replace(zbe,`
`),n=n.replace(Bbe,"�"),t.src=n},Nbe=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},$be=function(t){var n=t.tokens,r,s,u;for(s=0,u=n.length;s<u;s++)r=n[s],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)},Ube=cr.arrayReplaceAt;function qbe(e){return/^<a[>\s]/i.test(e)}function jbe(e){return/^<\/a\s*>/i.test(e)}var Hbe=function(t){var n,r,s,u,h,o,g,y,w,k,C,I,O,L,R,B,j=t.tokens,Z;if(t.md.options.linkify){for(r=0,s=j.length;r<s;r++)if(!(j[r].type!=="inline"||!t.md.linkify.pretest(j[r].content)))for(u=j[r].children,O=0,n=u.length-1;n>=0;n--){if(o=u[n],o.type==="link_close"){for(n--;u[n].level!==o.level&&u[n].type!=="link_open";)n--;continue}if(o.type==="html_inline"&&(qbe(o.content)&&O>0&&O--,jbe(o.content)&&O++),!(O>0)&&o.type==="text"&&t.md.linkify.test(o.content)){for(w=o.content,Z=t.md.linkify.match(w),g=[],I=o.level,C=0,Z.length>0&&Z[0].index===0&&n>0&&u[n-1].type==="text_special"&&(Z=Z.slice(1)),y=0;y<Z.length;y++)L=Z[y].url,R=t.md.normalizeLink(L),t.md.validateLink(R)&&(B=Z[y].text,Z[y].schema?Z[y].schema==="mailto:"&&!/^mailto:/i.test(B)?B=t.md.normalizeLinkText("mailto:"+B).replace(/^mailto:/,""):B=t.md.normalizeLinkText(B):B=t.md.normalizeLinkText("http://"+B).replace(/^http:\/\//,""),k=Z[y].index,k>C&&(h=new t.Token("text","",0),h.content=w.slice(C,k),h.level=I,g.push(h)),h=new t.Token("link_open","a",1),h.attrs=[["href",R]],h.level=I++,h.markup="linkify",h.info="auto",g.push(h),h=new t.Token("text","",0),h.content=B,h.level=I,g.push(h),h=new t.Token("link_close","a",-1),h.level=--I,h.markup="linkify",h.info="auto",g.push(h),C=Z[y].lastIndex);C<w.length&&(h=new t.Token("text","",0),h.content=w.slice(C),h.level=I,g.push(h)),j[r].children=u=Ube(u,n,g)}}}},dI=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Gbe=/\((c|tm|r)\)/i,Wbe=/\((c|tm|r)\)/ig,Ybe={c:"©",r:"®",tm:"™"};function Zbe(e,t){return Ybe[t.toLowerCase()]}function Kbe(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(Wbe,Zbe)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function Xbe(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&dI.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var Jbe=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(Gbe.test(t.tokens[n].content)&&Kbe(t.tokens[n].children),dI.test(t.tokens[n].content)&&Xbe(t.tokens[n].children))},uC=cr.isWhiteSpace,dC=cr.isPunctChar,hC=cr.isMdAsciiPunct,Qbe=/['"]/,fC=/['"]/g,mC="’";function Kp(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function e0e(e,t){var n,r,s,u,h,o,g,y,w,k,C,I,O,L,R,B,j,Z,re,ie,Q;for(re=[],n=0;n<e.length;n++){for(r=e[n],g=e[n].level,j=re.length-1;j>=0&&!(re[j].level<=g);j--);if(re.length=j+1,r.type==="text"){s=r.content,h=0,o=s.length;e:for(;h<o&&(fC.lastIndex=h,u=fC.exec(s),!!u);){if(R=B=!0,h=u.index+1,Z=u[0]==="'",w=32,u.index-1>=0)w=s.charCodeAt(u.index-1);else for(j=n-1;j>=0&&!(e[j].type==="softbreak"||e[j].type==="hardbreak");j--)if(e[j].content){w=e[j].content.charCodeAt(e[j].content.length-1);break}if(k=32,h<o)k=s.charCodeAt(h);else for(j=n+1;j<e.length&&!(e[j].type==="softbreak"||e[j].type==="hardbreak");j++)if(e[j].content){k=e[j].content.charCodeAt(0);break}if(C=hC(w)||dC(String.fromCharCode(w)),I=hC(k)||dC(String.fromCharCode(k)),O=uC(w),L=uC(k),L?R=!1:I&&(O||C||(R=!1)),O?B=!1:C&&(L||I||(B=!1)),k===34&&u[0]==='"'&&w>=48&&w<=57&&(B=R=!1),R&&B&&(R=C,B=I),!R&&!B){Z&&(r.content=Kp(r.content,u.index,mC));continue}if(B){for(j=re.length-1;j>=0&&(y=re[j],!(re[j].level<g));j--)if(y.single===Z&&re[j].level===g){y=re[j],Z?(ie=t.md.options.quotes[2],Q=t.md.options.quotes[3]):(ie=t.md.options.quotes[0],Q=t.md.options.quotes[1]),r.content=Kp(r.content,u.index,Q),e[y.token].content=Kp(e[y.token].content,y.pos,ie),h+=Q.length-1,y.token===n&&(h+=ie.length-1),s=r.content,o=s.length,re.length=j;continue e}}R?re.push({token:n,pos:u.index,single:Z,level:g}):B&&Z&&(r.content=Kp(r.content,u.index,mC))}}}}var t0e=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!Qbe.test(t.tokens[n].content)||e0e(t.tokens[n].children,t)},n0e=function(t){var n,r,s,u,h,o,g=t.tokens;for(n=0,r=g.length;n<r;n++)if(g[n].type==="inline"){for(s=g[n].children,h=s.length,u=0;u<h;u++)s[u].type==="text_special"&&(s[u].type="text");for(u=o=0;u<h;u++)s[u].type==="text"&&u+1<h&&s[u+1].type==="text"?s[u+1].content=s[u].content+s[u+1].content:(u!==o&&(s[o]=s[u]),o++);u!==o&&(s.length=o)}};function Kd(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}Kd.prototype.attrIndex=function(t){var n,r,s;if(!this.attrs)return-1;for(n=this.attrs,r=0,s=n.length;r<s;r++)if(n[r][0]===t)return r;return-1};Kd.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};Kd.prototype.attrSet=function(t,n){var r=this.attrIndex(t),s=[t,n];r<0?this.attrPush(s):this.attrs[r]=s};Kd.prototype.attrGet=function(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};Kd.prototype.attrJoin=function(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var Ex=Kd,r0e=Ex;function hI(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}hI.prototype.Token=r0e;var i0e=hI,a0e=Ax,I_=[["normalize",Vbe],["block",Nbe],["inline",$be],["linkify",Hbe],["replacements",Jbe],["smartquotes",t0e],["text_join",n0e]];function Ix(){this.ruler=new a0e;for(var e=0;e<I_.length;e++)this.ruler.push(I_[e][0],I_[e][1])}Ix.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};Ix.prototype.State=i0e;var s0e=Ix,P_=cr.isSpace;function D_(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function pC(e){var t=[],n=0,r=e.length,s,u=!1,h=0,o="";for(s=e.charCodeAt(n);n<r;)s===124&&(u?(o+=e.substring(h,n-1),h=n):(t.push(o+e.substring(h,n)),o="",h=n+1)),u=s===92,n++,s=e.charCodeAt(n);return t.push(o+e.substring(h)),t}var o0e=function(t,n,r,s){var u,h,o,g,y,w,k,C,I,O,L,R,B,j,Z,re,ie,Q;if(n+2>r||(w=n+1,t.sCount[w]<t.blkIndent)||t.sCount[w]-t.blkIndent>=4||(o=t.bMarks[w]+t.tShift[w],o>=t.eMarks[w])||(ie=t.src.charCodeAt(o++),ie!==124&&ie!==45&&ie!==58)||o>=t.eMarks[w]||(Q=t.src.charCodeAt(o++),Q!==124&&Q!==45&&Q!==58&&!P_(Q))||ie===45&&P_(Q))return!1;for(;o<t.eMarks[w];){if(u=t.src.charCodeAt(o),u!==124&&u!==45&&u!==58&&!P_(u))return!1;o++}for(h=D_(t,n+1),k=h.split("|"),O=[],g=0;g<k.length;g++){if(L=k[g].trim(),!L){if(g===0||g===k.length-1)continue;return!1}if(!/^:?-+:?$/.test(L))return!1;L.charCodeAt(L.length-1)===58?O.push(L.charCodeAt(0)===58?"center":"right"):L.charCodeAt(0)===58?O.push("left"):O.push("")}if(h=D_(t,n).trim(),h.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(k=pC(h),k.length&&k[0]===""&&k.shift(),k.length&&k[k.length-1]===""&&k.pop(),C=k.length,C===0||C!==O.length))return!1;if(s)return!0;for(j=t.parentType,t.parentType="table",re=t.md.block.ruler.getRules("blockquote"),I=t.push("table_open","table",1),I.map=R=[n,0],I=t.push("thead_open","thead",1),I.map=[n,n+1],I=t.push("tr_open","tr",1),I.map=[n,n+1],g=0;g<k.length;g++)I=t.push("th_open","th",1),O[g]&&(I.attrs=[["style","text-align:"+O[g]]]),I=t.push("inline","",0),I.content=k[g].trim(),I.children=[],I=t.push("th_close","th",-1);for(I=t.push("tr_close","tr",-1),I=t.push("thead_close","thead",-1),w=n+2;w<r&&!(t.sCount[w]<t.blkIndent);w++){for(Z=!1,g=0,y=re.length;g<y;g++)if(re[g](t,w,r,!0)){Z=!0;break}if(Z||(h=D_(t,w).trim(),!h)||t.sCount[w]-t.blkIndent>=4)break;for(k=pC(h),k.length&&k[0]===""&&k.shift(),k.length&&k[k.length-1]===""&&k.pop(),w===n+2&&(I=t.push("tbody_open","tbody",1),I.map=B=[n+2,0]),I=t.push("tr_open","tr",1),I.map=[w,w+1],g=0;g<C;g++)I=t.push("td_open","td",1),O[g]&&(I.attrs=[["style","text-align:"+O[g]]]),I=t.push("inline","",0),I.content=k[g]?k[g].trim():"",I.children=[],I=t.push("td_close","td",-1);I=t.push("tr_close","tr",-1)}return B&&(I=t.push("tbody_close","tbody",-1),B[1]=w),I=t.push("table_close","table",-1),R[1]=w,t.parentType=j,t.line=w,!0},l0e=function(t,n,r){var s,u,h;if(t.sCount[n]-t.blkIndent<4)return!1;for(u=s=n+1;s<r;){if(t.isEmpty(s)){s++;continue}if(t.sCount[s]-t.blkIndent>=4){s++,u=s;continue}break}return t.line=u,h=t.push("code_block","code",0),h.content=t.getLines(n,u,4+t.blkIndent,!1)+`
`,h.map=[n,t.line],!0},c0e=function(t,n,r,s){var u,h,o,g,y,w,k,C=!1,I=t.bMarks[n]+t.tShift[n],O=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||I+3>O||(u=t.src.charCodeAt(I),u!==126&&u!==96)||(y=I,I=t.skipChars(I,u),h=I-y,h<3)||(k=t.src.slice(y,I),o=t.src.slice(I,O),u===96&&o.indexOf(String.fromCharCode(u))>=0))return!1;if(s)return!0;for(g=n;g++,!(g>=r||(I=y=t.bMarks[g]+t.tShift[g],O=t.eMarks[g],I<O&&t.sCount[g]<t.blkIndent));)if(t.src.charCodeAt(I)===u&&!(t.sCount[g]-t.blkIndent>=4)&&(I=t.skipChars(I,u),!(I-y<h)&&(I=t.skipSpaces(I),!(I<O)))){C=!0;break}return h=t.sCount[n],t.line=g+(C?1:0),w=t.push("fence","code",0),w.info=o,w.content=t.getLines(n+1,g,h,!0),w.markup=k,w.map=[n,t.line],!0},u0e=cr.isSpace,d0e=function(t,n,r,s){var u,h,o,g,y,w,k,C,I,O,L,R,B,j,Z,re,ie,Q,se,H,$=t.lineMax,K=t.bMarks[n]+t.tShift[n],ae=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(K)!==62)return!1;if(s)return!0;for(O=[],L=[],j=[],Z=[],Q=t.md.block.ruler.getRules("blockquote"),B=t.parentType,t.parentType="blockquote",C=n;C<r&&(H=t.sCount[C]<t.blkIndent,K=t.bMarks[C]+t.tShift[C],ae=t.eMarks[C],!(K>=ae));C++){if(t.src.charCodeAt(K++)===62&&!H){for(g=t.sCount[C]+1,t.src.charCodeAt(K)===32?(K++,g++,u=!1,re=!0):t.src.charCodeAt(K)===9?(re=!0,(t.bsCount[C]+g)%4===3?(K++,g++,u=!1):u=!0):re=!1,I=g,O.push(t.bMarks[C]),t.bMarks[C]=K;K<ae&&(h=t.src.charCodeAt(K),u0e(h));){h===9?I+=4-(I+t.bsCount[C]+(u?1:0))%4:I++;K++}w=K>=ae,L.push(t.bsCount[C]),t.bsCount[C]=t.sCount[C]+1+(re?1:0),j.push(t.sCount[C]),t.sCount[C]=I-g,Z.push(t.tShift[C]),t.tShift[C]=K-t.bMarks[C];continue}if(w)break;for(ie=!1,o=0,y=Q.length;o<y;o++)if(Q[o](t,C,r,!0)){ie=!0;break}if(ie){t.lineMax=C,t.blkIndent!==0&&(O.push(t.bMarks[C]),L.push(t.bsCount[C]),Z.push(t.tShift[C]),j.push(t.sCount[C]),t.sCount[C]-=t.blkIndent);break}O.push(t.bMarks[C]),L.push(t.bsCount[C]),Z.push(t.tShift[C]),j.push(t.sCount[C]),t.sCount[C]=-1}for(R=t.blkIndent,t.blkIndent=0,se=t.push("blockquote_open","blockquote",1),se.markup=">",se.map=k=[n,0],t.md.block.tokenize(t,n,C),se=t.push("blockquote_close","blockquote",-1),se.markup=">",t.lineMax=$,t.parentType=B,k[1]=t.line,o=0;o<Z.length;o++)t.bMarks[o+n]=O[o],t.tShift[o+n]=Z[o],t.sCount[o+n]=j[o],t.bsCount[o+n]=L[o];return t.blkIndent=R,!0},h0e=cr.isSpace,f0e=function(t,n,r,s){var u,h,o,g,y=t.bMarks[n]+t.tShift[n],w=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y++),u!==42&&u!==45&&u!==95))return!1;for(h=1;y<w;){if(o=t.src.charCodeAt(y++),o!==u&&!h0e(o))return!1;o===u&&h++}return h<3?!1:(s||(t.line=n+1,g=t.push("hr","hr",0),g.map=[n,t.line],g.markup=Array(h+1).join(String.fromCharCode(u))),!0)},fI=cr.isSpace;function gC(e,t){var n,r,s,u;return r=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<s&&(u=e.src.charCodeAt(r),!fI(u))?-1:r}function vC(e,t){var n,r=e.bMarks[t]+e.tShift[t],s=r,u=e.eMarks[t];if(s+1>=u||(n=e.src.charCodeAt(s++),n<48||n>57))return-1;for(;;){if(s>=u)return-1;if(n=e.src.charCodeAt(s++),n>=48&&n<=57){if(s-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return s<u&&(n=e.src.charCodeAt(s),!fI(n))?-1:s}function m0e(e,t){var n,r,s=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===s&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var p0e=function(t,n,r,s){var u,h,o,g,y,w,k,C,I,O,L,R,B,j,Z,re,ie,Q,se,H,$,K,ae,te,be,me,Ie,Ae=n,Ue=!1,Fe=!0;if(t.sCount[Ae]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[Ae]-t.listIndent>=4&&t.sCount[Ae]<t.blkIndent)return!1;if(s&&t.parentType==="paragraph"&&t.sCount[Ae]>=t.blkIndent&&(Ue=!0),(K=vC(t,Ae))>=0){if(k=!0,te=t.bMarks[Ae]+t.tShift[Ae],B=Number(t.src.slice(te,K-1)),Ue&&B!==1)return!1}else if((K=gC(t,Ae))>=0)k=!1;else return!1;if(Ue&&t.skipSpaces(K)>=t.eMarks[Ae])return!1;if(s)return!0;for(R=t.src.charCodeAt(K-1),L=t.tokens.length,k?(Ie=t.push("ordered_list_open","ol",1),B!==1&&(Ie.attrs=[["start",B]])):Ie=t.push("bullet_list_open","ul",1),Ie.map=O=[Ae,0],Ie.markup=String.fromCharCode(R),ae=!1,me=t.md.block.ruler.getRules("list"),ie=t.parentType,t.parentType="list";Ae<r;){for($=K,j=t.eMarks[Ae],w=Z=t.sCount[Ae]+K-(t.bMarks[Ae]+t.tShift[Ae]);$<j;){if(u=t.src.charCodeAt($),u===9)Z+=4-(Z+t.bsCount[Ae])%4;else if(u===32)Z++;else break;$++}if(h=$,h>=j?y=1:y=Z-w,y>4&&(y=1),g=w+y,Ie=t.push("list_item_open","li",1),Ie.markup=String.fromCharCode(R),Ie.map=C=[Ae,0],k&&(Ie.info=t.src.slice(te,K-1)),H=t.tight,se=t.tShift[Ae],Q=t.sCount[Ae],re=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=g,t.tight=!0,t.tShift[Ae]=h-t.bMarks[Ae],t.sCount[Ae]=Z,h>=j&&t.isEmpty(Ae+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,Ae,r,!0),(!t.tight||ae)&&(Fe=!1),ae=t.line-Ae>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=re,t.tShift[Ae]=se,t.sCount[Ae]=Q,t.tight=H,Ie=t.push("list_item_close","li",-1),Ie.markup=String.fromCharCode(R),Ae=t.line,C[1]=Ae,Ae>=r||t.sCount[Ae]<t.blkIndent||t.sCount[Ae]-t.blkIndent>=4)break;for(be=!1,o=0,I=me.length;o<I;o++)if(me[o](t,Ae,r,!0)){be=!0;break}if(be)break;if(k){if(K=vC(t,Ae),K<0)break;te=t.bMarks[Ae]+t.tShift[Ae]}else if(K=gC(t,Ae),K<0)break;if(R!==t.src.charCodeAt(K-1))break}return k?Ie=t.push("ordered_list_close","ol",-1):Ie=t.push("bullet_list_close","ul",-1),Ie.markup=String.fromCharCode(R),O[1]=Ae,t.line=Ae,t.parentType=ie,Fe&&m0e(t,L),!0},g0e=cr.normalizeReference,Xp=cr.isSpace,v0e=function(t,n,r,s){var u,h,o,g,y,w,k,C,I,O,L,R,B,j,Z,re,ie=0,Q=t.bMarks[n]+t.tShift[n],se=t.eMarks[n],H=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(Q)!==91)return!1;for(;++Q<se;)if(t.src.charCodeAt(Q)===93&&t.src.charCodeAt(Q-1)!==92){if(Q+1===se||t.src.charCodeAt(Q+1)!==58)return!1;break}for(g=t.lineMax,Z=t.md.block.ruler.getRules("reference"),O=t.parentType,t.parentType="reference";H<g&&!t.isEmpty(H);H++)if(!(t.sCount[H]-t.blkIndent>3)&&!(t.sCount[H]<0)){for(j=!1,w=0,k=Z.length;w<k;w++)if(Z[w](t,H,g,!0)){j=!0;break}if(j)break}for(B=t.getLines(n,H,t.blkIndent,!1).trim(),se=B.length,Q=1;Q<se;Q++){if(u=B.charCodeAt(Q),u===91)return!1;if(u===93){I=Q;break}else u===10?ie++:u===92&&(Q++,Q<se&&B.charCodeAt(Q)===10&&ie++)}if(I<0||B.charCodeAt(I+1)!==58)return!1;for(Q=I+2;Q<se;Q++)if(u=B.charCodeAt(Q),u===10)ie++;else if(!Xp(u))break;if(L=t.md.helpers.parseLinkDestination(B,Q,se),!L.ok||(y=t.md.normalizeLink(L.str),!t.md.validateLink(y)))return!1;for(Q=L.pos,ie+=L.lines,h=Q,o=ie,R=Q;Q<se;Q++)if(u=B.charCodeAt(Q),u===10)ie++;else if(!Xp(u))break;for(L=t.md.helpers.parseLinkTitle(B,Q,se),Q<se&&R!==Q&&L.ok?(re=L.str,Q=L.pos,ie+=L.lines):(re="",Q=h,ie=o);Q<se&&(u=B.charCodeAt(Q),!!Xp(u));)Q++;if(Q<se&&B.charCodeAt(Q)!==10&&re)for(re="",Q=h,ie=o;Q<se&&(u=B.charCodeAt(Q),!!Xp(u));)Q++;return Q<se&&B.charCodeAt(Q)!==10||(C=g0e(B.slice(1,I)),!C)?!1:(s||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[C]>"u"&&(t.env.references[C]={title:re,href:y}),t.parentType=O,t.line=n+ie+1),!0)},y0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],wv={},_0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",b0e="[^\"'=<>`\\x00-\\x20]+",x0e="'[^']*'",w0e='"[^"]*"',S0e="(?:"+b0e+"|"+x0e+"|"+w0e+")",k0e="(?:\\s+"+_0e+"(?:\\s*=\\s*"+S0e+")?)",mI="<[A-Za-z][A-Za-z0-9\\-]*"+k0e+"*\\s*\\/?>",pI="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",C0e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",T0e="<[?][\\s\\S]*?[?]>",A0e="<![A-Z]+\\s+[^>]*>",E0e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",I0e=new RegExp("^(?:"+mI+"|"+pI+"|"+C0e+"|"+T0e+"|"+A0e+"|"+E0e+")"),P0e=new RegExp("^(?:"+mI+"|"+pI+")");wv.HTML_TAG_RE=I0e;wv.HTML_OPEN_CLOSE_TAG_RE=P0e;var D0e=y0e,M0e=wv.HTML_OPEN_CLOSE_TAG_RE,dd=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+D0e.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(M0e.source+"\\s*$"),/^$/,!1]],L0e=function(t,n,r,s){var u,h,o,g,y=t.bMarks[n]+t.tShift[n],w=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(y)!==60)return!1;for(g=t.src.slice(y,w),u=0;u<dd.length&&!dd[u][0].test(g);u++);if(u===dd.length)return!1;if(s)return dd[u][2];if(h=n+1,!dd[u][1].test(g)){for(;h<r&&!(t.sCount[h]<t.blkIndent);h++)if(y=t.bMarks[h]+t.tShift[h],w=t.eMarks[h],g=t.src.slice(y,w),dd[u][1].test(g)){g.length!==0&&h++;break}}return t.line=h,o=t.push("html_block","",0),o.map=[n,h],o.content=t.getLines(n,h,t.blkIndent,!0),!0},yC=cr.isSpace,R0e=function(t,n,r,s){var u,h,o,g,y=t.bMarks[n]+t.tShift[n],w=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y),u!==35||y>=w))return!1;for(h=1,u=t.src.charCodeAt(++y);u===35&&y<w&&h<=6;)h++,u=t.src.charCodeAt(++y);return h>6||y<w&&!yC(u)?!1:(s||(w=t.skipSpacesBack(w,y),o=t.skipCharsBack(w,35,y),o>y&&yC(t.src.charCodeAt(o-1))&&(w=o),t.line=n+1,g=t.push("heading_open","h"+String(h),1),g.markup="########".slice(0,h),g.map=[n,t.line],g=t.push("inline","",0),g.content=t.src.slice(y,w).trim(),g.map=[n,t.line],g.children=[],g=t.push("heading_close","h"+String(h),-1),g.markup="########".slice(0,h)),!0)},O0e=function(t,n,r){var s,u,h,o,g,y,w,k,C,I=n+1,O,L=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(O=t.parentType,t.parentType="paragraph";I<r&&!t.isEmpty(I);I++)if(!(t.sCount[I]-t.blkIndent>3)){if(t.sCount[I]>=t.blkIndent&&(y=t.bMarks[I]+t.tShift[I],w=t.eMarks[I],y<w&&(C=t.src.charCodeAt(y),(C===45||C===61)&&(y=t.skipChars(y,C),y=t.skipSpaces(y),y>=w)))){k=C===61?1:2;break}if(!(t.sCount[I]<0)){for(u=!1,h=0,o=L.length;h<o;h++)if(L[h](t,I,r,!0)){u=!0;break}if(u)break}}return k?(s=t.getLines(n,I,t.blkIndent,!1).trim(),t.line=I+1,g=t.push("heading_open","h"+String(k),1),g.markup=String.fromCharCode(C),g.map=[n,t.line],g=t.push("inline","",0),g.content=s,g.map=[n,t.line-1],g.children=[],g=t.push("heading_close","h"+String(k),-1),g.markup=String.fromCharCode(C),t.parentType=O,!0):!1},F0e=function(t,n,r){var s,u,h,o,g,y,w=n+1,k=t.md.block.ruler.getRules("paragraph");for(y=t.parentType,t.parentType="paragraph";w<r&&!t.isEmpty(w);w++)if(!(t.sCount[w]-t.blkIndent>3)&&!(t.sCount[w]<0)){for(u=!1,h=0,o=k.length;h<o;h++)if(k[h](t,w,r,!0)){u=!0;break}if(u)break}return s=t.getLines(n,w,t.blkIndent,!1).trim(),t.line=w,g=t.push("paragraph_open","p",1),g.map=[n,t.line],g=t.push("inline","",0),g.content=s,g.map=[n,t.line],g.children=[],g=t.push("paragraph_close","p",-1),t.parentType=y,!0},gI=Ex,Sv=cr.isSpace;function Oo(e,t,n,r){var s,u,h,o,g,y,w,k;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",u=this.src,k=!1,h=o=y=w=0,g=u.length;o<g;o++){if(s=u.charCodeAt(o),!k)if(Sv(s)){y++,s===9?w+=4-w%4:w++;continue}else k=!0;(s===10||o===g-1)&&(s!==10&&o++,this.bMarks.push(h),this.eMarks.push(o),this.tShift.push(y),this.sCount.push(w),this.bsCount.push(0),k=!1,y=0,w=0,h=o+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Oo.prototype.push=function(e,t,n){var r=new gI(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Oo.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Oo.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Oo.prototype.skipSpaces=function(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!Sv(n));t++);return t};Oo.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Sv(this.src.charCodeAt(--t)))return t+1;return t};Oo.prototype.skipChars=function(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Oo.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Oo.prototype.getLines=function(t,n,r,s){var u,h,o,g,y,w,k,C=t;if(t>=n)return"";for(w=new Array(n-t),u=0;C<n;C++,u++){for(h=0,k=g=this.bMarks[C],C+1<n||s?y=this.eMarks[C]+1:y=this.eMarks[C];g<y&&h<r;){if(o=this.src.charCodeAt(g),Sv(o))o===9?h+=4-(h+this.bsCount[C])%4:h++;else if(g-k<this.tShift[C])h++;else break;g++}h>r?w[u]=new Array(h-r+1).join(" ")+this.src.slice(g,y):w[u]=this.src.slice(g,y)}return w.join("")};Oo.prototype.Token=gI;var z0e=Oo,B0e=Ax,Jp=[["table",o0e,["paragraph","reference"]],["code",l0e],["fence",c0e,["paragraph","reference","blockquote","list"]],["blockquote",d0e,["paragraph","reference","blockquote","list"]],["hr",f0e,["paragraph","reference","blockquote","list"]],["list",p0e,["paragraph","reference","blockquote"]],["reference",v0e],["html_block",L0e,["paragraph","reference","blockquote"]],["heading",R0e,["paragraph","reference","blockquote"]],["lheading",O0e],["paragraph",F0e]];function kv(){this.ruler=new B0e;for(var e=0;e<Jp.length;e++)this.ruler.push(Jp[e][0],Jp[e][1],{alt:(Jp[e][2]||[]).slice()})}kv.prototype.tokenize=function(e,t,n){for(var r,s,u,h=this.ruler.getRules(""),o=h.length,g=t,y=!1,w=e.md.options.maxNesting;g<n&&(e.line=g=e.skipEmptyLines(g),!(g>=n||e.sCount[g]<e.blkIndent));){if(e.level>=w){e.line=n;break}for(u=e.line,s=0;s<o;s++)if(r=h[s](e,g,n,!1),r){if(u>=e.line)throw new Error("block rule didn't increment state.line");break}if(!r)throw new Error("none of the block rules matched");e.tight=!y,e.isEmpty(e.line-1)&&(y=!0),g=e.line,g<n&&e.isEmpty(g)&&(y=!0,g++,e.line=g)}};kv.prototype.parse=function(e,t,n,r){var s;e&&(s=new this.State(e,t,n,r),this.tokenize(s,s.line,s.lineMax))};kv.prototype.State=z0e;var V0e=kv;function N0e(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var $0e=function(t,n){for(var r=t.pos;r<t.posMax&&!N0e(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)},U0e=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,q0e=function(t,n){var r,s,u,h,o,g,y,w;return!t.md.options.linkify||t.linkLevel>0||(r=t.pos,s=t.posMax,r+3>s)||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47||(u=t.pending.match(U0e),!u)||(h=u[1],o=t.md.linkify.matchAtStart(t.src.slice(r-h.length)),!o)||(g=o.url,g.length<=h.length)||(g=g.replace(/\*+$/,""),y=t.md.normalizeLink(g),!t.md.validateLink(y))?!1:(n||(t.pending=t.pending.slice(0,-h.length),w=t.push("link_open","a",1),w.attrs=[["href",y]],w.markup="linkify",w.info="auto",w=t.push("text","",0),w.content=t.md.normalizeLinkText(g),w=t.push("link_close","a",-1),w.markup="linkify",w.info="auto"),t.pos+=g.length-h.length,!0)},j0e=cr.isSpace,H0e=function(t,n){var r,s,u,h=t.pos;if(t.src.charCodeAt(h)!==10)return!1;if(r=t.pending.length-1,s=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(u=r-1;u>=1&&t.pending.charCodeAt(u-1)===32;)u--;t.pending=t.pending.slice(0,u),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(h++;h<s&&j0e(t.src.charCodeAt(h));)h++;return t.pos=h,!0},G0e=cr.isSpace,Px=[];for(var _C=0;_C<256;_C++)Px.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Px[e.charCodeAt(0)]=1});var W0e=function(t,n){var r,s,u,h,o,g=t.pos,y=t.posMax;if(t.src.charCodeAt(g)!==92||(g++,g>=y))return!1;if(r=t.src.charCodeAt(g),r===10){for(n||t.push("hardbreak","br",0),g++;g<y&&(r=t.src.charCodeAt(g),!!G0e(r));)g++;return t.pos=g,!0}return h=t.src[g],r>=55296&&r<=56319&&g+1<y&&(s=t.src.charCodeAt(g+1),s>=56320&&s<=57343&&(h+=t.src[g+1],g++)),u="\\"+h,n||(o=t.push("text_special","",0),r<256&&Px[r]!==0?o.content=h:o.content=u,o.markup=u,o.info="escape"),t.pos=g+1,!0},Y0e=function(t,n){var r,s,u,h,o,g,y,w,k=t.pos,C=t.src.charCodeAt(k);if(C!==96)return!1;for(r=k,k++,s=t.posMax;k<s&&t.src.charCodeAt(k)===96;)k++;if(u=t.src.slice(r,k),y=u.length,t.backticksScanned&&(t.backticks[y]||0)<=r)return n||(t.pending+=u),t.pos+=y,!0;for(g=k;(o=t.src.indexOf("`",g))!==-1;){for(g=o+1;g<s&&t.src.charCodeAt(g)===96;)g++;if(w=g-o,w===y)return n||(h=t.push("code_inline","code",0),h.markup=u,h.content=t.src.slice(k,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=g,!0;t.backticks[w]=o}return t.backticksScanned=!0,n||(t.pending+=u),t.pos+=y,!0},Cv={};Cv.tokenize=function(t,n){var r,s,u,h,o,g=t.pos,y=t.src.charCodeAt(g);if(n||y!==126||(s=t.scanDelims(t.pos,!0),h=s.length,o=String.fromCharCode(y),h<2))return!1;for(h%2&&(u=t.push("text","",0),u.content=o,h--),r=0;r<h;r+=2)u=t.push("text","",0),u.content=o+o,t.delimiters.push({marker:y,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function bC(e,t){var n,r,s,u,h,o=[],g=t.length;for(n=0;n<g;n++)s=t[n],s.marker===126&&s.end!==-1&&(u=t[s.end],h=e.tokens[s.token],h.type="s_open",h.tag="s",h.nesting=1,h.markup="~~",h.content="",h=e.tokens[u.token],h.type="s_close",h.tag="s",h.nesting=-1,h.markup="~~",h.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&o.push(u.token-1));for(;o.length;){for(n=o.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(h=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=h)}}Cv.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(bC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&bC(t,r[n].delimiters)};var Tv={};Tv.tokenize=function(t,n){var r,s,u,h=t.pos,o=t.src.charCodeAt(h);if(n||o!==95&&o!==42)return!1;for(s=t.scanDelims(t.pos,o===42),r=0;r<s.length;r++)u=t.push("text","",0),u.content=String.fromCharCode(o),t.delimiters.push({marker:o,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function xC(e,t){var n,r,s,u,h,o,g=t.length;for(n=g-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(s=t[r.end],o=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===s.token+1,h=String.fromCharCode(r.marker),u=e.tokens[r.token],u.type=o?"strong_open":"em_open",u.tag=o?"strong":"em",u.nesting=1,u.markup=o?h+h:h,u.content="",u=e.tokens[s.token],u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?h+h:h,u.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}Tv.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(xC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&xC(t,r[n].delimiters)};var Z0e=cr.normalizeReference,M_=cr.isSpace,K0e=function(t,n){var r,s,u,h,o,g,y,w,k,C="",I="",O=t.pos,L=t.posMax,R=t.pos,B=!0;if(t.src.charCodeAt(t.pos)!==91||(o=t.pos+1,h=t.md.helpers.parseLinkLabel(t,t.pos,!0),h<0))return!1;if(g=h+1,g<L&&t.src.charCodeAt(g)===40){for(B=!1,g++;g<L&&(s=t.src.charCodeAt(g),!(!M_(s)&&s!==10));g++);if(g>=L)return!1;if(R=g,y=t.md.helpers.parseLinkDestination(t.src,g,t.posMax),y.ok){for(C=t.md.normalizeLink(y.str),t.md.validateLink(C)?g=y.pos:C="",R=g;g<L&&(s=t.src.charCodeAt(g),!(!M_(s)&&s!==10));g++);if(y=t.md.helpers.parseLinkTitle(t.src,g,t.posMax),g<L&&R!==g&&y.ok)for(I=y.str,g=y.pos;g<L&&(s=t.src.charCodeAt(g),!(!M_(s)&&s!==10));g++);}(g>=L||t.src.charCodeAt(g)!==41)&&(B=!0),g++}if(B){if(typeof t.env.references>"u")return!1;if(g<L&&t.src.charCodeAt(g)===91?(R=g+1,g=t.md.helpers.parseLinkLabel(t,g),g>=0?u=t.src.slice(R,g++):g=h+1):g=h+1,u||(u=t.src.slice(o,h)),w=t.env.references[Z0e(u)],!w)return t.pos=O,!1;C=w.href,I=w.title}return n||(t.pos=o,t.posMax=h,k=t.push("link_open","a",1),k.attrs=r=[["href",C]],I&&r.push(["title",I]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,k=t.push("link_close","a",-1)),t.pos=g,t.posMax=L,!0},X0e=cr.normalizeReference,L_=cr.isSpace,J0e=function(t,n){var r,s,u,h,o,g,y,w,k,C,I,O,L,R="",B=t.pos,j=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(g=t.pos+2,o=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),o<0))return!1;if(y=o+1,y<j&&t.src.charCodeAt(y)===40){for(y++;y<j&&(s=t.src.charCodeAt(y),!(!L_(s)&&s!==10));y++);if(y>=j)return!1;for(L=y,k=t.md.helpers.parseLinkDestination(t.src,y,t.posMax),k.ok&&(R=t.md.normalizeLink(k.str),t.md.validateLink(R)?y=k.pos:R=""),L=y;y<j&&(s=t.src.charCodeAt(y),!(!L_(s)&&s!==10));y++);if(k=t.md.helpers.parseLinkTitle(t.src,y,t.posMax),y<j&&L!==y&&k.ok)for(C=k.str,y=k.pos;y<j&&(s=t.src.charCodeAt(y),!(!L_(s)&&s!==10));y++);else C="";if(y>=j||t.src.charCodeAt(y)!==41)return t.pos=B,!1;y++}else{if(typeof t.env.references>"u")return!1;if(y<j&&t.src.charCodeAt(y)===91?(L=y+1,y=t.md.helpers.parseLinkLabel(t,y),y>=0?h=t.src.slice(L,y++):y=o+1):y=o+1,h||(h=t.src.slice(g,o)),w=t.env.references[X0e(h)],!w)return t.pos=B,!1;R=w.href,C=w.title}return n||(u=t.src.slice(g,o),t.md.inline.parse(u,t.md,t.env,O=[]),I=t.push("image","img",0),I.attrs=r=[["src",R],["alt",""]],I.children=O,I.content=u,C&&r.push(["title",C])),t.pos=y,t.posMax=j,!0},Q0e=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,exe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,txe=function(t,n){var r,s,u,h,o,g,y=t.pos;if(t.src.charCodeAt(y)!==60)return!1;for(o=t.pos,g=t.posMax;;){if(++y>=g||(h=t.src.charCodeAt(y),h===60))return!1;if(h===62)break}return r=t.src.slice(o+1,y),exe.test(r)?(s=t.md.normalizeLink(r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):Q0e.test(r)?(s=t.md.normalizeLink("mailto:"+r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):!1},nxe=wv.HTML_TAG_RE;function rxe(e){return/^<a[>\s]/i.test(e)}function ixe(e){return/^<\/a\s*>/i.test(e)}function axe(e){var t=e|32;return t>=97&&t<=122}var sxe=function(t,n){var r,s,u,h,o=t.pos;return!t.md.options.html||(u=t.posMax,t.src.charCodeAt(o)!==60||o+2>=u)||(r=t.src.charCodeAt(o+1),r!==33&&r!==63&&r!==47&&!axe(r))||(s=t.src.slice(o).match(nxe),!s)?!1:(n||(h=t.push("html_inline","",0),h.content=s[0],rxe(h.content)&&t.linkLevel++,ixe(h.content)&&t.linkLevel--),t.pos+=s[0].length,!0)},wC=oI,oxe=cr.has,lxe=cr.isValidEntityCode,SC=cr.fromCodePoint,cxe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,uxe=/^&([a-z][a-z0-9]{1,31});/i,dxe=function(t,n){var r,s,u,h,o=t.pos,g=t.posMax;if(t.src.charCodeAt(o)!==38||o+1>=g)return!1;if(r=t.src.charCodeAt(o+1),r===35){if(u=t.src.slice(o).match(cxe),u)return n||(s=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),h=t.push("text_special","",0),h.content=lxe(s)?SC(s):SC(65533),h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0}else if(u=t.src.slice(o).match(uxe),u&&oxe(wC,u[1]))return n||(h=t.push("text_special","",0),h.content=wC[u[1]],h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0;return!1};function kC(e){var t,n,r,s,u,h,o,g,y={},w=e.length;if(w){var k=0,C=-2,I=[];for(t=0;t<w;t++)if(r=e[t],I.push(0),(e[k].marker!==r.marker||C!==r.token-1)&&(k=t),C=r.token,r.length=r.length||0,!!r.close){for(y.hasOwnProperty(r.marker)||(y[r.marker]=[-1,-1,-1,-1,-1,-1]),u=y[r.marker][(r.open?3:0)+r.length%3],n=k-I[k]-1,h=n;n>u;n-=I[n]+1)if(s=e[n],s.marker===r.marker&&s.open&&s.end<0&&(o=!1,(s.close||r.open)&&(s.length+r.length)%3===0&&(s.length%3!==0||r.length%3!==0)&&(o=!0),!o)){g=n>0&&!e[n-1].open?I[n-1]+1:0,I[t]=t-n+g,I[n]=g,r.open=!1,s.end=t,s.close=!1,h=-1,C=-2;break}h!==-1&&(y[r.marker][(r.open?3:0)+(r.length||0)%3]=h)}}}var hxe=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(kC(t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&kC(r[n].delimiters)},fxe=function(t){var n,r,s=0,u=t.tokens,h=t.tokens.length;for(n=r=0;n<h;n++)u[n].nesting<0&&s--,u[n].level=s,u[n].nesting>0&&s++,u[n].type==="text"&&n+1<h&&u[n+1].type==="text"?u[n+1].content=u[n].content+u[n+1].content:(n!==r&&(u[r]=u[n]),r++);n!==r&&(u.length=r)},Dx=Ex,CC=cr.isWhiteSpace,TC=cr.isPunctChar,AC=cr.isMdAsciiPunct;function _m(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}_m.prototype.pushPending=function(){var e=new Dx("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};_m.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new Dx(e,t,n),s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};_m.prototype.scanDelims=function(e,t){var n=e,r,s,u,h,o,g,y,w,k,C=!0,I=!0,O=this.posMax,L=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<O&&this.src.charCodeAt(n)===L;)n++;return u=n-e,s=n<O?this.src.charCodeAt(n):32,y=AC(r)||TC(String.fromCharCode(r)),k=AC(s)||TC(String.fromCharCode(s)),g=CC(r),w=CC(s),w?C=!1:k&&(g||y||(C=!1)),g?I=!1:y&&(w||k||(I=!1)),t?(h=C,o=I):(h=C&&(!I||y),o=I&&(!C||k)),{can_open:h,can_close:o,length:u}};_m.prototype.Token=Dx;var mxe=_m,EC=Ax,R_=[["text",$0e],["linkify",q0e],["newline",H0e],["escape",W0e],["backticks",Y0e],["strikethrough",Cv.tokenize],["emphasis",Tv.tokenize],["link",K0e],["image",J0e],["autolink",txe],["html_inline",sxe],["entity",dxe]],O_=[["balance_pairs",hxe],["strikethrough",Cv.postProcess],["emphasis",Tv.postProcess],["fragments_join",fxe]];function bm(){var e;for(this.ruler=new EC,e=0;e<R_.length;e++)this.ruler.push(R_[e][0],R_[e][1]);for(this.ruler2=new EC,e=0;e<O_.length;e++)this.ruler2.push(O_[e][0],O_[e][1])}bm.prototype.skipToken=function(e){var t,n,r=e.pos,s=this.ruler.getRules(""),u=s.length,h=e.md.options.maxNesting,o=e.cache;if(typeof o[r]<"u"){e.pos=o[r];return}if(e.level<h){for(n=0;n<u;n++)if(e.level++,t=s[n](e,!0),e.level--,t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;t||e.pos++,o[r]=e.pos};bm.prototype.tokenize=function(e){for(var t,n,r,s=this.ruler.getRules(""),u=s.length,h=e.posMax,o=e.md.options.maxNesting;e.pos<h;){if(r=e.pos,e.level<o){for(n=0;n<u;n++)if(t=s[n](e,!1),t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(t){if(e.pos>=h)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};bm.prototype.parse=function(e,t,n,r){var s,u,h,o=new this.State(e,t,n,r);for(this.tokenize(o),u=this.ruler2.getRules(""),h=u.length,s=0;s<h;s++)u[s](o)};bm.prototype.State=mxe;var pxe=bm,F_,IC;function gxe(){return IC||(IC=1,F_=function(e){var t={};e=e||{},t.src_Any=lI().source,t.src_Cc=cI().source,t.src_Z=uI().source,t.src_P=Tx.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),F_}function Bb(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function Av(e){return Object.prototype.toString.call(e)}function vxe(e){return Av(e)==="[object String]"}function yxe(e){return Av(e)==="[object Object]"}function _xe(e){return Av(e)==="[object RegExp]"}function PC(e){return Av(e)==="[object Function]"}function bxe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var vI={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function xxe(e){return Object.keys(e||{}).reduce(function(t,n){return t||vI.hasOwnProperty(n)},!1)}var wxe={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Sxe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",kxe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Cxe(e){e.__index__=-1,e.__text_cache__=""}function Txe(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function DC(){return function(e,t){t.normalize(e)}}function Vg(e){var t=e.re=gxe()(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(Sxe),n.push(t.src_xn),t.src_tlds=n.join("|");function r(o){return o.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");var s=[];e.__compiled__={};function u(o,g){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+g)}Object.keys(e.__schemas__).forEach(function(o){var g=e.__schemas__[o];if(g!==null){var y={validate:null,link:null};if(e.__compiled__[o]=y,yxe(g)){_xe(g.validate)?y.validate=Txe(g.validate):PC(g.validate)?y.validate=g.validate:u(o,g),PC(g.normalize)?y.normalize=g.normalize:g.normalize?u(o,g):y.normalize=DC();return}if(vxe(g)){s.push(o);return}u(o,g)}}),s.forEach(function(o){e.__compiled__[e.__schemas__[o]]&&(e.__compiled__[o].validate=e.__compiled__[e.__schemas__[o]].validate,e.__compiled__[o].normalize=e.__compiled__[e.__schemas__[o]].normalize)}),e.__compiled__[""]={validate:null,normalize:DC()};var h=Object.keys(e.__compiled__).filter(function(o){return o.length>0&&e.__compiled__[o]}).map(bxe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Cxe(e)}function Axe(e,t){var n=e.__index__,r=e.__last_index__,s=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=s,this.text=s,this.url=s}function Vb(e,t){var n=new Axe(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function ns(e,t){if(!(this instanceof ns))return new ns(e,t);t||xxe(e)&&(t=e,e={}),this.__opts__=Bb({},vI,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Bb({},wxe,e),this.__compiled__={},this.__tlds__=kxe,this.__tlds_replaced__=!1,this.re={},Vg(this)}ns.prototype.add=function(t,n){return this.__schemas__[t]=n,Vg(this),this};ns.prototype.set=function(t){return this.__opts__=Bb(this.__opts__,t),this};ns.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,r,s,u,h,o,g,y,w;if(this.re.schema_test.test(t)){for(g=this.re.schema_search,g.lastIndex=0;(n=g.exec(t))!==null;)if(u=this.testSchemaAt(t,n[2],g.lastIndex),u){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(y=t.search(this.re.host_fuzzy_test),y>=0&&(this.__index__<0||y<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(h=r.index+r[1].length,(this.__index__<0||h<this.__index__)&&(this.__schema__="",this.__index__=h,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(w=t.indexOf("@"),w>=0&&(s=t.match(this.re.email_fuzzy))!==null&&(h=s.index+s[1].length,o=s.index+s[0].length,(this.__index__<0||h<this.__index__||h===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=h,this.__last_index__=o))),this.__index__>=0};ns.prototype.pretest=function(t){return this.re.pretest.test(t)};ns.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};ns.prototype.match=function(t){var n=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(Vb(this,n)),n=this.__last_index__);for(var s=n?t.slice(n):t;this.test(s);)r.push(Vb(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};ns.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var n=this.re.schema_at_start.exec(t);if(!n)return null;var r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Vb(this,0)):null};ns.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,s,u){return r!==u[s-1]}).reverse(),Vg(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Vg(this),this)};ns.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};ns.prototype.onCompile=function(){};var Exe=ns;const Td=2147483647,Co=36,Mx=1,Zf=26,Ixe=38,Pxe=700,yI=72,_I=128,bI="-",Dxe=/^xn--/,Mxe=/[^\0-\x7F]/,Lxe=/[\x2E\u3002\uFF0E\uFF61]/g,Rxe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},z_=Co-Mx,To=Math.floor,B_=String.fromCharCode;function Xl(e){throw new RangeError(Rxe[e])}function Oxe(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function xI(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(Lxe,".");const s=e.split("."),u=Oxe(s,t).join(".");return r+u}function Lx(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const u=e.charCodeAt(n++);(u&64512)==56320?t.push(((s&1023)<<10)+(u&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}const wI=e=>String.fromCodePoint(...e),Fxe=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Co},MC=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},SI=function(e,t,n){let r=0;for(e=n?To(e/Pxe):e>>1,e+=To(e/t);e>z_*Zf>>1;r+=Co)e=To(e/z_);return To(r+(z_+1)*e/(e+Ixe))},Rx=function(e){const t=[],n=e.length;let r=0,s=_I,u=yI,h=e.lastIndexOf(bI);h<0&&(h=0);for(let o=0;o<h;++o)e.charCodeAt(o)>=128&&Xl("not-basic"),t.push(e.charCodeAt(o));for(let o=h>0?h+1:0;o<n;){const g=r;for(let w=1,k=Co;;k+=Co){o>=n&&Xl("invalid-input");const C=Fxe(e.charCodeAt(o++));C>=Co&&Xl("invalid-input"),C>To((Td-r)/w)&&Xl("overflow"),r+=C*w;const I=k<=u?Mx:k>=u+Zf?Zf:k-u;if(C<I)break;const O=Co-I;w>To(Td/O)&&Xl("overflow"),w*=O}const y=t.length+1;u=SI(r-g,y,g==0),To(r/y)>Td-s&&Xl("overflow"),s+=To(r/y),r%=y,t.splice(r++,0,s)}return String.fromCodePoint(...t)},Ox=function(e){const t=[];e=Lx(e);const n=e.length;let r=_I,s=0,u=yI;for(const g of e)g<128&&t.push(B_(g));const h=t.length;let o=h;for(h&&t.push(bI);o<n;){let g=Td;for(const w of e)w>=r&&w<g&&(g=w);const y=o+1;g-r>To((Td-s)/y)&&Xl("overflow"),s+=(g-r)*y,r=g;for(const w of e)if(w<r&&++s>Td&&Xl("overflow"),w===r){let k=s;for(let C=Co;;C+=Co){const I=C<=u?Mx:C>=u+Zf?Zf:C-u;if(k<I)break;const O=k-I,L=Co-I;t.push(B_(MC(I+O%L,0))),k=To(O/L)}t.push(B_(MC(k,0))),u=SI(s,y,o===h),s=0,++o}++s,++r}return t.join("")},kI=function(e){return xI(e,function(t){return Dxe.test(t)?Rx(t.slice(4).toLowerCase()):t})},CI=function(e){return xI(e,function(t){return Mxe.test(t)?"xn--"+Ox(t):t})},zxe={version:"2.3.1",ucs2:{decode:Lx,encode:wI},decode:Rx,encode:Ox,toASCII:CI,toUnicode:kI},Bxe=Object.freeze(Object.defineProperty({__proto__:null,decode:Rx,default:zxe,encode:Ox,toASCII:CI,toUnicode:kI,ucs2decode:Lx,ucs2encode:wI},Symbol.toStringTag,{value:"Module"})),Vxe=uB(Bxe);var Nxe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},$xe={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Uxe={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Cf=cr,qxe=xv,jxe=Fbe,Hxe=s0e,Gxe=V0e,Wxe=pxe,Yxe=Exe,Xc=Yd,TI=Vxe,Zxe={default:Nxe,zero:$xe,commonmark:Uxe},Kxe=/^(vbscript|javascript|file|data):/,Xxe=/^data:image\/(gif|png|jpeg|webp);/;function Jxe(e){var t=e.trim().toLowerCase();return Kxe.test(t)?!!Xxe.test(t):!0}var AI=["http:","https:","mailto:"];function Qxe(e){var t=Xc.parse(e,!0);if(t.hostname&&(!t.protocol||AI.indexOf(t.protocol)>=0))try{t.hostname=TI.toASCII(t.hostname)}catch{}return Xc.encode(Xc.format(t))}function e1e(e){var t=Xc.parse(e,!0);if(t.hostname&&(!t.protocol||AI.indexOf(t.protocol)>=0))try{t.hostname=TI.toUnicode(t.hostname)}catch{}return Xc.decode(Xc.format(t),Xc.decode.defaultChars+"%")}function Cs(e,t){if(!(this instanceof Cs))return new Cs(e,t);t||Cf.isString(e)||(t=e||{},e="default"),this.inline=new Wxe,this.block=new Gxe,this.core=new Hxe,this.renderer=new jxe,this.linkify=new Yxe,this.validateLink=Jxe,this.normalizeLink=Qxe,this.normalizeLinkText=e1e,this.utils=Cf,this.helpers=Cf.assign({},qxe),this.options={},this.configure(e),t&&this.set(t)}Cs.prototype.set=function(e){return Cf.assign(this.options,e),this};Cs.prototype.configure=function(e){var t=this,n;if(Cf.isString(e)&&(n=e,e=Zxe[n],!e))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};Cs.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};Cs.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};Cs.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Cs.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Cs.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Cs.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Cs.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var t1e=Cs,n1e=t1e;const r1e=cB(n1e),i1e=lr({name:"VueMarkdown",props:{source:{type:String,required:!0},options:{type:Object,required:!1},plugins:{type:Array,required:!1}},setup(e){const t=ht(new r1e(e.options??{}));for(const r of e.plugins??[])t.value.use(r);const n=Y(()=>t.value.render(e.source));return()=>Jr("div",{innerHTML:n.value})}}),a1e={data(){return{options:{html:!0,breaks:!0}}},components:{VueMarkdown:i1e},props:{markdownText:{type:String,required:!0}}},s1e={class:"markdown"};function o1e(e,t,n,r,s,u){const h=kn("vue-markdown");return vn(),xs("section",s1e,[T(h,{source:n.markdownText,options:s.options},null,8,["source","options"])])}const l1e=Qr(a1e,[["render",o1e]]);function EI(e,t){return function(){return e.apply(t,arguments)}}const{toString:c1e}=Object.prototype,{getPrototypeOf:Fx}=Object,Ev=(e=>t=>{const n=c1e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),so=e=>(e=e.toLowerCase(),t=>Ev(t)===e),Iv=e=>t=>typeof t===e,{isArray:Xd}=Array,Kf=Iv("undefined");function u1e(e){return e!==null&&!Kf(e)&&e.constructor!==null&&!Kf(e.constructor)&&es(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const II=so("ArrayBuffer");function d1e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&II(e.buffer),t}const h1e=Iv("string"),es=Iv("function"),PI=Iv("number"),Pv=e=>e!==null&&typeof e=="object",f1e=e=>e===!0||e===!1,hg=e=>{if(Ev(e)!=="object")return!1;const t=Fx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},m1e=so("Date"),p1e=so("File"),g1e=so("Blob"),v1e=so("FileList"),y1e=e=>Pv(e)&&es(e.pipe),_1e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||es(e.append)&&((t=Ev(e))==="formdata"||t==="object"&&es(e.toString)&&e.toString()==="[object FormData]"))},b1e=so("URLSearchParams"),[x1e,w1e,S1e,k1e]=["ReadableStream","Request","Response","Headers"].map(so),C1e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),Xd(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let o;for(r=0;r<h;r++)o=u[r],t.call(null,e[o],o,e)}}function DI(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Jc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MI=e=>!Kf(e)&&e!==Jc;function Nb(){const{caseless:e}=MI(this)&&this||{},t={},n=(r,s)=>{const u=e&&DI(t,s)||s;hg(t[u])&&hg(r)?t[u]=Nb(t[u],r):hg(r)?t[u]=Nb({},r):Xd(r)?t[u]=r.slice():t[u]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&xm(arguments[r],n);return t}const T1e=(e,t,n,{allOwnKeys:r}={})=>(xm(t,(s,u)=>{n&&es(s)?e[u]=EI(s,n):e[u]=s},{allOwnKeys:r}),e),A1e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E1e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},I1e=(e,t,n,r)=>{let s,u,h;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),u=s.length;u-- >0;)h=s[u],(!r||r(h,e,t))&&!o[h]&&(t[h]=e[h],o[h]=!0);e=n!==!1&&Fx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},P1e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},D1e=e=>{if(!e)return null;if(Xd(e))return e;let t=e.length;if(!PI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},M1e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Fx(Uint8Array)),L1e=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const u=s.value;t.call(e,u[0],u[1])}},R1e=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},O1e=so("HTMLFormElement"),F1e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),LC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),z1e=so("RegExp"),LI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xm(n,(s,u)=>{let h;(h=t(s,u,e))!==!1&&(r[u]=h||s)}),Object.defineProperties(e,r)},B1e=e=>{LI(e,(t,n)=>{if(es(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(es(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},V1e=(e,t)=>{const n={},r=s=>{s.forEach(u=>{n[u]=!0})};return Xd(e)?r(e):r(String(e).split(t)),n},N1e=()=>{},$1e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,V_="abcdefghijklmnopqrstuvwxyz",RC="0123456789",RI={DIGIT:RC,ALPHA:V_,ALPHA_DIGIT:V_+V_.toUpperCase()+RC},U1e=(e=16,t=RI.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function q1e(e){return!!(e&&es(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const j1e=e=>{const t=new Array(10),n=(r,s)=>{if(Pv(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const u=Xd(r)?[]:{};return xm(r,(h,o)=>{const g=n(h,s+1);!Kf(g)&&(u[o]=g)}),t[s]=void 0,u}}return r};return n(e,0)},H1e=so("AsyncFunction"),G1e=e=>e&&(Pv(e)||es(e))&&es(e.then)&&es(e.catch),OI=((e,t)=>e?setImmediate:t?((n,r)=>(Jc.addEventListener("message",({source:s,data:u})=>{s===Jc&&u===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Jc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",es(Jc.postMessage)),W1e=typeof queueMicrotask<"u"?queueMicrotask.bind(Jc):typeof process<"u"&&process.nextTick||OI,it={isArray:Xd,isArrayBuffer:II,isBuffer:u1e,isFormData:_1e,isArrayBufferView:d1e,isString:h1e,isNumber:PI,isBoolean:f1e,isObject:Pv,isPlainObject:hg,isReadableStream:x1e,isRequest:w1e,isResponse:S1e,isHeaders:k1e,isUndefined:Kf,isDate:m1e,isFile:p1e,isBlob:g1e,isRegExp:z1e,isFunction:es,isStream:y1e,isURLSearchParams:b1e,isTypedArray:M1e,isFileList:v1e,forEach:xm,merge:Nb,extend:T1e,trim:C1e,stripBOM:A1e,inherits:E1e,toFlatObject:I1e,kindOf:Ev,kindOfTest:so,endsWith:P1e,toArray:D1e,forEachEntry:L1e,matchAll:R1e,isHTMLForm:O1e,hasOwnProperty:LC,hasOwnProp:LC,reduceDescriptors:LI,freezeMethods:B1e,toObjectSet:V1e,toCamelCase:F1e,noop:N1e,toFiniteNumber:$1e,findKey:DI,global:Jc,isContextDefined:MI,ALPHABET:RI,generateString:U1e,isSpecCompliantForm:q1e,toJSONObject:j1e,isAsyncFn:H1e,isThenable:G1e,setImmediate:OI,asap:W1e};function Mn(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}it.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:it.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const FI=Mn.prototype,zI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{zI[e]={value:e}});Object.defineProperties(Mn,zI);Object.defineProperty(FI,"isAxiosError",{value:!0});Mn.from=(e,t,n,r,s,u)=>{const h=Object.create(FI);return it.toFlatObject(e,h,function(g){return g!==Error.prototype},o=>o!=="isAxiosError"),Mn.call(h,e.message,t,n,r,s),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};const Y1e=null;function $b(e){return it.isPlainObject(e)||it.isArray(e)}function BI(e){return it.endsWith(e,"[]")?e.slice(0,-2):e}function OC(e,t,n){return e?e.concat(t).map(function(s,u){return s=BI(s),!n&&u?"["+s+"]":s}).join(n?".":""):t}function Z1e(e){return it.isArray(e)&&!e.some($b)}const K1e=it.toFlatObject(it,{},null,function(t){return/^is[A-Z]/.test(t)});function Dv(e,t,n){if(!it.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=it.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,R){return!it.isUndefined(R[L])});const r=n.metaTokens,s=n.visitor||w,u=n.dots,h=n.indexes,g=(n.Blob||typeof Blob<"u"&&Blob)&&it.isSpecCompliantForm(t);if(!it.isFunction(s))throw new TypeError("visitor must be a function");function y(O){if(O===null)return"";if(it.isDate(O))return O.toISOString();if(!g&&it.isBlob(O))throw new Mn("Blob is not supported. Use a Buffer instead.");return it.isArrayBuffer(O)||it.isTypedArray(O)?g&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function w(O,L,R){let B=O;if(O&&!R&&typeof O=="object"){if(it.endsWith(L,"{}"))L=r?L:L.slice(0,-2),O=JSON.stringify(O);else if(it.isArray(O)&&Z1e(O)||(it.isFileList(O)||it.endsWith(L,"[]"))&&(B=it.toArray(O)))return L=BI(L),B.forEach(function(Z,re){!(it.isUndefined(Z)||Z===null)&&t.append(h===!0?OC([L],re,u):h===null?L:L+"[]",y(Z))}),!1}return $b(O)?!0:(t.append(OC(R,L,u),y(O)),!1)}const k=[],C=Object.assign(K1e,{defaultVisitor:w,convertValue:y,isVisitable:$b});function I(O,L){if(!it.isUndefined(O)){if(k.indexOf(O)!==-1)throw Error("Circular reference detected in "+L.join("."));k.push(O),it.forEach(O,function(B,j){(!(it.isUndefined(B)||B===null)&&s.call(t,B,it.isString(j)?j.trim():j,L,C))===!0&&I(B,L?L.concat(j):[j])}),k.pop()}}if(!it.isObject(e))throw new TypeError("data must be an object");return I(e),t}function FC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zx(e,t){this._pairs=[],e&&Dv(e,this,t)}const VI=zx.prototype;VI.append=function(t,n){this._pairs.push([t,n])};VI.toString=function(t){const n=t?function(r){return t.call(this,r,FC)}:FC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function X1e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function NI(e,t,n){if(!t)return e;const r=n&&n.encode||X1e,s=n&&n.serialize;let u;if(s?u=s(t,n):u=it.isURLSearchParams(t)?t.toString():new zx(t,n).toString(r),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class zC{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){it.forEach(this.handlers,function(r){r!==null&&t(r)})}}const $I={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J1e=typeof URLSearchParams<"u"?URLSearchParams:zx,Q1e=typeof FormData<"u"?FormData:null,ewe=typeof Blob<"u"?Blob:null,twe={isBrowser:!0,classes:{URLSearchParams:J1e,FormData:Q1e,Blob:ewe},protocols:["http","https","file","blob","url","data"]},Bx=typeof window<"u"&&typeof document<"u",nwe=(e=>Bx&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),rwe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iwe=Bx&&window.location.href||"http://localhost",awe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bx,hasStandardBrowserEnv:nwe,hasStandardBrowserWebWorkerEnv:rwe,origin:iwe},Symbol.toStringTag,{value:"Module"})),Xs={...awe,...twe};function swe(e,t){return Dv(e,new Xs.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,u){return Xs.isNode&&it.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function owe(e){return it.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function lwe(e){const t={},n=Object.keys(e);let r;const s=n.length;let u;for(r=0;r<s;r++)u=n[r],t[u]=e[u];return t}function UI(e){function t(n,r,s,u){let h=n[u++];if(h==="__proto__")return!0;const o=Number.isFinite(+h),g=u>=n.length;return h=!h&&it.isArray(s)?s.length:h,g?(it.hasOwnProp(s,h)?s[h]=[s[h],r]:s[h]=r,!o):((!s[h]||!it.isObject(s[h]))&&(s[h]=[]),t(n,r,s[h],u)&&it.isArray(s[h])&&(s[h]=lwe(s[h])),!o)}if(it.isFormData(e)&&it.isFunction(e.entries)){const n={};return it.forEachEntry(e,(r,s)=>{t(owe(r),s,n,0)}),n}return null}function cwe(e,t,n){if(it.isString(e))try{return(t||JSON.parse)(e),it.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const wm={transitional:$I,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,u=it.isObject(t);if(u&&it.isHTMLForm(t)&&(t=new FormData(t)),it.isFormData(t))return s?JSON.stringify(UI(t)):t;if(it.isArrayBuffer(t)||it.isBuffer(t)||it.isStream(t)||it.isFile(t)||it.isBlob(t)||it.isReadableStream(t))return t;if(it.isArrayBufferView(t))return t.buffer;if(it.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return swe(t,this.formSerializer).toString();if((o=it.isFileList(t))||r.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return Dv(o?{"files[]":t}:t,g&&new g,this.formSerializer)}}return u||s?(n.setContentType("application/json",!1),cwe(t)):t}],transformResponse:[function(t){const n=this.transitional||wm.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(it.isResponse(t)||it.isReadableStream(t))return t;if(t&&it.isString(t)&&(r&&!this.responseType||s)){const h=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(h)throw o.name==="SyntaxError"?Mn.from(o,Mn.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xs.classes.FormData,Blob:Xs.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};it.forEach(["delete","get","head","post","put","patch"],e=>{wm.headers[e]={}});const uwe=it.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dwe=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(h){s=h.indexOf(":"),n=h.substring(0,s).trim().toLowerCase(),r=h.substring(s+1).trim(),!(!n||t[n]&&uwe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},BC=Symbol("internals");function ff(e){return e&&String(e).trim().toLowerCase()}function fg(e){return e===!1||e==null?e:it.isArray(e)?e.map(fg):String(e)}function hwe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const fwe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function N_(e,t,n,r,s){if(it.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!it.isString(t)){if(it.isString(r))return t.indexOf(r)!==-1;if(it.isRegExp(r))return r.test(t)}}function mwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function pwe(e,t){const n=it.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,u,h){return this[r].call(this,t,s,u,h)},configurable:!0})})}class Va{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function u(o,g,y){const w=ff(g);if(!w)throw new Error("header name must be a non-empty string");const k=it.findKey(s,w);(!k||s[k]===void 0||y===!0||y===void 0&&s[k]!==!1)&&(s[k||g]=fg(o))}const h=(o,g)=>it.forEach(o,(y,w)=>u(y,w,g));if(it.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(it.isString(t)&&(t=t.trim())&&!fwe(t))h(dwe(t),n);else if(it.isHeaders(t))for(const[o,g]of t.entries())u(g,o,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=ff(t),t){const r=it.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return hwe(s);if(it.isFunction(n))return n.call(this,s,r);if(it.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=ff(t),t){const r=it.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||N_(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function u(h){if(h=ff(h),h){const o=it.findKey(r,h);o&&(!n||N_(r,r[o],o,n))&&(delete r[o],s=!0)}}return it.isArray(t)?t.forEach(u):u(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const u=n[r];(!t||N_(this,this[u],u,t,!0))&&(delete this[u],s=!0)}return s}normalize(t){const n=this,r={};return it.forEach(this,(s,u)=>{const h=it.findKey(r,u);if(h){n[h]=fg(s),delete n[u];return}const o=t?mwe(u):String(u).trim();o!==u&&delete n[u],n[o]=fg(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return it.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&it.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[BC]=this[BC]={accessors:{}}).accessors,s=this.prototype;function u(h){const o=ff(h);r[o]||(pwe(s,h),r[o]=!0)}return it.isArray(t)?t.forEach(u):u(t),this}}Va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);it.reduceDescriptors(Va.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});it.freezeMethods(Va);function $_(e,t){const n=this||wm,r=t||n,s=Va.from(r.headers);let u=r.data;return it.forEach(e,function(o){u=o.call(n,u,s.normalize(),t?t.status:void 0)}),s.normalize(),u}function qI(e){return!!(e&&e.__CANCEL__)}function Jd(e,t,n){Mn.call(this,e??"canceled",Mn.ERR_CANCELED,t,n),this.name="CanceledError"}it.inherits(Jd,Mn,{__CANCEL__:!0});function jI(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Mn("Request failed with status code "+n.status,[Mn.ERR_BAD_REQUEST,Mn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function gwe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function vwe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,u=0,h;return t=t!==void 0?t:1e3,function(g){const y=Date.now(),w=r[u];h||(h=y),n[s]=g,r[s]=y;let k=u,C=0;for(;k!==s;)C+=n[k++],k=k%e;if(s=(s+1)%e,s===u&&(u=(u+1)%e),y-h<t)return;const I=w&&y-w;return I?Math.round(C*1e3/I):void 0}}function ywe(e,t){let n=0,r=1e3/t,s,u;const h=(y,w=Date.now())=>{n=w,s=null,u&&(clearTimeout(u),u=null),e.apply(null,y)};return[(...y)=>{const w=Date.now(),k=w-n;k>=r?h(y,w):(s=y,u||(u=setTimeout(()=>{u=null,h(s)},r-k)))},()=>s&&h(s)]}const Ng=(e,t,n=3)=>{let r=0;const s=vwe(50,250);return ywe(u=>{const h=u.loaded,o=u.lengthComputable?u.total:void 0,g=h-r,y=s(g),w=h<=o;r=h;const k={loaded:h,total:o,progress:o?h/o:void 0,bytes:g,rate:y||void 0,estimated:y&&o&&w?(o-h)/y:void 0,event:u,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(k)},n)},VC=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},NC=e=>(...t)=>it.asap(()=>e(...t)),_we=Xs.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(u){let h=u;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(h){const o=it.isString(h)?s(h):h;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),bwe=Xs.hasStandardBrowserEnv?{write(e,t,n,r,s,u){const h=[e+"="+encodeURIComponent(t)];it.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),it.isString(r)&&h.push("path="+r),it.isString(s)&&h.push("domain="+s),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xwe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wwe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function HI(e,t){return e&&!xwe(t)?wwe(e,t):t}const $C=e=>e instanceof Va?{...e}:e;function du(e,t){t=t||{};const n={};function r(y,w,k){return it.isPlainObject(y)&&it.isPlainObject(w)?it.merge.call({caseless:k},y,w):it.isPlainObject(w)?it.merge({},w):it.isArray(w)?w.slice():w}function s(y,w,k){if(it.isUndefined(w)){if(!it.isUndefined(y))return r(void 0,y,k)}else return r(y,w,k)}function u(y,w){if(!it.isUndefined(w))return r(void 0,w)}function h(y,w){if(it.isUndefined(w)){if(!it.isUndefined(y))return r(void 0,y)}else return r(void 0,w)}function o(y,w,k){if(k in t)return r(y,w);if(k in e)return r(void 0,y)}const g={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:o,headers:(y,w)=>s($C(y),$C(w),!0)};return it.forEach(Object.keys(Object.assign({},e,t)),function(w){const k=g[w]||s,C=k(e[w],t[w],w);it.isUndefined(C)&&k!==o||(n[w]=C)}),n}const GI=e=>{const t=du({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:u,headers:h,auth:o}=t;t.headers=h=Va.from(h),t.url=NI(HI(t.baseURL,t.url),e.params,e.paramsSerializer),o&&h.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let g;if(it.isFormData(n)){if(Xs.hasStandardBrowserEnv||Xs.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((g=h.getContentType())!==!1){const[y,...w]=g?g.split(";").map(k=>k.trim()).filter(Boolean):[];h.setContentType([y||"multipart/form-data",...w].join("; "))}}if(Xs.hasStandardBrowserEnv&&(r&&it.isFunction(r)&&(r=r(t)),r||r!==!1&&_we(t.url))){const y=s&&u&&bwe.read(u);y&&h.set(s,y)}return t},Swe=typeof XMLHttpRequest<"u",kwe=Swe&&function(e){return new Promise(function(n,r){const s=GI(e);let u=s.data;const h=Va.from(s.headers).normalize();let{responseType:o,onUploadProgress:g,onDownloadProgress:y}=s,w,k,C,I,O;function L(){I&&I(),O&&O(),s.cancelToken&&s.cancelToken.unsubscribe(w),s.signal&&s.signal.removeEventListener("abort",w)}let R=new XMLHttpRequest;R.open(s.method.toUpperCase(),s.url,!0),R.timeout=s.timeout;function B(){if(!R)return;const Z=Va.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),ie={data:!o||o==="text"||o==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:Z,config:e,request:R};jI(function(se){n(se),L()},function(se){r(se),L()},ie),R=null}"onloadend"in R?R.onloadend=B:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(B)},R.onabort=function(){R&&(r(new Mn("Request aborted",Mn.ECONNABORTED,e,R)),R=null)},R.onerror=function(){r(new Mn("Network Error",Mn.ERR_NETWORK,e,R)),R=null},R.ontimeout=function(){let re=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ie=s.transitional||$I;s.timeoutErrorMessage&&(re=s.timeoutErrorMessage),r(new Mn(re,ie.clarifyTimeoutError?Mn.ETIMEDOUT:Mn.ECONNABORTED,e,R)),R=null},u===void 0&&h.setContentType(null),"setRequestHeader"in R&&it.forEach(h.toJSON(),function(re,ie){R.setRequestHeader(ie,re)}),it.isUndefined(s.withCredentials)||(R.withCredentials=!!s.withCredentials),o&&o!=="json"&&(R.responseType=s.responseType),y&&([C,O]=Ng(y,!0),R.addEventListener("progress",C)),g&&R.upload&&([k,I]=Ng(g),R.upload.addEventListener("progress",k),R.upload.addEventListener("loadend",I)),(s.cancelToken||s.signal)&&(w=Z=>{R&&(r(!Z||Z.type?new Jd(null,e,R):Z),R.abort(),R=null)},s.cancelToken&&s.cancelToken.subscribe(w),s.signal&&(s.signal.aborted?w():s.signal.addEventListener("abort",w)));const j=gwe(s.url);if(j&&Xs.protocols.indexOf(j)===-1){r(new Mn("Unsupported protocol "+j+":",Mn.ERR_BAD_REQUEST,e));return}R.send(u||null)})},Cwe=(e,t)=>{let n=new AbortController,r;const s=function(g){if(!r){r=!0,h();const y=g instanceof Error?g:this.reason;n.abort(y instanceof Mn?y:new Jd(y instanceof Error?y.message:y))}};let u=t&&setTimeout(()=>{s(new Mn(`timeout ${t} of ms exceeded`,Mn.ETIMEDOUT))},t);const h=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(g=>{g&&(g.removeEventListener?g.removeEventListener("abort",s):g.unsubscribe(s))}),e=null)};e.forEach(g=>g&&g.addEventListener&&g.addEventListener("abort",s));const{signal:o}=n;return o.unsubscribe=h,[o,()=>{u&&clearTimeout(u),u=null}]},Twe=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Awe=async function*(e,t,n){for await(const r of e)yield*Twe(ArrayBuffer.isView(r)?r:await n(String(r)),t)},UC=(e,t,n,r,s)=>{const u=Awe(e,t,s);let h=0,o,g=y=>{o||(o=!0,r&&r(y))};return new ReadableStream({async pull(y){try{const{done:w,value:k}=await u.next();if(w){g(),y.close();return}let C=k.byteLength;if(n){let I=h+=C;n(I)}y.enqueue(new Uint8Array(k))}catch(w){throw g(w),w}},cancel(y){return g(y),u.return()}},{highWaterMark:2})},Mv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",WI=Mv&&typeof ReadableStream=="function",Ub=Mv&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),YI=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Ewe=WI&&YI(()=>{let e=!1;const t=new Request(Xs.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),qC=64*1024,qb=WI&&YI(()=>it.isReadableStream(new Response("").body)),$g={stream:qb&&(e=>e.body)};Mv&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!$g[t]&&($g[t]=it.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Mn(`Response type '${t}' is not supported`,Mn.ERR_NOT_SUPPORT,r)})})})(new Response);const Iwe=async e=>{if(e==null)return 0;if(it.isBlob(e))return e.size;if(it.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(it.isArrayBufferView(e)||it.isArrayBuffer(e))return e.byteLength;if(it.isURLSearchParams(e)&&(e=e+""),it.isString(e))return(await Ub(e)).byteLength},Pwe=async(e,t)=>{const n=it.toFiniteNumber(e.getContentLength());return n??Iwe(t)},Dwe=Mv&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:u,timeout:h,onDownloadProgress:o,onUploadProgress:g,responseType:y,headers:w,withCredentials:k="same-origin",fetchOptions:C}=GI(e);y=y?(y+"").toLowerCase():"text";let[I,O]=s||u||h?Cwe([s,u],h):[],L,R;const B=()=>{!L&&setTimeout(()=>{I&&I.unsubscribe()}),L=!0};let j;try{if(g&&Ewe&&n!=="get"&&n!=="head"&&(j=await Pwe(w,r))!==0){let Q=new Request(t,{method:"POST",body:r,duplex:"half"}),se;if(it.isFormData(r)&&(se=Q.headers.get("content-type"))&&w.setContentType(se),Q.body){const[H,$]=VC(j,Ng(NC(g)));r=UC(Q.body,qC,H,$,Ub)}}it.isString(k)||(k=k?"include":"omit"),R=new Request(t,{...C,signal:I,method:n.toUpperCase(),headers:w.normalize().toJSON(),body:r,duplex:"half",credentials:k});let Z=await fetch(R);const re=qb&&(y==="stream"||y==="response");if(qb&&(o||re)){const Q={};["status","statusText","headers"].forEach(K=>{Q[K]=Z[K]});const se=it.toFiniteNumber(Z.headers.get("content-length")),[H,$]=o&&VC(se,Ng(NC(o),!0))||[];Z=new Response(UC(Z.body,qC,H,()=>{$&&$(),re&&B()},Ub),Q)}y=y||"text";let ie=await $g[it.findKey($g,y)||"text"](Z,e);return!re&&B(),O&&O(),await new Promise((Q,se)=>{jI(Q,se,{data:ie,headers:Va.from(Z.headers),status:Z.status,statusText:Z.statusText,config:e,request:R})})}catch(Z){throw B(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new Mn("Network Error",Mn.ERR_NETWORK,e,R),{cause:Z.cause||Z}):Mn.from(Z,Z&&Z.code,e,R)}}),jb={http:Y1e,xhr:kwe,fetch:Dwe};it.forEach(jb,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const jC=e=>`- ${e}`,Mwe=e=>it.isFunction(e)||e===null||e===!1,ZI={getAdapter:e=>{e=it.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let u=0;u<t;u++){n=e[u];let h;if(r=n,!Mwe(n)&&(r=jb[(h=String(n)).toLowerCase()],r===void 0))throw new Mn(`Unknown adapter '${h}'`);if(r)break;s[h||"#"+u]=r}if(!r){const u=Object.entries(s).map(([o,g])=>`adapter ${o} `+(g===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(jC).join(`
`):" "+jC(u[0]):"as no adapter specified";throw new Mn("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:jb};function U_(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jd(null,e)}function HC(e){return U_(e),e.headers=Va.from(e.headers),e.data=$_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ZI.getAdapter(e.adapter||wm.adapter)(e).then(function(r){return U_(e),r.data=$_.call(e,e.transformResponse,r),r.headers=Va.from(r.headers),r},function(r){return qI(r)||(U_(e),r&&r.response&&(r.response.data=$_.call(e,e.transformResponse,r.response),r.response.headers=Va.from(r.response.headers))),Promise.reject(r)})}const KI="1.7.4",Vx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Vx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const GC={};Vx.transitional=function(t,n,r){function s(u,h){return"[Axios v"+KI+"] Transitional option '"+u+"'"+h+(r?". "+r:"")}return(u,h,o)=>{if(t===!1)throw new Mn(s(h," has been removed"+(n?" in "+n:"")),Mn.ERR_DEPRECATED);return n&&!GC[h]&&(GC[h]=!0,console.warn(s(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,h,o):!0}};function Lwe(e,t,n){if(typeof e!="object")throw new Mn("options must be an object",Mn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const u=r[s],h=t[u];if(h){const o=e[u],g=o===void 0||h(o,u,e);if(g!==!0)throw new Mn("option "+u+" must be "+g,Mn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mn("Unknown option "+u,Mn.ERR_BAD_OPTION)}}const Hb={assertOptions:Lwe,validators:Vx},Hl=Hb.validators;class su{constructor(t){this.defaults=t,this.interceptors={request:new zC,response:new zC}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const u=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=du(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:u}=n;r!==void 0&&Hb.assertOptions(r,{silentJSONParsing:Hl.transitional(Hl.boolean),forcedJSONParsing:Hl.transitional(Hl.boolean),clarifyTimeoutError:Hl.transitional(Hl.boolean)},!1),s!=null&&(it.isFunction(s)?n.paramsSerializer={serialize:s}:Hb.assertOptions(s,{encode:Hl.function,serialize:Hl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&it.merge(u.common,u[n.method]);u&&it.forEach(["delete","get","head","post","put","patch","common"],O=>{delete u[O]}),n.headers=Va.concat(h,u);const o=[];let g=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(n)===!1||(g=g&&L.synchronous,o.unshift(L.fulfilled,L.rejected))});const y=[];this.interceptors.response.forEach(function(L){y.push(L.fulfilled,L.rejected)});let w,k=0,C;if(!g){const O=[HC.bind(this),void 0];for(O.unshift.apply(O,o),O.push.apply(O,y),C=O.length,w=Promise.resolve(n);k<C;)w=w.then(O[k++],O[k++]);return w}C=o.length;let I=n;for(k=0;k<C;){const O=o[k++],L=o[k++];try{I=O(I)}catch(R){L.call(this,R);break}}try{w=HC.call(this,I)}catch(O){return Promise.reject(O)}for(k=0,C=y.length;k<C;)w=w.then(y[k++],y[k++]);return w}getUri(t){t=du(this.defaults,t);const n=HI(t.baseURL,t.url);return NI(n,t.params,t.paramsSerializer)}}it.forEach(["delete","get","head","options"],function(t){su.prototype[t]=function(n,r){return this.request(du(r||{},{method:t,url:n,data:(r||{}).data}))}});it.forEach(["post","put","patch"],function(t){function n(r){return function(u,h,o){return this.request(du(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}su.prototype[t]=n(),su.prototype[t+"Form"]=n(!0)});class Nx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(s=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](s);r._listeners=null}),this.promise.then=s=>{let u;const h=new Promise(o=>{r.subscribe(o),u=o}).then(s);return h.cancel=function(){r.unsubscribe(u)},h},t(function(u,h,o){r.reason||(r.reason=new Jd(u,h,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Nx(function(s){t=s}),cancel:t}}}function Rwe(e){return function(n){return e.apply(null,n)}}function Owe(e){return it.isObject(e)&&e.isAxiosError===!0}const Gb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gb).forEach(([e,t])=>{Gb[t]=e});function XI(e){const t=new su(e),n=EI(su.prototype.request,t);return it.extend(n,su.prototype,t,{allOwnKeys:!0}),it.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return XI(du(e,s))},n}const Vr=XI(wm);Vr.Axios=su;Vr.CanceledError=Jd;Vr.CancelToken=Nx;Vr.isCancel=qI;Vr.VERSION=KI;Vr.toFormData=Dv;Vr.AxiosError=Mn;Vr.Cancel=Vr.CanceledError;Vr.all=function(t){return Promise.all(t)};Vr.spread=Rwe;Vr.isAxiosError=Owe;Vr.mergeConfig=du;Vr.AxiosHeaders=Va;Vr.formToJSON=e=>UI(it.isHTMLForm(e)?new FormData(e):e);Vr.getAdapter=ZI.getAdapter;Vr.HttpStatusCode=Gb;Vr.default=Vr;const Fwe="https://api-geography.azurewebsites.net/rest/postcodes/",zwe="https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt",Bwe="https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt",JI="https://api-geography.librarydata.uk/rest/libraryAuthorities",Vwe="https://api.librarydata.uk/authenticate",Nwe="create.librarydata.uk",QI="https://api.librarydata.uk/schemas/",$we=[{text:"Local authority",value:"LAL"},{text:"Local authority unstaffed",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"ICL"}];async function eP(){const e=await Vr.get(JI);return e&&e.data?e.data:[]}async function Uwe(e){const t=await Vr.get(JI+"/name/"+e);return t&&t.data?t.data:{}}const ec=ft()({name:"VCardActions",props:un(),setup(e,t){let{slots:n}=t;return da({VBtn:{slim:!0,variant:"text"}}),St(()=>{var r;return T("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),qwe=We({opacity:[Number,String],...un(),...Yn()},"VCardSubtitle"),jwe=ft()({name:"VCardSubtitle",props:qwe(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Qc=$d("v-card-title"),Hwe=We({appendAvatar:String,appendIcon:mn,prependAvatar:String,prependIcon:mn,subtitle:[String,Number],title:[String,Number],...un(),...qa()},"VCardItem"),Gwe=ft()({name:"VCardItem",props:Hwe(),setup(e,t){let{slots:n}=t;return St(()=>{var y;const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||n.prepend),u=!!(e.appendAvatar||e.appendIcon),h=!!(u||n.append),o=!!(e.title!=null||n.title),g=!!(e.subtitle!=null||n.subtitle);return T("div",{class:["v-card-item",e.class],style:e.style},[s&&T("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?T(Bn,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):T(Gt,null,[e.prependAvatar&&T(Io,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(nr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),T("div",{class:"v-card-item__content"},[o&&T(Qc,{key:"title"},{default:()=>{var w;return[((w=n.title)==null?void 0:w.call(n))??e.title]}}),g&&T(jwe,{key:"subtitle"},{default:()=>{var w;return[((w=n.subtitle)==null?void 0:w.call(n))??e.subtitle]}}),(y=n.default)==null?void 0:y.call(n)]),h&&T("div",{key:"append",class:"v-card-item__append"},[n.append?T(Bn,{key:"append-defaults",disabled:!u,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):T(Gt,null,[e.appendIcon&&T(nr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Io,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),Wwe=We({opacity:[Number,String],...un(),...Yn()},"VCardText"),Ao=ft()({name:"VCardText",props:Wwe(),setup(e,t){let{slots:n}=t;return St(()=>T(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),Ywe=We({appendAvatar:String,appendIcon:mn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:mn,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Es(),...un(),...qa(),...is(),...ss(),...hv(),...vu(),...om(),...Di(),...mv(),...Yn(),...yr(),...ro({variant:"elevated"})},"VCard"),Ka=ft()({name:"VCard",directives:{Ripple:_u},props:Ywe(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Rr(e),{borderClasses:u}=no(e),{colorClasses:h,colorStyles:o,variantClasses:g}=yu(e),{densityClasses:y}=Ps(e),{dimensionStyles:w}=as(e),{elevationClasses:k}=Is(e),{loaderClasses:C}=fv(e),{locationStyles:I}=qd(e),{positionClasses:O}=lm(e),{roundedClasses:L}=Ni(e),R=fm(e,n),B=Y(()=>e.link!==!1&&R.isLink.value),j=Y(()=>!e.disabled&&e.link!==!1&&(e.link||R.isClickable.value));return St(()=>{const Z=B.value?"a":e.tag,re=!!(r.title||e.title!=null),ie=!!(r.subtitle||e.subtitle!=null),Q=re||ie,se=!!(r.append||e.appendAvatar||e.appendIcon),H=!!(r.prepend||e.prependAvatar||e.prependIcon),$=!!(r.image||e.image),K=Q||H||se,ae=!!(r.text||e.text!=null);return vi(T(Z,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":j.value},s.value,u.value,h.value,y.value,k.value,C.value,O.value,L.value,g.value,e.class],style:[o.value,w.value,I.value,e.style],href:R.href.value,onClick:j.value&&R.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var te;return[$&&T("div",{key:"image",class:"v-card__image"},[r.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):T(mm,{key:"image-img",cover:!0,src:e.image},null)]),T(J0,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),K&&T(Gwe,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),ae&&T(Ao,{key:"text"},{default:()=>{var be;return[((be=r.text)==null?void 0:be.call(r))??e.text]}}),(te=r.default)==null?void 0:te.call(r),r.actions&&T(ec,null,{default:r.actions}),gc(j.value,"v-card")]}}),[[to("ripple"),j.value&&e.ripple]])}),{}}}),Zwe={props:["actions"],data(){return{}},methods:{async getServices(){let e=await eP();e=e.sort((t,n)=>t.name.localeCompare(n.name)),this.$store.commit("setServices",e),this.library_services=e},async logout(){this.$store.commit("logout")}},beforeMount(){this.getServices()}},Kwe={key:0},Xwe={key:0},Jwe={key:1};function Qwe(e,t,n,r,s,u){return vn(),Nn(Ka,{variant:"tonal",class:"mb-4",color:"info"},{default:De(()=>[T(Ao,null,{default:De(()=>[this.$store.state.loginKey?(vn(),xs("p",Kwe,[zt(" Logged in as "),rr("strong",null,Ss(this.$store.state.loginSubject),1),this.$store.state.loginAdmin?(vn(),xs("span",Xwe,[T(hl,{color:"info",class:"mx-2 my-2","prepend-icon":"mdi-shield-crown"},{default:De(()=>[zt(" Admin ")]),_:1})])):Kn("",!0),(vn(!0),xs(Gt,null,ig(this.$store.state.loginCodes,h=>(vn(),Nn(hl,{class:"mr-1",key:"chip_"+h},{default:De(()=>[T(nr,{left:""},{default:De(()=>[zt("mdi-map-legend")]),_:1}),zt(" "+Ss(e.library_services.length>0?e.library_services.filter(o=>o.code===h)[0].nice_name:h),1)]),_:2},1024))),128))])):Kn("",!0),this.$store.state.loginKey?Kn("",!0):(vn(),xs("p",Jwe,"You are not logged in."))]),_:1}),this.actions?(vn(),Nn(ec,{key:0},{default:De(()=>[T(Ws),this.$store.state.loginKey?(vn(),Nn(Jt,{key:0,color:"warning",variant:"tonal",text:"",onClick:u.logout},{default:De(()=>[zt(" Log out "),T(nr,{right:""},{default:De(()=>[zt("mdi-logout")]),_:1})]),_:1},8,["onClick"])):Kn("",!0),this.$store.state.loginKey?Kn("",!0):(vn(),Nn(Jt,{key:1,color:"info",size:"large",variant:"tonal",to:"/login","append-icon":"mdi-account-circle"},{default:De(()=>[zt(" Log in ")]),_:1}))]),_:1})):Kn("",!0)]),_:1})}const Sm=Qr(Zwe,[["render",Qwe]]);function eSe(){return tP().__VUE_DEVTOOLS_GLOBAL_HOOK__}function tP(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const tSe=typeof Proxy=="function",nSe="devtools-plugin:setup",rSe="plugin:settings:set";let hd,Wb;function iSe(){var e;return hd!==void 0||(typeof window<"u"&&window.performance?(hd=!0,Wb=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(hd=!0,Wb=globalThis.perf_hooks.performance):hd=!1),hd}function aSe(){return iSe()?Wb.now():Date.now()}class sSe{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const h in t.settings){const o=t.settings[h];r[h]=o.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let u=Object.assign({},r);try{const h=localStorage.getItem(s),o=JSON.parse(h);Object.assign(u,o)}catch{}this.fallbacks={getSettings(){return u},setSettings(h){try{localStorage.setItem(s,JSON.stringify(h))}catch{}u=h},now(){return aSe()}},n&&n.on(rSe,(h,o)=>{h===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(h,o)=>this.target?this.target.on[o]:(...g)=>{this.onQueue.push({method:o,args:g})}}),this.proxiedTarget=new Proxy({},{get:(h,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...g)=>(this.targetQueue.push({method:o,args:g,resolve:()=>{}}),this.fallbacks[o](...g)):(...g)=>new Promise(y=>{this.targetQueue.push({method:o,args:g,resolve:y})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function oSe(e,t){const n=e,r=tP(),s=eSe(),u=tSe&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!u))s.emit(nSe,e,t);else{const h=u?new sSe(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:h}),h&&t(h.proxiedTarget)}}/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const vd=typeof document<"u";function lSe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const pr=Object.assign;function q_(e,t){const n={};for(const r in t){const s=t[r];n[r]=Js(s)?s.map(e):e(s)}return n}const Tf=()=>{},Js=Array.isArray,nP=/#/g,cSe=/&/g,uSe=/\//g,dSe=/=/g,hSe=/\?/g,rP=/\+/g,fSe=/%5B/g,mSe=/%5D/g,iP=/%5E/g,pSe=/%60/g,aP=/%7B/g,gSe=/%7C/g,sP=/%7D/g,vSe=/%20/g;function $x(e){return encodeURI(""+e).replace(gSe,"|").replace(fSe,"[").replace(mSe,"]")}function ySe(e){return $x(e).replace(aP,"{").replace(sP,"}").replace(iP,"^")}function Yb(e){return $x(e).replace(rP,"%2B").replace(vSe,"+").replace(nP,"%23").replace(cSe,"%26").replace(pSe,"`").replace(aP,"{").replace(sP,"}").replace(iP,"^")}function _Se(e){return Yb(e).replace(dSe,"%3D")}function bSe(e){return $x(e).replace(nP,"%23").replace(hSe,"%3F")}function xSe(e){return e==null?"":bSe(e).replace(uSe,"%2F")}function Xf(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const wSe=/\/$/,SSe=e=>e.replace(wSe,"");function j_(e,t,n="/"){let r,s={},u="",h="";const o=t.indexOf("#");let g=t.indexOf("?");return o<g&&o>=0&&(g=-1),g>-1&&(r=t.slice(0,g),u=t.slice(g+1,o>-1?o:t.length),s=e(u)),o>-1&&(r=r||t.slice(0,o),h=t.slice(o,t.length)),r=ASe(r??t,n),{fullPath:r+(u&&"?")+u+h,path:r,query:s,hash:Xf(h)}}function kSe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function WC(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function CSe(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Fd(t.matched[r],n.matched[s])&&oP(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Fd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function oP(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!TSe(e[n],t[n]))return!1;return!0}function TSe(e,t){return Js(e)?YC(e,t):Js(t)?YC(t,e):e===t}function YC(e,t){return Js(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function ASe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let u=n.length-1,h,o;for(h=0;h<r.length;h++)if(o=r[h],o!==".")if(o==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+r.slice(h).join("/")}const Gl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Jf;(function(e){e.pop="pop",e.push="push"})(Jf||(Jf={}));var Af;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Af||(Af={}));function ESe(e){if(!e)if(vd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),SSe(e)}const ISe=/^[^#]+#/;function PSe(e,t){return e.replace(ISe,"#")+t}function DSe(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Lv=()=>({left:window.scrollX,top:window.scrollY});function MSe(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=DSe(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function ZC(e,t){return(history.state?history.state.position-t:-1)+e}const Zb=new Map;function LSe(e,t){Zb.set(e,t)}function RSe(e){const t=Zb.get(e);return Zb.delete(e),t}let OSe=()=>location.protocol+"//"+location.host;function lP(e,t){const{pathname:n,search:r,hash:s}=t,u=e.indexOf("#");if(u>-1){let o=s.includes(e.slice(u))?e.slice(u).length:1,g=s.slice(o);return g[0]!=="/"&&(g="/"+g),WC(g,"")}return WC(n,e)+r+s}function FSe(e,t,n,r){let s=[],u=[],h=null;const o=({state:C})=>{const I=lP(e,location),O=n.value,L=t.value;let R=0;if(C){if(n.value=I,t.value=C,h&&h===O){h=null;return}R=L?C.position-L.position:0}else r(I);s.forEach(B=>{B(n.value,O,{delta:R,type:Jf.pop,direction:R?R>0?Af.forward:Af.back:Af.unknown})})};function g(){h=n.value}function y(C){s.push(C);const I=()=>{const O=s.indexOf(C);O>-1&&s.splice(O,1)};return u.push(I),I}function w(){const{history:C}=window;C.state&&C.replaceState(pr({},C.state,{scroll:Lv()}),"")}function k(){for(const C of u)C();u=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",w)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",w,{passive:!0}),{pauseListeners:g,listen:y,destroy:k}}function KC(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Lv():null}}function zSe(e){const{history:t,location:n}=window,r={value:lP(e,n)},s={value:t.state};s.value||u(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(g,y,w){const k=e.indexOf("#"),C=k>-1?(n.host&&document.querySelector("base")?e:e.slice(k))+g:OSe()+e+g;try{t[w?"replaceState":"pushState"](y,"",C),s.value=y}catch(I){console.error(I),n[w?"replace":"assign"](C)}}function h(g,y){const w=pr({},t.state,KC(s.value.back,g,s.value.forward,!0),y,{position:s.value.position});u(g,w,!0),r.value=g}function o(g,y){const w=pr({},s.value,t.state,{forward:g,scroll:Lv()});u(w.current,w,!0);const k=pr({},KC(r.value,g,null),{position:w.position+1},y);u(g,k,!1),r.value=g}return{location:r,state:s,push:o,replace:h}}function BSe(e){e=ESe(e);const t=zSe(e),n=FSe(e,t.state,t.location,t.replace);function r(u,h=!0){h||n.pauseListeners(),history.go(u)}const s=pr({location:"",base:e,go:r,createHref:PSe.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function VSe(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),BSe(e)}function NSe(e){return typeof e=="string"||e&&typeof e=="object"}function cP(e){return typeof e=="string"||typeof e=="symbol"}const uP=Symbol("");var XC;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(XC||(XC={}));function zd(e,t){return pr(new Error,{type:e,[uP]:!0},t)}function el(e,t){return e instanceof Error&&uP in e&&(t==null||!!(e.type&t))}const JC="[^/]+?",$Se={sensitive:!1,strict:!1,start:!0,end:!0},USe=/[.+*?^${}()[\]/\\]/g;function qSe(e,t){const n=pr({},$Se,t),r=[];let s=n.start?"^":"";const u=[];for(const y of e){const w=y.length?[]:[90];n.strict&&!y.length&&(s+="/");for(let k=0;k<y.length;k++){const C=y[k];let I=40+(n.sensitive?.25:0);if(C.type===0)k||(s+="/"),s+=C.value.replace(USe,"\\$&"),I+=40;else if(C.type===1){const{value:O,repeatable:L,optional:R,regexp:B}=C;u.push({name:O,repeatable:L,optional:R});const j=B||JC;if(j!==JC){I+=10;try{new RegExp(`(${j})`)}catch(re){throw new Error(`Invalid custom RegExp for param "${O}" (${j}): `+re.message)}}let Z=L?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;k||(Z=R&&y.length<2?`(?:/${Z})`:"/"+Z),R&&(Z+="?"),s+=Z,I+=20,R&&(I+=-8),L&&(I+=-20),j===".*"&&(I+=-50)}w.push(I)}r.push(w)}if(n.strict&&n.end){const y=r.length-1;r[y][r[y].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const h=new RegExp(s,n.sensitive?"":"i");function o(y){const w=y.match(h),k={};if(!w)return null;for(let C=1;C<w.length;C++){const I=w[C]||"",O=u[C-1];k[O.name]=I&&O.repeatable?I.split("/"):I}return k}function g(y){let w="",k=!1;for(const C of e){(!k||!w.endsWith("/"))&&(w+="/"),k=!1;for(const I of C)if(I.type===0)w+=I.value;else if(I.type===1){const{value:O,repeatable:L,optional:R}=I,B=O in y?y[O]:"";if(Js(B)&&!L)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const j=Js(B)?B.join("/"):B;if(!j)if(R)C.length<2&&(w.endsWith("/")?w=w.slice(0,-1):k=!0);else throw new Error(`Missing required param "${O}"`);w+=j}}return w||"/"}return{re:h,score:r,keys:u,parse:o,stringify:g}}function jSe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function dP(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const u=jSe(r[n],s[n]);if(u)return u;n++}if(Math.abs(s.length-r.length)===1){if(QC(r))return 1;if(QC(s))return-1}return s.length-r.length}function QC(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const HSe={type:0,value:""},GSe=/[a-zA-Z0-9_]/;function WSe(e){if(!e)return[[]];if(e==="/")return[[HSe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(I){throw new Error(`ERR (${n})/"${y}": ${I}`)}let n=0,r=n;const s=[];let u;function h(){u&&s.push(u),u=[]}let o=0,g,y="",w="";function k(){y&&(n===0?u.push({type:0,value:y}):n===1||n===2||n===3?(u.length>1&&(g==="*"||g==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:y,regexp:w,repeatable:g==="*"||g==="+",optional:g==="*"||g==="?"})):t("Invalid state to consume buffer"),y="")}function C(){y+=g}for(;o<e.length;){if(g=e[o++],g==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:g==="/"?(y&&k(),h()):g===":"?(k(),n=1):C();break;case 4:C(),n=r;break;case 1:g==="("?n=2:GSe.test(g)?C():(k(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&o--);break;case 2:g===")"?w[w.length-1]=="\\"?w=w.slice(0,-1)+g:n=3:w+=g;break;case 3:k(),n=0,g!=="*"&&g!=="?"&&g!=="+"&&o--,w="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${y}"`),k(),h(),s}function YSe(e,t,n){const r=qSe(WSe(e.path),n),s=pr(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function ZSe(e,t){const n=[],r=new Map;t=n2({strict:!1,end:!0,sensitive:!1},t);function s(k){return r.get(k)}function u(k,C,I){const O=!I,L=KSe(k);L.aliasOf=I&&I.record;const R=n2(t,k),B=[L];if("alias"in k){const re=typeof k.alias=="string"?[k.alias]:k.alias;for(const ie of re)B.push(pr({},L,{components:I?I.record.components:L.components,path:ie,aliasOf:I?I.record:L}))}let j,Z;for(const re of B){const{path:ie}=re;if(C&&ie[0]!=="/"){const Q=C.record.path,se=Q[Q.length-1]==="/"?"":"/";re.path=C.record.path+(ie&&se+ie)}if(j=YSe(re,C,R),I?I.alias.push(j):(Z=Z||j,Z!==j&&Z.alias.push(j),O&&k.name&&!t2(j)&&h(k.name)),hP(j)&&g(j),L.children){const Q=L.children;for(let se=0;se<Q.length;se++)u(Q[se],j,I&&I.children[se])}I=I||j}return Z?()=>{h(Z)}:Tf}function h(k){if(cP(k)){const C=r.get(k);C&&(r.delete(k),n.splice(n.indexOf(C),1),C.children.forEach(h),C.alias.forEach(h))}else{const C=n.indexOf(k);C>-1&&(n.splice(C,1),k.record.name&&r.delete(k.record.name),k.children.forEach(h),k.alias.forEach(h))}}function o(){return n}function g(k){const C=QSe(k,n);n.splice(C,0,k),k.record.name&&!t2(k)&&r.set(k.record.name,k)}function y(k,C){let I,O={},L,R;if("name"in k&&k.name){if(I=r.get(k.name),!I)throw zd(1,{location:k});R=I.record.name,O=pr(e2(C.params,I.keys.filter(Z=>!Z.optional).concat(I.parent?I.parent.keys.filter(Z=>Z.optional):[]).map(Z=>Z.name)),k.params&&e2(k.params,I.keys.map(Z=>Z.name))),L=I.stringify(O)}else if(k.path!=null)L=k.path,I=n.find(Z=>Z.re.test(L)),I&&(O=I.parse(L),R=I.record.name);else{if(I=C.name?r.get(C.name):n.find(Z=>Z.re.test(C.path)),!I)throw zd(1,{location:k,currentLocation:C});R=I.record.name,O=pr({},C.params,k.params),L=I.stringify(O)}const B=[];let j=I;for(;j;)B.unshift(j.record),j=j.parent;return{name:R,path:L,params:O,matched:B,meta:JSe(B)}}e.forEach(k=>u(k));function w(){n.length=0,r.clear()}return{addRoute:u,resolve:y,removeRoute:h,clearRoutes:w,getRoutes:o,getRecordMatcher:s}}function e2(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function KSe(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:XSe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function XSe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function t2(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function JSe(e){return e.reduce((t,n)=>pr(t,n.meta),{})}function n2(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function QSe(e,t){let n=0,r=t.length;for(;n!==r;){const u=n+r>>1;dP(e,t[u])<0?r=u:n=u+1}const s=eke(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function eke(e){let t=e;for(;t=t.parent;)if(hP(t)&&dP(e,t)===0)return t}function hP({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function tke(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const u=r[s].replace(rP," "),h=u.indexOf("="),o=Xf(h<0?u:u.slice(0,h)),g=h<0?null:Xf(u.slice(h+1));if(o in t){let y=t[o];Js(y)||(y=t[o]=[y]),y.push(g)}else t[o]=g}return t}function r2(e){let t="";for(let n in e){const r=e[n];if(n=_Se(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Js(r)?r.map(u=>u&&Yb(u)):[r&&Yb(r)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function nke(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Js(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const rke=Symbol(""),i2=Symbol(""),Ux=Symbol(""),qx=Symbol(""),Kb=Symbol("");function mf(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Jl(e,t,n,r,s,u=h=>h()){const h=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,g)=>{const y=C=>{C===!1?g(zd(4,{from:n,to:t})):C instanceof Error?g(C):NSe(C)?g(zd(2,{from:t,to:C})):(h&&r.enterCallbacks[s]===h&&typeof C=="function"&&h.push(C),o())},w=u(()=>e.call(r&&r.instances[s],t,n,y));let k=Promise.resolve(w);e.length<3&&(k=k.then(y)),k.catch(C=>g(C))})}function H_(e,t,n,r,s=u=>u()){const u=[];for(const h of e)for(const o in h.components){let g=h.components[o];if(!(t!=="beforeRouteEnter"&&!h.instances[o]))if(ike(g)){const w=(g.__vccOpts||g)[t];w&&u.push(Jl(w,n,r,h,o,s))}else{let y=g();u.push(()=>y.then(w=>{if(!w)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${h.path}"`));const k=lSe(w)?w.default:w;h.components[o]=k;const I=(k.__vccOpts||k)[t];return I&&Jl(I,n,r,h,o,s)()}))}}return u}function ike(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function a2(e){const t=yt(Ux),n=yt(qx),r=Y(()=>{const g=Br(e.to);return t.resolve(g)}),s=Y(()=>{const{matched:g}=r.value,{length:y}=g,w=g[y-1],k=n.matched;if(!w||!k.length)return-1;const C=k.findIndex(Fd.bind(null,w));if(C>-1)return C;const I=s2(g[y-2]);return y>1&&s2(w)===I&&k[k.length-1].path!==I?k.findIndex(Fd.bind(null,g[y-2])):C}),u=Y(()=>s.value>-1&&lke(n.params,r.value.params)),h=Y(()=>s.value>-1&&s.value===n.matched.length-1&&oP(n.params,r.value.params));function o(g={}){return oke(g)?t[Br(e.replace)?"replace":"push"](Br(e.to)).catch(Tf):Promise.resolve()}return{route:r,href:Y(()=>r.value.href),isActive:u,isExactActive:h,navigate:o}}const ake=lr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:a2,setup(e,{slots:t}){const n=Ai(a2(e)),{options:r}=yt(Ux),s=Y(()=>({[o2(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[o2(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:Jr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},u)}}}),ske=ake;function oke(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function lke(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Js(s)||s.length!==r.length||r.some((u,h)=>u!==s[h]))return!1}return!0}function s2(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const o2=(e,t,n)=>e??t??n,cke=lr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=yt(Kb),s=Y(()=>e.route||r.value),u=yt(i2,0),h=Y(()=>{let y=Br(u);const{matched:w}=s.value;let k;for(;(k=w[y])&&!k.components;)y++;return y}),o=Y(()=>s.value.matched[h.value]);wn(i2,Y(()=>h.value+1)),wn(rke,o),wn(Kb,s);const g=ht();return ut(()=>[g.value,o.value,e.name],([y,w,k],[C,I,O])=>{w&&(w.instances[k]=y,I&&I!==w&&y&&y===C&&(w.leaveGuards.size||(w.leaveGuards=I.leaveGuards),w.updateGuards.size||(w.updateGuards=I.updateGuards))),y&&w&&(!I||!Fd(w,I)||!C)&&(w.enterCallbacks[k]||[]).forEach(L=>L(y))},{flush:"post"}),()=>{const y=s.value,w=e.name,k=o.value,C=k&&k.components[w];if(!C)return l2(n.default,{Component:C,route:y});const I=k.props[w],O=I?I===!0?y.params:typeof I=="function"?I(y):I:null,R=Jr(C,pr({},O,t,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(k.instances[w]=null)},ref:g}));return l2(n.default,{Component:R,route:y})||R}}});function l2(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const uke=cke;function dke(e){const t=ZSe(e.routes,e),n=e.parseQuery||tke,r=e.stringifyQuery||r2,s=e.history,u=mf(),h=mf(),o=mf(),g=Rt(Gl);let y=Gl;vd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=q_.bind(null,Ne=>""+Ne),k=q_.bind(null,xSe),C=q_.bind(null,Xf);function I(Ne,tt){let je,et;return cP(Ne)?(je=t.getRecordMatcher(Ne),et=tt):et=Ne,t.addRoute(et,je)}function O(Ne){const tt=t.getRecordMatcher(Ne);tt&&t.removeRoute(tt)}function L(){return t.getRoutes().map(Ne=>Ne.record)}function R(Ne){return!!t.getRecordMatcher(Ne)}function B(Ne,tt){if(tt=pr({},tt||g.value),typeof Ne=="string"){const fe=j_(n,Ne,tt.path),Me=t.resolve({path:fe.path},tt),Xe=s.createHref(fe.fullPath);return pr(fe,Me,{params:C(Me.params),hash:Xf(fe.hash),redirectedFrom:void 0,href:Xe})}let je;if(Ne.path!=null)je=pr({},Ne,{path:j_(n,Ne.path,tt.path).path});else{const fe=pr({},Ne.params);for(const Me in fe)fe[Me]==null&&delete fe[Me];je=pr({},Ne,{params:k(fe)}),tt.params=k(tt.params)}const et=t.resolve(je,tt),Je=Ne.hash||"";et.params=w(C(et.params));const It=kSe(r,pr({},Ne,{hash:ySe(Je),path:et.path})),oe=s.createHref(It);return pr({fullPath:It,hash:Je,query:r===r2?nke(Ne.query):Ne.query||{}},et,{redirectedFrom:void 0,href:oe})}function j(Ne){return typeof Ne=="string"?j_(n,Ne,g.value.path):pr({},Ne)}function Z(Ne,tt){if(y!==Ne)return zd(8,{from:tt,to:Ne})}function re(Ne){return se(Ne)}function ie(Ne){return re(pr(j(Ne),{replace:!0}))}function Q(Ne){const tt=Ne.matched[Ne.matched.length-1];if(tt&&tt.redirect){const{redirect:je}=tt;let et=typeof je=="function"?je(Ne):je;return typeof et=="string"&&(et=et.includes("?")||et.includes("#")?et=j(et):{path:et},et.params={}),pr({query:Ne.query,hash:Ne.hash,params:et.path!=null?{}:Ne.params},et)}}function se(Ne,tt){const je=y=B(Ne),et=g.value,Je=Ne.state,It=Ne.force,oe=Ne.replace===!0,fe=Q(je);if(fe)return se(pr(j(fe),{state:typeof fe=="object"?pr({},Je,fe.state):Je,force:It,replace:oe}),tt||je);const Me=je;Me.redirectedFrom=tt;let Xe;return!It&&CSe(r,et,je)&&(Xe=zd(16,{to:Me,from:et}),$e(et,et,!0,!1)),(Xe?Promise.resolve(Xe):K(Me,et)).catch(Ze=>el(Ze)?el(Ze,2)?Ze:Ve(Ze):Fe(Ze,Me,et)).then(Ze=>{if(Ze){if(el(Ze,2))return se(pr({replace:oe},j(Ze.to),{state:typeof Ze.to=="object"?pr({},Je,Ze.to.state):Je,force:It}),tt||Me)}else Ze=te(Me,et,!0,oe,Je);return ae(Me,et,Ze),Ze})}function H(Ne,tt){const je=Z(Ne,tt);return je?Promise.reject(je):Promise.resolve()}function $(Ne){const tt=Ct.values().next().value;return tt&&typeof tt.runWithContext=="function"?tt.runWithContext(Ne):Ne()}function K(Ne,tt){let je;const[et,Je,It]=hke(Ne,tt);je=H_(et.reverse(),"beforeRouteLeave",Ne,tt);for(const fe of et)fe.leaveGuards.forEach(Me=>{je.push(Jl(Me,Ne,tt))});const oe=H.bind(null,Ne,tt);return je.push(oe),gt(je).then(()=>{je=[];for(const fe of u.list())je.push(Jl(fe,Ne,tt));return je.push(oe),gt(je)}).then(()=>{je=H_(Je,"beforeRouteUpdate",Ne,tt);for(const fe of Je)fe.updateGuards.forEach(Me=>{je.push(Jl(Me,Ne,tt))});return je.push(oe),gt(je)}).then(()=>{je=[];for(const fe of It)if(fe.beforeEnter)if(Js(fe.beforeEnter))for(const Me of fe.beforeEnter)je.push(Jl(Me,Ne,tt));else je.push(Jl(fe.beforeEnter,Ne,tt));return je.push(oe),gt(je)}).then(()=>(Ne.matched.forEach(fe=>fe.enterCallbacks={}),je=H_(It,"beforeRouteEnter",Ne,tt,$),je.push(oe),gt(je))).then(()=>{je=[];for(const fe of h.list())je.push(Jl(fe,Ne,tt));return je.push(oe),gt(je)}).catch(fe=>el(fe,8)?fe:Promise.reject(fe))}function ae(Ne,tt,je){o.list().forEach(et=>$(()=>et(Ne,tt,je)))}function te(Ne,tt,je,et,Je){const It=Z(Ne,tt);if(It)return It;const oe=tt===Gl,fe=vd?history.state:{};je&&(et||oe?s.replace(Ne.fullPath,pr({scroll:oe&&fe&&fe.scroll},Je)):s.push(Ne.fullPath,Je)),g.value=Ne,$e(Ne,tt,je,oe),Ve()}let be;function me(){be||(be=s.listen((Ne,tt,je)=>{if(!$t.listening)return;const et=B(Ne),Je=Q(et);if(Je){se(pr(Je,{replace:!0}),et).catch(Tf);return}y=et;const It=g.value;vd&&LSe(ZC(It.fullPath,je.delta),Lv()),K(et,It).catch(oe=>el(oe,12)?oe:el(oe,2)?(se(oe.to,et).then(fe=>{el(fe,20)&&!je.delta&&je.type===Jf.pop&&s.go(-1,!1)}).catch(Tf),Promise.reject()):(je.delta&&s.go(-je.delta,!1),Fe(oe,et,It))).then(oe=>{oe=oe||te(et,It,!1),oe&&(je.delta&&!el(oe,8)?s.go(-je.delta,!1):je.type===Jf.pop&&el(oe,20)&&s.go(-1,!1)),ae(et,It,oe)}).catch(Tf)}))}let Ie=mf(),Ae=mf(),Ue;function Fe(Ne,tt,je){Ve(Ne);const et=Ae.list();return et.length?et.forEach(Je=>Je(Ne,tt,je)):console.error(Ne),Promise.reject(Ne)}function Ce(){return Ue&&g.value!==Gl?Promise.resolve():new Promise((Ne,tt)=>{Ie.add([Ne,tt])})}function Ve(Ne){return Ue||(Ue=!Ne,me(),Ie.list().forEach(([tt,je])=>Ne?je(Ne):tt()),Ie.reset()),Ne}function $e(Ne,tt,je,et){const{scrollBehavior:Je}=e;if(!vd||!Je)return Promise.resolve();const It=!je&&RSe(ZC(Ne.fullPath,0))||(et||!je)&&history.state&&history.state.scroll||null;return Xn().then(()=>Je(Ne,tt,It)).then(oe=>oe&&MSe(oe)).catch(oe=>Fe(oe,Ne,tt))}const qe=Ne=>s.go(Ne);let pt;const Ct=new Set,$t={currentRoute:g,listening:!0,addRoute:I,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:R,getRoutes:L,resolve:B,options:e,push:re,replace:ie,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:u.add,beforeResolve:h.add,afterEach:o.add,onError:Ae.add,isReady:Ce,install(Ne){const tt=this;Ne.component("RouterLink",ske),Ne.component("RouterView",uke),Ne.config.globalProperties.$router=tt,Object.defineProperty(Ne.config.globalProperties,"$route",{enumerable:!0,get:()=>Br(g)}),vd&&!pt&&g.value===Gl&&(pt=!0,re(s.location).catch(Je=>{}));const je={};for(const Je in Gl)Object.defineProperty(je,Je,{get:()=>g.value[Je],enumerable:!0});Ne.provide(Ux,tt),Ne.provide(qx,W2(je)),Ne.provide(Kb,g);const et=Ne.unmount;Ct.add(Ne),Ne.unmount=function(){Ct.delete(Ne),Ct.size<1&&(y=Gl,be&&be(),be=null,g.value=Gl,pt=!1,Ue=!1),et()}}};function gt(Ne){return Ne.reduce((tt,je)=>tt.then(()=>$(je)),Promise.resolve())}return $t}function hke(e,t){const n=[],r=[],s=[],u=Math.max(t.matched.length,e.matched.length);for(let h=0;h<u;h++){const o=t.matched[h];o&&(e.matched.find(y=>Fd(y,o))?r.push(o):n.push(o));const g=e.matched[h];g&&(t.matched.find(y=>Fd(y,g))||s.push(g))}return[n,r,s]}function fke(e){return yt(qx)}const mke=`In 2019 a set of library workers collaborated on the [public library data schemas](https://schema.librarydata.uk/). These were designed to help public library services publish open data.

Here are some resources about that project:

- DCMS blog - [Libraries and open data](https://dcmslibraries.blog.gov.uk/2019/09/06/libraries-and-open-data/)
- DCMS blog - [Open data - an update](https://dcmslibraries.blog.gov.uk/2020/08/03/library-open-data-an-update/)
- Frictionless Data blog - [Libraries Hacked](https://frictionlessdata.io/blog/2022/02/07/libraries-hacked/#schemas-and-frictionless-data) - a case study of using Table Schema to create a public library data schemas.

This website is to provide tools to use those schemas.

- Tools for publishing and validating data
- Visualisations from the data
- Data analysis techniques using the data.
- Data tools to aid in decision-making
`,pke={data(){return{mdText:mke}},methods:{},components:{}};function gke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"About",subtitle:"What the site is and does, and who for"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const vke=Qr(pke,[["render",gke]]),yke=`We want as many people as possible to be able to use this website. For example, that means you should be able to:

- change colours, contrast levels and fonts
- zoom in up to 300% without the text spilling off the screen
- navigate most of the website using just a keyboard
- navigate most of the website using speech recognition software
- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)

We've also made the website text as simple as possible to understand.

[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.

## Technical information about this website's accessibility

This website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).

There are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible, we are looking at making sure the information presented by the map is also available in other formats.

If you do experience any problems using this website, please raise these and [send us an email](mailto:info@librarieshacked.org).
`,_ke={data(){return{mdText:yke}},methods:{},components:{}};function bke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const xke=Qr(_ke,[["render",bke]]),wke=`An event is any event facilitated or organised by the library service.

Events data is in a **time-series** format. Data is maintained by adding new data (e.g. the next months events).
`,Ske={data(){return{mdText:wke}},methods:{},components:{}},kke={class:"text-center"};function Cke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Events",subtitle:"Library event attendance and outcomes"}),rr("p",kke,[T(Jt,{variant:"tonal",size:"large",color:"info",href:"https://schema.librarydata.uk/events",target:"_blank"},{default:De(()=>[zt(" Explore the events schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const Tke=Qr(Ske,[["render",Cke]]),Ake=`We provide tools to help libraries publish and use open data.

Inspired by the public library [open data schemas](https://schema.librarydata.uk), each tool is tailored for a different dataset documented in that project. See the [about page](/about) for more background.
`,Eke={data(){return{mdText:Ake}},methods:{},components:{}},Ike={key:1};function Pke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),g=Sm;return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Create",subtitle:"Helping libraries publish and utilise open data"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),this.$store.state.loginKey?Kn("",!0):(vn(),Nn(Mr,{key:0,class:"text-center"},{default:De(()=>[T(Jt,{"prepend-icon":"mdi-login-variant",variant:"tonal",size:"x-large",color:"success",class:"mx-1 my-1",to:"/login"},{default:De(()=>[zt(" Log in ")]),_:1})]),_:1})),this.$store.state.loginKey?(vn(),xs("div",Ike,[T(g,{actions:!0})])):Kn("",!0)]),_:1})}const Dke=Qr(Eke,[["render",Pke]]),Mke=`A library is a static service point which provides library services for the public.

Library locaions are a data **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,Lke={data(){return{mdText:Mke}},methods:{},components:{}},Rke={class:"text-center"};function Oke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Libraries",subtitle:"Public library locations, hours, and contact details"}),rr("p",Rke,[T(Jt,{size:"large","prepend-icon":"mdi-information",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/libraries",target:"_blank"},{default:De(()=>[zt(" Explore the locations schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const Fke=Qr(Lke,[["render",Oke]]),zke=We({renderless:Boolean,...un()},"VVirtualScrollItem"),Bke=ft()({name:"VVirtualScrollItem",inheritAttrs:!1,props:zke(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{resizeRef:u,contentRect:h}=oc(void 0,"border");ut(()=>{var o;return(o=h.value)==null?void 0:o.height},o=>{o!=null&&r("update:height",o)}),St(()=>{var o,g;return e.renderless?T(Gt,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:u})]):T("div",lt({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(g=s.default)==null?void 0:g.call(s)])})}}),Vke=-1,Nke=1,G_=100,$ke=We({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Uke(e,t){const n=vl(),r=Rt(0);yi(()=>{r.value=parseFloat(e.itemHeight||0)});const s=Rt(0),u=Rt(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),h=Rt(0),o=Rt(0),g=ht(),y=ht();let w=0;const{resizeRef:k,contentRect:C}=oc();yi(()=>{k.value=g.value});const I=Y(()=>{var Ce;return g.value===document.documentElement?n.height.value:((Ce=C.value)==null?void 0:Ce.height)||parseInt(e.height)||0}),O=Y(()=>!!(g.value&&y.value&&I.value&&r.value));let L=Array.from({length:t.value.length}),R=Array.from({length:t.value.length});const B=Rt(0);let j=-1;function Z(Ce){return L[Ce]||r.value}const re=mF(()=>{const Ce=performance.now();R[0]=0;const Ve=t.value.length;for(let $e=1;$e<=Ve-1;$e++)R[$e]=(R[$e-1]||0)+Z($e-1);B.value=Math.max(B.value,performance.now()-Ce)},B),ie=ut(O,Ce=>{Ce&&(ie(),w=y.value.offsetTop,re.immediate(),Ie(),~j&&Xn(()=>{dr&&window.requestAnimationFrame(()=>{Ue(j),j=-1})}))});ha(()=>{re.clear()});function Q(Ce,Ve){const $e=L[Ce],qe=r.value;r.value=qe?Math.min(r.value,Ve):Ve,($e!==Ve||qe!==r.value)&&(L[Ce]=Ve,re())}function se(Ce){return Ce=Zi(Ce,0,t.value.length-1),R[Ce]||0}function H(Ce){return qke(R,Ce)}let $=0,K=0,ae=0;ut(I,(Ce,Ve)=>{Ve&&(Ie(),Ce<Ve&&requestAnimationFrame(()=>{K=0,Ie()}))});function te(){if(!g.value||!y.value)return;const Ce=g.value.scrollTop,Ve=performance.now();Ve-ae>500?(K=Math.sign(Ce-$),w=y.value.offsetTop):K=Ce-$,$=Ce,ae=Ve,Ie()}function be(){!g.value||!y.value||(K=0,ae=0,Ie())}let me=-1;function Ie(){cancelAnimationFrame(me),me=requestAnimationFrame(Ae)}function Ae(){if(!g.value||!I.value)return;const Ce=$-w,Ve=Math.sign(K),$e=Math.max(0,Ce-G_),qe=Zi(H($e),0,t.value.length),pt=Ce+I.value+G_,Ct=Zi(H(pt)+1,qe+1,t.value.length);if((Ve!==Vke||qe<s.value)&&(Ve!==Nke||Ct>u.value)){const $t=se(s.value)-se(qe),gt=se(Ct)-se(u.value);Math.max($t,gt)>G_?(s.value=qe,u.value=Ct):(qe<=0&&(s.value=qe),Ct>=t.value.length&&(u.value=Ct))}h.value=se(s.value),o.value=se(t.value.length)-se(u.value)}function Ue(Ce){const Ve=se(Ce);!g.value||Ce&&!Ve?j=Ce:g.value.scrollTop=Ve}const Fe=Y(()=>t.value.slice(s.value,u.value).map((Ce,Ve)=>({raw:Ce,index:Ve+s.value})));return ut(t,()=>{L=Array.from({length:t.value.length}),R=Array.from({length:t.value.length}),re.immediate(),Ie()},{deep:!0}),{calculateVisibleItems:Ie,containerRef:g,markerRef:y,computedItems:Fe,paddingTop:h,paddingBottom:o,scrollToIndex:Ue,handleScroll:te,handleScrollend:be,handleItemResize:Q}}function qke(e,t){let n=e.length-1,r=0,s=0,u=null,h=-1;if(e[n]<t)return n;for(;r<=n;)if(s=r+n>>1,u=e[s],u>t)n=s-1;else if(u<t)h=s,r=s+1;else return u===t?s:r;return h}const jke=We({items:{type:Array,default:()=>[]},renderless:Boolean,...$ke(),...un(),...is()},"VVirtualScroll"),fP=ft()({name:"VVirtualScroll",props:jke(),setup(e,t){let{slots:n}=t;const r=Yr("VVirtualScroll"),{dimensionStyles:s}=as(e),{calculateVisibleItems:u,containerRef:h,markerRef:o,handleScroll:g,handleScrollend:y,handleItemResize:w,scrollToIndex:k,paddingTop:C,paddingBottom:I,computedItems:O}=Uke(e,bt(e,"items"));return Ba(()=>e.renderless,()=>{function L(){var j,Z;const B=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";h.value===document.documentElement?(document[B]("scroll",g,{passive:!0}),document[B]("scrollend",y)):((j=h.value)==null||j[B]("scroll",g,{passive:!0}),(Z=h.value)==null||Z[B]("scrollend",y))}Vi(()=>{h.value=aA(r.vnode.el,!0),L(!0)}),ha(L)}),St(()=>{const L=O.value.map(R=>T(Bke,{key:R.index,renderless:e.renderless,"onUpdate:height":B=>w(R.index,B)},{default:B=>{var j;return(j=n.default)==null?void 0:j.call(n,{item:R.raw,index:R.index,...B})}}));return e.renderless?T(Gt,null,[T("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ht(C.value)}},null),L,T("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ht(I.value)}},null)]):T("div",{ref:h,class:["v-virtual-scroll",e.class],onScrollPassive:g,onScrollend:y,style:[s.value,e.style]},[T("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ht(C.value),paddingBottom:Ht(I.value)}},[L])])}),{calculateVisibleItems:u,scrollToIndex:k}}});function mP(e,t){const n=Rt(!1);let r;function s(o){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function u(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const g=ut(n,()=>{g(),o()})}else o()})}async function h(o){var w,k;if(o.key==="Tab"&&((w=t.value)==null||w.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const g=(k=e.value)==null?void 0:k.$el;if(!g)return;(o.key==="Home"||o.key==="End")&&g.scrollTo({top:o.key==="Home"?0:g.scrollHeight,behavior:"smooth"}),await u();const y=g.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const C=g.getBoundingClientRect().top;for(const I of y)if(I.getBoundingClientRect().top>=C){I.focus();break}}else{const C=g.getBoundingClientRect().bottom;for(const I of[...y].reverse())if(I.getBoundingClientRect().bottom<=C){I.focus();break}}}return{onScrollPassive:s,onKeydown:h}}const pP=We({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:mn,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...XE({itemChildren:!1})},"Select"),Hke=We({...pP(),...Tr(vm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...bu({transition:{component:ex}})},"VSelect"),Bd=ft()({name:"VSelect",props:Hke(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=si(),s=ht(),u=ht(),h=ht(),o=fn(e,"menu"),g=Y({get:()=>o.value,set:Ce=>{var Ve;o.value&&!Ce&&((Ve=u.value)!=null&&Ve.ΨopenChildren.size)||(o.value=Ce)}}),{items:y,transformIn:w,transformOut:k}=QE(e),C=fn(e,"modelValue",[],Ce=>w(Ce===null?[null]:Wr(Ce)),Ce=>{const Ve=k(Ce);return e.multiple?Ve:Ve[0]??null}),I=Y(()=>typeof e.counterValue=="function"?e.counterValue(C.value):typeof e.counterValue=="number"?e.counterValue:C.value.length),O=yv(),L=Y(()=>C.value.map(Ce=>Ce.value)),R=Rt(!1),B=Y(()=>g.value?e.closeText:e.openText);let j="",Z;const re=Y(()=>e.hideSelected?y.value.filter(Ce=>!C.value.some(Ve=>e.valueComparator(Ve,Ce))):y.value),ie=Y(()=>e.hideNoData&&!re.value.length||e.readonly||(O==null?void 0:O.isReadonly.value)),Q=Y(()=>{var Ce;return{...e.menuProps,activatorProps:{...((Ce=e.menuProps)==null?void 0:Ce.activatorProps)||{},"aria-haspopup":"listbox"}}}),se=ht(),H=mP(se,s);function $(Ce){e.openOnClear&&(g.value=!0)}function K(){ie.value||(g.value=!g.value)}function ae(Ce){hb(Ce)&&te(Ce)}function te(Ce){var pt,Ct;if(!Ce.key||e.readonly||O!=null&&O.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Ce.key)&&Ce.preventDefault(),["Enter","ArrowDown"," "].includes(Ce.key)&&(g.value=!0),["Escape","Tab"].includes(Ce.key)&&(g.value=!1),Ce.key==="Home"?(pt=se.value)==null||pt.focus("first"):Ce.key==="End"&&((Ct=se.value)==null||Ct.focus("last"));const Ve=1e3;if(e.multiple||!hb(Ce))return;const $e=performance.now();$e-Z>Ve&&(j=""),j+=Ce.key.toLowerCase(),Z=$e;const qe=y.value.find($t=>$t.title.toLowerCase().startsWith(j));if(qe!==void 0){C.value=[qe];const $t=re.value.indexOf(qe);dr&&window.requestAnimationFrame(()=>{var gt;$t>=0&&((gt=h.value)==null||gt.scrollToIndex($t))})}}function be(Ce){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Ce.props.disabled)if(e.multiple){const $e=C.value.findIndex(pt=>e.valueComparator(pt.value,Ce.value)),qe=Ve??!~$e;if(~$e){const pt=qe?[...C.value,Ce]:[...C.value];pt.splice($e,1),C.value=pt}else qe&&(C.value=[...C.value,Ce])}else{const $e=Ve!==!1;C.value=$e?[Ce]:[],Xn(()=>{g.value=!1})}}function me(Ce){var Ve;(Ve=se.value)!=null&&Ve.$el.contains(Ce.relatedTarget)||(g.value=!1)}function Ie(){var Ce;e.eager&&((Ce=h.value)==null||Ce.calculateVisibleItems())}function Ae(){var Ce;R.value&&((Ce=s.value)==null||Ce.focus())}function Ue(Ce){R.value=!0}function Fe(Ce){if(Ce==null)C.value=[];else if(Ld(s.value,":autofill")||Ld(s.value,":-webkit-autofill")){const Ve=y.value.find($e=>$e.title===Ce);Ve&&be(Ve)}else s.value&&(s.value.value="")}return ut(g,()=>{if(!e.hideSelected&&g.value&&C.value.length){const Ce=re.value.findIndex(Ve=>C.value.some($e=>e.valueComparator($e.value,Ve.value)));dr&&window.requestAnimationFrame(()=>{var Ve;Ce>=0&&((Ve=h.value)==null||Ve.scrollToIndex(Ce))})}}),ut(()=>e.items,(Ce,Ve)=>{g.value||R.value&&!Ve.length&&Ce.length&&(g.value=!0)}),St(()=>{const Ce=!!(e.chips||n.chip),Ve=!!(!e.hideNoData||re.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),$e=C.value.length>0,qe=ii.filterProps(e),pt=$e||!R.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return T(ii,lt({ref:s},qe,{modelValue:C.value.map(Ct=>Ct.props.value).join(", "),"onUpdate:modelValue":Fe,focused:R.value,"onUpdate:focused":Ct=>R.value=Ct,validationValue:C.externalValue,counterValue:I.value,dirty:$e,class:["v-select",{"v-select--active-menu":g.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":C.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:pt,"onClick:clear":$,"onMousedown:control":K,onBlur:me,onKeydown:te,"aria-label":r(B.value),title:r(B.value)}),{...n,default:()=>T(Gt,null,[T(cx,lt({ref:u,modelValue:g.value,"onUpdate:modelValue":Ct=>g.value=Ct,activator:"parent",contentClass:"v-select__content",disabled:ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Ie,onAfterLeave:Ae},Q.value),{default:()=>[Ve&&T(Wf,lt({ref:se,selected:L.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Ct=>Ct.preventDefault(),onKeydown:ae,onFocusin:Ue,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},H,e.listProps),{default:()=>{var Ct,$t,gt;return[(Ct=n["prepend-item"])==null?void 0:Ct.call(n),!re.value.length&&!e.hideNoData&&((($t=n["no-data"])==null?void 0:$t.call(n))??T(Dr,{title:r(e.noDataText)},null)),T(fP,{ref:h,renderless:!0,items:re.value},{default:Ne=>{var It;let{item:tt,index:je,itemRef:et}=Ne;const Je=lt(tt.props,{ref:et,key:je,onClick:()=>be(tt,null)});return((It=n.item)==null?void 0:It.call(n,{item:tt,index:je,props:Je}))??T(Dr,lt(Je,{role:"option"}),{prepend:oe=>{let{isSelected:fe}=oe;return T(Gt,null,[e.multiple&&!e.hideSelected?T(Wd,{key:tt.value,modelValue:fe,ripple:!1,tabindex:"-1"},null):void 0,tt.props.prependAvatar&&T(Io,{image:tt.props.prependAvatar},null),tt.props.prependIcon&&T(nr,{icon:tt.props.prependIcon},null)])}})}}),(gt=n["append-item"])==null?void 0:gt.call(n)]}})]}),C.value.map((Ct,$t)=>{function gt(et){et.stopPropagation(),et.preventDefault(),be(Ct,!1)}const Ne={"onClick:close":gt,onKeydown(et){et.key!=="Enter"&&et.key!==" "||(et.preventDefault(),et.stopPropagation(),gt(et))},onMousedown(et){et.preventDefault(),et.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},tt=Ce?!!n.chip:!!n.selection,je=tt?N0(Ce?n.chip({item:Ct,index:$t,props:Ne}):n.selection({item:Ct,index:$t})):void 0;if(!(tt&&!je))return T("div",{key:Ct.value,class:"v-select__selection"},[Ce?n.chip?T(Bn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Ct.title}}},{default:()=>[je]}):T(hl,lt({key:"chip",closable:e.closableChips,size:"small",text:Ct.title,disabled:Ct.props.disabled},Ne),null):je??T("span",{class:"v-select__selection-text"},[Ct.title,e.multiple&&$t<C.value.length-1&&T("span",{class:"v-select__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var Ne;for(var Ct=arguments.length,$t=new Array(Ct),gt=0;gt<Ct;gt++)$t[gt]=arguments[gt];return T(Gt,null,[(Ne=n["append-inner"])==null?void 0:Ne.call(n,...$t),e.menuIcon?T(nr,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),io({isFocused:R,menu:g,select:be},s)}});function Gke(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?T(Gt,null,[T("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),T("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),T("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const Wke=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...kx({filterKeys:["title"]}),...pP(),...Tr(vm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...bu({transition:!1})},"VAutocomplete"),Yke=ft()({name:"VAutocomplete",props:Wke(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=si(),s=ht(),u=Rt(!1),h=Rt(!0),o=Rt(!1),g=ht(),y=ht(),w=fn(e,"menu"),k=Y({get:()=>w.value,set:Je=>{var It;w.value&&!Je&&((It=g.value)!=null&&It.ΨopenChildren.size)||(w.value=Je)}}),C=Rt(-1),I=Y(()=>{var Je;return(Je=s.value)==null?void 0:Je.color}),O=Y(()=>k.value?e.closeText:e.openText),{items:L,transformIn:R,transformOut:B}=QE(e),{textColorClasses:j,textColorStyles:Z}=$a(I),re=fn(e,"search",""),ie=fn(e,"modelValue",[],Je=>R(Je===null?[null]:Wr(Je)),Je=>{const It=B(Je);return e.multiple?It:It[0]??null}),Q=Y(()=>typeof e.counterValue=="function"?e.counterValue(ie.value):typeof e.counterValue=="number"?e.counterValue:ie.value.length),se=yv(),{filteredItems:H,getMatches:$}=Cx(e,L,()=>h.value?"":re.value),K=Y(()=>e.hideSelected?H.value.filter(Je=>!ie.value.some(It=>It.value===Je.value)):H.value),ae=Y(()=>!!(e.chips||n.chip)),te=Y(()=>ae.value||!!n.selection),be=Y(()=>ie.value.map(Je=>Je.props.value)),me=Y(()=>{var It;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&re.value===((It=K.value[0])==null?void 0:It.title))&&K.value.length>0&&!h.value&&!o.value}),Ie=Y(()=>e.hideNoData&&!K.value.length||e.readonly||(se==null?void 0:se.isReadonly.value)),Ae=ht(),Ue=mP(Ae,s);function Fe(Je){e.openOnClear&&(k.value=!0),re.value=""}function Ce(){Ie.value||(k.value=!0)}function Ve(Je){Ie.value||(u.value&&(Je.preventDefault(),Je.stopPropagation()),k.value=!k.value)}function $e(Je){var It;hb(Je)&&((It=s.value)==null||It.focus())}function qe(Je){var fe,Me,Xe;if(e.readonly||se!=null&&se.isReadonly.value)return;const It=s.value.selectionStart,oe=ie.value.length;if((C.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Je.key))&&Je.preventDefault(),["Enter","ArrowDown"].includes(Je.key)&&(k.value=!0),["Escape"].includes(Je.key)&&(k.value=!1),me.value&&["Enter","Tab"].includes(Je.key)&&!ie.value.some(Ze=>{let{value:nt}=Ze;return nt===K.value[0].value})&&et(K.value[0]),Je.key==="ArrowDown"&&me.value&&((fe=Ae.value)==null||fe.focus("next")),["Backspace","Delete"].includes(Je.key)){if(!e.multiple&&te.value&&ie.value.length>0&&!re.value)return et(ie.value[0],!1);if(~C.value){const Ze=C.value;et(ie.value[C.value],!1),C.value=Ze>=oe-1?oe-2:Ze}else Je.key==="Backspace"&&!re.value&&(C.value=oe-1)}if(e.multiple){if(Je.key==="ArrowLeft"){if(C.value<0&&It>0)return;const Ze=C.value>-1?C.value-1:oe-1;ie.value[Ze]?C.value=Ze:(C.value=-1,s.value.setSelectionRange((Me=re.value)==null?void 0:Me.length,(Xe=re.value)==null?void 0:Xe.length))}if(Je.key==="ArrowRight"){if(C.value<0)return;const Ze=C.value+1;ie.value[Ze]?C.value=Ze:(C.value=-1,s.value.setSelectionRange(0,0))}}}function pt(Je){if(Ld(s.value,":autofill")||Ld(s.value,":-webkit-autofill")){const It=L.value.find(oe=>oe.title===Je.target.value);It&&et(It)}}function Ct(){var Je;e.eager&&((Je=y.value)==null||Je.calculateVisibleItems())}function $t(){var Je;u.value&&(h.value=!0,(Je=s.value)==null||Je.focus())}function gt(Je){u.value=!0,setTimeout(()=>{o.value=!0})}function Ne(Je){o.value=!1}function tt(Je){(Je==null||Je===""&&!e.multiple&&!te.value)&&(ie.value=[])}const je=Rt(!1);function et(Je){let It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Je||Je.props.disabled))if(e.multiple){const oe=ie.value.findIndex(Me=>e.valueComparator(Me.value,Je.value)),fe=It??!~oe;if(~oe){const Me=fe?[...ie.value,Je]:[...ie.value];Me.splice(oe,1),ie.value=Me}else fe&&(ie.value=[...ie.value,Je]);e.clearOnSelect&&(re.value="")}else{const oe=It!==!1;ie.value=oe?[Je]:[],re.value=oe&&!te.value?Je.title:"",Xn(()=>{k.value=!1,h.value=!0})}}return ut(u,(Je,It)=>{var oe;Je!==It&&(Je?(je.value=!0,re.value=e.multiple||te.value?"":String(((oe=ie.value.at(-1))==null?void 0:oe.props.title)??""),h.value=!0,Xn(()=>je.value=!1)):(!e.multiple&&re.value==null&&(ie.value=[]),k.value=!1,ie.value.some(fe=>{let{title:Me}=fe;return Me===re.value})||(re.value=""),C.value=-1))}),ut(re,Je=>{!u.value||je.value||(Je&&(k.value=!0),h.value=!Je)}),ut(k,()=>{if(!e.hideSelected&&k.value&&ie.value.length){const Je=K.value.findIndex(It=>ie.value.some(oe=>It.value===oe.value));dr&&window.requestAnimationFrame(()=>{var It;Je>=0&&((It=y.value)==null||It.scrollToIndex(Je))})}}),ut(()=>e.items,(Je,It)=>{k.value||u.value&&!It.length&&Je.length&&(k.value=!0)}),St(()=>{const Je=!!(!e.hideNoData||K.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),It=ie.value.length>0,oe=ii.filterProps(e);return T(ii,lt({ref:s},oe,{modelValue:re.value,"onUpdate:modelValue":[fe=>re.value=fe,tt],focused:u.value,"onUpdate:focused":fe=>u.value=fe,validationValue:ie.externalValue,counterValue:Q.value,dirty:It,onChange:pt,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":k.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!te.value,"v-autocomplete--selecting-index":C.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:It?void 0:e.placeholder,"onClick:clear":Fe,"onMousedown:control":Ce,onKeydown:qe}),{...n,default:()=>T(Gt,null,[T(cx,lt({ref:g,modelValue:k.value,"onUpdate:modelValue":fe=>k.value=fe,activator:"parent",contentClass:"v-autocomplete__content",disabled:Ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Ct,onAfterLeave:$t},e.menuProps),{default:()=>[Je&&T(Wf,lt({ref:Ae,selected:be.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:fe=>fe.preventDefault(),onKeydown:$e,onFocusin:gt,onFocusout:Ne,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Ue,e.listProps),{default:()=>{var fe,Me,Xe;return[(fe=n["prepend-item"])==null?void 0:fe.call(n),!K.value.length&&!e.hideNoData&&(((Me=n["no-data"])==null?void 0:Me.call(n))??T(Dr,{title:r(e.noDataText)},null)),T(fP,{ref:y,renderless:!0,items:K.value},{default:Ze=>{var Qe;let{item:nt,index:Tt,itemRef:ke}=Ze;const _t=lt(nt.props,{ref:ke,key:Tt,active:me.value&&Tt===0?!0:void 0,onClick:()=>et(nt,null)});return((Qe=n.item)==null?void 0:Qe.call(n,{item:nt,index:Tt,props:_t}))??T(Dr,lt(_t,{role:"option"}),{prepend:ct=>{let{isSelected:kt}=ct;return T(Gt,null,[e.multiple&&!e.hideSelected?T(Wd,{key:nt.value,modelValue:kt,ripple:!1,tabindex:"-1"},null):void 0,nt.props.prependAvatar&&T(Io,{image:nt.props.prependAvatar},null),nt.props.prependIcon&&T(nr,{icon:nt.props.prependIcon},null)])},title:()=>{var ct,kt;return h.value?nt.title:Gke(nt.title,(ct=$(nt))==null?void 0:ct.title,((kt=re.value)==null?void 0:kt.length)??0)}})}}),(Xe=n["append-item"])==null?void 0:Xe.call(n)]}})]}),ie.value.map((fe,Me)=>{function Xe(ke){ke.stopPropagation(),ke.preventDefault(),et(fe,!1)}const Ze={"onClick:close":Xe,onKeydown(ke){ke.key!=="Enter"&&ke.key!==" "||(ke.preventDefault(),ke.stopPropagation(),Xe(ke))},onMousedown(ke){ke.preventDefault(),ke.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},nt=ae.value?!!n.chip:!!n.selection,Tt=nt?N0(ae.value?n.chip({item:fe,index:Me,props:Ze}):n.selection({item:fe,index:Me})):void 0;if(!(nt&&!Tt))return T("div",{key:fe.value,class:["v-autocomplete__selection",Me===C.value&&["v-autocomplete__selection--selected",j.value]],style:Me===C.value?Z.value:{}},[ae.value?n.chip?T(Bn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:fe.title}}},{default:()=>[Tt]}):T(hl,lt({key:"chip",closable:e.closableChips,size:"small",text:fe.title,disabled:fe.props.disabled},Ze),null):Tt??T("span",{class:"v-autocomplete__selection-text"},[fe.title,e.multiple&&Me<ie.value.length-1&&T("span",{class:"v-autocomplete__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var Ze;for(var fe=arguments.length,Me=new Array(fe),Xe=0;Xe<fe;Xe++)Me[Xe]=arguments[Xe];return T(Gt,null,[(Ze=n["append-inner"])==null?void 0:Ze.call(n,...Me),e.menuIcon?T(nr,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Ve,onClick:yF,"aria-label":r(O.value),title:r(O.value),tabindex:"-1"},null):void 0])}})}),io({isFocused:u,isPristine:h,menu:k,search:re,filteredItems:H,select:et},s)}}),Zke={data(){return{libraryServices:[],selectedService:null}},created(){this.libraryServices=this.$store.state.libraryServices,this.libraryServices.length===0&&this.getServices()},methods:{deselectService(){this.selectedService=null,this.$emit("select",null)},async getServices(){let e=await eP();e=e.sort((t,n)=>t.nice_name.localeCompare(n.nice_name)),this.$store.commit("setServices",e),this.libraryServices=e},updateSelection(e){this.selectedService=e,this.$emit("select",this.selectedService)}}},Kke=rr("div",{class:"text-caption pa-3"},"Select local authority",-1);function Xke(e,t,n,r,s,u){return vn(),Nn(Ka,{elevation:"0",color:"grey-lighten-5"},{default:De(()=>[Kke,T(Yke,{"persistent-hint":"",variant:"outlined","bg-color":"white",class:"elevation-0",clearable:"",items:s.libraryServices,"item-title":"nice_name","item-value":"code",label:"Select local library authority","return-object":"",loading:s.libraryServices.length===0,"prepend-inner-icon":"mdi-domain","onUpdate:modelValue":u.updateSelection,hint:"You can type to search library services."},null,8,["items","loading","onUpdate:modelValue"]),s.selectedService!=null?(vn(),Nn(hl,{key:0,class:"ma-2",closable:"","onClick:close":t[0]||(t[0]=h=>u.deselectService())},{default:De(()=>[zt(Ss(s.selectedService.nice_name),1)]),_:1})):Kn("",!0)]),_:1})}const Rv=Qr(Zke,[["render",Xke]]),Jke=`This tool allows you to view and edit library service points, grouped by local authority. To make changes you must first [Log in](/login). At the end you must **publish changes** to ensure you overwrite the existing data.
`;var gP={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(Yc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,h={},o=0,g={parse:function(H,$){var K=($=$||{}).dynamicTyping||!1;if(se(K)&&($.dynamicTypingFunction=K,K={}),$.dynamicTyping=K,$.transform=!!se($.transform)&&$.transform,$.worker&&g.WORKERS_SUPPORTED){var ae=function(){if(!g.WORKERS_SUPPORTED)return!1;var be=(Ie=r.URL||r.webkitURL||null,Ae=n.toString(),g.BLOB_URL||(g.BLOB_URL=Ie.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ae,")();"],{type:"text/javascript"})))),me=new r.Worker(be),Ie,Ae;return me.onmessage=j,me.id=o++,h[me.id]=me}();return ae.userStep=$.step,ae.userChunk=$.chunk,ae.userComplete=$.complete,ae.userError=$.error,$.step=se($.step),$.chunk=se($.chunk),$.complete=se($.complete),$.error=se($.error),delete $.worker,void ae.postMessage({input:H,config:$,workerId:ae.id})}var te=null;return g.NODE_STREAM_INPUT,typeof H=="string"?(H=function(be){return be.charCodeAt(0)===65279?be.slice(1):be}(H),te=$.download?new k($):new I($)):H.readable===!0&&se(H.read)&&se(H.on)?te=new O($):(r.File&&H instanceof File||H instanceof Object)&&(te=new C($)),te.stream(H)},unparse:function(H,$){var K=!1,ae=!0,te=",",be=`\r
`,me='"',Ie=me+me,Ae=!1,Ue=null,Fe=!1;(function(){if(typeof $=="object"){if(typeof $.delimiter!="string"||g.BAD_DELIMITERS.filter(function(qe){return $.delimiter.indexOf(qe)!==-1}).length||(te=$.delimiter),(typeof $.quotes=="boolean"||typeof $.quotes=="function"||Array.isArray($.quotes))&&(K=$.quotes),typeof $.skipEmptyLines!="boolean"&&typeof $.skipEmptyLines!="string"||(Ae=$.skipEmptyLines),typeof $.newline=="string"&&(be=$.newline),typeof $.quoteChar=="string"&&(me=$.quoteChar),typeof $.header=="boolean"&&(ae=$.header),Array.isArray($.columns)){if($.columns.length===0)throw new Error("Option columns is empty");Ue=$.columns}$.escapeChar!==void 0&&(Ie=$.escapeChar+me),(typeof $.escapeFormulae=="boolean"||$.escapeFormulae instanceof RegExp)&&(Fe=$.escapeFormulae instanceof RegExp?$.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Ce=new RegExp(R(me),"g");if(typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(H)){if(!H.length||Array.isArray(H[0]))return Ve(null,H,Ae);if(typeof H[0]=="object")return Ve(Ue||Object.keys(H[0]),H,Ae)}else if(typeof H=="object")return typeof H.data=="string"&&(H.data=JSON.parse(H.data)),Array.isArray(H.data)&&(H.fields||(H.fields=H.meta&&H.meta.fields||Ue),H.fields||(H.fields=Array.isArray(H.data[0])?H.fields:typeof H.data[0]=="object"?Object.keys(H.data[0]):[]),Array.isArray(H.data[0])||typeof H.data[0]=="object"||(H.data=[H.data])),Ve(H.fields||[],H.data||[],Ae);throw new Error("Unable to serialize unrecognized input");function Ve(qe,pt,Ct){var $t="";typeof qe=="string"&&(qe=JSON.parse(qe)),typeof pt=="string"&&(pt=JSON.parse(pt));var gt=Array.isArray(qe)&&0<qe.length,Ne=!Array.isArray(pt[0]);if(gt&&ae){for(var tt=0;tt<qe.length;tt++)0<tt&&($t+=te),$t+=$e(qe[tt],tt);0<pt.length&&($t+=be)}for(var je=0;je<pt.length;je++){var et=gt?qe.length:pt[je].length,Je=!1,It=gt?Object.keys(pt[je]).length===0:pt[je].length===0;if(Ct&&!gt&&(Je=Ct==="greedy"?pt[je].join("").trim()==="":pt[je].length===1&&pt[je][0].length===0),Ct==="greedy"&&gt){for(var oe=[],fe=0;fe<et;fe++){var Me=Ne?qe[fe]:fe;oe.push(pt[je][Me])}Je=oe.join("").trim()===""}if(!Je){for(var Xe=0;Xe<et;Xe++){0<Xe&&!It&&($t+=te);var Ze=gt&&Ne?qe[Xe]:Xe;$t+=$e(pt[je][Ze],Xe)}je<pt.length-1&&(!Ct||0<et&&!It)&&($t+=be)}}return $t}function $e(qe,pt){if(qe==null)return"";if(qe.constructor===Date)return JSON.stringify(qe).slice(1,25);var Ct=!1;Fe&&typeof qe=="string"&&Fe.test(qe)&&(qe="'"+qe,Ct=!0);var $t=qe.toString().replace(Ce,Ie);return(Ct=Ct||K===!0||typeof K=="function"&&K(qe,pt)||Array.isArray(K)&&K[pt]||function(gt,Ne){for(var tt=0;tt<Ne.length;tt++)if(-1<gt.indexOf(Ne[tt]))return!0;return!1}($t,g.BAD_DELIMITERS)||-1<$t.indexOf(te)||$t.charAt(0)===" "||$t.charAt($t.length-1)===" ")?me+$t+me:$t}}};if(g.RECORD_SEP="",g.UNIT_SEP="",g.BYTE_ORDER_MARK="\uFEFF",g.BAD_DELIMITERS=["\r",`
`,'"',g.BYTE_ORDER_MARK],g.WORKERS_SUPPORTED=!s&&!!r.Worker,g.NODE_STREAM_INPUT=1,g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=B,g.ParserHandle=L,g.NetworkStreamer=k,g.FileStreamer=C,g.StringStreamer=I,g.ReadableStreamStreamer=O,r.jQuery){var y=r.jQuery;y.fn.parse=function(H){var $=H.config||{},K=[];return this.each(function(be){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var me=0;me<this.files.length;me++)K.push({file:this.files[me],inputElem:this,instanceConfig:y.extend({},$)})}),ae(),this;function ae(){if(K.length!==0){var be,me,Ie,Ae,Ue=K[0];if(se(H.before)){var Fe=H.before(Ue.file,Ue.inputElem);if(typeof Fe=="object"){if(Fe.action==="abort")return be="AbortError",me=Ue.file,Ie=Ue.inputElem,Ae=Fe.reason,void(se(H.error)&&H.error({name:be},me,Ie,Ae));if(Fe.action==="skip")return void te();typeof Fe.config=="object"&&(Ue.instanceConfig=y.extend(Ue.instanceConfig,Fe.config))}else if(Fe==="skip")return void te()}var Ce=Ue.instanceConfig.complete;Ue.instanceConfig.complete=function(Ve){se(Ce)&&Ce(Ve,Ue.file,Ue.inputElem),te()},g.parse(Ue.file,Ue.instanceConfig)}else se(H.complete)&&H.complete()}function te(){K.splice(0,1),ae()}}}function w(H){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function($){var K=ie($);K.chunkSize=parseInt(K.chunkSize),$.step||$.chunk||(K.chunkSize=null),this._handle=new L(K),(this._handle.streamer=this)._config=K}).call(this,H),this.parseChunk=function($,K){if(this.isFirstChunk&&se(this._config.beforeFirstChunk)){var ae=this._config.beforeFirstChunk($);ae!==void 0&&($=ae)}this.isFirstChunk=!1,this._halted=!1;var te=this._partialLine+$;this._partialLine="";var be=this._handle.parse(te,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var me=be.meta.cursor;this._finished||(this._partialLine=te.substring(me-this._baseIndex),this._baseIndex=me),be&&be.data&&(this._rowCount+=be.data.length);var Ie=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(u)r.postMessage({results:be,workerId:g.WORKER_ID,finished:Ie});else if(se(this._config.chunk)&&!K){if(this._config.chunk(be,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);be=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(be.data),this._completeResults.errors=this._completeResults.errors.concat(be.errors),this._completeResults.meta=be.meta),this._completed||!Ie||!se(this._config.complete)||be&&be.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ie||be&&be.meta.paused||this._nextChunk(),be}this._halted=!0},this._sendError=function($){se(this._config.error)?this._config.error($):u&&this._config.error&&r.postMessage({workerId:g.WORKER_ID,error:$,finished:!1})}}function k(H){var $;(H=H||{}).chunkSize||(H.chunkSize=g.RemoteChunkSize),w.call(this,H),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(K){this._input=K,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if($=new XMLHttpRequest,this._config.withCredentials&&($.withCredentials=this._config.withCredentials),s||($.onload=Q(this._chunkLoaded,this),$.onerror=Q(this._chunkError,this)),$.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var K=this._config.downloadRequestHeaders;for(var ae in K)$.setRequestHeader(ae,K[ae])}if(this._config.chunkSize){var te=this._start+this._config.chunkSize-1;$.setRequestHeader("Range","bytes="+this._start+"-"+te)}try{$.send(this._config.downloadRequestBody)}catch(be){this._chunkError(be.message)}s&&$.status===0&&this._chunkError()}},this._chunkLoaded=function(){$.readyState===4&&($.status<200||400<=$.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:$.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(K){var ae=K.getResponseHeader("Content-Range");return ae===null?-1:parseInt(ae.substring(ae.lastIndexOf("/")+1))}($),this.parseChunk($.responseText)))},this._chunkError=function(K){var ae=$.statusText||K;this._sendError(new Error(ae))}}function C(H){var $,K;(H=H||{}).chunkSize||(H.chunkSize=g.LocalChunkSize),w.call(this,H);var ae=typeof FileReader<"u";this.stream=function(te){this._input=te,K=te.slice||te.webkitSlice||te.mozSlice,ae?(($=new FileReader).onload=Q(this._chunkLoaded,this),$.onerror=Q(this._chunkError,this)):$=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var te=this._input;if(this._config.chunkSize){var be=Math.min(this._start+this._config.chunkSize,this._input.size);te=K.call(te,this._start,be)}var me=$.readAsText(te,this._config.encoding);ae||this._chunkLoaded({target:{result:me}})},this._chunkLoaded=function(te){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(te.target.result)},this._chunkError=function(){this._sendError($.error)}}function I(H){var $;w.call(this,H=H||{}),this.stream=function(K){return $=K,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var K,ae=this._config.chunkSize;return ae?(K=$.substring(0,ae),$=$.substring(ae)):(K=$,$=""),this._finished=!$,this.parseChunk(K)}}}function O(H){w.call(this,H=H||{});var $=[],K=!0,ae=!1;this.pause=function(){w.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){w.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(te){this._input=te,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ae&&$.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),$.length?this.parseChunk($.shift()):K=!0},this._streamData=Q(function(te){try{$.push(typeof te=="string"?te:te.toString(this._config.encoding)),K&&(K=!1,this._checkIsFinished(),this.parseChunk($.shift()))}catch(be){this._streamError(be)}},this),this._streamError=Q(function(te){this._streamCleanUp(),this._sendError(te)},this),this._streamEnd=Q(function(){this._streamCleanUp(),ae=!0,this._streamData("")},this),this._streamCleanUp=Q(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function L(H){var $,K,ae,te=Math.pow(2,53),be=-te,me=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ie=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ae=this,Ue=0,Fe=0,Ce=!1,Ve=!1,$e=[],qe={data:[],errors:[],meta:{}};if(se(H.step)){var pt=H.step;H.step=function(je){if(qe=je,gt())$t();else{if($t(),qe.data.length===0)return;Ue+=je.data.length,H.preview&&Ue>H.preview?K.abort():(qe.data=qe.data[0],pt(qe,Ae))}}}function Ct(je){return H.skipEmptyLines==="greedy"?je.join("").trim()==="":je.length===1&&je[0].length===0}function $t(){return qe&&ae&&(tt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),ae=!1),H.skipEmptyLines&&(qe.data=qe.data.filter(function(je){return!Ct(je)})),gt()&&function(){if(!qe)return;function je(Je,It){se(H.transformHeader)&&(Je=H.transformHeader(Je,It)),$e.push(Je)}if(Array.isArray(qe.data[0])){for(var et=0;gt()&&et<qe.data.length;et++)qe.data[et].forEach(je);qe.data.splice(0,1)}else qe.data.forEach(je)}(),function(){if(!qe||!H.header&&!H.dynamicTyping&&!H.transform)return qe;function je(Je,It){var oe,fe=H.header?{}:[];for(oe=0;oe<Je.length;oe++){var Me=oe,Xe=Je[oe];H.header&&(Me=oe>=$e.length?"__parsed_extra":$e[oe]),H.transform&&(Xe=H.transform(Xe,Me)),Xe=Ne(Me,Xe),Me==="__parsed_extra"?(fe[Me]=fe[Me]||[],fe[Me].push(Xe)):fe[Me]=Xe}return H.header&&(oe>$e.length?tt("FieldMismatch","TooManyFields","Too many fields: expected "+$e.length+" fields but parsed "+oe,Fe+It):oe<$e.length&&tt("FieldMismatch","TooFewFields","Too few fields: expected "+$e.length+" fields but parsed "+oe,Fe+It)),fe}var et=1;return!qe.data.length||Array.isArray(qe.data[0])?(qe.data=qe.data.map(je),et=qe.data.length):qe.data=je(qe.data,0),H.header&&qe.meta&&(qe.meta.fields=$e),Fe+=et,qe}()}function gt(){return H.header&&$e.length===0}function Ne(je,et){return Je=je,H.dynamicTypingFunction&&H.dynamicTyping[Je]===void 0&&(H.dynamicTyping[Je]=H.dynamicTypingFunction(Je)),(H.dynamicTyping[Je]||H.dynamicTyping)===!0?et==="true"||et==="TRUE"||et!=="false"&&et!=="FALSE"&&(function(It){if(me.test(It)){var oe=parseFloat(It);if(be<oe&&oe<te)return!0}return!1}(et)?parseFloat(et):Ie.test(et)?new Date(et):et===""?null:et):et;var Je}function tt(je,et,Je,It){var oe={type:je,code:et,message:Je};It!==void 0&&(oe.row=It),qe.errors.push(oe)}this.parse=function(je,et,Je){var It=H.quoteChar||'"';if(H.newline||(H.newline=function(Me,Xe){Me=Me.substring(0,1048576);var Ze=new RegExp(R(Xe)+"([^]*?)"+R(Xe),"gm"),nt=(Me=Me.replace(Ze,"")).split("\r"),Tt=Me.split(`
`),ke=1<Tt.length&&Tt[0].length<nt[0].length;if(nt.length===1||ke)return`
`;for(var _t=0,Qe=0;Qe<nt.length;Qe++)nt[Qe][0]===`
`&&_t++;return _t>=nt.length/2?`\r
`:"\r"}(je,It)),ae=!1,H.delimiter)se(H.delimiter)&&(H.delimiter=H.delimiter(je),qe.meta.delimiter=H.delimiter);else{var oe=function(Me,Xe,Ze,nt,Tt){var ke,_t,Qe,ct;Tt=Tt||[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP];for(var kt=0;kt<Tt.length;kt++){var Pt=Tt[kt],sn=0,on=0,On=0;Qe=void 0;for(var bn=new B({comments:nt,delimiter:Pt,newline:Xe,preview:10}).parse(Me),$n=0;$n<bn.data.length;$n++)if(Ze&&Ct(bn.data[$n]))On++;else{var ur=bn.data[$n].length;on+=ur,Qe!==void 0?0<ur&&(sn+=Math.abs(ur-Qe),Qe=ur):Qe=ur}0<bn.data.length&&(on/=bn.data.length-On),(_t===void 0||sn<=_t)&&(ct===void 0||ct<on)&&1.99<on&&(_t=sn,ke=Pt,ct=on)}return{successful:!!(H.delimiter=ke),bestDelimiter:ke}}(je,H.newline,H.skipEmptyLines,H.comments,H.delimitersToGuess);oe.successful?H.delimiter=oe.bestDelimiter:(ae=!0,H.delimiter=g.DefaultDelimiter),qe.meta.delimiter=H.delimiter}var fe=ie(H);return H.preview&&H.header&&fe.preview++,$=je,K=new B(fe),qe=K.parse($,et,Je),$t(),Ce?{meta:{paused:!0}}:qe||{meta:{paused:!1}}},this.paused=function(){return Ce},this.pause=function(){Ce=!0,K.abort(),$=se(H.chunk)?"":$.substring(K.getCharIndex())},this.resume=function(){Ae.streamer._halted?(Ce=!1,Ae.streamer.parseChunk($,!0)):setTimeout(Ae.resume,3)},this.aborted=function(){return Ve},this.abort=function(){Ve=!0,K.abort(),qe.meta.aborted=!0,se(H.complete)&&H.complete(qe),$=""}}function R(H){return H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(H){var $,K=(H=H||{}).delimiter,ae=H.newline,te=H.comments,be=H.step,me=H.preview,Ie=H.fastMode,Ae=$=H.quoteChar===void 0||H.quoteChar===null?'"':H.quoteChar;if(H.escapeChar!==void 0&&(Ae=H.escapeChar),(typeof K!="string"||-1<g.BAD_DELIMITERS.indexOf(K))&&(K=","),te===K)throw new Error("Comment character same as delimiter");te===!0?te="#":(typeof te!="string"||-1<g.BAD_DELIMITERS.indexOf(te))&&(te=!1),ae!==`
`&&ae!=="\r"&&ae!==`\r
`&&(ae=`
`);var Ue=0,Fe=!1;this.parse=function(Ce,Ve,$e){if(typeof Ce!="string")throw new Error("Input must be a string");var qe=Ce.length,pt=K.length,Ct=ae.length,$t=te.length,gt=se(be),Ne=[],tt=[],je=[],et=Ue=0;if(!Ce)return vt();if(H.header&&!Ve){var Je=Ce.split(ae)[0].split(K),It=[],oe={},fe=!1;for(var Me in Je){var Xe=Je[Me];se(H.transformHeader)&&(Xe=H.transformHeader(Xe,Me));var Ze=Xe,nt=oe[Xe]||0;for(0<nt&&(fe=!0,Ze=Xe+"_"+nt),oe[Xe]=nt+1;It.includes(Ze);)Ze=Ze+"_"+nt;It.push(Ze)}if(fe){var Tt=Ce.split(ae);Tt[0]=It.join(K),Ce=Tt.join(ae)}}if(Ie||Ie!==!1&&Ce.indexOf($)===-1){for(var ke=Ce.split(ae),_t=0;_t<ke.length;_t++){if(je=ke[_t],Ue+=je.length,_t!==ke.length-1)Ue+=ae.length;else if($e)return vt();if(!te||je.substring(0,$t)!==te){if(gt){if(Ne=[],On(je.split(K)),bi(),Fe)return vt()}else On(je.split(K));if(me&&me<=_t)return Ne=Ne.slice(0,me),vt(!0)}}return vt()}for(var Qe=Ce.indexOf(K,Ue),ct=Ce.indexOf(ae,Ue),kt=new RegExp(R(Ae)+R($),"g"),Pt=Ce.indexOf($,Ue);;)if(Ce[Ue]!==$)if(te&&je.length===0&&Ce.substring(Ue,Ue+$t)===te){if(ct===-1)return vt();Ue=ct+Ct,ct=Ce.indexOf(ae,Ue),Qe=Ce.indexOf(K,Ue)}else if(Qe!==-1&&(Qe<ct||ct===-1))je.push(Ce.substring(Ue,Qe)),Ue=Qe+pt,Qe=Ce.indexOf(K,Ue);else{if(ct===-1)break;if(je.push(Ce.substring(Ue,ct)),ur(ct+Ct),gt&&(bi(),Fe))return vt();if(me&&Ne.length>=me)return vt(!0)}else for(Pt=Ue,Ue++;;){if((Pt=Ce.indexOf($,Pt+1))===-1)return $e||tt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:Ue}),$n();if(Pt===qe-1)return $n(Ce.substring(Ue,Pt).replace(kt,$));if($!==Ae||Ce[Pt+1]!==Ae){if($===Ae||Pt===0||Ce[Pt-1]!==Ae){Qe!==-1&&Qe<Pt+1&&(Qe=Ce.indexOf(K,Pt+1)),ct!==-1&&ct<Pt+1&&(ct=Ce.indexOf(ae,Pt+1));var sn=bn(ct===-1?Qe:Math.min(Qe,ct));if(Ce.substr(Pt+1+sn,pt)===K){je.push(Ce.substring(Ue,Pt).replace(kt,$)),Ce[Ue=Pt+1+sn+pt]!==$&&(Pt=Ce.indexOf($,Ue)),Qe=Ce.indexOf(K,Ue),ct=Ce.indexOf(ae,Ue);break}var on=bn(ct);if(Ce.substring(Pt+1+on,Pt+1+on+Ct)===ae){if(je.push(Ce.substring(Ue,Pt).replace(kt,$)),ur(Pt+1+on+Ct),Qe=Ce.indexOf(K,Ue),Pt=Ce.indexOf($,Ue),gt&&(bi(),Fe))return vt();if(me&&Ne.length>=me)return vt(!0);break}tt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:Ue}),Pt++}}else Pt++}return $n();function On(Tn){Ne.push(Tn),et=Ue}function bn(Tn){var fa=0;if(Tn!==-1){var hr=Ce.substring(Pt+1,Tn);hr&&hr.trim()===""&&(fa=hr.length)}return fa}function $n(Tn){return $e||(Tn===void 0&&(Tn=Ce.substring(Ue)),je.push(Tn),Ue=qe,On(je),gt&&bi()),vt()}function ur(Tn){Ue=Tn,On(je),je=[],ct=Ce.indexOf(ae,Ue)}function vt(Tn){return{data:Ne,errors:tt,meta:{delimiter:K,linebreak:ae,aborted:Fe,truncated:!!Tn,cursor:et+(Ve||0)}}}function bi(){be(vt()),Ne=[],tt=[]}},this.abort=function(){Fe=!0},this.getCharIndex=function(){return Ue}}function j(H){var $=H.data,K=h[$.workerId],ae=!1;if($.error)K.userError($.error,$.file);else if($.results&&$.results.data){var te={abort:function(){ae=!0,Z($.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:re,resume:re};if(se(K.userStep)){for(var be=0;be<$.results.data.length&&(K.userStep({data:$.results.data[be],errors:$.results.errors,meta:$.results.meta},te),!ae);be++);delete $.results}else se(K.userChunk)&&(K.userChunk($.results,te,$.file),delete $.results)}$.finished&&!ae&&Z($.workerId,$.results)}function Z(H,$){var K=h[H];se(K.userComplete)&&K.userComplete($),K.terminate(),delete h[H]}function re(){throw new Error("Not implemented.")}function ie(H){if(typeof H!="object"||H===null)return H;var $=Array.isArray(H)?[]:{};for(var K in H)$[K]=ie(H[K]);return $}function Q(H,$){return function(){H.apply($,arguments)}}function se(H){return typeof H=="function"}return u&&(r.onmessage=function(H){var $=H.data;if(g.WORKER_ID===void 0&&$&&(g.WORKER_ID=$.workerId),typeof $.input=="string")r.postMessage({workerId:g.WORKER_ID,results:g.parse($.input,$.config),finished:!0});else if(r.File&&$.input instanceof File||$.input instanceof Object){var K=g.parse($.input,$.config);K&&r.postMessage({workerId:g.WORKER_ID,results:K,finished:!0})}}),(k.prototype=Object.create(w.prototype)).constructor=k,(C.prototype=Object.create(w.prototype)).constructor=C,(I.prototype=Object.create(I.prototype)).constructor=I,(O.prototype=Object.create(w.prototype)).constructor=O,g})})(gP);var Ug=gP.exports;const jx=(e,t)=>new Promise(n=>{const r=[];Ug.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:s=>{r.push(s.data)},complete:()=>{n(r)}})}),Qke=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},n=await Vr.get(e,t);return jx(n.data,!0)},eCe=async(e,t)=>{const n=`${QI}${e}/${t}`;return await Qke(n)},tCe=async(e,t,n,r)=>{const s=`${QI}${e}/${t}`;return(await Vr.put(s,n,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"text/csv"}})).status===200},nCe=$d("v-alert-title"),rCe=["success","info","warning","error"],iCe=We({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:mn,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>rCe.includes(e)},...un(),...qa(),...is(),...ss(),...vu(),...om(),...Di(),...Yn(),...yr(),...ro({variant:"flat"})},"VAlert"),al=ft()({name:"VAlert",props:iCe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=fn(e,"modelValue"),u=Y(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),h=Y(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:o}=Rr(e),{colorClasses:g,colorStyles:y,variantClasses:w}=yu(h),{densityClasses:k}=Ps(e),{dimensionStyles:C}=as(e),{elevationClasses:I}=Is(e),{locationStyles:O}=qd(e),{positionClasses:L}=lm(e),{roundedClasses:R}=Ni(e),{textColorClasses:B,textColorStyles:j}=$a(bt(e,"borderColor")),{t:Z}=si(),re=Y(()=>({"aria-label":Z(e.closeLabel),onClick(ie){s.value=!1,n("click:close",ie)}}));return()=>{const ie=!!(r.prepend||u.value),Q=!!(r.title||e.title),se=!!(r.close||e.closable);return s.value&&T(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},o.value,g.value,k.value,I.value,L.value,R.value,w.value,e.class],style:[y.value,C.value,O.value,e.style],role:"alert"},{default:()=>{var H,$;return[gc(!1,"v-alert"),e.border&&T("div",{key:"border",class:["v-alert__border",B.value],style:j.value},null),ie&&T("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!u.value,defaults:{VIcon:{density:e.density,icon:u.value,size:e.prominent?44:28}}},r.prepend):T(nr,{key:"prepend-icon",density:e.density,icon:u.value,size:e.prominent?44:28},null)]),T("div",{class:"v-alert__content"},[Q&&T(nCe,{key:"title"},{default:()=>{var K;return[((K=r.title)==null?void 0:K.call(r))??e.title]}}),((H=r.text)==null?void 0:H.call(r))??e.text,($=r.default)==null?void 0:$.call(r)]),r.append&&T("div",{key:"append",class:"v-alert__append"},[r.append()]),se&&T("div",{key:"close",class:"v-alert__close"},[r.close?T(Bn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var K;return[(K=r.close)==null?void 0:K.call(r,{props:re.value})]}}):T(Jt,lt({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},re.value),null)])]}})}}});function aCe(){const e=ht([]);dT(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const sCe=We({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:mn,default:"$first"},prevIcon:{type:mn,default:"$prev"},nextIcon:{type:mn,default:"$next"},lastIcon:{type:mn,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Es(),...un(),...qa(),...ss(),...Di(),...Hd(),...Yn({tag:"nav"}),...yr(),...ro({variant:"text"})},"VPagination"),c2=ft()({name:"VPagination",props:sCe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=fn(e,"modelValue"),{t:u,n:h}=si(),{isRtl:o}=Ua(),{themeClasses:g}=Rr(e),{width:y}=vl(),w=Rt(-1);da(void 0,{scoped:!0});const{resizeRef:k}=oc(H=>{if(!H.length)return;const{target:$,contentRect:K}=H[0],ae=$.querySelector(".v-pagination__list > *");if(!ae)return;const te=K.width,be=ae.offsetWidth+parseFloat(getComputedStyle(ae).marginRight)*2;w.value=L(te,be)}),C=Y(()=>parseInt(e.length,10)),I=Y(()=>parseInt(e.start,10)),O=Y(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):w.value>=0?w.value:L(y.value,58));function L(H,$){const K=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((H-$*K)/$).toFixed(2)))}const R=Y(()=>{if(C.value<=0||isNaN(C.value)||C.value>Number.MAX_SAFE_INTEGER)return[];if(O.value<=0)return[];if(O.value===1)return[s.value];if(C.value<=O.value)return Zs(C.value,I.value);const H=O.value%2===0,$=H?O.value/2:Math.floor(O.value/2),K=H?$:$+1,ae=C.value-$;if(K-s.value>=0)return[...Zs(Math.max(1,O.value-1),I.value),e.ellipsis,C.value];if(s.value-ae>=(H?1:0)){const te=O.value-1,be=C.value-te+I.value;return[I.value,e.ellipsis,...Zs(te,be)]}else{const te=Math.max(1,O.value-3),be=te===1?s.value:s.value-Math.ceil(te/2)+I.value;return[I.value,e.ellipsis,...Zs(te,be),e.ellipsis,C.value]}});function B(H,$,K){H.preventDefault(),s.value=$,K&&r(K,$)}const{refs:j,updateRef:Z}=aCe();da({VPaginationBtn:{color:bt(e,"color"),border:bt(e,"border"),density:bt(e,"density"),size:bt(e,"size"),variant:bt(e,"variant"),rounded:bt(e,"rounded"),elevation:bt(e,"elevation")}});const re=Y(()=>R.value.map((H,$)=>{const K=ae=>Z(ae,$);if(typeof H=="string")return{isActive:!1,key:`ellipsis-${$}`,page:H,props:{ref:K,ellipsis:!0,icon:!0,disabled:!0}};{const ae=H===s.value;return{isActive:ae,key:H,page:h(H),props:{ref:K,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:ae?e.activeColor:e.color,"aria-current":ae,"aria-label":u(ae?e.currentPageAriaLabel:e.pageAriaLabel,H),onClick:te=>B(te,H)}}}})),ie=Y(()=>{const H=!!e.disabled||s.value<=I.value,$=!!e.disabled||s.value>=I.value+C.value-1;return{first:e.showFirstLastPage?{icon:o.value?e.lastIcon:e.firstIcon,onClick:K=>B(K,I.value,"first"),disabled:H,"aria-label":u(e.firstAriaLabel),"aria-disabled":H}:void 0,prev:{icon:o.value?e.nextIcon:e.prevIcon,onClick:K=>B(K,s.value-1,"prev"),disabled:H,"aria-label":u(e.previousAriaLabel),"aria-disabled":H},next:{icon:o.value?e.prevIcon:e.nextIcon,onClick:K=>B(K,s.value+1,"next"),disabled:$,"aria-label":u(e.nextAriaLabel),"aria-disabled":$},last:e.showFirstLastPage?{icon:o.value?e.firstIcon:e.lastIcon,onClick:K=>B(K,I.value+C.value-1,"last"),disabled:$,"aria-label":u(e.lastAriaLabel),"aria-disabled":$}:void 0}});function Q(){var $;const H=s.value-I.value;($=j.value[H])==null||$.$el.focus()}function se(H){H.key===$S.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,Xn(Q)):H.key===$S.right&&!e.disabled&&s.value<I.value+C.value-1&&(s.value=s.value+1,Xn(Q))}return St(()=>T(e.tag,{ref:k,class:["v-pagination",g.value,e.class],style:e.style,role:"navigation","aria-label":u(e.ariaLabel),onKeydown:se,"data-test":"v-pagination-root"},{default:()=>[T("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&T("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(ie.value.first):T(Jt,lt({_as:"VPaginationBtn"},ie.value.first),null)]),T("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(ie.value.prev):T(Jt,lt({_as:"VPaginationBtn"},ie.value.prev),null)]),re.value.map((H,$)=>T("li",{key:H.key,class:["v-pagination__item",{"v-pagination__item--is-active":H.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(H):T(Jt,lt({_as:"VPaginationBtn"},H.props),{default:()=>[H.page]})])),T("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(ie.value.next):T(Jt,lt({_as:"VPaginationBtn"},ie.value.next),null)]),e.showFirstLastPage&&T("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(ie.value.last):T(Jt,lt({_as:"VPaginationBtn"},ie.value.last),null)])])]})),{}}}),oCe=We({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),vP=Symbol.for("vuetify:data-table-pagination");function lCe(e){const t=fn(e,"page",void 0,r=>+(r??1)),n=fn(e,"itemsPerPage",void 0,r=>+(r??10));return{page:t,itemsPerPage:n}}function cCe(e){const{page:t,itemsPerPage:n,itemsLength:r}=e,s=Y(()=>n.value===-1?0:n.value*(t.value-1)),u=Y(()=>n.value===-1?r.value:Math.min(r.value,s.value+n.value)),h=Y(()=>n.value===-1||r.value===0?1:Math.ceil(r.value/n.value));yi(()=>{t.value>h.value&&(t.value=h.value)});function o(C){n.value=C,t.value=1}function g(){t.value=Zi(t.value+1,1,h.value)}function y(){t.value=Zi(t.value-1,1,h.value)}function w(C){t.value=Zi(C,1,h.value)}const k={page:t,itemsPerPage:n,startIndex:s,stopIndex:u,pageCount:h,itemsLength:r,nextPage:g,prevPage:y,setPage:w,setItemsPerPage:o};return wn(vP,k),k}function uCe(){const e=yt(vP);if(!e)throw new Error("Missing pagination!");return e}function dCe(e){const t=Yr("usePaginatedItems"),{items:n,startIndex:r,stopIndex:s,itemsPerPage:u}=e,h=Y(()=>u.value<=0?n.value:n.value.slice(r.value,s.value));return ut(h,o=>{t.emit("update:currentItems",o)}),{paginatedItems:h}}const yP=We({prevIcon:{type:mn,default:"$prev"},nextIcon:{type:mn,default:"$next"},firstIcon:{type:mn,default:"$first"},lastIcon:{type:mn,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),u2=ft()({name:"VDataTableFooter",props:yP(),setup(e,t){let{slots:n}=t;const{t:r}=si(),{page:s,pageCount:u,startIndex:h,stopIndex:o,itemsLength:g,itemsPerPage:y,setItemsPerPage:w}=uCe(),k=Y(()=>e.itemsPerPageOptions.map(C=>typeof C=="number"?{value:C,title:C===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(C)}:{...C,title:isNaN(Number(C.title))?r(C.title):C.title}));return St(()=>{var I;const C=c2.filterProps(e);return T("div",{class:"v-data-table-footer"},[(I=n.prepend)==null?void 0:I.call(n),T("div",{class:"v-data-table-footer__items-per-page"},[T("span",null,[r(e.itemsPerPageText)]),T(Bd,{items:k.value,modelValue:y.value,"onUpdate:modelValue":O=>w(Number(O)),density:"compact",variant:"outlined","hide-details":!0},null)]),T("div",{class:"v-data-table-footer__info"},[T("div",null,[r(e.pageText,g.value?h.value+1:0,o.value,g.value)])]),T("div",{class:"v-data-table-footer__pagination"},[T(c2,lt({modelValue:s.value,"onUpdate:modelValue":O=>s.value=O,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:u.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},C),null)])])}),{}}}),qg=KF({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const r=e.tag??"td";return T(r,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Ht(e.height),width:Ht(e.width),maxWidth:Ht(e.maxWidth),left:Ht(e.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),hCe=We({headers:Array},"DataTable-header"),_P=Symbol.for("vuetify:data-table-headers"),bP={title:"",sortable:!1},fCe={...bP,width:48};function mCe(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,r)=>{let s=!1;for(let u=0;u<t.length;u++)if(t[u].priority>r){t.splice(u,0,{element:n,priority:r}),s=!0;break}s||t.push({element:n,priority:r})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let s=0;s<t.length;s++)Math.floor(t[s].priority)===r&&(n+=1);return n},dequeue:()=>t.shift()}}function Xb(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)Xb(n,t);return t}function xP(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&xP(n.children,t);return t}function pCe(e){if(e.key){if(e.key==="data-table-group")return bP;if(["data-table-expand","data-table-select"].includes(e.key))return fCe}}function Hx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>Hx(n,t+1))):t}function gCe(e){let t=!1;function n(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u)if(h&&(u.fixed=!0),u.fixed)if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o],!0);else t?isNaN(+u.width)&&(`${u.key}`,void 0):u.lastFixed=!0,t=!0;else if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o]);else t=!1}for(let u=e.length-1;u>=0;u--)n(e[u]);function r(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!u)return h;if(u.children){u.fixedOffset=h;for(const o of u.children)h=r(o,h)}else u.fixed&&(u.fixedOffset=h,h+=parseFloat(u.width||"0")||0);return h}let s=0;for(const u of e)s=r(u,s)}function vCe(e,t){const n=[];let r=0;const s=mCe(e);for(;s.size()>0;){let h=s.count();const o=[];let g=1;for(;h>0;){const{element:y,priority:w}=s.dequeue(),k=t-r-Hx(y);if(o.push({...y,rowspan:k??1,colspan:y.children?Xb(y).length:1}),y.children)for(const C of y.children){const I=w%1+g/Math.pow(10,r+2);s.enqueue(C,r+k+I)}g+=1,h-=1}r+=1,n.push(o)}return{columns:e.map(h=>Xb(h)).flat(),headers:n}}function wP(e){const t=[];for(const n of e){const r={...pCe(n),...n},s=r.key??(typeof r.value=="string"?r.value:null),u=r.value??s??null,h={...r,key:s,value:u,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?wP(r.children):void 0};t.push(h)}return t}function yCe(e,t){const n=ht([]),r=ht([]),s=ht({}),u=ht({}),h=ht({});yi(()=>{var L,R,B;const y=(e.headers||Object.keys(e.items[0]??{}).map(j=>({key:j,title:Do(j)}))).slice(),w=xP(y);(L=t==null?void 0:t.groupBy)!=null&&L.value.length&&!w.has("data-table-group")&&y.unshift({key:"data-table-group",title:"Group"}),(R=t==null?void 0:t.showSelect)!=null&&R.value&&!w.has("data-table-select")&&y.unshift({key:"data-table-select"}),(B=t==null?void 0:t.showExpand)!=null&&B.value&&!w.has("data-table-expand")&&y.push({key:"data-table-expand"});const k=wP(y);gCe(k);const C=Math.max(...k.map(j=>Hx(j)))+1,I=vCe(k,C);n.value=I.headers,r.value=I.columns;const O=I.headers.flat(1);for(const j of O)j.key&&(j.sortable&&(j.sort&&(s.value[j.key]=j.sort),j.sortRaw&&(u.value[j.key]=j.sortRaw)),j.filter&&(h.value[j.key]=j.filter))});const o={headers:n,columns:r,sortFunctions:s,sortRawFunctions:u,filterFunctions:h};return wn(_P,o),o}function Ov(){const e=yt(_P);if(!e)throw new Error("Missing headers!");return e}const _Ce={showSelectAll:!1,allSelected:()=>[],select:e=>{var r;let{items:t,value:n}=e;return new Set(n?[(r=t[0])==null?void 0:r.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},SP={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,currentPage:n,selected:r}=e;return SP.select({items:n,value:t,selected:r})}},kP={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,allItems:n,selected:r}=e;return kP.select({items:n,value:t,selected:r})}},bCe=We({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:gl}},"DataTable-select"),CP=Symbol.for("vuetify:data-table-selection");function xCe(e,t){let{allItems:n,currentPage:r}=t;const s=fn(e,"modelValue",e.modelValue,B=>new Set(Wr(B).map(j=>{var Z;return((Z=n.value.find(re=>e.valueComparator(j,re.value)))==null?void 0:Z.value)??j})),B=>[...B.values()]),u=Y(()=>n.value.filter(B=>B.selectable)),h=Y(()=>r.value.filter(B=>B.selectable)),o=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return _Ce;case"all":return kP;case"page":default:return SP}});function g(B){return Wr(B).every(j=>s.value.has(j.value))}function y(B){return Wr(B).some(j=>s.value.has(j.value))}function w(B,j){const Z=o.value.select({items:B,value:j,selected:new Set(s.value)});s.value=Z}function k(B){w([B],!g([B]))}function C(B){const j=o.value.selectAll({value:B,allItems:u.value,currentPage:h.value,selected:new Set(s.value)});s.value=j}const I=Y(()=>s.value.size>0),O=Y(()=>{const B=o.value.allSelected({allItems:u.value,currentPage:h.value});return!!B.length&&g(B)}),L=Y(()=>o.value.showSelectAll),R={toggleSelect:k,select:w,selectAll:C,isSelected:g,isSomeSelected:y,someSelected:I,allSelected:O,showSelectAll:L};return wn(CP,R),R}function Fv(){const e=yt(CP);if(!e)throw new Error("Missing selection!");return e}const wCe=We({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),TP=Symbol.for("vuetify:data-table-sort");function SCe(e){const t=fn(e,"sortBy"),n=bt(e,"mustSort"),r=bt(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:r}}function kCe(e){const{sortBy:t,mustSort:n,multiSort:r,page:s}=e,u=g=>{if(g.key==null)return;let y=t.value.map(k=>({...k}))??[];const w=y.find(k=>k.key===g.key);w?w.order==="desc"?n.value?w.order="asc":y=y.filter(k=>k.key!==g.key):w.order="desc":r.value?y=[...y,{key:g.key,order:"asc"}]:y=[{key:g.key,order:"asc"}],t.value=y,s&&(s.value=1)};function h(g){return!!t.value.find(y=>y.key===g.key)}const o={sortBy:t,toggleSort:u,isSorted:h};return wn(TP,o),o}function AP(){const e=yt(TP);if(!e)throw new Error("Missing sort!");return e}function CCe(e,t,n,r){const s=si();return{sortedItems:Y(()=>{var h,o;return n.value.length?TCe(t.value,n.value,s.current.value,{transform:r==null?void 0:r.transform,sortFunctions:{...e.customKeySort,...(h=r==null?void 0:r.sortFunctions)==null?void 0:h.value},sortRawFunctions:(o=r==null?void 0:r.sortRawFunctions)==null?void 0:o.value}):t.value})}}function TCe(e,t,n,r){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(h=>[h,r!=null&&r.transform?r.transform(h):h]).sort((h,o)=>{var g,y;for(let w=0;w<t.length;w++){let k=!1;const C=t[w].key,I=t[w].order??"asc";if(I===!1)continue;let O=cu(h[1],C),L=cu(o[1],C),R=h[0].raw,B=o[0].raw;if(I==="desc"&&([O,L]=[L,O],[R,B]=[B,R]),(g=r==null?void 0:r.sortRawFunctions)!=null&&g[C]){const j=r.sortRawFunctions[C](R,B);if(j==null)continue;if(k=!0,j)return j}if((y=r==null?void 0:r.sortFunctions)!=null&&y[C]){const j=r.sortFunctions[C](O,L);if(j==null)continue;if(k=!0,j)return j}if(!k){if(O instanceof Date&&L instanceof Date)return O.getTime()-L.getTime();if([O,L]=[O,L].map(j=>j!=null?j.toString().toLocaleLowerCase():j),O!==L)return jp(O)&&jp(L)?0:jp(O)?-1:jp(L)?1:!isNaN(O)&&!isNaN(L)?Number(O)-Number(L):s.compare(O,L)}}return 0}).map(h=>{let[o]=h;return o})}const EP=We({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:mn,default:"$sortAsc"},sortDescIcon:{type:mn,default:"$sortDesc"},headerProps:{type:Object},...Ud(),...hv()},"VDataTableHeaders"),d2=ft()({name:"VDataTableHeaders",props:EP(),setup(e,t){let{slots:n}=t;const{t:r}=si(),{toggleSort:s,sortBy:u,isSorted:h}=AP(),{someSelected:o,allSelected:g,selectAll:y,showSelectAll:w}=Fv(),{columns:k,headers:C}=Ov(),{loaderClasses:I}=fv(e);function O(H,$){if(!(!e.sticky&&!H.fixed))return{position:"sticky",left:H.fixed?Ht(H.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${$})`:void 0}}function L(H){const $=u.value.find(K=>K.key===H.key);return $?$.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:R,backgroundColorStyles:B}=gi(e,"color"),{displayClasses:j,mobile:Z}=vl(e),re=Y(()=>({headers:C.value,columns:k.value,toggleSort:s,isSorted:h,sortBy:u.value,someSelected:o.value,allSelected:g.value,selectAll:y,getSortIcon:L})),ie=Y(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},j.value,I.value]),Q=H=>{let{column:$,x:K,y:ae}=H;const te=$.key==="data-table-select"||$.key==="data-table-expand",be=lt(e.headerProps??{},$.headerProps??{});return T(qg,lt({tag:"th",align:$.align,class:[{"v-data-table__th--sortable":$.sortable&&!e.disableSort,"v-data-table__th--sorted":h($),"v-data-table__th--fixed":$.fixed},...ie.value],style:{width:Ht($.width),minWidth:Ht($.minWidth),maxWidth:Ht($.maxWidth),...O($,ae)},colspan:$.colspan,rowspan:$.rowspan,onClick:$.sortable?()=>s($):void 0,fixed:$.fixed,nowrap:$.nowrap,lastFixed:$.lastFixed,noPadding:te},be),{default:()=>{var Ae;const me=`header.${$.key}`,Ie={column:$,selectAll:y,isSorted:h,toggleSort:s,sortBy:u.value,someSelected:o.value,allSelected:g.value,getSortIcon:L};return n[me]?n[me](Ie):$.key==="data-table-select"?((Ae=n["header.data-table-select"])==null?void 0:Ae.call(n,Ie))??(w.value&&T(Wd,{modelValue:g.value,indeterminate:o.value&&!g.value,"onUpdate:modelValue":y},null)):T("div",{class:"v-data-table-header__content"},[T("span",null,[$.title]),$.sortable&&!e.disableSort&&T(nr,{key:"icon",class:"v-data-table-header__sort-icon",icon:L($)},null),e.multiSort&&h($)&&T("div",{key:"badge",class:["v-data-table-header__sort-badge",...R.value],style:B.value},[u.value.findIndex(Ue=>Ue.key===$.key)+1])])}})},se=()=>{const H=lt(e.headerProps??{}??{}),$=Y(()=>k.value.filter(ae=>(ae==null?void 0:ae.sortable)&&!e.disableSort)),K=Y(()=>{if(k.value.find(te=>te.key==="data-table-select")!=null)return g.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return T(qg,lt({tag:"th",class:[...ie.value],colspan:C.value.length+1},H),{default:()=>[T("div",{class:"v-data-table-header__content"},[T(Bd,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:$.value,label:r("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>u.value=[],appendIcon:K.value,"onClick:append":()=>y(!g.value)},{...n,chip:ae=>{var te;return T(hl,{onClick:(te=ae.item.raw)!=null&&te.sortable?()=>s(ae.item.raw):void 0,onMousedown:be=>{be.preventDefault(),be.stopPropagation()}},{default:()=>[ae.item.title,T(nr,{class:["v-data-table__td-sort-icon",h(ae.item.raw)&&"v-data-table__td-sort-icon-active"],icon:L(ae.item.raw),size:"small"},null)]})}})])]})};St(()=>Z.value?T("tr",null,[T(se,null,null)]):T(Gt,null,[n.headers?n.headers(re.value):C.value.map((H,$)=>T("tr",null,[H.map((K,ae)=>T(Q,{column:K,x:ae,y:$},null))])),e.loading&&T("tr",{class:"v-data-table-progress"},[T("th",{colspan:k.value.length},[T(J0,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),ACe=We({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),IP=Symbol.for("vuetify:data-table-group");function ECe(e){return{groupBy:fn(e,"groupBy")}}function ICe(e){const{disableSort:t,groupBy:n,sortBy:r}=e,s=ht(new Set),u=Y(()=>n.value.map(w=>({...w,order:w.order??!1})).concat(t!=null&&t.value?[]:r.value));function h(w){return s.value.has(w.id)}function o(w){const k=new Set(s.value);h(w)?k.delete(w.id):k.add(w.id),s.value=k}function g(w){function k(C){const I=[];for(const O of C.items)"type"in O&&O.type==="group"?I.push(...k(O)):I.push(O);return I}return k({type:"group",items:w,id:"dummy",key:"dummy",value:"dummy",depth:0})}const y={sortByWithGroups:u,toggleGroup:o,opened:s,groupBy:n,extractRows:g,isGroupOpen:h};return wn(IP,y),y}function PP(){const e=yt(IP);if(!e)throw new Error("Missing group!");return e}function PCe(e,t){if(!e.length)return[];const n=new Map;for(const r of e){const s=cu(r.raw,t);n.has(s)||n.set(s,[]),n.get(s).push(r)}return n}function DP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const s=PCe(e,t[0]),u=[],h=t.slice(1);return s.forEach((o,g)=>{const y=t[0],w=`${r}_${y}_${g}`;u.push({depth:n,id:w,key:y,value:g,items:h.length?DP(o,h,n+1,w):o,type:"group"})}),u}function MP(e,t){const n=[];for(const r of e)"type"in r&&r.type==="group"?(r.value!=null&&n.push(r),(t.has(r.id)||r.value==null)&&n.push(...MP(r.items,t))):n.push(r);return n}function DCe(e,t,n){return{flatItems:Y(()=>{if(!t.value.length)return e.value;const s=DP(e.value,t.value.map(u=>u.key));return MP(s,n.value)})}}const MCe=We({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),LCe=ft()({name:"VDataTableGroupHeaderRow",props:MCe(),setup(e,t){let{slots:n}=t;const{isGroupOpen:r,toggleGroup:s,extractRows:u}=PP(),{isSelected:h,isSomeSelected:o,select:g}=Fv(),{columns:y}=Ov(),w=Y(()=>u([e.item]));return()=>T("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[y.value.map(k=>{var C,I;if(k.key==="data-table-group"){const O=r(e.item)?"$expand":"$next",L=()=>s(e.item);return((C=n["data-table-group"])==null?void 0:C.call(n,{item:e.item,count:w.value.length,props:{icon:O,onClick:L}}))??T(qg,{class:"v-data-table-group-header-row__column"},{default:()=>[T(Jt,{size:"small",variant:"text",icon:O,onClick:L},null),T("span",null,[e.item.value]),T("span",null,[zt("("),w.value.length,zt(")")])]})}if(k.key==="data-table-select"){const O=h(w.value),L=o(w.value)&&!O,R=B=>g(w.value,B);return((I=n["data-table-select"])==null?void 0:I.call(n,{props:{modelValue:O,indeterminate:L,"onUpdate:modelValue":R}}))??T("td",null,[T(Wd,{modelValue:O,indeterminate:L,"onUpdate:modelValue":R},null)])}return T("td",null,null)})])}}),RCe=We({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),LP=Symbol.for("vuetify:datatable:expanded");function OCe(e){const t=bt(e,"expandOnClick"),n=fn(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function r(o,g){const y=new Set(n.value);g?y.add(o.value):y.delete(o.value),n.value=y}function s(o){return n.value.has(o.value)}function u(o){r(o,!s(o))}const h={expand:r,expanded:n,expandOnClick:t,isExpanded:s,toggleExpand:u};return wn(LP,h),h}function RP(){const e=yt(LP);if(!e)throw new Error("foo");return e}const FCe=We({index:Number,item:Object,cellProps:[Object,Function],onClick:Ii(),onContextmenu:Ii(),onDblclick:Ii(),...Ud()},"VDataTableRow"),zCe=ft()({name:"VDataTableRow",props:FCe(),setup(e,t){let{slots:n}=t;const{displayClasses:r,mobile:s}=vl(e,"v-data-table__tr"),{isSelected:u,toggleSelect:h,someSelected:o,allSelected:g,selectAll:y}=Fv(),{isExpanded:w,toggleExpand:k}=RP(),{toggleSort:C,sortBy:I,isSorted:O}=AP(),{columns:L}=Ov();St(()=>T("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},r.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&L.value.map((R,B)=>{const j=e.item,Z=`item.${R.key}`,re=`header.${R.key}`,ie={index:e.index,item:j.raw,internalItem:j,value:cu(j.columns,R.key),column:R,isSelected:u,toggleSelect:h,isExpanded:w,toggleExpand:k},Q={column:R,selectAll:y,isSorted:O,toggleSort:C,sortBy:I.value,someSelected:o.value,allSelected:g.value,getSortIcon:()=>""},se=typeof e.cellProps=="function"?e.cellProps({index:ie.index,item:ie.item,internalItem:ie.internalItem,value:ie.value,column:R}):e.cellProps,H=typeof R.cellProps=="function"?R.cellProps({index:ie.index,item:ie.item,internalItem:ie.internalItem,value:ie.value}):R.cellProps;return T(qg,lt({align:R.align,class:{"v-data-table__td--expanded-row":R.key==="data-table-expand","v-data-table__td--select-row":R.key==="data-table-select"},fixed:R.fixed,fixedOffset:R.fixedOffset,lastFixed:R.lastFixed,maxWidth:s.value?void 0:R.maxWidth,noPadding:R.key==="data-table-select"||R.key==="data-table-expand",nowrap:R.nowrap,width:s.value?void 0:R.width},se,H),{default:()=>{var K,ae,te,be,me;if(n[Z]&&!s.value)return(K=n[Z])==null?void 0:K.call(n,ie);if(R.key==="data-table-select")return((ae=n["item.data-table-select"])==null?void 0:ae.call(n,ie))??T(Wd,{disabled:!j.selectable,modelValue:u([j]),onClick:ub(()=>h(j),["stop"])},null);if(R.key==="data-table-expand")return((te=n["item.data-table-expand"])==null?void 0:te.call(n,ie))??T(Jt,{icon:w(j)?"$collapse":"$expand",size:"small",variant:"text",onClick:ub(()=>k(j),["stop"])},null);const $=Ss(ie.value);return s.value?T(Gt,null,[T("div",{class:"v-data-table__td-title"},[((be=n[re])==null?void 0:be.call(n,Q))??R.title]),T("div",{class:"v-data-table__td-value"},[((me=n[Z])==null?void 0:me.call(n,ie))??$])]):$}})})]))}}),OP=We({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Ud()},"VDataTableRows"),h2=ft()({name:"VDataTableRows",inheritAttrs:!1,props:OP(),setup(e,t){let{attrs:n,slots:r}=t;const{columns:s}=Ov(),{expandOnClick:u,toggleExpand:h,isExpanded:o}=RP(),{isSelected:g,toggleSelect:y}=Fv(),{toggleGroup:w,isGroupOpen:k}=PP(),{t:C}=si(),{mobile:I}=vl(e);return St(()=>{var O,L;return e.loading&&(!e.items.length||r.loading)?T("tr",{class:"v-data-table-rows-loading",key:"loading"},[T("td",{colspan:s.value.length},[((O=r.loading)==null?void 0:O.call(r))??C(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?T("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[T("td",{colspan:s.value.length},[((L=r["no-data"])==null?void 0:L.call(r))??C(e.noDataText)])]):T(Gt,null,[e.items.map((R,B)=>{var re;if(R.type==="group"){const ie={index:B,item:R,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:g,toggleSelect:y,toggleGroup:w,isGroupOpen:k};return r["group-header"]?r["group-header"](ie):T(LCe,lt({key:`group-header_${R.id}`,item:R},sk(n,":group-header",()=>ie)),r)}const j={index:B,item:R.raw,internalItem:R,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:g,toggleSelect:y},Z={...j,props:lt({key:`item_${R.key??R.index}`,onClick:u.value?()=>{h(R)}:void 0,index:B,item:R,cellProps:e.cellProps,mobile:I.value},sk(n,":row",()=>j),typeof e.rowProps=="function"?e.rowProps({item:j.item,index:j.index,internalItem:j.internalItem}):e.rowProps)};return T(Gt,{key:Z.props.key},[r.item?r.item(Z):T(zCe,Z.props,r),o(R)&&((re=r["expanded-row"])==null?void 0:re.call(r,j))])})])}),{}}}),FP=We({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...un(),...qa(),...Yn(),...yr()},"VTable"),f2=ft()({name:"VTable",props:FP(),setup(e,t){let{slots:n,emit:r}=t;const{themeClasses:s}=Rr(e),{densityClasses:u}=Ps(e);return St(()=>T(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},s.value,u.value,e.class],style:e.style},{default:()=>{var h,o,g;return[(h=n.top)==null?void 0:h.call(n),n.default?T("div",{class:"v-table__wrapper",style:{height:Ht(e.height)}},[T("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(g=n.bottom)==null?void 0:g.call(n)]}})),{}}}),BCe=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function VCe(e,t,n,r){const s=e.returnObject?t:Bi(t,e.itemValue),u=Bi(t,e.itemSelectable,!0),h=r.reduce((o,g)=>(g.key!=null&&(o[g.key]=Bi(t,g.value)),o),{});return{type:"item",key:e.returnObject?Bi(t,e.itemValue):s,index:n,value:s,selectable:u,columns:h,raw:t}}function NCe(e,t,n){return t.map((r,s)=>VCe(e,r,s,n))}function $Ce(e,t){return{items:Y(()=>NCe(e,e.items,t.value))}}function UCe(e){let{page:t,itemsPerPage:n,sortBy:r,groupBy:s,search:u}=e;const h=Yr("VDataTable"),o=Y(()=>({page:t.value,itemsPerPage:n.value,sortBy:r.value,groupBy:s.value,search:u.value}));let g=null;ut(o,()=>{gl(g,o.value)||(g&&g.search!==o.value.search&&(t.value=1),h.emit("update:options",o.value),g=o.value)},{deep:!0,immediate:!0})}const qCe=We({...OP(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...RCe(),...ACe(),...hCe(),...BCe(),...bCe(),...wCe(),...EP(),...FP()},"DataTable"),jCe=We({...oCe(),...qCe(),...kx(),...yP()},"VDataTable"),zP=ft()({name:"VDataTable",props:jCe(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:s}=ECe(e),{sortBy:u,multiSort:h,mustSort:o}=SCe(e),{page:g,itemsPerPage:y}=lCe(e),{disableSort:w}=Vd(e),{columns:k,headers:C,sortFunctions:I,sortRawFunctions:O,filterFunctions:L}=yCe(e,{groupBy:s,showSelect:bt(e,"showSelect"),showExpand:bt(e,"showExpand")}),{items:R}=$Ce(e,k),B=bt(e,"search"),{filteredItems:j}=Cx(e,R,B,{transform:Ne=>Ne.columns,customKeyFilter:L}),{toggleSort:Z}=kCe({sortBy:u,multiSort:h,mustSort:o,page:g}),{sortByWithGroups:re,opened:ie,extractRows:Q,isGroupOpen:se,toggleGroup:H}=ICe({groupBy:s,sortBy:u,disableSort:w}),{sortedItems:$}=CCe(e,j,re,{transform:Ne=>({...Ne.raw,...Ne.columns}),sortFunctions:I,sortRawFunctions:O}),{flatItems:K}=DCe($,s,ie),ae=Y(()=>K.value.length),{startIndex:te,stopIndex:be,pageCount:me,setItemsPerPage:Ie}=cCe({page:g,itemsPerPage:y,itemsLength:ae}),{paginatedItems:Ae}=dCe({items:K,startIndex:te,stopIndex:be,itemsPerPage:y}),Ue=Y(()=>Q(Ae.value)),{isSelected:Fe,select:Ce,selectAll:Ve,toggleSelect:$e,someSelected:qe,allSelected:pt}=xCe(e,{allItems:R,currentPage:Ue}),{isExpanded:Ct,toggleExpand:$t}=OCe(e);UCe({page:g,itemsPerPage:y,sortBy:u,groupBy:s,search:B}),da({VDataTableRows:{hideNoData:bt(e,"hideNoData"),noDataText:bt(e,"noDataText"),loading:bt(e,"loading"),loadingText:bt(e,"loadingText")}});const gt=Y(()=>({page:g.value,itemsPerPage:y.value,sortBy:u.value,pageCount:me.value,toggleSort:Z,setItemsPerPage:Ie,someSelected:qe.value,allSelected:pt.value,isSelected:Fe,select:Ce,selectAll:Ve,toggleSelect:$e,isExpanded:Ct,toggleExpand:$t,isGroupOpen:se,toggleGroup:H,items:Ue.value.map(Ne=>Ne.raw),internalItems:Ue.value,groupedItems:Ae.value,columns:k.value,headers:C.value}));return St(()=>{const Ne=u2.filterProps(e),tt=d2.filterProps(e),je=h2.filterProps(e),et=f2.filterProps(e);return T(f2,lt({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},et),{top:()=>{var Je;return(Je=r.top)==null?void 0:Je.call(r,gt.value)},default:()=>{var Je,It,oe,fe,Me,Xe;return r.default?r.default(gt.value):T(Gt,null,[(Je=r.colgroup)==null?void 0:Je.call(r,gt.value),!e.hideDefaultHeader&&T("thead",{key:"thead"},[T(d2,tt,r)]),(It=r.thead)==null?void 0:It.call(r,gt.value),!e.hideDefaultBody&&T("tbody",null,[(oe=r["body.prepend"])==null?void 0:oe.call(r,gt.value),r.body?r.body(gt.value):T(h2,lt(n,je,{items:Ae.value}),r),(fe=r["body.append"])==null?void 0:fe.call(r,gt.value)]),(Me=r.tbody)==null?void 0:Me.call(r,gt.value),(Xe=r.tfoot)==null?void 0:Xe.call(r,gt.value)])},bottom:()=>r.bottom?r.bottom(gt.value):!e.hideDefaultFooter&&T(Gt,null,[T(gr,null,null),T(u2,Ne,{prepend:r["footer.prepend"]})])})}),{}}}),HCe=We({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...pv({origin:"center center",scrollStrategy:"block",transition:{component:ex},zIndex:2400})},"VDialog"),yd=ft()({name:"VDialog",props:HCe(),emits:{"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=fn(e,"modelValue"),{scopeId:u}=Gd(),h=ht();function o(w){var I,O;const k=w.relatedTarget,C=w.target;if(k!==C&&((I=h.value)!=null&&I.contentEl)&&((O=h.value)!=null&&O.globalTop)&&![document,h.value.contentEl].includes(C)&&!h.value.contentEl.contains(C)){const L=Rf(h.value.contentEl);if(!L.length)return;const R=L[0],B=L[L.length-1];k===R?B.focus():R.focus()}}dr&&ut(()=>s.value&&e.retainFocus,w=>{w?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function g(){var w;(w=h.value)!=null&&w.contentEl&&!h.value.contentEl.contains(document.activeElement)&&h.value.contentEl.focus({preventScroll:!0})}function y(){n("afterLeave")}return ut(s,async w=>{var k;w||(await Xn(),(k=h.value.activatorEl)==null||k.focus({preventScroll:!0}))}),St(()=>{const w=Od.filterProps(e),k=lt({"aria-haspopup":"dialog","aria-expanded":String(s.value)},e.activatorProps),C=lt({tabindex:-1},e.contentProps);return T(Od,lt({ref:h,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},w,{modelValue:s.value,"onUpdate:modelValue":I=>s.value=I,"aria-modal":"true",activatorProps:k,contentProps:C,role:"dialog",onAfterEnter:g,onAfterLeave:y},u),{activator:r.activator,default:function(){for(var I=arguments.length,O=new Array(I),L=0;L<I;L++)O[L]=arguments[L];return T(Bn,{root:"VDialog"},{default:()=>{var R;return[(R=r.default)==null?void 0:R.call(r,...O)]}})}})}),io({},h)}}),Gx=Symbol.for("vuetify:v-tabs"),GCe=We({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Tr(Q0({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),mg=ft()({name:"VTab",props:GCe(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:s,textColorStyles:u}=$a(e,"sliderColor"),h=ht(),o=ht(),g=Y(()=>e.direction==="horizontal"),y=Y(()=>{var k,C;return((C=(k=h.value)==null?void 0:k.group)==null?void 0:C.isSelected.value)??!1});function w(k){var I,O;let{value:C}=k;if(C){const L=(O=(I=h.value)==null?void 0:I.$el.parentElement)==null?void 0:O.querySelector(".v-tab--selected .v-tab__slider"),R=o.value;if(!L||!R)return;const B=getComputedStyle(L).color,j=L.getBoundingClientRect(),Z=R.getBoundingClientRect(),re=g.value?"x":"y",ie=g.value?"X":"Y",Q=g.value?"right":"bottom",se=g.value?"width":"height",H=j[re],$=Z[re],K=H>$?j[Q]-Z[Q]:j[re]-Z[re],ae=Math.sign(K)>0?g.value?"right":"bottom":Math.sign(K)<0?g.value?"left":"top":"center",be=(Math.abs(K)+(Math.sign(K)<0?j[se]:Z[se]))/Math.max(j[se],Z[se])||0,me=j[se]/Z[se]||0,Ie=1.5;Zc(R,{backgroundColor:[B,"currentcolor"],transform:[`translate${ie}(${K}px) scale${ie}(${me})`,`translate${ie}(${K/Ie}px) scale${ie}(${(be-1)/Ie+1})`,"none"],transformOrigin:Array(3).fill(ae)},{duration:225,easing:Ff})}}return St(()=>{const k=Jt.filterProps(e);return T(Jt,lt({symbol:Gx,ref:h,class:["v-tab",e.class],style:e.style,tabindex:y.value?0:-1,role:"tab","aria-selected":String(y.value),active:!1},k,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":w}),{...n,default:()=>{var C;return T(Gt,null,[((C=n.default)==null?void 0:C.call(n))??e.text,!e.hideSlider&&T("div",{ref:o,class:["v-tab__slider",s.value],style:u.value},null)])}})}),io({},h)}}),WCe=We({...Tr(vx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),YCe=ft()({name:"VTabsWindow",props:WCe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=yt(Gx,null),s=fn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return St(()=>{const h=Hf.filterProps(e);return T(Hf,lt({_as:"VTabsWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),ZCe=We({...yx()},"VTabsWindowItem"),KCe=ft()({name:"VTabsWindowItem",props:ZCe(),setup(e,t){let{slots:n}=t;return St(()=>{const r=au.filterProps(e);return T(au,lt({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function XCe(e){return e?e.map(t=>Ag(t)?t:{text:t,value:t}):[]}const JCe=We({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...rx({mandatory:"force",selectedClass:"v-tab-item--selected"}),...qa(),...Yn()},"VTabs"),QCe=ft()({name:"VTabs",props:JCe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=fn(e,"modelValue"),u=Y(()=>XCe(e.items)),{densityClasses:h}=Ps(e),{backgroundColorClasses:o,backgroundColorStyles:g}=gi(bt(e,"bgColor")),{scopeId:y}=Gd();return da({VTab:{color:bt(e,"color"),direction:bt(e,"direction"),stacked:bt(e,"stacked"),fixed:bt(e,"fixedTabs"),sliderColor:bt(e,"sliderColor"),hideSlider:bt(e,"hideSlider")}}),St(()=>{const w=Og.filterProps(e),k=!!(r.window||e.items.length>0);return T(Gt,null,[T(Og,lt(w,{modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},h.value,o.value,e.class],style:[{"--v-tabs-height":Ht(e.height)},g.value,e.style],role:"tablist",symbol:Gx},y,n),{default:()=>{var C;return[((C=r.default)==null?void 0:C.call(r))??u.value.map(I=>{var O;return((O=r.tab)==null?void 0:O.call(r,{item:I}))??T(mg,lt(I,{key:I.text,value:I.value}),{default:r[`tab.${I.value}`]?()=>{var L;return(L=r[`tab.${I.value}`])==null?void 0:L.call(r,{item:I})}:void 0})})]}}),k&&T(YCe,lt({modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,key:"tabs-window"},y),{default:()=>{var C;return[u.value.map(I=>{var O;return((O=r.item)==null?void 0:O.call(r,{item:I}))??T(KCe,{value:I.value},{default:()=>{var L;return(L=r[`item.${I.value}`])==null?void 0:L.call(r,{item:I})}})}),(C=r.window)==null?void 0:C.call(r)]}})])}),{}}}),e2e=We({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...gm(),...gv()},"VTextarea"),t2e=ft()({name:"VTextarea",directives:{Intersect:nx},inheritAttrs:!1,props:e2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=fn(e,"modelValue"),{isFocused:h,focus:o,blur:g}=pm(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),w=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function k(ae,te){var be,me;!e.autofocus||!ae||(me=(be=te[0].target)==null?void 0:be.focus)==null||me.call(be)}const C=ht(),I=ht(),O=Rt(""),L=ht(),R=Y(()=>e.persistentPlaceholder||h.value||e.active);function B(){var ae;L.value!==document.activeElement&&((ae=L.value)==null||ae.focus()),h.value||o()}function j(ae){B(),r("click:control",ae)}function Z(ae){r("mousedown:control",ae)}function re(ae){ae.stopPropagation(),B(),Xn(()=>{u.value="",V0(e["onClick:clear"],ae)})}function ie(ae){var be;const te=ae.target;if(u.value=te.value,(be=e.modelModifiers)!=null&&be.trim){const me=[te.selectionStart,te.selectionEnd];Xn(()=>{te.selectionStart=me[0],te.selectionEnd=me[1]})}}const Q=ht(),se=ht(+e.rows),H=Y(()=>["plain","underlined"].includes(e.variant));yi(()=>{e.autoGrow||(se.value=+e.rows)});function $(){e.autoGrow&&Xn(()=>{if(!Q.value||!I.value)return;const ae=getComputedStyle(Q.value),te=getComputedStyle(I.value.$el),be=parseFloat(ae.getPropertyValue("--v-field-padding-top"))+parseFloat(ae.getPropertyValue("--v-input-padding-top"))+parseFloat(ae.getPropertyValue("--v-field-padding-bottom")),me=Q.value.scrollHeight,Ie=parseFloat(ae.lineHeight),Ae=Math.max(parseFloat(e.rows)*Ie+be,parseFloat(te.getPropertyValue("--v-input-control-height"))),Ue=parseFloat(e.maxRows)*Ie+be||1/0,Fe=Zi(me??0,Ae,Ue);se.value=Math.floor((Fe-be)/Ie),O.value=Ht(Fe)})}Vi($),ut(u,$),ut(()=>e.rows,$),ut(()=>e.maxRows,$),ut(()=>e.density,$);let K;return ut(Q,ae=>{ae?(K=new ResizeObserver($),K.observe(Q.value)):K==null||K.disconnect()}),vr(()=>{K==null||K.disconnect()}),St(()=>{const ae=!!(s.counter||e.counter||e.counterValue),te=!!(ae||s.details),[be,me]=sm(n),{modelValue:Ie,...Ae}=cc.filterProps(e),Ue=fx(e);return T(cc,lt({ref:C,modelValue:u.value,"onUpdate:modelValue":Fe=>u.value=Fe,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":H.value},e.class],style:e.style},be,Ae,{centerAffix:se.value===1&&!H.value,focused:h.value}),{...s,default:Fe=>{let{id:Ce,isDisabled:Ve,isDirty:$e,isReadonly:qe,isValid:pt}=Fe;return T(vv,lt({ref:I,style:{"--v-textarea-control-height":O.value},onClick:j,onMousedown:Z,"onClick:clear":re,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Ue,{id:Ce.value,active:R.value||$e.value,centerAffix:se.value===1&&!H.value,dirty:$e.value||e.dirty,disabled:Ve.value,focused:h.value,error:pt.value===!1}),{...s,default:Ct=>{let{props:{class:$t,...gt}}=Ct;return T(Gt,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[e.prefix]),vi(T("textarea",lt({ref:L,class:$t,value:u.value,onInput:ie,autofocus:e.autofocus,readonly:qe.value,disabled:Ve.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:B,onBlur:g},gt,me),null),[[to("intersect"),{handler:k},null,{once:!0}]]),e.autoGrow&&vi(T("textarea",{class:[$t,"v-textarea__sizer"],id:`${gt.id}-sizer`,"onUpdate:modelValue":Ne=>u.value=Ne,ref:Q,readonly:!0,"aria-hidden":"true"},null),[[nF,u.value]]),e.suffix&&T("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:te?Fe=>{var Ce;return T(Gt,null,[(Ce=s.details)==null?void 0:Ce.call(s,Fe),ae&&T(Gt,null,[T("span",null,null),T(ux,{active:e.persistentCounter||h.value,value:y.value,max:w.value,disabled:e.disabled},s.counter)])])}:void 0})}),io({},C,I,L)}}),n2e=We({text:String,...un(),...Yn()},"VToolbarTitle"),r2e=ft()({name:"VToolbarTitle",props:n2e(),setup(e,t){let{slots:n}=t;return St(()=>{const r=!!(n.default||n.text||e.text);return T(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[r&&T("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),i2e=[null,"prominent","default","comfortable","compact"],BP=We({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>i2e.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Es(),...un(),...ss(),...Di(),...Yn({tag:"header"}),...yr()},"VToolbar"),Jb=ft()({name:"VToolbar",props:BP(),setup(e,t){var I;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=gi(bt(e,"color")),{borderClasses:u}=no(e),{elevationClasses:h}=Is(e),{roundedClasses:o}=Ni(e),{themeClasses:g}=Rr(e),{rtlClasses:y}=Ua(),w=Rt(!!(e.extended||(I=n.extension)!=null&&I.call(n))),k=Y(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),C=Y(()=>w.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return da({VBtn:{variant:"text"}}),St(()=>{var B;const O=!!(e.title||n.title),L=!!(n.image||e.image),R=(B=n.extension)==null?void 0:B.call(n);return w.value=!!(e.extended||R),T(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,u.value,h.value,o.value,g.value,y.value,e.class],style:[s.value,e.style]},{default:()=>[L&&T("div",{key:"image",class:"v-toolbar__image"},[n.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):T(mm,{key:"image-img",cover:!0,src:e.image},null)]),T(Bn,{defaults:{VTabs:{height:Ht(k.value)}}},{default:()=>{var j,Z,re;return[T("div",{class:"v-toolbar__content",style:{height:Ht(k.value)}},[n.prepend&&T("div",{class:"v-toolbar__prepend"},[(j=n.prepend)==null?void 0:j.call(n)]),O&&T(r2e,{key:"title",text:e.title},{text:n.title}),(Z=n.default)==null?void 0:Z.call(n),n.append&&T("div",{class:"v-toolbar__append"},[(re=n.append)==null?void 0:re.call(n)])])]}}),T(Bn,{defaults:{VTabs:{height:Ht(C.value)}}},{default:()=>[T(tx,null,{default:()=>[w.value&&T("div",{class:"v-toolbar__extension",style:{height:Ht(C.value)}},[R])]})]})]})}),{contentHeight:k,extensionHeight:C}}}),a2e={beforeMount(){window.addEventListener("beforeunload",e=>{this.isEditing&&(e.preventDefault(),e.returnValue="")})},beforeUnmount(){window.removeEventListener("beforeunload",this.preventNav)},beforeRouteLeave(e,t,n){this.isEditing&&!window.confirm("Leave without saving?")||n()},data(){return{days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["Staffed","Unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,editedIndex:-1,editTabs:1,editedItem:{},defaultItem:{Local_authority:"",Library_name:"",Address_1:"",Address_2:"",Address_3:"",Postcode:"",Unique_property_reference_number:"",Statutory:"",Type_of_library:"LAL",Year_opened:"",Year_closed:"",Monday_staffed_hours:"",Tuesday_staffed_hours:"",Wednesday_staffed_hours:"",Thursday_staffed_hours:"",Friday_staffed_hours:"",Saturday_staffed_hours:"",Sunday_staffed_hours:"",Monday_unstaffed_hours:"",Tuesday_unstaffed_hours:"",Wednesday_unstaffed_hours:"",Thursday_unstaffed_hours:"",Friday_unstaffed_hours:"",Saturday_unstaffed_hours:"",Sunday_unstaffed_hours:"",Special_hours:"",Colocated:"",Colocated_with:"",Notes:"",URL:"",Email_address:""},errorDialog:!1,headers:[{title:"Name",align:"start",key:"Library_name"},{title:"Closed",key:"Year_closed"},{title:"Address 1",align:"start",key:"Address_1"},{title:"Postcode",key:"Postcode"},{title:"Actions",key:"actions",sortable:!1}],isEditing:!1,libraries:[],libraryTypes:$we,loadingServiceData:!1,mdText:Jke,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,selectedService:null,successDialog:!1}},methods:{addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},close(){this.dialogMainLibrary=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem.Local_authority=this.selectedService.name,this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){const e=this.editedItem[this.openingHoursEditKey].split(",").filter(t=>t.length>0);e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1,this.openingHoursOpen=null,this.openingHoursClose=null},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.isEditing=!0,this.libraries.splice(this.editedIndex,1),this.closeDelete()},download(){const e=this.selectedService;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){const n=new Blob([Ug.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,e);else{const r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},loadLibraries:async function(e){if(this.selectedService=e,this.libraries=[],!(e!=null&&e.code))return;this.loadingServiceData=!0;const t=this,n=await eCe("libraries",e.code);n.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/\s+/g,"_");delete n[s][u],n[s][o]=h})}),t.libraries=n,this.loadingServiceData=!1},publishChanges:async function(){const e=JSON.parse(JSON.stringify(this.libraries));e.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/_/g," ");delete e[s][u],e[s][o]=h})});const t=new Blob([Ug.unparse(e)],{type:"text/csv;charset=utf-8;"});await tCe("libraries",this.selectedService.code,t,this.$store.state.loginKey)?this.successDialog=!0:this.errorDialog=!0,this.isEditing=!1},preventNav(e){this.isEditing&&(e.preventDefault(),e.returnValue="")},removeOpeningHoursEntry(e,t){const n=this.editedItem[e].split(",").filter(r=>r.length>0);n.splice(n.indexOf(t),1),this.editedItem[e]=n.join(","),this.dialogOpeningHoursEntry=!1},save(){this.isEditing=!0,this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()}},components:{"service-select":Rv}},s2e=rr("h2",{class:"text-h5 text-decoration-underline my-3"}," Edit library locations ",-1),o2e={class:"text-subtitle"},l2e={class:"text-subtitle-2"},c2e={class:"d-flex"},u2e=rr("strong",null,"Publish changes",-1);function d2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),g=Sm,y=Rv;return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Edit library locations",subtitle:"View and edit the data held for public library locations"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),T(g,{actions:!0}),s2e,T(lc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:De(()=>[T(al,{icon:"mdi-numeric-1-circle",class:"mb-1",text:"Search for a local authority to view the libraries within that area.",title:"Local authority"}),T(y,{onSelect:t[0]||(t[0]=w=>u.loadLibraries(w))}),T(al,{class:"mt-8 mb-1",icon:"mdi-numeric-2-circle",text:`Select the edit icon for each library to see and edit full details.
        Changes are not saved until the next step.`,title:"Make changes"}),T(Ka,{color:"grey-lighten-2",variant:"outlined",elevation:"0"},{default:De(()=>[T(zP,{hover:"","items-per-page":"5","no-filter":"","no-data-text":"To load library data ensure you select a local authority in Step 1.",headers:s.headers,items:s.libraries,"sort-by":[{key:"Library_name",order:"asc"}],class:"elevation-0"},{top:De(()=>[T(Jb,{flat:"",color:"grey-lighten-5"},{default:De(()=>[T(Ws),T(yd,{persistent:"",modelValue:s.dialogMainLibrary,"onUpdate:modelValue":t[16]||(t[16]=w=>s.dialogMainLibrary=w),"max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},{activator:De(({props:w})=>[T(Jt,lt({disabled:s.selectedService===null},w,{variant:"tonal",color:"success","prepend-icon":"mdi-plus-circle"}),{default:De(()=>[zt(" Add library ")]),_:2},1040,["disabled"])]),default:De(()=>[T(Ka,null,{default:De(()=>[T(Mr,null,{default:De(()=>[T(QCe,{"align-tabs":"center",modelValue:s.editTabs,"onUpdate:modelValue":t[1]||(t[1]=w=>s.editTabs=w)},{default:De(()=>[T(mg,{value:1},{default:De(()=>[zt("Details")]),_:1}),T(mg,{value:2},{default:De(()=>[zt("Address")]),_:1}),T(mg,{value:3},{default:De(()=>[zt("Hours")]),_:1})]),_:1},8,["modelValue"]),T(Hf,{modelValue:s.editTabs,"onUpdate:modelValue":t[15]||(t[15]=w=>s.editTabs=w)},{default:De(()=>[(vn(),Nn(au,{key:1,value:1},{default:De(()=>[T(Mr,null,{default:De(()=>[T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12"},{default:De(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.editedItem.Library_name,"onUpdate:modelValue":t[2]||(t[2]=w=>s.editedItem.Library_name=w),label:"Name"},null,8,["modelValue"])]),_:1})]),_:1}),T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"8",md:"8"},{default:De(()=>[T(Bd,{modelValue:s.editedItem.Type_of_library,"onUpdate:modelValue":t[3]||(t[3]=w=>s.editedItem.Type_of_library=w),items:s.libraryTypes,variant:"outlined",density:"compact","item-title":"text","item-value":"value",label:"Type"},null,8,["modelValue","items"])]),_:1}),T(oa,{cols:"12",sm:"4",md:"4"},{default:De(()=>[T(Bd,{variant:"outlined",density:"compact",modelValue:s.editedItem.Statutory,"onUpdate:modelValue":t[4]||(t[4]=w=>s.editedItem.Statutory=w),"menu-props":{zIndex:1e4},items:["Yes","No"],label:"Statutory"},null,8,["modelValue"])]),_:1})]),_:1}),T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_opened,"onUpdate:modelValue":t[5]||(t[5]=w=>s.editedItem.Year_opened=w),label:"Year opened",type:"number"},null,8,["modelValue"])]),_:1}),T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_closed,"onUpdate:modelValue":t[6]||(t[6]=w=>s.editedItem.Year_closed=w),label:"Year closed",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Email_address,"onUpdate:modelValue":t[7]||(t[7]=w=>s.editedItem.Email_address=w),label:"Email address"},null,8,["modelValue"])]),_:1}),T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.URL,"onUpdate:modelValue":t[8]||(t[8]=w=>s.editedItem.URL=w),label:"Website"},null,8,["modelValue"])]),_:1})]),_:1}),T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"12",md:"12"},{default:De(()=>[T(t2e,{rows:"2",density:"compact",variant:"outlined",modelValue:s.editedItem.Notes,"onUpdate:modelValue":t[9]||(t[9]=w=>s.editedItem.Notes=w),label:"Notes",clearable:"","persistent-clear":"","full-width":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(vn(),Nn(au,{key:2,value:2},{default:De(()=>[T(Mr,null,{default:De(()=>[T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_1,"onUpdate:modelValue":t[10]||(t[10]=w=>s.editedItem.Address_1=w),label:"Address 1"},null,8,["modelValue"])]),_:1}),T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_2,"onUpdate:modelValue":t[11]||(t[11]=w=>s.editedItem.Address_2=w),label:"Address 2"},null,8,["modelValue"])]),_:1})]),_:1}),T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_3,"onUpdate:modelValue":t[12]||(t[12]=w=>s.editedItem.Address_3=w),label:"Address 3"},null,8,["modelValue"])]),_:1}),T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Postcode,"onUpdate:modelValue":t[13]||(t[13]=w=>s.editedItem.Postcode=w),label:"Postcode"},null,8,["modelValue"])]),_:1})]),_:1}),T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"12",md:"12"},{default:De(()=>[T(ii,{density:"compact",variant:"outlined",modelValue:s.editedItem.Unique_property_reference_number,"onUpdate:modelValue":t[14]||(t[14]=w=>s.editedItem.Unique_property_reference_number=w),label:"Unique property reference number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(vn(),Nn(au,{key:3,value:3},{default:De(()=>[T(Mr,null,{default:De(()=>[T(Hs,{dense:""},{default:De(()=>[(vn(!0),xs(Gt,null,ig(s.openingHourTypes,w=>(vn(),Nn(oa,{cols:"12",sm:"6",md:"6",key:w},{default:De(()=>[rr("h4",o2e,Ss(w),1),(vn(!0),xs(Gt,null,ig(s.days,k=>(vn(),xs("div",{key:k,class:"my-1"},[T(gr,{class:"my-1"}),rr("div",l2e,[T(Jt,{variant:"tonal",icon:"mdi-plus-circle",size:"x-small",color:"success",onClick:C=>u.addOpeningHoursEntry(k+"_"+w.toLowerCase()+"_hours")},null,8,["onClick"]),zt(" "+Ss(k),1)]),(vn(!0),xs(Gt,null,ig(s.editedItem[k+"_"+w.toLowerCase()+"_hours"]?s.editedItem[k+"_"+w.toLowerCase()+"_hours"].split(","):"",C=>(vn(),Nn(hl,{class:"ma-1",size:"small",key:C,label:"",closable:"","close-icon":"mdi-delete",color:"success","onClick:close":I=>u.removeOpeningHoursEntry(k+"_"+w.toLowerCase()+"_hours",C)},{default:De(()=>[zt(Ss(C),1)]),_:2},1032,["onClick:close"]))),128))]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["modelValue"])]),_:1}),T(ec,null,{default:De(()=>[T(Ws),T(Jt,{variant:"plain",onClick:u.close,"append-icon":"mdi-close-circle"},{default:De(()=>[zt(" Cancel ")]),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"success",onClick:u.save,"append-icon":"mdi-check-circle"},{default:De(()=>[zt(" Ok ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(yd,{persistent:"","overlay-opacity":"0.1","content-class":"elevation-0",modelValue:s.dialogDelete,"onUpdate:modelValue":t[17]||(t[17]=w=>s.dialogDelete=w),"max-width":"500px"},{default:De(()=>[T(Ka,null,{default:De(()=>[T(Qc,null,{default:De(()=>[zt("Remove library?")]),_:1}),T(Ao,null,{default:De(()=>[zt(" This action will remove the library. If the library has closed it should not be removed. The closed year can be entered in the library details to mark it as closed and retain the details. ")]),_:1}),T(ec,null,{default:De(()=>[T(Ws),T(Jt,{variant:"plain",onClick:u.closeDelete,"append-icon":"mdi-close-circle"},{default:De(()=>[zt(" Cancel ")]),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"warning",onClick:u.deleteItemConfirm,"append-icon":"mdi-delete"},{default:De(()=>[zt(" Remove ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(yd,{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0",modelValue:s.dialogOpeningHoursEntry,"onUpdate:modelValue":t[20]||(t[20]=w=>s.dialogOpeningHoursEntry=w),"max-width":"500px"},{default:De(()=>[T(Ka,null,{default:De(()=>[T(Qc,null,{default:De(()=>[zt("Add opening hours")]),_:1}),T(Ao,null,{default:De(()=>[T(Hs,{dense:""},{default:De(()=>[T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.openingHoursOpen,"onUpdate:modelValue":t[18]||(t[18]=w=>s.openingHoursOpen=w),label:"Opening time",type:"time"},null,8,["modelValue"])]),_:1}),T(oa,{cols:"12",sm:"6",md:"6"},{default:De(()=>[T(ii,{variant:"outlined",density:"compact",modelValue:s.openingHoursClose,"onUpdate:modelValue":t[19]||(t[19]=w=>s.openingHoursClose=w),label:"Closing time",type:"time"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),T(ec,null,{default:De(()=>[T(Ws),T(Jt,{variant:"plain",onClick:u.closeOpeningHoursEntry,"append-icon":"mdi-close-circle"},{default:De(()=>[zt("Cancel")]),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"success",onClick:u.confirmOpeningHoursEntry,disabled:!s.openingHoursOpen||!s.openingHoursClose,"append-icon":"mdi-check-circle"},{default:De(()=>[zt("Ok")]),_:1},8,["onClick","disabled"]),T(Ws)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":De(({item:w})=>[rr("div",c2e,[T(nr,{class:"mr-2",onClick:k=>u.editItem(w)},{default:De(()=>[zt(" mdi-pencil ")]),_:2},1032,["onClick"]),T(nr,{onClick:k=>u.deleteItem(w)},{default:De(()=>[zt("mdi-delete")]),_:2},1032,["onClick"])])]),_:2},1032,["headers","items"])]),_:1}),T(al,{class:"mt-8",icon:"mdi-numeric-3-circle",title:"Save changes"},{default:De(()=>[zt(" If you are logged in with access to edit the library data, you can update the data by selecting "),u2e,zt(". You can also save a copy of the data to your computer. ")]),_:1}),T(Jt,{disabled:!s.isEditing,size:"large",variant:"tonal",color:"info","append-icon":"mdi-content-save",onClick:u.download},{default:De(()=>[zt(" Save local copy ")]),_:1},8,["disabled","onClick"]),T(Jt,{disabled:!s.isEditing||!this.$store.state.loginKey,size:"large",variant:"tonal",color:"success",class:"ma-2","append-icon":"mdi-cloud-upload",onClick:u.publishChanges},{default:De(()=>[zt(" Publish changes ")]),_:1},8,["disabled","onClick"]),T(yd,{modelValue:s.successDialog,"onUpdate:modelValue":t[22]||(t[22]=w=>s.successDialog=w),persistent:"","max-width":"290"},{default:De(()=>[T(Ka,null,{default:De(()=>[T(Qc,{class:"text-h5"},{default:De(()=>[zt("Success")]),_:1}),T(Ao,null,{default:De(()=>[zt("Your changes have been published. Thank you")]),_:1}),T(ec,null,{default:De(()=>[T(Ws),T(Jt,{color:"secondary",text:"",onClick:t[21]||(t[21]=w=>s.successDialog=!1)},{default:De(()=>[zt(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(yd,{modelValue:s.errorDialog,"onUpdate:modelValue":t[24]||(t[24]=w=>s.errorDialog=w),persistent:"","max-width":"290"},{default:De(()=>[T(Ka,null,{default:De(()=>[T(Qc,{class:"text-h5"},{default:De(()=>[zt("Sorry")]),_:1}),T(Ao,null,{default:De(()=>[zt(" Your changes failed to publish - please contact info@librarieshacked.org ")]),_:1}),T(ec,null,{default:De(()=>[T(Ws),T(Jt,{color:"secondary",text:"",onClick:t[23]||(t[23]=w=>s.errorDialog=!1)},{default:De(()=>[zt(" Close ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const h2e=Qr(a2e,[["render",d2e]]),f2e=`A loan is the issuing of an item of stock to a library member. Renewing an item already on loan is counted as an additional loan.

Loans are in a **time-series** format. Data is maintained by adding new data (e.g. the next months loans).
`,m2e={data(){return{mdText:f2e}},methods:{},components:{}},p2e={class:"text-center"};function g2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Loans",subtitle:"Lending of library items"}),rr("p",p2e,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/loans",target:"_blank"},{default:De(()=>[zt(" Explore the loans schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const v2e=Qr(m2e,[["render",g2e]]),y2e=`Anyone can browse this site, as well use the tools to create and visualise library data.

To publish updates to existing data, you need to login. If your organisation has access you will be able to login using your organisation email address.

Once you've entered a valid email address you will be emailed an access link.
`;async function _2e(e){try{const t=await Vr.post(Vwe,{email:e,website:Nwe});if(t&&t.status===200)return!0}catch{return!1}return!1}const b2e=We({...un(),...C3()},"VForm"),x2e=ft()({name:"VForm",props:b2e(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=T3(e),u=ht();function h(g){g.preventDefault(),s.reset()}function o(g){const y=g,w=s.validate();y.then=w.then.bind(w),y.catch=w.catch.bind(w),y.finally=w.finally.bind(w),r("submit",y),y.defaultPrevented||w.then(k=>{var I;let{valid:C}=k;C&&((I=u.value)==null||I.submit())}),y.preventDefault()}return St(()=>{var g;return T("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:h,onSubmit:o},[(g=n.default)==null?void 0:g.call(n,s)])}),io(s,u)}}),w2e={data(){return{mdText:y2e,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.processLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await _2e(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},processLoginKey:function(){const t=fke().query.key;t&&(this.$store.commit("setLoginKey",t),this.$router.push("/profile"))}},components:{}};function S2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),rr("section",null,[T(Mr,null,{default:De(()=>[T(Ka,{color:"success",variant:"outlined",elevation:"0",loading:s.loading,"max-width":"350",class:"mx-auto"},{progress:De(()=>[T(dv,{height:"5",indeterminate:""})]),default:De(()=>[T(Qc,null,{default:De(()=>[zt("Access the site")]),_:1}),s.success?Kn("",!0):(vn(),Nn(Ao,{key:0},{default:De(()=>[T(x2e,{ref:"form",modelValue:s.valid,"onUpdate:modelValue":t[1]||(t[1]=g=>s.valid=g)},{default:De(()=>[T(ii,{clearable:"",variant:"outlined",modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=g=>s.email=g),rules:s.emailRules,label:"Enter email address",type:"email","prepend-inner-icon":"mdi-email",required:""},null,8,["modelValue","rules"]),rr("p",null,Ss(s.message),1)]),_:1},8,["modelValue"])]),_:1})),s.success?(vn(),Nn(Ao,{key:1},{default:De(()=>[zt(" Thank you - you should receive an email shortly. ")]),_:1})):Kn("",!0),s.success?Kn("",!0):(vn(),Nn(ec,{key:2},{default:De(()=>[T(Ws),T(Jt,{"append-icon":"mdi-email",variant:"tonal",size:"large",color:"success",text:"",onClick:u.login,disabled:!s.valid},{default:De(()=>[zt(" Log in ")]),_:1},8,["onClick","disabled"])]),_:1}))]),_:1},8,["loading"])]),_:1})])]),_:1})}const k2e=Qr(w2e,[["render",S2e]]),C2e=`A library member is any member of the public registered with the library service.

Membership data is a **snapshot**. This means that each update to the data is a fresh export, representing the membership at that point in time.
`,T2e={data(){return{mdText:C2e}},methods:{},components:{}},A2e={class:"text-center"};function E2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}),rr("p",A2e,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/membership",target:"_blank"},{default:De(()=>[zt(" Explore the membership schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const I2e=Qr(T2e,[["render",E2e]]),P2e=We({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...gm({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Wr(e).every(t=>t!=null&&typeof t=="object")},...gv({clearable:!0})},"VFileInput"),D2e=ft()({name:"VFileInput",inheritAttrs:!1,props:P2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=si(),h=fn(e,"modelValue",e.modelValue,$=>Wr($),$=>!e.multiple&&Array.isArray($)?$[0]:$),{isFocused:o,focus:g,blur:y}=pm(e),w=Y(()=>typeof e.showSize!="boolean"?e.showSize:void 0),k=Y(()=>(h.value??[]).reduce(($,K)=>{let{size:ae=0}=K;return $+ae},0)),C=Y(()=>HS(k.value,w.value)),I=Y(()=>(h.value??[]).map($=>{const{name:K="",size:ae=0}=$;return e.showSize?`${K} (${HS(ae,w.value)})`:K})),O=Y(()=>{var K;const $=((K=h.value)==null?void 0:K.length)??0;return e.showSize?u(e.counterSizeString,$,C.value):u(e.counterString,$)}),L=ht(),R=ht(),B=ht(),j=Y(()=>o.value||e.active),Z=Y(()=>["plain","underlined"].includes(e.variant));function re(){var $;B.value!==document.activeElement&&(($=B.value)==null||$.focus()),o.value||g()}function ie($){var K;(K=B.value)==null||K.click()}function Q($){r("mousedown:control",$)}function se($){var K;(K=B.value)==null||K.click(),r("click:control",$)}function H($){$.stopPropagation(),re(),Xn(()=>{h.value=[],V0(e["onClick:clear"],$)})}return ut(h,$=>{(!Array.isArray($)||!$.length)&&B.value&&(B.value.value="")}),St(()=>{const $=!!(s.counter||e.counter),K=!!($||s.details),[ae,te]=sm(n),{modelValue:be,...me}=cc.filterProps(e),Ie=fx(e);return T(cc,lt({ref:L,modelValue:h.value,"onUpdate:modelValue":Ae=>h.value=Ae,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":Z.value},e.class],style:e.style,"onClick:prepend":ie},ae,me,{centerAffix:!Z.value,focused:o.value}),{...s,default:Ae=>{let{id:Ue,isDisabled:Fe,isDirty:Ce,isReadonly:Ve,isValid:$e}=Ae;return T(vv,lt({ref:R,"prepend-icon":e.prependIcon,onMousedown:Q,onClick:se,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Ie,{id:Ue.value,active:j.value||Ce.value,dirty:Ce.value||e.dirty,disabled:Fe.value,focused:o.value,error:$e.value===!1}),{...s,default:qe=>{var $t;let{props:{class:pt,...Ct}}=qe;return T(Gt,null,[T("input",lt({ref:B,type:"file",readonly:Ve.value,disabled:Fe.value,multiple:e.multiple,name:e.name,onClick:gt=>{gt.stopPropagation(),Ve.value&&gt.preventDefault(),re()},onChange:gt=>{if(!gt.target)return;const Ne=gt.target;h.value=[...Ne.files??[]]},onFocus:re,onBlur:y},Ct,te),null),T("div",{class:pt},[!!(($t=h.value)!=null&&$t.length)&&!e.hideInput&&(s.selection?s.selection({fileNames:I.value,totalBytes:k.value,totalBytesReadable:C.value}):e.chips?I.value.map(gt=>T(hl,{key:gt,size:"small",text:gt},null)):I.value.join(", "))])])}})},details:K?Ae=>{var Ue,Fe;return T(Gt,null,[(Ue=s.details)==null?void 0:Ue.call(s,Ae),$&&T(Gt,null,[T("span",null,null),T(ux,{active:!!((Fe=h.value)!=null&&Fe.length),value:O.value,disabled:e.disabled},s.counter)])])}:void 0})}),io({},L,R,B)}}),M2e={props:["files"],methods:{updateSelection(e){this.$emit("change-files",e)}}};function L2e(e,t,n,r,s,u){return vn(),Nn(Ka,{elevation:"0",color:"grey-lighten-5",class:"pt-4"},{default:De(()=>[T(D2e,{chips:"",accept:"text/csv",variant:"solo-filled",flat:"",multiple:"",label:"Select a file on your computer","model-value":n.files,"onUpdate:modelValue":t[0]||(t[0]=h=>u.updateSelection(h)),hint:"Only files with a .csv extension will be available","persistent-hint":"","persistent-clear":"","prepend-icon":"","prepend-inner-icon":"mdi-file-document"},null,8,["model-value"])]),_:1})}const zv=Qr(M2e,[["render",L2e]]),R2e=`This tool displays library membership on a map to help explore areas of low or high membership, alongside other data such as the socioeconomic deprivation of areas.

To use this tool you will need library membership data in the [membership data schema format](https://schema.librarydata.uk/membership). This can be created using the [postcode to statistical area converter](/postcode-to-lsoa).
`,O2e=e=>/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e);String.prototype.isUrl=O2e;var js={schemeGroups:{sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};function VP(e,t,n){if(e!==null)for(var r,s,u,h,o,g,y,w=0,k=0,C,I=e.type,O=I==="FeatureCollection",L=I==="Feature",R=O?e.features.length:1,B=0;B<R;B++){y=O?e.features[B].geometry:L?e.geometry:e,C=y?y.type==="GeometryCollection":!1,o=C?y.geometries.length:1;for(var j=0;j<o;j++){var Z=0,re=0;if(h=C?y.geometries[j]:y,h!==null){g=h.coordinates;var ie=h.type;switch(w=0,ie){case null:break;case"Point":if(t(g,k,B,Z,re)===!1)return!1;k++,Z++;break;case"LineString":case"MultiPoint":for(r=0;r<g.length;r++){if(t(g[r],k,B,Z,re)===!1)return!1;k++,ie==="MultiPoint"&&Z++}ie==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(r=0;r<g.length;r++){for(s=0;s<g[r].length-w;s++){if(t(g[r][s],k,B,Z,re)===!1)return!1;k++}ie==="MultiLineString"&&Z++,ie==="Polygon"&&re++}ie==="Polygon"&&Z++;break;case"MultiPolygon":for(r=0;r<g.length;r++){for(re=0,s=0;s<g[r].length;s++){for(u=0;u<g[r][s].length-w;u++){if(t(g[r][s][u],k,B,Z,re)===!1)return!1;k++}re++}Z++}break;case"GeometryCollection":for(r=0;r<h.geometries.length;r++)if(VP(h.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Qb(e){var t=[1/0,1/0,-1/0,-1/0];return VP(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}Qb.default=Qb;const F2e=We({...Sx({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),m2=ft()({name:"VRadio",props:F2e(),setup(e,t){let{slots:n}=t;return St(()=>{const r=Yf.filterProps(e);return T(Yf,lt(r,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),z2e=We({height:{type:[Number,String],default:"auto"},...gm(),...Tr(wx(),["multiple"]),trueIcon:{type:mn,default:"$radioOn"},falseIcon:{type:mn,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),B2e=ft()({name:"VRadioGroup",inheritAttrs:!1,props:z2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=As(),u=Y(()=>e.id||`radio-group-${s}`),h=fn(e,"modelValue");return St(()=>{const[o,g]=sm(n),y=cc.filterProps(e),w=Yf.filterProps(e),k=r.label?r.label({label:e.label,props:{for:u.value}}):e.label;return T(cc,lt({class:["v-radio-group",e.class],style:e.style},o,y,{modelValue:h.value,"onUpdate:modelValue":C=>h.value=C,id:u.value}),{...r,default:C=>{let{id:I,messagesId:O,isDisabled:L,isReadonly:R}=C;return T(Gt,null,[k&&T(dx,{id:I.value},{default:()=>[k]}),T(F4,lt(w,{id:I.value,"aria-describedby":O.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:L.value,readonly:R.value,"aria-labelledby":k?I.value:void 0,multiple:!1},g,{modelValue:h.value,"onUpdate:modelValue":B=>h.value=B}),r)])}})}),{}}}),V2e={data(){return{authoritySource:{data:{type:"FeatureCollection",features:[]},show:!1},authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},center:[-2,52],zoom:7,librariesSource:{tiles:[Bwe]},librariesLayerCircle:{filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoaFiles:[],lsoasSource:{tiles:[zwe],promoteId:{lsoa_boundaries:"code"},show:!1},lsoasLayerFill:{paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},lsoasLayerLabel:{minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Source Sans Pro SemiBold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}},matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",matchFilter:["in",["get","code"],["literal",[]]],mapDisplay:"populationPercentage",mapStyle:"https://zoomstack.librarydata.uk/light.json",minZoom:5,maxZoom:16,matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],mdText:R2e}},methods:{addMembershipData:async function(){const e=this;if(e.lsoaFiles[0].name){const t=await jx(e.lsoaFiles[0],!1);this.setLsoaFields(t.slice(1));const n=await Uwe(t[1][0]),r=JSON.parse(n.geojson);this.authoritySource.data=r,this.authoritySource.show=!0;const s=Qb(r);this.$refs.mglMap.map.fitBounds(s,{padding:10})}},setDisplayOptions:function(){this.mapDisplay==="populationPercentage"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaPopulation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaPopulation)),this.mapDisplay==="imd"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaDeprivation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaDeprivation))},setLsoaFields:function(e){const t=[],n=["match",["get","code"]],r=["match",["get","code"]];e.forEach(k=>{const C=parseInt(k[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoas",sourceLayer:"lsoa_boundaries",id:k[2]},{members:C}),t.push(k[2]),n.push(k[2]),n.push(["concat",["to-string",["round",["*",["/",C,["to-number",["get","population"]]],100]]],"%"]),r.push(k[2]),r.push(["get","imd"])}),n.push(""),r.push("");const s=Math.floor(Math.min(...e.map(k=>parseInt(k[3].replace("x","2"))/1800*100))),u=Math.ceil(Math.max(...e.filter(k=>k[3]<=1200).map(k=>parseInt(k[3].replace("x","2"))/1500*100))),o=[1,2,3,4,5,6,7,8,9].map(k=>Math.round(s+(u-s)*(k/10))).map((k,C)=>[k,js.OrRd[9][C]]),g=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],...o.flat()],y=["interpolate",["linear"],["to-number",["get","imd"]],1,js.OrRd[9][8],2,js.OrRd[9][7],3,js.OrRd[9][6],4,js.OrRd[9][5],5,js.OrRd[9][4],6,js.OrRd[9][3],7,js.OrRd[9][2],8,js.OrRd[9][1],9,js.OrRd[9][0],10,js.OrRd[9][0]],w=["in",["get","code"],["literal",t]];this.matchFilter=w,this.$refs.mglMap.map.setFilter("lsoas_layer_fill",w),this.$refs.mglMap.map.setFilter("lsoas_layer_label",w),this.matchFieldLsoaPopulation=n,this.matchFieldLsoaDeprivation=r,this.matchColourLsoaPopulation=g,this.matchColourLsoaDeprivation=y,this.setDisplayOptions()}},components:{"file-upload":zv}},N2e=rr("h2",{class:"text-h5 text-decoration-underline my-3"},"Map library members",-1),$2e=rr("strong",null,"Percentage membership",-1),U2e=rr("strong",null,"Displaying deprivation",-1);function q2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),g=zv,y=kn("mgl-fullscreen-control"),w=kn("mgl-navigation-control"),k=kn("mgl-scale-control"),C=kn("mgl-circle-layer"),I=kn("mgl-vector-source"),O=kn("mgl-fill-layer"),L=kn("mgl-symbol-layer"),R=kn("mgl-line-layer"),B=kn("mgl-geo-json-source"),j=kn("mgl-map");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Membership map",subtitle:"Insights from library membership data"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),N2e,T(lc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:De(()=>[T(al,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:De(()=>[zt(" First you need a CSV file in the format of the membership data schema. ")]),_:1}),T(g,{files:s.lsoaFiles,onChangeFiles:t[0]||(t[0]=Z=>s.lsoaFiles=Z),onDeleteFile:t[1]||(t[1]=Z=>s.lsoaFiles=null)},null,8,["files"]),T(Jt,{"append-icon":"mdi-map-marker-plus",color:"info",class:"mt-3",variant:"tonal",size:"large",onClick:u.addMembershipData,disabled:s.lsoaFiles.length==0},{default:De(()=>[zt(" Display on map ")]),_:1},8,["onClick","disabled"]),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Map"},{default:De(()=>[$2e,zt(" shades the map to highlight concentration of membership. When zooming in this also displays the membership population percentage for individual areas. "),U2e,zt(" shades the map to highlight highly deprived areas. This uses the index of multiple deprivation for each area. 1 represents highly deprived areas and is shaded in red, 10 the least deprived. ")]),_:1}),T(B2e,{modelValue:s.mapDisplay,"onUpdate:modelValue":t[2]||(t[2]=Z=>s.mapDisplay=Z),onChange:u.setDisplayOptions,inline:""},{default:De(()=>[T(m2,{label:"Highlight percentage membership",value:"populationPercentage"}),T(m2,{label:"Highlight deprivation levels",value:"imd"})]),_:1},8,["modelValue","onChange"]),T(Mr,{class:"map"},{default:De(()=>[T(j,{ref:"mglMap",center:s.center,zoom:s.zoom,mapStyle:s.mapStyle},{default:De(()=>[T(y),T(w),T(k),T(I,{"source-id":"libraries",tiles:s.librariesSource.tiles},{default:De(()=>[T(C,{"source-layer":"libraries","layer-id":"libraries_layer_circles",paint:s.librariesLayerCircle.paint},null,8,["paint"])]),_:1},8,["tiles"]),T(I,{"source-id":"lsoas",tiles:s.lsoasSource.tiles,promoteId:s.lsoasSource.promoteId},{default:De(()=>[T(O,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_fill",paint:s.lsoasLayerFill.paint,filter:s.matchFilter},null,8,["paint","filter"]),T(L,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_label",paint:s.lsoasLayerLabel.paint,layout:s.lsoasLayerLabel.layout,filter:s.matchFilter,minzoom:s.lsoasLayerLabel.minzoom},null,8,["paint","layout","filter","minzoom"])]),_:1},8,["tiles","promoteId"]),T(B,{"source-id":"authority",data:s.authoritySource.data},{default:De(()=>[s.authoritySource.show?(vn(),Nn(R,{key:0,"layer-id":"authority-line",paint:s.authorityLayerLine.paint},null,8,["paint"])):Kn("",!0),s.authoritySource.show?(vn(),Nn(L,{key:1,"layer-id":"authority-label",layout:s.authorityLayerLabel.layout,paint:s.authorityLayerLabel.paint},null,8,["layout","paint"])):Kn("",!0)]),_:1},8,["data"])]),_:1},8,["center","zoom","mapStyle"])]),_:1})]),_:1})]),_:1})}const j2e=Qr(V2e,[["render",q2e]]),H2e=`This tool converts postcodes into statistical areas. These are useful for location-based analysis. England and Wales compile demographic data at census-based 'lower super output area' geographic areas. In Scotland, 'Data Zones' are commonly used, and in Northern Ireland, 'Small Areas'.

When using this tool, all postcodes are stored securely on your own computer, and never transmitted online.
`;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var NP;function jt(){return NP.apply(null,arguments)}function G2e(e){NP=e}function Qs(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ou(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ir(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wx(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ir(e,t))return!1;return!0}function Oa(e){return e===void 0}function fl(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function km(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function $P(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function tc(e,t){for(var n in t)ir(t,n)&&(e[n]=t[n]);return ir(t,"toString")&&(e.toString=t.toString),ir(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Fo(e,t,n,r){return uD(e,t,n,r,!0).utc()}function W2e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Rn(e){return e._pf==null&&(e._pf=W2e()),e._pf}var e0;Array.prototype.some?e0=Array.prototype.some:e0=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function Yx(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=Rn(e),n=e0.call(t.parsedDateParts,function(s){return s!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Bv(e){var t=Fo(NaN);return e!=null?tc(Rn(t),e):Rn(t).userInvalidated=!0,t}var p2=jt.momentProperties=[],W_=!1;function Zx(e,t){var n,r,s,u=p2.length;if(Oa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),Oa(t._i)||(e._i=t._i),Oa(t._f)||(e._f=t._f),Oa(t._l)||(e._l=t._l),Oa(t._strict)||(e._strict=t._strict),Oa(t._tzm)||(e._tzm=t._tzm),Oa(t._isUTC)||(e._isUTC=t._isUTC),Oa(t._offset)||(e._offset=t._offset),Oa(t._pf)||(e._pf=Rn(t)),Oa(t._locale)||(e._locale=t._locale),u>0)for(n=0;n<u;n++)r=p2[n],s=t[r],Oa(s)||(e[r]=s);return e}function Cm(e){Zx(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),W_===!1&&(W_=!0,jt.updateOffset(this),W_=!1)}function eo(e){return e instanceof Cm||e!=null&&e._isAMomentObject!=null}function UP(e){jt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ds(e,t){var n=!0;return tc(function(){if(jt.deprecationHandler!=null&&jt.deprecationHandler(null,e),n){var r=[],s,u,h,o=arguments.length;for(u=0;u<o;u++){if(s="",typeof arguments[u]=="object"){s+=`
[`+u+"] ";for(h in arguments[0])ir(arguments[0],h)&&(s+=h+": "+arguments[0][h]+", ");s=s.slice(0,-2)}else s=arguments[u];r.push(s)}UP(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var g2={};function qP(e,t){jt.deprecationHandler!=null&&jt.deprecationHandler(e,t),g2[e]||(UP(t),g2[e]=!0)}jt.suppressDeprecationWarnings=!1;jt.deprecationHandler=null;function zo(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Y2e(e){var t,n;for(n in e)ir(e,n)&&(t=e[n],zo(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function t0(e,t){var n=tc({},e),r;for(r in t)ir(t,r)&&(ou(e[r])&&ou(t[r])?(n[r]={},tc(n[r],e[r]),tc(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ir(e,r)&&!ir(t,r)&&ou(e[r])&&(n[r]=tc({},n[r]));return n}function Kx(e){e!=null&&this.set(e)}var n0;Object.keys?n0=Object.keys:n0=function(e){var t,n=[];for(t in e)ir(e,t)&&n.push(t);return n};var Z2e={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function K2e(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return zo(r)?r.call(t,n):r}function Po(e,t,n){var r=""+Math.abs(e),s=t-r.length,u=e>=0;return(u?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Xx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qp=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y_={},Ad={};function dn(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(Ad[e]=s),t&&(Ad[t[0]]=function(){return Po(s.apply(this,arguments),t[1],t[2])}),n&&(Ad[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function X2e(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function J2e(e){var t=e.match(Xx),n,r;for(n=0,r=t.length;n<r;n++)Ad[t[n]]?t[n]=Ad[t[n]]:t[n]=X2e(t[n]);return function(s){var u="",h;for(h=0;h<r;h++)u+=zo(t[h])?t[h].call(s,e):t[h];return u}}function pg(e,t){return e.isValid()?(t=jP(t,e.localeData()),Y_[t]=Y_[t]||J2e(t),Y_[t](e)):e.localeData().invalidDate()}function jP(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(Qp.lastIndex=0;n>=0&&Qp.test(e);)e=e.replace(Qp,r),Qp.lastIndex=0,n-=1;return e}var Q2e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function eTe(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(Xx).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var tTe="Invalid date";function nTe(){return this._invalidDate}var rTe="%d",iTe=/\d{1,2}/;function aTe(e){return this._ordinal.replace("%d",e)}var sTe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function oTe(e,t,n,r){var s=this._relativeTime[n];return zo(s)?s(e,t,n,r):s.replace(/%d/i,e)}function lTe(e,t){var n=this._relativeTime[e>0?"future":"past"];return zo(n)?n(t):n.replace(/%s/i,t)}var v2={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ms(e){return typeof e=="string"?v2[e]||v2[e.toLowerCase()]:void 0}function Jx(e){var t={},n,r;for(r in e)ir(e,r)&&(n=Ms(r),n&&(t[n]=e[r]));return t}var cTe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function uTe(e){var t=[],n;for(n in e)ir(e,n)&&t.push({unit:n,priority:cTe[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}var HP=/\d/,ls=/\d\d/,GP=/\d{3}/,Qx=/\d{4}/,Vv=/[+-]?\d{6}/,$r=/\d\d?/,WP=/\d\d\d\d?/,YP=/\d\d\d\d\d\d?/,Nv=/\d{1,3}/,e1=/\d{1,4}/,$v=/[+-]?\d{1,6}/,Qd=/\d+/,Uv=/[+-]?\d+/,dTe=/Z|[+-]\d\d:?\d\d/gi,qv=/Z|[+-]\d\d(?::?\d\d)?/gi,hTe=/[+-]?\d+(\.\d{1,3})?/,Tm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eh=/^[1-9]\d?/,t1=/^([1-9]\d|\d)/,jg;jg={};function en(e,t,n){jg[e]=zo(t)?t:function(r,s){return r&&n?n:t}}function fTe(e,t){return ir(jg,e)?jg[e](t._strict,t._locale):new RegExp(mTe(e))}function mTe(e){return cl(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,u){return n||r||s||u}))}function cl(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function bs(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function qn(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=bs(t)),n}var r0={};function Sr(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),fl(t)&&(r=function(u,h){h[t]=qn(u)}),s=e.length,n=0;n<s;n++)r0[e[n]]=r}function Am(e,t){Sr(e,function(n,r,s,u){s._w=s._w||{},t(n,s._w,s,u)})}function pTe(e,t,n){t!=null&&ir(r0,e)&&r0[e](t,n._a,n,e)}function jv(e){return e%4===0&&e%100!==0||e%400===0}var ua=0,sl=1,So=2,Ei=3,Ks=4,ol=5,eu=6,gTe=7,vTe=8;dn("Y",0,0,function(){var e=this.year();return e<=9999?Po(e,4):"+"+e});dn(0,["YY",2],0,function(){return this.year()%100});dn(0,["YYYY",4],0,"year");dn(0,["YYYYY",5],0,"year");dn(0,["YYYYYY",6,!0],0,"year");en("Y",Uv);en("YY",$r,ls);en("YYYY",e1,Qx);en("YYYYY",$v,Vv);en("YYYYYY",$v,Vv);Sr(["YYYYY","YYYYYY"],ua);Sr("YYYY",function(e,t){t[ua]=e.length===2?jt.parseTwoDigitYear(e):qn(e)});Sr("YY",function(e,t){t[ua]=jt.parseTwoDigitYear(e)});Sr("Y",function(e,t){t[ua]=parseInt(e,10)});function Ef(e){return jv(e)?366:365}jt.parseTwoDigitYear=function(e){return qn(e)+(qn(e)>68?1900:2e3)};var ZP=th("FullYear",!0);function yTe(){return jv(this.year())}function th(e,t){return function(n){return n!=null?(KP(this,e,n),jt.updateOffset(this,t),this):Qf(this,e)}}function Qf(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function KP(e,t,n){var r,s,u,h,o;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}u=n,h=e.month(),o=e.date(),o=o===29&&h===1&&!jv(u)?28:o,s?r.setUTCFullYear(u,h,o):r.setFullYear(u,h,o)}}function _Te(e){return e=Ms(e),zo(this[e])?this[e]():this}function bTe(e,t){if(typeof e=="object"){e=Jx(e);var n=uTe(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=Ms(e),zo(this[e]))return this[e](t);return this}function xTe(e,t){return(e%t+t)%t}var pi;Array.prototype.indexOf?pi=Array.prototype.indexOf:pi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function n1(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=xTe(t,12);return e+=(t-n)/12,n===1?jv(e)?29:28:31-n%7%2}dn("M",["MM",2],"Mo",function(){return this.month()+1});dn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});dn("MMMM",0,0,function(e){return this.localeData().months(this,e)});en("M",$r,eh);en("MM",$r,ls);en("MMM",function(e,t){return t.monthsShortRegex(e)});en("MMMM",function(e,t){return t.monthsRegex(e)});Sr(["M","MM"],function(e,t){t[sl]=qn(e)-1});Sr(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[sl]=s:Rn(n).invalidMonth=e});var wTe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),XP="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),JP=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,STe=Tm,kTe=Tm;function CTe(e,t){return e?Qs(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||JP).test(t)?"format":"standalone"][e.month()]:Qs(this._months)?this._months:this._months.standalone}function TTe(e,t){return e?Qs(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[JP.test(t)?"format":"standalone"][e.month()]:Qs(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ATe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)u=Fo([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(u,"").toLocaleLowerCase();return n?t==="MMM"?(s=pi.call(this._shortMonthsParse,h),s!==-1?s:null):(s=pi.call(this._longMonthsParse,h),s!==-1?s:null):t==="MMM"?(s=pi.call(this._shortMonthsParse,h),s!==-1?s:(s=pi.call(this._longMonthsParse,h),s!==-1?s:null)):(s=pi.call(this._longMonthsParse,h),s!==-1?s:(s=pi.call(this._shortMonthsParse,h),s!==-1?s:null))}function ETe(e,t,n){var r,s,u;if(this._monthsParseExact)return ATe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Fo([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(u="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function QP(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=qn(t);else if(t=e.localeData().monthsParse(t),!fl(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,n1(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function eD(e){return e!=null?(QP(this,e),jt.updateOffset(this,!0),this):Qf(this,"Month")}function ITe(){return n1(this.year(),this.month())}function PTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||tD.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ir(this,"_monthsShortRegex")||(this._monthsShortRegex=STe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function DTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||tD.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ir(this,"_monthsRegex")||(this._monthsRegex=kTe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function tD(){function e(g,y){return y.length-g.length}var t=[],n=[],r=[],s,u,h,o;for(s=0;s<12;s++)u=Fo([2e3,s]),h=cl(this.monthsShort(u,"")),o=cl(this.months(u,"")),t.push(h),n.push(o),r.push(o),r.push(h);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function MTe(e,t,n,r,s,u,h){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,s,u,h),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,s,u,h),o}function em(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Hg(e,t,n){var r=7+t-n,s=(7+em(e,0,r).getUTCDay()-t)%7;return-s+r-1}function nD(e,t,n,r,s){var u=(7+n-r)%7,h=Hg(e,r,s),o=1+7*(t-1)+u+h,g,y;return o<=0?(g=e-1,y=Ef(g)+o):o>Ef(e)?(g=e+1,y=o-Ef(e)):(g=e,y=o),{year:g,dayOfYear:y}}function tm(e,t,n){var r=Hg(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,u,h;return s<1?(h=e.year()-1,u=s+ul(h,t,n)):s>ul(e.year(),t,n)?(u=s-ul(e.year(),t,n),h=e.year()+1):(h=e.year(),u=s),{week:u,year:h}}function ul(e,t,n){var r=Hg(e,t,n),s=Hg(e+1,t,n);return(Ef(e)-r+s)/7}dn("w",["ww",2],"wo","week");dn("W",["WW",2],"Wo","isoWeek");en("w",$r,eh);en("ww",$r,ls);en("W",$r,eh);en("WW",$r,ls);Am(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=qn(e)});function LTe(e){return tm(e,this._week.dow,this._week.doy).week}var RTe={dow:0,doy:6};function OTe(){return this._week.dow}function FTe(){return this._week.doy}function zTe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function BTe(e){var t=tm(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}dn("d",0,"do","day");dn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});dn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});dn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});dn("e",0,0,"weekday");dn("E",0,0,"isoWeekday");en("d",$r);en("e",$r);en("E",$r);en("dd",function(e,t){return t.weekdaysMinRegex(e)});en("ddd",function(e,t){return t.weekdaysShortRegex(e)});en("dddd",function(e,t){return t.weekdaysRegex(e)});Am(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:Rn(n).invalidWeekday=e});Am(["d","e","E"],function(e,t,n,r){t[r]=qn(e)});function VTe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function NTe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function r1(e,t){return e.slice(t,7).concat(e.slice(0,t))}var $Te="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),rD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),UTe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qTe=Tm,jTe=Tm,HTe=Tm;function GTe(e,t){var n=Qs(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?r1(n,this._week.dow):e?n[e.day()]:n}function WTe(e){return e===!0?r1(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function YTe(e){return e===!0?r1(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function ZTe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)u=Fo([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(u,"").toLocaleLowerCase();return n?t==="dddd"?(s=pi.call(this._weekdaysParse,h),s!==-1?s:null):t==="ddd"?(s=pi.call(this._shortWeekdaysParse,h),s!==-1?s:null):(s=pi.call(this._minWeekdaysParse,h),s!==-1?s:null):t==="dddd"?(s=pi.call(this._weekdaysParse,h),s!==-1||(s=pi.call(this._shortWeekdaysParse,h),s!==-1)?s:(s=pi.call(this._minWeekdaysParse,h),s!==-1?s:null)):t==="ddd"?(s=pi.call(this._shortWeekdaysParse,h),s!==-1||(s=pi.call(this._weekdaysParse,h),s!==-1)?s:(s=pi.call(this._minWeekdaysParse,h),s!==-1?s:null)):(s=pi.call(this._minWeekdaysParse,h),s!==-1||(s=pi.call(this._weekdaysParse,h),s!==-1)?s:(s=pi.call(this._shortWeekdaysParse,h),s!==-1?s:null))}function KTe(e,t,n){var r,s,u;if(this._weekdaysParseExact)return ZTe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Fo([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(u="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function XTe(e){if(!this.isValid())return e!=null?this:NaN;var t=Qf(this,"Day");return e!=null?(e=VTe(e,this.localeData()),this.add(e-t,"d")):t}function JTe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function QTe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=NTe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function eAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||i1.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ir(this,"_weekdaysRegex")||(this._weekdaysRegex=qTe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function tAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||i1.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ir(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=jTe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function nAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||i1.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ir(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=HTe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function i1(){function e(w,k){return k.length-w.length}var t=[],n=[],r=[],s=[],u,h,o,g,y;for(u=0;u<7;u++)h=Fo([2e3,1]).day(u),o=cl(this.weekdaysMin(h,"")),g=cl(this.weekdaysShort(h,"")),y=cl(this.weekdays(h,"")),t.push(o),n.push(g),r.push(y),s.push(o),s.push(g),s.push(y);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function a1(){return this.hours()%12||12}function rAe(){return this.hours()||24}dn("H",["HH",2],0,"hour");dn("h",["hh",2],0,a1);dn("k",["kk",2],0,rAe);dn("hmm",0,0,function(){return""+a1.apply(this)+Po(this.minutes(),2)});dn("hmmss",0,0,function(){return""+a1.apply(this)+Po(this.minutes(),2)+Po(this.seconds(),2)});dn("Hmm",0,0,function(){return""+this.hours()+Po(this.minutes(),2)});dn("Hmmss",0,0,function(){return""+this.hours()+Po(this.minutes(),2)+Po(this.seconds(),2)});function iD(e,t){dn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}iD("a",!0);iD("A",!1);function aD(e,t){return t._meridiemParse}en("a",aD);en("A",aD);en("H",$r,t1);en("h",$r,eh);en("k",$r,eh);en("HH",$r,ls);en("hh",$r,ls);en("kk",$r,ls);en("hmm",WP);en("hmmss",YP);en("Hmm",WP);en("Hmmss",YP);Sr(["H","HH"],Ei);Sr(["k","kk"],function(e,t,n){var r=qn(e);t[Ei]=r===24?0:r});Sr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Sr(["h","hh"],function(e,t,n){t[Ei]=qn(e),Rn(n).bigHour=!0});Sr("hmm",function(e,t,n){var r=e.length-2;t[Ei]=qn(e.substr(0,r)),t[Ks]=qn(e.substr(r)),Rn(n).bigHour=!0});Sr("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ei]=qn(e.substr(0,r)),t[Ks]=qn(e.substr(r,2)),t[ol]=qn(e.substr(s)),Rn(n).bigHour=!0});Sr("Hmm",function(e,t,n){var r=e.length-2;t[Ei]=qn(e.substr(0,r)),t[Ks]=qn(e.substr(r))});Sr("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Ei]=qn(e.substr(0,r)),t[Ks]=qn(e.substr(r,2)),t[ol]=qn(e.substr(s))});function iAe(e){return(e+"").toLowerCase().charAt(0)==="p"}var aAe=/[ap]\.?m?\.?/i,sAe=th("Hours",!0);function oAe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sD={calendar:Z2e,longDateFormat:Q2e,invalidDate:tTe,ordinal:rTe,dayOfMonthOrdinalParse:iTe,relativeTime:sTe,months:wTe,monthsShort:XP,week:RTe,weekdays:$Te,weekdaysMin:UTe,weekdaysShort:rD,meridiemParse:aAe},Hr={},pf={},nm;function lAe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function y2(e){return e&&e.toLowerCase().replace("_","-")}function cAe(e){for(var t=0,n,r,s,u;t<e.length;){for(u=y2(e[t]).split("-"),n=u.length,r=y2(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=Hv(u.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&lAe(u,r)>=n-1)break;n--}t++}return nm}function uAe(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Hv(e){var t=null,n;if(Hr[e]===void 0&&typeof yg<"u"&&yg&&yg.exports&&uAe(e))try{t=nm._abbr,n=require,n("./locale/"+e),ac(t)}catch{Hr[e]=null}return Hr[e]}function ac(e,t){var n;return e&&(Oa(t)?n=xl(e):n=s1(e,t),n?nm=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nm._abbr}function s1(e,t){if(t!==null){var n,r=sD;if(t.abbr=e,Hr[e]!=null)qP("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Hr[e]._config;else if(t.parentLocale!=null)if(Hr[t.parentLocale]!=null)r=Hr[t.parentLocale]._config;else if(n=Hv(t.parentLocale),n!=null)r=n._config;else return pf[t.parentLocale]||(pf[t.parentLocale]=[]),pf[t.parentLocale].push({name:e,config:t}),null;return Hr[e]=new Kx(t0(r,t)),pf[e]&&pf[e].forEach(function(s){s1(s.name,s.config)}),ac(e),Hr[e]}else return delete Hr[e],null}function dAe(e,t){if(t!=null){var n,r,s=sD;Hr[e]!=null&&Hr[e].parentLocale!=null?Hr[e].set(t0(Hr[e]._config,t)):(r=Hv(e),r!=null&&(s=r._config),t=t0(s,t),r==null&&(t.abbr=e),n=new Kx(t),n.parentLocale=Hr[e],Hr[e]=n),ac(e)}else Hr[e]!=null&&(Hr[e].parentLocale!=null?(Hr[e]=Hr[e].parentLocale,e===ac()&&ac(e)):Hr[e]!=null&&delete Hr[e]);return Hr[e]}function xl(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nm;if(!Qs(e)){if(t=Hv(e),t)return t;e=[e]}return cAe(e)}function hAe(){return n0(Hr)}function o1(e){var t,n=e._a;return n&&Rn(e).overflow===-2&&(t=n[sl]<0||n[sl]>11?sl:n[So]<1||n[So]>n1(n[ua],n[sl])?So:n[Ei]<0||n[Ei]>24||n[Ei]===24&&(n[Ks]!==0||n[ol]!==0||n[eu]!==0)?Ei:n[Ks]<0||n[Ks]>59?Ks:n[ol]<0||n[ol]>59?ol:n[eu]<0||n[eu]>999?eu:-1,Rn(e)._overflowDayOfYear&&(t<ua||t>So)&&(t=So),Rn(e)._overflowWeeks&&t===-1&&(t=gTe),Rn(e)._overflowWeekday&&t===-1&&(t=vTe),Rn(e).overflow=t),e}var fAe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mAe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pAe=/Z|[+-]\d\d(?::?\d\d)?/,eg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Z_=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],gAe=/^\/?Date\((-?\d+)/i,vAe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,yAe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function oD(e){var t,n,r=e._i,s=fAe.exec(r)||mAe.exec(r),u,h,o,g,y=eg.length,w=Z_.length;if(s){for(Rn(e).iso=!0,t=0,n=y;t<n;t++)if(eg[t][1].exec(s[1])){h=eg[t][0],u=eg[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(s[3]){for(t=0,n=w;t<n;t++)if(Z_[t][1].exec(s[3])){o=(s[2]||" ")+Z_[t][0];break}if(o==null){e._isValid=!1;return}}if(!u&&o!=null){e._isValid=!1;return}if(s[4])if(pAe.exec(s[4]))g="Z";else{e._isValid=!1;return}e._f=h+(o||"")+(g||""),c1(e)}else e._isValid=!1}function _Ae(e,t,n,r,s,u){var h=[bAe(e),XP.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return u&&h.push(parseInt(u,10)),h}function bAe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function xAe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wAe(e,t,n){if(e){var r=rD.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return Rn(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function SAe(e,t,n){if(e)return yAe[e];if(t)return 0;var r=parseInt(n,10),s=r%100,u=(r-s)/100;return u*60+s}function lD(e){var t=vAe.exec(xAe(e._i)),n;if(t){if(n=_Ae(t[4],t[3],t[2],t[5],t[6],t[7]),!wAe(t[1],n,e))return;e._a=n,e._tzm=SAe(t[8],t[9],t[10]),e._d=em.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Rn(e).rfc2822=!0}else e._isValid=!1}function kAe(e){var t=gAe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(oD(e),e._isValid===!1)delete e._isValid;else return;if(lD(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:jt.createFromInputFallback(e)}jt.createFromInputFallback=Ds("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function _d(e,t,n){return e??t??n}function CAe(e){var t=new Date(jt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function l1(e){var t,n,r=[],s,u,h;if(!e._d){for(s=CAe(e),e._w&&e._a[So]==null&&e._a[sl]==null&&TAe(e),e._dayOfYear!=null&&(h=_d(e._a[ua],s[ua]),(e._dayOfYear>Ef(h)||e._dayOfYear===0)&&(Rn(e)._overflowDayOfYear=!0),n=em(h,0,e._dayOfYear),e._a[sl]=n.getUTCMonth(),e._a[So]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ei]===24&&e._a[Ks]===0&&e._a[ol]===0&&e._a[eu]===0&&(e._nextDay=!0,e._a[Ei]=0),e._d=(e._useUTC?em:MTe).apply(null,r),u=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ei]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==u&&(Rn(e).weekdayMismatch=!0)}}function TAe(e){var t,n,r,s,u,h,o,g,y;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(u=1,h=4,n=_d(t.GG,e._a[ua],tm(Nr(),1,4).year),r=_d(t.W,1),s=_d(t.E,1),(s<1||s>7)&&(g=!0)):(u=e._locale._week.dow,h=e._locale._week.doy,y=tm(Nr(),u,h),n=_d(t.gg,e._a[ua],y.year),r=_d(t.w,y.week),t.d!=null?(s=t.d,(s<0||s>6)&&(g=!0)):t.e!=null?(s=t.e+u,(t.e<0||t.e>6)&&(g=!0)):s=u),r<1||r>ul(n,u,h)?Rn(e)._overflowWeeks=!0:g!=null?Rn(e)._overflowWeekday=!0:(o=nD(n,r,s,u,h),e._a[ua]=o.year,e._dayOfYear=o.dayOfYear)}jt.ISO_8601=function(){};jt.RFC_2822=function(){};function c1(e){if(e._f===jt.ISO_8601){oD(e);return}if(e._f===jt.RFC_2822){lD(e);return}e._a=[],Rn(e).empty=!0;var t=""+e._i,n,r,s,u,h,o=t.length,g=0,y,w;for(s=jP(e._f,e._locale).match(Xx)||[],w=s.length,n=0;n<w;n++)u=s[n],r=(t.match(fTe(u,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&Rn(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),g+=r.length),Ad[u]?(r?Rn(e).empty=!1:Rn(e).unusedTokens.push(u),pTe(u,r,e)):e._strict&&!r&&Rn(e).unusedTokens.push(u);Rn(e).charsLeftOver=o-g,t.length>0&&Rn(e).unusedInput.push(t),e._a[Ei]<=12&&Rn(e).bigHour===!0&&e._a[Ei]>0&&(Rn(e).bigHour=void 0),Rn(e).parsedDateParts=e._a.slice(0),Rn(e).meridiem=e._meridiem,e._a[Ei]=AAe(e._locale,e._a[Ei],e._meridiem),y=Rn(e).era,y!==null&&(e._a[ua]=e._locale.erasConvertYear(y,e._a[ua])),l1(e),o1(e)}function AAe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function EAe(e){var t,n,r,s,u,h,o=!1,g=e._f.length;if(g===0){Rn(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<g;s++)u=0,h=!1,t=Zx({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],c1(t),Yx(t)&&(h=!0),u+=Rn(t).charsLeftOver,u+=Rn(t).unusedTokens.length*10,Rn(t).score=u,o?u<r&&(r=u,n=t):(r==null||u<r||h)&&(r=u,n=t,h&&(o=!0));tc(e,n||t)}function IAe(e){if(!e._d){var t=Jx(e._i),n=t.day===void 0?t.date:t.day;e._a=$P([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),l1(e)}}function PAe(e){var t=new Cm(o1(cD(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function cD(e){var t=e._i,n=e._f;return e._locale=e._locale||xl(e._l),t===null||n===void 0&&t===""?Bv({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),eo(t)?new Cm(o1(t)):(km(t)?e._d=t:Qs(n)?EAe(e):n?c1(e):DAe(e),Yx(e)||(e._d=null),e))}function DAe(e){var t=e._i;Oa(t)?e._d=new Date(jt.now()):km(t)?e._d=new Date(t.valueOf()):typeof t=="string"?kAe(e):Qs(t)?(e._a=$P(t.slice(0),function(n){return parseInt(n,10)}),l1(e)):ou(t)?IAe(e):fl(t)?e._d=new Date(t):jt.createFromInputFallback(e)}function uD(e,t,n,r,s){var u={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(ou(e)&&Wx(e)||Qs(e)&&e.length===0)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=r,PAe(u)}function Nr(e,t,n,r){return uD(e,t,n,r,!1)}var MAe=Ds("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Nr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Bv()}),LAe=Ds("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Nr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Bv()});function dD(e,t){var n,r;if(t.length===1&&Qs(t[0])&&(t=t[0]),!t.length)return Nr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function RAe(){var e=[].slice.call(arguments,0);return dD("isBefore",e)}function OAe(){var e=[].slice.call(arguments,0);return dD("isAfter",e)}var FAe=function(){return Date.now?Date.now():+new Date},gf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function zAe(e){var t,n=!1,r,s=gf.length;for(t in e)if(ir(e,t)&&!(pi.call(gf,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[gf[r]]){if(n)return!1;parseFloat(e[gf[r]])!==qn(e[gf[r]])&&(n=!0)}return!0}function BAe(){return this._isValid}function VAe(){return oo(NaN)}function Gv(e){var t=Jx(e),n=t.year||0,r=t.quarter||0,s=t.month||0,u=t.week||t.isoWeek||0,h=t.day||0,o=t.hour||0,g=t.minute||0,y=t.second||0,w=t.millisecond||0;this._isValid=zAe(t),this._milliseconds=+w+y*1e3+g*6e4+o*1e3*60*60,this._days=+h+u*7,this._months=+s+r*3+n*12,this._data={},this._locale=xl(),this._bubble()}function gg(e){return e instanceof Gv}function i0(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function NAe(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),u=0,h;for(h=0;h<r;h++)qn(e[h])!==qn(t[h])&&u++;return u+s}function hD(e,t){dn(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Po(~~(n/60),2)+t+Po(~~n%60,2)})}hD("Z",":");hD("ZZ","");en("Z",qv);en("ZZ",qv);Sr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=u1(qv,e)});var $Ae=/([\+\-]|\d\d)/gi;function u1(e,t){var n=(t||"").match(e),r,s,u;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match($Ae)||["-",0,0],u=+(s[1]*60)+qn(s[2]),u===0?0:s[0]==="+"?u:-u)}function d1(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(eo(e)||km(e)?e.valueOf():Nr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),jt.updateOffset(n,!1),n):Nr(e).local()}function a0(e){return-Math.round(e._d.getTimezoneOffset())}jt.updateOffset=function(){};function UAe(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=u1(qv,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=a0(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?pD(this,oo(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,jt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:a0(this)}function qAe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function jAe(e){return this.utcOffset(0,e)}function HAe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(a0(this),"m")),this}function GAe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=u1(dTe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function WAe(e){return this.isValid()?(e=e?Nr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function YAe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function ZAe(){if(!Oa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return Zx(e,this),e=cD(e),e._a?(t=e._isUTC?Fo(e._a):Nr(e._a),this._isDSTShifted=this.isValid()&&NAe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function KAe(){return this.isValid()?!this._isUTC:!1}function XAe(){return this.isValid()?this._isUTC:!1}function fD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var JAe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,QAe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oo(e,t){var n=e,r=null,s,u,h;return gg(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:fl(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=JAe.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:qn(r[So])*s,h:qn(r[Ei])*s,m:qn(r[Ks])*s,s:qn(r[ol])*s,ms:qn(i0(r[eu]*1e3))*s}):(r=QAe.exec(e))?(s=r[1]==="-"?-1:1,n={y:jc(r[2],s),M:jc(r[3],s),w:jc(r[4],s),d:jc(r[5],s),h:jc(r[6],s),m:jc(r[7],s),s:jc(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(h=eEe(Nr(n.from),Nr(n.to)),n={},n.ms=h.milliseconds,n.M=h.months),u=new Gv(n),gg(e)&&ir(e,"_locale")&&(u._locale=e._locale),gg(e)&&ir(e,"_isValid")&&(u._isValid=e._isValid),u}oo.fn=Gv.prototype;oo.invalid=VAe;function jc(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function _2(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function eEe(e,t){var n;return e.isValid()&&t.isValid()?(t=d1(t,e),e.isBefore(t)?n=_2(e,t):(n=_2(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function mD(e,t){return function(n,r){var s,u;return r!==null&&!isNaN(+r)&&(qP(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=n,n=r,r=u),s=oo(n,r),pD(this,s,e),this}}function pD(e,t,n,r){var s=t._milliseconds,u=i0(t._days),h=i0(t._months);e.isValid()&&(r=r??!0,h&&QP(e,Qf(e,"Month")+h*n),u&&KP(e,"Date",Qf(e,"Date")+u*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&jt.updateOffset(e,u||h))}var tEe=mD(1,"add"),nEe=mD(-1,"subtract");function gD(e){return typeof e=="string"||e instanceof String}function rEe(e){return eo(e)||km(e)||gD(e)||fl(e)||aEe(e)||iEe(e)||e===null||e===void 0}function iEe(e){var t=ou(e)&&!Wx(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,u,h=r.length;for(s=0;s<h;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function aEe(e){var t=Qs(e),n=!1;return t&&(n=e.filter(function(r){return!fl(r)&&gD(e)}).length===0),t&&n}function sEe(e){var t=ou(e)&&!Wx(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,u;for(s=0;s<r.length;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function oEe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function lEe(e,t){arguments.length===1&&(arguments[0]?rEe(arguments[0])?(e=arguments[0],t=void 0):sEe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Nr(),r=d1(n,this).startOf("day"),s=jt.calendarFormat(this,r)||"sameElse",u=t&&(zo(t[s])?t[s].call(this,n):t[s]);return this.format(u||this.localeData().calendar(s,this,Nr(n)))}function cEe(){return new Cm(this)}function uEe(e,t){var n=eo(e)?e:Nr(e);return this.isValid()&&n.isValid()?(t=Ms(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function dEe(e,t){var n=eo(e)?e:Nr(e);return this.isValid()&&n.isValid()?(t=Ms(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function hEe(e,t,n,r){var s=eo(e)?e:Nr(e),u=eo(t)?t:Nr(t);return this.isValid()&&s.isValid()&&u.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(u,n):!this.isAfter(u,n))):!1}function fEe(e,t){var n=eo(e)?e:Nr(e),r;return this.isValid()&&n.isValid()?(t=Ms(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function mEe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function pEe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function gEe(e,t,n){var r,s,u;if(!this.isValid())return NaN;if(r=d1(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=Ms(t),t){case"year":u=vg(this,r)/12;break;case"month":u=vg(this,r);break;case"quarter":u=vg(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-s)/864e5;break;case"week":u=(this-r-s)/6048e5;break;default:u=this-r}return n?u:bs(u)}function vg(e,t){if(e.date()<t.date())return-vg(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,u;return t-r<0?(s=e.clone().add(n-1,"months"),u=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),u=(t-r)/(s-r)),-(n+u)||0}jt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";jt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function vEe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yEe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?pg(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zo(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",pg(n,"Z")):pg(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function _Ee(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,u;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",u=t+'[")]',this.format(n+r+s+u)}function bEe(e){e||(e=this.isUtc()?jt.defaultFormatUtc:jt.defaultFormat);var t=pg(this,e);return this.localeData().postformat(t)}function xEe(e,t){return this.isValid()&&(eo(e)&&e.isValid()||Nr(e).isValid())?oo({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wEe(e){return this.from(Nr(),e)}function SEe(e,t){return this.isValid()&&(eo(e)&&e.isValid()||Nr(e).isValid())?oo({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kEe(e){return this.to(Nr(),e)}function vD(e){var t;return e===void 0?this._locale._abbr:(t=xl(e),t!=null&&(this._locale=t),this)}var yD=Ds("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function _D(){return this._locale}var Gg=1e3,Ed=60*Gg,Wg=60*Ed,bD=(365*400+97)*24*Wg;function Id(e,t){return(e%t+t)%t}function xD(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-bD:new Date(e,t,n).valueOf()}function wD(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-bD:Date.UTC(e,t,n)}function CEe(e){var t,n;if(e=Ms(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?wD:xD,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Id(t+(this._isUTC?0:this.utcOffset()*Ed),Wg);break;case"minute":t=this._d.valueOf(),t-=Id(t,Ed);break;case"second":t=this._d.valueOf(),t-=Id(t,Gg);break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function TEe(e){var t,n;if(e=Ms(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?wD:xD,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Wg-Id(t+(this._isUTC?0:this.utcOffset()*Ed),Wg)-1;break;case"minute":t=this._d.valueOf(),t+=Ed-Id(t,Ed)-1;break;case"second":t=this._d.valueOf(),t+=Gg-Id(t,Gg)-1;break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function AEe(){return this._d.valueOf()-(this._offset||0)*6e4}function EEe(){return Math.floor(this.valueOf()/1e3)}function IEe(){return new Date(this.valueOf())}function PEe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function DEe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function MEe(){return this.isValid()?this.toISOString():null}function LEe(){return Yx(this)}function REe(){return tc({},Rn(this))}function OEe(){return Rn(this).overflow}function FEe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}dn("N",0,0,"eraAbbr");dn("NN",0,0,"eraAbbr");dn("NNN",0,0,"eraAbbr");dn("NNNN",0,0,"eraName");dn("NNNNN",0,0,"eraNarrow");dn("y",["y",1],"yo","eraYear");dn("y",["yy",2],0,"eraYear");dn("y",["yyy",3],0,"eraYear");dn("y",["yyyy",4],0,"eraYear");en("N",h1);en("NN",h1);en("NNN",h1);en("NNNN",WEe);en("NNNNN",YEe);Sr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?Rn(n).era=s:Rn(n).invalidEra=e});en("y",Qd);en("yy",Qd);en("yyy",Qd);en("yyyy",Qd);en("yo",ZEe);Sr(["y","yy","yyy","yyyy"],ua);Sr(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ua]=n._locale.eraYearOrdinalParse(e,s):t[ua]=parseInt(e,10)});function zEe(e,t){var n,r,s,u=this._eras||xl("en")._eras;for(n=0,r=u.length;n<r;++n){switch(typeof u[n].since){case"string":s=jt(u[n].since).startOf("day"),u[n].since=s.valueOf();break}switch(typeof u[n].until){case"undefined":u[n].until=1/0;break;case"string":s=jt(u[n].until).startOf("day").valueOf(),u[n].until=s.valueOf();break}}return u}function BEe(e,t,n){var r,s,u=this.eras(),h,o,g;for(e=e.toUpperCase(),r=0,s=u.length;r<s;++r)if(h=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),g=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(h===e)return u[r];break;case"NNNNN":if(g===e)return u[r];break}else if([h,o,g].indexOf(e)>=0)return u[r]}function VEe(e,t){var n=e.since<=e.until?1:-1;return t===void 0?jt(e.since).year():jt(e.since).year()+(t-e.offset)*n}function NEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function $Ee(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function UEe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function qEe(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-jt(s[e].since).year())*n+s[e].offset;return this.year()}function jEe(e){return ir(this,"_erasNameRegex")||f1.call(this),e?this._erasNameRegex:this._erasRegex}function HEe(e){return ir(this,"_erasAbbrRegex")||f1.call(this),e?this._erasAbbrRegex:this._erasRegex}function GEe(e){return ir(this,"_erasNarrowRegex")||f1.call(this),e?this._erasNarrowRegex:this._erasRegex}function h1(e,t){return t.erasAbbrRegex(e)}function WEe(e,t){return t.erasNameRegex(e)}function YEe(e,t){return t.erasNarrowRegex(e)}function ZEe(e,t){return t._eraYearOrdinalRegex||Qd}function f1(){var e=[],t=[],n=[],r=[],s,u,h,o,g,y=this.eras();for(s=0,u=y.length;s<u;++s)h=cl(y[s].name),o=cl(y[s].abbr),g=cl(y[s].narrow),t.push(h),e.push(o),n.push(g),r.push(h),r.push(o),r.push(g);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}dn(0,["gg",2],0,function(){return this.weekYear()%100});dn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Wv(e,t){dn(0,[e,e.length],0,t)}Wv("gggg","weekYear");Wv("ggggg","weekYear");Wv("GGGG","isoWeekYear");Wv("GGGGG","isoWeekYear");en("G",Uv);en("g",Uv);en("GG",$r,ls);en("gg",$r,ls);en("GGGG",e1,Qx);en("gggg",e1,Qx);en("GGGGG",$v,Vv);en("ggggg",$v,Vv);Am(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=qn(e)});Am(["gg","GG"],function(e,t,n,r){t[r]=jt.parseTwoDigitYear(e)});function KEe(e){return SD.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function XEe(e){return SD.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function JEe(){return ul(this.year(),1,4)}function QEe(){return ul(this.isoWeekYear(),1,4)}function eIe(){var e=this.localeData()._week;return ul(this.year(),e.dow,e.doy)}function tIe(){var e=this.localeData()._week;return ul(this.weekYear(),e.dow,e.doy)}function SD(e,t,n,r,s){var u;return e==null?tm(this,r,s).year:(u=ul(e,r,s),t>u&&(t=u),nIe.call(this,e,t,n,r,s))}function nIe(e,t,n,r,s){var u=nD(e,t,n,r,s),h=em(u.year,0,u.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}dn("Q",0,"Qo","quarter");en("Q",HP);Sr("Q",function(e,t){t[sl]=(qn(e)-1)*3});function rIe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}dn("D",["DD",2],"Do","date");en("D",$r,eh);en("DD",$r,ls);en("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Sr(["D","DD"],So);Sr("Do",function(e,t){t[So]=qn(e.match($r)[0])});var kD=th("Date",!0);dn("DDD",["DDDD",3],"DDDo","dayOfYear");en("DDD",Nv);en("DDDD",GP);Sr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=qn(e)});function iIe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}dn("m",["mm",2],0,"minute");en("m",$r,t1);en("mm",$r,ls);Sr(["m","mm"],Ks);var aIe=th("Minutes",!1);dn("s",["ss",2],0,"second");en("s",$r,t1);en("ss",$r,ls);Sr(["s","ss"],ol);var sIe=th("Seconds",!1);dn("S",0,0,function(){return~~(this.millisecond()/100)});dn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});dn(0,["SSS",3],0,"millisecond");dn(0,["SSSS",4],0,function(){return this.millisecond()*10});dn(0,["SSSSS",5],0,function(){return this.millisecond()*100});dn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});dn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});dn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});dn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});en("S",Nv,HP);en("SS",Nv,ls);en("SSS",Nv,GP);var nc,CD;for(nc="SSSS";nc.length<=9;nc+="S")en(nc,Qd);function oIe(e,t){t[eu]=qn(("0."+e)*1e3)}for(nc="S";nc.length<=9;nc+="S")Sr(nc,oIe);CD=th("Milliseconds",!1);dn("z",0,0,"zoneAbbr");dn("zz",0,0,"zoneName");function lIe(){return this._isUTC?"UTC":""}function cIe(){return this._isUTC?"Coordinated Universal Time":""}var Lt=Cm.prototype;Lt.add=tEe;Lt.calendar=lEe;Lt.clone=cEe;Lt.diff=gEe;Lt.endOf=TEe;Lt.format=bEe;Lt.from=xEe;Lt.fromNow=wEe;Lt.to=SEe;Lt.toNow=kEe;Lt.get=_Te;Lt.invalidAt=OEe;Lt.isAfter=uEe;Lt.isBefore=dEe;Lt.isBetween=hEe;Lt.isSame=fEe;Lt.isSameOrAfter=mEe;Lt.isSameOrBefore=pEe;Lt.isValid=LEe;Lt.lang=yD;Lt.locale=vD;Lt.localeData=_D;Lt.max=LAe;Lt.min=MAe;Lt.parsingFlags=REe;Lt.set=bTe;Lt.startOf=CEe;Lt.subtract=nEe;Lt.toArray=PEe;Lt.toObject=DEe;Lt.toDate=IEe;Lt.toISOString=yEe;Lt.inspect=_Ee;typeof Symbol<"u"&&Symbol.for!=null&&(Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Lt.toJSON=MEe;Lt.toString=vEe;Lt.unix=EEe;Lt.valueOf=AEe;Lt.creationData=FEe;Lt.eraName=NEe;Lt.eraNarrow=$Ee;Lt.eraAbbr=UEe;Lt.eraYear=qEe;Lt.year=ZP;Lt.isLeapYear=yTe;Lt.weekYear=KEe;Lt.isoWeekYear=XEe;Lt.quarter=Lt.quarters=rIe;Lt.month=eD;Lt.daysInMonth=ITe;Lt.week=Lt.weeks=zTe;Lt.isoWeek=Lt.isoWeeks=BTe;Lt.weeksInYear=eIe;Lt.weeksInWeekYear=tIe;Lt.isoWeeksInYear=JEe;Lt.isoWeeksInISOWeekYear=QEe;Lt.date=kD;Lt.day=Lt.days=XTe;Lt.weekday=JTe;Lt.isoWeekday=QTe;Lt.dayOfYear=iIe;Lt.hour=Lt.hours=sAe;Lt.minute=Lt.minutes=aIe;Lt.second=Lt.seconds=sIe;Lt.millisecond=Lt.milliseconds=CD;Lt.utcOffset=UAe;Lt.utc=jAe;Lt.local=HAe;Lt.parseZone=GAe;Lt.hasAlignedHourOffset=WAe;Lt.isDST=YAe;Lt.isLocal=KAe;Lt.isUtcOffset=XAe;Lt.isUtc=fD;Lt.isUTC=fD;Lt.zoneAbbr=lIe;Lt.zoneName=cIe;Lt.dates=Ds("dates accessor is deprecated. Use date instead.",kD);Lt.months=Ds("months accessor is deprecated. Use month instead",eD);Lt.years=Ds("years accessor is deprecated. Use year instead",ZP);Lt.zone=Ds("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",qAe);Lt.isDSTShifted=Ds("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",ZAe);function uIe(e){return Nr(e*1e3)}function dIe(){return Nr.apply(null,arguments).parseZone()}function TD(e){return e}var ar=Kx.prototype;ar.calendar=K2e;ar.longDateFormat=eTe;ar.invalidDate=nTe;ar.ordinal=aTe;ar.preparse=TD;ar.postformat=TD;ar.relativeTime=oTe;ar.pastFuture=lTe;ar.set=Y2e;ar.eras=zEe;ar.erasParse=BEe;ar.erasConvertYear=VEe;ar.erasAbbrRegex=HEe;ar.erasNameRegex=jEe;ar.erasNarrowRegex=GEe;ar.months=CTe;ar.monthsShort=TTe;ar.monthsParse=ETe;ar.monthsRegex=DTe;ar.monthsShortRegex=PTe;ar.week=LTe;ar.firstDayOfYear=FTe;ar.firstDayOfWeek=OTe;ar.weekdays=GTe;ar.weekdaysMin=YTe;ar.weekdaysShort=WTe;ar.weekdaysParse=KTe;ar.weekdaysRegex=eAe;ar.weekdaysShortRegex=tAe;ar.weekdaysMinRegex=nAe;ar.isPM=iAe;ar.meridiem=oAe;function Yg(e,t,n,r){var s=xl(),u=Fo().set(r,t);return s[n](u,e)}function AD(e,t,n){if(fl(e)&&(t=e,e=void 0),e=e||"",t!=null)return Yg(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Yg(e,r,n,"month");return s}function m1(e,t,n,r){typeof e=="boolean"?(fl(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,fl(t)&&(n=t,t=void 0),t=t||"");var s=xl(),u=e?s._week.dow:0,h,o=[];if(n!=null)return Yg(t,(n+u)%7,r,"day");for(h=0;h<7;h++)o[h]=Yg(t,(h+u)%7,r,"day");return o}function hIe(e,t){return AD(e,t,"months")}function fIe(e,t){return AD(e,t,"monthsShort")}function mIe(e,t,n){return m1(e,t,n,"weekdays")}function pIe(e,t,n){return m1(e,t,n,"weekdaysShort")}function gIe(e,t,n){return m1(e,t,n,"weekdaysMin")}ac("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=qn(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});jt.lang=Ds("moment.lang is deprecated. Use moment.locale instead.",ac);jt.langData=Ds("moment.langData is deprecated. Use moment.localeData instead.",xl);var tl=Math.abs;function vIe(){var e=this._data;return this._milliseconds=tl(this._milliseconds),this._days=tl(this._days),this._months=tl(this._months),e.milliseconds=tl(e.milliseconds),e.seconds=tl(e.seconds),e.minutes=tl(e.minutes),e.hours=tl(e.hours),e.months=tl(e.months),e.years=tl(e.years),this}function ED(e,t,n,r){var s=oo(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function yIe(e,t){return ED(this,e,t,1)}function _Ie(e,t){return ED(this,e,t,-1)}function b2(e){return e<0?Math.floor(e):Math.ceil(e)}function bIe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,u,h,o,g;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=b2(s0(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=bs(e/1e3),r.seconds=s%60,u=bs(s/60),r.minutes=u%60,h=bs(u/60),r.hours=h%24,t+=bs(h/24),g=bs(ID(t)),n+=g,t-=b2(s0(g)),o=bs(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function ID(e){return e*4800/146097}function s0(e){return e*146097/4800}function xIe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Ms(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+ID(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(s0(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function wl(e){return function(){return this.as(e)}}var PD=wl("ms"),wIe=wl("s"),SIe=wl("m"),kIe=wl("h"),CIe=wl("d"),TIe=wl("w"),AIe=wl("M"),EIe=wl("Q"),IIe=wl("y"),PIe=PD;function DIe(){return oo(this)}function MIe(e){return e=Ms(e),this.isValid()?this[e+"s"]():NaN}function xu(e){return function(){return this.isValid()?this._data[e]:NaN}}var LIe=xu("milliseconds"),RIe=xu("seconds"),OIe=xu("minutes"),FIe=xu("hours"),zIe=xu("days"),BIe=xu("months"),VIe=xu("years");function NIe(){return bs(this.days()/7)}var il=Math.round,xd={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function $Ie(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function UIe(e,t,n,r){var s=oo(e).abs(),u=il(s.as("s")),h=il(s.as("m")),o=il(s.as("h")),g=il(s.as("d")),y=il(s.as("M")),w=il(s.as("w")),k=il(s.as("y")),C=u<=n.ss&&["s",u]||u<n.s&&["ss",u]||h<=1&&["m"]||h<n.m&&["mm",h]||o<=1&&["h"]||o<n.h&&["hh",o]||g<=1&&["d"]||g<n.d&&["dd",g];return n.w!=null&&(C=C||w<=1&&["w"]||w<n.w&&["ww",w]),C=C||y<=1&&["M"]||y<n.M&&["MM",y]||k<=1&&["y"]||["yy",k],C[2]=t,C[3]=+e>0,C[4]=r,$Ie.apply(null,C)}function qIe(e){return e===void 0?il:typeof e=="function"?(il=e,!0):!1}function jIe(e,t){return xd[e]===void 0?!1:t===void 0?xd[e]:(xd[e]=t,e==="s"&&(xd.ss=t-1),!0)}function HIe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=xd,s,u;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},xd,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),u=UIe(this,!n,r,s),n&&(u=s.pastFuture(+this,u)),s.postformat(u)}var K_=Math.abs;function fd(e){return(e>0)-(e<0)||+e}function Yv(){if(!this.isValid())return this.localeData().invalidDate();var e=K_(this._milliseconds)/1e3,t=K_(this._days),n=K_(this._months),r,s,u,h,o=this.asSeconds(),g,y,w,k;return o?(r=bs(e/60),s=bs(r/60),e%=60,r%=60,u=bs(n/12),n%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",g=o<0?"-":"",y=fd(this._months)!==fd(o)?"-":"",w=fd(this._days)!==fd(o)?"-":"",k=fd(this._milliseconds)!==fd(o)?"-":"",g+"P"+(u?y+u+"Y":"")+(n?y+n+"M":"")+(t?w+t+"D":"")+(s||r||e?"T":"")+(s?k+s+"H":"")+(r?k+r+"M":"")+(e?k+h+"S":"")):"P0D"}var Jn=Gv.prototype;Jn.isValid=BAe;Jn.abs=vIe;Jn.add=yIe;Jn.subtract=_Ie;Jn.as=xIe;Jn.asMilliseconds=PD;Jn.asSeconds=wIe;Jn.asMinutes=SIe;Jn.asHours=kIe;Jn.asDays=CIe;Jn.asWeeks=TIe;Jn.asMonths=AIe;Jn.asQuarters=EIe;Jn.asYears=IIe;Jn.valueOf=PIe;Jn._bubble=bIe;Jn.clone=DIe;Jn.get=MIe;Jn.milliseconds=LIe;Jn.seconds=RIe;Jn.minutes=OIe;Jn.hours=FIe;Jn.days=zIe;Jn.weeks=NIe;Jn.months=BIe;Jn.years=VIe;Jn.humanize=HIe;Jn.toISOString=Yv;Jn.toString=Yv;Jn.toJSON=Yv;Jn.locale=vD;Jn.localeData=_D;Jn.toIsoString=Ds("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yv);Jn.lang=yD;dn("X",0,0,"unix");dn("x",0,0,"valueOf");en("x",Uv);en("X",hTe);Sr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Sr("x",function(e,t,n){n._d=new Date(qn(e))});//! moment.js
jt.version="2.30.1";G2e(Nr);jt.fn=Lt;jt.min=RAe;jt.max=OAe;jt.now=FAe;jt.utc=Fo;jt.unix=uIe;jt.months=hIe;jt.isDate=km;jt.locale=ac;jt.invalid=Bv;jt.duration=oo;jt.isMoment=eo;jt.weekdays=mIe;jt.parseZone=dIe;jt.localeData=xl;jt.isDuration=gg;jt.monthsShort=fIe;jt.weekdaysMin=gIe;jt.defineLocale=s1;jt.updateLocale=dAe;jt.locales=hAe;jt.weekdaysShort=pIe;jt.normalizeUnits=Ms;jt.relativeTimeRounding=qIe;jt.relativeTimeThreshold=jIe;jt.calendarFormat=oEe;jt.prototype=Lt;jt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var DD={exports:{}};(function(e,t){(function(n,r){r()})(Yc,function(){function n(y,w){return typeof w>"u"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob(["\uFEFF",y],{type:y.type}):y}function r(y,w,k){var C=new XMLHttpRequest;C.open("GET",y),C.responseType="blob",C.onload=function(){g(C.response,w,k)},C.onerror=function(){console.error("could not download file")},C.send()}function s(y){var w=new XMLHttpRequest;w.open("HEAD",y,!1);try{w.send()}catch{}return 200<=w.status&&299>=w.status}function u(y){try{y.dispatchEvent(new MouseEvent("click"))}catch{var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),y.dispatchEvent(w)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Yc=="object"&&Yc.global===Yc?Yc:void 0,o=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(y,w,k){var C=h.URL||h.webkitURL,I=document.createElement("a");w=w||y.name||"download",I.download=w,I.rel="noopener",typeof y=="string"?(I.href=y,I.origin===location.origin?u(I):s(I.href)?r(y,w,k):u(I,I.target="_blank")):(I.href=C.createObjectURL(y),setTimeout(function(){C.revokeObjectURL(I.href)},4e4),setTimeout(function(){u(I)},0))}:"msSaveOrOpenBlob"in navigator?function(y,w,k){if(w=w||y.name||"download",typeof y!="string")navigator.msSaveOrOpenBlob(n(y,k),w);else if(s(y))r(y,w,k);else{var C=document.createElement("a");C.href=y,C.target="_blank",setTimeout(function(){u(C)})}}:function(y,w,k,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof y=="string")return r(y,w,k);var I=y.type==="application/octet-stream",O=/constructor/i.test(h.HTMLElement)||h.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||I&&O||o)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var Z=R.result;Z=L?Z:Z.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=Z:location=Z,C=null},R.readAsDataURL(y)}else{var B=h.URL||h.webkitURL,j=B.createObjectURL(y);C?C.location=j:location.href=j,C=null,setTimeout(function(){B.revokeObjectURL(j)},4e4)}});h.saveAs=g.saveAs=g,e.exports=g})})(DD);var GIe=DD.exports;function WIe(e){return[...new Set(e.map(n=>YIe(n)).filter(n=>n!=null))]}function YIe(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){const n=e.match(t);if(n&&n.length>0)return n[0].substring(0,6)}return null}function ZIe(e,t){Vr.post(Fwe+"lsoas?filter=sector",e).then(n=>{t(n.data)})}function KIe(e,t){const n=WIe(e),r={};ZIe(n,s=>{Object.keys(s).forEach(u=>{s[u].forEach(h=>{r[h.replace(/\s/g,"")]=u.trim()})}),t(r)})}const XIe={data(){return{authority:null,columns:[],countsColumn:"",csvData:[],endTime:null,extractDate:null,files:[],loading:!1,lsoasCounted:{},mdText:H2e,postcodeColumn:"",startTime:null,summaryColumns:[{key:"total",title:"Total"},{key:"converted",title:"Successful"},{key:"terminated",title:"Terminated"},{key:"unknown",title:"Unknown"}],summaryData:[{total:0,converted:0,terminated:0,unknown:0}]}},methods:{confirmFile:async function(e){this.files=e;const t=this;if(t.loading=!0,t.files.length>0){const n=await jx(t.files[0],!1);t.columns=n[0],t.csvData=n,t.loading=!1}else t.columns=[],t.csvData=[],t.loading=!1},confirmOptions:function(){const e=this;e.startTime=jt(),e.loading=!0,e.summaryData[0].total=0,e.summaryData[0].converted=0,e.summaryData[0].unknown=0,e.summaryData[0].terminated=0,e.lsoasCounted={Unknown:0};const t=e.columns.indexOf(e.postcodeColumn),n=e.columns.indexOf(this.countsColumn),r=e.csvData.map(s=>s[t]).filter(s=>s!=null&&s!==e.postcodeColumn);KIe(r,s=>{e.csvData.forEach((u,h)=>{const o=u[t],g=o.replace(/\s/g,"");if(h===0&&o===e.postcodeColumn)u[t]="LSOA";else{this.summaryData[0].total++;let y="";o&&o!==""&&s[g]?(y=s[g],y==="Terminated"?(u[t]="Terminated",this.summaryData[0].terminated++):y==="Unknown"?(u[t]="Unknown",this.summaryData[0].unknown++):(u[t]=y,this.summaryData[0].converted++)):(u[t]="Unknown",this.summaryData[0].unknown++,y="Unknown"),y==="Terminated"&&(y="Unknown"),this.lsoasCounted[y]||(this.lsoasCounted[y]=0),this.countsColumn!==""?this.lsoasCounted[y]=this.lsoasCounted[y]+parseInt(u[n]):this.lsoasCounted[y]++}}),e.active_step=3,this.loading=!1,this.endTime=jt()})},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csvData)},downloadSchemaFile:async function(){const e=[["Local authority","Count date","Area code","Members"]],t=jt(this.extractDate).format("YYYY-MM-DD");Object.keys(this.lsoasCounted).filter(r=>r!=="Unknown"&&r!=="Terminated").forEach(r=>{const s=this.lsoasCounted[r];e.push([this.authority.name,t,r,s>4?s.toString():"x"])});const n=this.lsoasCounted.Unknown;this.lsoasCounted.Unknown>0&&e.push([this.authority.name,t,"Unknown",n>4?n.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){const n=new Blob([Ug.unparse(t)],{type:"text/plain;charset=utf-8"});GIe.saveAs(n,e)},getTimeCompleted:function(){if(this.startTime&&this.endTime){const e=this.endTime.diff(this.startTime),t=jt.duration(e);return jt.utc(t.as("milliseconds")).format("HH:mm:ss")}return""}},components:{"file-upload":zv,"service-select":Rv}},JIe=rr("h2",{class:"text-h5 text-decoration-underline my-3"},"Convert postcodes",-1),QIe=rr("strong",null,"Save as",-1),ePe=rr("strong",null,"Terminated",-1),tPe=rr("strong",null,"Unknown",-1),nPe=rr("br",null,null,-1),rPe={key:0},iPe={class:"mb-2"},aPe=rr("a",{href:"https://schema.librarydata.uk/membership",target:"_blank"},"library membership data",-1),sPe={key:1};function oPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),g=zv,y=Rv;return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Postcode converter",subtitle:"Convert postcodes to statistical areas"}),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"}),JIe,T(lc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:De(()=>[T(al,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load postcodes"},{default:De(()=>[zt(" First you need a CSV file of postcodes. If your data isn't in CSV format try using "),QIe,zt(" in your software. The first row should be column headings. One column should contain UK postcodes. ")]),_:1}),T(g,{files:s.files,onChangeFiles:t[0]||(t[0]=w=>u.confirmFile(w))},null,8,["files"]),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Select file options"},{default:De(()=>[zt(" Column headings in your file are displayed below. Choose which column contains postcodes. If your data includes counts per postcode, select the field holding the count. ")]),_:1}),T(Bd,{color:"success",modelValue:s.postcodeColumn,"onUpdate:modelValue":t[1]||(t[1]=w=>s.postcodeColumn=w),items:s.columns,label:"Select postcode field",variant:"outlined",disabled:s.columns.length===0},null,8,["modelValue","items","disabled"]),T(Bd,{color:"success",value:s.countsColumn,items:s.columns.filter(w=>w!==s.postcodeColumn),disabled:s.postcodeColumn===""||s.columns.filter(w=>w!==s.postcodeColumn).length===0,label:"Count field (optional)",variant:"outlined"},null,8,["value","items","disabled"]),T(Jt,{color:"info",variant:"tonal",size:"large",onClick:u.confirmOptions,disabled:s.postcodeColumn==="","append-icon":"mdi-chevron-right-circle"},{default:De(()=>[zt(" Convert ")]),_:1},8,["onClick","disabled"]),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-3-circle",title:"Results"},{default:De(()=>[zt(" Valid postcodes are changed to their statistical area code. Postcodes that are no longer valid are changed to "),ePe,zt(". Postcodes not recognised are changed to "),tPe,zt("."),nPe]),_:1}),s.endTime!==null?(vn(),xs("span",rPe,[rr("p",iPe,Ss("Completed in "+u.getTimeCompleted()),1),T(Ka,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:De(()=>[T(zP,{"no-filter":"",headers:s.summaryColumns,items:s.summaryData,"item-key":"total"},{bottom:De(()=>[]),_:1},8,["headers","items"])]),_:1}),T(Jt,{color:"info",variant:"tonal",size:"large",onClick:u.downloadConvertedFile,"append-icon":"mdi-content-save"},{default:De(()=>[zt(" Save converted file ")]),_:1},8,["onClick"])])):Kn("",!0),T(al,{class:"mt-8 mb-4",icon:"mdi-numeric-4-circle",title:"Library membership data"},{default:De(()=>[zt(" Census geographies are required to publish "),aPe,zt(". This tool has calculated a count of members per statistical area. Select the name of your library service and choose a date the postcodes were extracted from your library management system ")]),_:1}),s.endTime!==null?(vn(),xs("span",sPe,[T(y,{onSelect:t[2]||(t[2]=w=>s.authority=w)}),T(ii,{class:"mt-4",variant:"outlined",modelValue:s.extractDate,"onUpdate:modelValue":t[3]||(t[3]=w=>s.extractDate=w),label:"Count date","prepend-inner-icon":"mdi-calendar",type:"date"},null,8,["modelValue"]),T(Jt,{variant:"tonal",color:"success",onClick:u.downloadSchemaFile,size:"large","append-icon":"mdi-content-save",disabled:s.authority===""||s.extractDate===null},{default:De(()=>[zt("Save membership data")]),_:1},8,["onClick","disabled"])])):Kn("",!0)]),_:1}),T(yd,{modelValue:s.loading,"onUpdate:modelValue":t[4]||(t[4]=w=>s.loading=w),persistent:"",width:"300"},{default:De(()=>[T(Ka,null,{default:De(()=>[T(Qc,null,{default:De(()=>[zt(" Please wait ")]),_:1}),T(Ao,null,{default:De(()=>[T(dv,{indeterminate:"",color:"info"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const lPe=Qr(XIe,[["render",oPe]]),cPe=`A mobile library stop is a location visited by a mobile library vehicle during it's round.

Mobile library stops are a **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,uPe={data(){return{mdText:cPe}},methods:{},components:{}},dPe={class:"text-center"};function hPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}),rr("p",dPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"},{default:De(()=>[zt(" Explore the mobile stops schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const fPe=Qr(uPe,[["render",hPe]]),mPe=`A physical visit is an individual entering the library premises - for whatever reason. For co-located premises, this may mean counting visits that are not specifically for the purpose of using the library. Visit counts are often referred to as footfall.

Physical visits are a **time-series**. Data is maintained by adding new data (e.g. the next months visit counts).
`,pPe={data(){return{mdText:mPe}},methods:{},components:{}},gPe={class:"text-center"};function vPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Physical visits",subtitle:"Counts of people using libraries"}),rr("p",gPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/physical-visits",target:"_blank"},{default:De(()=>[zt(" Explore the visits schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const yPe=Qr(pPe,[["render",vPe]]),_Pe=`These pages were created by Dave at [Libraries Hacked](https://www.librarieshacked.org). You can [contact me via email](mailto:info@librarieshacked.org) with any queries or concerns.

## GitHub pages

This site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include data such as your IP address.

GitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to GitHub's services for their own users, but there is a reference to GitHub pages sites. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.

> “Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.”

## Cookies

Cookies are files saved on your phone, tablet or computer when you visit a website. This site does not save any cookies onto your computer.

## Tracking and analytics

There are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.
`,bPe={data(){return{mdText:_Pe}},methods:{},components:{}};function xPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Privacy policy",subtitle:"How your data and privacy is protected"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const wPe=Qr(bPe,[["render",xPe]]),SPe=`While logged in you will be able to see the level of access you have, which will either be for individual library services, or 'Admin' which provides access to all library data.

No personal data is held about you. Your email address is not stored online, only the domain part of the email (e.g. bl.uk for British Library users) in order to grant access.
`,kPe={data(){return{mdText:SPe}},methods:{logout(){this.$store.dispatch("logout")}},components:{}};function CPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),g=Sm;return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Profile",subtitle:"See access and profile information"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),rr("section",null,[T(Mr,null,{default:De(()=>[T(g,{actions:!0})]),_:1})])]),_:1})}const TPe=Qr(kPe,[["render",CPe]]),APe=`An item of stock is any item held by the library, available to the public, and catalogued in the library management system. This dataset provides counts of the different types of items held by libraries.

Stock summary data is a **snapshot**. This means that each update to the data is a fresh export, representing the stock held at that point in time.
`,EPe={data(){return{mdText:APe}},methods:{},components:{}},IPe={class:"text-center"};function PPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return vn(),Nn(Mr,null,{default:De(()=>[T(h,{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}),rr("p",IPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/stock-summary",target:"_blank"},{default:De(()=>[zt(" Explore the stock summary schema ")]),_:1})]),T(gr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(gr,{inset:"",color:"info",class:"my-2"})]),_:1})}const DPe=Qr(EPe,[["render",PPe]]),MPe=dke({history:VSe(),base:"/",routes:[{path:"/",name:"Home",component:Dke},{path:"/about",name:"About",component:vke},{path:"/events",name:"Events",component:Tke},{path:"/libraries",name:"Libraries",component:Fke},{path:"/libraries-edit",name:"Libraries edit",component:h2e},{path:"/loans",name:"Loans",component:v2e},{path:"/membership",name:"Membership",component:I2e},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:lPe},{path:"/membership-map",name:"Membership map",component:j2e},{path:"/mobile-library-stops",name:"Mobile library stops",component:fPe},{path:"/physical-visits",name:"Physical visits",component:yPe},{path:"/stock-summary",name:"Stock summary",component:DPe},{path:"/privacy",name:"Privacy",component:wPe},{path:"/accessibility",name:"Accessibility",component:xke},{path:"/login",name:"Login",component:k2e},{path:"/profile",name:"Profile",component:TPe}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var LPe="store";function nh(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function RPe(e){return e!==null&&typeof e=="object"}function OPe(e){return e&&typeof e.then=="function"}function FPe(e,t){return function(){return e(t)}}function MD(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function LD(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Zv(e,n,[],e._modules.root,!0),p1(e,n,t)}function p1(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var u=e._wrappedGetters,h={},o={},g=Qg(!0);g.run(function(){nh(u,function(y,w){h[w]=FPe(y,e),o[w]=Y(function(){return h[w]()}),Object.defineProperty(e.getters,w,{get:function(){return o[w].value},enumerable:!0})})}),e._state=Ai({data:t}),e._scope=g,e.strict&&$Pe(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function Zv(e,t,n,r,s){var u=!n.length,h=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[h],e._modulesNamespaceMap[h]=r),!u&&!s){var o=g1(t,n.slice(0,-1)),g=n[n.length-1];e._withCommit(function(){o[g]=r.state})}var y=r.context=zPe(e,h,n);r.forEachMutation(function(w,k){var C=h+k;BPe(e,C,w,y)}),r.forEachAction(function(w,k){var C=w.root?k:h+k,I=w.handler||w;VPe(e,C,I,y)}),r.forEachGetter(function(w,k){var C=h+k;NPe(e,C,w,y)}),r.forEachChild(function(w,k){Zv(e,t,n.concat(k),w,s)})}function zPe(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(u,h,o){var g=Zg(u,h,o),y=g.payload,w=g.options,k=g.type;return(!w||!w.root)&&(k=t+k),e.dispatch(k,y)},commit:r?e.commit:function(u,h,o){var g=Zg(u,h,o),y=g.payload,w=g.options,k=g.type;(!w||!w.root)&&(k=t+k),e.commit(k,y,w)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return RD(e,t)}},state:{get:function(){return g1(e.state,n)}}}),s}function RD(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var u=s.slice(r);Object.defineProperty(n,u,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function BPe(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(h){n.call(e,r.state,h)})}function VPe(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(h){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},h);return OPe(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(g){throw e._devtoolHook.emit("vuex:error",g),g}):o})}function NPe(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(u){return n(r.state,r.getters,u.state,u.getters)})}function $Pe(e){ut(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function g1(e,t){return t.reduce(function(n,r){return n[r]},e)}function Zg(e,t,n){return RPe(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var UPe="vuex bindings",x2="vuex:mutations",X_="vuex:actions",md="vuex",qPe=0;function jPe(e,t){oSe({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[UPe]},function(n){n.addTimelineLayer({id:x2,label:"Vuex Mutations",color:w2}),n.addTimelineLayer({id:X_,label:"Vuex Actions",color:w2}),n.addInspector({id:md,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===md)if(r.filter){var s=[];BD(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[zD(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===md){var s=r.nodeId;RD(t,s),r.state=WPe(ZPe(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===md){var s=r.nodeId,u=r.path;s!=="root"&&(u=s.split("/").filter(Boolean).concat(u)),t._withCommit(function(){r.set(t._state.data,u,r.state.value)})}}),t.subscribe(function(r,s){var u={};r.payload&&(u.payload=r.payload),u.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(md),n.sendInspectorState(md),n.addTimelineEvent({layerId:x2,event:{time:Date.now(),title:r.type,data:u}})}),t.subscribeAction({before:function(r,s){var u={};r.payload&&(u.payload=r.payload),r._id=qPe++,r._time=Date.now(),u.state=s,n.addTimelineEvent({layerId:X_,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:u}})},after:function(r,s){var u={},h=Date.now()-r._time;u.duration={_custom:{type:"duration",display:h+"ms",tooltip:"Action duration",value:h}},r.payload&&(u.payload=r.payload),u.state=s,n.addTimelineEvent({layerId:X_,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:u}})}})})}var w2=8702998,HPe=6710886,GPe=16777215,OD={label:"namespaced",textColor:GPe,backgroundColor:HPe};function FD(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function zD(e,t){return{id:t||"root",label:FD(t),tags:e.namespaced?[OD]:[],children:Object.keys(e._children).map(function(n){return zD(e._children[n],t+n+"/")})}}function BD(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[OD]:[]}),Object.keys(t._children).forEach(function(s){BD(e,t._children[s],n,r+s+"/")})}function WPe(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(h){return{key:h,editable:!0,value:e.state[h]}})};if(r.length){var u=YPe(t);s.getters=Object.keys(u).map(function(h){return{key:h.endsWith("/")?FD(h):h,editable:!1,value:o0(function(){return u[h]})}})}return s}function YPe(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,u=r.pop();r.forEach(function(h){s[h]||(s[h]={_custom:{value:{},display:h,tooltip:"Module",abstract:!0}}),s=s[h]._custom.value}),s[u]=o0(function(){return e[n]})}else t[n]=o0(function(){return e[n]})}),t}function ZPe(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,u){var h=r[s];if(!h)throw new Error('Missing module "'+s+'" for path "'+t+'".');return u===n.length-1?h:h._children},t==="root"?e:e.root._children)}function o0(e){try{return e()}catch(t){return t}}var lo=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},VD={namespaced:{configurable:!0}};VD.namespaced.get=function(){return!!this._rawModule.namespaced};lo.prototype.addChild=function(t,n){this._children[t]=n};lo.prototype.removeChild=function(t){delete this._children[t]};lo.prototype.getChild=function(t){return this._children[t]};lo.prototype.hasChild=function(t){return t in this._children};lo.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};lo.prototype.forEachChild=function(t){nh(this._children,t)};lo.prototype.forEachGetter=function(t){this._rawModule.getters&&nh(this._rawModule.getters,t)};lo.prototype.forEachAction=function(t){this._rawModule.actions&&nh(this._rawModule.actions,t)};lo.prototype.forEachMutation=function(t){this._rawModule.mutations&&nh(this._rawModule.mutations,t)};Object.defineProperties(lo.prototype,VD);var wu=function(t){this.register([],t,!1)};wu.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};wu.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};wu.prototype.update=function(t){ND([],this.root,t)};wu.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var u=new lo(n,r);if(t.length===0)this.root=u;else{var h=this.get(t.slice(0,-1));h.addChild(t[t.length-1],u)}n.modules&&nh(n.modules,function(o,g){s.register(t.concat(g),o,r)})};wu.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};wu.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function ND(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;ND(e.concat(r),t.getChild(r),n.modules[r])}}function KPe(e){return new ja(e)}var ja=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var u=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new wu(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=u;var h=this,o=this,g=o.dispatch,y=o.commit;this.dispatch=function(C,I){return g.call(h,C,I)},this.commit=function(C,I,O){return y.call(h,C,I,O)},this.strict=s;var w=this._modules.root.state;Zv(this,w,[],this._modules.root),p1(this,w),r.forEach(function(k){return k(n)})},v1={state:{configurable:!0}};ja.prototype.install=function(t,n){t.provide(n||LPe,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&jPe(t,this)};v1.state.get=function(){return this._state.data};v1.state.set=function(e){};ja.prototype.commit=function(t,n,r){var s=this,u=Zg(t,n,r),h=u.type,o=u.payload,g={type:h,payload:o},y=this._mutations[h];y&&(this._withCommit(function(){y.forEach(function(k){k(o)})}),this._subscribers.slice().forEach(function(w){return w(g,s.state)}))};ja.prototype.dispatch=function(t,n){var r=this,s=Zg(t,n),u=s.type,h=s.payload,o={type:u,payload:h},g=this._actions[u];if(g){try{this._actionSubscribers.slice().filter(function(w){return w.before}).forEach(function(w){return w.before(o,r.state)})}catch{}var y=g.length>1?Promise.all(g.map(function(w){return w(h)})):g[0](h);return new Promise(function(w,k){y.then(function(C){try{r._actionSubscribers.filter(function(I){return I.after}).forEach(function(I){return I.after(o,r.state)})}catch{}w(C)},function(C){try{r._actionSubscribers.filter(function(I){return I.error}).forEach(function(I){return I.error(o,r.state,C)})}catch{}k(C)})})}};ja.prototype.subscribe=function(t,n){return MD(t,this._subscribers,n)};ja.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return MD(r,this._actionSubscribers,n)};ja.prototype.watch=function(t,n,r){var s=this;return ut(function(){return t(s.state,s.getters)},n,Object.assign({},r))};ja.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};ja.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),Zv(this,this.state,t,this._modules.get(t),r.preserveState),p1(this,this.state)};ja.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=g1(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),LD(this)};ja.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};ja.prototype.hotUpdate=function(t){this._modules.update(t),LD(this,!0)};ja.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(ja.prototype,v1);new TextEncoder;const $D=new TextDecoder,XPe=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},JPe=e=>{let t=e;t instanceof Uint8Array&&(t=$D.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return XPe(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class QPe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class Hc extends QPe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function eDe(e){return typeof e=="object"&&e!==null}function tDe(e){if(!eDe(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const nDe=JPe;function S2(e){if(typeof e!="string")throw new Hc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new Hc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Hc("Invalid JWT");if(!t)throw new Hc("JWTs must contain a payload");let r;try{r=nDe(t)}catch{throw new Hc("Failed to base64url decode the payload")}let s;try{s=JSON.parse($D.decode(r))}catch{throw new Hc("Failed to parse the decoded payload as JSON")}if(!tDe(s))throw new Hc("Invalid JWT Claims Set");return s}const rDe=KPe({state:{loginKey:null,loginSubject:null,loginIssuer:null,loginExpires:null,loginAdmin:!1,loginCodes:[],libraryServices:[]},mutations:{initialiseStore(e){if(localStorage.getItem("loginKey")){e.loginKey=localStorage.getItem("loginKey");const t=S2(e.loginKey);e.loginSubject=t.sub,e.loginIssuer=t.iss,e.loginExpires=new Date(t.exp*1e3),e.loginAdmin=t.admin,e.loginCodes=t.codes}},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t;const n=S2(e.loginKey);e.loginSubject=n.sub,e.loginIssuer=n.iss,e.loginExpires=new Date(n.exp*1e3),e.loginAdmin=n.admin,e.loginCodes=n.codes},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null,e.loginSubject=null,e.loginIssuer=null,e.loginExpires=null,e.loginAdmin=null,e.loginCodes=[]},setServices(e,t){e.libraryServices=t}},actions:{logout({commit:e}){e("logout")}}}),iDe=We({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Es(),...un(),...ss(),...G0(),...Di(),...Yn({tag:"footer"}),...yr()},"VFooter"),aDe=ft()({name:"VFooter",props:iDe(),setup(e,t){let{slots:n}=t;const r=ht(),{themeClasses:s}=Rr(e),{backgroundColorClasses:u,backgroundColorStyles:h}=gi(bt(e,"color")),{borderClasses:o}=no(e),{elevationClasses:g}=Is(e),{roundedClasses:y}=Ni(e),w=Rt(32),{resizeRef:k}=oc(I=>{I.length&&(w.value=I[0].target.clientHeight)}),C=Y(()=>e.height==="auto"?w.value:parseInt(e.height,10));return Ba(()=>e.app,()=>{const I=W0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:Y(()=>"bottom"),layoutSize:C,elementSize:Y(()=>e.height==="auto"?void 0:C.value),active:Y(()=>e.app),absolute:bt(e,"absolute")});yi(()=>{r.value=I.layoutItemStyles.value})}),St(()=>T(e.tag,{ref:k,class:["v-footer",s.value,u.value,o.value,g.value,y.value,e.class],style:[h.value,e.app?r.value:{height:Ht(e.height)},e.style]},n)),{}}}),sDe={};function oDe(e,t){return vn(),Nn(aDe,{app:"",color:"grey-lighten-5",class:"pa-3"},{default:De(()=>[T(Hs,{justify:"center",class:"text-xs-center w-100","no-gutters":""},{default:De(()=>[T(Jt,{variant:"text",color:"info",to:"/accessibility",class:"mx-1"},{default:De(()=>[zt(" Accessibility ")]),_:1}),T(Jt,{variant:"text",color:"info",to:"/privacy",class:"mx-1"},{default:De(()=>[zt(" Privacy ")]),_:1})]),_:1})]),_:1})}const lDe=Qr(sDe,[["render",oDe]]),cDe="/assets/logo.png",uDe=We({...un(),...aB({fullHeight:!0}),...yr()},"VApp"),dDe=ft()({name:"VApp",props:uDe(),setup(e,t){let{slots:n}=t;const r=Rr(e),{layoutClasses:s,getLayoutItem:u,items:h,layoutRef:o}=oB(e),{rtlClasses:g}=Ua();return St(()=>{var y;return T("div",{ref:o,class:["v-application",r.themeClasses.value,s.value,g.value,e.class],style:[e.style]},[T("div",{class:"v-application__wrap"},[(y=n.default)==null?void 0:y.call(n)])])}),{getLayoutItem:u,items:h,theme:r}}}),hDe=We({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function fDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0,s=0;const u=ht(null),h=Rt(0),o=Rt(0),g=Rt(0),y=Rt(!1),w=Rt(!1),k=Y(()=>Number(e.scrollThreshold)),C=Y(()=>Zi((k.value-h.value)/k.value||0)),I=()=>{const O=u.value;if(!O||n&&!n.value)return;r=h.value,h.value="window"in O?O.pageYOffset:O.scrollTop;const L=O instanceof Window?document.documentElement.scrollHeight:O.scrollHeight;if(s!==L){s=L;return}w.value=h.value<r,g.value=Math.abs(h.value-k.value)};return ut(w,()=>{o.value=o.value||h.value}),ut(y,()=>{o.value=0}),Vi(()=>{ut(()=>e.scrollTarget,O=>{var R;const L=O?document.querySelector(O):window;L&&L!==u.value&&((R=u.value)==null||R.removeEventListener("scroll",I),u.value=L,u.value.addEventListener("scroll",I,{passive:!0}))},{immediate:!0})}),vr(()=>{var O;(O=u.value)==null||O.removeEventListener("scroll",I)}),n&&ut(n,I,{immediate:!0}),{scrollThreshold:k,currentScroll:h,currentThreshold:g,isScrollActive:y,scrollRatio:C,isScrollingUp:w,savedScroll:o}}const mDe=We({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...BP(),...G0(),...hDe(),height:{type:[Number,String],default:64}},"VAppBar"),pDe=ft()({name:"VAppBar",props:mDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=ht(),s=fn(e,"modelValue"),u=Y(()=>{var Z;const j=new Set(((Z=e.scrollBehavior)==null?void 0:Z.split(" "))??[]);return{hide:j.has("hide"),fullyHide:j.has("fully-hide"),inverted:j.has("inverted"),collapse:j.has("collapse"),elevate:j.has("elevate"),fadeImage:j.has("fade-image")}}),h=Y(()=>{const j=u.value;return j.hide||j.fullyHide||j.inverted||j.collapse||j.elevate||j.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:g,isScrollingUp:y,scrollRatio:w}=fDe(e,{canScroll:h}),k=Y(()=>u.value.hide||u.value.fullyHide),C=Y(()=>e.collapse||u.value.collapse&&(u.value.inverted?w.value>0:w.value===0)),I=Y(()=>e.flat||u.value.fullyHide&&!s.value||u.value.elevate&&(u.value.inverted?o.value>0:o.value===0)),O=Y(()=>u.value.fadeImage?u.value.inverted?1-w.value:w.value:void 0),L=Y(()=>{var re,ie;if(u.value.hide&&u.value.inverted)return 0;const j=((re=r.value)==null?void 0:re.contentHeight)??0,Z=((ie=r.value)==null?void 0:ie.extensionHeight)??0;return k.value?o.value<g.value||u.value.fullyHide?j+Z:j:j+Z});Ba(Y(()=>!!e.scrollBehavior),()=>{yi(()=>{k.value?u.value.inverted?s.value=o.value>g.value:s.value=y.value||o.value<g.value:s.value=!0})});const{ssrBootStyles:R}=ym(),{layoutItemStyles:B}=W0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:bt(e,"location"),layoutSize:L,elementSize:Rt(void 0),active:s,absolute:bt(e,"absolute")});return St(()=>{const j=Jb.filterProps(e);return T(Jb,lt({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":O.value,height:void 0,...R.value},e.style]},j,{collapse:C.value,flat:I.value}),n)}),{}}}),gDe=We({...Q0({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),vDe=ft()({name:"VAppBarNavIcon",props:gDe(),setup(e,t){let{slots:n}=t;return St(()=>T(Jt,lt(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),yDe=We({scrollable:Boolean,...un(),...is(),...Yn({tag:"main"})},"VMain"),_De=ft()({name:"VMain",props:yDe(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=as(e),{mainStyles:s}=xA(),{ssrBootStyles:u}=ym();return St(()=>T(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,u.value,r.value,e.style]},{default:()=>{var h,o;return[e.scrollable?T("div",{class:"v-main__scroller"},[(h=n.default)==null?void 0:h.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function bDe(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const s=Rt(!1),u=Rt(0),h=Y(()=>{const y=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[y]:Ht(u.value)}:{top:r.value.top}]});Vi(()=>{ut(n,y=>{y?window.addEventListener("scroll",g,{passive:!0}):window.removeEventListener("scroll",g)},{immediate:!0})}),vr(()=>{window.removeEventListener("scroll",g)});let o=0;function g(){const y=o>window.scrollY?"up":"down",w=t.value.getBoundingClientRect(),k=parseFloat(r.value.top??0),C=window.scrollY-Math.max(0,u.value-k),I=w.height+Math.max(u.value,k)-window.scrollY-window.innerHeight,O=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;w.height<window.innerHeight-k?(s.value="top",u.value=k):y==="up"&&s.value==="bottom"||y==="down"&&s.value==="top"?(u.value=window.scrollY+w.top-O,s.value=!0):y==="down"&&I<=0?(u.value=0,s.value="bottom"):y==="up"&&C<=0&&(O?s.value!=="top"&&(u.value=-C+O+k,s.value="top"):(u.value=w.top+C,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:h}}const xDe=100,wDe=20;function k2(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function C2(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=k2(t),s=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(s-r)*Math.abs(s),n===e.length-1&&(t*=.5)}return k2(t)*1e3}function SDe(){const e={};function t(s){Array.from(s.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new vF(wDe))).push([s.timeStamp,u])})}function n(s){Array.from(s.changedTouches).forEach(u=>{delete e[u.identifier]})}function r(s){var y;const u=(y=e[s])==null?void 0:y.values().reverse();if(!u)throw new Error(`No samples for touch id ${s}`);const h=u[0],o=[],g=[];for(const w of u){if(h[0]-w[0]>xDe)break;o.push({t:w[0],d:w[1].clientX}),g.push({t:w[0],d:w[1].clientY})}return{x:C2(o),y:C2(g),get direction(){const{x:w,y:k}=this,[C,I]=[Math.abs(w),Math.abs(k)];return C>I&&w>=0?"right":C>I&&w<=0?"left":I>C&&k>=0?"down":I>C&&k<=0?"up":kDe()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function kDe(){throw new Error}function CDe(e){let{el:t,isActive:n,isTemporary:r,width:s,touchless:u,position:h}=e;Vi(()=>{window.addEventListener("touchstart",j,{passive:!0}),window.addEventListener("touchmove",Z,{passive:!1}),window.addEventListener("touchend",re,{passive:!0})}),vr(()=>{window.removeEventListener("touchstart",j),window.removeEventListener("touchmove",Z),window.removeEventListener("touchend",re)});const o=Y(()=>["left","right"].includes(h.value)),{addMovement:g,endTouch:y,getVelocity:w}=SDe();let k=!1;const C=Rt(!1),I=Rt(0),O=Rt(0);let L;function R(Q,se){return(h.value==="left"?Q:h.value==="right"?document.documentElement.clientWidth-Q:h.value==="top"?Q:h.value==="bottom"?document.documentElement.clientHeight-Q:pd())-(se?s.value:0)}function B(Q){let se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const H=h.value==="left"?(Q-O.value)/s.value:h.value==="right"?(document.documentElement.clientWidth-Q-O.value)/s.value:h.value==="top"?(Q-O.value)/s.value:h.value==="bottom"?(document.documentElement.clientHeight-Q-O.value)/s.value:pd();return se?Math.max(0,Math.min(1,H)):H}function j(Q){if(u.value)return;const se=Q.changedTouches[0].clientX,H=Q.changedTouches[0].clientY,$=25,K=h.value==="left"?se<$:h.value==="right"?se>document.documentElement.clientWidth-$:h.value==="top"?H<$:h.value==="bottom"?H>document.documentElement.clientHeight-$:pd(),ae=n.value&&(h.value==="left"?se<s.value:h.value==="right"?se>document.documentElement.clientWidth-s.value:h.value==="top"?H<s.value:h.value==="bottom"?H>document.documentElement.clientHeight-s.value:pd());(K||ae||n.value&&r.value)&&(L=[se,H],O.value=R(o.value?se:H,n.value),I.value=B(o.value?se:H),k=O.value>-20&&O.value<80,y(Q),g(Q))}function Z(Q){const se=Q.changedTouches[0].clientX,H=Q.changedTouches[0].clientY;if(k){if(!Q.cancelable){k=!1;return}const K=Math.abs(se-L[0]),ae=Math.abs(H-L[1]);(o.value?K>ae&&K>3:ae>K&&ae>3)?(C.value=!0,k=!1):(o.value?ae:K)>3&&(k=!1)}if(!C.value)return;Q.preventDefault(),g(Q);const $=B(o.value?se:H,!1);I.value=Math.max(0,Math.min(1,$)),$>1?O.value=R(o.value?se:H,!0):$<0&&(O.value=R(o.value?se:H,!1))}function re(Q){if(k=!1,!C.value)return;g(Q),C.value=!1;const se=w(Q.changedTouches[0].identifier),H=Math.abs(se.x),$=Math.abs(se.y);(o.value?H>$&&H>400:$>H&&$>3)?n.value=se.direction===({left:"right",right:"left",top:"down",bottom:"up"}[h.value]||pd()):n.value=I.value>.5}const ie=Y(()=>C.value?{transform:h.value==="left"?`translateX(calc(-100% + ${I.value*s.value}px))`:h.value==="right"?`translateX(calc(100% - ${I.value*s.value}px))`:h.value==="top"?`translateY(calc(-100% + ${I.value*s.value}px))`:h.value==="bottom"?`translateY(calc(100% - ${I.value*s.value}px))`:pd(),transition:"none"}:void 0);return Ba(C,()=>{var H,$;const Q=((H=t.value)==null?void 0:H.style.transform)??null,se=(($=t.value)==null?void 0:$.style.transition)??null;yi(()=>{var K,ae,te,be;(ae=t.value)==null||ae.style.setProperty("transform",((K=ie.value)==null?void 0:K.transform)||"none"),(be=t.value)==null||be.style.setProperty("transition",((te=ie.value)==null?void 0:te.transition)||null)}),ha(()=>{var K,ae;(K=t.value)==null||K.style.setProperty("transform",Q),(ae=t.value)==null||ae.style.setProperty("transition",se)})}),{isDragging:C,dragProgress:I,dragStyles:ie}}function pd(){throw new Error}const TDe=["start","end","left","right","top","bottom"],ADe=We({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>TDe.includes(e)},sticky:Boolean,...Es(),...un(),...wE(),...Ud({mobile:null}),...ss(),...G0(),...Di(),...Yn({tag:"nav"}),...yr()},"VNavigationDrawer"),EDe=ft()({name:"VNavigationDrawer",props:ADe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{isRtl:u}=Ua(),{themeClasses:h}=Rr(e),{borderClasses:o}=no(e),{backgroundColorClasses:g,backgroundColorStyles:y}=gi(bt(e,"color")),{elevationClasses:w}=Is(e),{displayClasses:k,mobile:C}=vl(e),{roundedClasses:I}=Ni(e),O=RA(),L=fn(e,"modelValue",null,$e=>!!$e),{ssrBootStyles:R}=ym(),{scopeId:B}=Gd(),j=ht(),Z=Rt(!1),{runOpenDelay:re,runCloseDelay:ie}=SE(e,$e=>{Z.value=$e}),Q=Y(()=>e.rail&&e.expandOnHover&&Z.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),se=Y(()=>mb(e.location,u.value)),H=Y(()=>e.persistent),$=Y(()=>!e.permanent&&(C.value||e.temporary)),K=Y(()=>e.sticky&&!$.value&&se.value!=="bottom");Ba(()=>e.expandOnHover&&e.rail!=null,()=>{ut(Z,$e=>r("update:rail",!$e))}),Ba(()=>!e.disableResizeWatcher,()=>{ut($,$e=>!e.permanent&&Xn(()=>L.value=!$e))}),Ba(()=>!e.disableRouteWatcher&&!!O,()=>{ut(O.currentRoute,()=>$.value&&(L.value=!1))}),ut(()=>e.permanent,$e=>{$e&&(L.value=!0)}),e.modelValue==null&&!$.value&&(L.value=e.permanent||!C.value);const{isDragging:ae,dragProgress:te}=CDe({el:j,isActive:L,isTemporary:$,width:Q,touchless:bt(e,"touchless"),position:se}),be=Y(()=>{const $e=$.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):Q.value;return ae.value?$e*te.value:$e}),me=Y(()=>["top","bottom"].includes(e.location)?0:Q.value),{layoutItemStyles:Ie,layoutItemScrimStyles:Ae}=W0({id:e.name,order:Y(()=>parseInt(e.order,10)),position:se,layoutSize:be,elementSize:me,active:Y(()=>L.value||ae.value),disableTransitions:Y(()=>ae.value),absolute:Y(()=>e.absolute||K.value&&typeof Ue.value!="string")}),{isStuck:Ue,stickyStyles:Fe}=bDe({rootEl:j,isSticky:K,layoutItemStyles:Ie}),Ce=gi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),Ve=Y(()=>({...ae.value?{opacity:te.value*.2,transition:"none"}:void 0,...Ae.value}));return da({VList:{bgColor:"transparent"}}),St(()=>{const $e=s.image||e.image;return T(Gt,null,[T(e.tag,lt({ref:j,onMouseenter:re,onMouseleave:ie,class:["v-navigation-drawer",`v-navigation-drawer--${se.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":Z.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":$.value,"v-navigation-drawer--persistent":H.value,"v-navigation-drawer--active":L.value,"v-navigation-drawer--sticky":K.value},h.value,g.value,o.value,k.value,w.value,I.value,e.class],style:[y.value,Ie.value,R.value,Fe.value,e.style,["top","bottom"].includes(se.value)?{height:"auto"}:{}]},B,n),{default:()=>{var qe,pt,Ct;return[$e&&T("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},s.image):T(mm,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),s.prepend&&T("div",{class:"v-navigation-drawer__prepend"},[(qe=s.prepend)==null?void 0:qe.call(s)]),T("div",{class:"v-navigation-drawer__content"},[(pt=s.default)==null?void 0:pt.call(s)]),s.append&&T("div",{class:"v-navigation-drawer__append"},[(Ct=s.append)==null?void 0:Ct.call(s)])]}}),T(Eo,{name:"fade-transition"},{default:()=>[$.value&&(ae.value||L.value)&&!!e.scrim&&T("div",lt({class:["v-navigation-drawer__scrim",Ce.backgroundColorClasses.value],style:[Ve.value,Ce.backgroundColorStyles.value],onClick:()=>{H.value||(L.value=!1)}},B),null)]})])}),{isStuck:Ue}}}),IDe={name:"App",components:{"layout-footer":lDe},methods:{async logout(){await this.$store.dispatch("logout"),this.$router.push("/")}},data:()=>({drawer:null})},PDe={href:"/"};function DDe(e,t,n,r,s,u){const h=Sm,o=kn("router-view"),g=kn("layout-footer");return vn(),Nn(dDe,null,{default:De(()=>[T(pDe,{elevation:"0",flat:"",color:"grey-lighten-5"},{default:De(()=>[T(vDe,{class:"hidden-lg-and-up",onClick:t[0]||(t[0]=y=>e.drawer=!e.drawer)}),T(Mr,null,{default:De(()=>[rr("a",PDe,[T(mm,{src:cDe,height:"40"})]),T(Ws)]),_:1})]),_:1}),T(EDe,{border:"",modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=y=>e.drawer=y),elevation:"0"},{append:De(()=>[T(Ka,null,{default:De(()=>[T(Ao,null,{default:De(()=>[T(h,{actions:!0})]),_:1})]),_:1})]),default:De(()=>[T(Wf,{nav:""},{default:De(()=>[T(ZE,null,{default:De(()=>[zt("Datasets")]),_:1}),T(Ys,{value:"Catalogue","prepend-icon":"mdi-bookshelf"},{activator:De(({props:y})=>[T(Dr,lt(y,{title:"Catalogue"}),null,16)]),default:De(()=>[T(Dr,{color:"success",to:"/stock-summary","active-class":"highlighted",class:La(e.$route.path==="/stock-summary"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Stock summary")]),_:1})]),_:1},8,["class"])]),_:1}),T(Ys,{value:"Events","no-action":"","prepend-icon":"mdi-calendar-badge"},{activator:De(({props:y})=>[T(Dr,lt(y,{title:"Events"}),null,16)]),default:De(()=>[T(Dr,{color:"success",to:"/events","active-class":"highlighted",class:La(e.$route.path==="/events"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Events")]),_:1})]),_:1},8,["class"])]),_:1}),T(Ys,{value:"Library locations","no-action":"","prepend-icon":"mdi-office-building-marker"},{activator:De(({props:y})=>[T(Dr,lt(y,{title:"Library locations"}),null,16)]),default:De(()=>[T(Dr,{color:"success",to:"/libraries","active-class":"highlighted",class:La(e.$route.path==="/libraries"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Locations")]),_:1})]),_:1},8,["class"]),T(Dr,{color:"success",to:"/libraries-edit","active-class":"highlighted",class:La(e.$route.path==="/libraries"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Edit locations")]),_:1})]),_:1},8,["class"])]),_:1}),T(Ys,{value:"Loans","prepend-icon":"mdi-book-account"},{activator:De(({props:y})=>[T(Dr,lt(y,{title:"Loans"}),null,16)]),default:De(()=>[T(Dr,{color:"success",to:"/loans","active-class":"highlighted",class:La(e.$route.path==="/loans"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Loans")]),_:1})]),_:1},8,["class"])]),_:1}),T(Ys,{value:"Membership","prepend-icon":"mdi-account-group"},{activator:De(({props:y})=>[T(Dr,lt(y,{title:"Membership"}),null,16)]),default:De(()=>[T(Dr,{color:"success",to:"/membership","active-class":"highlighted",class:La(e.$route.path==="/membership"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Membership")]),_:1})]),_:1},8,["class"]),T(Dr,{color:"success",to:"/postcode-to-lsoa","active-class":"highlighted",class:La(e.$route.path==="/postcode-to-lsoa"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Postcode converter")]),_:1})]),_:1},8,["class"]),T(Dr,{color:"success",to:"/membership-map","active-class":"highlighted",class:La(e.$route.path==="/membership-map"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Membership map")]),_:1})]),_:1},8,["class"])]),_:1}),T(Ys,{value:"MobileLibraries","prepend-icon":"mdi-bus-clock"},{activator:De(({props:y})=>[T(Dr,lt(y,{title:"Mobile libraries"}),null,16)]),default:De(()=>[T(Dr,{color:"success",to:"/mobile-library-stops","active-class":"highlighted",class:La(e.$route.path==="/mobile-library-stops"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Mobile library stops")]),_:1})]),_:1},8,["class"])]),_:1}),T(Ys,{value:"Visits","prepend-icon":"mdi-shoe-print"},{activator:De(({props:y})=>[T(Dr,lt(y,{title:"Visits"}),null,16)]),default:De(()=>[T(Dr,{color:"success",to:"/physical-visits","active-class":"highlighted",class:La(e.$route.path==="/physical-visits"?"highlighted":"")},{default:De(()=>[T(_s,null,{default:De(()=>[zt("Physical visits")]),_:1})]),_:1},8,["class"])]),_:1}),T(gr),T(Dr,{color:"info",to:"/about","active-class":"highlighted",class:La(e.$route.path==="/about"?"highlighted":""),"prepend-icon":"mdi-information"},{default:De(()=>[T(_s,null,{default:De(()=>[zt("About")]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["modelValue"]),T(_De,null,{default:De(()=>[T(o)]),_:1}),T(g)]),_:1})}const MDe=Qr(IDe,[["render",DDe]]),LDe=wA({icons:{defaultSet:"mdi",aliases:gA,sets:{mdi:vA}},components:{...q4},defaults:{VBtn:{style:"text-transform: none;"},VTabs:{style:"text-transform: none;"}}});oF({extends:MDe,beforeCreate(){this.$store.commit("initialiseStore")}}).use(LDe).use(MPe).use(rDe).use(eV).component("layout-header",Y4).component("markdown-section",l1e).component("user-profile",Sm).mount("#app")});export default RDe();
