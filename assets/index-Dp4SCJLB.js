var tR=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var GDe=tR((YDe,Tg)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const u of s)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const u={};return s.integrity&&(u.integrity=s.integrity),s.referrerPolicy&&(u.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?u.credentials="include":s.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(s){if(s.ep)return;s.ep=!0;const u=n(s);fetch(s.href,u)}})();/**
* @vue/shared v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function b0(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Er={},Ad=[],Qs=()=>{},nR=()=>!1,iv=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),x0=e=>e.startsWith("onUpdate:"),Si=Object.assign,w0=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},rR=Object.prototype.hasOwnProperty,dr=(e,t)=>rR.call(e,t),_n=Array.isArray,Ed=e=>av(e)==="[object Map]",$2=e=>av(e)==="[object Set]",Cn=e=>typeof e=="function",ti=e=>typeof e=="string",fc=e=>typeof e=="symbol",Fr=e=>e!==null&&typeof e=="object",U2=e=>(Fr(e)||Cn(e))&&Cn(e.then)&&Cn(e.catch),q2=Object.prototype.toString,av=e=>q2.call(e),iR=e=>av(e).slice(8,-1),j2=e=>av(e)==="[object Object]",S0=e=>ti(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,kf=b0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sv=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},aR=/-(\w)/g,is=sv(e=>e.replace(aR,(t,n)=>n?n.toUpperCase():"")),sR=/\B([A-Z])/g,pu=sv(e=>e.replace(sR,"-$1").toLowerCase()),Ro=sv(e=>e.charAt(0).toUpperCase()+e.slice(1)),h_=sv(e=>e?`on${Ro(e)}`:""),lc=(e,t)=>!Object.is(e,t),ug=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},H2=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ub=e=>{const t=parseFloat(e);return isNaN(t)?e:t},oR=e=>{const t=ti(e)?Number(e):NaN;return isNaN(t)?e:t};let hS;const G2=()=>hS||(hS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function k0(e){if(_n(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],s=ti(r)?dR(r):k0(r);if(s)for(const u in s)t[u]=s[u]}return t}else if(ti(e)||Fr(e))return e}const lR=/;(?![^(]*\))/g,cR=/:([^]+)/,uR=/\/\*[^]*?\*\//g;function dR(e){const t={};return e.replace(uR,"").split(lR).forEach(n=>{if(n){const r=n.split(cR);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Va(e){let t="";if(ti(e))t=e;else if(_n(e))for(let n=0;n<e.length;n++){const r=Va(e[n]);r&&(t+=r+" ")}else if(Fr(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const hR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",fR=b0(hR);function W2(e){return!!e||e===""}const Y2=e=>!!(e&&e.__v_isRef===!0),Cs=e=>ti(e)?e:e==null?"":_n(e)||Fr(e)&&(e.toString===q2||!Cn(e.toString))?Y2(e)?Cs(e.value):JSON.stringify(e,Z2,2):String(e),Z2=(e,t)=>Y2(t)?Z2(e,t.value):Ed(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,s],u)=>(n[f_(r,u)+" =>"]=s,n),{})}:$2(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>f_(n))}:fc(t)?f_(t):Fr(t)&&!_n(t)&&!j2(t)?String(t):t,f_=(e,t="")=>{var n;return fc(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ea;class K2{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ea,!t&&Ea&&(this.index=(Ea.scopes||(Ea.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Ea;try{return Ea=this,t()}finally{Ea=n}}}on(){Ea=this}off(){Ea=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function ov(e){return new K2(e)}function mR(){return Ea}function pa(e,t=!1){Ea&&Ea.cleanups.push(e)}let Ar;const m_=new WeakSet;class X2{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0,Ea&&Ea.active&&Ea.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,m_.has(this)&&(m_.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||(this.flags|=8,this.nextEffect=Cf,Cf=this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fS(this),Q2(this);const t=Ar,n=eo;Ar=this,eo=!0;try{return this.fn()}finally{eT(this),Ar=t,eo=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)A0(t);this.deps=this.depsTail=void 0,fS(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?m_.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){db(this)&&this.run()}get dirty(){return db(this)}}let J2=0,Cf;function C0(){J2++}function T0(){if(--J2>0)return;let e;for(;Cf;){let t=Cf;for(Cf=void 0;t;){const n=t.nextEffect;if(t.nextEffect=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Q2(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function eT(e){let t,n=e.depsTail;for(let r=n;r;r=r.prevDep)r.version===-1?(r===n&&(n=r.prevDep),A0(r),pR(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0;e.deps=t,e.depsTail=n}function db(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&tT(t.dep.computed)||t.dep.version!==t.version)return!0;return!!e._dirty}function tT(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ff))return;e.globalVersion=Ff;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&!db(e)){e.flags&=-3;return}const n=Ar,r=eo;Ar=e,eo=!0;try{Q2(e);const s=e.fn(e._value);(t.version===0||lc(s,e._value))&&(e._value=s,t.version++)}catch(s){throw t.version++,s}finally{Ar=n,eo=r,eT(e),e.flags&=-3}}function A0(e){const{dep:t,prevSub:n,nextSub:r}=e;if(n&&(n.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=n,e.nextSub=void 0),t.subs===e&&(t.subs=n),!t.subs&&t.computed){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)A0(s)}}function pR(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let eo=!0;const nT=[];function mc(){nT.push(eo),eo=!1}function pc(){const e=nT.pop();eo=e===void 0?!0:e}function fS(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Ar;Ar=void 0;try{t()}finally{Ar=n}}}let Ff=0;class E0{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0}track(t){if(!Ar||!eo||Ar===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Ar)n=this.activeLink={dep:this,sub:Ar,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},Ar.deps?(n.prevDep=Ar.depsTail,Ar.depsTail.nextDep=n,Ar.depsTail=n):Ar.deps=Ar.depsTail=n,Ar.flags&4&&rT(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Ar.depsTail,n.nextDep=void 0,Ar.depsTail.nextDep=n,Ar.depsTail=n,Ar.deps===n&&(Ar.deps=r)}return n}trigger(t){this.version++,Ff++,this.notify(t)}notify(t){C0();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()}finally{T0()}}}function rT(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)rT(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const Ag=new WeakMap,iu=Symbol(""),hb=Symbol(""),zf=Symbol("");function fa(e,t,n){if(eo&&Ar){let r=Ag.get(e);r||Ag.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=new E0),s.track()}}function fl(e,t,n,r,s,u){const h=Ag.get(e);if(!h){Ff++;return}const o=p=>{p&&p.trigger()};if(C0(),t==="clear")h.forEach(o);else{const p=_n(e),y=p&&S0(n);if(p&&n==="length"){const b=Number(r);h.forEach((k,C)=>{(C==="length"||C===zf||!fc(C)&&C>=b)&&o(k)})}else switch(n!==void 0&&o(h.get(n)),y&&o(h.get(zf)),t){case"add":p?y&&o(h.get("length")):(o(h.get(iu)),Ed(e)&&o(h.get(hb)));break;case"delete":p||(o(h.get(iu)),Ed(e)&&o(h.get(hb)));break;case"set":Ed(e)&&o(h.get(iu));break}}T0()}function gR(e,t){var n;return(n=Ag.get(e))==null?void 0:n.get(t)}function dd(e){const t=an(e);return t===e?t:(fa(t,"iterate",zf),Ts(e)?t:t.map(ca))}function lv(e){return fa(e=an(e),"iterate",zf),e}const vR={__proto__:null,[Symbol.iterator](){return p_(this,Symbol.iterator,ca)},concat(...e){return dd(this).concat(...e.map(t=>_n(t)?dd(t):t))},entries(){return p_(this,"entries",e=>(e[1]=ca(e[1]),e))},every(e,t){return rl(this,"every",e,t,void 0,arguments)},filter(e,t){return rl(this,"filter",e,t,n=>n.map(ca),arguments)},find(e,t){return rl(this,"find",e,t,ca,arguments)},findIndex(e,t){return rl(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return rl(this,"findLast",e,t,ca,arguments)},findLastIndex(e,t){return rl(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return rl(this,"forEach",e,t,void 0,arguments)},includes(...e){return g_(this,"includes",e)},indexOf(...e){return g_(this,"indexOf",e)},join(e){return dd(this).join(e)},lastIndexOf(...e){return g_(this,"lastIndexOf",e)},map(e,t){return rl(this,"map",e,t,void 0,arguments)},pop(){return mf(this,"pop")},push(...e){return mf(this,"push",e)},reduce(e,...t){return mS(this,"reduce",e,t)},reduceRight(e,...t){return mS(this,"reduceRight",e,t)},shift(){return mf(this,"shift")},some(e,t){return rl(this,"some",e,t,void 0,arguments)},splice(...e){return mf(this,"splice",e)},toReversed(){return dd(this).toReversed()},toSorted(e){return dd(this).toSorted(e)},toSpliced(...e){return dd(this).toSpliced(...e)},unshift(...e){return mf(this,"unshift",e)},values(){return p_(this,"values",ca)}};function p_(e,t,n){const r=lv(e),s=r[t]();return r!==e&&!Ts(e)&&(s._next=s.next,s.next=()=>{const u=s._next();return u.value&&(u.value=n(u.value)),u}),s}const yR=Array.prototype;function rl(e,t,n,r,s,u){const h=lv(e),o=h!==e&&!Ts(e),p=h[t];if(p!==yR[t]){const k=p.apply(e,u);return o?ca(k):k}let y=n;h!==e&&(o?y=function(k,C){return n.call(this,ca(k),C,e)}:n.length>2&&(y=function(k,C){return n.call(this,k,C,e)}));const b=p.call(h,y,r);return o&&s?s(b):b}function mS(e,t,n,r){const s=lv(e);let u=n;return s!==e&&(Ts(e)?n.length>3&&(u=function(h,o,p){return n.call(this,h,o,p,e)}):u=function(h,o,p){return n.call(this,h,ca(o),p,e)}),s[t](u,...r)}function g_(e,t,n){const r=an(e);fa(r,"iterate",zf);const s=r[t](...n);return(s===-1||s===!1)&&M0(n[0])?(n[0]=an(n[0]),r[t](...n)):s}function mf(e,t,n=[]){mc(),C0();const r=an(e)[t].apply(e,n);return T0(),pc(),r}const _R=b0("__proto__,__v_isRef,__isVue"),iT=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(fc));function bR(e){fc(e)||(e=String(e));const t=an(this);return fa(t,"has",e),t.hasOwnProperty(e)}class aT{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){const s=this._isReadonly,u=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return u;if(n==="__v_raw")return r===(s?u?LR:cT:u?lT:oT).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const h=_n(t);if(!s){let p;if(h&&(p=vR[n]))return p;if(n==="hasOwnProperty")return bR}const o=Reflect.get(t,n,fr(t)?t:r);return(fc(n)?iT.has(n):_R(n))||(s||fa(t,"get",n),u)?o:fr(o)?h&&S0(n)?o:o.value:Fr(o)?s?dm(o):Ii(o):o}}class sT extends aT{constructor(t=!1){super(!1,t)}set(t,n,r,s){let u=t[n];if(!this._isShallow){const p=uu(u);if(!Ts(r)&&!uu(r)&&(u=an(u),r=an(r)),!_n(t)&&fr(u)&&!fr(r))return p?!1:(u.value=r,!0)}const h=_n(t)&&S0(n)?Number(n)<t.length:dr(t,n),o=Reflect.set(t,n,r,fr(t)?t:s);return t===an(s)&&(h?lc(r,u)&&fl(t,"set",n,r):fl(t,"add",n,r)),o}deleteProperty(t,n){const r=dr(t,n);t[n];const s=Reflect.deleteProperty(t,n);return s&&r&&fl(t,"delete",n,void 0),s}has(t,n){const r=Reflect.has(t,n);return(!fc(n)||!iT.has(n))&&fa(t,"has",n),r}ownKeys(t){return fa(t,"iterate",_n(t)?"length":iu),Reflect.ownKeys(t)}}class xR extends aT{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const wR=new sT,SR=new xR,kR=new sT(!0),I0=e=>e,cv=e=>Reflect.getPrototypeOf(e);function jp(e,t,n=!1,r=!1){e=e.__v_raw;const s=an(e),u=an(t);n||(lc(t,u)&&fa(s,"get",t),fa(s,"get",u));const{has:h}=cv(s),o=r?I0:n?L0:ca;if(h.call(s,t))return o(e.get(t));if(h.call(s,u))return o(e.get(u));e!==s&&e.get(t)}function Hp(e,t=!1){const n=this.__v_raw,r=an(n),s=an(e);return t||(lc(e,s)&&fa(r,"has",e),fa(r,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Gp(e,t=!1){return e=e.__v_raw,!t&&fa(an(e),"iterate",iu),Reflect.get(e,"size",e)}function pS(e,t=!1){!t&&!Ts(e)&&!uu(e)&&(e=an(e));const n=an(this);return cv(n).has.call(n,e)||(n.add(e),fl(n,"add",e,e)),this}function gS(e,t,n=!1){!n&&!Ts(t)&&!uu(t)&&(t=an(t));const r=an(this),{has:s,get:u}=cv(r);let h=s.call(r,e);h||(e=an(e),h=s.call(r,e));const o=u.call(r,e);return r.set(e,t),h?lc(t,o)&&fl(r,"set",e,t):fl(r,"add",e,t),this}function vS(e){const t=an(this),{has:n,get:r}=cv(t);let s=n.call(t,e);s||(e=an(e),s=n.call(t,e)),r&&r.call(t,e);const u=t.delete(e);return s&&fl(t,"delete",e,void 0),u}function yS(){const e=an(this),t=e.size!==0,n=e.clear();return t&&fl(e,"clear",void 0,void 0),n}function Wp(e,t){return function(r,s){const u=this,h=u.__v_raw,o=an(h),p=t?I0:e?L0:ca;return!e&&fa(o,"iterate",iu),h.forEach((y,b)=>r.call(s,p(y),p(b),u))}}function Yp(e,t,n){return function(...r){const s=this.__v_raw,u=an(s),h=Ed(u),o=e==="entries"||e===Symbol.iterator&&h,p=e==="keys"&&h,y=s[e](...r),b=n?I0:t?L0:ca;return!t&&fa(u,"iterate",p?hb:iu),{next(){const{value:k,done:C}=y.next();return C?{value:k,done:C}:{value:o?[b(k[0]),b(k[1])]:b(k),done:C}},[Symbol.iterator](){return this}}}}function Yl(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function CR(){const e={get(u){return jp(this,u)},get size(){return Gp(this)},has:Hp,add:pS,set:gS,delete:vS,clear:yS,forEach:Wp(!1,!1)},t={get(u){return jp(this,u,!1,!0)},get size(){return Gp(this)},has:Hp,add(u){return pS.call(this,u,!0)},set(u,h){return gS.call(this,u,h,!0)},delete:vS,clear:yS,forEach:Wp(!1,!0)},n={get(u){return jp(this,u,!0)},get size(){return Gp(this,!0)},has(u){return Hp.call(this,u,!0)},add:Yl("add"),set:Yl("set"),delete:Yl("delete"),clear:Yl("clear"),forEach:Wp(!0,!1)},r={get(u){return jp(this,u,!0,!0)},get size(){return Gp(this,!0)},has(u){return Hp.call(this,u,!0)},add:Yl("add"),set:Yl("set"),delete:Yl("delete"),clear:Yl("clear"),forEach:Wp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=Yp(u,!1,!1),n[u]=Yp(u,!0,!1),t[u]=Yp(u,!1,!0),r[u]=Yp(u,!0,!0)}),[e,n,t,r]}const[TR,AR,ER,IR]=CR();function P0(e,t){const n=t?e?IR:ER:e?AR:TR;return(r,s,u)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(dr(n,s)&&s in r?n:r,s,u)}const PR={get:P0(!1,!1)},DR={get:P0(!1,!0)},MR={get:P0(!0,!1)},oT=new WeakMap,lT=new WeakMap,cT=new WeakMap,LR=new WeakMap;function RR(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function OR(e){return e.__v_skip||!Object.isExtensible(e)?0:RR(iR(e))}function Ii(e){return uu(e)?e:D0(e,!1,wR,PR,oT)}function uT(e){return D0(e,!1,kR,DR,lT)}function dm(e){return D0(e,!0,SR,MR,cT)}function D0(e,t,n,r,s){if(!Fr(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const u=s.get(e);if(u)return u;const h=OR(e);if(h===0)return e;const o=new Proxy(e,h===2?r:n);return s.set(e,o),o}function Id(e){return uu(e)?Id(e.__v_raw):!!(e&&e.__v_isReactive)}function uu(e){return!!(e&&e.__v_isReadonly)}function Ts(e){return!!(e&&e.__v_isShallow)}function M0(e){return e?!!e.__v_raw:!1}function an(e){const t=e&&e.__v_raw;return t?an(t):e}function Eg(e){return!dr(e,"__v_skip")&&Object.isExtensible(e)&&H2(e,"__v_skip",!0),e}const ca=e=>Fr(e)?Ii(e):e,L0=e=>Fr(e)?dm(e):e;function fr(e){return e?e.__v_isRef===!0:!1}function dt(e){return dT(e,!1)}function Rt(e){return dT(e,!0)}function dT(e,t){return fr(e)?e:new FR(e,t)}class FR{constructor(t,n){this.dep=new E0,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:an(t),this._value=n?t:ca(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Ts(t)||uu(t);t=r?t:an(t),lc(t,n)&&(this._rawValue=t,this._value=r?t:ca(t),this.dep.trigger())}}function Ur(e){return fr(e)?e.value:e}const zR={get:(e,t,n)=>t==="__v_raw"?e:Ur(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const s=e[t];return fr(s)&&!fr(n)?(s.value=n,!0):Reflect.set(e,t,n,r)}};function hT(e){return Id(e)?e:new Proxy(e,zR)}function qd(e){const t=_n(e)?new Array(e.length):{};for(const n in e)t[n]=fT(e,n);return t}class BR{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return gR(an(this._object),this._key)}}class VR{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function bt(e,t,n){return fr(e)?e:Cn(e)?new VR(e):Fr(e)&&arguments.length>1?fT(e,t,n):dt(e)}function fT(e,t,n){const r=e[t];return fr(r)?r:new BR(e,t,n)}class NR{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new E0(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ff-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){this.flags|=16,Ar!==this&&this.dep.notify()}get value(){const t=this.dep.track();return tT(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $R(e,t,n=!1){let r,s;return Cn(e)?r=e:(r=e.get,s=e.set),new NR(r,s,n)}const Zp={},Ig=new WeakMap;let Zc;function UR(e,t=!1,n=Zc){if(n){let r=Ig.get(n);r||Ig.set(n,r=[]),r.push(e)}}function qR(e,t,n=Er){const{immediate:r,deep:s,once:u,scheduler:h,augmentJob:o,call:p}=n,y=ee=>s?ee:Ts(ee)||s===!1||s===0?cl(ee,1):cl(ee);let b,k,C,I,R=!1,L=!1;if(fr(e)?(k=()=>e.value,R=Ts(e)):Id(e)?(k=()=>y(e),R=!0):_n(e)?(L=!0,R=e.some(ee=>Id(ee)||Ts(ee)),k=()=>e.map(ee=>{if(fr(ee))return ee.value;if(Id(ee))return y(ee);if(Cn(ee))return p?p(ee,2):ee()})):Cn(e)?t?k=p?()=>p(e,2):e:k=()=>{if(C){mc();try{C()}finally{pc()}}const ee=Zc;Zc=b;try{return p?p(e,3,[I]):e(I)}finally{Zc=ee}}:k=Qs,t&&s){const ee=k,ie=s===!0?1/0:s;k=()=>cl(ee(),ie)}const O=mR(),B=()=>{b.stop(),O&&w0(O.effects,b)};if(u)if(t){const ee=t;t=(...ie)=>{ee(...ie),B()}}else{const ee=k;k=()=>{ee(),B()}}let q=L?new Array(e.length).fill(Zp):Zp;const J=ee=>{if(!(!(b.flags&1)||!b.dirty&&!ee))if(t){const ie=b.run();if(s||R||(L?ie.some((re,le)=>lc(re,q[le])):lc(ie,q))){C&&C();const re=Zc;Zc=b;try{const le=[ie,q===Zp?void 0:L&&q[0]===Zp?[]:q,I];p?p(t,3,le):t(...le),q=ie}finally{Zc=re}}}else b.run()};return o&&o(J),b=new X2(k),b.scheduler=h?()=>h(J,!1):J,I=ee=>UR(ee,!1,b),C=b.onStop=()=>{const ee=Ig.get(b);if(ee){if(p)p(ee,4);else for(const ie of ee)ie();Ig.delete(b)}},t?r?J(!0):q=b.run():h?h(J.bind(null,!0),!0):b.run(),B.pause=b.pause.bind(b),B.resume=b.resume.bind(b),B.stop=B,B}function cl(e,t=1/0,n){if(t<=0||!Fr(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,fr(e))cl(e.value,t,n);else if(_n(e))for(let r=0;r<e.length;r++)cl(e[r],t,n);else if($2(e)||Ed(e))e.forEach(r=>{cl(r,t,n)});else if(j2(e)){for(const r in e)cl(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&cl(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function hm(e,t,n,r){try{return r?e(...r):e()}catch(s){uv(s,t,n)}}function to(e,t,n,r){if(Cn(e)){const s=hm(e,t,n,r);return s&&U2(s)&&s.catch(u=>{uv(u,t,n)}),s}if(_n(e)){const s=[];for(let u=0;u<e.length;u++)s.push(to(e[u],t,n,r));return s}}function uv(e,t,n,r=!0){const s=t?t.vnode:null,{errorHandler:u,throwUnhandledErrorInProduction:h}=t&&t.appContext.config||Er;if(t){let o=t.parent;const p=t.proxy,y=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const b=o.ec;if(b){for(let k=0;k<b.length;k++)if(b[k](e,p,y)===!1)return}o=o.parent}if(u){mc(),hm(u,null,10,[e,p,y]),pc();return}}jR(e,n,s,r,h)}function jR(e,t,n,r=!0,s=!1){if(s)throw e;console.error(e)}let Bf=!1,fb=!1;const Ia=[];let Co=0;const Pd=[];let Ql=null,bd=0;const mT=Promise.resolve();let R0=null;function Jn(e){const t=R0||mT;return e?t.then(this?e.bind(this):e):t}function HR(e){let t=Bf?Co+1:0,n=Ia.length;for(;t<n;){const r=t+n>>>1,s=Ia[r],u=Vf(s);u<e||u===e&&s.flags&2?t=r+1:n=r}return t}function O0(e){if(!(e.flags&1)){const t=Vf(e),n=Ia[Ia.length-1];!n||!(e.flags&2)&&t>=Vf(n)?Ia.push(e):Ia.splice(HR(t),0,e),e.flags|=1,pT()}}function pT(){!Bf&&!fb&&(fb=!0,R0=mT.then(vT))}function GR(e){_n(e)?Pd.push(...e):Ql&&e.id===-1?Ql.splice(bd+1,0,e):e.flags&1||(Pd.push(e),e.flags|=1),pT()}function _S(e,t,n=Bf?Co+1:0){for(;n<Ia.length;n++){const r=Ia[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ia.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&=-2}}}function gT(e){if(Pd.length){const t=[...new Set(Pd)].sort((n,r)=>Vf(n)-Vf(r));if(Pd.length=0,Ql){Ql.push(...t);return}for(Ql=t,bd=0;bd<Ql.length;bd++){const n=Ql[bd];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ql=null,bd=0}}const Vf=e=>e.id==null?e.flags&2?-1:1/0:e.id;function vT(e){fb=!1,Bf=!0;try{for(Co=0;Co<Ia.length;Co++){const t=Ia[Co];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),hm(t,t.i,t.i?15:14),t.flags&=-2)}}finally{for(;Co<Ia.length;Co++){const t=Ia[Co];t&&(t.flags&=-2)}Co=0,Ia.length=0,gT(),Bf=!1,R0=null,(Ia.length||Pd.length)&&vT()}}let Ua=null,yT=null;function Pg(e){const t=Ua;return Ua=e,yT=e&&e.type.__scopeId||null,t}function Ie(e,t=Ua,n){if(!t||e._n)return e;const r=(...s)=>{r._d&&DS(-1);const u=Pg(t);let h;try{h=e(...s)}finally{Pg(u),r._d&&DS(1)}return h};return r._n=!0,r._c=!0,r._d=!0,r}function _i(e,t){if(Ua===null)return e;const n=pv(Ua),r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[u,h,o,p=Er]=t[s];u&&(Cn(u)&&(u={mounted:u,updated:u}),u.deep&&cl(h),r.push({dir:u,instance:n,value:h,oldValue:void 0,arg:o,modifiers:p}))}return e}function $c(e,t,n,r){const s=e.dirs,u=t&&t.dirs;for(let h=0;h<s.length;h++){const o=s[h];u&&(o.oldValue=u[h].value);let p=o.dir[r];p&&(mc(),to(p,n,8,[e.el,o,e,t]),pc())}}const _T=Symbol("_vte"),bT=e=>e.__isTeleport,Tf=e=>e&&(e.disabled||e.disabled===""),WR=e=>e&&(e.defer||e.defer===""),bS=e=>typeof SVGElement<"u"&&e instanceof SVGElement,xS=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,mb=(e,t)=>{const n=e&&e.to;return ti(n)?t?t(n):null:n},YR={name:"Teleport",__isTeleport:!0,process(e,t,n,r,s,u,h,o,p,y){const{mc:b,pc:k,pbc:C,o:{insert:I,querySelector:R,createText:L,createComment:O}}=y,B=Tf(t.props);let{shapeFlag:q,children:J,dynamicChildren:ee}=t;if(e==null){const ie=t.el=L(""),re=t.anchor=L("");I(ie,n,r),I(re,n,r);const le=($,Z)=>{q&16&&b(J,$,Z,s,u,h,o,p)},H=()=>{const $=t.target=mb(t.props,R),Z=xT($,t,L,I);$&&(h!=="svg"&&bS($)?h="svg":h!=="mathml"&&xS($)&&(h="mathml"),B||(le($,Z),dg(t)))};B&&(le(n,re),dg(t)),WR(t.props)?Na(H,u):H()}else{t.el=e.el,t.targetStart=e.targetStart;const ie=t.anchor=e.anchor,re=t.target=e.target,le=t.targetAnchor=e.targetAnchor,H=Tf(e.props),$=H?n:re,Z=H?ie:le;if(h==="svg"||bS(re)?h="svg":(h==="mathml"||xS(re))&&(h="mathml"),ee?(C(e.dynamicChildren,ee,$,s,u,h,o),H0(e,t,!0)):p||k(e,t,$,Z,s,u,h,o,!1),B)H?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):Kp(t,n,ie,y,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const ae=t.target=mb(t.props,R);ae&&Kp(t,ae,null,y,0)}else H&&Kp(t,re,le,y,1);dg(t)}},remove(e,t,n,{um:r,o:{remove:s}},u){const{shapeFlag:h,children:o,anchor:p,targetStart:y,targetAnchor:b,target:k,props:C}=e;if(k&&(s(y),s(b)),u&&s(p),h&16){const I=u||!Tf(C);for(let R=0;R<o.length;R++){const L=o[R];r(L,t,n,I,!!L.dynamicChildren)}}},move:Kp,hydrate:ZR};function Kp(e,t,n,{o:{insert:r},m:s},u=2){u===0&&r(e.targetAnchor,t,n);const{el:h,anchor:o,shapeFlag:p,children:y,props:b}=e,k=u===2;if(k&&r(h,t,n),(!k||Tf(b))&&p&16)for(let C=0;C<y.length;C++)s(y[C],t,n,2);k&&r(o,t,n)}function ZR(e,t,n,r,s,u,{o:{nextSibling:h,parentNode:o,querySelector:p,insert:y,createText:b}},k){const C=t.target=mb(t.props,p);if(C){const I=C._lpa||C.firstChild;if(t.shapeFlag&16)if(Tf(t.props))t.anchor=k(h(e),t,o(e),n,r,s,u),t.targetStart=I,t.targetAnchor=I&&h(I);else{t.anchor=h(e);let R=I;for(;R;){if(R&&R.nodeType===8){if(R.data==="teleport start anchor")t.targetStart=R;else if(R.data==="teleport anchor"){t.targetAnchor=R,C._lpa=t.targetAnchor&&h(t.targetAnchor);break}}R=h(R)}t.targetAnchor||xT(C,t,b,y),k(I&&h(I),t,C,n,r,s,u)}dg(t)}return t.anchor&&h(t.anchor)}const F0=YR;function dg(e){const t=e.ctx;if(t&&t.ut){let n=e.targetStart;for(;n&&n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}function xT(e,t,n,r){const s=t.targetStart=n(""),u=t.targetAnchor=n("");return s[_T]=u,e&&(r(s,e),r(u,e)),u}const ec=Symbol("_leaveCb"),Xp=Symbol("_enterCb");function wT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ni(()=>{e.isMounted=!0}),_r(()=>{e.isUnmounting=!0}),e}const xs=[Function,Array],ST={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:xs,onEnter:xs,onAfterEnter:xs,onEnterCancelled:xs,onBeforeLeave:xs,onLeave:xs,onAfterLeave:xs,onLeaveCancelled:xs,onBeforeAppear:xs,onAppear:xs,onAfterAppear:xs,onAppearCancelled:xs},kT=e=>{const t=e.subTree;return t.component?kT(t.component):t},KR={name:"BaseTransition",props:ST,setup(e,{slots:t}){const n=Es(),r=wT();return()=>{const s=t.default&&z0(t.default(),!0);if(!s||!s.length)return;const u=CT(s),h=an(e),{mode:o}=h;if(r.isLeaving)return v_(u);const p=wS(u);if(!p)return v_(u);let y=Nf(p,h,r,n,C=>y=C);p.type!==Pa&&du(p,y);const b=n.subTree,k=b&&wS(b);if(k&&k.type!==Pa&&!Kc(p,k)&&kT(n).type!==Pa){const C=Nf(k,h,r,n);if(du(k,C),o==="out-in"&&p.type!==Pa)return r.isLeaving=!0,C.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete C.afterLeave},v_(u);o==="in-out"&&p.type!==Pa&&(C.delayLeave=(I,R,L)=>{const O=TT(r,k);O[String(k.key)]=k,I[ec]=()=>{R(),I[ec]=void 0,delete y.delayedLeave},y.delayedLeave=L})}return u}}};function CT(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Pa){t=n;break}}return t}const XR=KR;function TT(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Nf(e,t,n,r,s){const{appear:u,mode:h,persisted:o=!1,onBeforeEnter:p,onEnter:y,onAfterEnter:b,onEnterCancelled:k,onBeforeLeave:C,onLeave:I,onAfterLeave:R,onLeaveCancelled:L,onBeforeAppear:O,onAppear:B,onAfterAppear:q,onAppearCancelled:J}=t,ee=String(e.key),ie=TT(n,e),re=($,Z)=>{$&&to($,r,9,Z)},le=($,Z)=>{const ae=Z[1];re($,Z),_n($)?$.every(te=>te.length<=1)&&ae():$.length<=1&&ae()},H={mode:h,persisted:o,beforeEnter($){let Z=p;if(!n.isMounted)if(u)Z=O||p;else return;$[ec]&&$[ec](!0);const ae=ie[ee];ae&&Kc(e,ae)&&ae.el[ec]&&ae.el[ec](),re(Z,[$])},enter($){let Z=y,ae=b,te=k;if(!n.isMounted)if(u)Z=B||y,ae=q||b,te=J||k;else return;let be=!1;const me=$[Xp]=Pe=>{be||(be=!0,Pe?re(te,[$]):re(ae,[$]),H.delayedLeave&&H.delayedLeave(),$[Xp]=void 0)};Z?le(Z,[$,me]):me()},leave($,Z){const ae=String(e.key);if($[Xp]&&$[Xp](!0),n.isUnmounting)return Z();re(C,[$]);let te=!1;const be=$[ec]=me=>{te||(te=!0,Z(),me?re(L,[$]):re(R,[$]),$[ec]=void 0,ie[ae]===e&&delete ie[ae])};ie[ae]=e,I?le(I,[$,be]):be()},clone($){const Z=Nf($,t,n,r,s);return s&&s(Z),Z}};return H}function v_(e){if(dv(e))return e=gl(e),e.children=null,e}function wS(e){if(!dv(e))return bT(e.type)&&e.children?CT(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&Cn(n.default))return n.default()}}function du(e,t){e.shapeFlag&6&&e.component?(e.transition=t,du(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function z0(e,t=!1,n){let r=[],s=0;for(let u=0;u<e.length;u++){let h=e[u];const o=n==null?h.key:String(n)+String(h.key!=null?h.key:u);h.type===Gt?(h.patchFlag&128&&s++,r=r.concat(z0(h.children,t,o))):(t||h.type!==Pa)&&r.push(o!=null?gl(h,{key:o}):h)}if(s>1)for(let u=0;u<r.length;u++)r[u].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function cr(e,t){return Cn(e)?Si({name:e.name},t,{setup:e}):e}function AT(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function pb(e,t,n,r,s=!1){if(_n(e)){e.forEach((R,L)=>pb(R,t&&(_n(t)?t[L]:t),n,r,s));return}if(Af(r)&&!s)return;const u=r.shapeFlag&4?pv(r.component):r.el,h=s?null:u,{i:o,r:p}=e,y=t&&t.r,b=o.refs===Er?o.refs={}:o.refs,k=o.setupState,C=an(k),I=k===Er?()=>!1:R=>dr(C,R);if(y!=null&&y!==p&&(ti(y)?(b[y]=null,I(y)&&(k[y]=null)):fr(y)&&(y.value=null)),Cn(p))hm(p,o,12,[h,b]);else{const R=ti(p),L=fr(p);if(R||L){const O=()=>{if(e.f){const B=R?I(p)?k[p]:b[p]:p.value;s?_n(B)&&w0(B,u):_n(B)?B.includes(u)||B.push(u):R?(b[p]=[u],I(p)&&(k[p]=b[p])):(p.value=[u],e.k&&(b[e.k]=p.value))}else R?(b[p]=h,I(p)&&(k[p]=h)):L&&(p.value=h,e.k&&(b[e.k]=h))};h?(O.id=-1,Na(O,n)):O()}}}const Af=e=>!!e.type.__asyncLoader,dv=e=>e.type.__isKeepAlive;function ET(e,t){IT(e,"a",t)}function B0(e,t){IT(e,"da",t)}function IT(e,t,n=Zi){const r=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(hv(t,r,n),n){let s=n.parent;for(;s&&s.parent;)dv(s.parent.vnode)&&JR(r,t,n,s),s=s.parent}}function JR(e,t,n,r){const s=hv(t,e,r,!0);DT(()=>{w0(r[t],s)},n)}function hv(e,t,n=Zi,r=!1){if(n){const s=n[e]||(n[e]=[]),u=t.__weh||(t.__weh=(...h)=>{mc();const o=mm(n),p=to(t,n,e,h);return o(),pc(),p});return r?s.unshift(u):s.push(u),u}}const _l=e=>(t,n=Zi)=>{(!mv||e==="sp")&&hv(e,(...r)=>t(...r),n)},V0=_l("bm"),Ni=_l("m"),PT=_l("bu"),N0=_l("u"),_r=_l("bum"),DT=_l("um"),QR=_l("sp"),eO=_l("rtg"),tO=_l("rtc");function nO(e,t=Zi){hv("ec",e,t)}const $0="components",rO="directives";function kn(e,t){return U0($0,e,!0,t)||e}const iO=Symbol.for("v-ndc");function aO(e){return ti(e)&&U0($0,e,!1)||e}function ao(e){return U0(rO,e)}function U0(e,t,n=!0,r=!1){const s=Ua||Zi;if(s){const u=s.type;if(e===$0){const o=jO(u,!1);if(o&&(o===t||o===is(t)||o===Ro(is(t))))return u}const h=SS(s[e]||u[e],t)||SS(s.appContext[e],t);return!h&&r?u:h}}function SS(e,t){return e&&(e[t]||e[is(t)]||e[Ro(is(t))])}function hg(e,t,n,r){let s;const u=n,h=_n(e);if(h||ti(e)){const o=h&&Id(e);let p=!1;o&&(p=!Ts(e),e=lv(e)),s=new Array(e.length);for(let y=0,b=e.length;y<b;y++)s[y]=t(p?ca(e[y]):e[y],y,void 0,u)}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,u)}else if(Fr(e))if(e[Symbol.iterator])s=Array.from(e,(o,p)=>t(o,p,void 0,u));else{const o=Object.keys(e);s=new Array(o.length);for(let p=0,y=o.length;p<y;p++){const b=o[p];s[p]=t(e[b],b,p,u)}}else s=[];return s}const gb=e=>e?ZT(e)?pv(e):gb(e.parent):null,Ef=Si(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>gb(e.parent),$root:e=>gb(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>q0(e),$forceUpdate:e=>e.f||(e.f=()=>{O0(e.update)}),$nextTick:e=>e.n||(e.n=Jn.bind(e.proxy)),$watch:e=>TO.bind(e)}),y_=(e,t)=>e!==Er&&!e.__isScriptSetup&&dr(e,t),sO={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:u,accessCache:h,type:o,appContext:p}=e;let y;if(t[0]!=="$"){const I=h[t];if(I!==void 0)switch(I){case 1:return r[t];case 2:return s[t];case 4:return n[t];case 3:return u[t]}else{if(y_(r,t))return h[t]=1,r[t];if(s!==Er&&dr(s,t))return h[t]=2,s[t];if((y=e.propsOptions[0])&&dr(y,t))return h[t]=3,u[t];if(n!==Er&&dr(n,t))return h[t]=4,n[t];vb&&(h[t]=0)}}const b=Ef[t];let k,C;if(b)return t==="$attrs"&&fa(e.attrs,"get",""),b(e);if((k=o.__cssModules)&&(k=k[t]))return k;if(n!==Er&&dr(n,t))return h[t]=4,n[t];if(C=p.config.globalProperties,dr(C,t))return C[t]},set({_:e},t,n){const{data:r,setupState:s,ctx:u}=e;return y_(s,t)?(s[t]=n,!0):r!==Er&&dr(r,t)?(r[t]=n,!0):dr(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(u[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:u}},h){let o;return!!n[h]||e!==Er&&dr(e,h)||y_(t,h)||(o=u[0])&&dr(o,h)||dr(r,h)||dr(Ef,h)||dr(s.config.globalProperties,h)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:dr(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function kS(e){return _n(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let vb=!0;function oO(e){const t=q0(e),n=e.proxy,r=e.ctx;vb=!1,t.beforeCreate&&CS(t.beforeCreate,e,"bc");const{data:s,computed:u,methods:h,watch:o,provide:p,inject:y,created:b,beforeMount:k,mounted:C,beforeUpdate:I,updated:R,activated:L,deactivated:O,beforeDestroy:B,beforeUnmount:q,destroyed:J,unmounted:ee,render:ie,renderTracked:re,renderTriggered:le,errorCaptured:H,serverPrefetch:$,expose:Z,inheritAttrs:ae,components:te,directives:be,filters:me}=t;if(y&&lO(y,r,null),h)for(const Ue in h){const Fe=h[Ue];Cn(Fe)&&(r[Ue]=Fe.bind(n))}if(s){const Ue=s.call(n,n);Fr(Ue)&&(e.data=Ii(Ue))}if(vb=!0,u)for(const Ue in u){const Fe=u[Ue],Ce=Cn(Fe)?Fe.bind(n,n):Cn(Fe.get)?Fe.get.bind(n,n):Qs,Ve=!Cn(Fe)&&Cn(Fe.set)?Fe.set.bind(n):Qs,$e=Y({get:Ce,set:Ve});Object.defineProperty(r,Ue,{enumerable:!0,configurable:!0,get:()=>$e.value,set:qe=>$e.value=qe})}if(o)for(const Ue in o)MT(o[Ue],r,n,Ue);if(p){const Ue=Cn(p)?p.call(n):p;Reflect.ownKeys(Ue).forEach(Fe=>{xn(Fe,Ue[Fe])})}b&&CS(b,e,"c");function Ae(Ue,Fe){_n(Fe)?Fe.forEach(Ce=>Ue(Ce.bind(n))):Fe&&Ue(Fe.bind(n))}if(Ae(V0,k),Ae(Ni,C),Ae(PT,I),Ae(N0,R),Ae(ET,L),Ae(B0,O),Ae(nO,H),Ae(tO,re),Ae(eO,le),Ae(_r,q),Ae(DT,ee),Ae(QR,$),_n(Z))if(Z.length){const Ue=e.exposed||(e.exposed={});Z.forEach(Fe=>{Object.defineProperty(Ue,Fe,{get:()=>n[Fe],set:Ce=>n[Fe]=Ce})})}else e.exposed||(e.exposed={});ie&&e.render===Qs&&(e.render=ie),ae!=null&&(e.inheritAttrs=ae),te&&(e.components=te),be&&(e.directives=be),$&&AT(e)}function lO(e,t,n=Qs){_n(e)&&(e=yb(e));for(const r in e){const s=e[r];let u;Fr(s)?"default"in s?u=_t(s.from||r,s.default,!0):u=_t(s.from||r):u=_t(s),fr(u)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:h=>u.value=h}):t[r]=u}}function CS(e,t,n){to(_n(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function MT(e,t,n,r){let s=r.includes(".")?jT(n,r):()=>n[r];if(ti(e)){const u=t[e];Cn(u)&&ct(s,u)}else if(Cn(e))ct(s,e.bind(n));else if(Fr(e))if(_n(e))e.forEach(u=>MT(u,t,n,r));else{const u=Cn(e.handler)?e.handler.bind(n):t[e.handler];Cn(u)&&ct(s,u,e)}}function q0(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:s,optionsCache:u,config:{optionMergeStrategies:h}}=e.appContext,o=u.get(t);let p;return o?p=o:!s.length&&!n&&!r?p=t:(p={},s.length&&s.forEach(y=>Dg(p,y,h,!0)),Dg(p,t,h)),Fr(t)&&u.set(t,p),p}function Dg(e,t,n,r=!1){const{mixins:s,extends:u}=t;u&&Dg(e,u,n,!0),s&&s.forEach(h=>Dg(e,h,n,!0));for(const h in t)if(!(r&&h==="expose")){const o=cO[h]||n&&n[h];e[h]=o?o(e[h],t[h]):t[h]}return e}const cO={data:TS,props:AS,emits:AS,methods:wf,computed:wf,beforeCreate:Aa,created:Aa,beforeMount:Aa,mounted:Aa,beforeUpdate:Aa,updated:Aa,beforeDestroy:Aa,beforeUnmount:Aa,destroyed:Aa,unmounted:Aa,activated:Aa,deactivated:Aa,errorCaptured:Aa,serverPrefetch:Aa,components:wf,directives:wf,watch:dO,provide:TS,inject:uO};function TS(e,t){return t?e?function(){return Si(Cn(e)?e.call(this,this):e,Cn(t)?t.call(this,this):t)}:t:e}function uO(e,t){return wf(yb(e),yb(t))}function yb(e){if(_n(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Aa(e,t){return e?[...new Set([].concat(e,t))]:t}function wf(e,t){return e?Si(Object.create(null),e,t):t}function AS(e,t){return e?_n(e)&&_n(t)?[...new Set([...e,...t])]:Si(Object.create(null),kS(e),kS(t??{})):t}function dO(e,t){if(!e)return t;if(!t)return e;const n=Si(Object.create(null),e);for(const r in t)n[r]=Aa(e[r],t[r]);return n}function LT(){return{app:null,config:{isNativeTag:nR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hO=0;function fO(e,t){return function(r,s=null){Cn(r)||(r=Si({},r)),s!=null&&!Fr(s)&&(s=null);const u=LT(),h=new WeakSet,o=[];let p=!1;const y=u.app={_uid:hO++,_component:r,_props:s,_container:null,_context:u,_instance:null,version:GO,get config(){return u.config},set config(b){},use(b,...k){return h.has(b)||(b&&Cn(b.install)?(h.add(b),b.install(y,...k)):Cn(b)&&(h.add(b),b(y,...k))),y},mixin(b){return u.mixins.includes(b)||u.mixins.push(b),y},component(b,k){return k?(u.components[b]=k,y):u.components[b]},directive(b,k){return k?(u.directives[b]=k,y):u.directives[b]},mount(b,k,C){if(!p){const I=y._ceVNode||T(r,s);return I.appContext=u,C===!0?C="svg":C===!1&&(C=void 0),k&&t?t(I,b):e(I,b,C),p=!0,y._container=b,b.__vue_app__=y,pv(I.component)}},onUnmount(b){o.push(b)},unmount(){p&&(to(o,y._instance,16),e(null,y._container),delete y._container.__vue_app__)},provide(b,k){return u.provides[b]=k,y},runWithContext(b){const k=Dd;Dd=y;try{return b()}finally{Dd=k}}};return y}}let Dd=null;function xn(e,t){if(Zi){let n=Zi.provides;const r=Zi.parent&&Zi.parent.provides;r===n&&(n=Zi.provides=Object.create(r)),n[e]=t}}function _t(e,t,n=!1){const r=Zi||Ua;if(r||Dd){const s=Dd?Dd._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&e in s)return s[e];if(arguments.length>1)return n&&Cn(t)?t.call(r&&r.proxy):t}}const RT={},OT=()=>Object.create(RT),FT=e=>Object.getPrototypeOf(e)===RT;function mO(e,t,n,r=!1){const s={},u=OT();e.propsDefaults=Object.create(null),zT(e,t,s,u);for(const h in e.propsOptions[0])h in s||(s[h]=void 0);n?e.props=r?s:uT(s):e.type.props?e.props=s:e.props=u,e.attrs=u}function pO(e,t,n,r){const{props:s,attrs:u,vnode:{patchFlag:h}}=e,o=an(s),[p]=e.propsOptions;let y=!1;if((r||h>0)&&!(h&16)){if(h&8){const b=e.vnode.dynamicProps;for(let k=0;k<b.length;k++){let C=b[k];if(fv(e.emitsOptions,C))continue;const I=t[C];if(p)if(dr(u,C))I!==u[C]&&(u[C]=I,y=!0);else{const R=is(C);s[R]=_b(p,o,R,I,e,!1)}else I!==u[C]&&(u[C]=I,y=!0)}}}else{zT(e,t,s,u)&&(y=!0);let b;for(const k in o)(!t||!dr(t,k)&&((b=pu(k))===k||!dr(t,b)))&&(p?n&&(n[k]!==void 0||n[b]!==void 0)&&(s[k]=_b(p,o,k,void 0,e,!0)):delete s[k]);if(u!==o)for(const k in u)(!t||!dr(t,k))&&(delete u[k],y=!0)}y&&fl(e.attrs,"set","")}function zT(e,t,n,r){const[s,u]=e.propsOptions;let h=!1,o;if(t)for(let p in t){if(kf(p))continue;const y=t[p];let b;s&&dr(s,b=is(p))?!u||!u.includes(b)?n[b]=y:(o||(o={}))[b]=y:fv(e.emitsOptions,p)||(!(p in r)||y!==r[p])&&(r[p]=y,h=!0)}if(u){const p=an(n),y=o||Er;for(let b=0;b<u.length;b++){const k=u[b];n[k]=_b(s,p,k,y[k],e,!dr(y,k))}}return h}function _b(e,t,n,r,s,u){const h=e[n];if(h!=null){const o=dr(h,"default");if(o&&r===void 0){const p=h.default;if(h.type!==Function&&!h.skipFactory&&Cn(p)){const{propsDefaults:y}=s;if(n in y)r=y[n];else{const b=mm(s);r=y[n]=p.call(null,t),b()}}else r=p;s.ce&&s.ce._setProp(n,r)}h[0]&&(u&&!o?r=!1:h[1]&&(r===""||r===pu(n))&&(r=!0))}return r}const gO=new WeakMap;function BT(e,t,n=!1){const r=n?gO:t.propsCache,s=r.get(e);if(s)return s;const u=e.props,h={},o=[];let p=!1;if(!Cn(e)){const b=k=>{p=!0;const[C,I]=BT(k,t,!0);Si(h,C),I&&o.push(...I)};!n&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}if(!u&&!p)return Fr(e)&&r.set(e,Ad),Ad;if(_n(u))for(let b=0;b<u.length;b++){const k=is(u[b]);ES(k)&&(h[k]=Er)}else if(u)for(const b in u){const k=is(b);if(ES(k)){const C=u[b],I=h[k]=_n(C)||Cn(C)?{type:C}:Si({},C),R=I.type;let L=!1,O=!0;if(_n(R))for(let B=0;B<R.length;++B){const q=R[B],J=Cn(q)&&q.name;if(J==="Boolean"){L=!0;break}else J==="String"&&(O=!1)}else L=Cn(R)&&R.name==="Boolean";I[0]=L,I[1]=O,(L||dr(I,"default"))&&o.push(k)}}const y=[h,o];return Fr(e)&&r.set(e,y),y}function ES(e){return e[0]!=="$"&&!kf(e)}const VT=e=>e[0]==="_"||e==="$stable",j0=e=>_n(e)?e.map(To):[To(e)],vO=(e,t,n)=>{if(t._n)return t;const r=Ie((...s)=>j0(t(...s)),n);return r._c=!1,r},NT=(e,t,n)=>{const r=e._ctx;for(const s in e){if(VT(s))continue;const u=e[s];if(Cn(u))t[s]=vO(s,u,r);else if(u!=null){const h=j0(u);t[s]=()=>h}}},$T=(e,t)=>{const n=j0(t);e.slots.default=()=>n},UT=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},yO=(e,t,n)=>{const r=e.slots=OT();if(e.vnode.shapeFlag&32){const s=t._;s?(UT(r,t,n),n&&H2(r,"_",s,!0)):NT(t,r)}else t&&$T(e,t)},_O=(e,t,n)=>{const{vnode:r,slots:s}=e;let u=!0,h=Er;if(r.shapeFlag&32){const o=t._;o?n&&o===1?u=!1:UT(s,t,n):(u=!t.$stable,NT(t,s)),h=t}else t&&($T(e,t),h={default:1});if(u)for(const o in s)!VT(o)&&h[o]==null&&delete s[o]},Na=LO;function bO(e){return xO(e)}function xO(e,t){const n=G2();n.__VUE__=!0;const{insert:r,remove:s,patchProp:u,createElement:h,createText:o,createComment:p,setText:y,setElementText:b,parentNode:k,nextSibling:C,setScopeId:I=Qs,insertStaticContent:R}=e,L=(se,fe,Me,Xe=null,Ze=null,tt=null,Tt=void 0,ke=null,yt=!!fe.dynamicChildren)=>{if(se===fe)return;se&&!Kc(se,fe)&&(Xe=Ne(se),qe(se,Ze,tt,!0),se=null),fe.patchFlag===-2&&(yt=!1,fe.dynamicChildren=null);const{type:nt,ref:St,shapeFlag:ft}=fe;switch(nt){case fm:O(se,fe,Me,Xe);break;case Pa:B(se,fe,Me,Xe);break;case x_:se==null&&q(fe,Me,Xe,Tt);break;case Gt:te(se,fe,Me,Xe,Ze,tt,Tt,ke,yt);break;default:ft&1?ie(se,fe,Me,Xe,Ze,tt,Tt,ke,yt):ft&6?be(se,fe,Me,Xe,Ze,tt,Tt,ke,yt):(ft&64||ft&128)&&nt.process(se,fe,Me,Xe,Ze,tt,Tt,ke,yt,Qe)}St!=null&&Ze&&pb(St,se&&se.ref,tt,fe||se,!fe)},O=(se,fe,Me,Xe)=>{if(se==null)r(fe.el=o(fe.children),Me,Xe);else{const Ze=fe.el=se.el;fe.children!==se.children&&y(Ze,fe.children)}},B=(se,fe,Me,Xe)=>{se==null?r(fe.el=p(fe.children||""),Me,Xe):fe.el=se.el},q=(se,fe,Me,Xe)=>{[se.el,se.anchor]=R(se.children,fe,Me,Xe,se.el,se.anchor)},J=({el:se,anchor:fe},Me,Xe)=>{let Ze;for(;se&&se!==fe;)Ze=C(se),r(se,Me,Xe),se=Ze;r(fe,Me,Xe)},ee=({el:se,anchor:fe})=>{let Me;for(;se&&se!==fe;)Me=C(se),s(se),se=Me;s(fe)},ie=(se,fe,Me,Xe,Ze,tt,Tt,ke,yt)=>{fe.type==="svg"?Tt="svg":fe.type==="math"&&(Tt="mathml"),se==null?re(fe,Me,Xe,Ze,tt,Tt,ke,yt):$(se,fe,Ze,tt,Tt,ke,yt)},re=(se,fe,Me,Xe,Ze,tt,Tt,ke)=>{let yt,nt;const{props:St,shapeFlag:ft,transition:Pt,dirs:sn}=se;if(yt=se.el=h(se.type,tt,St&&St.is,St),ft&8?b(yt,se.children):ft&16&&H(se.children,yt,null,Xe,Ze,__(se,tt),Tt,ke),sn&&$c(se,null,Xe,"created"),le(yt,se,se.scopeId,Tt,Xe),St){for(const Ln in St)Ln!=="value"&&!kf(Ln)&&u(yt,Ln,null,St[Ln],tt,Xe);"value"in St&&u(yt,"value",null,St.value,tt),(nt=St.onVnodeBeforeMount)&&So(nt,Xe,se)}sn&&$c(se,null,Xe,"beforeMount");const cn=wO(Ze,Pt);cn&&Pt.beforeEnter(yt),r(yt,fe,Me),((nt=St&&St.onVnodeMounted)||cn||sn)&&Na(()=>{nt&&So(nt,Xe,se),cn&&Pt.enter(yt),sn&&$c(se,null,Xe,"mounted")},Ze)},le=(se,fe,Me,Xe,Ze)=>{if(Me&&I(se,Me),Xe)for(let tt=0;tt<Xe.length;tt++)I(se,Xe[tt]);if(Ze){let tt=Ze.subTree;if(fe===tt||GT(tt.type)&&(tt.ssContent===fe||tt.ssFallback===fe)){const Tt=Ze.vnode;le(se,Tt,Tt.scopeId,Tt.slotScopeIds,Ze.parent)}}},H=(se,fe,Me,Xe,Ze,tt,Tt,ke,yt=0)=>{for(let nt=yt;nt<se.length;nt++){const St=se[nt]=ke?tc(se[nt]):To(se[nt]);L(null,St,fe,Me,Xe,Ze,tt,Tt,ke)}},$=(se,fe,Me,Xe,Ze,tt,Tt)=>{const ke=fe.el=se.el;let{patchFlag:yt,dynamicChildren:nt,dirs:St}=fe;yt|=se.patchFlag&16;const ft=se.props||Er,Pt=fe.props||Er;let sn;if(Me&&Uc(Me,!1),(sn=Pt.onVnodeBeforeUpdate)&&So(sn,Me,fe,se),St&&$c(fe,se,Me,"beforeUpdate"),Me&&Uc(Me,!0),(ft.innerHTML&&Pt.innerHTML==null||ft.textContent&&Pt.textContent==null)&&b(ke,""),nt?Z(se.dynamicChildren,nt,ke,Me,Xe,__(fe,Ze),tt):Tt||Fe(se,fe,ke,null,Me,Xe,__(fe,Ze),tt,!1),yt>0){if(yt&16)ae(ke,ft,Pt,Me,Ze);else if(yt&2&&ft.class!==Pt.class&&u(ke,"class",null,Pt.class,Ze),yt&4&&u(ke,"style",ft.style,Pt.style,Ze),yt&8){const cn=fe.dynamicProps;for(let Ln=0;Ln<cn.length;Ln++){const wn=cn[Ln],er=ft[wn],jn=Pt[wn];(jn!==er||wn==="value")&&u(ke,wn,er,jn,Ze,Me)}}yt&1&&se.children!==fe.children&&b(ke,fe.children)}else!Tt&&nt==null&&ae(ke,ft,Pt,Me,Ze);((sn=Pt.onVnodeUpdated)||St)&&Na(()=>{sn&&So(sn,Me,fe,se),St&&$c(fe,se,Me,"updated")},Xe)},Z=(se,fe,Me,Xe,Ze,tt,Tt)=>{for(let ke=0;ke<fe.length;ke++){const yt=se[ke],nt=fe[ke],St=yt.el&&(yt.type===Gt||!Kc(yt,nt)||yt.shapeFlag&70)?k(yt.el):Me;L(yt,nt,St,null,Xe,Ze,tt,Tt,!0)}},ae=(se,fe,Me,Xe,Ze)=>{if(fe!==Me){if(fe!==Er)for(const tt in fe)!kf(tt)&&!(tt in Me)&&u(se,tt,fe[tt],null,Ze,Xe);for(const tt in Me){if(kf(tt))continue;const Tt=Me[tt],ke=fe[tt];Tt!==ke&&tt!=="value"&&u(se,tt,ke,Tt,Ze,Xe)}"value"in Me&&u(se,"value",fe.value,Me.value,Ze)}},te=(se,fe,Me,Xe,Ze,tt,Tt,ke,yt)=>{const nt=fe.el=se?se.el:o(""),St=fe.anchor=se?se.anchor:o("");let{patchFlag:ft,dynamicChildren:Pt,slotScopeIds:sn}=fe;sn&&(ke=ke?ke.concat(sn):sn),se==null?(r(nt,Me,Xe),r(St,Me,Xe),H(fe.children||[],Me,St,Ze,tt,Tt,ke,yt)):ft>0&&ft&64&&Pt&&se.dynamicChildren?(Z(se.dynamicChildren,Pt,Me,Ze,tt,Tt,ke),(fe.key!=null||Ze&&fe===Ze.subTree)&&H0(se,fe,!0)):Fe(se,fe,Me,St,Ze,tt,Tt,ke,yt)},be=(se,fe,Me,Xe,Ze,tt,Tt,ke,yt)=>{fe.slotScopeIds=ke,se==null?fe.shapeFlag&512?Ze.ctx.activate(fe,Me,Xe,Tt,yt):me(fe,Me,Xe,Ze,tt,Tt,yt):Pe(se,fe,yt)},me=(se,fe,Me,Xe,Ze,tt,Tt)=>{const ke=se.component=VO(se,Xe,Ze);if(dv(se)&&(ke.ctx.renderer=Qe),NO(ke,!1,Tt),ke.asyncDep){if(Ze&&Ze.registerDep(ke,Ae,Tt),!se.el){const yt=ke.subTree=T(Pa);B(null,yt,fe,Me)}}else Ae(ke,se,fe,Me,Ze,tt,Tt)},Pe=(se,fe,Me)=>{const Xe=fe.component=se.component;if(DO(se,fe,Me))if(Xe.asyncDep&&!Xe.asyncResolved){Ue(Xe,fe,Me);return}else Xe.next=fe,Xe.update();else fe.el=se.el,Xe.vnode=fe},Ae=(se,fe,Me,Xe,Ze,tt,Tt)=>{const ke=()=>{if(se.isMounted){let{next:ft,bu:Pt,u:sn,parent:cn,vnode:Ln}=se;{const sr=qT(se);if(sr){ft&&(ft.el=Ln.el,Ue(se,ft,Tt)),sr.asyncDep.then(()=>{se.isUnmounted||ke()});return}}let wn=ft,er;Uc(se,!1),ft?(ft.el=Ln.el,Ue(se,ft,Tt)):ft=Ln,Pt&&ug(Pt),(er=ft.props&&ft.props.onVnodeBeforeUpdate)&&So(er,cn,ft,Ln),Uc(se,!0);const jn=b_(se),mt=se.subTree;se.subTree=jn,L(mt,jn,k(mt.el),Ne(mt),se,Ze,tt),ft.el=jn.el,wn===null&&MO(se,jn.el),sn&&Na(sn,Ze),(er=ft.props&&ft.props.onVnodeUpdated)&&Na(()=>So(er,cn,ft,Ln),Ze)}else{let ft;const{el:Pt,props:sn}=fe,{bm:cn,m:Ln,parent:wn,root:er,type:jn}=se,mt=Af(fe);if(Uc(se,!1),cn&&ug(cn),!mt&&(ft=sn&&sn.onVnodeBeforeMount)&&So(ft,wn,fe),Uc(se,!0),Pt&&It){const sr=()=>{se.subTree=b_(se),It(Pt,se.subTree,se,Ze,null)};mt&&jn.__asyncHydrate?jn.__asyncHydrate(Pt,se,sr):sr()}else{er.ce&&er.ce._injectChildStyle(jn);const sr=se.subTree=b_(se);L(null,sr,Me,Xe,se,Ze,tt),fe.el=sr.el}if(Ln&&Na(Ln,Ze),!mt&&(ft=sn&&sn.onVnodeMounted)){const sr=fe;Na(()=>So(ft,wn,sr),Ze)}(fe.shapeFlag&256||wn&&Af(wn.vnode)&&wn.vnode.shapeFlag&256)&&se.a&&Na(se.a,Ze),se.isMounted=!0,fe=Me=Xe=null}};se.scope.on();const yt=se.effect=new X2(ke);se.scope.off();const nt=se.update=yt.run.bind(yt),St=se.job=yt.runIfDirty.bind(yt);St.i=se,St.id=se.uid,yt.scheduler=()=>O0(St),Uc(se,!0),nt()},Ue=(se,fe,Me)=>{fe.component=se;const Xe=se.vnode.props;se.vnode=fe,se.next=null,pO(se,fe.props,Xe,Me),_O(se,fe.children,Me),mc(),_S(se),pc()},Fe=(se,fe,Me,Xe,Ze,tt,Tt,ke,yt=!1)=>{const nt=se&&se.children,St=se?se.shapeFlag:0,ft=fe.children,{patchFlag:Pt,shapeFlag:sn}=fe;if(Pt>0){if(Pt&128){Ve(nt,ft,Me,Xe,Ze,tt,Tt,ke,yt);return}else if(Pt&256){Ce(nt,ft,Me,Xe,Ze,tt,Tt,ke,yt);return}}sn&8?(St&16&&vt(nt,Ze,tt),ft!==nt&&b(Me,ft)):St&16?sn&16?Ve(nt,ft,Me,Xe,Ze,tt,Tt,ke,yt):vt(nt,Ze,tt,!0):(St&8&&b(Me,""),sn&16&&H(ft,Me,Xe,Ze,tt,Tt,ke,yt))},Ce=(se,fe,Me,Xe,Ze,tt,Tt,ke,yt)=>{se=se||Ad,fe=fe||Ad;const nt=se.length,St=fe.length,ft=Math.min(nt,St);let Pt;for(Pt=0;Pt<ft;Pt++){const sn=fe[Pt]=yt?tc(fe[Pt]):To(fe[Pt]);L(se[Pt],sn,Me,null,Ze,tt,Tt,ke,yt)}nt>St?vt(se,Ze,tt,!0,!1,ft):H(fe,Me,Xe,Ze,tt,Tt,ke,yt,ft)},Ve=(se,fe,Me,Xe,Ze,tt,Tt,ke,yt)=>{let nt=0;const St=fe.length;let ft=se.length-1,Pt=St-1;for(;nt<=ft&&nt<=Pt;){const sn=se[nt],cn=fe[nt]=yt?tc(fe[nt]):To(fe[nt]);if(Kc(sn,cn))L(sn,cn,Me,null,Ze,tt,Tt,ke,yt);else break;nt++}for(;nt<=ft&&nt<=Pt;){const sn=se[ft],cn=fe[Pt]=yt?tc(fe[Pt]):To(fe[Pt]);if(Kc(sn,cn))L(sn,cn,Me,null,Ze,tt,Tt,ke,yt);else break;ft--,Pt--}if(nt>ft){if(nt<=Pt){const sn=Pt+1,cn=sn<St?fe[sn].el:Xe;for(;nt<=Pt;)L(null,fe[nt]=yt?tc(fe[nt]):To(fe[nt]),Me,cn,Ze,tt,Tt,ke,yt),nt++}}else if(nt>Pt)for(;nt<=ft;)qe(se[nt],Ze,tt,!0),nt++;else{const sn=nt,cn=nt,Ln=new Map;for(nt=cn;nt<=Pt;nt++){const mr=fe[nt]=yt?tc(fe[nt]):To(fe[nt]);mr.key!=null&&Ln.set(mr.key,nt)}let wn,er=0;const jn=Pt-cn+1;let mt=!1,sr=0;const Tn=new Array(jn);for(nt=0;nt<jn;nt++)Tn[nt]=0;for(nt=sn;nt<=ft;nt++){const mr=se[nt];if(er>=jn){qe(mr,Ze,tt,!0);continue}let At;if(mr.key!=null)At=Ln.get(mr.key);else for(wn=cn;wn<=Pt;wn++)if(Tn[wn-cn]===0&&Kc(mr,fe[wn])){At=wn;break}At===void 0?qe(mr,Ze,tt,!0):(Tn[At-cn]=nt+1,At>=sr?sr=At:mt=!0,L(mr,fe[At],Me,null,Ze,tt,Tt,ke,yt),er++)}const ga=mt?SO(Tn):Ad;for(wn=ga.length-1,nt=jn-1;nt>=0;nt--){const mr=cn+nt,At=fe[mr],yn=mr+1<St?fe[mr+1].el:Xe;Tn[nt]===0?L(null,At,Me,yn,Ze,tt,Tt,ke,yt):mt&&(wn<0||nt!==ga[wn]?$e(At,Me,yn,2):wn--)}}},$e=(se,fe,Me,Xe,Ze=null)=>{const{el:tt,type:Tt,transition:ke,children:yt,shapeFlag:nt}=se;if(nt&6){$e(se.component.subTree,fe,Me,Xe);return}if(nt&128){se.suspense.move(fe,Me,Xe);return}if(nt&64){Tt.move(se,fe,Me,Qe);return}if(Tt===Gt){r(tt,fe,Me);for(let ft=0;ft<yt.length;ft++)$e(yt[ft],fe,Me,Xe);r(se.anchor,fe,Me);return}if(Tt===x_){J(se,fe,Me);return}if(Xe!==2&&nt&1&&ke)if(Xe===0)ke.beforeEnter(tt),r(tt,fe,Me),Na(()=>ke.enter(tt),Ze);else{const{leave:ft,delayLeave:Pt,afterLeave:sn}=ke,cn=()=>r(tt,fe,Me),Ln=()=>{ft(tt,()=>{cn(),sn&&sn()})};Pt?Pt(tt,cn,Ln):Ln()}else r(tt,fe,Me)},qe=(se,fe,Me,Xe=!1,Ze=!1)=>{const{type:tt,props:Tt,ref:ke,children:yt,dynamicChildren:nt,shapeFlag:St,patchFlag:ft,dirs:Pt,cacheIndex:sn}=se;if(ft===-2&&(Ze=!1),ke!=null&&pb(ke,null,Me,se,!0),sn!=null&&(fe.renderCache[sn]=void 0),St&256){fe.ctx.deactivate(se);return}const cn=St&1&&Pt,Ln=!Af(se);let wn;if(Ln&&(wn=Tt&&Tt.onVnodeBeforeUnmount)&&So(wn,fe,se),St&6)$t(se.component,Me,Xe);else{if(St&128){se.suspense.unmount(Me,Xe);return}cn&&$c(se,null,fe,"beforeUnmount"),St&64?se.type.remove(se,fe,Me,Qe,Xe):nt&&!nt.hasOnce&&(tt!==Gt||ft>0&&ft&64)?vt(nt,fe,Me,!1,!0):(tt===Gt&&ft&384||!Ze&&St&16)&&vt(yt,fe,Me),Xe&&gt(se)}(Ln&&(wn=Tt&&Tt.onVnodeUnmounted)||cn)&&Na(()=>{wn&&So(wn,fe,se),cn&&$c(se,null,fe,"unmounted")},Me)},gt=se=>{const{type:fe,el:Me,anchor:Xe,transition:Ze}=se;if(fe===Gt){Ct(Me,Xe);return}if(fe===x_){ee(se);return}const tt=()=>{s(Me),Ze&&!Ze.persisted&&Ze.afterLeave&&Ze.afterLeave()};if(se.shapeFlag&1&&Ze&&!Ze.persisted){const{leave:Tt,delayLeave:ke}=Ze,yt=()=>Tt(Me,tt);ke?ke(se.el,tt,yt):yt()}else tt()},Ct=(se,fe)=>{let Me;for(;se!==fe;)Me=C(se),s(se),se=Me;s(fe)},$t=(se,fe,Me)=>{const{bum:Xe,scope:Ze,job:tt,subTree:Tt,um:ke,m:yt,a:nt}=se;IS(yt),IS(nt),Xe&&ug(Xe),Ze.stop(),tt&&(tt.flags|=8,qe(Tt,se,fe,Me)),ke&&Na(ke,fe),Na(()=>{se.isUnmounted=!0},fe),fe&&fe.pendingBranch&&!fe.isUnmounted&&se.asyncDep&&!se.asyncResolved&&se.suspenseId===fe.pendingId&&(fe.deps--,fe.deps===0&&fe.resolve())},vt=(se,fe,Me,Xe=!1,Ze=!1,tt=0)=>{for(let Tt=tt;Tt<se.length;Tt++)qe(se[Tt],fe,Me,Xe,Ze)},Ne=se=>{if(se.shapeFlag&6)return Ne(se.component.subTree);if(se.shapeFlag&128)return se.suspense.next();const fe=C(se.anchor||se.el),Me=fe&&fe[_T];return Me?C(Me):fe};let et=!1;const je=(se,fe,Me)=>{se==null?fe._vnode&&qe(fe._vnode,null,null,!0):L(fe._vnode||null,se,fe,null,null,null,Me),fe._vnode=se,et||(et=!0,_S(),gT(),et=!1)},Qe={p:L,um:qe,m:$e,r:gt,mt:me,mc:H,pc:Fe,pbc:Z,n:Ne,o:e};let Je,It;return{render:je,hydrate:Je,createApp:fO(je,Je)}}function __({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Uc({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function wO(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function H0(e,t,n=!1){const r=e.children,s=t.children;if(_n(r)&&_n(s))for(let u=0;u<r.length;u++){const h=r[u];let o=s[u];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=s[u]=tc(s[u]),o.el=h.el),!n&&o.patchFlag!==-2&&H0(h,o)),o.type===fm&&(o.el=h.el)}}function SO(e){const t=e.slice(),n=[0];let r,s,u,h,o;const p=e.length;for(r=0;r<p;r++){const y=e[r];if(y!==0){if(s=n[n.length-1],e[s]<y){t[r]=s,n.push(r);continue}for(u=0,h=n.length-1;u<h;)o=u+h>>1,e[n[o]]<y?u=o+1:h=o;y<e[n[u]]&&(u>0&&(t[r]=n[u-1]),n[u]=r)}}for(u=n.length,h=n[u-1];u-- >0;)n[u]=h,h=t[h];return n}function qT(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:qT(t)}function IS(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const kO=Symbol.for("v-scx"),CO=()=>_t(kO);function bi(e,t){return G0(e,null,t)}function ct(e,t,n){return G0(e,t,n)}function G0(e,t,n=Er){const{immediate:r,deep:s,flush:u,once:h}=n,o=Si({},n);let p;if(mv)if(u==="sync"){const C=CO();p=C.__watcherHandles||(C.__watcherHandles=[])}else if(!t||r)o.once=!0;else return{stop:Qs,resume:Qs,pause:Qs};const y=Zi;o.call=(C,I,R)=>to(C,y,I,R);let b=!1;u==="post"?o.scheduler=C=>{Na(C,y&&y.suspense)}:u!=="sync"&&(b=!0,o.scheduler=(C,I)=>{I?C():O0(C)}),o.augmentJob=C=>{t&&(C.flags|=4),b&&(C.flags|=2,y&&(C.id=y.uid,C.i=y))};const k=qR(e,t,o);return p&&p.push(k),k}function TO(e,t,n){const r=this.proxy,s=ti(e)?e.includes(".")?jT(r,e):()=>r[e]:e.bind(r,r);let u;Cn(t)?u=t:(u=t.handler,n=t);const h=mm(this),o=G0(s,u.bind(r),n);return h(),o}function jT(e,t){const n=t.split(".");return()=>{let r=e;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}const AO=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${is(t)}Modifiers`]||e[`${pu(t)}Modifiers`];function EO(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Er;let s=n;const u=t.startsWith("update:"),h=u&&AO(r,t.slice(7));h&&(h.trim&&(s=n.map(b=>ti(b)?b.trim():b)),h.number&&(s=n.map(ub)));let o,p=r[o=h_(t)]||r[o=h_(is(t))];!p&&u&&(p=r[o=h_(pu(t))]),p&&to(p,e,6,s);const y=r[o+"Once"];if(y){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,to(y,e,6,s)}}function HT(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(s!==void 0)return s;const u=e.emits;let h={},o=!1;if(!Cn(e)){const p=y=>{const b=HT(y,t,!0);b&&(o=!0,Si(h,b))};!n&&t.mixins.length&&t.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!u&&!o?(Fr(e)&&r.set(e,null),null):(_n(u)?u.forEach(p=>h[p]=null):Si(h,u),Fr(e)&&r.set(e,h),h)}function fv(e,t){return!e||!iv(t)?!1:(t=t.slice(2).replace(/Once$/,""),dr(e,t[0].toLowerCase()+t.slice(1))||dr(e,pu(t))||dr(e,t))}function b_(e){const{type:t,vnode:n,proxy:r,withProxy:s,propsOptions:[u],slots:h,attrs:o,emit:p,render:y,renderCache:b,props:k,data:C,setupState:I,ctx:R,inheritAttrs:L}=e,O=Pg(e);let B,q;try{if(n.shapeFlag&4){const ee=s||r,ie=ee;B=To(y.call(ie,ee,b,k,I,C,R)),q=o}else{const ee=t;B=To(ee.length>1?ee(k,{attrs:o,slots:h,emit:p}):ee(k,null)),q=t.props?o:IO(o)}}catch(ee){If.length=0,uv(ee,e,1),B=T(Pa)}let J=B;if(q&&L!==!1){const ee=Object.keys(q),{shapeFlag:ie}=J;ee.length&&ie&7&&(u&&ee.some(x0)&&(q=PO(q,u)),J=gl(J,q,!1,!0))}return n.dirs&&(J=gl(J,null,!1,!0),J.dirs=J.dirs?J.dirs.concat(n.dirs):n.dirs),n.transition&&du(J,n.transition),B=J,Pg(O),B}const IO=e=>{let t;for(const n in e)(n==="class"||n==="style"||iv(n))&&((t||(t={}))[n]=e[n]);return t},PO=(e,t)=>{const n={};for(const r in e)(!x0(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function DO(e,t,n){const{props:r,children:s,component:u}=e,{props:h,children:o,patchFlag:p}=t,y=u.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return r?PS(r,h,y):!!h;if(p&8){const b=t.dynamicProps;for(let k=0;k<b.length;k++){const C=b[k];if(h[C]!==r[C]&&!fv(y,C))return!0}}}else return(s||o)&&(!o||!o.$stable)?!0:r===h?!1:r?h?PS(r,h,y):!0:!!h;return!1}function PS(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let s=0;s<r.length;s++){const u=r[s];if(t[u]!==e[u]&&!fv(n,u))return!0}return!1}function MO({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const GT=e=>e.__isSuspense;function LO(e,t){t&&t.pendingBranch?_n(e)?t.effects.push(...e):t.effects.push(e):GR(e)}const Gt=Symbol.for("v-fgt"),fm=Symbol.for("v-txt"),Pa=Symbol.for("v-cmt"),x_=Symbol.for("v-stc"),If=[];let ts=null;function mn(e=!1){If.push(ts=e?null:[])}function RO(){If.pop(),ts=If[If.length-1]||null}let $f=1;function DS(e){$f+=e,e<0&&ts&&(ts.hasOnce=!0)}function WT(e){return e.dynamicChildren=$f>0?ts||Ad:null,RO(),$f>0&&ts&&ts.push(e),e}function ns(e,t,n,r,s,u){return WT(Yn(e,t,n,r,s,u,!0))}function Nn(e,t,n,r,s){return WT(T(e,t,n,r,s,!0))}function Mg(e){return e?e.__v_isVNode===!0:!1}function Kc(e,t){return e.type===t.type&&e.key===t.key}const YT=({key:e})=>e??null,fg=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ti(e)||fr(e)||Cn(e)?{i:Ua,r:e,k:t,f:!!n}:e:null);function Yn(e,t=null,n=null,r=0,s=null,u=e===Gt?0:1,h=!1,o=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&YT(t),ref:t&&fg(t),scopeId:yT,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ua};return o?(W0(p,n),u&128&&e.normalize(p)):n&&(p.shapeFlag|=ti(n)?8:16),$f>0&&!h&&ts&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&ts.push(p),p}const T=OO;function OO(e,t=null,n=null,r=0,s=null,u=!1){if((!e||e===iO)&&(e=Pa),Mg(e)){const o=gl(e,t,!0);return n&&W0(o,n),$f>0&&!u&&ts&&(o.shapeFlag&6?ts[ts.indexOf(e)]=o:ts.push(o)),o.patchFlag=-2,o}if(HO(e)&&(e=e.__vccOpts),t){t=FO(t);let{class:o,style:p}=t;o&&!ti(o)&&(t.class=Va(o)),Fr(p)&&(M0(p)&&!_n(p)&&(p=Si({},p)),t.style=k0(p))}const h=ti(e)?1:GT(e)?128:bT(e)?64:Fr(e)?4:Cn(e)?2:0;return Yn(e,t,n,r,s,h,u,!0)}function FO(e){return e?M0(e)||FT(e)?Si({},e):e:null}function gl(e,t,n=!1,r=!1){const{props:s,ref:u,patchFlag:h,children:o,transition:p}=e,y=t?lt(s||{},t):s,b={__v_isVNode:!0,__v_skip:!0,type:e.type,props:y,key:y&&YT(y),ref:t&&t.ref?n&&u?_n(u)?u.concat(fg(t)):[u,fg(t)]:fg(t):u,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Gt?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:p,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&gl(e.ssContent),ssFallback:e.ssFallback&&gl(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return p&&r&&du(b,p.clone(b)),b}function zt(e=" ",t=0){return T(fm,null,e,t)}function Zn(e="",t=!1){return t?(mn(),Nn(Pa,null,e)):T(Pa,null,e)}function To(e){return e==null||typeof e=="boolean"?T(Pa):_n(e)?T(Gt,null,e.slice()):typeof e=="object"?tc(e):T(fm,null,String(e))}function tc(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:gl(e)}function W0(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(_n(t))n=16;else if(typeof t=="object")if(r&65){const s=t.default;s&&(s._c&&(s._d=!1),W0(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!FT(t)?t._ctx=Ua:s===3&&Ua&&(Ua.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Cn(t)?(t={default:t,_ctx:Ua},n=32):(t=String(t),r&64?(n=16,t=[zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function lt(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const s in r)if(s==="class")t.class!==r.class&&(t.class=Va([t.class,r.class]));else if(s==="style")t.style=k0([t.style,r.style]);else if(iv(s)){const u=t[s],h=r[s];h&&u!==h&&!(_n(u)&&u.includes(h))&&(t[s]=u?[].concat(u,h):h)}else s!==""&&(t[s]=r[s])}return t}function So(e,t,n,r=null){to(e,t,7,[n,r])}const zO=LT();let BO=0;function VO(e,t,n){const r=e.type,s=(t?t.appContext:e.appContext)||zO,u={uid:BO++,vnode:e,type:r,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new K2(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:BT(r,s),emitsOptions:HT(r,s),emit:null,emitted:null,propsDefaults:Er,inheritAttrs:r.inheritAttrs,ctx:Er,data:Er,props:Er,attrs:Er,slots:Er,refs:Er,setupState:Er,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=t?t.root:u,u.emit=EO.bind(null,u),e.ce&&e.ce(u),u}let Zi=null;const Es=()=>Zi||Ua;let Lg,bb;{const e=G2(),t=(n,r)=>{let s;return(s=e[n])||(s=e[n]=[]),s.push(r),u=>{s.length>1?s.forEach(h=>h(u)):s[0](u)}};Lg=t("__VUE_INSTANCE_SETTERS__",n=>Zi=n),bb=t("__VUE_SSR_SETTERS__",n=>mv=n)}const mm=e=>{const t=Zi;return Lg(e),e.scope.on(),()=>{e.scope.off(),Lg(t)}},MS=()=>{Zi&&Zi.scope.off(),Lg(null)};function ZT(e){return e.vnode.shapeFlag&4}let mv=!1;function NO(e,t=!1,n=!1){t&&bb(t);const{props:r,children:s}=e.vnode,u=ZT(e);mO(e,r,u,t),yO(e,s,n);const h=u?$O(e,t):void 0;return t&&bb(!1),h}function $O(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,sO);const{setup:r}=n;if(r){const s=e.setupContext=r.length>1?qO(e):null,u=mm(e);mc();const h=hm(r,e,0,[e.props,s]);if(pc(),u(),U2(h)){if(Af(e)||AT(e),h.then(MS,MS),t)return h.then(o=>{LS(e,o,t)}).catch(o=>{uv(o,e,0)});e.asyncDep=h}else LS(e,h,t)}else KT(e,t)}function LS(e,t,n){Cn(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Fr(t)&&(e.setupState=hT(t)),KT(e,n)}let RS;function KT(e,t,n){const r=e.type;if(!e.render){if(!t&&RS&&!r.render){const s=r.template||q0(e).template;if(s){const{isCustomElement:u,compilerOptions:h}=e.appContext.config,{delimiters:o,compilerOptions:p}=r,y=Si(Si({isCustomElement:u,delimiters:o},h),p);r.render=RS(s,y)}}e.render=r.render||Qs}{const s=mm(e);mc();try{oO(e)}finally{pc(),s()}}}const UO={get(e,t){return fa(e,"get",""),e[t]}};function qO(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,UO),slots:e.slots,emit:e.emit,expose:t}}function pv(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(hT(Eg(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ef)return Ef[n](e)},has(t,n){return n in t||n in Ef}})):e.proxy}function jO(e,t=!0){return Cn(e)?e.displayName||e.name:e.name||t&&e.__name}function HO(e){return Cn(e)&&"__vccOpts"in e}const Y=(e,t)=>$R(e,t,mv);function ei(e,t,n){const r=arguments.length;return r===2?Fr(t)&&!_n(t)?Mg(t)?T(e,null,[t]):T(e,t):T(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Mg(n)&&(n=[n]),T(e,t,n))}const GO="3.5.4",WO=Qs;/**
* @vue/runtime-dom v3.5.4
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xb;const OS=typeof window<"u"&&window.trustedTypes;if(OS)try{xb=OS.createPolicy("vue",{createHTML:e=>e})}catch{}const XT=xb?e=>xb.createHTML(e):e=>e,YO="http://www.w3.org/2000/svg",ZO="http://www.w3.org/1998/Math/MathML",ol=typeof document<"u"?document:null,FS=ol&&ol.createElement("template"),KO={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const s=t==="svg"?ol.createElementNS(YO,e):t==="mathml"?ol.createElementNS(ZO,e):n?ol.createElement(e,{is:n}):ol.createElement(e);return e==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:e=>ol.createTextNode(e),createComment:e=>ol.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ol.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,s,u){const h=n?n.previousSibling:t.lastChild;if(s&&(s===u||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===u||!(s=s.nextSibling)););else{FS.innerHTML=XT(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const o=FS.content;if(r==="svg"||r==="mathml"){const p=o.firstChild;for(;p.firstChild;)o.appendChild(p.firstChild);o.removeChild(p)}t.insertBefore(o,n)}return[h?h.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Zl="transition",pf="animation",Fd=Symbol("_vtc"),JT={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},QT=Si({},ST,JT),XO=e=>(e.displayName="Transition",e.props=QT,e),cc=XO((e,{slots:t})=>ei(XR,eA(e),t)),qc=(e,t=[])=>{_n(e)?e.forEach(n=>n(...t)):e&&e(...t)},zS=e=>e?_n(e)?e.some(t=>t.length>1):e.length>1:!1;function eA(e){const t={};for(const te in e)te in JT||(t[te]=e[te]);if(e.css===!1)return t;const{name:n="v",type:r,duration:s,enterFromClass:u=`${n}-enter-from`,enterActiveClass:h=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:p=u,appearActiveClass:y=h,appearToClass:b=o,leaveFromClass:k=`${n}-leave-from`,leaveActiveClass:C=`${n}-leave-active`,leaveToClass:I=`${n}-leave-to`}=e,R=JO(s),L=R&&R[0],O=R&&R[1],{onBeforeEnter:B,onEnter:q,onEnterCancelled:J,onLeave:ee,onLeaveCancelled:ie,onBeforeAppear:re=B,onAppear:le=q,onAppearCancelled:H=J}=t,$=(te,be,me)=>{Jl(te,be?b:o),Jl(te,be?y:h),me&&me()},Z=(te,be)=>{te._isLeaving=!1,Jl(te,k),Jl(te,I),Jl(te,C),be&&be()},ae=te=>(be,me)=>{const Pe=te?le:q,Ae=()=>$(be,te,me);qc(Pe,[be,Ae]),BS(()=>{Jl(be,te?p:u),sl(be,te?b:o),zS(Pe)||VS(be,r,L,Ae)})};return Si(t,{onBeforeEnter(te){qc(B,[te]),sl(te,u),sl(te,h)},onBeforeAppear(te){qc(re,[te]),sl(te,p),sl(te,y)},onEnter:ae(!1),onAppear:ae(!0),onLeave(te,be){te._isLeaving=!0;const me=()=>Z(te,be);sl(te,k),sl(te,C),nA(),BS(()=>{te._isLeaving&&(Jl(te,k),sl(te,I),zS(ee)||VS(te,r,O,me))}),qc(ee,[te,me])},onEnterCancelled(te){$(te,!1),qc(J,[te])},onAppearCancelled(te){$(te,!0),qc(H,[te])},onLeaveCancelled(te){Z(te),qc(ie,[te])}})}function JO(e){if(e==null)return null;if(Fr(e))return[w_(e.enter),w_(e.leave)];{const t=w_(e);return[t,t]}}function w_(e){return oR(e)}function sl(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Fd]||(e[Fd]=new Set)).add(t)}function Jl(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[Fd];n&&(n.delete(t),n.size||(e[Fd]=void 0))}function BS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let QO=0;function VS(e,t,n,r){const s=e._endId=++QO,u=()=>{s===e._endId&&r()};if(n)return setTimeout(u,n);const{type:h,timeout:o,propCount:p}=tA(e,t);if(!h)return r();const y=h+"end";let b=0;const k=()=>{e.removeEventListener(y,C),u()},C=I=>{I.target===e&&++b>=p&&k()};setTimeout(()=>{b<p&&k()},o+1),e.addEventListener(y,C)}function tA(e,t){const n=window.getComputedStyle(e),r=R=>(n[R]||"").split(", "),s=r(`${Zl}Delay`),u=r(`${Zl}Duration`),h=NS(s,u),o=r(`${pf}Delay`),p=r(`${pf}Duration`),y=NS(o,p);let b=null,k=0,C=0;t===Zl?h>0&&(b=Zl,k=h,C=u.length):t===pf?y>0&&(b=pf,k=y,C=p.length):(k=Math.max(h,y),b=k>0?h>y?Zl:pf:null,C=b?b===Zl?u.length:p.length:0);const I=b===Zl&&/\b(transform|all)(,|$)/.test(r(`${Zl}Property`).toString());return{type:b,timeout:k,propCount:C,hasTransform:I}}function NS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>$S(n)+$S(e[r])))}function $S(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function nA(){return document.body.offsetHeight}function eF(e,t,n){const r=e[Fd];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Rg=Symbol("_vod"),rA=Symbol("_vsh"),bl={beforeMount(e,{value:t},{transition:n}){e[Rg]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):gf(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),gf(e,!0),r.enter(e)):r.leave(e,()=>{gf(e,!1)}):gf(e,t))},beforeUnmount(e,{value:t}){gf(e,t)}};function gf(e,t){e.style.display=t?e[Rg]:"none",e[rA]=!t}const tF=Symbol(""),nF=/(^|;)\s*display\s*:/;function rF(e,t,n){const r=e.style,s=ti(n);let u=!1;if(n&&!s){if(t)if(ti(t))for(const h of t.split(";")){const o=h.slice(0,h.indexOf(":")).trim();n[o]==null&&mg(r,o,"")}else for(const h in t)n[h]==null&&mg(r,h,"");for(const h in n)h==="display"&&(u=!0),mg(r,h,n[h])}else if(s){if(t!==n){const h=r[tF];h&&(n+=";"+h),r.cssText=n,u=nF.test(n)}}else t&&e.removeAttribute("style");Rg in e&&(e[Rg]=u?r.display:"",e[rA]&&(r.display="none"))}const US=/\s*!important$/;function mg(e,t,n){if(_n(n))n.forEach(r=>mg(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=iF(e,t);US.test(n)?e.setProperty(pu(r),n.replace(US,""),"important"):e[r]=n}}const qS=["Webkit","Moz","ms"],S_={};function iF(e,t){const n=S_[t];if(n)return n;let r=is(t);if(r!=="filter"&&r in e)return S_[t]=r;r=Ro(r);for(let s=0;s<qS.length;s++){const u=qS[s]+r;if(u in e)return S_[t]=u}return t}const jS="http://www.w3.org/1999/xlink";function HS(e,t,n,r,s,u=fR(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(jS,t.slice(6,t.length)):e.setAttributeNS(jS,t,n):n==null||u&&!W2(n)?e.removeAttribute(t):e.setAttribute(t,u?"":fc(n)?String(n):n)}function aF(e,t,n,r){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?XT(n):n);return}const s=e.tagName;if(t==="value"&&s!=="PROGRESS"&&!s.includes("-")){const h=s==="OPTION"?e.getAttribute("value")||"":e.value,o=n==null?e.type==="checkbox"?"on":"":String(n);(h!==o||!("_value"in e))&&(e.value=o),n==null&&e.removeAttribute(t),e._value=n;return}let u=!1;if(n===""||n==null){const h=typeof e[t];h==="boolean"?n=W2(n):n==null&&h==="string"?(n="",u=!0):h==="number"&&(n=0,u=!0)}try{e[t]=n}catch{}u&&e.removeAttribute(t)}function xd(e,t,n,r){e.addEventListener(t,n,r)}function sF(e,t,n,r){e.removeEventListener(t,n,r)}const GS=Symbol("_vei");function oF(e,t,n,r,s=null){const u=e[GS]||(e[GS]={}),h=u[t];if(r&&h)h.value=r;else{const[o,p]=lF(t);if(r){const y=u[t]=dF(r,s);xd(e,o,y,p)}else h&&(sF(e,o,h,p),u[t]=void 0)}}const WS=/(?:Once|Passive|Capture)$/;function lF(e){let t;if(WS.test(e)){t={};let r;for(;r=e.match(WS);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):pu(e.slice(2)),t]}let k_=0;const cF=Promise.resolve(),uF=()=>k_||(cF.then(()=>k_=0),k_=Date.now());function dF(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;to(hF(r,n.value),t,5,[r])};return n.value=e,n.attached=uF(),n}function hF(e,t){if(_n(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>s=>!s._stopped&&r&&r(s))}else return t}const YS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,fF=(e,t,n,r,s,u)=>{const h=s==="svg";t==="class"?eF(e,r,h):t==="style"?rF(e,n,r):iv(t)?x0(t)||oF(e,t,n,r,u):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):mF(e,t,r,h))?(aF(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&HS(e,t,r,h,u,t!=="value")):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),HS(e,t,r,h))};function mF(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&YS(t)&&Cn(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const s=e.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return YS(t)&&ti(n)?!1:!!(t in e||e._isVueCE&&(/[A-Z]/.test(t)||!ti(n)))}const iA=new WeakMap,aA=new WeakMap,Og=Symbol("_moveCb"),ZS=Symbol("_enterCb"),pF=e=>(delete e.props.mode,e),gF=pF({name:"TransitionGroup",props:Si({},QT,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Es(),r=wT();let s,u;return N0(()=>{if(!s.length)return;const h=e.moveClass||`${e.name||"v"}-move`;if(!bF(s[0].el,n.vnode.el,h))return;s.forEach(vF),s.forEach(yF);const o=s.filter(_F);nA(),o.forEach(p=>{const y=p.el,b=y.style;sl(y,h),b.transform=b.webkitTransform=b.transitionDuration="";const k=y[Og]=C=>{C&&C.target!==y||(!C||/transform$/.test(C.propertyName))&&(y.removeEventListener("transitionend",k),y[Og]=null,Jl(y,h))};y.addEventListener("transitionend",k)})}),()=>{const h=an(e),o=eA(h);let p=h.tag||Gt;if(s=[],u)for(let y=0;y<u.length;y++){const b=u[y];b.el&&b.el instanceof Element&&(s.push(b),du(b,Nf(b,o,r,n)),iA.set(b,b.el.getBoundingClientRect()))}u=t.default?z0(t.default()):[];for(let y=0;y<u.length;y++){const b=u[y];b.key!=null&&du(b,Nf(b,o,r,n))}return T(p,null,u)}}}),Y0=gF;function vF(e){const t=e.el;t[Og]&&t[Og](),t[ZS]&&t[ZS]()}function yF(e){aA.set(e,e.el.getBoundingClientRect())}function _F(e){const t=iA.get(e),n=aA.get(e),r=t.left-n.left,s=t.top-n.top;if(r||s){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${r}px,${s}px)`,u.transitionDuration="0s",e}}function bF(e,t,n){const r=e.cloneNode(),s=e[Fd];s&&s.forEach(o=>{o.split(/\s+/).forEach(p=>p&&r.classList.remove(p))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const u=t.nodeType===1?t:t.parentNode;u.appendChild(r);const{hasTransform:h}=tA(r);return u.removeChild(r),h}const KS=e=>{const t=e.props["onUpdate:modelValue"]||!1;return _n(t)?n=>ug(t,n):t};function xF(e){e.target.composing=!0}function XS(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const C_=Symbol("_assign"),wF={created(e,{modifiers:{lazy:t,trim:n,number:r}},s){e[C_]=KS(s);const u=r||s.props&&s.props.type==="number";xd(e,t?"change":"input",h=>{if(h.target.composing)return;let o=e.value;n&&(o=o.trim()),u&&(o=ub(o)),e[C_](o)}),n&&xd(e,"change",()=>{e.value=e.value.trim()}),t||(xd(e,"compositionstart",xF),xd(e,"compositionend",XS),xd(e,"change",XS))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:s,number:u}},h){if(e[C_]=KS(h),e.composing)return;const o=(u||e.type==="number")&&!/^0\d/.test(e.value)?ub(e.value):e.value,p=t??"";o!==p&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||s&&e.value.trim()===p)||(e.value=p))}},SF=["ctrl","shift","alt","meta"],kF={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>SF.some(n=>e[`${n}Key`]&&!t.includes(n))},wb=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(s,...u)=>{for(let h=0;h<t.length;h++){const o=kF[t[h]];if(o&&o(s,t))return}return e(s,...u)})},CF=Si({patchProp:fF},KO);let JS;function TF(){return JS||(JS=bO(CF))}const AF=(...e)=>{const t=TF().createApp(...e),{mount:n}=t;return t.mount=r=>{const s=IF(r);if(!s)return;const u=t._component;!Cn(u)&&!u.render&&!u.template&&(u.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const h=n(s,!1,EF(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),h},t};function EF(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function IF(e){return ti(e)?document.querySelector(e):e}function qa(e,t){let n;function r(){n=ov(),n.run(()=>t.length?t(()=>{n==null||n.stop(),r()}):t())}ct(e,s=>{s&&!n?r():s||(n==null||n.stop(),n=void 0)},{immediate:!0}),pa(()=>{n==null||n.stop()})}const hr=typeof window<"u",Z0=hr&&"IntersectionObserver"in window,PF=hr&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function QS(e,t,n){DF(e,t),t.set(e,n)}function DF(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function MF(e,t,n){return e.set(sA(e,t),n),n}function jc(e,t){return e.get(sA(e,t))}function sA(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function oA(e,t,n){const r=t.length-1;if(r<0)return e===void 0?n:e;for(let s=0;s<r;s++){if(e==null)return n;e=e[t[s]]}return e==null||e[t[r]]===void 0?n:e[t[r]]}function xl(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(r=>xl(e[r],t[r]))}function hu(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),oA(e,t.split("."),n))}function Vi(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const s=t(e,n);return typeof s>"u"?n:s}if(typeof t=="string")return hu(e,t,n);if(Array.isArray(t))return oA(e,t,n);if(typeof t!="function")return n;const r=t(e,n);return typeof r>"u"?n:r}function Xs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,r)=>t+r)}function Ht(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(e==null||e===""))return isNaN(+e)?String(e):isFinite(+e)?`${Number(e)}${t}`:void 0}function lA(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function ek(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function K0(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const tk=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),nk=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function cA(e){return Object.keys(e)}function T_(e,t){return t.every(n=>e.hasOwnProperty(n))}function X0(e,t){const n={},r=new Set(Object.keys(e));for(const s of t)r.has(s)&&(n[s]=e[s]);return n}function Sb(e,t,n){const r=Object.create(null),s=Object.create(null);for(const u in e)t.some(h=>h instanceof RegExp?h.test(u):h===u)&&!(n!=null&&n.some(h=>h===u))?r[u]=e[u]:s[u]=e[u];return[r,s]}function Pr(e,t){const n={...e};return t.forEach(r=>delete n[r]),n}function uA(e,t){const n={};return t.forEach(r=>n[r]=e[r]),n}const dA=/^on[^a-z]/,gv=e=>dA.test(e),LF=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function pm(e){const[t,n]=Sb(e,[dA]),r=Pr(t,LF),[s,u]=Sb(n,["class","style","id",/^data-/]);return Object.assign(s,t),Object.assign(u,r),[s,u]}function Zr(e){return e==null?[]:Array.isArray(e)?e:[e]}function RF(e,t){let n=0;const r=function(){for(var s=arguments.length,u=new Array(s),h=0;h<s;h++)u[h]=arguments[h];clearTimeout(n),n=setTimeout(()=>e(...u),Ur(t))};return r.clear=()=>{clearTimeout(n)},r.immediate=e,r}function Ki(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function rk(e){const t=e.toString().trim();return t.includes(".")?t.length-t.indexOf(".")-1:0}function ik(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function ak(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function OF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let r=0;for(;r<e.length;)n.push(e.substr(r,t)),r+=t;return n}function FF(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Array.from({length:Math.ceil(e.length/t)},(n,r)=>e.slice(r*t,r*t+t))}function sk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let r=-1;for(;Math.abs(e)>=t&&r<n.length-1;)e/=t,++r;return`${e.toFixed(1)} ${n[r]}B`}function da(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r={};for(const s in e)r[s]=e[s];for(const s in t){const u=e[s],h=t[s];if(ek(u)&&ek(h)){r[s]=da(u,h,n);continue}if(n&&Array.isArray(u)&&Array.isArray(h)){r[s]=n(u,h);continue}r[s]=h}return r}function hA(e){return e.map(t=>t.type===Gt?hA(t.children):t).flat()}function au(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(au.cache.has(e))return au.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return au.cache.set(e,t),t}au.cache=new Map;function Cd(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>Cd(e,n)).flat(1);if(t.suspense)return Cd(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>Cd(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return Cd(e,t.component.subTree).flat(1)}return[]}var Jp=new WeakMap,hd=new WeakMap;class zF{constructor(t){QS(this,Jp,[]),QS(this,hd,0),this.size=t}push(t){jc(Jp,this)[jc(hd,this)]=t,MF(hd,this,(jc(hd,this)+1)%this.size)}values(){return jc(Jp,this).slice(jc(hd,this)).concat(jc(Jp,this).slice(0,jc(hd,this)))}}function J0(e){const t=Ii({}),n=Y(e);return bi(()=>{for(const r in n.value)t[r]=n.value[r]},{flush:"sync"}),qd(t)}function Fg(e,t){return e.includes(t)}function fA(e){return e[2].toLowerCase()+e.slice(3)}const Di=()=>[Function,Array];function ok(e,t){return t="on"+Ro(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Q0(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Array.isArray(e))for(const s of e)s(...n);else typeof e=="function"&&e(...n)}function Uf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(r=>`${r}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function mA(e,t,n){let r,s=e.indexOf(document.activeElement);const u=t==="next"?1:-1;do s+=u,r=e[s];while((!r||r.offsetParent==null||!((n==null?void 0:n(r))??!0))&&s<e.length&&s>=0);return r}function Pf(e,t){var r,s,u,h;const n=Uf(e);if(!t)(e===document.activeElement||!e.contains(document.activeElement))&&((r=n[0])==null||r.focus());else if(t==="first")(s=n[0])==null||s.focus();else if(t==="last")(u=n.at(-1))==null||u.focus();else if(typeof t=="number")(h=n[t])==null||h.focus();else{const o=mA(n,t);o?o.focus():Pf(e,t==="next"?"first":"last")}}function Qp(e){return e==null||typeof e=="string"&&e.trim()===""}function BF(){}function zd(e,t){if(!(hr&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function ex(e){return e.some(t=>Mg(t)?t.type===Pa?!1:t.type!==Gt||ex(t.children):!0)?e:null}function VF(e,t){if(!hr||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function NF(e,t){const n=e.clientX,r=e.clientY,s=t.getBoundingClientRect(),u=s.left,h=s.top,o=s.right,p=s.bottom;return n>=u&&n<=o&&r>=h&&r<=p}function zg(){const e=Rt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>K0(e.value)}),t}function kb(e){const t=e.key.length===1,n=!e.ctrlKey&&!e.metaKey&&!e.altKey;return t&&n}const pA=["top","bottom"],$F=["start","end","left","right"];function Cb(e,t){let[n,r]=e.split(" ");return r||(r=Fg(pA,n)?"start":Fg($F,n)?"top":"center"),{side:Tb(n,t),align:Tb(r,t)}}function Tb(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function A_(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function E_(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function lk(e){return{side:e.align,align:e.side}}function ck(e){return Fg(pA,e.side)?"y":"x"}class su{constructor(t){let{x:n,y:r,width:s,height:u}=t;this.x=n,this.y=r,this.width=s,this.height=u}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function uk(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function gA(e){return Array.isArray(e)?new su({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function tx(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),r=n.transform;if(r){let s,u,h,o,p;if(r.startsWith("matrix3d("))s=r.slice(9,-1).split(/, /),u=+s[0],h=+s[5],o=+s[12],p=+s[13];else if(r.startsWith("matrix("))s=r.slice(7,-1).split(/, /),u=+s[0],h=+s[3],o=+s[4],p=+s[5];else return new su(t);const y=n.transformOrigin,b=t.x-o-(1-u)*parseFloat(y),k=t.y-p-(1-h)*parseFloat(y.slice(y.indexOf(" ")+1)),C=u?t.width/u:e.offsetWidth+1,I=h?t.height/h:e.offsetHeight+1;return new su({x:b,y:k,width:C,height:I})}else return new su(t)}function Jc(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let r;try{r=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof r.finished>"u"&&(r.finished=new Promise(s=>{r.onfinish=()=>{s(r)}})),r}const pg=new WeakMap;function UF(e,t){Object.keys(t).forEach(n=>{if(gv(n)){const r=fA(n),s=pg.get(e);if(t[n]==null)s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))});else if(!s||![...s].some(u=>u[0]===r&&u[1]===t[n])){e.addEventListener(r,t[n]);const u=s||new Set;u.add([r,t[n]]),pg.has(e)||pg.set(e,u)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function qF(e,t){Object.keys(t).forEach(n=>{if(gv(n)){const r=fA(n),s=pg.get(e);s==null||s.forEach(u=>{const[h,o]=u;h===r&&(e.removeEventListener(r,o),s.delete(u))})}else e.removeAttribute(n)})}const fd=2.4,dk=.2126729,hk=.7151522,fk=.072175,jF=.55,HF=.58,GF=.57,WF=.62,eg=.03,mk=1.45,YF=5e-4,ZF=1.25,KF=1.25,pk=.078,gk=12.82051282051282,tg=.06,vk=.001;function yk(e,t){const n=(e.r/255)**fd,r=(e.g/255)**fd,s=(e.b/255)**fd,u=(t.r/255)**fd,h=(t.g/255)**fd,o=(t.b/255)**fd;let p=n*dk+r*hk+s*fk,y=u*dk+h*hk+o*fk;if(p<=eg&&(p+=(eg-p)**mk),y<=eg&&(y+=(eg-y)**mk),Math.abs(y-p)<YF)return 0;let b;if(y>p){const k=(y**jF-p**HF)*ZF;b=k<vk?0:k<pk?k-k*gk*tg:k-tg}else{const k=(y**WF-p**GF)*KF;b=k>-vk?0:k>-pk?k-k*gk*tg:k+tg}return b*100}function XF(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Bg=.20689655172413793,JF=e=>e>Bg**3?Math.cbrt(e):e/(3*Bg**2)+4/29,QF=e=>e>Bg?e**3:3*Bg**2*(e-4/29);function vA(e){const t=JF,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function yA(e){const t=QF,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const ez=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],tz=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,nz=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],rz=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function _A(e){const t=Array(3),n=tz,r=ez;for(let s=0;s<3;++s)t[s]=Math.round(Ki(n(r[s][0]*e[0]+r[s][1]*e[1]+r[s][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function nx(e){let{r:t,g:n,b:r}=e;const s=[0,0,0],u=rz,h=nz;t=u(t/255),n=u(n/255),r=u(r/255);for(let o=0;o<3;++o)s[o]=h[o][0]*t+h[o][1]*n+h[o][2]*r;return s}function Ab(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function iz(e){return Ab(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const _k=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,az={rgb:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),rgba:(e,t,n,r)=>({r:e,g:t,b:n,a:r}),hsl:(e,t,n,r)=>bk({h:e,s:t,l:n,a:r}),hsla:(e,t,n,r)=>bk({h:e,s:t,l:n,a:r}),hsv:(e,t,n,r)=>qf({h:e,s:t,v:n,a:r}),hsva:(e,t,n,r)=>qf({h:e,s:t,v:n,a:r})};function Eo(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&_k.test(e)){const{groups:t}=e.match(_k),{fn:n,values:r}=t,s=r.split(/,\s*/).map(u=>u.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(u)/100:parseFloat(u));return az[n](...s)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),oz(t)}else if(typeof e=="object"){if(T_(e,["r","g","b"]))return e;if(T_(e,["h","s","l"]))return qf(bA(e));if(T_(e,["h","s","v"]))return qf(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function qf(e){const{h:t,s:n,v:r,a:s}=e,u=o=>{const p=(o+t/60)%6;return r-r*n*Math.max(Math.min(p,4-p,1),0)},h=[u(5),u(3),u(1)].map(o=>Math.round(o*255));return{r:h[0],g:h[1],b:h[2],a:s}}function bk(e){return qf(bA(e))}function bA(e){const{h:t,s:n,l:r,a:s}=e,u=r+n*Math.min(r,1-r),h=u===0?0:2-2*r/u;return{h:t,s:h,v:u,a:s}}function ng(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function sz(e){let{r:t,g:n,b:r,a:s}=e;return`#${[ng(t),ng(n),ng(r),s!==void 0?ng(Math.round(s*255)):""].join("")}`}function oz(e){e=lz(e);let[t,n,r,s]=OF(e,2).map(u=>parseInt(u,16));return s=s===void 0?s:s/255,{r:t,g:n,b:r,a:s}}function lz(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=ik(ik(e,6),8,"F")),e}function cz(e,t){const n=vA(nx(e));return n[0]=n[0]+t*10,_A(yA(n))}function uz(e,t){const n=vA(nx(e));return n[0]=n[0]-t*10,_A(yA(n))}function dz(e){const t=Eo(e);return nx(t)[1]}function xA(e){const t=Math.abs(yk(Eo(0),Eo(e)));return Math.abs(yk(Eo(16777215),Eo(e)))>Math.min(t,50)?"#fff":"#000"}function We(e,t){return n=>Object.keys(e).reduce((r,s)=>{const h=typeof e[s]=="object"&&e[s]!=null&&!Array.isArray(e[s])?e[s]:{type:e[s]};return n&&s in n?r[s]={...h,default:n[s]}:r[s]=h,t&&!r[s].source&&(r[s].source=t),r},{})}const un=We({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component");function Kr(e,t){const n=Es();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Oo(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=Kr(e).type;return au((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}let wA=0,gg=new WeakMap;function Is(){const e=Kr("getUid");if(gg.has(e))return gg.get(e);{const t=wA++;return gg.set(e,t),t}}Is.reset=()=>{wA=0,gg=new WeakMap};function hz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kr("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const Bd=Symbol.for("vuetify:defaults");function fz(e){return dt(e)}function rx(){const e=_t(Bd);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function ma(e,t){const n=rx(),r=dt(e),s=Y(()=>{if(Ur(t==null?void 0:t.disabled))return n.value;const h=Ur(t==null?void 0:t.scoped),o=Ur(t==null?void 0:t.reset),p=Ur(t==null?void 0:t.root);if(r.value==null&&!(h||o||p))return n.value;let y=da(r.value,{prev:n.value});if(h)return y;if(o||p){const b=Number(o||1/0);for(let k=0;k<=b&&!(!y||!("prev"in y));k++)y=y.prev;return y&&typeof p=="string"&&p in y&&(y=da(da(y,{prev:y}),y[p])),y}return y.prev?da(y.prev,y):y});return xn(Bd,s),s}function mz(e,t){var n,r;return typeof((n=e.props)==null?void 0:n[t])<"u"||typeof((r=e.props)==null?void 0:r[au(t)])<"u"}function pz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:rx();const r=Kr("useDefaults");if(t=t??r.type.name??r.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const s=Y(()=>{var p;return(p=n.value)==null?void 0:p[e._as??t]}),u=new Proxy(e,{get(p,y){var k,C,I,R,L,O,B;const b=Reflect.get(p,y);return y==="class"||y==="style"?[(k=s.value)==null?void 0:k[y],b].filter(q=>q!=null):typeof y=="string"&&!mz(r.vnode,y)?((C=s.value)==null?void 0:C[y])!==void 0?(I=s.value)==null?void 0:I[y]:((L=(R=n.value)==null?void 0:R.global)==null?void 0:L[y])!==void 0?(B=(O=n.value)==null?void 0:O.global)==null?void 0:B[y]:b:b}}),h=Rt();bi(()=>{if(s.value){const p=Object.entries(s.value).filter(y=>{let[b]=y;return b.startsWith(b[0].toUpperCase())});h.value=p.length?Object.fromEntries(p):void 0}else h.value=void 0});function o(){const p=hz(Bd,r);xn(Bd,Y(()=>h.value?da((p==null?void 0:p.value)??{},h.value):p==null?void 0:p.value))}return{props:u,provideSubDefaults:o}}function jd(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=We(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(r){return X0(r,t)},e.props._as=String,e.setup=function(r,s){const u=rx();if(!u.value)return e._setup(r,s);const{props:h,provideSubDefaults:o}=pz(r,r._as??e.name,u),p=e._setup(h,s);return o(),p}}return e}function ht(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?jd:cr)(t)}function gz(e,t){return t.props=e,t}function Hd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ht()({name:n??Ro(is(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...un()},setup(r,s){let{slots:u}=s;return()=>{var h;return ei(r.tag,{class:[e,r.class],style:r.style},(h=u.default)==null?void 0:h.call(u))}}})}function SA(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const jf="cubic-bezier(0.4, 0, 0.2, 1)",vz="cubic-bezier(0.0, 0, 0.2, 1)",yz="cubic-bezier(0.4, 0, 1, 1)";function xk(e,t,n){return Object.keys(e).filter(r=>gv(r)&&r.endsWith(t)).reduce((r,s)=>(r[s.slice(0,-t.length)]=u=>e[s](u,n(u)),r),{})}function kA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?_z(e):ix(e))return e;e=e.parentElement}return document.scrollingElement}function Hf(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(ix(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function ix(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function _z(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function bz(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function kt(e){const t=Kr("useRender");t.render=e}function fn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k=>k,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:k=>k;const u=Kr("useProxiedModel"),h=dt(e[t]!==void 0?e[t]:n),o=au(t),y=Y(o!==t?()=>{var k,C,I,R;return e[t],!!(((k=u.vnode.props)!=null&&k.hasOwnProperty(t)||(C=u.vnode.props)!=null&&C.hasOwnProperty(o))&&((I=u.vnode.props)!=null&&I.hasOwnProperty(`onUpdate:${t}`)||(R=u.vnode.props)!=null&&R.hasOwnProperty(`onUpdate:${o}`)))}:()=>{var k,C;return e[t],!!((k=u.vnode.props)!=null&&k.hasOwnProperty(t)&&((C=u.vnode.props)!=null&&C.hasOwnProperty(`onUpdate:${t}`)))});qa(()=>!y.value,()=>{ct(()=>e[t],k=>{h.value=k})});const b=Y({get(){const k=e[t];return r(y.value?k:h.value)},set(k){const C=s(k),I=an(y.value?e[t]:h.value);I===C||r(I)===k||(h.value=C,u==null||u.emit(`update:${t}`,C))}});return Object.defineProperty(b,"externalValue",{get:()=>y.value?e[t]:h.value}),b}const xz={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},wk="$vuetify.",Sk=(e,t)=>e.replace(/\{(\d+)\}/g,(n,r)=>String(t[+r])),CA=(e,t,n)=>function(r){for(var s=arguments.length,u=new Array(s>1?s-1:0),h=1;h<s;h++)u[h-1]=arguments[h];if(!r.startsWith(wk))return Sk(r,u);const o=r.replace(wk,""),p=e.value&&n.value[e.value],y=t.value&&n.value[t.value];let b=hu(p,o,null);return b||(`${r}${e.value}`,b=hu(y,o,null)),b||(b=r),typeof b!="string"&&(b=r),Sk(b,u)};function TA(e,t){return(n,r)=>new Intl.NumberFormat([e.value,t.value],r).format(n)}function I_(e,t,n){const r=fn(e,t,e[t]??n.value);return r.value=e[t]??n.value,ct(n,s=>{e[t]==null&&(r.value=n.value)}),r}function AA(e){return t=>{const n=I_(t,"locale",e.current),r=I_(t,"fallback",e.fallback),s=I_(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:r,messages:s,t:CA(n,r,s),n:TA(n,r),provide:AA({current:n,fallback:r,messages:s})}}}function wz(e){const t=Rt((e==null?void 0:e.locale)??"en"),n=Rt((e==null?void 0:e.fallback)??"en"),r=dt({en:xz,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:r,t:CA(t,n,r),n:TA(t,n),provide:AA({current:t,fallback:n,messages:r})}}const Vg=Symbol.for("vuetify:locale");function Sz(e){return e.name!=null}function kz(e){const t=e!=null&&e.adapter&&Sz(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:wz(e),n=Tz(t,e);return{...t,...n}}function li(){const e=_t(Vg);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function Cz(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function Tz(e,t){const n=dt((t==null?void 0:t.rtl)??Cz()),r=Y(()=>n.value[e.current.value]??!1);return{isRtl:r,rtl:n,rtlClasses:Y(()=>`v-locale--is-${r.value?"rtl":"ltr"}`)}}function Wa(){const e=_t(Vg);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const vv={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function Az(e,t,n){const r=[];let s=[];const u=EA(e),h=IA(e),o=n??vv[t.slice(-2).toUpperCase()]??0,p=(u.getDay()-o+7)%7,y=(h.getDay()-o+7)%7;for(let b=0;b<p;b++){const k=new Date(u);k.setDate(k.getDate()-(p-b)),s.push(k)}for(let b=1;b<=h.getDate();b++){const k=new Date(e.getFullYear(),e.getMonth(),b);s.push(k),s.length===7&&(r.push(s),s=[])}for(let b=1;b<7-y;b++){const k=new Date(h);k.setDate(k.getDate()+b),s.push(k)}return s.length>0&&r.push(s),r}function Ez(e,t,n){const r=n??vv[t.slice(-2).toUpperCase()]??0,s=new Date(e);for(;s.getDay()!==r;)s.setDate(s.getDate()-1);return s}function Iz(e,t){const n=new Date(e),r=((vv[t.slice(-2).toUpperCase()]??0)+6)%7;for(;n.getDay()!==r;)n.setDate(n.getDate()+1);return n}function EA(e){return new Date(e.getFullYear(),e.getMonth(),1)}function IA(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function Pz(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const Dz=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function PA(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(Dz.test(e))return Pz(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const kk=new Date(2e3,0,2);function Mz(e,t){const n=t??vv[e.slice(-2).toUpperCase()]??0;return Xs(7).map(r=>{const s=new Date(kk);return s.setDate(kk.getDate()+n+r),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(s)})}function Lz(e,t,n,r){const s=PA(e)??new Date,u=r==null?void 0:r[t];if(typeof u=="function")return u(s,t,n);let h={};switch(t){case"fullDate":h={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":h={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const o=s.getDate(),p=new Intl.DateTimeFormat(n,{month:"long"}).format(s);return`${o} ${p}`;case"normalDateWithWeekday":h={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":h={month:"short",day:"numeric"};break;case"year":h={year:"numeric"};break;case"month":h={month:"long"};break;case"monthShort":h={month:"short"};break;case"monthAndYear":h={month:"long",year:"numeric"};break;case"monthAndDate":h={month:"long",day:"numeric"};break;case"weekday":h={weekday:"long"};break;case"weekdayShort":h={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(s.getDate());case"hours12h":h={hour:"numeric",hour12:!0};break;case"hours24h":h={hour:"numeric",hour12:!1};break;case"minutes":h={minute:"numeric"};break;case"seconds":h={second:"numeric"};break;case"fullTime":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":h={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":h={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":h={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":h={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:h=u??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,h).format(s)}function Rz(e,t){const n=e.toJsDate(t),r=n.getFullYear(),s=ak(String(n.getMonth()+1),2,"0"),u=ak(String(n.getDate()),2,"0");return`${r}-${s}-${u}`}function Oz(e){const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)}function Fz(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function zz(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function Bz(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function Vz(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function Nz(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function $z(e){return e.getFullYear()}function Uz(e){return e.getMonth()}function qz(e){return e.getDate()}function jz(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function Hz(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function Gz(e){return e.getHours()}function Wz(e){return e.getMinutes()}function Yz(e){return new Date(e.getFullYear(),0,1)}function Zz(e){return new Date(e.getFullYear(),11,31)}function Kz(e,t){return Ng(e,t[0])&&Qz(e,t[1])}function Xz(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Ng(e,t){return e.getTime()>t.getTime()}function Jz(e,t){return Ng(Eb(e),Eb(t))}function Qz(e,t){return e.getTime()<t.getTime()}function Ck(e,t){return e.getTime()===t.getTime()}function eB(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function tB(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function nB(e,t){return e.getFullYear()===t.getFullYear()}function rB(e,t,n){const r=new Date(e),s=new Date(t);switch(n){case"years":return r.getFullYear()-s.getFullYear();case"quarters":return Math.floor((r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12)/4);case"months":return r.getMonth()-s.getMonth()+(r.getFullYear()-s.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-s.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-s.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-s.getTime())/1e3);default:return r.getTime()-s.getTime()}}function iB(e,t){const n=new Date(e);return n.setHours(t),n}function aB(e,t){const n=new Date(e);return n.setMinutes(t),n}function sB(e,t){const n=new Date(e);return n.setMonth(t),n}function oB(e,t){const n=new Date(e);return n.setDate(t),n}function lB(e,t){const n=new Date(e);return n.setFullYear(t),n}function Eb(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function cB(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class uB{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return PA(t)}toJsDate(t){return t}toISO(t){return Rz(this,t)}parseISO(t){return Oz(t)}addMinutes(t,n){return Fz(t,n)}addHours(t,n){return zz(t,n)}addDays(t,n){return Bz(t,n)}addWeeks(t,n){return Vz(t,n)}addMonths(t,n){return Nz(t,n)}getWeekArray(t,n){return Az(t,this.locale,n?Number(n):void 0)}startOfWeek(t,n){return Ez(t,this.locale,n?Number(n):void 0)}endOfWeek(t){return Iz(t,this.locale)}startOfMonth(t){return EA(t)}endOfMonth(t){return IA(t)}format(t,n){return Lz(t,n,this.locale,this.formats)}isEqual(t,n){return Ck(t,n)}isValid(t){return Xz(t)}isWithinRange(t,n){return Kz(t,n)}isAfter(t,n){return Ng(t,n)}isAfterDay(t,n){return Jz(t,n)}isBefore(t,n){return!Ng(t,n)&&!Ck(t,n)}isSameDay(t,n){return eB(t,n)}isSameMonth(t,n){return tB(t,n)}isSameYear(t,n){return nB(t,n)}setMinutes(t,n){return aB(t,n)}setHours(t,n){return iB(t,n)}setMonth(t,n){return sB(t,n)}setDate(t,n){return oB(t,n)}setYear(t,n){return lB(t,n)}getDiff(t,n,r){return rB(t,n,r)}getWeekdays(t){return Mz(this.locale,t?Number(t):void 0)}getYear(t){return $z(t)}getMonth(t){return Uz(t)}getDate(t){return qz(t)}getNextMonth(t){return jz(t)}getPreviousMonth(t){return Hz(t)}getHours(t){return Gz(t)}getMinutes(t){return Wz(t)}startOfDay(t){return Eb(t)}endOfDay(t){return cB(t)}startOfYear(t){return Yz(t)}endOfYear(t){return Zz(t)}}const DA=Symbol.for("vuetify:date-options"),Tk=Symbol.for("vuetify:date-adapter");function dB(e,t){const n=da({adapter:uB,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:MA(n,t)}}function MA(e,t){const n=Ii(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ct(t.current,r=>{n.locale=e.locale[r]??r??n.locale}),n}function Fo(){const e=_t(DA);if(!e)throw new Error("[Vuetify] Could not find injected date options");const t=li();return MA(e,t)}function hB(e,t){const n=e.toJsDate(t);let r=n.getFullYear(),s=new Date(r,0,1);if(n<s)r=r-1,s=new Date(r,0,1);else{const o=new Date(r+1,0,1);n>=o&&(r=r+1,s=o)}const u=Math.abs(n.getTime()-s.getTime()),h=Math.ceil(u/(1e3*60*60*24));return Math.floor(h/7)+1}const yv=["sm","md","lg","xl","xxl"],Ib=Symbol.for("vuetify:display"),Ak={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},fB=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ak;return da(Ak,e)};function Ek(e){return hr&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function Ik(e){return hr&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function Pk(e){const t=hr&&!e?window.navigator.userAgent:"ssr";function n(R){return!!t.match(R)}const r=n(/android/i),s=n(/iphone|ipad|ipod/i),u=n(/cordova/i),h=n(/electron/i),o=n(/chrome/i),p=n(/edge/i),y=n(/firefox/i),b=n(/opera/i),k=n(/win/i),C=n(/mac/i),I=n(/linux/i);return{android:r,ios:s,cordova:u,electron:h,chrome:o,edge:p,firefox:y,opera:b,win:k,mac:C,linux:I,touch:PF,ssr:t==="ssr"}}function mB(e,t){const{thresholds:n,mobileBreakpoint:r}=fB(e),s=Rt(Ik(t)),u=Rt(Pk(t)),h=Ii({}),o=Rt(Ek(t));function p(){s.value=Ik(),o.value=Ek()}function y(){p(),u.value=Pk()}return bi(()=>{const b=o.value<n.sm,k=o.value<n.md&&!b,C=o.value<n.lg&&!(k||b),I=o.value<n.xl&&!(C||k||b),R=o.value<n.xxl&&!(I||C||k||b),L=o.value>=n.xxl,O=b?"xs":k?"sm":C?"md":I?"lg":R?"xl":"xxl",B=typeof r=="number"?r:n[r],q=o.value<B;h.xs=b,h.sm=k,h.md=C,h.lg=I,h.xl=R,h.xxl=L,h.smAndUp=!b,h.mdAndUp=!(b||k),h.lgAndUp=!(b||k||C),h.xlAndUp=!(b||k||C||I),h.smAndDown=!(C||I||R||L),h.mdAndDown=!(I||R||L),h.lgAndDown=!(R||L),h.xlAndDown=!L,h.name=O,h.height=s.value,h.width=o.value,h.mobile=q,h.mobileBreakpoint=r,h.platform=u.value,h.thresholds=n}),hr&&window.addEventListener("resize",p,{passive:!0}),{...qd(h),update:y,ssr:!!t}}const Gd=We({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function wl(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();const n=_t(Ib);if(!n)throw new Error("Could not find Vuetify display injection");const r=Y(()=>{if(e.mobile!=null)return e.mobile;if(!e.mobileBreakpoint)return n.mobile.value;const u=typeof e.mobileBreakpoint=="number"?e.mobileBreakpoint:n.thresholds.value[e.mobileBreakpoint];return n.width.value<u}),s=Y(()=>t?{[`${t}--mobile`]:r.value}:{});return{...n,displayClasses:s,mobile:r}}const LA=Symbol.for("vuetify:goto");function RA(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function pB(e){return ax(e)??(document.scrollingElement||document.body)}function ax(e){return typeof e=="string"?document.querySelector(e):K0(e)}function P_(e,t,n){if(typeof e=="number")return t&&n?-e:e;let r=ax(e),s=0;for(;r;)s+=t?r.offsetLeft:r.offsetTop,r=r.offsetParent;return s}function gB(e,t){return{rtl:t.isRtl,options:da(RA(),e)}}async function Dk(e,t,n,r){const s=n?"scrollLeft":"scrollTop",u=da((r==null?void 0:r.options)??RA(),t),h=r==null?void 0:r.rtl.value,o=(typeof e=="number"?e:ax(e))??0,p=u.container==="parent"&&o instanceof HTMLElement?o.parentElement:pB(u.container),y=typeof u.easing=="function"?u.easing:u.patterns[u.easing];if(!y)throw new TypeError(`Easing function "${u.easing}" not found.`);let b;if(typeof o=="number")b=P_(o,n,h);else if(b=P_(o,n,h)-P_(p,n,h),u.layout){const R=window.getComputedStyle(o).getPropertyValue("--v-layout-top");R&&(b-=parseInt(R,10))}b+=u.offset,b=yB(p,b,!!h,!!n);const k=p[s]??0;if(b===k)return Promise.resolve(b);const C=performance.now();return new Promise(I=>requestAnimationFrame(function R(L){const B=(L-C)/u.duration,q=Math.floor(k+(b-k)*y(Ki(B,0,1)));if(p[s]=q,B>=1&&Math.abs(q-p[s])<10)return I(b);if(B>2)return I(p[s]);requestAnimationFrame(R)}))}function vB(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=_t(LA),{isRtl:n}=Wa();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const r={...t,rtl:Y(()=>t.rtl.value||n.value)};async function s(u,h){return Dk(u,da(e,h),!1,r)}return s.horizontal=async(u,h)=>Dk(u,da(e,h),!0,r),s}function yB(e,t,n,r){const{scrollWidth:s,scrollHeight:u}=e,[h,o]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let p,y;return r?n?(p=-(s-h),y=0):(p=0,y=s-h):(p=0,y=u+-o),Math.max(Math.min(t,y),p)}const OA={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper"},FA={component:e=>ei(BA,{...e,class:"mdi"})},pn=[String,Function,Object,Array],Pb=Symbol.for("vuetify:icons"),_v=We({icon:{type:pn},tag:{type:String,required:!0}},"icon"),Mk=ht()({name:"VComponentIcon",props:_v(),setup(e,t){let{slots:n}=t;return()=>{const r=e.icon;return T(e.tag,null,{default:()=>{var s;return[e.icon?T(r,null,null):(s=n.default)==null?void 0:s.call(n)]}})}}}),zA=jd({name:"VSvgIcon",inheritAttrs:!1,props:_v(),setup(e,t){let{attrs:n}=t;return()=>T(e.tag,lt(n,{style:null}),{default:()=>[T("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(r=>Array.isArray(r)?T("path",{d:r[0],"fill-opacity":r[1]},null):T("path",{d:r},null)):T("path",{d:e.icon},null)])]})}});jd({name:"VLigatureIcon",props:_v(),setup(e){return()=>T(e.tag,null,{default:()=>[e.icon]})}});const BA=jd({name:"VClassIcon",props:_v(),setup(e){return()=>T(e.tag,{class:e.icon},null)}});function _B(){return{svg:{component:zA},class:{component:BA}}}function bB(e){const t=_B(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=FA),da({defaultSet:n,sets:t,aliases:{...OA,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const xB=e=>{const t=_t(Pb);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Y(()=>{var p;const r=Ur(e);if(!r)return{component:Mk};let s=r;if(typeof s=="string"&&(s=s.trim(),s.startsWith("$")&&(s=(p=t.aliases)==null?void 0:p[s.slice(1)])),Array.isArray(s))return{component:zA,icon:s};if(typeof s!="string")return{component:Mk,icon:s};const u=Object.keys(t.sets).find(y=>typeof s=="string"&&s.startsWith(`${y}:`)),h=u?s.slice(u.length+1):s;return{component:t.sets[u??t.defaultSet].component,icon:h}})}},Gf=Symbol.for("vuetify:theme"),br=We({theme:String},"theme");function Lk(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#a3a3a3","on-surface-variant":"#424242",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}}}function wB(){var r,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Lk();const t=Lk();if(!e)return{...t,isDisabled:!0};const n={};for(const[u,h]of Object.entries(e.themes??{})){const o=h.dark||u==="dark"?(r=t.themes)==null?void 0:r.dark:(s=t.themes)==null?void 0:s.light;n[u]=da(o,h)}return da(t,{...e,themes:n})}function SB(e){const t=wB(e),n=dt(t.defaultTheme),r=dt(t.themes),s=Y(()=>{const b={};for(const[k,C]of Object.entries(r.value)){const I=b[k]={...C,colors:{...C.colors}};if(t.variations)for(const R of t.variations.colors){const L=I.colors[R];if(L)for(const O of["lighten","darken"]){const B=O==="lighten"?cz:uz;for(const q of Xs(t.variations[O],1))I.colors[`${R}-${O}-${q}`]=sz(B(Eo(L),q))}}for(const R of Object.keys(I.colors)){if(/^on-[a-z]/.test(R)||I.colors[`on-${R}`])continue;const L=`on-${R}`,O=Eo(I.colors[R]);I.colors[L]=xA(O)}}return b}),u=Y(()=>s.value[n.value]),h=Y(()=>{var R;const b=[];(R=u.value)!=null&&R.dark&&Hc(b,":root",["color-scheme: dark"]),Hc(b,":root",Rk(u.value));for(const[L,O]of Object.entries(s.value))Hc(b,`.v-theme--${L}`,[`color-scheme: ${O.dark?"dark":"normal"}`,...Rk(O)]);const k=[],C=[],I=new Set(Object.values(s.value).flatMap(L=>Object.keys(L.colors)));for(const L of I)/^on-[a-z]/.test(L)?Hc(C,`.${L}`,[`color: rgb(var(--v-theme-${L})) !important`]):(Hc(k,`.bg-${L}`,[`--v-theme-overlay-multiplier: var(--v-theme-${L}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${L})) !important`,`color: rgb(var(--v-theme-on-${L})) !important`]),Hc(C,`.text-${L}`,[`color: rgb(var(--v-theme-${L})) !important`]),Hc(C,`.border-${L}`,[`--v-border-color: var(--v-theme-${L})`]));return b.push(...k,...C),b.map((L,O)=>O===0?L:`    ${L}`).join("")});function o(){return{style:[{children:h.value,id:"vuetify-theme-stylesheet",nonce:t.cspNonce||!1}]}}function p(b){if(t.isDisabled)return;const k=b._context.provides.usehead;if(k)if(k.push){const I=k.push(o);hr&&ct(h,()=>{I.patch(o)})}else hr?(k.addHeadObjs(Y(o)),bi(()=>k.updateDOM())):k.addHeadObjs(o());else{let R=function(){if(typeof document<"u"&&!I){const L=document.createElement("style");L.type="text/css",L.id="vuetify-theme-stylesheet",t.cspNonce&&L.setAttribute("nonce",t.cspNonce),I=L,document.head.appendChild(I)}I&&(I.innerHTML=h.value)};var C=R;let I=hr?document.getElementById("vuetify-theme-stylesheet"):null;hr?ct(h,R,{immediate:!0}):R()}}const y=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:p,isDisabled:t.isDisabled,name:n,themes:r,current:u,computedThemes:s,themeClasses:y,styles:h,global:{name:n,current:u}}}function Br(e){Kr("provideTheme");const t=_t(Gf,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Y(()=>e.theme??t.name.value),r=Y(()=>t.themes.value[n.value]),s=Y(()=>t.isDisabled?void 0:`v-theme--${n.value}`),u={...t,name:n,current:r,themeClasses:s};return xn(Gf,u),u}function kB(){Kr("useTheme");const e=_t(Gf,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}function Hc(e,t,n){e.push(`${t} {
`,...n.map(r=>`  ${r};
`),`}
`)}function Rk(e){const t=e.dark?2:1,n=e.dark?1:2,r=[];for(const[s,u]of Object.entries(e.colors)){const h=Eo(u);r.push(`--v-theme-${s}: ${h.r},${h.g},${h.b}`),s.startsWith("on-")||r.push(`--v-theme-${s}-overlay-multiplier: ${dz(u)>.18?t:n}`)}for(const[s,u]of Object.entries(e.variables)){const h=typeof u=="string"&&u.startsWith("#")?Eo(u):void 0,o=h?`${h.r}, ${h.g}, ${h.b}`:void 0;r.push(`--v-${s}: ${o??u}`)}return r}function uc(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=zg(),r=dt();if(hr){const s=new ResizeObserver(u=>{e==null||e(u,s),u.length&&(t==="content"?r.value=u[0].contentRect:r.value=u[0].target.getBoundingClientRect())});_r(()=>{s.disconnect()}),ct(()=>n.el,(u,h)=>{h&&(s.unobserve(h),r.value=void 0),u&&s.observe(u)},{flush:"post"})}return{resizeRef:n,contentRect:dm(r)}}const Wf=Symbol.for("vuetify:layout"),VA=Symbol.for("vuetify:layout-item"),Ok=1e3,CB=We({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),sx=We({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function NA(){const e=_t(Wf);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function ox(e){const t=_t(Wf);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${Is()}`,r=Kr("useLayoutItem");xn(VA,{id:n});const s=Rt(!1);B0(()=>s.value=!0),ET(()=>s.value=!1);const{layoutItemStyles:u,layoutItemScrimStyles:h}=t.register(r,{...e,active:Y(()=>s.value?!1:e.active.value),id:n});return _r(()=>t.unregister(n)),{layoutItemStyles:u,layoutRect:t.layoutRect,layoutItemScrimStyles:h}}const TB=(e,t,n,r)=>{let s={top:0,left:0,right:0,bottom:0};const u=[{id:"",layer:{...s}}];for(const h of e){const o=t.get(h),p=n.get(h),y=r.get(h);if(!o||!p||!y)continue;const b={...s,[o.value]:parseInt(s[o.value],10)+(y.value?parseInt(p.value,10):0)};u.push({id:h,layer:b}),s=b}return u};function AB(e){const t=_t(Wf,null),n=Y(()=>t?t.rootZIndex.value-100:Ok),r=dt([]),s=Ii(new Map),u=Ii(new Map),h=Ii(new Map),o=Ii(new Map),p=Ii(new Map),{resizeRef:y,contentRect:b}=uc(),k=Y(()=>{const re=new Map,le=e.overlaps??[];for(const H of le.filter($=>$.includes(":"))){const[$,Z]=H.split(":");if(!r.value.includes($)||!r.value.includes(Z))continue;const ae=s.get($),te=s.get(Z),be=u.get($),me=u.get(Z);!ae||!te||!be||!me||(re.set(Z,{position:ae.value,amount:parseInt(be.value,10)}),re.set($,{position:te.value,amount:-parseInt(me.value,10)}))}return re}),C=Y(()=>{const re=[...new Set([...h.values()].map(H=>H.value))].sort((H,$)=>H-$),le=[];for(const H of re){const $=r.value.filter(Z=>{var ae;return((ae=h.get(Z))==null?void 0:ae.value)===H});le.push(...$)}return TB(le,s,u,o)}),I=Y(()=>!Array.from(p.values()).some(re=>re.value)),R=Y(()=>C.value[C.value.length-1].layer),L=Y(()=>({"--v-layout-left":Ht(R.value.left),"--v-layout-right":Ht(R.value.right),"--v-layout-top":Ht(R.value.top),"--v-layout-bottom":Ht(R.value.bottom),...I.value?void 0:{transition:"none"}})),O=Y(()=>C.value.slice(1).map((re,le)=>{let{id:H}=re;const{layer:$}=C.value[le],Z=u.get(H),ae=s.get(H);return{id:H,...$,size:Number(Z.value),position:ae.value}})),B=re=>O.value.find(le=>le.id===re),q=Kr("createLayout"),J=Rt(!1);Ni(()=>{J.value=!0}),xn(Wf,{register:(re,le)=>{let{id:H,order:$,position:Z,layoutSize:ae,elementSize:te,active:be,disableTransitions:me,absolute:Pe}=le;h.set(H,$),s.set(H,Z),u.set(H,ae),o.set(H,be),me&&p.set(H,me);const Ue=Cd(VA,q==null?void 0:q.vnode).indexOf(re);Ue>-1?r.value.splice(Ue,0,H):r.value.push(H);const Fe=Y(()=>O.value.findIndex(qe=>qe.id===H)),Ce=Y(()=>n.value+C.value.length*2-Fe.value*2),Ve=Y(()=>{const qe=Z.value==="left"||Z.value==="right",gt=Z.value==="right",Ct=Z.value==="bottom",$t=te.value??ae.value,vt=$t===0?"%":"px",Ne={[Z.value]:0,zIndex:Ce.value,transform:`translate${qe?"X":"Y"}(${(be.value?0:-($t===0?100:$t))*(gt||Ct?-1:1)}${vt})`,position:Pe.value||n.value!==Ok?"absolute":"fixed",...I.value?void 0:{transition:"none"}};if(!J.value)return Ne;const et=O.value[Fe.value];if(!et)throw new Error(`[Vuetify] Could not find layout item "${H}"`);const je=k.value.get(H);return je&&(et[je.position]+=je.amount),{...Ne,height:qe?`calc(100% - ${et.top}px - ${et.bottom}px)`:te.value?`${te.value}px`:void 0,left:gt?void 0:`${et.left}px`,right:gt?`${et.right}px`:void 0,top:Z.value!=="bottom"?`${et.top}px`:void 0,bottom:Z.value!=="top"?`${et.bottom}px`:void 0,width:qe?te.value?`${te.value}px`:void 0:`calc(100% - ${et.left}px - ${et.right}px)`}}),$e=Y(()=>({zIndex:Ce.value-1}));return{layoutItemStyles:Ve,layoutItemScrimStyles:$e,zIndex:Ce}},unregister:re=>{h.delete(re),s.delete(re),u.delete(re),o.delete(re),p.delete(re),r.value=r.value.filter(le=>le!==re)},mainRect:R,mainStyles:L,getLayoutItem:B,items:O,layoutRect:b,rootZIndex:n});const ee=Y(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),ie=Y(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:ee,layoutStyles:ie,getLayoutItem:B,items:O,layoutRect:b,layoutRef:y}}function $A(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,r=da(t,n),{aliases:s={},components:u={},directives:h={}}=r,o=fz(r.defaults),p=mB(r.display,r.ssr),y=SB(r.theme),b=bB(r.icons),k=kz(r.locale),C=dB(r.date,k),I=gB(r.goTo,k);return{install:L=>{for(const O in h)L.directive(O,h[O]);for(const O in u)L.component(O,u[O]);for(const O in s)L.component(O,jd({...s[O],name:O,aliasName:s[O].name}));if(y.install(L),L.provide(Bd,o),L.provide(Ib,p),L.provide(Gf,y),L.provide(Pb,b),L.provide(Vg,k),L.provide(DA,C.options),L.provide(Tk,C.instance),L.provide(LA,I),hr&&r.ssr)if(L.$nuxt)L.$nuxt.hook("app:suspense:resolve",()=>{p.update()});else{const{mount:O}=L;L.mount=function(){const B=O(...arguments);return Jn(()=>p.update()),L.mount=O,B}}Is.reset(),L.mixin({computed:{$vuetify(){return Ii({defaults:md.call(this,Bd),display:md.call(this,Ib),theme:md.call(this,Gf),icons:md.call(this,Pb),locale:md.call(this,Vg),date:md.call(this,Tk)})}}})},defaults:o,display:p,theme:y,icons:b,locale:k,date:C,goTo:I}}const EB="3.7.1";$A.version=EB;function md(e){var r,s;const t=this.$,n=((r=t.parent)==null?void 0:r.provides)??((s=t.vnode.appContext)==null?void 0:s.provides);if(n&&e in n)return n[e]}var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function IB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var UA={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Xc,function(){var n,r,s;function u(o,p){if(!n)n=p;else if(!r)r=p;else{var y="var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk);",b={};n(b),s=p(b),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"})))}}u(["exports"],function(o){function p(l,i,c,f){return new(c||(c=Promise))(function(g,x){function S(F){try{D(f.next(F))}catch(V){x(V)}}function A(F){try{D(f.throw(F))}catch(V){x(V)}}function D(F){var V;F.done?g(F.value):(V=F.value,V instanceof c?V:new c(function(j){j(V)})).then(S,A)}D((f=f.apply(l,i||[])).next())})}function y(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}typeof SuppressedError=="function"&&SuppressedError;var b=k;function k(l,i){this.x=l,this.y=i}k.prototype={clone:function(){return new k(this.x,this.y)},add:function(l){return this.clone()._add(l)},sub:function(l){return this.clone()._sub(l)},multByPoint:function(l){return this.clone()._multByPoint(l)},divByPoint:function(l){return this.clone()._divByPoint(l)},mult:function(l){return this.clone()._mult(l)},div:function(l){return this.clone()._div(l)},rotate:function(l){return this.clone()._rotate(l)},rotateAround:function(l,i){return this.clone()._rotateAround(l,i)},matMult:function(l){return this.clone()._matMult(l)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(l){return this.x===l.x&&this.y===l.y},dist:function(l){return Math.sqrt(this.distSqr(l))},distSqr:function(l){var i=l.x-this.x,c=l.y-this.y;return i*i+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(l){return Math.atan2(this.y-l.y,this.x-l.x)},angleWith:function(l){return this.angleWithSep(l.x,l.y)},angleWithSep:function(l,i){return Math.atan2(this.x*i-this.y*l,this.x*l+this.y*i)},_matMult:function(l){var i=l[2]*this.x+l[3]*this.y;return this.x=l[0]*this.x+l[1]*this.y,this.y=i,this},_add:function(l){return this.x+=l.x,this.y+=l.y,this},_sub:function(l){return this.x-=l.x,this.y-=l.y,this},_mult:function(l){return this.x*=l,this.y*=l,this},_div:function(l){return this.x/=l,this.y/=l,this},_multByPoint:function(l){return this.x*=l.x,this.y*=l.y,this},_divByPoint:function(l){return this.x/=l.x,this.y/=l.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var l=this.y;return this.y=this.x,this.x=-l,this},_rotate:function(l){var i=Math.cos(l),c=Math.sin(l),f=c*this.x+i*this.y;return this.x=i*this.x-c*this.y,this.y=f,this},_rotateAround:function(l,i){var c=Math.cos(l),f=Math.sin(l),g=i.y+f*(this.x-i.x)+c*(this.y-i.y);return this.x=i.x+c*(this.x-i.x)-f*(this.y-i.y),this.y=g,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},k.convert=function(l){return l instanceof k?l:Array.isArray(l)?new k(l[0],l[1]):l};var C=y(b),I=R;function R(l,i,c,f){this.cx=3*l,this.bx=3*(c-l)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*i,this.by=3*(f-i)-this.cy,this.ay=1-this.cy-this.by,this.p1x=l,this.p1y=i,this.p2x=c,this.p2y=f}R.prototype={sampleCurveX:function(l){return((this.ax*l+this.bx)*l+this.cx)*l},sampleCurveY:function(l){return((this.ay*l+this.by)*l+this.cy)*l},sampleCurveDerivativeX:function(l){return(3*this.ax*l+2*this.bx)*l+this.cx},solveCurveX:function(l,i){if(i===void 0&&(i=1e-6),l<0)return 0;if(l>1)return 1;for(var c=l,f=0;f<8;f++){var g=this.sampleCurveX(c)-l;if(Math.abs(g)<i)return c;var x=this.sampleCurveDerivativeX(c);if(Math.abs(x)<1e-6)break;c-=g/x}var S=0,A=1;for(c=l,f=0;f<20&&(g=this.sampleCurveX(c),!(Math.abs(g-l)<i));f++)l>g?S=c:A=c,c=.5*(A-S)+S;return c},solve:function(l,i){return this.sampleCurveY(this.solveCurveX(l,i))}};var L=y(I);let O,B;function q(){return O==null&&(O=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),O}function J(){if(B==null&&(B=!1,q())){const i=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(i){for(let f=0;f<5*5;f++){const g=4*f;i.fillStyle=`rgb(${g},${g+1},${g+2})`,i.fillRect(f%5,Math.floor(f/5),1,1)}const c=i.getImageData(0,0,5,5).data;for(let f=0;f<5*5*4;f++)if(f%4!=3&&c[f]!==f){B=!0;break}}}return B||!1}function ee(l,i,c,f){const g=new L(l,i,c,f);return function(x){return g.solve(x)}}const ie=ee(.25,.1,.25,1);function re(l,i,c){return Math.min(c,Math.max(i,l))}function le(l,i,c){const f=c-i,g=((l-i)%f+f)%f+i;return g===i?c:g}function H(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}let $=1;function Z(l,i,c){const f={};for(const g in l)f[g]=i.call(c||this,l[g],g,l);return f}function ae(l,i,c){const f={};for(const g in l)i.call(c||this,l[g],g,l)&&(f[g]=l[g]);return f}function te(l){return Array.isArray(l)?l.map(te):typeof l=="object"&&l?Z(l,te):l}const be={};function me(l){be[l]||(typeof console<"u"&&console.warn(l),be[l]=!0)}function Pe(l,i,c){return(c.y-l.y)*(i.x-l.x)>(i.y-l.y)*(c.x-l.x)}function Ae(l){let i=0;for(let c,f,g=0,x=l.length,S=x-1;g<x;S=g++)c=l[g],f=l[S],i+=(f.x-c.x)*(c.y+f.y);return i}function Ue(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}let Fe=null;function Ce(l){return typeof ImageBitmap<"u"&&l instanceof ImageBitmap}const Ve="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function $e(l,i,c,f,g){return p(this,void 0,void 0,function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const x=new VideoFrame(l,{timestamp:0});try{const S=x==null?void 0:x.format;if(!S||!S.startsWith("BGR")&&!S.startsWith("RGB"))throw new Error(`Unrecognized format ${S}`);const A=S.startsWith("BGR"),D=new Uint8ClampedArray(f*g*4);if(yield x.copyTo(D,function(F,V,j,W,Q){const ne=4*Math.max(-V,0),ue=(Math.max(0,j)-j)*W*4+ne,ye=4*W,we=Math.max(0,V),Oe=Math.max(0,j);return{rect:{x:we,y:Oe,width:Math.min(F.width,V+W)-we,height:Math.min(F.height,j+Q)-Oe},layout:[{offset:ue,stride:ye}]}}(l,i,c,f,g)),A)for(let F=0;F<D.length;F+=4){const V=D[F];D[F]=D[F+2],D[F+2]=V}return D}finally{x.close()}})}let qe,gt,Ct,$t;const vt={now:typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(l){const i=requestAnimationFrame(l);return{cancel:()=>cancelAnimationFrame(i)}},getImageData(l,i=0){return this.getImageCanvasContext(l).getImageData(-i,-i,l.width+2*i,l.height+2*i)},getImageCanvasContext(l){const i=window.document.createElement("canvas"),c=i.getContext("2d",{willReadFrequently:!0});if(!c)throw new Error("failed to create canvas 2d context");return i.width=l.width,i.height=l.height,c.drawImage(l,0,0,l.width,l.height),c},resolveURL:l=>(Ct||(Ct=document.createElement("a")),Ct.href=l,Ct.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&($t==null&&($t=matchMedia("(prefers-reduced-motion: reduce)")),$t.matches)}},Ne={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class et extends Error{constructor(i,c,f,g){super(`AJAXError: ${c} (${i}): ${f}`),this.status=i,this.statusText=c,this.url=f,this.body=g}}const je=Ue()?()=>self.worker&&self.worker.referrer:()=>(window.location.protocol==="blob:"?window.parent:window).location.href,Qe=l=>Ne.REGISTERED_PROTOCOLS[l.substring(0,l.indexOf("://"))];function Je(l,i){const c=new AbortController,f=new Request(l.url,{method:l.method||"GET",body:l.body,credentials:l.credentials,headers:l.headers,cache:l.cache,referrer:je(),signal:c.signal});let g=!1,x=!1;return l.type==="json"&&f.headers.set("Accept","application/json"),x||fetch(f).then(S=>S.ok?(A=>{(l.type==="arrayBuffer"||l.type==="image"?A.arrayBuffer():l.type==="json"?A.json():A.text()).then(D=>{x||(g=!0,i(null,D,A.headers.get("Cache-Control"),A.headers.get("Expires")))}).catch(D=>{x||i(new Error(D.message))})})(S):S.blob().then(A=>i(new et(S.status,S.statusText,l.url,A)))).catch(S=>{S.code!==20&&i(new Error(S.message))}),{cancel:()=>{x=!0,g||c.abort()}}}const It=function(l,i){if(/:\/\//.test(l.url)&&!/^https?:|^file:/.test(l.url)){if(Ue()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i);if(!Ue())return(Qe(l.url)||Je)(l,i)}if(!(/^file:/.test(c=l.url)||/^file:/.test(je())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return Je(l,i);if(Ue()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",l,i,void 0,!0)}var c;return function(f,g){const x=new XMLHttpRequest;x.open(f.method||"GET",f.url,!0),f.type!=="arrayBuffer"&&f.type!=="image"||(x.responseType="arraybuffer");for(const S in f.headers)x.setRequestHeader(S,f.headers[S]);return f.type==="json"&&(x.responseType="text",x.setRequestHeader("Accept","application/json")),x.withCredentials=f.credentials==="include",x.onerror=()=>{g(new Error(x.statusText))},x.onload=()=>{if((x.status>=200&&x.status<300||x.status===0)&&x.response!==null){let S=x.response;if(f.type==="json")try{S=JSON.parse(x.response)}catch(A){return g(A)}g(null,S,x.getResponseHeader("Cache-Control"),x.getResponseHeader("Expires"))}else{const S=new Blob([x.response],{type:x.getResponseHeader("Content-Type")});g(new et(x.status,x.statusText,f.url,S))}},x.send(f.body),{cancel:()=>x.abort()}}(l,i)},se=function(l,i){return It(H(l,{type:"arrayBuffer"}),i)};function fe(l){if(!l||l.indexOf("://")<=0||l.indexOf("data:image/")===0||l.indexOf("blob:")===0)return!0;const i=new URL(l),c=window.location;return i.protocol===c.protocol&&i.host===c.host}function Me(l,i,c){c[l]&&c[l].indexOf(i)!==-1||(c[l]=c[l]||[],c[l].push(i))}function Xe(l,i,c){if(c&&c[l]){const f=c[l].indexOf(i);f!==-1&&c[l].splice(f,1)}}class Ze{constructor(i,c={}){H(this,c),this.type=i}}class tt extends Ze{constructor(i,c={}){super("error",H({error:i},c))}}class Tt{on(i,c){return this._listeners=this._listeners||{},Me(i,c,this._listeners),this}off(i,c){return Xe(i,c,this._listeners),Xe(i,c,this._oneTimeListeners),this}once(i,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Me(i,c,this._oneTimeListeners),this):new Promise(f=>this.once(i,f))}fire(i,c){typeof i=="string"&&(i=new Ze(i,c||{}));const f=i.type;if(this.listens(f)){i.target=this;const g=this._listeners&&this._listeners[f]?this._listeners[f].slice():[];for(const A of g)A.call(this,i);const x=this._oneTimeListeners&&this._oneTimeListeners[f]?this._oneTimeListeners[f].slice():[];for(const A of x)Xe(f,A,this._oneTimeListeners),A.call(this,i);const S=this._eventedParent;S&&(H(i,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),S.fire(i))}else i instanceof tt&&console.error(i.error);return this}listens(i){return this._listeners&&this._listeners[i]&&this._listeners[i].length>0||this._oneTimeListeners&&this._oneTimeListeners[i]&&this._oneTimeListeners[i].length>0||this._eventedParent&&this._eventedParent.listens(i)}setEventedParent(i,c){return this._eventedParent=i,this._eventedParentData=c,this}}var ke={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const yt=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function nt(l,i){const c={};for(const f in l)f!=="ref"&&(c[f]=l[f]);return yt.forEach(f=>{f in i&&(c[f]=i[f])}),c}function St(l,i){if(Array.isArray(l)){if(!Array.isArray(i)||l.length!==i.length)return!1;for(let c=0;c<l.length;c++)if(!St(l[c],i[c]))return!1;return!0}if(typeof l=="object"&&l!==null&&i!==null){if(typeof i!="object"||Object.keys(l).length!==Object.keys(i).length)return!1;for(const c in l)if(!St(l[c],i[c]))return!1;return!0}return l===i}const ft={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function Pt(l,i,c){c.push({command:ft.addSource,args:[l,i[l]]})}function sn(l,i,c){i.push({command:ft.removeSource,args:[l]}),c[l]=!0}function cn(l,i,c,f){sn(l,c,f),Pt(l,i,c)}function Ln(l,i,c){let f;for(f in l[c])if(Object.prototype.hasOwnProperty.call(l[c],f)&&f!=="data"&&!St(l[c][f],i[c][f]))return!1;for(f in i[c])if(Object.prototype.hasOwnProperty.call(i[c],f)&&f!=="data"&&!St(l[c][f],i[c][f]))return!1;return!0}function wn(l,i,c,f,g,x){let S;for(S in i=i||{},l=l||{})Object.prototype.hasOwnProperty.call(l,S)&&(St(l[S],i[S])||c.push({command:x,args:[f,S,i[S],g]}));for(S in i)Object.prototype.hasOwnProperty.call(i,S)&&!Object.prototype.hasOwnProperty.call(l,S)&&(St(l[S],i[S])||c.push({command:x,args:[f,S,i[S],g]}))}function er(l){return l.id}function jn(l,i){return l[i.id]=i,l}class mt{constructor(i,c,f,g){this.message=(i?`${i}: `:"")+f,g&&(this.identifier=g),c!=null&&c.__line__&&(this.line=c.__line__)}}function sr(l,...i){for(const c of i)for(const f in c)l[f]=c[f];return l}class Tn extends Error{constructor(i,c){super(c),this.message=c,this.key=i}}class ga{constructor(i,c=[]){this.parent=i,this.bindings={};for(const[f,g]of c)this.bindings[f]=g}concat(i){return new ga(this,i)}get(i){if(this.bindings[i])return this.bindings[i];if(this.parent)return this.parent.get(i);throw new Error(`${i} not found in scope.`)}has(i){return!!this.bindings[i]||!!this.parent&&this.parent.has(i)}}const mr={kind:"null"},At={kind:"number"},yn={kind:"string"},gn={kind:"boolean"},Ui={kind:"color"},hs={kind:"object"},bn={kind:"value"},Os={kind:"collator"},pe={kind:"formatted"},G={kind:"padding"},K={kind:"resolvedImage"},oe={kind:"variableAnchorOffsetCollection"};function ve(l,i){return{kind:"array",itemType:l,N:i}}function _e(l){if(l.kind==="array"){const i=_e(l.itemType);return typeof l.N=="number"?`array<${i}, ${l.N}>`:l.itemType.kind==="value"?"array":`array<${i}>`}return l.kind}const ze=[mr,At,yn,gn,Ui,pe,hs,ve(bn),G,K,oe];function Ee(l,i){if(i.kind==="error")return null;if(l.kind==="array"){if(i.kind==="array"&&(i.N===0&&i.itemType.kind==="value"||!Ee(l.itemType,i.itemType))&&(typeof l.N!="number"||l.N===i.N))return null}else{if(l.kind===i.kind)return null;if(l.kind==="value"){for(const c of ze)if(!Ee(c,i))return null}}return`Expected ${_e(l)} but found ${_e(i)} instead.`}function Se(l,i){return i.some(c=>c.kind===l.kind)}function Re(l,i){return i.some(c=>c==="null"?l===null:c==="array"?Array.isArray(l):c==="object"?l&&!Array.isArray(l)&&typeof l=="object":c===typeof l)}function it(l,i){return l.kind==="array"&&i.kind==="array"?l.itemType.kind===i.itemType.kind&&typeof l.N=="number":l.kind===i.kind}const at=.96422,ut=.82521,tn=4/29,hn=6/29,Wt=3*hn*hn,rn=hn*hn*hn,vn=Math.PI/180,Xn=180/Math.PI;function or(l){return(l%=360)<0&&(l+=360),l}function $n([l,i,c,f]){let g,x;const S=Li((.2225045*(l=Vn(l))+.7168786*(i=Vn(i))+.0606169*(c=Vn(c)))/1);l===i&&i===c?g=x=S:(g=Li((.4360747*l+.3850649*i+.1430804*c)/at),x=Li((.0139322*l+.0971045*i+.7141733*c)/ut));const A=116*S-16;return[A<0?0:A,500*(g-S),200*(S-x),f]}function Vn(l){return l<=.04045?l/12.92:Math.pow((l+.055)/1.055,2.4)}function Li(l){return l>rn?Math.pow(l,1/3):l/Wt+tn}function pr([l,i,c,f]){let g=(l+16)/116,x=isNaN(i)?g:g+i/500,S=isNaN(c)?g:g-c/200;return g=1*ki(g),x=at*ki(x),S=ut*ki(S),[ri(3.1338561*x-1.6168667*g-.4906146*S),ri(-.9787684*x+1.9161415*g+.033454*S),ri(.0719453*x-.2289914*g+1.4052427*S),f]}function ri(l){return(l=l<=.00304?12.92*l:1.055*Math.pow(l,1/2.4)-.055)<0?0:l>1?1:l}function ki(l){return l>hn?l*l*l:Wt*(l-tn)}function Da(l){return parseInt(l.padEnd(2,l),16)/255}function zm(l,i){return El(i?l/100:l,0,1)}function El(l,i,c){return Math.min(Math.max(i,l),c)}function Il(l){return!l.some(Number.isNaN)}const ay={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class tr{constructor(i,c,f,g=1,x=!0){this.r=i,this.g=c,this.b=f,this.a=g,x||(this.r*=g,this.g*=g,this.b*=g,g||this.overwriteGetter("rgb",[i,c,f,g]))}static parse(i){if(i instanceof tr)return i;if(typeof i!="string")return;const c=function(f){if((f=f.toLowerCase().trim())==="transparent")return[0,0,0,0];const g=ay[f];if(g){const[S,A,D]=g;return[S/255,A/255,D/255,1]}if(f.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(f)){const S=f.length<6?1:2;let A=1;return[Da(f.slice(A,A+=S)),Da(f.slice(A,A+=S)),Da(f.slice(A,A+=S)),Da(f.slice(A,A+S)||"ff")]}if(f.startsWith("rgb")){const S=f.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(S){const[A,D,F,V,j,W,Q,ne,ue,ye,we,Oe]=S,Te=[V||" ",Q||" ",ye].join("");if(Te==="  "||Te==="  /"||Te===",,"||Te===",,,"){const Be=[F,W,ue].join(""),Ge=Be==="%%%"?100:Be===""?255:0;if(Ge){const ot=[El(+D/Ge,0,1),El(+j/Ge,0,1),El(+ne/Ge,0,1),we?zm(+we,Oe):1];if(Il(ot))return ot}}return}}const x=f.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(x){const[S,A,D,F,V,j,W,Q,ne]=x,ue=[D||" ",V||" ",W].join("");if(ue==="  "||ue==="  /"||ue===",,"||ue===",,,"){const ye=[+A,El(+F,0,100),El(+j,0,100),Q?zm(+Q,ne):1];if(Il(ye))return function([we,Oe,Te,Be]){function Ge(ot){const Nt=(ot+we/30)%12,Zt=Oe*Math.min(Te,1-Te);return Te-Zt*Math.max(-1,Math.min(Nt-3,9-Nt,1))}return we=or(we),Oe/=100,Te/=100,[Ge(0),Ge(8),Ge(4),Be]}(ye)}}}(i);return c?new tr(...c,!1):void 0}get rgb(){const{r:i,g:c,b:f,a:g}=this,x=g||1/0;return this.overwriteGetter("rgb",[i/x,c/x,f/x,g])}get hcl(){return this.overwriteGetter("hcl",function(i){const[c,f,g,x]=$n(i),S=Math.sqrt(f*f+g*g);return[Math.round(1e4*S)?or(Math.atan2(g,f)*Xn):NaN,S,c,x]}(this.rgb))}get lab(){return this.overwriteGetter("lab",$n(this.rgb))}overwriteGetter(i,c){return Object.defineProperty(this,i,{value:c}),c}toString(){const[i,c,f,g]=this.rgb;return`rgba(${[i,c,f].map(x=>Math.round(255*x)).join(",")},${g})`}}tr.black=new tr(0,0,0,1),tr.white=new tr(1,1,1,1),tr.transparent=new tr(0,0,0,0),tr.red=new tr(1,0,0,1);class oh{constructor(i,c,f){this.sensitivity=i?c?"variant":"case":c?"accent":"base",this.locale=f,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(i,c){return this.collator.compare(i,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Tu{constructor(i,c,f,g,x){this.text=i,this.image=c,this.scale=f,this.fontStack=g,this.textColor=x}}class Ri{constructor(i){this.sections=i}static fromString(i){return new Ri([new Tu(i,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(i=>i.text.length!==0||i.image&&i.image.name.length!==0)}static factory(i){return i instanceof Ri?i:Ri.fromString(i)}toString(){return this.sections.length===0?"":this.sections.map(i=>i.text).join("")}}class va{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof va)return i;if(typeof i=="number")return new va([i,i,i,i]);if(Array.isArray(i)&&!(i.length<1||i.length>4)){for(const c of i)if(typeof c!="number")return;switch(i.length){case 1:i=[i[0],i[0],i[0],i[0]];break;case 2:i=[i[0],i[1],i[0],i[1]];break;case 3:i=[i[0],i[1],i[2],i[1]]}return new va(i)}}toString(){return JSON.stringify(this.values)}}const sy=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ma{constructor(i){this.values=i.slice()}static parse(i){if(i instanceof Ma)return i;if(Array.isArray(i)&&!(i.length<1)&&i.length%2==0){for(let c=0;c<i.length;c+=2){const f=i[c],g=i[c+1];if(typeof f!="string"||!sy.has(f)||!Array.isArray(g)||g.length!==2||typeof g[0]!="number"||typeof g[1]!="number")return}return new Ma(i)}}toString(){return JSON.stringify(this.values)}}class Ci{constructor(i){this.name=i.name,this.available=i.available}toString(){return this.name}static fromString(i){return i?new Ci({name:i,available:!1}):null}}function Au(l,i,c,f){return typeof l=="number"&&l>=0&&l<=255&&typeof i=="number"&&i>=0&&i<=255&&typeof c=="number"&&c>=0&&c<=255?f===void 0||typeof f=="number"&&f>=0&&f<=1?null:`Invalid rgba value [${[l,i,c,f].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof f=="number"?[l,i,c,f]:[l,i,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Pl(l){if(l===null||typeof l=="string"||typeof l=="boolean"||typeof l=="number"||l instanceof tr||l instanceof oh||l instanceof Ri||l instanceof va||l instanceof Ma||l instanceof Ci)return!0;if(Array.isArray(l)){for(const i of l)if(!Pl(i))return!1;return!0}if(typeof l=="object"){for(const i in l)if(!Pl(l[i]))return!1;return!0}return!1}function Dr(l){if(l===null)return mr;if(typeof l=="string")return yn;if(typeof l=="boolean")return gn;if(typeof l=="number")return At;if(l instanceof tr)return Ui;if(l instanceof oh)return Os;if(l instanceof Ri)return pe;if(l instanceof va)return G;if(l instanceof Ma)return oe;if(l instanceof Ci)return K;if(Array.isArray(l)){const i=l.length;let c;for(const f of l){const g=Dr(f);if(c){if(c===g)continue;c=bn;break}c=g}return ve(c||bn,i)}return hs}function Hn(l){const i=typeof l;return l===null?"":i==="string"||i==="number"||i==="boolean"?String(l):l instanceof tr||l instanceof Ri||l instanceof va||l instanceof Ma||l instanceof Ci?l.toString():JSON.stringify(l)}class $o{constructor(i,c){this.type=i,this.value=c}static parse(i,c){if(i.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${i.length-1} instead.`);if(!Pl(i[1]))return c.error("invalid value");const f=i[1];let g=Dr(f);const x=c.expectedType;return g.kind!=="array"||g.N!==0||!x||x.kind!=="array"||typeof x.N=="number"&&x.N!==0||(g=x),new $o(g,f)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Vr{constructor(i){this.name="ExpressionEvaluationError",this.message=i}toJSON(){return this.message}}const Eu={string:yn,number:At,boolean:gn,object:hs};class La{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");let f,g=1;const x=i[0];if(x==="array"){let A,D;if(i.length>2){const F=i[1];if(typeof F!="string"||!(F in Eu)||F==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);A=Eu[F],g++}else A=bn;if(i.length>3){if(i[2]!==null&&(typeof i[2]!="number"||i[2]<0||i[2]!==Math.floor(i[2])))return c.error('The length argument to "array" must be a positive integer literal',2);D=i[2],g++}f=ve(A,D)}else{if(!Eu[x])throw new Error(`Types doesn't contain name = ${x}`);f=Eu[x]}const S=[];for(;g<i.length;g++){const A=c.parse(i[g],g,bn);if(!A)return null;S.push(A)}return new La(f,S)}evaluate(i){for(let c=0;c<this.args.length;c++){const f=this.args[c].evaluate(i);if(!Ee(this.type,Dr(f)))return f;if(c===this.args.length-1)throw new Vr(`Expected value to be of type ${_e(this.type)}, but found ${_e(Dr(f))} instead.`)}throw new Error}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const lh={"to-boolean":gn,"to-color":Ui,"to-number":At,"to-string":yn};class mo{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[0];if(!lh[f])throw new Error(`Can't parse ${f} as it is not part of the known types`);if((f==="to-boolean"||f==="to-string")&&i.length!==2)return c.error("Expected one argument.");const g=lh[f],x=[];for(let S=1;S<i.length;S++){const A=c.parse(i[S],S,bn);if(!A)return null;x.push(A)}return new mo(g,x)}evaluate(i){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(i);case"color":{let c,f;for(const g of this.args){if(c=g.evaluate(i),f=null,c instanceof tr)return c;if(typeof c=="string"){const x=i.parseColor(c);if(x)return x}else if(Array.isArray(c)&&(f=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Au(c[0],c[1],c[2],c[3]),!f))return new tr(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Vr(f||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const f of this.args){c=f.evaluate(i);const g=va.parse(c);if(g)return g}throw new Vr(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const f of this.args){c=f.evaluate(i);const g=Ma.parse(c);if(g)return g}throw new Vr(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const f of this.args){if(c=f.evaluate(i),c===null)return 0;const g=Number(c);if(!isNaN(g))return g}throw new Vr(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return Ri.fromString(Hn(this.args[0].evaluate(i)));case"resolvedImage":return Ci.fromString(Hn(this.args[0].evaluate(i)));default:return Hn(this.args[0].evaluate(i))}}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}const Bm=["Unknown","Point","LineString","Polygon"];class ch{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Bm[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(i){let c=this._parseColorCache[i];return c||(c=this._parseColorCache[i]=tr.parse(i)),c}}class Iu{constructor(i,c,f=[],g,x=new ga,S=[]){this.registry=i,this.path=f,this.key=f.map(A=>`[${A}]`).join(""),this.scope=x,this.errors=S,this.expectedType=g,this._isConstant=c}parse(i,c,f,g,x={}){return c?this.concat(c,f,g)._parse(i,x):this._parse(i,x)}_parse(i,c){function f(g,x,S){return S==="assert"?new La(x,[g]):S==="coerce"?new mo(x,[g]):g}if(i!==null&&typeof i!="string"&&typeof i!="boolean"&&typeof i!="number"||(i=["literal",i]),Array.isArray(i)){if(i.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const g=i[0];if(typeof g!="string")return this.error(`Expression name must be a string, but found ${typeof g} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const x=this.registry[g];if(x){let S=x.parse(i,this);if(!S)return null;if(this.expectedType){const A=this.expectedType,D=S.type;if(A.kind!=="string"&&A.kind!=="number"&&A.kind!=="boolean"&&A.kind!=="object"&&A.kind!=="array"||D.kind!=="value")if(A.kind!=="color"&&A.kind!=="formatted"&&A.kind!=="resolvedImage"||D.kind!=="value"&&D.kind!=="string")if(A.kind!=="padding"||D.kind!=="value"&&D.kind!=="number"&&D.kind!=="array")if(A.kind!=="variableAnchorOffsetCollection"||D.kind!=="value"&&D.kind!=="array"){if(this.checkSubtype(A,D))return null}else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"coerce");else S=f(S,A,c.typeAnnotation||"assert")}if(!(S instanceof $o)&&S.type.kind!=="resolvedImage"&&this._isConstant(S)){const A=new ch;try{S=new $o(S.type,S.evaluate(A))}catch(D){return this.error(D.message),null}}return S}return this.error(`Unknown expression "${g}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(i===void 0?"'undefined' value invalid. Use null instead.":typeof i=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof i} instead.`)}concat(i,c,f){const g=typeof i=="number"?this.path.concat(i):this.path,x=f?this.scope.concat(f):this.scope;return new Iu(this.registry,this._isConstant,g,c||null,x,this.errors)}error(i,...c){const f=`${this.key}${c.map(g=>`[${g}]`).join("")}`;this.errors.push(new Tn(f,i))}checkSubtype(i,c){const f=Ee(i,c);return f&&this.error(f),f}}class Pu{constructor(i,c,f){this.type=Os,this.locale=f,this.caseSensitive=i,this.diacriticSensitive=c}static parse(i,c){if(i.length!==2)return c.error("Expected one argument.");const f=i[1];if(typeof f!="object"||Array.isArray(f))return c.error("Collator options argument must be an object.");const g=c.parse(f["case-sensitive"]!==void 0&&f["case-sensitive"],1,gn);if(!g)return null;const x=c.parse(f["diacritic-sensitive"]!==void 0&&f["diacritic-sensitive"],1,gn);if(!x)return null;let S=null;return f.locale&&(S=c.parse(f.locale,1,yn),!S)?null:new Pu(g,x,S)}evaluate(i){return new oh(this.caseSensitive.evaluate(i),this.diacriticSensitive.evaluate(i),this.locale?this.locale.evaluate(i):null)}eachChild(i){i(this.caseSensitive),i(this.diacriticSensitive),this.locale&&i(this.locale)}outputDefined(){return!1}}const po=8192;function uh(l,i){l[0]=Math.min(l[0],i[0]),l[1]=Math.min(l[1],i[1]),l[2]=Math.max(l[2],i[0]),l[3]=Math.max(l[3],i[1])}function bc(l,i){return!(l[0]<=i[0]||l[2]>=i[2]||l[1]<=i[1]||l[3]>=i[3])}function Vm(l,i){const c=(180+l[0])/360,f=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l[1]*Math.PI/360)))/360,g=Math.pow(2,i.z);return[Math.round(c*g*po),Math.round(f*g*po)]}function oy(l,i,c){const f=l[0]-i[0],g=l[1]-i[1],x=l[0]-c[0],S=l[1]-c[1];return f*S-x*g==0&&f*x<=0&&g*S<=0}function dh(l,i){let c=!1;for(let S=0,A=i.length;S<A;S++){const D=i[S];for(let F=0,V=D.length;F<V-1;F++){if(oy(l,D[F],D[F+1]))return!1;(g=D[F])[1]>(f=l)[1]!=(x=D[F+1])[1]>f[1]&&f[0]<(x[0]-g[0])*(f[1]-g[1])/(x[1]-g[1])+g[0]&&(c=!c)}}var f,g,x;return c}function hh(l,i){for(let c=0;c<i.length;c++)if(dh(l,i[c]))return!0;return!1}function Nm(l,i,c,f){const g=f[0]-c[0],x=f[1]-c[1],S=(l[0]-c[0])*x-g*(l[1]-c[1]),A=(i[0]-c[0])*x-g*(i[1]-c[1]);return S>0&&A<0||S<0&&A>0}function ly(l,i,c){for(const F of c)for(let V=0;V<F.length-1;++V)if((A=[(S=F[V+1])[0]-(x=F[V])[0],S[1]-x[1]])[0]*(D=[(g=i)[0]-(f=l)[0],g[1]-f[1]])[1]-A[1]*D[0]!=0&&Nm(f,g,x,S)&&Nm(x,S,f,g))return!0;var f,g,x,S,A,D;return!1}function $m(l,i){for(let c=0;c<l.length;++c)if(!dh(l[c],i))return!1;for(let c=0;c<l.length-1;++c)if(ly(l[c],l[c+1],i))return!1;return!0}function Um(l,i){for(let c=0;c<i.length;c++)if($m(l,i[c]))return!0;return!1}function Du(l,i,c){const f=[];for(let g=0;g<l.length;g++){const x=[];for(let S=0;S<l[g].length;S++){const A=Vm(l[g][S],c);uh(i,A),x.push(A)}f.push(x)}return f}function qm(l,i,c){const f=[];for(let g=0;g<l.length;g++){const x=Du(l[g],i,c);f.push(x)}return f}function jm(l,i,c,f){if(l[0]<c[0]||l[0]>c[2]){const g=.5*f;let x=l[0]-c[0]>g?-f:c[0]-l[0]>g?f:0;x===0&&(x=l[0]-c[2]>g?-f:c[2]-l[0]>g?f:0),l[0]+=x}uh(i,l)}function fh(l,i,c,f){const g=Math.pow(2,f.z)*po,x=[f.x*po,f.y*po],S=[];for(const A of l)for(const D of A){const F=[D.x+x[0],D.y+x[1]];jm(F,i,c,g),S.push(F)}return S}function mh(l,i,c,f){const g=Math.pow(2,f.z)*po,x=[f.x*po,f.y*po],S=[];for(const D of l){const F=[];for(const V of D){const j=[V.x+x[0],V.y+x[1]];uh(i,j),F.push(j)}S.push(F)}if(i[2]-i[0]<=g/2){(A=i)[0]=A[1]=1/0,A[2]=A[3]=-1/0;for(const D of S)for(const F of D)jm(F,i,c,g)}var A;return S}class Uo{constructor(i,c){this.type=gn,this.geojson=i,this.geometries=c}static parse(i,c){if(i.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${i.length-1} instead.`);if(Pl(i[1])){const f=i[1];if(f.type==="FeatureCollection")for(let g=0;g<f.features.length;++g){const x=f.features[g].geometry.type;if(x==="Polygon"||x==="MultiPolygon")return new Uo(f,f.features[g].geometry)}else if(f.type==="Feature"){const g=f.geometry.type;if(g==="Polygon"||g==="MultiPolygon")return new Uo(f,f.geometry)}else if(f.type==="Polygon"||f.type==="MultiPolygon")return new Uo(f,f)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(i){if(i.geometry()!=null&&i.canonicalID()!=null){if(i.geometryType()==="Point")return function(c,f){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=Du(f.coordinates,x,S),D=fh(c.geometry(),g,x,S);if(!bc(g,x))return!1;for(const F of D)if(!dh(F,A))return!1}if(f.type==="MultiPolygon"){const A=qm(f.coordinates,x,S),D=fh(c.geometry(),g,x,S);if(!bc(g,x))return!1;for(const F of D)if(!hh(F,A))return!1}return!0}(i,this.geometries);if(i.geometryType()==="LineString")return function(c,f){const g=[1/0,1/0,-1/0,-1/0],x=[1/0,1/0,-1/0,-1/0],S=c.canonicalID();if(f.type==="Polygon"){const A=Du(f.coordinates,x,S),D=mh(c.geometry(),g,x,S);if(!bc(g,x))return!1;for(const F of D)if(!$m(F,A))return!1}if(f.type==="MultiPolygon"){const A=qm(f.coordinates,x,S),D=mh(c.geometry(),g,x,S);if(!bc(g,x))return!1;for(const F of D)if(!Um(F,A))return!1}return!0}(i,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Mu{constructor(i,c){this.type=c.type,this.name=i,this.boundExpression=c}static parse(i,c){if(i.length!==2||typeof i[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const f=i[1];return c.scope.has(f)?new Mu(f,c.scope.get(f)):c.error(`Unknown variable "${f}". Make sure "${f}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(i){return this.boundExpression.evaluate(i)}eachChild(){}outputDefined(){return!1}}class Ra{constructor(i,c,f,g){this.name=i,this.type=c,this._evaluate=f,this.args=g}evaluate(i){return this._evaluate(i,this.args)}eachChild(i){this.args.forEach(i)}outputDefined(){return!1}static parse(i,c){const f=i[0],g=Ra.definitions[f];if(!g)return c.error(`Unknown expression "${f}". If you wanted a literal array, use ["literal", [...]].`,0);const x=Array.isArray(g)?g[0]:g.type,S=Array.isArray(g)?[[g[1],g[2]]]:g.overloads,A=S.filter(([F])=>!Array.isArray(F)||F.length===i.length-1);let D=null;for(const[F,V]of A){D=new Iu(c.registry,Lu,c.path,null,c.scope);const j=[];let W=!1;for(let Q=1;Q<i.length;Q++){const ne=i[Q],ue=Array.isArray(F)?F[Q-1]:F.type,ye=D.parse(ne,1+j.length,ue);if(!ye){W=!0;break}j.push(ye)}if(!W)if(Array.isArray(F)&&F.length!==j.length)D.error(`Expected ${F.length} arguments, but found ${j.length} instead.`);else{for(let Q=0;Q<j.length;Q++){const ne=Array.isArray(F)?F[Q]:F.type,ue=j[Q];D.concat(Q+1).checkSubtype(ne,ue.type)}if(D.errors.length===0)return new Ra(f,x,V,j)}}if(A.length===1)c.errors.push(...D.errors);else{const F=(A.length?A:S).map(([j])=>{return W=j,Array.isArray(W)?`(${W.map(_e).join(", ")})`:`(${_e(W.type)}...)`;var W}).join(" | "),V=[];for(let j=1;j<i.length;j++){const W=c.parse(i[j],1+V.length);if(!W)return null;V.push(_e(W.type))}c.error(`Expected arguments of type ${F}, but found (${V.join(", ")}) instead.`)}return null}static register(i,c){Ra.definitions=c;for(const f in c)i[f]=Ra}}function Lu(l){if(l instanceof Mu)return Lu(l.boundExpression);if(l instanceof Ra&&l.name==="error"||l instanceof Pu||l instanceof Uo)return!1;const i=l instanceof mo||l instanceof La;let c=!0;return l.eachChild(f=>{c=i?c&&Lu(f):c&&f instanceof $o}),!!c&&Ru(l)&&Ou(l,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function Ru(l){if(l instanceof Ra&&(l.name==="get"&&l.args.length===1||l.name==="feature-state"||l.name==="has"&&l.args.length===1||l.name==="properties"||l.name==="geometry-type"||l.name==="id"||/^filter-/.test(l.name))||l instanceof Uo)return!1;let i=!0;return l.eachChild(c=>{i&&!Ru(c)&&(i=!1)}),i}function xc(l){if(l instanceof Ra&&l.name==="feature-state")return!1;let i=!0;return l.eachChild(c=>{i&&!xc(c)&&(i=!1)}),i}function Ou(l,i){if(l instanceof Ra&&i.indexOf(l.name)>=0)return!1;let c=!0;return l.eachChild(f=>{c&&!Ou(f,i)&&(c=!1)}),c}function Dl(l,i){const c=l.length-1;let f,g,x=0,S=c,A=0;for(;x<=S;)if(A=Math.floor((x+S)/2),f=l[A],g=l[A+1],f<=i){if(A===c||i<g)return A;x=A+1}else{if(!(f>i))throw new Vr("Input is not a number.");S=A-1}return 0}class go{constructor(i,c,f){this.type=i,this.input=c,this.labels=[],this.outputs=[];for(const[g,x]of f)this.labels.push(g),this.outputs.push(x)}static parse(i,c){if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");const f=c.parse(i[1],1,At);if(!f)return null;const g=[];let x=null;c.expectedType&&c.expectedType.kind!=="value"&&(x=c.expectedType);for(let S=1;S<i.length;S+=2){const A=S===1?-1/0:i[S],D=i[S+1],F=S,V=S+1;if(typeof A!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',F);if(g.length&&g[g.length-1][0]>=A)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',F);const j=c.parse(D,V,x);if(!j)return null;x=x||j.type,g.push([A,j])}return new go(x,f,g)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const g=this.input.evaluate(i);if(g<=c[0])return f[0].evaluate(i);const x=c.length;return g>=c[x-1]?f[x-1].evaluate(i):f[Dl(c,g)].evaluate(i)}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function Fn(l,i,c){return l+c*(i-l)}function Fu(l,i,c){return l.map((f,g)=>Fn(f,i[g],c))}const ya={number:Fn,color:function(l,i,c,f="rgb"){switch(f){case"rgb":{const[g,x,S,A]=Fu(l.rgb,i.rgb,c);return new tr(g,x,S,A,!1)}case"hcl":{const[g,x,S,A]=l.hcl,[D,F,V,j]=i.hcl;let W,Q;if(isNaN(g)||isNaN(D))isNaN(g)?isNaN(D)?W=NaN:(W=D,S!==1&&S!==0||(Q=F)):(W=g,V!==1&&V!==0||(Q=x));else{let Oe=D-g;D>g&&Oe>180?Oe-=360:D<g&&g-D>180&&(Oe+=360),W=g+c*Oe}const[ne,ue,ye,we]=function([Oe,Te,Be,Ge]){return Oe=isNaN(Oe)?0:Oe*vn,pr([Be,Math.cos(Oe)*Te,Math.sin(Oe)*Te,Ge])}([W,Q??Fn(x,F,c),Fn(S,V,c),Fn(A,j,c)]);return new tr(ne,ue,ye,we,!1)}case"lab":{const[g,x,S,A]=pr(Fu(l.lab,i.lab,c));return new tr(g,x,S,A,!1)}}},array:Fu,padding:function(l,i,c){return new va(Fu(l.values,i.values,c))},variableAnchorOffsetCollection:function(l,i,c){const f=l.values,g=i.values;if(f.length!==g.length)throw new Vr(`Cannot interpolate values of different length. from: ${l.toString()}, to: ${i.toString()}`);const x=[];for(let S=0;S<f.length;S+=2){if(f[S]!==g[S])throw new Vr(`Cannot interpolate values containing mismatched anchors. from[${S}]: ${f[S]}, to[${S}]: ${g[S]}`);x.push(f[S]);const[A,D]=f[S+1],[F,V]=g[S+1];x.push([Fn(A,F,c),Fn(D,V,c)])}return new Ma(x)}};class _a{constructor(i,c,f,g,x){this.type=i,this.operator=c,this.interpolation=f,this.input=g,this.labels=[],this.outputs=[];for(const[S,A]of x)this.labels.push(S),this.outputs.push(A)}static interpolationFactor(i,c,f,g){let x=0;if(i.name==="exponential")x=ph(c,i.base,f,g);else if(i.name==="linear")x=ph(c,1,f,g);else if(i.name==="cubic-bezier"){const S=i.controlPoints;x=new L(S[0],S[1],S[2],S[3]).solve(ph(c,1,f,g))}return x}static parse(i,c){let[f,g,x,...S]=i;if(!Array.isArray(g)||g.length===0)return c.error("Expected an interpolation type expression.",1);if(g[0]==="linear")g={name:"linear"};else if(g[0]==="exponential"){const F=g[1];if(typeof F!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);g={name:"exponential",base:F}}else{if(g[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(g[0])}`,1,0);{const F=g.slice(1);if(F.length!==4||F.some(V=>typeof V!="number"||V<0||V>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);g={name:"cubic-bezier",controlPoints:F}}}if(i.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if((i.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(x=c.parse(x,2,At),!x)return null;const A=[];let D=null;f==="interpolate-hcl"||f==="interpolate-lab"?D=Ui:c.expectedType&&c.expectedType.kind!=="value"&&(D=c.expectedType);for(let F=0;F<S.length;F+=2){const V=S[F],j=S[F+1],W=F+3,Q=F+4;if(typeof V!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',W);if(A.length&&A[A.length-1][0]>=V)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',W);const ne=c.parse(j,Q,D);if(!ne)return null;D=D||ne.type,A.push([V,ne])}return it(D,At)||it(D,Ui)||it(D,G)||it(D,oe)||it(D,ve(At))?new _a(D,f,g,x,A):c.error(`Type ${_e(D)} is not interpolatable.`)}evaluate(i){const c=this.labels,f=this.outputs;if(c.length===1)return f[0].evaluate(i);const g=this.input.evaluate(i);if(g<=c[0])return f[0].evaluate(i);const x=c.length;if(g>=c[x-1])return f[x-1].evaluate(i);const S=Dl(c,g),A=_a.interpolationFactor(this.interpolation,g,c[S],c[S+1]),D=f[S].evaluate(i),F=f[S+1].evaluate(i);switch(this.operator){case"interpolate":return ya[this.type.kind](D,F,A);case"interpolate-hcl":return ya.color(D,F,A,"hcl");case"interpolate-lab":return ya.color(D,F,A,"lab")}}eachChild(i){i(this.input);for(const c of this.outputs)i(c)}outputDefined(){return this.outputs.every(i=>i.outputDefined())}}function ph(l,i,c,f){const g=f-c,x=l-c;return g===0?0:i===1?x/g:(Math.pow(i,x)-1)/(Math.pow(i,g)-1)}class zu{constructor(i,c){this.type=i,this.args=c}static parse(i,c){if(i.length<2)return c.error("Expectected at least one argument.");let f=null;const g=c.expectedType;g&&g.kind!=="value"&&(f=g);const x=[];for(const A of i.slice(1)){const D=c.parse(A,1+x.length,f,void 0,{typeAnnotation:"omit"});if(!D)return null;f=f||D.type,x.push(D)}if(!f)throw new Error("No output type");const S=g&&x.some(A=>Ee(g,A.type));return new zu(S?bn:f,x)}evaluate(i){let c,f=null,g=0;for(const x of this.args)if(g++,f=x.evaluate(i),f&&f instanceof Ci&&!f.available&&(c||(c=f.name),f=null,g===this.args.length&&(f=c)),f!==null)break;return f}eachChild(i){this.args.forEach(i)}outputDefined(){return this.args.every(i=>i.outputDefined())}}class Bu{constructor(i,c){this.type=c.type,this.bindings=[].concat(i),this.result=c}evaluate(i){return this.result.evaluate(i)}eachChild(i){for(const c of this.bindings)i(c[1]);i(this.result)}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found ${i.length-1} instead.`);const f=[];for(let x=1;x<i.length-1;x+=2){const S=i[x];if(typeof S!="string")return c.error(`Expected string, but found ${typeof S} instead.`,x);if(/[^a-zA-Z0-9_]/.test(S))return c.error("Variable names must contain only alphanumeric characters or '_'.",x);const A=c.parse(i[x+1],x+1);if(!A)return null;f.push([S,A])}const g=c.parse(i[i.length-1],i.length-1,c.expectedType,f);return g?new Bu(f,g):null}outputDefined(){return this.result.outputDefined()}}class gh{constructor(i,c,f){this.type=i,this.index=c,this.input=f}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,At),g=c.parse(i[2],2,ve(c.expectedType||bn));return f&&g?new gh(g.type.itemType,f,g):null}evaluate(i){const c=this.index.evaluate(i),f=this.input.evaluate(i);if(c<0)throw new Vr(`Array index out of bounds: ${c} < 0.`);if(c>=f.length)throw new Vr(`Array index out of bounds: ${c} > ${f.length-1}.`);if(c!==Math.floor(c))throw new Vr(`Array index must be an integer, but found ${c} instead.`);return f[c]}eachChild(i){i(this.index),i(this.input)}outputDefined(){return!1}}class vh{constructor(i,c){this.type=gn,this.needle=i,this.haystack=c}static parse(i,c){if(i.length!==3)return c.error(`Expected 2 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,bn),g=c.parse(i[2],2,bn);return f&&g?Se(f.type,[gn,yn,At,mr,bn])?new vh(f,g):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${_e(f.type)} instead`):null}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!f)return!1;if(!Re(c,["boolean","string","number","null"]))throw new Vr(`Expected first argument to be of type boolean, string, number or null, but found ${_e(Dr(c))} instead.`);if(!Re(f,["string","array"]))throw new Vr(`Expected second argument to be of type array or string, but found ${_e(Dr(f))} instead.`);return f.indexOf(c)>=0}eachChild(i){i(this.needle),i(this.haystack)}outputDefined(){return!0}}class Vu{constructor(i,c,f){this.type=At,this.needle=i,this.haystack=c,this.fromIndex=f}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,bn),g=c.parse(i[2],2,bn);if(!f||!g)return null;if(!Se(f.type,[gn,yn,At,mr,bn]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${_e(f.type)} instead`);if(i.length===4){const x=c.parse(i[3],3,At);return x?new Vu(f,g,x):null}return new Vu(f,g)}evaluate(i){const c=this.needle.evaluate(i),f=this.haystack.evaluate(i);if(!Re(c,["boolean","string","number","null"]))throw new Vr(`Expected first argument to be of type boolean, string, number or null, but found ${_e(Dr(c))} instead.`);if(!Re(f,["string","array"]))throw new Vr(`Expected second argument to be of type array or string, but found ${_e(Dr(f))} instead.`);if(this.fromIndex){const g=this.fromIndex.evaluate(i);return f.indexOf(c,g)}return f.indexOf(c)}eachChild(i){i(this.needle),i(this.haystack),this.fromIndex&&i(this.fromIndex)}outputDefined(){return!1}}class yh{constructor(i,c,f,g,x,S){this.inputType=i,this.type=c,this.input=f,this.cases=g,this.outputs=x,this.otherwise=S}static parse(i,c){if(i.length<5)return c.error(`Expected at least 4 arguments, but found only ${i.length-1}.`);if(i.length%2!=1)return c.error("Expected an even number of arguments.");let f,g;c.expectedType&&c.expectedType.kind!=="value"&&(g=c.expectedType);const x={},S=[];for(let F=2;F<i.length-1;F+=2){let V=i[F];const j=i[F+1];Array.isArray(V)||(V=[V]);const W=c.concat(F);if(V.length===0)return W.error("Expected at least one branch label.");for(const ne of V){if(typeof ne!="number"&&typeof ne!="string")return W.error("Branch labels must be numbers or strings.");if(typeof ne=="number"&&Math.abs(ne)>Number.MAX_SAFE_INTEGER)return W.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof ne=="number"&&Math.floor(ne)!==ne)return W.error("Numeric branch labels must be integer values.");if(f){if(W.checkSubtype(f,Dr(ne)))return null}else f=Dr(ne);if(x[String(ne)]!==void 0)return W.error("Branch labels must be unique.");x[String(ne)]=S.length}const Q=c.parse(j,F,g);if(!Q)return null;g=g||Q.type,S.push(Q)}const A=c.parse(i[1],1,bn);if(!A)return null;const D=c.parse(i[i.length-1],i.length-1,g);return D?A.type.kind!=="value"&&c.concat(1).checkSubtype(f,A.type)?null:new yh(f,g,A,x,S,D):null}evaluate(i){const c=this.input.evaluate(i);return(Dr(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(i)}eachChild(i){i(this.input),this.outputs.forEach(i),i(this.otherwise)}outputDefined(){return this.outputs.every(i=>i.outputDefined())&&this.otherwise.outputDefined()}}class _h{constructor(i,c,f){this.type=i,this.branches=c,this.otherwise=f}static parse(i,c){if(i.length<4)return c.error(`Expected at least 3 arguments, but found only ${i.length-1}.`);if(i.length%2!=0)return c.error("Expected an odd number of arguments.");let f;c.expectedType&&c.expectedType.kind!=="value"&&(f=c.expectedType);const g=[];for(let S=1;S<i.length-1;S+=2){const A=c.parse(i[S],S,gn);if(!A)return null;const D=c.parse(i[S+1],S+1,f);if(!D)return null;g.push([A,D]),f=f||D.type}const x=c.parse(i[i.length-1],i.length-1,f);if(!x)return null;if(!f)throw new Error("Can't infer output type");return new _h(f,g,x)}evaluate(i){for(const[c,f]of this.branches)if(c.evaluate(i))return f.evaluate(i);return this.otherwise.evaluate(i)}eachChild(i){for(const[c,f]of this.branches)i(c),i(f);i(this.otherwise)}outputDefined(){return this.branches.every(([i,c])=>c.outputDefined())&&this.otherwise.outputDefined()}}class Nu{constructor(i,c,f,g){this.type=i,this.input=c,this.beginIndex=f,this.endIndex=g}static parse(i,c){if(i.length<=2||i.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${i.length-1} instead.`);const f=c.parse(i[1],1,bn),g=c.parse(i[2],2,At);if(!f||!g)return null;if(!Se(f.type,[ve(bn),yn,bn]))return c.error(`Expected first argument to be of type array or string, but found ${_e(f.type)} instead`);if(i.length===4){const x=c.parse(i[3],3,At);return x?new Nu(f.type,f,g,x):null}return new Nu(f.type,f,g)}evaluate(i){const c=this.input.evaluate(i),f=this.beginIndex.evaluate(i);if(!Re(c,["string","array"]))throw new Vr(`Expected first argument to be of type array or string, but found ${_e(Dr(c))} instead.`);if(this.endIndex){const g=this.endIndex.evaluate(i);return c.slice(f,g)}return c.slice(f)}eachChild(i){i(this.input),i(this.beginIndex),this.endIndex&&i(this.endIndex)}outputDefined(){return!1}}function Hm(l,i){return l==="=="||l==="!="?i.kind==="boolean"||i.kind==="string"||i.kind==="number"||i.kind==="null"||i.kind==="value":i.kind==="string"||i.kind==="number"||i.kind==="value"}function Gm(l,i,c,f){return f.compare(i,c)===0}function Ml(l,i,c){const f=l!=="=="&&l!=="!=";return class qA{constructor(x,S,A){this.type=gn,this.lhs=x,this.rhs=S,this.collator=A,this.hasUntypedArgument=x.type.kind==="value"||S.type.kind==="value"}static parse(x,S){if(x.length!==3&&x.length!==4)return S.error("Expected two or three arguments.");const A=x[0];let D=S.parse(x[1],1,bn);if(!D)return null;if(!Hm(A,D.type))return S.concat(1).error(`"${A}" comparisons are not supported for type '${_e(D.type)}'.`);let F=S.parse(x[2],2,bn);if(!F)return null;if(!Hm(A,F.type))return S.concat(2).error(`"${A}" comparisons are not supported for type '${_e(F.type)}'.`);if(D.type.kind!==F.type.kind&&D.type.kind!=="value"&&F.type.kind!=="value")return S.error(`Cannot compare types '${_e(D.type)}' and '${_e(F.type)}'.`);f&&(D.type.kind==="value"&&F.type.kind!=="value"?D=new La(F.type,[D]):D.type.kind!=="value"&&F.type.kind==="value"&&(F=new La(D.type,[F])));let V=null;if(x.length===4){if(D.type.kind!=="string"&&F.type.kind!=="string"&&D.type.kind!=="value"&&F.type.kind!=="value")return S.error("Cannot use collator to compare non-string types.");if(V=S.parse(x[3],3,Os),!V)return null}return new qA(D,F,V)}evaluate(x){const S=this.lhs.evaluate(x),A=this.rhs.evaluate(x);if(f&&this.hasUntypedArgument){const D=Dr(S),F=Dr(A);if(D.kind!==F.kind||D.kind!=="string"&&D.kind!=="number")throw new Vr(`Expected arguments for "${l}" to be (string, string) or (number, number), but found (${D.kind}, ${F.kind}) instead.`)}if(this.collator&&!f&&this.hasUntypedArgument){const D=Dr(S),F=Dr(A);if(D.kind!=="string"||F.kind!=="string")return i(x,S,A)}return this.collator?c(x,S,A,this.collator.evaluate(x)):i(x,S,A)}eachChild(x){x(this.lhs),x(this.rhs),this.collator&&x(this.collator)}outputDefined(){return!0}}}const cy=Ml("==",function(l,i,c){return i===c},Gm),uy=Ml("!=",function(l,i,c){return i!==c},function(l,i,c,f){return!Gm(0,i,c,f)}),dy=Ml("<",function(l,i,c){return i<c},function(l,i,c,f){return f.compare(i,c)<0}),hy=Ml(">",function(l,i,c){return i>c},function(l,i,c,f){return f.compare(i,c)>0}),fy=Ml("<=",function(l,i,c){return i<=c},function(l,i,c,f){return f.compare(i,c)<=0}),my=Ml(">=",function(l,i,c){return i>=c},function(l,i,c,f){return f.compare(i,c)>=0});class bh{constructor(i,c,f,g,x){this.type=yn,this.number=i,this.locale=c,this.currency=f,this.minFractionDigits=g,this.maxFractionDigits=x}static parse(i,c){if(i.length!==3)return c.error("Expected two arguments.");const f=c.parse(i[1],1,At);if(!f)return null;const g=i[2];if(typeof g!="object"||Array.isArray(g))return c.error("NumberFormat options argument must be an object.");let x=null;if(g.locale&&(x=c.parse(g.locale,1,yn),!x))return null;let S=null;if(g.currency&&(S=c.parse(g.currency,1,yn),!S))return null;let A=null;if(g["min-fraction-digits"]&&(A=c.parse(g["min-fraction-digits"],1,At),!A))return null;let D=null;return g["max-fraction-digits"]&&(D=c.parse(g["max-fraction-digits"],1,At),!D)?null:new bh(f,x,S,A,D)}evaluate(i){return new Intl.NumberFormat(this.locale?this.locale.evaluate(i):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(i):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(i):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(i):void 0}).format(this.number.evaluate(i))}eachChild(i){i(this.number),this.locale&&i(this.locale),this.currency&&i(this.currency),this.minFractionDigits&&i(this.minFractionDigits),this.maxFractionDigits&&i(this.maxFractionDigits)}outputDefined(){return!1}}class $u{constructor(i){this.type=pe,this.sections=i}static parse(i,c){if(i.length<2)return c.error("Expected at least one argument.");const f=i[1];if(!Array.isArray(f)&&typeof f=="object")return c.error("First argument must be an image or text section.");const g=[];let x=!1;for(let S=1;S<=i.length-1;++S){const A=i[S];if(x&&typeof A=="object"&&!Array.isArray(A)){x=!1;let D=null;if(A["font-scale"]&&(D=c.parse(A["font-scale"],1,At),!D))return null;let F=null;if(A["text-font"]&&(F=c.parse(A["text-font"],1,ve(yn)),!F))return null;let V=null;if(A["text-color"]&&(V=c.parse(A["text-color"],1,Ui),!V))return null;const j=g[g.length-1];j.scale=D,j.font=F,j.textColor=V}else{const D=c.parse(i[S],1,bn);if(!D)return null;const F=D.type.kind;if(F!=="string"&&F!=="value"&&F!=="null"&&F!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");x=!0,g.push({content:D,scale:null,font:null,textColor:null})}}return new $u(g)}evaluate(i){return new Ri(this.sections.map(c=>{const f=c.content.evaluate(i);return Dr(f)===K?new Tu("",f,null,null,null):new Tu(Hn(f),null,c.scale?c.scale.evaluate(i):null,c.font?c.font.evaluate(i).join(","):null,c.textColor?c.textColor.evaluate(i):null)}))}eachChild(i){for(const c of this.sections)i(c.content),c.scale&&i(c.scale),c.font&&i(c.font),c.textColor&&i(c.textColor)}outputDefined(){return!1}}class xh{constructor(i){this.type=K,this.input=i}static parse(i,c){if(i.length!==2)return c.error("Expected two arguments.");const f=c.parse(i[1],1,yn);return f?new xh(f):c.error("No image name provided.")}evaluate(i){const c=this.input.evaluate(i),f=Ci.fromString(c);return f&&i.availableImages&&(f.available=i.availableImages.indexOf(c)>-1),f}eachChild(i){i(this.input)}outputDefined(){return!1}}class wh{constructor(i){this.type=At,this.input=i}static parse(i,c){if(i.length!==2)return c.error(`Expected 1 argument, but found ${i.length-1} instead.`);const f=c.parse(i[1],1);return f?f.type.kind!=="array"&&f.type.kind!=="string"&&f.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${_e(f.type)} instead.`):new wh(f):null}evaluate(i){const c=this.input.evaluate(i);if(typeof c=="string"||Array.isArray(c))return c.length;throw new Vr(`Expected value to be of type string or array, but found ${_e(Dr(c))} instead.`)}eachChild(i){i(this.input)}outputDefined(){return!1}}const Ll={"==":cy,"!=":uy,">":hy,"<":dy,">=":my,"<=":fy,array:La,at:gh,boolean:La,case:_h,coalesce:zu,collator:Pu,format:$u,image:xh,in:vh,"index-of":Vu,interpolate:_a,"interpolate-hcl":_a,"interpolate-lab":_a,length:wh,let:Bu,literal:$o,match:yh,number:La,"number-format":bh,object:La,slice:Nu,step:go,string:La,"to-boolean":mo,"to-color":mo,"to-number":mo,"to-string":mo,var:Mu,within:Uo};function Wm(l,[i,c,f,g]){i=i.evaluate(l),c=c.evaluate(l),f=f.evaluate(l);const x=g?g.evaluate(l):1,S=Au(i,c,f,x);if(S)throw new Vr(S);return new tr(i/255,c/255,f/255,x,!1)}function Ym(l,i){return l in i}function Sh(l,i){const c=i[l];return c===void 0?null:c}function qo(l){return{type:l}}function Zm(l){return{result:"success",value:l}}function vo(l){return{result:"error",value:l}}function Rl(l){return l["property-type"]==="data-driven"||l["property-type"]==="cross-faded-data-driven"}function Km(l){return!!l.expression&&l.expression.parameters.indexOf("zoom")>-1}function kh(l){return!!l.expression&&l.expression.interpolated}function Gn(l){return l instanceof Number?"number":l instanceof String?"string":l instanceof Boolean?"boolean":Array.isArray(l)?"array":l===null?"null":typeof l}function Mr(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)}function py(l){return l}function zn(l,i){const c=i.type==="color",f=l.stops&&typeof l.stops[0][0]=="object",g=f||!(f||l.property!==void 0),x=l.type||(kh(i)?"exponential":"interval");if(c||i.type==="padding"){const V=c?tr.parse:va.parse;(l=sr({},l)).stops&&(l.stops=l.stops.map(j=>[j[0],V(j[1])])),l.default=V(l.default?l.default:i.default)}if(l.colorSpace&&(S=l.colorSpace)!=="rgb"&&S!=="hcl"&&S!=="lab")throw new Error(`Unknown color space: "${l.colorSpace}"`);var S;let A,D,F;if(x==="exponential")A=wc;else if(x==="interval")A=Cr;else if(x==="categorical"){A=Lr,D=Object.create(null);for(const V of l.stops)D[V[0]]=V[1];F=typeof l.stops[0][0]}else{if(x!=="identity")throw new Error(`Unknown function type "${x}"`);A=Xm}if(f){const V={},j=[];for(let ne=0;ne<l.stops.length;ne++){const ue=l.stops[ne],ye=ue[0].zoom;V[ye]===void 0&&(V[ye]={zoom:ye,type:l.type,property:l.property,default:l.default,stops:[]},j.push(ye)),V[ye].stops.push([ue[0].value,ue[1]])}const W=[];for(const ne of j)W.push([V[ne].zoom,zn(V[ne],i)]);const Q={name:"linear"};return{kind:"composite",interpolationType:Q,interpolationFactor:_a.interpolationFactor.bind(void 0,Q),zoomStops:W.map(ne=>ne[0]),evaluate:({zoom:ne},ue)=>wc({stops:W,base:l.base},i,ne).evaluate(ne,ue)}}if(g){const V=x==="exponential"?{name:"exponential",base:l.base!==void 0?l.base:1}:null;return{kind:"camera",interpolationType:V,interpolationFactor:_a.interpolationFactor.bind(void 0,V),zoomStops:l.stops.map(j=>j[0]),evaluate:({zoom:j})=>A(l,i,j,D,F)}}return{kind:"source",evaluate(V,j){const W=j&&j.properties?j.properties[l.property]:void 0;return W===void 0?jo(l.default,i.default):A(l,i,W,D,F)}}}function jo(l,i,c){return l!==void 0?l:i!==void 0?i:c!==void 0?c:void 0}function Lr(l,i,c,f,g){return jo(typeof c===g?f[c]:void 0,l.default,i.default)}function Cr(l,i,c){if(Gn(c)!=="number")return jo(l.default,i.default);const f=l.stops.length;if(f===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[f-1][0])return l.stops[f-1][1];const g=Dl(l.stops.map(x=>x[0]),c);return l.stops[g][1]}function wc(l,i,c){const f=l.base!==void 0?l.base:1;if(Gn(c)!=="number")return jo(l.default,i.default);const g=l.stops.length;if(g===1||c<=l.stops[0][0])return l.stops[0][1];if(c>=l.stops[g-1][0])return l.stops[g-1][1];const x=Dl(l.stops.map(V=>V[0]),c),S=function(V,j,W,Q){const ne=Q-W,ue=V-W;return ne===0?0:j===1?ue/ne:(Math.pow(j,ue)-1)/(Math.pow(j,ne)-1)}(c,f,l.stops[x][0],l.stops[x+1][0]),A=l.stops[x][1],D=l.stops[x+1][1],F=ya[i.type]||py;return typeof A.evaluate=="function"?{evaluate(...V){const j=A.evaluate.apply(void 0,V),W=D.evaluate.apply(void 0,V);if(j!==void 0&&W!==void 0)return F(j,W,S,l.colorSpace)}}:F(A,D,S,l.colorSpace)}function Xm(l,i,c){switch(i.type){case"color":c=tr.parse(c);break;case"formatted":c=Ri.fromString(c.toString());break;case"resolvedImage":c=Ci.fromString(c.toString());break;case"padding":c=va.parse(c);break;default:Gn(c)===i.type||i.type==="enum"&&i.values[c]||(c=void 0)}return jo(c,l.default,i.default)}Ra.register(Ll,{error:[{kind:"error"},[yn],(l,[i])=>{throw new Vr(i.evaluate(l))}],typeof:[yn,[bn],(l,[i])=>_e(Dr(i.evaluate(l)))],"to-rgba":[ve(At,4),[Ui],(l,[i])=>{const[c,f,g,x]=i.evaluate(l).rgb;return[255*c,255*f,255*g,x]}],rgb:[Ui,[At,At,At],Wm],rgba:[Ui,[At,At,At,At],Wm],has:{type:gn,overloads:[[[yn],(l,[i])=>Ym(i.evaluate(l),l.properties())],[[yn,hs],(l,[i,c])=>Ym(i.evaluate(l),c.evaluate(l))]]},get:{type:bn,overloads:[[[yn],(l,[i])=>Sh(i.evaluate(l),l.properties())],[[yn,hs],(l,[i,c])=>Sh(i.evaluate(l),c.evaluate(l))]]},"feature-state":[bn,[yn],(l,[i])=>Sh(i.evaluate(l),l.featureState||{})],properties:[hs,[],l=>l.properties()],"geometry-type":[yn,[],l=>l.geometryType()],id:[bn,[],l=>l.id()],zoom:[At,[],l=>l.globals.zoom],"heatmap-density":[At,[],l=>l.globals.heatmapDensity||0],"line-progress":[At,[],l=>l.globals.lineProgress||0],accumulated:[bn,[],l=>l.globals.accumulated===void 0?null:l.globals.accumulated],"+":[At,qo(At),(l,i)=>{let c=0;for(const f of i)c+=f.evaluate(l);return c}],"*":[At,qo(At),(l,i)=>{let c=1;for(const f of i)c*=f.evaluate(l);return c}],"-":{type:At,overloads:[[[At,At],(l,[i,c])=>i.evaluate(l)-c.evaluate(l)],[[At],(l,[i])=>-i.evaluate(l)]]},"/":[At,[At,At],(l,[i,c])=>i.evaluate(l)/c.evaluate(l)],"%":[At,[At,At],(l,[i,c])=>i.evaluate(l)%c.evaluate(l)],ln2:[At,[],()=>Math.LN2],pi:[At,[],()=>Math.PI],e:[At,[],()=>Math.E],"^":[At,[At,At],(l,[i,c])=>Math.pow(i.evaluate(l),c.evaluate(l))],sqrt:[At,[At],(l,[i])=>Math.sqrt(i.evaluate(l))],log10:[At,[At],(l,[i])=>Math.log(i.evaluate(l))/Math.LN10],ln:[At,[At],(l,[i])=>Math.log(i.evaluate(l))],log2:[At,[At],(l,[i])=>Math.log(i.evaluate(l))/Math.LN2],sin:[At,[At],(l,[i])=>Math.sin(i.evaluate(l))],cos:[At,[At],(l,[i])=>Math.cos(i.evaluate(l))],tan:[At,[At],(l,[i])=>Math.tan(i.evaluate(l))],asin:[At,[At],(l,[i])=>Math.asin(i.evaluate(l))],acos:[At,[At],(l,[i])=>Math.acos(i.evaluate(l))],atan:[At,[At],(l,[i])=>Math.atan(i.evaluate(l))],min:[At,qo(At),(l,i)=>Math.min(...i.map(c=>c.evaluate(l)))],max:[At,qo(At),(l,i)=>Math.max(...i.map(c=>c.evaluate(l)))],abs:[At,[At],(l,[i])=>Math.abs(i.evaluate(l))],round:[At,[At],(l,[i])=>{const c=i.evaluate(l);return c<0?-Math.round(-c):Math.round(c)}],floor:[At,[At],(l,[i])=>Math.floor(i.evaluate(l))],ceil:[At,[At],(l,[i])=>Math.ceil(i.evaluate(l))],"filter-==":[gn,[yn,bn],(l,[i,c])=>l.properties()[i.value]===c.value],"filter-id-==":[gn,[bn],(l,[i])=>l.id()===i.value],"filter-type-==":[gn,[yn],(l,[i])=>l.geometryType()===i.value],"filter-<":[gn,[yn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f<g}],"filter-id-<":[gn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<f}],"filter->":[gn,[yn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f>g}],"filter-id->":[gn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>f}],"filter-<=":[gn,[yn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f<=g}],"filter-id-<=":[gn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c<=f}],"filter->=":[gn,[yn,bn],(l,[i,c])=>{const f=l.properties()[i.value],g=c.value;return typeof f==typeof g&&f>=g}],"filter-id->=":[gn,[bn],(l,[i])=>{const c=l.id(),f=i.value;return typeof c==typeof f&&c>=f}],"filter-has":[gn,[bn],(l,[i])=>i.value in l.properties()],"filter-has-id":[gn,[],l=>l.id()!==null&&l.id()!==void 0],"filter-type-in":[gn,[ve(yn)],(l,[i])=>i.value.indexOf(l.geometryType())>=0],"filter-id-in":[gn,[ve(bn)],(l,[i])=>i.value.indexOf(l.id())>=0],"filter-in-small":[gn,[yn,ve(bn)],(l,[i,c])=>c.value.indexOf(l.properties()[i.value])>=0],"filter-in-large":[gn,[yn,ve(bn)],(l,[i,c])=>function(f,g,x,S){for(;x<=S;){const A=x+S>>1;if(g[A]===f)return!0;g[A]>f?S=A-1:x=A+1}return!1}(l.properties()[i.value],c.value,0,c.value.length-1)],all:{type:gn,overloads:[[[gn,gn],(l,[i,c])=>i.evaluate(l)&&c.evaluate(l)],[qo(gn),(l,i)=>{for(const c of i)if(!c.evaluate(l))return!1;return!0}]]},any:{type:gn,overloads:[[[gn,gn],(l,[i,c])=>i.evaluate(l)||c.evaluate(l)],[qo(gn),(l,i)=>{for(const c of i)if(c.evaluate(l))return!0;return!1}]]},"!":[gn,[gn],(l,[i])=>!i.evaluate(l)],"is-supported-script":[gn,[yn],(l,[i])=>{const c=l.globals&&l.globals.isSupportedScript;return!c||c(i.evaluate(l))}],upcase:[yn,[yn],(l,[i])=>i.evaluate(l).toUpperCase()],downcase:[yn,[yn],(l,[i])=>i.evaluate(l).toLowerCase()],concat:[yn,qo(bn),(l,i)=>i.map(c=>Hn(c.evaluate(l))).join("")],"resolved-locale":[yn,[Os],(l,[i])=>i.evaluate(l).resolvedLocale()]});class Ch{constructor(i,c){var f;this.expression=i,this._warningHistory={},this._evaluator=new ch,this._defaultValue=c?(f=c).type==="color"&&Mr(f.default)?new tr(0,0,0,0):f.type==="color"?tr.parse(f.default)||null:f.type==="padding"?va.parse(f.default)||null:f.type==="variableAnchorOffsetCollection"?Ma.parse(f.default)||null:f.default===void 0?null:f.default:null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(i,c,f,g,x,S){return this._evaluator.globals=i,this._evaluator.feature=c,this._evaluator.featureState=f,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S,this.expression.evaluate(this._evaluator)}evaluate(i,c,f,g,x,S){this._evaluator.globals=i,this._evaluator.feature=c||null,this._evaluator.featureState=f||null,this._evaluator.canonical=g,this._evaluator.availableImages=x||null,this._evaluator.formattedSection=S||null;try{const A=this.expression.evaluate(this._evaluator);if(A==null||typeof A=="number"&&A!=A)return this._defaultValue;if(this._enumValues&&!(A in this._enumValues))throw new Vr(`Expected value to be one of ${Object.keys(this._enumValues).map(D=>JSON.stringify(D)).join(", ")}, but found ${JSON.stringify(A)} instead.`);return A}catch(A){return this._warningHistory[A.message]||(this._warningHistory[A.message]=!0,typeof console<"u"&&console.warn(A.message)),this._defaultValue}}}function Uu(l){return Array.isArray(l)&&l.length>0&&typeof l[0]=="string"&&l[0]in Ll}function qu(l,i){const c=new Iu(Ll,Lu,[],i?function(g){const x={color:Ui,string:yn,number:At,enum:yn,boolean:gn,formatted:pe,padding:G,resolvedImage:K,variableAnchorOffsetCollection:oe};return g.type==="array"?ve(x[g.value]||bn,g.length):x[g.type]}(i):void 0),f=c.parse(l,void 0,void 0,void 0,i&&i.type==="string"?{typeAnnotation:"coerce"}:void 0);return f?Zm(new Ch(f,i)):vo(c.errors)}class Th{constructor(i,c){this.kind=i,this._styleExpression=c,this.isStateDependent=i!=="constant"&&!xc(c.expression)}evaluateWithoutErrorHandling(i,c,f,g,x,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,g,x,S)}evaluate(i,c,f,g,x,S){return this._styleExpression.evaluate(i,c,f,g,x,S)}}class ju{constructor(i,c,f,g){this.kind=i,this.zoomStops=f,this._styleExpression=c,this.isStateDependent=i!=="camera"&&!xc(c.expression),this.interpolationType=g}evaluateWithoutErrorHandling(i,c,f,g,x,S){return this._styleExpression.evaluateWithoutErrorHandling(i,c,f,g,x,S)}evaluate(i,c,f,g,x,S){return this._styleExpression.evaluate(i,c,f,g,x,S)}interpolationFactor(i,c,f){return this.interpolationType?_a.interpolationFactor(this.interpolationType,i,c,f):0}}function Ah(l,i){const c=qu(l,i);if(c.result==="error")return c;const f=c.value.expression,g=Ru(f);if(!g&&!Rl(i))return vo([new Tn("","data expressions not supported")]);const x=Ou(f,["zoom"]);if(!x&&!Km(i))return vo([new Tn("","zoom expressions not supported")]);const S=kc(f);return S||x?S instanceof Tn?vo([S]):S instanceof _a&&!kh(i)?vo([new Tn("",'"interpolate" expressions cannot be used with this property')]):Zm(S?new ju(g?"camera":"composite",c.value,S.labels,S instanceof _a?S.interpolation:void 0):new Th(g?"constant":"source",c.value)):vo([new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Sc{constructor(i,c){this._parameters=i,this._specification=c,sr(this,zn(this._parameters,this._specification))}static deserialize(i){return new Sc(i._parameters,i._specification)}static serialize(i){return{_parameters:i._parameters,_specification:i._specification}}}function kc(l){let i=null;if(l instanceof Bu)i=kc(l.result);else if(l instanceof zu){for(const c of l.args)if(i=kc(c),i)break}else(l instanceof go||l instanceof _a)&&l.input instanceof Ra&&l.input.name==="zoom"&&(i=l);return i instanceof Tn||l.eachChild(c=>{const f=kc(c);f instanceof Tn?i=f:!i&&f?i=new Tn("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):i&&f&&i!==f&&(i=new Tn("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),i}function Cc(l){if(l===!0||l===!1)return!0;if(!Array.isArray(l)||l.length===0)return!1;switch(l[0]){case"has":return l.length>=2&&l[1]!=="$id"&&l[1]!=="$type";case"in":return l.length>=3&&(typeof l[1]!="string"||Array.isArray(l[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return l.length!==3||Array.isArray(l[1])||Array.isArray(l[2]);case"any":case"all":for(const i of l.slice(1))if(!Cc(i)&&typeof i!="boolean")return!1;return!0;default:return!0}}const gy={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Eh(l){if(l==null)return{filter:()=>!0,needGeometry:!1};Cc(l)||(l=Hu(l));const i=qu(l,gy);if(i.result==="error")throw new Error(i.value.map(c=>`${c.key}: ${c.message}`).join(", "));return{filter:(c,f,g)=>i.value.evaluate(c,f,{},g),needGeometry:Jm(l)}}function vy(l,i){return l<i?-1:l>i?1:0}function Jm(l){if(!Array.isArray(l))return!1;if(l[0]==="within")return!0;for(let i=1;i<l.length;i++)if(Jm(l[i]))return!0;return!1}function Hu(l){if(!l)return!0;const i=l[0];return l.length<=1?i!=="any":i==="=="?Ih(l[1],l[2],"=="):i==="!="?Tc(Ih(l[1],l[2],"==")):i==="<"||i===">"||i==="<="||i===">="?Ih(l[1],l[2],i):i==="any"?(c=l.slice(1),["any"].concat(c.map(Hu))):i==="all"?["all"].concat(l.slice(1).map(Hu)):i==="none"?["all"].concat(l.slice(1).map(Hu).map(Tc)):i==="in"?Qm(l[1],l.slice(2)):i==="!in"?Tc(Qm(l[1],l.slice(2))):i==="has"?ep(l[1]):i==="!has"?Tc(ep(l[1])):i!=="within"||l;var c}function Ih(l,i,c){switch(l){case"$type":return[`filter-type-${c}`,i];case"$id":return[`filter-id-${c}`,i];default:return[`filter-${c}`,l,i]}}function Qm(l,i){if(i.length===0)return!1;switch(l){case"$type":return["filter-type-in",["literal",i]];case"$id":return["filter-id-in",["literal",i]];default:return i.length>200&&!i.some(c=>typeof c!=typeof i[0])?["filter-in-large",l,["literal",i.sort(vy)]]:["filter-in-small",l,["literal",i]]}}function ep(l){switch(l){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",l]}}function Tc(l){return["!",l]}function Gu(l){const i=typeof l;if(i==="number"||i==="boolean"||i==="string"||l==null)return JSON.stringify(l);if(Array.isArray(l)){let g="[";for(const x of l)g+=`${Gu(x)},`;return`${g}]`}const c=Object.keys(l).sort();let f="{";for(let g=0;g<c.length;g++)f+=`${JSON.stringify(c[g])}:${Gu(l[c[g]])},`;return`${f}}`}function Wu(l){let i="";for(const c of yt)i+=`/${Gu(l[c])}`;return i}function tp(l){const i=l.value;return i?[new mt(l.key,i,"constants have been deprecated as of v8")]:[]}function Nr(l){return l instanceof Number||l instanceof String||l instanceof Boolean?l.valueOf():l}function Ho(l){if(Array.isArray(l))return l.map(Ho);if(l instanceof Object&&!(l instanceof Number||l instanceof String||l instanceof Boolean)){const i={};for(const c in l)i[c]=Ho(l[c]);return i}return Nr(l)}function ea(l){const i=l.key,c=l.value,f=l.valueSpec||{},g=l.objectElementValidators||{},x=l.style,S=l.styleSpec,A=l.validateSpec;let D=[];const F=Gn(c);if(F!=="object")return[new mt(i,c,`object expected, ${F} found`)];for(const V in c){const j=V.split(".")[0],W=f[j]||f["*"];let Q;if(g[j])Q=g[j];else if(f[j])Q=A;else if(g["*"])Q=g["*"];else{if(!f["*"]){D.push(new mt(i,c[V],`unknown property "${V}"`));continue}Q=A}D=D.concat(Q({key:(i&&`${i}.`)+V,value:c[V],valueSpec:W,style:x,styleSpec:S,object:c,objectKey:V,validateSpec:A},c))}for(const V in f)g[V]||f[V].required&&f[V].default===void 0&&c[V]===void 0&&D.push(new mt(i,c,`missing required property "${V}"`));return D}function Ol(l){const i=l.value,c=l.valueSpec,f=l.style,g=l.styleSpec,x=l.key,S=l.arrayElementValidator||l.validateSpec;if(Gn(i)!=="array")return[new mt(x,i,`array expected, ${Gn(i)} found`)];if(c.length&&i.length!==c.length)return[new mt(x,i,`array length ${c.length} expected, length ${i.length} found`)];if(c["min-length"]&&i.length<c["min-length"])return[new mt(x,i,`array length at least ${c["min-length"]} expected, length ${i.length} found`)];let A={type:c.value,values:c.values};g.$version<7&&(A.function=c.function),Gn(c.value)==="object"&&(A=c.value);let D=[];for(let F=0;F<i.length;F++)D=D.concat(S({array:i,arrayIndex:F,value:i[F],valueSpec:A,validateSpec:l.validateSpec,style:f,styleSpec:g,key:`${x}[${F}]`}));return D}function Ac(l){const i=l.key,c=l.value,f=l.valueSpec;let g=Gn(c);return g==="number"&&c!=c&&(g="NaN"),g!=="number"?[new mt(i,c,`number expected, ${g} found`)]:"minimum"in f&&c<f.minimum?[new mt(i,c,`${c} is less than the minimum value ${f.minimum}`)]:"maximum"in f&&c>f.maximum?[new mt(i,c,`${c} is greater than the maximum value ${f.maximum}`)]:[]}function Yu(l){const i=l.valueSpec,c=Nr(l.value.type);let f,g,x,S={};const A=c!=="categorical"&&l.value.property===void 0,D=!A,F=Gn(l.value.stops)==="array"&&Gn(l.value.stops[0])==="array"&&Gn(l.value.stops[0][0])==="object",V=ea({key:l.key,value:l.value,valueSpec:l.styleSpec.function,validateSpec:l.validateSpec,style:l.style,styleSpec:l.styleSpec,objectElementValidators:{stops:function(Q){if(c==="identity")return[new mt(Q.key,Q.value,'identity function may not have a "stops" property')];let ne=[];const ue=Q.value;return ne=ne.concat(Ol({key:Q.key,value:ue,valueSpec:Q.valueSpec,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec,arrayElementValidator:j})),Gn(ue)==="array"&&ue.length===0&&ne.push(new mt(Q.key,ue,"array must have at least one stop")),ne},default:function(Q){return Q.validateSpec({key:Q.key,value:Q.value,valueSpec:i,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec})}}});return c==="identity"&&A&&V.push(new mt(l.key,l.value,'missing required property "property"')),c==="identity"||l.value.stops||V.push(new mt(l.key,l.value,'missing required property "stops"')),c==="exponential"&&l.valueSpec.expression&&!kh(l.valueSpec)&&V.push(new mt(l.key,l.value,"exponential functions not supported")),l.styleSpec.$version>=8&&(D&&!Rl(l.valueSpec)?V.push(new mt(l.key,l.value,"property functions not supported")):A&&!Km(l.valueSpec)&&V.push(new mt(l.key,l.value,"zoom functions not supported"))),c!=="categorical"&&!F||l.value.property!==void 0||V.push(new mt(l.key,l.value,'"property" property is required')),V;function j(Q){let ne=[];const ue=Q.value,ye=Q.key;if(Gn(ue)!=="array")return[new mt(ye,ue,`array expected, ${Gn(ue)} found`)];if(ue.length!==2)return[new mt(ye,ue,`array length 2 expected, length ${ue.length} found`)];if(F){if(Gn(ue[0])!=="object")return[new mt(ye,ue,`object expected, ${Gn(ue[0])} found`)];if(ue[0].zoom===void 0)return[new mt(ye,ue,"object stop key must have zoom")];if(ue[0].value===void 0)return[new mt(ye,ue,"object stop key must have value")];if(x&&x>Nr(ue[0].zoom))return[new mt(ye,ue[0].zoom,"stop zoom values must appear in ascending order")];Nr(ue[0].zoom)!==x&&(x=Nr(ue[0].zoom),g=void 0,S={}),ne=ne.concat(ea({key:`${ye}[0]`,value:ue[0],valueSpec:{zoom:{}},validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec,objectElementValidators:{zoom:Ac,value:W}}))}else ne=ne.concat(W({key:`${ye}[0]`,value:ue[0],valueSpec:{},validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec},ue));return Uu(Ho(ue[1]))?ne.concat([new mt(`${ye}[1]`,ue[1],"expressions are not allowed in function stops.")]):ne.concat(Q.validateSpec({key:`${ye}[1]`,value:ue[1],valueSpec:i,validateSpec:Q.validateSpec,style:Q.style,styleSpec:Q.styleSpec}))}function W(Q,ne){const ue=Gn(Q.value),ye=Nr(Q.value),we=Q.value!==null?Q.value:ne;if(f){if(ue!==f)return[new mt(Q.key,we,`${ue} stop domain type must match previous stop domain type ${f}`)]}else f=ue;if(ue!=="number"&&ue!=="string"&&ue!=="boolean")return[new mt(Q.key,we,"stop domain value must be a number, string, or boolean")];if(ue!=="number"&&c!=="categorical"){let Oe=`number expected, ${ue} found`;return Rl(i)&&c===void 0&&(Oe+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new mt(Q.key,we,Oe)]}return c!=="categorical"||ue!=="number"||isFinite(ye)&&Math.floor(ye)===ye?c!=="categorical"&&ue==="number"&&g!==void 0&&ye<g?[new mt(Q.key,we,"stop domain values must appear in ascending order")]:(g=ye,c==="categorical"&&ye in S?[new mt(Q.key,we,"stop domain values must be unique")]:(S[ye]=!0,[])):[new mt(Q.key,we,`integer expected, found ${ye}`)]}}function Go(l){const i=(l.expressionContext==="property"?Ah:qu)(Ho(l.value),l.valueSpec);if(i.result==="error")return i.value.map(f=>new mt(`${l.key}${f.key}`,l.value,f.message));const c=i.value.expression||i.value._styleExpression.expression;if(l.expressionContext==="property"&&l.propertyKey==="text-font"&&!c.outputDefined())return[new mt(l.key,l.value,`Invalid data expression for "${l.propertyKey}". Output values must be contained as literals within the expression.`)];if(l.expressionContext==="property"&&l.propertyType==="layout"&&!xc(c))return[new mt(l.key,l.value,'"feature-state" data expressions are not supported with layout properties.')];if(l.expressionContext==="filter"&&!xc(c))return[new mt(l.key,l.value,'"feature-state" data expressions are not supported with filters.')];if(l.expressionContext&&l.expressionContext.indexOf("cluster")===0){if(!Ou(c,["zoom","feature-state"]))return[new mt(l.key,l.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(l.expressionContext==="cluster-initial"&&!Ru(c))return[new mt(l.key,l.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ec(l){const i=l.key,c=l.value,f=l.valueSpec,g=[];return Array.isArray(f.values)?f.values.indexOf(Nr(c))===-1&&g.push(new mt(i,c,`expected one of [${f.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(f.values).indexOf(Nr(c))===-1&&g.push(new mt(i,c,`expected one of [${Object.keys(f.values).join(", ")}], ${JSON.stringify(c)} found`)),g}function Fl(l){return Cc(Ho(l.value))?Go(sr({},l,{expressionContext:"filter",valueSpec:{value:"boolean"}})):np(l)}function np(l){const i=l.value,c=l.key;if(Gn(i)!=="array")return[new mt(c,i,`array expected, ${Gn(i)} found`)];const f=l.styleSpec;let g,x=[];if(i.length<1)return[new mt(c,i,"filter array must have at least 1 element")];switch(x=x.concat(Ec({key:`${c}[0]`,value:i[0],valueSpec:f.filter_operator,style:l.style,styleSpec:l.styleSpec})),Nr(i[0])){case"<":case"<=":case">":case">=":i.length>=2&&Nr(i[1])==="$type"&&x.push(new mt(c,i,`"$type" cannot be use with operator "${i[0]}"`));case"==":case"!=":i.length!==3&&x.push(new mt(c,i,`filter array for operator "${i[0]}" must have 3 elements`));case"in":case"!in":i.length>=2&&(g=Gn(i[1]),g!=="string"&&x.push(new mt(`${c}[1]`,i[1],`string expected, ${g} found`)));for(let S=2;S<i.length;S++)g=Gn(i[S]),Nr(i[1])==="$type"?x=x.concat(Ec({key:`${c}[${S}]`,value:i[S],valueSpec:f.geometry_type,style:l.style,styleSpec:l.styleSpec})):g!=="string"&&g!=="number"&&g!=="boolean"&&x.push(new mt(`${c}[${S}]`,i[S],`string, number, or boolean expected, ${g} found`));break;case"any":case"all":case"none":for(let S=1;S<i.length;S++)x=x.concat(np({key:`${c}[${S}]`,value:i[S],style:l.style,styleSpec:l.styleSpec}));break;case"has":case"!has":g=Gn(i[1]),i.length!==2?x.push(new mt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):g!=="string"&&x.push(new mt(`${c}[1]`,i[1],`string expected, ${g} found`));break;case"within":g=Gn(i[1]),i.length!==2?x.push(new mt(c,i,`filter array for "${i[0]}" operator must have 2 elements`)):g!=="object"&&x.push(new mt(`${c}[1]`,i[1],`object expected, ${g} found`))}return x}function rp(l,i){const c=l.key,f=l.validateSpec,g=l.style,x=l.styleSpec,S=l.value,A=l.objectKey,D=x[`${i}_${l.layerType}`];if(!D)return[];const F=A.match(/^(.*)-transition$/);if(i==="paint"&&F&&D[F[1]]&&D[F[1]].transition)return f({key:c,value:S,valueSpec:x.transition,style:g,styleSpec:x});const V=l.valueSpec||D[A];if(!V)return[new mt(c,S,`unknown property "${A}"`)];let j;if(Gn(S)==="string"&&Rl(V)&&!V.tokens&&(j=/^{([^}]+)}$/.exec(S)))return[new mt(c,S,`"${A}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(j[1])} }\`.`)];const W=[];return l.layerType==="symbol"&&(A==="text-field"&&g&&!g.glyphs&&W.push(new mt(c,S,'use of "text-field" requires a style "glyphs" property')),A==="text-font"&&Mr(Ho(S))&&Nr(S.type)==="identity"&&W.push(new mt(c,S,'"text-font" does not support identity functions'))),W.concat(f({key:l.key,value:S,valueSpec:V,style:g,styleSpec:x,expressionContext:"property",propertyType:i,propertyKey:A}))}function ip(l){return rp(l,"paint")}function ap(l){return rp(l,"layout")}function sp(l){let i=[];const c=l.value,f=l.key,g=l.style,x=l.styleSpec;c.type||c.ref||i.push(new mt(f,c,'either "type" or "ref" is required'));let S=Nr(c.type);const A=Nr(c.ref);if(c.id){const D=Nr(c.id);for(let F=0;F<l.arrayIndex;F++){const V=g.layers[F];Nr(V.id)===D&&i.push(new mt(f,c.id,`duplicate layer id "${c.id}", previously used at line ${V.id.__line__}`))}}if("ref"in c){let D;["type","source","source-layer","filter","layout"].forEach(F=>{F in c&&i.push(new mt(f,c[F],`"${F}" is prohibited for ref layers`))}),g.layers.forEach(F=>{Nr(F.id)===A&&(D=F)}),D?D.ref?i.push(new mt(f,c.ref,"ref cannot reference another ref layer")):S=Nr(D.type):i.push(new mt(f,c.ref,`ref layer "${A}" not found`))}else if(S!=="background")if(c.source){const D=g.sources&&g.sources[c.source],F=D&&Nr(D.type);D?F==="vector"&&S==="raster"?i.push(new mt(f,c.source,`layer "${c.id}" requires a raster source`)):F!=="raster-dem"&&S==="hillshade"?i.push(new mt(f,c.source,`layer "${c.id}" requires a raster-dem source`)):F==="raster"&&S!=="raster"?i.push(new mt(f,c.source,`layer "${c.id}" requires a vector source`)):F!=="vector"||c["source-layer"]?F==="raster-dem"&&S!=="hillshade"?i.push(new mt(f,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!c.paint||!c.paint["line-gradient"]||F==="geojson"&&D.lineMetrics||i.push(new mt(f,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):i.push(new mt(f,c,`layer "${c.id}" must specify a "source-layer"`)):i.push(new mt(f,c.source,`source "${c.source}" not found`))}else i.push(new mt(f,c,'missing required property "source"'));return i=i.concat(ea({key:f,value:c,valueSpec:x.layer,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,objectElementValidators:{"*":()=>[],type:()=>l.validateSpec({key:`${f}.type`,value:c.type,valueSpec:x.layer.type,style:l.style,styleSpec:l.styleSpec,validateSpec:l.validateSpec,object:c,objectKey:"type"}),filter:Fl,layout:D=>ea({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":F=>ap(sr({layerType:S},F))}}),paint:D=>ea({layer:c,key:D.key,value:D.value,style:D.style,styleSpec:D.styleSpec,validateSpec:D.validateSpec,objectElementValidators:{"*":F=>ip(sr({layerType:S},F))}})}})),i}function fs(l){const i=l.value,c=l.key,f=Gn(i);return f!=="string"?[new mt(c,i,`string expected, ${f} found`)]:[]}const Ic={promoteId:function({key:l,value:i}){if(Gn(i)==="string")return fs({key:l,value:i});{const c=[];for(const f in i)c.push(...fs({key:`${l}.${f}`,value:i[f]}));return c}}};function ba(l){const i=l.value,c=l.key,f=l.styleSpec,g=l.style,x=l.validateSpec;if(!i.type)return[new mt(c,i,'"type" is required')];const S=Nr(i.type);let A;switch(S){case"vector":case"raster":return A=ea({key:c,value:i,valueSpec:f[`source_${S.replace("-","_")}`],style:l.style,styleSpec:f,objectElementValidators:Ic,validateSpec:x}),A;case"raster-dem":return A=function(D){var F;const V=(F=D.sourceName)!==null&&F!==void 0?F:"",j=D.value,W=D.styleSpec,Q=W.source_raster_dem,ne=D.style;let ue=[];const ye=Gn(j);if(j===void 0)return ue;if(ye!=="object")return ue.push(new mt("source_raster_dem",j,`object expected, ${ye} found`)),ue;const we=Nr(j.encoding)==="custom",Oe=["redFactor","greenFactor","blueFactor","baseShift"],Te=D.value.encoding?`"${D.value.encoding}"`:"Default";for(const Be in j)!we&&Oe.includes(Be)?ue.push(new mt(Be,j[Be],`In "${V}": "${Be}" is only valid when "encoding" is set to "custom". ${Te} encoding found`)):Q[Be]?ue=ue.concat(D.validateSpec({key:Be,value:j[Be],valueSpec:Q[Be],validateSpec:D.validateSpec,style:ne,styleSpec:W})):ue.push(new mt(Be,j[Be],`unknown property "${Be}"`));return ue}({sourceName:c,value:i,style:l.style,styleSpec:f,validateSpec:x}),A;case"geojson":if(A=ea({key:c,value:i,valueSpec:f.source_geojson,style:g,styleSpec:f,validateSpec:x,objectElementValidators:Ic}),i.cluster)for(const D in i.clusterProperties){const[F,V]=i.clusterProperties[D],j=typeof F=="string"?[F,["accumulated"],["get",D]]:F;A.push(...Go({key:`${c}.${D}.map`,value:V,validateSpec:x,expressionContext:"cluster-map"})),A.push(...Go({key:`${c}.${D}.reduce`,value:j,validateSpec:x,expressionContext:"cluster-reduce"}))}return A;case"video":return ea({key:c,value:i,valueSpec:f.source_video,style:g,validateSpec:x,styleSpec:f});case"image":return ea({key:c,value:i,valueSpec:f.source_image,style:g,validateSpec:x,styleSpec:f});case"canvas":return[new mt(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Ec({key:`${c}.type`,value:i.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:g,validateSpec:x,styleSpec:f})}}function Pc(l){const i=l.value,c=l.styleSpec,f=c.light,g=l.style;let x=[];const S=Gn(i);if(i===void 0)return x;if(S!=="object")return x=x.concat([new mt("light",i,`object expected, ${S} found`)]),x;for(const A in i){const D=A.match(/^(.*)-transition$/);x=x.concat(D&&f[D[1]]&&f[D[1]].transition?l.validateSpec({key:A,value:i[A],valueSpec:c.transition,validateSpec:l.validateSpec,style:g,styleSpec:c}):f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new mt(A,i[A],`unknown property "${A}"`)])}return x}function op(l){const i=l.value,c=l.styleSpec,f=c.terrain,g=l.style;let x=[];const S=Gn(i);if(i===void 0)return x;if(S!=="object")return x=x.concat([new mt("terrain",i,`object expected, ${S} found`)]),x;for(const A in i)x=x.concat(f[A]?l.validateSpec({key:A,value:i[A],valueSpec:f[A],validateSpec:l.validateSpec,style:g,styleSpec:c}):[new mt(A,i[A],`unknown property "${A}"`)]);return x}function lp(l){let i=[];const c=l.value,f=l.key;if(Array.isArray(c)){const g=[],x=[];for(const S in c)c[S].id&&g.includes(c[S].id)&&i.push(new mt(f,c,`all the sprites' ids must be unique, but ${c[S].id} is duplicated`)),g.push(c[S].id),c[S].url&&x.includes(c[S].url)&&i.push(new mt(f,c,`all the sprites' URLs must be unique, but ${c[S].url} is duplicated`)),x.push(c[S].url),i=i.concat(ea({key:`${f}[${S}]`,value:c[S],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:l.validateSpec}));return i}return fs({key:f,value:c})}const cp={"*":()=>[],array:Ol,boolean:function(l){const i=l.value,c=l.key,f=Gn(i);return f!=="boolean"?[new mt(c,i,`boolean expected, ${f} found`)]:[]},number:Ac,color:function(l){const i=l.key,c=l.value,f=Gn(c);return f!=="string"?[new mt(i,c,`color expected, ${f} found`)]:tr.parse(String(c))?[]:[new mt(i,c,`color expected, "${c}" found`)]},constants:tp,enum:Ec,filter:Fl,function:Yu,layer:sp,object:ea,source:ba,light:Pc,terrain:op,string:fs,formatted:function(l){return fs(l).length===0?[]:Go(l)},resolvedImage:function(l){return fs(l).length===0?[]:Go(l)},padding:function(l){const i=l.key,c=l.value;if(Gn(c)==="array"){if(c.length<1||c.length>4)return[new mt(i,c,`padding requires 1 to 4 values; ${c.length} values found`)];const f={type:"number"};let g=[];for(let x=0;x<c.length;x++)g=g.concat(l.validateSpec({key:`${i}[${x}]`,value:c[x],validateSpec:l.validateSpec,valueSpec:f}));return g}return Ac({key:i,value:c,valueSpec:{}})},variableAnchorOffsetCollection:function(l){const i=l.key,c=l.value,f=Gn(c),g=l.styleSpec;if(f!=="array"||c.length<1||c.length%2!=0)return[new mt(i,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let x=[];for(let S=0;S<c.length;S+=2)x=x.concat(Ec({key:`${i}[${S}]`,value:c[S],valueSpec:g.layout_symbol["text-anchor"]})),x=x.concat(Ol({key:`${i}[${S+1}]`,value:c[S+1],valueSpec:{length:2,value:"number"},validateSpec:l.validateSpec,style:l.style,styleSpec:g}));return x},sprite:lp};function Fs(l){const i=l.value,c=l.valueSpec,f=l.styleSpec;return l.validateSpec=Fs,c.expression&&Mr(Nr(i))?Yu(l):c.expression&&Uu(Ho(i))?Go(l):c.type&&cp[c.type]?cp[c.type](l):ea(sr({},l,{valueSpec:c.type?f[c.type]:c}))}function up(l){const i=l.value,c=l.key,f=fs(l);return f.length||(i.indexOf("{fontstack}")===-1&&f.push(new mt(c,i,'"glyphs" url must include a "{fontstack}" token')),i.indexOf("{range}")===-1&&f.push(new mt(c,i,'"glyphs" url must include a "{range}" token'))),f}function Oa(l,i=ke){let c=[];return c=c.concat(Fs({key:"",value:l,valueSpec:i.$root,styleSpec:i,style:l,validateSpec:Fs,objectElementValidators:{glyphs:up,"*":()=>[]}})),l.constants&&(c=c.concat(tp({key:"constants",value:l.constants,style:l,styleSpec:i,validateSpec:Fs}))),Zu(c)}function zs(l){return function(i){return l({...i,validateSpec:Fs})}}function Zu(l){return[].concat(l).sort((i,c)=>i.line-c.line)}function Bs(l){return function(...i){return Zu(l.apply(this,i))}}Oa.source=Bs(zs(ba)),Oa.sprite=Bs(zs(lp)),Oa.glyphs=Bs(zs(up)),Oa.light=Bs(zs(Pc)),Oa.terrain=Bs(zs(op)),Oa.layer=Bs(zs(sp)),Oa.filter=Bs(zs(Fl)),Oa.paintProperty=Bs(zs(ip)),Oa.layoutProperty=Bs(zs(ap));const Vs=Oa,yy=Vs.light,Ph=Vs.paintProperty,dp=Vs.layoutProperty;function Ku(l,i){let c=!1;if(i&&i.length)for(const f of i)l.fire(new tt(new Error(f.message))),c=!0;return c}class zl{constructor(i,c,f){const g=this.cells=[];if(i instanceof ArrayBuffer){this.arrayBuffer=i;const S=new Int32Array(this.arrayBuffer);i=S[0],this.d=(c=S[1])+2*(f=S[2]);for(let D=0;D<this.d*this.d;D++){const F=S[3+D],V=S[3+D+1];g.push(F===V?null:S.subarray(F,V))}const A=S[3+g.length+1];this.keys=S.subarray(S[3+g.length],A),this.bboxes=S.subarray(A),this.insert=this._insertReadonly}else{this.d=c+2*f;for(let S=0;S<this.d*this.d;S++)g.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=i,this.padding=f,this.scale=c/i,this.uid=0;const x=f/c*i;this.min=-x,this.max=i+x}insert(i,c,f,g,x){this._forEachCell(c,f,g,x,this._insertCell,this.uid++,void 0,void 0),this.keys.push(i),this.bboxes.push(c),this.bboxes.push(f),this.bboxes.push(g),this.bboxes.push(x)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(i,c,f,g,x,S){this.cells[x].push(S)}query(i,c,f,g,x){const S=this.min,A=this.max;if(i<=S&&c<=S&&A<=f&&A<=g&&!x)return Array.prototype.slice.call(this.keys);{const D=[];return this._forEachCell(i,c,f,g,this._queryCell,D,{},x),D}}_queryCell(i,c,f,g,x,S,A,D){const F=this.cells[x];if(F!==null){const V=this.keys,j=this.bboxes;for(let W=0;W<F.length;W++){const Q=F[W];if(A[Q]===void 0){const ne=4*Q;(D?D(j[ne+0],j[ne+1],j[ne+2],j[ne+3]):i<=j[ne+2]&&c<=j[ne+3]&&f>=j[ne+0]&&g>=j[ne+1])?(A[Q]=!0,S.push(V[Q])):A[Q]=!1}}}}_forEachCell(i,c,f,g,x,S,A,D){const F=this._convertToCellCoord(i),V=this._convertToCellCoord(c),j=this._convertToCellCoord(f),W=this._convertToCellCoord(g);for(let Q=F;Q<=j;Q++)for(let ne=V;ne<=W;ne++){const ue=this.d*ne+Q;if((!D||D(this._convertFromCellCoord(Q),this._convertFromCellCoord(ne),this._convertFromCellCoord(Q+1),this._convertFromCellCoord(ne+1)))&&x.call(this,i,c,f,g,ue,S,A,D))return}}_convertFromCellCoord(i){return(i-this.padding)/this.scale}_convertToCellCoord(i){return Math.max(0,Math.min(this.d-1,Math.floor(i*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const i=this.cells,c=3+this.cells.length+1+1;let f=0;for(let S=0;S<this.cells.length;S++)f+=this.cells[S].length;const g=new Int32Array(c+f+this.keys.length+this.bboxes.length);g[0]=this.extent,g[1]=this.n,g[2]=this.padding;let x=c;for(let S=0;S<i.length;S++){const A=i[S];g[3+S]=x,g.set(A,x),x+=A.length}return g[3+i.length]=x,g.set(this.keys,x),x+=this.keys.length,g[3+i.length+1]=x,g.set(this.bboxes,x),x+=this.bboxes.length,g.buffer}static serialize(i,c){const f=i.toArrayBuffer();return c&&c.push(f),{buffer:f}}static deserialize(i){return new zl(i.buffer)}}const Ns={};function Ut(l,i,c={}){if(Ns[l])throw new Error(`${l} is already registered.`);Object.defineProperty(i,"_classRegistryKey",{value:l,writeable:!1}),Ns[l]={klass:i,omit:c.omit||[],shallow:c.shallow||[]}}Ut("Object",Object),Ut("TransferableGridIndex",zl),Ut("Color",tr),Ut("Error",Error),Ut("AJAXError",et),Ut("ResolvedImage",Ci),Ut("StylePropertyFunction",Sc),Ut("StyleExpression",Ch,{omit:["_evaluator"]}),Ut("ZoomDependentExpression",ju),Ut("ZoomConstantExpression",Th),Ut("CompoundExpression",Ra,{omit:["_evaluate"]});for(const l in Ll)Ll[l]._classRegistryKey||Ut(`Expression_${l}`,Ll[l]);function Xu(l){return l&&typeof ArrayBuffer<"u"&&(l instanceof ArrayBuffer||l.constructor&&l.constructor.name==="ArrayBuffer")}function yo(l,i){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob)return l;if(Xu(l)||Ce(l))return i&&i.push(l),l;if(ArrayBuffer.isView(l)){const c=l;return i&&i.push(c.buffer),c}if(l instanceof ImageData)return i&&i.push(l.data.buffer),l;if(Array.isArray(l)){const c=[];for(const f of l)c.push(yo(f,i));return c}if(typeof l=="object"){const c=l.constructor,f=c._classRegistryKey;if(!f)throw new Error("can't serialize object of unregistered class");if(!Ns[f])throw new Error(`${f} is not registered.`);const g=c.serialize?c.serialize(l,i):{};if(c.serialize){if(i&&g===i[i.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const x in l){if(!l.hasOwnProperty(x)||Ns[f].omit.indexOf(x)>=0)continue;const S=l[x];g[x]=Ns[f].shallow.indexOf(x)>=0?S:yo(S,i)}l instanceof Error&&(g.message=l.message)}if(g.$name)throw new Error("$name property is reserved for worker serialization logic.");return f!=="Object"&&(g.$name=f),g}throw new Error("can't serialize object of type "+typeof l)}function Bl(l){if(l==null||typeof l=="boolean"||typeof l=="number"||typeof l=="string"||l instanceof Boolean||l instanceof Number||l instanceof String||l instanceof Date||l instanceof RegExp||l instanceof Blob||Xu(l)||Ce(l)||ArrayBuffer.isView(l)||l instanceof ImageData)return l;if(Array.isArray(l))return l.map(Bl);if(typeof l=="object"){const i=l.$name||"Object";if(!Ns[i])throw new Error(`can't deserialize unregistered class ${i}`);const{klass:c}=Ns[i];if(!c)throw new Error(`can't deserialize unregistered class ${i}`);if(c.deserialize)return c.deserialize(l);const f=Object.create(c.prototype);for(const g of Object.keys(l)){if(g==="$name")continue;const x=l[g];f[g]=Ns[i].shallow.indexOf(g)>=0?x:Bl(x)}return f}throw new Error("can't deserialize object of type "+typeof l)}class hp{constructor(){this.first=!0}update(i,c){const f=Math.floor(i);return this.first?(this.first=!1,this.lastIntegerZoom=f,this.lastIntegerZoomTime=0,this.lastZoom=i,this.lastFloorZoom=f,!0):(this.lastFloorZoom>f?(this.lastIntegerZoom=f+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<f&&(this.lastIntegerZoom=f,this.lastIntegerZoomTime=c),i!==this.lastZoom&&(this.lastZoom=i,this.lastFloorZoom=f,!0))}}const Vt={"Latin-1 Supplement":l=>l>=128&&l<=255,Arabic:l=>l>=1536&&l<=1791,"Arabic Supplement":l=>l>=1872&&l<=1919,"Arabic Extended-A":l=>l>=2208&&l<=2303,"Hangul Jamo":l=>l>=4352&&l<=4607,"Unified Canadian Aboriginal Syllabics":l=>l>=5120&&l<=5759,Khmer:l=>l>=6016&&l<=6143,"Unified Canadian Aboriginal Syllabics Extended":l=>l>=6320&&l<=6399,"General Punctuation":l=>l>=8192&&l<=8303,"Letterlike Symbols":l=>l>=8448&&l<=8527,"Number Forms":l=>l>=8528&&l<=8591,"Miscellaneous Technical":l=>l>=8960&&l<=9215,"Control Pictures":l=>l>=9216&&l<=9279,"Optical Character Recognition":l=>l>=9280&&l<=9311,"Enclosed Alphanumerics":l=>l>=9312&&l<=9471,"Geometric Shapes":l=>l>=9632&&l<=9727,"Miscellaneous Symbols":l=>l>=9728&&l<=9983,"Miscellaneous Symbols and Arrows":l=>l>=11008&&l<=11263,"CJK Radicals Supplement":l=>l>=11904&&l<=12031,"Kangxi Radicals":l=>l>=12032&&l<=12255,"Ideographic Description Characters":l=>l>=12272&&l<=12287,"CJK Symbols and Punctuation":l=>l>=12288&&l<=12351,Hiragana:l=>l>=12352&&l<=12447,Katakana:l=>l>=12448&&l<=12543,Bopomofo:l=>l>=12544&&l<=12591,"Hangul Compatibility Jamo":l=>l>=12592&&l<=12687,Kanbun:l=>l>=12688&&l<=12703,"Bopomofo Extended":l=>l>=12704&&l<=12735,"CJK Strokes":l=>l>=12736&&l<=12783,"Katakana Phonetic Extensions":l=>l>=12784&&l<=12799,"Enclosed CJK Letters and Months":l=>l>=12800&&l<=13055,"CJK Compatibility":l=>l>=13056&&l<=13311,"CJK Unified Ideographs Extension A":l=>l>=13312&&l<=19903,"Yijing Hexagram Symbols":l=>l>=19904&&l<=19967,"CJK Unified Ideographs":l=>l>=19968&&l<=40959,"Yi Syllables":l=>l>=40960&&l<=42127,"Yi Radicals":l=>l>=42128&&l<=42191,"Hangul Jamo Extended-A":l=>l>=43360&&l<=43391,"Hangul Syllables":l=>l>=44032&&l<=55215,"Hangul Jamo Extended-B":l=>l>=55216&&l<=55295,"Private Use Area":l=>l>=57344&&l<=63743,"CJK Compatibility Ideographs":l=>l>=63744&&l<=64255,"Arabic Presentation Forms-A":l=>l>=64336&&l<=65023,"Vertical Forms":l=>l>=65040&&l<=65055,"CJK Compatibility Forms":l=>l>=65072&&l<=65103,"Small Form Variants":l=>l>=65104&&l<=65135,"Arabic Presentation Forms-B":l=>l>=65136&&l<=65279,"Halfwidth and Fullwidth Forms":l=>l>=65280&&l<=65519};function Dh(l){for(const i of l)if(Lh(i.charCodeAt(0)))return!0;return!1}function Mh(l){for(const i of l)if(!_y(i.charCodeAt(0)))return!1;return!0}function _y(l){return!(Vt.Arabic(l)||Vt["Arabic Supplement"](l)||Vt["Arabic Extended-A"](l)||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l))}function Lh(l){return!(l!==746&&l!==747&&(l<4352||!(Vt["Bopomofo Extended"](l)||Vt.Bopomofo(l)||Vt["CJK Compatibility Forms"](l)&&!(l>=65097&&l<=65103)||Vt["CJK Compatibility Ideographs"](l)||Vt["CJK Compatibility"](l)||Vt["CJK Radicals Supplement"](l)||Vt["CJK Strokes"](l)||!(!Vt["CJK Symbols and Punctuation"](l)||l>=12296&&l<=12305||l>=12308&&l<=12319||l===12336)||Vt["CJK Unified Ideographs Extension A"](l)||Vt["CJK Unified Ideographs"](l)||Vt["Enclosed CJK Letters and Months"](l)||Vt["Hangul Compatibility Jamo"](l)||Vt["Hangul Jamo Extended-A"](l)||Vt["Hangul Jamo Extended-B"](l)||Vt["Hangul Jamo"](l)||Vt["Hangul Syllables"](l)||Vt.Hiragana(l)||Vt["Ideographic Description Characters"](l)||Vt.Kanbun(l)||Vt["Kangxi Radicals"](l)||Vt["Katakana Phonetic Extensions"](l)||Vt.Katakana(l)&&l!==12540||!(!Vt["Halfwidth and Fullwidth Forms"](l)||l===65288||l===65289||l===65293||l>=65306&&l<=65310||l===65339||l===65341||l===65343||l>=65371&&l<=65503||l===65507||l>=65512&&l<=65519)||!(!Vt["Small Form Variants"](l)||l>=65112&&l<=65118||l>=65123&&l<=65126)||Vt["Unified Canadian Aboriginal Syllabics"](l)||Vt["Unified Canadian Aboriginal Syllabics Extended"](l)||Vt["Vertical Forms"](l)||Vt["Yijing Hexagram Symbols"](l)||Vt["Yi Syllables"](l)||Vt["Yi Radicals"](l))))}function fp(l){return!(Lh(l)||function(i){return!!(Vt["Latin-1 Supplement"](i)&&(i===167||i===169||i===174||i===177||i===188||i===189||i===190||i===215||i===247)||Vt["General Punctuation"](i)&&(i===8214||i===8224||i===8225||i===8240||i===8241||i===8251||i===8252||i===8258||i===8263||i===8264||i===8265||i===8273)||Vt["Letterlike Symbols"](i)||Vt["Number Forms"](i)||Vt["Miscellaneous Technical"](i)&&(i>=8960&&i<=8967||i>=8972&&i<=8991||i>=8996&&i<=9e3||i===9003||i>=9085&&i<=9114||i>=9150&&i<=9165||i===9167||i>=9169&&i<=9179||i>=9186&&i<=9215)||Vt["Control Pictures"](i)&&i!==9251||Vt["Optical Character Recognition"](i)||Vt["Enclosed Alphanumerics"](i)||Vt["Geometric Shapes"](i)||Vt["Miscellaneous Symbols"](i)&&!(i>=9754&&i<=9759)||Vt["Miscellaneous Symbols and Arrows"](i)&&(i>=11026&&i<=11055||i>=11088&&i<=11097||i>=11192&&i<=11243)||Vt["CJK Symbols and Punctuation"](i)||Vt.Katakana(i)||Vt["Private Use Area"](i)||Vt["CJK Compatibility Forms"](i)||Vt["Small Form Variants"](i)||Vt["Halfwidth and Fullwidth Forms"](i)||i===8734||i===8756||i===8757||i>=9984&&i<=10087||i>=10102&&i<=10131||i===65532||i===65533)}(l))}function mp(l){return l>=1424&&l<=2303||Vt["Arabic Presentation Forms-A"](l)||Vt["Arabic Presentation Forms-B"](l)}function pp(l,i){return!(!i&&mp(l)||l>=2304&&l<=3583||l>=3840&&l<=4255||Vt.Khmer(l))}function by(l){for(const i of l)if(mp(i.charCodeAt(0)))return!0;return!1}const Rh="deferred",Oh="loading",Fh="loaded";let zh=null,ta="unavailable",_o=null;const Dc=function(l){l&&typeof l=="string"&&l.indexOf("NetworkError")>-1&&(ta="error"),zh&&zh(l)};function Bh(){Mc.fire(new Ze("pluginStateChange",{pluginStatus:ta,pluginURL:_o}))}const Mc=new Tt,Vh=function(){return ta},gp=function(){if(ta!==Rh||!_o)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ta=Oh,Bh(),_o&&se({url:_o},l=>{l?Dc(l):(ta=Fh,Bh())})},xa={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>ta===Fh||xa.applyArabicShaping!=null,isLoading:()=>ta===Oh,setState(l){if(!Ue())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");ta=l.pluginStatus,_o=l.pluginURL},isParsed(){if(!Ue())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return xa.applyArabicShaping!=null&&xa.processBidirectionalText!=null&&xa.processStyledBidirectionalText!=null},getPluginURL(){if(!Ue())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return _o}};class xr{constructor(i,c){this.zoom=i,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.zoomHistory=c.zoomHistory,this.transition=c.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new hp,this.transition={})}isSupportedScript(i){return function(c,f){for(const g of c)if(!pp(g.charCodeAt(0),f))return!1;return!0}(i,xa.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const i=this.zoom,c=i-Math.floor(i),f=this.crossFadingFactor();return i>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*f}:{fromScale:.5,toScale:1,t:1-(1-f)*c}}}class Ju{constructor(i,c){this.property=i,this.value=c,this.expression=function(f,g){if(Mr(f))return new Sc(f,g);if(Uu(f)){const x=Ah(f,g);if(x.result==="error")throw new Error(x.value.map(S=>`${S.key}: ${S.message}`).join(", "));return x.value}{let x=f;return g.type==="color"&&typeof f=="string"?x=tr.parse(f):g.type!=="padding"||typeof f!="number"&&!Array.isArray(f)?g.type==="variableAnchorOffsetCollection"&&Array.isArray(f)&&(x=Ma.parse(f)):x=va.parse(f),{kind:"constant",evaluate:()=>x}}}(c===void 0?i.specification.default:c,i.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(i,c,f){return this.property.possiblyEvaluate(this,i,c,f)}}class Nh{constructor(i){this.property=i,this.value=new Ju(i,void 0)}transitioned(i,c){return new yp(this.property,this.value,c,H({},i.transition,this.transition),i.now)}untransitioned(){return new yp(this.property,this.value,null,{},0)}}class vp{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitionablePropertyValues)}getValue(i){return te(this._values[i].value.value)}setValue(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Nh(this._values[i].property)),this._values[i].value=new Ju(this._values[i].property,c===null?void 0:te(c))}getTransition(i){return te(this._values[i].transition)}setTransition(i,c){Object.prototype.hasOwnProperty.call(this._values,i)||(this._values[i]=new Nh(this._values[i].property)),this._values[i].transition=te(c)||void 0}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f);const g=this.getTransition(c);g!==void 0&&(i[`${c}-transition`]=g)}return i}transitioned(i,c){const f=new _p(this._properties);for(const g of Object.keys(this._values))f._values[g]=this._values[g].transitioned(i,c._values[g]);return f}untransitioned(){const i=new _p(this._properties);for(const c of Object.keys(this._values))i._values[c]=this._values[c].untransitioned();return i}}class yp{constructor(i,c,f,g,x){this.property=i,this.value=c,this.begin=x+g.delay||0,this.end=this.begin+g.duration||0,i.specification.transition&&(g.delay||g.duration)&&(this.prior=f)}possiblyEvaluate(i,c,f){const g=i.now||0,x=this.value.possiblyEvaluate(i,c,f),S=this.prior;if(S){if(g>this.end)return this.prior=null,x;if(this.value.isDataDriven())return this.prior=null,x;if(g<this.begin)return S.possiblyEvaluate(i,c,f);{const A=(g-this.begin)/(this.end-this.begin);return this.property.interpolate(S.possiblyEvaluate(i,c,f),x,function(D){if(D<=0)return 0;if(D>=1)return 1;const F=D*D,V=F*D;return 4*(D<.5?V:3*(D-F)+V-.75)}(A))}}return x}}class _p{constructor(i){this._properties=i,this._values=Object.create(i.defaultTransitioningPropertyValues)}possiblyEvaluate(i,c,f){const g=new Qu(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(i,c,f);return g}hasTransition(){for(const i of Object.keys(this._values))if(this._values[i].prior)return!0;return!1}}class xy{constructor(i){this._properties=i,this._values=Object.create(i.defaultPropertyValues)}hasValue(i){return this._values[i].value!==void 0}getValue(i){return te(this._values[i].value)}setValue(i,c){this._values[i]=new Ju(this._values[i].property,c===null?void 0:te(c))}serialize(){const i={};for(const c of Object.keys(this._values)){const f=this.getValue(c);f!==void 0&&(i[c]=f)}return i}possiblyEvaluate(i,c,f){const g=new Qu(this._properties);for(const x of Object.keys(this._values))g._values[x]=this._values[x].possiblyEvaluate(i,c,f);return g}}class qi{constructor(i,c,f){this.property=i,this.value=c,this.parameters=f}isConstant(){return this.value.kind==="constant"}constantOr(i){return this.value.kind==="constant"?this.value.value:i}evaluate(i,c,f,g){return this.property.evaluate(this.value,this.parameters,i,c,f,g)}}class Qu{constructor(i){this._properties=i,this._values=Object.create(i.defaultPossiblyEvaluatedValues)}get(i){return this._values[i]}}class Qt{constructor(i){this.specification=i}possiblyEvaluate(i,c){if(i.isDataDriven())throw new Error("Value should not be data driven");return i.expression.evaluate(c)}interpolate(i,c,f){const g=ya[this.specification.type];return g?g(i,c,f):i}}class on{constructor(i,c){this.specification=i,this.overrides=c}possiblyEvaluate(i,c,f,g){return new qi(this,i.expression.kind==="constant"||i.expression.kind==="camera"?{kind:"constant",value:i.expression.evaluate(c,null,{},f,g)}:i.expression,c)}interpolate(i,c,f){if(i.value.kind!=="constant"||c.value.kind!=="constant")return i;if(i.value.value===void 0||c.value.value===void 0)return new qi(this,{kind:"constant",value:void 0},i.parameters);const g=ya[this.specification.type];if(g){const x=g(i.value.value,c.value.value,f);return new qi(this,{kind:"constant",value:x},i.parameters)}return i}evaluate(i,c,f,g,x,S){return i.kind==="constant"?i.value:i.evaluate(c,f,g,x,S)}}class Lc extends on{possiblyEvaluate(i,c,f,g){if(i.value===void 0)return new qi(this,{kind:"constant",value:void 0},c);if(i.expression.kind==="constant"){const x=i.expression.evaluate(c,null,{},f,g),S=i.property.specification.type==="resolvedImage"&&typeof x!="string"?x.name:x,A=this._calculate(S,S,S,c);return new qi(this,{kind:"constant",value:A},c)}if(i.expression.kind==="camera"){const x=this._calculate(i.expression.evaluate({zoom:c.zoom-1}),i.expression.evaluate({zoom:c.zoom}),i.expression.evaluate({zoom:c.zoom+1}),c);return new qi(this,{kind:"constant",value:x},c)}return new qi(this,i.expression,c)}evaluate(i,c,f,g,x,S){if(i.kind==="source"){const A=i.evaluate(c,f,g,x,S);return this._calculate(A,A,A,c)}return i.kind==="composite"?this._calculate(i.evaluate({zoom:Math.floor(c.zoom)-1},f,g),i.evaluate({zoom:Math.floor(c.zoom)},f,g),i.evaluate({zoom:Math.floor(c.zoom)+1},f,g),c):i.value}_calculate(i,c,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class $h{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,g){if(i.value!==void 0){if(i.expression.kind==="constant"){const x=i.expression.evaluate(c,null,{},f,g);return this._calculate(x,x,x,c)}return this._calculate(i.expression.evaluate(new xr(Math.floor(c.zoom-1),c)),i.expression.evaluate(new xr(Math.floor(c.zoom),c)),i.expression.evaluate(new xr(Math.floor(c.zoom+1),c)),c)}}_calculate(i,c,f,g){return g.zoom>g.zoomHistory.lastIntegerZoom?{from:i,to:c}:{from:f,to:c}}interpolate(i){return i}}class Uh{constructor(i){this.specification=i}possiblyEvaluate(i,c,f,g){return!!i.expression.evaluate(c,null,{},f,g)}interpolate(){return!1}}class Xr{constructor(i){this.properties=i,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in i){const f=i[c];f.specification.overridable&&this.overridableProperties.push(c);const g=this.defaultPropertyValues[c]=new Ju(f,void 0),x=this.defaultTransitionablePropertyValues[c]=new Nh(f);this.defaultTransitioningPropertyValues[c]=x.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=g.possiblyEvaluate({})}}}Ut("DataDrivenProperty",on),Ut("DataConstantProperty",Qt),Ut("CrossFadedDataDrivenProperty",Lc),Ut("CrossFadedProperty",$h),Ut("ColorRampProperty",Uh);const qh="-transition";class Fa extends Tt{constructor(i,c){if(super(),this.id=i.id,this.type=i.type,this._featureFilter={filter:()=>!0,needGeometry:!1},i.type!=="custom"&&(this.metadata=i.metadata,this.minzoom=i.minzoom,this.maxzoom=i.maxzoom,i.type!=="background"&&(this.source=i.source,this.sourceLayer=i["source-layer"],this.filter=i.filter),c.layout&&(this._unevaluatedLayout=new xy(c.layout)),c.paint)){this._transitionablePaint=new vp(c.paint);for(const f in i.paint)this.setPaintProperty(f,i.paint[f],{validate:!1});for(const f in i.layout)this.setLayoutProperty(f,i.layout[f],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Qu(c.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(i){return i==="visibility"?this.visibility:this._unevaluatedLayout.getValue(i)}setLayoutProperty(i,c,f={}){c!=null&&this._validate(dp,`layers.${this.id}.layout.${i}`,i,c,f)||(i!=="visibility"?this._unevaluatedLayout.setValue(i,c):this.visibility=c)}getPaintProperty(i){return i.endsWith(qh)?this._transitionablePaint.getTransition(i.slice(0,-11)):this._transitionablePaint.getValue(i)}setPaintProperty(i,c,f={}){if(c!=null&&this._validate(Ph,`layers.${this.id}.paint.${i}`,i,c,f))return!1;if(i.endsWith(qh))return this._transitionablePaint.setTransition(i.slice(0,-11),c||void 0),!1;{const g=this._transitionablePaint._values[i],x=g.property.specification["property-type"]==="cross-faded-data-driven",S=g.value.isDataDriven(),A=g.value;this._transitionablePaint.setValue(i,c),this._handleSpecialPaintPropertyUpdate(i);const D=this._transitionablePaint._values[i].value;return D.isDataDriven()||S||x||this._handleOverridablePaintPropertyUpdate(i,A,D)}}_handleSpecialPaintPropertyUpdate(i){}_handleOverridablePaintPropertyUpdate(i,c,f){return!1}isHidden(i){return!!(this.minzoom&&i<this.minzoom)||!!(this.maxzoom&&i>=this.maxzoom)||this.visibility==="none"}updateTransitions(i){this._transitioningPaint=this._transitionablePaint.transitioned(i,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(i,c){i.getCrossfadeParameters&&(this._crossfadeParameters=i.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(i,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(i,void 0,c)}serialize(){const i={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(i.layout=i.layout||{},i.layout.visibility=this.visibility),ae(i,(c,f)=>!(c===void 0||f==="layout"&&!Object.keys(c).length||f==="paint"&&!Object.keys(c).length))}_validate(i,c,f,g,x={}){return(!x||x.validate!==!1)&&Ku(this,i.call(Vs,{key:c,layerType:this.type,objectKey:f,value:g,styleSpec:ke,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const i in this.paint._values){const c=this.paint.get(i);if(c instanceof qi&&Rl(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}const bp={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Wo{constructor(i,c){this._structArray=i,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class $r{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(i,c){return i._trim(),c&&(i.isTransferred=!0,c.push(i.arrayBuffer)),{length:i.length,arrayBuffer:i.arrayBuffer}}static deserialize(i){const c=Object.create(this.prototype);return c.arrayBuffer=i.arrayBuffer,c.length=i.length,c.capacity=i.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(i){this.reserve(i),this.length=i}reserve(i){if(i>this.capacity){this.capacity=Math.max(i,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Rr(l,i=1){let c=0,f=0;return{members:l.map(g=>{const x=bp[g.type].BYTES_PER_ELEMENT,S=c=Vl(c,Math.max(i,x)),A=g.components||1;return f=Math.max(f,x),c+=x*A,{name:g.name,type:g.type,components:A,offset:S}}),size:Vl(c,Math.max(f,i)),alignment:i}}function Vl(l,i){return Math.ceil(l/i)*i}class Rc extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.int16[g+0]=c,this.int16[g+1]=f,i}}Rc.prototype.bytesPerElement=4,Ut("StructArrayLayout2i4",Rc);class Oc extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.int16[x+0]=c,this.int16[x+1]=f,this.int16[x+2]=g,i}}Oc.prototype.bytesPerElement=6,Ut("StructArrayLayout3i6",Oc);class Yo extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,i,c,f,g)}emplace(i,c,f,g,x){const S=4*i;return this.int16[S+0]=c,this.int16[S+1]=f,this.int16[S+2]=g,this.int16[S+3]=x,i}}Yo.prototype.bytesPerElement=8,Ut("StructArrayLayout4i8",Yo);class jh extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,x,S)}emplace(i,c,f,g,x,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=g,this.int16[D+3]=x,this.int16[D+4]=S,this.int16[D+5]=A,i}}jh.prototype.bytesPerElement=12,Ut("StructArrayLayout2i4i12",jh);class Hh extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,x,S)}emplace(i,c,f,g,x,S,A){const D=4*i,F=8*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.uint8[F+4]=g,this.uint8[F+5]=x,this.uint8[F+6]=S,this.uint8[F+7]=A,i}}Hh.prototype.bytesPerElement=8,Ut("StructArrayLayout2i4ub8",Hh);class Nl extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.float32[g+0]=c,this.float32[g+1]=f,i}}Nl.prototype.bytesPerElement=8,Ut("StructArrayLayout2f8",Nl);class Gh extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,F,V){const j=this.length;return this.resize(j+1),this.emplace(j,i,c,f,g,x,S,A,D,F,V)}emplace(i,c,f,g,x,S,A,D,F,V,j){const W=10*i;return this.uint16[W+0]=c,this.uint16[W+1]=f,this.uint16[W+2]=g,this.uint16[W+3]=x,this.uint16[W+4]=S,this.uint16[W+5]=A,this.uint16[W+6]=D,this.uint16[W+7]=F,this.uint16[W+8]=V,this.uint16[W+9]=j,i}}Gh.prototype.bytesPerElement=20,Ut("StructArrayLayout10ui20",Gh);class Wh extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,F,V,j,W){const Q=this.length;return this.resize(Q+1),this.emplace(Q,i,c,f,g,x,S,A,D,F,V,j,W)}emplace(i,c,f,g,x,S,A,D,F,V,j,W,Q){const ne=12*i;return this.int16[ne+0]=c,this.int16[ne+1]=f,this.int16[ne+2]=g,this.int16[ne+3]=x,this.uint16[ne+4]=S,this.uint16[ne+5]=A,this.uint16[ne+6]=D,this.uint16[ne+7]=F,this.int16[ne+8]=V,this.int16[ne+9]=j,this.int16[ne+10]=W,this.int16[ne+11]=Q,i}}Wh.prototype.bytesPerElement=24,Ut("StructArrayLayout4i4ui4i24",Wh);class Wn extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.float32[x+0]=c,this.float32[x+1]=f,this.float32[x+2]=g,i}}Wn.prototype.bytesPerElement=12,Ut("StructArrayLayout3f12",Wn);class _ extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint32[1*i+0]=c,i}}_.prototype.bytesPerElement=4,Ut("StructArrayLayout1ul4",_);class a extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,F){const V=this.length;return this.resize(V+1),this.emplace(V,i,c,f,g,x,S,A,D,F)}emplace(i,c,f,g,x,S,A,D,F,V){const j=10*i,W=5*i;return this.int16[j+0]=c,this.int16[j+1]=f,this.int16[j+2]=g,this.int16[j+3]=x,this.int16[j+4]=S,this.int16[j+5]=A,this.uint32[W+3]=D,this.uint16[j+8]=F,this.uint16[j+9]=V,i}}a.prototype.bytesPerElement=20,Ut("StructArrayLayout6i1ul2ui20",a);class d extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S){const A=this.length;return this.resize(A+1),this.emplace(A,i,c,f,g,x,S)}emplace(i,c,f,g,x,S,A){const D=6*i;return this.int16[D+0]=c,this.int16[D+1]=f,this.int16[D+2]=g,this.int16[D+3]=x,this.int16[D+4]=S,this.int16[D+5]=A,i}}d.prototype.bytesPerElement=12,Ut("StructArrayLayout2i2i2i12",d);class m extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x){const S=this.length;return this.resize(S+1),this.emplace(S,i,c,f,g,x)}emplace(i,c,f,g,x,S){const A=4*i,D=8*i;return this.float32[A+0]=c,this.float32[A+1]=f,this.float32[A+2]=g,this.int16[D+6]=x,this.int16[D+7]=S,i}}m.prototype.bytesPerElement=16,Ut("StructArrayLayout2f1f2i16",m);class v extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,i,c,f,g)}emplace(i,c,f,g,x){const S=12*i,A=3*i;return this.uint8[S+0]=c,this.uint8[S+1]=f,this.float32[A+1]=g,this.float32[A+2]=x,i}}v.prototype.bytesPerElement=12,Ut("StructArrayLayout2ub2f12",v);class w extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.uint16[x+0]=c,this.uint16[x+1]=f,this.uint16[x+2]=g,i}}w.prototype.bytesPerElement=6,Ut("StructArrayLayout3ui6",w);class E extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,F,V,j,W,Q,ne,ue,ye,we){const Oe=this.length;return this.resize(Oe+1),this.emplace(Oe,i,c,f,g,x,S,A,D,F,V,j,W,Q,ne,ue,ye,we)}emplace(i,c,f,g,x,S,A,D,F,V,j,W,Q,ne,ue,ye,we,Oe){const Te=24*i,Be=12*i,Ge=48*i;return this.int16[Te+0]=c,this.int16[Te+1]=f,this.uint16[Te+2]=g,this.uint16[Te+3]=x,this.uint32[Be+2]=S,this.uint32[Be+3]=A,this.uint32[Be+4]=D,this.uint16[Te+10]=F,this.uint16[Te+11]=V,this.uint16[Te+12]=j,this.float32[Be+7]=W,this.float32[Be+8]=Q,this.uint8[Ge+36]=ne,this.uint8[Ge+37]=ue,this.uint8[Ge+38]=ye,this.uint32[Be+10]=we,this.int16[Te+22]=Oe,i}}E.prototype.bytesPerElement=48,Ut("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",E);class P extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g,x,S,A,D,F,V,j,W,Q,ne,ue,ye,we,Oe,Te,Be,Ge,ot,Nt,Zt,Bt,Ft,Dt,qt){const Mt=this.length;return this.resize(Mt+1),this.emplace(Mt,i,c,f,g,x,S,A,D,F,V,j,W,Q,ne,ue,ye,we,Oe,Te,Be,Ge,ot,Nt,Zt,Bt,Ft,Dt,qt)}emplace(i,c,f,g,x,S,A,D,F,V,j,W,Q,ne,ue,ye,we,Oe,Te,Be,Ge,ot,Nt,Zt,Bt,Ft,Dt,qt,Mt){const wt=32*i,nn=16*i;return this.int16[wt+0]=c,this.int16[wt+1]=f,this.int16[wt+2]=g,this.int16[wt+3]=x,this.int16[wt+4]=S,this.int16[wt+5]=A,this.int16[wt+6]=D,this.int16[wt+7]=F,this.uint16[wt+8]=V,this.uint16[wt+9]=j,this.uint16[wt+10]=W,this.uint16[wt+11]=Q,this.uint16[wt+12]=ne,this.uint16[wt+13]=ue,this.uint16[wt+14]=ye,this.uint16[wt+15]=we,this.uint16[wt+16]=Oe,this.uint16[wt+17]=Te,this.uint16[wt+18]=Be,this.uint16[wt+19]=Ge,this.uint16[wt+20]=ot,this.uint16[wt+21]=Nt,this.uint16[wt+22]=Zt,this.uint32[nn+12]=Bt,this.float32[nn+13]=Ft,this.float32[nn+14]=Dt,this.uint16[wt+30]=qt,this.uint16[wt+31]=Mt,i}}P.prototype.bytesPerElement=64,Ut("StructArrayLayout8i15ui1ul2f2ui64",P);class M extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.float32[1*i+0]=c,i}}M.prototype.bytesPerElement=4,Ut("StructArrayLayout1f4",M);class z extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=3*i;return this.uint16[6*i+0]=c,this.float32[x+1]=f,this.float32[x+2]=g,i}}z.prototype.bytesPerElement=12,Ut("StructArrayLayout1ui2f12",z);class N extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c,f){const g=this.length;return this.resize(g+1),this.emplace(g,i,c,f)}emplace(i,c,f,g){const x=4*i;return this.uint32[2*i+0]=c,this.uint16[x+2]=f,this.uint16[x+3]=g,i}}N.prototype.bytesPerElement=8,Ut("StructArrayLayout1ul2ui8",N);class U extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i,c){const f=this.length;return this.resize(f+1),this.emplace(f,i,c)}emplace(i,c,f){const g=2*i;return this.uint16[g+0]=c,this.uint16[g+1]=f,i}}U.prototype.bytesPerElement=4,Ut("StructArrayLayout2ui4",U);class X extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(i){const c=this.length;return this.resize(c+1),this.emplace(c,i)}emplace(i,c){return this.uint16[1*i+0]=c,i}}X.prototype.bytesPerElement=2,Ut("StructArrayLayout1ui2",X);class he extends $r{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(i,c,f,g){const x=this.length;return this.resize(x+1),this.emplace(x,i,c,f,g)}emplace(i,c,f,g,x){const S=4*i;return this.float32[S+0]=c,this.float32[S+1]=f,this.float32[S+2]=g,this.float32[S+3]=x,i}}he.prototype.bytesPerElement=16,Ut("StructArrayLayout4f16",he);class de extends Wo{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new C(this.anchorPointX,this.anchorPointY)}}de.prototype.size=20;class ge extends a{get(i){return new de(this,i)}}Ut("CollisionBoxArray",ge);class ce extends Wo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(i){this._structArray.uint8[this._pos1+37]=i}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(i){this._structArray.uint8[this._pos1+38]=i}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(i){this._structArray.uint32[this._pos4+10]=i}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ce.prototype.size=48;class De extends E{get(i){return new ce(this,i)}}Ut("PlacedSymbolArray",De);class He extends Wo{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(i){this._structArray.uint32[this._pos4+12]=i}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}He.prototype.size=64;class xe extends P{get(i){return new He(this,i)}}Ut("SymbolInstanceArray",xe);class Le extends M{getoffsetX(i){return this.float32[1*i+0]}}Ut("GlyphOffsetArray",Le);class Ye extends Oc{getx(i){return this.int16[3*i+0]}gety(i){return this.int16[3*i+1]}gettileUnitDistanceFromAnchor(i){return this.int16[3*i+2]}}Ut("SymbolLineVertexArray",Ye);class Ke extends Wo{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}Ke.prototype.size=12;class st extends z{get(i){return new Ke(this,i)}}Ut("TextAnchorOffsetArray",st);class xt extends Wo{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}xt.prototype.size=8;class pt extends N{get(i){return new xt(this,i)}}Ut("FeatureIndexArray",pt);class Et extends Rc{}class Yt extends Rc{}class Pn extends Rc{}class Ot extends jh{}class ln extends Hh{}class Kt extends Nl{}class nr extends Gh{}class In extends Wh{}class Sn extends Wn{}class Dn extends _{}class Hr extends d{}class gr extends v{}class Ti extends w{}class ci extends U{}const Jr=Rr([{name:"a_pos",components:2,type:"Int16"}],4),{members:wa}=Jr;class wr{constructor(i=[]){this.segments=i}prepareSegment(i,c,f,g){let x=this.segments[this.segments.length-1];return i>wr.MAX_VERTEX_ARRAY_LENGTH&&me(`Max vertices per segment is ${wr.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${i}`),(!x||x.vertexLength+i>wr.MAX_VERTEX_ARRAY_LENGTH||x.sortKey!==g)&&(x={vertexOffset:c.length,primitiveOffset:f.length,vertexLength:0,primitiveLength:0},g!==void 0&&(x.sortKey=g),this.segments.push(x)),x}get(){return this.segments}destroy(){for(const i of this.segments)for(const c in i.vaos)i.vaos[c].destroy()}static simpleSegment(i,c,f,g){return new wr([{vertexOffset:i,primitiveOffset:c,vertexLength:f,primitiveLength:g,vaos:{},sortKey:0}])}}function ms(l,i){return 256*(l=re(Math.floor(l),0,255))+re(Math.floor(i),0,255)}wr.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ut("SegmentVector",wr);const ps=Rr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var bo={exports:{}},Zo={exports:{}};Zo.exports=function(l,i){var c,f,g,x,S,A,D,F;for(f=l.length-(c=3&l.length),g=i,S=3432918353,A=461845907,F=0;F<f;)D=255&l.charCodeAt(F)|(255&l.charCodeAt(++F))<<8|(255&l.charCodeAt(++F))<<16|(255&l.charCodeAt(++F))<<24,++F,g=27492+(65535&(x=5*(65535&(g=(g^=D=(65535&(D=(D=(65535&D)*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295)<<13|g>>>19))+((5*(g>>>16)&65535)<<16)&4294967295))+((58964+(x>>>16)&65535)<<16);switch(D=0,c){case 3:D^=(255&l.charCodeAt(F+2))<<16;case 2:D^=(255&l.charCodeAt(F+1))<<8;case 1:g^=D=(65535&(D=(D=(65535&(D^=255&l.charCodeAt(F)))*S+(((D>>>16)*S&65535)<<16)&4294967295)<<15|D>>>17))*A+(((D>>>16)*A&65535)<<16)&4294967295}return g^=l.length,g=2246822507*(65535&(g^=g>>>16))+((2246822507*(g>>>16)&65535)<<16)&4294967295,g=3266489909*(65535&(g^=g>>>13))+((3266489909*(g>>>16)&65535)<<16)&4294967295,(g^=g>>>16)>>>0};var $l=Zo.exports,Oi={exports:{}};Oi.exports=function(l,i){for(var c,f=l.length,g=i^f,x=0;f>=4;)c=1540483477*(65535&(c=255&l.charCodeAt(x)|(255&l.charCodeAt(++x))<<8|(255&l.charCodeAt(++x))<<16|(255&l.charCodeAt(++x))<<24))+((1540483477*(c>>>16)&65535)<<16),g=1540483477*(65535&g)+((1540483477*(g>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),f-=4,++x;switch(f){case 3:g^=(255&l.charCodeAt(x+2))<<16;case 2:g^=(255&l.charCodeAt(x+1))<<8;case 1:g=1540483477*(65535&(g^=255&l.charCodeAt(x)))+((1540483477*(g>>>16)&65535)<<16)}return g=1540483477*(65535&(g^=g>>>13))+((1540483477*(g>>>16)&65535)<<16),(g^=g>>>15)>>>0};var Ai=$l,ji=Oi.exports;bo.exports=Ai,bo.exports.murmur3=Ai,bo.exports.murmur2=ji;var Ko=y(bo.exports);class Gr{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(i,c,f,g){this.ids.push(ui(i)),this.positions.push(c,f,g)}getPositions(i){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=ui(i);let f=0,g=this.ids.length-1;for(;f<g;){const S=f+g>>1;this.ids[S]>=c?g=S:f=S+1}const x=[];for(;this.ids[f]===c;)x.push({index:this.positions[3*f],start:this.positions[3*f+1],end:this.positions[3*f+2]}),f++;return x}static serialize(i,c){const f=new Float64Array(i.ids),g=new Uint32Array(i.positions);return na(f,g,0,f.length-1),c&&c.push(f.buffer,g.buffer),{ids:f,positions:g}}static deserialize(i){const c=new Gr;return c.ids=i.ids,c.positions=i.positions,c.indexed=!0,c}}function ui(l){const i=+l;return!isNaN(i)&&i<=Number.MAX_SAFE_INTEGER?i:Ko(String(l))}function na(l,i,c,f){for(;c<f;){const g=l[c+f>>1];let x=c-1,S=f+1;for(;;){do x++;while(l[x]<g);do S--;while(l[S]>g);if(x>=S)break;Wr(l,x,S),Wr(i,3*x,3*S),Wr(i,3*x+1,3*S+1),Wr(i,3*x+2,3*S+2)}S-c<f-S?(na(l,i,c,S),c=S+1):(na(l,i,S+1,f),f=S)}}function Wr(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}Ut("FeaturePositionMap",Gr);class Xo{constructor(i,c){this.gl=i.gl,this.location=c}}class ed extends Xo{constructor(i,c){super(i,c),this.current=0}set(i){this.current!==i&&(this.current=i,this.gl.uniform1f(this.location,i))}}class xp extends Xo{constructor(i,c){super(i,c),this.current=[0,0,0,0]}set(i){i[0]===this.current[0]&&i[1]===this.current[1]&&i[2]===this.current[2]&&i[3]===this.current[3]||(this.current=i,this.gl.uniform4f(this.location,i[0],i[1],i[2],i[3]))}}class wp extends Xo{constructor(i,c){super(i,c),this.current=tr.transparent}set(i){i.r===this.current.r&&i.g===this.current.g&&i.b===this.current.b&&i.a===this.current.a||(this.current=i,this.gl.uniform4f(this.location,i.r,i.g,i.b,i.a))}}const wy=new Float32Array(16);function Yh(l){return[ms(255*l.r,255*l.g),ms(255*l.b,255*l.a)]}class gs{constructor(i,c,f){this.value=i,this.uniformNames=c.map(g=>`u_${g}`),this.type=f}setUniform(i,c,f){i.set(f.constantOr(this.value))}getBinding(i,c,f){return this.type==="color"?new wp(i,c):new ed(i,c)}}class Jo{constructor(i,c){this.uniformNames=c.map(f=>`u_${f}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(i,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=i.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=i.tlbr}setUniform(i,c,f,g){const x=g==="u_pattern_to"?this.patternTo:g==="u_pattern_from"?this.patternFrom:g==="u_pixel_ratio_to"?this.pixelRatioTo:g==="u_pixel_ratio_from"?this.pixelRatioFrom:null;x&&i.set(x)}getBinding(i,c,f){return f.substr(0,9)==="u_pattern"?new xp(i,c):new ed(i,c)}}class vs{constructor(i,c,f,g){this.expression=i,this.type=f,this.maxValue=0,this.paintVertexAttributes=c.map(x=>({name:`a_${x}`,type:"Float32",components:f==="color"?2:1,offset:0})),this.paintVertexArray=new g}populatePaintArray(i,c,f,g,x){const S=this.paintVertexArray.length,A=this.expression.evaluate(new xr(0),c,{},g,[],x);this.paintVertexArray.resize(i),this._setPaintValue(S,i,A)}updatePaintArray(i,c,f,g){const x=this.expression.evaluate({zoom:0},f,g);this._setPaintValue(i,c,x)}_setPaintValue(i,c,f){if(this.type==="color"){const g=Yh(f);for(let x=i;x<c;x++)this.paintVertexArray.emplace(x,g[0],g[1])}else{for(let g=i;g<c;g++)this.paintVertexArray.emplace(g,f);this.maxValue=Math.max(this.maxValue,Math.abs(f))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class za{constructor(i,c,f,g,x,S){this.expression=i,this.uniformNames=c.map(A=>`u_${A}_t`),this.type=f,this.useIntegerZoom=g,this.zoom=x,this.maxValue=0,this.paintVertexAttributes=c.map(A=>({name:`a_${A}`,type:"Float32",components:f==="color"?4:2,offset:0})),this.paintVertexArray=new S}populatePaintArray(i,c,f,g,x){const S=this.expression.evaluate(new xr(this.zoom),c,{},g,[],x),A=this.expression.evaluate(new xr(this.zoom+1),c,{},g,[],x),D=this.paintVertexArray.length;this.paintVertexArray.resize(i),this._setPaintValue(D,i,S,A)}updatePaintArray(i,c,f,g){const x=this.expression.evaluate({zoom:this.zoom},f,g),S=this.expression.evaluate({zoom:this.zoom+1},f,g);this._setPaintValue(i,c,x,S)}_setPaintValue(i,c,f,g){if(this.type==="color"){const x=Yh(f),S=Yh(g);for(let A=i;A<c;A++)this.paintVertexArray.emplace(A,x[0],x[1],S[0],S[1])}else{for(let x=i;x<c;x++)this.paintVertexArray.emplace(x,f,g);this.maxValue=Math.max(this.maxValue,Math.abs(f),Math.abs(g))}}upload(i){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=i.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(i,c){const f=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,g=re(this.expression.interpolationFactor(f,this.zoom,this.zoom+1),0,1);i.set(g)}getBinding(i,c,f){return new ed(i,c)}}class ys{constructor(i,c,f,g,x,S){this.expression=i,this.type=c,this.useIntegerZoom=f,this.zoom=g,this.layerId=S,this.zoomInPaintVertexArray=new x,this.zoomOutPaintVertexArray=new x}populatePaintArray(i,c,f){const g=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(i),this.zoomOutPaintVertexArray.resize(i),this._setPaintValues(g,i,c.patterns&&c.patterns[this.layerId],f)}updatePaintArray(i,c,f,g,x){this._setPaintValues(i,c,f.patterns&&f.patterns[this.layerId],x)}_setPaintValues(i,c,f,g){if(!g||!f)return;const{min:x,mid:S,max:A}=f,D=g[x],F=g[S],V=g[A];if(D&&F&&V)for(let j=i;j<c;j++)this.zoomInPaintVertexArray.emplace(j,F.tl[0],F.tl[1],F.br[0],F.br[1],D.tl[0],D.tl[1],D.br[0],D.br[1],F.pixelRatio,D.pixelRatio),this.zoomOutPaintVertexArray.emplace(j,F.tl[0],F.tl[1],F.br[0],F.br[1],V.tl[0],V.tl[1],V.br[0],V.br[1],F.pixelRatio,V.pixelRatio)}upload(i){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=i.createVertexBuffer(this.zoomInPaintVertexArray,ps.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=i.createVertexBuffer(this.zoomOutPaintVertexArray,ps.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Zh{constructor(i,c,f){this.binders={},this._buffers=[];const g=[];for(const x in i.paint._values){if(!f(x))continue;const S=i.paint.get(x);if(!(S instanceof qi&&Rl(S.property.specification)))continue;const A=oM(x,i.type),D=S.value,F=S.property.specification.type,V=S.property.useIntegerZoom,j=S.property.specification["property-type"],W=j==="cross-faded"||j==="cross-faded-data-driven";if(D.kind==="constant")this.binders[x]=W?new Jo(D.value,A):new gs(D.value,A,F),g.push(`/u_${x}`);else if(D.kind==="source"||W){const Q=M1(x,F,"source");this.binders[x]=W?new ys(D,F,V,c,Q,i.id):new vs(D,A,F,Q),g.push(`/a_${x}`)}else{const Q=M1(x,F,"composite");this.binders[x]=new za(D,A,F,V,c,Q),g.push(`/z_${x}`)}}this.cacheKey=g.sort().join("")}getMaxValue(i){const c=this.binders[i];return c instanceof vs||c instanceof za?c.maxValue:0}populatePaintArrays(i,c,f,g,x){for(const S in this.binders){const A=this.binders[S];(A instanceof vs||A instanceof za||A instanceof ys)&&A.populatePaintArray(i,c,f,g,x)}}setConstantPatternPositions(i,c){for(const f in this.binders){const g=this.binders[f];g instanceof Jo&&g.setConstantPatternPositions(i,c)}}updatePaintArrays(i,c,f,g,x){let S=!1;for(const A in i){const D=c.getPositions(A);for(const F of D){const V=f.feature(F.index);for(const j in this.binders){const W=this.binders[j];if((W instanceof vs||W instanceof za||W instanceof ys)&&W.expression.isStateDependent===!0){const Q=g.paint.get(j);W.expression=Q.value,W.updatePaintArray(F.start,F.end,V,i[A],x),S=!0}}}}return S}defines(){const i=[];for(const c in this.binders){const f=this.binders[c];(f instanceof gs||f instanceof Jo)&&i.push(...f.uniformNames.map(g=>`#define HAS_UNIFORM_${g}`))}return i}getBinderAttributes(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof vs||f instanceof za)for(let g=0;g<f.paintVertexAttributes.length;g++)i.push(f.paintVertexAttributes[g].name);else if(f instanceof ys)for(let g=0;g<ps.members.length;g++)i.push(ps.members[g].name)}return i}getBinderUniforms(){const i=[];for(const c in this.binders){const f=this.binders[c];if(f instanceof gs||f instanceof Jo||f instanceof za)for(const g of f.uniformNames)i.push(g)}return i}getPaintVertexBuffers(){return this._buffers}getUniforms(i,c){const f=[];for(const g in this.binders){const x=this.binders[g];if(x instanceof gs||x instanceof Jo||x instanceof za){for(const S of x.uniformNames)if(c[S]){const A=x.getBinding(i,c[S],S);f.push({name:S,property:g,binding:A})}}}return f}setUniforms(i,c,f,g){for(const{name:x,property:S,binding:A}of c)this.binders[S].setUniform(A,g,f.get(S),x)}updatePaintBuffers(i){this._buffers=[];for(const c in this.binders){const f=this.binders[c];if(i&&f instanceof ys){const g=i.fromScale===2?f.zoomInPaintVertexBuffer:f.zoomOutPaintVertexBuffer;g&&this._buffers.push(g)}else(f instanceof vs||f instanceof za)&&f.paintVertexBuffer&&this._buffers.push(f.paintVertexBuffer)}}upload(i){for(const c in this.binders){const f=this.binders[c];(f instanceof vs||f instanceof za||f instanceof ys)&&f.upload(i)}this.updatePaintBuffers()}destroy(){for(const i in this.binders){const c=this.binders[i];(c instanceof vs||c instanceof za||c instanceof ys)&&c.destroy()}}}class $s{constructor(i,c,f=()=>!0){this.programConfigurations={};for(const g of i)this.programConfigurations[g.id]=new Zh(g,c,f);this.needsUpload=!1,this._featureMap=new Gr,this._bufferOffset=0}populatePaintArrays(i,c,f,g,x,S){for(const A in this.programConfigurations)this.programConfigurations[A].populatePaintArrays(i,c,g,x,S);c.id!==void 0&&this._featureMap.add(c.id,f,this._bufferOffset,i),this._bufferOffset=i,this.needsUpload=!0}updatePaintArrays(i,c,f,g){for(const x of f)this.needsUpload=this.programConfigurations[x.id].updatePaintArrays(i,this._featureMap,c,x,g)||this.needsUpload}get(i){return this.programConfigurations[i]}upload(i){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(i);this.needsUpload=!1}}destroy(){for(const i in this.programConfigurations)this.programConfigurations[i].destroy()}}function oM(l,i){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[l]||[l.replace(`${i}-`,"").replace(/-/g,"_")]}function M1(l,i,c){const f={color:{source:Nl,composite:he},number:{source:M,composite:Nl}},g=function(x){return{"line-pattern":{source:nr,composite:nr},"fill-pattern":{source:nr,composite:nr},"fill-extrusion-pattern":{source:nr,composite:nr}}[x]}(l);return g&&g[c]||f[i][c]}Ut("ConstantBinder",gs),Ut("CrossFadedConstantBinder",Jo),Ut("SourceExpressionBinder",vs),Ut("CrossFadedCompositeBinder",ys),Ut("CompositeExpressionBinder",za),Ut("ProgramConfiguration",Zh,{omit:["_buffers"]}),Ut("ProgramConfigurationSet",$s);const ii=8192,Sy=Math.pow(2,14)-1,L1=-Sy-1;function Fc(l){const i=ii/l.extent,c=l.loadGeometry();for(let f=0;f<c.length;f++){const g=c[f];for(let x=0;x<g.length;x++){const S=g[x],A=Math.round(S.x*i),D=Math.round(S.y*i);S.x=re(A,L1,Sy),S.y=re(D,L1,Sy),(A<S.x||A>S.x+1||D<S.y||D>S.y+1)&&me("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function zc(l,i){return{type:l.type,id:l.id,properties:l.properties,geometry:i?Fc(l):[]}}function Sp(l,i,c,f,g){l.emplaceBack(2*i+(f+1)/2,2*c+(g+1)/2)}class ky{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Yt,this.indexArray=new Ti,this.segments=new wr,this.programConfigurations=new $s(i.layers,i.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){const g=this.layers[0],x=[];let S=null,A=!1;g.type==="circle"&&(S=g.layout.get("circle-sort-key"),A=!S.isConstant());for(const{feature:D,id:F,index:V,sourceLayerIndex:j}of i){const W=this.layers[0]._featureFilter.needGeometry,Q=zc(D,W);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),Q,f))continue;const ne=A?S.evaluate(Q,{},f):void 0,ue={id:F,properties:D.properties,type:D.type,sourceLayerIndex:j,index:V,geometry:W?Q.geometry:Fc(D),patterns:{},sortKey:ne};x.push(ue)}A&&x.sort((D,F)=>D.sortKey-F.sortKey);for(const D of x){const{geometry:F,index:V,sourceLayerIndex:j}=D,W=i[V].feature;this.addFeature(D,F,V,f),c.featureIndex.insert(W,F,V,j,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,wa),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(i,c,f,g){for(const x of c)for(const S of x){const A=S.x,D=S.y;if(A<0||A>=ii||D<0||D>=ii)continue;const F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,i.sortKey),V=F.vertexLength;Sp(this.layoutVertexArray,A,D,-1,-1),Sp(this.layoutVertexArray,A,D,1,-1),Sp(this.layoutVertexArray,A,D,1,1),Sp(this.layoutVertexArray,A,D,-1,1),this.indexArray.emplaceBack(V,V+1,V+2),this.indexArray.emplaceBack(V,V+3,V+2),F.vertexLength+=4,F.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,{},g)}}function R1(l,i){for(let c=0;c<l.length;c++)if(td(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(td(l,i[c]))return!0;return!!Cy(l,i)}function lM(l,i,c){return!!td(l,i)||!!Ty(i,l,c)}function O1(l,i){if(l.length===1)return z1(i,l[0]);for(let c=0;c<i.length;c++){const f=i[c];for(let g=0;g<f.length;g++)if(td(l,f[g]))return!0}for(let c=0;c<l.length;c++)if(z1(i,l[c]))return!0;for(let c=0;c<i.length;c++)if(Cy(l,i[c]))return!0;return!1}function cM(l,i,c){if(l.length>1){if(Cy(l,i))return!0;for(let f=0;f<i.length;f++)if(Ty(i[f],l,c))return!0}for(let f=0;f<l.length;f++)if(Ty(l[f],i,c))return!0;return!1}function Cy(l,i){if(l.length===0||i.length===0)return!1;for(let c=0;c<l.length-1;c++){const f=l[c],g=l[c+1];for(let x=0;x<i.length-1;x++)if(uM(f,g,i[x],i[x+1]))return!0}return!1}function uM(l,i,c,f){return Pe(l,c,f)!==Pe(i,c,f)&&Pe(l,i,c)!==Pe(l,i,f)}function Ty(l,i,c){const f=c*c;if(i.length===1)return l.distSqr(i[0])<f;for(let g=1;g<i.length;g++)if(F1(l,i[g-1],i[g])<f)return!0;return!1}function F1(l,i,c){const f=i.distSqr(c);if(f===0)return l.distSqr(i);const g=((l.x-i.x)*(c.x-i.x)+(l.y-i.y)*(c.y-i.y))/f;return l.distSqr(g<0?i:g>1?c:c.sub(i)._mult(g)._add(i))}function z1(l,i){let c,f,g,x=!1;for(let S=0;S<l.length;S++){c=l[S];for(let A=0,D=c.length-1;A<c.length;D=A++)f=c[A],g=c[D],f.y>i.y!=g.y>i.y&&i.x<(g.x-f.x)*(i.y-f.y)/(g.y-f.y)+f.x&&(x=!x)}return x}function td(l,i){let c=!1;for(let f=0,g=l.length-1;f<l.length;g=f++){const x=l[f],S=l[g];x.y>i.y!=S.y>i.y&&i.x<(S.x-x.x)*(i.y-x.y)/(S.y-x.y)+x.x&&(c=!c)}return c}function dM(l,i,c){const f=c[0],g=c[2];if(l.x<f.x&&i.x<f.x||l.x>g.x&&i.x>g.x||l.y<f.y&&i.y<f.y||l.y>g.y&&i.y>g.y)return!1;const x=Pe(l,i,c[0]);return x!==Pe(l,i,c[1])||x!==Pe(l,i,c[2])||x!==Pe(l,i,c[3])}function Kh(l,i,c){const f=i.paint.get(l).value;return f.kind==="constant"?f.value:c.programConfigurations.get(i.id).getMaxValue(l)}function kp(l){return Math.sqrt(l[0]*l[0]+l[1]*l[1])}function Cp(l,i,c,f,g){if(!i[0]&&!i[1])return l;const x=C.convert(i)._mult(g);c==="viewport"&&x._rotate(-f);const S=[];for(let A=0;A<l.length;A++)S.push(l[A].sub(x));return S}let B1,V1;Ut("CircleBucket",ky,{omit:["layers"]});var hM={get paint(){return V1=V1||new Xr({"circle-radius":new on(ke.paint_circle["circle-radius"]),"circle-color":new on(ke.paint_circle["circle-color"]),"circle-blur":new on(ke.paint_circle["circle-blur"]),"circle-opacity":new on(ke.paint_circle["circle-opacity"]),"circle-translate":new Qt(ke.paint_circle["circle-translate"]),"circle-translate-anchor":new Qt(ke.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Qt(ke.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Qt(ke.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new on(ke.paint_circle["circle-stroke-width"]),"circle-stroke-color":new on(ke.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new on(ke.paint_circle["circle-stroke-opacity"])})},get layout(){return B1=B1||new Xr({"circle-sort-key":new on(ke.layout_circle["circle-sort-key"])})}},ra=1e-6,nd=typeof Float32Array<"u"?Float32Array:Array;function Ay(l){return l[0]=1,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=1,l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l}function N1(l,i,c){var f=i[0],g=i[1],x=i[2],S=i[3],A=i[4],D=i[5],F=i[6],V=i[7],j=i[8],W=i[9],Q=i[10],ne=i[11],ue=i[12],ye=i[13],we=i[14],Oe=i[15],Te=c[0],Be=c[1],Ge=c[2],ot=c[3];return l[0]=Te*f+Be*A+Ge*j+ot*ue,l[1]=Te*g+Be*D+Ge*W+ot*ye,l[2]=Te*x+Be*F+Ge*Q+ot*we,l[3]=Te*S+Be*V+Ge*ne+ot*Oe,l[4]=(Te=c[4])*f+(Be=c[5])*A+(Ge=c[6])*j+(ot=c[7])*ue,l[5]=Te*g+Be*D+Ge*W+ot*ye,l[6]=Te*x+Be*F+Ge*Q+ot*we,l[7]=Te*S+Be*V+Ge*ne+ot*Oe,l[8]=(Te=c[8])*f+(Be=c[9])*A+(Ge=c[10])*j+(ot=c[11])*ue,l[9]=Te*g+Be*D+Ge*W+ot*ye,l[10]=Te*x+Be*F+Ge*Q+ot*we,l[11]=Te*S+Be*V+Ge*ne+ot*Oe,l[12]=(Te=c[12])*f+(Be=c[13])*A+(Ge=c[14])*j+(ot=c[15])*ue,l[13]=Te*g+Be*D+Ge*W+ot*ye,l[14]=Te*x+Be*F+Ge*Q+ot*we,l[15]=Te*S+Be*V+Ge*ne+ot*Oe,l}Math.hypot||(Math.hypot=function(){for(var l=0,i=arguments.length;i--;)l+=arguments[i]*arguments[i];return Math.sqrt(l)});var Xh,fM=N1;function Tp(l,i,c){var f=i[0],g=i[1],x=i[2],S=i[3];return l[0]=c[0]*f+c[4]*g+c[8]*x+c[12]*S,l[1]=c[1]*f+c[5]*g+c[9]*x+c[13]*S,l[2]=c[2]*f+c[6]*g+c[10]*x+c[14]*S,l[3]=c[3]*f+c[7]*g+c[11]*x+c[15]*S,l}Xh=new nd(4),nd!=Float32Array&&(Xh[0]=0,Xh[1]=0,Xh[2]=0,Xh[3]=0);class mM extends Fa{constructor(i){super(i,hM)}createBucket(i){return new ky(i)}queryRadius(i){const c=i;return Kh("circle-radius",this,c)+Kh("circle-stroke-width",this,c)+kp(this.paint.get("circle-translate"))}queryIntersectsFeature(i,c,f,g,x,S,A,D){const F=Cp(i,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,A),V=this.paint.get("circle-radius").evaluate(c,f)+this.paint.get("circle-stroke-width").evaluate(c,f),j=this.paint.get("circle-pitch-alignment")==="map",W=j?F:function(ne,ue){return ne.map(ye=>$1(ye,ue))}(F,D),Q=j?V*A:V;for(const ne of g)for(const ue of ne){const ye=j?ue:$1(ue,D);let we=Q;const Oe=Tp([],[ue.x,ue.y,0,1],D);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?we*=Oe[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(we*=S.cameraToCenterDistance/Oe[3]),lM(W,ye,we))return!0}return!1}}function $1(l,i){const c=Tp([],[l.x,l.y,0,1],i);return new C(c[0]/c[3],c[1]/c[3])}class U1 extends ky{}let q1;Ut("HeatmapBucket",U1,{omit:["layers"]});var pM={get paint(){return q1=q1||new Xr({"heatmap-radius":new on(ke.paint_heatmap["heatmap-radius"]),"heatmap-weight":new on(ke.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Qt(ke.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Uh(ke.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Qt(ke.paint_heatmap["heatmap-opacity"])})}};function Ey(l,{width:i,height:c},f,g){if(g){if(g instanceof Uint8ClampedArray)g=new Uint8Array(g.buffer);else if(g.length!==i*c*f)throw new RangeError(`mismatched image size. expected: ${g.length} but got: ${i*c*f}`)}else g=new Uint8Array(i*c*f);return l.width=i,l.height=c,l.data=g,l}function j1(l,{width:i,height:c},f){if(i===l.width&&c===l.height)return;const g=Ey({},{width:i,height:c},f);Iy(l,g,{x:0,y:0},{x:0,y:0},{width:Math.min(l.width,i),height:Math.min(l.height,c)},f),l.width=i,l.height=c,l.data=g.data}function Iy(l,i,c,f,g,x){if(g.width===0||g.height===0)return i;if(g.width>l.width||g.height>l.height||c.x>l.width-g.width||c.y>l.height-g.height)throw new RangeError("out of range source coordinates for image copy");if(g.width>i.width||g.height>i.height||f.x>i.width-g.width||f.y>i.height-g.height)throw new RangeError("out of range destination coordinates for image copy");const S=l.data,A=i.data;if(S===A)throw new Error("srcData equals dstData, so image is already copied");for(let D=0;D<g.height;D++){const F=((c.y+D)*l.width+c.x)*x,V=((f.y+D)*i.width+f.x)*x;for(let j=0;j<g.width*x;j++)A[V+j]=S[F+j]}return i}class Jh{constructor(i,c){Ey(this,i,1,c)}resize(i){j1(this,i,1)}clone(){return new Jh({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,g,x){Iy(i,c,f,g,x,1)}}class Ka{constructor(i,c){Ey(this,i,4,c)}resize(i){j1(this,i,4)}replace(i,c){c?this.data.set(i):this.data=i instanceof Uint8ClampedArray?new Uint8Array(i.buffer):i}clone(){return new Ka({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(i,c,f,g,x){Iy(i,c,f,g,x,4)}}function H1(l){const i={},c=l.resolution||256,f=l.clips?l.clips.length:1,g=l.image||new Ka({width:c,height:f});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const x=(S,A,D)=>{i[l.evaluationKey]=D;const F=l.expression.evaluate(i);g.data[S+A+0]=Math.floor(255*F.r/F.a),g.data[S+A+1]=Math.floor(255*F.g/F.a),g.data[S+A+2]=Math.floor(255*F.b/F.a),g.data[S+A+3]=Math.floor(255*F.a)};if(l.clips)for(let S=0,A=0;S<f;++S,A+=4*c)for(let D=0,F=0;D<c;D++,F+=4){const V=D/(c-1),{start:j,end:W}=l.clips[S];x(A,F,j*(1-V)+W*V)}else for(let S=0,A=0;S<c;S++,A+=4)x(0,A,S/(c-1));return g}Ut("AlphaImage",Jh),Ut("RGBAImage",Ka);class gM extends Fa{createBucket(i){return new U1(i)}constructor(i){super(i,pM),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(i){i==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=H1({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let G1;var vM={get paint(){return G1=G1||new Xr({"hillshade-illumination-direction":new Qt(ke.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Qt(ke.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Qt(ke.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Qt(ke.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Qt(ke.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Qt(ke.paint_hillshade["hillshade-accent-color"])})}};class yM extends Fa{constructor(i){super(i,vM)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}const _M=Rr([{name:"a_pos",components:2,type:"Int16"}],4),{members:bM}=_M;var Py={exports:{}};function Ap(l,i,c){c=c||2;var f,g,x,S,A,D,F,V=i&&i.length,j=V?i[0]*c:l.length,W=W1(l,0,j,c,!0),Q=[];if(!W||W.next===W.prev)return Q;if(V&&(W=function(ue,ye,we,Oe){var Te,Be,Ge,ot=[];for(Te=0,Be=ye.length;Te<Be;Te++)(Ge=W1(ue,ye[Te]*Oe,Te<Be-1?ye[Te+1]*Oe:ue.length,Oe,!1))===Ge.next&&(Ge.steiner=!0),ot.push(EM(Ge));for(ot.sort(CM),Te=0;Te<ot.length;Te++)we=TM(ot[Te],we);return we}(l,i,W,c)),l.length>80*c){f=x=l[0],g=S=l[1];for(var ne=c;ne<j;ne+=c)(A=l[ne])<f&&(f=A),(D=l[ne+1])<g&&(g=D),A>x&&(x=A),D>S&&(S=D);F=(F=Math.max(x-f,S-g))!==0?32767/F:0}return Qh(W,Q,c,f,g,F,0),Q}function W1(l,i,c,f,g){var x,S;if(g===Ly(l,i,c,f)>0)for(x=i;x<c;x+=f)S=K1(x,l[x],l[x+1],S);else for(x=c-f;x>=i;x-=f)S=K1(x,l[x],l[x+1],S);return S&&Ep(S,S.next)&&(tf(S),S=S.next),S}function Bc(l,i){if(!l)return l;i||(i=l);var c,f=l;do if(c=!1,f.steiner||!Ep(f,f.next)&&Qr(f.prev,f,f.next)!==0)f=f.next;else{if(tf(f),(f=i=f.prev)===f.next)break;c=!0}while(c||f!==i);return i}function Qh(l,i,c,f,g,x,S){if(l){!S&&x&&function(V,j,W,Q){var ne=V;do ne.z===0&&(ne.z=Dy(ne.x,ne.y,j,W,Q)),ne.prevZ=ne.prev,ne.nextZ=ne.next,ne=ne.next;while(ne!==V);ne.prevZ.nextZ=null,ne.prevZ=null,function(ue){var ye,we,Oe,Te,Be,Ge,ot,Nt,Zt=1;do{for(we=ue,ue=null,Be=null,Ge=0;we;){for(Ge++,Oe=we,ot=0,ye=0;ye<Zt&&(ot++,Oe=Oe.nextZ);ye++);for(Nt=Zt;ot>0||Nt>0&&Oe;)ot!==0&&(Nt===0||!Oe||we.z<=Oe.z)?(Te=we,we=we.nextZ,ot--):(Te=Oe,Oe=Oe.nextZ,Nt--),Be?Be.nextZ=Te:ue=Te,Te.prevZ=Be,Be=Te;we=Oe}Be.nextZ=null,Zt*=2}while(Ge>1)}(ne)}(l,f,g,x);for(var A,D,F=l;l.prev!==l.next;)if(A=l.prev,D=l.next,x?wM(l,f,g,x):xM(l))i.push(A.i/c|0),i.push(l.i/c|0),i.push(D.i/c|0),tf(l),l=D.next,F=D.next;else if((l=D)===F){S?S===1?Qh(l=SM(Bc(l),i,c),i,c,f,g,x,2):S===2&&kM(l,i,c,f,g,x):Qh(Bc(l),i,c,f,g,x,1);break}}}function xM(l){var i=l.prev,c=l,f=l.next;if(Qr(i,c,f)>=0)return!1;for(var g=i.x,x=c.x,S=f.x,A=i.y,D=c.y,F=f.y,V=g<x?g<S?g:S:x<S?x:S,j=A<D?A<F?A:F:D<F?D:F,W=g>x?g>S?g:S:x>S?x:S,Q=A>D?A>F?A:F:D>F?D:F,ne=f.next;ne!==i;){if(ne.x>=V&&ne.x<=W&&ne.y>=j&&ne.y<=Q&&rd(g,A,x,D,S,F,ne.x,ne.y)&&Qr(ne.prev,ne,ne.next)>=0)return!1;ne=ne.next}return!0}function wM(l,i,c,f){var g=l.prev,x=l,S=l.next;if(Qr(g,x,S)>=0)return!1;for(var A=g.x,D=x.x,F=S.x,V=g.y,j=x.y,W=S.y,Q=A<D?A<F?A:F:D<F?D:F,ne=V<j?V<W?V:W:j<W?j:W,ue=A>D?A>F?A:F:D>F?D:F,ye=V>j?V>W?V:W:j>W?j:W,we=Dy(Q,ne,i,c,f),Oe=Dy(ue,ye,i,c,f),Te=l.prevZ,Be=l.nextZ;Te&&Te.z>=we&&Be&&Be.z<=Oe;){if(Te.x>=Q&&Te.x<=ue&&Te.y>=ne&&Te.y<=ye&&Te!==g&&Te!==S&&rd(A,V,D,j,F,W,Te.x,Te.y)&&Qr(Te.prev,Te,Te.next)>=0||(Te=Te.prevZ,Be.x>=Q&&Be.x<=ue&&Be.y>=ne&&Be.y<=ye&&Be!==g&&Be!==S&&rd(A,V,D,j,F,W,Be.x,Be.y)&&Qr(Be.prev,Be,Be.next)>=0))return!1;Be=Be.nextZ}for(;Te&&Te.z>=we;){if(Te.x>=Q&&Te.x<=ue&&Te.y>=ne&&Te.y<=ye&&Te!==g&&Te!==S&&rd(A,V,D,j,F,W,Te.x,Te.y)&&Qr(Te.prev,Te,Te.next)>=0)return!1;Te=Te.prevZ}for(;Be&&Be.z<=Oe;){if(Be.x>=Q&&Be.x<=ue&&Be.y>=ne&&Be.y<=ye&&Be!==g&&Be!==S&&rd(A,V,D,j,F,W,Be.x,Be.y)&&Qr(Be.prev,Be,Be.next)>=0)return!1;Be=Be.nextZ}return!0}function SM(l,i,c){var f=l;do{var g=f.prev,x=f.next.next;!Ep(g,x)&&Y1(g,f,f.next,x)&&ef(g,x)&&ef(x,g)&&(i.push(g.i/c|0),i.push(f.i/c|0),i.push(x.i/c|0),tf(f),tf(f.next),f=l=x),f=f.next}while(f!==l);return Bc(f)}function kM(l,i,c,f,g,x){var S=l;do{for(var A=S.next.next;A!==S.prev;){if(S.i!==A.i&&IM(S,A)){var D=Z1(S,A);return S=Bc(S,S.next),D=Bc(D,D.next),Qh(S,i,c,f,g,x,0),void Qh(D,i,c,f,g,x,0)}A=A.next}S=S.next}while(S!==l)}function CM(l,i){return l.x-i.x}function TM(l,i){var c=function(g,x){var S,A=x,D=g.x,F=g.y,V=-1/0;do{if(F<=A.y&&F>=A.next.y&&A.next.y!==A.y){var j=A.x+(F-A.y)*(A.next.x-A.x)/(A.next.y-A.y);if(j<=D&&j>V&&(V=j,S=A.x<A.next.x?A:A.next,j===D))return S}A=A.next}while(A!==x);if(!S)return null;var W,Q=S,ne=S.x,ue=S.y,ye=1/0;A=S;do D>=A.x&&A.x>=ne&&D!==A.x&&rd(F<ue?D:V,F,ne,ue,F<ue?V:D,F,A.x,A.y)&&(W=Math.abs(F-A.y)/(D-A.x),ef(A,g)&&(W<ye||W===ye&&(A.x>S.x||A.x===S.x&&AM(S,A)))&&(S=A,ye=W)),A=A.next;while(A!==Q);return S}(l,i);if(!c)return i;var f=Z1(c,l);return Bc(f,f.next),Bc(c,c.next)}function AM(l,i){return Qr(l.prev,l,i.prev)<0&&Qr(i.next,l,l.next)<0}function Dy(l,i,c,f,g){return(l=1431655765&((l=858993459&((l=252645135&((l=16711935&((l=(l-c)*g|0)|l<<8))|l<<4))|l<<2))|l<<1))|(i=1431655765&((i=858993459&((i=252645135&((i=16711935&((i=(i-f)*g|0)|i<<8))|i<<4))|i<<2))|i<<1))<<1}function EM(l){var i=l,c=l;do(i.x<c.x||i.x===c.x&&i.y<c.y)&&(c=i),i=i.next;while(i!==l);return c}function rd(l,i,c,f,g,x,S,A){return(g-S)*(i-A)>=(l-S)*(x-A)&&(l-S)*(f-A)>=(c-S)*(i-A)&&(c-S)*(x-A)>=(g-S)*(f-A)}function IM(l,i){return l.next.i!==i.i&&l.prev.i!==i.i&&!function(c,f){var g=c;do{if(g.i!==c.i&&g.next.i!==c.i&&g.i!==f.i&&g.next.i!==f.i&&Y1(g,g.next,c,f))return!0;g=g.next}while(g!==c);return!1}(l,i)&&(ef(l,i)&&ef(i,l)&&function(c,f){var g=c,x=!1,S=(c.x+f.x)/2,A=(c.y+f.y)/2;do g.y>A!=g.next.y>A&&g.next.y!==g.y&&S<(g.next.x-g.x)*(A-g.y)/(g.next.y-g.y)+g.x&&(x=!x),g=g.next;while(g!==c);return x}(l,i)&&(Qr(l.prev,l,i.prev)||Qr(l,i.prev,i))||Ep(l,i)&&Qr(l.prev,l,l.next)>0&&Qr(i.prev,i,i.next)>0)}function Qr(l,i,c){return(i.y-l.y)*(c.x-i.x)-(i.x-l.x)*(c.y-i.y)}function Ep(l,i){return l.x===i.x&&l.y===i.y}function Y1(l,i,c,f){var g=Pp(Qr(l,i,c)),x=Pp(Qr(l,i,f)),S=Pp(Qr(c,f,l)),A=Pp(Qr(c,f,i));return g!==x&&S!==A||!(g!==0||!Ip(l,c,i))||!(x!==0||!Ip(l,f,i))||!(S!==0||!Ip(c,l,f))||!(A!==0||!Ip(c,i,f))}function Ip(l,i,c){return i.x<=Math.max(l.x,c.x)&&i.x>=Math.min(l.x,c.x)&&i.y<=Math.max(l.y,c.y)&&i.y>=Math.min(l.y,c.y)}function Pp(l){return l>0?1:l<0?-1:0}function ef(l,i){return Qr(l.prev,l,l.next)<0?Qr(l,i,l.next)>=0&&Qr(l,l.prev,i)>=0:Qr(l,i,l.prev)<0||Qr(l,l.next,i)<0}function Z1(l,i){var c=new My(l.i,l.x,l.y),f=new My(i.i,i.x,i.y),g=l.next,x=i.prev;return l.next=i,i.prev=l,c.next=g,g.prev=c,f.next=c,c.prev=f,x.next=f,f.prev=x,f}function K1(l,i,c,f){var g=new My(l,i,c);return f?(g.next=f.next,g.prev=f,f.next.prev=g,f.next=g):(g.prev=g,g.next=g),g}function tf(l){l.next.prev=l.prev,l.prev.next=l.next,l.prevZ&&(l.prevZ.nextZ=l.nextZ),l.nextZ&&(l.nextZ.prevZ=l.prevZ)}function My(l,i,c){this.i=l,this.x=i,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ly(l,i,c,f){for(var g=0,x=i,S=c-f;x<c;x+=f)g+=(l[S]-l[x])*(l[x+1]+l[S+1]),S=x;return g}Py.exports=Ap,Py.exports.default=Ap,Ap.deviation=function(l,i,c,f){var g=i&&i.length,x=Math.abs(Ly(l,0,g?i[0]*c:l.length,c));if(g)for(var S=0,A=i.length;S<A;S++)x-=Math.abs(Ly(l,i[S]*c,S<A-1?i[S+1]*c:l.length,c));var D=0;for(S=0;S<f.length;S+=3){var F=f[S]*c,V=f[S+1]*c,j=f[S+2]*c;D+=Math.abs((l[F]-l[j])*(l[V+1]-l[F+1])-(l[F]-l[V])*(l[j+1]-l[F+1]))}return x===0&&D===0?0:Math.abs((D-x)/x)},Ap.flatten=function(l){for(var i=l[0][0].length,c={vertices:[],holes:[],dimensions:i},f=0,g=0;g<l.length;g++){for(var x=0;x<l[g].length;x++)for(var S=0;S<i;S++)c.vertices.push(l[g][x][S]);g>0&&c.holes.push(f+=l[g-1].length)}return c};var X1=y(Py.exports);function PM(l,i,c,f,g){J1(l,i,c,f||l.length-1,g||DM)}function J1(l,i,c,f,g){for(;f>c;){if(f-c>600){var x=f-c+1,S=i-c+1,A=Math.log(x),D=.5*Math.exp(2*A/3),F=.5*Math.sqrt(A*D*(x-D)/x)*(S-x/2<0?-1:1);J1(l,i,Math.max(c,Math.floor(i-S*D/x+F)),Math.min(f,Math.floor(i+(x-S)*D/x+F)),g)}var V=l[i],j=c,W=f;for(nf(l,c,i),g(l[f],V)>0&&nf(l,c,f);j<W;){for(nf(l,j,W),j++,W--;g(l[j],V)<0;)j++;for(;g(l[W],V)>0;)W--}g(l[c],V)===0?nf(l,c,W):nf(l,++W,f),W<=i&&(c=W+1),i<=W&&(f=W-1)}}function nf(l,i,c){var f=l[i];l[i]=l[c],l[c]=f}function DM(l,i){return l<i?-1:l>i?1:0}function Ry(l,i){const c=l.length;if(c<=1)return[l];const f=[];let g,x;for(let S=0;S<c;S++){const A=Ae(l[S]);A!==0&&(l[S].area=Math.abs(A),x===void 0&&(x=A<0),x===A<0?(g&&f.push(g),g=[l[S]]):g.push(l[S]))}if(g&&f.push(g),i>1)for(let S=0;S<f.length;S++)f[S].length<=i||(PM(f[S],i,1,f[S].length-1,MM),f[S]=f[S].slice(0,i));return f}function MM(l,i){return i.area-l.area}function Oy(l,i,c){const f=c.patternDependencies;let g=!1;for(const x of i){const S=x.paint.get(`${l}-pattern`);S.isConstant()||(g=!0);const A=S.constantOr(null);A&&(g=!0,f[A.to]=!0,f[A.from]=!0)}return g}function Fy(l,i,c,f,g){const x=g.patternDependencies;for(const S of i){const A=S.paint.get(`${l}-pattern`).value;if(A.kind!=="constant"){let D=A.evaluate({zoom:f-1},c,{},g.availableImages),F=A.evaluate({zoom:f},c,{},g.availableImages),V=A.evaluate({zoom:f+1},c,{},g.availableImages);D=D&&D.name?D.name:D,F=F&&F.name?F.name:F,V=V&&V.name?V.name:V,x[D]=!0,x[F]=!0,x[V]=!0,c.patterns[S.id]={min:D,mid:F,max:V}}}return c}class zy{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pn,this.indexArray=new Ti,this.indexArray2=new ci,this.programConfigurations=new $s(i.layers,i.zoom),this.segments=new wr,this.segments2=new wr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Oy("fill",this.layers,c);const g=this.layers[0].layout.get("fill-sort-key"),x=!g.isConstant(),S=[];for(const{feature:A,id:D,index:F,sourceLayerIndex:V}of i){const j=this.layers[0]._featureFilter.needGeometry,W=zc(A,j);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),W,f))continue;const Q=x?g.evaluate(W,{},f,c.availableImages):void 0,ne={id:D,properties:A.properties,type:A.type,sourceLayerIndex:V,index:F,geometry:j?W.geometry:Fc(A),patterns:{},sortKey:Q};S.push(ne)}x&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:F,sourceLayerIndex:V}=A;if(this.hasPattern){const j=Fy("fill",this.layers,A,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(A,D,F,f,{});c.featureIndex.insert(i[F].feature,D,F,V,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,bM),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.indexBuffer2=i.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(i,c,f,g,x){for(const S of Ry(c,500)){let A=0;for(const Q of S)A+=Q.length;const D=this.segments.prepareSegment(A,this.layoutVertexArray,this.indexArray),F=D.vertexLength,V=[],j=[];for(const Q of S){if(Q.length===0)continue;Q!==S[0]&&j.push(V.length/2);const ne=this.segments2.prepareSegment(Q.length,this.layoutVertexArray,this.indexArray2),ue=ne.vertexLength;this.layoutVertexArray.emplaceBack(Q[0].x,Q[0].y),this.indexArray2.emplaceBack(ue+Q.length-1,ue),V.push(Q[0].x),V.push(Q[0].y);for(let ye=1;ye<Q.length;ye++)this.layoutVertexArray.emplaceBack(Q[ye].x,Q[ye].y),this.indexArray2.emplaceBack(ue+ye-1,ue+ye),V.push(Q[ye].x),V.push(Q[ye].y);ne.vertexLength+=Q.length,ne.primitiveLength+=Q.length}const W=X1(V,j);for(let Q=0;Q<W.length;Q+=3)this.indexArray.emplaceBack(F+W[Q],F+W[Q+1],F+W[Q+2]);D.vertexLength+=A,D.primitiveLength+=W.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,g)}}let Q1,ew;Ut("FillBucket",zy,{omit:["layers","patternFeatures"]});var LM={get paint(){return ew=ew||new Xr({"fill-antialias":new Qt(ke.paint_fill["fill-antialias"]),"fill-opacity":new on(ke.paint_fill["fill-opacity"]),"fill-color":new on(ke.paint_fill["fill-color"]),"fill-outline-color":new on(ke.paint_fill["fill-outline-color"]),"fill-translate":new Qt(ke.paint_fill["fill-translate"]),"fill-translate-anchor":new Qt(ke.paint_fill["fill-translate-anchor"]),"fill-pattern":new Lc(ke.paint_fill["fill-pattern"])})},get layout(){return Q1=Q1||new Xr({"fill-sort-key":new on(ke.layout_fill["fill-sort-key"])})}};class RM extends Fa{constructor(i){super(i,LM)}recalculate(i,c){super.recalculate(i,c);const f=this.paint._values["fill-outline-color"];f.value.kind==="constant"&&f.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(i){return new zy(i)}queryRadius(){return kp(this.paint.get("fill-translate"))}queryIntersectsFeature(i,c,f,g,x,S,A){return O1(Cp(i,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,A),g)}isTileClipped(){return!0}}const OM=Rr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),FM=Rr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:zM}=OM;var Ul={},BM=b,tw=id;function id(l,i,c,f,g){this.properties={},this.extent=c,this.type=0,this._pbf=l,this._geometry=-1,this._keys=f,this._values=g,l.readFields(VM,this,i)}function VM(l,i,c){l==1?i.id=c.readVarint():l==2?function(f,g){for(var x=f.readVarint()+f.pos;f.pos<x;){var S=g._keys[f.readVarint()],A=g._values[f.readVarint()];g.properties[S]=A}}(c,i):l==3?i.type=c.readVarint():l==4&&(i._geometry=c.pos)}function NM(l){for(var i,c,f=0,g=0,x=l.length,S=x-1;g<x;S=g++)f+=((c=l[S]).x-(i=l[g]).x)*(i.y+c.y);return f}id.types=["Unknown","Point","LineString","Polygon"],id.prototype.loadGeometry=function(){var l=this._pbf;l.pos=this._geometry;for(var i,c=l.readVarint()+l.pos,f=1,g=0,x=0,S=0,A=[];l.pos<c;){if(g<=0){var D=l.readVarint();f=7&D,g=D>>3}if(g--,f===1||f===2)x+=l.readSVarint(),S+=l.readSVarint(),f===1&&(i&&A.push(i),i=[]),i.push(new BM(x,S));else{if(f!==7)throw new Error("unknown command "+f);i&&i.push(i[0].clone())}}return i&&A.push(i),A},id.prototype.bbox=function(){var l=this._pbf;l.pos=this._geometry;for(var i=l.readVarint()+l.pos,c=1,f=0,g=0,x=0,S=1/0,A=-1/0,D=1/0,F=-1/0;l.pos<i;){if(f<=0){var V=l.readVarint();c=7&V,f=V>>3}if(f--,c===1||c===2)(g+=l.readSVarint())<S&&(S=g),g>A&&(A=g),(x+=l.readSVarint())<D&&(D=x),x>F&&(F=x);else if(c!==7)throw new Error("unknown command "+c)}return[S,D,A,F]},id.prototype.toGeoJSON=function(l,i,c){var f,g,x=this.extent*Math.pow(2,c),S=this.extent*l,A=this.extent*i,D=this.loadGeometry(),F=id.types[this.type];function V(Q){for(var ne=0;ne<Q.length;ne++){var ue=Q[ne];Q[ne]=[360*(ue.x+S)/x-180,360/Math.PI*Math.atan(Math.exp((180-360*(ue.y+A)/x)*Math.PI/180))-90]}}switch(this.type){case 1:var j=[];for(f=0;f<D.length;f++)j[f]=D[f][0];V(D=j);break;case 2:for(f=0;f<D.length;f++)V(D[f]);break;case 3:for(D=function(Q){var ne=Q.length;if(ne<=1)return[Q];for(var ue,ye,we=[],Oe=0;Oe<ne;Oe++){var Te=NM(Q[Oe]);Te!==0&&(ye===void 0&&(ye=Te<0),ye===Te<0?(ue&&we.push(ue),ue=[Q[Oe]]):ue.push(Q[Oe]))}return ue&&we.push(ue),we}(D),f=0;f<D.length;f++)for(g=0;g<D[f].length;g++)V(D[f][g])}D.length===1?D=D[0]:F="Multi"+F;var W={type:"Feature",geometry:{type:F,coordinates:D},properties:this.properties};return"id"in this&&(W.id=this.id),W};var $M=tw,nw=rw;function rw(l,i){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=l,this._keys=[],this._values=[],this._features=[],l.readFields(UM,this,i),this.length=this._features.length}function UM(l,i,c){l===15?i.version=c.readVarint():l===1?i.name=c.readString():l===5?i.extent=c.readVarint():l===2?i._features.push(c.pos):l===3?i._keys.push(c.readString()):l===4&&i._values.push(function(f){for(var g=null,x=f.readVarint()+f.pos;f.pos<x;){var S=f.readVarint()>>3;g=S===1?f.readString():S===2?f.readFloat():S===3?f.readDouble():S===4?f.readVarint64():S===5?f.readVarint():S===6?f.readSVarint():S===7?f.readBoolean():null}return g}(c))}rw.prototype.feature=function(l){if(l<0||l>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[l];var i=this._pbf.readVarint()+this._pbf.pos;return new $M(this._pbf,i,this.extent,this._keys,this._values)};var qM=nw;function jM(l,i,c){if(l===3){var f=new qM(c,c.readVarint()+c.pos);f.length&&(i[f.name]=f)}}Ul.VectorTile=function(l,i){this.layers=l.readFields(jM,{},i)},Ul.VectorTileFeature=tw,Ul.VectorTileLayer=nw;const HM=Ul.VectorTileFeature.types,By=Math.pow(2,13);function rf(l,i,c,f,g,x,S,A){l.emplaceBack(i,c,2*Math.floor(f*By)+S,g*By*2,x*By*2,Math.round(A))}class Vy{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.layoutVertexArray=new Ot,this.centroidVertexArray=new Et,this.indexArray=new Ti,this.programConfigurations=new $s(i.layers,i.zoom),this.segments=new wr,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.features=[],this.hasPattern=Oy("fill-extrusion",this.layers,c);for(const{feature:g,id:x,index:S,sourceLayerIndex:A}of i){const D=this.layers[0]._featureFilter.needGeometry,F=zc(g,D);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),F,f))continue;const V={id:x,sourceLayerIndex:A,index:S,geometry:D?F.geometry:Fc(g),properties:g.properties,type:g.type,patterns:{}};this.hasPattern?this.features.push(Fy("fill-extrusion",this.layers,V,this.zoom,c)):this.addFeature(V,V.geometry,S,f,{}),c.featureIndex.insert(g,V.geometry,S,A,this.index,!0)}}addFeatures(i,c,f){for(const g of this.features){const{geometry:x}=g;this.addFeature(g,x,g.index,c,f)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,zM),this.centroidVertexBuffer=i.createVertexBuffer(this.centroidVertexArray,FM.members,!0),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(i,c,f,g,x){const S={x:0,y:0,vertexCount:0};for(const A of Ry(c,500)){let D=0;for(const ne of A)D+=ne.length;let F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const ne of A){if(ne.length===0||WM(ne))continue;let ue=0;for(let ye=0;ye<ne.length;ye++){const we=ne[ye];if(ye>=1){const Oe=ne[ye-1];if(!GM(we,Oe)){F.vertexLength+4>wr.MAX_VERTEX_ARRAY_LENGTH&&(F=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Te=we.sub(Oe)._perp()._unit(),Be=Oe.dist(we);ue+Be>32768&&(ue=0),rf(this.layoutVertexArray,we.x,we.y,Te.x,Te.y,0,0,ue),rf(this.layoutVertexArray,we.x,we.y,Te.x,Te.y,0,1,ue),S.x+=2*we.x,S.y+=2*we.y,S.vertexCount+=2,ue+=Be,rf(this.layoutVertexArray,Oe.x,Oe.y,Te.x,Te.y,0,0,ue),rf(this.layoutVertexArray,Oe.x,Oe.y,Te.x,Te.y,0,1,ue),S.x+=2*Oe.x,S.y+=2*Oe.y,S.vertexCount+=2;const Ge=F.vertexLength;this.indexArray.emplaceBack(Ge,Ge+2,Ge+1),this.indexArray.emplaceBack(Ge+1,Ge+2,Ge+3),F.vertexLength+=4,F.primitiveLength+=2}}}}if(F.vertexLength+D>wr.MAX_VERTEX_ARRAY_LENGTH&&(F=this.segments.prepareSegment(D,this.layoutVertexArray,this.indexArray)),HM[i.type]!=="Polygon")continue;const V=[],j=[],W=F.vertexLength;for(const ne of A)if(ne.length!==0){ne!==A[0]&&j.push(V.length/2);for(let ue=0;ue<ne.length;ue++){const ye=ne[ue];rf(this.layoutVertexArray,ye.x,ye.y,0,0,1,1,0),S.x+=ye.x,S.y+=ye.y,S.vertexCount+=1,V.push(ye.x),V.push(ye.y)}}const Q=X1(V,j);for(let ne=0;ne<Q.length;ne+=3)this.indexArray.emplaceBack(W+Q[ne],W+Q[ne+2],W+Q[ne+1]);F.primitiveLength+=Q.length/3,F.vertexLength+=D}for(let A=0;A<S.vertexCount;A++)this.centroidVertexArray.emplaceBack(Math.floor(S.x/S.vertexCount),Math.floor(S.y/S.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,g)}}function GM(l,i){return l.x===i.x&&(l.x<0||l.x>ii)||l.y===i.y&&(l.y<0||l.y>ii)}function WM(l){return l.every(i=>i.x<0)||l.every(i=>i.x>ii)||l.every(i=>i.y<0)||l.every(i=>i.y>ii)}let iw;Ut("FillExtrusionBucket",Vy,{omit:["layers","features"]});var YM={get paint(){return iw=iw||new Xr({"fill-extrusion-opacity":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new on(ke["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Lc(ke["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new on(ke["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new on(ke["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Qt(ke["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ZM extends Fa{constructor(i){super(i,YM)}createBucket(i){return new Vy(i)}queryRadius(){return kp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(i,c,f,g,x,S,A,D){const F=Cp(i,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,A),V=this.paint.get("fill-extrusion-height").evaluate(c,f),j=this.paint.get("fill-extrusion-base").evaluate(c,f),W=function(ne,ue,ye,we){const Oe=[];for(const Te of ne){const Be=[Te.x,Te.y,0,1];Tp(Be,Be,ue),Oe.push(new C(Be[0]/Be[3],Be[1]/Be[3]))}return Oe}(F,D),Q=function(ne,ue,ye,we){const Oe=[],Te=[],Be=we[8]*ue,Ge=we[9]*ue,ot=we[10]*ue,Nt=we[11]*ue,Zt=we[8]*ye,Bt=we[9]*ye,Ft=we[10]*ye,Dt=we[11]*ye;for(const qt of ne){const Mt=[],wt=[];for(const nn of qt){const Xt=nn.x,An=nn.y,Sr=we[0]*Xt+we[4]*An+we[12],Tr=we[1]*Xt+we[5]*An+we[13],hi=we[2]*Xt+we[6]*An+we[14],Ba=we[3]*Xt+we[7]*An+we[15],ia=hi+ot,ai=Ba+Nt,Ei=Sr+Zt,zi=Tr+Bt,aa=hi+Ft,sa=Ba+Dt,fi=new C((Sr+Be)/ai,(Tr+Ge)/ai);fi.z=ia/ai,Mt.push(fi);const mi=new C(Ei/sa,zi/sa);mi.z=aa/sa,wt.push(mi)}Oe.push(Mt),Te.push(wt)}return[Oe,Te]}(g,j,V,D);return function(ne,ue,ye){let we=1/0;O1(ye,ue)&&(we=aw(ye,ue[0]));for(let Oe=0;Oe<ue.length;Oe++){const Te=ue[Oe],Be=ne[Oe];for(let Ge=0;Ge<Te.length-1;Ge++){const ot=Te[Ge],Nt=[ot,Te[Ge+1],Be[Ge+1],Be[Ge],ot];R1(ye,Nt)&&(we=Math.min(we,aw(ye,Nt)))}}return we!==1/0&&we}(Q[0],Q[1],W)}}function af(l,i){return l.x*i.x+l.y*i.y}function aw(l,i){if(l.length===1){let c=0;const f=i[c++];let g;for(;!g||f.equals(g);)if(g=i[c++],!g)return 1/0;for(;c<i.length;c++){const x=i[c],S=l[0],A=g.sub(f),D=x.sub(f),F=S.sub(f),V=af(A,A),j=af(A,D),W=af(D,D),Q=af(F,A),ne=af(F,D),ue=V*W-j*j,ye=(W*Q-j*ne)/ue,we=(V*ne-j*Q)/ue,Oe=f.z*(1-ye-we)+g.z*ye+x.z*we;if(isFinite(Oe))return Oe}return 1/0}{let c=1/0;for(const f of i)c=Math.min(c,f.z);return c}}const KM=Rr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:XM}=KM,JM=Rr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:QM}=JM,eL=Ul.VectorTileFeature.types,tL=Math.cos(Math.PI/180*37.5),sw=Math.pow(2,14)/.5;class Ny{constructor(i){this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(c=>c.id),this.index=i.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new ln,this.layoutVertexArray2=new Kt,this.indexArray=new Ti,this.programConfigurations=new $s(i.layers,i.zoom),this.segments=new wr,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(i,c,f){this.hasPattern=Oy("line",this.layers,c);const g=this.layers[0].layout.get("line-sort-key"),x=!g.isConstant(),S=[];for(const{feature:A,id:D,index:F,sourceLayerIndex:V}of i){const j=this.layers[0]._featureFilter.needGeometry,W=zc(A,j);if(!this.layers[0]._featureFilter.filter(new xr(this.zoom),W,f))continue;const Q=x?g.evaluate(W,{},f):void 0,ne={id:D,properties:A.properties,type:A.type,sourceLayerIndex:V,index:F,geometry:j?W.geometry:Fc(A),patterns:{},sortKey:Q};S.push(ne)}x&&S.sort((A,D)=>A.sortKey-D.sortKey);for(const A of S){const{geometry:D,index:F,sourceLayerIndex:V}=A;if(this.hasPattern){const j=Fy("line",this.layers,A,this.zoom,c);this.patternFeatures.push(j)}else this.addFeature(A,D,F,f,{});c.featureIndex.insert(i[F].feature,D,F,V,this.index)}}update(i,c,f){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(i,c,this.stateDependentLayers,f)}addFeatures(i,c,f){for(const g of this.patternFeatures)this.addFeature(g,g.geometry,g.index,c,f)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(i){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=i.createVertexBuffer(this.layoutVertexArray2,QM)),this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,XM),this.indexBuffer=i.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(i),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(i){if(i.properties&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(i.properties,"mapbox_clip_end"))return{start:+i.properties.mapbox_clip_start,end:+i.properties.mapbox_clip_end}}addFeature(i,c,f,g,x){const S=this.layers[0].layout,A=S.get("line-join").evaluate(i,{}),D=S.get("line-cap"),F=S.get("line-miter-limit"),V=S.get("line-round-limit");this.lineClips=this.lineFeatureClips(i);for(const j of c)this.addLine(j,i,A,D,F,V);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,i,f,x,g)}addLine(i,c,f,g,x,S){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let we=0;we<i.length-1;we++)this.totalDistance+=i[we].dist(i[we+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const A=eL[c.type]==="Polygon";let D=i.length;for(;D>=2&&i[D-1].equals(i[D-2]);)D--;let F=0;for(;F<D-1&&i[F].equals(i[F+1]);)F++;if(D<(A?3:2))return;f==="bevel"&&(x=1.05);const V=this.overscaling<=16?15*ii/(512*this.overscaling):0,j=this.segments.prepareSegment(10*D,this.layoutVertexArray,this.indexArray);let W,Q,ne,ue,ye;this.e1=this.e2=-1,A&&(W=i[D-2],ye=i[F].sub(W)._unit()._perp());for(let we=F;we<D;we++){if(ne=we===D-1?A?i[F+1]:void 0:i[we+1],ne&&i[we].equals(ne))continue;ye&&(ue=ye),W&&(Q=W),W=i[we],ye=ne?ne.sub(W)._unit()._perp():ue,ue=ue||ye;let Oe=ue.add(ye);Oe.x===0&&Oe.y===0||Oe._unit();const Te=ue.x*ye.x+ue.y*ye.y,Be=Oe.x*ye.x+Oe.y*ye.y,Ge=Be!==0?1/Be:1/0,ot=2*Math.sqrt(2-2*Be),Nt=Be<tL&&Q&&ne,Zt=ue.x*ye.y-ue.y*ye.x>0;if(Nt&&we>F){const Dt=W.dist(Q);if(Dt>2*V){const qt=W.sub(W.sub(Q)._mult(V/Dt)._round());this.updateDistance(Q,qt),this.addCurrentVertex(qt,ue,0,0,j),Q=qt}}const Bt=Q&&ne;let Ft=Bt?f:A?"butt":g;if(Bt&&Ft==="round"&&(Ge<S?Ft="miter":Ge<=2&&(Ft="fakeround")),Ft==="miter"&&Ge>x&&(Ft="bevel"),Ft==="bevel"&&(Ge>2&&(Ft="flipbevel"),Ge<x&&(Ft="miter")),Q&&this.updateDistance(Q,W),Ft==="miter")Oe._mult(Ge),this.addCurrentVertex(W,Oe,0,0,j);else if(Ft==="flipbevel"){if(Ge>100)Oe=ye.mult(-1);else{const Dt=Ge*ue.add(ye).mag()/ue.sub(ye).mag();Oe._perp()._mult(Dt*(Zt?-1:1))}this.addCurrentVertex(W,Oe,0,0,j),this.addCurrentVertex(W,Oe.mult(-1),0,0,j)}else if(Ft==="bevel"||Ft==="fakeround"){const Dt=-Math.sqrt(Ge*Ge-1),qt=Zt?Dt:0,Mt=Zt?0:Dt;if(Q&&this.addCurrentVertex(W,ue,qt,Mt,j),Ft==="fakeround"){const wt=Math.round(180*ot/Math.PI/20);for(let nn=1;nn<wt;nn++){let Xt=nn/wt;if(Xt!==.5){const Sr=Xt-.5;Xt+=Xt*Sr*(Xt-1)*((1.0904+Te*(Te*(3.55645-1.43519*Te)-3.2452))*Sr*Sr+(.848013+Te*(.215638*Te-1.06021)))}const An=ye.sub(ue)._mult(Xt)._add(ue)._unit()._mult(Zt?-1:1);this.addHalfVertex(W,An.x,An.y,!1,Zt,0,j)}}ne&&this.addCurrentVertex(W,ye,-qt,-Mt,j)}else if(Ft==="butt")this.addCurrentVertex(W,Oe,0,0,j);else if(Ft==="square"){const Dt=Q?1:-1;this.addCurrentVertex(W,Oe,Dt,Dt,j)}else Ft==="round"&&(Q&&(this.addCurrentVertex(W,ue,0,0,j),this.addCurrentVertex(W,ue,1,1,j,!0)),ne&&(this.addCurrentVertex(W,ye,-1,-1,j,!0),this.addCurrentVertex(W,ye,0,0,j)));if(Nt&&we<D-1){const Dt=W.dist(ne);if(Dt>2*V){const qt=W.add(ne.sub(W)._mult(V/Dt)._round());this.updateDistance(W,qt),this.addCurrentVertex(qt,ye,0,0,j),W=qt}}}}addCurrentVertex(i,c,f,g,x,S=!1){const A=c.y*g-c.x,D=-c.y-c.x*g;this.addHalfVertex(i,c.x+c.y*f,c.y-c.x*f,S,!1,f,x),this.addHalfVertex(i,A,D,S,!0,-g,x),this.distance>sw/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(i,c,f,g,x,S))}addHalfVertex({x:i,y:c},f,g,x,S,A,D){const F=.5*(this.lineClips?this.scaledDistance*(sw-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((i<<1)+(x?1:0),(c<<1)+(S?1:0),Math.round(63*f)+128,Math.round(63*g)+128,1+(A===0?0:A<0?-1:1)|(63&F)<<2,F>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const V=D.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,V),D.primitiveLength++),S?this.e2=V:this.e1=V}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(i,c){this.distance+=i.dist(c),this.updateScaledDistance()}}let ow,lw;Ut("LineBucket",Ny,{omit:["layers","patternFeatures"]});var cw={get paint(){return lw=lw||new Xr({"line-opacity":new on(ke.paint_line["line-opacity"]),"line-color":new on(ke.paint_line["line-color"]),"line-translate":new Qt(ke.paint_line["line-translate"]),"line-translate-anchor":new Qt(ke.paint_line["line-translate-anchor"]),"line-width":new on(ke.paint_line["line-width"]),"line-gap-width":new on(ke.paint_line["line-gap-width"]),"line-offset":new on(ke.paint_line["line-offset"]),"line-blur":new on(ke.paint_line["line-blur"]),"line-dasharray":new $h(ke.paint_line["line-dasharray"]),"line-pattern":new Lc(ke.paint_line["line-pattern"]),"line-gradient":new Uh(ke.paint_line["line-gradient"])})},get layout(){return ow=ow||new Xr({"line-cap":new Qt(ke.layout_line["line-cap"]),"line-join":new on(ke.layout_line["line-join"]),"line-miter-limit":new Qt(ke.layout_line["line-miter-limit"]),"line-round-limit":new Qt(ke.layout_line["line-round-limit"]),"line-sort-key":new on(ke.layout_line["line-sort-key"])})}};class nL extends on{possiblyEvaluate(i,c){return c=new xr(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(i,c)}evaluate(i,c,f,g){return c=H({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(i,c,f,g)}}let Dp;class rL extends Fa{constructor(i){super(i,cw),this.gradientVersion=0,Dp||(Dp=new nL(cw.paint.properties["line-width"].specification),Dp.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(i){if(i==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!function(f){return f._styleExpression!==void 0}(c)&&c._styleExpression.expression instanceof go,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(i,c){super.recalculate(i,c),this.paint._values["line-floorwidth"]=Dp.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,i)}createBucket(i){return new Ny(i)}queryRadius(i){const c=i,f=uw(Kh("line-width",this,c),Kh("line-gap-width",this,c)),g=Kh("line-offset",this,c);return f/2+Math.abs(g)+kp(this.paint.get("line-translate"))}queryIntersectsFeature(i,c,f,g,x,S,A){const D=Cp(i,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,A),F=A/2*uw(this.paint.get("line-width").evaluate(c,f),this.paint.get("line-gap-width").evaluate(c,f)),V=this.paint.get("line-offset").evaluate(c,f);return V&&(g=function(j,W){const Q=[];for(let ne=0;ne<j.length;ne++){const ue=j[ne],ye=[];for(let we=0;we<ue.length;we++){const Oe=ue[we-1],Te=ue[we],Be=ue[we+1],Ge=we===0?new C(0,0):Te.sub(Oe)._unit()._perp(),ot=we===ue.length-1?new C(0,0):Be.sub(Te)._unit()._perp(),Nt=Ge._add(ot)._unit(),Zt=Nt.x*ot.x+Nt.y*ot.y;Zt!==0&&Nt._mult(1/Zt),ye.push(Nt._mult(W)._add(Te))}Q.push(ye)}return Q}(g,V*A)),function(j,W,Q){for(let ne=0;ne<W.length;ne++){const ue=W[ne];if(j.length>=3){for(let ye=0;ye<ue.length;ye++)if(td(j,ue[ye]))return!0}if(cM(j,ue,Q))return!0}return!1}(D,g,F)}isTileClipped(){return!0}}function uw(l,i){return i>0?i+2*l:l}const iL=Rr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),aL=Rr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Rr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const sL=Rr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Rr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const dw=Rr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),oL=Rr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function lL(l,i,c){return l.sections.forEach(f=>{f.text=function(g,x,S){const A=x.layout.get("text-transform").evaluate(S,{});return A==="uppercase"?g=g.toLocaleUpperCase():A==="lowercase"&&(g=g.toLocaleLowerCase()),xa.applyArabicShaping&&(g=xa.applyArabicShaping(g)),g}(f.text,i,c)}),l}Rr([{name:"triangle",components:3,type:"Uint16"}]),Rr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Rr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Rr([{type:"Float32",name:"offsetX"}]),Rr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Rr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const sf={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var di=24,hw=lr,fw=function(l,i,c,f,g){var x,S,A=8*g-f-1,D=(1<<A)-1,F=D>>1,V=-7,j=g-1,W=-1,Q=l[i+j];for(j+=W,x=Q&(1<<-V)-1,Q>>=-V,V+=A;V>0;x=256*x+l[i+j],j+=W,V-=8);for(S=x&(1<<-V)-1,x>>=-V,V+=f;V>0;S=256*S+l[i+j],j+=W,V-=8);if(x===0)x=1-F;else{if(x===D)return S?NaN:1/0*(Q?-1:1);S+=Math.pow(2,f),x-=F}return(Q?-1:1)*S*Math.pow(2,x-f)},mw=function(l,i,c,f,g,x){var S,A,D,F=8*x-g-1,V=(1<<F)-1,j=V>>1,W=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,Q=0,ne=1,ue=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(A=isNaN(i)?1:0,S=V):(S=Math.floor(Math.log(i)/Math.LN2),i*(D=Math.pow(2,-S))<1&&(S--,D*=2),(i+=S+j>=1?W/D:W*Math.pow(2,1-j))*D>=2&&(S++,D/=2),S+j>=V?(A=0,S=V):S+j>=1?(A=(i*D-1)*Math.pow(2,g),S+=j):(A=i*Math.pow(2,j-1)*Math.pow(2,g),S=0));g>=8;l[c+Q]=255&A,Q+=ne,A/=256,g-=8);for(S=S<<g|A,F+=g;F>0;l[c+Q]=255&S,Q+=ne,S/=256,F-=8);l[c+Q-ne]|=128*ue};function lr(l){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(l)?l:new Uint8Array(l||0),this.pos=0,this.type=0,this.length=this.buf.length}lr.Varint=0,lr.Fixed64=1,lr.Bytes=2,lr.Fixed32=5;var $y=4294967296,pw=1/$y,gw=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Qo(l){return l.type===lr.Bytes?l.readVarint()+l.pos:l.pos+1}function ad(l,i,c){return c?4294967296*i+(l>>>0):4294967296*(i>>>0)+(l>>>0)}function vw(l,i,c){var f=i<=16383?1:i<=2097151?2:i<=268435455?3:Math.floor(Math.log(i)/(7*Math.LN2));c.realloc(f);for(var g=c.pos-1;g>=l;g--)c.buf[g+f]=c.buf[g]}function cL(l,i){for(var c=0;c<l.length;c++)i.writeVarint(l[c])}function uL(l,i){for(var c=0;c<l.length;c++)i.writeSVarint(l[c])}function dL(l,i){for(var c=0;c<l.length;c++)i.writeFloat(l[c])}function hL(l,i){for(var c=0;c<l.length;c++)i.writeDouble(l[c])}function fL(l,i){for(var c=0;c<l.length;c++)i.writeBoolean(l[c])}function mL(l,i){for(var c=0;c<l.length;c++)i.writeFixed32(l[c])}function pL(l,i){for(var c=0;c<l.length;c++)i.writeSFixed32(l[c])}function gL(l,i){for(var c=0;c<l.length;c++)i.writeFixed64(l[c])}function vL(l,i){for(var c=0;c<l.length;c++)i.writeSFixed64(l[c])}function Mp(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+16777216*l[i+3]}function sd(l,i,c){l[c]=i,l[c+1]=i>>>8,l[c+2]=i>>>16,l[c+3]=i>>>24}function yw(l,i){return(l[i]|l[i+1]<<8|l[i+2]<<16)+(l[i+3]<<24)}lr.prototype={destroy:function(){this.buf=null},readFields:function(l,i,c){for(c=c||this.length;this.pos<c;){var f=this.readVarint(),g=f>>3,x=this.pos;this.type=7&f,l(g,i,this),this.pos===x&&this.skip(f)}return i},readMessage:function(l,i){return this.readFields(l,i,this.readVarint()+this.pos)},readFixed32:function(){var l=Mp(this.buf,this.pos);return this.pos+=4,l},readSFixed32:function(){var l=yw(this.buf,this.pos);return this.pos+=4,l},readFixed64:function(){var l=Mp(this.buf,this.pos)+Mp(this.buf,this.pos+4)*$y;return this.pos+=8,l},readSFixed64:function(){var l=Mp(this.buf,this.pos)+yw(this.buf,this.pos+4)*$y;return this.pos+=8,l},readFloat:function(){var l=fw(this.buf,this.pos,!0,23,4);return this.pos+=4,l},readDouble:function(){var l=fw(this.buf,this.pos,!0,52,8);return this.pos+=8,l},readVarint:function(l){var i,c,f=this.buf;return i=127&(c=f[this.pos++]),c<128?i:(i|=(127&(c=f[this.pos++]))<<7,c<128?i:(i|=(127&(c=f[this.pos++]))<<14,c<128?i:(i|=(127&(c=f[this.pos++]))<<21,c<128?i:function(g,x,S){var A,D,F=S.buf;if(A=(112&(D=F[S.pos++]))>>4,D<128||(A|=(127&(D=F[S.pos++]))<<3,D<128)||(A|=(127&(D=F[S.pos++]))<<10,D<128)||(A|=(127&(D=F[S.pos++]))<<17,D<128)||(A|=(127&(D=F[S.pos++]))<<24,D<128)||(A|=(1&(D=F[S.pos++]))<<31,D<128))return ad(g,A,x);throw new Error("Expected varint not more than 10 bytes")}(i|=(15&(c=f[this.pos]))<<28,l,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var l=this.readVarint();return l%2==1?(l+1)/-2:l/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var l=this.readVarint()+this.pos,i=this.pos;return this.pos=l,l-i>=12&&gw?function(c,f,g){return gw.decode(c.subarray(f,g))}(this.buf,i,l):function(c,f,g){for(var x="",S=f;S<g;){var A,D,F,V=c[S],j=null,W=V>239?4:V>223?3:V>191?2:1;if(S+W>g)break;W===1?V<128&&(j=V):W===2?(192&(A=c[S+1]))==128&&(j=(31&V)<<6|63&A)<=127&&(j=null):W===3?(D=c[S+2],(192&(A=c[S+1]))==128&&(192&D)==128&&((j=(15&V)<<12|(63&A)<<6|63&D)<=2047||j>=55296&&j<=57343)&&(j=null)):W===4&&(D=c[S+2],F=c[S+3],(192&(A=c[S+1]))==128&&(192&D)==128&&(192&F)==128&&((j=(15&V)<<18|(63&A)<<12|(63&D)<<6|63&F)<=65535||j>=1114112)&&(j=null)),j===null?(j=65533,W=1):j>65535&&(j-=65536,x+=String.fromCharCode(j>>>10&1023|55296),j=56320|1023&j),x+=String.fromCharCode(j),S+=W}return x}(this.buf,i,l)},readBytes:function(){var l=this.readVarint()+this.pos,i=this.buf.subarray(this.pos,l);return this.pos=l,i},readPackedVarint:function(l,i){if(this.type!==lr.Bytes)return l.push(this.readVarint(i));var c=Qo(this);for(l=l||[];this.pos<c;)l.push(this.readVarint(i));return l},readPackedSVarint:function(l){if(this.type!==lr.Bytes)return l.push(this.readSVarint());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readSVarint());return l},readPackedBoolean:function(l){if(this.type!==lr.Bytes)return l.push(this.readBoolean());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readBoolean());return l},readPackedFloat:function(l){if(this.type!==lr.Bytes)return l.push(this.readFloat());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readFloat());return l},readPackedDouble:function(l){if(this.type!==lr.Bytes)return l.push(this.readDouble());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readDouble());return l},readPackedFixed32:function(l){if(this.type!==lr.Bytes)return l.push(this.readFixed32());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readFixed32());return l},readPackedSFixed32:function(l){if(this.type!==lr.Bytes)return l.push(this.readSFixed32());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed32());return l},readPackedFixed64:function(l){if(this.type!==lr.Bytes)return l.push(this.readFixed64());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readFixed64());return l},readPackedSFixed64:function(l){if(this.type!==lr.Bytes)return l.push(this.readSFixed64());var i=Qo(this);for(l=l||[];this.pos<i;)l.push(this.readSFixed64());return l},skip:function(l){var i=7&l;if(i===lr.Varint)for(;this.buf[this.pos++]>127;);else if(i===lr.Bytes)this.pos=this.readVarint()+this.pos;else if(i===lr.Fixed32)this.pos+=4;else{if(i!==lr.Fixed64)throw new Error("Unimplemented type: "+i);this.pos+=8}},writeTag:function(l,i){this.writeVarint(l<<3|i)},realloc:function(l){for(var i=this.length||16;i<this.pos+l;)i*=2;if(i!==this.length){var c=new Uint8Array(i);c.set(this.buf),this.buf=c,this.length=i}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(l){this.realloc(4),sd(this.buf,l,this.pos),this.pos+=4},writeSFixed32:function(l){this.realloc(4),sd(this.buf,l,this.pos),this.pos+=4},writeFixed64:function(l){this.realloc(8),sd(this.buf,-1&l,this.pos),sd(this.buf,Math.floor(l*pw),this.pos+4),this.pos+=8},writeSFixed64:function(l){this.realloc(8),sd(this.buf,-1&l,this.pos),sd(this.buf,Math.floor(l*pw),this.pos+4),this.pos+=8},writeVarint:function(l){(l=+l||0)>268435455||l<0?function(i,c){var f,g;if(i>=0?(f=i%4294967296|0,g=i/4294967296|0):(g=~(-i/4294967296),4294967295^(f=~(-i%4294967296))?f=f+1|0:(f=0,g=g+1|0)),i>=18446744073709552e3||i<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(x,S,A){A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,x>>>=7,A.buf[A.pos++]=127&x|128,A.buf[A.pos]=127&(x>>>=7)}(f,0,c),function(x,S){var A=(7&x)<<4;S.buf[S.pos++]|=A|((x>>>=3)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x|((x>>>=7)?128:0),x&&(S.buf[S.pos++]=127&x)))))}(g,c)}(l,this):(this.realloc(4),this.buf[this.pos++]=127&l|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=127&(l>>>=7)|(l>127?128:0),l<=127||(this.buf[this.pos++]=l>>>7&127))))},writeSVarint:function(l){this.writeVarint(l<0?2*-l-1:2*l)},writeBoolean:function(l){this.writeVarint(!!l)},writeString:function(l){l=String(l),this.realloc(4*l.length),this.pos++;var i=this.pos;this.pos=function(f,g,x){for(var S,A,D=0;D<g.length;D++){if((S=g.charCodeAt(D))>55295&&S<57344){if(!A){S>56319||D+1===g.length?(f[x++]=239,f[x++]=191,f[x++]=189):A=S;continue}if(S<56320){f[x++]=239,f[x++]=191,f[x++]=189,A=S;continue}S=A-55296<<10|S-56320|65536,A=null}else A&&(f[x++]=239,f[x++]=191,f[x++]=189,A=null);S<128?f[x++]=S:(S<2048?f[x++]=S>>6|192:(S<65536?f[x++]=S>>12|224:(f[x++]=S>>18|240,f[x++]=S>>12&63|128),f[x++]=S>>6&63|128),f[x++]=63&S|128)}return x}(this.buf,l,this.pos);var c=this.pos-i;c>=128&&vw(i,c,this),this.pos=i-1,this.writeVarint(c),this.pos+=c},writeFloat:function(l){this.realloc(4),mw(this.buf,l,this.pos,!0,23,4),this.pos+=4},writeDouble:function(l){this.realloc(8),mw(this.buf,l,this.pos,!0,52,8),this.pos+=8},writeBytes:function(l){var i=l.length;this.writeVarint(i),this.realloc(i);for(var c=0;c<i;c++)this.buf[this.pos++]=l[c]},writeRawMessage:function(l,i){this.pos++;var c=this.pos;l(i,this);var f=this.pos-c;f>=128&&vw(c,f,this),this.pos=c-1,this.writeVarint(f),this.pos+=f},writeMessage:function(l,i,c){this.writeTag(l,lr.Bytes),this.writeRawMessage(i,c)},writePackedVarint:function(l,i){i.length&&this.writeMessage(l,cL,i)},writePackedSVarint:function(l,i){i.length&&this.writeMessage(l,uL,i)},writePackedBoolean:function(l,i){i.length&&this.writeMessage(l,fL,i)},writePackedFloat:function(l,i){i.length&&this.writeMessage(l,dL,i)},writePackedDouble:function(l,i){i.length&&this.writeMessage(l,hL,i)},writePackedFixed32:function(l,i){i.length&&this.writeMessage(l,mL,i)},writePackedSFixed32:function(l,i){i.length&&this.writeMessage(l,pL,i)},writePackedFixed64:function(l,i){i.length&&this.writeMessage(l,gL,i)},writePackedSFixed64:function(l,i){i.length&&this.writeMessage(l,vL,i)},writeBytesField:function(l,i){this.writeTag(l,lr.Bytes),this.writeBytes(i)},writeFixed32Field:function(l,i){this.writeTag(l,lr.Fixed32),this.writeFixed32(i)},writeSFixed32Field:function(l,i){this.writeTag(l,lr.Fixed32),this.writeSFixed32(i)},writeFixed64Field:function(l,i){this.writeTag(l,lr.Fixed64),this.writeFixed64(i)},writeSFixed64Field:function(l,i){this.writeTag(l,lr.Fixed64),this.writeSFixed64(i)},writeVarintField:function(l,i){this.writeTag(l,lr.Varint),this.writeVarint(i)},writeSVarintField:function(l,i){this.writeTag(l,lr.Varint),this.writeSVarint(i)},writeStringField:function(l,i){this.writeTag(l,lr.Bytes),this.writeString(i)},writeFloatField:function(l,i){this.writeTag(l,lr.Fixed32),this.writeFloat(i)},writeDoubleField:function(l,i){this.writeTag(l,lr.Fixed64),this.writeDouble(i)},writeBooleanField:function(l,i){this.writeVarintField(l,!!i)}};var Uy=y(hw);const qy=3;function yL(l,i,c){l===1&&c.readMessage(_L,i)}function _L(l,i,c){if(l===3){const{id:f,bitmap:g,width:x,height:S,left:A,top:D,advance:F}=c.readMessage(bL,{});i.push({id:f,bitmap:new Jh({width:x+2*qy,height:S+2*qy},g),metrics:{width:x,height:S,left:A,top:D,advance:F}})}}function bL(l,i,c){l===1?i.id=c.readVarint():l===2?i.bitmap=c.readBytes():l===3?i.width=c.readVarint():l===4?i.height=c.readVarint():l===5?i.left=c.readSVarint():l===6?i.top=c.readSVarint():l===7&&(i.advance=c.readVarint())}const _w=qy;function bw(l){let i=0,c=0;for(const S of l)i+=S.w*S.h,c=Math.max(c,S.w);l.sort((S,A)=>A.h-S.h);const f=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(i/.95)),c),h:1/0}];let g=0,x=0;for(const S of l)for(let A=f.length-1;A>=0;A--){const D=f[A];if(!(S.w>D.w||S.h>D.h)){if(S.x=D.x,S.y=D.y,x=Math.max(x,S.y+S.h),g=Math.max(g,S.x+S.w),S.w===D.w&&S.h===D.h){const F=f.pop();A<f.length&&(f[A]=F)}else S.h===D.h?(D.x+=S.w,D.w-=S.w):S.w===D.w?(D.y+=S.h,D.h-=S.h):(f.push({x:D.x+S.w,y:D.y,w:D.w-S.w,h:S.h}),D.y+=S.h,D.h-=S.h);break}}return{w:g,h:x,fill:i/(g*x)||0}}const Sa=1;class jy{constructor(i,{pixelRatio:c,version:f,stretchX:g,stretchY:x,content:S}){this.paddedRect=i,this.pixelRatio=c,this.stretchX=g,this.stretchY=x,this.content=S,this.version=f}get tl(){return[this.paddedRect.x+Sa,this.paddedRect.y+Sa]}get br(){return[this.paddedRect.x+this.paddedRect.w-Sa,this.paddedRect.y+this.paddedRect.h-Sa]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*Sa)/this.pixelRatio,(this.paddedRect.h-2*Sa)/this.pixelRatio]}}class xw{constructor(i,c){const f={},g={};this.haveRenderCallbacks=[];const x=[];this.addImages(i,f,x),this.addImages(c,g,x);const{w:S,h:A}=bw(x),D=new Ka({width:S||1,height:A||1});for(const F in i){const V=i[F],j=f[F].paddedRect;Ka.copy(V.data,D,{x:0,y:0},{x:j.x+Sa,y:j.y+Sa},V.data)}for(const F in c){const V=c[F],j=g[F].paddedRect,W=j.x+Sa,Q=j.y+Sa,ne=V.data.width,ue=V.data.height;Ka.copy(V.data,D,{x:0,y:0},{x:W,y:Q},V.data),Ka.copy(V.data,D,{x:0,y:ue-1},{x:W,y:Q-1},{width:ne,height:1}),Ka.copy(V.data,D,{x:0,y:0},{x:W,y:Q+ue},{width:ne,height:1}),Ka.copy(V.data,D,{x:ne-1,y:0},{x:W-1,y:Q},{width:1,height:ue}),Ka.copy(V.data,D,{x:0,y:0},{x:W+ne,y:Q},{width:1,height:ue})}this.image=D,this.iconPositions=f,this.patternPositions=g}addImages(i,c,f){for(const g in i){const x=i[g],S={x:0,y:0,w:x.data.width+2*Sa,h:x.data.height+2*Sa};f.push(S),c[g]=new jy(S,x),x.hasRenderCallback&&this.haveRenderCallbacks.push(g)}}patchUpdatedImages(i,c){i.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const f in i.updatedImages)this.patchUpdatedImage(this.iconPositions[f],i.getImage(f),c),this.patchUpdatedImage(this.patternPositions[f],i.getImage(f),c)}patchUpdatedImage(i,c,f){if(!i||!c||i.version===c.version)return;i.version=c.version;const[g,x]=i.tl;f.update(c.data,void 0,{x:g,y:x})}}var ql;Ut("ImagePosition",jy),Ut("ImageAtlas",xw),o.ai=void 0,(ql=o.ai||(o.ai={}))[ql.none=0]="none",ql[ql.horizontal=1]="horizontal",ql[ql.vertical=2]="vertical",ql[ql.horizontalOnly=3]="horizontalOnly";const of=-17;class lf{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(i,c){const f=new lf;return f.scale=i||1,f.fontStack=c,f}static forImage(i){const c=new lf;return c.imageName=i,c}}class od{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(i,c){const f=new od;for(let g=0;g<i.sections.length;g++){const x=i.sections[g];x.image?f.addImageSection(x):f.addTextSection(x,c)}return f}length(){return this.text.length}getSection(i){return this.sections[this.sectionIndex[i]]}getSectionIndex(i){return this.sectionIndex[i]}getCharCode(i){return this.text.charCodeAt(i)}verticalizePunctuation(){this.text=function(i){let c="";for(let f=0;f<i.length;f++){const g=i.charCodeAt(f+1)||null,x=i.charCodeAt(f-1)||null;c+=g&&fp(g)&&!sf[i[f+1]]||x&&fp(x)&&!sf[i[f-1]]||!sf[i[f]]?i[f]:sf[i[f]]}return c}(this.text)}trim(){let i=0;for(let f=0;f<this.text.length&&Rp[this.text.charCodeAt(f)];f++)i++;let c=this.text.length;for(let f=this.text.length-1;f>=0&&f>=i&&Rp[this.text.charCodeAt(f)];f--)c--;this.text=this.text.substring(i,c),this.sectionIndex=this.sectionIndex.slice(i,c)}substring(i,c){const f=new od;return f.text=this.text.substring(i,c),f.sectionIndex=this.sectionIndex.slice(i,c),f.sections=this.sections,f}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((i,c)=>Math.max(i,this.sections[c].scale),0)}addTextSection(i,c){this.text+=i.text,this.sections.push(lf.forText(i.scale,i.fontStack||c));const f=this.sections.length-1;for(let g=0;g<i.text.length;++g)this.sectionIndex.push(f)}addImageSection(i){const c=i.image?i.image.name:"";if(c.length===0)return void me("Can't add FormattedSection with an empty image.");const f=this.getNextImageSectionCharCode();f?(this.text+=String.fromCharCode(f),this.sections.push(lf.forImage(c)),this.sectionIndex.push(this.sections.length-1)):me("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Lp(l,i,c,f,g,x,S,A,D,F,V,j,W,Q,ne,ue){const ye=od.fromFeature(l,g);let we;j===o.ai.vertical&&ye.verticalizePunctuation();const{processBidirectionalText:Oe,processStyledBidirectionalText:Te}=xa;if(Oe&&ye.sections.length===1){we=[];const ot=Oe(ye.toString(),Hy(ye,F,x,i,f,Q,ne));for(const Nt of ot){const Zt=new od;Zt.text=Nt,Zt.sections=ye.sections;for(let Bt=0;Bt<Nt.length;Bt++)Zt.sectionIndex.push(0);we.push(Zt)}}else if(Te){we=[];const ot=Te(ye.text,ye.sectionIndex,Hy(ye,F,x,i,f,Q,ne));for(const Nt of ot){const Zt=new od;Zt.text=Nt[0],Zt.sectionIndex=Nt[1],Zt.sections=ye.sections,we.push(Zt)}}else we=function(ot,Nt){const Zt=[],Bt=ot.text;let Ft=0;for(const Dt of Nt)Zt.push(ot.substring(Ft,Dt)),Ft=Dt;return Ft<Bt.length&&Zt.push(ot.substring(Ft,Bt.length)),Zt}(ye,Hy(ye,F,x,i,f,Q,ne));const Be=[],Ge={positionedLines:Be,text:ye.toString(),top:V[1],bottom:V[1],left:V[0],right:V[0],writingMode:j,iconsInText:!1,verticalizable:!1};return function(ot,Nt,Zt,Bt,Ft,Dt,qt,Mt,wt,nn,Xt,An){let Sr=0,Tr=of,hi=0,Ba=0;const ia=Mt==="right"?1:Mt==="left"?0:.5;let ai=0;for(const fi of Ft){fi.trim();const mi=fi.getMaxScale(),Hi=(mi-1)*di,oa={positionedGlyphs:[],lineOffset:0};ot.positionedLines[ai]=oa;const Gi=oa.positionedGlyphs;let ka=0;if(!fi.length()){Tr+=Dt,++ai;continue}for(let pi=0;pi<fi.length();pi++){const Rn=fi.getSection(pi),Wi=fi.getSectionIndex(pi),Bi=fi.getCharCode(pi);let gi=0,_s=null,Us=null,qs=null,el=di;const bs=!(wt===o.ai.horizontal||!Xt&&!Lh(Bi)||Xt&&(Rp[Bi]||(Ei=Bi,Vt.Arabic(Ei)||Vt["Arabic Supplement"](Ei)||Vt["Arabic Extended-A"](Ei)||Vt["Arabic Presentation Forms-A"](Ei)||Vt["Arabic Presentation Forms-B"](Ei))));if(Rn.imageName){const Ja=Bt[Rn.imageName];if(!Ja)continue;qs=Rn.imageName,ot.iconsInText=ot.iconsInText||!0,Us=Ja.paddedRect;const Ta=Ja.displaySize;Rn.scale=Rn.scale*di/An,_s={width:Ta[0],height:Ta[1],left:Sa,top:-_w,advance:bs?Ta[1]:Ta[0]},gi=Hi+(di-Ta[1]*Rn.scale),el=_s.advance;const tl=bs?Ta[0]*Rn.scale-di*mi:Ta[1]*Rn.scale-di*mi;tl>0&&tl>ka&&(ka=tl)}else{const Ja=Zt[Rn.fontStack],Ta=Ja&&Ja[Bi];if(Ta&&Ta.rect)Us=Ta.rect,_s=Ta.metrics;else{const tl=Nt[Rn.fontStack],ff=tl&&tl[Bi];if(!ff)continue;_s=ff.metrics}gi=(mi-Rn.scale)*di}bs?(ot.verticalizable=!0,Gi.push({glyph:Bi,imageName:qs,x:Sr,y:Tr+gi,vertical:bs,scale:Rn.scale,fontStack:Rn.fontStack,sectionIndex:Wi,metrics:_s,rect:Us}),Sr+=el*Rn.scale+nn):(Gi.push({glyph:Bi,imageName:qs,x:Sr,y:Tr+gi,vertical:bs,scale:Rn.scale,fontStack:Rn.fontStack,sectionIndex:Wi,metrics:_s,rect:Us}),Sr+=_s.advance*Rn.scale+nn)}Gi.length!==0&&(hi=Math.max(Sr-nn,hi),SL(Gi,0,Gi.length-1,ia,ka)),Sr=0;const Ca=Dt*mi+ka;oa.lineOffset=Math.max(ka,Hi),Tr+=Ca,Ba=Math.max(Ca,Ba),++ai}var Ei;const zi=Tr-of,{horizontalAlign:aa,verticalAlign:sa}=Gy(qt);(function(fi,mi,Hi,oa,Gi,ka,Ca,pi,Rn){const Wi=(mi-Hi)*Gi;let Bi=0;Bi=ka!==Ca?-pi*oa-of:(-oa*Rn+.5)*Ca;for(const gi of fi)for(const _s of gi.positionedGlyphs)_s.x+=Wi,_s.y+=Bi})(ot.positionedLines,ia,aa,sa,hi,Ba,Dt,zi,Ft.length),ot.top+=-sa*zi,ot.bottom=ot.top+zi,ot.left+=-aa*hi,ot.right=ot.left+hi}(Ge,i,c,f,we,S,A,D,j,F,W,ue),!function(ot){for(const Nt of ot)if(Nt.positionedGlyphs.length!==0)return!1;return!0}(Be)&&Ge}const Rp={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},xL={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function ww(l,i,c,f,g,x){if(i.imageName){const S=f[i.imageName];return S?S.displaySize[0]*i.scale*di/x+g:0}{const S=c[i.fontStack],A=S&&S[l];return A?A.metrics.advance*i.scale+g:0}}function Sw(l,i,c,f){const g=Math.pow(l-i,2);return f?l<i?g/2:2*g:g+Math.abs(c)*c}function wL(l,i,c){let f=0;return l===10&&(f-=1e4),c&&(f+=150),l!==40&&l!==65288||(f+=50),i!==41&&i!==65289||(f+=50),f}function kw(l,i,c,f,g,x){let S=null,A=Sw(i,c,g,x);for(const D of f){const F=Sw(i-D.x,c,g,x)+D.badness;F<=A&&(S=D,A=F)}return{index:l,x:i,priorBreak:S,badness:A}}function Cw(l){return l?Cw(l.priorBreak).concat(l.index):[]}function Hy(l,i,c,f,g,x,S){if(x!=="point")return[];if(!l)return[];const A=[],D=function(W,Q,ne,ue,ye,we){let Oe=0;for(let Te=0;Te<W.length();Te++){const Be=W.getSection(Te);Oe+=ww(W.getCharCode(Te),Be,ue,ye,Q,we)}return Oe/Math.max(1,Math.ceil(Oe/ne))}(l,i,c,f,g,S),F=l.text.indexOf("​")>=0;let V=0;for(let W=0;W<l.length();W++){const Q=l.getSection(W),ne=l.getCharCode(W);if(Rp[ne]||(V+=ww(ne,Q,f,g,i,S)),W<l.length()-1){const ue=!((j=ne)<11904||!(Vt["Bopomofo Extended"](j)||Vt.Bopomofo(j)||Vt["CJK Compatibility Forms"](j)||Vt["CJK Compatibility Ideographs"](j)||Vt["CJK Compatibility"](j)||Vt["CJK Radicals Supplement"](j)||Vt["CJK Strokes"](j)||Vt["CJK Symbols and Punctuation"](j)||Vt["CJK Unified Ideographs Extension A"](j)||Vt["CJK Unified Ideographs"](j)||Vt["Enclosed CJK Letters and Months"](j)||Vt["Halfwidth and Fullwidth Forms"](j)||Vt.Hiragana(j)||Vt["Ideographic Description Characters"](j)||Vt["Kangxi Radicals"](j)||Vt["Katakana Phonetic Extensions"](j)||Vt.Katakana(j)||Vt["Vertical Forms"](j)||Vt["Yi Radicals"](j)||Vt["Yi Syllables"](j)));(xL[ne]||ue||Q.imageName)&&A.push(kw(W+1,V,D,A,wL(ne,l.getCharCode(W+1),ue&&F),!1))}}var j;return Cw(kw(l.length(),V,D,A,0,!0))}function Gy(l){let i=.5,c=.5;switch(l){case"right":case"top-right":case"bottom-right":i=1;break;case"left":case"top-left":case"bottom-left":i=0}switch(l){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:i,verticalAlign:c}}function SL(l,i,c,f,g){if(!f&&!g)return;const x=l[c],S=(l[c].x+x.metrics.advance*x.scale)*f;for(let A=i;A<=c;A++)l[A].x-=S,l[A].y+=g}function kL(l,i,c){const{horizontalAlign:f,verticalAlign:g}=Gy(c),x=i[0]-l.displaySize[0]*f,S=i[1]-l.displaySize[1]*g;return{image:l,top:S,bottom:S+l.displaySize[1],left:x,right:x+l.displaySize[0]}}function Tw(l,i,c,f,g,x){const S=l.image;let A;if(S.content){const ye=S.content,we=S.pixelRatio||1;A=[ye[0]/we,ye[1]/we,S.displaySize[0]-ye[2]/we,S.displaySize[1]-ye[3]/we]}const D=i.left*x,F=i.right*x;let V,j,W,Q;c==="width"||c==="both"?(Q=g[0]+D-f[3],j=g[0]+F+f[1]):(Q=g[0]+(D+F-S.displaySize[0])/2,j=Q+S.displaySize[0]);const ne=i.top*x,ue=i.bottom*x;return c==="height"||c==="both"?(V=g[1]+ne-f[0],W=g[1]+ue+f[2]):(V=g[1]+(ne+ue-S.displaySize[1])/2,W=V+S.displaySize[1]),{image:S,top:V,right:j,bottom:W,left:Q,collisionPadding:A}}const cf=255,xo=128,jl=cf*xo;function Aw(l,i){const{expression:c}=i;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new xr(l+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:f,interpolationType:g}=c;let x=0;for(;x<f.length&&f[x]<=l;)x++;x=Math.max(0,x-1);let S=x;for(;S<f.length&&f[S]<l+1;)S++;S=Math.min(f.length-1,S);const A=f[x],D=f[S];return c.kind==="composite"?{kind:"composite",minZoom:A,maxZoom:D,interpolationType:g}:{kind:"camera",minZoom:A,maxZoom:D,minSize:c.evaluate(new xr(A)),maxSize:c.evaluate(new xr(D)),interpolationType:g}}}function Wy(l,i,c){let f="never";const g=l.get(i);return g?f=g:l.get(c)&&(f="always"),f}const CL=Ul.VectorTileFeature.types,TL=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Op(l,i,c,f,g,x,S,A,D,F,V,j,W){const Q=A?Math.min(jl,Math.round(A[0])):0,ne=A?Math.min(jl,Math.round(A[1])):0;l.emplaceBack(i,c,Math.round(32*f),Math.round(32*g),x,S,(Q<<1)+(D?1:0),ne,16*F,16*V,256*j,256*W)}function Yy(l,i,c){l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c),l.emplaceBack(i.x,i.y,c)}function AL(l){for(const i of l.sections)if(by(i.text))return!0;return!1}class Zy{constructor(i){this.layoutVertexArray=new In,this.indexArray=new Ti,this.programConfigurations=i,this.segments=new wr,this.dynamicLayoutVertexArray=new Sn,this.opacityVertexArray=new Dn,this.hasVisibleVertices=!1,this.placedSymbolArray=new De}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(i,c,f,g){this.isEmpty()||(f&&(this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,iL.members),this.indexBuffer=i.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=i.createVertexBuffer(this.dynamicLayoutVertexArray,aL.members,!0),this.opacityVertexBuffer=i.createVertexBuffer(this.opacityVertexArray,TL,!0),this.opacityVertexBuffer.itemSize=1),(f||g)&&this.programConfigurations.upload(i))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Ut("SymbolBuffers",Zy);class Ky{constructor(i,c,f){this.layoutVertexArray=new i,this.layoutAttributes=c,this.indexArray=new f,this.segments=new wr,this.collisionVertexArray=new gr}upload(i){this.layoutVertexBuffer=i.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=i.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=i.createVertexBuffer(this.collisionVertexArray,sL.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Ut("CollisionBuffers",Ky);class ld{constructor(i){this.collisionBoxArray=i.collisionBoxArray,this.zoom=i.zoom,this.overscaling=i.overscaling,this.layers=i.layers,this.layerIds=this.layers.map(S=>S.id),this.index=i.index,this.pixelRatio=i.pixelRatio,this.sourceLayerIndex=i.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ay([]),this.placementViewportMatrix=Ay([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Aw(this.zoom,c["text-size"]),this.iconSizeData=Aw(this.zoom,c["icon-size"]);const f=this.layers[0].layout,g=f.get("symbol-sort-key"),x=f.get("symbol-z-order");this.canOverlap=Wy(f,"text-overlap","text-allow-overlap")!=="never"||Wy(f,"icon-overlap","icon-allow-overlap")!=="never"||f.get("text-ignore-placement")||f.get("icon-ignore-placement"),this.sortFeaturesByKey=x!=="viewport-y"&&!g.isConstant(),this.sortFeaturesByY=(x==="viewport-y"||x==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,f.get("symbol-placement")==="point"&&(this.writingModes=f.get("text-writing-mode").map(S=>o.ai[S])),this.stateDependentLayerIds=this.layers.filter(S=>S.isStateDependent()).map(S=>S.id),this.sourceID=i.sourceID}createArrays(){this.text=new Zy(new $s(this.layers,this.zoom,i=>/^text/.test(i))),this.icon=new Zy(new $s(this.layers,this.zoom,i=>/^icon/.test(i))),this.glyphOffsetArray=new Le,this.lineVertexArray=new Ye,this.symbolInstances=new xe,this.textAnchorOffsets=new st}calculateGlyphDependencies(i,c,f,g,x){for(let S=0;S<i.length;S++)if(c[i.charCodeAt(S)]=!0,(f||g)&&x){const A=sf[i.charAt(S)];A&&(c[A.charCodeAt(0)]=!0)}}populate(i,c,f){const g=this.layers[0],x=g.layout,S=x.get("text-font"),A=x.get("text-field"),D=x.get("icon-image"),F=(A.value.kind!=="constant"||A.value.value instanceof Ri&&!A.value.value.isEmpty()||A.value.value.toString().length>0)&&(S.value.kind!=="constant"||S.value.value.length>0),V=D.value.kind!=="constant"||!!D.value.value||Object.keys(D.parameters).length>0,j=x.get("symbol-sort-key");if(this.features=[],!F&&!V)return;const W=c.iconDependencies,Q=c.glyphDependencies,ne=c.availableImages,ue=new xr(this.zoom);for(const{feature:ye,id:we,index:Oe,sourceLayerIndex:Te}of i){const Be=g._featureFilter.needGeometry,Ge=zc(ye,Be);if(!g._featureFilter.filter(ue,Ge,f))continue;let ot,Nt;if(Be||(Ge.geometry=Fc(ye)),F){const Bt=g.getValueAndResolveTokens("text-field",Ge,f,ne),Ft=Ri.factory(Bt);AL(Ft)&&(this.hasRTLText=!0),(!this.hasRTLText||Vh()==="unavailable"||this.hasRTLText&&xa.isParsed())&&(ot=lL(Ft,g,Ge))}if(V){const Bt=g.getValueAndResolveTokens("icon-image",Ge,f,ne);Nt=Bt instanceof Ci?Bt:Ci.fromString(Bt)}if(!ot&&!Nt)continue;const Zt=this.sortFeaturesByKey?j.evaluate(Ge,{},f):void 0;if(this.features.push({id:we,text:ot,icon:Nt,index:Oe,sourceLayerIndex:Te,geometry:Ge.geometry,properties:ye.properties,type:CL[ye.type],sortKey:Zt}),Nt&&(W[Nt.name]=!0),ot){const Bt=S.evaluate(Ge,{},f).join(","),Ft=x.get("text-rotation-alignment")!=="viewport"&&x.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(o.ai.vertical)>=0;for(const Dt of ot.sections)if(Dt.image)W[Dt.image.name]=!0;else{const qt=Dh(ot.toString()),Mt=Dt.fontStack||Bt,wt=Q[Mt]=Q[Mt]||{};this.calculateGlyphDependencies(Dt.text,wt,Ft,this.allowVerticalPlacement,qt)}}}x.get("symbol-placement")==="line"&&(this.features=function(ye){const we={},Oe={},Te=[];let Be=0;function Ge(Bt){Te.push(ye[Bt]),Be++}function ot(Bt,Ft,Dt){const qt=Oe[Bt];return delete Oe[Bt],Oe[Ft]=qt,Te[qt].geometry[0].pop(),Te[qt].geometry[0]=Te[qt].geometry[0].concat(Dt[0]),qt}function Nt(Bt,Ft,Dt){const qt=we[Ft];return delete we[Ft],we[Bt]=qt,Te[qt].geometry[0].shift(),Te[qt].geometry[0]=Dt[0].concat(Te[qt].geometry[0]),qt}function Zt(Bt,Ft,Dt){const qt=Dt?Ft[0][Ft[0].length-1]:Ft[0][0];return`${Bt}:${qt.x}:${qt.y}`}for(let Bt=0;Bt<ye.length;Bt++){const Ft=ye[Bt],Dt=Ft.geometry,qt=Ft.text?Ft.text.toString():null;if(!qt){Ge(Bt);continue}const Mt=Zt(qt,Dt),wt=Zt(qt,Dt,!0);if(Mt in Oe&&wt in we&&Oe[Mt]!==we[wt]){const nn=Nt(Mt,wt,Dt),Xt=ot(Mt,wt,Te[nn].geometry);delete we[Mt],delete Oe[wt],Oe[Zt(qt,Te[Xt].geometry,!0)]=Xt,Te[nn].geometry=null}else Mt in Oe?ot(Mt,wt,Dt):wt in we?Nt(Mt,wt,Dt):(Ge(Bt),we[Mt]=Be-1,Oe[wt]=Be-1)}return Te.filter(Bt=>Bt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((ye,we)=>ye.sortKey-we.sortKey)}update(i,c,f){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(i,c,this.layers,f),this.icon.programConfigurations.updatePaintArrays(i,c,this.layers,f))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(i){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(i),this.iconCollisionBox.upload(i)),this.text.upload(i,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(i,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(i,c){const f=this.lineVertexArray.length;if(i.segment!==void 0){let g=i.dist(c[i.segment+1]),x=i.dist(c[i.segment]);const S={};for(let A=i.segment+1;A<c.length;A++)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:g},A<c.length-1&&(g+=c[A+1].dist(c[A]));for(let A=i.segment||0;A>=0;A--)S[A]={x:c[A].x,y:c[A].y,tileUnitDistanceFromAnchor:x},A>0&&(x+=c[A-1].dist(c[A]));for(let A=0;A<c.length;A++){const D=S[A];this.lineVertexArray.emplaceBack(D.x,D.y,D.tileUnitDistanceFromAnchor)}}return{lineStartIndex:f,lineLength:this.lineVertexArray.length-f}}addSymbols(i,c,f,g,x,S,A,D,F,V,j,W){const Q=i.indexArray,ne=i.layoutVertexArray,ue=i.segments.prepareSegment(4*c.length,ne,Q,this.canOverlap?S.sortKey:void 0),ye=this.glyphOffsetArray.length,we=ue.vertexLength,Oe=this.allowVerticalPlacement&&A===o.ai.vertical?Math.PI/2:0,Te=S.text&&S.text.sections;for(let Be=0;Be<c.length;Be++){const{tl:Ge,tr:ot,bl:Nt,br:Zt,tex:Bt,pixelOffsetTL:Ft,pixelOffsetBR:Dt,minFontScaleX:qt,minFontScaleY:Mt,glyphOffset:wt,isSDF:nn,sectionIndex:Xt}=c[Be],An=ue.vertexLength,Sr=wt[1];Op(ne,D.x,D.y,Ge.x,Sr+Ge.y,Bt.x,Bt.y,f,nn,Ft.x,Ft.y,qt,Mt),Op(ne,D.x,D.y,ot.x,Sr+ot.y,Bt.x+Bt.w,Bt.y,f,nn,Dt.x,Ft.y,qt,Mt),Op(ne,D.x,D.y,Nt.x,Sr+Nt.y,Bt.x,Bt.y+Bt.h,f,nn,Ft.x,Dt.y,qt,Mt),Op(ne,D.x,D.y,Zt.x,Sr+Zt.y,Bt.x+Bt.w,Bt.y+Bt.h,f,nn,Dt.x,Dt.y,qt,Mt),Yy(i.dynamicLayoutVertexArray,D,Oe),Q.emplaceBack(An,An+1,An+2),Q.emplaceBack(An+1,An+2,An+3),ue.vertexLength+=4,ue.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(wt[0]),Be!==c.length-1&&Xt===c[Be+1].sectionIndex||i.programConfigurations.populatePaintArrays(ne.length,S,S.index,{},W,Te&&Te[Xt])}i.placedSymbolArray.emplaceBack(D.x,D.y,ye,this.glyphOffsetArray.length-ye,we,F,V,D.segment,f?f[0]:0,f?f[1]:0,g[0],g[1],A,0,!1,0,j)}_addCollisionDebugVertex(i,c,f,g,x,S){return c.emplaceBack(0,0),i.emplaceBack(f.x,f.y,g,x,Math.round(S.x),Math.round(S.y))}addCollisionDebugVertices(i,c,f,g,x,S,A){const D=x.segments.prepareSegment(4,x.layoutVertexArray,x.indexArray),F=D.vertexLength,V=x.layoutVertexArray,j=x.collisionVertexArray,W=A.anchorX,Q=A.anchorY;this._addCollisionDebugVertex(V,j,S,W,Q,new C(i,c)),this._addCollisionDebugVertex(V,j,S,W,Q,new C(f,c)),this._addCollisionDebugVertex(V,j,S,W,Q,new C(f,g)),this._addCollisionDebugVertex(V,j,S,W,Q,new C(i,g)),D.vertexLength+=4;const ne=x.indexArray;ne.emplaceBack(F,F+1),ne.emplaceBack(F+1,F+2),ne.emplaceBack(F+2,F+3),ne.emplaceBack(F+3,F),D.primitiveLength+=4}addDebugCollisionBoxes(i,c,f,g){for(let x=i;x<c;x++){const S=this.collisionBoxArray.get(x);this.addCollisionDebugVertices(S.x1,S.y1,S.x2,S.y2,g?this.textCollisionBox:this.iconCollisionBox,S.anchorPoint,f)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ky(Hr,dw.members,ci),this.iconCollisionBox=new Ky(Hr,dw.members,ci);for(let i=0;i<this.symbolInstances.length;i++){const c=this.symbolInstances.get(i);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(i,c,f,g,x,S,A,D,F){const V={};for(let j=c;j<f;j++){const W=i.get(j);V.textBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.textFeatureIndex=W.featureIndex;break}for(let j=g;j<x;j++){const W=i.get(j);V.verticalTextBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.verticalTextFeatureIndex=W.featureIndex;break}for(let j=S;j<A;j++){const W=i.get(j);V.iconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.iconFeatureIndex=W.featureIndex;break}for(let j=D;j<F;j++){const W=i.get(j);V.verticalIconBox={x1:W.x1,y1:W.y1,x2:W.x2,y2:W.y2,anchorPointX:W.anchorPointX,anchorPointY:W.anchorPointY},V.verticalIconFeatureIndex=W.featureIndex;break}return V}deserializeCollisionBoxes(i){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const f=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(i,f.textBoxStartIndex,f.textBoxEndIndex,f.verticalTextBoxStartIndex,f.verticalTextBoxEndIndex,f.iconBoxStartIndex,f.iconBoxEndIndex,f.verticalIconBoxStartIndex,f.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(i,c){const f=i.placedSymbolArray.get(c),g=f.vertexStartIndex+4*f.numGlyphs;for(let x=f.vertexStartIndex;x<g;x+=4)i.indexArray.emplaceBack(x,x+1,x+2),i.indexArray.emplaceBack(x+1,x+2,x+3)}getSortedSymbolIndexes(i){if(this.sortedAngle===i&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(i),f=Math.cos(i),g=[],x=[],S=[];for(let A=0;A<this.symbolInstances.length;++A){S.push(A);const D=this.symbolInstances.get(A);g.push(0|Math.round(c*D.anchorX+f*D.anchorY)),x.push(D.featureIndex)}return S.sort((A,D)=>g[A]-g[D]||x[D]-x[A]),S}addToSortKeyRanges(i,c){const f=this.sortKeyRanges[this.sortKeyRanges.length-1];f&&f.sortKey===c?f.symbolInstanceEnd=i+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:i,symbolInstanceEnd:i+1})}sortFeatures(i){if(this.sortFeaturesByY&&this.sortedAngle!==i&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(i),this.sortedAngle=i,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const f=this.symbolInstances.get(c);this.featureSortOrder.push(f.featureIndex),[f.rightJustifiedTextSymbolIndex,f.centerJustifiedTextSymbolIndex,f.leftJustifiedTextSymbolIndex].forEach((g,x,S)=>{g>=0&&S.indexOf(g)===x&&this.addIndicesForPlacedSymbol(this.text,g)}),f.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,f.verticalPlacedTextSymbolIndex),f.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.placedIconSymbolIndex),f.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,f.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Ew,Iw;Ut("SymbolBucket",ld,{omit:["layers","collisionBoxArray","features","compareText"]}),ld.MAX_GLYPHS=65535,ld.addDynamicAttributes=Yy;var Xy={get paint(){return Iw=Iw||new Xr({"icon-opacity":new on(ke.paint_symbol["icon-opacity"]),"icon-color":new on(ke.paint_symbol["icon-color"]),"icon-halo-color":new on(ke.paint_symbol["icon-halo-color"]),"icon-halo-width":new on(ke.paint_symbol["icon-halo-width"]),"icon-halo-blur":new on(ke.paint_symbol["icon-halo-blur"]),"icon-translate":new Qt(ke.paint_symbol["icon-translate"]),"icon-translate-anchor":new Qt(ke.paint_symbol["icon-translate-anchor"]),"text-opacity":new on(ke.paint_symbol["text-opacity"]),"text-color":new on(ke.paint_symbol["text-color"],{runtimeType:Ui,getOverride:l=>l.textColor,hasOverride:l=>!!l.textColor}),"text-halo-color":new on(ke.paint_symbol["text-halo-color"]),"text-halo-width":new on(ke.paint_symbol["text-halo-width"]),"text-halo-blur":new on(ke.paint_symbol["text-halo-blur"]),"text-translate":new Qt(ke.paint_symbol["text-translate"]),"text-translate-anchor":new Qt(ke.paint_symbol["text-translate-anchor"])})},get layout(){return Ew=Ew||new Xr({"symbol-placement":new Qt(ke.layout_symbol["symbol-placement"]),"symbol-spacing":new Qt(ke.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Qt(ke.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new on(ke.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Qt(ke.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Qt(ke.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Qt(ke.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Qt(ke.layout_symbol["icon-ignore-placement"]),"icon-optional":new Qt(ke.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Qt(ke.layout_symbol["icon-rotation-alignment"]),"icon-size":new on(ke.layout_symbol["icon-size"]),"icon-text-fit":new Qt(ke.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Qt(ke.layout_symbol["icon-text-fit-padding"]),"icon-image":new on(ke.layout_symbol["icon-image"]),"icon-rotate":new on(ke.layout_symbol["icon-rotate"]),"icon-padding":new on(ke.layout_symbol["icon-padding"]),"icon-keep-upright":new Qt(ke.layout_symbol["icon-keep-upright"]),"icon-offset":new on(ke.layout_symbol["icon-offset"]),"icon-anchor":new on(ke.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Qt(ke.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Qt(ke.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Qt(ke.layout_symbol["text-rotation-alignment"]),"text-field":new on(ke.layout_symbol["text-field"]),"text-font":new on(ke.layout_symbol["text-font"]),"text-size":new on(ke.layout_symbol["text-size"]),"text-max-width":new on(ke.layout_symbol["text-max-width"]),"text-line-height":new Qt(ke.layout_symbol["text-line-height"]),"text-letter-spacing":new on(ke.layout_symbol["text-letter-spacing"]),"text-justify":new on(ke.layout_symbol["text-justify"]),"text-radial-offset":new on(ke.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Qt(ke.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new on(ke.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new on(ke.layout_symbol["text-anchor"]),"text-max-angle":new Qt(ke.layout_symbol["text-max-angle"]),"text-writing-mode":new Qt(ke.layout_symbol["text-writing-mode"]),"text-rotate":new on(ke.layout_symbol["text-rotate"]),"text-padding":new Qt(ke.layout_symbol["text-padding"]),"text-keep-upright":new Qt(ke.layout_symbol["text-keep-upright"]),"text-transform":new on(ke.layout_symbol["text-transform"]),"text-offset":new on(ke.layout_symbol["text-offset"]),"text-allow-overlap":new Qt(ke.layout_symbol["text-allow-overlap"]),"text-overlap":new Qt(ke.layout_symbol["text-overlap"]),"text-ignore-placement":new Qt(ke.layout_symbol["text-ignore-placement"]),"text-optional":new Qt(ke.layout_symbol["text-optional"])})}};class Pw{constructor(i){if(i.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=i.property.overrides?i.property.overrides.runtimeType:mr,this.defaultValue=i}evaluate(i){if(i.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(i.formattedSection))return c.getOverride(i.formattedSection)}return i.feature&&i.featureState?this.defaultValue.evaluate(i.feature,i.featureState):this.defaultValue.property.specification.default}eachChild(i){this.defaultValue.isConstant()||i(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Ut("FormatSectionOverride",Pw,{omit:["defaultValue"]});class Fp extends Fa{constructor(i){super(i,Xy)}recalculate(i,c){if(super.recalculate(i,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const f=this.layout.get("text-writing-mode");if(f){const g=[];for(const x of f)g.indexOf(x)<0&&g.push(x);this.layout._values["text-writing-mode"]=g}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(i,c,f,g){const x=this.layout.get(i).evaluate(c,{},f,g),S=this._unevaluatedLayout._values[i];return S.isDataDriven()||Uu(S.value)||!x?x:function(A,D){return D.replace(/{([^{}]+)}/g,(F,V)=>A&&V in A?String(A[V]):"")}(c.properties,x)}createBucket(i){return new ld(i)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const i of Xy.paint.overridableProperties){if(!Fp.hasPaintOverride(this.layout,i))continue;const c=this.paint.get(i),f=new Pw(c),g=new Ch(f,c.property.specification);let x=null;x=c.value.kind==="constant"||c.value.kind==="source"?new Th("source",g):new ju("composite",g,c.value.zoomStops),this.paint._values[i]=new qi(c.property,x,c.parameters)}}_handleOverridablePaintPropertyUpdate(i,c,f){return!(!this.layout||c.isDataDriven()||f.isDataDriven())&&Fp.hasPaintOverride(this.layout,i)}static hasPaintOverride(i,c){const f=i.get("text-field"),g=Xy.paint.properties[c];let x=!1;const S=A=>{for(const D of A)if(g.overrides&&g.overrides.hasOverride(D))return void(x=!0)};if(f.value.kind==="constant"&&f.value.value instanceof Ri)S(f.value.value.sections);else if(f.value.kind==="source"){const A=F=>{x||(F instanceof $o&&Dr(F.value)===pe?S(F.value.sections):F instanceof $u?S(F.sections):F.eachChild(A))},D=f.value;D._styleExpression&&A(D._styleExpression.expression)}return x}}let Dw;var EL={get paint(){return Dw=Dw||new Xr({"background-color":new Qt(ke.paint_background["background-color"]),"background-pattern":new $h(ke.paint_background["background-pattern"]),"background-opacity":new Qt(ke.paint_background["background-opacity"])})}};class IL extends Fa{constructor(i){super(i,EL)}}let Mw;var PL={get paint(){return Mw=Mw||new Xr({"raster-opacity":new Qt(ke.paint_raster["raster-opacity"]),"raster-hue-rotate":new Qt(ke.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Qt(ke.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Qt(ke.paint_raster["raster-brightness-max"]),"raster-saturation":new Qt(ke.paint_raster["raster-saturation"]),"raster-contrast":new Qt(ke.paint_raster["raster-contrast"]),"raster-resampling":new Qt(ke.paint_raster["raster-resampling"]),"raster-fade-duration":new Qt(ke.paint_raster["raster-fade-duration"])})}};class DL extends Fa{constructor(i){super(i,PL)}}class ML extends Fa{constructor(i){super(i,{}),this.onAdd=c=>{this.implementation.onAdd&&this.implementation.onAdd(c,c.painter.context.gl)},this.onRemove=c=>{this.implementation.onRemove&&this.implementation.onRemove(c,c.painter.context.gl)},this.implementation=i}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class LL{constructor(i){this._callback=i,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const Jy=63710088e-1;class Hl{constructor(i,c){if(isNaN(i)||isNaN(c))throw new Error(`Invalid LngLat object: (${i}, ${c})`);if(this.lng=+i,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Hl(le(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(i){const c=Math.PI/180,f=this.lat*c,g=i.lat*c,x=Math.sin(f)*Math.sin(g)+Math.cos(f)*Math.cos(g)*Math.cos((i.lng-this.lng)*c);return Jy*Math.acos(Math.min(x,1))}static convert(i){if(i instanceof Hl)return i;if(Array.isArray(i)&&(i.length===2||i.length===3))return new Hl(Number(i[0]),Number(i[1]));if(!Array.isArray(i)&&typeof i=="object"&&i!==null)return new Hl(Number("lng"in i?i.lng:i.lon),Number(i.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Lw=2*Math.PI*Jy;function Rw(l){return Lw*Math.cos(l*Math.PI/180)}function Ow(l){return(180+l)/360}function Fw(l){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+l*Math.PI/360)))/360}function zw(l,i){return l/Rw(i)}function Bw(l){return 360*l-180}function Qy(l){return 360/Math.PI*Math.atan(Math.exp((180-360*l)*Math.PI/180))-90}class zp{constructor(i,c,f=0){this.x=+i,this.y=+c,this.z=+f}static fromLngLat(i,c=0){const f=Hl.convert(i);return new zp(Ow(f.lng),Fw(f.lat),zw(c,f.lat))}toLngLat(){return new Hl(Bw(this.x),Qy(this.y))}toAltitude(){return this.z*Rw(Qy(this.y))}meterInMercatorCoordinateUnits(){return 1/Lw*(i=Qy(this.y),1/Math.cos(i*Math.PI/180));var i}}function Vw(l,i,c){var f=2*Math.PI*6378137/256/Math.pow(2,c);return[l*f-2*Math.PI*6378137/2,i*f-2*Math.PI*6378137/2]}class e_{constructor(i,c,f){if(i<0||i>25||f<0||f>=Math.pow(2,i)||c<0||c>=Math.pow(2,i))throw new Error(`x=${c}, y=${f}, z=${i} outside of bounds. 0<=x<${Math.pow(2,i)}, 0<=y<${Math.pow(2,i)} 0<=z<=25 `);this.z=i,this.x=c,this.y=f,this.key=uf(0,i,i,c,f)}equals(i){return this.z===i.z&&this.x===i.x&&this.y===i.y}url(i,c,f){const g=(S=this.y,A=this.z,D=Vw(256*(x=this.x),256*(S=Math.pow(2,A)-S-1),A),F=Vw(256*(x+1),256*(S+1),A),D[0]+","+D[1]+","+F[0]+","+F[1]);var x,S,A,D,F;const V=function(j,W,Q){let ne,ue="";for(let ye=j;ye>0;ye--)ne=1<<ye-1,ue+=(W&ne?1:0)+(Q&ne?2:0);return ue}(this.z,this.x,this.y);return i[(this.x+this.y)%i.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(f==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,V).replace(/{bbox-epsg-3857}/g,g)}isChildOf(i){const c=this.z-i.z;return c>0&&i.x===this.x>>c&&i.y===this.y>>c}getTilePoint(i){const c=Math.pow(2,this.z);return new C((i.x*c-this.x)*ii,(i.y*c-this.y)*ii)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Nw{constructor(i,c){this.wrap=i,this.canonical=c,this.key=uf(i,c.z,c.z,c.x,c.y)}}class Xa{constructor(i,c,f,g,x){if(i<f)throw new Error(`overscaledZ should be >= z; overscaledZ = ${i}; z = ${f}`);this.overscaledZ=i,this.wrap=c,this.canonical=new e_(f,+g,+x),this.key=uf(c,i,f,g,x)}clone(){return new Xa(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(i){return this.overscaledZ===i.overscaledZ&&this.wrap===i.wrap&&this.canonical.equals(i.canonical)}scaledTo(i){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-i;return i>this.canonical.z?new Xa(i,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Xa(i,this.wrap,i,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(i,c){if(i>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${i}; overscaledZ = ${this.overscaledZ}`);const f=this.canonical.z-i;return i>this.canonical.z?uf(this.wrap*+c,i,this.canonical.z,this.canonical.x,this.canonical.y):uf(this.wrap*+c,i,i,this.canonical.x>>f,this.canonical.y>>f)}isChildOf(i){if(i.wrap!==this.wrap)return!1;const c=this.canonical.z-i.canonical.z;return i.overscaledZ===0||i.overscaledZ<this.overscaledZ&&i.canonical.x===this.canonical.x>>c&&i.canonical.y===this.canonical.y>>c}children(i){if(this.overscaledZ>=i)return[new Xa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,f=2*this.canonical.x,g=2*this.canonical.y;return[new Xa(c,this.wrap,c,f,g),new Xa(c,this.wrap,c,f+1,g),new Xa(c,this.wrap,c,f,g+1),new Xa(c,this.wrap,c,f+1,g+1)]}isLessThan(i){return this.wrap<i.wrap||!(this.wrap>i.wrap)&&(this.overscaledZ<i.overscaledZ||!(this.overscaledZ>i.overscaledZ)&&(this.canonical.x<i.canonical.x||!(this.canonical.x>i.canonical.x)&&this.canonical.y<i.canonical.y))}wrapped(){return new Xa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(i){return new Xa(this.overscaledZ,i,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Nw(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(i){return this.canonical.getTilePoint(new zp(i.x-this.wrap,i.y))}}function uf(l,i,c,f,g){(l*=2)<0&&(l=-1*l-1);const x=1<<c;return(x*x*l+x*g+f).toString(36)+c.toString(36)+i.toString(36)}Ut("CanonicalTileID",e_),Ut("OverscaledTileID",Xa,{omit:["posMatrix"]});class $w{constructor(i,c,f,g=1,x=1,S=1,A=0){if(this.uid=i,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(f&&!["mapbox","terrarium","custom"].includes(f))return void me(`"${f}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const D=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),f){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=g,this.greenFactor=x,this.blueFactor=S,this.baseShift=A;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let F=0;F<D;F++)this.data[this._idx(-1,F)]=this.data[this._idx(0,F)],this.data[this._idx(D,F)]=this.data[this._idx(D-1,F)],this.data[this._idx(F,-1)]=this.data[this._idx(F,0)],this.data[this._idx(F,D)]=this.data[this._idx(F,D-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(D,-1)]=this.data[this._idx(D-1,0)],this.data[this._idx(-1,D)]=this.data[this._idx(0,D-1)],this.data[this._idx(D,D)]=this.data[this._idx(D-1,D-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let F=0;F<D;F++)for(let V=0;V<D;V++){const j=this.get(F,V);j>this.max&&(this.max=j),j<this.min&&(this.min=j)}}get(i,c){const f=new Uint8Array(this.data.buffer),g=4*this._idx(i,c);return this.unpack(f[g],f[g+1],f[g+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(i,c){if(i<-1||i>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(i+1)}unpack(i,c,f){return i*this.redFactor+c*this.greenFactor+f*this.blueFactor-this.baseShift}getPixels(){return new Ka({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(i,c,f){if(this.dim!==i.dim)throw new Error("dem dimension mismatch");let g=c*this.dim,x=c*this.dim+this.dim,S=f*this.dim,A=f*this.dim+this.dim;switch(c){case-1:g=x-1;break;case 1:x=g+1}switch(f){case-1:S=A-1;break;case 1:A=S+1}const D=-c*this.dim,F=-f*this.dim;for(let V=S;V<A;V++)for(let j=g;j<x;j++)this.data[this._idx(j,V)]=i.data[this._idx(j+D,V+F)]}}Ut("DEMData",$w);class Uw{constructor(i){this._stringToNumber={},this._numberToString=[];for(let c=0;c<i.length;c++){const f=i[c];this._stringToNumber[f]=c,this._numberToString[c]=f}}encode(i){return this._stringToNumber[i]}decode(i){if(i>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${i} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[i]}}class qw{constructor(i,c,f,g,x){this.type="Feature",this._vectorTileFeature=i,i._z=c,i._x=f,i._y=g,this.properties=i.properties,this.id=x}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(i){this._geometry=i}toJSON(){const i={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&(i[c]=this[c]);return i}}class jw{constructor(i,c){this.tileID=i,this.x=i.canonical.x,this.y=i.canonical.y,this.z=i.canonical.z,this.grid=new zl(ii,16,0),this.grid3D=new zl(ii,16,0),this.featureIndexArray=new pt,this.promoteId=c}insert(i,c,f,g,x,S){const A=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(f,g,x);const D=S?this.grid3D:this.grid;for(let F=0;F<c.length;F++){const V=c[F],j=[1/0,1/0,-1/0,-1/0];for(let W=0;W<V.length;W++){const Q=V[W];j[0]=Math.min(j[0],Q.x),j[1]=Math.min(j[1],Q.y),j[2]=Math.max(j[2],Q.x),j[3]=Math.max(j[3],Q.y)}j[0]<ii&&j[1]<ii&&j[2]>=0&&j[3]>=0&&D.insert(A,j[0],j[1],j[2],j[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Ul.VectorTile(new Uy(this.rawTileData)).layers,this.sourceLayerCoder=new Uw(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(i,c,f,g){this.loadVTLayers();const x=i.params||{},S=ii/i.tileSize/i.scale,A=Eh(x.filter),D=i.queryGeometry,F=i.queryPadding*S,V=Gw(D),j=this.grid.query(V.minX-F,V.minY-F,V.maxX+F,V.maxY+F),W=Gw(i.cameraQueryGeometry),Q=this.grid3D.query(W.minX-F,W.minY-F,W.maxX+F,W.maxY+F,(ye,we,Oe,Te)=>function(Be,Ge,ot,Nt,Zt){for(const Ft of Be)if(Ge<=Ft.x&&ot<=Ft.y&&Nt>=Ft.x&&Zt>=Ft.y)return!0;const Bt=[new C(Ge,ot),new C(Ge,Zt),new C(Nt,Zt),new C(Nt,ot)];if(Be.length>2){for(const Ft of Bt)if(td(Be,Ft))return!0}for(let Ft=0;Ft<Be.length-1;Ft++)if(dM(Be[Ft],Be[Ft+1],Bt))return!0;return!1}(i.cameraQueryGeometry,ye-F,we-F,Oe+F,Te+F));for(const ye of Q)j.push(ye);j.sort(RL);const ne={};let ue;for(let ye=0;ye<j.length;ye++){const we=j[ye];if(we===ue)continue;ue=we;const Oe=this.featureIndexArray.get(we);let Te=null;this.loadMatchingFeature(ne,Oe.bucketIndex,Oe.sourceLayerIndex,Oe.featureIndex,A,x.layers,x.availableImages,c,f,g,(Be,Ge,ot)=>(Te||(Te=Fc(Be)),Ge.queryIntersectsFeature(D,Be,ot,Te,this.z,i.transform,S,i.pixelPosMatrix)))}return ne}loadMatchingFeature(i,c,f,g,x,S,A,D,F,V,j){const W=this.bucketLayerIDs[c];if(S&&!function(ye,we){for(let Oe=0;Oe<ye.length;Oe++)if(we.indexOf(ye[Oe])>=0)return!0;return!1}(S,W))return;const Q=this.sourceLayerCoder.decode(f),ne=this.vtLayers[Q].feature(g);if(x.needGeometry){const ye=zc(ne,!0);if(!x.filter(new xr(this.tileID.overscaledZ),ye,this.tileID.canonical))return}else if(!x.filter(new xr(this.tileID.overscaledZ),ne))return;const ue=this.getId(ne,Q);for(let ye=0;ye<W.length;ye++){const we=W[ye];if(S&&S.indexOf(we)<0)continue;const Oe=D[we];if(!Oe)continue;let Te={};ue&&V&&(Te=V.getState(Oe.sourceLayer||"_geojsonTileLayer",ue));const Be=H({},F[we]);Be.paint=Hw(Be.paint,Oe.paint,ne,Te,A),Be.layout=Hw(Be.layout,Oe.layout,ne,Te,A);const Ge=!j||j(ne,Oe,Te);if(!Ge)continue;const ot=new qw(ne,this.z,this.x,this.y,ue);ot.layer=Be;let Nt=i[we];Nt===void 0&&(Nt=i[we]=[]),Nt.push({featureIndex:g,feature:ot,intersectionZ:Ge})}}lookupSymbolFeatures(i,c,f,g,x,S,A,D){const F={};this.loadVTLayers();const V=Eh(x);for(const j of i)this.loadMatchingFeature(F,f,g,j,V,S,A,D,c);return F}hasLayer(i){for(const c of this.bucketLayerIDs)for(const f of c)if(i===f)return!0;return!1}getId(i,c){let f=i.id;return this.promoteId&&(f=i.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof f=="boolean"&&(f=Number(f))),f}}function Hw(l,i,c,f,g){return Z(l,(x,S)=>{const A=i instanceof Qu?i.get(S):null;return A&&A.evaluate?A.evaluate(c,f,g):A})}function Gw(l){let i=1/0,c=1/0,f=-1/0,g=-1/0;for(const x of l)i=Math.min(i,x.x),c=Math.min(c,x.y),f=Math.max(f,x.x),g=Math.max(g,x.y);return{minX:i,minY:c,maxX:f,maxY:g}}function RL(l,i){return i-l}function Ww(l,i,c,f,g){const x=[];for(let S=0;S<l.length;S++){const A=l[S];let D;for(let F=0;F<A.length-1;F++){let V=A[F],j=A[F+1];V.x<i&&j.x<i||(V.x<i?V=new C(i,V.y+(i-V.x)/(j.x-V.x)*(j.y-V.y))._round():j.x<i&&(j=new C(i,V.y+(i-V.x)/(j.x-V.x)*(j.y-V.y))._round()),V.y<c&&j.y<c||(V.y<c?V=new C(V.x+(c-V.y)/(j.y-V.y)*(j.x-V.x),c)._round():j.y<c&&(j=new C(V.x+(c-V.y)/(j.y-V.y)*(j.x-V.x),c)._round()),V.x>=f&&j.x>=f||(V.x>=f?V=new C(f,V.y+(f-V.x)/(j.x-V.x)*(j.y-V.y))._round():j.x>=f&&(j=new C(f,V.y+(f-V.x)/(j.x-V.x)*(j.y-V.y))._round()),V.y>=g&&j.y>=g||(V.y>=g?V=new C(V.x+(g-V.y)/(j.y-V.y)*(j.x-V.x),g)._round():j.y>=g&&(j=new C(V.x+(g-V.y)/(j.y-V.y)*(j.x-V.x),g)._round()),D&&V.equals(D[D.length-1])||(D=[V],x.push(D)),D.push(j)))))}}return x}Ut("FeatureIndex",jw,{omit:["rawTileData","sourceLayerCoder"]});class Gl extends C{constructor(i,c,f,g){super(i,c),this.angle=f,g!==void 0&&(this.segment=g)}clone(){return new Gl(this.x,this.y,this.angle,this.segment)}}function Yw(l,i,c,f,g){if(i.segment===void 0||c===0)return!0;let x=i,S=i.segment+1,A=0;for(;A>-c/2;){if(S--,S<0)return!1;A-=l[S].dist(x),x=l[S]}A+=l[S].dist(l[S+1]),S++;const D=[];let F=0;for(;A<c/2;){const V=l[S],j=l[S+1];if(!j)return!1;let W=l[S-1].angleTo(V)-V.angleTo(j);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),D.push({distance:A,angleDelta:W}),F+=W;A-D[0].distance>f;)F-=D.shift().angleDelta;if(F>g)return!1;S++,A+=V.dist(j)}return!0}function Zw(l){let i=0;for(let c=0;c<l.length-1;c++)i+=l[c].dist(l[c+1]);return i}function Kw(l,i,c){return l?.6*i*c:0}function Xw(l,i){return Math.max(l?l.right-l.left:0,i?i.right-i.left:0)}function OL(l,i,c,f,g,x){const S=Kw(c,g,x),A=Xw(c,f)*x;let D=0;const F=Zw(l)/2;for(let V=0;V<l.length-1;V++){const j=l[V],W=l[V+1],Q=j.dist(W);if(D+Q>F){const ne=(F-D)/Q,ue=ya.number(j.x,W.x,ne),ye=ya.number(j.y,W.y,ne),we=new Gl(ue,ye,W.angleTo(j),V);return we._round(),!S||Yw(l,we,A,S,i)?we:void 0}D+=Q}}function FL(l,i,c,f,g,x,S,A,D){const F=Kw(f,x,S),V=Xw(f,g),j=V*S,W=l[0].x===0||l[0].x===D||l[0].y===0||l[0].y===D;return i-j<i/4&&(i=j+i/4),Jw(l,W?i/2*A%i:(V/2+2*x)*S*A%i,i,F,c,j,W,!1,D)}function Jw(l,i,c,f,g,x,S,A,D){const F=x/2,V=Zw(l);let j=0,W=i-c,Q=[];for(let ne=0;ne<l.length-1;ne++){const ue=l[ne],ye=l[ne+1],we=ue.dist(ye),Oe=ye.angleTo(ue);for(;W+c<j+we;){W+=c;const Te=(W-j)/we,Be=ya.number(ue.x,ye.x,Te),Ge=ya.number(ue.y,ye.y,Te);if(Be>=0&&Be<D&&Ge>=0&&Ge<D&&W-F>=0&&W+F<=V){const ot=new Gl(Be,Ge,Oe,ne);ot._round(),f&&!Yw(l,ot,x,f,g)||Q.push(ot)}}j+=we}return A||Q.length||S||(Q=Jw(l,j/2,c,f,g,x,S,!0,D)),Q}Ut("Anchor",Gl);const cd=Sa;function Qw(l,i,c,f){const g=[],x=l.image,S=x.pixelRatio,A=x.paddedRect.w-2*cd,D=x.paddedRect.h-2*cd,F=l.right-l.left,V=l.bottom-l.top,j=x.stretchX||[[0,A]],W=x.stretchY||[[0,D]],Q=(Dt,qt)=>Dt+qt[1]-qt[0],ne=j.reduce(Q,0),ue=W.reduce(Q,0),ye=A-ne,we=D-ue;let Oe=0,Te=ne,Be=0,Ge=ue,ot=0,Nt=ye,Zt=0,Bt=we;if(x.content&&f){const Dt=x.content;Oe=Bp(j,0,Dt[0]),Be=Bp(W,0,Dt[1]),Te=Bp(j,Dt[0],Dt[2]),Ge=Bp(W,Dt[1],Dt[3]),ot=Dt[0]-Oe,Zt=Dt[1]-Be,Nt=Dt[2]-Dt[0]-Te,Bt=Dt[3]-Dt[1]-Ge}const Ft=(Dt,qt,Mt,wt)=>{const nn=Vp(Dt.stretch-Oe,Te,F,l.left),Xt=Np(Dt.fixed-ot,Nt,Dt.stretch,ne),An=Vp(qt.stretch-Be,Ge,V,l.top),Sr=Np(qt.fixed-Zt,Bt,qt.stretch,ue),Tr=Vp(Mt.stretch-Oe,Te,F,l.left),hi=Np(Mt.fixed-ot,Nt,Mt.stretch,ne),Ba=Vp(wt.stretch-Be,Ge,V,l.top),ia=Np(wt.fixed-Zt,Bt,wt.stretch,ue),ai=new C(nn,An),Ei=new C(Tr,An),zi=new C(Tr,Ba),aa=new C(nn,Ba),sa=new C(Xt/S,Sr/S),fi=new C(hi/S,ia/S),mi=i*Math.PI/180;if(mi){const Gi=Math.sin(mi),ka=Math.cos(mi),Ca=[ka,-Gi,Gi,ka];ai._matMult(Ca),Ei._matMult(Ca),aa._matMult(Ca),zi._matMult(Ca)}const Hi=Dt.stretch+Dt.fixed,oa=qt.stretch+qt.fixed;return{tl:ai,tr:Ei,bl:aa,br:zi,tex:{x:x.paddedRect.x+cd+Hi,y:x.paddedRect.y+cd+oa,w:Mt.stretch+Mt.fixed-Hi,h:wt.stretch+wt.fixed-oa},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:sa,pixelOffsetBR:fi,minFontScaleX:Nt/S/F,minFontScaleY:Bt/S/V,isSDF:c}};if(f&&(x.stretchX||x.stretchY)){const Dt=eS(j,ye,ne),qt=eS(W,we,ue);for(let Mt=0;Mt<Dt.length-1;Mt++){const wt=Dt[Mt],nn=Dt[Mt+1];for(let Xt=0;Xt<qt.length-1;Xt++)g.push(Ft(wt,qt[Xt],nn,qt[Xt+1]))}}else g.push(Ft({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:A+1},{fixed:0,stretch:D+1}));return g}function Bp(l,i,c){let f=0;for(const g of l)f+=Math.max(i,Math.min(c,g[1]))-Math.max(i,Math.min(c,g[0]));return f}function eS(l,i,c){const f=[{fixed:-cd,stretch:0}];for(const[g,x]of l){const S=f[f.length-1];f.push({fixed:g-S.stretch,stretch:S.stretch}),f.push({fixed:g-S.stretch,stretch:S.stretch+(x-g)})}return f.push({fixed:i+cd,stretch:c}),f}function Vp(l,i,c,f){return l/i*c+f}function Np(l,i,c,f){return l-i*c/f}class $p{constructor(i,c,f,g,x,S,A,D,F,V){if(this.boxStartIndex=i.length,F){let j=S.top,W=S.bottom;const Q=S.collisionPadding;Q&&(j-=Q[1],W+=Q[3]);let ne=W-j;ne>0&&(ne=Math.max(10,ne),this.circleDiameter=ne)}else{let j=S.top*A-D[0],W=S.bottom*A+D[2],Q=S.left*A-D[3],ne=S.right*A+D[1];const ue=S.collisionPadding;if(ue&&(Q-=ue[0]*A,j-=ue[1]*A,ne+=ue[2]*A,W+=ue[3]*A),V){const ye=new C(Q,j),we=new C(ne,j),Oe=new C(Q,W),Te=new C(ne,W),Be=V*Math.PI/180;ye._rotate(Be),we._rotate(Be),Oe._rotate(Be),Te._rotate(Be),Q=Math.min(ye.x,we.x,Oe.x,Te.x),ne=Math.max(ye.x,we.x,Oe.x,Te.x),j=Math.min(ye.y,we.y,Oe.y,Te.y),W=Math.max(ye.y,we.y,Oe.y,Te.y)}i.emplaceBack(c.x,c.y,Q,j,ne,W,f,g,x)}this.boxEndIndex=i.length}}class zL{constructor(i=[],c=BL){if(this.data=i,this.length=this.data.length,this.compare=c,this.length>0)for(let f=(this.length>>1)-1;f>=0;f--)this._down(f)}push(i){this.data.push(i),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const i=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),i}peek(){return this.data[0]}_up(i){const{data:c,compare:f}=this,g=c[i];for(;i>0;){const x=i-1>>1,S=c[x];if(f(g,S)>=0)break;c[i]=S,i=x}c[i]=g}_down(i){const{data:c,compare:f}=this,g=this.length>>1,x=c[i];for(;i<g;){let S=1+(i<<1),A=c[S];const D=S+1;if(D<this.length&&f(c[D],A)<0&&(S=D,A=c[D]),f(A,x)>=0)break;c[i]=A,i=S}c[i]=x}}function BL(l,i){return l<i?-1:l>i?1:0}function VL(l,i=1,c=!1){let f=1/0,g=1/0,x=-1/0,S=-1/0;const A=l[0];for(let Q=0;Q<A.length;Q++){const ne=A[Q];(!Q||ne.x<f)&&(f=ne.x),(!Q||ne.y<g)&&(g=ne.y),(!Q||ne.x>x)&&(x=ne.x),(!Q||ne.y>S)&&(S=ne.y)}const D=Math.min(x-f,S-g);let F=D/2;const V=new zL([],NL);if(D===0)return new C(f,g);for(let Q=f;Q<x;Q+=D)for(let ne=g;ne<S;ne+=D)V.push(new ud(Q+F,ne+F,F,l));let j=function(Q){let ne=0,ue=0,ye=0;const we=Q[0];for(let Oe=0,Te=we.length,Be=Te-1;Oe<Te;Be=Oe++){const Ge=we[Oe],ot=we[Be],Nt=Ge.x*ot.y-ot.x*Ge.y;ue+=(Ge.x+ot.x)*Nt,ye+=(Ge.y+ot.y)*Nt,ne+=3*Nt}return new ud(ue/ne,ye/ne,0,Q)}(l),W=V.length;for(;V.length;){const Q=V.pop();(Q.d>j.d||!j.d)&&(j=Q,c&&console.log("found best %d after %d probes",Math.round(1e4*Q.d)/1e4,W)),Q.max-j.d<=i||(F=Q.h/2,V.push(new ud(Q.p.x-F,Q.p.y-F,F,l)),V.push(new ud(Q.p.x+F,Q.p.y-F,F,l)),V.push(new ud(Q.p.x-F,Q.p.y+F,F,l)),V.push(new ud(Q.p.x+F,Q.p.y+F,F,l)),W+=4)}return c&&(console.log(`num probes: ${W}`),console.log(`best distance: ${j.d}`)),j.p}function NL(l,i){return i.max-l.max}function ud(l,i,c,f){this.p=new C(l,i),this.h=c,this.d=function(g,x){let S=!1,A=1/0;for(let D=0;D<x.length;D++){const F=x[D];for(let V=0,j=F.length,W=j-1;V<j;W=V++){const Q=F[V],ne=F[W];Q.y>g.y!=ne.y>g.y&&g.x<(ne.x-Q.x)*(g.y-Q.y)/(ne.y-Q.y)+Q.x&&(S=!S),A=Math.min(A,F1(g,Q,ne))}}return(S?1:-1)*Math.sqrt(A)}(this.p,f),this.max=this.d+this.h*Math.SQRT2}var Fi;o.aq=void 0,(Fi=o.aq||(o.aq={}))[Fi.center=1]="center",Fi[Fi.left=2]="left",Fi[Fi.right=3]="right",Fi[Fi.top=4]="top",Fi[Fi.bottom=5]="bottom",Fi[Fi["top-left"]=6]="top-left",Fi[Fi["top-right"]=7]="top-right",Fi[Fi["bottom-left"]=8]="bottom-left",Fi[Fi["bottom-right"]=9]="bottom-right";const Wl=7,t_=Number.POSITIVE_INFINITY;function tS(l,i){return i[1]!==t_?function(c,f,g){let x=0,S=0;switch(f=Math.abs(f),g=Math.abs(g),c){case"top-right":case"top-left":case"top":S=g-Wl;break;case"bottom-right":case"bottom-left":case"bottom":S=-g+Wl}switch(c){case"top-right":case"bottom-right":case"right":x=-f;break;case"top-left":case"bottom-left":case"left":x=f}return[x,S]}(l,i[0],i[1]):function(c,f){let g=0,x=0;f<0&&(f=0);const S=f/Math.SQRT2;switch(c){case"top-right":case"top-left":x=S-Wl;break;case"bottom-right":case"bottom-left":x=-S+Wl;break;case"bottom":x=-f+Wl;break;case"top":x=f-Wl}switch(c){case"top-right":case"bottom-right":g=-S;break;case"top-left":case"bottom-left":g=S;break;case"left":g=f;break;case"right":g=-f}return[g,x]}(l,i[0])}function nS(l,i,c){var f;const g=l.layout,x=(f=g.get("text-variable-anchor-offset"))===null||f===void 0?void 0:f.evaluate(i,{},c);if(x){const A=x.values,D=[];for(let F=0;F<A.length;F+=2){const V=D[F]=A[F],j=A[F+1].map(W=>W*di);V.startsWith("top")?j[1]-=Wl:V.startsWith("bottom")&&(j[1]+=Wl),D[F+1]=j}return new Ma(D)}const S=g.get("text-variable-anchor");if(S){let A;A=l._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[g.get("text-radial-offset").evaluate(i,{},c)*di,t_]:g.get("text-offset").evaluate(i,{},c).map(F=>F*di);const D=[];for(const F of S)D.push(F,tS(F,A));return new Ma(D)}return null}function n_(l){switch(l){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function $L(l,i,c,f,g,x,S,A,D,F,V){let j=x.textMaxSize.evaluate(i,{});j===void 0&&(j=S);const W=l.layers[0].layout,Q=W.get("icon-offset").evaluate(i,{},V),ne=iS(c.horizontal),ue=S/24,ye=l.tilePixelRatio*ue,we=l.tilePixelRatio*j/24,Oe=l.tilePixelRatio*A,Te=l.tilePixelRatio*W.get("symbol-spacing"),Be=W.get("text-padding")*l.tilePixelRatio,Ge=function(wt,nn,Xt,An=1){const Sr=wt.get("icon-padding").evaluate(nn,{},Xt),Tr=Sr&&Sr.values;return[Tr[0]*An,Tr[1]*An,Tr[2]*An,Tr[3]*An]}(W,i,V,l.tilePixelRatio),ot=W.get("text-max-angle")/180*Math.PI,Nt=W.get("text-rotation-alignment")!=="viewport"&&W.get("symbol-placement")!=="point",Zt=W.get("icon-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",Bt=W.get("symbol-placement"),Ft=Te/2,Dt=W.get("icon-text-fit");let qt;f&&Dt!=="none"&&(l.allowVerticalPlacement&&c.vertical&&(qt=Tw(f,c.vertical,Dt,W.get("icon-text-fit-padding"),Q,ue)),ne&&(f=Tw(f,ne,Dt,W.get("icon-text-fit-padding"),Q,ue)));const Mt=(wt,nn)=>{nn.x<0||nn.x>=ii||nn.y<0||nn.y>=ii||function(Xt,An,Sr,Tr,hi,Ba,ia,ai,Ei,zi,aa,sa,fi,mi,Hi,oa,Gi,ka,Ca,pi,Rn,Wi,Bi,gi,_s){const Us=Xt.addToLineVertexArray(An,Sr);let qs,el,bs,Ja,Ta=0,tl=0,ff=0,lS=0,u_=-1,d_=-1;const nl={};let cS=Ko("");if(Xt.allowVerticalPlacement&&Tr.vertical){const Yi=ai.layout.get("text-rotate").evaluate(Rn,{},gi)+90;bs=new $p(Ei,An,zi,aa,sa,Tr.vertical,fi,mi,Hi,Yi),ia&&(Ja=new $p(Ei,An,zi,aa,sa,ia,Gi,ka,Hi,Yi))}if(hi){const Yi=ai.layout.get("icon-rotate").evaluate(Rn,{}),Qa=ai.layout.get("icon-text-fit")!=="none",Vc=Qw(hi,Yi,Bi,Qa),Hs=ia?Qw(ia,Yi,Bi,Qa):void 0;el=new $p(Ei,An,zi,aa,sa,hi,Gi,ka,!1,Yi),Ta=4*Vc.length;const Nc=Xt.iconSizeData;let wo=null;Nc.kind==="source"?(wo=[xo*ai.layout.get("icon-size").evaluate(Rn,{})],wo[0]>jl&&me(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${cf}. Reduce your "icon-size".`)):Nc.kind==="composite"&&(wo=[xo*Wi.compositeIconSizes[0].evaluate(Rn,{},gi),xo*Wi.compositeIconSizes[1].evaluate(Rn,{},gi)],(wo[0]>jl||wo[1]>jl)&&me(`${Xt.layerIds[0]}: Value for "icon-size" is >= ${cf}. Reduce your "icon-size".`)),Xt.addSymbols(Xt.icon,Vc,wo,pi,Ca,Rn,o.ai.none,An,Us.lineStartIndex,Us.lineLength,-1,gi),u_=Xt.icon.placedSymbolArray.length-1,Hs&&(tl=4*Hs.length,Xt.addSymbols(Xt.icon,Hs,wo,pi,Ca,Rn,o.ai.vertical,An,Us.lineStartIndex,Us.lineLength,-1,gi),d_=Xt.icon.placedSymbolArray.length-1)}const uS=Object.keys(Tr.horizontal);for(const Yi of uS){const Qa=Tr.horizontal[Yi];if(!qs){cS=Ko(Qa.text);const Hs=ai.layout.get("text-rotate").evaluate(Rn,{},gi);qs=new $p(Ei,An,zi,aa,sa,Qa,fi,mi,Hi,Hs)}const Vc=Qa.positionedLines.length===1;if(ff+=rS(Xt,An,Qa,Ba,ai,Hi,Rn,oa,Us,Tr.vertical?o.ai.horizontal:o.ai.horizontalOnly,Vc?uS:[Yi],nl,u_,Wi,gi),Vc)break}Tr.vertical&&(lS+=rS(Xt,An,Tr.vertical,Ba,ai,Hi,Rn,oa,Us,o.ai.vertical,["vertical"],nl,d_,Wi,gi));const jL=qs?qs.boxStartIndex:Xt.collisionBoxArray.length,HL=qs?qs.boxEndIndex:Xt.collisionBoxArray.length,GL=bs?bs.boxStartIndex:Xt.collisionBoxArray.length,WL=bs?bs.boxEndIndex:Xt.collisionBoxArray.length,YL=el?el.boxStartIndex:Xt.collisionBoxArray.length,ZL=el?el.boxEndIndex:Xt.collisionBoxArray.length,KL=Ja?Ja.boxStartIndex:Xt.collisionBoxArray.length,XL=Ja?Ja.boxEndIndex:Xt.collisionBoxArray.length;let js=-1;const qp=(Yi,Qa)=>Yi&&Yi.circleDiameter?Math.max(Yi.circleDiameter,Qa):Qa;js=qp(qs,js),js=qp(bs,js),js=qp(el,js),js=qp(Ja,js);const dS=js>-1?1:0;dS&&(js*=_s/di),Xt.glyphOffsetArray.length>=ld.MAX_GLYPHS&&me("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Rn.sortKey!==void 0&&Xt.addToSortKeyRanges(Xt.symbolInstances.length,Rn.sortKey);const JL=nS(ai,Rn,gi),[QL,eR]=function(Yi,Qa){const Vc=Yi.length,Hs=Qa==null?void 0:Qa.values;if((Hs==null?void 0:Hs.length)>0)for(let Nc=0;Nc<Hs.length;Nc+=2){const wo=Hs[Nc+1];Yi.emplaceBack(o.aq[Hs[Nc]],wo[0],wo[1])}return[Vc,Yi.length]}(Xt.textAnchorOffsets,JL);Xt.symbolInstances.emplaceBack(An.x,An.y,nl.right>=0?nl.right:-1,nl.center>=0?nl.center:-1,nl.left>=0?nl.left:-1,nl.vertical||-1,u_,d_,cS,jL,HL,GL,WL,YL,ZL,KL,XL,zi,ff,lS,Ta,tl,dS,0,fi,js,QL,eR)}(l,nn,wt,c,f,g,qt,l.layers[0],l.collisionBoxArray,i.index,i.sourceLayerIndex,l.index,ye,[Be,Be,Be,Be],Nt,D,Oe,Ge,Zt,Q,i,x,F,V,S)};if(Bt==="line")for(const wt of Ww(i.geometry,0,0,ii,ii)){const nn=FL(wt,Te,ot,c.vertical||ne,f,24,we,l.overscaling,ii);for(const Xt of nn)ne&&UL(l,ne.text,Ft,Xt)||Mt(wt,Xt)}else if(Bt==="line-center"){for(const wt of i.geometry)if(wt.length>1){const nn=OL(wt,ot,c.vertical||ne,f,24,we);nn&&Mt(wt,nn)}}else if(i.type==="Polygon")for(const wt of Ry(i.geometry,0)){const nn=VL(wt,16);Mt(wt[0],new Gl(nn.x,nn.y,0))}else if(i.type==="LineString")for(const wt of i.geometry)Mt(wt,new Gl(wt[0].x,wt[0].y,0));else if(i.type==="Point")for(const wt of i.geometry)for(const nn of wt)Mt([nn],new Gl(nn.x,nn.y,0))}function rS(l,i,c,f,g,x,S,A,D,F,V,j,W,Q,ne){const ue=function(Oe,Te,Be,Ge,ot,Nt,Zt,Bt){const Ft=Ge.layout.get("text-rotate").evaluate(Nt,{})*Math.PI/180,Dt=[];for(const qt of Te.positionedLines)for(const Mt of qt.positionedGlyphs){if(!Mt.rect)continue;const wt=Mt.rect||{};let nn=_w+1,Xt=!0,An=1,Sr=0;const Tr=(ot||Bt)&&Mt.vertical,hi=Mt.metrics.advance*Mt.scale/2;if(Bt&&Te.verticalizable&&(Sr=qt.lineOffset/2-(Mt.imageName?-(di-Mt.metrics.width*Mt.scale)/2:(Mt.scale-1)*di)),Mt.imageName){const pi=Zt[Mt.imageName];Xt=pi.sdf,An=pi.pixelRatio,nn=Sa/An}const Ba=ot?[Mt.x+hi,Mt.y]:[0,0];let ia=ot?[0,0]:[Mt.x+hi+Be[0],Mt.y+Be[1]-Sr],ai=[0,0];Tr&&(ai=ia,ia=[0,0]);const Ei=Mt.metrics.isDoubleResolution?2:1,zi=(Mt.metrics.left-nn)*Mt.scale-hi+ia[0],aa=(-Mt.metrics.top-nn)*Mt.scale+ia[1],sa=zi+wt.w/Ei*Mt.scale/An,fi=aa+wt.h/Ei*Mt.scale/An,mi=new C(zi,aa),Hi=new C(sa,aa),oa=new C(zi,fi),Gi=new C(sa,fi);if(Tr){const pi=new C(-hi,hi-of),Rn=-Math.PI/2,Wi=di/2-hi,Bi=new C(5-of-Wi,-(Mt.imageName?Wi:0)),gi=new C(...ai);mi._rotateAround(Rn,pi)._add(Bi)._add(gi),Hi._rotateAround(Rn,pi)._add(Bi)._add(gi),oa._rotateAround(Rn,pi)._add(Bi)._add(gi),Gi._rotateAround(Rn,pi)._add(Bi)._add(gi)}if(Ft){const pi=Math.sin(Ft),Rn=Math.cos(Ft),Wi=[Rn,-pi,pi,Rn];mi._matMult(Wi),Hi._matMult(Wi),oa._matMult(Wi),Gi._matMult(Wi)}const ka=new C(0,0),Ca=new C(0,0);Dt.push({tl:mi,tr:Hi,bl:oa,br:Gi,tex:wt,writingMode:Te.writingMode,glyphOffset:Ba,sectionIndex:Mt.sectionIndex,isSDF:Xt,pixelOffsetTL:ka,pixelOffsetBR:Ca,minFontScaleX:0,minFontScaleY:0})}return Dt}(0,c,A,g,x,S,f,l.allowVerticalPlacement),ye=l.textSizeData;let we=null;ye.kind==="source"?(we=[xo*g.layout.get("text-size").evaluate(S,{})],we[0]>jl&&me(`${l.layerIds[0]}: Value for "text-size" is >= ${cf}. Reduce your "text-size".`)):ye.kind==="composite"&&(we=[xo*Q.compositeTextSizes[0].evaluate(S,{},ne),xo*Q.compositeTextSizes[1].evaluate(S,{},ne)],(we[0]>jl||we[1]>jl)&&me(`${l.layerIds[0]}: Value for "text-size" is >= ${cf}. Reduce your "text-size".`)),l.addSymbols(l.text,ue,we,A,x,S,F,i,D.lineStartIndex,D.lineLength,W,ne);for(const Oe of V)j[Oe]=l.text.placedSymbolArray.length-1;return 4*ue.length}function iS(l){for(const i in l)return l[i];return null}function UL(l,i,c,f){const g=l.compareText;if(i in g){const x=g[i];for(let S=x.length-1;S>=0;S--)if(f.dist(x[S])<c)return!0}else g[i]=[];return g[i].push(f),!1}const aS=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class r_{static from(i){if(!(i instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,f]=new Uint8Array(i,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const g=f>>4;if(g!==1)throw new Error(`Got v${g} data when expected v1.`);const x=aS[15&f];if(!x)throw new Error("Unrecognized array type.");const[S]=new Uint16Array(i,2,1),[A]=new Uint32Array(i,4,1);return new r_(A,S,x,i)}constructor(i,c=64,f=Float64Array,g){if(isNaN(i)||i<0)throw new Error(`Unpexpected numItems value: ${i}.`);this.numItems=+i,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=f,this.IndexArrayType=i<65536?Uint16Array:Uint32Array;const x=aS.indexOf(this.ArrayType),S=2*i*this.ArrayType.BYTES_PER_ELEMENT,A=i*this.IndexArrayType.BYTES_PER_ELEMENT,D=(8-A%8)%8;if(x<0)throw new Error(`Unexpected typed array class: ${f}.`);g&&g instanceof ArrayBuffer?(this.data=g,this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=2*i,this._finished=!0):(this.data=new ArrayBuffer(8+S+A+D),this.ids=new this.IndexArrayType(this.data,8,i),this.coords=new this.ArrayType(this.data,8+A+D,2*i),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+x]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=i)}add(i,c){const f=this._pos>>1;return this.ids[f]=f,this.coords[this._pos++]=i,this.coords[this._pos++]=c,f}finish(){const i=this._pos>>1;if(i!==this.numItems)throw new Error(`Added ${i} items when expected ${this.numItems}.`);return i_(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(i,c,f,g){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:x,coords:S,nodeSize:A}=this,D=[0,x.length-1,0],F=[];for(;D.length;){const V=D.pop()||0,j=D.pop()||0,W=D.pop()||0;if(j-W<=A){for(let ye=W;ye<=j;ye++){const we=S[2*ye],Oe=S[2*ye+1];we>=i&&we<=f&&Oe>=c&&Oe<=g&&F.push(x[ye])}continue}const Q=W+j>>1,ne=S[2*Q],ue=S[2*Q+1];ne>=i&&ne<=f&&ue>=c&&ue<=g&&F.push(x[Q]),(V===0?i<=ne:c<=ue)&&(D.push(W),D.push(Q-1),D.push(1-V)),(V===0?f>=ne:g>=ue)&&(D.push(Q+1),D.push(j),D.push(1-V))}return F}within(i,c,f){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:g,coords:x,nodeSize:S}=this,A=[0,g.length-1,0],D=[],F=f*f;for(;A.length;){const V=A.pop()||0,j=A.pop()||0,W=A.pop()||0;if(j-W<=S){for(let ye=W;ye<=j;ye++)oS(x[2*ye],x[2*ye+1],i,c)<=F&&D.push(g[ye]);continue}const Q=W+j>>1,ne=x[2*Q],ue=x[2*Q+1];oS(ne,ue,i,c)<=F&&D.push(g[Q]),(V===0?i-f<=ne:c-f<=ue)&&(A.push(W),A.push(Q-1),A.push(1-V)),(V===0?i+f>=ne:c+f>=ue)&&(A.push(Q+1),A.push(j),A.push(1-V))}return D}}function i_(l,i,c,f,g,x){if(g-f<=c)return;const S=f+g>>1;sS(l,i,S,f,g,x),i_(l,i,c,f,S-1,1-x),i_(l,i,c,S+1,g,1-x)}function sS(l,i,c,f,g,x){for(;g>f;){if(g-f>600){const F=g-f+1,V=c-f+1,j=Math.log(F),W=.5*Math.exp(2*j/3),Q=.5*Math.sqrt(j*W*(F-W)/F)*(V-F/2<0?-1:1);sS(l,i,c,Math.max(f,Math.floor(c-V*W/F+Q)),Math.min(g,Math.floor(c+(F-V)*W/F+Q)),x)}const S=i[2*c+x];let A=f,D=g;for(df(l,i,f,c),i[2*g+x]>S&&df(l,i,f,g);A<D;){for(df(l,i,A,D),A++,D--;i[2*A+x]<S;)A++;for(;i[2*D+x]>S;)D--}i[2*f+x]===S?df(l,i,f,D):(D++,df(l,i,D,g)),D<=c&&(f=D+1),c<=D&&(g=D-1)}}function df(l,i,c,f){a_(l,c,f),a_(i,2*c,2*f),a_(i,2*c+1,2*f+1)}function a_(l,i,c){const f=l[i];l[i]=l[c],l[c]=f}function oS(l,i,c,f){const g=l-c,x=i-f;return g*g+x*x}var s_;o.bh=void 0,(s_=o.bh||(o.bh={})).create="create",s_.load="load",s_.fullLoad="fullLoad";let Up=null,hf=[];const o_=1e3/60,l_="loadTime",c_="fullLoadTime",qL={mark(l){performance.mark(l)},frame(l){const i=l;Up!=null&&hf.push(i-Up),Up=i},clearMetrics(){Up=null,hf=[],performance.clearMeasures(l_),performance.clearMeasures(c_);for(const l in o.bh)performance.clearMarks(o.bh[l])},getPerformanceMetrics(){performance.measure(l_,o.bh.create,o.bh.load),performance.measure(c_,o.bh.create,o.bh.fullLoad);const l=performance.getEntriesByName(l_)[0].duration,i=performance.getEntriesByName(c_)[0].duration,c=hf.length,f=1/(hf.reduce((x,S)=>x+S,0)/c/1e3),g=hf.filter(x=>x>o_).reduce((x,S)=>x+(S-o_)/o_,0);return{loadTime:l,fullLoadTime:i,fps:f,percentDroppedFrames:g/(c+g)*100,totalFrames:c}}};o.$=function(l,i,c){var f,g,x,S,A,D,F,V,j,W,Q,ne,ue=c[0],ye=c[1],we=c[2];return i===l?(l[12]=i[0]*ue+i[4]*ye+i[8]*we+i[12],l[13]=i[1]*ue+i[5]*ye+i[9]*we+i[13],l[14]=i[2]*ue+i[6]*ye+i[10]*we+i[14],l[15]=i[3]*ue+i[7]*ye+i[11]*we+i[15]):(g=i[1],x=i[2],S=i[3],A=i[4],D=i[5],F=i[6],V=i[7],j=i[8],W=i[9],Q=i[10],ne=i[11],l[0]=f=i[0],l[1]=g,l[2]=x,l[3]=S,l[4]=A,l[5]=D,l[6]=F,l[7]=V,l[8]=j,l[9]=W,l[10]=Q,l[11]=ne,l[12]=f*ue+A*ye+j*we+i[12],l[13]=g*ue+D*ye+W*we+i[13],l[14]=x*ue+F*ye+Q*we+i[14],l[15]=S*ue+V*ye+ne*we+i[15]),l},o.A=nd,o.B=ya,o.C=class{constructor(l,i,c){this.receive=f=>{const g=f.data,x=g.id;if(x&&(!g.targetMapId||this.mapId===g.targetMapId))if(g.type==="<cancel>"){delete this.tasks[x];const S=this.cancelCallbacks[x];delete this.cancelCallbacks[x],S&&S()}else Ue()||g.mustQueue?(this.tasks[x]=g,this.taskQueue.push(x),this.invoker.trigger()):this.processTask(x,g)},this.process=()=>{if(!this.taskQueue.length)return;const f=this.taskQueue.shift(),g=this.tasks[f];delete this.tasks[f],this.taskQueue.length&&this.invoker.trigger(),g&&this.processTask(f,g)},this.target=l,this.parent=i,this.mapId=c,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new LL(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=Ue()?l:window}send(l,i,c,f,g=!1){const x=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(this.callbacks[x]=c);const S=[],A={id:x,type:l,hasCallback:!!c,targetMapId:f,mustQueue:g,sourceMapId:this.mapId,data:yo(i,S)};return this.target.postMessage(A,{transfer:S}),{cancel:()=>{c&&delete this.callbacks[x],this.target.postMessage({id:x,type:"<cancel>",targetMapId:f,sourceMapId:this.mapId})}}}processTask(l,i){if(i.type==="<response>"){const c=this.callbacks[l];delete this.callbacks[l],c&&(i.error?c(Bl(i.error)):c(null,Bl(i.data)))}else{let c=!1;const f=[],g=i.hasCallback?(A,D)=>{c=!0,delete this.cancelCallbacks[l];const F={id:l,type:"<response>",sourceMapId:this.mapId,error:A?yo(A):null,data:yo(D,f)};this.target.postMessage(F,{transfer:f})}:A=>{c=!0};let x=null;const S=Bl(i.data);if(this.parent[i.type])x=this.parent[i.type](i.sourceMapId,S,g);else if("getWorkerSource"in this.parent){const A=i.type.split(".");x=this.parent.getWorkerSource(i.sourceMapId,A[0],S.source)[A[1]](S,g)}else g(new Error(`Could not find function ${i.type}`));!c&&x&&x.cancel&&(this.cancelCallbacks[l]=x.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},o.D=Qt,o.E=Tt,o.F=function(l,i){const c={};for(let f=0;f<i.length;f++){const g=i[f];g in l&&(c[g]=l[g])}return c},o.G=Ow,o.H=Fw,o.I=jy,o.J=q,o.K=J,o.L=Hl,o.M=$e,o.N=ii,o.O=Xa,o.P=C,o.Q=Rr,o.R=Ka,o.S=wr,o.T=vp,o.U=zp,o.V=class extends Yo{},o.W=e_,o.X=function(l,i){const c=window.document.createElement("video");c.muted=!0,c.onloadstart=function(){i(null,c)};for(let f=0;f<l.length;f++){const g=window.document.createElement("source");fe(l[f])||(c.crossOrigin="Anonymous"),g.src=l[f],c.appendChild(g)}return{cancel:()=>{}}},o.Y=mt,o.Z=function(){var l=new nd(16);return nd!=Float32Array&&(l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=0,l[12]=0,l[13]=0,l[14]=0),l[0]=1,l[5]=1,l[10]=1,l[15]=1,l},o._=p,o.a=Ce,o.a$=class extends X{},o.a0=function(l,i,c){var f=c[0],g=c[1],x=c[2];return l[0]=i[0]*f,l[1]=i[1]*f,l[2]=i[2]*f,l[3]=i[3]*f,l[4]=i[4]*g,l[5]=i[5]*g,l[6]=i[6]*g,l[7]=i[7]*g,l[8]=i[8]*x,l[9]=i[9]*x,l[10]=i[10]*x,l[11]=i[11]*x,l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.a1=N1,o.a2=function(){return $++},o.a3=ge,o.a4=ld,o.a5=function(){xa.isLoading()||xa.isLoaded()||Vh()!=="deferred"||gp()},o.a6=Eh,o.a7=zc,o.a8=xr,o.a9=qw,o.aA=Dc,o.aB=function(l){l=l.slice();const i=Object.create(null);for(let c=0;c<l.length;c++)i[l[c].id]=l[c];for(let c=0;c<l.length;c++)"ref"in l[c]&&(l[c]=nt(l[c],i[l[c].ref]));return l},o.aC=function(l){if(l.type==="custom")return new ML(l);switch(l.type){case"background":return new IL(l);case"circle":return new mM(l);case"fill":return new RM(l);case"fill-extrusion":return new ZM(l);case"heatmap":return new gM(l);case"hillshade":return new yM(l);case"line":return new rL(l);case"raster":return new DL(l);case"symbol":return new Fp(l)}},o.aD=te,o.aE=function(l,i){if(!l)return[{command:ft.setStyle,args:[i]}];let c=[];try{if(!St(l.version,i.version))return[{command:ft.setStyle,args:[i]}];St(l.center,i.center)||c.push({command:ft.setCenter,args:[i.center]}),St(l.zoom,i.zoom)||c.push({command:ft.setZoom,args:[i.zoom]}),St(l.bearing,i.bearing)||c.push({command:ft.setBearing,args:[i.bearing]}),St(l.pitch,i.pitch)||c.push({command:ft.setPitch,args:[i.pitch]}),St(l.sprite,i.sprite)||c.push({command:ft.setSprite,args:[i.sprite]}),St(l.glyphs,i.glyphs)||c.push({command:ft.setGlyphs,args:[i.glyphs]}),St(l.transition,i.transition)||c.push({command:ft.setTransition,args:[i.transition]}),St(l.light,i.light)||c.push({command:ft.setLight,args:[i.light]});const f={},g=[];(function(S,A,D,F){let V;for(V in A=A||{},S=S||{})Object.prototype.hasOwnProperty.call(S,V)&&(Object.prototype.hasOwnProperty.call(A,V)||sn(V,D,F));for(V in A)Object.prototype.hasOwnProperty.call(A,V)&&(Object.prototype.hasOwnProperty.call(S,V)?St(S[V],A[V])||(S[V].type==="geojson"&&A[V].type==="geojson"&&Ln(S,A,V)?D.push({command:ft.setGeoJSONSourceData,args:[V,A[V].data]}):cn(V,A,D,F)):Pt(V,A,D))})(l.sources,i.sources,g,f);const x=[];l.layers&&l.layers.forEach(S=>{f[S.source]?c.push({command:ft.removeLayer,args:[S.id]}):x.push(S)}),c=c.concat(g),function(S,A,D){A=A||[];const F=(S=S||[]).map(er),V=A.map(er),j=S.reduce(jn,{}),W=A.reduce(jn,{}),Q=F.slice(),ne=Object.create(null);let ue,ye,we,Oe,Te,Be,Ge;for(ue=0,ye=0;ue<F.length;ue++)we=F[ue],Object.prototype.hasOwnProperty.call(W,we)?ye++:(D.push({command:ft.removeLayer,args:[we]}),Q.splice(Q.indexOf(we,ye),1));for(ue=0,ye=0;ue<V.length;ue++)we=V[V.length-1-ue],Q[Q.length-1-ue]!==we&&(Object.prototype.hasOwnProperty.call(j,we)?(D.push({command:ft.removeLayer,args:[we]}),Q.splice(Q.lastIndexOf(we,Q.length-ye),1)):ye++,Be=Q[Q.length-ue],D.push({command:ft.addLayer,args:[W[we],Be]}),Q.splice(Q.length-ue,0,we),ne[we]=!0);for(ue=0;ue<V.length;ue++)if(we=V[ue],Oe=j[we],Te=W[we],!ne[we]&&!St(Oe,Te))if(St(Oe.source,Te.source)&&St(Oe["source-layer"],Te["source-layer"])&&St(Oe.type,Te.type)){for(Ge in wn(Oe.layout,Te.layout,D,we,null,ft.setLayoutProperty),wn(Oe.paint,Te.paint,D,we,null,ft.setPaintProperty),St(Oe.filter,Te.filter)||D.push({command:ft.setFilter,args:[we,Te.filter]}),St(Oe.minzoom,Te.minzoom)&&St(Oe.maxzoom,Te.maxzoom)||D.push({command:ft.setLayerZoomRange,args:[we,Te.minzoom,Te.maxzoom]}),Oe)Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?wn(Oe[Ge],Te[Ge],D,we,Ge.slice(6),ft.setPaintProperty):St(Oe[Ge],Te[Ge])||D.push({command:ft.setLayerProperty,args:[we,Ge,Te[Ge]]}));for(Ge in Te)Object.prototype.hasOwnProperty.call(Te,Ge)&&!Object.prototype.hasOwnProperty.call(Oe,Ge)&&Ge!=="layout"&&Ge!=="paint"&&Ge!=="filter"&&Ge!=="metadata"&&Ge!=="minzoom"&&Ge!=="maxzoom"&&(Ge.indexOf("paint.")===0?wn(Oe[Ge],Te[Ge],D,we,Ge.slice(6),ft.setPaintProperty):St(Oe[Ge],Te[Ge])||D.push({command:ft.setLayerProperty,args:[we,Ge,Te[Ge]]}))}else D.push({command:ft.removeLayer,args:[we]}),Be=Q[Q.lastIndexOf(we)+1],D.push({command:ft.addLayer,args:[Te,Be]})}(x,i.layers,c)}catch(f){console.warn("Unable to compute style diff:",f),c=[{command:ft.setStyle,args:[i]}]}return c},o.aF=function(l){const i=[],c=l.id;return c===void 0&&i.push({message:`layers.${c}: missing required property "id"`}),l.render===void 0&&i.push({message:`layers.${c}: missing required method "render"`}),l.renderingMode&&l.renderingMode!=="2d"&&l.renderingMode!=="3d"&&i.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),i},o.aG=function l(i,c){if(Array.isArray(i)){if(!Array.isArray(c)||i.length!==c.length)return!1;for(let f=0;f<i.length;f++)if(!l(i[f],c[f]))return!1;return!0}if(typeof i=="object"&&i!==null&&c!==null){if(typeof c!="object"||Object.keys(i).length!==Object.keys(c).length)return!1;for(const f in i)if(!l(i[f],c[f]))return!1;return!0}return i===c},o.aH=Z,o.aI=ae,o.aJ=Mc,o.aK=function(l){return l({pluginStatus:ta,pluginURL:_o}),Mc.on("pluginStateChange",l),l},o.aL=class extends Xo{constructor(l,i){super(l,i),this.current=0}set(l){this.current!==l&&(this.current=l,this.gl.uniform1i(this.location,l))}},o.aM=ed,o.aN=class extends Xo{constructor(l,i){super(l,i),this.current=wy}set(l){if(l[12]!==this.current[12]||l[0]!==this.current[0])return this.current=l,void this.gl.uniformMatrix4fv(this.location,!1,l);for(let i=1;i<16;i++)if(l[i]!==this.current[i]){this.current=l,this.gl.uniformMatrix4fv(this.location,!1,l);break}}},o.aO=xp,o.aP=class extends Xo{constructor(l,i){super(l,i),this.current=[0,0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]&&l[2]===this.current[2]||(this.current=l,this.gl.uniform3f(this.location,l[0],l[1],l[2]))}},o.aQ=class extends Xo{constructor(l,i){super(l,i),this.current=[0,0]}set(l){l[0]===this.current[0]&&l[1]===this.current[1]||(this.current=l,this.gl.uniform2f(this.location,l[0],l[1]))}},o.aR=wp,o.aS=function(l,i,c,f,g,x,S){var A=1/(i-c),D=1/(f-g),F=1/(x-S);return l[0]=-2*A,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=-2*D,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=2*F,l[11]=0,l[12]=(i+c)*A,l[13]=(g+f)*D,l[14]=(S+x)*F,l[15]=1,l},o.aT=tr,o.aU=fM,o.aV=class extends m{},o.aW=oL,o.aX=class extends w{},o.aY=function(l){return l<=1?1:Math.pow(2,Math.ceil(Math.log(l)/Math.LN2))},o.aZ=H1,o.a_=Et,o.aa=function(l){const i={};if(l.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,f,g,x)=>{const S=g||x;return i[f]=!S||S.toLowerCase(),""}),i["max-age"]){const c=parseInt(i["max-age"],10);isNaN(c)?delete i["max-age"]:i["max-age"]=c}return i},o.ab=function(l,i){const c=[];for(const f in l)f in i||c.push(f);return c},o.ac=function(l){if(Fe==null){const i=l.navigator?l.navigator.userAgent:null;Fe=!!l.safari||!(!i||!(/\b(iPad|iPhone|iPod)\b/.test(i)||i.match("Safari")&&!i.match("Chrome")))}return Fe},o.ad=re,o.ae=function(l,i,c){var f=Math.sin(c),g=Math.cos(c),x=i[0],S=i[1],A=i[2],D=i[3],F=i[4],V=i[5],j=i[6],W=i[7];return i!==l&&(l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[0]=x*g+F*f,l[1]=S*g+V*f,l[2]=A*g+j*f,l[3]=D*g+W*f,l[4]=F*g-x*f,l[5]=V*g-S*f,l[6]=j*g-A*f,l[7]=W*g-D*f,l},o.af=function(l){var i=new nd(16);return i[0]=l[0],i[1]=l[1],i[2]=l[2],i[3]=l[3],i[4]=l[4],i[5]=l[5],i[6]=l[6],i[7]=l[7],i[8]=l[8],i[9]=l[9],i[10]=l[10],i[11]=l[11],i[12]=l[12],i[13]=l[13],i[14]=l[14],i[15]=l[15],i},o.ag=Tp,o.ah=function(l,i){let c=0,f=0;if(l.kind==="constant")f=l.layoutSize;else if(l.kind!=="source"){const{interpolationType:g,minZoom:x,maxZoom:S}=l,A=g?re(_a.interpolationFactor(g,i,x,S),0,1):0;l.kind==="camera"?f=ya.number(l.minSize,l.maxSize,A):c=A}return{uSizeT:c,uSize:f}},o.aj=function(l,{uSize:i,uSizeT:c},{lowerSize:f,upperSize:g}){return l.kind==="source"?f/xo:l.kind==="composite"?ya.number(f/xo,g/xo,c):i},o.ak=Yy,o.al=function(l,i,c,f){const g=i.y-l.y,x=i.x-l.x,S=f.y-c.y,A=f.x-c.x,D=S*x-A*g;if(D===0)return null;const F=(A*(l.y-c.y)-S*(l.x-c.x))/D;return new C(l.x+F*x,l.y+F*g)},o.am=Ww,o.an=R1,o.ao=Ay,o.ap=di,o.ar=Wy,o.as=function(l,i){var c=i[0],f=i[1],g=i[2],x=i[3],S=i[4],A=i[5],D=i[6],F=i[7],V=i[8],j=i[9],W=i[10],Q=i[11],ne=i[12],ue=i[13],ye=i[14],we=i[15],Oe=c*A-f*S,Te=c*D-g*S,Be=c*F-x*S,Ge=f*D-g*A,ot=f*F-x*A,Nt=g*F-x*D,Zt=V*ue-j*ne,Bt=V*ye-W*ne,Ft=V*we-Q*ne,Dt=j*ye-W*ue,qt=j*we-Q*ue,Mt=W*we-Q*ye,wt=Oe*Mt-Te*qt+Be*Dt+Ge*Ft-ot*Bt+Nt*Zt;return wt?(l[0]=(A*Mt-D*qt+F*Dt)*(wt=1/wt),l[1]=(g*qt-f*Mt-x*Dt)*wt,l[2]=(ue*Nt-ye*ot+we*Ge)*wt,l[3]=(W*ot-j*Nt-Q*Ge)*wt,l[4]=(D*Ft-S*Mt-F*Bt)*wt,l[5]=(c*Mt-g*Ft+x*Bt)*wt,l[6]=(ye*Be-ne*Nt-we*Te)*wt,l[7]=(V*Nt-W*Be+Q*Te)*wt,l[8]=(S*qt-A*Ft+F*Zt)*wt,l[9]=(f*Ft-c*qt-x*Zt)*wt,l[10]=(ne*ot-ue*Be+we*Oe)*wt,l[11]=(j*Be-V*ot-Q*Oe)*wt,l[12]=(A*Bt-S*Dt-D*Zt)*wt,l[13]=(c*Dt-f*Bt+g*Zt)*wt,l[14]=(ue*Te-ne*Ge-ye*Oe)*wt,l[15]=(V*Ge-j*Te+W*Oe)*wt,l):null},o.at=n_,o.au=Gy,o.av=r_,o.aw=function(){const l={},i=ke.$version;for(const c in ke.$root){const f=ke.$root[c];if(f.required){let g=null;g=c==="version"?i:f.type==="array"?[]:{},g!=null&&(l[c]=g)}}return l},o.ax=ft,o.ay=hp,o.az=je,o.b=function(l,i){const c=new Blob([new Uint8Array(l)],{type:"image/png"});createImageBitmap(c).then(f=>{i(null,f)}).catch(f=>{i(new Error(`Could not load image because of ${f.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})},o.b0=Ti,o.b1=function(l,i){var c=l[0],f=l[1],g=l[2],x=l[3],S=l[4],A=l[5],D=l[6],F=l[7],V=l[8],j=l[9],W=l[10],Q=l[11],ne=l[12],ue=l[13],ye=l[14],we=l[15],Oe=i[0],Te=i[1],Be=i[2],Ge=i[3],ot=i[4],Nt=i[5],Zt=i[6],Bt=i[7],Ft=i[8],Dt=i[9],qt=i[10],Mt=i[11],wt=i[12],nn=i[13],Xt=i[14],An=i[15];return Math.abs(c-Oe)<=ra*Math.max(1,Math.abs(c),Math.abs(Oe))&&Math.abs(f-Te)<=ra*Math.max(1,Math.abs(f),Math.abs(Te))&&Math.abs(g-Be)<=ra*Math.max(1,Math.abs(g),Math.abs(Be))&&Math.abs(x-Ge)<=ra*Math.max(1,Math.abs(x),Math.abs(Ge))&&Math.abs(S-ot)<=ra*Math.max(1,Math.abs(S),Math.abs(ot))&&Math.abs(A-Nt)<=ra*Math.max(1,Math.abs(A),Math.abs(Nt))&&Math.abs(D-Zt)<=ra*Math.max(1,Math.abs(D),Math.abs(Zt))&&Math.abs(F-Bt)<=ra*Math.max(1,Math.abs(F),Math.abs(Bt))&&Math.abs(V-Ft)<=ra*Math.max(1,Math.abs(V),Math.abs(Ft))&&Math.abs(j-Dt)<=ra*Math.max(1,Math.abs(j),Math.abs(Dt))&&Math.abs(W-qt)<=ra*Math.max(1,Math.abs(W),Math.abs(qt))&&Math.abs(Q-Mt)<=ra*Math.max(1,Math.abs(Q),Math.abs(Mt))&&Math.abs(ne-wt)<=ra*Math.max(1,Math.abs(ne),Math.abs(wt))&&Math.abs(ue-nn)<=ra*Math.max(1,Math.abs(ue),Math.abs(nn))&&Math.abs(ye-Xt)<=ra*Math.max(1,Math.abs(ye),Math.abs(Xt))&&Math.abs(we-An)<=ra*Math.max(1,Math.abs(we),Math.abs(An))},o.b2=function(l,i){return l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[4]=i[4],l[5]=i[5],l[6]=i[6],l[7]=i[7],l[8]=i[8],l[9]=i[9],l[10]=i[10],l[11]=i[11],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15],l},o.b3=function(l,i,c){return l[0]=i[0]*c[0],l[1]=i[1]*c[1],l[2]=i[2]*c[2],l[3]=i[3]*c[3],l},o.b4=function(l,i){return l[0]*i[0]+l[1]*i[1]+l[2]*i[2]+l[3]*i[3]},o.b5=le,o.b6=Nw,o.b7=zw,o.b8=function(l,i,c,f,g){var x,S=1/Math.tan(i/2);return l[0]=S/c,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=S,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[11]=-1,l[12]=0,l[13]=0,l[15]=0,g!=null&&g!==1/0?(l[10]=(g+f)*(x=1/(f-g)),l[14]=2*g*f*x):(l[10]=-1,l[14]=-2*f),l},o.b9=function(l,i,c){var f=Math.sin(c),g=Math.cos(c),x=i[4],S=i[5],A=i[6],D=i[7],F=i[8],V=i[9],j=i[10],W=i[11];return i!==l&&(l[0]=i[0],l[1]=i[1],l[2]=i[2],l[3]=i[3],l[12]=i[12],l[13]=i[13],l[14]=i[14],l[15]=i[15]),l[4]=x*g+F*f,l[5]=S*g+V*f,l[6]=A*g+j*f,l[7]=D*g+W*f,l[8]=F*g-x*f,l[9]=V*g-S*f,l[10]=j*g-A*f,l[11]=W*g-D*f,l},o.bA=b,o.bB=hw,o.bC=qu,o.bD=xa,o.ba=ee,o.bb=ie,o.bc=function(l,i){return l[0]=i[0],l[1]=0,l[2]=0,l[3]=0,l[4]=0,l[5]=i[1],l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=i[2],l[11]=0,l[12]=0,l[13]=0,l[14]=0,l[15]=1,l},o.bd=class extends Oc{},o.be=Jy,o.bf=Bw,o.bg=qL,o.bi=et,o.bj=function(l,i,c=!1){if(ta===Rh||ta===Oh||ta===Fh)throw new Error("setRTLTextPlugin cannot be called multiple times.");_o=vt.resolveURL(l),ta=Rh,zh=i,Bh(),c||gp()},o.bk=Vh,o.bl=function(l,i){const c={};for(let g=0;g<l.length;g++){const x=i&&i[l[g].id]||Wu(l[g]);i&&(i[l[g].id]=x);let S=c[x];S||(S=c[x]=[]),S.push(l[g])}const f=[];for(const g in c)f.push(c[g]);return f},o.bm=Ut,o.bn=Uw,o.bo=jw,o.bp=xw,o.bq=function(l){l.bucket.createArrays(),l.bucket.tilePixelRatio=ii/(512*l.bucket.overscaling),l.bucket.compareText={},l.bucket.iconsNeedLinear=!1;const i=l.bucket.layers[0],c=i.layout,f=i._unevaluatedLayout._values,g={layoutIconSize:f["icon-size"].possiblyEvaluate(new xr(l.bucket.zoom+1),l.canonical),layoutTextSize:f["text-size"].possiblyEvaluate(new xr(l.bucket.zoom+1),l.canonical),textMaxSize:f["text-size"].possiblyEvaluate(new xr(18))};if(l.bucket.textSizeData.kind==="composite"){const{minZoom:F,maxZoom:V}=l.bucket.textSizeData;g.compositeTextSizes=[f["text-size"].possiblyEvaluate(new xr(F),l.canonical),f["text-size"].possiblyEvaluate(new xr(V),l.canonical)]}if(l.bucket.iconSizeData.kind==="composite"){const{minZoom:F,maxZoom:V}=l.bucket.iconSizeData;g.compositeIconSizes=[f["icon-size"].possiblyEvaluate(new xr(F),l.canonical),f["icon-size"].possiblyEvaluate(new xr(V),l.canonical)]}const x=c.get("text-line-height")*di,S=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",A=c.get("text-keep-upright"),D=c.get("text-size");for(const F of l.bucket.features){const V=c.get("text-font").evaluate(F,{},l.canonical).join(","),j=D.evaluate(F,{},l.canonical),W=g.layoutTextSize.evaluate(F,{},l.canonical),Q=g.layoutIconSize.evaluate(F,{},l.canonical),ne={horizontal:{},vertical:void 0},ue=F.text;let ye,we=[0,0];if(ue){const Be=ue.toString(),Ge=c.get("text-letter-spacing").evaluate(F,{},l.canonical)*di,ot=Mh(Be)?Ge:0,Nt=c.get("text-anchor").evaluate(F,{},l.canonical),Zt=nS(i,F,l.canonical);if(!Zt){const Mt=c.get("text-radial-offset").evaluate(F,{},l.canonical);we=Mt?tS(Nt,[Mt*di,t_]):c.get("text-offset").evaluate(F,{},l.canonical).map(wt=>wt*di)}let Bt=S?"center":c.get("text-justify").evaluate(F,{},l.canonical);const Ft=c.get("symbol-placement"),Dt=Ft==="point"?c.get("text-max-width").evaluate(F,{},l.canonical)*di:0,qt=()=>{l.bucket.allowVerticalPlacement&&Dh(Be)&&(ne.vertical=Lp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,x,Nt,"left",ot,we,o.ai.vertical,!0,Ft,W,j))};if(!S&&Zt){const Mt=new Set;if(Bt==="auto")for(let nn=0;nn<Zt.values.length;nn+=2)Mt.add(n_(Zt.values[nn]));else Mt.add(Bt);let wt=!1;for(const nn of Mt)if(!ne.horizontal[nn])if(wt)ne.horizontal[nn]=ne.horizontal[0];else{const Xt=Lp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,x,"center",nn,ot,we,o.ai.horizontal,!1,Ft,W,j);Xt&&(ne.horizontal[nn]=Xt,wt=Xt.positionedLines.length===1)}qt()}else{Bt==="auto"&&(Bt=n_(Nt));const Mt=Lp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,x,Nt,Bt,ot,we,o.ai.horizontal,!1,Ft,W,j);Mt&&(ne.horizontal[Bt]=Mt),qt(),Dh(Be)&&S&&A&&(ne.vertical=Lp(ue,l.glyphMap,l.glyphPositions,l.imagePositions,V,Dt,x,Nt,Bt,ot,we,o.ai.vertical,!1,Ft,W,j))}}let Oe=!1;if(F.icon&&F.icon.name){const Be=l.imageMap[F.icon.name];Be&&(ye=kL(l.imagePositions[F.icon.name],c.get("icon-offset").evaluate(F,{},l.canonical),c.get("icon-anchor").evaluate(F,{},l.canonical)),Oe=!!Be.sdf,l.bucket.sdfIcons===void 0?l.bucket.sdfIcons=Oe:l.bucket.sdfIcons!==Oe&&me("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Be.pixelRatio!==l.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(l.bucket.iconsNeedLinear=!0))}const Te=iS(ne.horizontal)||ne.vertical;l.bucket.iconsInText=!!Te&&Te.iconsInText,(Te||ye)&&$L(l.bucket,F,ne,ye,l.imageMap,g,W,Q,we,Oe,l.canonical)}l.showCollisionBoxes&&l.bucket.generateCollisionDebugBuffers()},o.br=Ny,o.bs=zy,o.bt=Vy,o.bu=class{constructor(l){this._marks={start:[l.url,"start"].join("#"),end:[l.url,"end"].join("#"),measure:l.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let l=performance.getEntriesByName(this._marks.measure);return l.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),l=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),l}},o.bv=Uy,o.bw=Ul,o.bx=function(l,i,c,f,g){return p(this,void 0,void 0,function*(){if(J())try{return yield $e(l,i,c,f,g)}catch{}return function(x,S,A,D,F){const V=x.width,j=x.height;qe&&gt||(qe=new OffscreenCanvas(V,j),gt=qe.getContext("2d",{willReadFrequently:!0})),qe.width=V,qe.height=j,gt.drawImage(x,0,0,V,j);const W=gt.getImageData(S,A,D,F);return gt.clearRect(0,0,V,j),W.data}(l,i,c,f,g)})},o.by=$w,o.bz=y,o.c=Ne,o.d=function(l,i){const c=new Image;c.onload=()=>{i(null,c),URL.revokeObjectURL(c.src),c.onload=null,window.requestAnimationFrame(()=>{c.src=Ve})},c.onerror=()=>i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const f=new Blob([new Uint8Array(l)],{type:"image/png"});c.src=l.byteLength?URL.createObjectURL(f):Ve},o.e=H,o.f=function(l,i){return It(H(l,{type:"json"}),i)},o.g=Qe,o.h=vt,o.i=Ue,o.j=tt,o.k=Ze,o.l=se,o.m=It,o.n=function(l){return new Uy(l).readFields(yL,[])},o.o=function(l,i,c){if(!l.length)return c(null,[]);let f=l.length;const g=new Array(l.length);let x=null;l.forEach((S,A)=>{i(S,(D,F)=>{D&&(x=D),g[A]=F,--f==0&&c(x,g)})})},o.p=bw,o.q=Jh,o.r=Xr,o.s=fe,o.t=yy,o.u=Vt,o.v=ke,o.w=me,o.x=Ku,o.y=Vs,o.z=function([l,i,c]){return i+=90,i*=Math.PI/180,c*=Math.PI/180,{x:l*Math.cos(i)*Math.sin(c),y:l*Math.sin(i)*Math.sin(c),z:l*Math.cos(c)}}}),u(["./shared"],function(o){class p{constructor(G){this.keyCache={},G&&this.replace(G)}replace(G){this._layerConfigs={},this._layers={},this.update(G,[])}update(G,K){for(const ve of G){this._layerConfigs[ve.id]=ve;const _e=this._layers[ve.id]=o.aC(ve);_e._featureFilter=o.a6(_e.filter),this.keyCache[ve.id]&&delete this.keyCache[ve.id]}for(const ve of K)delete this.keyCache[ve],delete this._layerConfigs[ve],delete this._layers[ve];this.familiesBySource={};const oe=o.bl(Object.values(this._layerConfigs),this.keyCache);for(const ve of oe){const _e=ve.map(at=>this._layers[at.id]),ze=_e[0];if(ze.visibility==="none")continue;const Ee=ze.source||"";let Se=this.familiesBySource[Ee];Se||(Se=this.familiesBySource[Ee]={});const Re=ze.sourceLayer||"_geojsonTileLayer";let it=Se[Re];it||(it=Se[Re]=[]),it.push(_e)}}}class y{constructor(G){const K={},oe=[];for(const Ee in G){const Se=G[Ee],Re=K[Ee]={};for(const it in Se){const at=Se[+it];if(!at||at.bitmap.width===0||at.bitmap.height===0)continue;const ut={x:0,y:0,w:at.bitmap.width+2,h:at.bitmap.height+2};oe.push(ut),Re[it]={rect:ut,metrics:at.metrics}}}const{w:ve,h:_e}=o.p(oe),ze=new o.q({width:ve||1,height:_e||1});for(const Ee in G){const Se=G[Ee];for(const Re in Se){const it=Se[+Re];if(!it||it.bitmap.width===0||it.bitmap.height===0)continue;const at=K[Ee][Re].rect;o.q.copy(it.bitmap,ze,{x:0,y:0},{x:at.x+1,y:at.y+1},it.bitmap)}}this.image=ze,this.positions=K}}o.bm("GlyphAtlas",y);class b{constructor(G){this.tileID=new o.O(G.tileID.overscaledZ,G.tileID.wrap,G.tileID.canonical.z,G.tileID.canonical.x,G.tileID.canonical.y),this.uid=G.uid,this.zoom=G.zoom,this.pixelRatio=G.pixelRatio,this.tileSize=G.tileSize,this.source=G.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=G.showCollisionBoxes,this.collectResourceTiming=!!G.collectResourceTiming,this.returnDependencies=!!G.returnDependencies,this.promoteId=G.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(G,K,oe,ve,_e){this.status="parsing",this.data=G,this.collisionBoxArray=new o.a3;const ze=new o.bn(Object.keys(G.layers).sort()),Ee=new o.bo(this.tileID,this.promoteId);Ee.bucketLayerIDs=[];const Se={},Re={featureIndex:Ee,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:oe},it=K.familiesBySource[this.source];for(const $n in it){const Vn=G.layers[$n];if(!Vn)continue;Vn.version===1&&o.w(`Vector tile source "${this.source}" layer "${$n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Li=ze.encode($n),pr=[];for(let ri=0;ri<Vn.length;ri++){const ki=Vn.feature(ri),Da=Ee.getId(ki,$n);pr.push({feature:ki,id:Da,index:ri,sourceLayerIndex:Li})}for(const ri of it[$n]){const ki=ri[0];ki.source!==this.source&&o.w(`layer.source = ${ki.source} does not equal this.source = ${this.source}`),ki.minzoom&&this.zoom<Math.floor(ki.minzoom)||ki.maxzoom&&this.zoom>=ki.maxzoom||ki.visibility!=="none"&&(k(ri,this.zoom,oe),(Se[ki.id]=ki.createBucket({index:Ee.bucketLayerIDs.length,layers:ri,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Li,sourceID:this.source})).populate(pr,Re,this.tileID.canonical),Ee.bucketLayerIDs.push(ri.map(Da=>Da.id)))}}let at,ut,tn,hn;const Wt=o.aH(Re.glyphDependencies,$n=>Object.keys($n).map(Number));this.inFlightDependencies.forEach($n=>$n==null?void 0:$n.cancel()),this.inFlightDependencies=[];const rn=++this.dependencySentinel;Object.keys(Wt).length?this.inFlightDependencies.push(ve.send("getGlyphs",{uid:this.uid,stacks:Wt,source:this.source,tileID:this.tileID,type:"glyphs"},($n,Vn)=>{rn===this.dependencySentinel&&(at||(at=$n,ut=Vn,or.call(this)))})):ut={};const vn=Object.keys(Re.iconDependencies);vn.length?this.inFlightDependencies.push(ve.send("getImages",{icons:vn,source:this.source,tileID:this.tileID,type:"icons"},($n,Vn)=>{rn===this.dependencySentinel&&(at||(at=$n,tn=Vn,or.call(this)))})):tn={};const Xn=Object.keys(Re.patternDependencies);function or(){if(at)return _e(at);if(ut&&tn&&hn){const $n=new y(ut),Vn=new o.bp(tn,hn);for(const Li in Se){const pr=Se[Li];pr instanceof o.a4?(k(pr.layers,this.zoom,oe),o.bq({bucket:pr,glyphMap:ut,glyphPositions:$n.positions,imageMap:tn,imagePositions:Vn.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):pr.hasPattern&&(pr instanceof o.br||pr instanceof o.bs||pr instanceof o.bt)&&(k(pr.layers,this.zoom,oe),pr.addFeatures(Re,this.tileID.canonical,Vn.patternPositions))}this.status="done",_e(null,{buckets:Object.values(Se).filter(Li=>!Li.isEmpty()),featureIndex:Ee,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:$n.image,imageAtlas:Vn,glyphMap:this.returnDependencies?ut:null,iconMap:this.returnDependencies?tn:null,glyphPositions:this.returnDependencies?$n.positions:null})}}Xn.length?this.inFlightDependencies.push(ve.send("getImages",{icons:Xn,source:this.source,tileID:this.tileID,type:"patterns"},($n,Vn)=>{rn===this.dependencySentinel&&(at||(at=$n,hn=Vn,or.call(this)))})):hn={},or.call(this)}}function k(pe,G,K){const oe=new o.a8(G);for(const ve of pe)ve.recalculate(oe,K)}function C(pe,G){const K=o.l(pe.request,(oe,ve,_e,ze)=>{if(oe)G(oe);else if(ve)try{const Ee=new o.bw.VectorTile(new o.bv(ve));G(null,{vectorTile:Ee,rawData:ve,cacheControl:_e,expires:ze})}catch(Ee){const Se=new Uint8Array(ve);let Re=`Unable to parse the tile at ${pe.request.url}, `;Re+=Se[0]===31&&Se[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${Ee.messge}`,G(new Error(Re))}});return()=>{K.cancel(),G()}}class I{constructor(G,K,oe,ve){this.actor=G,this.layerIndex=K,this.availableImages=oe,this.loadVectorData=ve||C,this.fetching={},this.loading={},this.loaded={}}loadTile(G,K){const oe=G.uid;this.loading||(this.loading={});const ve=!!(G&&G.request&&G.request.collectResourceTiming)&&new o.bu(G.request),_e=this.loading[oe]=new b(G);_e.abort=this.loadVectorData(G,(ze,Ee)=>{if(delete this.loading[oe],ze||!Ee)return _e.status="done",this.loaded[oe]=_e,K(ze);const Se=Ee.rawData,Re={};Ee.expires&&(Re.expires=Ee.expires),Ee.cacheControl&&(Re.cacheControl=Ee.cacheControl);const it={};if(ve){const at=ve.finish();at&&(it.resourceTiming=JSON.parse(JSON.stringify(at)))}_e.vectorTile=Ee.vectorTile,_e.parse(Ee.vectorTile,this.layerIndex,this.availableImages,this.actor,(at,ut)=>{if(delete this.fetching[oe],at||!ut)return K(at);K(null,o.e({rawTileData:Se.slice(0)},ut,Re,it))}),this.loaded=this.loaded||{},this.loaded[oe]=_e,this.fetching[oe]={rawTileData:Se,cacheControl:Re,resourceTiming:it}})}reloadTile(G,K){const oe=this.loaded,ve=G.uid;if(oe&&oe[ve]){const _e=oe[ve];_e.showCollisionBoxes=G.showCollisionBoxes,_e.status==="parsing"?_e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor,(ze,Ee)=>{if(ze||!Ee)return K(ze,Ee);let Se;if(this.fetching[ve]){const{rawTileData:Re,cacheControl:it,resourceTiming:at}=this.fetching[ve];delete this.fetching[ve],Se=o.e({rawTileData:Re.slice(0)},Ee,it,at)}else Se=Ee;K(null,Se)}):_e.status==="done"&&(_e.vectorTile?_e.parse(_e.vectorTile,this.layerIndex,this.availableImages,this.actor,K):K())}}abortTile(G,K){const oe=this.loading,ve=G.uid;oe&&oe[ve]&&oe[ve].abort&&(oe[ve].abort(),delete oe[ve]),K()}removeTile(G,K){const oe=this.loaded,ve=G.uid;oe&&oe[ve]&&delete oe[ve],K()}}class R{constructor(){this.loaded={}}loadTile(G,K){return o._(this,void 0,void 0,function*(){const{uid:oe,encoding:ve,rawImageData:_e,redFactor:ze,greenFactor:Ee,blueFactor:Se,baseShift:Re}=G,it=_e.width+2,at=_e.height+2,ut=o.a(_e)?new o.R({width:it,height:at},yield o.bx(_e,-1,-1,it,at)):_e,tn=new o.by(oe,ut,ve,ze,Ee,Se,Re);this.loaded=this.loaded||{},this.loaded[oe]=tn,K(null,tn)})}removeTile(G){const K=this.loaded,oe=G.uid;K&&K[oe]&&delete K[oe]}}function L(pe,G){if(pe.length!==0){O(pe[0],G);for(var K=1;K<pe.length;K++)O(pe[K],!G)}}function O(pe,G){for(var K=0,oe=0,ve=0,_e=pe.length,ze=_e-1;ve<_e;ze=ve++){var Ee=(pe[ve][0]-pe[ze][0])*(pe[ze][1]+pe[ve][1]),Se=K+Ee;oe+=Math.abs(K)>=Math.abs(Ee)?K-Se+Ee:Ee-Se+K,K=Se}K+oe>=0!=!!G&&pe.reverse()}var B=o.bz(function pe(G,K){var oe,ve=G&&G.type;if(ve==="FeatureCollection")for(oe=0;oe<G.features.length;oe++)pe(G.features[oe],K);else if(ve==="GeometryCollection")for(oe=0;oe<G.geometries.length;oe++)pe(G.geometries[oe],K);else if(ve==="Feature")pe(G.geometry,K);else if(ve==="Polygon")L(G.coordinates,K);else if(ve==="MultiPolygon")for(oe=0;oe<G.coordinates.length;oe++)L(G.coordinates[oe],K);return G});const q=o.bw.VectorTileFeature.prototype.toGeoJSON;var J={exports:{}},ee=o.bA,ie=o.bw.VectorTileFeature,re=le;function le(pe,G){this.options=G||{},this.features=pe,this.length=pe.length}function H(pe,G){this.id=typeof pe.id=="number"?pe.id:void 0,this.type=pe.type,this.rawGeometry=pe.type===1?[pe.geometry]:pe.geometry,this.properties=pe.tags,this.extent=G||4096}le.prototype.feature=function(pe){return new H(this.features[pe],this.options.extent)},H.prototype.loadGeometry=function(){var pe=this.rawGeometry;this.geometry=[];for(var G=0;G<pe.length;G++){for(var K=pe[G],oe=[],ve=0;ve<K.length;ve++)oe.push(new ee(K[ve][0],K[ve][1]));this.geometry.push(oe)}return this.geometry},H.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var pe=this.geometry,G=1/0,K=-1/0,oe=1/0,ve=-1/0,_e=0;_e<pe.length;_e++)for(var ze=pe[_e],Ee=0;Ee<ze.length;Ee++){var Se=ze[Ee];G=Math.min(G,Se.x),K=Math.max(K,Se.x),oe=Math.min(oe,Se.y),ve=Math.max(ve,Se.y)}return[G,oe,K,ve]},H.prototype.toGeoJSON=ie.prototype.toGeoJSON;var $=o.bB,Z=re;function ae(pe){var G=new $;return function(K,oe){for(var ve in K.layers)oe.writeMessage(3,te,K.layers[ve])}(pe,G),G.finish()}function te(pe,G){var K;G.writeVarintField(15,pe.version||1),G.writeStringField(1,pe.name||""),G.writeVarintField(5,pe.extent||4096);var oe={keys:[],values:[],keycache:{},valuecache:{}};for(K=0;K<pe.length;K++)oe.feature=pe.feature(K),G.writeMessage(2,be,oe);var ve=oe.keys;for(K=0;K<ve.length;K++)G.writeStringField(3,ve[K]);var _e=oe.values;for(K=0;K<_e.length;K++)G.writeMessage(4,Fe,_e[K])}function be(pe,G){var K=pe.feature;K.id!==void 0&&G.writeVarintField(1,K.id),G.writeMessage(2,me,pe),G.writeVarintField(3,K.type),G.writeMessage(4,Ue,K)}function me(pe,G){var K=pe.feature,oe=pe.keys,ve=pe.values,_e=pe.keycache,ze=pe.valuecache;for(var Ee in K.properties){var Se=K.properties[Ee],Re=_e[Ee];if(Se!==null){Re===void 0&&(oe.push(Ee),_e[Ee]=Re=oe.length-1),G.writeVarint(Re);var it=typeof Se;it!=="string"&&it!=="boolean"&&it!=="number"&&(Se=JSON.stringify(Se));var at=it+":"+Se,ut=ze[at];ut===void 0&&(ve.push(Se),ze[at]=ut=ve.length-1),G.writeVarint(ut)}}}function Pe(pe,G){return(G<<3)+(7&pe)}function Ae(pe){return pe<<1^pe>>31}function Ue(pe,G){for(var K=pe.loadGeometry(),oe=pe.type,ve=0,_e=0,ze=K.length,Ee=0;Ee<ze;Ee++){var Se=K[Ee],Re=1;oe===1&&(Re=Se.length),G.writeVarint(Pe(1,Re));for(var it=oe===3?Se.length-1:Se.length,at=0;at<it;at++){at===1&&oe!==1&&G.writeVarint(Pe(2,it-1));var ut=Se[at].x-ve,tn=Se[at].y-_e;G.writeVarint(Ae(ut)),G.writeVarint(Ae(tn)),ve+=ut,_e+=tn}oe===3&&G.writeVarint(Pe(7,1))}}function Fe(pe,G){var K=typeof pe;K==="string"?G.writeStringField(1,pe):K==="boolean"?G.writeBooleanField(7,pe):K==="number"&&(pe%1!=0?G.writeDoubleField(3,pe):pe<0?G.writeSVarintField(6,pe):G.writeVarintField(5,pe))}J.exports=ae,J.exports.fromVectorTileJs=ae,J.exports.fromGeojsonVt=function(pe,G){G=G||{};var K={};for(var oe in pe)K[oe]=new Z(pe[oe].features,G),K[oe].name=oe,K[oe].version=G.version,K[oe].extent=G.extent;return ae({layers:K})},J.exports.GeoJSONWrapper=Z;var Ce=o.bz(J.exports);const Ve={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:pe=>pe},$e=Math.fround||(qe=new Float32Array(1),pe=>(qe[0]=+pe,qe[0]));var qe;const gt=3,Ct=5,$t=6;class vt{constructor(G){this.options=Object.assign(Object.create(Ve),G),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(G){const{log:K,minZoom:oe,maxZoom:ve}=this.options;K&&console.time("total time");const _e=`prepare ${G.length} points`;K&&console.time(_e),this.points=G;const ze=[];for(let Se=0;Se<G.length;Se++){const Re=G[Se];if(!Re.geometry)continue;const[it,at]=Re.geometry.coordinates,ut=$e(je(it)),tn=$e(Qe(at));ze.push(ut,tn,1/0,Se,-1,1),this.options.reduce&&ze.push(0)}let Ee=this.trees[ve+1]=this._createTree(ze);K&&console.timeEnd(_e);for(let Se=ve;Se>=oe;Se--){const Re=+Date.now();Ee=this.trees[Se]=this._createTree(this._cluster(Ee,Se)),K&&console.log("z%d: %d clusters in %dms",Se,Ee.numItems,+Date.now()-Re)}return K&&console.timeEnd("total time"),this}getClusters(G,K){let oe=((G[0]+180)%360+360)%360-180;const ve=Math.max(-90,Math.min(90,G[1]));let _e=G[2]===180?180:((G[2]+180)%360+360)%360-180;const ze=Math.max(-90,Math.min(90,G[3]));if(G[2]-G[0]>=360)oe=-180,_e=180;else if(oe>_e){const at=this.getClusters([oe,ve,180,ze],K),ut=this.getClusters([-180,ve,_e,ze],K);return at.concat(ut)}const Ee=this.trees[this._limitZoom(K)],Se=Ee.range(je(oe),Qe(ze),je(_e),Qe(ve)),Re=Ee.data,it=[];for(const at of Se){const ut=this.stride*at;it.push(Re[ut+Ct]>1?Ne(Re,ut,this.clusterProps):this.points[Re[ut+gt]])}return it}getChildren(G){const K=this._getOriginId(G),oe=this._getOriginZoom(G),ve="No cluster with the specified id.",_e=this.trees[oe];if(!_e)throw new Error(ve);const ze=_e.data;if(K*this.stride>=ze.length)throw new Error(ve);const Ee=this.options.radius/(this.options.extent*Math.pow(2,oe-1)),Se=_e.within(ze[K*this.stride],ze[K*this.stride+1],Ee),Re=[];for(const it of Se){const at=it*this.stride;ze[at+4]===G&&Re.push(ze[at+Ct]>1?Ne(ze,at,this.clusterProps):this.points[ze[at+gt]])}if(Re.length===0)throw new Error(ve);return Re}getLeaves(G,K,oe){const ve=[];return this._appendLeaves(ve,G,K=K||10,oe=oe||0,0),ve}getTile(G,K,oe){const ve=this.trees[this._limitZoom(G)],_e=Math.pow(2,G),{extent:ze,radius:Ee}=this.options,Se=Ee/ze,Re=(oe-Se)/_e,it=(oe+1+Se)/_e,at={features:[]};return this._addTileFeatures(ve.range((K-Se)/_e,Re,(K+1+Se)/_e,it),ve.data,K,oe,_e,at),K===0&&this._addTileFeatures(ve.range(1-Se/_e,Re,1,it),ve.data,_e,oe,_e,at),K===_e-1&&this._addTileFeatures(ve.range(0,Re,Se/_e,it),ve.data,-1,oe,_e,at),at.features.length?at:null}getClusterExpansionZoom(G){let K=this._getOriginZoom(G)-1;for(;K<=this.options.maxZoom;){const oe=this.getChildren(G);if(K++,oe.length!==1)break;G=oe[0].properties.cluster_id}return K}_appendLeaves(G,K,oe,ve,_e){const ze=this.getChildren(K);for(const Ee of ze){const Se=Ee.properties;if(Se&&Se.cluster?_e+Se.point_count<=ve?_e+=Se.point_count:_e=this._appendLeaves(G,Se.cluster_id,oe,ve,_e):_e<ve?_e++:G.push(Ee),G.length===oe)break}return _e}_createTree(G){const K=new o.av(G.length/this.stride|0,this.options.nodeSize,Float32Array);for(let oe=0;oe<G.length;oe+=this.stride)K.add(G[oe],G[oe+1]);return K.finish(),K.data=G,K}_addTileFeatures(G,K,oe,ve,_e,ze){for(const Ee of G){const Se=Ee*this.stride,Re=K[Se+Ct]>1;let it,at,ut;if(Re)it=et(K,Se,this.clusterProps),at=K[Se],ut=K[Se+1];else{const Wt=this.points[K[Se+gt]];it=Wt.properties;const[rn,vn]=Wt.geometry.coordinates;at=je(rn),ut=Qe(vn)}const tn={type:1,geometry:[[Math.round(this.options.extent*(at*_e-oe)),Math.round(this.options.extent*(ut*_e-ve))]],tags:it};let hn;hn=Re||this.options.generateId?K[Se+gt]:this.points[K[Se+gt]].id,hn!==void 0&&(tn.id=hn),ze.features.push(tn)}}_limitZoom(G){return Math.max(this.options.minZoom,Math.min(Math.floor(+G),this.options.maxZoom+1))}_cluster(G,K){const{radius:oe,extent:ve,reduce:_e,minPoints:ze}=this.options,Ee=oe/(ve*Math.pow(2,K)),Se=G.data,Re=[],it=this.stride;for(let at=0;at<Se.length;at+=it){if(Se[at+2]<=K)continue;Se[at+2]=K;const ut=Se[at],tn=Se[at+1],hn=G.within(Se[at],Se[at+1],Ee),Wt=Se[at+Ct];let rn=Wt;for(const vn of hn){const Xn=vn*it;Se[Xn+2]>K&&(rn+=Se[Xn+Ct])}if(rn>Wt&&rn>=ze){let vn,Xn=ut*Wt,or=tn*Wt,$n=-1;const Vn=((at/it|0)<<5)+(K+1)+this.points.length;for(const Li of hn){const pr=Li*it;if(Se[pr+2]<=K)continue;Se[pr+2]=K;const ri=Se[pr+Ct];Xn+=Se[pr]*ri,or+=Se[pr+1]*ri,Se[pr+4]=Vn,_e&&(vn||(vn=this._map(Se,at,!0),$n=this.clusterProps.length,this.clusterProps.push(vn)),_e(vn,this._map(Se,pr)))}Se[at+4]=Vn,Re.push(Xn/rn,or/rn,1/0,Vn,-1,rn),_e&&Re.push($n)}else{for(let vn=0;vn<it;vn++)Re.push(Se[at+vn]);if(rn>1)for(const vn of hn){const Xn=vn*it;if(!(Se[Xn+2]<=K)){Se[Xn+2]=K;for(let or=0;or<it;or++)Re.push(Se[Xn+or])}}}}return Re}_getOriginId(G){return G-this.points.length>>5}_getOriginZoom(G){return(G-this.points.length)%32}_map(G,K,oe){if(G[K+Ct]>1){const ze=this.clusterProps[G[K+$t]];return oe?Object.assign({},ze):ze}const ve=this.points[G[K+gt]].properties,_e=this.options.map(ve);return oe&&_e===ve?Object.assign({},_e):_e}}function Ne(pe,G,K){return{type:"Feature",id:pe[G+gt],properties:et(pe,G,K),geometry:{type:"Point",coordinates:[(oe=pe[G],360*(oe-.5)),Je(pe[G+1])]}};var oe}function et(pe,G,K){const oe=pe[G+Ct],ve=oe>=1e4?`${Math.round(oe/1e3)}k`:oe>=1e3?Math.round(oe/100)/10+"k":oe,_e=pe[G+$t],ze=_e===-1?{}:Object.assign({},K[_e]);return Object.assign(ze,{cluster:!0,cluster_id:pe[G+gt],point_count:oe,point_count_abbreviated:ve})}function je(pe){return pe/360+.5}function Qe(pe){const G=Math.sin(pe*Math.PI/180),K=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return K<0?0:K>1?1:K}function Je(pe){const G=(180-360*pe)*Math.PI/180;return 360*Math.atan(Math.exp(G))/Math.PI-90}function It(pe,G,K,oe){for(var ve,_e=oe,ze=K-G>>1,Ee=K-G,Se=pe[G],Re=pe[G+1],it=pe[K],at=pe[K+1],ut=G+3;ut<K;ut+=3){var tn=se(pe[ut],pe[ut+1],Se,Re,it,at);if(tn>_e)ve=ut,_e=tn;else if(tn===_e){var hn=Math.abs(ut-ze);hn<Ee&&(ve=ut,Ee=hn)}}_e>oe&&(ve-G>3&&It(pe,G,ve,oe),pe[ve+2]=_e,K-ve>3&&It(pe,ve,K,oe))}function se(pe,G,K,oe,ve,_e){var ze=ve-K,Ee=_e-oe;if(ze!==0||Ee!==0){var Se=((pe-K)*ze+(G-oe)*Ee)/(ze*ze+Ee*Ee);Se>1?(K=ve,oe=_e):Se>0&&(K+=ze*Se,oe+=Ee*Se)}return(ze=pe-K)*ze+(Ee=G-oe)*Ee}function fe(pe,G,K,oe){var ve={id:pe===void 0?null:pe,type:G,geometry:K,tags:oe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(_e){var ze=_e.geometry,Ee=_e.type;if(Ee==="Point"||Ee==="MultiPoint"||Ee==="LineString")Me(_e,ze);else if(Ee==="Polygon"||Ee==="MultiLineString")for(var Se=0;Se<ze.length;Se++)Me(_e,ze[Se]);else if(Ee==="MultiPolygon")for(Se=0;Se<ze.length;Se++)for(var Re=0;Re<ze[Se].length;Re++)Me(_e,ze[Se][Re])}(ve),ve}function Me(pe,G){for(var K=0;K<G.length;K+=3)pe.minX=Math.min(pe.minX,G[K]),pe.minY=Math.min(pe.minY,G[K+1]),pe.maxX=Math.max(pe.maxX,G[K]),pe.maxY=Math.max(pe.maxY,G[K+1])}function Xe(pe,G,K,oe){if(G.geometry){var ve=G.geometry.coordinates,_e=G.geometry.type,ze=Math.pow(K.tolerance/((1<<K.maxZoom)*K.extent),2),Ee=[],Se=G.id;if(K.promoteId?Se=G.properties[K.promoteId]:K.generateId&&(Se=oe||0),_e==="Point")Ze(ve,Ee);else if(_e==="MultiPoint")for(var Re=0;Re<ve.length;Re++)Ze(ve[Re],Ee);else if(_e==="LineString")tt(ve,Ee,ze,!1);else if(_e==="MultiLineString"){if(K.lineMetrics){for(Re=0;Re<ve.length;Re++)tt(ve[Re],Ee=[],ze,!1),pe.push(fe(Se,"LineString",Ee,G.properties));return}Tt(ve,Ee,ze,!1)}else if(_e==="Polygon")Tt(ve,Ee,ze,!0);else{if(_e!=="MultiPolygon"){if(_e==="GeometryCollection"){for(Re=0;Re<G.geometry.geometries.length;Re++)Xe(pe,{id:Se,geometry:G.geometry.geometries[Re],properties:G.properties},K,oe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Re=0;Re<ve.length;Re++){var it=[];Tt(ve[Re],it,ze,!0),Ee.push(it)}}pe.push(fe(Se,_e,Ee,G.properties))}}function Ze(pe,G){G.push(ke(pe[0])),G.push(yt(pe[1])),G.push(0)}function tt(pe,G,K,oe){for(var ve,_e,ze=0,Ee=0;Ee<pe.length;Ee++){var Se=ke(pe[Ee][0]),Re=yt(pe[Ee][1]);G.push(Se),G.push(Re),G.push(0),Ee>0&&(ze+=oe?(ve*Re-Se*_e)/2:Math.sqrt(Math.pow(Se-ve,2)+Math.pow(Re-_e,2))),ve=Se,_e=Re}var it=G.length-3;G[2]=1,It(G,0,it,K),G[it+2]=1,G.size=Math.abs(ze),G.start=0,G.end=G.size}function Tt(pe,G,K,oe){for(var ve=0;ve<pe.length;ve++){var _e=[];tt(pe[ve],_e,K,oe),G.push(_e)}}function ke(pe){return pe/360+.5}function yt(pe){var G=Math.sin(pe*Math.PI/180),K=.5-.25*Math.log((1+G)/(1-G))/Math.PI;return K<0?0:K>1?1:K}function nt(pe,G,K,oe,ve,_e,ze,Ee){if(oe/=G,_e>=(K/=G)&&ze<oe)return pe;if(ze<K||_e>=oe)return null;for(var Se=[],Re=0;Re<pe.length;Re++){var it=pe[Re],at=it.geometry,ut=it.type,tn=ve===0?it.minX:it.minY,hn=ve===0?it.maxX:it.maxY;if(tn>=K&&hn<oe)Se.push(it);else if(!(hn<K||tn>=oe)){var Wt=[];if(ut==="Point"||ut==="MultiPoint")St(at,Wt,K,oe,ve);else if(ut==="LineString")ft(at,Wt,K,oe,ve,!1,Ee.lineMetrics);else if(ut==="MultiLineString")sn(at,Wt,K,oe,ve,!1);else if(ut==="Polygon")sn(at,Wt,K,oe,ve,!0);else if(ut==="MultiPolygon")for(var rn=0;rn<at.length;rn++){var vn=[];sn(at[rn],vn,K,oe,ve,!0),vn.length&&Wt.push(vn)}if(Wt.length){if(Ee.lineMetrics&&ut==="LineString"){for(rn=0;rn<Wt.length;rn++)Se.push(fe(it.id,ut,Wt[rn],it.tags));continue}ut!=="LineString"&&ut!=="MultiLineString"||(Wt.length===1?(ut="LineString",Wt=Wt[0]):ut="MultiLineString"),ut!=="Point"&&ut!=="MultiPoint"||(ut=Wt.length===3?"Point":"MultiPoint"),Se.push(fe(it.id,ut,Wt,it.tags))}}}return Se.length?Se:null}function St(pe,G,K,oe,ve){for(var _e=0;_e<pe.length;_e+=3){var ze=pe[_e+ve];ze>=K&&ze<=oe&&(G.push(pe[_e]),G.push(pe[_e+1]),G.push(pe[_e+2]))}}function ft(pe,G,K,oe,ve,_e,ze){for(var Ee,Se,Re=Pt(pe),it=ve===0?Ln:wn,at=pe.start,ut=0;ut<pe.length-3;ut+=3){var tn=pe[ut],hn=pe[ut+1],Wt=pe[ut+2],rn=pe[ut+3],vn=pe[ut+4],Xn=ve===0?tn:hn,or=ve===0?rn:vn,$n=!1;ze&&(Ee=Math.sqrt(Math.pow(tn-rn,2)+Math.pow(hn-vn,2))),Xn<K?or>K&&(Se=it(Re,tn,hn,rn,vn,K),ze&&(Re.start=at+Ee*Se)):Xn>oe?or<oe&&(Se=it(Re,tn,hn,rn,vn,oe),ze&&(Re.start=at+Ee*Se)):cn(Re,tn,hn,Wt),or<K&&Xn>=K&&(Se=it(Re,tn,hn,rn,vn,K),$n=!0),or>oe&&Xn<=oe&&(Se=it(Re,tn,hn,rn,vn,oe),$n=!0),!_e&&$n&&(ze&&(Re.end=at+Ee*Se),G.push(Re),Re=Pt(pe)),ze&&(at+=Ee)}var Vn=pe.length-3;tn=pe[Vn],hn=pe[Vn+1],Wt=pe[Vn+2],(Xn=ve===0?tn:hn)>=K&&Xn<=oe&&cn(Re,tn,hn,Wt),Vn=Re.length-3,_e&&Vn>=3&&(Re[Vn]!==Re[0]||Re[Vn+1]!==Re[1])&&cn(Re,Re[0],Re[1],Re[2]),Re.length&&G.push(Re)}function Pt(pe){var G=[];return G.size=pe.size,G.start=pe.start,G.end=pe.end,G}function sn(pe,G,K,oe,ve,_e){for(var ze=0;ze<pe.length;ze++)ft(pe[ze],G,K,oe,ve,_e,!1)}function cn(pe,G,K,oe){pe.push(G),pe.push(K),pe.push(oe)}function Ln(pe,G,K,oe,ve,_e){var ze=(_e-G)/(oe-G);return pe.push(_e),pe.push(K+(ve-K)*ze),pe.push(1),ze}function wn(pe,G,K,oe,ve,_e){var ze=(_e-K)/(ve-K);return pe.push(G+(oe-G)*ze),pe.push(_e),pe.push(1),ze}function er(pe,G){for(var K=[],oe=0;oe<pe.length;oe++){var ve,_e=pe[oe],ze=_e.type;if(ze==="Point"||ze==="MultiPoint"||ze==="LineString")ve=jn(_e.geometry,G);else if(ze==="MultiLineString"||ze==="Polygon"){ve=[];for(var Ee=0;Ee<_e.geometry.length;Ee++)ve.push(jn(_e.geometry[Ee],G))}else if(ze==="MultiPolygon")for(ve=[],Ee=0;Ee<_e.geometry.length;Ee++){for(var Se=[],Re=0;Re<_e.geometry[Ee].length;Re++)Se.push(jn(_e.geometry[Ee][Re],G));ve.push(Se)}K.push(fe(_e.id,ze,ve,_e.tags))}return K}function jn(pe,G){var K=[];K.size=pe.size,pe.start!==void 0&&(K.start=pe.start,K.end=pe.end);for(var oe=0;oe<pe.length;oe+=3)K.push(pe[oe]+G,pe[oe+1],pe[oe+2]);return K}function mt(pe,G){if(pe.transformed)return pe;var K,oe,ve,_e=1<<pe.z,ze=pe.x,Ee=pe.y;for(K=0;K<pe.features.length;K++){var Se=pe.features[K],Re=Se.geometry,it=Se.type;if(Se.geometry=[],it===1)for(oe=0;oe<Re.length;oe+=2)Se.geometry.push(sr(Re[oe],Re[oe+1],G,_e,ze,Ee));else for(oe=0;oe<Re.length;oe++){var at=[];for(ve=0;ve<Re[oe].length;ve+=2)at.push(sr(Re[oe][ve],Re[oe][ve+1],G,_e,ze,Ee));Se.geometry.push(at)}}return pe.transformed=!0,pe}function sr(pe,G,K,oe,ve,_e){return[Math.round(K*(pe*oe-ve)),Math.round(K*(G*oe-_e))]}function Tn(pe,G,K,oe,ve){for(var _e=G===ve.maxZoom?0:ve.tolerance/((1<<G)*ve.extent),ze={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:K,y:oe,z:G,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ee=0;Ee<pe.length;Ee++){ze.numFeatures++,ga(ze,pe[Ee],_e,ve);var Se=pe[Ee].minX,Re=pe[Ee].minY,it=pe[Ee].maxX,at=pe[Ee].maxY;Se<ze.minX&&(ze.minX=Se),Re<ze.minY&&(ze.minY=Re),it>ze.maxX&&(ze.maxX=it),at>ze.maxY&&(ze.maxY=at)}return ze}function ga(pe,G,K,oe){var ve=G.geometry,_e=G.type,ze=[];if(_e==="Point"||_e==="MultiPoint")for(var Ee=0;Ee<ve.length;Ee+=3)ze.push(ve[Ee]),ze.push(ve[Ee+1]),pe.numPoints++,pe.numSimplified++;else if(_e==="LineString")mr(ze,ve,pe,K,!1,!1);else if(_e==="MultiLineString"||_e==="Polygon")for(Ee=0;Ee<ve.length;Ee++)mr(ze,ve[Ee],pe,K,_e==="Polygon",Ee===0);else if(_e==="MultiPolygon")for(var Se=0;Se<ve.length;Se++){var Re=ve[Se];for(Ee=0;Ee<Re.length;Ee++)mr(ze,Re[Ee],pe,K,!0,Ee===0)}if(ze.length){var it=G.tags||null;if(_e==="LineString"&&oe.lineMetrics){for(var at in it={},G.tags)it[at]=G.tags[at];it.mapbox_clip_start=ve.start/ve.size,it.mapbox_clip_end=ve.end/ve.size}var ut={geometry:ze,type:_e==="Polygon"||_e==="MultiPolygon"?3:_e==="LineString"||_e==="MultiLineString"?2:1,tags:it};G.id!==null&&(ut.id=G.id),pe.features.push(ut)}}function mr(pe,G,K,oe,ve,_e){var ze=oe*oe;if(oe>0&&G.size<(ve?ze:oe))K.numPoints+=G.length/3;else{for(var Ee=[],Se=0;Se<G.length;Se+=3)(oe===0||G[Se+2]>ze)&&(K.numSimplified++,Ee.push(G[Se]),Ee.push(G[Se+1])),K.numPoints++;ve&&function(Re,it){for(var at=0,ut=0,tn=Re.length,hn=tn-2;ut<tn;hn=ut,ut+=2)at+=(Re[ut]-Re[hn])*(Re[ut+1]+Re[hn+1]);if(at>0===it)for(ut=0,tn=Re.length;ut<tn/2;ut+=2){var Wt=Re[ut],rn=Re[ut+1];Re[ut]=Re[tn-2-ut],Re[ut+1]=Re[tn-1-ut],Re[tn-2-ut]=Wt,Re[tn-1-ut]=rn}}(Ee,_e),pe.push(Ee)}}function At(pe,G){var K=(G=this.options=function(ve,_e){for(var ze in _e)ve[ze]=_e[ze];return ve}(Object.create(this.options),G)).debug;if(K&&console.time("preprocess data"),G.maxZoom<0||G.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(G.promoteId&&G.generateId)throw new Error("promoteId and generateId cannot be used together.");var oe=function(ve,_e){var ze=[];if(ve.type==="FeatureCollection")for(var Ee=0;Ee<ve.features.length;Ee++)Xe(ze,ve.features[Ee],_e,Ee);else Xe(ze,ve.type==="Feature"?ve:{geometry:ve},_e);return ze}(pe,G);this.tiles={},this.tileCoords=[],K&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",G.indexMaxZoom,G.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),oe=function(ve,_e){var ze=_e.buffer/_e.extent,Ee=ve,Se=nt(ve,1,-1-ze,ze,0,-1,2,_e),Re=nt(ve,1,1-ze,2+ze,0,-1,2,_e);return(Se||Re)&&(Ee=nt(ve,1,-ze,1+ze,0,-1,2,_e)||[],Se&&(Ee=er(Se,1).concat(Ee)),Re&&(Ee=Ee.concat(er(Re,-1)))),Ee}(oe,G),oe.length&&this.splitTile(oe,0,0,0),K&&(oe.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function yn(pe,G,K){return 32*((1<<pe)*K+G)+pe}function gn(pe,G){return G?pe.properties[G]:pe.id}function Ui(pe,G){if(pe==null)return!0;if(pe.type==="Feature")return gn(pe,G)!=null;if(pe.type==="FeatureCollection"){const K=new Set;for(const oe of pe.features){const ve=gn(oe,G);if(ve==null||K.has(ve))return!1;K.add(ve)}return!0}return!1}function hs(pe,G){const K=new Map;if(pe!=null)if(pe.type==="Feature")K.set(gn(pe,G),pe);else for(const oe of pe.features)K.set(gn(oe,G),oe);return K}At.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},At.prototype.splitTile=function(pe,G,K,oe,ve,_e,ze){for(var Ee=[pe,G,K,oe],Se=this.options,Re=Se.debug;Ee.length;){oe=Ee.pop(),K=Ee.pop(),G=Ee.pop(),pe=Ee.pop();var it=1<<G,at=yn(G,K,oe),ut=this.tiles[at];if(!ut&&(Re>1&&console.time("creation"),ut=this.tiles[at]=Tn(pe,G,K,oe,Se),this.tileCoords.push({z:G,x:K,y:oe}),Re)){Re>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",G,K,oe,ut.numFeatures,ut.numPoints,ut.numSimplified),console.timeEnd("creation"));var tn="z"+G;this.stats[tn]=(this.stats[tn]||0)+1,this.total++}if(ut.source=pe,ve){if(G===Se.maxZoom||G===ve)continue;var hn=1<<ve-G;if(K!==Math.floor(_e/hn)||oe!==Math.floor(ze/hn))continue}else if(G===Se.indexMaxZoom||ut.numPoints<=Se.indexMaxPoints)continue;if(ut.source=null,pe.length!==0){Re>1&&console.time("clipping");var Wt,rn,vn,Xn,or,$n,Vn=.5*Se.buffer/Se.extent,Li=.5-Vn,pr=.5+Vn,ri=1+Vn;Wt=rn=vn=Xn=null,or=nt(pe,it,K-Vn,K+pr,0,ut.minX,ut.maxX,Se),$n=nt(pe,it,K+Li,K+ri,0,ut.minX,ut.maxX,Se),pe=null,or&&(Wt=nt(or,it,oe-Vn,oe+pr,1,ut.minY,ut.maxY,Se),rn=nt(or,it,oe+Li,oe+ri,1,ut.minY,ut.maxY,Se),or=null),$n&&(vn=nt($n,it,oe-Vn,oe+pr,1,ut.minY,ut.maxY,Se),Xn=nt($n,it,oe+Li,oe+ri,1,ut.minY,ut.maxY,Se),$n=null),Re>1&&console.timeEnd("clipping"),Ee.push(Wt||[],G+1,2*K,2*oe),Ee.push(rn||[],G+1,2*K,2*oe+1),Ee.push(vn||[],G+1,2*K+1,2*oe),Ee.push(Xn||[],G+1,2*K+1,2*oe+1)}}},At.prototype.getTile=function(pe,G,K){var oe=this.options,ve=oe.extent,_e=oe.debug;if(pe<0||pe>24)return null;var ze=1<<pe,Ee=yn(pe,G=(G%ze+ze)%ze,K);if(this.tiles[Ee])return mt(this.tiles[Ee],ve);_e>1&&console.log("drilling down to z%d-%d-%d",pe,G,K);for(var Se,Re=pe,it=G,at=K;!Se&&Re>0;)Re--,it=Math.floor(it/2),at=Math.floor(at/2),Se=this.tiles[yn(Re,it,at)];return Se&&Se.source?(_e>1&&console.log("found parent tile z%d-%d-%d",Re,it,at),_e>1&&console.time("drilling down"),this.splitTile(Se.source,Re,it,at,pe,G,K),_e>1&&console.timeEnd("drilling down"),this.tiles[Ee]?mt(this.tiles[Ee],ve):null):null};class bn extends I{constructor(G,K,oe,ve){super(G,K,oe),this._dataUpdateable=new Map,this.loadGeoJSON=(_e,ze)=>{const{promoteId:Ee}=_e;if(_e.request)return o.f(_e.request,(Se,Re,it,at)=>{this._dataUpdateable=Ui(Re,Ee)?hs(Re,Ee):void 0,ze(Se,Re,it,at)});if(typeof _e.data=="string")try{const Se=JSON.parse(_e.data);this._dataUpdateable=Ui(Se,Ee)?hs(Se,Ee):void 0,ze(null,Se)}catch{ze(new Error(`Input data given to '${_e.source}' is not a valid GeoJSON object.`))}else _e.dataDiff?this._dataUpdateable?(function(Se,Re,it){var at,ut,tn,hn;if(Re.removeAll&&Se.clear(),Re.remove)for(const Wt of Re.remove)Se.delete(Wt);if(Re.add)for(const Wt of Re.add){const rn=gn(Wt,it);rn!=null&&Se.set(rn,Wt)}if(Re.update)for(const Wt of Re.update){let rn=Se.get(Wt.id);if(rn==null)continue;const vn=!Wt.removeAllProperties&&(((at=Wt.removeProperties)===null||at===void 0?void 0:at.length)>0||((ut=Wt.addOrUpdateProperties)===null||ut===void 0?void 0:ut.length)>0);if((Wt.newGeometry||Wt.removeAllProperties||vn)&&(rn=Object.assign({},rn),Se.set(Wt.id,rn),vn&&(rn.properties=Object.assign({},rn.properties))),Wt.newGeometry&&(rn.geometry=Wt.newGeometry),Wt.removeAllProperties)rn.properties={};else if(((tn=Wt.removeProperties)===null||tn===void 0?void 0:tn.length)>0)for(const Xn of Wt.removeProperties)Object.prototype.hasOwnProperty.call(rn.properties,Xn)&&delete rn.properties[Xn];if(((hn=Wt.addOrUpdateProperties)===null||hn===void 0?void 0:hn.length)>0)for(const{key:Xn,value:or}of Wt.addOrUpdateProperties)rn.properties[Xn]=or}}(this._dataUpdateable,_e.dataDiff,Ee),ze(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):ze(new Error(`Cannot update existing geojson data in ${_e.source}`)):ze(new Error(`Input data given to '${_e.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,ve&&(this.loadGeoJSON=ve)}loadGeoJSONTile(G,K){const oe=G.tileID.canonical;if(!this._geoJSONIndex)return K(null,null);const ve=this._geoJSONIndex.getTile(oe.z,oe.x,oe.y);if(!ve)return K(null,null);const _e=new class{constructor(Ee){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=o.N,this.length=Ee.length,this._features=Ee}feature(Ee){return new class{constructor(Se){this._feature=Se,this.extent=o.N,this.type=Se.type,this.properties=Se.tags,"id"in Se&&!isNaN(Se.id)&&(this.id=parseInt(Se.id,10))}loadGeometry(){if(this._feature.type===1){const Se=[];for(const Re of this._feature.geometry)Se.push([new o.P(Re[0],Re[1])]);return Se}{const Se=[];for(const Re of this._feature.geometry){const it=[];for(const at of Re)it.push(new o.P(at[0],at[1]));Se.push(it)}return Se}}toGeoJSON(Se,Re,it){return q.call(this,Se,Re,it)}}(this._features[Ee])}}(ve.features);let ze=Ce(_e);ze.byteOffset===0&&ze.byteLength===ze.buffer.byteLength||(ze=new Uint8Array(ze)),K(null,{vectorTile:_e,rawData:ze.buffer})}loadData(G,K){var oe;(oe=this._pendingRequest)===null||oe===void 0||oe.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const ve=!!(G&&G.request&&G.request.collectResourceTiming)&&new o.bu(G.request);this._pendingCallback=K,this._pendingRequest=this.loadGeoJSON(G,(_e,ze)=>{if(delete this._pendingCallback,delete this._pendingRequest,_e||!ze)return K(_e);if(typeof ze!="object")return K(new Error(`Input data given to '${G.source}' is not a valid GeoJSON object.`));{B(ze,!0);try{if(G.filter){const Se=o.bC(G.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Se.result==="error")throw new Error(Se.value.map(it=>`${it.key}: ${it.message}`).join(", "));ze={type:"FeatureCollection",features:ze.features.filter(it=>Se.value.evaluate({zoom:0},it))}}this._geoJSONIndex=G.cluster?new vt(function({superclusterOptions:Se,clusterProperties:Re}){if(!Re||!Se)return Se;const it={},at={},ut={accumulated:null,zoom:0},tn={properties:null},hn=Object.keys(Re);for(const Wt of hn){const[rn,vn]=Re[Wt],Xn=o.bC(vn),or=o.bC(typeof rn=="string"?[rn,["accumulated"],["get",Wt]]:rn);it[Wt]=Xn.value,at[Wt]=or.value}return Se.map=Wt=>{tn.properties=Wt;const rn={};for(const vn of hn)rn[vn]=it[vn].evaluate(ut,tn);return rn},Se.reduce=(Wt,rn)=>{tn.properties=rn;for(const vn of hn)ut.accumulated=Wt[vn],Wt[vn]=at[vn].evaluate(ut,tn)},Se}(G)).load(ze.features):function(Se,Re){return new At(Se,Re)}(ze,G.geojsonVtOptions)}catch(Se){return K(Se)}this.loaded={};const Ee={};if(ve){const Se=ve.finish();Se&&(Ee.resourceTiming={},Ee.resourceTiming[G.source]=JSON.parse(JSON.stringify(Se)))}K(null,Ee)}})}reloadTile(G,K){const oe=this.loaded;return oe&&oe[G.uid]?super.reloadTile(G,K):this.loadTile(G,K)}removeSource(G,K){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),K()}getClusterExpansionZoom(G,K){try{K(null,this._geoJSONIndex.getClusterExpansionZoom(G.clusterId))}catch(oe){K(oe)}}getClusterChildren(G,K){try{K(null,this._geoJSONIndex.getChildren(G.clusterId))}catch(oe){K(oe)}}getClusterLeaves(G,K){try{K(null,this._geoJSONIndex.getLeaves(G.clusterId,G.limit,G.offset))}catch(oe){K(oe)}}}class Os{constructor(G){this.self=G,this.actor=new o.C(G,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:I,geojson:bn},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(K,oe)=>{if(this.workerSourceTypes[K])throw new Error(`Worker source with name "${K}" already registered.`);this.workerSourceTypes[K]=oe},this.self.registerRTLTextPlugin=K=>{if(o.bD.isParsed())throw new Error("RTL text plugin already registered.");o.bD.applyArabicShaping=K.applyArabicShaping,o.bD.processBidirectionalText=K.processBidirectionalText,o.bD.processStyledBidirectionalText=K.processStyledBidirectionalText}}setReferrer(G,K){this.referrer=K}setImages(G,K,oe){this.availableImages[G]=K;for(const ve in this.workerSources[G]){const _e=this.workerSources[G][ve];for(const ze in _e)_e[ze].availableImages=K}oe()}setLayers(G,K,oe){this.getLayerIndex(G).replace(K),oe()}updateLayers(G,K,oe){this.getLayerIndex(G).update(K.layers,K.removedIds),oe()}loadTile(G,K,oe){this.getWorkerSource(G,K.type,K.source).loadTile(K,oe)}loadDEMTile(G,K,oe){this.getDEMWorkerSource(G,K.source).loadTile(K,oe)}reloadTile(G,K,oe){this.getWorkerSource(G,K.type,K.source).reloadTile(K,oe)}abortTile(G,K,oe){this.getWorkerSource(G,K.type,K.source).abortTile(K,oe)}removeTile(G,K,oe){this.getWorkerSource(G,K.type,K.source).removeTile(K,oe)}removeDEMTile(G,K){this.getDEMWorkerSource(G,K.source).removeTile(K)}removeSource(G,K,oe){if(!this.workerSources[G]||!this.workerSources[G][K.type]||!this.workerSources[G][K.type][K.source])return;const ve=this.workerSources[G][K.type][K.source];delete this.workerSources[G][K.type][K.source],ve.removeSource!==void 0?ve.removeSource(K,oe):oe()}loadWorkerSource(G,K,oe){try{this.self.importScripts(K.url),oe()}catch(ve){oe(ve.toString())}}syncRTLPluginState(G,K,oe){try{o.bD.setState(K);const ve=o.bD.getPluginURL();if(o.bD.isLoaded()&&!o.bD.isParsed()&&ve!=null){this.self.importScripts(ve);const _e=o.bD.isParsed();oe(_e?void 0:new Error(`RTL Text Plugin failed to import scripts from ${ve}`),_e)}}catch(ve){oe(ve.toString())}}getAvailableImages(G){let K=this.availableImages[G];return K||(K=[]),K}getLayerIndex(G){let K=this.layerIndexes[G];return K||(K=this.layerIndexes[G]=new p),K}getWorkerSource(G,K,oe){return this.workerSources[G]||(this.workerSources[G]={}),this.workerSources[G][K]||(this.workerSources[G][K]={}),this.workerSources[G][K][oe]||(this.workerSources[G][K][oe]=new this.workerSourceTypes[K]({send:(ve,_e,ze)=>{this.actor.send(ve,_e,ze,G)}},this.getLayerIndex(G),this.getAvailableImages(G))),this.workerSources[G][K][oe]}getDEMWorkerSource(G,K){return this.demWorkerSources[G]||(this.demWorkerSources[G]={}),this.demWorkerSources[G][K]||(this.demWorkerSources[G][K]=new R),this.demWorkerSources[G][K]}}return o.i()&&(self.worker=new Os(self)),Os}),u(["./shared"],function(o){var p="3.6.2";class y{static testProp(a){if(!y.docStyle)return a[0];for(let d=0;d<a.length;d++)if(a[d]in y.docStyle)return a[d];return a[0]}static create(a,d,m){const v=window.document.createElement(a);return d!==void 0&&(v.className=d),m&&m.appendChild(v),v}static createNS(a,d){return window.document.createElementNS(a,d)}static disableDrag(){y.docStyle&&y.selectProp&&(y.userSelect=y.docStyle[y.selectProp],y.docStyle[y.selectProp]="none")}static enableDrag(){y.docStyle&&y.selectProp&&(y.docStyle[y.selectProp]=y.userSelect)}static setTransform(a,d){a.style[y.transformProp]=d}static addEventListener(a,d,m,v={}){a.addEventListener(d,m,"passive"in v?v:v.capture)}static removeEventListener(a,d,m,v={}){a.removeEventListener(d,m,"passive"in v?v:v.capture)}static suppressClickInternal(a){a.preventDefault(),a.stopPropagation(),window.removeEventListener("click",y.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",y.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",y.suppressClickInternal,!0)},0)}static mousePos(a,d){const m=a.getBoundingClientRect();return new o.P(d.clientX-m.left-a.clientLeft,d.clientY-m.top-a.clientTop)}static touchPos(a,d){const m=a.getBoundingClientRect(),v=[];for(let w=0;w<d.length;w++)v.push(new o.P(d[w].clientX-m.left-a.clientLeft,d[w].clientY-m.top-a.clientTop));return v}static mouseButton(a){return a.button}static remove(a){a.parentNode&&a.parentNode.removeChild(a)}}y.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,y.selectProp=y.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),y.transformProp=y.testProp(["transform","WebkitTransform"]);const b={supported:!1,testSupport:function(_){!I&&C&&(R?L(_):k=_)}};let k,C,I=!1,R=!1;function L(_){const a=_.createTexture();_.bindTexture(_.TEXTURE_2D,a);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,C),_.isContextLost())return;b.supported=!0}catch{}_.deleteTexture(a),I=!0}var O,B;typeof document<"u"&&(C=document.createElement("img"),C.onload=function(){k&&L(k),k=null,R=!0},C.onerror=function(){I=!0,k=null},C.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(_){let a,d,m,v;_.resetRequestQueue=()=>{a=[],d=0,m=0,v={}},_.addThrottleControl=z=>{const N=m++;return v[N]=z,N},_.removeThrottleControl=z=>{delete v[z],P()},_.getImage=(z,N,U=!0)=>{b.supported&&(z.headers||(z.headers={}),z.headers.accept="image/webp,*/*");const X={requestParameters:z,supportImageRefresh:U,callback:N,cancelled:!1,completed:!1,cancel:()=>{X.completed||X.cancelled||(X.cancelled=!0,X.innerRequest&&(X.innerRequest.cancel(),d--),P())}};return a.push(X),P(),X};const w=z=>{const{requestParameters:N,supportImageRefresh:U,callback:X}=z;return o.e(N,{type:"image"}),(U!==!1||o.i()||o.g(N.url)||N.headers&&!Object.keys(N.headers).reduce((he,de)=>he&&de==="accept",!0)?o.m:M)(N,(he,de,ge,ce)=>{E(z,X,he,de,ge,ce)})},E=(z,N,U,X,he,de)=>{U?N(U):X instanceof HTMLImageElement||o.a(X)?N(null,X):X&&((ge,ce)=>{typeof createImageBitmap=="function"?o.b(ge,ce):o.d(ge,ce)})(X,(ge,ce)=>{ge!=null?N(ge):ce!=null&&N(null,ce,{cacheControl:he,expires:de})}),z.cancelled||(z.completed=!0,d--,P())},P=()=>{const z=(()=>{const N=Object.keys(v);let U=!1;if(N.length>0){for(const X of N)if(U=v[X](),U)break}return U})()?o.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:o.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let N=d;N<z&&a.length>0;N++){const U=a.shift();if(U.cancelled){N--;continue}const X=w(U);d++,U.innerRequest=X}},M=(z,N)=>{const U=new Image,X=z.url;let he=!1;const de=z.credentials;return de&&de==="include"?U.crossOrigin="use-credentials":(de&&de==="same-origin"||!o.s(X))&&(U.crossOrigin="anonymous"),U.fetchPriority="high",U.onload=()=>{N(null,U),U.onerror=U.onload=null},U.onerror=()=>{he||N(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),U.onerror=U.onload=null},U.src=X,{cancel:()=>{he=!0,U.src=""}}}}(O||(O={})),O.resetRequestQueue(),function(_){_.Glyphs="Glyphs",_.Image="Image",_.Source="Source",_.SpriteImage="SpriteImage",_.SpriteJSON="SpriteJSON",_.Style="Style",_.Tile="Tile",_.Unknown="Unknown"}(B||(B={}));class q{constructor(a){this._transformRequestFn=a}transformRequest(a,d){return this._transformRequestFn&&this._transformRequestFn(a,d)||{url:a}}normalizeSpriteURL(a,d,m){const v=function(w){const E=w.match(J);if(!E)throw new Error(`Unable to parse URL "${w}"`);return{protocol:E[1],authority:E[2],path:E[3]||"/",params:E[4]?E[4].split("&"):[]}}(a);return v.path+=`${d}${m}`,function(w){const E=w.params.length?`?${w.params.join("&")}`:"";return`${w.protocol}://${w.authority}${w.path}${E}`}(v)}setTransformRequest(a){this._transformRequestFn=a}}const J=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ee(_){var a=new o.A(3);return a[0]=_[0],a[1]=_[1],a[2]=_[2],a}var ie,re=function(_,a,d){return _[0]=a[0]-d[0],_[1]=a[1]-d[1],_[2]=a[2]-d[2],_};ie=new o.A(3),o.A!=Float32Array&&(ie[0]=0,ie[1]=0,ie[2]=0);var le=function(_){var a=_[0],d=_[1];return a*a+d*d};function H(_){const a=[];if(typeof _=="string")a.push({id:"default",url:_});else if(_&&_.length>0){const d=[];for(const{id:m,url:v}of _){const w=`${m}${v}`;d.indexOf(w)===-1&&(d.push(w),a.push({id:m,url:v}))}}return a}function $(_,a,d,m,v){if(m)return void _(m);if(v!==Object.values(a).length||v!==Object.values(d).length)return;const w={};for(const E in a){w[E]={};const P=o.h.getImageCanvasContext(d[E]),M=a[E];for(const z in M){const{width:N,height:U,x:X,y:he,sdf:de,pixelRatio:ge,stretchX:ce,stretchY:De,content:He}=M[z];w[E][z]={data:null,pixelRatio:ge,sdf:de,stretchX:ce,stretchY:De,content:He,spriteData:{width:N,height:U,x:X,y:he,context:P}}}}_(null,w)}(function(){var _=new o.A(2);o.A!=Float32Array&&(_[0]=0,_[1]=0)})();class Z{constructor(a,d,m,v){this.context=a,this.format=m,this.texture=a.gl.createTexture(),this.update(d,v)}update(a,d,m){const{width:v,height:w}=a,E=!(this.size&&this.size[0]===v&&this.size[1]===w||m),{context:P}=this,{gl:M}=P;if(this.useMipmap=!!(d&&d.useMipmap),M.bindTexture(M.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===M.RGBA&&(!d||d.premultiply!==!1)),E)this.size=[v,w],a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?M.texImage2D(M.TEXTURE_2D,0,this.format,this.format,M.UNSIGNED_BYTE,a):M.texImage2D(M.TEXTURE_2D,0,this.format,v,w,0,this.format,M.UNSIGNED_BYTE,a.data);else{const{x:z,y:N}=m||{x:0,y:0};a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof HTMLVideoElement||a instanceof ImageData||o.a(a)?M.texSubImage2D(M.TEXTURE_2D,0,z,N,M.RGBA,M.UNSIGNED_BYTE,a):M.texSubImage2D(M.TEXTURE_2D,0,z,N,v,w,M.RGBA,M.UNSIGNED_BYTE,a.data)}this.useMipmap&&this.isSizePowerOfTwo()&&M.generateMipmap(M.TEXTURE_2D)}bind(a,d,m){const{context:v}=this,{gl:w}=v;w.bindTexture(w.TEXTURE_2D,this.texture),m!==w.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(m=w.LINEAR),a!==this.filter&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,a),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,m||a),this.filter=a),d!==this.wrap&&(w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,d),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,d),this.wrap=d)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:a}=this.context;a.deleteTexture(this.texture),this.texture=null}}function ae(_){const{userImage:a}=_;return!!(a&&a.render&&a.render())&&(_.data.replace(new Uint8Array(a.data.buffer)),!0)}class te extends o.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new o.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(a){if(this.loaded!==a&&(this.loaded=a,a)){for(const{ids:d,callback:m}of this.requestors)this._notify(d,m);this.requestors=[]}}getImage(a){const d=this.images[a];if(d&&!d.data&&d.spriteData){const m=d.spriteData;d.data=new o.R({width:m.width,height:m.height},m.context.getImageData(m.x,m.y,m.width,m.height).data),d.spriteData=null}return d}addImage(a,d){if(this.images[a])throw new Error(`Image id ${a} already exist, use updateImage instead`);this._validate(a,d)&&(this.images[a]=d)}_validate(a,d){let m=!0;const v=d.data||d.spriteData;return this._validateStretch(d.stretchX,v&&v.width)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchX" value`))),m=!1),this._validateStretch(d.stretchY,v&&v.height)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "stretchY" value`))),m=!1),this._validateContent(d.content,d)||(this.fire(new o.j(new Error(`Image "${a}" has invalid "content" value`))),m=!1),m}_validateStretch(a,d){if(!a)return!0;let m=0;for(const v of a){if(v[0]<m||v[1]<v[0]||d<v[1])return!1;m=v[1]}return!0}_validateContent(a,d){if(!a)return!0;if(a.length!==4)return!1;const m=d.spriteData,v=m&&m.width||d.data.width,w=m&&m.height||d.data.height;return!(a[0]<0||v<a[0]||a[1]<0||w<a[1]||a[2]<0||v<a[2]||a[3]<0||w<a[3]||a[2]<a[0]||a[3]<a[1])}updateImage(a,d,m=!0){const v=this.getImage(a);if(m&&(v.data.width!==d.data.width||v.data.height!==d.data.height))throw new Error(`size mismatch between old image (${v.data.width}x${v.data.height}) and new image (${d.data.width}x${d.data.height}).`);d.version=v.version+1,this.images[a]=d,this.updatedImages[a]=!0}removeImage(a){const d=this.images[a];delete this.images[a],delete this.patterns[a],d.userImage&&d.userImage.onRemove&&d.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(a,d){let m=!0;if(!this.isLoaded())for(const v of a)this.images[v]||(m=!1);this.isLoaded()||m?this._notify(a,d):this.requestors.push({ids:a,callback:d})}_notify(a,d){const m={};for(const v of a){let w=this.getImage(v);w||(this.fire(new o.k("styleimagemissing",{id:v})),w=this.getImage(v)),w?m[v]={data:w.data.clone(),pixelRatio:w.pixelRatio,sdf:w.sdf,version:w.version,stretchX:w.stretchX,stretchY:w.stretchY,content:w.content,hasRenderCallback:!!(w.userImage&&w.userImage.render)}:o.w(`Image "${v}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}d(null,m)}getPixelSize(){const{width:a,height:d}=this.atlasImage;return{width:a,height:d}}getPattern(a){const d=this.patterns[a],m=this.getImage(a);if(!m)return null;if(d&&d.position.version===m.version)return d.position;if(d)d.position.version=m.version;else{const v={w:m.data.width+2,h:m.data.height+2,x:0,y:0},w=new o.I(v,m);this.patterns[a]={bin:v,position:w}}return this._updatePatternAtlas(),this.patterns[a].position}bind(a){const d=a.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new Z(a,this.atlasImage,d.RGBA),this.atlasTexture.bind(d.LINEAR,d.CLAMP_TO_EDGE)}_updatePatternAtlas(){const a=[];for(const w in this.patterns)a.push(this.patterns[w].bin);const{w:d,h:m}=o.p(a),v=this.atlasImage;v.resize({width:d||1,height:m||1});for(const w in this.patterns){const{bin:E}=this.patterns[w],P=E.x+1,M=E.y+1,z=this.getImage(w).data,N=z.width,U=z.height;o.R.copy(z,v,{x:0,y:0},{x:P,y:M},{width:N,height:U}),o.R.copy(z,v,{x:0,y:U-1},{x:P,y:M-1},{width:N,height:1}),o.R.copy(z,v,{x:0,y:0},{x:P,y:M+U},{width:N,height:1}),o.R.copy(z,v,{x:N-1,y:0},{x:P-1,y:M},{width:1,height:U}),o.R.copy(z,v,{x:0,y:0},{x:P+N,y:M},{width:1,height:U})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(a){for(const d of a){if(this.callbackDispatchedThisFrame[d])continue;this.callbackDispatchedThisFrame[d]=!0;const m=this.getImage(d);m||o.w(`Image with ID: "${d}" was not found`),ae(m)&&this.updateImage(d,m)}}}const be=1e20;function me(_,a,d,m,v,w,E,P,M){for(let z=a;z<a+m;z++)Pe(_,d*w+z,w,v,E,P,M);for(let z=d;z<d+v;z++)Pe(_,z*w+a,1,m,E,P,M)}function Pe(_,a,d,m,v,w,E){w[0]=0,E[0]=-be,E[1]=be,v[0]=_[a];for(let P=1,M=0,z=0;P<m;P++){v[P]=_[a+P*d];const N=P*P;do{const U=w[M];z=(v[P]-v[U]+N-U*U)/(P-U)/2}while(z<=E[M]&&--M>-1);M++,w[M]=P,E[M]=z,E[M+1]=be}for(let P=0,M=0;P<m;P++){for(;E[M+1]<P;)M++;const z=w[M],N=P-z;_[a+P*d]=v[z]+N*N}}class Ae{constructor(a,d){this.requestManager=a,this.localIdeographFontFamily=d,this.entries={}}setURL(a){this.url=a}getGlyphs(a,d){const m=[];for(const v in a)for(const w of a[v])m.push({stack:v,id:w});o.o(m,({stack:v,id:w},E)=>{let P=this.entries[v];P||(P=this.entries[v]={glyphs:{},requests:{},ranges:{}});let M=P.glyphs[w];if(M!==void 0)return void E(null,{stack:v,id:w,glyph:M});if(M=this._tinySDF(P,v,w),M)return P.glyphs[w]=M,void E(null,{stack:v,id:w,glyph:M});const z=Math.floor(w/256);if(256*z>65535)return void E(new Error("glyphs > 65535 not supported"));if(P.ranges[z])return void E(null,{stack:v,id:w,glyph:M});if(!this.url)return void E(new Error("glyphsUrl is not set"));let N=P.requests[z];N||(N=P.requests[z]=[],Ae.loadGlyphRange(v,z,this.url,this.requestManager,(U,X)=>{if(X){for(const he in X)this._doesCharSupportLocalGlyph(+he)||(P.glyphs[+he]=X[+he]);P.ranges[z]=!0}for(const he of N)he(U,X);delete P.requests[z]})),N.push((U,X)=>{U?E(U):X&&E(null,{stack:v,id:w,glyph:X[w]||null})})},(v,w)=>{if(v)d(v);else if(w){const E={};for(const{stack:P,id:M,glyph:z}of w)(E[P]||(E[P]={}))[M]=z&&{id:z.id,bitmap:z.bitmap.clone(),metrics:z.metrics};d(null,E)}})}_doesCharSupportLocalGlyph(a){return!!this.localIdeographFontFamily&&(o.u["CJK Unified Ideographs"](a)||o.u["Hangul Syllables"](a)||o.u.Hiragana(a)||o.u.Katakana(a))}_tinySDF(a,d,m){const v=this.localIdeographFontFamily;if(!v||!this._doesCharSupportLocalGlyph(m))return;let w=a.tinySDF;if(!w){let P="400";/bold/i.test(d)?P="900":/medium/i.test(d)?P="500":/light/i.test(d)&&(P="200"),w=a.tinySDF=new Ae.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:v,fontWeight:P})}const E=w.draw(String.fromCharCode(m));return{id:m,bitmap:new o.q({width:E.width||60,height:E.height||60},E.data),metrics:{width:E.glyphWidth/2||24,height:E.glyphHeight/2||24,left:E.glyphLeft/2+.5||0,top:E.glyphTop/2-27.5||-8,advance:E.glyphAdvance/2||24,isDoubleResolution:!0}}}}Ae.loadGlyphRange=function(_,a,d,m,v){const w=256*a,E=w+255,P=m.transformRequest(d.replace("{fontstack}",_).replace("{range}",`${w}-${E}`),B.Glyphs);o.l(P,(M,z)=>{if(M)v(M);else if(z){const N={};for(const U of o.n(z))N[U.id]=U;v(null,N)}})},Ae.TinySDF=class{constructor({fontSize:_=24,buffer:a=3,radius:d=8,cutoff:m=.25,fontFamily:v="sans-serif",fontWeight:w="normal",fontStyle:E="normal"}={}){this.buffer=a,this.cutoff=m,this.radius=d;const P=this.size=_+4*a,M=this._createCanvas(P),z=this.ctx=M.getContext("2d",{willReadFrequently:!0});z.font=`${E} ${w} ${_}px ${v}`,z.textBaseline="alphabetic",z.textAlign="left",z.fillStyle="black",this.gridOuter=new Float64Array(P*P),this.gridInner=new Float64Array(P*P),this.f=new Float64Array(P),this.z=new Float64Array(P+1),this.v=new Uint16Array(P)}_createCanvas(_){const a=document.createElement("canvas");return a.width=a.height=_,a}draw(_){const{width:a,actualBoundingBoxAscent:d,actualBoundingBoxDescent:m,actualBoundingBoxLeft:v,actualBoundingBoxRight:w}=this.ctx.measureText(_),E=Math.ceil(d),P=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(w-v))),M=Math.min(this.size-this.buffer,E+Math.ceil(m)),z=P+2*this.buffer,N=M+2*this.buffer,U=Math.max(z*N,0),X=new Uint8ClampedArray(U),he={data:X,width:z,height:N,glyphWidth:P,glyphHeight:M,glyphTop:E,glyphLeft:0,glyphAdvance:a};if(P===0||M===0)return he;const{ctx:de,buffer:ge,gridInner:ce,gridOuter:De}=this;de.clearRect(ge,ge,P,M),de.fillText(_,ge,ge+E);const He=de.getImageData(ge,ge,P,M);De.fill(be,0,U),ce.fill(0,0,U);for(let xe=0;xe<M;xe++)for(let Le=0;Le<P;Le++){const Ye=He.data[4*(xe*P+Le)+3]/255;if(Ye===0)continue;const Ke=(xe+ge)*z+Le+ge;if(Ye===1)De[Ke]=0,ce[Ke]=be;else{const st=.5-Ye;De[Ke]=st>0?st*st:0,ce[Ke]=st<0?st*st:0}}me(De,0,0,z,N,z,this.f,this.v,this.z),me(ce,ge,ge,P,M,z,this.f,this.v,this.z);for(let xe=0;xe<U;xe++){const Le=Math.sqrt(De[xe])-Math.sqrt(ce[xe]);X[xe]=Math.round(255-255*(Le/this.radius+this.cutoff))}return he}};class Ue{constructor(){this.specification=o.v.light.position}possiblyEvaluate(a,d){return o.z(a.expression.evaluate(d))}interpolate(a,d,m){return{x:o.B.number(a.x,d.x,m),y:o.B.number(a.y,d.y,m),z:o.B.number(a.z,d.z,m)}}}let Fe;class Ce extends o.E{constructor(a){super(),Fe=Fe||new o.r({anchor:new o.D(o.v.light.anchor),position:new Ue,color:new o.D(o.v.light.color),intensity:new o.D(o.v.light.intensity)}),this._transitionable=new o.T(Fe),this.setLight(a),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(a,d={}){if(!this._validate(o.t,a,d))for(const m in a){const v=a[m];m.endsWith("-transition")?this._transitionable.setTransition(m.slice(0,-11),v):this._transitionable.setValue(m,v)}}updateTransitions(a){this._transitioning=this._transitionable.transitioned(a,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(a){this.properties=this._transitioning.possiblyEvaluate(a)}_validate(a,d,m){return(!m||m.validate!==!1)&&o.x(this,a.call(o.y,o.e({value:d,style:{glyphs:!0,sprite:!0},styleSpec:o.v})))}}class Ve{constructor(a,d){this.width=a,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(a,d){const m=a.join(",")+String(d);return this.dashEntry[m]||(this.dashEntry[m]=this.addDash(a,d)),this.dashEntry[m]}getDashRanges(a,d,m){const v=[];let w=a.length%2==1?-a[a.length-1]*m:0,E=a[0]*m,P=!0;v.push({left:w,right:E,isDash:P,zeroLength:a[0]===0});let M=a[0];for(let z=1;z<a.length;z++){P=!P;const N=a[z];w=M*m,M+=N,E=M*m,v.push({left:w,right:E,isDash:P,zeroLength:N===0})}return v}addRoundDash(a,d,m){const v=d/2;for(let w=-m;w<=m;w++){const E=this.width*(this.nextRow+m+w);let P=0,M=a[P];for(let z=0;z<this.width;z++){z/M.right>1&&(M=a[++P]);const N=Math.abs(z-M.left),U=Math.abs(z-M.right),X=Math.min(N,U);let he;const de=w/m*(v+1);if(M.isDash){const ge=v-Math.abs(de);he=Math.sqrt(X*X+ge*ge)}else he=v-Math.sqrt(X*X+de*de);this.data[E+z]=Math.max(0,Math.min(255,he+128))}}}addRegularDash(a){for(let P=a.length-1;P>=0;--P){const M=a[P],z=a[P+1];M.zeroLength?a.splice(P,1):z&&z.isDash===M.isDash&&(z.left=M.left,a.splice(P,1))}const d=a[0],m=a[a.length-1];d.isDash===m.isDash&&(d.left=m.left-this.width,m.right=d.right+this.width);const v=this.width*this.nextRow;let w=0,E=a[w];for(let P=0;P<this.width;P++){P/E.right>1&&(E=a[++w]);const M=Math.abs(P-E.left),z=Math.abs(P-E.right),N=Math.min(M,z);this.data[v+P]=Math.max(0,Math.min(255,(E.isDash?N:-N)+128))}}addDash(a,d){const m=d?7:0,v=2*m+1;if(this.nextRow+v>this.height)return o.w("LineAtlas out of space"),null;let w=0;for(let P=0;P<a.length;P++)w+=a[P];if(w!==0){const P=this.width/w,M=this.getDashRanges(a,this.width,P);d?this.addRoundDash(M,P,m):this.addRegularDash(M)}const E={y:(this.nextRow+m+.5)/this.height,height:2*m/this.height,width:w};return this.nextRow+=v,this.dirty=!0,E}bind(a){const d=a.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))}}class $e{constructor(a,d,m){this.workerPool=a,this.actors=[],this.currentActor=0,this.id=m;const v=this.workerPool.acquire(m);for(let w=0;w<v.length;w++){const E=new o.C(v[w],d,m);E.name=`Worker ${w}`,this.actors.push(E)}if(!this.actors.length)throw new Error("No actors found")}broadcast(a,d,m){o.o(this.actors,(v,w)=>{v.send(a,d,w)},m=m||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(a=!0){this.actors.forEach(d=>{d.remove()}),this.actors=[],a&&this.workerPool.release(this.id)}}function qe(_,a,d){const m=function(v,w){if(v)return d(v);if(w){const E=o.F(o.e(w,_),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);w.vector_layers&&(E.vectorLayers=w.vector_layers,E.vectorLayerIds=E.vectorLayers.map(P=>P.id)),d(null,E)}};return _.url?o.f(a.transformRequest(_.url,B.Source),m):o.h.frame(()=>m(null,_))}class gt{constructor(a,d){a&&(d?this.setSouthWest(a).setNorthEast(d):Array.isArray(a)&&(a.length===4?this.setSouthWest([a[0],a[1]]).setNorthEast([a[2],a[3]]):this.setSouthWest(a[0]).setNorthEast(a[1])))}setNorthEast(a){return this._ne=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}setSouthWest(a){return this._sw=a instanceof o.L?new o.L(a.lng,a.lat):o.L.convert(a),this}extend(a){const d=this._sw,m=this._ne;let v,w;if(a instanceof o.L)v=a,w=a;else{if(!(a instanceof gt))return Array.isArray(a)?a.length===4||a.every(Array.isArray)?this.extend(gt.convert(a)):this.extend(o.L.convert(a)):a&&("lng"in a||"lon"in a)&&"lat"in a?this.extend(o.L.convert(a)):this;if(v=a._sw,w=a._ne,!v||!w)return this}return d||m?(d.lng=Math.min(v.lng,d.lng),d.lat=Math.min(v.lat,d.lat),m.lng=Math.max(w.lng,m.lng),m.lat=Math.max(w.lat,m.lat)):(this._sw=new o.L(v.lng,v.lat),this._ne=new o.L(w.lng,w.lat)),this}getCenter(){return new o.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new o.L(this.getWest(),this.getNorth())}getSouthEast(){return new o.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(a){const{lng:d,lat:m}=o.L.convert(a);let v=this._sw.lng<=d&&d<=this._ne.lng;return this._sw.lng>this._ne.lng&&(v=this._sw.lng>=d&&d>=this._ne.lng),this._sw.lat<=m&&m<=this._ne.lat&&v}static convert(a){return a instanceof gt?a:a&&new gt(a)}static fromLngLat(a,d=0){const m=360*d/40075017,v=m/Math.cos(Math.PI/180*a.lat);return new gt(new o.L(a.lng-v,a.lat-m),new o.L(a.lng+v,a.lat+m))}}class Ct{constructor(a,d,m){this.bounds=gt.convert(this.validateBounds(a)),this.minzoom=d||0,this.maxzoom=m||24}validateBounds(a){return Array.isArray(a)&&a.length===4?[Math.max(-180,a[0]),Math.max(-90,a[1]),Math.min(180,a[2]),Math.min(90,a[3])]:[-180,-90,180,90]}contains(a){const d=Math.pow(2,a.z),m=Math.floor(o.G(this.bounds.getWest())*d),v=Math.floor(o.H(this.bounds.getNorth())*d),w=Math.ceil(o.G(this.bounds.getEast())*d),E=Math.ceil(o.H(this.bounds.getSouth())*d);return a.x>=m&&a.x<w&&a.y>=v&&a.y<E}}class $t extends o.E{constructor(a,d,m,v){if(super(),this.load=()=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=qe(this._options,this.map._requestManager,(w,E)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),w?this.fire(new o.j(w)):E&&(o.e(this,E),E.bounds&&(this.tileBounds=new Ct(E.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})},this.serialize=()=>o.e({},this._options),this.id=a,this.dispatcher=m,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,o.e(this,o.F(d,["url","scheme","tileSize","promoteId"])),this._options=o.e({type:"vector"},d),this._collectResourceTiming=d.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(v)}loaded(){return this._loaded}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}onAdd(a){this.map=a,this.load()}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}setUrl(a){return this.setSourceProperty(()=>{this.url=a,this._options.url=a}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v={request:this.map._requestManager.transformRequest(m,B.Tile),uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,tileSize:this.tileSize*a.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function w(E,P){return delete a.request,a.aborted?d(null):E&&E.status!==404?d(E):(P&&P.resourceTiming&&(a.resourceTiming=P.resourceTiming),this.map._refreshExpiredTiles&&P&&a.setExpiryData(P),a.loadVectorData(P,this.map.painter),d(null),void(a.reloadCallback&&(this.loadTile(a,a.reloadCallback),a.reloadCallback=null)))}v.request.collectResourceTiming=this._collectResourceTiming,a.actor&&a.state!=="expired"?a.state==="loading"?a.reloadCallback=d:a.request=a.actor.send("reloadTile",v,w.bind(this)):(a.actor=this.dispatcher.getActor(),a.request=a.actor.send("loadTile",v,w.bind(this)))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.actor&&a.actor.send("abortTile",{uid:a.uid,type:this.type,source:this.id},void 0)}unloadTile(a){a.unloadVectorData(),a.actor&&a.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class vt extends o.E{constructor(a,d,m,v){super(),this.id=a,this.dispatcher=m,this.setEventedParent(v),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=o.e({type:"raster"},d),o.e(this,o.F(d,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this._tileJSONRequest=qe(this._options,this.map._requestManager,(a,d)=>{this._tileJSONRequest=null,this._loaded=!0,a?this.fire(new o.j(a)):d&&(o.e(this,d),d.bounds&&(this.tileBounds=new Ct(d.bounds,this.minzoom,this.maxzoom)),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(a){this.map=a,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(a){this._tileJSONRequest&&this._tileJSONRequest.cancel(),a(),this.load()}setTiles(a){return this.setSourceProperty(()=>{this._options.tiles=a}),this}serialize(){return o.e({},this._options)}hasTile(a){return!this.tileBounds||this.tileBounds.contains(a.canonical)}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);a.request=O.getImage(this.map._requestManager.transformRequest(m,B.Tile),(v,w,E)=>{if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(v)a.state="errored",d(v);else if(w){this.map._refreshExpiredTiles&&E&&a.setExpiryData(E);const P=this.map.painter.context,M=P.gl;a.texture=this.map.painter.getTileTexture(w.width),a.texture?a.texture.update(w,{useMipmap:!0}):(a.texture=new Z(P,w,M.RGBA,{useMipmap:!0}),a.texture.bind(M.LINEAR,M.CLAMP_TO_EDGE,M.LINEAR_MIPMAP_NEAREST),P.extTextureFilterAnisotropic&&M.texParameterf(M.TEXTURE_2D,P.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,P.extTextureFilterAnisotropicMax)),a.state="loaded",d(null)}},this.map._refreshExpiredTiles)}abortTile(a,d){a.request&&(a.request.cancel(),delete a.request),d()}unloadTile(a,d){a.texture&&this.map.painter.saveTileTexture(a.texture),d()}hasTransition(){return!1}}class Ne extends vt{constructor(a,d,m,v){super(a,d,m,v),this.type="raster-dem",this.maxzoom=22,this._options=o.e({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox",this.redFactor=d.redFactor,this.greenFactor=d.greenFactor,this.blueFactor=d.blueFactor,this.baseShift=d.baseShift}loadTile(a,d){const m=a.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),v=this.map._requestManager.transformRequest(m,B.Tile);function w(E,P){E&&(a.state="errored",d(E)),P&&(a.dem=P,a.needsHillshadePrepare=!0,a.needsTerrainPrepare=!0,a.state="loaded",d(null))}a.neighboringTiles=this._getNeighboringTiles(a.tileID),a.request=O.getImage(v,(E,P,M)=>o._(this,void 0,void 0,function*(){if(delete a.request,a.aborted)a.state="unloaded",d(null);else if(E)a.state="errored",d(E);else if(P){this.map._refreshExpiredTiles&&a.setExpiryData(M);const z=o.a(P)&&o.J()?P:yield function(U){return o._(this,void 0,void 0,function*(){if(typeof VideoFrame<"u"&&o.K()){const X=U.width+2,he=U.height+2;try{return new o.R({width:X,height:he},yield o.M(U,-1,-1,X,he))}catch{}}return o.h.getImageData(U,1)})}(P),N={uid:a.uid,coord:a.tileID,source:this.id,rawImageData:z,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};a.actor&&a.state!=="expired"||(a.actor=this.dispatcher.getActor(),a.actor.send("loadDEMTile",N,w))}}),this.map._refreshExpiredTiles)}_getNeighboringTiles(a){const d=a.canonical,m=Math.pow(2,d.z),v=(d.x-1+m)%m,w=d.x===0?a.wrap-1:a.wrap,E=(d.x+1+m)%m,P=d.x+1===m?a.wrap+1:a.wrap,M={};return M[new o.O(a.overscaledZ,w,d.z,v,d.y).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y).key]={backfilled:!1},d.y>0&&(M[new o.O(a.overscaledZ,w,d.z,v,d.y-1).key]={backfilled:!1},M[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y-1).key]={backfilled:!1}),d.y+1<m&&(M[new o.O(a.overscaledZ,w,d.z,v,d.y+1).key]={backfilled:!1},M[new o.O(a.overscaledZ,a.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},M[new o.O(a.overscaledZ,P,d.z,E,d.y+1).key]={backfilled:!1}),M}unloadTile(a){a.demTexture&&this.map.painter.saveTileTexture(a.demTexture),a.fbo&&(a.fbo.destroy(),delete a.fbo),a.dem&&delete a.dem,delete a.neighboringTiles,a.state="unloaded",a.actor&&a.actor.send("removeDEMTile",{uid:a.uid,source:this.id})}}class et extends o.E{constructor(a,d,m,v){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>o.e({},this._options,{type:this.type,data:this._data}),this.id=a,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=m.getActor(),this.setEventedParent(v),this._data=d.data,this._options=o.e({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const w=o.N/this.tileSize;this.workerOptions=o.e({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*w,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*w,extent:o.N,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:o.N,radius:(d.clusterRadius||50)*w,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}onAdd(a){this.map=a,this.load()}setData(a){return this._data=a,this._updateWorkerData(),this}updateData(a){return this._updateWorkerData(a),this}setClusterOptions(a){return this.workerOptions.cluster=a.cluster,a&&(a.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=a.clusterRadius),a.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=a.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(a,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:a,source:this.id},d),this}getClusterChildren(a,d){return this.actor.send("geojson.getClusterChildren",{clusterId:a,source:this.id},d),this}getClusterLeaves(a,d,m,v){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:a,limit:d,offset:m},v),this}_updateWorkerData(a){const d=o.e({},this.workerOptions);a?d.dataDiff=a:typeof this._data=="string"?(d.request=this.map._requestManager.transformRequest(o.h.resolveURL(this._data),B.Source),d.request.collectResourceTiming=this._collectResourceTiming):d.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new o.k("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,d,(m,v)=>{if(this._pendingLoads--,this._removed||v&&v.abandoned)return void this.fire(new o.k("dataabort",{dataType:"source"}));let w=null;if(v&&v.resourceTiming&&v.resourceTiming[this.id]&&(w=v.resourceTiming[this.id].slice(0)),m)return void this.fire(new o.j(m));const E={dataType:"source"};this._collectResourceTiming&&w&&w.length>0&&o.e(E,{resourceTiming:w}),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"metadata"}))),this.fire(new o.k("data",Object.assign(Object.assign({},E),{sourceDataType:"content"})))})}loaded(){return this._pendingLoads===0}loadTile(a,d){const m=a.actor?"reloadTile":"loadTile";a.actor=this.actor;const v={type:this.type,uid:a.uid,tileID:a.tileID,zoom:a.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};a.request=this.actor.send(m,v,(w,E)=>(delete a.request,a.unloadVectorData(),a.aborted?d(null):w?d(w):(a.loadVectorData(E,this.map.painter,m==="reloadTile"),d(null))))}abortTile(a){a.request&&(a.request.cancel(),delete a.request),a.aborted=!0}unloadTile(a){a.unloadVectorData(),this.actor.send("removeTile",{uid:a.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var je=o.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Qe extends o.E{constructor(a,d,m,v){super(),this.load=(w,E)=>{this._loaded=!1,this.fire(new o.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=O.getImage(this.map._requestManager.transformRequest(this.url,B.Image),(P,M)=>{this._request=null,this._loaded=!0,P?this.fire(new o.j(P)):M&&(this.image=M,w&&(this.coordinates=w),E&&E(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||!this.image)return;const w=this.map.painter.context,E=w.gl;this.boundsBuffer||(this.boundsBuffer=w.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new Z(w,this.image,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const M in this.tiles){const z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=a,this.dispatcher=m,this.coordinates=d.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(v),this.options=d}loaded(){return this._loaded}updateImage(a){return a.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=a.url,this.load(a.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new o.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(a){this.map=a,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(a){this.coordinates=a;const d=a.map(o.U.fromLngLat);this.tileID=function(v){let w=1/0,E=1/0,P=-1/0,M=-1/0;for(const X of v)w=Math.min(w,X.x),E=Math.min(E,X.y),P=Math.max(P,X.x),M=Math.max(M,X.y);const z=Math.max(P-w,M-E),N=Math.max(0,Math.floor(-Math.log(z)/Math.LN2)),U=Math.pow(2,N);return new o.W(N,Math.floor((w+P)/2*U),Math.floor((E+M)/2*U))}(d),this.minzoom=this.maxzoom=this.tileID.z;const m=d.map(v=>this.tileID.getTilePoint(v)._round());return this._boundsArray=new o.V,this._boundsArray.emplaceBack(m[0].x,m[0].y,0,0),this._boundsArray.emplaceBack(m[1].x,m[1].y,o.N,0),this._boundsArray.emplaceBack(m[3].x,m[3].y,0,o.N),this._boundsArray.emplaceBack(m[2].x,m[2].y,o.N,o.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new o.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(a,d){this.tileID&&this.tileID.equals(a.tileID.canonical)?(this.tiles[String(a.tileID.wrap)]=a,a.buckets={},d(null)):(a.state="errored",d(null))}hasTransition(){return!1}}class Je extends Qe{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!1;const w=this.options;this.urls=[];for(const E of w.urls)this.urls.push(this.map._requestManager.transformRequest(E,B.Source).url);o.X(this.urls,(E,P)=>{this._loaded=!0,E?this.fire(new o.j(E)):P&&(this.video=P,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})},this.prepare=()=>{if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const w=this.map.painter.context,E=w.gl;this.boundsBuffer||(this.boundsBuffer=w.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE),E.texSubImage2D(E.TEXTURE_2D,0,0,0,E.RGBA,E.UNSIGNED_BYTE,this.video)):(this.texture=new Z(w,this.video,E.RGBA),this.texture.bind(E.LINEAR,E.CLAMP_TO_EDGE));let P=!1;for(const M in this.tiles){const z=this.tiles[M];z.state!=="loaded"&&(z.state="loaded",z.texture=this.texture,P=!0)}P&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=d}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(a){if(this.video){const d=this.video.seekable;a<d.start(0)||a>d.end(0)?this.fire(new o.j(new o.Y(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=a}}getVideo(){return this.video}onAdd(a){this.map||(this.map=a,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class It extends Qe{constructor(a,d,m,v){super(a,d,m,v),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new o.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let w=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,w=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,w=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const E=this.map.painter.context,P=E.gl;this.boundsBuffer||(this.boundsBuffer=E.createVertexBuffer(this._boundsArray,je.members)),this.boundsSegments||(this.boundsSegments=o.S.simpleSegment(0,0,4,2)),this.texture?(w||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new Z(E,this.canvas,P.RGBA,{premultiply:!0});let M=!1;for(const z in this.tiles){const N=this.tiles[z];N.state!=="loaded"&&(N.state="loaded",N.texture=this.texture,M=!0)}M&&this.fire(new o.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(w=>!Array.isArray(w)||w.length!==2||w.some(E=>typeof E!="number"))||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new o.j(new o.Y(`sources.${a}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof HTMLCanvasElement||this.fire(new o.j(new o.Y(`sources.${a}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new o.j(new o.Y(`sources.${a}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}getCanvas(){return this.canvas}onAdd(a){this.map=a,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const a of[this.canvas.width,this.canvas.height])if(isNaN(a)||a<=0)return!0;return!1}}const se={},fe=_=>{switch(_){case"geojson":return et;case"image":return Qe;case"raster":return vt;case"raster-dem":return Ne;case"vector":return $t;case"video":return Je;case"canvas":return It}return se[_]};function Me(_,a){const d=o.Z();return o.$(d,d,[1,1,0]),o.a0(d,d,[.5*_.width,.5*_.height,1]),o.a1(d,d,_.calculatePosMatrix(a.toUnwrapped()))}function Xe(_,a,d,m,v,w){const E=function(U,X,he){if(U)for(const de of U){const ge=X[de];if(ge&&ge.source===he&&ge.type==="fill-extrusion")return!0}else for(const de in X){const ge=X[de];if(ge.source===he&&ge.type==="fill-extrusion")return!0}return!1}(v&&v.layers,a,_.id),P=w.maxPitchScaleFactor(),M=_.tilesIn(m,P,E);M.sort(Ze);const z=[];for(const U of M)z.push({wrappedTileID:U.tileID.wrapped().key,queryResults:U.tile.queryRenderedFeatures(a,d,_._state,U.queryGeometry,U.cameraQueryGeometry,U.scale,v,w,P,Me(_.transform,U.tileID))});const N=function(U){const X={},he={};for(const de of U){const ge=de.queryResults,ce=de.wrappedTileID,De=he[ce]=he[ce]||{};for(const He in ge){const xe=ge[He],Le=De[He]=De[He]||{},Ye=X[He]=X[He]||[];for(const Ke of xe)Le[Ke.featureIndex]||(Le[Ke.featureIndex]=!0,Ye.push(Ke))}}return X}(z);for(const U in N)N[U].forEach(X=>{const he=X.feature,de=_.getFeatureState(he.layer["source-layer"],he.id);he.source=he.layer.source,he.layer["source-layer"]&&(he.sourceLayer=he.layer["source-layer"]),he.state=de});return N}function Ze(_,a){const d=_.tileID,m=a.tileID;return d.overscaledZ-m.overscaledZ||d.canonical.y-m.canonical.y||d.wrap-m.wrap||d.canonical.x-m.canonical.x}class tt{constructor(a,d){this.timeAdded=0,this.fadeEndTime=0,this.tileID=a,this.uid=o.a2(),this.uses=0,this.tileSize=d,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(a){const d=a+this.timeAdded;d<this.fadeEndTime||(this.fadeEndTime=d)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(a){this.demTexture&&a.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(a,d,m){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",a){a.featureIndex&&(this.latestFeatureIndex=a.featureIndex,a.rawTileData?(this.latestRawTileData=a.rawTileData,this.latestFeatureIndex.rawTileData=a.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=a.collisionBoxArray,this.buckets=function(v,w){const E={};if(!w)return E;for(const P of v){const M=P.layerIds.map(z=>w.getLayer(z)).filter(Boolean);if(M.length!==0){P.layers=M,P.stateDependentLayerIds&&(P.stateDependentLayers=P.stateDependentLayerIds.map(z=>M.filter(N=>N.id===z)[0]));for(const z of M)E[z.id]=P}}return E}(a.buckets,d.style),this.hasSymbolBuckets=!1;for(const v in this.buckets){const w=this.buckets[v];if(w instanceof o.a4){if(this.hasSymbolBuckets=!0,!m)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const v in this.buckets){const w=this.buckets[v];if(w instanceof o.a4&&w.hasRTLText){this.hasRTLText=!0,o.a5();break}}this.queryPadding=0;for(const v in this.buckets){const w=this.buckets[v];this.queryPadding=Math.max(this.queryPadding,d.style.getLayer(v).queryRadius(w))}a.imageAtlas&&(this.imageAtlas=a.imageAtlas),a.glyphAtlasImage&&(this.glyphAtlasImage=a.glyphAtlasImage)}else this.collisionBoxArray=new o.a3}unloadVectorData(){for(const a in this.buckets)this.buckets[a].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(a){return this.buckets[a.id]}upload(a){for(const m in this.buckets){const v=this.buckets[m];v.uploadPending()&&v.upload(a)}const d=a.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Z(a,this.imageAtlas.image,d.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Z(a,this.glyphAtlasImage,d.ALPHA),this.glyphAtlasImage=null)}prepare(a){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(a,this.imageAtlasTexture)}queryRenderedFeatures(a,d,m,v,w,E,P,M,z,N){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:v,cameraQueryGeometry:w,scale:E,tileSize:this.tileSize,pixelPosMatrix:N,transform:M,params:P,queryPadding:this.queryPadding*z},a,d,m):{}}querySourceFeatures(a,d){const m=this.latestFeatureIndex;if(!m||!m.rawTileData)return;const v=m.loadVTLayers(),w=d&&d.sourceLayer?d.sourceLayer:"",E=v._geojsonTileLayer||v[w];if(!E)return;const P=o.a6(d&&d.filter),{z:M,x:z,y:N}=this.tileID.canonical,U={z:M,x:z,y:N};for(let X=0;X<E.length;X++){const he=E.feature(X);if(P.needGeometry){const ce=o.a7(he,!0);if(!P.filter(new o.a8(this.tileID.overscaledZ),ce,this.tileID.canonical))continue}else if(!P.filter(new o.a8(this.tileID.overscaledZ),he))continue;const de=m.getId(he,w),ge=new o.a9(he,M,z,N,de);ge.tile=U,a.push(ge)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(a){const d=this.expirationTime;if(a.cacheControl){const m=o.aa(a.cacheControl);m["max-age"]&&(this.expirationTime=Date.now()+1e3*m["max-age"])}else a.expires&&(this.expirationTime=new Date(a.expires).getTime());if(this.expirationTime){const m=Date.now();let v=!1;if(this.expirationTime>m)v=!1;else if(d)if(this.expirationTime<d)v=!0;else{const w=this.expirationTime-d;w?this.expirationTime=m+Math.max(w,3e4):v=!0}else v=!0;v?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(a,d){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(a).length===0)return;const m=this.latestFeatureIndex.loadVTLayers();for(const v in this.buckets){if(!d.style.hasLayer(v))continue;const w=this.buckets[v],E=w.layers[0].sourceLayer||"_geojsonTileLayer",P=m[E],M=a[E];if(!P||!M||Object.keys(M).length===0)continue;w.update(M,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});const z=d&&d.style&&d.style.getLayer(v);z&&(this.queryPadding=Math.max(this.queryPadding,z.queryRadius(w)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<o.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(a){this.symbolFadeHoldUntil=o.h.now()+a}setDependencies(a,d){const m={};for(const v of d)m[v]=!0;this.dependencies[a]=m}hasDependency(a,d){for(const m of a){const v=this.dependencies[m];if(v){for(const w of d)if(v[w])return!0}}return!1}}class Tt{constructor(a,d){this.max=a,this.onRemove=d,this.reset()}reset(){for(const a in this.data)for(const d of this.data[a])d.timeout&&clearTimeout(d.timeout),this.onRemove(d.value);return this.data={},this.order=[],this}add(a,d,m){const v=a.wrapped().key;this.data[v]===void 0&&(this.data[v]=[]);const w={value:d,timeout:void 0};if(m!==void 0&&(w.timeout=setTimeout(()=>{this.remove(a,w)},m)),this.data[v].push(w),this.order.push(v),this.order.length>this.max){const E=this._getAndRemoveByKey(this.order[0]);E&&this.onRemove(E)}return this}has(a){return a.wrapped().key in this.data}getAndRemove(a){return this.has(a)?this._getAndRemoveByKey(a.wrapped().key):null}_getAndRemoveByKey(a){const d=this.data[a].shift();return d.timeout&&clearTimeout(d.timeout),this.data[a].length===0&&delete this.data[a],this.order.splice(this.order.indexOf(a),1),d.value}getByKey(a){const d=this.data[a];return d?d[0].value:null}get(a){return this.has(a)?this.data[a.wrapped().key][0].value:null}remove(a,d){if(!this.has(a))return this;const m=a.wrapped().key,v=d===void 0?0:this.data[m].indexOf(d),w=this.data[m][v];return this.data[m].splice(v,1),w.timeout&&clearTimeout(w.timeout),this.data[m].length===0&&delete this.data[m],this.onRemove(w.value),this.order.splice(this.order.indexOf(m),1),this}setMaxSize(a){for(this.max=a;this.order.length>this.max;){const d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this}filter(a){const d=[];for(const m in this.data)for(const v of this.data[m])a(v.value)||d.push(v);for(const m of d)this.remove(m.value.tileID,m)}}class ke{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(a,d,m){const v=String(d);if(this.stateChanges[a]=this.stateChanges[a]||{},this.stateChanges[a][v]=this.stateChanges[a][v]||{},o.e(this.stateChanges[a][v],m),this.deletedStates[a]===null){this.deletedStates[a]={};for(const w in this.state[a])w!==v&&(this.deletedStates[a][w]=null)}else if(this.deletedStates[a]&&this.deletedStates[a][v]===null){this.deletedStates[a][v]={};for(const w in this.state[a][v])m[w]||(this.deletedStates[a][v][w]=null)}else for(const w in m)this.deletedStates[a]&&this.deletedStates[a][v]&&this.deletedStates[a][v][w]===null&&delete this.deletedStates[a][v][w]}removeFeatureState(a,d,m){if(this.deletedStates[a]===null)return;const v=String(d);if(this.deletedStates[a]=this.deletedStates[a]||{},m&&d!==void 0)this.deletedStates[a][v]!==null&&(this.deletedStates[a][v]=this.deletedStates[a][v]||{},this.deletedStates[a][v][m]=null);else if(d!==void 0)if(this.stateChanges[a]&&this.stateChanges[a][v])for(m in this.deletedStates[a][v]={},this.stateChanges[a][v])this.deletedStates[a][v][m]=null;else this.deletedStates[a][v]=null;else this.deletedStates[a]=null}getState(a,d){const m=String(d),v=o.e({},(this.state[a]||{})[m],(this.stateChanges[a]||{})[m]);if(this.deletedStates[a]===null)return{};if(this.deletedStates[a]){const w=this.deletedStates[a][d];if(w===null)return{};for(const E in w)delete v[E]}return v}initializeTileState(a,d){a.setFeatureState(this.state,d)}coalesceChanges(a,d){const m={};for(const v in this.stateChanges){this.state[v]=this.state[v]||{};const w={};for(const E in this.stateChanges[v])this.state[v][E]||(this.state[v][E]={}),o.e(this.state[v][E],this.stateChanges[v][E]),w[E]=this.state[v][E];m[v]=w}for(const v in this.deletedStates){this.state[v]=this.state[v]||{};const w={};if(this.deletedStates[v]===null)for(const E in this.state[v])w[E]={},this.state[v][E]={};else for(const E in this.deletedStates[v]){if(this.deletedStates[v][E]===null)this.state[v][E]={};else for(const P of Object.keys(this.deletedStates[v][E]))delete this.state[v][E][P];w[E]=this.state[v][E]}m[v]=m[v]||{},o.e(m[v],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(m).length!==0)for(const v in a)a[v].setFeatureState(m,d)}}class yt extends o.E{constructor(a,d,m){super(),this.id=a,this.dispatcher=m,this.on("data",v=>{v.dataType==="source"&&v.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&v.dataType==="source"&&v.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)}),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((v,w,E,P)=>{const M=new(fe(w.type))(v,w,E,P);if(M.id!==v)throw new Error(`Expected Source id to be ${v} instead of ${M.id}`);return M})(a,d,m,this),this._tiles={},this._cache=new Tt(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new ke,this._didEmitContent=!1,this._updated=!1}onAdd(a){this.map=a,this._maxTileCacheSize=a?a._maxTileCacheSize:null,this._maxTileCacheZoomLevels=a?a._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(a)}onRemove(a){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(a)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const a in this._tiles){const d=this._tiles[a];if(d.state!=="loaded"&&d.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const a=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,a&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(a,d){return this._source.loadTile(a,d)}_unloadTile(a){if(this._source.unloadTile)return this._source.unloadTile(a,()=>{})}_abortTile(a){this._source.abortTile&&this._source.abortTile(a,()=>{}),this._source.fire(new o.k("dataabort",{tile:a,coord:a.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(a){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const d in this._tiles){const m=this._tiles[d];m.upload(a),m.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map(a=>a.tileID).sort(nt).map(a=>a.key)}getRenderableIds(a){const d=[];for(const m in this._tiles)this._isIdRenderable(m,a)&&d.push(this._tiles[m]);return a?d.sort((m,v)=>{const w=m.tileID,E=v.tileID,P=new o.P(w.canonical.x,w.canonical.y)._rotate(this.transform.angle),M=new o.P(E.canonical.x,E.canonical.y)._rotate(this.transform.angle);return w.overscaledZ-E.overscaledZ||M.y-P.y||M.x-P.x}).map(m=>m.tileID.key):d.map(m=>m.tileID).sort(nt).map(m=>m.key)}hasRenderableParent(a){const d=this.findLoadedParent(a,0);return!!d&&this._isIdRenderable(d.tileID.key)}_isIdRenderable(a,d){return this._tiles[a]&&this._tiles[a].hasData()&&!this._coveredTiles[a]&&(d||!this._tiles[a].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const a in this._tiles)this._tiles[a].state!=="errored"&&this._reloadTile(a,"reloading")}}_reloadTile(a,d){const m=this._tiles[a];m&&(m.state!=="loading"&&(m.state=d),this._loadTile(m,this._tileLoaded.bind(this,m,a,d)))}_tileLoaded(a,d,m,v){if(v)return a.state="errored",void(v.status!==404?this._source.fire(new o.j(v,{tile:a})):this.update(this.transform,this.terrain));a.timeAdded=o.h.now(),m==="expired"&&(a.refreshedUponExpiration=!0),this._setTileReloadTimer(d,a),this.getSource().type==="raster-dem"&&a.dem&&this._backfillDEM(a),this._state.initializeTileState(a,this.map?this.map.painter:null),a.aborted||this._source.fire(new o.k("data",{dataType:"source",tile:a,coord:a.tileID}))}_backfillDEM(a){const d=this.getRenderableIds();for(let v=0;v<d.length;v++){const w=d[v];if(a.neighboringTiles&&a.neighboringTiles[w]){const E=this.getTileByID(w);m(a,E),m(E,a)}}function m(v,w){v.needsHillshadePrepare=!0,v.needsTerrainPrepare=!0;let E=w.tileID.canonical.x-v.tileID.canonical.x;const P=w.tileID.canonical.y-v.tileID.canonical.y,M=Math.pow(2,v.tileID.canonical.z),z=w.tileID.key;E===0&&P===0||Math.abs(P)>1||(Math.abs(E)>1&&(Math.abs(E+M)===1?E+=M:Math.abs(E-M)===1&&(E-=M)),w.dem&&v.dem&&(v.dem.backfillBorder(w.dem,E,P),v.neighboringTiles&&v.neighboringTiles[z]&&(v.neighboringTiles[z].backfilled=!0)))}}getTile(a){return this.getTileByID(a.key)}getTileByID(a){return this._tiles[a]}_retainLoadedChildren(a,d,m,v){for(const w in this._tiles){let E=this._tiles[w];if(v[w]||!E.hasData()||E.tileID.overscaledZ<=d||E.tileID.overscaledZ>m)continue;let P=E.tileID;for(;E&&E.tileID.overscaledZ>d+1;){const z=E.tileID.scaledTo(E.tileID.overscaledZ-1);E=this._tiles[z.key],E&&E.hasData()&&(P=z)}let M=P;for(;M.overscaledZ>d;)if(M=M.scaledTo(M.overscaledZ-1),a[M.key]){v[P.key]=P;break}}}findLoadedParent(a,d){if(a.key in this._loadedParentTiles){const m=this._loadedParentTiles[a.key];return m&&m.tileID.overscaledZ>=d?m:null}for(let m=a.overscaledZ-1;m>=d;m--){const v=a.scaledTo(m),w=this._getLoadedTile(v);if(w)return w}}_getLoadedTile(a){const d=this._tiles[a.key];return d&&d.hasData()?d:this._cache.getByKey(a.wrapped().key)}updateCacheSize(a){const d=Math.ceil(a.width/this._source.tileSize)+1,m=Math.ceil(a.height/this._source.tileSize)+1,v=Math.floor(d*m*(this._maxTileCacheZoomLevels===null?o.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),w=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,v):v;this._cache.setMaxSize(w)}handleWrapJump(a){const d=Math.round((a-(this._prevLng===void 0?a:this._prevLng))/360);if(this._prevLng=a,d){const m={};for(const v in this._tiles){const w=this._tiles[v];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+d),m[w.tileID.key]=w}this._tiles=m;for(const v in this._timers)clearTimeout(this._timers[v]),delete this._timers[v];for(const v in this._tiles)this._setTileReloadTimer(v,this._tiles[v])}}update(a,d){if(this.transform=a,this.terrain=d,!this._sourceLoaded||this._paused)return;let m;this.updateCacheSize(a),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?m=a.getVisibleUnwrappedCoordinates(this._source.tileID).map(N=>new o.O(N.canonical.z,N.wrap,N.canonical.z,N.canonical.x,N.canonical.y)):(m=a.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:d}),this._source.hasTile&&(m=m.filter(N=>this._source.hasTile(N)))):m=[];const v=a.coveringZoomLevel(this._source),w=Math.max(v-yt.maxOverzooming,this._source.minzoom),E=Math.max(v+yt.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const N={};for(const U of m)if(U.canonical.z>this._source.minzoom){const X=U.scaledTo(U.canonical.z-1);N[X.key]=X;const he=U.scaledTo(Math.max(this._source.minzoom,Math.min(U.canonical.z,5)));N[he.key]=he}m=m.concat(Object.values(N))}const P=m.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,P&&this.fire(new o.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const M=this._updateRetainedTiles(m,v);if(St(this._source.type)){const N={},U={},X=Object.keys(M),he=o.h.now();for(const de of X){const ge=M[de],ce=this._tiles[de];if(!ce||ce.fadeEndTime!==0&&ce.fadeEndTime<=he)continue;const De=this.findLoadedParent(ge,w);De&&(this._addTile(De.tileID),N[De.tileID.key]=De.tileID),U[de]=ge}this._retainLoadedChildren(U,v,E,M);for(const de in N)M[de]||(this._coveredTiles[de]=!0,M[de]=N[de]);if(d){const de={},ge={};for(const ce of m)this._tiles[ce.key].hasData()?de[ce.key]=ce:ge[ce.key]=ce;for(const ce in ge){const De=ge[ce].children(this._source.maxzoom);this._tiles[De[0].key]&&this._tiles[De[1].key]&&this._tiles[De[2].key]&&this._tiles[De[3].key]&&(de[De[0].key]=M[De[0].key]=De[0],de[De[1].key]=M[De[1].key]=De[1],de[De[2].key]=M[De[2].key]=De[2],de[De[3].key]=M[De[3].key]=De[3],delete ge[ce])}for(const ce in ge){const De=this.findLoadedParent(ge[ce],this._source.minzoom);if(De){de[De.tileID.key]=M[De.tileID.key]=De.tileID;for(const He in de)de[He].isChildOf(De.tileID)&&delete de[He]}}for(const ce in this._tiles)de[ce]||(this._coveredTiles[ce]=!0)}}for(const N in M)this._tiles[N].clearFadeHold();const z=o.ab(this._tiles,M);for(const N of z){const U=this._tiles[N];U.hasSymbolBuckets&&!U.holdingForFade()?U.setHoldDuration(this.map._fadeDuration):U.hasSymbolBuckets&&!U.symbolFadeFinished()||this._removeTile(N)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const a in this._tiles)this._tiles[a].holdingForFade()&&this._removeTile(a)}_updateRetainedTiles(a,d){const m={},v={},w=Math.max(d-yt.maxOverzooming,this._source.minzoom),E=Math.max(d+yt.maxUnderzooming,this._source.minzoom),P={};for(const M of a){const z=this._addTile(M);m[M.key]=M,z.hasData()||d<this._source.maxzoom&&(P[M.key]=M)}this._retainLoadedChildren(P,d,E,m);for(const M of a){let z=this._tiles[M.key];if(z.hasData())continue;if(d+1>this._source.maxzoom){const U=M.children(this._source.maxzoom)[0],X=this.getTile(U);if(X&&X.hasData()){m[U.key]=U;continue}}else{const U=M.children(this._source.maxzoom);if(m[U[0].key]&&m[U[1].key]&&m[U[2].key]&&m[U[3].key])continue}let N=z.wasRequested();for(let U=M.overscaledZ-1;U>=w;--U){const X=M.scaledTo(U);if(v[X.key])break;if(v[X.key]=!0,z=this.getTile(X),!z&&N&&(z=this._addTile(X)),z){const he=z.hasData();if((N||he)&&(m[X.key]=X),N=z.wasRequested(),he)break}}}return m}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const a in this._tiles){const d=[];let m,v=this._tiles[a].tileID;for(;v.overscaledZ>0;){if(v.key in this._loadedParentTiles){m=this._loadedParentTiles[v.key];break}d.push(v.key);const w=v.scaledTo(v.overscaledZ-1);if(m=this._getLoadedTile(w),m)break;v=w}for(const w of d)this._loadedParentTiles[w]=m}}_addTile(a){let d=this._tiles[a.key];if(d)return d;d=this._cache.getAndRemove(a),d&&(this._setTileReloadTimer(a.key,d),d.tileID=a,this._state.initializeTileState(d,this.map?this.map.painter:null),this._cacheTimers[a.key]&&(clearTimeout(this._cacheTimers[a.key]),delete this._cacheTimers[a.key],this._setTileReloadTimer(a.key,d)));const m=d;return d||(d=new tt(a,this._source.tileSize*a.overscaleFactor()),this._loadTile(d,this._tileLoaded.bind(this,d,a.key,d.state))),d.uses++,this._tiles[a.key]=d,m||this._source.fire(new o.k("dataloading",{tile:d,coord:d.tileID,dataType:"source"})),d}_setTileReloadTimer(a,d){a in this._timers&&(clearTimeout(this._timers[a]),delete this._timers[a]);const m=d.getExpiryTimeout();m&&(this._timers[a]=setTimeout(()=>{this._reloadTile(a,"expired"),delete this._timers[a]},m))}_removeTile(a){const d=this._tiles[a];d&&(d.uses--,delete this._tiles[a],this._timers[a]&&(clearTimeout(this._timers[a]),delete this._timers[a]),d.uses>0||(d.hasData()&&d.state!=="reloading"?this._cache.add(d.tileID,d,d.getExpiryTimeout()):(d.aborted=!0,this._abortTile(d),this._unloadTile(d))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const a in this._tiles)this._removeTile(a);this._cache.reset()}tilesIn(a,d,m){const v=[],w=this.transform;if(!w)return v;const E=m?w.getCameraQueryGeometry(a):a,P=a.map(de=>w.pointCoordinate(de,this.terrain)),M=E.map(de=>w.pointCoordinate(de,this.terrain)),z=this.getIds();let N=1/0,U=1/0,X=-1/0,he=-1/0;for(const de of M)N=Math.min(N,de.x),U=Math.min(U,de.y),X=Math.max(X,de.x),he=Math.max(he,de.y);for(let de=0;de<z.length;de++){const ge=this._tiles[z[de]];if(ge.holdingForFade())continue;const ce=ge.tileID,De=Math.pow(2,w.zoom-ge.tileID.overscaledZ),He=d*ge.queryPadding*o.N/ge.tileSize/De,xe=[ce.getTilePoint(new o.U(N,U)),ce.getTilePoint(new o.U(X,he))];if(xe[0].x-He<o.N&&xe[0].y-He<o.N&&xe[1].x+He>=0&&xe[1].y+He>=0){const Le=P.map(Ke=>ce.getTilePoint(Ke)),Ye=M.map(Ke=>ce.getTilePoint(Ke));v.push({tile:ge,tileID:ce,queryGeometry:Le,cameraQueryGeometry:Ye,scale:De})}}return v}getVisibleCoordinates(a){const d=this.getRenderableIds(a).map(m=>this._tiles[m].tileID);for(const m of d)m.posMatrix=this.transform.calculatePosMatrix(m.toUnwrapped());return d}hasTransition(){if(this._source.hasTransition())return!0;if(St(this._source.type)){const a=o.h.now();for(const d in this._tiles)if(this._tiles[d].fadeEndTime>=a)return!0}return!1}setFeatureState(a,d,m){this._state.updateState(a=a||"_geojsonTileLayer",d,m)}removeFeatureState(a,d,m){this._state.removeFeatureState(a=a||"_geojsonTileLayer",d,m)}getFeatureState(a,d){return this._state.getState(a=a||"_geojsonTileLayer",d)}setDependencies(a,d,m){const v=this._tiles[a];v&&v.setDependencies(d,m)}reloadTilesForDependencies(a,d){for(const m in this._tiles)this._tiles[m].hasDependency(a,d)&&this._reloadTile(m,"reloading");this._cache.filter(m=>!m.hasDependency(a,d))}}function nt(_,a){const d=Math.abs(2*_.wrap)-+(_.wrap<0),m=Math.abs(2*a.wrap)-+(a.wrap<0);return _.overscaledZ-a.overscaledZ||m-d||a.canonical.y-_.canonical.y||a.canonical.x-_.canonical.x}function St(_){return _==="raster"||_==="image"||_==="video"}yt.maxOverzooming=10,yt.maxUnderzooming=3;const ft="mapboxgl_preloaded_worker_pool";class Pt{constructor(){this.active={}}acquire(a){if(!this.workers)for(this.workers=[];this.workers.length<Pt.workerCount;)this.workers.push(new Worker(o.c.WORKER_URL));return this.active[a]=!0,this.workers.slice()}release(a){delete this.active[a],this.numActive()===0&&(this.workers.forEach(d=>{d.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[ft]}numActive(){return Object.keys(this.active).length}}const sn=Math.floor(o.h.hardwareConcurrency/2);let cn;function Ln(){return cn||(cn=new Pt),cn}Pt.workerCount=o.ac(globalThis)?Math.max(Math.min(sn,3),1):1;class wn{constructor(a,d){this.reset(a,d)}reset(a,d){this.points=a||[],this._distances=[0];for(let m=1;m<this.points.length;m++)this._distances[m]=this._distances[m-1]+this.points[m].dist(this.points[m-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(a){if(this.points.length===1)return this.points[0];a=o.ad(a,0,1);let d=1,m=this._distances[d];const v=a*this.paddedLength+this.padding;for(;m<v&&d<this._distances.length;)m=this._distances[++d];const w=d-1,E=this._distances[w],P=m-E,M=P>0?(v-E)/P:0;return this.points[w].mult(1-M).add(this.points[d].mult(M))}}function er(_,a){let d=!0;return _==="always"||_!=="never"&&a!=="never"||(d=!1),d}class jn{constructor(a,d,m){const v=this.boxCells=[],w=this.circleCells=[];this.xCellCount=Math.ceil(a/m),this.yCellCount=Math.ceil(d/m);for(let E=0;E<this.xCellCount*this.yCellCount;E++)v.push([]),w.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=a,this.height=d,this.xScale=this.xCellCount/a,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(a,d,m,v,w){this._forEachCell(d,m,v,w,this._insertBoxCell,this.boxUid++),this.boxKeys.push(a),this.bboxes.push(d),this.bboxes.push(m),this.bboxes.push(v),this.bboxes.push(w)}insertCircle(a,d,m,v){this._forEachCell(d-v,m-v,d+v,m+v,this._insertCircleCell,this.circleUid++),this.circleKeys.push(a),this.circles.push(d),this.circles.push(m),this.circles.push(v)}_insertBoxCell(a,d,m,v,w,E){this.boxCells[w].push(E)}_insertCircleCell(a,d,m,v,w,E){this.circleCells[w].push(E)}_query(a,d,m,v,w,E,P){if(m<0||a>this.width||v<0||d>this.height)return[];const M=[];if(a<=0&&d<=0&&this.width<=m&&this.height<=v){if(w)return[{key:null,x1:a,y1:d,x2:m,y2:v}];for(let z=0;z<this.boxKeys.length;z++)M.push({key:this.boxKeys[z],x1:this.bboxes[4*z],y1:this.bboxes[4*z+1],x2:this.bboxes[4*z+2],y2:this.bboxes[4*z+3]});for(let z=0;z<this.circleKeys.length;z++){const N=this.circles[3*z],U=this.circles[3*z+1],X=this.circles[3*z+2];M.push({key:this.circleKeys[z],x1:N-X,y1:U-X,x2:N+X,y2:U+X})}}else this._forEachCell(a,d,m,v,this._queryCell,M,{hitTest:w,overlapMode:E,seenUids:{box:{},circle:{}}},P);return M}query(a,d,m,v){return this._query(a,d,m,v,!1,null)}hitTest(a,d,m,v,w,E){return this._query(a,d,m,v,!0,w,E).length>0}hitTestCircle(a,d,m,v,w){const E=a-m,P=a+m,M=d-m,z=d+m;if(P<0||E>this.width||z<0||M>this.height)return!1;const N=[];return this._forEachCell(E,M,P,z,this._queryCellCircle,N,{hitTest:!0,overlapMode:v,circle:{x:a,y:d,radius:m},seenUids:{box:{},circle:{}}},w),N.length>0}_queryCell(a,d,m,v,w,E,P,M){const{seenUids:z,hitTest:N,overlapMode:U}=P,X=this.boxCells[w];if(X!==null){const de=this.bboxes;for(const ge of X)if(!z.box[ge]){z.box[ge]=!0;const ce=4*ge,De=this.boxKeys[ge];if(a<=de[ce+2]&&d<=de[ce+3]&&m>=de[ce+0]&&v>=de[ce+1]&&(!M||M(De))&&(!N||!er(U,De.overlapMode))&&(E.push({key:De,x1:de[ce],y1:de[ce+1],x2:de[ce+2],y2:de[ce+3]}),N))return!0}}const he=this.circleCells[w];if(he!==null){const de=this.circles;for(const ge of he)if(!z.circle[ge]){z.circle[ge]=!0;const ce=3*ge,De=this.circleKeys[ge];if(this._circleAndRectCollide(de[ce],de[ce+1],de[ce+2],a,d,m,v)&&(!M||M(De))&&(!N||!er(U,De.overlapMode))){const He=de[ce],xe=de[ce+1],Le=de[ce+2];if(E.push({key:De,x1:He-Le,y1:xe-Le,x2:He+Le,y2:xe+Le}),N)return!0}}}return!1}_queryCellCircle(a,d,m,v,w,E,P,M){const{circle:z,seenUids:N,overlapMode:U}=P,X=this.boxCells[w];if(X!==null){const de=this.bboxes;for(const ge of X)if(!N.box[ge]){N.box[ge]=!0;const ce=4*ge,De=this.boxKeys[ge];if(this._circleAndRectCollide(z.x,z.y,z.radius,de[ce+0],de[ce+1],de[ce+2],de[ce+3])&&(!M||M(De))&&!er(U,De.overlapMode))return E.push(!0),!0}}const he=this.circleCells[w];if(he!==null){const de=this.circles;for(const ge of he)if(!N.circle[ge]){N.circle[ge]=!0;const ce=3*ge,De=this.circleKeys[ge];if(this._circlesCollide(de[ce],de[ce+1],de[ce+2],z.x,z.y,z.radius)&&(!M||M(De))&&!er(U,De.overlapMode))return E.push(!0),!0}}}_forEachCell(a,d,m,v,w,E,P,M){const z=this._convertToXCellCoord(a),N=this._convertToYCellCoord(d),U=this._convertToXCellCoord(m),X=this._convertToYCellCoord(v);for(let he=z;he<=U;he++)for(let de=N;de<=X;de++)if(w.call(this,a,d,m,v,this.xCellCount*de+he,E,P,M))return}_convertToXCellCoord(a){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(a*this.xScale)))}_convertToYCellCoord(a){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(a*this.yScale)))}_circlesCollide(a,d,m,v,w,E){const P=v-a,M=w-d,z=m+E;return z*z>P*P+M*M}_circleAndRectCollide(a,d,m,v,w,E,P){const M=(E-v)/2,z=Math.abs(a-(v+M));if(z>M+m)return!1;const N=(P-w)/2,U=Math.abs(d-(w+N));if(U>N+m)return!1;if(z<=M||U<=N)return!0;const X=z-M,he=U-N;return X*X+he*he<=m*m}}function mt(_,a,d,m,v){const w=o.Z();return a?(o.a0(w,w,[1/v,1/v,1]),d||o.ae(w,w,m.angle)):o.a1(w,m.labelPlaneMatrix,_),w}function sr(_,a,d,m,v){if(a){const w=o.af(_);return o.a0(w,w,[v,v,1]),d||o.ae(w,w,-m.angle),w}return m.glCoordMatrix}function Tn(_,a,d){let m;d?(m=[_.x,_.y,d(_.x,_.y),1],o.ag(m,m,a)):(m=[_.x,_.y,0,1],ve(m,m,a));const v=m[3];return{point:new o.P(m[0]/v,m[1]/v),signedDistanceFromCamera:v}}function ga(_,a){return .5+_/a*.5}function mr(_,a){const d=_[0]/_[3],m=_[1]/_[3];return d>=-a[0]&&d<=a[0]&&m>=-a[1]&&m<=a[1]}function At(_,a,d,m,v,w,E,P,M,z){const N=m?_.textSizeData:_.iconSizeData,U=o.ah(N,d.transform.zoom),X=[256/d.width*2+1,256/d.height*2+1],he=m?_.text.dynamicLayoutVertexArray:_.icon.dynamicLayoutVertexArray;he.clear();const de=_.lineVertexArray,ge=m?_.text.placedSymbolArray:_.icon.placedSymbolArray,ce=d.transform.width/d.transform.height;let De=!1;for(let He=0;He<ge.length;He++){const xe=ge.get(He);if(xe.hidden||xe.writingMode===o.ai.vertical&&!De){oe(xe.numGlyphs,he);continue}let Le;if(De=!1,z?(Le=[xe.anchorX,xe.anchorY,z(xe.anchorX,xe.anchorY),1],o.ag(Le,Le,a)):(Le=[xe.anchorX,xe.anchorY,0,1],ve(Le,Le,a)),!mr(Le,X)){oe(xe.numGlyphs,he);continue}const Ye=ga(d.transform.cameraToCenterDistance,Le[3]),Ke=o.aj(N,U,xe),st=E?Ke/Ye:Ke*Ye,xt=new o.P(xe.anchorX,xe.anchorY),pt=Tn(xt,v,z).point,Et={projections:{},offsets:{}},Yt=Ui(xe,st,!1,P,a,v,w,_.glyphOffsetArray,de,he,pt,xt,Et,ce,M,z);De=Yt.useVertical,(Yt.notEnoughRoom||De||Yt.needsFlipping&&Ui(xe,st,!0,P,a,v,w,_.glyphOffsetArray,de,he,pt,xt,Et,ce,M,z).notEnoughRoom)&&oe(xe.numGlyphs,he)}m?_.text.dynamicLayoutVertexBuffer.updateData(he):_.icon.dynamicLayoutVertexBuffer.updateData(he)}function yn(_,a,d,m,v,w,E,P,M,z,N,U,X){const he=P.glyphStartIndex+P.numGlyphs,de=P.lineStartIndex,ge=P.lineStartIndex+P.lineLength,ce=a.getoffsetX(P.glyphStartIndex),De=a.getoffsetX(he-1),He=G(_*ce,d,m,v,w,E,P.segment,de,ge,M,z,N,U,X);if(!He)return null;const xe=G(_*De,d,m,v,w,E,P.segment,de,ge,M,z,N,U,X);return xe?{first:He,last:xe}:null}function gn(_,a,d,m){return _===o.ai.horizontal&&Math.abs(d.y-a.y)>Math.abs(d.x-a.x)*m?{useVertical:!0}:(_===o.ai.vertical?a.y<d.y:a.x>d.x)?{needsFlipping:!0}:null}function Ui(_,a,d,m,v,w,E,P,M,z,N,U,X,he,de,ge){const ce=a/24,De=_.lineOffsetX*ce,He=_.lineOffsetY*ce;let xe;if(_.numGlyphs>1){const Le=_.glyphStartIndex+_.numGlyphs,Ye=_.lineStartIndex,Ke=_.lineStartIndex+_.lineLength,st=yn(ce,P,De,He,d,N,U,_,M,w,X,de,ge);if(!st)return{notEnoughRoom:!0};const xt=Tn(st.first.point,E,ge).point,pt=Tn(st.last.point,E,ge).point;if(m&&!d){const Et=gn(_.writingMode,xt,pt,he);if(Et)return Et}xe=[st.first];for(let Et=_.glyphStartIndex+1;Et<Le-1;Et++)xe.push(G(ce*P.getoffsetX(Et),De,He,d,N,U,_.segment,Ye,Ke,M,w,X,de,ge));xe.push(st.last)}else{if(m&&!d){const Ye=Tn(U,v,ge).point,Ke=_.lineStartIndex+_.segment+1,st=new o.P(M.getx(Ke),M.gety(Ke)),xt=Tn(st,v,ge),pt=xt.signedDistanceFromCamera>0?xt.point:hs(U,st,Ye,1,v,ge),Et=gn(_.writingMode,Ye,pt,he);if(Et)return Et}const Le=G(ce*P.getoffsetX(_.glyphStartIndex),De,He,d,N,U,_.segment,_.lineStartIndex,_.lineStartIndex+_.lineLength,M,w,X,de,ge);if(!Le)return{notEnoughRoom:!0};xe=[Le]}for(const Le of xe)o.ak(z,Le.point,Le.angle);return{}}function hs(_,a,d,m,v,w){const E=Tn(_.add(_.sub(a)._unit()),v,w).point,P=d.sub(E);return d.add(P._mult(m/P.mag()))}function bn(_,a){const{projectionCache:d,lineVertexArray:m,labelPlaneMatrix:v,tileAnchorPoint:w,distanceFromAnchor:E,getElevation:P,previousVertex:M,direction:z,absOffsetX:N}=a;if(d.projections[_])return d.projections[_];const U=new o.P(m.getx(_),m.gety(_)),X=Tn(U,v,P);if(X.signedDistanceFromCamera>0)return d.projections[_]=X.point,X.point;const he=_-z;return hs(E===0?w:new o.P(m.getx(he),m.gety(he)),U,M,N-E+1,v,P)}function Os(_,a,d){return _._unit()._perp()._mult(a*d)}function pe(_,a,d,m,v,w,E,P){const{projectionCache:M,direction:z}=P;if(M.offsets[_])return M.offsets[_];const N=d.add(a);if(_+z<m||_+z>=v)return M.offsets[_]=N,N;const U=bn(_+z,P),X=Os(U.sub(d),E,z),he=d.add(X),de=U.add(X);return M.offsets[_]=o.al(w,N,he,de)||N,M.offsets[_]}function G(_,a,d,m,v,w,E,P,M,z,N,U,X,he){const de=m?_-a:_+a;let ge=de>0?1:-1,ce=0;m&&(ge*=-1,ce=Math.PI),ge<0&&(ce+=Math.PI);let De,He,xe=ge>0?P+E:P+E+1,Le=v,Ye=v,Ke=0,st=0;const xt=Math.abs(de),pt=[];let Et;for(;Ke+st<=xt;){if(xe+=ge,xe<P||xe>=M)return null;Ke+=st,Ye=Le,He=De;const Ot={projectionCache:U,lineVertexArray:z,labelPlaneMatrix:N,tileAnchorPoint:w,distanceFromAnchor:Ke,getElevation:he,previousVertex:Ye,direction:ge,absOffsetX:xt};if(Le=bn(xe,Ot),d===0)pt.push(Ye),Et=Le.sub(Ye);else{let ln;const Kt=Le.sub(Ye);ln=Kt.mag()===0?Os(bn(xe+ge,Ot).sub(Le),d,ge):Os(Kt,d,ge),He||(He=Ye.add(ln)),De=pe(xe,ln,Le,P,M,He,d,Ot),pt.push(He),Et=De.sub(He)}st=Et.mag()}const Yt=Et._mult((xt-Ke)/st)._add(He||Ye),Pn=ce+Math.atan2(Le.y-Ye.y,Le.x-Ye.x);return pt.push(Yt),{point:Yt,angle:X?Pn:0,path:pt}}const K=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function oe(_,a){for(let d=0;d<_;d++){const m=a.length;a.resize(m+4),a.float32.set(K,3*m)}}function ve(_,a,d){const m=a[0],v=a[1];return _[0]=d[0]*m+d[4]*v+d[12],_[1]=d[1]*m+d[5]*v+d[13],_[3]=d[3]*m+d[7]*v+d[15],_}const _e=100;class ze{constructor(a,d=new jn(a.width+200,a.height+200,25),m=new jn(a.width+200,a.height+200,25)){this.transform=a,this.grid=d,this.ignoredGrid=m,this.pitchfactor=Math.cos(a._pitch)*a.cameraToCenterDistance,this.screenRightBoundary=a.width+_e,this.screenBottomBoundary=a.height+_e,this.gridRightBoundary=a.width+200,this.gridBottomBoundary=a.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(a,d,m,v,w,E){const P=this.projectAndGetPerspectiveRatio(v,a.anchorPointX,a.anchorPointY,E),M=m*P.perspectiveRatio,z=a.x1*M+P.point.x,N=a.y1*M+P.point.y,U=a.x2*M+P.point.x,X=a.y2*M+P.point.y;return!this.isInsideGrid(z,N,U,X)||d!=="always"&&this.grid.hitTest(z,N,U,X,d,w)||P.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[z,N,U,X],offscreen:this.isOffscreen(z,N,U,X)}}placeCollisionCircles(a,d,m,v,w,E,P,M,z,N,U,X,he,de){const ge=[],ce=new o.P(d.anchorX,d.anchorY),De=Tn(ce,E,de),He=ga(this.transform.cameraToCenterDistance,De.signedDistanceFromCamera),xe=(N?w/He:w*He)/o.ap,Le=Tn(ce,P,de).point,Ye=yn(xe,v,d.lineOffsetX*xe,d.lineOffsetY*xe,!1,Le,ce,d,m,P,{projections:{},offsets:{}},!1,de);let Ke=!1,st=!1,xt=!0;if(Ye){const pt=.5*X*He+he,Et=new o.P(-100,-100),Yt=new o.P(this.screenRightBoundary,this.screenBottomBoundary),Pn=new wn,Ot=Ye.first,ln=Ye.last;let Kt=[];for(let Sn=Ot.path.length-1;Sn>=1;Sn--)Kt.push(Ot.path[Sn]);for(let Sn=1;Sn<ln.path.length;Sn++)Kt.push(ln.path[Sn]);const nr=2.5*pt;if(M){const Sn=Kt.map(Dn=>Tn(Dn,M,de));Kt=Sn.some(Dn=>Dn.signedDistanceFromCamera<=0)?[]:Sn.map(Dn=>Dn.point)}let In=[];if(Kt.length>0){const Sn=Kt[0].clone(),Dn=Kt[0].clone();for(let Hr=1;Hr<Kt.length;Hr++)Sn.x=Math.min(Sn.x,Kt[Hr].x),Sn.y=Math.min(Sn.y,Kt[Hr].y),Dn.x=Math.max(Dn.x,Kt[Hr].x),Dn.y=Math.max(Dn.y,Kt[Hr].y);In=Sn.x>=Et.x&&Dn.x<=Yt.x&&Sn.y>=Et.y&&Dn.y<=Yt.y?[Kt]:Dn.x<Et.x||Sn.x>Yt.x||Dn.y<Et.y||Sn.y>Yt.y?[]:o.am([Kt],Et.x,Et.y,Yt.x,Yt.y)}for(const Sn of In){Pn.reset(Sn,.25*pt);let Dn=0;Dn=Pn.length<=.5*pt?1:Math.ceil(Pn.paddedLength/nr)+1;for(let Hr=0;Hr<Dn;Hr++){const gr=Hr/Math.max(Dn-1,1),Ti=Pn.lerp(gr),ci=Ti.x+_e,Jr=Ti.y+_e;ge.push(ci,Jr,pt,0);const wa=ci-pt,wr=Jr-pt,ms=ci+pt,ps=Jr+pt;if(xt=xt&&this.isOffscreen(wa,wr,ms,ps),st=st||this.isInsideGrid(wa,wr,ms,ps),a!=="always"&&this.grid.hitTestCircle(ci,Jr,pt,a,U)&&(Ke=!0,!z))return{circles:[],offscreen:!1,collisionDetected:Ke}}}}return{circles:!z&&Ke||!st||He<this.perspectiveRatioCutoff?[]:ge,offscreen:xt,collisionDetected:Ke}}queryRenderedSymbols(a){if(a.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const d=[];let m=1/0,v=1/0,w=-1/0,E=-1/0;for(const N of a){const U=new o.P(N.x+_e,N.y+_e);m=Math.min(m,U.x),v=Math.min(v,U.y),w=Math.max(w,U.x),E=Math.max(E,U.y),d.push(U)}const P=this.grid.query(m,v,w,E).concat(this.ignoredGrid.query(m,v,w,E)),M={},z={};for(const N of P){const U=N.key;if(M[U.bucketInstanceId]===void 0&&(M[U.bucketInstanceId]={}),M[U.bucketInstanceId][U.featureIndex])continue;const X=[new o.P(N.x1,N.y1),new o.P(N.x2,N.y1),new o.P(N.x2,N.y2),new o.P(N.x1,N.y2)];o.an(d,X)&&(M[U.bucketInstanceId][U.featureIndex]=!0,z[U.bucketInstanceId]===void 0&&(z[U.bucketInstanceId]=[]),z[U.bucketInstanceId].push(U.featureIndex))}return z}insertCollisionBox(a,d,m,v,w,E){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:v,featureIndex:w,collisionGroupID:E,overlapMode:d},a[0],a[1],a[2],a[3])}insertCollisionCircles(a,d,m,v,w,E){const P=m?this.ignoredGrid:this.grid,M={bucketInstanceId:v,featureIndex:w,collisionGroupID:E,overlapMode:d};for(let z=0;z<a.length;z+=4)P.insertCircle(M,a[z],a[z+1],a[z+2])}projectAndGetPerspectiveRatio(a,d,m,v){let w;return v?(w=[d,m,v(d,m),1],o.ag(w,w,a)):(w=[d,m,0,1],ve(w,w,a)),{point:new o.P((w[0]/w[3]+1)/2*this.transform.width+_e,(-w[1]/w[3]+1)/2*this.transform.height+_e),perspectiveRatio:.5+this.transform.cameraToCenterDistance/w[3]*.5}}isOffscreen(a,d,m,v){return m<_e||a>=this.screenRightBoundary||v<_e||d>this.screenBottomBoundary}isInsideGrid(a,d,m,v){return m>=0&&a<this.gridRightBoundary&&v>=0&&d<this.gridBottomBoundary}getViewportMatrix(){const a=o.ao([]);return o.$(a,a,[-100,-100,0]),a}}function Ee(_,a,d){return a*(o.N/(_.tileSize*Math.pow(2,d-_.tileID.overscaledZ)))}class Se{constructor(a,d,m,v){this.opacity=a?Math.max(0,Math.min(1,a.opacity+(a.placed?d:-d))):v&&m?1:0,this.placed=m}isHidden(){return this.opacity===0&&!this.placed}}class Re{constructor(a,d,m,v,w){this.text=new Se(a?a.text:null,d,m,w),this.icon=new Se(a?a.icon:null,d,v,w)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class it{constructor(a,d,m){this.text=a,this.icon=d,this.skipFade=m}}class at{constructor(){this.invProjMatrix=o.Z(),this.viewportMatrix=o.Z(),this.circles=[]}}class ut{constructor(a,d,m,v,w){this.bucketInstanceId=a,this.featureIndex=d,this.sourceLayerIndex=m,this.bucketIndex=v,this.tileID=w}}class tn{constructor(a){this.crossSourceCollisions=a,this.maxGroupID=0,this.collisionGroups={}}get(a){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[a]){const d=++this.maxGroupID;this.collisionGroups[a]={ID:d,predicate:m=>m.collisionGroupID===d}}return this.collisionGroups[a]}}function hn(_,a,d,m,v){const{horizontalAlign:w,verticalAlign:E}=o.au(_);return new o.P(-(w-.5)*a+m[0]*v,-(E-.5)*d+m[1]*v)}function Wt(_,a,d,m,v,w){const{x1:E,x2:P,y1:M,y2:z,anchorPointX:N,anchorPointY:U}=_,X=new o.P(a,d);return m&&X._rotate(v?w:-w),{x1:E+X.x,y1:M+X.y,x2:P+X.x,y2:z+X.y,anchorPointX:N,anchorPointY:U}}class rn{constructor(a,d,m,v,w){this.transform=a.clone(),this.terrain=d,this.collisionIndex=new ze(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new tn(v),this.collisionCircleArrays={},this.prevPlacement=w,w&&(w.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(a,d,m,v){const w=m.getBucket(d),E=m.latestFeatureIndex;if(!w||!E||d.id!==w.layerIds[0])return;const P=m.collisionBoxArray,M=w.layers[0].layout,z=Math.pow(2,this.transform.zoom-m.tileID.overscaledZ),N=m.tileSize/o.N,U=this.transform.calculatePosMatrix(m.tileID.toUnwrapped()),X=M.get("text-pitch-alignment")==="map",he=M.get("text-rotation-alignment")==="map",de=Ee(m,1,this.transform.zoom),ge=mt(U,X,he,this.transform,de);let ce=null;if(X){const He=sr(U,X,he,this.transform,de);ce=o.a1([],this.transform.labelPlaneMatrix,He)}this.retainedQueryData[w.bucketInstanceId]=new ut(w.bucketInstanceId,E,w.sourceLayerIndex,w.index,m.tileID);const De={bucket:w,layout:M,posMatrix:U,textLabelPlaneMatrix:ge,labelToScreenMatrix:ce,scale:z,textPixelRatio:N,holdingForFade:m.holdingForFade(),collisionBoxArray:P,partiallyEvaluatedTextSize:o.ah(w.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(w.sourceID)};if(v)for(const He of w.sortKeyRanges){const{sortKey:xe,symbolInstanceStart:Le,symbolInstanceEnd:Ye}=He;a.push({sortKey:xe,symbolInstanceStart:Le,symbolInstanceEnd:Ye,parameters:De})}else a.push({symbolInstanceStart:0,symbolInstanceEnd:w.symbolInstances.length,parameters:De})}attemptAnchorPlacement(a,d,m,v,w,E,P,M,z,N,U,X,he,de,ge,ce){const De=o.aq[a.textAnchor],He=[a.textOffset0,a.textOffset1],xe=hn(De,m,v,He,w),Le=this.collisionIndex.placeCollisionBox(Wt(d,xe.x,xe.y,E,P,this.transform.angle),U,M,z,N.predicate,ce);if((!ge||this.collisionIndex.placeCollisionBox(Wt(ge,xe.x,xe.y,E,P,this.transform.angle),U,M,z,N.predicate,ce).box.length!==0)&&Le.box.length>0){let Ye;if(this.prevPlacement&&this.prevPlacement.variableOffsets[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID]&&this.prevPlacement.placements[X.crossTileID].text&&(Ye=this.prevPlacement.variableOffsets[X.crossTileID].anchor),X.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[X.crossTileID]={textOffset:He,width:m,height:v,anchor:De,textBoxScale:w,prevAnchor:Ye},this.markUsedJustification(he,De,X,de),he.allowVerticalPlacement&&(this.markUsedOrientation(he,de,X),this.placedOrientations[X.crossTileID]=de),{shift:xe,placedGlyphBoxes:Le}}}placeLayerBucketPart(a,d,m){const{bucket:v,layout:w,posMatrix:E,textLabelPlaneMatrix:P,labelToScreenMatrix:M,textPixelRatio:z,holdingForFade:N,collisionBoxArray:U,partiallyEvaluatedTextSize:X,collisionGroup:he}=a.parameters,de=w.get("text-optional"),ge=w.get("icon-optional"),ce=o.ar(w,"text-overlap","text-allow-overlap"),De=ce==="always",He=o.ar(w,"icon-overlap","icon-allow-overlap"),xe=He==="always",Le=w.get("text-rotation-alignment")==="map",Ye=w.get("text-pitch-alignment")==="map",Ke=w.get("icon-text-fit")!=="none",st=w.get("symbol-z-order")==="viewport-y",xt=De&&(xe||!v.hasIconData()||ge),pt=xe&&(De||!v.hasTextData()||de);!v.collisionArrays&&U&&v.deserializeCollisionBoxes(U);const Et=this.retainedQueryData[v.bucketInstanceId].tileID,Yt=this.terrain?(Ot,ln)=>this.terrain.getElevation(Et,Ot,ln):null,Pn=(Ot,ln)=>{var Kt,nr;if(d[Ot.crossTileID])return;if(N)return void(this.placements[Ot.crossTileID]=new it(!1,!1,!1));let In=!1,Sn=!1,Dn=!0,Hr=null,gr={box:null,offscreen:null},Ti={box:null,offscreen:null},ci=null,Jr=null,wa=null,wr=0,ms=0,ps=0;ln.textFeatureIndex?wr=ln.textFeatureIndex:Ot.useRuntimeCollisionCircles&&(wr=Ot.featureIndex),ln.verticalTextFeatureIndex&&(ms=ln.verticalTextFeatureIndex);const bo=ln.textBox;if(bo){const Oi=Gr=>{let ui=o.ai.horizontal;if(v.allowVerticalPlacement&&!Gr&&this.prevPlacement){const na=this.prevPlacement.placedOrientations[Ot.crossTileID];na&&(this.placedOrientations[Ot.crossTileID]=na,ui=na,this.markUsedOrientation(v,ui,Ot))}return ui},Ai=(Gr,ui)=>{if(v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&ln.verticalTextBox){for(const na of v.writingModes)if(na===o.ai.vertical?(gr=ui(),Ti=gr):gr=Gr(),gr&&gr.box&&gr.box.length)break}else gr=Gr()},ji=Ot.textAnchorOffsetStartIndex,Ko=Ot.textAnchorOffsetEndIndex;if(Ko===ji){const Gr=(ui,na)=>{const Wr=this.collisionIndex.placeCollisionBox(ui,ce,z,E,he.predicate,Yt);return Wr&&Wr.box&&Wr.box.length&&(this.markUsedOrientation(v,na,Ot),this.placedOrientations[Ot.crossTileID]=na),Wr};Ai(()=>Gr(bo,o.ai.horizontal),()=>{const ui=ln.verticalTextBox;return v.allowVerticalPlacement&&Ot.numVerticalGlyphVertices>0&&ui?Gr(ui,o.ai.vertical):{box:null,offscreen:null}}),Oi(gr&&gr.box&&gr.box.length)}else{let Gr=o.aq[(nr=(Kt=this.prevPlacement)===null||Kt===void 0?void 0:Kt.variableOffsets[Ot.crossTileID])===null||nr===void 0?void 0:nr.anchor];const ui=(Wr,Xo,ed)=>{const xp=Wr.x2-Wr.x1,wp=Wr.y2-Wr.y1,wy=Ot.textBoxScale,Yh=Ke&&He==="never"?Xo:null;let gs={box:[],offscreen:!1},Jo=ce==="never"?1:2,vs="never";Gr&&Jo++;for(let za=0;za<Jo;za++){for(let ys=ji;ys<Ko;ys++){const Zh=v.textAnchorOffsets.get(ys);if(Gr&&Zh.textAnchor!==Gr)continue;const $s=this.attemptAnchorPlacement(Zh,Wr,xp,wp,wy,Le,Ye,z,E,he,vs,Ot,v,ed,Yh,Yt);if($s&&(gs=$s.placedGlyphBoxes,gs&&gs.box&&gs.box.length))return In=!0,Hr=$s.shift,gs}Gr?Gr=null:vs=ce}return gs};Ai(()=>ui(bo,ln.iconBox,o.ai.horizontal),()=>{const Wr=ln.verticalTextBox;return v.allowVerticalPlacement&&!(gr&&gr.box&&gr.box.length)&&Ot.numVerticalGlyphVertices>0&&Wr?ui(Wr,ln.verticalIconBox,o.ai.vertical):{box:null,offscreen:null}}),gr&&(In=gr.box,Dn=gr.offscreen);const na=Oi(gr&&gr.box);if(!In&&this.prevPlacement){const Wr=this.prevPlacement.variableOffsets[Ot.crossTileID];Wr&&(this.variableOffsets[Ot.crossTileID]=Wr,this.markUsedJustification(v,Wr.anchor,Ot,na))}}}if(ci=gr,In=ci&&ci.box&&ci.box.length>0,Dn=ci&&ci.offscreen,Ot.useRuntimeCollisionCircles){const Oi=v.text.placedSymbolArray.get(Ot.centerJustifiedTextSymbolIndex),Ai=o.aj(v.textSizeData,X,Oi),ji=w.get("text-padding");Jr=this.collisionIndex.placeCollisionCircles(ce,Oi,v.lineVertexArray,v.glyphOffsetArray,Ai,E,P,M,m,Ye,he.predicate,Ot.collisionCircleDiameter,ji,Yt),Jr.circles.length&&Jr.collisionDetected&&!m&&o.w("Collisions detected, but collision boxes are not shown"),In=De||Jr.circles.length>0&&!Jr.collisionDetected,Dn=Dn&&Jr.offscreen}if(ln.iconFeatureIndex&&(ps=ln.iconFeatureIndex),ln.iconBox){const Oi=Ai=>{const ji=Ke&&Hr?Wt(Ai,Hr.x,Hr.y,Le,Ye,this.transform.angle):Ai;return this.collisionIndex.placeCollisionBox(ji,He,z,E,he.predicate,Yt)};Ti&&Ti.box&&Ti.box.length&&ln.verticalIconBox?(wa=Oi(ln.verticalIconBox),Sn=wa.box.length>0):(wa=Oi(ln.iconBox),Sn=wa.box.length>0),Dn=Dn&&wa.offscreen}const Zo=de||Ot.numHorizontalGlyphVertices===0&&Ot.numVerticalGlyphVertices===0,$l=ge||Ot.numIconVertices===0;if(Zo||$l?$l?Zo||(Sn=Sn&&In):In=Sn&&In:Sn=In=Sn&&In,In&&ci&&ci.box&&this.collisionIndex.insertCollisionBox(ci.box,ce,w.get("text-ignore-placement"),v.bucketInstanceId,Ti&&Ti.box&&ms?ms:wr,he.ID),Sn&&wa&&this.collisionIndex.insertCollisionBox(wa.box,He,w.get("icon-ignore-placement"),v.bucketInstanceId,ps,he.ID),Jr&&(In&&this.collisionIndex.insertCollisionCircles(Jr.circles,ce,w.get("text-ignore-placement"),v.bucketInstanceId,wr,he.ID),m)){const Oi=v.bucketInstanceId;let Ai=this.collisionCircleArrays[Oi];Ai===void 0&&(Ai=this.collisionCircleArrays[Oi]=new at);for(let ji=0;ji<Jr.circles.length;ji+=4)Ai.circles.push(Jr.circles[ji+0]),Ai.circles.push(Jr.circles[ji+1]),Ai.circles.push(Jr.circles[ji+2]),Ai.circles.push(Jr.collisionDetected?1:0)}if(Ot.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(v.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Ot.crossTileID]=new it(In||xt,Sn||pt,Dn||v.justReloaded),d[Ot.crossTileID]=!0};if(st){if(a.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Ot=v.getSortedSymbolIndexes(this.transform.angle);for(let ln=Ot.length-1;ln>=0;--ln){const Kt=Ot[ln];Pn(v.symbolInstances.get(Kt),v.collisionArrays[Kt])}}else for(let Ot=a.symbolInstanceStart;Ot<a.symbolInstanceEnd;Ot++)Pn(v.symbolInstances.get(Ot),v.collisionArrays[Ot]);if(m&&v.bucketInstanceId in this.collisionCircleArrays){const Ot=this.collisionCircleArrays[v.bucketInstanceId];o.as(Ot.invProjMatrix,E),Ot.viewportMatrix=this.collisionIndex.getViewportMatrix()}v.justReloaded=!1}markUsedJustification(a,d,m,v){let w;w=v===o.ai.vertical?m.verticalPlacedTextSymbolIndex:{left:m.leftJustifiedTextSymbolIndex,center:m.centerJustifiedTextSymbolIndex,right:m.rightJustifiedTextSymbolIndex}[o.at(d)];const E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex,m.verticalPlacedTextSymbolIndex];for(const P of E)P>=0&&(a.text.placedSymbolArray.get(P).crossTileID=w>=0&&P!==w?0:m.crossTileID)}markUsedOrientation(a,d,m){const v=d===o.ai.horizontal||d===o.ai.horizontalOnly?d:0,w=d===o.ai.vertical?d:0,E=[m.leftJustifiedTextSymbolIndex,m.centerJustifiedTextSymbolIndex,m.rightJustifiedTextSymbolIndex];for(const P of E)a.text.placedSymbolArray.get(P).placedOrientation=v;m.verticalPlacedTextSymbolIndex&&(a.text.placedSymbolArray.get(m.verticalPlacedTextSymbolIndex).placedOrientation=w)}commit(a){this.commitTime=a,this.zoomAtLastRecencyCheck=this.transform.zoom;const d=this.prevPlacement;let m=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;const v=d?d.symbolFadeChange(a):1,w=d?d.opacities:{},E=d?d.variableOffsets:{},P=d?d.placedOrientations:{};for(const M in this.placements){const z=this.placements[M],N=w[M];N?(this.opacities[M]=new Re(N,v,z.text,z.icon),m=m||z.text!==N.text.placed||z.icon!==N.icon.placed):(this.opacities[M]=new Re(null,v,z.text,z.icon,z.skipFade),m=m||z.text||z.icon)}for(const M in w){const z=w[M];if(!this.opacities[M]){const N=new Re(z,v,!1,!1);N.isHidden()||(this.opacities[M]=N,m=m||z.text.placed||z.icon.placed)}}for(const M in E)this.variableOffsets[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.variableOffsets[M]=E[M]);for(const M in P)this.placedOrientations[M]||!this.opacities[M]||this.opacities[M].isHidden()||(this.placedOrientations[M]=P[M]);if(d&&d.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");m?this.lastPlacementChangeTime=a:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:a)}updateLayerOpacities(a,d){const m={};for(const v of d){const w=v.getBucket(a);w&&v.latestFeatureIndex&&a.id===w.layerIds[0]&&this.updateBucketOpacities(w,m,v.collisionBoxArray)}}updateBucketOpacities(a,d,m){a.hasTextData()&&(a.text.opacityVertexArray.clear(),a.text.hasVisibleVertices=!1),a.hasIconData()&&(a.icon.opacityVertexArray.clear(),a.icon.hasVisibleVertices=!1),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexArray.clear(),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexArray.clear();const v=a.layers[0],w=v.layout,E=new Re(null,0,!1,!1,!0),P=w.get("text-allow-overlap"),M=w.get("icon-allow-overlap"),z=v._unevaluatedLayout.hasValue("text-variable-anchor")||v._unevaluatedLayout.hasValue("text-variable-anchor-offset"),N=w.get("text-rotation-alignment")==="map",U=w.get("text-pitch-alignment")==="map",X=w.get("icon-text-fit")!=="none",he=new Re(null,0,P&&(M||!a.hasIconData()||w.get("icon-optional")),M&&(P||!a.hasTextData()||w.get("text-optional")),!0);!a.collisionArrays&&m&&(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData())&&a.deserializeCollisionBoxes(m);const de=(ge,ce,De)=>{for(let He=0;He<ce/4;He++)ge.opacityVertexArray.emplaceBack(De);ge.hasVisibleVertices=ge.hasVisibleVertices||De!==Da};for(let ge=0;ge<a.symbolInstances.length;ge++){const ce=a.symbolInstances.get(ge),{numHorizontalGlyphVertices:De,numVerticalGlyphVertices:He,crossTileID:xe}=ce;let Le=this.opacities[xe];d[xe]?Le=E:Le||(Le=he,this.opacities[xe]=Le),d[xe]=!0;const Ye=ce.numIconVertices>0,Ke=this.placedOrientations[ce.crossTileID],st=Ke===o.ai.vertical,xt=Ke===o.ai.horizontal||Ke===o.ai.horizontalOnly;if(De>0||He>0){const pt=ki(Le.text);de(a.text,De,st?Da:pt),de(a.text,He,xt?Da:pt);const Et=Le.text.isHidden();[ce.rightJustifiedTextSymbolIndex,ce.centerJustifiedTextSymbolIndex,ce.leftJustifiedTextSymbolIndex].forEach(Ot=>{Ot>=0&&(a.text.placedSymbolArray.get(Ot).hidden=Et||st?1:0)}),ce.verticalPlacedTextSymbolIndex>=0&&(a.text.placedSymbolArray.get(ce.verticalPlacedTextSymbolIndex).hidden=Et||xt?1:0);const Yt=this.variableOffsets[ce.crossTileID];Yt&&this.markUsedJustification(a,Yt.anchor,ce,Ke);const Pn=this.placedOrientations[ce.crossTileID];Pn&&(this.markUsedJustification(a,"left",ce,Pn),this.markUsedOrientation(a,Pn,ce))}if(Ye){const pt=ki(Le.icon),Et=!(X&&ce.verticalPlacedIconSymbolIndex&&st);ce.placedIconSymbolIndex>=0&&(de(a.icon,ce.numIconVertices,Et?pt:Da),a.icon.placedSymbolArray.get(ce.placedIconSymbolIndex).hidden=Le.icon.isHidden()),ce.verticalPlacedIconSymbolIndex>=0&&(de(a.icon,ce.numVerticalIconVertices,Et?Da:pt),a.icon.placedSymbolArray.get(ce.verticalPlacedIconSymbolIndex).hidden=Le.icon.isHidden())}if(a.hasIconCollisionBoxData()||a.hasTextCollisionBoxData()){const pt=a.collisionArrays[ge];if(pt){let Et=new o.P(0,0);if(pt.textBox||pt.verticalTextBox){let Pn=!0;if(z){const Ot=this.variableOffsets[xe];Ot?(Et=hn(Ot.anchor,Ot.width,Ot.height,Ot.textOffset,Ot.textBoxScale),N&&Et._rotate(U?this.transform.angle:-this.transform.angle)):Pn=!1}pt.textBox&&vn(a.textCollisionBox.collisionVertexArray,Le.text.placed,!Pn||st,Et.x,Et.y),pt.verticalTextBox&&vn(a.textCollisionBox.collisionVertexArray,Le.text.placed,!Pn||xt,Et.x,Et.y)}const Yt=!!(!xt&&pt.verticalIconBox);pt.iconBox&&vn(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,Yt,X?Et.x:0,X?Et.y:0),pt.verticalIconBox&&vn(a.iconCollisionBox.collisionVertexArray,Le.icon.placed,!Yt,X?Et.x:0,X?Et.y:0)}}}if(a.sortFeatures(this.transform.angle),this.retainedQueryData[a.bucketInstanceId]&&(this.retainedQueryData[a.bucketInstanceId].featureSortOrder=a.featureSortOrder),a.hasTextData()&&a.text.opacityVertexBuffer&&a.text.opacityVertexBuffer.updateData(a.text.opacityVertexArray),a.hasIconData()&&a.icon.opacityVertexBuffer&&a.icon.opacityVertexBuffer.updateData(a.icon.opacityVertexArray),a.hasIconCollisionBoxData()&&a.iconCollisionBox.collisionVertexBuffer&&a.iconCollisionBox.collisionVertexBuffer.updateData(a.iconCollisionBox.collisionVertexArray),a.hasTextCollisionBoxData()&&a.textCollisionBox.collisionVertexBuffer&&a.textCollisionBox.collisionVertexBuffer.updateData(a.textCollisionBox.collisionVertexArray),a.text.opacityVertexArray.length!==a.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${a.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${a.text.layoutVertexArray.length}) / 4`);if(a.icon.opacityVertexArray.length!==a.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${a.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${a.icon.layoutVertexArray.length}) / 4`);if(a.bucketInstanceId in this.collisionCircleArrays){const ge=this.collisionCircleArrays[a.bucketInstanceId];a.placementInvProjMatrix=ge.invProjMatrix,a.placementViewportMatrix=ge.viewportMatrix,a.collisionCircleArray=ge.circles,delete this.collisionCircleArrays[a.bucketInstanceId]}}symbolFadeChange(a){return this.fadeDuration===0?1:(a-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(a){return Math.max(0,(this.transform.zoom-a)/1.5)}hasTransitions(a){return this.stale||a-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(a,d){const m=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*m>a}setStale(){this.stale=!0}}function vn(_,a,d,m,v){_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0),_.emplaceBack(a?1:0,d?1:0,m||0,v||0)}const Xn=Math.pow(2,25),or=Math.pow(2,24),$n=Math.pow(2,17),Vn=Math.pow(2,16),Li=Math.pow(2,9),pr=Math.pow(2,8),ri=Math.pow(2,1);function ki(_){if(_.opacity===0&&!_.placed)return 0;if(_.opacity===1&&_.placed)return 4294967295;const a=_.placed?1:0,d=Math.floor(127*_.opacity);return d*Xn+a*or+d*$n+a*Vn+d*Li+a*pr+d*ri+a}const Da=0;class zm{constructor(a){this._sortAcrossTiles=a.layout.get("symbol-z-order")!=="viewport-y"&&!a.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(a,d,m,v,w){const E=this._bucketParts;for(;this._currentTileIndex<a.length;)if(d.getBucketParts(E,v,a[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,w())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,E.sort((P,M)=>P.sortKey-M.sortKey));this._currentPartIndex<E.length;)if(d.placeLayerBucketPart(E[this._currentPartIndex],this._seenCrossTileIDs,m),this._currentPartIndex++,w())return!0;return!1}}class El{constructor(a,d,m,v,w,E,P,M){this.placement=new rn(a,d,E,P,M),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=v,this._showCollisionBoxes=w,this._done=!1}isDone(){return this._done}continuePlacement(a,d,m){const v=o.h.now(),w=()=>!this._forceFullPlacement&&o.h.now()-v>2;for(;this._currentPlacementIndex>=0;){const E=d[a[this._currentPlacementIndex]],P=this.placement.collisionIndex.transform.zoom;if(E.type==="symbol"&&(!E.minzoom||E.minzoom<=P)&&(!E.maxzoom||E.maxzoom>P)){if(this._inProgressLayer||(this._inProgressLayer=new zm(E)),this._inProgressLayer.continuePlacement(m[E.source],this.placement,this._showCollisionBoxes,E,w))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(a){return this.placement.commit(a),this.placement}}const Il=512/o.N/2;class ay{constructor(a,d,m){this.tileID=a,this.bucketInstanceId=m,this._symbolsByKey={};const v=new Map;for(let w=0;w<d.length;w++){const E=d.get(w),P=E.key,M=v.get(P);M?M.push(E):v.set(P,[E])}for(const[w,E]of v){const P={positions:E.map(M=>({x:Math.floor(M.anchorX*Il),y:Math.floor(M.anchorY*Il)})),crossTileIDs:E.map(M=>M.crossTileID)};if(P.positions.length>128){const M=new o.av(P.positions.length,16,Uint16Array);for(const{x:z,y:N}of P.positions)M.add(z,N);M.finish(),delete P.positions,P.index=M}this._symbolsByKey[w]=P}}getScaledCoordinates(a,d){const{x:m,y:v,z:w}=this.tileID.canonical,{x:E,y:P,z:M}=d.canonical,z=Il/Math.pow(2,M-w),N=(P*o.N+a.anchorY)*z,U=v*o.N*Il;return{x:Math.floor((E*o.N+a.anchorX)*z-m*o.N*Il),y:Math.floor(N-U)}}findMatches(a,d,m){const v=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z);for(let w=0;w<a.length;w++){const E=a.get(w);if(E.crossTileID)continue;const P=this._symbolsByKey[E.key];if(!P)continue;const M=this.getScaledCoordinates(E,d);if(P.index){const z=P.index.range(M.x-v,M.y-v,M.x+v,M.y+v).sort();for(const N of z){const U=P.crossTileIDs[N];if(!m[U]){m[U]=!0,E.crossTileID=U;break}}}else if(P.positions)for(let z=0;z<P.positions.length;z++){const N=P.positions[z],U=P.crossTileIDs[z];if(Math.abs(N.x-M.x)<=v&&Math.abs(N.y-M.y)<=v&&!m[U]){m[U]=!0,E.crossTileID=U;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:a})=>a)}}class tr{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class oh{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(a){const d=Math.round((a-this.lng)/360);if(d!==0)for(const m in this.indexes){const v=this.indexes[m],w={};for(const E in v){const P=v[E];P.tileID=P.tileID.unwrapTo(P.tileID.wrap+d),w[P.tileID.key]=P}this.indexes[m]=w}this.lng=a}addBucket(a,d,m){if(this.indexes[a.overscaledZ]&&this.indexes[a.overscaledZ][a.key]){if(this.indexes[a.overscaledZ][a.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(a.overscaledZ,this.indexes[a.overscaledZ][a.key])}for(let w=0;w<d.symbolInstances.length;w++)d.symbolInstances.get(w).crossTileID=0;this.usedCrossTileIDs[a.overscaledZ]||(this.usedCrossTileIDs[a.overscaledZ]={});const v=this.usedCrossTileIDs[a.overscaledZ];for(const w in this.indexes){const E=this.indexes[w];if(Number(w)>a.overscaledZ)for(const P in E){const M=E[P];M.tileID.isChildOf(a)&&M.findMatches(d.symbolInstances,a,v)}else{const P=E[a.scaledTo(Number(w)).key];P&&P.findMatches(d.symbolInstances,a,v)}}for(let w=0;w<d.symbolInstances.length;w++){const E=d.symbolInstances.get(w);E.crossTileID||(E.crossTileID=m.generate(),v[E.crossTileID]=!0)}return this.indexes[a.overscaledZ]===void 0&&(this.indexes[a.overscaledZ]={}),this.indexes[a.overscaledZ][a.key]=new ay(a,d.symbolInstances,d.bucketInstanceId),!0}removeBucketCrossTileIDs(a,d){for(const m of d.getCrossTileIDsLists())for(const v of m)delete this.usedCrossTileIDs[a][v]}removeStaleBuckets(a){let d=!1;for(const m in this.indexes){const v=this.indexes[m];for(const w in v)a[v[w].bucketInstanceId]||(this.removeBucketCrossTileIDs(m,v[w]),delete v[w],d=!0)}return d}}class Tu{constructor(){this.layerIndexes={},this.crossTileIDs=new tr,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(a,d,m){let v=this.layerIndexes[a.id];v===void 0&&(v=this.layerIndexes[a.id]=new oh);let w=!1;const E={};v.handleWrapJump(m);for(const P of d){const M=P.getBucket(a);M&&a.id===M.layerIds[0]&&(M.bucketInstanceId||(M.bucketInstanceId=++this.maxBucketInstanceId),v.addBucket(P.tileID,M,this.crossTileIDs)&&(w=!0),E[M.bucketInstanceId]=!0)}return v.removeStaleBuckets(E)&&(w=!0),w}pruneUnusedLayers(a){const d={};a.forEach(m=>{d[m]=!0});for(const m in this.layerIndexes)d[m]||delete this.layerIndexes[m]}}const Ri=(_,a)=>o.x(_,a&&a.filter(d=>d.identifier!=="source.canvas")),va=o.F(o.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),sy=o.F(o.ax,["setCenter","setZoom","setBearing","setPitch"]),Ma=o.aw();class Ci extends o.E{constructor(a,d={}){super(),this.map=a,this.dispatcher=new $e(Ln(),this,a._getMapId()),this.imageManager=new te,this.imageManager.setEventedParent(this),this.glyphManager=new Ae(a._requestManager,d.localIdeographFontFamily),this.lineAtlas=new Ve(256,512),this.crossTileSymbolIndex=new Tu,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new o.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",o.az());const m=this;this._rtlTextPluginCallback=Ci.registerForPluginStateChange(v=>{m.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:v.pluginStatus,pluginURL:v.pluginURL},(w,E)=>{if(o.aA(w),E&&E.every(P=>P))for(const P in m.sourceCaches){const M=m.sourceCaches[P].getSource().type;M!=="vector"&&M!=="geojson"||m.sourceCaches[P].reload()}})}),this.on("data",v=>{if(v.dataType!=="source"||v.sourceDataType!=="metadata")return;const w=this.sourceCaches[v.sourceId];if(!w)return;const E=w.getSource();if(E&&E.vectorLayerIds)for(const P in this._layers){const M=this._layers[P];M.source===E.id&&this._validateLayer(M)}})}loadURL(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),d.validate=typeof d.validate!="boolean"||d.validate;const v=this.map._requestManager.transformRequest(a,B.Style);this._request=o.f(v,(w,E)=>{this._request=null,w?this.fire(new o.j(w)):E&&this._load(E,d,m)})}loadJSON(a,d={},m){this.fire(new o.k("dataloading",{dataType:"style"})),this._request=o.h.frame(()=>{this._request=null,d.validate=d.validate!==!1,this._load(a,d,m)})}loadEmpty(){this.fire(new o.k("dataloading",{dataType:"style"})),this._load(Ma,{validate:!1})}_load(a,d,m){var v;const w=d.transformStyle?d.transformStyle(m,a):a;if(!d.validate||!Ri(this,o.y(w))){this._loaded=!0,this.stylesheet=w;for(const E in w.sources)this.addSource(E,w.sources[E],{validate:!1});w.sprite?this._loadSprite(w.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(w.glyphs),this._createLayers(),this.light=new Ce(this.stylesheet.light),this.map.setTerrain((v=this.stylesheet.terrain)!==null&&v!==void 0?v:null),this.fire(new o.k("data",{dataType:"style"})),this.fire(new o.k("style.load"))}}_createLayers(){const a=o.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",a),this._order=a.map(d=>d.id),this._layers={},this._serializedLayers=null;for(const d of a){const m=o.aC(d);m.setEventedParent(this,{layer:{id:d.id}}),this._layers[d.id]=m}}_loadSprite(a,d=!1,m=void 0){this.imageManager.setLoaded(!1),this._spriteRequest=function(v,w,E,P){const M=H(v),z=M.length,N=E>1?"@2x":"",U={},X={},he={};for(const{id:de,url:ge}of M){const ce=w.transformRequest(w.normalizeSpriteURL(ge,N,".json"),B.SpriteJSON),De=`${de}_${ce.url}`;U[De]=o.f(ce,(Le,Ye)=>{delete U[De],X[de]=Ye,$(P,X,he,Le,z)});const He=w.transformRequest(w.normalizeSpriteURL(ge,N,".png"),B.SpriteImage),xe=`${de}_${He.url}`;U[xe]=O.getImage(He,(Le,Ye)=>{delete U[xe],he[de]=Ye,$(P,X,he,Le,z)})}return{cancel(){for(const de of Object.values(U))de.cancel()}}}(a,this.map._requestManager,this.map.getPixelRatio(),(v,w)=>{if(this._spriteRequest=null,v)this.fire(new o.j(v));else if(w)for(const E in w){this._spritesImagesIds[E]=[];const P=this._spritesImagesIds[E]?this._spritesImagesIds[E].filter(M=>!(M in w)):[];for(const M of P)this.imageManager.removeImage(M),this._changedImages[M]=!0;for(const M in w[E]){const z=E==="default"?M:`${E}:${M}`;this._spritesImagesIds[E].push(z),z in this.imageManager.images?this.imageManager.updateImage(z,w[E][M],!1):this.imageManager.addImage(z,w[E][M]),d&&(this._changedImages[z]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),d&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"})),m&&m(v)})}_unloadSprite(){for(const a of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(a),this._changedImages[a]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}_validateLayer(a){const d=this.sourceCaches[a.source];if(!d)return;const m=a.sourceLayer;if(!m)return;const v=d.getSource();(v.type==="geojson"||v.vectorLayerIds&&v.vectorLayerIds.indexOf(m)===-1)&&this.fire(new o.j(new Error(`Source layer "${m}" does not exist on source "${v.id}" as specified by style layer "${a.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const a in this.sourceCaches)if(!this.sourceCaches[a].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(a){const d=this._serializedAllLayers();if(!a||a.length===0)return Object.values(d);const m=[];for(const v of a)d[v]&&m.push(d[v]);return m}_serializedAllLayers(){let a=this._serializedLayers;if(a)return a;a=this._serializedLayers={};const d=Object.keys(this._layers);for(const m of d){const v=this._layers[m];v.type!=="custom"&&(a[m]=v.serialize())}return a}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const a in this.sourceCaches)if(this.sourceCaches[a].hasTransition())return!0;for(const a in this._layers)if(this._layers[a].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(a){if(!this._loaded)return;const d=this._changed;if(this._changed){const v=Object.keys(this._updatedLayers),w=Object.keys(this._removedLayers);(v.length||w.length)&&this._updateWorkerLayers(v,w);for(const E in this._updatedSources){const P=this._updatedSources[E];if(P==="reload")this._reloadSource(E);else{if(P!=="clear")throw new Error(`Invalid action ${P}`);this._clearSource(E)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const E in this._updatedPaintProps)this._layers[E].updateTransitions(a);this.light.updateTransitions(a),this._resetUpdates()}const m={};for(const v in this.sourceCaches){const w=this.sourceCaches[v];m[v]=w.used,w.used=!1}for(const v of this._order){const w=this._layers[v];w.recalculate(a,this._availableImages),!w.isHidden(a.zoom)&&w.source&&(this.sourceCaches[w.source].used=!0)}for(const v in m){const w=this.sourceCaches[v];m[v]!==w.used&&w.fire(new o.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:v}))}this.light.recalculate(a),this.z=a.zoom,d&&this.fire(new o.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const a=Object.keys(this._changedImages);if(a.length){for(const d in this.sourceCaches)this.sourceCaches[d].reloadTilesForDependencies(["icons","patterns"],a);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const a in this.sourceCaches)this.sourceCaches[a].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(a,d){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(a),removedIds:d})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(a,d={}){this._checkLoaded();const m=this.serialize();if(a=d.transformStyle?d.transformStyle(m,a):a,Ri(this,o.y(a)))return!1;(a=o.aD(a)).layers=o.aB(a.layers);const v=o.aE(m,a).filter(E=>!(E.command in sy));if(v.length===0)return!1;const w=v.filter(E=>!(E.command in va));if(w.length>0)throw new Error(`Unimplemented: ${w.map(E=>E.command).join(", ")}.`);for(const E of v)E.command!=="setTransition"&&this[E.command].apply(this,E.args);return this.stylesheet=a,this._serializedLayers=null,!0}addImage(a,d){if(this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" already exists.`)));this.imageManager.addImage(a,d),this._afterImageUpdated(a)}updateImage(a,d){this.imageManager.updateImage(a,d)}getImage(a){return this.imageManager.getImage(a)}removeImage(a){if(!this.getImage(a))return this.fire(new o.j(new Error(`An image named "${a}" does not exist.`)));this.imageManager.removeImage(a),this._afterImageUpdated(a)}_afterImageUpdated(a){this._availableImages=this.imageManager.listImages(),this._changedImages[a]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(a,d,m={}){if(this._checkLoaded(),this.sourceCaches[a]!==void 0)throw new Error(`Source "${a}" already exists.`);if(!d.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(d).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(d.type)>=0&&this._validate(o.y.source,`sources.${a}`,d,null,m))return;this.map&&this.map._collectResourceTiming&&(d.collectResourceTiming=!0);const v=this.sourceCaches[a]=new yt(a,d,this.dispatcher);v.style=this,v.setEventedParent(this,()=>({isSourceLoaded:v.loaded(),source:v.serialize(),sourceId:a})),v.onAdd(this.map),this._changed=!0}removeSource(a){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error("There is no source with this ID");for(const m in this._layers)if(this._layers[m].source===a)return this.fire(new o.j(new Error(`Source "${a}" cannot be removed while layer "${m}" is using it.`)));const d=this.sourceCaches[a];delete this.sourceCaches[a],delete this._updatedSources[a],d.fire(new o.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:a})),d.setEventedParent(null),d.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(a,d){if(this._checkLoaded(),this.sourceCaches[a]===void 0)throw new Error(`There is no source with this ID=${a}`);const m=this.sourceCaches[a].getSource();if(m.type!=="geojson")throw new Error(`geojsonSource.type is ${m.type}, which is !== 'geojson`);m.setData(d),this._changed=!0}getSource(a){return this.sourceCaches[a]&&this.sourceCaches[a].getSource()}addLayer(a,d,m={}){this._checkLoaded();const v=a.id;if(this.getLayer(v))return void this.fire(new o.j(new Error(`Layer "${v}" already exists on this map.`)));let w;if(a.type==="custom"){if(Ri(this,o.aF(a)))return;w=o.aC(a)}else{if("source"in a&&typeof a.source=="object"&&(this.addSource(v,a.source),a=o.aD(a),a=o.e(a,{source:v})),this._validate(o.y.layer,`layers.${v}`,a,{arrayIndex:-1},m))return;w=o.aC(a),this._validateLayer(w),w.setEventedParent(this,{layer:{id:v}})}const E=d?this._order.indexOf(d):this._order.length;if(d&&E===-1)this.fire(new o.j(new Error(`Cannot add layer "${v}" before non-existing layer "${d}".`)));else{if(this._order.splice(E,0,v),this._layerOrderChanged=!0,this._layers[v]=w,this._removedLayers[v]&&w.source&&w.type!=="custom"){const P=this._removedLayers[v];delete this._removedLayers[v],P.type!==w.type?this._updatedSources[w.source]="clear":(this._updatedSources[w.source]="reload",this.sourceCaches[w.source].pause())}this._updateLayer(w),w.onAdd&&w.onAdd(this.map)}}moveLayer(a,d){if(this._checkLoaded(),this._changed=!0,!this._layers[a])return void this.fire(new o.j(new Error(`The layer '${a}' does not exist in the map's style and cannot be moved.`)));if(a===d)return;const m=this._order.indexOf(a);this._order.splice(m,1);const v=d?this._order.indexOf(d):this._order.length;d&&v===-1?this.fire(new o.j(new Error(`Cannot move layer "${a}" before non-existing layer "${d}".`))):(this._order.splice(v,0,a),this._layerOrderChanged=!0)}removeLayer(a){this._checkLoaded();const d=this._layers[a];if(!d)return void this.fire(new o.j(new Error(`Cannot remove non-existing layer "${a}".`)));d.setEventedParent(null);const m=this._order.indexOf(a);this._order.splice(m,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[a]=d,delete this._layers[a],this._serializedLayers&&delete this._serializedLayers[a],delete this._updatedLayers[a],delete this._updatedPaintProps[a],d.onRemove&&d.onRemove(this.map)}getLayer(a){return this._layers[a]}getLayersOrder(){return[...this._order]}hasLayer(a){return a in this._layers}setLayerZoomRange(a,d,m){this._checkLoaded();const v=this.getLayer(a);v?v.minzoom===d&&v.maxzoom===m||(d!=null&&(v.minzoom=d),m!=null&&(v.maxzoom=m),this._updateLayer(v)):this.fire(new o.j(new Error(`Cannot set the zoom range of non-existing layer "${a}".`)))}setFilter(a,d,m={}){this._checkLoaded();const v=this.getLayer(a);if(v){if(!o.aG(v.filter,d))return d==null?(v.filter=void 0,void this._updateLayer(v)):void(this._validate(o.y.filter,`layers.${v.id}.filter`,d,null,m)||(v.filter=o.aD(d),this._updateLayer(v)))}else this.fire(new o.j(new Error(`Cannot filter non-existing layer "${a}".`)))}getFilter(a){return o.aD(this.getLayer(a).filter)}setLayoutProperty(a,d,m,v={}){this._checkLoaded();const w=this.getLayer(a);w?o.aG(w.getLayoutProperty(d),m)||(w.setLayoutProperty(d,m,v),this._updateLayer(w)):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getLayoutProperty(a,d){const m=this.getLayer(a);if(m)return m.getLayoutProperty(d);this.fire(new o.j(new Error(`Cannot get style of non-existing layer "${a}".`)))}setPaintProperty(a,d,m,v={}){this._checkLoaded();const w=this.getLayer(a);w?o.aG(w.getPaintProperty(d),m)||(w.setPaintProperty(d,m,v)&&this._updateLayer(w),this._changed=!0,this._updatedPaintProps[a]=!0):this.fire(new o.j(new Error(`Cannot style non-existing layer "${a}".`)))}getPaintProperty(a,d){return this.getLayer(a).getPaintProperty(d)}setFeatureState(a,d){this._checkLoaded();const m=a.source,v=a.sourceLayer,w=this.sourceCaches[m];if(w===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const E=w.getSource().type;E==="geojson"&&v?this.fire(new o.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):E!=="vector"||v?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),w.setFeatureState(v,a.id,d)):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(a,d){this._checkLoaded();const m=a.source,v=this.sourceCaches[m];if(v===void 0)return void this.fire(new o.j(new Error(`The source '${m}' does not exist in the map's style.`)));const w=v.getSource().type,E=w==="vector"?a.sourceLayer:void 0;w!=="vector"||E?d&&typeof a.id!="string"&&typeof a.id!="number"?this.fire(new o.j(new Error("A feature id is required to remove its specific state property."))):v.removeFeatureState(E,a.id,d):this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(a){this._checkLoaded();const d=a.source,m=a.sourceLayer,v=this.sourceCaches[d];if(v!==void 0)return v.getSource().type!=="vector"||m?(a.id===void 0&&this.fire(new o.j(new Error("The feature id parameter must be provided."))),v.getFeatureState(m,a.id)):void this.fire(new o.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new o.j(new Error(`The source '${d}' does not exist in the map's style.`)))}getTransition(){return o.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const a=o.aH(this.sourceCaches,w=>w.serialize()),d=this._serializeByIds(this._order),m=this.map.getTerrain()||void 0,v=this.stylesheet;return o.aI({version:v.version,name:v.name,metadata:v.metadata,light:v.light,center:v.center,zoom:v.zoom,bearing:v.bearing,pitch:v.pitch,sprite:v.sprite,glyphs:v.glyphs,transition:v.transition,sources:a,layers:d,terrain:m},w=>w!==void 0)}_updateLayer(a){this._updatedLayers[a.id]=!0,a.source&&!this._updatedSources[a.source]&&this.sourceCaches[a.source].getSource().type!=="raster"&&(this._updatedSources[a.source]="reload",this.sourceCaches[a.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(a){const d=E=>this._layers[E].type==="fill-extrusion",m={},v=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P)){m[P]=E;for(const M of a){const z=M[P];if(z)for(const N of z)v.push(N)}}}v.sort((E,P)=>P.intersectionZ-E.intersectionZ);const w=[];for(let E=this._order.length-1;E>=0;E--){const P=this._order[E];if(d(P))for(let M=v.length-1;M>=0;M--){const z=v[M].feature;if(m[z.layer.id]<E)break;w.push(z),v.pop()}else for(const M of a){const z=M[P];if(z)for(const N of z)w.push(N.feature)}}return w}queryRenderedFeatures(a,d,m){d&&d.filter&&this._validate(o.y.filter,"queryRenderedFeatures.filter",d.filter,null,d);const v={};if(d&&d.layers){if(!Array.isArray(d.layers))return this.fire(new o.j(new Error("parameters.layers must be an Array."))),[];for(const P of d.layers){const M=this._layers[P];if(!M)return this.fire(new o.j(new Error(`The layer '${P}' does not exist in the map's style and cannot be queried for features.`))),[];v[M.source]=!0}}const w=[];d.availableImages=this._availableImages;const E=this._serializedAllLayers();for(const P in this.sourceCaches)d.layers&&!v[P]||w.push(Xe(this.sourceCaches[P],this._layers,E,a,d,m));return this.placement&&w.push(function(P,M,z,N,U,X,he){const de={},ge=X.queryRenderedSymbols(N),ce=[];for(const De of Object.keys(ge).map(Number))ce.push(he[De]);ce.sort(Ze);for(const De of ce){const He=De.featureIndex.lookupSymbolFeatures(ge[De.bucketInstanceId],M,De.bucketIndex,De.sourceLayerIndex,U.filter,U.layers,U.availableImages,P);for(const xe in He){const Le=de[xe]=de[xe]||[],Ye=He[xe];Ye.sort((Ke,st)=>{const xt=De.featureSortOrder;if(xt){const pt=xt.indexOf(Ke.featureIndex);return xt.indexOf(st.featureIndex)-pt}return st.featureIndex-Ke.featureIndex});for(const Ke of Ye)Le.push(Ke)}}for(const De in de)de[De].forEach(He=>{const xe=He.feature,Le=z[P[De].source].getFeatureState(xe.layer["source-layer"],xe.id);xe.source=xe.layer.source,xe.layer["source-layer"]&&(xe.sourceLayer=xe.layer["source-layer"]),xe.state=Le});return de}(this._layers,E,this.sourceCaches,a,d,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(w)}querySourceFeatures(a,d){d&&d.filter&&this._validate(o.y.filter,"querySourceFeatures.filter",d.filter,null,d);const m=this.sourceCaches[a];return m?function(v,w){const E=v.getRenderableIds().map(z=>v.getTileByID(z)),P=[],M={};for(let z=0;z<E.length;z++){const N=E[z],U=N.tileID.canonical.key;M[U]||(M[U]=!0,N.querySourceFeatures(P,w))}return P}(m,d):[]}addSourceType(a,d,m){return fe(a)?m(new Error(`A source type called "${a}" already exists.`)):(((v,w)=>{se[v]=w})(a,d),d.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:a,url:d.workerSourceURL},m):m(null,null))}getLight(){return this.light.getLight()}setLight(a,d={}){this._checkLoaded();const m=this.light.getLight();let v=!1;for(const E in a)if(!o.aG(a[E],m[E])){v=!0;break}if(!v)return;const w={now:o.h.now(),transition:o.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(a,d),this.light.updateTransitions(w)}_validate(a,d,m,v,w={}){return(!w||w.validate!==!1)&&Ri(this,a.call(o.y,o.e({key:d,style:this.serialize(),value:m,styleSpec:o.v},v)))}_remove(a=!0){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),o.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this.sourceCaches){const m=this.sourceCaches[d];m.setEventedParent(null),m.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(a)}_clearSource(a){this.sourceCaches[a].clearTiles()}_reloadSource(a){this.sourceCaches[a].resume(),this.sourceCaches[a].reload()}_updateSources(a){for(const d in this.sourceCaches)this.sourceCaches[d].update(a,this.map.terrain)}_generateCollisionBoxes(){for(const a in this.sourceCaches)this._reloadSource(a)}_updatePlacement(a,d,m,v,w=!1){let E=!1,P=!1;const M={};for(const z of this._order){const N=this._layers[z];if(N.type!=="symbol")continue;if(!M[N.source]){const X=this.sourceCaches[N.source];M[N.source]=X.getRenderableIds(!0).map(he=>X.getTileByID(he)).sort((he,de)=>de.tileID.overscaledZ-he.tileID.overscaledZ||(he.tileID.isLessThan(de.tileID)?-1:1))}const U=this.crossTileSymbolIndex.addLayer(N,M[N.source],a.center.lng);E=E||U}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((w=w||this._layerOrderChanged||m===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(o.h.now(),a.zoom))&&(this.pauseablePlacement=new El(a,this.map.terrain,this._order,w,d,m,v,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,M),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(o.h.now()),P=!0),E&&this.pauseablePlacement.placement.setStale()),P||E)for(const z of this._order){const N=this._layers[z];N.type==="symbol"&&this.placement.updateLayerOpacities(N,M[N.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(o.h.now())}_releaseSymbolFadeTiles(){for(const a in this.sourceCaches)this.sourceCaches[a].releaseSymbolFadeTiles()}getImages(a,d,m){this.imageManager.getImages(d.icons,m),this._updateTilesForChangedImages();const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,d.icons)}getGlyphs(a,d,m){this.glyphManager.getGlyphs(d.stacks,m);const v=this.sourceCaches[d.source];v&&v.setDependencies(d.tileID.key,d.type,[""])}getResource(a,d,m){return o.m(d,m)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(a,d={}){this._checkLoaded(),a&&this._validate(o.y.glyphs,"glyphs",a,null,d)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=a,this.glyphManager.entries={},this.glyphManager.setURL(a))}addSprite(a,d,m={},v){this._checkLoaded();const w=[{id:a,url:d}],E=[...H(this.stylesheet.sprite),...w];this._validate(o.y.sprite,"sprite",E,null,m)||(this.stylesheet.sprite=E,this._loadSprite(w,!0,v))}removeSprite(a){this._checkLoaded();const d=H(this.stylesheet.sprite);if(d.find(m=>m.id===a)){if(this._spritesImagesIds[a])for(const m of this._spritesImagesIds[a])this.imageManager.removeImage(m),this._changedImages[m]=!0;d.splice(d.findIndex(m=>m.id===a),1),this.stylesheet.sprite=d.length>0?d:void 0,delete this._spritesImagesIds[a],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new o.k("data",{dataType:"style"}))}else this.fire(new o.j(new Error(`Sprite "${a}" doesn't exists on this map.`)))}getSprite(){return H(this.stylesheet.sprite)}setSprite(a,d={},m){this._checkLoaded(),a&&this._validate(o.y.sprite,"sprite",a,null,d)||(this.stylesheet.sprite=a,a?this._loadSprite(a,!0,m):(this._unloadSprite(),m&&m(null)))}}Ci.registerForPluginStateChange=o.aK;var Au=o.Q([{name:"a_pos",type:"Int16",components:2}]),Pl="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const Dr={prelude:Hn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}`),background:Hn(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:Hn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Hn(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Hn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Hn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),heatmapTexture:Hn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Hn("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Hn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:Hn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:Hn(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),fillOutline:Hn(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillOutlinePattern:Hn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),fillPattern:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Hn(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Hn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;
#ifdef TERRAIN3D
attribute vec2 a_centroid;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Hn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:Hn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Hn(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Hn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),raster:Hn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Hn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Hn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Hn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Hn("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",Pl),terrainDepth:Hn("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",Pl),terrainCoords:Hn("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",Pl)};function Hn(_,a){const d=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,m=a.match(/attribute ([\w]+) ([\w]+)/g),v=_.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),w=a.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),E=w?w.concat(v):v,P={};return{fragmentSource:_=_.replace(d,(M,z,N,U,X)=>(P[X]=!0,z==="define"?`
#ifndef HAS_UNIFORM_u_${X}
varying ${N} ${U} ${X};
#else
uniform ${N} ${U} u_${X};
#endif
`:`
#ifdef HAS_UNIFORM_u_${X}
    ${N} ${U} ${X} = u_${X};
#endif
`)),vertexSource:a=a.replace(d,(M,z,N,U,X)=>{const he=U==="float"?"vec2":"vec4",de=X.match(/color/)?"color":he;return P[X]?z==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${N} ${he} a_${X};
varying ${N} ${U} ${X};
#else
uniform ${N} ${U} u_${X};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = a_${X};
#else
    ${N} ${U} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${X} = unpack_mix_${de}(a_${X}, u_${X}_t);
#else
    ${N} ${U} ${X} = u_${X};
#endif
`:z==="define"?`
#ifndef HAS_UNIFORM_u_${X}
uniform lowp float u_${X}_t;
attribute ${N} ${he} a_${X};
#else
uniform ${N} ${U} u_${X};
#endif
`:de==="vec4"?`
#ifndef HAS_UNIFORM_u_${X}
    ${N} ${U} ${X} = a_${X};
#else
    ${N} ${U} ${X} = u_${X};
#endif
`:`
#ifndef HAS_UNIFORM_u_${X}
    ${N} ${U} ${X} = unpack_mix_${de}(a_${X}, u_${X}_t);
#else
    ${N} ${U} ${X} = u_${X};
#endif
`}),staticAttributes:m,staticUniforms:E}}class $o{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(a,d,m,v,w,E,P,M,z){this.context=a;let N=this.boundPaintVertexBuffers.length!==v.length;for(let U=0;!N&&U<v.length;U++)this.boundPaintVertexBuffers[U]!==v[U]&&(N=!0);!this.vao||this.boundProgram!==d||this.boundLayoutVertexBuffer!==m||N||this.boundIndexBuffer!==w||this.boundVertexOffset!==E||this.boundDynamicVertexBuffer!==P||this.boundDynamicVertexBuffer2!==M||this.boundDynamicVertexBuffer3!==z?this.freshBind(d,m,v,w,E,P,M,z):(a.bindVertexArray.set(this.vao),P&&P.bind(),w&&w.dynamicDraw&&w.bind(),M&&M.bind(),z&&z.bind())}freshBind(a,d,m,v,w,E,P,M){const z=a.numAttributes,N=this.context,U=N.gl;this.vao&&this.destroy(),this.vao=N.createVertexArray(),N.bindVertexArray.set(this.vao),this.boundProgram=a,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=m,this.boundIndexBuffer=v,this.boundVertexOffset=w,this.boundDynamicVertexBuffer=E,this.boundDynamicVertexBuffer2=P,this.boundDynamicVertexBuffer3=M,d.enableAttributes(U,a);for(const X of m)X.enableAttributes(U,a);E&&E.enableAttributes(U,a),P&&P.enableAttributes(U,a),M&&M.enableAttributes(U,a),d.bind(),d.setVertexAttribPointers(U,a,w);for(const X of m)X.bind(),X.setVertexAttribPointers(U,a,w);E&&(E.bind(),E.setVertexAttribPointers(U,a,w)),v&&v.bind(),P&&(P.bind(),P.setVertexAttribPointers(U,a,w)),M&&(M.bind(),M.setVertexAttribPointers(U,a,w)),N.currentNumAttributes=z}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function Vr(_){const a=[];for(let d=0;d<_.length;d++){if(_[d]===null)continue;const m=_[d].split(" ");a.push(m.pop())}return a}class Eu{constructor(a,d,m,v,w,E){const P=a.gl;this.program=P.createProgram();const M=Vr(d.staticAttributes),z=m?m.getBinderAttributes():[],N=M.concat(z),U=Dr.prelude.staticUniforms?Vr(Dr.prelude.staticUniforms):[],X=d.staticUniforms?Vr(d.staticUniforms):[],he=m?m.getBinderUniforms():[],de=U.concat(X).concat(he),ge=[];for(const Ke of de)ge.indexOf(Ke)<0&&ge.push(Ke);const ce=m?m.defines():[];w&&ce.push("#define OVERDRAW_INSPECTOR;"),E&&ce.push("#define TERRAIN3D;");const De=ce.concat(Dr.prelude.fragmentSource,d.fragmentSource).join(`
`),He=ce.concat(Dr.prelude.vertexSource,d.vertexSource).join(`
`),xe=P.createShader(P.FRAGMENT_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(xe,De),P.compileShader(xe),!P.getShaderParameter(xe,P.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${P.getShaderInfoLog(xe)}`);P.attachShader(this.program,xe);const Le=P.createShader(P.VERTEX_SHADER);if(P.isContextLost())return void(this.failedToCreate=!0);if(P.shaderSource(Le,He),P.compileShader(Le),!P.getShaderParameter(Le,P.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${P.getShaderInfoLog(Le)}`);P.attachShader(this.program,Le),this.attributes={};const Ye={};this.numAttributes=N.length;for(let Ke=0;Ke<this.numAttributes;Ke++)N[Ke]&&(P.bindAttribLocation(this.program,Ke,N[Ke]),this.attributes[N[Ke]]=Ke);if(P.linkProgram(this.program),!P.getProgramParameter(this.program,P.LINK_STATUS))throw new Error(`Program failed to link: ${P.getProgramInfoLog(this.program)}`);P.deleteShader(Le),P.deleteShader(xe);for(let Ke=0;Ke<ge.length;Ke++){const st=ge[Ke];if(st&&!Ye[st]){const xt=P.getUniformLocation(this.program,st);xt&&(Ye[st]=xt)}}this.fixedUniforms=v(a,Ye),this.terrainUniforms=((Ke,st)=>({u_depth:new o.aL(Ke,st.u_depth),u_terrain:new o.aL(Ke,st.u_terrain),u_terrain_dim:new o.aM(Ke,st.u_terrain_dim),u_terrain_matrix:new o.aN(Ke,st.u_terrain_matrix),u_terrain_unpack:new o.aO(Ke,st.u_terrain_unpack),u_terrain_exaggeration:new o.aM(Ke,st.u_terrain_exaggeration)}))(a,Ye),this.binderUniforms=m?m.getUniforms(a,Ye):[]}draw(a,d,m,v,w,E,P,M,z,N,U,X,he,de,ge,ce,De,He){const xe=a.gl;if(this.failedToCreate)return;if(a.program.set(this.program),a.setDepthMode(m),a.setStencilMode(v),a.setColorMode(w),a.setCullFace(E),M){a.activeTexture.set(xe.TEXTURE2),xe.bindTexture(xe.TEXTURE_2D,M.depthTexture),a.activeTexture.set(xe.TEXTURE3),xe.bindTexture(xe.TEXTURE_2D,M.texture);for(const Ye in this.terrainUniforms)this.terrainUniforms[Ye].set(M[Ye])}for(const Ye in this.fixedUniforms)this.fixedUniforms[Ye].set(P[Ye]);ge&&ge.setUniforms(a,this.binderUniforms,he,{zoom:de});let Le=0;switch(d){case xe.LINES:Le=2;break;case xe.TRIANGLES:Le=3;break;case xe.LINE_STRIP:Le=1}for(const Ye of X.get()){const Ke=Ye.vaos||(Ye.vaos={});(Ke[z]||(Ke[z]=new $o)).bind(a,this,N,ge?ge.getPaintVertexBuffers():[],U,Ye.vertexOffset,ce,De,He),xe.drawElements(d,Ye.primitiveLength*Le,xe.UNSIGNED_SHORT,Ye.primitiveOffset*Le*2)}}}function La(_,a,d){const m=1/Ee(d,1,a.transform.tileZoom),v=Math.pow(2,d.tileID.overscaledZ),w=d.tileSize*Math.pow(2,a.transform.tileZoom)/v,E=w*(d.tileID.canonical.x+d.tileID.wrap*v),P=w*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_scale:[m,_.fromScale,_.toScale],u_fade:_.t,u_pixel_coord_upper:[E>>16,P>>16],u_pixel_coord_lower:[65535&E,65535&P]}}const lh=(_,a,d,m)=>{const v=a.style.light,w=v.properties.get("position"),E=[w.x,w.y,w.z],P=function(){var z=new o.A(9);return o.A!=Float32Array&&(z[1]=0,z[2]=0,z[3]=0,z[5]=0,z[6]=0,z[7]=0),z[0]=1,z[4]=1,z[8]=1,z}();v.properties.get("anchor")==="viewport"&&function(z,N){var U=Math.sin(N),X=Math.cos(N);z[0]=X,z[1]=U,z[2]=0,z[3]=-U,z[4]=X,z[5]=0,z[6]=0,z[7]=0,z[8]=1}(P,-a.transform.angle),function(z,N,U){var X=N[0],he=N[1],de=N[2];z[0]=X*U[0]+he*U[3]+de*U[6],z[1]=X*U[1]+he*U[4]+de*U[7],z[2]=X*U[2]+he*U[5]+de*U[8]}(E,E,P);const M=v.properties.get("color");return{u_matrix:_,u_lightpos:E,u_lightintensity:v.properties.get("intensity"),u_lightcolor:[M.r,M.g,M.b],u_vertical_gradient:+d,u_opacity:m}},mo=(_,a,d,m,v,w,E)=>o.e(lh(_,a,d,m),La(w,a,E),{u_height_factor:-Math.pow(2,v.overscaledZ)/E.tileSize/8}),Bm=_=>({u_matrix:_}),ch=(_,a,d,m)=>o.e(Bm(_),La(d,a,m)),Iu=(_,a)=>({u_matrix:_,u_world:a}),Pu=(_,a,d,m,v)=>o.e(ch(_,a,d,m),{u_world:v}),po=(_,a,d,m)=>{const v=_.transform;let w,E;if(m.paint.get("circle-pitch-alignment")==="map"){const P=Ee(d,1,v.zoom);w=!0,E=[P,P]}else w=!1,E=v.pixelsToGLUnits;return{u_camera_to_center_distance:v.cameraToCenterDistance,u_scale_with_map:+(m.paint.get("circle-pitch-scale")==="map"),u_matrix:_.translatePosMatrix(a.posMatrix,d,m.paint.get("circle-translate"),m.paint.get("circle-translate-anchor")),u_pitch_with_map:+w,u_device_pixel_ratio:_.pixelRatio,u_extrude_scale:E}},uh=(_,a,d)=>{const m=Ee(d,1,a.zoom),v=Math.pow(2,a.zoom-d.tileID.overscaledZ),w=d.tileID.overscaleFactor();return{u_matrix:_,u_camera_to_center_distance:a.cameraToCenterDistance,u_pixels_to_tile_units:m,u_extrude_scale:[a.pixelsToGLUnits[0]/(m*v),a.pixelsToGLUnits[1]/(m*v)],u_overscale_factor:w}},bc=(_,a,d=1)=>({u_matrix:_,u_color:a,u_overlay:0,u_overlay_scale:d}),Vm=_=>({u_matrix:_}),oy=(_,a,d,m)=>({u_matrix:_,u_extrude_scale:Ee(a,1,d),u_intensity:m});function dh(_,a){const d=Math.pow(2,a.canonical.z),m=a.canonical.y;return[new o.U(0,m/d).toLngLat().lat,new o.U(0,(m+1)/d).toLngLat().lat]}const hh=(_,a,d,m)=>{const v=_.transform;return{u_matrix:Du(_,a,d,m),u_ratio:1/Ee(a,1,v.zoom),u_device_pixel_ratio:_.pixelRatio,u_units_to_pixels:[1/v.pixelsToGLUnits[0],1/v.pixelsToGLUnits[1]]}},Nm=(_,a,d,m,v)=>o.e(hh(_,a,d,v),{u_image:0,u_image_height:m}),ly=(_,a,d,m,v)=>{const w=_.transform,E=Um(a,w);return{u_matrix:Du(_,a,d,v),u_texsize:a.imageAtlasTexture.size,u_ratio:1/Ee(a,1,w.zoom),u_device_pixel_ratio:_.pixelRatio,u_image:0,u_scale:[E,m.fromScale,m.toScale],u_fade:m.t,u_units_to_pixels:[1/w.pixelsToGLUnits[0],1/w.pixelsToGLUnits[1]]}},$m=(_,a,d,m,v,w)=>{const E=_.lineAtlas,P=Um(a,_.transform),M=d.layout.get("line-cap")==="round",z=E.getDash(m.from,M),N=E.getDash(m.to,M),U=z.width*v.fromScale,X=N.width*v.toScale;return o.e(hh(_,a,d,w),{u_patternscale_a:[P/U,-z.height/2],u_patternscale_b:[P/X,-N.height/2],u_sdfgamma:E.width/(256*Math.min(U,X)*_.pixelRatio)/2,u_image:0,u_tex_y_a:z.y,u_tex_y_b:N.y,u_mix:v.t})};function Um(_,a){return 1/Ee(_,1,a.tileZoom)}function Du(_,a,d,m){return _.translatePosMatrix(m?m.posMatrix:a.tileID.posMatrix,a,d.paint.get("line-translate"),d.paint.get("line-translate-anchor"))}const qm=(_,a,d,m,v)=>{return{u_matrix:_,u_tl_parent:a,u_scale_parent:d,u_buffer_scale:1,u_fade_t:m.mix,u_opacity:m.opacity*v.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:v.paint.get("raster-brightness-min"),u_brightness_high:v.paint.get("raster-brightness-max"),u_saturation_factor:(E=v.paint.get("raster-saturation"),E>0?1-1/(1.001-E):-E),u_contrast_factor:(w=v.paint.get("raster-contrast"),w>0?1/(1-w):1+w),u_spin_weights:jm(v.paint.get("raster-hue-rotate"))};var w,E};function jm(_){_*=Math.PI/180;const a=Math.sin(_),d=Math.cos(_);return[(2*d+1)/3,(-Math.sqrt(3)*a-d+1)/3,(Math.sqrt(3)*a-d+1)/3]}const fh=(_,a,d,m,v,w,E,P,M,z)=>{const N=v.transform;return{u_is_size_zoom_constant:+(_==="constant"||_==="source"),u_is_size_feature_constant:+(_==="constant"||_==="camera"),u_size_t:a?a.uSizeT:0,u_size:a?a.uSize:0,u_camera_to_center_distance:N.cameraToCenterDistance,u_pitch:N.pitch/360*2*Math.PI,u_rotate_symbol:+d,u_aspect_ratio:N.width/N.height,u_fade_change:v.options.fadeDuration?v.symbolFadeChange:1,u_matrix:w,u_label_plane_matrix:E,u_coord_matrix:P,u_is_text:+M,u_pitch_with_map:+m,u_texsize:z,u_texture:0}},mh=(_,a,d,m,v,w,E,P,M,z,N)=>{const U=v.transform;return o.e(fh(_,a,d,m,v,w,E,P,M,z),{u_gamma_scale:m?Math.cos(U._pitch)*U.cameraToCenterDistance:1,u_device_pixel_ratio:v.pixelRatio,u_is_halo:+N})},Uo=(_,a,d,m,v,w,E,P,M,z)=>o.e(mh(_,a,d,m,v,w,E,P,!0,M,!0),{u_texsize_icon:z,u_texture_icon:1}),Mu=(_,a,d)=>({u_matrix:_,u_opacity:a,u_color:d}),Ra=(_,a,d,m,v,w)=>o.e(function(E,P,M,z){const N=M.imageManager.getPattern(E.from.toString()),U=M.imageManager.getPattern(E.to.toString()),{width:X,height:he}=M.imageManager.getPixelSize(),de=Math.pow(2,z.tileID.overscaledZ),ge=z.tileSize*Math.pow(2,M.transform.tileZoom)/de,ce=ge*(z.tileID.canonical.x+z.tileID.wrap*de),De=ge*z.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:N.tl,u_pattern_br_a:N.br,u_pattern_tl_b:U.tl,u_pattern_br_b:U.br,u_texsize:[X,he],u_mix:P.t,u_pattern_size_a:N.displaySize,u_pattern_size_b:U.displaySize,u_scale_a:P.fromScale,u_scale_b:P.toScale,u_tile_units_to_pixels:1/Ee(z,1,M.transform.tileZoom),u_pixel_coord_upper:[ce>>16,De>>16],u_pixel_coord_lower:[65535&ce,65535&De]}}(m,w,d,v),{u_matrix:_,u_opacity:a}),Lu={fillExtrusion:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_opacity:new o.aM(_,a.u_opacity)}),fillExtrusionPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_lightpos:new o.aP(_,a.u_lightpos),u_lightintensity:new o.aM(_,a.u_lightintensity),u_lightcolor:new o.aP(_,a.u_lightcolor),u_vertical_gradient:new o.aM(_,a.u_vertical_gradient),u_height_factor:new o.aM(_,a.u_height_factor),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade),u_opacity:new o.aM(_,a.u_opacity)}),fill:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),fillPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),fillOutline:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world)}),fillOutlinePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_texsize:new o.aQ(_,a.u_texsize),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),circle:(_,a)=>({u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_scale_with_map:new o.aL(_,a.u_scale_with_map),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_matrix:new o.aN(_,a.u_matrix)}),collisionBox:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pixels_to_tile_units:new o.aM(_,a.u_pixels_to_tile_units),u_extrude_scale:new o.aQ(_,a.u_extrude_scale),u_overscale_factor:new o.aM(_,a.u_overscale_factor)}),collisionCircle:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_inv_matrix:new o.aN(_,a.u_inv_matrix),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_viewport_size:new o.aQ(_,a.u_viewport_size)}),debug:(_,a)=>({u_color:new o.aR(_,a.u_color),u_matrix:new o.aN(_,a.u_matrix),u_overlay:new o.aL(_,a.u_overlay),u_overlay_scale:new o.aM(_,a.u_overlay_scale)}),clippingMask:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix)}),heatmap:(_,a)=>({u_extrude_scale:new o.aM(_,a.u_extrude_scale),u_intensity:new o.aM(_,a.u_intensity),u_matrix:new o.aN(_,a.u_matrix)}),heatmapTexture:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_world:new o.aQ(_,a.u_world),u_image:new o.aL(_,a.u_image),u_color_ramp:new o.aL(_,a.u_color_ramp),u_opacity:new o.aM(_,a.u_opacity)}),hillshade:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_latrange:new o.aQ(_,a.u_latrange),u_light:new o.aQ(_,a.u_light),u_shadow:new o.aR(_,a.u_shadow),u_highlight:new o.aR(_,a.u_highlight),u_accent:new o.aR(_,a.u_accent)}),hillshadePrepare:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_image:new o.aL(_,a.u_image),u_dimension:new o.aQ(_,a.u_dimension),u_zoom:new o.aM(_,a.u_zoom),u_unpack:new o.aO(_,a.u_unpack)}),line:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels)}),lineGradient:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_image:new o.aL(_,a.u_image),u_image_height:new o.aM(_,a.u_image_height)}),linePattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texsize:new o.aQ(_,a.u_texsize),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_image:new o.aL(_,a.u_image),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_scale:new o.aP(_,a.u_scale),u_fade:new o.aM(_,a.u_fade)}),lineSDF:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ratio:new o.aM(_,a.u_ratio),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_units_to_pixels:new o.aQ(_,a.u_units_to_pixels),u_patternscale_a:new o.aQ(_,a.u_patternscale_a),u_patternscale_b:new o.aQ(_,a.u_patternscale_b),u_sdfgamma:new o.aM(_,a.u_sdfgamma),u_image:new o.aL(_,a.u_image),u_tex_y_a:new o.aM(_,a.u_tex_y_a),u_tex_y_b:new o.aM(_,a.u_tex_y_b),u_mix:new o.aM(_,a.u_mix)}),raster:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_tl_parent:new o.aQ(_,a.u_tl_parent),u_scale_parent:new o.aM(_,a.u_scale_parent),u_buffer_scale:new o.aM(_,a.u_buffer_scale),u_fade_t:new o.aM(_,a.u_fade_t),u_opacity:new o.aM(_,a.u_opacity),u_image0:new o.aL(_,a.u_image0),u_image1:new o.aL(_,a.u_image1),u_brightness_low:new o.aM(_,a.u_brightness_low),u_brightness_high:new o.aM(_,a.u_brightness_high),u_saturation_factor:new o.aM(_,a.u_saturation_factor),u_contrast_factor:new o.aM(_,a.u_contrast_factor),u_spin_weights:new o.aP(_,a.u_spin_weights)}),symbolIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture)}),symbolSDF:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texture:new o.aL(_,a.u_texture),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),symbolTextAndIcon:(_,a)=>({u_is_size_zoom_constant:new o.aL(_,a.u_is_size_zoom_constant),u_is_size_feature_constant:new o.aL(_,a.u_is_size_feature_constant),u_size_t:new o.aM(_,a.u_size_t),u_size:new o.aM(_,a.u_size),u_camera_to_center_distance:new o.aM(_,a.u_camera_to_center_distance),u_pitch:new o.aM(_,a.u_pitch),u_rotate_symbol:new o.aL(_,a.u_rotate_symbol),u_aspect_ratio:new o.aM(_,a.u_aspect_ratio),u_fade_change:new o.aM(_,a.u_fade_change),u_matrix:new o.aN(_,a.u_matrix),u_label_plane_matrix:new o.aN(_,a.u_label_plane_matrix),u_coord_matrix:new o.aN(_,a.u_coord_matrix),u_is_text:new o.aL(_,a.u_is_text),u_pitch_with_map:new o.aL(_,a.u_pitch_with_map),u_texsize:new o.aQ(_,a.u_texsize),u_texsize_icon:new o.aQ(_,a.u_texsize_icon),u_texture:new o.aL(_,a.u_texture),u_texture_icon:new o.aL(_,a.u_texture_icon),u_gamma_scale:new o.aM(_,a.u_gamma_scale),u_device_pixel_ratio:new o.aM(_,a.u_device_pixel_ratio),u_is_halo:new o.aL(_,a.u_is_halo)}),background:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_color:new o.aR(_,a.u_color)}),backgroundPattern:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_opacity:new o.aM(_,a.u_opacity),u_image:new o.aL(_,a.u_image),u_pattern_tl_a:new o.aQ(_,a.u_pattern_tl_a),u_pattern_br_a:new o.aQ(_,a.u_pattern_br_a),u_pattern_tl_b:new o.aQ(_,a.u_pattern_tl_b),u_pattern_br_b:new o.aQ(_,a.u_pattern_br_b),u_texsize:new o.aQ(_,a.u_texsize),u_mix:new o.aM(_,a.u_mix),u_pattern_size_a:new o.aQ(_,a.u_pattern_size_a),u_pattern_size_b:new o.aQ(_,a.u_pattern_size_b),u_scale_a:new o.aM(_,a.u_scale_a),u_scale_b:new o.aM(_,a.u_scale_b),u_pixel_coord_upper:new o.aQ(_,a.u_pixel_coord_upper),u_pixel_coord_lower:new o.aQ(_,a.u_pixel_coord_lower),u_tile_units_to_pixels:new o.aM(_,a.u_tile_units_to_pixels)}),terrain:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainDepth:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_ele_delta:new o.aM(_,a.u_ele_delta)}),terrainCoords:(_,a)=>({u_matrix:new o.aN(_,a.u_matrix),u_texture:new o.aL(_,a.u_texture),u_terrain_coords_id:new o.aM(_,a.u_terrain_coords_id),u_ele_delta:new o.aM(_,a.u_ele_delta)})};class Ru{constructor(a,d,m){this.context=a;const v=a.gl;this.buffer=v.createBuffer(),this.dynamicDraw=!!m,this.context.unbindVAO(),a.bindElementBuffer.set(this.buffer),v.bufferData(v.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?v.DYNAMIC_DRAW:v.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(a){const d=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,a.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const xc={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ou{constructor(a,d,m,v){this.length=d.length,this.attributes=m,this.itemSize=d.bytesPerElement,this.dynamicDraw=v,this.context=a;const w=a.gl;this.buffer=w.createBuffer(),a.bindVertexBuffer.set(this.buffer),w.bufferData(w.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?w.DYNAMIC_DRAW:w.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(a){if(a.length!==this.length)throw new Error(`Length of new data is ${a.length}, which doesn't match current length of ${this.length}`);const d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,a.arrayBuffer)}enableAttributes(a,d){for(let m=0;m<this.attributes.length;m++){const v=d.attributes[this.attributes[m].name];v!==void 0&&a.enableVertexAttribArray(v)}}setVertexAttribPointers(a,d,m){for(let v=0;v<this.attributes.length;v++){const w=this.attributes[v],E=d.attributes[w.name];E!==void 0&&a.vertexAttribPointer(E,w.components,a[xc[w.type]],!1,this.itemSize,w.offset+this.itemSize*(m||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Dl=new WeakMap;function go(_){var a;if(Dl.has(_))return Dl.get(_);{const d=(a=_.getParameter(_.VERSION))===null||a===void 0?void 0:a.startsWith("WebGL 2.0");return Dl.set(_,d),d}}class Fn{constructor(a){this.gl=a.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(a){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Fu extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.clearColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class ya extends Fn{getDefault(){return 1}set(a){(a!==this.current||this.dirty)&&(this.gl.clearDepth(a),this.current=a,this.dirty=!1)}}class _a extends Fn{getDefault(){return 0}set(a){(a!==this.current||this.dirty)&&(this.gl.clearStencil(a),this.current=a,this.dirty=!1)}}class ph extends Fn{getDefault(){return[!0,!0,!0,!0]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.colorMask(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class zu extends Fn{getDefault(){return!0}set(a){(a!==this.current||this.dirty)&&(this.gl.depthMask(a),this.current=a,this.dirty=!1)}}class Bu extends Fn{getDefault(){return 255}set(a){(a!==this.current||this.dirty)&&(this.gl.stencilMask(a),this.current=a,this.dirty=!1)}}class gh extends Fn{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(a){const d=this.current;(a.func!==d.func||a.ref!==d.ref||a.mask!==d.mask||this.dirty)&&(this.gl.stencilFunc(a.func,a.ref,a.mask),this.current=a,this.dirty=!1)}}class vh extends Fn{getDefault(){const a=this.gl;return[a.KEEP,a.KEEP,a.KEEP]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||this.dirty)&&(this.gl.stencilOp(a[0],a[1],a[2]),this.current=a,this.dirty=!1)}}class Vu extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.STENCIL_TEST):d.disable(d.STENCIL_TEST),this.current=a,this.dirty=!1}}class yh extends Fn{getDefault(){return[0,1]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.depthRange(a[0],a[1]),this.current=a,this.dirty=!1)}}class _h extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.DEPTH_TEST):d.disable(d.DEPTH_TEST),this.current=a,this.dirty=!1}}class Nu extends Fn{getDefault(){return this.gl.LESS}set(a){(a!==this.current||this.dirty)&&(this.gl.depthFunc(a),this.current=a,this.dirty=!1)}}class Hm extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.BLEND):d.disable(d.BLEND),this.current=a,this.dirty=!1}}class Gm extends Fn{getDefault(){const a=this.gl;return[a.ONE,a.ZERO]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||this.dirty)&&(this.gl.blendFunc(a[0],a[1]),this.current=a,this.dirty=!1)}}class Ml extends Fn{getDefault(){return o.aT.transparent}set(a){const d=this.current;(a.r!==d.r||a.g!==d.g||a.b!==d.b||a.a!==d.a||this.dirty)&&(this.gl.blendColor(a.r,a.g,a.b,a.a),this.current=a,this.dirty=!1)}}class cy extends Fn{getDefault(){return this.gl.FUNC_ADD}set(a){(a!==this.current||this.dirty)&&(this.gl.blendEquation(a),this.current=a,this.dirty=!1)}}class uy extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;a?d.enable(d.CULL_FACE):d.disable(d.CULL_FACE),this.current=a,this.dirty=!1}}class dy extends Fn{getDefault(){return this.gl.BACK}set(a){(a!==this.current||this.dirty)&&(this.gl.cullFace(a),this.current=a,this.dirty=!1)}}class hy extends Fn{getDefault(){return this.gl.CCW}set(a){(a!==this.current||this.dirty)&&(this.gl.frontFace(a),this.current=a,this.dirty=!1)}}class fy extends Fn{getDefault(){return null}set(a){(a!==this.current||this.dirty)&&(this.gl.useProgram(a),this.current=a,this.dirty=!1)}}class my extends Fn{getDefault(){return this.gl.TEXTURE0}set(a){(a!==this.current||this.dirty)&&(this.gl.activeTexture(a),this.current=a,this.dirty=!1)}}class bh extends Fn{getDefault(){const a=this.gl;return[0,0,a.drawingBufferWidth,a.drawingBufferHeight]}set(a){const d=this.current;(a[0]!==d[0]||a[1]!==d[1]||a[2]!==d[2]||a[3]!==d[3]||this.dirty)&&(this.gl.viewport(a[0],a[1],a[2],a[3]),this.current=a,this.dirty=!1)}}class $u extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindFramebuffer(d.FRAMEBUFFER,a),this.current=a,this.dirty=!1}}class xh extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindRenderbuffer(d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class wh extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindTexture(d.TEXTURE_2D,a),this.current=a,this.dirty=!1}}class Ll extends Fn{getDefault(){return null}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.bindBuffer(d.ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Wm extends Fn{getDefault(){return null}set(a){const d=this.gl;d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a),this.current=a,this.dirty=!1}}class Ym extends Fn{getDefault(){return null}set(a){var d;if(a===this.current&&!this.dirty)return;const m=this.gl;go(m)?m.bindVertexArray(a):(d=m.getExtension("OES_vertex_array_object"))===null||d===void 0||d.bindVertexArrayOES(a),this.current=a,this.dirty=!1}}class Sh extends Fn{getDefault(){return 4}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_ALIGNMENT,a),this.current=a,this.dirty=!1}}class qo extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a),this.current=a,this.dirty=!1}}class Zm extends Fn{getDefault(){return!1}set(a){if(a===this.current&&!this.dirty)return;const d=this.gl;d.pixelStorei(d.UNPACK_FLIP_Y_WEBGL,a),this.current=a,this.dirty=!1}}class vo extends Fn{constructor(a,d){super(a),this.context=a,this.parent=d}getDefault(){return null}}class Rl extends vo{setDirty(){this.dirty=!0}set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferTexture2D(d.FRAMEBUFFER,d.COLOR_ATTACHMENT0,d.TEXTURE_2D,a,0),this.current=a,this.dirty=!1}}class Km extends vo{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class kh extends vo{set(a){if(a===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const d=this.gl;d.framebufferRenderbuffer(d.FRAMEBUFFER,d.DEPTH_STENCIL_ATTACHMENT,d.RENDERBUFFER,a),this.current=a,this.dirty=!1}}class Gn{constructor(a,d,m,v,w){this.context=a,this.width=d,this.height=m;const E=a.gl,P=this.framebuffer=E.createFramebuffer();if(this.colorAttachment=new Rl(a,P),v)this.depthAttachment=w?new kh(a,P):new Km(a,P);else if(w)throw new Error("Stencil cannot be setted without depth");if(E.checkFramebufferStatus(E.FRAMEBUFFER)!==E.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const a=this.context.gl,d=this.colorAttachment.get();if(d&&a.deleteTexture(d),this.depthAttachment){const m=this.depthAttachment.get();m&&a.deleteRenderbuffer(m)}a.deleteFramebuffer(this.framebuffer)}}class Mr{constructor(a,d,m){this.blendFunction=a,this.blendColor=d,this.mask=m}}Mr.Replace=[1,0],Mr.disabled=new Mr(Mr.Replace,o.aT.transparent,[!1,!1,!1,!1]),Mr.unblended=new Mr(Mr.Replace,o.aT.transparent,[!0,!0,!0,!0]),Mr.alphaBlended=new Mr([1,771],o.aT.transparent,[!0,!0,!0,!0]);class py{constructor(a){var d,m;if(this.gl=a,this.clearColor=new Fu(this),this.clearDepth=new ya(this),this.clearStencil=new _a(this),this.colorMask=new ph(this),this.depthMask=new zu(this),this.stencilMask=new Bu(this),this.stencilFunc=new gh(this),this.stencilOp=new vh(this),this.stencilTest=new Vu(this),this.depthRange=new yh(this),this.depthTest=new _h(this),this.depthFunc=new Nu(this),this.blend=new Hm(this),this.blendFunc=new Gm(this),this.blendColor=new Ml(this),this.blendEquation=new cy(this),this.cullFace=new uy(this),this.cullFaceSide=new dy(this),this.frontFace=new hy(this),this.program=new fy(this),this.activeTexture=new my(this),this.viewport=new bh(this),this.bindFramebuffer=new $u(this),this.bindRenderbuffer=new xh(this),this.bindTexture=new wh(this),this.bindVertexBuffer=new Ll(this),this.bindElementBuffer=new Wm(this),this.bindVertexArray=new Ym(this),this.pixelStoreUnpack=new Sh(this),this.pixelStoreUnpackPremultiplyAlpha=new qo(this),this.pixelStoreUnpackFlipY=new Zm(this),this.extTextureFilterAnisotropic=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=a.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),go(a)){this.HALF_FLOAT=a.HALF_FLOAT;const v=a.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(d=a.RGBA16F)!==null&&d!==void 0?d:v==null?void 0:v.RGBA16F_EXT,this.RGB16F=(m=a.RGB16F)!==null&&m!==void 0?m:v==null?void 0:v.RGB16F_EXT,a.getExtension("EXT_color_buffer_float")}else{a.getExtension("EXT_color_buffer_half_float"),a.getExtension("OES_texture_half_float_linear");const v=a.getExtension("OES_texture_half_float");this.HALF_FLOAT=v==null?void 0:v.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(a,d){return new Ru(this,a,d)}createVertexBuffer(a,d,m){return new Ou(this,a,d,m)}createRenderbuffer(a,d,m){const v=this.gl,w=v.createRenderbuffer();return this.bindRenderbuffer.set(w),v.renderbufferStorage(v.RENDERBUFFER,a,d,m),this.bindRenderbuffer.set(null),w}createFramebuffer(a,d,m,v){return new Gn(this,a,d,m,v)}clear({color:a,depth:d,stencil:m}){const v=this.gl;let w=0;a&&(w|=v.COLOR_BUFFER_BIT,this.clearColor.set(a),this.colorMask.set([!0,!0,!0,!0])),d!==void 0&&(w|=v.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(d),this.depthMask.set(!0)),m!==void 0&&(w|=v.STENCIL_BUFFER_BIT,this.clearStencil.set(m),this.stencilMask.set(255)),v.clear(w)}setCullFace(a){a.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(a.mode),this.frontFace.set(a.frontFace))}setDepthMode(a){a.func!==this.gl.ALWAYS||a.mask?(this.depthTest.set(!0),this.depthFunc.set(a.func),this.depthMask.set(a.mask),this.depthRange.set(a.range)):this.depthTest.set(!1)}setStencilMode(a){a.test.func!==this.gl.ALWAYS||a.mask?(this.stencilTest.set(!0),this.stencilMask.set(a.mask),this.stencilOp.set([a.fail,a.depthFail,a.pass]),this.stencilFunc.set({func:a.test.func,ref:a.ref,mask:a.test.mask})):this.stencilTest.set(!1)}setColorMode(a){o.aG(a.blendFunction,Mr.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(a.blendFunction),this.blendColor.set(a.blendColor)),this.colorMask.set(a.mask)}createVertexArray(){var a;return go(this.gl)?this.gl.createVertexArray():(a=this.gl.getExtension("OES_vertex_array_object"))===null||a===void 0?void 0:a.createVertexArrayOES()}deleteVertexArray(a){var d;return go(this.gl)?this.gl.deleteVertexArray(a):(d=this.gl.getExtension("OES_vertex_array_object"))===null||d===void 0?void 0:d.deleteVertexArrayOES(a)}unbindVAO(){this.bindVertexArray.set(null)}}class zn{constructor(a,d,m){this.func=a,this.mask=d,this.range=m}}zn.ReadOnly=!1,zn.ReadWrite=!0,zn.disabled=new zn(519,zn.ReadOnly,[0,1]);const jo=7680;class Lr{constructor(a,d,m,v,w,E){this.test=a,this.ref=d,this.mask=m,this.fail=v,this.depthFail=w,this.pass=E}}Lr.disabled=new Lr({func:519,mask:0},0,0,jo,jo,jo);class Cr{constructor(a,d,m){this.enable=a,this.mode=d,this.frontFace=m}}let wc;function Xm(_,a,d,m,v,w,E){const P=_.context,M=P.gl,z=_.useProgram("collisionBox"),N=[];let U=0,X=0;for(let xe=0;xe<m.length;xe++){const Le=m[xe],Ye=a.getTile(Le),Ke=Ye.getBucket(d);if(!Ke)continue;let st=Le.posMatrix;v[0]===0&&v[1]===0||(st=_.translatePosMatrix(Le.posMatrix,Ye,v,w));const xt=E?Ke.textCollisionBox:Ke.iconCollisionBox,pt=Ke.collisionCircleArray;if(pt.length>0){const Et=o.Z(),Yt=st;o.aU(Et,Ke.placementInvProjMatrix,_.transform.glCoordMatrix),o.aU(Et,Et,Ke.placementViewportMatrix),N.push({circleArray:pt,circleOffset:X,transform:Yt,invTransform:Et,coord:Le}),U+=pt.length/4,X=U}xt&&z.draw(P,M.LINES,zn.disabled,Lr.disabled,_.colorModeForRenderPass(),Cr.disabled,uh(st,_.transform,Ye),_.style.map.terrain&&_.style.map.terrain.getTerrainData(Le),d.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,null,_.transform.zoom,null,null,xt.collisionVertexBuffer)}if(!E||!N.length)return;const he=_.useProgram("collisionCircle"),de=new o.aV;de.resize(4*U),de._trim();let ge=0;for(const xe of N)for(let Le=0;Le<xe.circleArray.length/4;Le++){const Ye=4*Le,Ke=xe.circleArray[Ye+0],st=xe.circleArray[Ye+1],xt=xe.circleArray[Ye+2],pt=xe.circleArray[Ye+3];de.emplace(ge++,Ke,st,xt,pt,0),de.emplace(ge++,Ke,st,xt,pt,1),de.emplace(ge++,Ke,st,xt,pt,2),de.emplace(ge++,Ke,st,xt,pt,3)}(!wc||wc.length<2*U)&&(wc=function(xe){const Le=2*xe,Ye=new o.aX;Ye.resize(Le),Ye._trim();for(let Ke=0;Ke<Le;Ke++){const st=6*Ke;Ye.uint16[st+0]=4*Ke+0,Ye.uint16[st+1]=4*Ke+1,Ye.uint16[st+2]=4*Ke+2,Ye.uint16[st+3]=4*Ke+2,Ye.uint16[st+4]=4*Ke+3,Ye.uint16[st+5]=4*Ke+0}return Ye}(U));const ce=P.createIndexBuffer(wc,!0),De=P.createVertexBuffer(de,o.aW.members,!0);for(const xe of N){const Le={u_matrix:xe.transform,u_inv_matrix:xe.invTransform,u_camera_to_center_distance:(He=_.transform).cameraToCenterDistance,u_viewport_size:[He.width,He.height]};he.draw(P,M.TRIANGLES,zn.disabled,Lr.disabled,_.colorModeForRenderPass(),Cr.disabled,Le,_.style.map.terrain&&_.style.map.terrain.getTerrainData(xe.coord),d.id,De,ce,o.S.simpleSegment(0,2*xe.circleOffset,xe.circleArray.length,xe.circleArray.length/2),null,_.transform.zoom,null,null,null)}var He;De.destroy(),ce.destroy()}Cr.disabled=new Cr(!1,1029,2305),Cr.backCCW=new Cr(!0,1029,2305);const Ch=o.ao(new Float32Array(16));function Uu(_,a,d,m,v,w){const{horizontalAlign:E,verticalAlign:P}=o.au(_);return new o.P((-(E-.5)*a/v+m[0])*w,(-(P-.5)*d/v+m[1])*w)}function qu(_,a,d,m,v,w,E,P,M,z,N){const U=_.text.placedSymbolArray,X=_.text.dynamicLayoutVertexArray,he=_.icon.dynamicLayoutVertexArray,de={};X.clear();for(let ge=0;ge<U.length;ge++){const ce=U.get(ge),De=ce.hidden||!ce.crossTileID||_.allowVerticalPlacement&&!ce.placedOrientation?null:m[ce.crossTileID];if(De){const He=new o.P(ce.anchorX,ce.anchorY),xe=Tn(He,d?E:w,N),Le=ga(v.cameraToCenterDistance,xe.signedDistanceFromCamera);let Ye=o.aj(_.textSizeData,M,ce)*Le/o.ap;d&&(Ye*=_.tilePixelRatio/P);const{width:Ke,height:st,anchor:xt,textOffset:pt,textBoxScale:Et}=De,Yt=Uu(xt,Ke,st,pt,Et,Ye),Pn=d?Tn(He.add(Yt),w,N).point:xe.point.add(a?Yt.rotate(-v.angle):Yt),Ot=_.allowVerticalPlacement&&ce.placedOrientation===o.ai.vertical?Math.PI/2:0;for(let ln=0;ln<ce.numGlyphs;ln++)o.ak(X,Pn,Ot);z&&ce.associatedIconIndex>=0&&(de[ce.associatedIconIndex]={shiftedAnchor:Pn,angle:Ot})}else oe(ce.numGlyphs,X)}if(z){he.clear();const ge=_.icon.placedSymbolArray;for(let ce=0;ce<ge.length;ce++){const De=ge.get(ce);if(De.hidden)oe(De.numGlyphs,he);else{const He=de[ce];if(He)for(let xe=0;xe<De.numGlyphs;xe++)o.ak(he,He.shiftedAnchor,He.angle);else oe(De.numGlyphs,he)}}_.icon.dynamicLayoutVertexBuffer.updateData(he)}_.text.dynamicLayoutVertexBuffer.updateData(X)}function Th(_,a,d){return d.iconsInText&&a?"symbolTextAndIcon":_?"symbolSDF":"symbolIcon"}function ju(_,a,d,m,v,w,E,P,M,z,N,U){const X=_.context,he=X.gl,de=_.transform,ge=P==="map",ce=M==="map",De=P!=="viewport"&&d.layout.get("symbol-placement")!=="point",He=ge&&!ce&&!De,xe=!d.layout.get("symbol-sort-key").isConstant();let Le=!1;const Ye=_.depthModeForSublayer(0,zn.ReadOnly),Ke=d._unevaluatedLayout.hasValue("text-variable-anchor")||d._unevaluatedLayout.hasValue("text-variable-anchor-offset"),st=[];for(const xt of m){const pt=a.getTile(xt),Et=pt.getBucket(d);if(!Et)continue;const Yt=v?Et.text:Et.icon;if(!Yt||!Yt.segments.get().length||!Yt.hasVisibleVertices)continue;const Pn=Yt.programConfigurations.get(d.id),Ot=v||Et.sdfIcons,ln=v?Et.textSizeData:Et.iconSizeData,Kt=ce||de.pitch!==0,nr=_.useProgram(Th(Ot,v,Et),Pn),In=o.ah(ln,de.zoom),Sn=_.style.map.terrain&&_.style.map.terrain.getTerrainData(xt);let Dn,Hr,gr,Ti,ci=[0,0],Jr=null;if(v)Hr=pt.glyphAtlasTexture,gr=he.LINEAR,Dn=pt.glyphAtlasTexture.size,Et.iconsInText&&(ci=pt.imageAtlasTexture.size,Jr=pt.imageAtlasTexture,Ti=Kt||_.options.rotating||_.options.zooming||ln.kind==="composite"||ln.kind==="camera"?he.LINEAR:he.NEAREST);else{const Gr=d.layout.get("icon-size").constantOr(0)!==1||Et.iconsNeedLinear;Hr=pt.imageAtlasTexture,gr=Ot||_.options.rotating||_.options.zooming||Gr||Kt?he.LINEAR:he.NEAREST,Dn=pt.imageAtlasTexture.size}const wa=Ee(pt,1,_.transform.zoom),wr=mt(xt.posMatrix,ce,ge,_.transform,wa),ms=sr(xt.posMatrix,ce,ge,_.transform,wa),ps=Ke&&Et.hasTextData(),bo=d.layout.get("icon-text-fit")!=="none"&&ps&&Et.hasIconData();if(De){const Gr=_.style.map.terrain?(na,Wr)=>_.style.map.terrain.getElevation(xt,na,Wr):null,ui=d.layout.get("text-rotation-alignment")==="map";At(Et,xt.posMatrix,_,v,wr,ms,ce,z,ui,Gr)}const Zo=_.translatePosMatrix(xt.posMatrix,pt,w,E),$l=De||v&&Ke||bo?Ch:wr,Oi=_.translatePosMatrix(ms,pt,w,E,!0),Ai=Ot&&d.paint.get(v?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let ji;ji=Ot?Et.iconsInText?Uo(ln.kind,In,He,ce,_,Zo,$l,Oi,Dn,ci):mh(ln.kind,In,He,ce,_,Zo,$l,Oi,v,Dn,!0):fh(ln.kind,In,He,ce,_,Zo,$l,Oi,v,Dn);const Ko={program:nr,buffers:Yt,uniformValues:ji,atlasTexture:Hr,atlasTextureIcon:Jr,atlasInterpolation:gr,atlasInterpolationIcon:Ti,isSDF:Ot,hasHalo:Ai};if(xe&&Et.canOverlap){Le=!0;const Gr=Yt.segments.get();for(const ui of Gr)st.push({segments:new o.S([ui]),sortKey:ui.sortKey,state:Ko,terrainData:Sn})}else st.push({segments:Yt.segments,sortKey:0,state:Ko,terrainData:Sn})}Le&&st.sort((xt,pt)=>xt.sortKey-pt.sortKey);for(const xt of st){const pt=xt.state;if(X.activeTexture.set(he.TEXTURE0),pt.atlasTexture.bind(pt.atlasInterpolation,he.CLAMP_TO_EDGE),pt.atlasTextureIcon&&(X.activeTexture.set(he.TEXTURE1),pt.atlasTextureIcon&&pt.atlasTextureIcon.bind(pt.atlasInterpolationIcon,he.CLAMP_TO_EDGE)),pt.isSDF){const Et=pt.uniformValues;pt.hasHalo&&(Et.u_is_halo=1,Ah(pt.buffers,xt.segments,d,_,pt.program,Ye,N,U,Et,xt.terrainData)),Et.u_is_halo=0}Ah(pt.buffers,xt.segments,d,_,pt.program,Ye,N,U,pt.uniformValues,xt.terrainData)}}function Ah(_,a,d,m,v,w,E,P,M,z){const N=m.context;v.draw(N,N.gl.TRIANGLES,w,E,P,Cr.disabled,M,z,d.id,_.layoutVertexBuffer,_.indexBuffer,a,d.paint,m.transform.zoom,_.programConfigurations.get(d.id),_.dynamicLayoutVertexBuffer,_.opacityVertexBuffer)}function Sc(_,a,d,m,v){if(!d||!m||!m.imageAtlas)return;const w=m.imageAtlas.patternPositions;let E=w[d.to.toString()],P=w[d.from.toString()];if(!E&&P&&(E=P),!P&&E&&(P=E),!E||!P){const M=v.getPaintProperty(a);E=w[M],P=w[M]}E&&P&&_.setConstantPatternPositions(E,P)}function kc(_,a,d,m,v,w,E){const P=_.context.gl,M="fill-pattern",z=d.paint.get(M),N=z&&z.constantOr(1),U=d.getCrossfadeParameters();let X,he,de,ge,ce;E?(he=N&&!d.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",X=P.LINES):(he=N?"fillPattern":"fill",X=P.TRIANGLES);const De=z.constantOr(null);for(const He of m){const xe=a.getTile(He);if(N&&!xe.patternsLoaded())continue;const Le=xe.getBucket(d);if(!Le)continue;const Ye=Le.programConfigurations.get(d.id),Ke=_.useProgram(he,Ye),st=_.style.map.terrain&&_.style.map.terrain.getTerrainData(He);N&&(_.context.activeTexture.set(P.TEXTURE0),xe.imageAtlasTexture.bind(P.LINEAR,P.CLAMP_TO_EDGE),Ye.updatePaintBuffers(U)),Sc(Ye,M,De,xe,d);const xt=st?He:null,pt=_.translatePosMatrix(xt?xt.posMatrix:He.posMatrix,xe,d.paint.get("fill-translate"),d.paint.get("fill-translate-anchor"));if(E){ge=Le.indexBuffer2,ce=Le.segments2;const Et=[P.drawingBufferWidth,P.drawingBufferHeight];de=he==="fillOutlinePattern"&&N?Pu(pt,_,U,xe,Et):Iu(pt,Et)}else ge=Le.indexBuffer,ce=Le.segments,de=N?ch(pt,_,U,xe):Bm(pt);Ke.draw(_.context,X,v,_.stencilModeForClipping(He),w,Cr.disabled,de,st,d.id,Le.layoutVertexBuffer,ge,ce,d.paint,_.transform.zoom,Ye)}}function Cc(_,a,d,m,v,w,E){const P=_.context,M=P.gl,z="fill-extrusion-pattern",N=d.paint.get(z),U=N.constantOr(1),X=d.getCrossfadeParameters(),he=d.paint.get("fill-extrusion-opacity"),de=N.constantOr(null);for(const ge of m){const ce=a.getTile(ge),De=ce.getBucket(d);if(!De)continue;const He=_.style.map.terrain&&_.style.map.terrain.getTerrainData(ge),xe=De.programConfigurations.get(d.id),Le=_.useProgram(U?"fillExtrusionPattern":"fillExtrusion",xe);U&&(_.context.activeTexture.set(M.TEXTURE0),ce.imageAtlasTexture.bind(M.LINEAR,M.CLAMP_TO_EDGE),xe.updatePaintBuffers(X)),Sc(xe,z,de,ce,d);const Ye=_.translatePosMatrix(ge.posMatrix,ce,d.paint.get("fill-extrusion-translate"),d.paint.get("fill-extrusion-translate-anchor")),Ke=d.paint.get("fill-extrusion-vertical-gradient"),st=U?mo(Ye,_,Ke,he,ge,X,ce):lh(Ye,_,Ke,he);Le.draw(P,P.gl.TRIANGLES,v,w,E,Cr.backCCW,st,He,d.id,De.layoutVertexBuffer,De.indexBuffer,De.segments,d.paint,_.transform.zoom,xe,_.style.map.terrain&&De.centroidVertexBuffer)}}function gy(_,a,d,m,v,w,E){const P=_.context,M=P.gl,z=d.fbo;if(!z)return;const N=_.useProgram("hillshade"),U=_.style.map.terrain&&_.style.map.terrain.getTerrainData(a);P.activeTexture.set(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,z.colorAttachment.get()),N.draw(P,M.TRIANGLES,v,w,E,Cr.disabled,((X,he,de,ge)=>{const ce=de.paint.get("hillshade-shadow-color"),De=de.paint.get("hillshade-highlight-color"),He=de.paint.get("hillshade-accent-color");let xe=de.paint.get("hillshade-illumination-direction")*(Math.PI/180);de.paint.get("hillshade-illumination-anchor")==="viewport"&&(xe-=X.transform.angle);const Le=!X.options.moving;return{u_matrix:ge?ge.posMatrix:X.transform.calculatePosMatrix(he.tileID.toUnwrapped(),Le),u_image:0,u_latrange:dh(0,he.tileID),u_light:[de.paint.get("hillshade-exaggeration"),xe],u_shadow:ce,u_highlight:De,u_accent:He}})(_,d,m,U?a:null),U,m.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments)}function Eh(_,a,d,m,v,w){const E=_.context,P=E.gl,M=a.dem;if(M&&M.data){const z=M.dim,N=M.stride,U=M.getPixels();if(E.activeTexture.set(P.TEXTURE1),E.pixelStoreUnpackPremultiplyAlpha.set(!1),a.demTexture=a.demTexture||_.getTileTexture(N),a.demTexture){const he=a.demTexture;he.update(U,{premultiply:!1}),he.bind(P.NEAREST,P.CLAMP_TO_EDGE)}else a.demTexture=new Z(E,U,P.RGBA,{premultiply:!1}),a.demTexture.bind(P.NEAREST,P.CLAMP_TO_EDGE);E.activeTexture.set(P.TEXTURE0);let X=a.fbo;if(!X){const he=new Z(E,{width:z,height:z,data:null},P.RGBA);he.bind(P.LINEAR,P.CLAMP_TO_EDGE),X=a.fbo=E.createFramebuffer(z,z,!0,!1),X.colorAttachment.set(he.texture)}E.bindFramebuffer.set(X.framebuffer),E.viewport.set([0,0,z,z]),_.useProgram("hillshadePrepare").draw(E,P.TRIANGLES,m,v,w,Cr.disabled,((he,de)=>{const ge=de.stride,ce=o.Z();return o.aS(ce,0,o.N,-o.N,0,0,1),o.$(ce,ce,[0,-o.N,0]),{u_matrix:ce,u_image:1,u_dimension:[ge,ge],u_zoom:he.overscaledZ,u_unpack:de.getUnpackVector()}})(a.tileID,M),null,d.id,_.rasterBoundsBuffer,_.quadTriangleIndexBuffer,_.rasterBoundsSegments),a.needsHillshadePrepare=!1}}function vy(_,a,d,m,v,w){const E=m.paint.get("raster-fade-duration");if(!w&&E>0){const P=o.h.now(),M=(P-_.timeAdded)/E,z=a?(P-a.timeAdded)/E:-1,N=d.getSource(),U=v.coveringZoomLevel({tileSize:N.tileSize,roundZoom:N.roundZoom}),X=!a||Math.abs(a.tileID.overscaledZ-U)>Math.abs(_.tileID.overscaledZ-U),he=X&&_.refreshedUponExpiration?1:o.ad(X?M:1-z,0,1);return _.refreshedUponExpiration&&M>=1&&(_.refreshedUponExpiration=!1),a?{opacity:1,mix:1-he}:{opacity:he,mix:0}}return{opacity:1,mix:0}}const Jm=new o.aT(1,0,0,1),Hu=new o.aT(0,1,0,1),Ih=new o.aT(0,0,1,1),Qm=new o.aT(1,0,1,1),ep=new o.aT(0,1,1,1);function Tc(_,a,d,m){Wu(_,0,a+d/2,_.transform.width,d,m)}function Gu(_,a,d,m){Wu(_,a-d/2,0,d,_.transform.height,m)}function Wu(_,a,d,m,v,w){const E=_.context,P=E.gl;P.enable(P.SCISSOR_TEST),P.scissor(a*_.pixelRatio,d*_.pixelRatio,m*_.pixelRatio,v*_.pixelRatio),E.clear({color:w}),P.disable(P.SCISSOR_TEST)}function tp(_,a,d){const m=_.context,v=m.gl,w=d.posMatrix,E=_.useProgram("debug"),P=zn.disabled,M=Lr.disabled,z=_.colorModeForRenderPass(),N="$debug",U=_.style.map.terrain&&_.style.map.terrain.getTerrainData(d);m.activeTexture.set(v.TEXTURE0);const X=a.getTileByID(d.key).latestRawTileData,he=Math.floor((X&&X.byteLength||0)/1024),de=a.getTile(d).tileSize,ge=512/Math.min(de,512)*(d.overscaledZ/_.transform.zoom)*.5;let ce=d.canonical.toString();d.overscaledZ!==d.canonical.z&&(ce+=` => ${d.overscaledZ}`),function(De,He){De.initDebugOverlayCanvas();const xe=De.debugOverlayCanvas,Le=De.context.gl,Ye=De.debugOverlayCanvas.getContext("2d");Ye.clearRect(0,0,xe.width,xe.height),Ye.shadowColor="white",Ye.shadowBlur=2,Ye.lineWidth=1.5,Ye.strokeStyle="white",Ye.textBaseline="top",Ye.font="bold 36px Open Sans, sans-serif",Ye.fillText(He,5,5),Ye.strokeText(He,5,5),De.debugOverlayTexture.update(xe),De.debugOverlayTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE)}(_,`${ce} ${he}kB`),E.draw(m,v.TRIANGLES,P,M,Mr.alphaBlended,Cr.disabled,bc(w,o.aT.transparent,ge),null,N,_.debugBuffer,_.quadTriangleIndexBuffer,_.debugSegments),E.draw(m,v.LINE_STRIP,P,M,z,Cr.disabled,bc(w,o.aT.red),U,N,_.debugBuffer,_.tileBorderIndexBuffer,_.debugSegments)}function Nr(_,a,d){const m=_.context,v=m.gl,w=_.colorModeForRenderPass(),E=new zn(v.LEQUAL,zn.ReadWrite,_.depthRangeFor3D),P=_.useProgram("terrain"),M=a.getTerrainMesh();m.bindFramebuffer.set(null),m.viewport.set([0,0,_.width,_.height]);for(const z of d){const N=_.renderToTexture.getTexture(z),U=a.getTerrainData(z.tileID);m.activeTexture.set(v.TEXTURE0),v.bindTexture(v.TEXTURE_2D,N.texture);const X={u_matrix:_.transform.calculatePosMatrix(z.tileID.toUnwrapped()),u_texture:0,u_ele_delta:a.getMeshFrameDelta(_.transform.zoom)};P.draw(m,v.TRIANGLES,E,Lr.disabled,w,Cr.backCCW,X,U,"terrain",M.vertexBuffer,M.indexBuffer,M.segments)}}class Ho{constructor(a,d){this.context=new py(a),this.transform=d,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:o.Z(),renderTime:0},this.setup(),this.numSublayers=yt.maxUnderzooming+yt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Tu}resize(a,d,m){if(this.width=Math.floor(a*m),this.height=Math.floor(d*m),this.pixelRatio=m,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const v of this.style._order)this.style._layers[v].resize()}setup(){const a=this.context,d=new o.a_;d.emplaceBack(0,0),d.emplaceBack(o.N,0),d.emplaceBack(0,o.N),d.emplaceBack(o.N,o.N),this.tileExtentBuffer=a.createVertexBuffer(d,Au.members),this.tileExtentSegments=o.S.simpleSegment(0,0,4,2);const m=new o.a_;m.emplaceBack(0,0),m.emplaceBack(o.N,0),m.emplaceBack(0,o.N),m.emplaceBack(o.N,o.N),this.debugBuffer=a.createVertexBuffer(m,Au.members),this.debugSegments=o.S.simpleSegment(0,0,4,5);const v=new o.V;v.emplaceBack(0,0,0,0),v.emplaceBack(o.N,0,o.N,0),v.emplaceBack(0,o.N,0,o.N),v.emplaceBack(o.N,o.N,o.N,o.N),this.rasterBoundsBuffer=a.createVertexBuffer(v,je.members),this.rasterBoundsSegments=o.S.simpleSegment(0,0,4,2);const w=new o.a_;w.emplaceBack(0,0),w.emplaceBack(1,0),w.emplaceBack(0,1),w.emplaceBack(1,1),this.viewportBuffer=a.createVertexBuffer(w,Au.members),this.viewportSegments=o.S.simpleSegment(0,0,4,2);const E=new o.a$;E.emplaceBack(0),E.emplaceBack(1),E.emplaceBack(3),E.emplaceBack(2),E.emplaceBack(0),this.tileBorderIndexBuffer=a.createIndexBuffer(E);const P=new o.b0;P.emplaceBack(0,1,2),P.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=a.createIndexBuffer(P);const M=this.context.gl;this.stencilClearMode=new Lr({func:M.ALWAYS,mask:0},0,255,M.ZERO,M.ZERO,M.ZERO)}clearStencil(){const a=this.context,d=a.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const m=o.Z();o.aS(m,0,this.width,this.height,0,0,1),o.a0(m,m,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(a,d.TRIANGLES,zn.disabled,this.stencilClearMode,Mr.disabled,Cr.disabled,Vm(m),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(a,d){if(this.currentStencilSource===a.source||!a.isTileClipped()||!d||!d.length)return;this.currentStencilSource=a.source;const m=this.context,v=m.gl;this.nextStencilID+d.length>256&&this.clearStencil(),m.setColorMode(Mr.disabled),m.setDepthMode(zn.disabled);const w=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const E of d){const P=this._tileClippingMaskIDs[E.key]=this.nextStencilID++,M=this.style.map.terrain&&this.style.map.terrain.getTerrainData(E);w.draw(m,v.TRIANGLES,zn.disabled,new Lr({func:v.ALWAYS,mask:0},P,255,v.KEEP,v.KEEP,v.REPLACE),Mr.disabled,Cr.disabled,Vm(E.posMatrix),M,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const a=this.nextStencilID++,d=this.context.gl;return new Lr({func:d.NOTEQUAL,mask:255},a,255,d.KEEP,d.KEEP,d.REPLACE)}stencilModeForClipping(a){const d=this.context.gl;return new Lr({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[a.key],0,d.KEEP,d.KEEP,d.REPLACE)}stencilConfigForOverlap(a){const d=this.context.gl,m=a.sort((E,P)=>P.overscaledZ-E.overscaledZ),v=m[m.length-1].overscaledZ,w=m[0].overscaledZ-v+1;if(w>1){this.currentStencilSource=void 0,this.nextStencilID+w>256&&this.clearStencil();const E={};for(let P=0;P<w;P++)E[P+v]=new Lr({func:d.GEQUAL,mask:255},P+this.nextStencilID,255,d.KEEP,d.KEEP,d.REPLACE);return this.nextStencilID+=w,[E,m]}return[{[v]:Lr.disabled},m]}colorModeForRenderPass(){const a=this.context.gl;return this._showOverdrawInspector?new Mr([a.CONSTANT_COLOR,a.ONE],new o.aT(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?Mr.unblended:Mr.alphaBlended}depthModeForSublayer(a,d,m){if(!this.opaquePassEnabledForLayer())return zn.disabled;const v=1-((1+this.currentLayer)*this.numSublayers+a)*this.depthEpsilon;return new zn(m||this.context.gl.LEQUAL,d,[v,v])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(a,d){this.style=a,this.options=d,this.lineAtlas=a.lineAtlas,this.imageManager=a.imageManager,this.glyphManager=a.glyphManager,this.symbolFadeChange=a.placement.symbolFadeChange(o.h.now()),this.imageManager.beginFrame();const m=this.style._order,v=this.style.sourceCaches,w={},E={},P={};for(const M in v){const z=v[M];z.used&&z.prepare(this.context),w[M]=z.getVisibleCoordinates(),E[M]=w[M].slice().reverse(),P[M]=z.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let M=0;M<m.length;M++)if(this.style._layers[m[M]].is3D()){this.opaquePassCutoff=M;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const M=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!o.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||M.length)&&(o.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(z,N){const U=z.context,X=U.gl,he=Mr.unblended,de=new zn(X.LEQUAL,zn.ReadWrite,[0,1]),ge=N.getTerrainMesh(),ce=N.sourceCache.getRenderableTiles(),De=z.useProgram("terrainDepth");U.bindFramebuffer.set(N.getFramebuffer("depth").framebuffer),U.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),U.clear({color:o.aT.transparent,depth:1});for(const He of ce){const xe=N.getTerrainData(He.tileID),Le={u_matrix:z.transform.calculatePosMatrix(He.tileID.toUnwrapped()),u_ele_delta:N.getMeshFrameDelta(z.transform.zoom)};De.draw(U,X.TRIANGLES,de,Lr.disabled,he,Cr.backCCW,Le,xe,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments)}U.bindFramebuffer.set(null),U.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain),function(z,N){const U=z.context,X=U.gl,he=Mr.unblended,de=new zn(X.LEQUAL,zn.ReadWrite,[0,1]),ge=N.getTerrainMesh(),ce=N.getCoordsTexture(),De=N.sourceCache.getRenderableTiles(),He=z.useProgram("terrainCoords");U.bindFramebuffer.set(N.getFramebuffer("coords").framebuffer),U.viewport.set([0,0,z.width/devicePixelRatio,z.height/devicePixelRatio]),U.clear({color:o.aT.transparent,depth:1}),N.coordsIndex=[];for(const xe of De){const Le=N.getTerrainData(xe.tileID);U.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,ce.texture);const Ye={u_matrix:z.transform.calculatePosMatrix(xe.tileID.toUnwrapped()),u_terrain_coords_id:(255-N.coordsIndex.length)/255,u_texture:0,u_ele_delta:N.getMeshFrameDelta(z.transform.zoom)};He.draw(U,X.TRIANGLES,de,Lr.disabled,he,Cr.backCCW,Ye,Le,"terrain",ge.vertexBuffer,ge.indexBuffer,ge.segments),N.coordsIndex.push(xe.tileID.key)}U.bindFramebuffer.set(null),U.viewport.set([0,0,z.width,z.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const M of m){const z=this.style._layers[M];if(!z.hasOffscreenPass()||z.isHidden(this.transform.zoom))continue;const N=E[z.source];(z.type==="custom"||N.length)&&this.renderLayer(this,v[z.source],z,N)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?o.aT.black:o.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(a._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=m.length-1;this.currentLayer>=0;this.currentLayer--){const M=this.style._layers[m[this.currentLayer]],z=v[M.source],N=w[M.source];this._renderTileClippingMasks(M,N),this.renderLayer(this,z,M,N)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<m.length;this.currentLayer++){const M=this.style._layers[m[this.currentLayer]],z=v[M.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(M))continue;const N=(M.type==="symbol"?P:E)[M.source];this._renderTileClippingMasks(M,w[M.source]),this.renderLayer(this,z,M,N)}if(this.options.showTileBoundaries){const M=function(z,N){let U=null;const X=Object.values(z._layers).flatMap(ce=>ce.source&&!ce.isHidden(N)?[z.sourceCaches[ce.source]]:[]),he=X.filter(ce=>ce.getSource().type==="vector"),de=X.filter(ce=>ce.getSource().type!=="vector"),ge=ce=>{(!U||U.getSource().maxzoom<ce.getSource().maxzoom)&&(U=ce)};return he.forEach(ce=>ge(ce)),U||de.forEach(ce=>ge(ce)),U}(this.style,this.transform.zoom);M&&function(z,N,U){for(let X=0;X<U.length;X++)tp(z,N,U[X])}(this,M,M.getVisibleCoordinates())}this.options.showPadding&&function(M){const z=M.transform.padding;Tc(M,M.transform.height-(z.top||0),3,Jm),Tc(M,z.bottom||0,3,Hu),Gu(M,z.left||0,3,Ih),Gu(M,M.transform.width-(z.right||0),3,Qm);const N=M.transform.centerPoint;(function(U,X,he,de){Wu(U,X-1,he-10,2,20,de),Wu(U,X-10,he-1,20,2,de)})(M,N.x,M.transform.height-N.y,ep)}(this),this.context.setDefault()}renderLayer(a,d,m,v){if(!m.isHidden(this.transform.zoom)&&(m.type==="background"||m.type==="custom"||(v||[]).length))switch(this.id=m.id,m.type){case"symbol":(function(w,E,P,M,z){if(w.renderPass!=="translucent")return;const N=Lr.disabled,U=w.colorModeForRenderPass();(P._unevaluatedLayout.hasValue("text-variable-anchor")||P._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(X,he,de,ge,ce,De,He){const xe=he.transform,Le=ce==="map",Ye=De==="map";for(const Ke of X){const st=ge.getTile(Ke),xt=st.getBucket(de);if(!xt||!xt.text||!xt.text.segments.get().length)continue;const pt=o.ah(xt.textSizeData,xe.zoom),Et=Ee(st,1,he.transform.zoom),Yt=mt(Ke.posMatrix,Ye,Le,he.transform,Et),Pn=de.layout.get("icon-text-fit")!=="none"&&xt.hasIconData();if(pt){const Ot=Math.pow(2,xe.zoom-st.tileID.overscaledZ);qu(xt,Le,Ye,He,xe,Yt,Ke.posMatrix,Ot,pt,Pn,he.style.map.terrain?(ln,Kt)=>he.style.map.terrain.getElevation(Ke,ln,Kt):null)}}}(M,w,P,E,P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),z),P.paint.get("icon-opacity").constantOr(1)!==0&&ju(w,E,P,M,!1,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),P.layout.get("icon-rotation-alignment"),P.layout.get("icon-pitch-alignment"),P.layout.get("icon-keep-upright"),N,U),P.paint.get("text-opacity").constantOr(1)!==0&&ju(w,E,P,M,!0,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),P.layout.get("text-rotation-alignment"),P.layout.get("text-pitch-alignment"),P.layout.get("text-keep-upright"),N,U),E.map.showCollisionBoxes&&(Xm(w,E,P,M,P.paint.get("text-translate"),P.paint.get("text-translate-anchor"),!0),Xm(w,E,P,M,P.paint.get("icon-translate"),P.paint.get("icon-translate-anchor"),!1))})(a,d,m,v,this.style.placement.variableOffsets);break;case"circle":(function(w,E,P,M){if(w.renderPass!=="translucent")return;const z=P.paint.get("circle-opacity"),N=P.paint.get("circle-stroke-width"),U=P.paint.get("circle-stroke-opacity"),X=!P.layout.get("circle-sort-key").isConstant();if(z.constantOr(1)===0&&(N.constantOr(1)===0||U.constantOr(1)===0))return;const he=w.context,de=he.gl,ge=w.depthModeForSublayer(0,zn.ReadOnly),ce=Lr.disabled,De=w.colorModeForRenderPass(),He=[];for(let xe=0;xe<M.length;xe++){const Le=M[xe],Ye=E.getTile(Le),Ke=Ye.getBucket(P);if(!Ke)continue;const st=Ke.programConfigurations.get(P.id),xt=w.useProgram("circle",st),pt=Ke.layoutVertexBuffer,Et=Ke.indexBuffer,Yt=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Le),Pn={programConfiguration:st,program:xt,layoutVertexBuffer:pt,indexBuffer:Et,uniformValues:po(w,Le,Ye,P),terrainData:Yt};if(X){const Ot=Ke.segments.get();for(const ln of Ot)He.push({segments:new o.S([ln]),sortKey:ln.sortKey,state:Pn})}else He.push({segments:Ke.segments,sortKey:0,state:Pn})}X&&He.sort((xe,Le)=>xe.sortKey-Le.sortKey);for(const xe of He){const{programConfiguration:Le,program:Ye,layoutVertexBuffer:Ke,indexBuffer:st,uniformValues:xt,terrainData:pt}=xe.state;Ye.draw(he,de.TRIANGLES,ge,ce,De,Cr.disabled,xt,pt,P.id,Ke,st,xe.segments,P.paint,w.transform.zoom,Le)}})(a,d,m,v);break;case"heatmap":(function(w,E,P,M){if(P.paint.get("heatmap-opacity")!==0)if(w.renderPass==="offscreen"){const z=w.context,N=z.gl,U=Lr.disabled,X=new Mr([N.ONE,N.ONE],o.aT.transparent,[!0,!0,!0,!0]);(function(he,de,ge){const ce=he.gl;he.activeTexture.set(ce.TEXTURE1),he.viewport.set([0,0,de.width/4,de.height/4]);let De=ge.heatmapFbo;if(De)ce.bindTexture(ce.TEXTURE_2D,De.colorAttachment.get()),he.bindFramebuffer.set(De.framebuffer);else{const He=ce.createTexture();ce.bindTexture(ce.TEXTURE_2D,He),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_S,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_WRAP_T,ce.CLAMP_TO_EDGE),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MIN_FILTER,ce.LINEAR),ce.texParameteri(ce.TEXTURE_2D,ce.TEXTURE_MAG_FILTER,ce.LINEAR),De=ge.heatmapFbo=he.createFramebuffer(de.width/4,de.height/4,!1,!1),function(xe,Le,Ye,Ke){var st,xt;const pt=xe.gl,Et=(st=xe.HALF_FLOAT)!==null&&st!==void 0?st:pt.UNSIGNED_BYTE,Yt=(xt=xe.RGBA16F)!==null&&xt!==void 0?xt:pt.RGBA;pt.texImage2D(pt.TEXTURE_2D,0,Yt,Le.width/4,Le.height/4,0,pt.RGBA,Et,null),Ke.colorAttachment.set(Ye)}(he,de,He,De)}})(z,w,P),z.clear({color:o.aT.transparent});for(let he=0;he<M.length;he++){const de=M[he];if(E.hasRenderableParent(de))continue;const ge=E.getTile(de),ce=ge.getBucket(P);if(!ce)continue;const De=ce.programConfigurations.get(P.id),He=w.useProgram("heatmap",De),{zoom:xe}=w.transform;He.draw(z,N.TRIANGLES,zn.disabled,U,X,Cr.disabled,oy(de.posMatrix,ge,xe,P.paint.get("heatmap-intensity")),null,P.id,ce.layoutVertexBuffer,ce.indexBuffer,ce.segments,P.paint,w.transform.zoom,De)}z.viewport.set([0,0,w.width,w.height])}else w.renderPass==="translucent"&&(w.context.setColorMode(w.colorModeForRenderPass()),function(z,N){const U=z.context,X=U.gl,he=N.heatmapFbo;if(!he)return;U.activeTexture.set(X.TEXTURE0),X.bindTexture(X.TEXTURE_2D,he.colorAttachment.get()),U.activeTexture.set(X.TEXTURE1);let de=N.colorRampTexture;de||(de=N.colorRampTexture=new Z(U,N.colorRamp,X.RGBA)),de.bind(X.LINEAR,X.CLAMP_TO_EDGE),z.useProgram("heatmapTexture").draw(U,X.TRIANGLES,zn.disabled,Lr.disabled,z.colorModeForRenderPass(),Cr.disabled,((ge,ce,De,He)=>{const xe=o.Z();o.aS(xe,0,ge.width,ge.height,0,0,1);const Le=ge.context.gl;return{u_matrix:xe,u_world:[Le.drawingBufferWidth,Le.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:ce.paint.get("heatmap-opacity")}})(z,N),null,N.id,z.viewportBuffer,z.quadTriangleIndexBuffer,z.viewportSegments,N.paint,z.transform.zoom)}(w,P))})(a,d,m,v);break;case"line":(function(w,E,P,M){if(w.renderPass!=="translucent")return;const z=P.paint.get("line-opacity"),N=P.paint.get("line-width");if(z.constantOr(1)===0||N.constantOr(1)===0)return;const U=w.depthModeForSublayer(0,zn.ReadOnly),X=w.colorModeForRenderPass(),he=P.paint.get("line-dasharray"),de=P.paint.get("line-pattern"),ge=de.constantOr(1),ce=P.paint.get("line-gradient"),De=P.getCrossfadeParameters(),He=ge?"linePattern":he?"lineSDF":ce?"lineGradient":"line",xe=w.context,Le=xe.gl;let Ye=!0;for(const Ke of M){const st=E.getTile(Ke);if(ge&&!st.patternsLoaded())continue;const xt=st.getBucket(P);if(!xt)continue;const pt=xt.programConfigurations.get(P.id),Et=w.context.program.get(),Yt=w.useProgram(He,pt),Pn=Ye||Yt.program!==Et,Ot=w.style.map.terrain&&w.style.map.terrain.getTerrainData(Ke),ln=de.constantOr(null);if(ln&&st.imageAtlas){const In=st.imageAtlas,Sn=In.patternPositions[ln.to.toString()],Dn=In.patternPositions[ln.from.toString()];Sn&&Dn&&pt.setConstantPatternPositions(Sn,Dn)}const Kt=Ot?Ke:null,nr=ge?ly(w,st,P,De,Kt):he?$m(w,st,P,he,De,Kt):ce?Nm(w,st,P,xt.lineClipsArray.length,Kt):hh(w,st,P,Kt);if(ge)xe.activeTexture.set(Le.TEXTURE0),st.imageAtlasTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE),pt.updatePaintBuffers(De);else if(he&&(Pn||w.lineAtlas.dirty))xe.activeTexture.set(Le.TEXTURE0),w.lineAtlas.bind(xe);else if(ce){const In=xt.gradients[P.id];let Sn=In.texture;if(P.gradientVersion!==In.version){let Dn=256;if(P.stepInterpolant){const Hr=E.getSource().maxzoom,gr=Ke.canonical.z===Hr?Math.ceil(1<<w.transform.maxZoom-Ke.canonical.z):1;Dn=o.ad(o.aY(xt.maxLineLength/o.N*1024*gr),256,xe.maxTextureSize)}In.gradient=o.aZ({expression:P.gradientExpression(),evaluationKey:"lineProgress",resolution:Dn,image:In.gradient||void 0,clips:xt.lineClipsArray}),In.texture?In.texture.update(In.gradient):In.texture=new Z(xe,In.gradient,Le.RGBA),In.version=P.gradientVersion,Sn=In.texture}xe.activeTexture.set(Le.TEXTURE0),Sn.bind(P.stepInterpolant?Le.NEAREST:Le.LINEAR,Le.CLAMP_TO_EDGE)}Yt.draw(xe,Le.TRIANGLES,U,w.stencilModeForClipping(Ke),X,Cr.disabled,nr,Ot,P.id,xt.layoutVertexBuffer,xt.indexBuffer,xt.segments,P.paint,w.transform.zoom,pt,xt.layoutVertexBuffer2),Ye=!1}})(a,d,m,v);break;case"fill":(function(w,E,P,M){const z=P.paint.get("fill-color"),N=P.paint.get("fill-opacity");if(N.constantOr(1)===0)return;const U=w.colorModeForRenderPass(),X=P.paint.get("fill-pattern"),he=w.opaquePassEnabledForLayer()&&!X.constantOr(1)&&z.constantOr(o.aT.transparent).a===1&&N.constantOr(0)===1?"opaque":"translucent";if(w.renderPass===he){const de=w.depthModeForSublayer(1,w.renderPass==="opaque"?zn.ReadWrite:zn.ReadOnly);kc(w,E,P,M,de,U,!1)}if(w.renderPass==="translucent"&&P.paint.get("fill-antialias")){const de=w.depthModeForSublayer(P.getPaintProperty("fill-outline-color")?2:0,zn.ReadOnly);kc(w,E,P,M,de,U,!0)}})(a,d,m,v);break;case"fill-extrusion":(function(w,E,P,M){const z=P.paint.get("fill-extrusion-opacity");if(z!==0&&w.renderPass==="translucent"){const N=new zn(w.context.gl.LEQUAL,zn.ReadWrite,w.depthRangeFor3D);if(z!==1||P.paint.get("fill-extrusion-pattern").constantOr(1))Cc(w,E,P,M,N,Lr.disabled,Mr.disabled),Cc(w,E,P,M,N,w.stencilModeFor3D(),w.colorModeForRenderPass());else{const U=w.colorModeForRenderPass();Cc(w,E,P,M,N,Lr.disabled,U)}}})(a,d,m,v);break;case"hillshade":(function(w,E,P,M){if(w.renderPass!=="offscreen"&&w.renderPass!=="translucent")return;const z=w.context,N=w.depthModeForSublayer(0,zn.ReadOnly),U=w.colorModeForRenderPass(),[X,he]=w.renderPass==="translucent"?w.stencilConfigForOverlap(M):[{},M];for(const de of he){const ge=E.getTile(de);ge.needsHillshadePrepare!==void 0&&ge.needsHillshadePrepare&&w.renderPass==="offscreen"?Eh(w,ge,P,N,Lr.disabled,U):w.renderPass==="translucent"&&gy(w,de,ge,P,N,X[de.overscaledZ],U)}z.viewport.set([0,0,w.width,w.height])})(a,d,m,v);break;case"raster":(function(w,E,P,M){if(w.renderPass!=="translucent"||P.paint.get("raster-opacity")===0||!M.length)return;const z=w.context,N=z.gl,U=E.getSource(),X=w.useProgram("raster"),he=w.colorModeForRenderPass(),[de,ge]=U instanceof Qe?[{},M]:w.stencilConfigForOverlap(M),ce=ge[ge.length-1].overscaledZ,De=!w.options.moving;for(const He of ge){const xe=w.depthModeForSublayer(He.overscaledZ-ce,P.paint.get("raster-opacity")===1?zn.ReadWrite:zn.ReadOnly,N.LESS),Le=E.getTile(He);Le.registerFadeDuration(P.paint.get("raster-fade-duration"));const Ye=E.findLoadedParent(He,0),Ke=vy(Le,Ye,E,P,w.transform,w.style.map.terrain);let st,xt;const pt=P.paint.get("raster-resampling")==="nearest"?N.NEAREST:N.LINEAR;z.activeTexture.set(N.TEXTURE0),Le.texture.bind(pt,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),z.activeTexture.set(N.TEXTURE1),Ye?(Ye.texture.bind(pt,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST),st=Math.pow(2,Ye.tileID.overscaledZ-Le.tileID.overscaledZ),xt=[Le.tileID.canonical.x*st%1,Le.tileID.canonical.y*st%1]):Le.texture.bind(pt,N.CLAMP_TO_EDGE,N.LINEAR_MIPMAP_NEAREST);const Et=w.style.map.terrain&&w.style.map.terrain.getTerrainData(He),Yt=Et?He:null,Pn=Yt?Yt.posMatrix:w.transform.calculatePosMatrix(He.toUnwrapped(),De),Ot=qm(Pn,xt||[0,0],st||1,Ke,P);U instanceof Qe?X.draw(z,N.TRIANGLES,xe,Lr.disabled,he,Cr.disabled,Ot,Et,P.id,U.boundsBuffer,w.quadTriangleIndexBuffer,U.boundsSegments):X.draw(z,N.TRIANGLES,xe,de[He.overscaledZ],he,Cr.disabled,Ot,Et,P.id,w.rasterBoundsBuffer,w.quadTriangleIndexBuffer,w.rasterBoundsSegments)}})(a,d,m,v);break;case"background":(function(w,E,P,M){const z=P.paint.get("background-color"),N=P.paint.get("background-opacity");if(N===0)return;const U=w.context,X=U.gl,he=w.transform,de=he.tileSize,ge=P.paint.get("background-pattern");if(w.isPatternMissing(ge))return;const ce=!ge&&z.a===1&&N===1&&w.opaquePassEnabledForLayer()?"opaque":"translucent";if(w.renderPass!==ce)return;const De=Lr.disabled,He=w.depthModeForSublayer(0,ce==="opaque"?zn.ReadWrite:zn.ReadOnly),xe=w.colorModeForRenderPass(),Le=w.useProgram(ge?"backgroundPattern":"background"),Ye=M||he.coveringTiles({tileSize:de,terrain:w.style.map.terrain});ge&&(U.activeTexture.set(X.TEXTURE0),w.imageManager.bind(w.context));const Ke=P.getCrossfadeParameters();for(const st of Ye){const xt=M?st.posMatrix:w.transform.calculatePosMatrix(st.toUnwrapped()),pt=ge?Ra(xt,N,w,ge,{tileID:st,tileSize:de},Ke):Mu(xt,N,z),Et=w.style.map.terrain&&w.style.map.terrain.getTerrainData(st);Le.draw(U,X.TRIANGLES,He,De,xe,Cr.disabled,pt,Et,P.id,w.tileExtentBuffer,w.quadTriangleIndexBuffer,w.tileExtentSegments)}})(a,0,m,v);break;case"custom":(function(w,E,P){const M=w.context,z=P.implementation;if(w.renderPass==="offscreen"){const N=z.prerender;N&&(w.setCustomLayerDefaults(),M.setColorMode(w.colorModeForRenderPass()),N.call(z,M.gl,w.transform.customLayerMatrix()),M.setDirty(),w.setBaseState())}else if(w.renderPass==="translucent"){w.setCustomLayerDefaults(),M.setColorMode(w.colorModeForRenderPass()),M.setStencilMode(Lr.disabled);const N=z.renderingMode==="3d"?new zn(w.context.gl.LEQUAL,zn.ReadWrite,w.depthRangeFor3D):w.depthModeForSublayer(0,zn.ReadOnly);M.setDepthMode(N),z.render(M.gl,w.transform.customLayerMatrix()),M.setDirty(),w.setBaseState(),M.bindFramebuffer.set(null)}})(a,0,m)}}translatePosMatrix(a,d,m,v,w){if(!m[0]&&!m[1])return a;const E=w?v==="map"?this.transform.angle:0:v==="viewport"?-this.transform.angle:0;if(E){const z=Math.sin(E),N=Math.cos(E);m=[m[0]*N-m[1]*z,m[0]*z+m[1]*N]}const P=[w?m[0]:Ee(d,m[0],this.transform.zoom),w?m[1]:Ee(d,m[1],this.transform.zoom),0],M=new Float32Array(16);return o.$(M,a,P),M}saveTileTexture(a){const d=this._tileTextures[a.size[0]];d?d.push(a):this._tileTextures[a.size[0]]=[a]}getTileTexture(a){const d=this._tileTextures[a];return d&&d.length>0?d.pop():null}isPatternMissing(a){if(!a)return!1;if(!a.from||!a.to)return!0;const d=this.imageManager.getPattern(a.from.toString()),m=this.imageManager.getPattern(a.to.toString());return!d||!m}useProgram(a,d){this.cache=this.cache||{};const m=a+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[m]||(this.cache[m]=new Eu(this.context,Dr[a],d,Lu[a],this._showOverdrawInspector,this.style.map.terrain)),this.cache[m]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const a=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(a.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new Z(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:a,drawingBufferHeight:d}=this.context.gl;return this.width!==a||this.height!==d}}class ea{constructor(a,d){this.points=a,this.planes=d}static fromInvProjectionMatrix(a,d,m){const v=Math.pow(2,m),w=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(P=>{const M=1/(P=o.ag([],P,a))[3]/d*v;return o.b3(P,P,[M,M,1/P[3],M])}),E=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(P=>{const M=function(X,he){var de=he[0],ge=he[1],ce=he[2],De=de*de+ge*ge+ce*ce;return De>0&&(De=1/Math.sqrt(De)),X[0]=he[0]*De,X[1]=he[1]*De,X[2]=he[2]*De,X}([],function(X,he,de){var ge=he[0],ce=he[1],De=he[2],He=de[0],xe=de[1],Le=de[2];return X[0]=ce*Le-De*xe,X[1]=De*He-ge*Le,X[2]=ge*xe-ce*He,X}([],re([],w[P[0]],w[P[1]]),re([],w[P[2]],w[P[1]]))),z=-((N=M)[0]*(U=w[P[1]])[0]+N[1]*U[1]+N[2]*U[2]);var N,U;return M.concat(z)});return new ea(w,E)}}class Ol{constructor(a,d){this.min=a,this.max=d,this.center=function(m,v,w){return m[0]=.5*v[0],m[1]=.5*v[1],m[2]=.5*v[2],m}([],function(m,v,w){return m[0]=v[0]+w[0],m[1]=v[1]+w[1],m[2]=v[2]+w[2],m}([],this.min,this.max))}quadrant(a){const d=[a%2==0,a<2],m=ee(this.min),v=ee(this.max);for(let w=0;w<d.length;w++)m[w]=d[w]?this.min[w]:this.center[w],v[w]=d[w]?this.center[w]:this.max[w];return v[2]=this.max[2],new Ol(m,v)}distanceX(a){return Math.max(Math.min(this.max[0],a[0]),this.min[0])-a[0]}distanceY(a){return Math.max(Math.min(this.max[1],a[1]),this.min[1])-a[1]}intersects(a){const d=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let m=!0;for(let v=0;v<a.planes.length;v++){const w=a.planes[v];let E=0;for(let P=0;P<d.length;P++)o.b4(w,d[P])>=0&&E++;if(E===0)return 0;E!==d.length&&(m=!1)}if(m)return 2;for(let v=0;v<3;v++){let w=Number.MAX_VALUE,E=-Number.MAX_VALUE;for(let P=0;P<a.points.length;P++){const M=a.points[P][v]-this.min[v];w=Math.min(w,M),E=Math.max(E,M)}if(E<0||w>this.max[v]-this.min[v])return 0}return 1}}class Ac{constructor(a=0,d=0,m=0,v=0){if(isNaN(a)||a<0||isNaN(d)||d<0||isNaN(m)||m<0||isNaN(v)||v<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=a,this.bottom=d,this.left=m,this.right=v}interpolate(a,d,m){return d.top!=null&&a.top!=null&&(this.top=o.B.number(a.top,d.top,m)),d.bottom!=null&&a.bottom!=null&&(this.bottom=o.B.number(a.bottom,d.bottom,m)),d.left!=null&&a.left!=null&&(this.left=o.B.number(a.left,d.left,m)),d.right!=null&&a.right!=null&&(this.right=o.B.number(a.right,d.right,m)),this}getCenter(a,d){const m=o.ad((this.left+a-this.right)/2,0,a),v=o.ad((this.top+d-this.bottom)/2,0,d);return new o.P(m,v)}equals(a){return this.top===a.top&&this.bottom===a.bottom&&this.left===a.left&&this.right===a.right}clone(){return new Ac(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class Yu{constructor(a,d,m,v,w){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=w===void 0||!!w,this._minZoom=a||0,this._maxZoom=d||22,this._minPitch=m??0,this._maxPitch=v??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new o.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ac,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const a=new Yu(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return a.apply(this),a}apply(a){this.tileSize=a.tileSize,this.latRange=a.latRange,this.width=a.width,this.height=a.height,this._center=a._center,this._elevation=a._elevation,this._minEleveationForCurrentTile=a._minEleveationForCurrentTile,this.zoom=a.zoom,this.angle=a.angle,this._fov=a._fov,this._pitch=a._pitch,this._unmodified=a._unmodified,this._edgeInsets=a._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(a){this._minZoom!==a&&(this._minZoom=a,this.zoom=Math.max(this.zoom,a))}get maxZoom(){return this._maxZoom}set maxZoom(a){this._maxZoom!==a&&(this._maxZoom=a,this.zoom=Math.min(this.zoom,a))}get minPitch(){return this._minPitch}set minPitch(a){this._minPitch!==a&&(this._minPitch=a,this.pitch=Math.max(this.pitch,a))}get maxPitch(){return this._maxPitch}set maxPitch(a){this._maxPitch!==a&&(this._maxPitch=a,this.pitch=Math.min(this.pitch,a))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(a){a===void 0?a=!0:a===null&&(a=!1),this._renderWorldCopies=a}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new o.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(a){const d=-o.b5(a,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=function(){var m=new o.A(4);return o.A!=Float32Array&&(m[1]=0,m[2]=0),m[0]=1,m[3]=1,m}(),function(m,v,w){var E=v[0],P=v[1],M=v[2],z=v[3],N=Math.sin(w),U=Math.cos(w);m[0]=E*U+M*N,m[1]=P*U+z*N,m[2]=E*-N+M*U,m[3]=P*-N+z*U}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(a){const d=o.ad(a,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(a){a=Math.max(.01,Math.min(60,a)),this._fov!==a&&(this._unmodified=!1,this._fov=a/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(a){const d=Math.min(Math.max(a,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.tileZoom=Math.max(0,Math.floor(d)),this.scale=this.zoomScale(d),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(a){a.lat===this._center.lat&&a.lng===this._center.lng||(this._unmodified=!1,this._center=a,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(a){a!==this._elevation&&(this._elevation=a,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(a){this._edgeInsets.equals(a)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,a,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(a){return this._edgeInsets.equals(a)}interpolatePadding(a,d,m){this._unmodified=!1,this._edgeInsets.interpolate(a,d,m),this._constrain(),this._calcMatrices()}coveringZoomLevel(a){const d=(a.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/a.tileSize));return Math.max(0,d)}getVisibleUnwrappedCoordinates(a){const d=[new o.b6(0,a)];if(this._renderWorldCopies){const m=this.pointCoordinate(new o.P(0,0)),v=this.pointCoordinate(new o.P(this.width,0)),w=this.pointCoordinate(new o.P(this.width,this.height)),E=this.pointCoordinate(new o.P(0,this.height)),P=Math.floor(Math.min(m.x,v.x,w.x,E.x)),M=Math.floor(Math.max(m.x,v.x,w.x,E.x)),z=1;for(let N=P-z;N<=M+z;N++)N!==0&&d.push(new o.b6(N,a))}return d}coveringTiles(a){var d,m;let v=this.coveringZoomLevel(a);const w=v;if(a.minzoom!==void 0&&v<a.minzoom)return[];a.maxzoom!==void 0&&v>a.maxzoom&&(v=a.maxzoom);const E=this.pointCoordinate(this.getCameraPoint()),P=o.U.fromLngLat(this.center),M=Math.pow(2,v),z=[M*E.x,M*E.y,0],N=[M*P.x,M*P.y,0],U=ea.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,v);let X=a.minzoom||0;!a.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(X=v);const he=a.terrain?2/Math.min(this.tileSize,a.tileSize)*this.tileSize:3,de=xe=>({aabb:new Ol([xe*M,0,0],[(xe+1)*M,M,0]),zoom:0,x:0,y:0,wrap:xe,fullyVisible:!1}),ge=[],ce=[],De=v,He=a.reparseOverscaled?w:v;if(this._renderWorldCopies)for(let xe=1;xe<=3;xe++)ge.push(de(-xe)),ge.push(de(xe));for(ge.push(de(0));ge.length>0;){const xe=ge.pop(),Le=xe.x,Ye=xe.y;let Ke=xe.fullyVisible;if(!Ke){const Yt=xe.aabb.intersects(U);if(Yt===0)continue;Ke=Yt===2}const st=a.terrain?z:N,xt=xe.aabb.distanceX(st),pt=xe.aabb.distanceY(st),Et=Math.max(Math.abs(xt),Math.abs(pt));if(xe.zoom===De||Et>he+(1<<De-xe.zoom)-2&&xe.zoom>=X){const Yt=De-xe.zoom,Pn=z[0]-.5-(Le<<Yt),Ot=z[1]-.5-(Ye<<Yt);ce.push({tileID:new o.O(xe.zoom===De?He:xe.zoom,xe.wrap,xe.zoom,Le,Ye),distanceSq:le([N[0]-.5-Le,N[1]-.5-Ye]),tileDistanceToCamera:Math.sqrt(Pn*Pn+Ot*Ot)})}else for(let Yt=0;Yt<4;Yt++){const Pn=(Le<<1)+Yt%2,Ot=(Ye<<1)+(Yt>>1),ln=xe.zoom+1;let Kt=xe.aabb.quadrant(Yt);if(a.terrain){const nr=new o.O(ln,xe.wrap,ln,Pn,Ot),In=a.terrain.getMinMaxElevation(nr),Sn=(d=In.minElevation)!==null&&d!==void 0?d:this.elevation,Dn=(m=In.maxElevation)!==null&&m!==void 0?m:this.elevation;Kt=new Ol([Kt.min[0],Kt.min[1],Sn],[Kt.max[0],Kt.max[1],Dn])}ge.push({aabb:Kt,zoom:ln,x:Pn,y:Ot,wrap:xe.wrap,fullyVisible:Ke})}}return ce.sort((xe,Le)=>xe.distanceSq-Le.distanceSq).map(xe=>xe.tileID)}resize(a,d){this.width=a,this.height=d,this.pixelsToGLUnits=[2/a,-2/d],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(a){return Math.pow(2,a)}scaleZoom(a){return Math.log(a)/Math.LN2}project(a){const d=o.ad(a.lat,-this.maxValidLatitude,this.maxValidLatitude);return new o.P(o.G(a.lng)*this.worldSize,o.H(d)*this.worldSize)}unproject(a){return new o.U(a.x/this.worldSize,a.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(a){const d=this.pointLocation(this.centerPoint,a),m=a.getElevationForLngLatZoom(d,this.tileZoom);if(!(this.elevation-m))return;const v=this.getCameraPosition(),w=o.U.fromLngLat(v.lngLat,v.altitude),E=o.U.fromLngLat(d,m),P=w.x-E.x,M=w.y-E.y,z=w.z-E.z,N=Math.sqrt(P*P+M*M+z*z),U=this.scaleZoom(this.cameraToCenterDistance/N/this.tileSize);this._elevation=m,this._center=d,this.zoom=U}setLocationAtPoint(a,d){const m=this.pointCoordinate(d),v=this.pointCoordinate(this.centerPoint),w=this.locationCoordinate(a),E=new o.U(w.x-(m.x-v.x),w.y-(m.y-v.y));this.center=this.coordinateLocation(E),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(a,d){return d?this.coordinatePoint(this.locationCoordinate(a),d.getElevationForLngLatZoom(a,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(a))}pointLocation(a,d){return this.coordinateLocation(this.pointCoordinate(a,d))}locationCoordinate(a){return o.U.fromLngLat(a)}coordinateLocation(a){return a&&a.toLngLat()}pointCoordinate(a,d){if(d){const X=d.pointCoordinate(a);if(X!=null)return X}const m=[a.x,a.y,0,1],v=[a.x,a.y,1,1];o.ag(m,m,this.pixelMatrixInverse),o.ag(v,v,this.pixelMatrixInverse);const w=m[3],E=v[3],P=m[1]/w,M=v[1]/E,z=m[2]/w,N=v[2]/E,U=z===N?0:(0-z)/(N-z);return new o.U(o.B.number(m[0]/w,v[0]/E,U)/this.worldSize,o.B.number(P,M,U)/this.worldSize)}coordinatePoint(a,d=0,m=this.pixelMatrix){const v=[a.x*this.worldSize,a.y*this.worldSize,d,1];return o.ag(v,v,m),new o.P(v[0]/v[3],v[1]/v[3])}getBounds(){const a=Math.max(0,this.height/2-this.getHorizon());return new gt().extend(this.pointLocation(new o.P(0,a))).extend(this.pointLocation(new o.P(this.width,a))).extend(this.pointLocation(new o.P(this.width,this.height))).extend(this.pointLocation(new o.P(0,this.height)))}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new gt([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(a){a?(this.lngRange=[a.getWest(),a.getEast()],this.latRange=[a.getSouth(),a.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(a,d=!1){const m=a.key,v=d?this._alignedPosMatrixCache:this._posMatrixCache;if(v[m])return v[m];const w=a.canonical,E=this.worldSize/this.zoomScale(w.z),P=w.x+Math.pow(2,w.z)*a.wrap,M=o.ao(new Float64Array(16));return o.$(M,M,[P*E,w.y*E,0]),o.a0(M,M,[E/o.N,E/o.N,1]),o.a1(M,d?this.alignedProjMatrix:this.projMatrix,M),v[m]=new Float32Array(M),v[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let a,d,m,v,w=-90,E=90,P=-180,M=180;const z=this.size,N=this._unmodified;if(this.latRange){const he=this.latRange;w=o.H(he[1])*this.worldSize,E=o.H(he[0])*this.worldSize,a=E-w<z.y?z.y/(E-w):0}if(this.lngRange){const he=this.lngRange;P=o.b5(o.G(he[0])*this.worldSize,0,this.worldSize),M=o.b5(o.G(he[1])*this.worldSize,0,this.worldSize),M<P&&(M+=this.worldSize),d=M-P<z.x?z.x/(M-P):0}const U=this.point,X=Math.max(d||0,a||0);if(X)return this.center=this.unproject(new o.P(d?(M+P)/2:U.x,a?(E+w)/2:U.y)),this.zoom+=this.scaleZoom(X),this._unmodified=N,void(this._constraining=!1);if(this.latRange){const he=U.y,de=z.y/2;he-de<w&&(v=w+de),he+de>E&&(v=E-de)}if(this.lngRange){const he=(P+M)/2,de=o.b5(U.x,he-this.worldSize/2,he+this.worldSize/2),ge=z.x/2;de-ge<P&&(m=P+ge),de+ge>M&&(m=M-ge)}m===void 0&&v===void 0||(this.center=this.unproject(new o.P(m!==void 0?m:U.x,v!==void 0?v:U.y)).wrap()),this._unmodified=N,this._constraining=!1}_calcMatrices(){if(!this.height)return;const a=this.centerOffset,d=this.point.x,m=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=o.b7(1,this.center.lat)*this.worldSize;let v=o.ao(new Float64Array(16));o.a0(v,v,[this.width/2,-this.height/2,1]),o.$(v,v,[1,-1,0]),this.labelPlaneMatrix=v,v=o.ao(new Float64Array(16)),o.a0(v,v,[1,-1,1]),o.$(v,v,[-1,-1,0]),o.a0(v,v,[2/this.width,2/this.height,1]),this.glCoordMatrix=v;const w=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),E=Math.min(this.elevation,this._minEleveationForCurrentTile),P=w-E*this._pixelPerMeter/Math.cos(this._pitch),M=E<0?P:w,z=Math.PI/2+this._pitch,N=this._fov*(.5+a.y/this.height),U=Math.sin(N)*M/Math.sin(o.ad(Math.PI-z-N,.01,Math.PI-.01)),X=this.getHorizon(),he=2*Math.atan(X/this.cameraToCenterDistance)*(.5+a.y/(2*X)),de=Math.sin(he)*M/Math.sin(o.ad(Math.PI-z-he,.01,Math.PI-.01)),ge=Math.min(U,de),ce=1.01*(Math.cos(Math.PI/2-this._pitch)*ge+M),De=this.height/50;v=new Float64Array(16),o.b8(v,this._fov,this.width/this.height,De,ce),v[8]=2*-a.x/this.width,v[9]=2*a.y/this.height,o.a0(v,v,[1,-1,1]),o.$(v,v,[0,0,-this.cameraToCenterDistance]),o.b9(v,v,this._pitch),o.ae(v,v,this.angle),o.$(v,v,[-d,-m,0]),this.mercatorMatrix=o.a0([],v,[this.worldSize,this.worldSize,this.worldSize]),o.a0(v,v,[1,1,this._pixelPerMeter]),this.pixelMatrix=o.a1(new Float64Array(16),this.labelPlaneMatrix,v),o.$(v,v,[0,0,-this.elevation]),this.projMatrix=v,this.invProjMatrix=o.as([],v),this.pixelMatrix3D=o.a1(new Float64Array(16),this.labelPlaneMatrix,v);const He=this.width%2/2,xe=this.height%2/2,Le=Math.cos(this.angle),Ye=Math.sin(this.angle),Ke=d-Math.round(d)+Le*He+Ye*xe,st=m-Math.round(m)+Le*xe+Ye*He,xt=new Float64Array(v);if(o.$(xt,xt,[Ke>.5?Ke-1:Ke,st>.5?st-1:st,0]),this.alignedProjMatrix=xt,v=o.as(new Float64Array(16),this.pixelMatrix),!v)throw new Error("failed to invert matrix");this.pixelMatrixInverse=v,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const a=this.pointCoordinate(new o.P(0,0)),d=[a.x*this.worldSize,a.y*this.worldSize,0,1];return o.ag(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const a=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new o.P(0,a))}getCameraQueryGeometry(a){const d=this.getCameraPoint();if(a.length===1)return[a[0],d];{let m=d.x,v=d.y,w=d.x,E=d.y;for(const P of a)m=Math.min(m,P.x),v=Math.min(v,P.y),w=Math.max(w,P.x),E=Math.max(E,P.y);return[new o.P(m,v),new o.P(w,v),new o.P(w,E),new o.P(m,E),new o.P(m,v)]}}}function Go(_,a){let d,m=!1,v=null,w=null;const E=()=>{v=null,m&&(_.apply(w,d),v=setTimeout(E,a),m=!1)};return(...P)=>(m=!0,w=this,d=P,v||E(),v)}class Ec{constructor(a){this._getCurrentHash=()=>{const d=window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(v=>v.split("=")).forEach(v=>{v[0]===this._hashName&&(m=v)}),(m&&m[1]||"").split("/")}return d.split("/")},this._onHashChange=()=>{const d=this._getCurrentHash();if(d.length>=3&&!d.some(m=>isNaN(m))){const m=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(d[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+d[2],+d[1]],zoom:+d[0],bearing:m,pitch:+(d[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const d=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,d)}catch{}},this._updateHash=Go(this._updateHashUnthrottled,300),this._hashName=a&&encodeURIComponent(a)}addTo(a){return this._map=a,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(a){const d=this._map.getCenter(),m=Math.round(100*this._map.getZoom())/100,v=Math.ceil((m*Math.LN2+Math.log(512/360/.5))/Math.LN10),w=Math.pow(10,v),E=Math.round(d.lng*w)/w,P=Math.round(d.lat*w)/w,M=this._map.getBearing(),z=this._map.getPitch();let N="";if(N+=a?`/${E}/${P}/${m}`:`${m}/${P}/${E}`,(M||z)&&(N+="/"+Math.round(10*M)/10),z&&(N+=`/${Math.round(z)}`),this._hashName){const U=this._hashName;let X=!1;const he=window.location.hash.slice(1).split("&").map(de=>{const ge=de.split("=")[0];return ge===U?(X=!0,`${ge}=${N}`):de}).filter(de=>de);return X||he.push(`${U}=${N}`),`#${he.join("&")}`}return`#${N}`}}const Fl={linearity:.3,easing:o.ba(0,0,.3,1)},np=o.e({deceleration:2500,maxSpeed:1400},Fl),rp=o.e({deceleration:20,maxSpeed:1400},Fl),ip=o.e({deceleration:1e3,maxSpeed:360},Fl),ap=o.e({deceleration:1e3,maxSpeed:90},Fl);class sp{constructor(a){this._map=a,this.clear()}clear(){this._inertiaBuffer=[]}record(a){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:o.h.now(),settings:a})}_drainInertiaBuffer(){const a=this._inertiaBuffer,d=o.h.now();for(;a.length>0&&d-a[0].time>160;)a.shift()}_onMoveEnd(a){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const d={zoom:0,bearing:0,pitch:0,pan:new o.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:w}of this._inertiaBuffer)d.zoom+=w.zoomDelta||0,d.bearing+=w.bearingDelta||0,d.pitch+=w.pitchDelta||0,w.panDelta&&d.pan._add(w.panDelta),w.around&&(d.around=w.around),w.pinchAround&&(d.pinchAround=w.pinchAround);const m=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,v={};if(d.pan.mag()){const w=Ic(d.pan.mag(),m,o.e({},np,a||{}));v.offset=d.pan.mult(w.amount/d.pan.mag()),v.center=this._map.transform.center,fs(v,w)}if(d.zoom){const w=Ic(d.zoom,m,rp);v.zoom=this._map.transform.zoom+w.amount,fs(v,w)}if(d.bearing){const w=Ic(d.bearing,m,ip);v.bearing=this._map.transform.bearing+o.ad(w.amount,-179,179),fs(v,w)}if(d.pitch){const w=Ic(d.pitch,m,ap);v.pitch=this._map.transform.pitch+w.amount,fs(v,w)}if(v.zoom||v.bearing){const w=d.pinchAround===void 0?d.around:d.pinchAround;v.around=w?this._map.unproject(w):this._map.getCenter()}return this.clear(),o.e(v,{noMoveStart:!0})}}function fs(_,a){(!_.duration||_.duration<a.duration)&&(_.duration=a.duration,_.easing=a.easing)}function Ic(_,a,d){const{maxSpeed:m,linearity:v,deceleration:w}=d,E=o.ad(_*v/(a/1e3),-m,m),P=Math.abs(E)/(w*v);return{easing:d.easing,duration:1e3*P,amount:E*(P/2)}}class ba extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m,v={}){const w=y.mousePos(d.getCanvasContainer(),m),E=d.unproject(w);super(a,o.e({point:w,lngLat:E,originalEvent:m},v)),this._defaultPrevented=!1,this.target=d}}class Pc extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){const v=a==="touchend"?m.changedTouches:m.touches,w=y.touchPos(d.getCanvasContainer(),v),E=w.map(M=>d.unproject(M)),P=w.reduce((M,z,N,U)=>M.add(z.div(U.length)),new o.P(0,0));super(a,{points:w,point:P,lngLats:E,lngLat:d.unproject(P),originalEvent:m}),this._defaultPrevented=!1}}class op extends o.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(a,d,m){super(a,{originalEvent:m}),this._defaultPrevented=!1}}class lp{constructor(a,d){this._map=a,this._clickTolerance=d.clickTolerance}reset(){delete this._mousedownPos}wheel(a){return this._firePreventable(new op(a.type,this._map,a))}mousedown(a,d){return this._mousedownPos=d,this._firePreventable(new ba(a.type,this._map,a))}mouseup(a){this._map.fire(new ba(a.type,this._map,a))}click(a,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new ba(a.type,this._map,a))}dblclick(a){return this._firePreventable(new ba(a.type,this._map,a))}mouseover(a){this._map.fire(new ba(a.type,this._map,a))}mouseout(a){this._map.fire(new ba(a.type,this._map,a))}touchstart(a){return this._firePreventable(new Pc(a.type,this._map,a))}touchmove(a){this._map.fire(new Pc(a.type,this._map,a))}touchend(a){this._map.fire(new Pc(a.type,this._map,a))}touchcancel(a){this._map.fire(new Pc(a.type,this._map,a))}_firePreventable(a){if(this._map.fire(a),a.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class cp{constructor(a){this._map=a}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(a){this._map.fire(new ba(a.type,this._map,a))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ba("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(a){this._delayContextMenu?this._contextMenuEvent=a:this._ignoreContextMenu||this._map.fire(new ba(a.type,this._map,a)),this._map.listens("contextmenu")&&a.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Fs{constructor(a){this._map=a}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(a){return this.transform.pointLocation(o.P.convert(a),this._map.terrain)}}class up{constructor(a,d){this._map=a,this._tr=new Fs(a),this._el=a.getCanvasContainer(),this._container=a.getContainer(),this._clickTolerance=d.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(a,d){this.isEnabled()&&a.shiftKey&&a.button===0&&(y.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)}mousemoveWindow(a,d){if(!this._active)return;const m=d;if(this._lastPos.equals(m)||!this._box&&m.dist(this._startPos)<this._clickTolerance)return;const v=this._startPos;this._lastPos=m,this._box||(this._box=y.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",a));const w=Math.min(v.x,m.x),E=Math.max(v.x,m.x),P=Math.min(v.y,m.y),M=Math.max(v.y,m.y);y.setTransform(this._box,`translate(${w}px,${P}px)`),this._box.style.width=E-w+"px",this._box.style.height=M-P+"px"}mouseupWindow(a,d){if(!this._active||a.button!==0)return;const m=this._startPos,v=d;if(this.reset(),y.suppressClick(),m.x!==v.x||m.y!==v.y)return this._map.fire(new o.k("boxzoomend",{originalEvent:a})),{cameraAnimation:w=>w.fitScreenCoordinates(m,v,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",a)}keydown(a){this._active&&a.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",a))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(a,d){return this._map.fire(new o.k(a,{originalEvent:d}))}}function Oa(_,a){if(_.length!==a.length)throw new Error(`The number of touches and points are not equal - touches ${_.length}, points ${a.length}`);const d={};for(let m=0;m<_.length;m++)d[_[m].identifier]=a[m];return d}class zs{constructor(a){this.reset(),this.numTouches=a.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(a,d,m){(this.centroid||m.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=a.timeStamp),m.length===this.numTouches&&(this.centroid=function(v){const w=new o.P(0,0);for(const E of v)w._add(E);return w.div(v.length)}(d),this.touches=Oa(m,d)))}touchmove(a,d,m){if(this.aborted||!this.centroid)return;const v=Oa(m,d);for(const w in this.touches){const E=v[w];(!E||E.dist(this.touches[w])>30)&&(this.aborted=!0)}}touchend(a,d,m){if((!this.centroid||a.timeStamp-this.startTime>500)&&(this.aborted=!0),m.length===0){const v=!this.aborted&&this.centroid;if(this.reset(),v)return v}}}class Zu{constructor(a){this.singleTap=new zs(a),this.numTaps=a.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(a,d,m){this.singleTap.touchstart(a,d,m)}touchmove(a,d,m){this.singleTap.touchmove(a,d,m)}touchend(a,d,m){const v=this.singleTap.touchend(a,d,m);if(v){const w=a.timeStamp-this.lastTime<500,E=!this.lastTap||this.lastTap.dist(v)<30;if(w&&E||this.reset(),this.count++,this.lastTime=a.timeStamp,this.lastTap=v,this.count===this.numTaps)return this.reset(),v}}}class Bs{constructor(a){this._tr=new Fs(a),this._zoomIn=new Zu({numTouches:1,numTaps:2}),this._zoomOut=new Zu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(a,d,m){this._zoomIn.touchstart(a,d,m),this._zoomOut.touchstart(a,d,m)}touchmove(a,d,m){this._zoomIn.touchmove(a,d,m),this._zoomOut.touchmove(a,d,m)}touchend(a,d,m){const v=this._zoomIn.touchend(a,d,m),w=this._zoomOut.touchend(a,d,m),E=this._tr;return v?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom+1,around:E.unproject(v)},{originalEvent:a})}):w?(this._active=!0,a.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:P=>P.easeTo({duration:300,zoom:E.zoom-1,around:E.unproject(w)},{originalEvent:a})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vs{constructor(a){this._enabled=!!a.enable,this._moveStateManager=a.moveStateManager,this._clickTolerance=a.clickTolerance||1,this._moveFunction=a.move,this._activateOnStart=!!a.activateOnStart,a.assignEvents(this),this.reset()}reset(a){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(a)}_move(...a){const d=this._moveFunction(...a);if(d.bearingDelta||d.pitchDelta||d.around||d.panDelta)return this._active=!0,d}dragStart(a,d){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(a)&&(this._moveStateManager.startMove(a),this._lastPoint=d.length?d[0]:d,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(a,d){if(!this.isEnabled())return;const m=this._lastPoint;if(!m)return;if(a.preventDefault(),!this._moveStateManager.isValidMoveEvent(a))return void this.reset(a);const v=d.length?d[0]:d;return!this._moved&&v.dist(m)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=v,this._move(m,v))}dragEnd(a){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(a)&&(this._moved&&y.suppressClick(),this.reset(a))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const yy={0:1,2:2};class Ph{constructor(a){this._correctEvent=a.checkCorrectEvent}startMove(a){const d=y.mouseButton(a);this._eventButton=d}endMove(a){delete this._eventButton}isValidStartEvent(a){return this._correctEvent(a)}isValidMoveEvent(a){return!function(d,m){const v=yy[m];return d.buttons===void 0||(d.buttons&v)!==v}(a,this._eventButton)}isValidEndEvent(a){return y.mouseButton(a)===this._eventButton}}class dp{constructor(){this._firstTouch=void 0}_isOneFingerTouch(a){return a.targetTouches.length===1}_isSameTouchEvent(a){return a.targetTouches[0].identifier===this._firstTouch}startMove(a){this._firstTouch=a.targetTouches[0].identifier}endMove(a){delete this._firstTouch}isValidStartEvent(a){return this._isOneFingerTouch(a)}isValidMoveEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}isValidEndEvent(a){return this._isOneFingerTouch(a)&&this._isSameTouchEvent(a)}}const Ku=_=>{_.mousedown=_.dragStart,_.mousemoveWindow=_.dragMove,_.mouseup=_.dragEnd,_.contextmenu=function(a){a.preventDefault()}},zl=({enable:_,clickTolerance:a,bearingDegreesPerPixelMoved:d=.8})=>{const m=new Ph({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new Vs({clickTolerance:a,move:(v,w)=>({bearingDelta:(w.x-v.x)*d}),moveStateManager:m,enable:_,assignEvents:Ku})},Ns=({enable:_,clickTolerance:a,pitchDegreesPerPixelMoved:d=-.5})=>{const m=new Ph({checkCorrectEvent:v=>y.mouseButton(v)===0&&v.ctrlKey||y.mouseButton(v)===2});return new Vs({clickTolerance:a,move:(v,w)=>({pitchDelta:(w.y-v.y)*d}),moveStateManager:m,enable:_,assignEvents:Ku})};class Ut{constructor(a,d){this._minTouches=a.cooperativeGestures?2:1,this._clickTolerance=a.clickTolerance||1,this._map=d,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new o.P(0,0),setTimeout(()=>{this._cancelCooperativeMessage=!1},200)}touchstart(a,d,m){return this._calculateTransform(a,d,m)}touchmove(a,d,m){if(this._map._cooperativeGestures&&(this._minTouches===2&&m.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(a,!1,m.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(m.length<this._minTouches))return a.preventDefault(),this._calculateTransform(a,d,m)}touchend(a,d,m){this._calculateTransform(a,d,m),this._active&&m.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(a,d,m){m.length>0&&(this._active=!0);const v=Oa(m,d),w=new o.P(0,0),E=new o.P(0,0);let P=0;for(const z in v){const N=v[z],U=this._touches[z];U&&(w._add(N),E._add(N.sub(U)),P++,v[z]=N)}if(this._touches=v,P<this._minTouches||!E.mag())return;const M=E.div(P);return this._sum._add(M),this._sum.mag()<this._clickTolerance?void 0:{around:w.div(P),panDelta:M}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xu{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(a,d,m){this._firstTwoTouches||m.length<2||(this._firstTwoTouches=[m[0].identifier,m[1].identifier],this._start([d[0],d[1]]))}touchmove(a,d,m){if(!this._firstTwoTouches)return;a.preventDefault();const[v,w]=this._firstTwoTouches,E=yo(m,d,v),P=yo(m,d,w);if(!E||!P)return;const M=this._aroundCenter?null:E.add(P).div(2);return this._move([E,P],M,a)}touchend(a,d,m){if(!this._firstTwoTouches)return;const[v,w]=this._firstTwoTouches,E=yo(m,d,v),P=yo(m,d,w);E&&P||(this._active&&y.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(a){this._enabled=!0,this._aroundCenter=!!a&&a.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function yo(_,a,d){for(let m=0;m<_.length;m++)if(_[m].identifier===d)return a[m]}function Bl(_,a){return Math.log(_/a)/Math.LN2}class hp extends Xu{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(a){this._startDistance=this._distance=a[0].dist(a[1])}_move(a,d){const m=this._distance;if(this._distance=a[0].dist(a[1]),this._active||!(Math.abs(Bl(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Bl(this._distance,m),pinchAround:d}}}function Vt(_,a){return 180*_.angleWith(a)/Math.PI}class Dh extends Xu{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(a){this._startVector=this._vector=a[0].sub(a[1]),this._minDiameter=a[0].dist(a[1])}_move(a,d){const m=this._vector;if(this._vector=a[0].sub(a[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Vt(this._vector,m),pinchAround:d}}_isBelowThreshold(a){this._minDiameter=Math.min(this._minDiameter,a.mag());const d=25/(Math.PI*this._minDiameter)*360,m=Vt(a,this._startVector);return Math.abs(m)<d}}function Mh(_){return Math.abs(_.y)>Math.abs(_.x)}class _y extends Xu{constructor(a){super(),this._map=a}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(a,d,m){super.touchstart(a,d,m),this._currentTouchCount=m.length}_start(a){this._lastPoints=a,Mh(a[0].sub(a[1]))&&(this._valid=!1)}_move(a,d,m){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const v=a[0].sub(this._lastPoints[0]),w=a[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(v,w,m.timeStamp),this._valid?(this._lastPoints=a,this._active=!0,{pitchDelta:(v.y+w.y)/2*-.5}):void 0}gestureBeginsVertically(a,d,m){if(this._valid!==void 0)return this._valid;const v=a.mag()>=2,w=d.mag()>=2;if(!v&&!w)return;if(!v||!w)return this._firstMove===void 0&&(this._firstMove=m),m-this._firstMove<100&&void 0;const E=a.y>0==d.y>0;return Mh(a)&&Mh(d)&&E}}const Lh={panStep:100,bearingStep:15,pitchStep:10};class fp{constructor(a){this._tr=new Fs(a);const d=Lh;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(a){if(a.altKey||a.ctrlKey||a.metaKey)return;let d=0,m=0,v=0,w=0,E=0;switch(a.keyCode){case 61:case 107:case 171:case 187:d=1;break;case 189:case 109:case 173:d=-1;break;case 37:a.shiftKey?m=-1:(a.preventDefault(),w=-1);break;case 39:a.shiftKey?m=1:(a.preventDefault(),w=1);break;case 38:a.shiftKey?v=1:(a.preventDefault(),E=-1);break;case 40:a.shiftKey?v=-1:(a.preventDefault(),E=1);break;default:return}return this._rotationDisabled&&(m=0,v=0),{cameraAnimation:P=>{const M=this._tr;P.easeTo({duration:300,easeId:"keyboardHandler",easing:mp,zoom:d?Math.round(M.zoom)+d*(a.shiftKey?2:1):M.zoom,bearing:M.bearing+m*this._bearingStep,pitch:M.pitch+v*this._pitchStep,offset:[-w*this._panStep,-E*this._panStep],center:M.center},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function mp(_){return _*(2-_)}const pp=4.000244140625;class by{constructor(a,d){this._onTimeout=m=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(m)},this._map=a,this._tr=new Fs(a),this._el=a.getCanvasContainer(),this._triggerRenderFrame=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(a){this._defaultZoomRate=a}setWheelZoomRate(a){this._wheelZoomRate=a}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(a){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!a&&a.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(a){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!a[this._map._metaKey])return;a.preventDefault()}let d=a.deltaMode===WheelEvent.DOM_DELTA_LINE?40*a.deltaY:a.deltaY;const m=o.h.now(),v=m-(this._lastWheelEventTime||0);this._lastWheelEventTime=m,d!==0&&d%pp==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":v>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,a)):this._type||(this._type=Math.abs(v*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),a.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=a,this._delta-=d,this._active||this._start(a)),a.preventDefault()}_start(a){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const d=y.mousePos(this._el,a),m=this._tr;this._around=o.L.convert(this._aroundCenter?m.center:m.unproject(d)),this._aroundPoint=m.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const a=this._tr.transform;if(this._delta!==0){const P=this._type==="wheel"&&Math.abs(this._delta)>pp?this._wheelZoomRate:this._defaultZoomRate;let M=2/(1+Math.exp(-Math.abs(this._delta*P)));this._delta<0&&M!==0&&(M=1/M);const z=typeof this._targetZoom=="number"?a.zoomScale(this._targetZoom):a.scale;this._targetZoom=Math.min(a.maxZoom,Math.max(a.minZoom,a.scaleZoom(z*M))),this._type==="wheel"&&(this._startZoom=a.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const d=typeof this._targetZoom=="number"?this._targetZoom:a.zoom,m=this._startZoom,v=this._easing;let w,E=!1;if(this._type==="wheel"&&m&&v){const P=Math.min((o.h.now()-this._lastWheelEventTime)/200,1),M=v(P);w=o.B.number(m,d,M),P<1?this._frameId||(this._frameId=!0):E=!0}else w=d,E=!0;return this._active=!0,E&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!E,zoomDelta:w-a.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(a){let d=o.bb;if(this._prevEase){const m=this._prevEase,v=(o.h.now()-m.start)/m.duration,w=m.easing(v+.01)-m.easing(v),E=.27/Math.sqrt(w*w+1e-4)*.01,P=Math.sqrt(.0729-E*E);d=o.ba(E,P,.25,1)}return this._prevEase={start:o.h.now(),duration:a,easing:d},d}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Rh{constructor(a,d){this._clickZoom=a,this._tapZoom=d}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Oh{constructor(a){this._tr=new Fs(a),this.reset()}reset(){this._active=!1}dblclick(a,d){return a.preventDefault(),{cameraAnimation:m=>{m.easeTo({duration:300,zoom:this._tr.zoom+(a.shiftKey?-1:1),around:this._tr.unproject(d)},{originalEvent:a})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fh{constructor(){this._tap=new Zu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(a,d,m){if(!this._swipePoint)if(this._tapTime){const v=d[0],w=a.timeStamp-this._tapTime<500,E=this._tapPoint.dist(v)<30;w&&E?m.length>0&&(this._swipePoint=v,this._swipeTouch=m[0].identifier):this.reset()}else this._tap.touchstart(a,d,m)}touchmove(a,d,m){if(this._tapTime){if(this._swipePoint){if(m[0].identifier!==this._swipeTouch)return;const v=d[0],w=v.y-this._swipePoint.y;return this._swipePoint=v,a.preventDefault(),this._active=!0,{zoomDelta:w/128}}}else this._tap.touchmove(a,d,m)}touchend(a,d,m){if(this._tapTime)this._swipePoint&&m.length===0&&this.reset();else{const v=this._tap.touchend(a,d,m);v&&(this._tapTime=a.timeStamp,this._tapPoint=v)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zh{constructor(a,d,m){this._el=a,this._mousePan=d,this._touchPan=m}enable(a){this._inertiaOptions=a||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class ta{constructor(a,d,m){this._pitchWithRotate=a.pitchWithRotate,this._mouseRotate=d,this._mousePitch=m}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class _o{constructor(a,d,m,v){this._el=a,this._touchZoom=d,this._touchRotate=m,this._tapDragZoom=v,this._rotationDisabled=!1,this._enabled=!0}enable(a){this._touchZoom.enable(a),this._rotationDisabled||this._touchRotate.enable(a),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Dc=_=>_.zoom||_.drag||_.pitch||_.rotate;class Bh extends o.k{}function Mc(_){return _.panDelta&&_.panDelta.mag()||_.zoomDelta||_.bearingDelta||_.pitchDelta}class Vh{constructor(a,d){this.handleWindowEvent=v=>{this.handleEvent(v,`${v.type}Window`)},this.handleEvent=(v,w)=>{if(v.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const E=v.type==="renderFrame"?void 0:v,P={needsRenderFrame:!1},M={},z={},N=v.touches,U=N?this._getMapTouches(N):void 0,X=U?y.touchPos(this._el,U):y.mousePos(this._el,v);for(const{handlerName:ge,handler:ce,allowed:De}of this._handlers){if(!ce.isEnabled())continue;let He;this._blockedByActive(z,De,ge)?ce.reset():ce[w||v.type]&&(He=ce[w||v.type](v,X,U),this.mergeHandlerResult(P,M,He,ge,E),He&&He.needsRenderFrame&&this._triggerRenderFrame()),(He||ce.isActive())&&(z[ge]=ce)}const he={};for(const ge in this._previousActiveHandlers)z[ge]||(he[ge]=E);this._previousActiveHandlers=z,(Object.keys(he).length||Mc(P))&&(this._changes.push([P,M,he]),this._triggerRenderFrame()),(Object.keys(z).length||Mc(P))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:de}=P;de&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],de(this._map))},this._map=a,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new sp(a),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d);const m=this._el;this._listeners=[[m,"touchstart",{passive:!0}],[m,"touchmove",{passive:!1}],[m,"touchend",void 0],[m,"touchcancel",void 0],[m,"mousedown",void 0],[m,"mousemove",void 0],[m,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[m,"mouseover",void 0],[m,"mouseout",void 0],[m,"dblclick",void 0],[m,"click",void 0],[m,"keydown",{capture:!1}],[m,"keyup",void 0],[m,"wheel",{passive:!1}],[m,"contextmenu",void 0],[window,"blur",void 0]];for(const[v,w,E]of this._listeners)y.addEventListener(v,w,v===document?this.handleWindowEvent:this.handleEvent,E)}destroy(){for(const[a,d,m]of this._listeners)y.removeEventListener(a,d,a===document?this.handleWindowEvent:this.handleEvent,m)}_addDefaultHandlers(a){const d=this._map,m=d.getCanvasContainer();this._add("mapEvent",new lp(d,a));const v=d.boxZoom=new up(d,a);this._add("boxZoom",v),a.interactive&&a.boxZoom&&v.enable();const w=new Bs(d),E=new Oh(d);d.doubleClickZoom=new Rh(E,w),this._add("tapZoom",w),this._add("clickZoom",E),a.interactive&&a.doubleClickZoom&&d.doubleClickZoom.enable();const P=new Fh;this._add("tapDragZoom",P);const M=d.touchPitch=new _y(d);this._add("touchPitch",M),a.interactive&&a.touchPitch&&d.touchPitch.enable(a.touchPitch);const z=zl(a),N=Ns(a);d.dragRotate=new ta(a,z,N),this._add("mouseRotate",z,["mousePitch"]),this._add("mousePitch",N,["mouseRotate"]),a.interactive&&a.dragRotate&&d.dragRotate.enable();const U=(({enable:De,clickTolerance:He})=>{const xe=new Ph({checkCorrectEvent:Le=>y.mouseButton(Le)===0&&!Le.ctrlKey});return new Vs({clickTolerance:He,move:(Le,Ye)=>({around:Ye,panDelta:Ye.sub(Le)}),activateOnStart:!0,moveStateManager:xe,enable:De,assignEvents:Ku})})(a),X=new Ut(a,d);d.dragPan=new zh(m,U,X),this._add("mousePan",U),this._add("touchPan",X,["touchZoom","touchRotate"]),a.interactive&&a.dragPan&&d.dragPan.enable(a.dragPan);const he=new Dh,de=new hp;d.touchZoomRotate=new _o(m,de,he,P),this._add("touchRotate",he,["touchPan","touchZoom"]),this._add("touchZoom",de,["touchPan","touchRotate"]),a.interactive&&a.touchZoomRotate&&d.touchZoomRotate.enable(a.touchZoomRotate);const ge=d.scrollZoom=new by(d,()=>this._triggerRenderFrame());this._add("scrollZoom",ge,["mousePan"]),a.interactive&&a.scrollZoom&&d.scrollZoom.enable(a.scrollZoom);const ce=d.keyboard=new fp(d);this._add("keyboard",ce),a.interactive&&a.keyboard&&d.keyboard.enable(),this._add("blockableMapEvent",new cp(d))}_add(a,d,m){this._handlers.push({handlerName:a,handler:d,allowed:m}),this._handlersById[a]=d}stop(a){if(!this._updatingCamera){for(const{handler:d}of this._handlers)d.reset();this._inertia.clear(),this._fireEvents({},{},a),this._changes=[]}}isActive(){for(const{handler:a}of this._handlers)if(a.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!Dc(this._eventsInProgress)||this.isZooming()}_blockedByActive(a,d,m){for(const v in a)if(v!==m&&(!d||d.indexOf(v)<0))return!0;return!1}_getMapTouches(a){const d=[];for(const m of a)this._el.contains(m.target)&&d.push(m);return d}mergeHandlerResult(a,d,m,v,w){if(!m)return;o.e(a,m);const E={handlerName:v,originalEvent:m.originalEvent||w};m.zoomDelta!==void 0&&(d.zoom=E),m.panDelta!==void 0&&(d.drag=E),m.pitchDelta!==void 0&&(d.pitch=E),m.bearingDelta!==void 0&&(d.rotate=E)}_applyChanges(){const a={},d={},m={};for(const[v,w,E]of this._changes)v.panDelta&&(a.panDelta=(a.panDelta||new o.P(0,0))._add(v.panDelta)),v.zoomDelta&&(a.zoomDelta=(a.zoomDelta||0)+v.zoomDelta),v.bearingDelta&&(a.bearingDelta=(a.bearingDelta||0)+v.bearingDelta),v.pitchDelta&&(a.pitchDelta=(a.pitchDelta||0)+v.pitchDelta),v.around!==void 0&&(a.around=v.around),v.pinchAround!==void 0&&(a.pinchAround=v.pinchAround),v.noInertia&&(a.noInertia=v.noInertia),o.e(d,w),o.e(m,E);this._updateMapTransform(a,d,m),this._changes=[]}_updateMapTransform(a,d,m){const v=this._map,w=v._getTransformForUpdate(),E=v.terrain;if(!(Mc(a)||E&&this._terrainMovement))return this._fireEvents(d,m,!0);let{panDelta:P,zoomDelta:M,bearingDelta:z,pitchDelta:N,around:U,pinchAround:X}=a;X!==void 0&&(U=X),v._stop(!0),U=U||v.transform.centerPoint;const he=w.pointLocation(P?U.sub(P):U);z&&(w.bearing+=z),N&&(w.pitch+=N),M&&(w.zoom+=M),E?this._terrainMovement||!d.drag&&!d.zoom?d.drag&&this._terrainMovement?w.center=w.pointLocation(w.centerPoint.sub(P)):w.setLocationAtPoint(he,U):(this._terrainMovement=!0,this._map._elevationFreeze=!0,w.setLocationAtPoint(he,U),this._map.once("moveend",()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,w.recalculateZoom(v.terrain)})):w.setLocationAtPoint(he,U),v._applyUpdatedTransform(w),this._map._update(),a.noInertia||this._inertia.record(a),this._fireEvents(d,m,!0)}_fireEvents(a,d,m){const v=Dc(this._eventsInProgress),w=Dc(a),E={};for(const N in a){const{originalEvent:U}=a[N];this._eventsInProgress[N]||(E[`${N}start`]=U),this._eventsInProgress[N]=a[N]}!v&&w&&this._fireEvent("movestart",w.originalEvent);for(const N in E)this._fireEvent(N,E[N]);w&&this._fireEvent("move",w.originalEvent);for(const N in a){const{originalEvent:U}=a[N];this._fireEvent(N,U)}const P={};let M;for(const N in this._eventsInProgress){const{handlerName:U,originalEvent:X}=this._eventsInProgress[N];this._handlersById[U].isActive()||(delete this._eventsInProgress[N],M=d[U]||X,P[`${N}end`]=M)}for(const N in P)this._fireEvent(N,P[N]);const z=Dc(this._eventsInProgress);if(m&&(v||w)&&!z){this._updatingCamera=!0;const N=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),U=X=>X!==0&&-this._bearingSnap<X&&X<this._bearingSnap;!N||!N.essential&&o.h.prefersReducedMotion?(this._map.fire(new o.k("moveend",{originalEvent:M})),U(this._map.getBearing())&&this._map.resetNorth()):(U(N.bearing||this._map.getBearing())&&(N.bearing=0),N.freezeElevation=!0,this._map.easeTo(N,{originalEvent:M})),this._updatingCamera=!1}}_fireEvent(a,d){this._map.fire(new o.k(a,d?{originalEvent:d}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(a=>{delete this._frameId,this.handleEvent(new Bh("renderFrame",{timeStamp:a})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class gp extends o.E{constructor(a,d){super(),this._renderFrameCallback=()=>{const m=Math.min((o.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(m)),m<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=a,this._bearingSnap=d.bearingSnap,this.on("moveend",()=>{delete this._requestedCameraState})}getCenter(){return new o.L(this.transform.center.lng,this.transform.center.lat)}setCenter(a,d){return this.jumpTo({center:a},d)}panBy(a,d,m){return a=o.P.convert(a).mult(-1),this.panTo(this.transform.center,o.e({offset:a},d),m)}panTo(a,d,m){return this.easeTo(o.e({center:a},d),m)}getZoom(){return this.transform.zoom}setZoom(a,d){return this.jumpTo({zoom:a},d),this}zoomTo(a,d,m){return this.easeTo(o.e({zoom:a},d),m)}zoomIn(a,d){return this.zoomTo(this.getZoom()+1,a,d),this}zoomOut(a,d){return this.zoomTo(this.getZoom()-1,a,d),this}getBearing(){return this.transform.bearing}setBearing(a,d){return this.jumpTo({bearing:a},d),this}getPadding(){return this.transform.padding}setPadding(a,d){return this.jumpTo({padding:a},d),this}rotateTo(a,d,m){return this.easeTo(o.e({bearing:a},d),m)}resetNorth(a,d){return this.rotateTo(0,o.e({duration:1e3},a),d),this}resetNorthPitch(a,d){return this.easeTo(o.e({bearing:0,pitch:0,duration:1e3},a),d),this}snapToNorth(a,d){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(a,d):this}getPitch(){return this.transform.pitch}setPitch(a,d){return this.jumpTo({pitch:a},d),this}cameraForBounds(a,d){a=gt.convert(a);const m=d&&d.bearing||0;return this._cameraForBoxAndBearing(a.getNorthWest(),a.getSouthEast(),m,d)}_cameraForBoxAndBearing(a,d,m,v){const w={top:0,bottom:0,right:0,left:0};if(typeof(v=o.e({padding:w,offset:[0,0],maxZoom:this.transform.maxZoom},v)).padding=="number"){const Ye=v.padding;v.padding={top:Ye,bottom:Ye,right:Ye,left:Ye}}v.padding=o.e(w,v.padding);const E=this.transform,P=E.padding,M=E.project(o.L.convert(a)),z=E.project(o.L.convert(d)),N=M.rotate(-m*Math.PI/180),U=z.rotate(-m*Math.PI/180),X=new o.P(Math.max(N.x,U.x),Math.max(N.y,U.y)),he=new o.P(Math.min(N.x,U.x),Math.min(N.y,U.y)),de=X.sub(he),ge=(E.width-(P.left+P.right+v.padding.left+v.padding.right))/de.x,ce=(E.height-(P.top+P.bottom+v.padding.top+v.padding.bottom))/de.y;if(ce<0||ge<0)return void o.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const De=Math.min(E.scaleZoom(E.scale*Math.min(ge,ce)),v.maxZoom),He=o.P.convert(v.offset),xe=new o.P((v.padding.left-v.padding.right)/2,(v.padding.top-v.padding.bottom)/2).rotate(m*Math.PI/180),Le=He.add(xe).mult(E.scale/E.zoomScale(De));return{center:E.unproject(M.add(z).div(2).sub(Le)),zoom:De,bearing:m}}fitBounds(a,d,m){return this._fitInternal(this.cameraForBounds(a,d),d,m)}fitScreenCoordinates(a,d,m,v,w){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(o.P.convert(a)),this.transform.pointLocation(o.P.convert(d)),m,v),v,w)}_fitInternal(a,d,m){return a?(delete(d=o.e(a,d)).padding,d.linear?this.easeTo(d,m):this.flyTo(d,m)):this}jumpTo(a,d){this.stop();const m=this._getTransformForUpdate();let v=!1,w=!1,E=!1;return"zoom"in a&&m.zoom!==+a.zoom&&(v=!0,m.zoom=+a.zoom),a.center!==void 0&&(m.center=o.L.convert(a.center)),"bearing"in a&&m.bearing!==+a.bearing&&(w=!0,m.bearing=+a.bearing),"pitch"in a&&m.pitch!==+a.pitch&&(E=!0,m.pitch=+a.pitch),a.padding==null||m.isPaddingEqual(a.padding)||(m.padding=a.padding),this._applyUpdatedTransform(m),this.fire(new o.k("movestart",d)).fire(new o.k("move",d)),v&&this.fire(new o.k("zoomstart",d)).fire(new o.k("zoom",d)).fire(new o.k("zoomend",d)),w&&this.fire(new o.k("rotatestart",d)).fire(new o.k("rotate",d)).fire(new o.k("rotateend",d)),E&&this.fire(new o.k("pitchstart",d)).fire(new o.k("pitch",d)).fire(new o.k("pitchend",d)),this.fire(new o.k("moveend",d))}calculateCameraOptionsFromTo(a,d,m,v=0){const w=o.U.fromLngLat(a,d),E=o.U.fromLngLat(m,v),P=E.x-w.x,M=E.y-w.y,z=E.z-w.z,N=Math.hypot(P,M,z);if(N===0)throw new Error("Can't calculate camera options with same From and To");const U=Math.hypot(P,M),X=this.transform.scaleZoom(this.transform.cameraToCenterDistance/N/this.transform.tileSize),he=180*Math.atan2(P,-M)/Math.PI;let de=180*Math.acos(U/N)/Math.PI;return de=z<0?90-de:90+de,{center:E.toLngLat(),zoom:X,pitch:de,bearing:he}}easeTo(a,d){this._stop(!1,a.easeId),((a=o.e({offset:[0,0],duration:500,easing:o.bb},a)).animate===!1||!a.essential&&o.h.prefersReducedMotion)&&(a.duration=0);const m=this._getTransformForUpdate(),v=this.getZoom(),w=this.getBearing(),E=this.getPitch(),P=this.getPadding(),M="zoom"in a?+a.zoom:v,z="bearing"in a?this._normalizeBearing(a.bearing,w):w,N="pitch"in a?+a.pitch:E,U="padding"in a?a.padding:m.padding,X=o.P.convert(a.offset);let he=m.centerPoint.add(X);const de=m.pointLocation(he),ge=o.L.convert(a.center||de);this._normalizeCenter(ge);const ce=m.project(de),De=m.project(ge).sub(ce),He=m.zoomScale(M-v);let xe,Le;a.around&&(xe=o.L.convert(a.around),Le=m.locationPoint(xe));const Ye={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||M!==v,this._rotating=this._rotating||w!==z,this._pitching=this._pitching||N!==E,this._padding=!m.isPaddingEqual(U),this._easeId=a.easeId,this._prepareEase(d,a.noMoveStart,Ye),this.terrain&&this._prepareElevation(ge),this._ease(Ke=>{if(this._zooming&&(m.zoom=o.B.number(v,M,Ke)),this._rotating&&(m.bearing=o.B.number(w,z,Ke)),this._pitching&&(m.pitch=o.B.number(E,N,Ke)),this._padding&&(m.interpolatePadding(P,U,Ke),he=m.centerPoint.add(X)),this.terrain&&!a.freezeElevation&&this._updateElevation(Ke),xe)m.setLocationAtPoint(xe,Le);else{const st=m.zoomScale(m.zoom-v),xt=M>v?Math.min(2,He):Math.max(.5,He),pt=Math.pow(xt,1-Ke),Et=m.unproject(ce.add(De.mult(Ke*pt)).mult(st));m.setLocationAtPoint(m.renderWorldCopies?Et.wrap():Et,he)}this._applyUpdatedTransform(m),this._fireMoveEvents(d)},Ke=>{this.terrain&&this._finalizeElevation(),this._afterEase(d,Ke)},a),this}_prepareEase(a,d,m={}){this._moving=!0,d||m.moving||this.fire(new o.k("movestart",a)),this._zooming&&!m.zooming&&this.fire(new o.k("zoomstart",a)),this._rotating&&!m.rotating&&this.fire(new o.k("rotatestart",a)),this._pitching&&!m.pitching&&this.fire(new o.k("pitchstart",a))}_prepareElevation(a){this._elevationCenter=a,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(a,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(a){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const d=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(a<1&&d!==this._elevationTarget){const m=this._elevationTarget-this._elevationStart;this._elevationStart+=a*(m-(d-(m*a+this._elevationStart))/(1-a)),this._elevationTarget=d}this.transform.elevation=o.B.number(this._elevationStart,this._elevationTarget,a)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(a){if(!this.transformCameraUpdate)return;const d=a.clone(),{center:m,zoom:v,pitch:w,bearing:E,elevation:P}=this.transformCameraUpdate(d);m&&(d.center=m),v!==void 0&&(d.zoom=v),w!==void 0&&(d.pitch=w),E!==void 0&&(d.bearing=E),P!==void 0&&(d.elevation=P),this.transform.apply(d)}_fireMoveEvents(a){this.fire(new o.k("move",a)),this._zooming&&this.fire(new o.k("zoom",a)),this._rotating&&this.fire(new o.k("rotate",a)),this._pitching&&this.fire(new o.k("pitch",a))}_afterEase(a,d){if(this._easeId&&d&&this._easeId===d)return;delete this._easeId;const m=this._zooming,v=this._rotating,w=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,m&&this.fire(new o.k("zoomend",a)),v&&this.fire(new o.k("rotateend",a)),w&&this.fire(new o.k("pitchend",a)),this.fire(new o.k("moveend",a))}flyTo(a,d){if(!a.essential&&o.h.prefersReducedMotion){const Kt=o.F(a,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Kt,d)}this.stop(),a=o.e({offset:[0,0],speed:1.2,curve:1.42,easing:o.bb},a);const m=this._getTransformForUpdate(),v=this.getZoom(),w=this.getBearing(),E=this.getPitch(),P=this.getPadding(),M="zoom"in a?o.ad(+a.zoom,m.minZoom,m.maxZoom):v,z="bearing"in a?this._normalizeBearing(a.bearing,w):w,N="pitch"in a?+a.pitch:E,U="padding"in a?a.padding:m.padding,X=m.zoomScale(M-v),he=o.P.convert(a.offset);let de=m.centerPoint.add(he);const ge=m.pointLocation(de),ce=o.L.convert(a.center||ge);this._normalizeCenter(ce);const De=m.project(ge),He=m.project(ce).sub(De);let xe=a.curve;const Le=Math.max(m.width,m.height),Ye=Le/X,Ke=He.mag();if("minZoom"in a){const Kt=o.ad(Math.min(a.minZoom,v,M),m.minZoom,m.maxZoom),nr=Le/m.zoomScale(Kt-v);xe=Math.sqrt(nr/Ke*2)}const st=xe*xe;function xt(Kt){const nr=(Ye*Ye-Le*Le+(Kt?-1:1)*st*st*Ke*Ke)/(2*(Kt?Ye:Le)*st*Ke);return Math.log(Math.sqrt(nr*nr+1)-nr)}function pt(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function Et(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}const Yt=xt(!1);let Pn=function(Kt){return Et(Yt)/Et(Yt+xe*Kt)},Ot=function(Kt){return Le*((Et(Yt)*(pt(nr=Yt+xe*Kt)/Et(nr))-pt(Yt))/st)/Ke;var nr},ln=(xt(!0)-Yt)/xe;if(Math.abs(Ke)<1e-6||!isFinite(ln)){if(Math.abs(Le-Ye)<1e-6)return this.easeTo(a,d);const Kt=Ye<Le?-1:1;ln=Math.abs(Math.log(Ye/Le))/xe,Ot=function(){return 0},Pn=function(nr){return Math.exp(Kt*xe*nr)}}return a.duration="duration"in a?+a.duration:1e3*ln/("screenSpeed"in a?+a.screenSpeed/xe:+a.speed),a.maxDuration&&a.duration>a.maxDuration&&(a.duration=0),this._zooming=!0,this._rotating=w!==z,this._pitching=N!==E,this._padding=!m.isPaddingEqual(U),this._prepareEase(d,!1),this.terrain&&this._prepareElevation(ce),this._ease(Kt=>{const nr=Kt*ln,In=1/Pn(nr);m.zoom=Kt===1?M:v+m.scaleZoom(In),this._rotating&&(m.bearing=o.B.number(w,z,Kt)),this._pitching&&(m.pitch=o.B.number(E,N,Kt)),this._padding&&(m.interpolatePadding(P,U,Kt),de=m.centerPoint.add(he)),this.terrain&&!a.freezeElevation&&this._updateElevation(Kt);const Sn=Kt===1?ce:m.unproject(De.add(He.mult(Ot(nr))).mult(In));m.setLocationAtPoint(m.renderWorldCopies?Sn.wrap():Sn,de),this._applyUpdatedTransform(m),this._fireMoveEvents(d)},()=>{this.terrain&&this._finalizeElevation(),this._afterEase(d)},a),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(a,d){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const m=this._onEaseEnd;delete this._onEaseEnd,m.call(this,d)}if(!a){const m=this.handlers;m&&m.stop(!1)}return this}_ease(a,d,m){m.animate===!1||m.duration===0?(a(1),d()):(this._easeStart=o.h.now(),this._easeOptions=m,this._onEaseFrame=a,this._onEaseEnd=d,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(a,d){a=o.b5(a,-180,180);const m=Math.abs(a-d);return Math.abs(a-360-d)<m&&(a-=360),Math.abs(a+360-d)<m&&(a+=360),a}_normalizeCenter(a){const d=this.transform;if(!d.renderWorldCopies||d.lngRange)return;const m=a.lng-d.center.lng;a.lng+=m>180?-360:m<-180?360:0}queryTerrainElevation(a){return this.terrain?this.terrain.getElevationForLngLatZoom(o.L.convert(a),this.transform.tileZoom)-this.transform.elevation:null}}class xa{constructor(a={}){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=d=>{!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"&&d.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=a}getDefaultPosition(){return"bottom-right"}onAdd(a){return this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=y.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=y.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(a,d){const m=this._map._getUIString(`AttributionControl.${d}`);a.title=m,a.setAttribute("aria-label",m)}_updateAttributions(){if(!this._map.style)return;let a=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?a=a.concat(this.options.customAttribution.map(v=>typeof v!="string"?"":v)):typeof this.options.customAttribution=="string"&&a.push(this.options.customAttribution)),this._map.style.stylesheet){const v=this._map.style.stylesheet;this.styleOwner=v.owner,this.styleId=v.id}const d=this._map.style.sourceCaches;for(const v in d){const w=d[v];if(w.used||w.usedForTerrain){const E=w.getSource();E.attribution&&a.indexOf(E.attribution)<0&&a.push(E.attribution)}}a=a.filter(v=>String(v).trim()),a.sort((v,w)=>v.length-w.length),a=a.filter((v,w)=>{for(let E=w+1;E<a.length;E++)if(a[E].indexOf(v)>=0)return!1;return!0});const m=a.join(" | ");m!==this._attribHTML&&(this._attribHTML=m,a.length?(this._innerContainer.innerHTML=m,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class xr{constructor(a={}){this._updateCompact=()=>{const d=this._container.children;if(d.length){const m=d[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&m.classList.add("maplibregl-compact"):m.classList.remove("maplibregl-compact")}},this.options=a}getDefaultPosition(){return"bottom-left"}onAdd(a){this._map=a,this._compact=this.options&&this.options.compact,this._container=y.create("div","maplibregl-ctrl");const d=y.create("a","maplibregl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://maplibre.org/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){y.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Ju{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(a){const d=++this._id;return this._queue.push({callback:a,id:d,cancelled:!1}),d}remove(a){const d=this._currentlyRunning,m=d?this._queue.concat(d):this._queue;for(const v of m)if(v.id===a)return void(v.cancelled=!0)}run(a=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const d=this._currentlyRunning=this._queue;this._queue=[];for(const m of d)if(!m.cancelled&&(m.callback(a),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const Nh={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var vp=o.Q([{name:"a_pos3d",type:"Int16",components:3}]);class yp extends o.E{constructor(a){super(),this.sourceCache=a,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,a.usedForTerrain=!0,a.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(a,d){this.sourceCache.update(a,d),this._renderableTilesKeys=[];const m={};for(const v of a.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:d}))m[v.key]=!0,this._renderableTilesKeys.push(v.key),this._tiles[v.key]||(v.posMatrix=new Float64Array(16),o.aS(v.posMatrix,0,o.N,0,o.N,0,1),this._tiles[v.key]=new tt(v,this.tileSize));for(const v in this._tiles)m[v]||delete this._tiles[v]}freeRtt(a){for(const d in this._tiles){const m=this._tiles[d];(!a||m.tileID.equals(a)||m.tileID.isChildOf(a)||a.isChildOf(m.tileID))&&(m.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(a=>this.getTileByID(a))}getTileByID(a){return this._tiles[a]}getTerrainCoords(a){const d={};for(const m of this._renderableTilesKeys){const v=this._tiles[m].tileID;if(v.canonical.equals(a.canonical)){const w=a.clone();w.posMatrix=new Float64Array(16),o.aS(w.posMatrix,0,o.N,0,o.N,0,1),d[m]=w}else if(v.canonical.isChildOf(a.canonical)){const w=a.clone();w.posMatrix=new Float64Array(16);const E=v.canonical.z-a.canonical.z,P=v.canonical.x-(v.canonical.x>>E<<E),M=v.canonical.y-(v.canonical.y>>E<<E),z=o.N>>E;o.aS(w.posMatrix,0,z,0,z,0,1),o.$(w.posMatrix,w.posMatrix,[-P*z,-M*z,0]),d[m]=w}else if(a.canonical.isChildOf(v.canonical)){const w=a.clone();w.posMatrix=new Float64Array(16);const E=a.canonical.z-v.canonical.z,P=a.canonical.x-(a.canonical.x>>E<<E),M=a.canonical.y-(a.canonical.y>>E<<E),z=o.N>>E;o.aS(w.posMatrix,0,o.N,0,o.N,0,1),o.$(w.posMatrix,w.posMatrix,[P*z,M*z,0]),o.a0(w.posMatrix,w.posMatrix,[1/2**E,1/2**E,0]),d[m]=w}}return d}getSourceTile(a,d){const m=this.sourceCache._source;let v=a.overscaledZ-this.deltaZoom;if(v>m.maxzoom&&(v=m.maxzoom),v<m.minzoom)return null;this._sourceTileCache[a.key]||(this._sourceTileCache[a.key]=a.scaledTo(v).key);let w=this.sourceCache.getTileByID(this._sourceTileCache[a.key]);if((!w||!w.dem)&&d)for(;v>=m.minzoom&&(!w||!w.dem);)w=this.sourceCache.getTileByID(a.scaledTo(v--).key);return w}tilesAfterTime(a=Date.now()){return Object.values(this._tiles).filter(d=>d.timeAdded>=a)}}class _p{constructor(a,d,m){this.painter=a,this.sourceCache=new yp(d),this.options=m,this.exaggeration=typeof m.exaggeration=="number"?m.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(a,d,m,v=o.N){var w;if(!(d>=0&&d<v&&m>=0&&m<v))return 0;const E=this.getTerrainData(a),P=(w=E.tile)===null||w===void 0?void 0:w.dem;if(!P)return 0;const M=function(de,ge,ce){var De=ge[0],He=ge[1];return de[0]=ce[0]*De+ce[4]*He+ce[12],de[1]=ce[1]*De+ce[5]*He+ce[13],de}([],[d/v*o.N,m/v*o.N],E.u_terrain_matrix),z=[M[0]*P.dim,M[1]*P.dim],N=Math.floor(z[0]),U=Math.floor(z[1]),X=z[0]-N,he=z[1]-U;return P.get(N,U)*(1-X)*(1-he)+P.get(N+1,U)*X*(1-he)+P.get(N,U+1)*(1-X)*he+P.get(N+1,U+1)*X*he}getElevationForLngLatZoom(a,d){const{tileID:m,mercatorX:v,mercatorY:w}=this._getOverscaledTileIDFromLngLatZoom(a,d);return this.getElevation(m,v%o.N,w%o.N,o.N)}getElevation(a,d,m,v=o.N){return this.getDEMElevation(a,d,m,v)*this.exaggeration}getTerrainData(a){if(!this._emptyDemTexture){const v=this.painter.context,w=new o.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new Z(v,w,v.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new Z(v,new o.R({width:1,height:1}),v.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=o.ao([])}const d=this.sourceCache.getSourceTile(a,!0);if(d&&d.dem&&(!d.demTexture||d.needsTerrainPrepare)){const v=this.painter.context;d.demTexture=this.painter.getTileTexture(d.dem.stride),d.demTexture?d.demTexture.update(d.dem.getPixels(),{premultiply:!1}):d.demTexture=new Z(v,d.dem.getPixels(),v.gl.RGBA,{premultiply:!1}),d.demTexture.bind(v.gl.NEAREST,v.gl.CLAMP_TO_EDGE),d.needsTerrainPrepare=!1}const m=d&&d+d.tileID.key+a.key;if(m&&!this._demMatrixCache[m]){const v=this.sourceCache.sourceCache._source.maxzoom;let w=a.canonical.z-d.tileID.canonical.z;a.overscaledZ>a.canonical.z&&(a.canonical.z>=v?w=a.canonical.z-v:o.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const E=a.canonical.x-(a.canonical.x>>w<<w),P=a.canonical.y-(a.canonical.y>>w<<w),M=o.bc(new Float64Array(16),[1/(o.N<<w),1/(o.N<<w),0]);o.$(M,M,[E*o.N,P*o.N,0]),this._demMatrixCache[a.key]={matrix:M,coord:a}}return{u_depth:2,u_terrain:3,u_terrain_dim:d&&d.dem&&d.dem.dim||1,u_terrain_matrix:m?this._demMatrixCache[a.key].matrix:this._emptyDemMatrix,u_terrain_unpack:d&&d.dem&&d.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(d&&d.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:d}}getFramebuffer(a){const d=this.painter,m=d.width/devicePixelRatio,v=d.height/devicePixelRatio;return!this._fbo||this._fbo.width===m&&this._fbo.height===v||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new Z(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new Z(d.context,{width:m,height:v,data:null},d.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(d.context.gl.NEAREST,d.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=d.context.createFramebuffer(m,v,!0,!1),this._fbo.depthAttachment.set(d.context.createRenderbuffer(d.context.gl.DEPTH_COMPONENT16,m,v))),this._fbo.colorAttachment.set(a==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const a=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const d=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let w=0,E=0;w<this._coordsTextureSize;w++)for(let P=0;P<this._coordsTextureSize;P++,E+=4)d[E+0]=255&P,d[E+1]=255&w,d[E+2]=P>>8<<4|w>>8,d[E+3]=0;const m=new o.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(d.buffer)),v=new Z(a,m,a.gl.RGBA,{premultiply:!1});return v.bind(a.gl.NEAREST,a.gl.CLAMP_TO_EDGE),this._coordsTexture=v,v}pointCoordinate(a){const d=new Uint8Array(4),m=this.painter.context,v=m.gl;m.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),v.readPixels(a.x,this.painter.height/devicePixelRatio-a.y-1,1,1,v.RGBA,v.UNSIGNED_BYTE,d),m.bindFramebuffer.set(null);const w=d[0]+(d[2]>>4<<8),E=d[1]+((15&d[2])<<8),P=this.coordsIndex[255-d[3]],M=P&&this.sourceCache.getTileByID(P);if(!M)return null;const z=this._coordsTextureSize,N=(1<<M.tileID.canonical.z)*z;return new o.U(this._allowMercatorOverflow(a,(M.tileID.canonical.x*z+w)/N),(M.tileID.canonical.y*z+E)/N,this.getElevation(M.tileID,w,E,z))}getTerrainMesh(){if(this._mesh)return this._mesh;const a=this.painter.context,d=new o.bd,m=new o.b0,v=this.meshSize,w=o.N/v,E=v*v;for(let U=0;U<=v;U++)for(let X=0;X<=v;X++)d.emplaceBack(X*w,U*w,0);for(let U=0;U<E;U+=v+1)for(let X=0;X<v;X++)m.emplaceBack(X+U,v+X+U+1,v+X+U+2),m.emplaceBack(X+U,v+X+U+2,X+U+1);const P=d.length,M=P+2*(v+1);for(const U of[0,1])for(let X=0;X<=v;X++)for(const he of[0,1])d.emplaceBack(X*w,U*o.N,he);for(let U=0;U<2*v;U+=2)m.emplaceBack(M+U,M+U+1,M+U+3),m.emplaceBack(M+U,M+U+3,M+U+2),m.emplaceBack(P+U,P+U+3,P+U+1),m.emplaceBack(P+U,P+U+2,P+U+3);const z=d.length,N=z+2*(v+1);for(const U of[0,1])for(let X=0;X<=v;X++)for(const he of[0,1])d.emplaceBack(U*o.N,X*w,he);for(let U=0;U<2*v;U+=2)m.emplaceBack(z+U,z+U+1,z+U+3),m.emplaceBack(z+U,z+U+3,z+U+2),m.emplaceBack(N+U,N+U+3,N+U+1),m.emplaceBack(N+U,N+U+2,N+U+3);return this._mesh={indexBuffer:a.createIndexBuffer(m),vertexBuffer:a.createVertexBuffer(d,vp.members),segments:o.S.simpleSegment(0,0,d.length,m.length)},this._mesh}getMeshFrameDelta(a){return 2*Math.PI*o.be/Math.pow(2,a)/5}getMinTileElevationForLngLatZoom(a,d){var m;const{tileID:v}=this._getOverscaledTileIDFromLngLatZoom(a,d);return(m=this.getMinMaxElevation(v).minElevation)!==null&&m!==void 0?m:0}getMinMaxElevation(a){const d=this.getTerrainData(a).tile,m={minElevation:null,maxElevation:null};return d&&d.dem&&(m.minElevation=d.dem.min*this.exaggeration,m.maxElevation=d.dem.max*this.exaggeration),m}_getOverscaledTileIDFromLngLatZoom(a,d){const m=o.U.fromLngLat(a.wrap()),v=(1<<d)*o.N,w=m.x*v,E=m.y*v,P=Math.floor(w/o.N),M=Math.floor(E/o.N);return{tileID:new o.O(d,0,d,P,M),mercatorX:w,mercatorY:E}}_allowMercatorOverflow(a,d){const m=a.x<this.painter.width/2;let v=o.bf(d);const w=this.painter.transform.center.lng;return m&&Math.sign(v)>0&&Math.sign(w)<0||!m&&Math.sign(v)<0&&Math.sign(w)>0?(v=360*Math.sign(w)+v,o.G(v)):d}}class xy{constructor(a,d,m){this._context=a,this._size=d,this._tileSize=m,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const a of this._objects)a.texture.destroy(),a.fbo.destroy()}_createObject(a){const d=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),m=new Z(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return m.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),d.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),d.colorAttachment.set(m.texture),{id:a,fbo:d,texture:m,stamp:-1,inUse:!1}}getObjectForId(a){return this._objects[a]}useObject(a){a.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(d=>a.id!==d),this._recentlyUsed.push(a.id)}stampObject(a){a.stamp=++this._stamp}getOrCreateFreeObject(){for(const d of this._recentlyUsed)if(!this._objects[d].inUse)return this._objects[d];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const a=this._createObject(this._objects.length);return this._objects.push(a),a}freeObject(a){a.inUse=!1}freeAllObjects(){for(const a of this._objects)this.freeObject(a)}isFull(){return!(this._objects.length<this._size)&&this._objects.some(a=>!a.inUse)===!1}}const qi={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class Qu{constructor(a,d){this.painter=a,this.terrain=d,this.pool=new xy(a.context,30,d.sourceCache.tileSize*d.qualityFactor)}destruct(){this.pool.destruct()}getTexture(a){return this.pool.getObjectForId(a.rtt[this._stacks.length-1].id).texture}prepareForRender(a,d){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=a._order.filter(m=>!a._layers[m].isHidden(d)),this._coordsDescendingInv={};for(const m in a.sourceCaches){this._coordsDescendingInv[m]={};const v=a.sourceCaches[m].getVisibleCoordinates();for(const w of v){const E=this.terrain.sourceCache.getTerrainCoords(w);for(const P in E)this._coordsDescendingInv[m][P]||(this._coordsDescendingInv[m][P]=[]),this._coordsDescendingInv[m][P].push(E[P])}}this._coordsDescendingInvStr={};for(const m of a._order){const v=a._layers[m],w=v.source;if(qi[v.type]&&!this._coordsDescendingInvStr[w]){this._coordsDescendingInvStr[w]={};for(const E in this._coordsDescendingInv[w])this._coordsDescendingInvStr[w][E]=this._coordsDescendingInv[w][E].map(P=>P.key).sort().join()}}for(const m of this._renderableTiles)for(const v in this._coordsDescendingInvStr){const w=this._coordsDescendingInvStr[v][m.tileID.key];w&&w!==m.rttCoords[v]&&(m.rtt=[])}}renderLayer(a){if(a.isHidden(this.painter.transform.zoom))return!1;const d=a.type,m=this.painter,v=this._renderableLayerIds[this._renderableLayerIds.length-1]===a.id;if(qi[d]&&(this._prevType&&qi[this._prevType]||this._stacks.push([]),this._prevType=d,this._stacks[this._stacks.length-1].push(a.id),!v))return!0;if(qi[this._prevType]||qi[d]&&v){this._prevType=d;const w=this._stacks.length-1,E=this._stacks[w]||[];for(const P of this._renderableTiles){if(this.pool.isFull()&&(Nr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(P),P.rtt[w]){const z=this.pool.getObjectForId(P.rtt[w].id);if(z.stamp===P.rtt[w].stamp){this.pool.useObject(z);continue}}const M=this.pool.getOrCreateFreeObject();this.pool.useObject(M),this.pool.stampObject(M),P.rtt[w]={id:M.id,stamp:M.stamp},m.context.bindFramebuffer.set(M.fbo.framebuffer),m.context.clear({color:o.aT.transparent,stencil:0}),m.currentStencilSource=void 0;for(let z=0;z<E.length;z++){const N=m.style._layers[E[z]],U=N.source?this._coordsDescendingInv[N.source][P.tileID.key]:[P.tileID];m.context.viewport.set([0,0,M.fbo.width,M.fbo.height]),m._renderTileClippingMasks(N,U),m.renderLayer(m,m.style.sourceCaches[N.source],N,U),N.source&&(P.rttCoords[N.source]=this._coordsDescendingInvStr[N.source][P.tileID.key])}}return Nr(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),qi[d]}return!1}}const Qt=p,on={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:o.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},Lc=_=>{_.touchstart=_.dragStart,_.touchmoveWindow=_.dragMove,_.touchend=_.dragEnd},$h={showCompass:!0,showZoom:!0,visualizePitch:!1};class Uh{constructor(a,d,m=!1){this.mousedown=E=>{this.startMouse(o.e({},E,{ctrlKey:!0,preventDefault:()=>E.preventDefault()}),y.mousePos(this.element,E)),y.addEventListener(window,"mousemove",this.mousemove),y.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=E=>{this.moveMouse(E,y.mousePos(this.element,E))},this.mouseup=E=>{this.mouseRotate.dragEnd(E),this.mousePitch&&this.mousePitch.dragEnd(E),this.offTemp()},this.touchstart=E=>{E.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.startTouch(E,this._startPos),y.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.addEventListener(window,"touchend",this.touchend))},this.touchmove=E=>{E.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,E.targetTouches)[0],this.moveTouch(E,this._lastPos))},this.touchend=E=>{E.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const v=a.dragRotate._mouseRotate.getClickTolerance(),w=a.dragRotate._mousePitch.getClickTolerance();this.element=d,this.mouseRotate=zl({clickTolerance:v,enable:!0}),this.touchRotate=(({enable:E,clickTolerance:P,bearingDegreesPerPixelMoved:M=.8})=>{const z=new dp;return new Vs({clickTolerance:P,move:(N,U)=>({bearingDelta:(U.x-N.x)*M}),moveStateManager:z,enable:E,assignEvents:Lc})})({clickTolerance:v,enable:!0}),this.map=a,m&&(this.mousePitch=Ns({clickTolerance:w,enable:!0}),this.touchPitch=(({enable:E,clickTolerance:P,pitchDegreesPerPixelMoved:M=-.5})=>{const z=new dp;return new Vs({clickTolerance:P,move:(N,U)=>({pitchDelta:(U.y-N.y)*M}),moveStateManager:z,enable:E,assignEvents:Lc})})({clickTolerance:w,enable:!0})),y.addEventListener(d,"mousedown",this.mousedown),y.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(d,"touchcancel",this.reset)}startMouse(a,d){this.mouseRotate.dragStart(a,d),this.mousePitch&&this.mousePitch.dragStart(a,d),y.disableDrag()}startTouch(a,d){this.touchRotate.dragStart(a,d),this.touchPitch&&this.touchPitch.dragStart(a,d),y.disableDrag()}moveMouse(a,d){const m=this.map,{bearingDelta:v}=this.mouseRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.mousePitch){const{pitchDelta:w}=this.mousePitch.dragMove(a,d)||{};w&&m.setPitch(m.getPitch()+w)}}moveTouch(a,d){const m=this.map,{bearingDelta:v}=this.touchRotate.dragMove(a,d)||{};if(v&&m.setBearing(m.getBearing()+v),this.touchPitch){const{pitchDelta:w}=this.touchPitch.dragMove(a,d)||{};w&&m.setPitch(m.getPitch()+w)}}off(){const a=this.element;y.removeEventListener(a,"mousedown",this.mousedown),y.removeEventListener(a,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend),y.removeEventListener(a,"touchcancel",this.reset),this.offTemp()}offTemp(){y.enableDrag(),y.removeEventListener(window,"mousemove",this.mousemove),y.removeEventListener(window,"mouseup",this.mouseup),y.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),y.removeEventListener(window,"touchend",this.touchend)}}let Xr;function qh(_,a,d){if(_=new o.L(_.lng,_.lat),a){const m=new o.L(_.lng-360,_.lat),v=new o.L(_.lng+360,_.lat),w=d.locationPoint(_).distSqr(a);d.locationPoint(m).distSqr(a)<w?_=m:d.locationPoint(v).distSqr(a)<w&&(_=v)}for(;Math.abs(_.lng-d.center.lng)>180;){const m=d.locationPoint(_);if(m.x>=0&&m.y>=0&&m.x<=d.width&&m.y<=d.height)break;_.lng>d.center.lng?_.lng-=360:_.lng+=360}return _}const Fa={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function bp(_,a,d){const m=_.classList;for(const v in Fa)m.remove(`maplibregl-${d}-anchor-${v}`);m.add(`maplibregl-${d}-anchor-${a}`)}class Wo extends o.E{constructor(a){if(super(),this._onKeyPress=d=>{const m=d.code,v=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&v!==32&&v!==13||this.togglePopup()},this._onMapClick=d=>{const m=d.originalEvent.target,v=this._element;this._popup&&(m===v||v.contains(m))&&this.togglePopup()},this._update=d=>{if(!this._map)return;const m=this._map.loaded()&&!this._map.isMoving();((d==null?void 0:d.type)==="terrain"||(d==null?void 0:d.type)==="render"&&!m)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=qh(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let v="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?v=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(v=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let w="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?w="rotateX(0deg)":this._pitchAlignment==="map"&&(w=`rotateX(${this._map.getPitch()}deg)`),d&&d.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,`${Fa[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${w} ${v}`),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout(()=>{const E=this._map.unproject(this._pos),P=40075016686e-3*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=E.distanceTo(this._lngLat)>20*P?"0.2":"1.0",this._opacityTimeout=null},100))},this._onMove=d=>{if(!this._isDragging){const m=this._clickTolerance||this._map._clickTolerance;this._isDragging=d.point.dist(this._pointerdownPos)>=m}this._isDragging&&(this._pos=d.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new o.k("dragstart"))),this.fire(new o.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new o.k("dragend")),this._state="inactive"},this._addDragHandler=d=>{this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(this._pos).add(this._offset),this._pointerdownPos=d.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=a&&a.anchor||"center",this._color=a&&a.color||"#3FB1CE",this._scale=a&&a.scale||1,this._draggable=a&&a.draggable||!1,this._clickTolerance=a&&a.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=a&&a.rotation||0,this._rotationAlignment=a&&a.rotationAlignment||"auto",this._pitchAlignment=a&&a.pitchAlignment&&a.pitchAlignment!=="auto"?a.pitchAlignment:this._rotationAlignment,a&&a.element)this._element=a.element,this._offset=o.P.convert(a&&a.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");const d=y.createNS("http://www.w3.org/2000/svg","svg"),m=41,v=27;d.setAttributeNS(null,"display","block"),d.setAttributeNS(null,"height",`${m}px`),d.setAttributeNS(null,"width",`${v}px`),d.setAttributeNS(null,"viewBox",`0 0 ${v} ${m}`);const w=y.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"stroke","none"),w.setAttributeNS(null,"stroke-width","1"),w.setAttributeNS(null,"fill","none"),w.setAttributeNS(null,"fill-rule","evenodd");const E=y.createNS("http://www.w3.org/2000/svg","g");E.setAttributeNS(null,"fill-rule","nonzero");const P=y.createNS("http://www.w3.org/2000/svg","g");P.setAttributeNS(null,"transform","translate(3.0, 29.0)"),P.setAttributeNS(null,"fill","#000000");const M=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const De of M){const He=y.createNS("http://www.w3.org/2000/svg","ellipse");He.setAttributeNS(null,"opacity","0.04"),He.setAttributeNS(null,"cx","10.5"),He.setAttributeNS(null,"cy","5.80029008"),He.setAttributeNS(null,"rx",De.rx),He.setAttributeNS(null,"ry",De.ry),P.appendChild(He)}const z=y.createNS("http://www.w3.org/2000/svg","g");z.setAttributeNS(null,"fill",this._color);const N=y.createNS("http://www.w3.org/2000/svg","path");N.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),z.appendChild(N);const U=y.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"opacity","0.25"),U.setAttributeNS(null,"fill","#000000");const X=y.createNS("http://www.w3.org/2000/svg","path");X.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),U.appendChild(X);const he=y.createNS("http://www.w3.org/2000/svg","g");he.setAttributeNS(null,"transform","translate(6.0, 7.0)"),he.setAttributeNS(null,"fill","#FFFFFF");const de=y.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(8.0, 8.0)");const ge=y.createNS("http://www.w3.org/2000/svg","circle");ge.setAttributeNS(null,"fill","#000000"),ge.setAttributeNS(null,"opacity","0.25"),ge.setAttributeNS(null,"cx","5.5"),ge.setAttributeNS(null,"cy","5.5"),ge.setAttributeNS(null,"r","5.4999962");const ce=y.createNS("http://www.w3.org/2000/svg","circle");ce.setAttributeNS(null,"fill","#FFFFFF"),ce.setAttributeNS(null,"cx","5.5"),ce.setAttributeNS(null,"cy","5.5"),ce.setAttributeNS(null,"r","5.4999962"),de.appendChild(ge),de.appendChild(ce),E.appendChild(P),E.appendChild(z),E.appendChild(U),E.appendChild(he),E.appendChild(de),d.appendChild(E),d.setAttributeNS(null,"height",m*this._scale+"px"),d.setAttributeNS(null,"width",v*this._scale+"px"),this._element.appendChild(d),this._offset=o.P.convert(a&&a.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",d=>{d.preventDefault()}),this._element.addEventListener("mousedown",d=>{d.preventDefault()}),bp(this._element,this._anchor,"marker"),a&&a.className)for(const d of a.className.split(" "))this._element.classList.add(d);this._popup=null}addTo(a){return this.remove(),this._map=a,a.getCanvasContainer().appendChild(this._element),a.on("move",this._update),a.on("moveend",this._update),a.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(a){return this._lngLat=o.L.convert(a),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(a){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),a){if(!("offset"in a.options)){const v=Math.abs(13.5)/Math.SQRT2;a.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[v,-1*(38.1-13.5+v)],"bottom-right":[-v,-1*(38.1-13.5+v)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=a,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const a=this._popup;return a?(a.isOpen()?a.remove():a.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(a){return this._offset=o.P.convert(a),this._update(),this}addClassName(a){this._element.classList.add(a)}removeClassName(a){this._element.classList.remove(a)}toggleClassName(a){return this._element.classList.toggle(a)}setDraggable(a){return this._draggable=!!a,this._map&&(a?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(a){return this._rotation=a||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(a){return this._rotationAlignment=a||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(a){return this._pitchAlignment=a&&a!=="auto"?a:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const $r={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Rr=0,Vl=!1;const Rc={maxWidth:100,unit:"metric"};function Oc(_,a,d){const m=d&&d.maxWidth||100,v=_._container.clientHeight/2,w=_.unproject([0,v]),E=_.unproject([m,v]),P=w.distanceTo(E);if(d&&d.unit==="imperial"){const M=3.2808*P;M>5280?Yo(a,m,M/5280,_._getUIString("ScaleControl.Miles")):Yo(a,m,M,_._getUIString("ScaleControl.Feet"))}else d&&d.unit==="nautical"?Yo(a,m,P/1852,_._getUIString("ScaleControl.NauticalMiles")):P>=1e3?Yo(a,m,P/1e3,_._getUIString("ScaleControl.Kilometers")):Yo(a,m,P,_._getUIString("ScaleControl.Meters"))}function Yo(_,a,d,m){const v=function(w){const E=Math.pow(10,`${Math.floor(w)}`.length-1);let P=w/E;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:P>=1?1:function(M){const z=Math.pow(10,Math.ceil(-Math.log(M)/Math.LN10));return Math.round(M*z)/z}(P),E*P}(d);_.style.width=a*(v/d)+"px",_.innerHTML=`${v}&nbsp;${m}`}const jh={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Hh=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Nl(_){if(_){if(typeof _=="number"){const a=Math.round(Math.abs(_)/Math.SQRT2);return{center:new o.P(0,0),top:new o.P(0,_),"top-left":new o.P(a,a),"top-right":new o.P(-a,a),bottom:new o.P(0,-_),"bottom-left":new o.P(a,-a),"bottom-right":new o.P(-a,-a),left:new o.P(_,0),right:new o.P(-_,0)}}if(_ instanceof o.P||Array.isArray(_)){const a=o.P.convert(_);return{center:a,top:a,"top-left":a,"top-right":a,bottom:a,"bottom-left":a,"bottom-right":a,left:a,right:a}}return{center:o.P.convert(_.center||[0,0]),top:o.P.convert(_.top||[0,0]),"top-left":o.P.convert(_["top-left"]||[0,0]),"top-right":o.P.convert(_["top-right"]||[0,0]),bottom:o.P.convert(_.bottom||[0,0]),"bottom-left":o.P.convert(_["bottom-left"]||[0,0]),"bottom-right":o.P.convert(_["bottom-right"]||[0,0]),left:o.P.convert(_.left||[0,0]),right:o.P.convert(_.right||[0,0])}}return Nl(new o.P(0,0))}const Gh={extend:(_,...a)=>o.e(_,...a),run(_){_()},logToElement(_,a=!1,d="log"){const m=window.document.getElementById(d);m&&(a&&(m.innerHTML=""),m.innerHTML+=`<br>${_}`)}},Wh=p;class Wn{static get version(){return Wh}static get workerCount(){return Pt.workerCount}static set workerCount(a){Pt.workerCount=a}static get maxParallelImageRequests(){return o.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(a){o.c.MAX_PARALLEL_IMAGE_REQUESTS=a}static get workerUrl(){return o.c.WORKER_URL}static set workerUrl(a){o.c.WORKER_URL=a}static addProtocol(a,d){o.c.REGISTERED_PROTOCOLS[a]=d}static removeProtocol(a){delete o.c.REGISTERED_PROTOCOLS[a]}}return Wn.Map=class extends gp{constructor(_){if(o.bg.mark(o.bh.create),(_=o.e({},on,_)).minZoom!=null&&_.maxZoom!=null&&_.minZoom>_.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(_.minPitch!=null&&_.maxPitch!=null&&_.minPitch>_.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(_.minPitch!=null&&_.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(_.maxPitch!=null&&_.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Yu(_.minZoom,_.maxZoom,_.minPitch,_.maxPitch,_.renderWorldCopies),{bearingSnap:_.bearingSnap}),this._cooperativeGesturesOnWheel=a=>{this._onCooperativeGesture(a,a[this._metaKey],1)},this._contextLost=a=>{a.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new o.k("webglcontextlost",{originalEvent:a}))},this._contextRestored=a=>{this._setupPainter(),this.resize(),this._update(),this.fire(new o.k("webglcontextrestored",{originalEvent:a}))},this._onMapScroll=a=>{if(a.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=_.interactive,this._cooperativeGestures=_.cooperativeGestures,this._metaKey=navigator.platform.indexOf("Mac")===0?"metaKey":"ctrlKey",this._maxTileCacheSize=_.maxTileCacheSize,this._maxTileCacheZoomLevels=_.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=_.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=_.preserveDrawingBuffer,this._antialias=_.antialias,this._trackResize=_.trackResize,this._bearingSnap=_.bearingSnap,this._refreshExpiredTiles=_.refreshExpiredTiles,this._fadeDuration=_.fadeDuration,this._crossSourceCollisions=_.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=_.collectResourceTiming,this._renderTaskQueue=new Ju,this._controls=[],this._mapId=o.a2(),this._locale=o.e({},Nh,_.locale),this._clickTolerance=_.clickTolerance,this._overridePixelRatio=_.pixelRatio,this._maxCanvasSize=_.maxCanvasSize,this.transformCameraUpdate=_.transformCameraUpdate,this._imageQueueHandle=O.addThrottleControl(()=>this.isMoving()),this._requestManager=new q(_.transformRequest),typeof _.container=="string"){if(this._container=document.getElementById(_.container),!this._container)throw new Error(`Container '${_.container}' not found.`)}else{if(!(_.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=_.container}if(_.maxBounds&&this.setMaxBounds(_.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let a=!1;const d=Go(m=>{this._trackResize&&!this._removed&&this.resize(m)._update()},50);this._resizeObserver=new ResizeObserver(m=>{a?d(m):a=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Vh(this,_),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=_.hash&&new Ec(typeof _.hash=="string"&&_.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:_.center,zoom:_.zoom,bearing:_.bearing,pitch:_.pitch}),_.bounds&&(this.resize(),this.fitBounds(_.bounds,o.e({},_.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=_.localIdeographFontFamily,this._validateStyle=_.validateStyle,_.style&&this.setStyle(_.style,{localIdeographFontFamily:_.localIdeographFontFamily}),_.attributionControl&&this.addControl(new xa({customAttribution:_.customAttribution})),_.maplibreLogo&&this.addControl(new xr,_.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",a=>{this._update(a.dataType==="style"),this.fire(new o.k(`${a.dataType}data`,a))}),this.on("dataloading",a=>{this.fire(new o.k(`${a.dataType}dataloading`,a))}),this.on("dataabort",a=>{this.fire(new o.k("sourcedataabort",a))})}_getMapId(){return this._mapId}addControl(_,a){if(a===void 0&&(a=_.getDefaultPosition?_.getDefaultPosition():"top-right"),!_||!_.onAdd)return this.fire(new o.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const d=_.onAdd(this);this._controls.push(_);const m=this._controlPositions[a];return a.indexOf("bottom")!==-1?m.insertBefore(d,m.firstChild):m.appendChild(d),this}removeControl(_){if(!_||!_.onRemove)return this.fire(new o.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const a=this._controls.indexOf(_);return a>-1&&this._controls.splice(a,1),_.onRemove(this),this}hasControl(_){return this._controls.indexOf(_)>-1}calculateCameraOptionsFromTo(_,a,d,m){return m==null&&this.terrain&&(m=this.terrain.getElevationForLngLatZoom(d,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(_,a,d,m)}resize(_){var a;const d=this._containerDimensions(),m=d[0],v=d[1],w=this._getClampedPixelRatio(m,v);if(this._resizeCanvas(m,v,w),this.painter.resize(m,v,w),this.painter.overLimit()){const P=this.painter.context.gl;this._maxCanvasSize=[P.drawingBufferWidth,P.drawingBufferHeight];const M=this._getClampedPixelRatio(m,v);this._resizeCanvas(m,v,M),this.painter.resize(m,v,M)}this.transform.resize(m,v),(a=this._requestedCameraState)===null||a===void 0||a.resize(m,v);const E=!this._moving;return E&&(this.stop(),this.fire(new o.k("movestart",_)).fire(new o.k("move",_))),this.fire(new o.k("resize",_)),E&&this.fire(new o.k("moveend",_)),this}_getClampedPixelRatio(_,a){const{0:d,1:m}=this._maxCanvasSize,v=this.getPixelRatio(),w=_*v,E=a*v;return Math.min(w>d?d/w:1,E>m?m/E:1)*v}getPixelRatio(){var _;return(_=this._overridePixelRatio)!==null&&_!==void 0?_:devicePixelRatio}setPixelRatio(_){this._overridePixelRatio=_,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(_){return this.transform.setMaxBounds(gt.convert(_)),this._update()}setMinZoom(_){if((_=_??-2)>=-2&&_<=this.transform.maxZoom)return this.transform.minZoom=_,this._update(),this.getZoom()<_&&this.setZoom(_),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(_){if((_=_??22)>=this.transform.minZoom)return this.transform.maxZoom=_,this._update(),this.getZoom()>_&&this.setZoom(_),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(_){if((_=_??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(_>=0&&_<=this.transform.maxPitch)return this.transform.minPitch=_,this._update(),this.getPitch()<_&&this.setPitch(_),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(_){if((_=_??60)>85)throw new Error("maxPitch must be less than or equal to 85");if(_>=this.transform.minPitch)return this.transform.maxPitch=_,this._update(),this.getPitch()>_&&this.setPitch(_),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(_){return this.transform.renderWorldCopies=_,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(_){return this._cooperativeGestures=_,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(_){return this.transform.locationPoint(o.L.convert(_),this.style&&this.terrain)}unproject(_){return this.transform.pointLocation(o.P.convert(_),this.terrain)}isMoving(){var _;return this._moving||((_=this.handlers)===null||_===void 0?void 0:_.isMoving())}isZooming(){var _;return this._zooming||((_=this.handlers)===null||_===void 0?void 0:_.isZooming())}isRotating(){var _;return this._rotating||((_=this.handlers)===null||_===void 0?void 0:_.isRotating())}_createDelegatedListener(_,a,d){if(_==="mouseenter"||_==="mouseover"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:w=>{const E=this.getLayer(a)?this.queryRenderedFeatures(w.point,{layers:[a]}):[];E.length?m||(m=!0,d.call(this,new ba(_,this,w.originalEvent,{features:E}))):m=!1},mouseout:()=>{m=!1}}}}if(_==="mouseleave"||_==="mouseout"){let m=!1;return{layer:a,listener:d,delegates:{mousemove:E=>{(this.getLayer(a)?this.queryRenderedFeatures(E.point,{layers:[a]}):[]).length?m=!0:m&&(m=!1,d.call(this,new ba(_,this,E.originalEvent)))},mouseout:E=>{m&&(m=!1,d.call(this,new ba(_,this,E.originalEvent)))}}}}{const m=v=>{const w=this.getLayer(a)?this.queryRenderedFeatures(v.point,{layers:[a]}):[];w.length&&(v.features=w,d.call(this,v),delete v.features)};return{layer:a,listener:d,delegates:{[_]:m}}}}on(_,a,d){if(d===void 0)return super.on(_,a);const m=this._createDelegatedListener(_,a,d);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[_]=this._delegatedListeners[_]||[],this._delegatedListeners[_].push(m);for(const v in m.delegates)this.on(v,m.delegates[v]);return this}once(_,a,d){if(d===void 0)return super.once(_,a);const m=this._createDelegatedListener(_,a,d);for(const v in m.delegates)this.once(v,m.delegates[v]);return this}off(_,a,d){return d===void 0?super.off(_,a):(this._delegatedListeners&&this._delegatedListeners[_]&&(m=>{const v=this._delegatedListeners[_];for(let w=0;w<v.length;w++){const E=v[w];if(E.layer===a&&E.listener===d){for(const P in E.delegates)this.off(P,E.delegates[P]);return v.splice(w,1),this}}})(),this)}queryRenderedFeatures(_,a){if(!this.style)return[];let d;const m=_ instanceof o.P||Array.isArray(_),v=m?_:[[0,0],[this.transform.width,this.transform.height]];if(a=a||(m?{}:_)||{},v instanceof o.P||typeof v[0]=="number")d=[o.P.convert(v)];else{const w=o.P.convert(v[0]),E=o.P.convert(v[1]);d=[w,new o.P(E.x,w.y),E,new o.P(w.x,E.y),w]}return this.style.queryRenderedFeatures(d,a,this.transform)}querySourceFeatures(_,a){return this.style.querySourceFeatures(_,a)}setStyle(_,a){return(a=o.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},a)).diff!==!1&&a.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&_?(this._diffStyle(_,a),this):(this._localIdeographFontFamily=a.localIdeographFontFamily,this._updateStyle(_,a))}setTransformRequest(_){return this._requestManager.setTransformRequest(_),this}_getUIString(_){const a=this._locale[_];if(a==null)throw new Error(`Missing UI string '${_}'`);return a}_updateStyle(_,a){if(a.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(_,a));const d=this.style&&a.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!_)),_?(this.style=new Ci(this,a||{}),this.style.setEventedParent(this,{style:this.style}),typeof _=="string"?this.style.loadURL(_,a,d):this.style.loadJSON(_,a,d),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Ci(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(_,a){if(typeof _=="string"){const d=this._requestManager.transformRequest(_,B.Style);o.f(d,(m,v)=>{m?this.fire(new o.j(m)):v&&this._updateDiff(v,a)})}else typeof _=="object"&&this._updateDiff(_,a)}_updateDiff(_,a){try{this.style.setState(_,a)&&this._update(!0)}catch(d){o.w(`Unable to perform style diff: ${d.message||d.error||d}.  Rebuilding the style from scratch.`),this._updateStyle(_,a)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():o.w("There is no style added to the map.")}addSource(_,a){return this._lazyInitEmptyStyle(),this.style.addSource(_,a),this._update(!0)}isSourceLoaded(_){const a=this.style&&this.style.sourceCaches[_];if(a!==void 0)return a.loaded();this.fire(new o.j(new Error(`There is no source with ID '${_}'`)))}setTerrain(_){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),_){const a=this.style.sourceCaches[_.source];if(!a)throw new Error(`cannot load terrain, because there exists no source with ID: ${_.source}`);for(const d in this.style._layers){const m=this.style._layers[d];m.type==="hillshade"&&m.source===_.source&&o.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new _p(this.painter,a,_),this.painter.renderToTexture=new Qu(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=d=>{d.dataType==="style"?this.terrain.sourceCache.freeRtt():d.dataType==="source"&&d.tile&&(d.sourceId!==_.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(d.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new o.k("terrain",{terrain:_})),this}getTerrain(){var _,a;return(a=(_=this.terrain)===null||_===void 0?void 0:_.options)!==null&&a!==void 0?a:null}areTilesLoaded(){const _=this.style&&this.style.sourceCaches;for(const a in _){const d=_[a]._tiles;for(const m in d){const v=d[m];if(v.state!=="loaded"&&v.state!=="errored")return!1}}return!0}addSourceType(_,a,d){return this._lazyInitEmptyStyle(),this.style.addSourceType(_,a,d)}removeSource(_){return this.style.removeSource(_),this._update(!0)}getSource(_){return this.style.getSource(_)}addImage(_,a,d={}){const{pixelRatio:m=1,sdf:v=!1,stretchX:w,stretchY:E,content:P}=d;if(this._lazyInitEmptyStyle(),!(a instanceof HTMLImageElement||o.a(a))){if(a.width===void 0||a.height===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:M,height:z,data:N}=a,U=a;return this.style.addImage(_,{data:new o.R({width:M,height:z},new Uint8Array(N)),pixelRatio:m,stretchX:w,stretchY:E,content:P,sdf:v,version:0,userImage:U}),U.onAdd&&U.onAdd(this,_),this}}{const{width:M,height:z,data:N}=o.h.getImageData(a);this.style.addImage(_,{data:new o.R({width:M,height:z},N),pixelRatio:m,stretchX:w,stretchY:E,content:P,sdf:v,version:0})}}updateImage(_,a){const d=this.style.getImage(_);if(!d)return this.fire(new o.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const m=a instanceof HTMLImageElement||o.a(a)?o.h.getImageData(a):a,{width:v,height:w,data:E}=m;if(v===void 0||w===void 0)return this.fire(new o.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(v!==d.data.width||w!==d.data.height)return this.fire(new o.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const P=!(a instanceof HTMLImageElement||o.a(a));return d.data.replace(E,P),this.style.updateImage(_,d),this}getImage(_){return this.style.getImage(_)}hasImage(_){return _?!!this.style.getImage(_):(this.fire(new o.j(new Error("Missing required image id"))),!1)}removeImage(_){this.style.removeImage(_)}loadImage(_,a){O.getImage(this._requestManager.transformRequest(_,B.Image),a)}listImages(){return this.style.listImages()}addLayer(_,a){return this._lazyInitEmptyStyle(),this.style.addLayer(_,a),this._update(!0)}moveLayer(_,a){return this.style.moveLayer(_,a),this._update(!0)}removeLayer(_){return this.style.removeLayer(_),this._update(!0)}getLayer(_){return this.style.getLayer(_)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(_,a,d){return this.style.setLayerZoomRange(_,a,d),this._update(!0)}setFilter(_,a,d={}){return this.style.setFilter(_,a,d),this._update(!0)}getFilter(_){return this.style.getFilter(_)}setPaintProperty(_,a,d,m={}){return this.style.setPaintProperty(_,a,d,m),this._update(!0)}getPaintProperty(_,a){return this.style.getPaintProperty(_,a)}setLayoutProperty(_,a,d,m={}){return this.style.setLayoutProperty(_,a,d,m),this._update(!0)}getLayoutProperty(_,a){return this.style.getLayoutProperty(_,a)}setGlyphs(_,a={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(_,a),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(_,a,d={}){return this._lazyInitEmptyStyle(),this.style.addSprite(_,a,d,m=>{m||this._update(!0)}),this}removeSprite(_){return this._lazyInitEmptyStyle(),this.style.removeSprite(_),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(_,a={}){return this._lazyInitEmptyStyle(),this.style.setSprite(_,a,d=>{d||this._update(!0)}),this}setLight(_,a={}){return this._lazyInitEmptyStyle(),this.style.setLight(_,a),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(_,a){return this.style.setFeatureState(_,a),this._update()}removeFeatureState(_,a){return this.style.removeFeatureState(_,a),this._update()}getFeatureState(_){return this.style.getFeatureState(_)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let _=0,a=0;return this._container&&(_=this._container.clientWidth||400,a=this._container.clientHeight||300),[_,a]}_setupContainer(){const _=this._container;_.classList.add("maplibregl-map");const a=this._canvasContainer=y.create("div","maplibregl-canvas-container",_);this._interactive&&a.classList.add("maplibregl-interactive"),this._canvas=y.create("canvas","maplibregl-canvas",a),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const d=this._containerDimensions(),m=this._getClampedPixelRatio(d[0],d[1]);this._resizeCanvas(d[0],d[1],m);const v=this._controlContainer=y.create("div","maplibregl-control-container",_),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(E=>{w[E]=y.create("div",`maplibregl-ctrl-${E} `,v)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=y.create("div","maplibregl-cooperative-gesture-screen",this._container);let _=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";navigator.platform.indexOf("Mac")===0&&(_=typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML=`
            <div class="maplibregl-desktop-message">${_}</div>
            <div class="maplibregl-mobile-message">${typeof this._cooperativeGestures!="boolean"&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>
        `,this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){y.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(_,a,d){this._canvas.width=Math.floor(d*_),this._canvas.height=Math.floor(d*a),this._canvas.style.width=`${_}px`,this._canvas.style.height=`${a}px`}_setupPainter(){const _={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let a=null;this._canvas.addEventListener("webglcontextcreationerror",m=>{a={requestedAttributes:_},m&&(a.statusMessage=m.statusMessage,a.type=m.type)},{once:!0});const d=this._canvas.getContext("webgl2",_)||this._canvas.getContext("webgl",_);if(!d){const m="Failed to initialize WebGL";throw a?(a.message=m,new Error(JSON.stringify(a))):new Error(m)}this.painter=new Ho(d,this.transform),b.testSupport(d)}_onCooperativeGesture(_,a,d){return!a&&d<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout(()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")},100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(_){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||_,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(_){return this._update(),this._renderTaskQueue.add(_)}_cancelRenderFrame(_){this._renderTaskQueue.remove(_)}_render(_){const a=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(_),this._removed)return;let d=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const v=this.transform.zoom,w=o.h.now();this.style.zoomHistory.update(v,w);const E=new o.a8(v,{now:w,fadeDuration:a,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),P=E.crossFadingFactor();P===1&&P===this._crossFadingFactor||(d=!0,this._crossFadingFactor=P),this.style.update(E)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,a,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:a,showPadding:this.showPadding}),this.fire(new o.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,o.bg.mark(o.bh.load),this.fire(new o.k("load"))),this.style&&(this.style.hasTransitions()||d)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const m=this._sourcesDirty||this._styleDirty||this._placementDirty;return m||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new o.k("idle")),!this._loaded||this._fullyLoaded||m||(this._fullyLoaded=!0,o.bg.mark(o.bh.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var _;this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),O.removeThrottleControl(this._imageQueueHandle),(_=this._resizeObserver)===null||_===void 0||_.disconnect();const a=this.painter.context.gl.getExtension("WEBGL_lose_context");a&&a.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),y.remove(this._canvasContainer),y.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),o.bg.clearMetrics(),this._removed=!0,this.fire(new o.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=o.h.frame(_=>{o.bg.frame(_),this._frame=null,this._render(_)}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(_){this._showTileBoundaries!==_&&(this._showTileBoundaries=_,this._update())}get showPadding(){return!!this._showPadding}set showPadding(_){this._showPadding!==_&&(this._showPadding=_,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(_){this._showCollisionBoxes!==_&&(this._showCollisionBoxes=_,_?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(_){this._showOverdrawInspector!==_&&(this._showOverdrawInspector=_,this._update())}get repaint(){return!!this._repaint}set repaint(_){this._repaint!==_&&(this._repaint=_,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(_){this._vertices=_,this._update()}get version(){return Qt}getCameraTargetElevation(){return this.transform.elevation}},Wn.NavigationControl=class{constructor(_){this._updateZoomButtons=()=>{const a=this._map.getZoom(),d=a===this._map.getMaxZoom(),m=a===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=m,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",m.toString())},this._rotateCompassArrow=()=>{const a=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=a},this._setButtonTitle=(a,d)=>{const m=this._map._getUIString(`NavigationControl.${d}`);a.title=m,a.setAttribute("aria-label",m)},this.options=o.e({},$h,_),this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",a=>a.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",a=>this._map.zoomIn({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",a=>this._map.zoomOut({},{originalEvent:a})),y.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",a=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:a}):this._map.resetNorth({},{originalEvent:a})}),this._compassIcon=y.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(_){return this._map=_,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Uh(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(_,a){const d=y.create("button",_,this._container);return d.type="button",d.addEventListener("click",a),d}},Wn.GeolocateControl=class extends o.E{constructor(_){super(),this._onSuccess=a=>{if(this._map){if(this._isOutOfMapMaxBounds(a))return this._setErrorState(),this.fire(new o.k("outofmaxbounds",a)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=a,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(a),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(a),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new o.k("geolocate",a)),this._finish()}},this._updateCamera=a=>{const d=new o.L(a.coords.longitude,a.coords.latitude),m=a.coords.accuracy,v=this._map.getBearing(),w=o.e({bearing:v},this.options.fitBoundsOptions),E=gt.fromLngLat(d,m);this._map.fitBounds(E,w,{geolocateSource:!0})},this._updateMarker=a=>{if(a){const d=new o.L(a.coords.longitude,a.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=a.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=a=>{if(this._map){if(this.options.trackUserLocation)if(a.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(a.code===3&&Vl)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new o.k("error",a)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=a=>{if(this._map){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=y.create("button","maplibregl-ctrl-geolocate",this._container),y.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",a===!1){o.w("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=d,this._geolocateButton.setAttribute("aria-label",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Wo({element:this._dotElement}),this._circleElement=y.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Wo({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new o.k("trackuserlocationend")))})}},this.options=o.e({},$r,_)}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(a,d=!1){Xr===void 0||d?window.navigator.permissions!==void 0?window.navigator.permissions.query({name:"geolocation"}).then(m=>{Xr=m.state!=="denied",a(Xr)}).catch(()=>{Xr=!!window.navigator.geolocation,a(Xr)}):(Xr=!!window.navigator.geolocation,a(Xr)):a(Xr)}(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Rr=0,Vl=!1}_isOutOfMapMaxBounds(_){const a=this._map.getMaxBounds(),d=_.coords;return a&&(d.longitude<a.getWest()||d.longitude>a.getEast()||d.latitude<a.getSouth()||d.latitude>a.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadius(){const _=this._map.getBounds(),a=_.getSouthEast(),d=_.getNorthEast(),m=a.distanceTo(d),v=Math.ceil(this._accuracy/(m/this._map._container.clientHeight)*2);this._circleElement.style.width=`${v}px`,this._circleElement.style.height=`${v}px`}trigger(){if(!this._setup)return o.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new o.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Rr--,Vl=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new o.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new o.k("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let _;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Rr++,Rr>1?(_={maximumAge:6e5,timeout:0},Vl=!0):(_=this.options.positionOptions,Vl=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,_)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},Wn.AttributionControl=xa,Wn.LogoControl=xr,Wn.ScaleControl=class{constructor(_){this._onMove=()=>{Oc(this._map,this._container,this.options)},this.setUnit=a=>{this.options.unit=a,Oc(this._map,this._container,this.options)},this.options=o.e({},Rc,_)}getDefaultPosition(){return"bottom-left"}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-scale",_.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},Wn.FullscreenControl=class extends o.E{constructor(_={}){super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,_&&_.container&&(_.container instanceof HTMLElement?this._container=_.container:o.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(_){return this._map=_,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){y.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const _=this._fullscreenButton=y.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);y.create("span","maplibregl-ctrl-icon",_).setAttribute("aria-hidden","true"),_.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const _=this._getTitle();this._fullscreenButton.setAttribute("aria-label",_),this._fullscreenButton.title=_}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new o.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new o.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},Wn.TerrainControl=class{constructor(_){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=_}onAdd(_){return this._map=_,this._container=y.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=y.create("button","maplibregl-ctrl-terrain",this._container),y.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){y.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},Wn.Popup=class extends o.E{constructor(_){super(),this.remove=()=>(this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new o.k("close")),this),this._onMouseUp=a=>{this._update(a.point)},this._onMouseMove=a=>{this._update(a.point)},this._onDrag=a=>{this._update(a.point)},this._update=a=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=y.create("div","maplibregl-popup",this._map.getContainer()),this._tip=y.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const E of this.options.className.split(" "))this._container.classList.add(E);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=qh(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!a)return;const d=this._pos=this._trackPointer&&a?a:this._map.project(this._lngLat);let m=this.options.anchor;const v=Nl(this.options.offset);if(!m){const E=this._container.offsetWidth,P=this._container.offsetHeight;let M;M=d.y+v.bottom.y<P?["top"]:d.y>this._map.transform.height-P?["bottom"]:[],d.x<E/2?M.push("left"):d.x>this._map.transform.width-E/2&&M.push("right"),m=M.length===0?"bottom":M.join("-")}const w=d.add(v[m]).round();y.setTransform(this._container,`${Fa[m]} translate(${w.x}px,${w.y}px)`),bp(this._container,m,"popup")},this._onClose=()=>{this.remove()},this.options=o.e(Object.create(jh),_)}addTo(_){return this._map&&this.remove(),this._map=_,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new o.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=o.L.convert(_),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(_){return this.setDOMContent(document.createTextNode(_))}setHTML(_){const a=document.createDocumentFragment(),d=document.createElement("body");let m;for(d.innerHTML=_;m=d.firstChild,m;)a.appendChild(m);return this.setDOMContent(a)}getMaxWidth(){var _;return(_=this._container)===null||_===void 0?void 0:_.style.maxWidth}setMaxWidth(_){return this.options.maxWidth=_,this._update(),this}setDOMContent(_){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=y.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(_),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(_){this._container&&this._container.classList.add(_)}removeClassName(_){this._container&&this._container.classList.remove(_)}setOffset(_){return this.options.offset=_,this._update(),this}toggleClassName(_){if(this._container)return this._container.classList.toggle(_)}_createCloseButton(){this.options.closeButton&&(this._closeButton=y.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const _=this._container.querySelector(Hh);_&&_.focus()}},Wn.Marker=Wo,Wn.Style=Ci,Wn.LngLat=o.L,Wn.LngLatBounds=gt,Wn.Point=o.P,Wn.MercatorCoordinate=o.U,Wn.Evented=o.E,Wn.AJAXError=o.bi,Wn.config=o.c,Wn.CanvasSource=It,Wn.GeoJSONSource=et,Wn.ImageSource=Qe,Wn.RasterDEMTileSource=Ne,Wn.RasterTileSource=vt,Wn.VectorTileSource=$t,Wn.VideoSource=Je,Wn.setRTLTextPlugin=o.bj,Wn.getRTLTextPluginStatus=o.bk,Wn.prewarm=function(){Ln().acquire(ft)},Wn.clearPrewarmedResources=function(){const _=cn;_&&(_.isPreloaded()&&_.numActive()===1?(_.release(ft),cn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Gh.extend(Wn,{isSafari:o.ac,getPerformanceMetrics:o.bg.getPerformanceMetrics}),Wn});var h=s;return h})})(UA);var gu=UA.exports;function DB(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(s){s(n)}),(r=e.get("*"))&&r.slice().map(function(s){s(t,n)})}}}/*!
* vue-maplibre-gl v3.1.3
* (c) 2024 Volker Nauruhn
* @license MIT
*/var MB=Object.defineProperty,LB=(e,t,n)=>t in e?MB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wi=(e,t,n)=>(LB(e,typeof t!="symbol"?t+"":t,n),n);const xi=Symbol("map"),ss=Symbol("isLoaded"),Sl=Symbol("isInitialized"),Xi=Symbol("componentId"),Ji=Symbol("sourceId"),gc=Symbol("sourceLayerRegistry"),lx=Symbol("emitter");function vu(e){return Object.keys(e)}const En=Ii({style:"https://demotiles.maplibre.org/style.json",center:Object.freeze([0,0]),zoom:1,trackResize:!1});class Ys{static createEventHandler(t,n,r,s){return(u={})=>r.emit(s,{type:u.type,map:n,component:t,event:u})}}wi(Ys,"MAP_OPTION_KEYS",["antialias","attributionControl","bearing","bearingSnap","bounds","boxZoom","center","clickTolerance","collectResourceTiming","crossSourceCollisions","container","customAttribution","dragPan","dragRotate","doubleClickZoom","hash","fadeDuration","failIfMajorPerformanceCaveat","fitBoundsOptions","interactive","keyboard","locale","localIdeographFontFamily","logoPosition","maxBounds","maxPitch","maxZoom","minPitch","minZoom","preserveDrawingBuffer","pitch","pitchWithRotate","refreshExpiredTiles","renderWorldCopies","scrollZoom","mapStyle","trackResize","transformRequest","touchZoomRotate","touchPitch","zoom","maxTileCacheSize","pixelRatio","cooperativeGestures"]),wi(Ys,"MARKER_OPTION_KEYS",["element","offset","anchor","color","draggable","clickTolerance","rotation","rotationAlignment","pitchAlignment","scale"]),wi(Ys,"MAP_EVENT_TYPES",["error","load","idle","remove","render","resize","webglcontextlost","webglcontextrestored","dataloading","data","tiledataloading","sourcedataloading","styledataloading","sourcedata","styledata","boxzoomcancel","boxzoomstart","boxzoomend","touchcancel","touchmove","touchend","touchstart","click","contextmenu","dblclick","mousemove","mouseup","mousedown","mouseout","mouseover","movestart","move","moveend","zoomstart","zoom","zoomend","rotatestart","rotate","rotateend","dragstart","drag","dragend","pitchstart","pitch","pitchend","wheel"]);var vc=(e=>(e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_RIGHT="bottom-right",e))(vc||{});const kl=Object.values(vc),Fk=new Map,RB=Symbol("default");function OB(e,t,n=RB){var r;let s=Fk.get(n);return s||(s=Ii({isLoaded:!1,isMounted:!1,language:null}),Fk.set(n,s)),s.isLoaded=!1,s.isMounted=!1,s.component=e,s.map=t.value,s.isLoaded=((r=t.value)==null?void 0:r.loaded())||!1,s}function FB(e,t=250,n=!1){let r;function s(){const u=arguments,h=()=>{r=void 0,n!==!0&&e.apply(this,u)};clearTimeout(r),n===!0&&r===void 0&&e.apply(this,u),r=window.setTimeout(h,t)}return s.cancel=()=>{clearTimeout(r)},s}const jA={AUTO:"auto",STYLE_LOCK:"style_lock",LATIN:"latin",NON_LATIN:"nonlatin",LOCAL:"",ALBANIAN:"sq",AMHARIC:"am",ARABIC:"ar",ARMENIAN:"hy",AZERBAIJANI:"az",BASQUE:"eu",BELORUSSIAN:"be",BOSNIAN:"bs",BRETON:"br",BULGARIAN:"bg",CATALAN:"ca",CHINESE:"zh",CORSICAN:"co",CROATIAN:"hr",CZECH:"cs",DANISH:"da",DUTCH:"nl",ENGLISH:"en",ESPERANTO:"eo",ESTONIAN:"et",FINNISH:"fi",FRENCH:"fr",FRISIAN:"fy",GEORGIAN:"ka",GERMAN:"de",GREEK:"el",HEBREW:"he",HINDI:"hi",HUNGARIAN:"hu",ICELANDIC:"is",INDONESIAN:"id",IRISH:"ga",ITALIAN:"it",JAPANESE:"ja",JAPANESE_HIRAGANA:"ja-Hira",JAPANESE_KANA:"ja_kana",JAPANESE_LATIN:"ja_rm",JAPANESE_2018:"ja-Latn",KANNADA:"kn",KAZAKH:"kk",KOREAN:"ko",KOREAN_LATIN:"ko-Latn",KURDISH:"ku",ROMAN_LATIN:"la",LATVIAN:"lv",LITHUANIAN:"lt",LUXEMBOURGISH:"lb",MACEDONIAN:"mk",MALAYALAM:"ml",MALTESE:"mt",NORWEGIAN:"no",OCCITAN:"oc",POLISH:"pl",PORTUGUESE:"pt",ROMANIAN:"ro",ROMANSH:"rm",RUSSIAN:"ru",SCOTTISH_GAELIC:"gd",SERBIAN_CYRILLIC:"sr",SERBIAN_LATIN:"sr-Latn",SLOVAK:"sk",SLOVENE:"sl",SPANISH:"es",SWEDISH:"sv",TAMIL:"ta",TELUGU:"te",THAI:"th",TURKISH:"tr",UKRAINIAN:"uk",WELSH:"cy"};new Set(Object.values(jA));new Set(Object.values(jA));function D_(e,t){const n=e.getStyle().layers,r=/^\s*{\s*name\s*(:\s*(\S*))?\s*}$/,s=/^\s*name\s*(:\s*(\S*))?\s*$/,u=/^\s*{\s*name\s*(:\s*(\S*))?\s*}(\s*){\s*name\s*(:\s*(\S*))?\s*}$/,h=/^(.*)({\s*name\s*(:\s*(\S*))?\s*})(.*)$/,o=t?`name:${t}`:"name",p=["case",["has",o],["get",o],["get","name"]];for(let y=0;y<n.length;y+=1){const b=n[y],k=b.layout;if(!k||!k["text-field"])continue;const C=e.getLayoutProperty(b.id,"text-field");let I;if(Array.isArray(C)&&C.length>=2&&C[0].trim().toLowerCase()==="concat"){const R=C.slice();for(let L=0;L<C.length;L+=1){const O=C[L];if((typeof O=="string"||O instanceof String)&&r.exec(O.toString())){R[L]=p;break}else if(Array.isArray(O)&&O.length>=2&&O[0].trim().toLowerCase()==="get"&&s.exec(O[1].toString())){R[L]=p;break}else if(Array.isArray(O)&&O.length===4&&O[0].trim().toLowerCase()==="case"){R[L]=p;break}}e.setLayoutProperty(b.id,"text-field",R)}else if(Array.isArray(C)&&C.length>=2&&C[0].trim().toLowerCase()==="get"&&s.exec(C[1].toString())){const R=p;e.setLayoutProperty(b.id,"text-field",R)}else if((typeof C=="string"||C instanceof String)&&r.exec(C.toString())){const R=p;e.setLayoutProperty(b.id,"text-field",R)}else if(Array.isArray(C)&&C.length===4&&C[0].trim().toLowerCase()==="case"){const R=p;e.setLayoutProperty(b.id,"text-field",R)}else if((typeof C=="string"||C instanceof String)&&(I=u.exec(C.toString()))!==null){const R=`{${o}}${I[3]}{name${I[4]||""}}`;e.setLayoutProperty(b.id,"text-field",R)}else if((typeof C=="string"||C instanceof String)&&(I=h.exec(C.toString()))!==null){const R=`${I[1]}{${o}}${I[5]}`;e.setLayoutProperty(b.id,"text-field",R)}}}const zB=cr({name:"MglMap",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},antialias:{type:Boolean,default:()=>En.antialias},attributionControl:{type:Boolean,default:()=>En.attributionControl},bearing:{type:Number,default:()=>En.bearing},bearingSnap:{type:Number,default:()=>En.bearingSnap},bounds:{type:[Array,Object],default:()=>En.bounds},boxZoom:{type:Boolean,default:()=>En.boxZoom},center:{type:[Array,Object],default:()=>En.center},clickTolerance:{type:Number,default:()=>En.clickTolerance},collectResourceTiming:{type:Boolean,default:()=>En.collectResourceTiming},crossSourceCollisions:{type:Boolean,default:()=>En.crossSourceCollisions},customAttribution:{type:[String,Array],default:()=>En.customAttribution},dragPan:{type:Boolean,default:()=>En.dragPan},dragRotate:{type:Boolean,default:()=>En.dragRotate},doubleClickZoom:{type:Boolean,default:()=>En.doubleClickZoom},hash:{type:[Boolean,String],default:()=>En.hash},fadeDuration:{type:Number,default:()=>En.fadeDuration},failIfMajorPerformanceCaveat:{type:Boolean,default:()=>En.failIfMajorPerformanceCaveat},fitBoundsOptions:{type:Object,default:()=>En.fitBoundsOptions},interactive:{type:Boolean,default:()=>En.interactive},keyboard:{type:Boolean,default:()=>En.keyboard},locale:{type:Object,default:()=>En.locale},language:{type:String,default:()=>En.language||null},localIdeographFontFamily:{type:String,default:()=>En.localIdeographFontFamily},logoPosition:{type:[String],validator:e=>e in vc,default:()=>En.logoPosition},maxBounds:{type:[Array,Object],default:()=>En.maxBounds},maxPitch:{type:Number,default:()=>En.maxPitch},maxZoom:{type:Number,default:()=>En.maxZoom},minPitch:{type:Number,default:()=>En.minPitch},minZoom:{type:Number,default:()=>En.minZoom},preserveDrawingBuffer:{type:Boolean,default:()=>En.preserveDrawingBuffer},pitch:{type:Number,default:()=>En.pitch},pitchWithRotate:{type:Boolean,default:()=>En.pitchWithRotate},refreshExpiredTiles:{type:Boolean,default:()=>En.refreshExpiredTiles},renderWorldCopies:{type:Boolean,default:()=>En.renderWorldCopies},scrollZoom:{type:Boolean,default:()=>En.scrollZoom},mapStyle:{type:[String,Object],default:()=>En.style},trackResize:{type:Boolean,default:()=>En.trackResize},transformRequest:{type:Function,default:En.transformRequest},touchZoomRotate:{type:Boolean,default:()=>En.touchZoomRotate},touchPitch:{type:Boolean,default:()=>En.touchPitch},zoom:{type:Number,default:()=>En.zoom},maxTileCacheSize:{type:Number,default:()=>En.maxTileCacheSize},mapKey:{type:[String,Symbol]},pixelRatio:{type:Number,default:()=>En.pixelRatio},cooperativeGestures:{type:[Boolean,Object],default:()=>En.cooperativeGestures}},emits:["map:error","map:load","map:idle","map:remove","map:render","map:resize","map:webglcontextlost","map:webglcontextrestored","map:dataloading","map:data","map:tiledataloading","map:sourcedataloading","map:styledataloading","map:sourcedata","map:styledata","map:boxzoomcancel","map:boxzoomstart","map:boxzoomend","map:touchcancel","map:touchmove","map:touchend","map:touchstart","map:click","map:contextmenu","map:dblclick","map:mousemove","map:mouseup","map:mousedown","map:mouseout","map:mouseover","map:movestart","map:move","map:moveend","map:zoomstart","map:zoom","map:zoomend","map:rotatestart","map:rotate","map:rotateend","map:dragstart","map:drag","map:dragend","map:pitchstart","map:pitch","map:pitchend","map:wheel"],slots:Object,setup(e,t){const n=Eg(Es()),r=Rt(),s=Rt(),u=dt(!1),h=dt(!1),o=dt(!1),p=new Map,y=DB(),b=OB(n,s,e.mapKey);let k;xn(xi,s),xn(ss,h),xn(Sl,u),xn(Xi,n.uid),xn(Ji,""),xn(lx,y),ct(()=>e.bearing,O=>{var B;O&&((B=s.value)==null||B.setBearing(O))}),ct(()=>e.bounds,O=>{var B;O&&((B=s.value)==null||B.fitBounds(O,e.fitBoundsOptions))}),ct(()=>e.center,O=>{var B;O&&((B=s.value)==null||B.setCenter(O))}),ct(()=>e.maxBounds,O=>{var B;O&&((B=s.value)==null||B.setMaxBounds(O))}),ct(()=>e.maxPitch,O=>{var B;O&&((B=s.value)==null||B.setMaxPitch(O))}),ct(()=>e.maxZoom,O=>{var B;O&&((B=s.value)==null||B.setMaxZoom(O))}),ct(()=>e.minPitch,O=>{var B;O&&((B=s.value)==null||B.setMinPitch(O))}),ct(()=>e.minZoom,O=>{var B;O&&((B=s.value)==null||B.setMinZoom(O))}),ct(()=>e.pitch,O=>{var B;O&&((B=s.value)==null||B.setPitch(O))}),ct(()=>e.renderWorldCopies,O=>{var B;O&&((B=s.value)==null||B.setRenderWorldCopies(O))}),ct(()=>e.mapStyle,O=>{var B;O&&((B=s.value)==null||B.setStyle(O))}),ct(()=>e.transformRequest,O=>{var B;O&&((B=s.value)==null||B.setTransformRequest(O))}),ct(()=>e.zoom,O=>{var B;O&&((B=s.value)==null||B.setZoom(O))}),ct(()=>e.zoom,O=>{var B;O&&((B=s.value)==null||B.setZoom(O))}),ct(()=>e.language,O=>{o.value&&s.value&&b.language!==(O||null)&&(D_(s.value,O||""),b.language=O||null)}),ct(()=>b.language,O=>{o.value&&s.value&&D_(s.value,O||"")});function C(){o.value=!0,e.language?b.language=e.language:b.language&&D_(s.value,e.language||"")}function I(){b.isMounted=!0;const O=Object.keys(e).filter(B=>e[B]!==void 0&&Ys.MAP_OPTION_KEYS.indexOf(B)!==-1).reduce((B,q)=>(B[q==="mapStyle"?"style":q]=Ur(e[q]),B),{container:r.value});if(s.value=Eg(new gu.Map(O)),b.map=s.value,u.value=!0,p.set("__load",()=>(h.value=!0,b.isLoaded=!0)),s.value.once("styledata",C),s.value.on("load",p.get("__load")),n.vnode.props){for(let B=0,q=Ys.MAP_EVENT_TYPES.length;B<q;B++)if(n.vnode.props["onMap:"+Ys.MAP_EVENT_TYPES[B]]){const J=Ys.createEventHandler(n,s.value,t,"map:"+Ys.MAP_EVENT_TYPES[B]);p.set(Ys.MAP_EVENT_TYPES[B],J),s.value.on(Ys.MAP_EVENT_TYPES[B],J)}}s.value.getCanvas().addEventListener("webglcontextlost",L)}async function R(){b.isMounted=!1,b.isLoaded=!1,h.value=!1,s.value&&(s.value.getCanvas().removeEventListener("webglcontextlost",L),s.value._controls.forEach(O=>{s.value.removeControl(O)}),u.value=!1,p.forEach((O,B)=>{s.value.off(B.startsWith("__")?B.substring(2):B,O)}),s.value.remove())}function L(){R(),Jn(I)}return Ni(()=>{I(),s.value&&(k=new ResizeObserver(FB(s.value.resize.bind(s.value),100)),k.observe(r.value))}),_r(()=>{k!==void 0&&(k.disconnect(),k=void 0),R()}),t.expose({map:s}),()=>ei("div",{class:"mgl-container",style:{height:e.height,width:e.width}},[ei("div",{ref:r,class:"mgl-wrapper"}),u.value&&t.slots.default?t.slots.default({}):void 0])}});function yc(e,t,n){ct(e,r=>{var s,u;r&&kl.indexOf(r)===-1||((s=t.value)!=null&&s.hasControl(n)&&t.value.removeControl(n),(u=t.value)==null||u.addControl(n,r))},{immediate:!0})}const BB=cr({name:"MglAttributionControl",props:{position:{type:String,validator:e=>kl.indexOf(e)!==-1},compact:Boolean,customAttribution:[String,Array]},setup(e){const t=_t(xi),n=_t(Sl),r=new gu.AttributionControl({compact:e.compact,customAttribution:e.customAttribution});yc(()=>e.position,t,r),_r(()=>n.value&&t.value.removeControl(r))},render(){}}),Db=class Sf{constructor(t,n){wi(this,"container"),this.isAdded=t,this.container=document.createElement("div"),this.setClasses(n)}getDefaultPosition(){return vc.TOP_LEFT}onAdd(){return Jn(()=>this.isAdded.value=!0),this.container}onRemove(){this.isAdded.value=!1,this.container.remove()}setClasses(t){t?(this.container.classList.remove(Sf.CONTROL_CLASS),this.container.classList.remove(Sf.CONTROL_GROUP_CLASS)):(this.container.classList.add(Sf.CONTROL_CLASS),this.container.classList.add(Sf.CONTROL_GROUP_CLASS))}};wi(Db,"CONTROL_CLASS","maplibregl-ctrl"),wi(Db,"CONTROL_GROUP_CLASS","maplibregl-ctrl-group");let HA=Db;const VB=cr({name:"MglCustomControl",props:{position:{type:String,validator:e=>kl.indexOf(e)!==-1},noClasses:{type:Boolean,default:!1}},slots:Object,setup(e,{slots:t}){const n=_t(xi),r=_t(Sl),s=dt(!1),u=new HA(s,e.noClasses);return yc(()=>e.position,n,u),ct(()=>e.noClasses,h=>u.setClasses(h)),_r(()=>{var h;return r.value&&((h=n.value)==null?void 0:h.removeControl(u))}),()=>{var h;return s.value?ei(F0,{to:u.container},(h=t.default)==null?void 0:h.call(t,{})):Zn("custom-component")}}}),NB=cr({name:"MglFullscreenControl",props:{position:{type:String,default:vc.TOP_RIGHT,validator:e=>kl.indexOf(e)!==-1},container:{type:Object,default:null}},setup(e){const t=_t(xi),n=_t(Sl),r=new gu.FullscreenControl({container:e.container||void 0});function s(){Jn(()=>{var u;return(u=t.value)==null?void 0:u.resize()})}r.on("fullscreenstart",s),r.on("fullscreenend",s),yc(()=>e.position,t,r),_r(()=>{var u;r.off("fullscreenstart",s),r.off("fullscreenend",s),n.value&&((u=t.value)==null||u.removeControl(r))})},render(){}});class $B{constructor(t="rgba(0,0,0,0.9)",n=4*window.devicePixelRatio,r="#7cf859",s="Monaco, Consolas, Courier, monospace",u=60*window.devicePixelRatio,h=90*window.devicePixelRatio,o=0,p=5*window.devicePixelRatio,y=100*window.devicePixelRatio){wi(this,"frames",0),wi(this,"totalTime",0),wi(this,"totalFrames",0),wi(this,"time",null),wi(this,"map"),wi(this,"container"),wi(this,"readOutput"),wi(this,"canvas"),wi(this,"eventHandlers",new Map),this.background=t,this.barWidth=n,this.color=r,this.font=s,this.graphHeight=u,this.graphWidth=h,this.graphTop=o,this.graphRight=p,this.width=y}getDefaultPosition(){return vc.TOP_RIGHT}onAdd(t){this.map=t;const n=this.container=document.createElement("div");return n.className="maplibregl-ctrl maplibregl-ctrl-fps",n.style.backgroundColor=this.background,n.style.borderRadius="6px",this.readOutput=document.createElement("div"),this.readOutput.style.color=this.color,this.readOutput.style.fontFamily=this.font,this.readOutput.style.padding="0 5px 5px",this.readOutput.style.fontSize="9px",this.readOutput.style.fontWeight="bold",this.readOutput.textContent="Waiting…",this.canvas=document.createElement("canvas"),this.canvas.className="maplibregl-ctrl-canvas",this.canvas.width=this.width,this.canvas.height=this.graphHeight,this.canvas.style.cssText=`width: ${this.width/window.devicePixelRatio}px; height: ${this.graphHeight/window.devicePixelRatio}px;`,n.appendChild(this.readOutput),n.appendChild(this.canvas),this.eventHandlers.set("movestart",this.onMoveStart.bind(this)),this.eventHandlers.set("moveend",this.onMoveEnd.bind(this)),this.map.on("movestart",this.eventHandlers.get("movestart")),this.map.on("moveend",this.eventHandlers.get("moveend")),this.container}onRemove(){this.map.off("movestart",this.eventHandlers.get("movestart")),this.map.off("moveend",this.eventHandlers.get("moveend")),this.eventHandlers.clear(),this.container.parentNode.removeChild(this.container),this.map=void 0}onMoveStart(){this.frames=0,this.time=performance.now(),this.eventHandlers.set("render",this.onRender.bind(this)),this.map.on("render",this.eventHandlers.get("render"))}onMoveEnd(){const t=performance.now();this.updateGraph(this.getFPS(t)),this.frames=0,this.time=null,this.map.off("render",this.eventHandlers.get("render"))}onRender(){if(this.time){this.frames++;const t=performance.now();t>=this.time+1e3&&(this.updateGraph(this.getFPS(t)),this.frames=0,this.time=performance.now())}}getFPS(t){return this.totalTime+=t-this.time,this.totalFrames+=this.frames,Math.round(1e3*this.frames/(t-this.time))||0}updateGraph(t){const n=this.canvas.getContext("2d"),r=Math.round(1e3*this.totalFrames/this.totalTime)||0,s=(this.graphHeight,this.barWidth);n.fillStyle=this.background,n.globalAlpha=1,n.fillRect(0,0,this.graphWidth,this.graphTop),n.fillStyle=this.color,this.readOutput.textContent=`${t} FPS (${r} Avg)`,n.drawImage(this.canvas,this.graphRight+s,this.graphTop,this.graphWidth-s,this.graphHeight,this.graphRight,this.graphTop,this.graphWidth-s,this.graphHeight),n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,this.graphHeight),n.fillStyle=this.background,n.globalAlpha=.75,n.fillRect(this.graphRight+this.graphWidth-s,this.graphTop,s,(1-t/100)*this.graphHeight)}}const UB=cr({name:"MglFrameRateControl",props:{position:{type:String,validator:e=>kl.indexOf(e)!==-1},background:{type:String,default:"rgba(0,0,0,0.9)"},barWidth:{type:Number,default:4*window.devicePixelRatio},color:{type:String,default:"#7cf859"},font:{type:String,default:"Monaco, Consolas, Courier, monospace"},graphHeight:{type:Number,default:60*window.devicePixelRatio},graphWidth:{type:Number,default:90*window.devicePixelRatio},graphTop:{type:Number,default:0},graphRight:{type:Number,default:5*window.devicePixelRatio},width:{type:Number,default:100*window.devicePixelRatio}},setup(e){const t=_t(xi),n=_t(Sl),r=new $B(e.background,e.barWidth,e.color,e.font,e.graphHeight,e.graphWidth,e.graphTop,e.graphRight,e.width);yc(()=>e.position,t,r),_r(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),qB=cr({name:"MglGeolocationControl",props:{position:{type:String,default:vc.TOP_RIGHT,validator:e=>kl.indexOf(e)!==-1},positionOptions:{type:Object,default:{enableHighAccuracy:!1,timeout:6e3}},fitBoundsOptions:{type:Object,default:{maxZoom:15}},trackUserLocation:{type:Boolean,default:!1},showAccuracyCircle:{type:Boolean,default:!0},showUserLocation:{type:Boolean,default:!0}},setup(e){const t=_t(xi),n=_t(Sl),r=new gu.GeolocateControl({positionOptions:e.positionOptions,fitBoundsOptions:e.fitBoundsOptions,trackUserLocation:e.trackUserLocation,showAccuracyCircle:e.showAccuracyCircle,showUserLocation:e.showUserLocation});yc(()=>e.position,t,r),_r(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}}),jB=cr({name:"MglNavigationControl",props:{position:{type:String,default:vc.TOP_RIGHT,validator:e=>kl.indexOf(e)!==-1},showCompass:{type:Boolean,default:!0},showZoom:{type:Boolean,default:!0},visualizePitch:Boolean},setup(e){const t=_t(xi),n=_t(Sl),r=new gu.NavigationControl({showCompass:e.showCompass,showZoom:e.showZoom,visualizePitch:e.visualizePitch});yc(()=>e.position,t,r),_r(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var GA=(e=>(e.IMPERIAL="imperial",e.METRIC="metric",e.NAUTICAL="nautical",e))(GA||{});const HB=Object.values(GA),GB=cr({name:"MglScaleControl",props:{position:{type:String,validator:e=>kl.indexOf(e)!==-1},maxWidth:{type:Number,default:100},unit:{type:String,default:"metric",validator:e=>HB.indexOf(e)!==-1}},setup(e){const t=_t(xi),n=_t(Sl),r=new gu.ScaleControl({maxWidth:e.maxWidth,unit:e.unit});yc(()=>e.position,t,r),_r(()=>{var s;return n.value&&((s=t.value)==null?void 0:s.removeControl(r))})},render(){}});var $g=(e=>(e.DEFAULT="default",e.TEXT="text",e.MDI="mdi",e.SIMPLE_ICON="simple-icons",e))($g||{});const WB=Object.values($g),rg={text:void 0,mdi:{size:21,viewbox:"0 0 24 24"},"simple-icons":{size:21,viewbox:"0 0 24 24"},default:{size:0,viewbox:"0 0 0 0"}},Mb=cr({name:"MglButton",props:{type:{type:String,default:"default",validator:e=>WB.indexOf(e)!==-1},path:{type:String},size:Number,viewbox:String},slots:Object,setup(e,{slots:t}){!e.path&&e.type!=="text"&&WO();const n=dt(rg[e.type]||rg.default);return ct(()=>e.type,r=>n.value=rg[r]||rg.default),()=>{var r,s;return e.type==="text"?ei("button",{type:"button"},(r=t.default)==null?void 0:r.call(t,{})):ei("button",{type:"button",class:"maplibregl-ctrl-icon"},[ei("svg",{width:e.size||n.value.size,height:e.size||n.value.size,viewBox:e.viewbox||n.value.viewbox},ei("path",{fill:"currentColor",d:e.path})),(s=t.default)==null?void 0:s.call(t,{})])}}});function zk(e){return e&&!!e.stopPropagation}const YB=cr({name:"MglStyleSwitchControl",props:{position:{type:String,validator:e=>kl.indexOf(e)!==-1},mapStyles:{type:Array,required:!0,default:[]},modelValue:{type:Object},isOpen:{type:Boolean,default:void 0}},slots:Object,emits:["update:modelValue","update:isOpen"],setup(e,{emit:t,slots:n}){const r=_t(xi),s=_t(Sl),u=_t(ss),h=_t(lx),o=dt(!1),p=dt(e.isOpen===void 0?!1:e.isOpen),y=Rt(e.modelValue===void 0?e.mapStyles.length?e.mapStyles[0]:null:e.modelValue),b=new HA(o,!1),k=R.bind(null,!1);function C(){const L=r.value.getStyle().name;for(let O=0,B=e.mapStyles.length;O<B;O++)if(e.mapStyles[O].name===L){I(e.mapStyles[O]);break}}ct(u,L=>{L&&C()},{immediate:!0}),r.value.on("style.load",C),document.addEventListener("click",k),yc(()=>e.position,r,b),e.modelValue!==void 0&&ct(()=>e.modelValue,L=>{L!==void 0&&(y.value=L)}),e.isOpen!==void 0&&ct(()=>e.isOpen,L=>{L!==void 0&&(p.value=L)}),_r(()=>{s.value&&(r.value.removeControl(b),r.value.off("style.load",C)),document.removeEventListener("click",k)});function I(L){var O;((O=y.value)==null?void 0:O.name)!==L.name&&(h.emit("styleSwitched",L),r.value.setStyle(L.style,{diff:!1}),e.modelValue===void 0&&(y.value=L),t("update:modelValue",L),R(!1))}function R(L,O){zk(O)?O.stopPropagation():zk(L)&&L.stopPropagation(),!(e.isOpen!==void 0&&e.isOpen===L||p.value===L)&&(e.isOpen===void 0?(p.value=typeof L=="boolean"?L:!p.value,t("update:isOpen",p.value)):t("update:isOpen",typeof L=="boolean"?L:!e.isOpen))}return()=>{if(!o.value)return Zn("style-switch-control");const L={isOpen:p,toggleOpen:R,setStyle:I,mapStyles:e.mapStyles,currentStyle:y};return ei(F0,{to:b.container},n.default?n.default(L):[n.button?n.button(L):ei(Mb,{type:$g.MDI,path:"M12,18.54L19.37,12.8L21,14.07L12,21.07L3,14.07L4.62,12.81L12,18.54M12,16L3,9L12,2L21,9L12,16M12,4.53L6.26,9L12,13.47L17.74,9L12,4.53Z",class:["maplibregl-ctrl-icon maplibregl-style-switch",p.value?"is-open":""],onClick:R.bind(null,!0)}),n.styleList?n.styleList(L):ei("div",{class:["maplibregl-style-list",p.value?"is-open":""]},e.mapStyles.map(O=>{var B,q;return O.icon?ei(Mb,{type:$g.MDI,path:O.icon.path,class:((B=y.value)==null?void 0:B.name)===O.name?"is-active":"",onClick:()=>I(O)},zt(O.label)):ei("button",{type:"button",class:((q=y.value)==null?void 0:q.name)===O.name?"is-active":"",onClick:()=>I(O)},zt(O.label))}))])}},template:`
		<slot>
		<slot name="button"></slot>
		<slot name="styleList"></slot>
		</slot>
	`}),ZB=cr({name:"MglMarker",props:{coordinates:{type:[Object,Array],required:!0},offset:[Object,Array],anchor:String,color:String,clickTolerance:Number,rotation:Number,rotationAlignment:String,pitchAlignment:String,scale:Number},setup(e){const t=_t(xi),n=Object.keys(e).filter(s=>e[s]!==void 0&&Ys.MARKER_OPTION_KEYS.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Ur(e[u]),s),{}),r=new gu.Marker(n);return r.setLngLat(e.coordinates).addTo(t.value),ct(()=>e.coordinates,s=>r.setLngLat(s)),ct(()=>e.offset,s=>r.setOffset(s||[0,0])),ct(()=>e.pitchAlignment,s=>r.setPitchAlignment(s||"auto")),ct(()=>e.rotationAlignment,s=>r.setRotationAlignment(s||"auto")),_r(r.remove.bind(r)),{marker:r}},render(){}});class yu{constructor(){wi(this,"unmountHandlers",new Map)}registerUnmountHandler(t,n){this.unmountHandlers.set(t,n)}unregisterUnmountHandler(t){this.unmountHandlers.delete(t)}unmount(){this.unmountHandlers.forEach(t=>t())}}const WA=class Lb{static genSourceOpts(t,n,r){return Object.keys(n).filter(s=>n[s]!==void 0&&r.indexOf(s)!==-1).reduce((s,u)=>(s[u]=Ur(n[u]),s),{type:t})}static getSourceRef(t,n){const r=typeof n=="string",s=String(t)+(r?n:"");let u=Lb.REFS.get(s);return u||(u=dt(r?null:void 0),Lb.REFS.set(s,u)),u}};wi(WA,"REFS",new Map);let Qi=WA;function _u(e,t,n,r,s){const u=_t(xi),h=_t(ss),o=_t(lx);function p(){h.value&&(u.value.addSource(t.sourceId,Qi.genSourceOpts(n,t,r)),e.value=u.value.getSource(t.sourceId))}function y(){e.value=null}return ct(h,p,{immediate:!0}),u.value.on("style.load",p),o.on("styleSwitched",y),_r(()=>{h.value&&(s.unmount(),u.value.removeSource(t.sourceId)),u.value.off("style.load",p),o.off("styleSwitched",y)})}const KB=vu({animate:void 0,canvas:void 0,coordinates:void 0}),XB=cr({name:"MglCanvasSource",props:{sourceId:{type:String,required:!0},coordinates:Array,animate:Boolean,canvas:[Object,String]},slots:Object,setup(e,{slots:t}){const n=_t(Xi),r=Qi.getSourceRef(n,e.sourceId),s=new yu;return xn(Ji,e.sourceId),xn(gc,s),_u(r,e,"canvas",KB,s),ct(fr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Zn("Canvas Source"),r.value&&t.default?t.default({}):void 0]}}),JB=vu({data:void 0,maxzoom:void 0,attribution:void 0,buffer:void 0,tolerance:void 0,cluster:void 0,clusterRadius:void 0,clusterMaxZoom:void 0,clusterMinPoints:void 0,clusterProperties:void 0,lineMetrics:void 0,generateId:void 0,promoteId:void 0,filter:void 0}),QB=cr({name:"MglGeoJsonSource",props:{sourceId:{type:String,required:!0},data:[Object,String],maxzoom:Number,attribution:String,buffer:Number,tolerance:Number,cluster:[Number,Boolean],clusterRadius:Number,clusterMaxZoom:Number,clusterMinPoints:Number,clusterProperties:Object,lineMetrics:Boolean,generateId:Boolean,promoteId:[Object,String],filter:[Array,String,Object]},slots:Object,setup(e,{slots:t}){const n=_t(Xi),r=Qi.getSourceRef(n,e.sourceId),s=new yu;return xn(Ji,e.sourceId),xn(gc,s),_u(r,e,"geojson",JB,s),ct(fr(e.data)?e.data:()=>e.data,u=>{var h;(h=r.value)==null||h.setData(u||{type:"FeatureCollection",features:[]})},{immediate:!0}),()=>[Zn("GeoJSON Source"),r.value&&t.default?t.default({}):void 0]}}),eV=vu({url:void 0,coordinates:void 0}),tV=cr({name:"MglImageSource",props:{sourceId:{type:String,required:!0},url:String,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=_t(Xi),r=Qi.getSourceRef(n,e.sourceId),s=new yu;return xn(Ji,e.sourceId),xn(gc,s),_u(r,e,"image",eV,s),ct(fr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Zn("Image Source"),r.value&&t.default?t.default({}):void 0]}}),nV=vu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,scheme:void 0,attribution:void 0,volatile:void 0}),rV=cr({name:"MglRasterSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,scheme:String,attribution:String,volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=_t(Xi),r=Qi.getSourceRef(n,e.sourceId),s=new yu;return xn(Ji,e.sourceId),xn(gc,s),_u(r,e,"raster",nV,s),()=>[Zn("Raster Source"),r.value&&t.default?t.default({}):void 0]}}),iV=vu({url:void 0,tiles:void 0,bounds:void 0,minzoom:void 0,maxzoom:void 0,tileSize:void 0,attribution:void 0,encoding:void 0,volatile:void 0,redFactor:void 0,blueFactor:void 0,greenFactor:void 0,baseShift:void 0}),aV=cr({name:"MglRasterDemSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,minzoom:Number,maxzoom:Number,tileSize:Number,attribution:String,encoding:String,volatile:Boolean,redFactor:Number,blueFactor:Number,greenFactor:Number,baseShift:Number},slots:Object,setup(e,{slots:t}){const n=_t(Xi),r=Qi.getSourceRef(n,e.sourceId),s=new yu;return xn(Ji,e.sourceId),xn(gc,s),_u(r,e,"raster-dem",iV,s),()=>[Zn("RasterDem Source"),r.value&&t.default?t.default({}):void 0]}}),sV=vu({url:void 0,tiles:void 0,bounds:void 0,scheme:void 0,minzoom:void 0,maxzoom:void 0,attribution:void 0,promoteId:void 0,volatile:void 0}),oV=cr({name:"MglVectorSource",props:{sourceId:{type:String,required:!0},url:String,tiles:Array,bounds:Array,scheme:String,minzoom:Number,maxzoom:Number,attribution:String,promoteId:[Object,String],volatile:Boolean},slots:Object,setup(e,{slots:t}){const n=_t(Xi),r=Qi.getSourceRef(n,e.sourceId),s=new yu;return xn(Ji,e.sourceId),xn(gc,s),_u(r,e,"vector",sV,s),ct(fr(e.tiles)?e.tiles:()=>e.tiles,u=>{var h;(h=r.value)==null||h.setTiles(u||[])},{immediate:!0}),ct(fr(e.url)?e.url:()=>e.url,u=>{var h;(h=r.value)==null||h.setUrl(u||"")},{immediate:!0}),()=>[Zn("Vector Source"),r.value&&t.default?t.default({}):void 0]}}),lV=vu({urls:void 0,coordinates:void 0}),cV=cr({name:"MglVideoSource",props:{sourceId:{type:String,required:!0},urls:Array,coordinates:Array},slots:Object,setup(e,{slots:t}){const n=_t(Xi),r=Qi.getSourceRef(n,e.sourceId),s=new yu;return xn(Ji,e.sourceId),xn(gc,s),_u(r,e,"video",lV,s),ct(fr(e.coordinates)?e.coordinates:()=>e.coordinates,u=>{var h;(h=r.value)==null||h.setCoordinates(u)},{immediate:!0}),()=>[Zn("Video Source"),r.value&&t.default?t.default({}):void 0]}}),vg=class ko{static genLayerOpts(t,n,r,s){return Object.keys(r).filter(u=>r[u]!==void 0&&ko.SOURCE_OPTS.indexOf(u)!==-1).reduce((u,h)=>(u[h==="sourceLayer"?"source-layer":h]=Ur(r[h]),u),{type:n,source:r.source||s,id:t})}static registerLayerEvents(t,n,r){if(r.props)for(let s=0,u=ko.LAYER_EVENTS.length;s<u;s++){const h="on"+ko.LAYER_EVENTS[s].charAt(0).toUpperCase()+ko.LAYER_EVENTS[s].substr(1);r.props[h]&&t.on(ko.LAYER_EVENTS[s],n,r.props[h])}}static unregisterLayerEvents(t,n,r){if(r.props)for(let s=0,u=ko.LAYER_EVENTS.length;s<u;s++){const h="on"+ko.LAYER_EVENTS[s].charAt(0).toUpperCase()+ko.LAYER_EVENTS[s].substr(1);r.props[h]&&t.off(ko.LAYER_EVENTS[s],n,r.props[h])}}};wi(vg,"SOURCE_OPTS",["metadata","ref","source","sourceLayer","minzoom","maxzoom","interactive","filter","layout","paint"]),wi(vg,"LAYER_EVENTS",["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]),wi(vg,"SHARED",{props:{layerId:{type:String,required:!0},source:[String,Object],metadata:[Object,Array,String,Number],sourceLayer:String,minzoom:Number,maxzoom:Number,interactive:Boolean,filter:Array,before:String},emits:["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"]});let qn=vg;function Cl(e,t){const n=_t(xi),r=_t(ss),s=_t(gc);function u(){r.value&&(t&&qn.unregisterLayerEvents(n.value,e,t.vnode),n.value.getLayer(e)&&n.value.removeLayer(e))}s.registerUnmountHandler(e,u),_r(()=>{s.unregisterUnmountHandler(e),u()})}const uV=cr({name:"MglBackgroundLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=_t(xi),r=_t(ss),s=_t(Xi),u=Qi.getSourceRef(s,e.source||t);return Cl(e.layerId),ct([r,u],([h,o])=>{h&&(o||o===void 0)&&n.value.addLayer(qn.genLayerOpts(e.layerId,"background",e,t),e.before||void 0)},{immediate:!0}),()=>Zn("Background Layer")}}),dV=cr({name:"MglCircleLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"circle",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Circle Layer")}}),hV=cr({name:"MglFillLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"fill",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Fill Layer")}}),fV=cr({name:"MglFillExtrusionLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"fill-extrusion",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Fill Extrusion Layer")}}),mV=cr({name:"MglHeatmapLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"heatmap",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Heatmap Layer")}}),pV=cr({name:"MglHillshadeLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"hillshade",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Hillshade Layer")}}),gV=cr({name:"MglLineLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"line",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Line Layer")}}),vV=cr({name:"MglRasterLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"raster",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Raster Layer")}}),yV=cr({name:"MglSymbolLayer",props:{...qn.SHARED.props,layout:Object,paint:Object},emits:[...qn.SHARED.emits],setup(e){const t=_t(Ji);if(!t&&!e.source)return;const n=Es(),r=_t(xi),s=_t(ss),u=_t(Xi),h=Qi.getSourceRef(u,e.source||t);return Cl(e.layerId,n),ct([s,h],([o,p])=>{o&&(p||p===void 0)&&(r.value.addLayer(qn.genLayerOpts(e.layerId,"symbol",e,t),e.before||void 0),qn.registerLayerEvents(r.value,e.layerId,n.vnode))},{immediate:!0}),()=>Zn("Symbol Layer")}}),_V=Object.freeze(Object.defineProperty({__proto__:null,MglAttributionControl:BB,MglBackgroundLayer:uV,MglButton:Mb,MglCanvasSource:XB,MglCircleLayer:dV,MglCustomControl:VB,MglFillExtrusionLayer:fV,MglFillLayer:hV,MglFrameRateControl:UB,MglFullscreenControl:NB,MglGeoJsonSource:QB,MglGeolocationControl:qB,MglHeatmapLayer:mV,MglHillshadeLayer:pV,MglImageSource:tV,MglLineLayer:gV,MglMap:zB,MglMarker:ZB,MglNavigationControl:jB,MglRasterDemSource:aV,MglRasterLayer:vV,MglRasterSource:rV,MglScaleControl:GB,MglStyleSwitchControl:YB,MglSymbolLayer:yV,MglVectorSource:oV,MglVideoSource:cV},Symbol.toStringTag,{value:"Module"})),bV=function(e){Object.entries(_V).forEach(([t,n])=>{e.component(t,n)})},Ps=We({border:[Boolean,Number,String]},"border");function so(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();return{borderClasses:Y(()=>{const r=fr(e)?e.value:e.border,s=[];if(r===!0||r==="")s.push(`${t}--border`);else if(typeof r=="string"||r===0)for(const u of String(r).split(" "))s.push(`border-${u}`);return s})}}function cx(e){return J0(()=>{const t=[],n={};if(e.value.background)if(Ab(e.value.background)){if(n.backgroundColor=e.value.background,!e.value.text&&iz(e.value.background)){const r=Eo(e.value.background);if(r.a==null||r.a===1){const s=xA(r);n.color=s,n.caretColor=s}}}else t.push(`bg-${e.value.background}`);return e.value.text&&(Ab(e.value.text)?(n.color=e.value.text,n.caretColor=e.value.text):t.push(`text-${e.value.text}`)),{colorClasses:t,colorStyles:n}})}function Ga(e,t){const n=Y(()=>({text:fr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=cx(n);return{textColorClasses:r,textColorStyles:s}}function yi(e,t){const n=Y(()=>({background:fr(e)?e.value:t?e[t]:null})),{colorClasses:r,colorStyles:s}=cx(n);return{backgroundColorClasses:r,backgroundColorStyles:s}}const os=We({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function ls(e){return{dimensionStyles:Y(()=>{const n={},r=Ht(e.height),s=Ht(e.maxHeight),u=Ht(e.maxWidth),h=Ht(e.minHeight),o=Ht(e.minWidth),p=Ht(e.width);return r!=null&&(n.height=r),s!=null&&(n.maxHeight=s),u!=null&&(n.maxWidth=u),h!=null&&(n.minHeight=h),o!=null&&(n.minWidth=o),p!=null&&(n.width=p),n})}}const cs=We({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function Ds(e){return{elevationClasses:Y(()=>{const n=fr(e)?e.value:e.elevation,r=[];return n==null||r.push(`elevation-${n}`),r})}}const Bk={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},bu=We({location:String},"location");function Wd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:r}=Wa();return{locationStyles:Y(()=>{if(!e.location)return{};const{side:u,align:h}=Cb(e.location.split(" ").length>1?e.location:`${e.location} center`,r.value);function o(y){return n?n(y):0}const p={};return u!=="center"&&(t?p[Bk[u]]=`calc(100% - ${o(u)}px)`:p[u]=0),h!=="center"?t?p[Bk[h]]=`calc(100% - ${o(h)}px)`:p[h]=0:(u==="center"?p.top=p.left="50%":p[{top:"left",bottom:"left",left:"top",right:"top"}[u]]="50%",p.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[u]),p})}}const xV=["static","relative","fixed","absolute","sticky"],gm=We({position:{type:String,validator:e=>xV.includes(e)}},"position");function vm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();return{positionClasses:Y(()=>e.position?`${t}--${e.position}`:void 0)}}const Mi=We({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function $i(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();return{roundedClasses:Y(()=>{const r=fr(e)?e.value:e.rounded,s=fr(e)?e.value:e.tile,u=[];if(r===!0||r==="")u.push(`${t}--rounded`);else if(typeof r=="string"||r===0)for(const h of String(r).split(" "))u.push(`rounded-${h}`);else(s||r===!1)&&u.push("rounded-0");return u})}}const Kn=We({tag:{type:String,default:"div"}},"tag"),ux=We({color:String,...Ps(),...un(),...os(),...cs(),...bu(),...gm(),...Mi(),...Kn(),...br()},"VSheet"),dc=ht()({name:"VSheet",props:ux(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(bt(e,"color")),{borderClasses:h}=so(e),{dimensionStyles:o}=ls(e),{elevationClasses:p}=Ds(e),{locationStyles:y}=Wd(e),{positionClasses:b}=vm(e),{roundedClasses:k}=$i(e);return kt(()=>T(e.tag,{class:["v-sheet",r.value,s.value,h.value,p.value,b.value,k.value,e.class],style:[u.value,o.value,y.value,e.style]},n)),{}}}),wV=We({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),Rb=ht()({name:"VCalendarIntervalEvent",props:wV(),setup(e){const t=Fo(),n=()=>{var r,s,u,h;if(!((r=e.event)!=null&&r.first)&&!((s=e.event)!=null&&s.last)||t.isEqual((u=e.event)==null?void 0:u.start,(h=e.interval)==null?void 0:h.start))return{height:"100%",margin:Ht(0)};{const{height:o,margin:p}=Array.from({length:e.intervalDivisions},y=>y*(e.intervalDuration/e.intervalDivisions)).reduce((y,b,k)=>{var C,I;return t.isBefore(t.addMinutes((C=e.interval)==null?void 0:C.start,b),(I=e.event)==null?void 0:I.start)?{height:Ht(e.intervalHeight/e.intervalDivisions*k),margin:Ht(e.intervalHeight/e.intervalDivisions*k)}:{height:y.height,margin:y.margin}},{height:"",margin:""});return{height:o,margin:p}}};return kt(()=>{var r,s,u,h,o;return T(dc,{height:n().height,density:"comfortable",style:`margin-top: ${n().margin}`,class:"v-calendar-internal-event",color:((r=e.event)==null?void 0:r.color)??void 0,rounded:(s=e.event)!=null&&s.first&&((u=e.event)!=null&&u.last)?!0:(h=e.event)!=null&&h.first?"t":(o=e.event)!=null&&o.last?"b":!1},{default:()=>{var p,y;return[(p=e.event)!=null&&p.first?(y=e.event)==null?void 0:y.title:""]}})}),{}}}),YA=We({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),Ob=ht()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...YA()},setup(e,t){const n=Fo(),r=Y(()=>{const s=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),u=n.addMinutes(n.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:n.format(s,"fullTime24h"),start:s,end:u,events:e.events?e.events.filter(h=>!h.allDay&&(n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u])||n.isWithinRange(s,[h.start,h.end])||n.isEqual(u,h.end))).map(h=>({...h,first:n.isEqual(s,h.start)||n.isWithinRange(h.start,[s,u]),last:n.isEqual(u,h.end)||n.isWithinRange(h.end,[s,u])})):[]}});return kt(()=>{var s,u;return e.dayIndex===0?T("div",{class:"v-calendar-day__row-with-label",style:`height: ${Ht(e.intervalHeight)}`},[T("div",{class:"v-calendar-day__row-label"},[T("slot",{name:"intervalFormat",interval:r.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?n.format(r.value.start,"hours12h"):e.intervalFormat(r.value):r.value.label:""])]),T("div",{class:"v-calendar-day__row-hairline"},null),T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(s=r.value.events)==null?void 0:s.map(h=>T(Rb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):T("div",{class:"v-calendar-day__row-without-label",style:`height: ${Ht(e.intervalHeight)}`},[T("div",{class:["v-calendar-day__row-content",r.value.events.some(h=>!h.last)?"v-calendar-day__row-content-through":""]},[T("slot",{name:"intervalBody",interval:r.value},[(u=r.value.events)==null?void 0:u.filter(h=>!h.allDay).map(h=>T(Rb,{event:h,interval:r.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:r}}}),SV=[null,"default","comfortable","compact"],Ya=We({density:{type:String,default:"default",validator:e=>SV.includes(e)}},"density");function Ms(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();return{densityClasses:Y(()=>`${t}--density-${e.density}`)}}const kV=["elevated","flat","tonal","outlined","text","plain"];function _c(e,t){return T(Gt,null,[e&&T("span",{key:"overlay",class:`${t}__overlay`},null),T("span",{key:"underlay",class:`${t}__underlay`},null)])}const oo=We({color:String,variant:{type:String,default:"elevated",validator:e=>kV.includes(e)}},"variant");function xu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();const n=Y(()=>{const{variant:u}=Ur(e);return`${t}--variant-${u}`}),{colorClasses:r,colorStyles:s}=cx(Y(()=>{const{variant:u,color:h}=Ur(e);return{[["elevated","flat"].includes(u)?"background":"text"]:h}}));return{colorClasses:r,colorStyles:s,variantClasses:n}}const ZA=We({baseColor:String,divided:Boolean,...Ps(),...un(),...Ya(),...cs(),...Mi(),...Kn(),...br(),...oo()},"VBtnGroup"),Vk=ht()({name:"VBtnGroup",props:ZA(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{densityClasses:s}=Ms(e),{borderClasses:u}=so(e),{elevationClasses:h}=Ds(e),{roundedClasses:o}=$i(e);ma({VBtn:{height:"auto",baseColor:bt(e,"baseColor"),color:bt(e,"color"),density:bt(e,"density"),flat:!0,variant:bt(e,"variant")}}),kt(()=>T(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},r.value,u.value,s.value,h.value,o.value,e.class],style:e.style},n))}}),ym=We({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),_m=We({value:null,disabled:Boolean,selectedClass:String},"group-item");function bm(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const r=Kr("useGroupItem");if(!r)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const s=Is();xn(Symbol.for(`${t.description}:id`),s);const u=_t(t,null);if(!u){if(!n)return u;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const h=bt(e,"value"),o=Y(()=>!!(u.disabled.value||e.disabled));u.register({id:s,value:h,disabled:o},r),_r(()=>{u.unregister(s)});const p=Y(()=>u.isSelected(s)),y=Y(()=>u.items.value[0].id===s),b=Y(()=>u.items.value[u.items.value.length-1].id===s),k=Y(()=>p.value&&[u.selectedClass.value,e.selectedClass]);return ct(p,C=>{r.emit("group:selected",{value:C})},{flush:"sync"}),{id:s,isSelected:p,isFirst:y,isLast:b,toggle:()=>u.select(s,!p.value),select:C=>u.select(s,C),selectedClass:k,value:h,disabled:o,group:u}}function Yd(e,t){let n=!1;const r=Ii([]),s=fn(e,"modelValue",[],C=>C==null?[]:KA(r,Zr(C)),C=>{const I=TV(r,C);return e.multiple?I:I[0]}),u=Kr("useGroup");function h(C,I){const R=C,L=Symbol.for(`${t.description}:id`),B=Cd(L,u==null?void 0:u.vnode).indexOf(I);Ur(R.value)==null&&(R.value=B,R.useIndexAsValue=!0),B>-1?r.splice(B,0,R):r.push(R)}function o(C){if(n)return;p();const I=r.findIndex(R=>R.id===C);r.splice(I,1)}function p(){const C=r.find(I=>!I.disabled);C&&e.mandatory==="force"&&!s.value.length&&(s.value=[C.id])}Ni(()=>{p()}),_r(()=>{n=!0}),N0(()=>{for(let C=0;C<r.length;C++)r[C].useIndexAsValue&&(r[C].value=C)});function y(C,I){const R=r.find(L=>L.id===C);if(!(I&&(R!=null&&R.disabled)))if(e.multiple){const L=s.value.slice(),O=L.findIndex(q=>q===C),B=~O;if(I=I??!B,B&&e.mandatory&&L.length<=1||!B&&e.max!=null&&L.length+1>e.max)return;O<0&&I?L.push(C):O>=0&&!I&&L.splice(O,1),s.value=L}else{const L=s.value.includes(C);if(e.mandatory&&L)return;s.value=I??!L?[C]:[]}}function b(C){if(e.multiple,s.value.length){const I=s.value[0],R=r.findIndex(B=>B.id===I);let L=(R+C)%r.length,O=r[L];for(;O.disabled&&L!==R;)L=(L+C)%r.length,O=r[L];if(O.disabled)return;s.value=[r[L].id]}else{const I=r.find(R=>!R.disabled);I&&(s.value=[I.id])}}const k={register:h,unregister:o,selected:s,select:y,disabled:bt(e,"disabled"),prev:()=>b(r.length-1),next:()=>b(1),isSelected:C=>s.value.includes(C),selectedClass:Y(()=>e.selectedClass),items:Y(()=>r),getItemIndex:C=>CV(r,C)};return xn(t,k),k}function CV(e,t){const n=KA(e,[t]);return n.length?e.findIndex(r=>r.id===n[0]):-1}function KA(e,t){const n=[];return t.forEach(r=>{const s=e.find(h=>xl(r,h.value)),u=e[r];(s==null?void 0:s.value)!=null?n.push(s.id):u!=null&&n.push(u.id)}),n}function TV(e,t){const n=[];return t.forEach(r=>{const s=e.findIndex(u=>u.id===r);if(~s){const u=e[s];n.push(u.value!=null?u.value:s)}}),n}const XA=Symbol.for("vuetify:v-btn-toggle"),AV=We({...ZA(),...ym()},"VBtnToggle");ht()({name:"VBtnToggle",props:AV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:r,next:s,prev:u,select:h,selected:o}=Yd(e,XA);return kt(()=>{const p=Vk.filterProps(e);return T(Vk,lt({class:["v-btn-toggle",e.class]},p,{style:e.style}),{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{isSelected:r,next:s,prev:u,select:h,selected:o})]}})}),{next:s,prev:u,select:h}}});const EV=We({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Bn=ht(!1)({name:"VDefaultsProvider",props:EV(),setup(e,t){let{slots:n}=t;const{defaults:r,disabled:s,reset:u,root:h,scoped:o}=qd(e);return ma(r,{reset:u,root:h,scoped:o,disabled:s}),()=>{var p;return(p=n.default)==null?void 0:p.call(n)}}}),IV=["x-small","small","default","large","x-large"],Zd=We({size:{type:[String,Number],default:"default"}},"size");function xm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();return J0(()=>{let n,r;return Fg(IV,e.size)?n=`${t}--size-${e.size}`:e.size&&(r={width:Ht(e.size),height:Ht(e.size)}),{sizeClasses:n,sizeStyles:r}})}const PV=We({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:pn,...un(),...Zd(),...Kn({tag:"i"}),...br()},"VIcon"),rr=ht()({name:"VIcon",props:PV(),setup(e,t){let{attrs:n,slots:r}=t;const s=dt(),{themeClasses:u}=Br(e),{iconData:h}=xB(Y(()=>s.value||e.icon)),{sizeClasses:o}=xm(e),{textColorClasses:p,textColorStyles:y}=Ga(bt(e,"color"));return kt(()=>{var C,I;const b=(C=r.default)==null?void 0:C.call(r);b&&(s.value=(I=hA(b).filter(R=>R.type===fm&&R.children&&typeof R.children=="string")[0])==null?void 0:I.children);const k=!!(n.onClick||n.onClickOnce);return T(h.value.component,{tag:e.tag,icon:h.value.icon,class:["v-icon","notranslate",u.value,o.value,p.value,{"v-icon--clickable":k,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[o.value?void 0:{fontSize:Ht(e.size),height:Ht(e.size),width:Ht(e.size)},y.value,e.style],role:k?"button":void 0,"aria-hidden":!k,tabindex:k?e.disabled?-1:0:void 0},{default:()=>[b]})}),{}}});function JA(e,t){const n=dt(),r=Rt(!1);if(Z0){const s=new IntersectionObserver(u=>{r.value=!!u.find(h=>h.isIntersecting)},t);_r(()=>{s.disconnect()}),ct(n,(u,h)=>{h&&(s.unobserve(h),r.value=!1),u&&s.observe(u)},{flush:"post"})}return{intersectionRef:n,isIntersecting:r}}const DV=We({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...un(),...Zd(),...Kn({tag:"div"}),...br()},"VProgressCircular"),dx=ht()({name:"VProgressCircular",props:DV(),setup(e,t){let{slots:n}=t;const r=20,s=2*Math.PI*r,u=dt(),{themeClasses:h}=Br(e),{sizeClasses:o,sizeStyles:p}=xm(e),{textColorClasses:y,textColorStyles:b}=Ga(bt(e,"color")),{textColorClasses:k,textColorStyles:C}=Ga(bt(e,"bgColor")),{intersectionRef:I,isIntersecting:R}=JA(),{resizeRef:L,contentRect:O}=uc(),B=Y(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),q=Y(()=>Number(e.width)),J=Y(()=>p.value?Number(e.size):O.value?O.value.width:Math.max(q.value,32)),ee=Y(()=>r/(1-q.value/J.value)*2),ie=Y(()=>q.value/J.value*ee.value),re=Y(()=>Ht((100-B.value)/100*s));return bi(()=>{I.value=u.value,L.value=u.value}),kt(()=>T(e.tag,{ref:u,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":R.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},h.value,o.value,y.value,e.class],style:[p.value,b.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:B.value},{default:()=>[T("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${ee.value} ${ee.value}`},[T("circle",{class:["v-progress-circular__underlay",k.value],style:C.value,fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":ie.value,"stroke-dasharray":s,"stroke-dashoffset":0},null),T("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r,"stroke-width":ie.value,"stroke-dasharray":s,"stroke-dashoffset":re.value},null)]),n.default&&T("div",{class:"v-progress-circular__content"},[n.default({value:B.value})])]})),{}}}),MV=We({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...un(),...bu({location:"top"}),...Mi(),...Kn(),...br()},"VProgressLinear"),bv=ht()({name:"VProgressLinear",props:MV(),emits:{"update:modelValue":e=>!0},setup(e,t){var ae;let{slots:n}=t;const r=fn(e,"modelValue"),{isRtl:s,rtlClasses:u}=Wa(),{themeClasses:h}=Br(e),{locationStyles:o}=Wd(e),{textColorClasses:p,textColorStyles:y}=Ga(e,"color"),{backgroundColorClasses:b,backgroundColorStyles:k}=yi(Y(()=>e.bgColor||e.color)),{backgroundColorClasses:C,backgroundColorStyles:I}=yi(Y(()=>e.bufferColor||e.bgColor||e.color)),{backgroundColorClasses:R,backgroundColorStyles:L}=yi(e,"color"),{roundedClasses:O}=$i(e),{intersectionRef:B,isIntersecting:q}=JA(),J=Y(()=>parseFloat(e.max)),ee=Y(()=>parseFloat(e.height)),ie=Y(()=>Ki(parseFloat(e.bufferValue)/J.value*100,0,100)),re=Y(()=>Ki(parseFloat(r.value)/J.value*100,0,100)),le=Y(()=>s.value!==e.reverse),H=Y(()=>e.indeterminate?"fade-transition":"slide-x-transition"),$=hr&&((ae=window.matchMedia)==null?void 0:ae.call(window,"(forced-colors: active)").matches);function Z(te){if(!B.value)return;const{left:be,right:me,width:Pe}=B.value.getBoundingClientRect(),Ae=le.value?Pe-te.clientX+(me-Pe):te.clientX-be;r.value=Math.round(Ae/Pe*J.value)}return kt(()=>T(e.tag,{ref:B,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&q.value,"v-progress-linear--reverse":le.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},O.value,h.value,u.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?Ht(ee.value):0,"--v-progress-linear-height":Ht(ee.value),...e.absolute?o.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:re.value,onClick:e.clickable&&Z},{default:()=>[e.stream&&T("div",{key:"stream",class:["v-progress-linear__stream",p.value],style:{...y.value,[le.value?"left":"right"]:Ht(-ee.value),borderTop:`${Ht(ee.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${Ht(ee.value/4)})`,width:Ht(100-ie.value,"%"),"--v-progress-linear-stream-to":Ht(ee.value*(le.value?1:-1))}},null),T("div",{class:["v-progress-linear__background",$?void 0:b.value],style:[k.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),T("div",{class:["v-progress-linear__buffer",$?void 0:C.value],style:[I.value,{opacity:parseFloat(e.bufferOpacity),width:Ht(ie.value,"%")}]},null),T(cc,{name:H.value},{default:()=>[e.indeterminate?T("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(te=>T("div",{key:te,class:["v-progress-linear__indeterminate",te,$?void 0:R.value],style:L.value},null))]):T("div",{class:["v-progress-linear__determinate",$?void 0:R.value],style:[L.value,{width:Ht(re.value,"%")}]},null)]}),n.default&&T("div",{class:"v-progress-linear__content"},[n.default({value:re.value,buffer:ie.value})])]})),{}}}),xv=We({loading:[Boolean,String]},"loader");function wv(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();return{loaderClasses:Y(()=>({[`${t}--loading`]:e.loading}))}}function hx(e,t){var r;let{slots:n}=t;return T("div",{class:`${e.name}__loader`},[((r=n.default)==null?void 0:r.call(n,{color:e.color,isActive:e.active}))||T(bv,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}function LV(){const e=Kr("useRoute");return Y(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function QA(){var e,t;return(t=(e=Kr("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function wm(e,t){var y,b;const n=aO("RouterLink"),r=Y(()=>!!(e.href||e.to)),s=Y(()=>(r==null?void 0:r.value)||ok(t,"click")||ok(e,"click"));if(typeof n=="string"||!("useLink"in n))return{isLink:r,isClickable:s,href:bt(e,"href")};const u=Y(()=>({...e,to:bt(()=>e.to||"")})),h=n.useLink(u.value),o=Y(()=>e.to?h:void 0),p=LV();return{isLink:r,isClickable:s,route:(y=o.value)==null?void 0:y.route,navigate:(b=o.value)==null?void 0:b.navigate,isActive:Y(()=>{var k,C,I;return o.value?e.exact?p.value?((I=o.value.isExactActive)==null?void 0:I.value)&&xl(o.value.route.value.query,p.value.query):((C=o.value.isExactActive)==null?void 0:C.value)??!1:((k=o.value.isActive)==null?void 0:k.value)??!1:!1}),href:Y(()=>{var k;return e.to?(k=o.value)==null?void 0:k.route.value.href:e.href})}}const Sv=We({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let M_=!1;function RV(e,t){let n=!1,r,s;hr&&(Jn(()=>{window.addEventListener("popstate",u),r=e==null?void 0:e.beforeEach((h,o,p)=>{M_?n?t(p):p():setTimeout(()=>n?t(p):p()),M_=!0}),s=e==null?void 0:e.afterEach(()=>{M_=!1})}),pa(()=>{window.removeEventListener("popstate",u),r==null||r(),s==null||s()}));function u(h){var o;(o=h.state)!=null&&o.replaced||(n=!0,setTimeout(()=>n=!1))}}function OV(e,t){ct(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&Jn(()=>{t(!0)})},{immediate:!0})}const Fb=Symbol("rippleStop"),FV=80;function Nk(e,t){e.style.transform=t,e.style.webkitTransform=t}function zb(e){return e.constructor.name==="TouchEvent"}function eE(e){return e.constructor.name==="KeyboardEvent"}const zV=function(e,t){var k;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,s=0;if(!eE(e)){const C=t.getBoundingClientRect(),I=zb(e)?e.touches[e.touches.length-1]:e;r=I.clientX-C.left,s=I.clientY-C.top}let u=0,h=.3;(k=t._ripple)!=null&&k.circle?(h=.15,u=t.clientWidth/2,u=n.center?u:u+Math.sqrt((r-u)**2+(s-u)**2)/4):u=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const o=`${(t.clientWidth-u*2)/2}px`,p=`${(t.clientHeight-u*2)/2}px`,y=n.center?o:`${r-u}px`,b=n.center?p:`${s-u}px`;return{radius:u,scale:h,x:y,y:b,centerX:o,centerY:p}},Ug={show(e,t){var I;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((I=t==null?void 0:t._ripple)!=null&&I.enabled))return;const r=document.createElement("span"),s=document.createElement("span");r.appendChild(s),r.className="v-ripple__container",n.class&&(r.className+=` ${n.class}`);const{radius:u,scale:h,x:o,y:p,centerX:y,centerY:b}=zV(e,t,n),k=`${u*2}px`;s.className="v-ripple__animation",s.style.width=k,s.style.height=k,t.appendChild(r);const C=window.getComputedStyle(t);C&&C.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),s.classList.add("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--visible"),Nk(s,`translate(${o}, ${p}) scale3d(${h},${h},${h})`),s.dataset.activated=String(performance.now()),setTimeout(()=>{s.classList.remove("v-ripple__animation--enter"),s.classList.add("v-ripple__animation--in"),Nk(s,`translate(${y}, ${b}) scale3d(1,1,1)`)},0)},hide(e){var u;if(!((u=e==null?void 0:e._ripple)!=null&&u.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const r=performance.now()-Number(n.dataset.activated),s=Math.max(250-r,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var o;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((o=n.parentNode)==null?void 0:o.parentNode)===e&&e.removeChild(n.parentNode)},300)},s)}};function tE(e){return typeof e>"u"||!!e}function Yf(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[Fb])){if(e[Fb]=!0,zb(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||eE(e),n._ripple.class&&(t.class=n._ripple.class),zb(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{Ug.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var r;(r=n==null?void 0:n._ripple)!=null&&r.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},FV)}else Ug.show(e,n,t)}}function $k(e){e[Fb]=!0}function es(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{es(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),Ug.hide(t)}}function nE(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let Zf=!1;function rE(e){!Zf&&(e.keyCode===tk.enter||e.keyCode===tk.space)&&(Zf=!0,Yf(e))}function iE(e){Zf=!1,es(e)}function aE(e){Zf&&(Zf=!1,es(e))}function sE(e,t,n){const{value:r,modifiers:s}=t,u=tE(r);if(u||Ug.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=u,e._ripple.centered=s.center,e._ripple.circle=s.circle,lA(r)&&r.class&&(e._ripple.class=r.class),u&&!n){if(s.stop){e.addEventListener("touchstart",$k,{passive:!0}),e.addEventListener("mousedown",$k);return}e.addEventListener("touchstart",Yf,{passive:!0}),e.addEventListener("touchend",es,{passive:!0}),e.addEventListener("touchmove",nE,{passive:!0}),e.addEventListener("touchcancel",es),e.addEventListener("mousedown",Yf),e.addEventListener("mouseup",es),e.addEventListener("mouseleave",es),e.addEventListener("keydown",rE),e.addEventListener("keyup",iE),e.addEventListener("blur",aE),e.addEventListener("dragstart",es,{passive:!0})}else!u&&n&&oE(e)}function oE(e){e.removeEventListener("mousedown",Yf),e.removeEventListener("touchstart",Yf),e.removeEventListener("touchend",es),e.removeEventListener("touchmove",nE),e.removeEventListener("touchcancel",es),e.removeEventListener("mouseup",es),e.removeEventListener("mouseleave",es),e.removeEventListener("keydown",rE),e.removeEventListener("keyup",iE),e.removeEventListener("dragstart",es),e.removeEventListener("blur",aE)}function BV(e,t){sE(e,t,!1)}function VV(e){delete e._ripple,oE(e)}function NV(e,t){if(t.value===t.oldValue)return;const n=tE(t.oldValue);sE(e,t,n)}const wu={mounted:BV,unmounted:VV,updated:NV},fx=We({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:XA},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:pn,appendIcon:pn,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Ps(),...un(),...Ya(),...os(),...cs(),..._m(),...xv(),...bu(),...gm(),...Mi(),...Sv(),...Zd(),...Kn({tag:"button"}),...br(),...oo({variant:"elevated"})},"VBtn"),Jt=ht()({name:"VBtn",props:fx(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Br(e),{borderClasses:u}=so(e),{densityClasses:h}=Ms(e),{dimensionStyles:o}=ls(e),{elevationClasses:p}=Ds(e),{loaderClasses:y}=wv(e),{locationStyles:b}=Wd(e),{positionClasses:k}=vm(e),{roundedClasses:C}=$i(e),{sizeClasses:I,sizeStyles:R}=xm(e),L=bm(e,e.symbol,!1),O=wm(e,n),B=Y(()=>{var ae;return e.active!==void 0?e.active:O.isLink.value?(ae=O.isActive)==null?void 0:ae.value:L==null?void 0:L.isSelected.value}),q=Y(()=>B.value?e.activeColor??e.color:e.color),J=Y(()=>{var te,be;return{color:(L==null?void 0:L.isSelected.value)&&(!O.isLink.value||((te=O.isActive)==null?void 0:te.value))||!L||((be=O.isActive)==null?void 0:be.value)?q.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:ee,colorStyles:ie,variantClasses:re}=xu(J),le=Y(()=>(L==null?void 0:L.disabled.value)||e.disabled),H=Y(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),$=Y(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function Z(ae){var te;le.value||O.isLink.value&&(ae.metaKey||ae.ctrlKey||ae.shiftKey||ae.button!==0||n.target==="_blank")||((te=O.navigate)==null||te.call(O,ae),L==null||L.toggle())}return OV(O,L==null?void 0:L.select),kt(()=>{const ae=O.isLink.value?"a":e.tag,te=!!(e.prependIcon||r.prepend),be=!!(e.appendIcon||r.append),me=!!(e.icon&&e.icon!==!0);return _i(T(ae,{type:ae==="a"?void 0:"button",class:["v-btn",L==null?void 0:L.selectedClass.value,{"v-btn--active":B.value,"v-btn--block":e.block,"v-btn--disabled":le.value,"v-btn--elevated":H.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},s.value,u.value,ee.value,h.value,p.value,y.value,k.value,C.value,I.value,re.value,e.class],style:[ie.value,o.value,b.value,R.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:le.value||void 0,href:O.href.value,tabindex:e.loading||e.readonly?-1:void 0,onClick:Z,value:$.value},{default:()=>{var Pe;return[_c(!0,"v-btn"),!e.icon&&te&&T("span",{key:"prepend",class:"v-btn__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},r.prepend):T(rr,{key:"prepend-icon",icon:e.prependIcon},null)]),T("span",{class:"v-btn__content","data-no-activator":""},[!r.default&&me?T(rr,{key:"content-icon",icon:e.icon},null):T(Bn,{key:"content-defaults",disabled:!me,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var Ae;return[((Ae=r.default)==null?void 0:Ae.call(r))??e.text]}})]),!e.icon&&be&&T("span",{key:"append",class:"v-btn__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},r.append):T(rr,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&T("span",{key:"loader",class:"v-btn__loader"},[((Pe=r.loader)==null?void 0:Pe.call(r))??T(dx,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[wu,!le.value&&e.ripple,"",{center:!!e.icon}]])}),{group:L}}}),lE=We({hideDayHeader:Boolean,intervals:{type:Number,default:24},...YA()},"VCalendarDay"),yg=ht()({name:"VCalendarDay",props:lE(),setup(e){const t=Fo(),n=Y(()=>[...Array.from({length:e.intervals},(r,s)=>s).filter((r,s)=>e.intervalDuration*(s+e.intervalStart)<1440)]);return kt(()=>{const r=Ob.filterProps(e);return T("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&T("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[t.format(e.day.date,"weekdayShort"),T("div",null,[T(Jt,{icon:!0,text:t.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),n.value.map((s,u)=>T(Ob,lt({index:u},r),null))])}),{intervals:n}}}),cE=We({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),Bb=ht()({name:"VCalendarHeader",props:cE(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,t){let{emit:n}=t;const{t:r}=li();function s(){n("click:prev")}function u(){n("click:next")}function h(){n("click:toToday")}return kt(()=>T("div",{class:"v-calendar-header"},[e.text&&T(Jt,{key:"today",class:"v-calendar-header__today",text:r(e.text),variant:"outlined",onClick:h},null),T(Jt,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:s},null),T(Jt,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:u},null),T("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),Su=We({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),ks=(e,t)=>{let{slots:n}=t;const{transition:r,disabled:s,group:u,...h}=e,{component:o=u?Y0:cc,...p}=typeof r=="object"?r:{};return ei(o,lt(typeof r=="string"?{name:s?"":r}:p,typeof r=="string"?{}:Object.fromEntries(Object.entries({disabled:s,group:u}).filter(y=>{let[b,k]=y;return k!==void 0})),h),n)},$V=We({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:pn,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...un(),...bu({location:"top end"}),...Mi(),...Kn(),...br(),...Su({transition:"scale-rotate-transition"})},"VBadge"),UV=ht()({name:"VBadge",inheritAttrs:!1,props:$V(),setup(e,t){const{backgroundColorClasses:n,backgroundColorStyles:r}=yi(bt(e,"color")),{roundedClasses:s}=$i(e),{t:u}=li(),{textColorClasses:h,textColorStyles:o}=Ga(bt(e,"textColor")),{themeClasses:p}=kB(),{locationStyles:y}=Wd(e,!0,b=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(b)?+(e.offsetY??0):["left","right"].includes(b)?+(e.offsetX??0):0));return kt(()=>{const b=Number(e.content),k=!e.max||isNaN(b)?e.content:b<=+e.max?b:`${e.max}+`,[C,I]=Sb(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return T(e.tag,lt({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},I,{style:e.style}),{default:()=>{var R,L;return[T("div",{class:"v-badge__wrapper"},[(L=(R=t.slots).default)==null?void 0:L.call(R),T(ks,{transition:e.transition},{default:()=>{var O,B;return[_i(T("span",lt({class:["v-badge__badge",p.value,n.value,s.value,h.value],style:[r.value,o.value,e.inline?{}:y.value],"aria-atomic":"true","aria-label":u(e.label,b),"aria-live":"polite",role:"status"},C),[e.dot?void 0:t.slots.badge?(B=(O=t.slots).badge)==null?void 0:B.call(O):e.icon?T(rr,{icon:e.icon},null):k]),[[bl,e.modelValue]])]}})])]}})}),{}}}),qV=We({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function us(e,t,n){return ht()({name:e,props:qV({mode:n,origin:t}),setup(r,s){let{slots:u}=s;const h={onBeforeEnter(o){r.origin&&(o.style.transformOrigin=r.origin)},onLeave(o){if(r.leaveAbsolute){const{offsetTop:p,offsetLeft:y,offsetWidth:b,offsetHeight:k}=o;o._transitionInitialStyles={position:o.style.position,top:o.style.top,left:o.style.left,width:o.style.width,height:o.style.height},o.style.position="absolute",o.style.top=`${p}px`,o.style.left=`${y}px`,o.style.width=`${b}px`,o.style.height=`${k}px`}r.hideOnLeave&&o.style.setProperty("display","none","important")},onAfterLeave(o){if(r.leaveAbsolute&&(o!=null&&o._transitionInitialStyles)){const{position:p,top:y,left:b,width:k,height:C}=o._transitionInitialStyles;delete o._transitionInitialStyles,o.style.position=p||"",o.style.top=y||"",o.style.left=b||"",o.style.width=k||"",o.style.height=C||""}}};return()=>{const o=r.group?Y0:cc;return ei(o,{name:r.disabled?"":e,css:!r.disabled,...r.group?void 0:{mode:r.mode},...r.disabled?{}:h},u.default)}}})}function uE(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ht()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(r,s){let{slots:u}=s;const h=r.group?Y0:cc;return()=>ei(h,{name:r.disabled?"":e,css:!r.disabled,...r.disabled?{}:t},u.default)}})}function dE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",r=is(`offset-${n}`);return{onBeforeEnter(h){h._parent=h.parentNode,h._initialStyle={transition:h.style.transition,overflow:h.style.overflow,[n]:h.style[n]}},onEnter(h){const o=h._initialStyle;h.style.setProperty("transition","none","important"),h.style.overflow="hidden";const p=`${h[r]}px`;h.style[n]="0",h.offsetHeight,h.style.transition=o.transition,e&&h._parent&&h._parent.classList.add(e),requestAnimationFrame(()=>{h.style[n]=p})},onAfterEnter:u,onEnterCancelled:u,onLeave(h){h._initialStyle={transition:"",overflow:h.style.overflow,[n]:h.style[n]},h.style.overflow="hidden",h.style[n]=`${h[r]}px`,h.offsetHeight,requestAnimationFrame(()=>h.style[n]="0")},onAfterLeave:s,onLeaveCancelled:s};function s(h){e&&h._parent&&h._parent.classList.remove(e),u(h)}function u(h){const o=h._initialStyle[n];h.style.overflow=h._initialStyle.overflow,o!=null&&(h.style[n]=o),delete h._initialStyle}}const jV=We({target:[Object,Array]},"v-dialog-transition"),mx=ht()({name:"VDialogTransition",props:jV(),setup(e,t){let{slots:n}=t;const r={onBeforeEnter(s){s.style.pointerEvents="none",s.style.visibility="hidden"},async onEnter(s,u){var C;await new Promise(I=>requestAnimationFrame(I)),await new Promise(I=>requestAnimationFrame(I)),s.style.visibility="";const{x:h,y:o,sx:p,sy:y,speed:b}=qk(e.target,s),k=Jc(s,[{transform:`translate(${h}px, ${o}px) scale(${p}, ${y})`,opacity:0},{}],{duration:225*b,easing:vz});(C=Uk(s))==null||C.forEach(I=>{Jc(I,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*b,easing:jf})}),k.finished.then(()=>u())},onAfterEnter(s){s.style.removeProperty("pointer-events")},onBeforeLeave(s){s.style.pointerEvents="none"},async onLeave(s,u){var C;await new Promise(I=>requestAnimationFrame(I));const{x:h,y:o,sx:p,sy:y,speed:b}=qk(e.target,s);Jc(s,[{},{transform:`translate(${h}px, ${o}px) scale(${p}, ${y})`,opacity:0}],{duration:125*b,easing:yz}).finished.then(()=>u()),(C=Uk(s))==null||C.forEach(I=>{Jc(I,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*b,easing:jf})})},onAfterLeave(s){s.style.removeProperty("pointer-events")}};return()=>e.target?T(cc,lt({name:"dialog-transition"},r,{css:!1}),n):T(cc,{name:"dialog-transition"},n)}});function Uk(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function qk(e,t){const n=gA(e),r=tx(t),[s,u]=getComputedStyle(t).transformOrigin.split(" ").map(B=>parseFloat(B)),[h,o]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let p=n.left+n.width/2;h==="left"||o==="left"?p-=n.width/2:(h==="right"||o==="right")&&(p+=n.width/2);let y=n.top+n.height/2;h==="top"||o==="top"?y-=n.height/2:(h==="bottom"||o==="bottom")&&(y+=n.height/2);const b=n.width/r.width,k=n.height/r.height,C=Math.max(1,b,k),I=b/C||0,R=k/C||0,L=r.width*r.height/(window.innerWidth*window.innerHeight),O=L>.12?Math.min(1.5,(L-.12)*10+1):1;return{x:p-(s+r.left),y:y-(u+r.top),sx:I,sy:R,speed:O}}us("fab-transition","center center","out-in");us("dialog-bottom-transition");us("dialog-top-transition");const Vb=us("fade-transition");us("scale-transition");us("scroll-x-transition");us("scroll-x-reverse-transition");us("scroll-y-transition");us("scroll-y-reverse-transition");us("slide-x-transition");us("slide-x-reverse-transition");const hE=us("slide-y-transition");us("slide-y-reverse-transition");const px=uE("expand-transition",dE()),fE=uE("expand-x-transition",dE("",!0));function HV(e){return{aspectStyles:Y(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const mE=We({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...un(),...os()},"VResponsive"),jk=ht()({name:"VResponsive",props:mE(),setup(e,t){let{slots:n}=t;const{aspectStyles:r}=HV(e),{dimensionStyles:s}=ls(e);return kt(()=>{var u;return T("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[s.value,e.style]},[T("div",{class:"v-responsive__sizer",style:r.value},null),(u=n.additional)==null?void 0:u.call(n),n.default&&T("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function GV(e,t){if(!Z0)return;const n=t.modifiers||{},r=t.value,{handler:s,options:u}=typeof r=="object"?r:{handler:r,options:{}},h=new IntersectionObserver(function(){var k;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],p=arguments.length>1?arguments[1]:void 0;const y=(k=e._observe)==null?void 0:k[t.instance.$.uid];if(!y)return;const b=o.some(C=>C.isIntersecting);s&&(!n.quiet||y.init)&&(!n.once||b||y.init)&&s(b,o,p),b&&n.once?pE(e,t):y.init=!0},u);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:h},h.observe(e)}function pE(e,t){var r;const n=(r=e._observe)==null?void 0:r[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const gx={mounted:GV,unmounted:pE},WV=We({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...mE(),...un(),...Mi(),...Su()},"VImg"),Sm=ht()({name:"VImg",directives:{intersect:gx},props:WV(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(bt(e,"color")),{roundedClasses:h}=$i(e),o=Kr("VImg"),p=Rt(""),y=dt(),b=Rt(e.eager?"loading":"idle"),k=Rt(),C=Rt(),I=Y(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),R=Y(()=>I.value.aspect||k.value/C.value||0);ct(()=>e.src,()=>{L(b.value!=="idle")}),ct(R,(te,be)=>{!te&&be&&y.value&&ee(y.value)}),V0(()=>L());function L(te){if(!(e.eager&&te)&&!(Z0&&!te&&!e.eager)){if(b.value="loading",I.value.lazySrc){const be=new Image;be.src=I.value.lazySrc,ee(be,null)}I.value.src&&Jn(()=>{var be;n("loadstart",((be=y.value)==null?void 0:be.currentSrc)||I.value.src),setTimeout(()=>{var me;if(!o.isUnmounted)if((me=y.value)!=null&&me.complete){if(y.value.naturalWidth||B(),b.value==="error")return;R.value||ee(y.value,null),b.value==="loading"&&O()}else R.value||ee(y.value),q()})})}}function O(){var te;o.isUnmounted||(q(),ee(y.value),b.value="loaded",n("load",((te=y.value)==null?void 0:te.currentSrc)||I.value.src))}function B(){var te;o.isUnmounted||(b.value="error",n("error",((te=y.value)==null?void 0:te.currentSrc)||I.value.src))}function q(){const te=y.value;te&&(p.value=te.currentSrc||te.src)}let J=-1;_r(()=>{clearTimeout(J)});function ee(te){let be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const me=()=>{if(clearTimeout(J),o.isUnmounted)return;const{naturalHeight:Pe,naturalWidth:Ae}=te;Pe||Ae?(k.value=Ae,C.value=Pe):!te.complete&&b.value==="loading"&&be!=null?J=window.setTimeout(me,be):(te.currentSrc.endsWith(".svg")||te.currentSrc.startsWith("data:image/svg+xml"))&&(k.value=1,C.value=1)};me()}const ie=Y(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),re=()=>{var me;if(!I.value.src||b.value==="idle")return null;const te=T("img",{class:["v-img__img",ie.value],style:{objectPosition:e.position},src:I.value.src,srcset:I.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:y,onLoad:O,onError:B},null),be=(me=r.sources)==null?void 0:me.call(r);return T(ks,{transition:e.transition,appear:!0},{default:()=>[_i(be?T("picture",{class:"v-img__picture"},[be,te]):te,[[bl,b.value==="loaded"]])]})},le=()=>T(ks,{transition:e.transition},{default:()=>[I.value.lazySrc&&b.value!=="loaded"&&T("img",{class:["v-img__img","v-img__img--preload",ie.value],style:{objectPosition:e.position},src:I.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),H=()=>r.placeholder?T(ks,{transition:e.transition,appear:!0},{default:()=>[(b.value==="loading"||b.value==="error"&&!r.error)&&T("div",{class:"v-img__placeholder"},[r.placeholder()])]}):null,$=()=>r.error?T(ks,{transition:e.transition,appear:!0},{default:()=>[b.value==="error"&&T("div",{class:"v-img__error"},[r.error()])]}):null,Z=()=>e.gradient?T("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,ae=Rt(!1);{const te=ct(R,be=>{be&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{ae.value=!0})}),te())})}return kt(()=>{const te=jk.filterProps(e);return _i(T(jk,lt({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!ae.value},s.value,h.value,e.class],style:[{width:Ht(e.width==="auto"?k.value:e.width)},u.value,e.style]},te,{aspectRatio:R.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>T(Gt,null,[T(re,null,null),T(le,null,null),T(Z,null,null),T(H,null,null),T($,null,null)]),default:r.default}),[[ao("intersect"),{handler:L,options:e.options},null,{once:!0}]])}),{currentSrc:p,image:y,state:b,naturalWidth:k,naturalHeight:C}}}),YV=We({start:Boolean,end:Boolean,icon:pn,image:String,text:String,...Ps(),...un(),...Ya(),...Mi(),...Zd(),...Kn(),...br(),...oo({variant:"flat"})},"VAvatar"),Mo=ht()({name:"VAvatar",props:YV(),setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{borderClasses:s}=so(e),{colorClasses:u,colorStyles:h,variantClasses:o}=xu(e),{densityClasses:p}=Ms(e),{roundedClasses:y}=$i(e),{sizeClasses:b,sizeStyles:k}=xm(e);return kt(()=>T(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},r.value,s.value,u.value,p.value,y.value,b.value,o.value,e.class],style:[h.value,k.value,e.style]},{default:()=>[n.default?T(Bn,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?T(Sm,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?T(rr,{key:"icon",icon:e.icon},null):e.text,_c(!1,"v-avatar")]})),{}}});function ZV(e){let{selectedElement:t,containerElement:n,isRtl:r,isHorizontal:s}=e;const u=Kf(s,n),h=gE(s,r,n),o=Kf(s,t),p=vE(s,t),y=o*.4;return h>p?p-y:h+u<p+o?p-u+o+y:h}function KV(e){let{selectedElement:t,containerElement:n,isHorizontal:r}=e;const s=Kf(r,n),u=vE(r,t),h=Kf(r,t);return u-s/2+h/2}function Hk(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function XV(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function gE(e,t,n){if(!n)return 0;const{scrollLeft:r,offsetWidth:s,scrollWidth:u}=n;return e?t?u-s+r:r:n.scrollTop}function Kf(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function vE(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const JV=Symbol.for("vuetify:v-slide-group"),vx=We({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:JV},nextIcon:{type:pn,default:"$next"},prevIcon:{type:pn,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...un(),...Gd({mobile:null}),...Kn(),...ym({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),qg=ht()({name:"VSlideGroup",props:vx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:r}=Wa(),{displayClasses:s,mobile:u}=wl(e),h=Yd(e,e.symbol),o=Rt(!1),p=Rt(0),y=Rt(0),b=Rt(0),k=Y(()=>e.direction==="horizontal"),{resizeRef:C,contentRect:I}=uc(),{resizeRef:R,contentRect:L}=uc(),O=vB(),B=Y(()=>({container:C.el,duration:200,easing:"easeOutQuart"})),q=Y(()=>h.selected.value.length?h.items.value.findIndex(Ve=>Ve.id===h.selected.value[0]):-1),J=Y(()=>h.selected.value.length?h.items.value.findIndex(Ve=>Ve.id===h.selected.value[h.selected.value.length-1]):-1);if(hr){let Ve=-1;ct(()=>[h.selected.value,I.value,L.value,k.value],()=>{cancelAnimationFrame(Ve),Ve=requestAnimationFrame(()=>{if(I.value&&L.value){const $e=k.value?"width":"height";y.value=I.value[$e],b.value=L.value[$e],o.value=y.value+1<b.value}if(q.value>=0&&R.el){const $e=R.el.children[J.value];ie($e,e.centerActive)}})})}const ee=Rt(!1);function ie(Ve,$e){let qe=0;$e?qe=KV({containerElement:C.el,isHorizontal:k.value,selectedElement:Ve}):qe=ZV({containerElement:C.el,isHorizontal:k.value,isRtl:r.value,selectedElement:Ve}),re(qe)}function re(Ve){if(!hr||!C.el)return;const $e=Kf(k.value,C.el),qe=gE(k.value,r.value,C.el);if(!(Hk(k.value,C.el)<=$e||Math.abs(Ve-qe)<16)){if(k.value&&r.value&&C.el){const{scrollWidth:Ct,offsetWidth:$t}=C.el;Ve=Ct-$t-Ve}k.value?O.horizontal(Ve,B.value):O(Ve,B.value)}}function le(Ve){const{scrollTop:$e,scrollLeft:qe}=Ve.target;p.value=k.value?qe:$e}function H(Ve){if(ee.value=!0,!(!o.value||!R.el)){for(const $e of Ve.composedPath())for(const qe of R.el.children)if(qe===$e){ie(qe);return}}}function $(Ve){ee.value=!1}let Z=!1;function ae(Ve){var $e;!Z&&!ee.value&&!(Ve.relatedTarget&&(($e=R.el)!=null&&$e.contains(Ve.relatedTarget)))&&me(),Z=!1}function te(){Z=!0}function be(Ve){if(!R.el)return;function $e(qe){Ve.preventDefault(),me(qe)}k.value?Ve.key==="ArrowRight"?$e(r.value?"prev":"next"):Ve.key==="ArrowLeft"&&$e(r.value?"next":"prev"):Ve.key==="ArrowDown"?$e("next"):Ve.key==="ArrowUp"&&$e("prev"),Ve.key==="Home"?$e("first"):Ve.key==="End"&&$e("last")}function me(Ve){var qe,gt;if(!R.el)return;let $e;if(!Ve)$e=Uf(R.el)[0];else if(Ve==="next"){if($e=(qe=R.el.querySelector(":focus"))==null?void 0:qe.nextElementSibling,!$e)return me("first")}else if(Ve==="prev"){if($e=(gt=R.el.querySelector(":focus"))==null?void 0:gt.previousElementSibling,!$e)return me("last")}else Ve==="first"?$e=R.el.firstElementChild:Ve==="last"&&($e=R.el.lastElementChild);$e&&$e.focus({preventScroll:!0})}function Pe(Ve){const $e=k.value&&r.value?-1:1,qe=(Ve==="prev"?-$e:$e)*y.value;let gt=p.value+qe;if(k.value&&r.value&&C.el){const{scrollWidth:Ct,offsetWidth:$t}=C.el;gt+=Ct-$t}re(gt)}const Ae=Y(()=>({next:h.next,prev:h.prev,select:h.select,isSelected:h.isSelected})),Ue=Y(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!u.value;case!0:return o.value||Math.abs(p.value)>0;case"mobile":return u.value||o.value||Math.abs(p.value)>0;default:return!u.value&&(o.value||Math.abs(p.value)>0)}}),Fe=Y(()=>Math.abs(p.value)>1),Ce=Y(()=>{if(!C.value)return!1;const Ve=Hk(k.value,C.el),$e=XV(k.value,C.el);return Ve-$e-Math.abs(p.value)>1});return kt(()=>T(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!k.value,"v-slide-group--has-affixes":Ue.value,"v-slide-group--is-overflowing":o.value},s.value,e.class],style:e.style,tabindex:ee.value||h.selected.value.length?-1:0,onFocus:ae},{default:()=>{var Ve,$e,qe;return[Ue.value&&T("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!Fe.value}],onMousedown:te,onClick:()=>Fe.value&&Pe("prev")},[((Ve=n.prev)==null?void 0:Ve.call(n,Ae.value))??T(Vb,null,{default:()=>[T(rr,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),T("div",{key:"container",ref:C,class:"v-slide-group__container",onScroll:le},[T("div",{ref:R,class:"v-slide-group__content",onFocusin:H,onFocusout:$,onKeydown:be},[($e=n.default)==null?void 0:$e.call(n,Ae.value)])]),Ue.value&&T("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!Ce.value}],onMousedown:te,onClick:()=>Ce.value&&Pe("next")},[((qe=n.next)==null?void 0:qe.call(n,Ae.value))??T(Vb,null,{default:()=>[T(rr,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:h.selected,scrollTo:Pe,scrollOffset:p,focus:me,hasPrev:Fe,hasNext:Ce}}}),yE=Symbol.for("vuetify:v-chip-group"),QV=We({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:xl},...vx(),...un(),...ym({selectedClass:"v-chip--selected"}),...Kn(),...br(),...oo({variant:"tonal"})},"VChipGroup");ht()({name:"VChipGroup",props:QV(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{isSelected:s,select:u,next:h,prev:o,selected:p}=Yd(e,yE);return ma({VChip:{color:bt(e,"color"),disabled:bt(e,"disabled"),filter:bt(e,"filter"),variant:bt(e,"variant")}}),kt(()=>{const y=qg.filterProps(e);return T(qg,lt(y,{class:["v-chip-group",{"v-chip-group--column":e.column},r.value,e.class],style:e.style}),{default:()=>{var b;return[(b=n.default)==null?void 0:b.call(n,{isSelected:s,select:u,next:h,prev:o,selected:p.value})]}})}),{}}});const e3=We({activeClass:String,appendAvatar:String,appendIcon:pn,closable:Boolean,closeIcon:{type:pn,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:pn,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Di(),onClickOnce:Di(),...Ps(),...un(),...Ya(),...cs(),..._m(),...Mi(),...Sv(),...Zd(),...Kn({tag:"span"}),...br(),...oo({variant:"tonal"})},"VChip"),vl=ht()({name:"VChip",directives:{Ripple:wu},props:e3(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=li(),{borderClasses:h}=so(e),{colorClasses:o,colorStyles:p,variantClasses:y}=xu(e),{densityClasses:b}=Ms(e),{elevationClasses:k}=Ds(e),{roundedClasses:C}=$i(e),{sizeClasses:I}=xm(e),{themeClasses:R}=Br(e),L=fn(e,"modelValue"),O=bm(e,yE,!1),B=wm(e,n),q=Y(()=>e.link!==!1&&B.isLink.value),J=Y(()=>!e.disabled&&e.link!==!1&&(!!O||e.link||B.isClickable.value)),ee=Y(()=>({"aria-label":u(e.closeLabel),onClick(le){le.preventDefault(),le.stopPropagation(),L.value=!1,r("click:close",le)}}));function ie(le){var H;r("click",le),J.value&&((H=B.navigate)==null||H.call(B,le),O==null||O.toggle())}function re(le){(le.key==="Enter"||le.key===" ")&&(le.preventDefault(),ie(le))}return()=>{const le=B.isLink.value?"a":e.tag,H=!!(e.appendIcon||e.appendAvatar),$=!!(H||s.append),Z=!!(s.close||e.closable),ae=!!(s.filter||e.filter)&&O,te=!!(e.prependIcon||e.prependAvatar),be=!!(te||s.prepend),me=!O||O.isSelected.value;return L.value&&_i(T(le,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":J.value,"v-chip--filter":ae,"v-chip--pill":e.pill},R.value,h.value,me?o.value:void 0,b.value,k.value,C.value,I.value,y.value,O==null?void 0:O.selectedClass.value,e.class],style:[me?p.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:B.href.value,tabindex:J.value?0:void 0,onClick:ie,onKeydown:J.value&&!q.value&&re},{default:()=>{var Pe;return[_c(J.value,"v-chip"),ae&&T(fE,{key:"filter"},{default:()=>[_i(T("div",{class:"v-chip__filter"},[s.filter?T(Bn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},s.filter):T(rr,{key:"filter-icon",icon:e.filterIcon},null)]),[[bl,O.isSelected.value]])]}),be&&T("div",{key:"prepend",class:"v-chip__prepend"},[s.prepend?T(Bn,{key:"prepend-defaults",disabled:!te,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},s.prepend):T(Gt,null,[e.prependIcon&&T(rr,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&T(Mo,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),T("div",{class:"v-chip__content","data-no-activator":""},[((Pe=s.default)==null?void 0:Pe.call(s,{isSelected:O==null?void 0:O.isSelected.value,selectedClass:O==null?void 0:O.selectedClass.value,select:O==null?void 0:O.select,toggle:O==null?void 0:O.toggle,value:O==null?void 0:O.value.value,disabled:e.disabled}))??e.text]),$&&T("div",{key:"append",class:"v-chip__append"},[s.append?T(Bn,{key:"append-defaults",disabled:!H,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},s.append):T(Gt,null,[e.appendIcon&&T(rr,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&T(Mo,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),Z&&T("button",lt({key:"close",class:"v-chip__close",type:"button"},ee.value),[s.close?T(Bn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},s.close):T(rr,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[ao("ripple"),J.value&&e.ripple,null]])}}}),t3=We({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),Gk=ht()({name:"VCalendarEvent",props:t3(),setup(e){return kt(()=>T(vl,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var t,n;return[T(UV,{inline:!0,dot:!0,color:(t=e.event)==null?void 0:t.color},null),(n=e.event)==null?void 0:n.title]}})),{}}}),n3=We({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),_E=ht()({name:"VCalendarMonthDay",props:n3(),setup(e,t){let{emit:n,slots:r}=t;return kt(()=>{var u,h,o,p,y,b,k,C,I,R,L;const s=!!(e.title||(u=r.title)!=null&&u.call(r,{title:e.title}));return T("div",{class:["v-calendar-month__day"]},[!((h=e.day)!=null&&h.isHidden)&&s&&T("div",{key:"title",class:"v-calendar-weekly__day-label"},[((o=r.title)==null?void 0:o.call(r,{title:e.title}))??T(Jt,{class:(p=e.day)!=null&&p.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(y=e.day)!=null&&y.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((b=e.day)!=null&&b.isHidden)&&T("div",{key:"content",class:"v-calendar-weekly__day-content"},[((k=r.content)==null?void 0:k.call(r))??T("div",null,[T("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(C=e.events)==null?void 0:C.filter(O=>O.allDay).map(O=>r.event?r.event({day:e.day,allDay:!0,event:O}):T(Gk,{day:e.day,event:O,allDay:!0},null))]),T("div",{class:"v-calendar-weekly__day-events-container"},[(I=e.events)==null?void 0:I.filter(O=>!O.allDay).map(O=>r.event?r.event({day:e.day,event:O,allDay:!1}):T(Gk,{day:e.day,event:O},null))])])]),!((R=e.day)!=null&&R.isHidden)&&((L=r.default)==null?void 0:L.call(r))])}),{}}}),bE=We({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"},firstDayOfWeek:[Number,String]},"calendar");function xE(e){const t=Fo(),n=fn(e,"modelValue",[],I=>Zr(I)),r=Y(()=>e.displayValue?t.date(e.displayValue):n.value.length>0?t.date(n.value[0]):e.min?t.date(e.min):Array.isArray(e.allowedDates)?t.date(e.allowedDates[0]):t.date()),s=fn(e,"year",void 0,I=>{const R=I!=null?Number(I):t.getYear(r.value);return t.startOfYear(t.setYear(t.date(),R))},I=>t.getYear(I)),u=fn(e,"month",void 0,I=>{const R=I!=null?Number(I):t.getMonth(r.value),L=t.setYear(t.startOfMonth(t.date()),t.getYear(s.value));return t.setMonth(L,R)},I=>t.getMonth(I)),h=Y(()=>{const I=Number(e.firstDayOfWeek??0);return e.weekdays.map(R=>(R+I)%7)}),o=Y(()=>{const I=t.getWeekArray(u.value,e.firstDayOfWeek),R=I.flat(),L=6*7;if(e.weeksInMonth==="static"&&R.length<L){const O=R[R.length-1];let B=[];for(let q=1;q<=L-R.length;q++)B.push(t.addDays(O,q)),q%7===0&&(I.push(B),B=[])}return I});function p(I,R){return I.filter(L=>h.value.includes(t.toJsDate(L).getDay())).map((L,O)=>{const B=t.toISO(L),q=!t.isSameMonth(L,u.value),J=t.isSameDay(L,t.startOfMonth(u.value)),ee=t.isSameDay(L,t.endOfMonth(u.value)),ie=t.isSameDay(L,u.value);return{date:L,isoDate:B,formatted:t.format(L,"keyboardDate"),year:t.getYear(L),month:t.getMonth(L),isDisabled:C(L),isWeekStart:O%7===0,isWeekEnd:O%7===6,isToday:t.isSameDay(L,R),isAdjacent:q,isHidden:q&&!e.showAdjacentMonths,isStart:J,isSelected:n.value.some(re=>t.isSameDay(L,re)),isEnd:ee,isSame:ie,localized:t.format(L,"dayOfMonth")}})}const y=Y(()=>{const I=t.startOfWeek(r.value,e.firstDayOfWeek),R=[];for(let O=0;O<=6;O++)R.push(t.addDays(I,O));const L=t.date();return p(R,L)}),b=Y(()=>{const I=o.value.flat(),R=t.date();return p(I,R)}),k=Y(()=>o.value.map(I=>I.length?hB(t,I[0]):null));function C(I){if(e.disabled)return!0;const R=t.date(I);return e.min&&t.isAfter(t.date(e.min),R)||e.max&&t.isAfter(R,t.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(L=>t.isSameDay(t.date(L),R)):typeof e.allowedDates=="function"?!e.allowedDates(R):!1}return{displayValue:r,daysInMonth:b,daysInWeek:y,genDays:p,model:n,weeksInMonth:o,weekDays:h,weekNumbers:k}}const r3=We({hideHeader:Boolean,hideWeekNumber:Boolean,...bE(),...lE(),...cE()},"VCalender"),i3=ht()({name:"VCalendar",props:r3(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,t){let{emit:n,slots:r}=t;const s=Fo(),{daysInMonth:u,daysInWeek:h,genDays:o,model:p,displayValue:y,weekNumbers:b,weekDays:k}=xE(e),C=s.getWeekdays();function I(){e.viewMode==="month"&&(p.value=[s.addMonths(y.value,1)]),e.viewMode==="week"&&(p.value=[s.addDays(y.value,7)]),e.viewMode==="day"&&(p.value=[s.addDays(y.value,1)])}function R(){e.viewMode==="month"&&(p.value=[s.addMonths(y.value,-1)]),e.viewMode==="week"&&(p.value=[s.addDays(y.value,-7)]),e.viewMode==="day"&&(p.value=[s.addDays(y.value,-1)])}function L(){p.value=[s.date()]}const O=Y(()=>s.format(y.value,"monthAndYear"));return kt(()=>{var J;const B=yg.filterProps(e),q=Bb.filterProps(e);return T("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[T("div",null,[!e.hideHeader&&(r.header?r.header({title:O.value}):T(Bb,lt({key:"calendar-header"},q,{title:O.value,"onClick:next":I,"onClick:prev":R,"onClick:toToday":L}),null))]),T("div",{class:["v-calendar__container",`days__${k.value.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&T("div",{class:["v-calendar-weekly__head",`days__${k.value.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":T("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),k.value.map(ee=>T("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[C[ee]]))]),e.viewMode==="month"&&T("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${k.value.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[FF(u.value,k.value.length).map((ee,ie)=>[e.hideWeekNumber?"":T("div",{class:"v-calendar-month__weeknumber"},[b.value[ie]]),ee.map(re=>{var le;return T(_E,{color:s.isSameDay(s.date(),re.date)?"primary":void 0,day:re,title:re?s.format(re.date,"dayOfMonth"):"NaN",events:(le=e.events)==null?void 0:le.filter(H=>s.isSameDay(re.date,H.start)||s.isSameDay(re.date,H.end))},{event:r.event})})])]),e.viewMode==="week"&&h.value.map((ee,ie)=>{var re;return T(yg,lt(B,{day:ee,dayIndex:ie,events:(re=e.events)==null?void 0:re.filter(le=>s.isSameDay(le.start,ee.date)||s.isSameDay(le.end,ee.date))}),null)}),e.viewMode==="day"&&T(yg,lt(B,{day:o([y.value],s.date())[0],dayIndex:0,events:(J=e.events)==null?void 0:J.filter(ee=>s.isSameDay(ee.start,o([y.value],s.date())[0].date)||s.isSameDay(ee.end,o([y.value],s.date())[0].date))}),null)])])}),{daysInMonth:u,daysInWeek:h,genDays:o}}}),wE=We({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),Wk=ht()({name:"VConfirmEdit",props:wE(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=fn(e,"modelValue"),u=dt();bi(()=>{u.value=structuredClone(an(s.value))});const{t:h}=li(),o=Y(()=>xl(s.value,u.value));function p(){s.value=u.value,n("save",u.value)}function y(){u.value=structuredClone(an(s.value)),n("cancel")}let b=!1;return kt(()=>{var C;const k=T(Gt,null,[T(Jt,{disabled:o.value,variant:"text",color:e.color,onClick:y,text:h(e.cancelText)},null),T(Jt,{disabled:o.value,variant:"text",color:e.color,onClick:p,text:h(e.okText)},null)]);return T(Gt,null,[(C=r.default)==null?void 0:C.call(r,{model:u,save:p,cancel:y,isPristine:o.value,get actions(){return b=!0,k}}),!b&&k])}),{save:p,cancel:y,isPristine:o}}}),a3=We({fluid:{type:Boolean,default:!1},...un(),...os(),...Kn()},"VContainer"),Ir=ht()({name:"VContainer",props:a3(),setup(e,t){let{slots:n}=t;const{rtlClasses:r}=Wa(),{dimensionStyles:s}=ls(e);return kt(()=>T(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},r.value,e.class],style:[s.value,e.style]},n)),{}}}),SE=yv.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),kE=yv.reduce((e,t)=>{const n="offset"+Ro(t);return e[n]={type:[String,Number],default:null},e},{}),CE=yv.reduce((e,t)=>{const n="order"+Ro(t);return e[n]={type:[String,Number],default:null},e},{}),Yk={col:Object.keys(SE),offset:Object.keys(kE),order:Object.keys(CE)};function s3(e,t,n){let r=e;if(!(n==null||n===!1)){if(t){const s=t.replace(e,"");r+=`-${s}`}return e==="col"&&(r="v-"+r),e==="col"&&(n===""||n===!0)||(r+=`-${n}`),r.toLowerCase()}}const o3=["auto","start","end","center","baseline","stretch"],l3=We({cols:{type:[Boolean,String,Number],default:!1},...SE,offset:{type:[String,Number],default:null},...kE,order:{type:[String,Number],default:null},...CE,alignSelf:{type:String,default:null,validator:e=>o3.includes(e)},...un(),...Kn()},"VCol"),la=ht()({name:"VCol",props:l3(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in Yk)Yk[u].forEach(o=>{const p=e[o],y=s3(u,o,p);y&&s.push(y)});const h=s.some(o=>o.startsWith("v-col-"));return s.push({"v-col":!h||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),s});return()=>{var s;return ei(e.tag,{class:[r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),yx=["start","end","center"],TE=["space-between","space-around","space-evenly"];function _x(e,t){return yv.reduce((n,r)=>{const s=e+Ro(r);return n[s]=t(),n},{})}const c3=[...yx,"baseline","stretch"],AE=e=>c3.includes(e),EE=_x("align",()=>({type:String,default:null,validator:AE})),u3=[...yx,...TE],IE=e=>u3.includes(e),PE=_x("justify",()=>({type:String,default:null,validator:IE})),d3=[...yx,...TE,"stretch"],DE=e=>d3.includes(e),ME=_x("alignContent",()=>({type:String,default:null,validator:DE})),Zk={align:Object.keys(EE),justify:Object.keys(PE),alignContent:Object.keys(ME)},h3={align:"align",justify:"justify",alignContent:"align-content"};function f3(e,t,n){let r=h3[e];if(n!=null){if(t){const s=t.replace(e,"");r+=`-${s}`}return r+=`-${n}`,r.toLowerCase()}}const m3=We({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:AE},...EE,justify:{type:String,default:null,validator:IE},...PE,alignContent:{type:String,default:null,validator:DE},...ME,...un(),...Kn()},"VRow"),Ws=ht()({name:"VRow",props:m3(),setup(e,t){let{slots:n}=t;const r=Y(()=>{const s=[];let u;for(u in Zk)Zk[u].forEach(h=>{const o=e[h],p=f3(u,h,o);p&&s.push(p)});return s.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),s});return()=>{var s;return ei(e.tag,{class:["v-row",r.value,e.class],style:e.style},(s=n.default)==null?void 0:s.call(n))}}}),Zs=Hd("v-spacer","div","VSpacer"),LE=We({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:pn,default:"$next"},prevIcon:{type:pn,default:"$prev"},modeIcon:{type:pn,default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),Kk=ht()({name:"VDatePickerControls",props:LE(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,t){let{emit:n}=t;const r=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),s=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),u=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),h=Y(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function o(){n("click:prev")}function p(){n("click:next")}function y(){n("click:year")}function b(){n("click:month")}return kt(()=>T("div",{class:["v-date-picker-controls"]},[T(Jt,{class:"v-date-picker-controls__month-btn",disabled:r.value,text:e.text,variant:"text",rounded:!0,onClick:b},null),T(Jt,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:s.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:y},null),T(Zs,{key:"mode-spacer"},null),T("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[T(Jt,{disabled:u.value,icon:e.prevIcon,variant:"text",onClick:o},null),T(Jt,{disabled:h.value,icon:e.nextIcon,variant:"text",onClick:p},null)])])),{}}}),p3=We({appendIcon:String,color:String,header:String,transition:String,onClick:Di()},"VDatePickerHeader"),Xk=ht()({name:"VDatePickerHeader",props:p3(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"color");function h(){n("click")}function o(){n("click:append")}return kt(()=>{const p=!!(r.default||e.header),y=!!(r.append||e.appendIcon);return T("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},s.value],style:u.value,onClick:h},[r.prepend&&T("div",{key:"prepend",class:"v-date-picker-header__prepend"},[r.prepend()]),p&&T(ks,{key:"content",name:e.transition},{default:()=>{var b;return[T("div",{key:e.header,class:"v-date-picker-header__content"},[((b=r.default)==null?void 0:b.call(r))??e.header])]}}),y&&T("div",{class:"v-date-picker-header__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var b;return[(b=r.append)==null?void 0:b.call(r)]}}):T(Jt,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:o},null)])])}),{}}}),RE=We({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...bE()},"VDatePickerMonth"),Jk=ht()({name:"VDatePickerMonth",props:RE(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=dt(),{daysInMonth:u,model:h,weekNumbers:o}=xE(e),p=Fo(),y=Rt(),b=Rt(),k=Rt(!1),C=Y(()=>k.value?e.reverseTransition:e.transition);e.multiple==="range"&&h.value.length>0&&(y.value=h.value[0],h.value.length>1&&(b.value=h.value[h.value.length-1]));const I=Y(()=>{const B=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return h.value.length>=B});ct(u,(B,q)=>{q&&(k.value=p.isBefore(B[0].date,q[0].date))});function R(B){const q=p.startOfDay(B);if(h.value.length===0?y.value=void 0:h.value.length===1&&(y.value=h.value[0],b.value=void 0),!y.value)y.value=q,h.value=[y.value];else if(b.value)y.value=B,b.value=void 0,h.value=[y.value];else{if(p.isSameDay(q,y.value)){y.value=void 0,h.value=[];return}else p.isBefore(q,y.value)?(b.value=p.endOfDay(y.value),y.value=q):b.value=p.endOfDay(q);const J=p.getDiff(b.value,y.value,"days"),ee=[y.value];for(let ie=1;ie<J;ie++){const re=p.addDays(y.value,ie);ee.push(re)}ee.push(b.value),h.value=ee}}function L(B){const q=h.value.findIndex(J=>p.isSameDay(J,B));if(q===-1)h.value=[...h.value,B];else{const J=[...h.value];J.splice(q,1),h.value=J}}function O(B){e.multiple==="range"?R(B):e.multiple?L(B):h.value=[B]}return()=>T("div",{class:"v-date-picker-month"},[e.showWeek&&T("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&T("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[zt(" ")]),o.value.map(B=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[B]))]),T(ks,{name:C.value},{default:()=>{var B;return[T("div",{ref:s,key:(B=u.value[0].date)==null?void 0:B.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&p.getWeekdays(e.firstDayOfWeek).map(q=>T("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[q])),u.value.map((q,J)=>{const ee={props:{onClick:()=>O(q.date)},item:q,i:J};return I.value&&!q.isSelected&&(q.isDisabled=!0),T("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":q.isAdjacent,"v-date-picker-month__day--hide-adjacent":q.isHidden,"v-date-picker-month__day--selected":q.isSelected,"v-date-picker-month__day--week-end":q.isWeekEnd,"v-date-picker-month__day--week-start":q.isWeekStart}],"data-v-date":q.isDisabled?void 0:q.isoDate},[(e.showAdjacentMonths||!q.isAdjacent)&&T(Bn,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(q.isSelected||q.isToday)&&!q.isDisabled?e.color:void 0,disabled:q.isDisabled,icon:!0,ripple:!1,text:q.localized,variant:q.isDisabled?q.isToday?"outlined":"text":q.isToday&&!q.isSelected?"outlined":"flat",onClick:()=>O(q.date)}}},{default:()=>{var ie;return[((ie=r.day)==null?void 0:ie.call(r,ee))??T(Jt,ee.props,null)]}})])})])]}})])}}),OE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),Qk=ht()({name:"VDatePickerMonths",props:OE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Fo(),u=fn(e,"modelValue"),h=Y(()=>{let o=s.startOfYear(s.date());return e.year&&(o=s.setYear(o,e.year)),Xs(12).map(p=>{const y=s.format(o,"monthShort"),b=!!(e.min&&s.isAfter(s.startOfMonth(s.date(e.min)),o)||e.max&&s.isAfter(o,s.startOfMonth(s.date(e.max))));return o=s.getNextMonth(o),{isDisabled:b,text:y,value:p}})});return bi(()=>{u.value=u.value??s.getMonth(s.date())}),kt(()=>T("div",{class:"v-date-picker-months",style:{height:Ht(e.height)}},[T("div",{class:"v-date-picker-months__content"},[h.value.map((o,p)=>{var k;const y={active:u.value===p,color:u.value===p?e.color:void 0,disabled:o.isDisabled,rounded:!0,text:o.text,variant:u.value===o.value?"flat":"text",onClick:()=>b(p)};function b(C){if(u.value===C){n("update:modelValue",u.value);return}u.value=C}return((k=r.month)==null?void 0:k.call(r,{month:o,i:p,props:y}))??T(Jt,lt({key:"month"},y),null)})])])),{}}}),FE=We({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),eC=ht()({name:"VDatePickerYears",props:FE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Fo(),u=fn(e,"modelValue"),h=Y(()=>{const p=s.getYear(s.date());let y=p-100,b=p+52;e.min&&(y=s.getYear(s.date(e.min))),e.max&&(b=s.getYear(s.date(e.max)));let k=s.startOfYear(s.date());return k=s.setYear(k,y),Xs(b-y+1,y).map(C=>{const I=s.format(k,"year");return k=s.setYear(k,s.getYear(k)+1),{text:I,value:C}})});bi(()=>{u.value=u.value??s.getYear(s.date())});const o=zg();return Ni(async()=>{var p;await Jn(),(p=o.el)==null||p.scrollIntoView({block:"center"})}),kt(()=>T("div",{class:"v-date-picker-years",style:{height:Ht(e.height)}},[T("div",{class:"v-date-picker-years__content"},[h.value.map((p,y)=>{var k;const b={ref:u.value===p.value?o:void 0,active:u.value===p.value,color:u.value===p.value?e.color:void 0,rounded:!0,text:p.text,variant:u.value===p.value?"flat":"text",onClick:()=>{if(u.value===p.value){n("update:modelValue",u.value);return}u.value=p.value}};return((k=r.year)==null?void 0:k.call(r,{year:p,i:y,props:b}))??T(Jt,lt({key:"month"},b),null)})])])),{}}}),zE=Hd("v-picker-title"),bx=We({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...ux()},"VPicker"),Xf=ht()({name:"VPicker",props:bx(),setup(e,t){let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=yi(bt(e,"color"));return kt(()=>{const u=dc.filterProps(e),h=!!(e.title||n.title);return T(dc,lt(u,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!n.actions},e.class],style:e.style}),{default:()=>{var o;return[!e.hideHeader&&T("div",{key:"header",class:[r.value],style:[s.value]},[h&&T(zE,{key:"picker-title"},{default:()=>{var p;return[((p=n.title)==null?void 0:p.call(n))??e.title]}}),n.header&&T("div",{class:"v-picker__header"},[n.header()])]),T("div",{class:"v-picker__body"},[(o=n.default)==null?void 0:o.call(n)]),n.actions&&T(Bn,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[T("div",{class:"v-picker__actions"},[n.actions()])]})]}})}),{}}}),BE=We({header:{type:String,default:"$vuetify.datePicker.header"},...LE(),...RE({weeksInMonth:"static"}),...Pr(OE(),["modelValue"]),...Pr(FE(),["modelValue"]),...bx({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),tC=ht()({name:"VDatePicker",props:BE(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=Fo(),{t:u}=li(),h=fn(e,"modelValue",void 0,$=>Zr($),$=>e.multiple?$:$[0]),o=fn(e,"viewMode"),p=Y(()=>{var Z;const $=s.date((Z=h.value)==null?void 0:Z[0]);return $&&s.isValid($)?$:s.date()}),y=dt(Number(e.month??s.getMonth(s.startOfMonth(p.value)))),b=dt(Number(e.year??s.getYear(s.startOfYear(s.setMonth(p.value,y.value))))),k=Rt(!1),C=Y(()=>e.multiple&&h.value.length>1?u("$vuetify.datePicker.itemsSelected",h.value.length):h.value[0]&&s.isValid(h.value[0])?s.format(s.date(h.value[0]),"normalDateWithWeekday"):u(e.header)),I=Y(()=>{let $=s.date();return $=s.setDate($,1),$=s.setMonth($,y.value),$=s.setYear($,b.value),s.format($,"monthAndYear")}),R=Y(()=>`date-picker-header${k.value?"-reverse":""}-transition`),L=Y(()=>{const $=s.date(e.min);return e.min&&s.isValid($)?$:null}),O=Y(()=>{const $=s.date(e.max);return e.max&&s.isValid($)?$:null}),B=Y(()=>{if(e.disabled)return!0;const $=[];if(o.value!=="month")$.push("prev","next");else{let Z=s.date();if(Z=s.setYear(Z,b.value),Z=s.setMonth(Z,y.value),L.value){const ae=s.addDays(s.startOfMonth(Z),-1);s.isAfter(L.value,ae)&&$.push("prev")}if(O.value){const ae=s.addDays(s.endOfMonth(Z),1);s.isAfter(ae,O.value)&&$.push("next")}}return $});function q(){y.value<11?y.value++:(b.value++,y.value=0,H(b.value)),le(y.value)}function J(){y.value>0?y.value--:(b.value--,y.value=11,H(b.value)),le(y.value)}function ee(){o.value="month"}function ie(){o.value=o.value==="months"?"month":"months"}function re(){o.value=o.value==="year"?"month":"year"}function le($){o.value==="months"&&ie(),n("update:month",$)}function H($){o.value==="year"&&re(),n("update:year",$)}return ct(h,($,Z)=>{const ae=Zr(Z),te=Zr($);if(!te.length)return;const be=s.date(ae[ae.length-1]),me=s.date(te[te.length-1]),Pe=s.getMonth(me),Ae=s.getYear(me);Pe!==y.value&&(y.value=Pe,le(y.value)),Ae!==b.value&&(b.value=Ae,H(b.value)),k.value=s.isBefore(be,me)}),kt(()=>{const $=Xf.filterProps(e),Z=Kk.filterProps(e),ae=Xk.filterProps(e),te=Jk.filterProps(e),be=Pr(Qk.filterProps(e),["modelValue"]),me=Pr(eC.filterProps(e),["modelValue"]),Pe={header:C.value,transition:R.value};return T(Xf,lt($,{class:["v-date-picker",`v-date-picker--${o.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var Ae;return((Ae=r.title)==null?void 0:Ae.call(r))??T("div",{class:"v-date-picker__title"},[u(e.title)])},header:()=>r.header?T(Bn,{defaults:{VDatePickerHeader:{...Pe}}},{default:()=>{var Ae;return[(Ae=r.header)==null?void 0:Ae.call(r,Pe)]}}):T(Xk,lt({key:"header"},ae,Pe,{onClick:o.value!=="month"?ee:void 0}),{...r,default:void 0}),default:()=>T(Gt,null,[T(Kk,lt(Z,{disabled:B.value,text:I.value,"onClick:next":q,"onClick:prev":J,"onClick:month":ie,"onClick:year":re}),null),T(Vb,{hideOnLeave:!0},{default:()=>[o.value==="months"?T(Qk,lt({key:"date-picker-months"},be,{modelValue:y.value,"onUpdate:modelValue":[Ae=>y.value=Ae,le],min:L.value,max:O.value,year:b.value}),null):o.value==="year"?T(eC,lt({key:"date-picker-years"},me,{modelValue:b.value,"onUpdate:modelValue":[Ae=>b.value=Ae,H],min:L.value,max:O.value}),null):T(Jk,lt({key:"date-picker-month"},te,{modelValue:h.value,"onUpdate:modelValue":Ae=>h.value=Ae,month:y.value,"onUpdate:month":[Ae=>y.value=Ae,le],year:b.value,"onUpdate:year":[Ae=>b.value=Ae,H],min:L.value,max:O.value}),null)]})]),actions:r.actions})}),{}}});function L_(e,t){return{x:e.x+t.x,y:e.y+t.y}}function g3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nC(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:r}=e,s=r==="left"?0:r==="center"?t.width/2:r==="right"?t.width:r,u=n==="top"?0:n==="bottom"?t.height:n;return L_({x:s,y:u},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:r}=e,s=n==="left"?0:n==="right"?t.width:n,u=r==="top"?0:r==="center"?t.height/2:r==="bottom"?t.height:r;return L_({x:s,y:u},t)}return L_({x:t.width/2,y:t.height/2},t)}const VE={static:_3,connected:x3},v3=We({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in VE},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function y3(e,t){const n=dt({}),r=dt();hr&&qa(()=>!!(t.isActive.value&&e.locationStrategy),u=>{var h,o;ct(()=>e.locationStrategy,u),pa(()=>{window.removeEventListener("resize",s),r.value=void 0}),window.addEventListener("resize",s,{passive:!0}),typeof e.locationStrategy=="function"?r.value=(h=e.locationStrategy(t,e,n))==null?void 0:h.updateLocation:r.value=(o=VE[e.locationStrategy](t,e,n))==null?void 0:o.updateLocation});function s(u){var h;(h=r.value)==null||h.call(r,u)}return{contentStyles:n,updateLocation:r}}function _3(){}function b3(e,t){const n=tx(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function x3(e,t,n){(Array.isArray(e.target.value)||bz(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:s,preferredOrigin:u}=J0(()=>{const R=Cb(t.location,e.isRtl.value),L=t.origin==="overlap"?R:t.origin==="auto"?A_(R):Cb(t.origin,e.isRtl.value);return R.side===L.side&&R.align===E_(L).align?{preferredAnchor:lk(R),preferredOrigin:lk(L)}:{preferredAnchor:R,preferredOrigin:L}}),[h,o,p,y]=["minWidth","minHeight","maxWidth","maxHeight"].map(R=>Y(()=>{const L=parseFloat(t[R]);return isNaN(L)?1/0:L})),b=Y(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const R=t.offset.split(" ").map(parseFloat);return R.length<2&&R.push(0),R}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let k=!1;const C=new ResizeObserver(()=>{k&&I()});ct([e.target,e.contentEl],(R,L)=>{let[O,B]=R,[q,J]=L;q&&!Array.isArray(q)&&C.unobserve(q),O&&!Array.isArray(O)&&C.observe(O),J&&C.unobserve(J),B&&C.observe(B)},{immediate:!0}),pa(()=>{C.disconnect()});function I(){if(k=!1,requestAnimationFrame(()=>k=!0),!e.target.value||!e.contentEl.value)return;const R=gA(e.target.value),L=b3(e.contentEl.value,e.isRtl.value),O=Hf(e.contentEl.value),B=12;O.length||(O.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(L.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),L.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const q=O.reduce((ae,te)=>{const be=te.getBoundingClientRect(),me=new su({x:te===document.documentElement?0:be.x,y:te===document.documentElement?0:be.y,width:te.clientWidth,height:te.clientHeight});return ae?new su({x:Math.max(ae.left,me.left),y:Math.max(ae.top,me.top),width:Math.min(ae.right,me.right)-Math.max(ae.left,me.left),height:Math.min(ae.bottom,me.bottom)-Math.max(ae.top,me.top)}):me},void 0);q.x+=B,q.y+=B,q.width-=B*2,q.height-=B*2;let J={anchor:s.value,origin:u.value};function ee(ae){const te=new su(L),be=nC(ae.anchor,R),me=nC(ae.origin,te);let{x:Pe,y:Ae}=g3(be,me);switch(ae.anchor.side){case"top":Ae-=b.value[0];break;case"bottom":Ae+=b.value[0];break;case"left":Pe-=b.value[0];break;case"right":Pe+=b.value[0];break}switch(ae.anchor.align){case"top":Ae-=b.value[1];break;case"bottom":Ae+=b.value[1];break;case"left":Pe-=b.value[1];break;case"right":Pe+=b.value[1];break}return te.x+=Pe,te.y+=Ae,te.width=Math.min(te.width,p.value),te.height=Math.min(te.height,y.value),{overflows:uk(te,q),x:Pe,y:Ae}}let ie=0,re=0;const le={x:0,y:0},H={x:!1,y:!1};let $=-1;for(;!($++>10);){const{x:ae,y:te,overflows:be}=ee(J);ie+=ae,re+=te,L.x+=ae,L.y+=te;{const me=ck(J.anchor),Pe=be.x.before||be.x.after,Ae=be.y.before||be.y.after;let Ue=!1;if(["x","y"].forEach(Fe=>{if(Fe==="x"&&Pe&&!H.x||Fe==="y"&&Ae&&!H.y){const Ce={anchor:{...J.anchor},origin:{...J.origin}},Ve=Fe==="x"?me==="y"?E_:A_:me==="y"?A_:E_;Ce.anchor=Ve(Ce.anchor),Ce.origin=Ve(Ce.origin);const{overflows:$e}=ee(Ce);($e[Fe].before<=be[Fe].before&&$e[Fe].after<=be[Fe].after||$e[Fe].before+$e[Fe].after<(be[Fe].before+be[Fe].after)/2)&&(J=Ce,Ue=H[Fe]=!0)}}),Ue)continue}be.x.before&&(ie+=be.x.before,L.x+=be.x.before),be.x.after&&(ie-=be.x.after,L.x-=be.x.after),be.y.before&&(re+=be.y.before,L.y+=be.y.before),be.y.after&&(re-=be.y.after,L.y-=be.y.after);{const me=uk(L,q);le.x=q.width-me.x.before-me.x.after,le.y=q.height-me.y.before-me.y.after,ie+=me.x.before,L.x+=me.x.before,re+=me.y.before,L.y+=me.y.before}break}const Z=ck(J.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${J.anchor.side} ${J.anchor.align}`,transformOrigin:`${J.origin.side} ${J.origin.align}`,top:Ht(R_(re)),left:e.isRtl.value?void 0:Ht(R_(ie)),right:e.isRtl.value?Ht(R_(-ie)):void 0,minWidth:Ht(Z==="y"?Math.min(h.value,R.width):h.value),maxWidth:Ht(rC(Ki(le.x,h.value===1/0?0:h.value,p.value))),maxHeight:Ht(rC(Ki(le.y,o.value===1/0?0:o.value,y.value)))}),{available:le,contentBox:L}}return ct(()=>[s.value,u.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>I()),Jn(()=>{const R=I();if(!R)return;const{available:L,contentBox:O}=R;O.height>L.y&&requestAnimationFrame(()=>{I(),requestAnimationFrame(()=>{I()})})}),{updateLocation:I}}function R_(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function rC(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Nb=!0;const jg=[];function w3(e){!Nb||jg.length?(jg.push(e),$b()):(Nb=!1,e(),$b())}let iC=-1;function $b(){cancelAnimationFrame(iC),iC=requestAnimationFrame(()=>{const e=jg.shift();e&&e(),jg.length?$b():Nb=!0})}const _g={none:null,close:C3,block:T3,reposition:A3},S3=We({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in _g}},"VOverlay-scroll-strategies");function k3(e,t){if(!hr)return;let n;bi(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=ov(),await new Promise(r=>setTimeout(r)),n.active&&n.run(()=>{var r;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(r=_g[e.scrollStrategy])==null||r.call(_g,t,e,n)}))}),pa(()=>{n==null||n.stop()})}function C3(e){function t(n){e.isActive.value=!1}NE(e.targetEl.value??e.contentEl.value,t)}function T3(e,t){var h;const n=(h=e.root.value)==null?void 0:h.offsetParent,r=[...new Set([...Hf(e.targetEl.value,t.contained?n:void 0),...Hf(e.contentEl.value,t.contained?n:void 0)])].filter(o=>!o.classList.contains("v-overlay-scroll-blocked")),s=window.innerWidth-document.documentElement.offsetWidth,u=(o=>ix(o)&&o)(n||document.documentElement);u&&e.root.value.classList.add("v-overlay--scroll-blocked"),r.forEach((o,p)=>{o.style.setProperty("--v-body-scroll-x",Ht(-o.scrollLeft)),o.style.setProperty("--v-body-scroll-y",Ht(-o.scrollTop)),o!==document.documentElement&&o.style.setProperty("--v-scrollbar-offset",Ht(s)),o.classList.add("v-overlay-scroll-blocked")}),pa(()=>{r.forEach((o,p)=>{const y=parseFloat(o.style.getPropertyValue("--v-body-scroll-x")),b=parseFloat(o.style.getPropertyValue("--v-body-scroll-y")),k=o.style.scrollBehavior;o.style.scrollBehavior="auto",o.style.removeProperty("--v-body-scroll-x"),o.style.removeProperty("--v-body-scroll-y"),o.style.removeProperty("--v-scrollbar-offset"),o.classList.remove("v-overlay-scroll-blocked"),o.scrollLeft=-y,o.scrollTop=-b,o.style.scrollBehavior=k}),u&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function A3(e,t,n){let r=!1,s=-1,u=-1;function h(o){w3(()=>{var b,k;const p=performance.now();(k=(b=e.updateLocation).value)==null||k.call(b,o),r=(performance.now()-p)/(1e3/60)>2})}u=(typeof requestIdleCallback>"u"?o=>o():requestIdleCallback)(()=>{n.run(()=>{NE(e.targetEl.value??e.contentEl.value,o=>{r?(cancelAnimationFrame(s),s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{h(o)})})):h(o)})})}),pa(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(u),cancelAnimationFrame(s)})}function NE(e,t){const n=[document,...Hf(e)];n.forEach(r=>{r.addEventListener("scroll",t,{passive:!0})}),pa(()=>{n.forEach(r=>{r.removeEventListener("scroll",t)})})}const Ub=Symbol.for("vuetify:v-menu"),$E=We({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function UE(e,t){let n=()=>{};function r(h){n==null||n();const o=Number(h?e.openDelay:e.closeDelay);return new Promise(p=>{n=VF(o,()=>{t==null||t(h),p(h)})})}function s(){return r(!0)}function u(){return r(!1)}return{clearDelay:n,runOpenDelay:s,runCloseDelay:u}}const E3=We({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...$E()},"VOverlay-activator");function I3(e,t){let{isActive:n,isTop:r,contentEl:s}=t;const u=Kr("useActivator"),h=dt();let o=!1,p=!1,y=!0;const b=Y(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),k=Y(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!b.value),{runOpenDelay:C,runCloseDelay:I}=UE(e,H=>{H===(e.openOnHover&&o||b.value&&p)&&!(e.openOnHover&&n.value&&!r.value)&&(n.value!==H&&(y=!0),n.value=H)}),R=dt(),L={onClick:H=>{H.stopPropagation(),h.value=H.currentTarget||H.target,n.value||(R.value=[H.clientX,H.clientY]),n.value=!n.value},onMouseenter:H=>{var $;($=H.sourceCapabilities)!=null&&$.firesTouchEvents||(o=!0,h.value=H.currentTarget||H.target,C())},onMouseleave:H=>{o=!1,I()},onFocus:H=>{zd(H.target,":focus-visible")!==!1&&(p=!0,H.stopPropagation(),h.value=H.currentTarget||H.target,C())},onBlur:H=>{p=!1,H.stopPropagation(),I()}},O=Y(()=>{const H={};return k.value&&(H.onClick=L.onClick),e.openOnHover&&(H.onMouseenter=L.onMouseenter,H.onMouseleave=L.onMouseleave),b.value&&(H.onFocus=L.onFocus,H.onBlur=L.onBlur),H}),B=Y(()=>{const H={};if(e.openOnHover&&(H.onMouseenter=()=>{o=!0,C()},H.onMouseleave=()=>{o=!1,I()}),b.value&&(H.onFocusin=()=>{p=!0,C()},H.onFocusout=()=>{p=!1,I()}),e.closeOnContentClick){const $=_t(Ub,null);H.onClick=()=>{n.value=!1,$==null||$.closeParents()}}return H}),q=Y(()=>{const H={};return e.openOnHover&&(H.onMouseenter=()=>{y&&(o=!0,y=!1,C())},H.onMouseleave=()=>{o=!1,I()}),H});ct(r,H=>{var $;H&&(e.openOnHover&&!o&&(!b.value||!p)||b.value&&!p&&(!e.openOnHover||!o))&&!(($=s.value)!=null&&$.contains(document.activeElement))&&(n.value=!1)}),ct(n,H=>{H||setTimeout(()=>{R.value=void 0})},{flush:"post"});const J=zg();bi(()=>{J.value&&Jn(()=>{h.value=J.el})});const ee=zg(),ie=Y(()=>e.target==="cursor"&&R.value?R.value:ee.value?ee.el:qE(e.target,u)||h.value),re=Y(()=>Array.isArray(ie.value)?void 0:ie.value);let le;return ct(()=>!!e.activator,H=>{H&&hr?(le=ov(),le.run(()=>{P3(e,u,{activatorEl:h,activatorEvents:O})})):le&&le.stop()},{flush:"post",immediate:!0}),pa(()=>{le==null||le.stop()}),{activatorEl:h,activatorRef:J,target:ie,targetEl:re,targetRef:ee,activatorEvents:O,contentEvents:B,scrimEvents:q}}function P3(e,t,n){let{activatorEl:r,activatorEvents:s}=n;ct(()=>e.activator,(p,y)=>{if(y&&p!==y){const b=o(y);b&&h(b)}p&&Jn(()=>u())},{immediate:!0}),ct(()=>e.activatorProps,()=>{u()}),pa(()=>{h()});function u(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;p&&UF(p,lt(s.value,y))}function h(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o(),y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;p&&qF(p,lt(s.value,y))}function o(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const y=qE(p,t);return r.value=(y==null?void 0:y.nodeType)===Node.ELEMENT_NODE?y:void 0,r.value}}function qE(e,t){var r,s;if(!e)return;let n;if(e==="parent"){let u=(s=(r=t==null?void 0:t.proxy)==null?void 0:r.$el)==null?void 0:s.parentNode;for(;u!=null&&u.hasAttribute("data-no-activator");)u=u.parentNode;n=u}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function D3(){if(!hr)return Rt(!1);const{ssr:e}=wl();if(e){const t=Rt(!1);return Ni(()=>{t.value=!0}),t}else return Rt(!0)}const xx=We({eager:Boolean},"lazy");function wx(e,t){const n=Rt(!1),r=Y(()=>n.value||e.eager||t.value);ct(t,()=>n.value=!0);function s(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:r,onAfterLeave:s}}function Kd(){const t=Kr("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const aC=Symbol.for("vuetify:stack"),vf=Ii([]);function M3(e,t,n){const r=Kr("useStack"),s=!n,u=_t(aC,void 0),h=Ii({activeChildren:new Set});xn(aC,h);const o=Rt(+t.value);qa(e,()=>{var k;const b=(k=vf.at(-1))==null?void 0:k[1];o.value=b?b+10:+t.value,s&&vf.push([r.uid,o.value]),u==null||u.activeChildren.add(r.uid),pa(()=>{if(s){const C=an(vf).findIndex(I=>I[0]===r.uid);vf.splice(C,1)}u==null||u.activeChildren.delete(r.uid)})});const p=Rt(!0);s&&bi(()=>{var k;const b=((k=vf.at(-1))==null?void 0:k[0])===r.uid;setTimeout(()=>p.value=b)});const y=Y(()=>!h.activeChildren.size);return{globalTop:dm(p),localTop:y,stackStyles:Y(()=>({zIndex:o.value}))}}function L3(e){return{teleportTarget:Y(()=>{const n=e();if(n===!0||!hr)return;const r=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(r==null)return;let s=[...r.children].find(u=>u.matches(".v-overlay-container"));return s||(s=document.createElement("div"),s.className="v-overlay-container",r.appendChild(s)),s})}}function R3(){return!0}function jE(e,t,n){if(!e||HE(e,n)===!1)return!1;const r=SA(t);if(typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&r.host===e.target)return!1;const s=(typeof n.value=="object"&&n.value.include||(()=>[]))();return s.push(t),!s.some(u=>u==null?void 0:u.contains(e.target))}function HE(e,t){return(typeof t.value=="object"&&t.value.closeConditional||R3)(e)}function O3(e,t,n){const r=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&jE(e,t,n)&&setTimeout(()=>{HE(e,n)&&r&&r(e)},0)}function sC(e,t){const n=SA(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const F3={mounted(e,t){const n=s=>O3(s,e,t),r=s=>{e._clickOutside.lastMousedownWasOutside=jE(s,e,t)};sC(e,s=>{s.addEventListener("click",n,!0),s.addEventListener("mousedown",r,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:r}},beforeUnmount(e,t){e._clickOutside&&(sC(e,n=>{var u;if(!n||!((u=e._clickOutside)!=null&&u[t.instance.$.uid]))return;const{onClick:r,onMousedown:s}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",r,!0),n.removeEventListener("mousedown",s,!0)}),delete e._clickOutside[t.instance.$.uid])}};function z3(e){const{modelValue:t,color:n,...r}=e;return T(cc,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&T("div",lt({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},r),null)]})}const kv=We({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...E3(),...un(),...os(),...xx(),...v3(),...S3(),...br(),...Su()},"VOverlay"),Vd=ht()({name:"VOverlay",directives:{ClickOutside:F3},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...kv()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:r,emit:s}=t;const u=Kr("VOverlay"),h=dt(),o=dt(),p=dt(),y=fn(e,"modelValue"),b=Y({get:()=>y.value,set:vt=>{vt&&e.disabled||(y.value=vt)}}),{themeClasses:k}=Br(e),{rtlClasses:C,isRtl:I}=Wa(),{hasContent:R,onAfterLeave:L}=wx(e,b),O=yi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:B,localTop:q,stackStyles:J}=M3(b,bt(e,"zIndex"),e._disableGlobalStack),{activatorEl:ee,activatorRef:ie,target:re,targetEl:le,targetRef:H,activatorEvents:$,contentEvents:Z,scrimEvents:ae}=I3(e,{isActive:b,isTop:q,contentEl:p}),{teleportTarget:te}=L3(()=>{var et,je,Qe;const vt=e.attach||e.contained;if(vt)return vt;const Ne=((et=ee==null?void 0:ee.value)==null?void 0:et.getRootNode())||((Qe=(je=u.proxy)==null?void 0:je.$el)==null?void 0:Qe.getRootNode());return Ne instanceof ShadowRoot?Ne:!1}),{dimensionStyles:be}=ls(e),me=D3(),{scopeId:Pe}=Kd();ct(()=>e.disabled,vt=>{vt&&(b.value=!1)});const{contentStyles:Ae,updateLocation:Ue}=y3(e,{isRtl:I,contentEl:p,target:re,isActive:b});k3(e,{root:h,contentEl:p,targetEl:le,isActive:b,updateLocation:Ue});function Fe(vt){s("click:outside",vt),e.persistent?gt():b.value=!1}function Ce(vt){return b.value&&B.value&&(!e.scrim||vt.target===o.value||vt instanceof MouseEvent&&vt.shadowTarget===o.value)}hr&&ct(b,vt=>{vt?window.addEventListener("keydown",Ve):window.removeEventListener("keydown",Ve)},{immediate:!0}),_r(()=>{hr&&window.removeEventListener("keydown",Ve)});function Ve(vt){var Ne,et;vt.key==="Escape"&&B.value&&(e.persistent?gt():(b.value=!1,(Ne=p.value)!=null&&Ne.contains(document.activeElement)&&((et=ee.value)==null||et.focus())))}const $e=QA();qa(()=>e.closeOnBack,()=>{RV($e,vt=>{B.value&&b.value?(vt(!1),e.persistent?gt():b.value=!1):vt()})});const qe=dt();ct(()=>b.value&&(e.absolute||e.contained)&&te.value==null,vt=>{if(vt){const Ne=kA(h.value);Ne&&Ne!==document.scrollingElement&&(qe.value=Ne.scrollTop)}});function gt(){e.noClickAnimation||p.value&&Jc(p.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:jf})}function Ct(){s("afterEnter")}function $t(){L(),s("afterLeave")}return kt(()=>{var vt;return T(Gt,null,[(vt=n.activator)==null?void 0:vt.call(n,{isActive:b.value,targetRef:H,props:lt({ref:ie},$.value,e.activatorProps)}),me.value&&R.value&&T(F0,{disabled:!te.value,to:te.value},{default:()=>[T("div",lt({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":b.value,"v-overlay--contained":e.contained},k.value,C.value,e.class],style:[J.value,{"--v-overlay-opacity":e.opacity,top:Ht(qe.value)},e.style],ref:h},Pe,r),[T(z3,lt({color:O,modelValue:b.value&&!!e.scrim,ref:o},ae.value),null),T(ks,{appear:!0,persisted:!0,transition:e.transition,target:re.value,onAfterEnter:Ct,onAfterLeave:$t},{default:()=>{var Ne;return[_i(T("div",lt({ref:p,class:["v-overlay__content",e.contentClass],style:[be.value,Ae.value]},Z.value,e.contentProps),[(Ne=n.default)==null?void 0:Ne.call(n,{isActive:b})]),[[bl,b.value],[ao("click-outside"),{handler:Fe,closeConditional:Ce,include:()=>[ee.value]}]])]}})])]})])}),{activatorEl:ee,scrimEl:o,target:re,animateClick:gt,contentEl:p,globalTop:B,localTop:q,updateLocation:Ue}}}),O_=Symbol("Forwarded refs");function F_(e,t){let n=e;for(;n;){const r=Reflect.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function lo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e[O_]=n,new Proxy(e,{get(s,u){if(Reflect.has(s,u))return Reflect.get(s,u);if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const h of n)if(h.value&&Reflect.has(h.value,u)){const o=Reflect.get(h.value,u);return typeof o=="function"?o.bind(h.value):o}}},has(s,u){if(Reflect.has(s,u))return!0;if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const h of n)if(h.value&&Reflect.has(h.value,u))return!0;return!1},set(s,u,h){if(Reflect.has(s,u))return Reflect.set(s,u,h);if(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))return!1;for(const o of n)if(o.value&&Reflect.has(o.value,u))return Reflect.set(o.value,u,h);return!1},getOwnPropertyDescriptor(s,u){var o;const h=Reflect.getOwnPropertyDescriptor(s,u);if(h)return h;if(!(typeof u=="symbol"||u.startsWith("$")||u.startsWith("__"))){for(const p of n){if(!p.value)continue;const y=F_(p.value,u)??("_"in p.value?F_((o=p.value._)==null?void 0:o.setupState,u):void 0);if(y)return y}for(const p of n){const y=p.value&&p.value[O_];if(!y)continue;const b=y.slice();for(;b.length;){const k=b.shift(),C=F_(k.value,u);if(C)return C;const I=k.value&&k.value[O_];I&&b.push(...I)}}}}})}const B3=We({id:String,submenu:Boolean,...Pr(kv({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",location:void 0,openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:mx}}),["absolute"])},"VMenu"),Sx=ht()({name:"VMenu",props:B3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),{scopeId:s}=Kd(),{isRtl:u}=Wa(),h=Is(),o=Y(()=>e.id||`v-menu-${h}`),p=dt(),y=_t(Ub,null),b=Rt(new Set);xn(Ub,{register(){b.value.add(h)},unregister(){b.value.delete(h)},closeParents(O){setTimeout(()=>{var B;!b.value.size&&!e.persistent&&(O==null||(B=p.value)!=null&&B.contentEl&&!NF(O,p.value.contentEl))&&(r.value=!1,y==null||y.closeParents())},40)}}),_r(()=>y==null?void 0:y.unregister()),B0(()=>r.value=!1);async function k(O){var J,ee,ie;const B=O.relatedTarget,q=O.target;await Jn(),r.value&&B!==q&&((J=p.value)!=null&&J.contentEl)&&((ee=p.value)!=null&&ee.globalTop)&&![document,p.value.contentEl].includes(q)&&!p.value.contentEl.contains(q)&&((ie=Uf(p.value.contentEl)[0])==null||ie.focus())}ct(r,O=>{O?(y==null||y.register(),document.addEventListener("focusin",k,{once:!0})):(y==null||y.unregister(),document.removeEventListener("focusin",k))});function C(O){y==null||y.closeParents(O)}function I(O){var B,q,J,ee,ie;if(!e.disabled)if(O.key==="Tab"||O.key==="Enter"&&!e.closeOnContentClick){if(O.key==="Enter"&&(O.target instanceof HTMLTextAreaElement||O.target instanceof HTMLInputElement&&O.target.closest("form")))return;O.key==="Enter"&&O.preventDefault(),mA(Uf((B=p.value)==null?void 0:B.contentEl,!1),O.shiftKey?"prev":"next",le=>le.tabIndex>=0)||(r.value=!1,(J=(q=p.value)==null?void 0:q.activatorEl)==null||J.focus())}else e.submenu&&O.key===(u.value?"ArrowRight":"ArrowLeft")&&(r.value=!1,(ie=(ee=p.value)==null?void 0:ee.activatorEl)==null||ie.focus())}function R(O){var q;if(e.disabled)return;const B=(q=p.value)==null?void 0:q.contentEl;B&&r.value?O.key==="ArrowDown"?(O.preventDefault(),O.stopImmediatePropagation(),Pf(B,"next")):O.key==="ArrowUp"?(O.preventDefault(),O.stopImmediatePropagation(),Pf(B,"prev")):e.submenu&&(O.key===(u.value?"ArrowRight":"ArrowLeft")?r.value=!1:O.key===(u.value?"ArrowLeft":"ArrowRight")&&(O.preventDefault(),Pf(B,"first"))):(e.submenu?O.key===(u.value?"ArrowLeft":"ArrowRight"):["ArrowDown","ArrowUp"].includes(O.key))&&(r.value=!0,O.preventDefault(),setTimeout(()=>setTimeout(()=>R(O))))}const L=Y(()=>lt({"aria-haspopup":"menu","aria-expanded":String(r.value),"aria-owns":o.value,onKeydown:R},e.activatorProps));return kt(()=>{const O=Vd.filterProps(e);return T(Vd,lt({ref:p,id:o.value,class:["v-menu",e.class],style:e.style},O,{modelValue:r.value,"onUpdate:modelValue":B=>r.value=B,absolute:!0,activatorProps:L.value,location:e.location??(e.submenu?"end":"bottom"),"onClick:outside":C,onKeydown:I},s),{activator:n.activator,default:function(){for(var B=arguments.length,q=new Array(B),J=0;J<B;J++)q[J]=arguments[J];return T(Bn,{root:"VMenu"},{default:()=>{var ee;return[(ee=n.default)==null?void 0:ee.call(n,...q)]}})}})}),lo({id:o,ΨopenChildren:b},p)}}),V3=We({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...un(),...Su({transition:{component:hE}})},"VCounter"),kx=ht()({name:"VCounter",functional:!0,props:V3(),setup(e,t){let{slots:n}=t;const r=Y(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return kt(()=>T(ks,{transition:e.transition},{default:()=>[_i(T("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:r.value,max:e.max,value:e.value}):r.value]),[[bl,e.active]])]})),{}}}),N3=We({text:String,onClick:Di(),...un(),...br()},"VLabel"),Cx=ht()({name:"VLabel",props:N3(),setup(e,t){let{slots:n}=t;return kt(()=>{var r;return T("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(r=n.default)==null?void 0:r.call(n)])}),{}}}),$3=We({floating:Boolean,...un()},"VFieldLabel"),ig=ht()({name:"VFieldLabel",props:$3(),setup(e,t){let{slots:n}=t;return kt(()=>T(Cx,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function GE(e){const{t}=li();function n(r){let{name:s}=r;const u={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[s],h=e[`onClick:${s}`],o=h&&u?t(`$vuetify.input.${u}`,e.label??""):void 0;return T(rr,{icon:e[`${s}Icon`],"aria-label":o,onClick:h},null)}return{InputIcon:n}}const Tx=We({focused:Boolean,"onUpdate:focused":Di()},"focus");function km(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo();const n=fn(e,"focused"),r=Y(()=>({[`${t}--focused`]:n.value}));function s(){n.value=!0}function u(){n.value=!1}return{focusClasses:r,isFocused:n,focus:s,blur:u}}const U3=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],Cv=We({appendInnerIcon:pn,bgColor:String,clearable:Boolean,clearIcon:{type:pn,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:pn,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>U3.includes(e)},"onClick:clear":Di(),"onClick:appendInner":Di(),"onClick:prependInner":Di(),...un(),...xv(),...Mi(),...br()},"VField"),Tv=ht()({name:"VField",inheritAttrs:!1,props:{id:String,...Tx(),...Cv()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{themeClasses:u}=Br(e),{loaderClasses:h}=wv(e),{focusClasses:o,isFocused:p,focus:y,blur:b}=km(e),{InputIcon:k}=GE(e),{roundedClasses:C}=$i(e),{rtlClasses:I}=Wa(),R=Y(()=>e.dirty||e.active),L=Y(()=>!e.singleLine&&!!(e.label||s.label)),O=Is(),B=Y(()=>e.id||`input-${O}`),q=Y(()=>`${B.value}-messages`),J=dt(),ee=dt(),ie=dt(),re=Y(()=>["plain","underlined"].includes(e.variant)),{backgroundColorClasses:le,backgroundColorStyles:H}=yi(bt(e,"bgColor")),{textColorClasses:$,textColorStyles:Z}=Ga(Y(()=>e.error||e.disabled?void 0:R.value&&p.value?e.color:e.baseColor));ct(R,me=>{if(L.value){const Pe=J.value.$el,Ae=ee.value.$el;requestAnimationFrame(()=>{const Ue=tx(Pe),Fe=Ae.getBoundingClientRect(),Ce=Fe.x-Ue.x,Ve=Fe.y-Ue.y-(Ue.height/2-Fe.height/2),$e=Fe.width/.75,qe=Math.abs($e-Ue.width)>1?{maxWidth:Ht($e)}:void 0,gt=getComputedStyle(Pe),Ct=getComputedStyle(Ae),$t=parseFloat(gt.transitionDuration)*1e3||150,vt=parseFloat(Ct.getPropertyValue("--v-field-label-scale")),Ne=Ct.getPropertyValue("color");Pe.style.visibility="visible",Ae.style.visibility="hidden",Jc(Pe,{transform:`translate(${Ce}px, ${Ve}px) scale(${vt})`,color:Ne,...qe},{duration:$t,easing:jf,direction:me?"normal":"reverse"}).finished.then(()=>{Pe.style.removeProperty("visibility"),Ae.style.removeProperty("visibility")})})}},{flush:"post"});const ae=Y(()=>({isActive:R,isFocused:p,controlRef:ie,blur:b,focus:y}));function te(me){me.target!==document.activeElement&&me.preventDefault()}function be(me){var Pe;me.key!=="Enter"&&me.key!==" "||(me.preventDefault(),me.stopPropagation(),(Pe=e["onClick:clear"])==null||Pe.call(e,new MouseEvent("click")))}return kt(()=>{var Ce,Ve,$e;const me=e.variant==="outlined",Pe=!!(s["prepend-inner"]||e.prependInnerIcon),Ae=!!(e.clearable||s.clear),Ue=!!(s["append-inner"]||e.appendInnerIcon||Ae),Fe=()=>s.label?s.label({...ae.value,label:e.label,props:{for:B.value}}):e.label;return T("div",lt({class:["v-field",{"v-field--active":R.value,"v-field--appended":Ue,"v-field--center-affix":e.centerAffix??!re.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":Pe,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!Fe(),[`v-field--variant-${e.variant}`]:!0},u.value,le.value,o.value,h.value,C.value,I.value,e.class],style:[H.value,e.style],onClick:te},n),[T("div",{class:"v-field__overlay"},null),T(hx,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:s.loader}),Pe&&T("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&T(k,{key:"prepend-icon",name:"prependInner"},null),(Ce=s["prepend-inner"])==null?void 0:Ce.call(s,ae.value)]),T("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&L.value&&T(ig,{key:"floating-label",ref:ee,class:[$.value],floating:!0,for:B.value,style:Z.value},{default:()=>[Fe()]}),T(ig,{ref:J,for:B.value},{default:()=>[Fe()]}),(Ve=s.default)==null?void 0:Ve.call(s,{...ae.value,props:{id:B.value,class:"v-field__input","aria-describedby":q.value},focus:y,blur:b})]),Ae&&T(fE,{key:"clear"},{default:()=>[_i(T("div",{class:"v-field__clearable",onMousedown:qe=>{qe.preventDefault(),qe.stopPropagation()}},[T(Bn,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[s.clear?s.clear({...ae.value,props:{onKeydown:be,onFocus:y,onBlur:b,onClick:e["onClick:clear"]}}):T(k,{name:"clear",onKeydown:be,onFocus:y,onBlur:b},null)]})]),[[bl,e.dirty]])]}),Ue&&T("div",{key:"append",class:"v-field__append-inner"},[($e=s["append-inner"])==null?void 0:$e.call(s,ae.value),e.appendInnerIcon&&T(k,{key:"append-icon",name:"appendInner"},null)]),T("div",{class:["v-field__outline",$.value],style:Z.value},[me&&T(Gt,null,[T("div",{class:"v-field__outline__start"},null),L.value&&T("div",{class:"v-field__outline__notch"},[T(ig,{ref:ee,floating:!0,for:B.value},{default:()=>[Fe()]})]),T("div",{class:"v-field__outline__end"},null)]),re.value&&L.value&&T(ig,{ref:ee,floating:!0,for:B.value},{default:()=>[Fe()]})])])}),{controlRef:ie}}});function Ax(e){const t=Object.keys(Tv.props).filter(n=>!gv(n)&&n!=="class"&&n!=="style");return X0(e,t)}const q3=We({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...un(),...Su({transition:{component:hE,leaveAbsolute:!0,group:!0}})},"VMessages"),j3=ht()({name:"VMessages",props:q3(),setup(e,t){let{slots:n}=t;const r=Y(()=>Zr(e.messages)),{textColorClasses:s,textColorStyles:u}=Ga(Y(()=>e.color));return kt(()=>T(ks,{transition:e.transition,tag:"div",class:["v-messages",s.value,e.class],style:[u.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&r.value.map((h,o)=>T("div",{class:"v-messages__message",key:`${o}-${r.value}`},[n.message?n.message({message:h}):h]))]})),{}}}),WE=Symbol.for("vuetify:form"),H3=We({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function G3(e){const t=fn(e,"modelValue"),n=Y(()=>e.disabled),r=Y(()=>e.readonly),s=Rt(!1),u=dt([]),h=dt([]);async function o(){const b=[];let k=!0;h.value=[],s.value=!0;for(const C of u.value){const I=await C.validate();if(I.length>0&&(k=!1,b.push({id:C.id,errorMessages:I})),!k&&e.fastFail)break}return h.value=b,s.value=!1,{valid:k,errors:h.value}}function p(){u.value.forEach(b=>b.reset())}function y(){u.value.forEach(b=>b.resetValidation())}return ct(u,()=>{let b=0,k=0;const C=[];for(const I of u.value)I.isValid===!1?(k++,C.push({id:I.id,errorMessages:I.errorMessages})):I.isValid===!0&&b++;h.value=C,t.value=k>0?!1:b===u.value.length?!0:null},{deep:!0,flush:"post"}),xn(WE,{register:b=>{let{id:k,vm:C,validate:I,reset:R,resetValidation:L}=b;u.value.some(O=>O.id===k),u.value.push({id:k,validate:I,reset:R,resetValidation:L,vm:Eg(C),isValid:null,errorMessages:[]})},unregister:b=>{u.value=u.value.filter(k=>k.id!==b)},update:(b,k,C)=>{const I=u.value.find(R=>R.id===b);I&&(I.isValid=k,I.errorMessages=C)},isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validateOn:bt(e,"validateOn")}),{errors:h,isDisabled:n,isReadonly:r,isValidating:s,isValid:t,items:u,validate:o,reset:p,resetValidation:y}}function Av(){return _t(WE,null)}const W3=We({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...Tx()},"validation");function Y3(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oo(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Is();const r=fn(e,"modelValue"),s=Y(()=>e.validationValue===void 0?r.value:e.validationValue),u=Av(),h=dt([]),o=Rt(!0),p=Y(()=>!!(Zr(r.value===""?null:r.value).length||Zr(s.value===""?null:s.value).length)),y=Y(()=>!!(e.disabled??(u==null?void 0:u.isDisabled.value))),b=Y(()=>!!(e.readonly??(u==null?void 0:u.isReadonly.value))),k=Y(()=>{var ie;return(ie=e.errorMessages)!=null&&ie.length?Zr(e.errorMessages).concat(h.value).slice(0,Math.max(0,+e.maxErrors)):h.value}),C=Y(()=>{let ie=(e.validateOn??(u==null?void 0:u.validateOn.value))||"input";ie==="lazy"&&(ie="input lazy"),ie==="eager"&&(ie="input eager");const re=new Set((ie==null?void 0:ie.split(" "))??[]);return{input:re.has("input"),blur:re.has("blur")||re.has("input")||re.has("invalid-input"),invalidInput:re.has("invalid-input"),lazy:re.has("lazy"),eager:re.has("eager")}}),I=Y(()=>{var ie;return e.error||(ie=e.errorMessages)!=null&&ie.length?!1:e.rules.length?o.value?h.value.length||C.value.lazy?null:!0:!h.value.length:!0}),R=Rt(!1),L=Y(()=>({[`${t}--error`]:I.value===!1,[`${t}--dirty`]:p.value,[`${t}--disabled`]:y.value,[`${t}--readonly`]:b.value})),O=Kr("validation"),B=Y(()=>e.name??Ur(n));V0(()=>{u==null||u.register({id:B.value,vm:O,validate:ee,reset:q,resetValidation:J})}),_r(()=>{u==null||u.unregister(B.value)}),Ni(async()=>{C.value.lazy||await ee(!C.value.eager),u==null||u.update(B.value,I.value,k.value)}),qa(()=>C.value.input||C.value.invalidInput&&I.value===!1,()=>{ct(s,()=>{if(s.value!=null)ee();else if(e.focused){const ie=ct(()=>e.focused,re=>{re||ee(),ie()})}})}),qa(()=>C.value.blur,()=>{ct(()=>e.focused,ie=>{ie||ee()})}),ct([I,k],()=>{u==null||u.update(B.value,I.value,k.value)});async function q(){r.value=null,await Jn(),await J()}async function J(){o.value=!0,C.value.lazy?h.value=[]:await ee(!C.value.eager)}async function ee(){let ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const re=[];R.value=!0;for(const le of e.rules){if(re.length>=+(e.maxErrors??1))break;const $=await(typeof le=="function"?le:()=>le)(s.value);if($!==!0){if($!==!1&&typeof $!="string"){console.warn(`${$} is not a valid value. Rule functions must return boolean true or a string.`);continue}re.push($||"")}}return h.value=re,R.value=!1,o.value=ie,h.value}return{errorMessages:k,isDirty:p,isDisabled:y,isReadonly:b,isPristine:o,isValid:I,isValidating:R,reset:q,resetValidation:J,validate:ee,validationClasses:L}}const Cm=We({id:String,appendIcon:pn,centerAffix:{type:Boolean,default:!0},prependIcon:pn,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Di(),"onClick:append":Di(),...un(),...Ya(),...uA(os(),["maxWidth","minWidth","width"]),...br(),...W3()},"VInput"),hc=ht()({name:"VInput",props:{...Cm()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const{densityClasses:u}=Ms(e),{dimensionStyles:h}=ls(e),{themeClasses:o}=Br(e),{rtlClasses:p}=Wa(),{InputIcon:y}=GE(e),b=Is(),k=Y(()=>e.id||`input-${b}`),C=Y(()=>`${k.value}-messages`),{errorMessages:I,isDirty:R,isDisabled:L,isReadonly:O,isPristine:B,isValid:q,isValidating:J,reset:ee,resetValidation:ie,validate:re,validationClasses:le}=Y3(e,"v-input",k),H=Y(()=>({id:k,messagesId:C,isDirty:R,isDisabled:L,isReadonly:O,isPristine:B,isValid:q,isValidating:J,reset:ee,resetValidation:ie,validate:re})),$=Y(()=>{var Z;return(Z=e.errorMessages)!=null&&Z.length||!B.value&&I.value.length?I.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return kt(()=>{var me,Pe,Ae,Ue;const Z=!!(r.prepend||e.prependIcon),ae=!!(r.append||e.appendIcon),te=$.value.length>0,be=!e.hideDetails||e.hideDetails==="auto"&&(te||!!r.details);return T("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},u.value,o.value,p.value,le.value,e.class],style:[h.value,e.style]},[Z&&T("div",{key:"prepend",class:"v-input__prepend"},[(me=r.prepend)==null?void 0:me.call(r,H.value),e.prependIcon&&T(y,{key:"prepend-icon",name:"prepend"},null)]),r.default&&T("div",{class:"v-input__control"},[(Pe=r.default)==null?void 0:Pe.call(r,H.value)]),ae&&T("div",{key:"append",class:"v-input__append"},[e.appendIcon&&T(y,{key:"append-icon",name:"append"},null),(Ae=r.append)==null?void 0:Ae.call(r,H.value)]),be&&T("div",{class:"v-input__details"},[T(j3,{id:C.value,active:te,messages:$.value},{message:r.message}),(Ue=r.details)==null?void 0:Ue.call(r,H.value)])])}),{reset:ee,resetValidation:ie,validate:re,isValid:q,errorMessages:I}}}),Z3=["color","file","time","date","datetime-local","week","month"],Tm=We({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...Cm(),...Cv()},"VTextField"),oi=ht()({name:"VTextField",directives:{Intersect:gx},inheritAttrs:!1,props:Tm(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=fn(e,"modelValue"),{isFocused:h,focus:o,blur:p}=km(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:(u.value??"").toString().length),b=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),k=Y(()=>["plain","underlined"].includes(e.variant));function C(re,le){var H,$;!e.autofocus||!re||($=(H=le[0].target)==null?void 0:H.focus)==null||$.call(H)}const I=dt(),R=dt(),L=dt(),O=Y(()=>Z3.includes(e.type)||e.persistentPlaceholder||h.value||e.active);function B(){var re;L.value!==document.activeElement&&((re=L.value)==null||re.focus()),h.value||o()}function q(re){r("mousedown:control",re),re.target!==L.value&&(B(),re.preventDefault())}function J(re){B(),r("click:control",re)}function ee(re){re.stopPropagation(),B(),Jn(()=>{u.value=null,Q0(e["onClick:clear"],re)})}function ie(re){var H;const le=re.target;if(u.value=le.value,(H=e.modelModifiers)!=null&&H.trim&&["text","search","password","tel","url"].includes(e.type)){const $=[le.selectionStart,le.selectionEnd];Jn(()=>{le.selectionStart=$[0],le.selectionEnd=$[1]})}}return kt(()=>{const re=!!(s.counter||e.counter!==!1&&e.counter!=null),le=!!(re||s.details),[H,$]=pm(n),{modelValue:Z,...ae}=hc.filterProps(e),te=Ax(e);return T(hc,lt({ref:I,modelValue:u.value,"onUpdate:modelValue":be=>u.value=be,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":k.value},e.class],style:e.style},H,ae,{centerAffix:!k.value,focused:h.value}),{...s,default:be=>{let{id:me,isDisabled:Pe,isDirty:Ae,isReadonly:Ue,isValid:Fe}=be;return T(Tv,lt({ref:R,onMousedown:q,onClick:J,"onClick:clear":ee,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},te,{id:me.value,active:O.value||Ae.value,dirty:Ae.value||e.dirty,disabled:Pe.value,focused:h.value,error:Fe.value===!1}),{...s,default:Ce=>{let{props:{class:Ve,...$e}}=Ce;const qe=_i(T("input",lt({ref:L,value:u.value,onInput:ie,autofocus:e.autofocus,readonly:Ue.value,disabled:Pe.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:B,onBlur:p},$e,$),null),[[ao("intersect"),{handler:C},null,{once:!0}]]);return T(Gt,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[T("span",{class:"v-text-field__prefix__text"},[e.prefix])]),s.default?T("div",{class:Ve,"data-no-activator":""},[s.default(),qe]):gl(qe,{class:Ve}),e.suffix&&T("span",{class:"v-text-field__suffix"},[T("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:le?be=>{var me;return T(Gt,null,[(me=s.details)==null?void 0:me.call(s,be),re&&T(Gt,null,[T("span",null,null),T(kx,{active:e.persistentCounter||h.value,value:y.value,max:b.value,disabled:e.disabled},s.counter)])])}:void 0})}),lo({},I,R,L)}}),K3=We({hideActions:Boolean,...Tx(),...wE(),...Tm({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...Pr(BE({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),X3=ht()({name:"VDateInput",props:K3(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=Fo(),{isFocused:u,focus:h,blur:o}=km(e),p=fn(e,"modelValue",e.multiple?[]:null),y=Rt(!1),b=Y(()=>{const L=Zr(p.value);if(!L.length)return null;if(e.multiple===!0)return r("$vuetify.datePicker.itemsSelected",L.length);if(e.multiple==="range"){const O=L[0],B=L[L.length-1];return s.isValid(O)&&s.isValid(B)?`${s.format(O,"keyboardDate")} - ${s.format(B,"keyboardDate")}`:""}return s.isValid(p.value)?s.format(p.value,"keyboardDate"):""}),k=Y(()=>!e.disabled&&!e.readonly);function C(L){if(L.key!=="Enter")return;if(!y.value||!u.value){y.value=!0;return}const O=L.target;p.value=s.date(O.value)}function I(L){L.preventDefault(),L.stopPropagation(),y.value=!0}function R(){y.value=!1}kt(()=>{const L=Wk.filterProps(e),O=tC.filterProps(Pr(e,["active"])),B=oi.filterProps(e);return T(oi,lt(B,{class:e.class,style:e.style,modelValue:b.value,onKeydown:k.value?C:void 0,focused:y.value||u.value,onFocus:h,onBlur:o,"onClick:control":k.value?I:void 0,"onClick:prepend":k.value?I:void 0}),{default:()=>{var q;return[T(Sx,{modelValue:y.value,"onUpdate:modelValue":J=>y.value=J,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[T(Wk,lt(L,{modelValue:p.value,"onUpdate:modelValue":J=>p.value=J,onSave:R}),{default:J=>{let{actions:ee,model:ie}=J;return T(tC,lt(O,{modelValue:e.hideActions?p.value:ie.value,"onUpdate:modelValue":re=>{e.hideActions?(p.value=re,e.multiple||(y.value=!1)):ie.value=re},onMousedown:re=>re.preventDefault()}),{actions:e.hideActions?void 0:()=>ee})}})]}),(q=n.default)==null?void 0:q.call(n)]}})})}}),J3=We({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...un(),...br()},"VDivider"),yr=ht()({name:"VDivider",props:J3(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Br(e),{textColorClasses:u,textColorStyles:h}=Ga(bt(e,"color")),o=Y(()=>{const p={};return e.length&&(p[e.vertical?"height":"width"]=Ht(e.length)),e.thickness&&(p[e.vertical?"borderRightWidth":"borderTopWidth"]=Ht(e.thickness)),p});return kt(()=>{const p=T("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},s.value,u.value,e.class],style:[o.value,h.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return r.default?T("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[p,T("div",{class:"v-divider__content"},[r.default()]),p]):p}),{}}}),Q3=We({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},...Pr(Tm({}),["appendInnerIcon","modelValue","prependInnerIcon"])},"VNumberInput"),e4=ht()({name:"VNumberInput",props:{...Q3()},emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),s=Y({get:()=>r.value,set(Z){if(Z===null){r.value=null;return}!isNaN(+Z)&&+Z<=e.max&&+Z>=e.min&&(r.value=+Z)}}),u=dt(),h=Y(()=>rk(e.step)),o=Y(()=>typeof s.value=="number"?rk(s.value):0),p=Av(),y=Y(()=>e.disabled||e.readonly||(p==null?void 0:p.isReadonly.value)),b=Y(()=>y.value?!1:(s.value??0)+e.step<=e.max),k=Y(()=>y.value?!1:(s.value??0)-e.step>=e.min),C=Y(()=>e.hideInput?"stacked":e.controlVariant),I=Y(()=>C.value==="split"?"$plus":"$collapse"),R=Y(()=>C.value==="split"?"$minus":"$expand"),L=Y(()=>C.value==="split"?"default":"small"),O=Y(()=>C.value==="stacked"?"auto":"100%"),B=Y(()=>({click:ee})),q=Y(()=>({click:ie}));Ni(()=>{!e.readonly&&!e.disabled&&$()});function J(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(y.value)return;if(s.value==null){s.value=Ki(0,e.min,e.max);return}const ae=Math.max(o.value,h.value);Z?b.value&&(s.value=+(s.value+e.step).toFixed(ae)):k.value&&(s.value=+(s.value-e.step).toFixed(ae))}function ee(Z){Z.stopPropagation(),J()}function ie(Z){Z.stopPropagation(),J(!1)}function re(Z){var Pe,Ae,Ue;if(!Z.data)return;const ae=(Pe=Z.target)==null?void 0:Pe.value,te=(Ae=Z.target)==null?void 0:Ae.selectionStart,be=(Ue=Z.target)==null?void 0:Ue.selectionEnd,me=ae?ae.slice(0,te)+Z.data+ae.slice(be):Z.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(me)||Z.preventDefault()}async function le(Z){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(Z.key)||Z.ctrlKey||["ArrowDown","ArrowUp"].includes(Z.key)&&(Z.preventDefault(),$(),await Jn(),Z.key==="ArrowDown"?J(!1):J())}function H(Z){Z.stopPropagation()}function $(){if(!u.value)return;const Z=u.value.value;Z&&!isNaN(+Z)?s.value=Ki(+Z,e.min,e.max):s.value=null}return kt(()=>{const{modelValue:Z,...ae}=oi.filterProps(e);function te(){return n.increment?T(Bn,{key:"increment-defaults",defaults:{VBtn:{disabled:!b.value,flat:!0,height:O.value,size:L.value,icon:I.value}}},{default:()=>[n.increment(B.value)]}):T(Jt,{disabled:!b.value,flat:!0,key:"increment-btn",height:O.value,name:"increment-btn",icon:I.value,onClick:ee,onMousedown:H,size:L.value,tabindex:"-1"},null)}function be(){return n.decrement?T(Bn,{key:"decrement-defaults",defaults:{VBtn:{disabled:!k.value,flat:!0,height:O.value,size:L.value,icon:R.value}}},{default:()=>[n.decrement(q.value)]}):T(Jt,{disabled:!k.value,flat:!0,key:"decrement-btn",height:O.value,name:"decrement-btn",icon:R.value,size:L.value,tabindex:"-1",onClick:ie,onMousedown:H},null)}function me(){return T("div",{class:"v-number-input__control"},[be(),T(yr,{vertical:C.value!=="stacked"},null),te()])}function Pe(){return!e.hideInput&&!e.inset?T(yr,{vertical:!0},null):void 0}const Ae=C.value==="split"?T("div",{class:"v-number-input__control"},[T(yr,{vertical:!0},null),te()]):e.reverse?void 0:T(Gt,null,[Pe(),me()]),Ue=n["append-inner"]||Ae,Fe=C.value==="split"?T("div",{class:"v-number-input__control"},[be(),T(yr,{vertical:!0},null)]):e.reverse?T(Gt,null,[me(),Pe()]):void 0,Ce=n["prepend-inner"]||Fe;return T(oi,lt({ref:u,modelValue:s.value,"onUpdate:modelValue":Ve=>s.value=Ve,onBeforeinput:re,onChange:$,onKeydown:le,class:["v-number-input",{"v-number-input--default":C.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":C.value==="split","v-number-input--stacked":C.value==="stacked"},e.class]},ae,{style:e.style,inputmode:"decimal"}),{...n,"append-inner":Ue?function(){var gt;for(var Ve=arguments.length,$e=new Array(Ve),qe=0;qe<Ve;qe++)$e[qe]=arguments[qe];return T(Gt,null,[(gt=n["append-inner"])==null?void 0:gt.call(n,...$e),Ae])}:void 0,"prepend-inner":Ce?function(){var gt;for(var Ve=arguments.length,$e=new Array(Ve),qe=0;qe<Ve;qe++)$e[qe]=arguments[qe];return T(Gt,null,[Fe,(gt=n["prepend-inner"])==null?void 0:gt.call(n,...$e)])}:void 0})}),lo({},u)}}),Ex=We({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),qb=ht()({name:"VStepperActions",props:Ex(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li();function u(){n("click:prev")}function h(){n("click:next")}return kt(()=>{const o={onClick:u},p={onClick:h};return T("div",{class:"v-stepper-actions"},[T(Bn,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:s(e.prevText),variant:"text"}}},{default:()=>{var y;return[((y=r.prev)==null?void 0:y.call(r,{props:o}))??T(Jt,o,null)]}}),T(Bn,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:s(e.nextText),variant:"tonal"}}},{default:()=>{var y;return[((y=r.next)==null?void 0:y.call(r,{props:p}))??T(Jt,p,null)]}})])}),{}}}),t4=We({...Ex()},"VStepperActions"),YE=ht()({name:"VStepperVerticalActions",props:t4(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,t){let{emit:n,slots:r}=t;function s(){n("click:prev")}function u(){n("click:next")}return kt(()=>{const h=qb.filterProps(e);return T(qb,lt({class:"v-stepper-vertical-actions"},h,{"onClick:prev":s,"onClick:next":u}),r)}),{}}}),Jf=Symbol.for("vuetify:v-expansion-panel"),ZE=We({...un(),...xx()},"VExpansionPanelText"),oC=ht()({name:"VExpansionPanelText",props:ZE(),setup(e,t){let{slots:n}=t;const r=_t(Jf);if(!r)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:s,onAfterLeave:u}=wx(e,r.isSelected);return kt(()=>T(px,{onAfterLeave:u},{default:()=>{var h;return[_i(T("div",{class:["v-expansion-panel-text",e.class],style:e.style},[n.default&&s.value&&T("div",{class:"v-expansion-panel-text__wrapper"},[(h=n.default)==null?void 0:h.call(n)])]),[[bl,r.isSelected.value]])]}})),{}}}),KE=We({color:String,expandIcon:{type:pn,default:"$expand"},collapseIcon:{type:pn,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...un(),...os()},"VExpansionPanelTitle"),lC=ht()({name:"VExpansionPanelTitle",directives:{Ripple:wu},props:KE(),setup(e,t){let{slots:n}=t;const r=_t(Jf);if(!r)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"color"),{dimensionStyles:h}=ls(e),o=Y(()=>({collapseIcon:e.collapseIcon,disabled:r.disabled.value,expanded:r.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly})),p=Y(()=>r.isSelected.value?e.collapseIcon:e.expandIcon);return kt(()=>{var y;return _i(T("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":r.isSelected.value,"v-expansion-panel-title--focusable":e.focusable,"v-expansion-panel-title--static":e.static},s.value,e.class],style:[u.value,h.value,e.style],type:"button",tabindex:r.disabled.value?-1:void 0,disabled:r.disabled.value,"aria-expanded":r.isSelected.value,onClick:e.readonly?void 0:r.toggle},[T("span",{class:"v-expansion-panel-title__overlay"},null),(y=n.default)==null?void 0:y.call(n,o.value),!e.hideActions&&T(Bn,{defaults:{VIcon:{icon:p.value}}},{default:()=>{var b;return[T("span",{class:"v-expansion-panel-title__icon"},[((b=n.actions)==null?void 0:b.call(n,o.value))??T(rr,null,null)])]}})]),[[ao("ripple"),e.ripple]])}),{}}}),Ix=We({title:String,text:String,bgColor:String,...cs(),..._m(),...Mi(),...Kn(),...KE(),...ZE()},"VExpansionPanel"),cC=ht()({name:"VExpansionPanel",props:Ix(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=bm(e,Jf),{backgroundColorClasses:s,backgroundColorStyles:u}=yi(e,"bgColor"),{elevationClasses:h}=Ds(e),{roundedClasses:o}=$i(e),p=Y(()=>(r==null?void 0:r.disabled.value)||e.disabled),y=Y(()=>r.group.items.value.reduce((C,I,R)=>(r.group.selected.value.includes(I.id)&&C.push(R),C),[])),b=Y(()=>{const C=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-C===1)}),k=Y(()=>{const C=r.group.items.value.findIndex(I=>I.id===r.id);return!r.isSelected.value&&y.value.some(I=>I-C===-1)});return xn(Jf,r),kt(()=>{const C=!!(n.text||e.text),I=!!(n.title||e.title),R=lC.filterProps(e),L=oC.filterProps(e);return T(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":r.isSelected.value,"v-expansion-panel--before-active":b.value,"v-expansion-panel--after-active":k.value,"v-expansion-panel--disabled":p.value},o.value,s.value,e.class],style:[u.value,e.style]},{default:()=>[T("div",{class:["v-expansion-panel__shadow",...h.value]},null),T(Bn,{defaults:{VExpansionPanelTitle:{...R},VExpansionPanelText:{...L}}},{default:()=>{var O;return[I&&T(lC,{key:"title"},{default:()=>[n.title?n.title():e.title]}),C&&T(oC,{key:"text"},{default:()=>[n.text?n.text():e.text]}),(O=n.default)==null?void 0:O.call(n)]}})]})}),{groupItem:r}}}),Px=Symbol.for("vuetify:v-stepper"),XE=We({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]}},"StepperItem"),n4=We({...XE(),..._m()},"VStepperItem"),r4=ht()({name:"VStepperItem",directives:{Ripple:wu},props:n4(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=bm(e,Px,!0),s=Y(()=>(r==null?void 0:r.value.value)??e.value),u=Y(()=>e.rules.every(C=>C()===!0)),h=Y(()=>!e.disabled&&e.editable),o=Y(()=>!e.disabled&&e.editable),p=Y(()=>e.error||!u.value),y=Y(()=>e.complete||e.rules.length>0&&u.value),b=Y(()=>p.value?e.errorIcon:y.value?e.completeIcon:r.isSelected.value&&e.editable?e.editIcon:e.icon),k=Y(()=>({canEdit:o.value,hasError:p.value,hasCompleted:y.value,title:e.title,subtitle:e.subtitle,step:s.value,value:e.value}));return kt(()=>{var O,B,q;const C=(!r||r.isSelected.value||y.value||o.value)&&!p.value&&!e.disabled,I=!!(e.title!=null||n.title),R=!!(e.subtitle!=null||n.subtitle);function L(){r==null||r.toggle()}return _i(T("button",{class:["v-stepper-item",{"v-stepper-item--complete":y.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":p.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,onClick:L},[h.value&&_c(!0,"v-stepper-item"),T(Mo,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:C?e.color:void 0,size:24},{default:()=>{var J;return[((J=n.icon)==null?void 0:J.call(n,k.value))??(b.value?T(rr,{icon:b.value},null):s.value)]}}),T("div",{class:"v-stepper-item__content"},[I&&T("div",{key:"title",class:"v-stepper-item__title"},[((O=n.title)==null?void 0:O.call(n,k.value))??e.title]),R&&T("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((B=n.subtitle)==null?void 0:B.call(n,k.value))??e.subtitle]),(q=n.default)==null?void 0:q.call(n,k.value)])]),[[ao("ripple"),e.ripple&&e.editable,null]])}),{}}}),i4=We({hideActions:Boolean,...XE(),...Pr(Ix({expandIcon:"",collapseIcon:""}),["hideActions"])},"VStepperVerticalItem"),JE=ht()({name:"VStepperVerticalItem",props:i4(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:finish":()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=dt(),u=Y(()=>isNaN(parseInt(e.value))?e.value:Number(e.value)),h=Y(()=>{var q;return(q=s.value)==null?void 0:q.groupItem}),o=Y(()=>{var q;return((q=h.value)==null?void 0:q.isSelected.value)??!1}),p=Y(()=>o.value?e.rules.every(q=>q()===!0):null),y=Y(()=>!e.disabled&&e.editable),b=Y(()=>e.error||o.value&&!p.value),k=Y(()=>e.complete||e.rules.length>0&&p.value===!0),C=Y(()=>{var q;return e.disabled?e.disabled:(q=h.value)!=null&&q.isFirst.value?"prev":!1}),I=Y(()=>{var q;return b.value?e.errorIcon:k.value?e.completeIcon:(q=h.value)!=null&&q.isSelected.value&&e.editable?e.editIcon:e.icon}),R=Y(()=>({canEdit:y.value,hasError:b.value,hasCompleted:k.value,title:e.title,subtitle:e.subtitle,step:u.value,value:e.value})),L=Y(()=>({...R.value,prev:B,next:O}));function O(){var q;n("click:next"),!((q=h.value)!=null&&q.isLast.value)&&h.value.group.next()}function B(){n("click:prev"),h.value.group.prev()}return kt(()=>{var ie;const q=(k.value||((ie=h.value)==null?void 0:ie.isSelected.value))&&!b.value&&!e.disabled,J=!e.hideActions||!!r.actions,ee=cC.filterProps(e);return T(cC,lt({_as:"VStepperVerticalItem",ref:s},ee,{class:["v-stepper-vertical-item",{"v-stepper-vertical-item--complete":k.value,"v-stepper-vertical-item--disabled":e.disabled,"v-stepper-vertical-item--editable":y.value,"v-stepper-vertical-item--error":b.value},e.class],readonly:!e.editable,style:e.style,color:"","hide-actions":!1,value:u.value}),{title:()=>{var re,le;return T(Gt,null,[T(Mo,{key:"stepper-avatar",class:"v-stepper-vertical-item__avatar",color:q?e.color:void 0,size:24,start:!0},{default:()=>{var H;return[((H=r.icon)==null?void 0:H.call(r,R.value))??(I.value?T(rr,{icon:I.value},null):u.value)]}}),T("div",null,[T("div",{class:"v-stepper-vertical-item__title"},[((re=r.title)==null?void 0:re.call(r,R.value))??e.title]),T("div",{class:"v-stepper-vertical-item__subtitle"},[((le=r.subtitle)==null?void 0:le.call(r,R.value))??e.subtitle])])])},text:()=>{var re,le;return T(Gt,null,[((re=r.default)==null?void 0:re.call(r,R.value))??e.text,J&&T(Bn,{defaults:{VStepperVerticalActions:{disabled:C.value,finish:(le=h.value)==null?void 0:le.isLast.value}}},{default:()=>{var H;return[((H=r.actions)==null?void 0:H.call(r,L.value))??T(YE,{"onClick:next":O,"onClick:prev":B},{prev:r.prev?()=>{var $;return($=r.prev)==null?void 0:$.call(r,L.value)}:void 0,next:r.next?()=>{var $;return($=r.next)==null?void 0:$.call(r,L.value)}:void 0})]}})])}})}),{}}}),a4=["default","accordion","inset","popout"],QE=We({flat:Boolean,...ym(),...X0(Ix(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...br(),...un(),...Kn(),variant:{type:String,default:"default",validator:e=>a4.includes(e)}},"VExpansionPanels"),uC=ht()({name:"VExpansionPanels",props:QE(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{next:r,prev:s}=Yd(e,Jf),{themeClasses:u}=Br(e),h=Y(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return ma({VExpansionPanel:{bgColor:bt(e,"bgColor"),collapseIcon:bt(e,"collapseIcon"),color:bt(e,"color"),eager:bt(e,"eager"),elevation:bt(e,"elevation"),expandIcon:bt(e,"expandIcon"),focusable:bt(e,"focusable"),hideActions:bt(e,"hideActions"),readonly:bt(e,"readonly"),ripple:bt(e,"ripple"),rounded:bt(e,"rounded"),static:bt(e,"static")}}),kt(()=>T(e.tag,{class:["v-expansion-panels",{"v-expansion-panels--flat":e.flat,"v-expansion-panels--tile":e.tile},u.value,h.value,e.class],style:e.style},{default:()=>{var o;return[(o=n.default)==null?void 0:o.call(n,{prev:s,next:r})]}})),{next:r,prev:s}}}),s4=Hd("v-stepper-header"),o4=e=>{const{touchstartX:t,touchendX:n,touchstartY:r,touchendY:s}=e,u=.5,h=16;e.offsetX=n-t,e.offsetY=s-r,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&n<t-h&&e.left(e),e.right&&n>t+h&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&s<r-h&&e.up(e),e.down&&s>r+h&&e.down(e))};function l4(e,t){var r;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(r=t.start)==null||r.call(t,{originalEvent:e,...t})}function c4(e,t){var r;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(r=t.end)==null||r.call(t,{originalEvent:e,...t}),o4(t)}function u4(e,t){var r;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(r=t.move)==null||r.call(t,{originalEvent:e,...t})}function d4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>l4(n,t),touchend:n=>c4(n,t),touchmove:n=>u4(n,t)}}function h4(e,t){var o;const n=t.value,r=n!=null&&n.parent?e.parentElement:e,s=(n==null?void 0:n.options)??{passive:!0},u=(o=t.instance)==null?void 0:o.$.uid;if(!r||!u)return;const h=d4(t.value);r._touchHandlers=r._touchHandlers??Object.create(null),r._touchHandlers[u]=h,cA(h).forEach(p=>{r.addEventListener(p,h[p],s)})}function f4(e,t){var u,h;const n=(u=t.value)!=null&&u.parent?e.parentElement:e,r=(h=t.instance)==null?void 0:h.$.uid;if(!(n!=null&&n._touchHandlers)||!r)return;const s=n._touchHandlers[r];cA(s).forEach(o=>{n.removeEventListener(o,s[o])}),delete n._touchHandlers[r]}const eI={mounted:h4,unmounted:f4},m4=eI,tI=Symbol.for("vuetify:v-window"),nI=Symbol.for("vuetify:v-window-group"),Dx=We({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...un(),...Kn(),...br()},"VWindow"),Qf=ht()({name:"VWindow",directives:{Touch:eI},props:Dx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:r}=Br(e),{isRtl:s}=Wa(),{t:u}=li(),h=Yd(e,nI),o=dt(),p=Y(()=>s.value?!e.reverse:e.reverse),y=Rt(!1),b=Y(()=>{const ee=e.direction==="vertical"?"y":"x",re=(p.value?!y.value:y.value)?"-reverse":"";return`v-window-${ee}${re}-transition`}),k=Rt(0),C=dt(void 0),I=Y(()=>h.items.value.findIndex(ee=>h.selected.value.includes(ee.id)));ct(I,(ee,ie)=>{const re=h.items.value.length,le=re-1;re<=2?y.value=ee<ie:ee===le&&ie===0?y.value=!0:ee===0&&ie===le?y.value=!1:y.value=ee<ie}),xn(tI,{transition:b,isReversed:y,transitionCount:k,transitionHeight:C,rootRef:o});const R=Y(()=>e.continuous||I.value!==0),L=Y(()=>e.continuous||I.value!==h.items.value.length-1);function O(){R.value&&h.prev()}function B(){L.value&&h.next()}const q=Y(()=>{const ee=[],ie={icon:s.value?e.nextIcon:e.prevIcon,class:`v-window__${p.value?"right":"left"}`,onClick:h.prev,"aria-label":u("$vuetify.carousel.prev")};ee.push(R.value?n.prev?n.prev({props:ie}):T(Jt,ie,null):T("div",null,null));const re={icon:s.value?e.prevIcon:e.nextIcon,class:`v-window__${p.value?"left":"right"}`,onClick:h.next,"aria-label":u("$vuetify.carousel.next")};return ee.push(L.value?n.next?n.next({props:re}):T(Jt,re,null):T("div",null,null)),ee}),J=Y(()=>e.touch===!1?e.touch:{...{left:()=>{p.value?O():B()},right:()=>{p.value?B():O()},start:ie=>{let{originalEvent:re}=ie;re.stopPropagation()}},...e.touch===!0?{}:e.touch});return kt(()=>_i(T(e.tag,{ref:o,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},r.value,e.class],style:e.style},{default:()=>{var ee,ie;return[T("div",{class:"v-window__container",style:{height:C.value}},[(ee=n.default)==null?void 0:ee.call(n,{group:h}),e.showArrows!==!1&&T("div",{class:"v-window__controls"},[q.value])]),(ie=n.additional)==null?void 0:ie.call(n,{group:h})]}}),[[ao("touch"),J.value]])),{group:h}}}),p4=We({...Pr(Dx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),g4=ht()({name:"VStepperWindow",props:p4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=_t(Px,null),s=fn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return kt(()=>{const h=Qf.filterProps(e);return T(Qf,lt({_as:"VStepperWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-stepper-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}});function Am(){const e=Rt(!1);return Ni(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:Y(()=>e.value?void 0:{transition:"none !important"}),isBooted:dm(e)}}const Mx=We({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...un(),..._m(),...xx()},"VWindowItem"),ou=ht()({name:"VWindowItem",directives:{Touch:m4},props:Mx(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const r=_t(tI),s=bm(e,nI),{isBooted:u}=Am();if(!r||!s)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const h=Rt(!1),o=Y(()=>u.value&&(r.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function p(){!h.value||!r||(h.value=!1,r.transitionCount.value>0&&(r.transitionCount.value-=1,r.transitionCount.value===0&&(r.transitionHeight.value=void 0)))}function y(){var R;h.value||!r||(h.value=!0,r.transitionCount.value===0&&(r.transitionHeight.value=Ht((R=r.rootRef.value)==null?void 0:R.clientHeight)),r.transitionCount.value+=1)}function b(){p()}function k(R){h.value&&Jn(()=>{!o.value||!h.value||!r||(r.transitionHeight.value=Ht(R.clientHeight))})}const C=Y(()=>{const R=r.isReversed.value?e.reverseTransition:e.transition;return o.value?{name:typeof R!="string"?r.transition.value:R,onBeforeEnter:y,onAfterEnter:p,onEnterCancelled:b,onBeforeLeave:y,onAfterLeave:p,onLeaveCancelled:b,onEnter:k}:!1}),{hasContent:I}=wx(e,s.isSelected);return kt(()=>T(ks,{transition:C.value,disabled:!u.value},{default:()=>{var R;return[_i(T("div",{class:["v-window-item",s.selectedClass.value,e.class],style:e.style},[I.value&&((R=n.default)==null?void 0:R.call(n))]),[[bl,s.isSelected.value]])]}})),{groupItem:s}}}),v4=We({...Mx()},"VStepperWindowItem"),y4=ht()({name:"VStepperWindowItem",props:v4(),setup(e,t){let{slots:n}=t;return kt(()=>{const r=ou.filterProps(e);return T(ou,lt({_as:"VStepperWindowItem"},r,{class:["v-stepper-window-item",e.class],style:e.style}),n)}),{}}}),rI=We({altLabels:Boolean,bgColor:String,completeIcon:String,editIcon:String,editable:Boolean,errorIcon:String,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},nonLinear:Boolean,flat:Boolean,...Gd()},"Stepper"),_4=We({...rI(),...ym({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...ux(),...uA(Ex(),["prevText","nextText"])},"VStepper");ht()({name:"VStepper",props:_4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{items:r,next:s,prev:u,selected:h}=Yd(e,Px),{displayClasses:o,mobile:p}=wl(e),{completeIcon:y,editIcon:b,errorIcon:k,color:C,editable:I,prevText:R,nextText:L}=qd(e),O=Y(()=>e.items.map((J,ee)=>{const ie=Vi(J,e.itemTitle,J),re=Vi(J,e.itemValue,ee+1);return{title:ie,value:re,raw:J}})),B=Y(()=>r.value.findIndex(J=>h.value.includes(J.id))),q=Y(()=>e.disabled?e.disabled:B.value===0?"prev":B.value===r.value.length-1?"next":!1);return ma({VStepperItem:{editable:I,errorIcon:k,completeIcon:y,editIcon:b,prevText:R,nextText:L},VStepperActions:{color:C,disabled:q,prevText:R,nextText:L}}),kt(()=>{const J=dc.filterProps(e),ee=!!(n.header||e.items.length),ie=e.items.length>0,re=!e.hideActions&&!!(ie||n.actions);return T(dc,lt(J,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":p.value},o.value,e.class],style:e.style}),{default:()=>{var le,H;return[ee&&T(s4,{key:"stepper-header"},{default:()=>[O.value.map(($,Z)=>{let{raw:ae,...te}=$;return T(Gt,null,[!!Z&&T(yr,null,null),T(r4,te,{default:n[`header-item.${te.value}`]??n.header,icon:n.icon,title:n.title,subtitle:n.subtitle})])})]}),ie&&T(g4,{key:"stepper-window"},{default:()=>[O.value.map($=>T(y4,{value:$.value},{default:()=>{var Z,ae;return((Z=n[`item.${$.value}`])==null?void 0:Z.call(n,$))??((ae=n.item)==null?void 0:ae.call(n,$))}}))]}),(le=n.default)==null?void 0:le.call(n,{prev:u,next:s}),re&&(((H=n.actions)==null?void 0:H.call(n,{next:s,prev:u}))??T(qb,{key:"stepper-actions","onClick:prev":u,"onClick:next":s},n))]}})}),{prev:u,next:s}}});const b4=We({prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"},...rI(),...Pr(QE({mandatory:"force",variant:"accordion"}),["static"])},"VStepperVertical"),x4=ht()({name:"VStepperVertical",props:b4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dt(),{color:s,eager:u,editable:h,prevText:o,nextText:p,hideActions:y}=qd(e),b=fn(e,"modelValue"),k=Y(()=>e.items.map((C,I)=>{const R=Vi(C,e.itemTitle,C),L=Vi(C,e.itemValue,I+1);return{title:R,value:L,raw:C}}));return ma({VStepperVerticalItem:{color:s,eager:u,editable:h,prevText:o,nextText:p,hideActions:y,static:!0},VStepperActions:{color:s}}),kt(()=>{const C=uC.filterProps(e);return T(uC,lt(C,{modelValue:b.value,"onUpdate:modelValue":I=>b.value=I,ref:r,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{...n,default:I=>{var O;let{prev:R,next:L}=I;return T(Gt,null,[k.value.map(B=>{let{raw:q,...J}=B;return T(JE,J,{...n,default:n[`item.${J.value}`]})}),(O=n.default)==null?void 0:O.call(n,{prev:R,next:L,step:b.value})])}})}),{}}}),w4=ht()({name:"VPullToRefresh",props:{disabled:Boolean,pullDownThreshold:{type:Number,default:64}},emits:{load:e=>!0},setup(e,t){let{slots:n,emit:r}=t,s=0,u=[];const h=Rt(0),o=dt(),p=Rt(!1),y=Rt(!1),b=Rt(!1),k=Y(()=>h.value>=e.pullDownThreshold&&!p.value),C=Y(()=>Ki(h.value,0,e.pullDownThreshold));function I(O){p.value||e.disabled||(b.value=!0,s="clientY"in O?O.clientY:O.touches[0].clientY)}function R(O){if(p.value||!b.value||e.disabled)return;const B="clientY"in O?O.clientY:O.touches[0].clientY;u.length&&!u[0].scrollTop&&(h.value=B-s)}function L(O){if(!(p.value||e.disabled))if(b.value=!1,k.value){let q=function(){p.value&&(h.value=0,p.value=!1)};var B=q;r("load",{done:q}),p.value=!0}else h.value=0}Ni(()=>{u=Hf(o.value)}),ct([C,p],()=>{if(u.length){const O=C.value&&!p.value;u.forEach(B=>B.style.overflow=O?"hidden":"auto")}}),ct(C,(O,B)=>{y.value=O<B}),kt(()=>{var O;return T("div",{class:["v-pull-to-refresh"],onTouchstart:I,onTouchmove:R,onTouchend:L,onMousedown:I,onMouseup:L,onMouseleave:L,onMousemove:R,ref:o},[T("div",{class:["v-pull-to-refresh__pull-down",{"v-pull-to-refresh__pull-down--touching":b.value}],style:{top:Ht(-1*e.pullDownThreshold+C.value),height:Ht(e.pullDownThreshold)}},[n.pullDownPanel?n.pullDownPanel({canRefresh:k.value,goingUp:y.value,refreshing:p.value}):T("div",{class:["v-pull-to-refresh__pull-down-default"]},[p.value?T(dx,{indeterminate:!0,active:!1},null):T(rr,{icon:k.value||y.value?"$sortAsc":"$sortDesc"},null)])]),T("div",{class:["v-pull-to-refresh__scroll-container",{"v-pull-to-refresh__scroll-container--touching":b.value}],style:{top:Ht(C.value)}},[(O=n.default)==null?void 0:O.call(n)])])})}});function S4(e){const t=Rt(e());let n=-1;function r(){clearInterval(n)}function s(){r(),Jn(()=>t.value=e())}function u(h){const o=h?getComputedStyle(h):{transitionDuration:.2},p=parseFloat(o.transitionDuration)*1e3||200;if(r(),t.value<=0)return;const y=performance.now();n=window.setInterval(()=>{const b=performance.now()-y+p;t.value=Math.max(e()-b,0),t.value<=0&&r()},p)}return pa(r),{clear:r,time:t,start:u,reset:s}}const iI=We({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...bu({location:"bottom"}),...gm(),...Mi(),...oo(),...br(),...Pr(kv({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),dC=ht()({name:"VSnackbar",props:iI(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),{positionClasses:s}=vm(e),{scopeId:u}=Kd(),{themeClasses:h}=Br(e),{colorClasses:o,colorStyles:p,variantClasses:y}=xu(e),{roundedClasses:b}=$i(e),k=S4(()=>Number(e.timeout)),C=dt(),I=dt(),R=Rt(!1),L=Rt(0),O=dt(),B=_t(Wf,void 0);qa(()=>!!B,()=>{const ae=NA();bi(()=>{O.value=ae.mainStyles.value})}),ct(r,J),ct(()=>e.timeout,J),Ni(()=>{r.value&&J()});let q=-1;function J(){k.reset(),window.clearTimeout(q);const ae=Number(e.timeout);if(!r.value||ae===-1)return;const te=K0(I.value);k.start(te),q=window.setTimeout(()=>{r.value=!1},ae)}function ee(){k.reset(),window.clearTimeout(q)}function ie(){R.value=!0,ee()}function re(){R.value=!1,J()}function le(ae){L.value=ae.touches[0].clientY}function H(ae){Math.abs(L.value-ae.changedTouches[0].clientY)>50&&(r.value=!1)}function $(){R.value&&re()}const Z=Y(()=>e.location.split(" ").reduce((ae,te)=>(ae[`v-snackbar--${te}`]=!0,ae),{}));return kt(()=>{const ae=Vd.filterProps(e),te=!!(n.default||n.text||e.text);return T(Vd,lt({ref:C,class:["v-snackbar",{"v-snackbar--active":r.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},Z.value,s.value,e.class],style:[O.value,e.style]},ae,{modelValue:r.value,"onUpdate:modelValue":be=>r.value=be,contentProps:lt({class:["v-snackbar__wrapper",h.value,o.value,b.value,y.value],style:[p.value],onPointerenter:ie,onPointerleave:re},ae.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:le,onTouchend:H,onAfterLeave:$},u),{default:()=>{var be,me;return[_c(!1,"v-snackbar"),e.timer&&!R.value&&T("div",{key:"timer",class:"v-snackbar__timer"},[T(bv,{ref:I,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":k.time.value},null)]),te&&T("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((be=n.text)==null?void 0:be.call(n))??e.text,(me=n.default)==null?void 0:me.call(n)]),n.actions&&T(Bn,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[T("div",{class:"v-snackbar__actions"},[n.actions({isActive:r})])]})]},activator:n.activator})}),lo({},C)}}),k4=We({closable:[Boolean,String],closeText:{type:String,default:"$vuetify.dismiss"},modelValue:{type:Array,default:()=>[]},...Pr(iI(),["modelValue"])},"VSnackbarQueue"),C4=ht()({name:"VSnackbarQueue",props:k4(),emits:{"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li(),u=Rt(!1),h=Rt(!1),o=Rt();ct(()=>e.modelValue.length,(C,I)=>{!h.value&&C>I&&y()}),ct(u,C=>{C&&(h.value=!0)});function p(){e.modelValue.length?y():(o.value=void 0,h.value=!1)}function y(){const[C,...I]=e.modelValue;n("update:modelValue",I),o.value=typeof C=="string"?{text:C}:C,Jn(()=>{u.value=!0})}function b(){u.value=!1}const k=Y(()=>({color:typeof e.closable=="string"?e.closable:void 0,text:s(e.closeText)}));kt(()=>{const C=!!(e.closable||r.actions),{modelValue:I,...R}=dC.filterProps(e);return T(Gt,null,[h.value&&!!o.value&&(r.default?T(Bn,{defaults:{VSnackbar:o.value}},{default:()=>[r.default({item:o.value})]}):T(dC,lt(R,o.value,{modelValue:u.value,"onUpdate:modelValue":L=>u.value=L,onAfterLeave:p}),{text:r.text?()=>{var L;return(L=r.text)==null?void 0:L.call(r,{item:o.value})}:void 0,actions:C?()=>T(Gt,null,[r.actions?T(Bn,{defaults:{VBtn:k.value}},{default:()=>[r.actions({item:o.value,props:{onClick:b}})]}):T(Jt,lt(k.value,{onClick:b}),null)]):void 0}))])})}}),T4=We({allowedValues:Function,ampm:Boolean,color:String,disabled:Boolean,displayedValue:null,double:Boolean,format:{type:Function,default:e=>e},max:{type:Number,required:!0},min:{type:Number,required:!0},scrollable:Boolean,readonly:Boolean,rotate:{type:Number,default:0},step:{type:Number,default:1},modelValue:{type:Number}},"VTimePickerClock"),jb=ht()({name:"VTimePickerClock",props:T4(),emits:{change:e=>!0,input:e=>!0},setup(e,t){let{emit:n}=t;const r=dt(null),s=dt(null),u=dt(void 0),h=dt(!1),o=dt(null),p=dt(null),{textColorClasses:y,textColorStyles:b}=Ga(bt(e,"color")),{backgroundColorClasses:k,backgroundColorStyles:C}=yi(bt(e,"color")),I=Y(()=>e.max-e.min+1),R=Y(()=>e.double?I.value/2:I.value),L=Y(()=>360/R.value),O=Y(()=>L.value*Math.PI/180),B=Y(()=>e.modelValue==null?e.min:e.modelValue),q=Y(()=>.62),J=Y(()=>{const Fe=[];for(let Ce=e.min;Ce<=e.max;Ce=Ce+e.step)Fe.push(Ce);return Fe});ct(()=>e.modelValue,Fe=>{u.value=Fe});function ee(Fe){u.value!==Fe&&(u.value=Fe),n("input",Fe)}function ie(Fe){return!e.allowedValues||e.allowedValues(Fe)}function re(Fe){if(!e.scrollable||e.disabled)return;Fe.preventDefault();const Ce=Math.sign(-Fe.deltaY||1);let Ve=B.value;do Ve=Ve+Ce,Ve=(Ve-e.min+I.value)%I.value+e.min;while(!ie(Ve)&&Ve!==B.value);Ve!==e.displayedValue&&ee(Ve)}function le(Fe){return e.double&&Fe-e.min>=R.value}function H(Fe){return le(Fe)?q.value:1}function $(Fe){const Ce=e.rotate*Math.PI/180;return{x:Math.sin((Fe-e.min)*O.value+Ce)*H(Fe),y:-Math.cos((Fe-e.min)*O.value+Ce)*H(Fe)}}function Z(Fe,Ce){const Ve=(Math.round(Fe/L.value)+(Ce?R.value:0))%I.value+e.min;return Fe<360-L.value/2?Ve:Ce?e.max-R.value+1:e.min}function ae(Fe){const{x:Ce,y:Ve}=$(Fe);return{left:`${50+Ce*50}%`,top:`${50+Ve*50}%`}}function te(Fe,Ce){const Ve=Ce.x-Fe.x,$e=Ce.y-Fe.y;return Math.sqrt(Ve*Ve+$e*$e)}function be(Fe,Ce){const Ve=2*Math.atan2(Ce.y-Fe.y-te(Fe,Ce),Ce.x-Fe.x);return Math.abs(Ve*180/Math.PI)}function me(Fe){o.value===null&&(o.value=Fe),p.value=Fe,ee(Fe)}function Pe(Fe){var Je,It;if(Fe.preventDefault(),!h.value&&Fe.type!=="click"||!r.value)return;const{width:Ce,top:Ve,left:$e}=(Je=r.value)==null?void 0:Je.getBoundingClientRect(),{width:qe}=((It=s.value)==null?void 0:It.getBoundingClientRect())??{width:0},{clientX:gt,clientY:Ct}="touches"in Fe?Fe.touches[0]:Fe,$t={x:Ce/2,y:-Ce/2},vt={x:gt-$e,y:Ve-Ct},Ne=Math.round(be($t,vt)-e.rotate+360)%360,et=e.double&&te($t,vt)<(qe+qe*q.value)/4,je=Math.ceil(15/L.value);let Qe;for(let se=0;se<je;se++)if(Qe=Z(Ne+se*L.value,et),ie(Qe)||(Qe=Z(Ne-se*L.value,et),ie(Qe)))return me(Qe)}function Ae(Fe){e.disabled||(Fe.preventDefault(),window.addEventListener("mousemove",Pe),window.addEventListener("touchmove",Pe),window.addEventListener("mouseup",Ue),window.addEventListener("touchend",Ue),o.value=null,p.value=null,h.value=!0,Pe(Fe))}function Ue(Fe){Fe.stopPropagation(),window.removeEventListener("mousemove",Pe),window.removeEventListener("touchmove",Pe),window.removeEventListener("mouseup",Ue),window.removeEventListener("touchend",Ue),h.value=!1,p.value!==null&&ie(p.value)&&n("change",p.value)}kt(()=>T("div",{class:[{"v-time-picker-clock":!0,"v-time-picker-clock--indeterminate":e.modelValue==null,"v-time-picker-clock--readonly":e.readonly}],onMousedown:Ae,onTouchstart:Ae,onWheel:re,ref:r},[T("div",{class:"v-time-picker-clock__inner",ref:s},[T("div",{class:[{"v-time-picker-clock__hand":!0,"v-time-picker-clock__hand--inner":le(e.modelValue)},y.value],style:[{transform:`rotate(${e.rotate+L.value*(B.value-e.min)}deg) scaleY(${H(B.value)})`},b.value]},null),J.value.map(Fe=>{const Ce=Fe===B.value;return T("div",{class:[{"v-time-picker-clock__item":!0,"v-time-picker-clock__item--active":Ce,"v-time-picker-clock__item--disabled":e.disabled||!ie(Fe)},Ce&&k.value],style:[ae(Fe),Ce&&C.value]},[T("span",null,[e.format(Fe)])])})])]))}}),A4=(e,t,n)=>(t=t>>0,e=String(e),n=String(n),e.length>t?String(e):(t=t-e.length,t>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e))),Qc=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return A4(e,t,"0")};var si=function(e){return e[e.Hour=1]="Hour",e[e.Minute=2]="Minute",e[e.Second=3]="Second",e}(si||{});const E4=We({ampm:Boolean,ampmInTitle:Boolean,ampmReadonly:Boolean,color:String,disabled:Boolean,hour:Number,minute:Number,second:Number,period:String,readonly:Boolean,useSeconds:Boolean,selecting:Number,value:Number},"VTimePickerControls"),Hb=ht()({name:"VTimePickerControls",props:E4(),emits:{"update:period":e=>!0,"update:selecting":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li();return kt(()=>{let u=e.hour;return e.ampm&&(u=u?(u-1)%12+1:12),T("div",{class:"v-time-picker-controls"},[T("div",{class:{"v-time-picker-controls__time":!0,"v-time-picker-controls__time--with-seconds":e.useSeconds}},[T(Jt,{active:e.selecting===1,color:e.selecting===1?e.color:void 0,disabled:e.disabled,variant:"tonal",class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},text:e.hour==null?"--":Qc(`${u}`),onClick:()=>n("update:selecting",si.Hour)},null),T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}]},[zt(":")]),T(Jt,{active:e.selecting===2,color:e.selecting===2?e.color:void 0,class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===2,"v-time-picker-controls__time--with-ampm__btn":e.ampm,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,variant:"tonal",text:e.minute==null?"--":Qc(e.minute),onClick:()=>n("update:selecting",si.Minute)},null),e.useSeconds&&T("span",{class:["v-time-picker-controls__time__separator",{"v-time-picker-controls--with-seconds__time__separator":e.useSeconds}],key:"secondsDivider"},[zt(":")]),e.useSeconds&&T(Jt,{key:"secondsVal",variant:"tonal",onClick:()=>n("update:selecting",si.Second),class:{"v-time-picker-controls__time__btn":!0,"v-time-picker-controls__time__btn__active":e.selecting===3,"v-time-picker-controls__time--with-seconds__btn":e.useSeconds},disabled:e.disabled,text:e.second==null?"--":Qc(e.second)},null),e.ampm&&e.ampmInTitle&&T("div",{class:["v-time-picker-controls__ampm",{"v-time-picker-controls__ampm--readonly":e.ampmReadonly}]},[T(Jt,{active:e.period==="am",color:e.period==="am"?e.color:void 0,class:{"v-time-picker-controls__ampm__am":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="am"},disabled:e.disabled,text:s("$vuetify.timePicker.am"),variant:e.disabled&&e.period==="am"?"elevated":"tonal",onClick:()=>e.period!=="am"?n("update:period","am"):null},null),T(Jt,{active:e.period==="pm",color:e.period==="pm"?e.color:void 0,class:{"v-time-picker-controls__ampm__pm":!0,"v-time-picker-controls__ampm__btn":!0,"v-time-picker-controls__ampm__btn__active":e.period==="pm"},disabled:e.disabled,text:s("$vuetify.timePicker.pm"),variant:e.disabled&&e.period==="pm"?"elevated":"tonal",onClick:()=>e.period!=="pm"?n("update:period","pm"):null},null)])])])}),{}}}),I4=Xs(24),aI=Xs(12),P4=aI.map(e=>e+12);Xs(60);const D4={1:"hour",2:"minute",3:"second"},M4=We({allowedHours:[Function,Array],allowedMinutes:[Function,Array],allowedSeconds:[Function,Array],ampmInTitle:Boolean,disabled:Boolean,format:{type:String,default:"ampm"},max:String,min:String,modelValue:null,readonly:Boolean,scrollable:Boolean,useSeconds:Boolean,...Pr(bx({title:"$vuetify.timePicker.title"}),["landscape"])},"VTimePicker"),L4=ht()({name:"VTimePicker",props:M4(),emits:{"update:hour":e=>!0,"update:minute":e=>!0,"update:period":e=>!0,"update:second":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const{t:s}=li(),u=dt(null),h=dt(null),o=dt(null),p=dt(null),y=dt(null),b=dt(null),k=dt("am"),C=dt(si.Hour),I=dt(null),R=dt(null),L=Y(()=>{let te;if(e.allowedHours instanceof Array?te=Pe=>e.allowedHours.includes(Pe):te=e.allowedHours,!e.min&&!e.max)return te;const be=e.min?Number(e.min.split(":")[0]):0,me=e.max?Number(e.max.split(":")[0]):23;return Pe=>Pe>=be*1&&Pe<=me*1&&(!te||te(Pe))}),O=Y(()=>{let te;const be=!L.value||u.value===null||L.value(u.value);if(e.allowedMinutes instanceof Array?te=Ve=>e.allowedMinutes.includes(Ve):te=e.allowedMinutes,!e.min&&!e.max)return be?te:()=>!1;const[me,Pe]=e.min?e.min.split(":").map(Number):[0,0],[Ae,Ue]=e.max?e.max.split(":").map(Number):[23,59],Fe=me*60+Pe*1,Ce=Ae*60+Ue*1;return Ve=>{const $e=60*u.value+Ve;return $e>=Fe&&$e<=Ce&&be&&(!te||te(Ve))}}),B=Y(()=>{let te;const me=(!L.value||u.value===null||L.value(u.value))&&(!O.value||h.value===null||O.value(h.value));if(e.allowedSeconds instanceof Array?te=gt=>e.allowedSeconds.includes(gt):te=e.allowedSeconds,!e.min&&!e.max)return me?te:()=>!1;const[Pe,Ae,Ue]=e.min?e.min.split(":").map(Number):[0,0,0],[Fe,Ce,Ve]=e.max?e.max.split(":").map(Number):[23,59,59],$e=Pe*3600+Ae*60+(Ue||0)*1,qe=Fe*3600+Ce*60+(Ve||0)*1;return gt=>{const Ct=3600*u.value+60*h.value+gt;return Ct>=$e&&Ct<=qe&&me&&(!te||te(gt))}}),q=Y(()=>e.format==="ampm");ct(()=>e.modelValue,te=>le(te)),Ni(()=>{le(e.modelValue)});function J(){return u.value!=null&&h.value!=null&&(!e.useSeconds||o.value!=null)?`${Qc(u.value)}:${Qc(h.value)}`+(e.useSeconds?`:${Qc(o.value)}`:""):null}function ee(){const te=J();te!==null&&n("update:modelValue",te)}function ie(te){return te?(te-1)%12+1:12}function re(te,be){return te%12+(be==="pm"?12:0)}function le(te){if(te==null||te==="")u.value=null,h.value=null,o.value=null;else if(te instanceof Date)u.value=te.getHours(),h.value=te.getMinutes(),o.value=te.getSeconds();else{const[be,,me,,Pe,Ae]=te.trim().toLowerCase().match(/^(\d+):(\d+)(:(\d+))?([ap]m)?$/)||new Array(6);u.value=Ae?re(parseInt(be,10),Ae):parseInt(be,10),h.value=parseInt(me,10),o.value=parseInt(Pe||0,10)}k.value=u.value==null||u.value<12?"am":"pm"}function H(te,be){const me=L.value;if(!me)return be;const Pe=q.value?be<12?aI:P4:I4;return((Pe.find(Ue=>me((Ue+be)%Pe.length+Pe[0]))||0)+be)%Pe.length+Pe[0]}function $(te){if(k.value=te,u.value!=null){const be=u.value+(k.value==="am"?-12:12);u.value=H("hour",be)}return n("update:period",te),ee(),!0}function Z(te){C.value===si.Hour?u.value=q.value?re(te,k.value):te:C.value===si.Minute?h.value=te:o.value=te}function ae(te){switch(D4[C.value]){case"hour":n("update:hour",te);break;case"minute":n("update:minute",te);break;case"second":n("update:second",te);break}const be=C.value===(e.useSeconds?si.Second:si.Minute);C.value===si.Hour?C.value=si.Minute:e.useSeconds&&C.value===si.Minute&&(C.value=si.Second),!(u.value===p.value&&h.value===y.value&&(!e.useSeconds||o.value===b.value)||J()===null)&&(p.value=u.value,y.value=h.value,e.useSeconds&&(b.value=o.value),be&&ee())}kt(()=>{const te=Xf.filterProps(e),be=Hb.filterProps(e),me=jb.filterProps(Pr(e,["format","modelValue","min","max"]));return T(Xf,lt(te,{color:void 0,class:["v-time-picker",e.class],style:e.style}),{title:()=>{var Pe;return((Pe=r.title)==null?void 0:Pe.call(r))??T("div",{class:"v-time-picker__title"},[s(e.title)])},header:()=>T(Hb,lt(be,{ampm:q.value||e.ampmInTitle,ampmReadonly:q.value&&!e.ampmInTitle,hour:u.value,minute:h.value,period:k.value,second:o.value,selecting:C.value,"onUpdate:period":Pe=>$(Pe),"onUpdate:selecting":Pe=>C.value=Pe,ref:I}),null),default:()=>T(jb,lt(me,{allowedValues:C.value===si.Hour?L.value:C.value===si.Minute?O.value:B.value,double:C.value===si.Hour&&!q.value,format:C.value===si.Hour?q.value?ie:Pe=>Pe:Pe=>Qc(Pe,2),max:C.value===si.Hour?q.value&&k.value==="am"?11:23:59,min:C.value===si.Hour&&q.value&&k.value==="pm"?12:0,size:20,step:C.value===si.Hour?1:5,modelValue:C.value===si.Hour?u.value:C.value===si.Minute?h.value:o.value,onChange:ae,onInput:Z,ref:R}),null),actions:r.actions})})}}),Gb=Symbol.for("vuetify:list");function sI(){const e=_t(Gb,{hasPrepend:Rt(!1),updateHasPrepend:()=>null}),t={hasPrepend:Rt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return xn(Gb,t),e}function oI(){return _t(Gb,null)}const Lx=e=>{const t={activate:n=>{let{id:r,value:s,activated:u}=n;return r=an(r),e&&!s&&u.size===1&&u.has(r)||(s?u.add(r):u.delete(r)),u},in:(n,r,s)=>{let u=new Set;if(n!=null)for(const h of Zr(n))u=t.activate({id:h,value:!0,activated:new Set(u),children:r,parents:s});return u},out:n=>Array.from(n)};return t},lI=e=>{const t=Lx(e);return{activate:r=>{let{activated:s,id:u,...h}=r;u=an(u);const o=s.has(u)?new Set([u]):new Set;return t.activate({...h,id:u,activated:o})},in:(r,s,u)=>{let h=new Set;if(r!=null){const o=Zr(r);o.length&&(h=t.in(o.slice(0,1),s,u))}return h},out:(r,s,u)=>t.out(r,s,u)}},R4=e=>{const t=Lx(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},O4=e=>{const t=lI(e);return{activate:r=>{let{id:s,activated:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.activate({id:s,activated:u,children:h,...o})},in:t.in,out:t.out}},F4={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){const u=new Set;u.add(t);let h=s.get(t);for(;h!=null;)u.add(h),h=s.get(h);return u}else return r.delete(t),r},select:()=>null},cI={open:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(n){let u=an(s.get(t));for(r.add(t);u!=null&&u!==t;)r.add(u),u=an(s.get(u));return r}else r.delete(t);return r},select:()=>null},z4={open:cI.open,select:e=>{let{id:t,value:n,opened:r,parents:s}=e;if(!n)return r;const u=[];let h=s.get(t);for(;h!=null;)u.push(h),h=s.get(h);return new Set(u)}},Rx=e=>{const t={select:n=>{let{id:r,value:s,selected:u}=n;if(r=an(r),e&&!s){const h=Array.from(u.entries()).reduce((o,p)=>{let[y,b]=p;return b==="on"&&o.push(y),o},[]);if(h.length===1&&h[0]===r)return u}return u.set(r,s?"on":"off"),u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:n=>{const r=[];for(const[s,u]of n.entries())u==="on"&&r.push(s);return r}};return t},uI=e=>{const t=Rx(e);return{select:r=>{let{selected:s,id:u,...h}=r;u=an(u);const o=s.has(u)?new Map([[u,s.get(u)]]):new Map;return t.select({...h,id:u,selected:o})},in:(r,s,u)=>{let h=new Map;return r!=null&&r.length&&(h=t.in(r.slice(0,1),s,u)),h},out:(r,s,u)=>t.out(r,s,u)}},B4=e=>{const t=Rx(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},V4=e=>{const t=uI(e);return{select:r=>{let{id:s,selected:u,children:h,...o}=r;return s=an(s),h.has(s)?u:t.select({id:s,selected:u,children:h,...o})},in:t.in,out:t.out}},N4=e=>{const t={select:n=>{let{id:r,value:s,selected:u,children:h,parents:o}=n;r=an(r);const p=new Map(u),y=[r];for(;y.length;){const k=y.shift();u.set(an(k),s?"on":"off"),h.has(k)&&y.push(...h.get(k))}let b=an(o.get(r));for(;b;){const k=h.get(b),C=k.every(R=>u.get(an(R))==="on"),I=k.every(R=>!u.has(an(R))||u.get(an(R))==="off");u.set(b,C?"on":I?"off":"indeterminate"),b=an(o.get(b))}return e&&!s&&Array.from(u.entries()).reduce((C,I)=>{let[R,L]=I;return L==="on"&&C.push(R),C},[]).length===0?p:u},in:(n,r,s)=>{let u=new Map;for(const h of n||[])u=t.select({id:h,value:!0,selected:new Map(u),children:r,parents:s});return u},out:(n,r)=>{const s=[];for(const[u,h]of n.entries())h==="on"&&!r.has(u)&&s.push(u);return s}};return t},em=Symbol.for("vuetify:nested"),dI={id:Rt(),root:{register:()=>null,unregister:()=>null,parents:dt(new Map),children:dt(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:dt(!1),selectable:dt(!1),opened:dt(new Set),activated:dt(new Set),selected:dt(new Map),selectedValues:dt([])}},$4=We({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),U4=e=>{let t=!1;const n=dt(new Map),r=dt(new Map),s=fn(e,"opened",e.opened,I=>new Set(an(I)),I=>[...I.values()]),u=Y(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return R4(e.mandatory);case"single-leaf":return O4(e.mandatory);case"independent":return Lx(e.mandatory);case"single-independent":default:return lI(e.mandatory)}}),h=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return V4(e.mandatory);case"leaf":return B4(e.mandatory);case"independent":return Rx(e.mandatory);case"single-independent":return uI(e.mandatory);case"classic":default:return N4(e.mandatory)}}),o=Y(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return z4;case"single":return F4;case"multiple":default:return cI}}),p=fn(e,"activated",e.activated,I=>u.value.in(I,n.value,r.value),I=>u.value.out(I,n.value,r.value)),y=fn(e,"selected",e.selected,I=>h.value.in(I,n.value,r.value),I=>h.value.out(I,n.value,r.value));_r(()=>{t=!0});function b(I){const R=[];let L=I;for(;L!=null;)R.unshift(L),L=r.value.get(L);return R}const k=Kr("nested"),C={id:Rt(),root:{opened:s,activatable:bt(e,"activatable"),selectable:bt(e,"selectable"),activated:p,selected:y,selectedValues:Y(()=>{const I=[];for(const[R,L]of y.value.entries())L==="on"&&I.push(R);return I}),register:(I,R,L)=>{R&&I!==R&&r.value.set(I,R),L&&n.value.set(I,[]),R!=null&&n.value.set(R,[...n.value.get(R)||[],I])},unregister:I=>{if(t)return;n.value.delete(I);const R=r.value.get(I);if(R){const L=n.value.get(R)??[];n.value.set(R,L.filter(O=>O!==I))}r.value.delete(I)},open:(I,R,L)=>{k.emit("click:open",{id:I,value:R,path:b(I),event:L});const O=o.value.open({id:I,value:R,opened:new Set(s.value),children:n.value,parents:r.value,event:L});O&&(s.value=O)},openOnSelect:(I,R,L)=>{const O=o.value.select({id:I,value:R,selected:new Map(y.value),opened:new Set(s.value),children:n.value,parents:r.value,event:L});O&&(s.value=O)},select:(I,R,L)=>{k.emit("click:select",{id:I,value:R,path:b(I),event:L});const O=h.value.select({id:I,value:R,selected:new Map(y.value),children:n.value,parents:r.value,event:L});O&&(y.value=O),C.root.openOnSelect(I,R,L)},activate:(I,R,L)=>{if(!e.activatable)return C.root.select(I,!0,L);k.emit("click:activate",{id:I,value:R,path:b(I),event:L});const O=u.value.activate({id:I,value:R,activated:new Set(p.value),children:n.value,parents:r.value,event:L});O&&(p.value=O)},children:n,parents:r}};return xn(em,C),C.root},Ox=(e,t)=>{const n=_t(em,dI),r=Symbol(Is()),s=Y(()=>e.value!==void 0?e.value:r),u={...n,id:s,open:(h,o)=>n.root.open(an(s.value),h,o),openOnSelect:(h,o)=>n.root.openOnSelect(s.value,h,o),isOpen:Y(()=>n.root.opened.value.has(an(s.value))),parent:Y(()=>n.root.parents.value.get(s.value)),activate:(h,o)=>n.root.activate(s.value,h,o),isActivated:Y(()=>n.root.activated.value.has(an(s.value))),select:(h,o)=>n.root.select(s.value,h,o),isSelected:Y(()=>n.root.selected.value.get(an(s.value))==="on"),isIndeterminate:Y(()=>n.root.selected.value.get(s.value)==="indeterminate"),isLeaf:Y(()=>!n.root.children.value.get(s.value)),isGroupActivator:n.isGroupActivator};return!n.isGroupActivator&&n.root.register(s.value,n.id.value,t),_r(()=>{!n.isGroupActivator&&n.root.unregister(s.value)}),t&&xn(em,u),u},q4=()=>{const e=_t(em,dI);xn(em,{...e,isGroupActivator:!0})},j4=jd({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return q4(),()=>{var r;return(r=n.default)==null?void 0:r.call(n)}}}),hI=We({activeColor:String,baseColor:String,color:String,collapseIcon:{type:pn,default:"$collapse"},expandIcon:{type:pn,default:"$expand"},prependIcon:pn,appendIcon:pn,fluid:Boolean,subgroup:Boolean,title:String,value:null,...un(),...Kn()},"VListGroup"),Ks=ht()({name:"VListGroup",props:hI(),setup(e,t){let{slots:n}=t;const{isOpen:r,open:s,id:u}=Ox(bt(e,"value"),!0),h=Y(()=>`v-list-group--id-${String(u.value)}`),o=oI(),{isBooted:p}=Am();function y(I){I.stopPropagation(),s(!r.value,I)}const b=Y(()=>({onClick:y,class:"v-list-group__header",id:h.value})),k=Y(()=>r.value?e.collapseIcon:e.expandIcon),C=Y(()=>({VListItem:{active:r.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&k.value,appendIcon:e.appendIcon||!e.subgroup&&k.value,title:e.title,value:e.value}}));return kt(()=>T(e.tag,{class:["v-list-group",{"v-list-group--prepend":o==null?void 0:o.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":r.value},e.class],style:e.style},{default:()=>[n.activator&&T(Bn,{defaults:C.value},{default:()=>[T(j4,null,{default:()=>[n.activator({props:b.value,isOpen:r.value})]})]}),T(ks,{transition:{component:px},disabled:!p.value},{default:()=>{var I;return[_i(T("div",{class:"v-list-group__items",role:"group","aria-labelledby":h.value},[(I=n.default)==null?void 0:I.call(n)]),[[bl,r.value]])]}})]})),{isOpen:r}}}),H4=We({...Pr(hI({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand"}),["subgroup"])},"VTreeviewGroup"),Wb=ht()({name:"VTreeviewGroup",props:H4(),setup(e,t){let{slots:n}=t;const r=dt(),s=Y(()=>{var h;return(h=r.value)!=null&&h.isOpen?e.collapseIcon:e.expandIcon}),u=Y(()=>{var h;return{VTreeviewItem:{prependIcon:void 0,appendIcon:void 0,active:(h=r.value)==null?void 0:h.isOpen,toggleIcon:s.value}}});return kt(()=>{const h=Ks.filterProps(e);return T(Ks,lt(h,{ref:r,class:["v-treeview-group",e.class],subgroup:!0}),{...n,activator:n.activator?o=>T(Gt,null,[T(Bn,{defaults:u.value},{default:()=>{var p;return[(p=n.activator)==null?void 0:p.call(n,o)]}})]):void 0})}),{}}}),G4=We({opacity:[Number,String],...un(),...Kn()},"VListItemSubtitle"),W4=ht()({name:"VListItemSubtitle",props:G4(),setup(e,t){let{slots:n}=t;return kt(()=>T(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),ws=Hd("v-list-item-title"),fI=We({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:pn,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:pn,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:[String,Number],title:[String,Number],value:null,onClick:Di(),onClickOnce:Di(),...Ps(),...un(),...Ya(),...os(),...cs(),...Mi(),...Sv(),...Kn(),...br(),...oo({variant:"text"})},"VListItem"),Or=ht()({name:"VListItem",directives:{Ripple:wu},props:fI(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=wm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),{activate:o,isActivated:p,select:y,isOpen:b,isSelected:k,isIndeterminate:C,isGroupActivator:I,root:R,parent:L,openOnSelect:O}=Ox(h,!1),B=oI(),q=Y(()=>{var $e;return e.active!==!1&&(e.active||(($e=u.isActive)==null?void 0:$e.value)||(R.activatable.value?p.value:k.value))}),J=Y(()=>e.link!==!1&&u.isLink.value),ee=Y(()=>!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||!!B&&(R.selectable.value||R.activatable.value||e.value!=null))),ie=Y(()=>e.rounded||e.nav),re=Y(()=>e.color??e.activeColor),le=Y(()=>({color:q.value?re.value??e.baseColor:e.baseColor,variant:e.variant}));ct(()=>{var $e;return($e=u.isActive)==null?void 0:$e.value},$e=>{$e&&L.value!=null&&R.open(L.value,!0),$e&&O($e)},{immediate:!0});const{themeClasses:H}=Br(e),{borderClasses:$}=so(e),{colorClasses:Z,colorStyles:ae,variantClasses:te}=xu(le),{densityClasses:be}=Ms(e),{dimensionStyles:me}=ls(e),{elevationClasses:Pe}=Ds(e),{roundedClasses:Ae}=$i(ie),Ue=Y(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),Fe=Y(()=>({isActive:q.value,select:y,isOpen:b.value,isSelected:k.value,isIndeterminate:C.value}));function Ce($e){var qe;s("click",$e),ee.value&&((qe=u.navigate)==null||qe.call(u,$e),!I&&(R.activatable.value?o(!p.value,$e):(R.selectable.value||e.value!=null)&&y(!k.value,$e)))}function Ve($e){($e.key==="Enter"||$e.key===" ")&&($e.preventDefault(),$e.target.dispatchEvent(new MouseEvent("click",$e)))}return kt(()=>{const $e=J.value?"a":e.tag,qe=r.title||e.title!=null,gt=r.subtitle||e.subtitle!=null,Ct=!!(e.appendAvatar||e.appendIcon),$t=!!(Ct||r.append),vt=!!(e.prependAvatar||e.prependIcon),Ne=!!(vt||r.prepend);return B==null||B.updateHasPrepend(Ne),e.activeColor&&XF("active-color",["color","base-color"]),_i(T($e,{class:["v-list-item",{"v-list-item--active":q.value,"v-list-item--disabled":e.disabled,"v-list-item--link":ee.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!Ne&&(B==null?void 0:B.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&q.value},H.value,$.value,Z.value,be.value,Pe.value,Ue.value,Ae.value,te.value,e.class],style:[ae.value,me.value,e.style],href:u.href.value,tabindex:ee.value?B?-2:0:void 0,onClick:Ce,onKeydown:ee.value&&!J.value&&Ve},{default:()=>{var et;return[_c(ee.value||q.value,"v-list-item"),Ne&&T("div",{key:"prepend",class:"v-list-item__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!vt,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var je;return[(je=r.prepend)==null?void 0:je.call(r,Fe.value)]}}):T(Gt,null,[e.prependAvatar&&T(Mo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(rr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),T("div",{class:"v-list-item__spacer"},null)]),T("div",{class:"v-list-item__content","data-no-activator":""},[qe&&T(ws,{key:"title"},{default:()=>{var je;return[((je=r.title)==null?void 0:je.call(r,{title:e.title}))??e.title]}}),gt&&T(W4,{key:"subtitle"},{default:()=>{var je;return[((je=r.subtitle)==null?void 0:je.call(r,{subtitle:e.subtitle}))??e.subtitle]}}),(et=r.default)==null?void 0:et.call(r,Fe.value)]),$t&&T("div",{key:"append",class:"v-list-item__append"},[r.append?T(Bn,{key:"append-defaults",disabled:!Ct,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var je;return[(je=r.append)==null?void 0:je.call(r,Fe.value)]}}):T(Gt,null,[e.appendIcon&&T(rr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Mo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),T("div",{class:"v-list-item__spacer"},null)])]}}),[[ao("ripple"),ee.value&&e.ripple]])}),{activate:o,isActivated:p,isGroupActivator:I,isSelected:k,list:B,select:y}}}),Y4=We({color:String,inset:Boolean,sticky:Boolean,title:String,...un(),...Kn()},"VListSubheader"),mI=ht()({name:"VListSubheader",props:Y4(),setup(e,t){let{slots:n}=t;const{textColorClasses:r,textColorStyles:s}=Ga(bt(e,"color"));return kt(()=>{const u=!!(n.default||e.title);return T(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},r.value,e.class],style:[{textColorStyles:s},e.style]},{default:()=>{var h;return[u&&T("div",{class:"v-list-subheader__text"},[((h=n.default)==null?void 0:h.call(n))??e.title])]}})}),{}}}),Z4=We({items:Array,returnObject:Boolean},"VListChildren"),pI=ht()({name:"VListChildren",props:Z4(),setup(e,t){let{slots:n}=t;return sI(),()=>{var r,s;return((r=n.default)==null?void 0:r.call(n))??((s=e.items)==null?void 0:s.map(u=>{var C,I;let{children:h,props:o,type:p,raw:y}=u;if(p==="divider")return((C=n.divider)==null?void 0:C.call(n,{props:o}))??T(yr,o,null);if(p==="subheader")return((I=n.subheader)==null?void 0:I.call(n,{props:o}))??T(mI,o,null);const b={subtitle:n.subtitle?R=>{var L;return(L=n.subtitle)==null?void 0:L.call(n,{...R,item:y})}:void 0,prepend:n.prepend?R=>{var L;return(L=n.prepend)==null?void 0:L.call(n,{...R,item:y})}:void 0,append:n.append?R=>{var L;return(L=n.append)==null?void 0:L.call(n,{...R,item:y})}:void 0,title:n.title?R=>{var L;return(L=n.title)==null?void 0:L.call(n,{...R,item:y})}:void 0},k=Ks.filterProps(o);return h?T(Ks,lt({value:o==null?void 0:o.value},k),{activator:R=>{let{props:L}=R;const O={...o,...L,value:e.returnObject?y:o.value};return n.header?n.header({props:O}):T(Or,O,b)},default:()=>T(pI,{items:h,returnObject:e.returnObject},n)}):n.item?n.item({props:o}):T(Or,lt(o,{value:e.returnObject?y:o.value}),b)}))}}}),gI=We({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:{type:Function,default:xl}},"list-items");function Yb(e,t){const n=Vi(t,e.itemTitle,t),r=Vi(t,e.itemValue,n),s=Vi(t,e.itemChildren),u=e.itemProps===!0?typeof t=="object"&&t!=null&&!Array.isArray(t)?"children"in t?Pr(t,["children"]):t:void 0:Vi(t,e.itemProps),h={title:n,value:r,...u};return{title:String(h.title??""),value:h.value,props:h,children:Array.isArray(s)?vI(e,s):void 0,raw:t}}function vI(e,t){const n=[];for(const r of t)n.push(Yb(e,r));return n}function yI(e){const t=Y(()=>vI(e,e.items)),n=Y(()=>t.value.some(u=>u.value===null));function r(u){return n.value||(u=u.filter(h=>h!==null)),u.map(h=>e.returnObject&&typeof h=="string"?Yb(e,h):t.value.find(o=>e.valueComparator(h,o.value))||Yb(e,h))}function s(u){return e.returnObject?u.map(h=>{let{raw:o}=h;return o}):u.map(h=>{let{value:o}=h;return o})}return{items:t,transformIn:r,transformOut:s}}function K4(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"}function X4(e,t){const n=Vi(t,e.itemType,"item"),r=K4(t)?t:Vi(t,e.itemTitle),s=Vi(t,e.itemValue,void 0),u=Vi(t,e.itemChildren),h=e.itemProps===!0?Pr(t,["children"]):Vi(t,e.itemProps),o={title:r,value:s,...h};return{type:n,title:o.title,value:o.value,props:o,children:n==="item"&&u?_I(e,u):void 0,raw:t}}function _I(e,t){const n=[];for(const r of t)n.push(X4(e,r));return n}function bI(e){return{items:Y(()=>_I(e,e.items))}}const xI=We({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:String,collapseIcon:String,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Di(),"onClick:select":Di(),"onUpdate:opened":Di(),...$4({selectStrategy:"single-leaf",openStrategy:"list"}),...Ps(),...un(),...Ya(),...os(),...cs(),itemType:{type:String,default:"type"},...gI(),...Mi(),...Kn(),...br(),...oo({variant:"text"})},"VList"),tm=ht()({name:"VList",props:xI(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=bI(e),{themeClasses:s}=Br(e),{backgroundColorClasses:u,backgroundColorStyles:h}=yi(bt(e,"bgColor")),{borderClasses:o}=so(e),{densityClasses:p}=Ms(e),{dimensionStyles:y}=ls(e),{elevationClasses:b}=Ds(e),{roundedClasses:k}=$i(e),{children:C,open:I,parents:R,select:L}=U4(e),O=Y(()=>e.lines?`v-list--${e.lines}-line`:void 0),B=bt(e,"activeColor"),q=bt(e,"baseColor"),J=bt(e,"color");sI(),ma({VListGroup:{activeColor:B,baseColor:q,color:J,expandIcon:bt(e,"expandIcon"),collapseIcon:bt(e,"collapseIcon")},VListItem:{activeClass:bt(e,"activeClass"),activeColor:B,baseColor:q,color:J,density:bt(e,"density"),disabled:bt(e,"disabled"),lines:bt(e,"lines"),nav:bt(e,"nav"),slim:bt(e,"slim"),variant:bt(e,"variant")}});const ee=Rt(!1),ie=dt();function re(te){ee.value=!0}function le(te){ee.value=!1}function H(te){var be;!ee.value&&!(te.relatedTarget&&((be=ie.value)!=null&&be.contains(te.relatedTarget)))&&ae()}function $(te){const be=te.target;if(!(!ie.value||["INPUT","TEXTAREA"].includes(be.tagName))){if(te.key==="ArrowDown")ae("next");else if(te.key==="ArrowUp")ae("prev");else if(te.key==="Home")ae("first");else if(te.key==="End")ae("last");else return;te.preventDefault()}}function Z(te){ee.value=!0}function ae(te){if(ie.value)return Pf(ie.value,te)}return kt(()=>T(e.tag,{ref:ie,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},s.value,u.value,o.value,p.value,b.value,O.value,k.value,e.class],style:[h.value,y.value,e.style],tabindex:e.disabled||ee.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:re,onFocusout:le,onFocus:H,onKeydown:$,onMousedown:Z},{default:()=>[T(pI,{items:r.value,returnObject:e.returnObject},n)]})),{open:I,select:L,focus:ae,children:C,parents:R}}}),J4=We({start:Boolean,end:Boolean,...un(),...Kn()},"VListItemAction"),Q4=ht()({name:"VListItemAction",props:J4(),setup(e,t){let{slots:n}=t;return kt(()=>T(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),wI=Symbol.for("vuetify:v-treeview"),e5=We({loading:Boolean,onToggleExpand:Di(),toggleIcon:pn,...fI({slim:!0})},"VTreeviewItem"),Zb=ht()({name:"VTreeviewItem",props:e5(),setup(e,t){let{attrs:n,slots:r,emit:s}=t;const u=wm(e,n),h=Y(()=>e.value===void 0?u.href.value:e.value),o=dt(),{activate:p,isActivated:y,isGroupActivator:b,root:k,id:C}=Ox(h,!1),I=Y(()=>k.activatable.value&&b),R=Y(()=>{var B;return!e.disabled&&e.link!==!1&&(e.link||u.isClickable.value||e.value!=null&&!!((B=o.value)!=null&&B.list)||I.value)});function L(B){var q,J;!R.value||!I.value&&b||k.activatable.value&&(I.value?p(!y.value,B):(J=o.value)==null||J.activate(!((q=o.value)!=null&&q.isActivated),B))}const O=_t(wI,{visibleIds:dt()}).visibleIds;return kt(()=>{const B=Pr(Or.filterProps(e),["onClick"]),q=r.prepend||e.toggleIcon;return T(Or,lt(B,{active:y.value,class:["v-treeview-item",{"v-treeview-item--activatable-group-activator":I.value,"v-treeview-item--filtered":O.value&&!O.value.has(C.value)},e.class],ripple:!1,onClick:e.onClick??L}),{...r,prepend:q?J=>{var ee;return T(Gt,null,[e.toggleIcon&&T(Q4,{start:!1},{default:()=>[T(Jt,{density:"compact",icon:e.toggleIcon,loading:e.loading,variant:"text",onClick:e.onToggleExpand},{loader(){return T(dx,{indeterminate:"disable-shrink",size:"20",width:"2"},null)}})]}),(ee=r.prepend)==null?void 0:ee.call(r,J)])}:void 0})}),{}}}),SI=Symbol.for("vuetify:selection-control-group"),Fx=We({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:pn,trueIcon:pn,ripple:{type:[Boolean,Object],default:!0},multiple:{type:Boolean,default:null},name:String,readonly:{type:Boolean,default:null},modelValue:null,type:String,valueComparator:{type:Function,default:xl},...un(),...Ya(),...br()},"SelectionControlGroup"),t5=We({...Fx({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),n5=ht()({name:"VSelectionControlGroup",props:t5(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"modelValue"),s=Is(),u=Y(()=>e.id||`v-selection-control-group-${s}`),h=Y(()=>e.name||u.value),o=new Set;return xn(SI,{modelValue:r,forceUpdate:()=>{o.forEach(p=>p())},onForceUpdate:p=>{o.add(p),pa(()=>{o.delete(p)})}}),ma({[e.defaultsTarget]:{color:bt(e,"color"),disabled:bt(e,"disabled"),density:bt(e,"density"),error:bt(e,"error"),inline:bt(e,"inline"),modelValue:r,multiple:Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),name:h,falseIcon:bt(e,"falseIcon"),trueIcon:bt(e,"trueIcon"),readonly:bt(e,"readonly"),ripple:bt(e,"ripple"),type:bt(e,"type"),valueComparator:bt(e,"valueComparator")}}),kt(()=>{var p;return T("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":e.inline},e.class],style:e.style,role:e.type==="radio"?"radiogroup":void 0},[(p=n.default)==null?void 0:p.call(n)])}),{}}}),zx=We({label:String,baseColor:String,trueValue:null,falseValue:null,value:null,...un(),...Fx()},"VSelectionControl");function r5(e){const t=_t(SI,void 0),{densityClasses:n}=Ms(e),r=fn(e,"modelValue"),s=Y(()=>e.trueValue!==void 0?e.trueValue:e.value!==void 0?e.value:!0),u=Y(()=>e.falseValue!==void 0?e.falseValue:!1),h=Y(()=>!!e.multiple||e.multiple==null&&Array.isArray(r.value)),o=Y({get(){const I=t?t.modelValue.value:r.value;return h.value?Zr(I).some(R=>e.valueComparator(R,s.value)):e.valueComparator(I,s.value)},set(I){if(e.readonly)return;const R=I?s.value:u.value;let L=R;h.value&&(L=I?[...Zr(r.value),R]:Zr(r.value).filter(O=>!e.valueComparator(O,s.value))),t?t.modelValue.value=L:r.value=L}}),{textColorClasses:p,textColorStyles:y}=Ga(Y(()=>{if(!(e.error||e.disabled))return o.value?e.color:e.baseColor})),{backgroundColorClasses:b,backgroundColorStyles:k}=yi(Y(()=>o.value&&!e.error&&!e.disabled?e.color:e.baseColor)),C=Y(()=>o.value?e.trueIcon:e.falseIcon);return{group:t,densityClasses:n,trueValue:s,falseValue:u,model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:b,backgroundColorStyles:k,icon:C}}const nm=ht()({name:"VSelectionControl",directives:{Ripple:wu},inheritAttrs:!1,props:zx(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{group:s,densityClasses:u,icon:h,model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:b,backgroundColorStyles:k,trueValue:C}=r5(e),I=Is(),R=Rt(!1),L=Rt(!1),O=dt(),B=Y(()=>e.id||`input-${I}`),q=Y(()=>!e.disabled&&!e.readonly);s==null||s.onForceUpdate(()=>{O.value&&(O.value.checked=o.value)});function J(le){q.value&&(R.value=!0,zd(le.target,":focus-visible")!==!1&&(L.value=!0))}function ee(){R.value=!1,L.value=!1}function ie(le){le.stopPropagation()}function re(le){if(!q.value){O.value&&(O.value.checked=o.value);return}e.readonly&&s&&Jn(()=>s.forceUpdate()),o.value=le.target.checked}return kt(()=>{var ae,te;const le=r.label?r.label({label:e.label,props:{for:B.value}}):e.label,[H,$]=pm(n),Z=T("input",lt({ref:O,checked:o.value,disabled:!!e.disabled,id:B.value,onBlur:ee,onFocus:J,onInput:re,"aria-disabled":!!e.disabled,"aria-label":e.label,type:e.type,value:C.value,name:e.name,"aria-checked":e.type==="checkbox"?o.value:void 0},$),null);return T("div",lt({class:["v-selection-control",{"v-selection-control--dirty":o.value,"v-selection-control--disabled":e.disabled,"v-selection-control--error":e.error,"v-selection-control--focused":R.value,"v-selection-control--focus-visible":L.value,"v-selection-control--inline":e.inline},u.value,e.class]},H,{style:e.style}),[T("div",{class:["v-selection-control__wrapper",p.value],style:y.value},[(ae=r.default)==null?void 0:ae.call(r,{backgroundColorClasses:b,backgroundColorStyles:k}),_i(T("div",{class:["v-selection-control__input"]},[((te=r.input)==null?void 0:te.call(r,{model:o,textColorClasses:p,textColorStyles:y,backgroundColorClasses:b,backgroundColorStyles:k,inputNode:Z,icon:h.value,props:{onFocus:J,onBlur:ee,id:B.value}}))??T(Gt,null,[h.value&&T(rr,{key:"icon",icon:h.value},null),Z])]),[[ao("ripple"),e.ripple&&[!e.disabled&&!e.readonly,null,["center","circle"]]]])]),le&&T(Cx,{for:B.value,onClick:ie},{default:()=>[le]})])}),{isFocused:R,input:O}}}),i5=We({indeterminate:Boolean,indeterminateIcon:{type:pn,default:"$checkboxIndeterminate"},...zx({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),Xd=ht()({name:"VCheckboxBtn",props:i5(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,t){let{slots:n}=t;const r=fn(e,"indeterminate"),s=fn(e,"modelValue");function u(p){r.value&&(r.value=!1)}const h=Y(()=>r.value?e.indeterminateIcon:e.falseIcon),o=Y(()=>r.value?e.indeterminateIcon:e.trueIcon);return kt(()=>{const p=Pr(nm.filterProps(e),["modelValue"]);return T(nm,lt(p,{modelValue:s.value,"onUpdate:modelValue":[y=>s.value=y,u],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:h.value,trueIcon:o.value,"aria-checked":r.value?"mixed":void 0}),n)}),{}}}),kI=We({loadChildren:Function,loadingIcon:{type:String,default:"$loading"},items:Array,openOnClick:{type:Boolean,default:void 0},indeterminateIcon:{type:pn,default:"$checkboxIndeterminate"},falseIcon:pn,trueIcon:pn,returnObject:Boolean,selectable:Boolean,selectedColor:String,selectStrategy:[String,Function,Object]},"VTreeviewChildren"),Hg=ht()({name:"VTreeviewChildren",props:kI(),setup(e,t){let{emit:n,slots:r}=t;const s=Rt(null),u=Y(()=>e.openOnClick!=null?e.openOnClick:e.selectable);function h(p){return new Promise(y=>{var b,k;if(!((b=e.items)!=null&&b.length)||!e.loadChildren)return y();if(((k=p==null?void 0:p.children)==null?void 0:k.length)===0){s.value=p.value,e.loadChildren(p).then(y);return}y()}).finally(()=>{s.value=null})}function o(p,y){e.selectable&&p(!y)}return()=>{var p,y;return((p=r.default)==null?void 0:p.call(r))??((y=e.items)==null?void 0:y.map(b=>{var q;let{children:k,props:C,raw:I}=b;const R=s.value===I.value,L={prepend:J=>{var ee;return T(Gt,null,[e.selectable&&(!k||k&&!["leaf","single-leaf"].includes(e.selectStrategy))&&T("div",null,[T(Xd,{key:I.value,modelValue:J.isSelected,loading:R,color:e.selectedColor,indeterminate:J.isIndeterminate,indeterminateIcon:e.indeterminateIcon,falseIcon:e.falseIcon,trueIcon:e.trueIcon,onClick:wb(()=>o(J.select,J.isSelected),["stop"]),onKeydown:ie=>{["Enter","Space"].includes(ie.key)&&(ie.stopPropagation(),o(J.select,J.isSelected))}},null)]),(ee=r.prepend)==null?void 0:ee.call(r,{...J,item:I})])},append:r.append?J=>{var ee;return(ee=r.append)==null?void 0:ee.call(r,{...J,item:I})}:void 0,title:r.title?J=>{var ee;return(ee=r.title)==null?void 0:ee.call(r,{...J,item:I})}:void 0},O=Wb.filterProps(C),B=Hg.filterProps(e);return k?T(Wb,lt(O,{value:e.returnObject?I:O==null?void 0:O.value}),{activator:J=>{let{props:ee}=J;const ie={...C,...ee,value:C==null?void 0:C.value,onToggleExpand:ee.onClick,onClick:u.value?[()=>h(I),ee.onClick]:void 0};return T(Zb,lt(ie,{value:e.returnObject?an(I):C.value,loading:R}),L)},default:()=>T(Hg,lt(B,{items:k,returnObject:e.returnObject}),r)}):((q=r.item)==null?void 0:q.call(r,{props:C}))??T(Zb,lt(C,{value:e.returnObject?an(I):C.value}),L)}))}}}),a5=(e,t,n)=>e==null||t==null?-1:e.toString().toLocaleLowerCase().indexOf(t.toString().toLocaleLowerCase()),Bx=We({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function s5(e,t,n){var o;const r=[],s=(n==null?void 0:n.default)??a5,u=n!=null&&n.filterKeys?Zr(n.filterKeys):!1,h=Object.keys((n==null?void 0:n.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return r;e:for(let p=0;p<e.length;p++){const[y,b=y]=Zr(e[p]),k={},C={};let I=-1;if((t||h>0)&&!(n!=null&&n.noFilter)){if(typeof y=="object"){const O=u||Object.keys(b);for(const B of O){const q=Vi(b,B),J=(o=n==null?void 0:n.customKeyFilter)==null?void 0:o[B];if(I=J?J(q,t,y):s(q,t,y),I!==-1&&I!==!1)J?k[B]=I:C[B]=I;else if((n==null?void 0:n.filterMode)==="every")continue e}}else I=s(y,t,y),I!==-1&&I!==!1&&(C.title=I);const R=Object.keys(C).length,L=Object.keys(k).length;if(!R&&!L||(n==null?void 0:n.filterMode)==="union"&&L!==h&&!R||(n==null?void 0:n.filterMode)==="intersection"&&(L!==h||!R))continue}r.push({index:p,matches:{...C,...k}})}return r}function Vx(e,t,n,r){const s=dt([]),u=dt(new Map),h=Y(()=>r!=null&&r.transform?Ur(t).map(p=>[p,r.transform(p)]):Ur(t));bi(()=>{const p=typeof n=="function"?n():Ur(n),y=typeof p!="string"&&typeof p!="number"?"":String(p),b=s5(h.value,y,{customKeyFilter:{...e.customKeyFilter,...Ur(r==null?void 0:r.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),k=Ur(t),C=[],I=new Map;b.forEach(R=>{let{index:L,matches:O}=R;const B=k[L];C.push(B),I.set(B.value,O)}),s.value=C,u.value=I});function o(p){return u.value.get(p.value)}return{filteredItems:s,filteredMatches:u,getMatches:o}}function CI(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for(const n of e)t.push(n),n.children&&CI(n.children,t);return t}const o5=We({openAll:Boolean,search:String,...Bx({filterKeys:["title"]}),...kI(),...Pr(xI({collapseIcon:"$treeviewCollapse",expandIcon:"$treeviewExpand",slim:!0}),["itemType","nav","openStrategy"]),modelValue:{type:Array,default:()=>[]}},"VTreeview"),l5=ht()({name:"VTreeview",props:o5(),emits:{"update:opened":e=>!0,"update:activated":e=>!0,"update:selected":e=>!0,"update:modelValue":e=>!0,"click:open":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:r}=bI(e),s=bt(e,"activeColor"),u=bt(e,"baseColor"),h=bt(e,"color"),o=fn(e,"activated"),p=fn(e,"modelValue"),y=fn(e,"selected",e.modelValue),b=Y({get:()=>y.value,set(ee){y.value=ee,p.value=ee}}),k=dt(),C=Y(()=>e.openAll?J(r.value):e.opened),I=Y(()=>CI(r.value)),R=bt(e,"search"),{filteredItems:L}=Vx(e,I,R),O=Y(()=>R.value?new Set(L.value.flatMap(ee=>[...B(ee.props.value),...q(ee.props.value)])):null);function B(ee){var le;const ie=[];let re=ee;for(;re!=null;)ie.unshift(re),re=(le=k.value)==null?void 0:le.parents.get(re);return ie}function q(ee){var le,H;const ie=[],re=(((le=k.value)==null?void 0:le.children.get(ee))??[]).slice();for(;re.length;){const $=re.shift();$&&(ie.push($),re.push(...(((H=k.value)==null?void 0:H.children.get($))??[]).slice()))}return ie}function J(ee){let ie=[];for(const re of ee)re.children&&(ie.push(e.returnObject?an(re.raw):re.value),re.children&&(ie=ie.concat(J(re.children))));return ie}return xn(wI,{visibleIds:O}),ma({VTreeviewGroup:{activeColor:s,baseColor:u,color:h,collapseIcon:bt(e,"collapseIcon"),expandIcon:bt(e,"expandIcon")},VTreeviewItem:{activeClass:bt(e,"activeClass"),activeColor:s,baseColor:u,color:h,density:bt(e,"density"),disabled:bt(e,"disabled"),lines:bt(e,"lines"),variant:bt(e,"variant")}}),kt(()=>{const ee=tm.filterProps(e),ie=Hg.filterProps(e);return T(tm,lt({ref:k},ee,{class:["v-treeview",e.class],"open-strategy":"multiple",style:e.style,opened:C.value,activated:o.value,"onUpdate:activated":re=>o.value=re,selected:b.value,"onUpdate:selected":re=>b.value=re}),{default:()=>[T(Hg,lt(ie,{returnObject:e.returnObject,items:r.value}),n)]})}),{}}}),c5=Object.freeze(Object.defineProperty({__proto__:null,VCalendar:i3,VCalendarDay:yg,VCalendarHeader:Bb,VCalendarInterval:Ob,VCalendarIntervalEvent:Rb,VCalendarMonthDay:_E,VDateInput:X3,VNumberInput:e4,VPicker:Xf,VPickerTitle:zE,VPullToRefresh:w4,VSnackbarQueue:C4,VStepperVertical:x4,VStepperVerticalActions:YE,VStepperVerticalItem:JE,VTimePicker:L4,VTimePickerClock:jb,VTimePickerControls:Hb,VTreeview:l5,VTreeviewGroup:Wb,VTreeviewItem:Zb},Symbol.toStringTag,{value:"Module"})),ni=(e,t)=>{const n=e.__vccOpts||e;for(const[r,s]of t)n[r]=s;return n},u5={props:["title","subtitle"]},d5={class:"text-center text-h2"},h5={class:"text-subtitle-1 text-center"};function f5(e,t,n,r,s,u){return mn(),Nn(Ir,null,{default:Ie(()=>[Yn("h1",d5,Cs(n.title),1),Yn("p",h5,Cs(n.subtitle),1)]),_:1})}const m5=ni(u5,[["render",f5]]);var ur={};const p5="Á",g5="á",v5="Ă",y5="ă",_5="∾",b5="∿",x5="∾̳",w5="Â",S5="â",k5="´",C5="А",T5="а",A5="Æ",E5="æ",I5="⁡",P5="𝔄",D5="𝔞",M5="À",L5="à",R5="ℵ",O5="ℵ",F5="Α",z5="α",B5="Ā",V5="ā",N5="⨿",$5="&",U5="&",q5="⩕",j5="⩓",H5="∧",G5="⩜",W5="⩘",Y5="⩚",Z5="∠",K5="⦤",X5="∠",J5="⦨",Q5="⦩",e6="⦪",t6="⦫",n6="⦬",r6="⦭",i6="⦮",a6="⦯",s6="∡",o6="∟",l6="⊾",c6="⦝",u6="∢",d6="Å",h6="⍼",f6="Ą",m6="ą",p6="𝔸",g6="𝕒",v6="⩯",y6="≈",_6="⩰",b6="≊",x6="≋",w6="'",S6="⁡",k6="≈",C6="≊",T6="Å",A6="å",E6="𝒜",I6="𝒶",P6="≔",D6="*",M6="≈",L6="≍",R6="Ã",O6="ã",F6="Ä",z6="ä",B6="∳",V6="⨑",N6="≌",$6="϶",U6="‵",q6="∽",j6="⋍",H6="∖",G6="⫧",W6="⊽",Y6="⌅",Z6="⌆",K6="⌅",X6="⎵",J6="⎶",Q6="≌",eN="Б",tN="б",nN="„",rN="∵",iN="∵",aN="∵",sN="⦰",oN="϶",lN="ℬ",cN="ℬ",uN="Β",dN="β",hN="ℶ",fN="≬",mN="𝔅",pN="𝔟",gN="⋂",vN="◯",yN="⋃",_N="⨀",bN="⨁",xN="⨂",wN="⨆",SN="★",kN="▽",CN="△",TN="⨄",AN="⋁",EN="⋀",IN="⤍",PN="⧫",DN="▪",MN="▴",LN="▾",RN="◂",ON="▸",FN="␣",zN="▒",BN="░",VN="▓",NN="█",$N="=⃥",UN="≡⃥",qN="⫭",jN="⌐",HN="𝔹",GN="𝕓",WN="⊥",YN="⊥",ZN="⋈",KN="⧉",XN="┐",JN="╕",QN="╖",e8="╗",t8="┌",n8="╒",r8="╓",i8="╔",a8="─",s8="═",o8="┬",l8="╤",c8="╥",u8="╦",d8="┴",h8="╧",f8="╨",m8="╩",p8="⊟",g8="⊞",v8="⊠",y8="┘",_8="╛",b8="╜",x8="╝",w8="└",S8="╘",k8="╙",C8="╚",T8="│",A8="║",E8="┼",I8="╪",P8="╫",D8="╬",M8="┤",L8="╡",R8="╢",O8="╣",F8="├",z8="╞",B8="╟",V8="╠",N8="‵",$8="˘",U8="˘",q8="¦",j8="𝒷",H8="ℬ",G8="⁏",W8="∽",Y8="⋍",Z8="⧅",K8="\\",X8="⟈",J8="•",Q8="•",e$="≎",t$="⪮",n$="≏",r$="≎",i$="≏",a$="Ć",s$="ć",o$="⩄",l$="⩉",c$="⩋",u$="∩",d$="⋒",h$="⩇",f$="⩀",m$="ⅅ",p$="∩︀",g$="⁁",v$="ˇ",y$="ℭ",_$="⩍",b$="Č",x$="č",w$="Ç",S$="ç",k$="Ĉ",C$="ĉ",T$="∰",A$="⩌",E$="⩐",I$="Ċ",P$="ċ",D$="¸",M$="¸",L$="⦲",R$="¢",O$="·",F$="·",z$="𝔠",B$="ℭ",V$="Ч",N$="ч",$$="✓",U$="✓",q$="Χ",j$="χ",H$="ˆ",G$="≗",W$="↺",Y$="↻",Z$="⊛",K$="⊚",X$="⊝",J$="⊙",Q$="®",e9="Ⓢ",t9="⊖",n9="⊕",r9="⊗",i9="○",a9="⧃",s9="≗",o9="⨐",l9="⫯",c9="⧂",u9="∲",d9="”",h9="’",f9="♣",m9="♣",p9=":",g9="∷",v9="⩴",y9="≔",_9="≔",b9=",",x9="@",w9="∁",S9="∘",k9="∁",C9="ℂ",T9="≅",A9="⩭",E9="≡",I9="∮",P9="∯",D9="∮",M9="𝕔",L9="ℂ",R9="∐",O9="∐",F9="©",z9="©",B9="℗",V9="∳",N9="↵",$9="✗",U9="⨯",q9="𝒞",j9="𝒸",H9="⫏",G9="⫑",W9="⫐",Y9="⫒",Z9="⋯",K9="⤸",X9="⤵",J9="⋞",Q9="⋟",eU="↶",tU="⤽",nU="⩈",rU="⩆",iU="≍",aU="∪",sU="⋓",oU="⩊",lU="⊍",cU="⩅",uU="∪︀",dU="↷",hU="⤼",fU="⋞",mU="⋟",pU="⋎",gU="⋏",vU="¤",yU="↶",_U="↷",bU="⋎",xU="⋏",wU="∲",SU="∱",kU="⌭",CU="†",TU="‡",AU="ℸ",EU="↓",IU="↡",PU="⇓",DU="‐",MU="⫤",LU="⊣",RU="⤏",OU="˝",FU="Ď",zU="ď",BU="Д",VU="д",NU="‡",$U="⇊",UU="ⅅ",qU="ⅆ",jU="⤑",HU="⩷",GU="°",WU="∇",YU="Δ",ZU="δ",KU="⦱",XU="⥿",JU="𝔇",QU="𝔡",e7="⥥",t7="⇃",n7="⇂",r7="´",i7="˙",a7="˝",s7="`",o7="˜",l7="⋄",c7="⋄",u7="⋄",d7="♦",h7="♦",f7="¨",m7="ⅆ",p7="ϝ",g7="⋲",v7="÷",y7="÷",_7="⋇",b7="⋇",x7="Ђ",w7="ђ",S7="⌞",k7="⌍",C7="$",T7="𝔻",A7="𝕕",E7="¨",I7="˙",P7="⃜",D7="≐",M7="≑",L7="≐",R7="∸",O7="∔",F7="⊡",z7="⌆",B7="∯",V7="¨",N7="⇓",$7="⇐",U7="⇔",q7="⫤",j7="⟸",H7="⟺",G7="⟹",W7="⇒",Y7="⊨",Z7="⇑",K7="⇕",X7="∥",J7="⤓",Q7="↓",eq="↓",tq="⇓",nq="⇵",rq="̑",iq="⇊",aq="⇃",sq="⇂",oq="⥐",lq="⥞",cq="⥖",uq="↽",dq="⥟",hq="⥗",fq="⇁",mq="↧",pq="⊤",gq="⤐",vq="⌟",yq="⌌",_q="𝒟",bq="𝒹",xq="Ѕ",wq="ѕ",Sq="⧶",kq="Đ",Cq="đ",Tq="⋱",Aq="▿",Eq="▾",Iq="⇵",Pq="⥯",Dq="⦦",Mq="Џ",Lq="џ",Rq="⟿",Oq="É",Fq="é",zq="⩮",Bq="Ě",Vq="ě",Nq="Ê",$q="ê",Uq="≖",qq="≕",jq="Э",Hq="э",Gq="⩷",Wq="Ė",Yq="ė",Zq="≑",Kq="ⅇ",Xq="≒",Jq="𝔈",Qq="𝔢",ej="⪚",tj="È",nj="è",rj="⪖",ij="⪘",aj="⪙",sj="∈",oj="⏧",lj="ℓ",cj="⪕",uj="⪗",dj="Ē",hj="ē",fj="∅",mj="∅",pj="◻",gj="∅",vj="▫",yj=" ",_j=" ",bj=" ",xj="Ŋ",wj="ŋ",Sj=" ",kj="Ę",Cj="ę",Tj="𝔼",Aj="𝕖",Ej="⋕",Ij="⧣",Pj="⩱",Dj="ε",Mj="Ε",Lj="ε",Rj="ϵ",Oj="≖",Fj="≕",zj="≂",Bj="⪖",Vj="⪕",Nj="⩵",$j="=",Uj="≂",qj="≟",jj="⇌",Hj="≡",Gj="⩸",Wj="⧥",Yj="⥱",Zj="≓",Kj="ℯ",Xj="ℰ",Jj="≐",Qj="⩳",eH="≂",tH="Η",nH="η",rH="Ð",iH="ð",aH="Ë",sH="ë",oH="€",lH="!",cH="∃",uH="∃",dH="ℰ",hH="ⅇ",fH="ⅇ",mH="≒",pH="Ф",gH="ф",vH="♀",yH="ﬃ",_H="ﬀ",bH="ﬄ",xH="𝔉",wH="𝔣",SH="ﬁ",kH="◼",CH="▪",TH="fj",AH="♭",EH="ﬂ",IH="▱",PH="ƒ",DH="𝔽",MH="𝕗",LH="∀",RH="∀",OH="⋔",FH="⫙",zH="ℱ",BH="⨍",VH="½",NH="⅓",$H="¼",UH="⅕",qH="⅙",jH="⅛",HH="⅔",GH="⅖",WH="¾",YH="⅗",ZH="⅜",KH="⅘",XH="⅚",JH="⅝",QH="⅞",eG="⁄",tG="⌢",nG="𝒻",rG="ℱ",iG="ǵ",aG="Γ",sG="γ",oG="Ϝ",lG="ϝ",cG="⪆",uG="Ğ",dG="ğ",hG="Ģ",fG="Ĝ",mG="ĝ",pG="Г",gG="г",vG="Ġ",yG="ġ",_G="≥",bG="≧",xG="⪌",wG="⋛",SG="≥",kG="≧",CG="⩾",TG="⪩",AG="⩾",EG="⪀",IG="⪂",PG="⪄",DG="⋛︀",MG="⪔",LG="𝔊",RG="𝔤",OG="≫",FG="⋙",zG="⋙",BG="ℷ",VG="Ѓ",NG="ѓ",$G="⪥",UG="≷",qG="⪒",jG="⪤",HG="⪊",GG="⪊",WG="⪈",YG="≩",ZG="⪈",KG="≩",XG="⋧",JG="𝔾",QG="𝕘",eW="`",tW="≥",nW="⋛",rW="≧",iW="⪢",aW="≷",sW="⩾",oW="≳",lW="𝒢",cW="ℊ",uW="≳",dW="⪎",hW="⪐",fW="⪧",mW="⩺",pW=">",gW=">",vW="≫",yW="⋗",_W="⦕",bW="⩼",xW="⪆",wW="⥸",SW="⋗",kW="⋛",CW="⪌",TW="≷",AW="≳",EW="≩︀",IW="≩︀",PW="ˇ",DW=" ",MW="½",LW="ℋ",RW="Ъ",OW="ъ",FW="⥈",zW="↔",BW="⇔",VW="↭",NW="^",$W="ℏ",UW="Ĥ",qW="ĥ",jW="♥",HW="♥",GW="…",WW="⊹",YW="𝔥",ZW="ℌ",KW="ℋ",XW="⤥",JW="⤦",QW="⇿",eY="∻",tY="↩",nY="↪",rY="𝕙",iY="ℍ",aY="―",sY="─",oY="𝒽",lY="ℋ",cY="ℏ",uY="Ħ",dY="ħ",hY="≎",fY="≏",mY="⁃",pY="‐",gY="Í",vY="í",yY="⁣",_Y="Î",bY="î",xY="И",wY="и",SY="İ",kY="Е",CY="е",TY="¡",AY="⇔",EY="𝔦",IY="ℑ",PY="Ì",DY="ì",MY="ⅈ",LY="⨌",RY="∭",OY="⧜",FY="℩",zY="Ĳ",BY="ĳ",VY="Ī",NY="ī",$Y="ℑ",UY="ⅈ",qY="ℐ",jY="ℑ",HY="ı",GY="ℑ",WY="⊷",YY="Ƶ",ZY="⇒",KY="℅",XY="∞",JY="⧝",QY="ı",eZ="⊺",tZ="∫",nZ="∬",rZ="ℤ",iZ="∫",aZ="⊺",sZ="⋂",oZ="⨗",lZ="⨼",cZ="⁣",uZ="⁢",dZ="Ё",hZ="ё",fZ="Į",mZ="į",pZ="𝕀",gZ="𝕚",vZ="Ι",yZ="ι",_Z="⨼",bZ="¿",xZ="𝒾",wZ="ℐ",SZ="∈",kZ="⋵",CZ="⋹",TZ="⋴",AZ="⋳",EZ="∈",IZ="⁢",PZ="Ĩ",DZ="ĩ",MZ="І",LZ="і",RZ="Ï",OZ="ï",FZ="Ĵ",zZ="ĵ",BZ="Й",VZ="й",NZ="𝔍",$Z="𝔧",UZ="ȷ",qZ="𝕁",jZ="𝕛",HZ="𝒥",GZ="𝒿",WZ="Ј",YZ="ј",ZZ="Є",KZ="є",XZ="Κ",JZ="κ",QZ="ϰ",eK="Ķ",tK="ķ",nK="К",rK="к",iK="𝔎",aK="𝔨",sK="ĸ",oK="Х",lK="х",cK="Ќ",uK="ќ",dK="𝕂",hK="𝕜",fK="𝒦",mK="𝓀",pK="⇚",gK="Ĺ",vK="ĺ",yK="⦴",_K="ℒ",bK="Λ",xK="λ",wK="⟨",SK="⟪",kK="⦑",CK="⟨",TK="⪅",AK="ℒ",EK="«",IK="⇤",PK="⤟",DK="←",MK="↞",LK="⇐",RK="⤝",OK="↩",FK="↫",zK="⤹",BK="⥳",VK="↢",NK="⤙",$K="⤛",UK="⪫",qK="⪭",jK="⪭︀",HK="⤌",GK="⤎",WK="❲",YK="{",ZK="[",KK="⦋",XK="⦏",JK="⦍",QK="Ľ",eX="ľ",tX="Ļ",nX="ļ",rX="⌈",iX="{",aX="Л",sX="л",oX="⤶",lX="“",cX="„",uX="⥧",dX="⥋",hX="↲",fX="≤",mX="≦",pX="⟨",gX="⇤",vX="←",yX="←",_X="⇐",bX="⇆",xX="↢",wX="⌈",SX="⟦",kX="⥡",CX="⥙",TX="⇃",AX="⌊",EX="↽",IX="↼",PX="⇇",DX="↔",MX="↔",LX="⇔",RX="⇆",OX="⇋",FX="↭",zX="⥎",BX="↤",VX="⊣",NX="⥚",$X="⋋",UX="⧏",qX="⊲",jX="⊴",HX="⥑",GX="⥠",WX="⥘",YX="↿",ZX="⥒",KX="↼",XX="⪋",JX="⋚",QX="≤",eJ="≦",tJ="⩽",nJ="⪨",rJ="⩽",iJ="⩿",aJ="⪁",sJ="⪃",oJ="⋚︀",lJ="⪓",cJ="⪅",uJ="⋖",dJ="⋚",hJ="⪋",fJ="⋚",mJ="≦",pJ="≶",gJ="≶",vJ="⪡",yJ="≲",_J="⩽",bJ="≲",xJ="⥼",wJ="⌊",SJ="𝔏",kJ="𝔩",CJ="≶",TJ="⪑",AJ="⥢",EJ="↽",IJ="↼",PJ="⥪",DJ="▄",MJ="Љ",LJ="љ",RJ="⇇",OJ="≪",FJ="⋘",zJ="⌞",BJ="⇚",VJ="⥫",NJ="◺",$J="Ŀ",UJ="ŀ",qJ="⎰",jJ="⎰",HJ="⪉",GJ="⪉",WJ="⪇",YJ="≨",ZJ="⪇",KJ="≨",XJ="⋦",JJ="⟬",QJ="⇽",eQ="⟦",tQ="⟵",nQ="⟵",rQ="⟸",iQ="⟷",aQ="⟷",sQ="⟺",oQ="⟼",lQ="⟶",cQ="⟶",uQ="⟹",dQ="↫",hQ="↬",fQ="⦅",mQ="𝕃",pQ="𝕝",gQ="⨭",vQ="⨴",yQ="∗",_Q="_",bQ="↙",xQ="↘",wQ="◊",SQ="◊",kQ="⧫",CQ="(",TQ="⦓",AQ="⇆",EQ="⌟",IQ="⇋",PQ="⥭",DQ="‎",MQ="⊿",LQ="‹",RQ="𝓁",OQ="ℒ",FQ="↰",zQ="↰",BQ="≲",VQ="⪍",NQ="⪏",$Q="[",UQ="‘",qQ="‚",jQ="Ł",HQ="ł",GQ="⪦",WQ="⩹",YQ="<",ZQ="<",KQ="≪",XQ="⋖",JQ="⋋",QQ="⋉",eee="⥶",tee="⩻",nee="◃",ree="⊴",iee="◂",aee="⦖",see="⥊",oee="⥦",lee="≨︀",cee="≨︀",uee="¯",dee="♂",hee="✠",fee="✠",mee="↦",pee="↦",gee="↧",vee="↤",yee="↥",_ee="▮",bee="⨩",xee="М",wee="м",See="—",kee="∺",Cee="∡",Tee=" ",Aee="ℳ",Eee="𝔐",Iee="𝔪",Pee="℧",Dee="µ",Mee="*",Lee="⫰",Ree="∣",Oee="·",Fee="⊟",zee="−",Bee="∸",Vee="⨪",Nee="∓",$ee="⫛",Uee="…",qee="∓",jee="⊧",Hee="𝕄",Gee="𝕞",Wee="∓",Yee="𝓂",Zee="ℳ",Kee="∾",Xee="Μ",Jee="μ",Qee="⊸",ete="⊸",tte="∇",nte="Ń",rte="ń",ite="∠⃒",ate="≉",ste="⩰̸",ote="≋̸",lte="ŉ",cte="≉",ute="♮",dte="ℕ",hte="♮",fte=" ",mte="≎̸",pte="≏̸",gte="⩃",vte="Ň",yte="ň",_te="Ņ",bte="ņ",xte="≇",wte="⩭̸",Ste="⩂",kte="Н",Cte="н",Tte="–",Ate="⤤",Ete="↗",Ite="⇗",Pte="↗",Dte="≠",Mte="≐̸",Lte="​",Rte="​",Ote="​",Fte="​",zte="≢",Bte="⤨",Vte="≂̸",Nte="≫",$te="≪",Ute=`
`,qte="∄",jte="∄",Hte="𝔑",Gte="𝔫",Wte="≧̸",Yte="≱",Zte="≱",Kte="≧̸",Xte="⩾̸",Jte="⩾̸",Qte="⋙̸",ene="≵",tne="≫⃒",nne="≯",rne="≯",ine="≫̸",ane="↮",sne="⇎",one="⫲",lne="∋",cne="⋼",une="⋺",dne="∋",hne="Њ",fne="њ",mne="↚",pne="⇍",gne="‥",vne="≦̸",yne="≰",_ne="↚",bne="⇍",xne="↮",wne="⇎",Sne="≰",kne="≦̸",Cne="⩽̸",Tne="⩽̸",Ane="≮",Ene="⋘̸",Ine="≴",Pne="≪⃒",Dne="≮",Mne="⋪",Lne="⋬",Rne="≪̸",One="∤",Fne="⁠",zne=" ",Bne="𝕟",Vne="ℕ",Nne="⫬",$ne="¬",Une="≢",qne="≭",jne="∦",Hne="∉",Gne="≠",Wne="≂̸",Yne="∄",Zne="≯",Kne="≱",Xne="≧̸",Jne="≫̸",Qne="≹",ere="⩾̸",tre="≵",nre="≎̸",rre="≏̸",ire="∉",are="⋵̸",sre="⋹̸",ore="∉",lre="⋷",cre="⋶",ure="⧏̸",dre="⋪",hre="⋬",fre="≮",mre="≰",pre="≸",gre="≪̸",vre="⩽̸",yre="≴",_re="⪢̸",bre="⪡̸",xre="∌",wre="∌",Sre="⋾",kre="⋽",Cre="⊀",Tre="⪯̸",Are="⋠",Ere="∌",Ire="⧐̸",Pre="⋫",Dre="⋭",Mre="⊏̸",Lre="⋢",Rre="⊐̸",Ore="⋣",Fre="⊂⃒",zre="⊈",Bre="⊁",Vre="⪰̸",Nre="⋡",$re="≿̸",Ure="⊃⃒",qre="⊉",jre="≁",Hre="≄",Gre="≇",Wre="≉",Yre="∤",Zre="∦",Kre="∦",Xre="⫽⃥",Jre="∂̸",Qre="⨔",eie="⊀",tie="⋠",nie="⊀",rie="⪯̸",iie="⪯̸",aie="⤳̸",sie="↛",oie="⇏",lie="↝̸",cie="↛",uie="⇏",die="⋫",hie="⋭",fie="⊁",mie="⋡",pie="⪰̸",gie="𝒩",vie="𝓃",yie="∤",_ie="∦",bie="≁",xie="≄",wie="≄",Sie="∤",kie="∦",Cie="⋢",Tie="⋣",Aie="⊄",Eie="⫅̸",Iie="⊈",Pie="⊂⃒",Die="⊈",Mie="⫅̸",Lie="⊁",Rie="⪰̸",Oie="⊅",Fie="⫆̸",zie="⊉",Bie="⊃⃒",Vie="⊉",Nie="⫆̸",$ie="≹",Uie="Ñ",qie="ñ",jie="≸",Hie="⋪",Gie="⋬",Wie="⋫",Yie="⋭",Zie="Ν",Kie="ν",Xie="#",Jie="№",Qie=" ",eae="≍⃒",tae="⊬",nae="⊭",rae="⊮",iae="⊯",aae="≥⃒",sae=">⃒",oae="⤄",lae="⧞",cae="⤂",uae="≤⃒",dae="<⃒",hae="⊴⃒",fae="⤃",mae="⊵⃒",pae="∼⃒",gae="⤣",vae="↖",yae="⇖",_ae="↖",bae="⤧",xae="Ó",wae="ó",Sae="⊛",kae="Ô",Cae="ô",Tae="⊚",Aae="О",Eae="о",Iae="⊝",Pae="Ő",Dae="ő",Mae="⨸",Lae="⊙",Rae="⦼",Oae="Œ",Fae="œ",zae="⦿",Bae="𝔒",Vae="𝔬",Nae="˛",$ae="Ò",Uae="ò",qae="⧁",jae="⦵",Hae="Ω",Gae="∮",Wae="↺",Yae="⦾",Zae="⦻",Kae="‾",Xae="⧀",Jae="Ō",Qae="ō",ese="Ω",tse="ω",nse="Ο",rse="ο",ise="⦶",ase="⊖",sse="𝕆",ose="𝕠",lse="⦷",cse="“",use="‘",dse="⦹",hse="⊕",fse="↻",mse="⩔",pse="∨",gse="⩝",vse="ℴ",yse="ℴ",_se="ª",bse="º",xse="⊶",wse="⩖",Sse="⩗",kse="⩛",Cse="Ⓢ",Tse="𝒪",Ase="ℴ",Ese="Ø",Ise="ø",Pse="⊘",Dse="Õ",Mse="õ",Lse="⨶",Rse="⨷",Ose="⊗",Fse="Ö",zse="ö",Bse="⌽",Vse="‾",Nse="⏞",$se="⎴",Use="⏜",qse="¶",jse="∥",Hse="∥",Gse="⫳",Wse="⫽",Yse="∂",Zse="∂",Kse="П",Xse="п",Jse="%",Qse=".",eoe="‰",toe="⊥",noe="‱",roe="𝔓",ioe="𝔭",aoe="Φ",soe="φ",ooe="ϕ",loe="ℳ",coe="☎",uoe="Π",doe="π",hoe="⋔",foe="ϖ",moe="ℏ",poe="ℎ",goe="ℏ",voe="⨣",yoe="⊞",_oe="⨢",boe="+",xoe="∔",woe="⨥",Soe="⩲",koe="±",Coe="±",Toe="⨦",Aoe="⨧",Eoe="±",Ioe="ℌ",Poe="⨕",Doe="𝕡",Moe="ℙ",Loe="£",Roe="⪷",Ooe="⪻",Foe="≺",zoe="≼",Boe="⪷",Voe="≺",Noe="≼",$oe="≺",Uoe="⪯",qoe="≼",joe="≾",Hoe="⪯",Goe="⪹",Woe="⪵",Yoe="⋨",Zoe="⪯",Koe="⪳",Xoe="≾",Joe="′",Qoe="″",ele="ℙ",tle="⪹",nle="⪵",rle="⋨",ile="∏",ale="∏",sle="⌮",ole="⌒",lle="⌓",cle="∝",ule="∝",dle="∷",hle="∝",fle="≾",mle="⊰",ple="𝒫",gle="𝓅",vle="Ψ",yle="ψ",_le=" ",ble="𝔔",xle="𝔮",wle="⨌",Sle="𝕢",kle="ℚ",Cle="⁗",Tle="𝒬",Ale="𝓆",Ele="ℍ",Ile="⨖",Ple="?",Dle="≟",Mle='"',Lle='"',Rle="⇛",Ole="∽̱",Fle="Ŕ",zle="ŕ",Ble="√",Vle="⦳",Nle="⟩",$le="⟫",Ule="⦒",qle="⦥",jle="⟩",Hle="»",Gle="⥵",Wle="⇥",Yle="⤠",Zle="⤳",Kle="→",Xle="↠",Jle="⇒",Qle="⤞",ece="↪",tce="↬",nce="⥅",rce="⥴",ice="⤖",ace="↣",sce="↝",oce="⤚",lce="⤜",cce="∶",uce="ℚ",dce="⤍",hce="⤏",fce="⤐",mce="❳",pce="}",gce="]",vce="⦌",yce="⦎",_ce="⦐",bce="Ř",xce="ř",wce="Ŗ",Sce="ŗ",kce="⌉",Cce="}",Tce="Р",Ace="р",Ece="⤷",Ice="⥩",Pce="”",Dce="”",Mce="↳",Lce="ℜ",Rce="ℛ",Oce="ℜ",Fce="ℝ",zce="ℜ",Bce="▭",Vce="®",Nce="®",$ce="∋",Uce="⇋",qce="⥯",jce="⥽",Hce="⌋",Gce="𝔯",Wce="ℜ",Yce="⥤",Zce="⇁",Kce="⇀",Xce="⥬",Jce="Ρ",Qce="ρ",eue="ϱ",tue="⟩",nue="⇥",rue="→",iue="→",aue="⇒",sue="⇄",oue="↣",lue="⌉",cue="⟧",uue="⥝",due="⥕",hue="⇂",fue="⌋",mue="⇁",pue="⇀",gue="⇄",vue="⇌",yue="⇉",_ue="↝",bue="↦",xue="⊢",wue="⥛",Sue="⋌",kue="⧐",Cue="⊳",Tue="⊵",Aue="⥏",Eue="⥜",Iue="⥔",Pue="↾",Due="⥓",Mue="⇀",Lue="˚",Rue="≓",Oue="⇄",Fue="⇌",zue="‏",Bue="⎱",Vue="⎱",Nue="⫮",$ue="⟭",Uue="⇾",que="⟧",jue="⦆",Hue="𝕣",Gue="ℝ",Wue="⨮",Yue="⨵",Zue="⥰",Kue=")",Xue="⦔",Jue="⨒",Que="⇉",ede="⇛",tde="›",nde="𝓇",rde="ℛ",ide="↱",ade="↱",sde="]",ode="’",lde="’",cde="⋌",ude="⋊",dde="▹",hde="⊵",fde="▸",mde="⧎",pde="⧴",gde="⥨",vde="℞",yde="Ś",_de="ś",bde="‚",xde="⪸",wde="Š",Sde="š",kde="⪼",Cde="≻",Tde="≽",Ade="⪰",Ede="⪴",Ide="Ş",Pde="ş",Dde="Ŝ",Mde="ŝ",Lde="⪺",Rde="⪶",Ode="⋩",Fde="⨓",zde="≿",Bde="С",Vde="с",Nde="⊡",$de="⋅",Ude="⩦",qde="⤥",jde="↘",Hde="⇘",Gde="↘",Wde="§",Yde=";",Zde="⤩",Kde="∖",Xde="∖",Jde="✶",Qde="𝔖",ehe="𝔰",the="⌢",nhe="♯",rhe="Щ",ihe="щ",ahe="Ш",she="ш",ohe="↓",lhe="←",che="∣",uhe="∥",dhe="→",hhe="↑",fhe="­",mhe="Σ",phe="σ",ghe="ς",vhe="ς",yhe="∼",_he="⩪",bhe="≃",xhe="≃",whe="⪞",She="⪠",khe="⪝",Che="⪟",The="≆",Ahe="⨤",Ehe="⥲",Ihe="←",Phe="∘",Dhe="∖",Mhe="⨳",Lhe="⧤",Rhe="∣",Ohe="⌣",Fhe="⪪",zhe="⪬",Bhe="⪬︀",Vhe="Ь",Nhe="ь",$he="⌿",Uhe="⧄",qhe="/",jhe="𝕊",Hhe="𝕤",Ghe="♠",Whe="♠",Yhe="∥",Zhe="⊓",Khe="⊓︀",Xhe="⊔",Jhe="⊔︀",Qhe="√",efe="⊏",tfe="⊑",nfe="⊏",rfe="⊑",ife="⊐",afe="⊒",sfe="⊐",ofe="⊒",lfe="□",cfe="□",ufe="⊓",dfe="⊏",hfe="⊑",ffe="⊐",mfe="⊒",pfe="⊔",gfe="▪",vfe="□",yfe="▪",_fe="→",bfe="𝒮",xfe="𝓈",wfe="∖",Sfe="⌣",kfe="⋆",Cfe="⋆",Tfe="☆",Afe="★",Efe="ϵ",Ife="ϕ",Pfe="¯",Dfe="⊂",Mfe="⋐",Lfe="⪽",Rfe="⫅",Ofe="⊆",Ffe="⫃",zfe="⫁",Bfe="⫋",Vfe="⊊",Nfe="⪿",$fe="⥹",Ufe="⊂",qfe="⋐",jfe="⊆",Hfe="⫅",Gfe="⊆",Wfe="⊊",Yfe="⫋",Zfe="⫇",Kfe="⫕",Xfe="⫓",Jfe="⪸",Qfe="≻",eme="≽",tme="≻",nme="⪰",rme="≽",ime="≿",ame="⪰",sme="⪺",ome="⪶",lme="⋩",cme="≿",ume="∋",dme="∑",hme="∑",fme="♪",mme="¹",pme="²",gme="³",vme="⊃",yme="⋑",_me="⪾",bme="⫘",xme="⫆",wme="⊇",Sme="⫄",kme="⊃",Cme="⊇",Tme="⟉",Ame="⫗",Eme="⥻",Ime="⫂",Pme="⫌",Dme="⊋",Mme="⫀",Lme="⊃",Rme="⋑",Ome="⊇",Fme="⫆",zme="⊋",Bme="⫌",Vme="⫈",Nme="⫔",$me="⫖",Ume="⤦",qme="↙",jme="⇙",Hme="↙",Gme="⤪",Wme="ß",Yme="	",Zme="⌖",Kme="Τ",Xme="τ",Jme="⎴",Qme="Ť",epe="ť",tpe="Ţ",npe="ţ",rpe="Т",ipe="т",ape="⃛",spe="⌕",ope="𝔗",lpe="𝔱",cpe="∴",upe="∴",dpe="∴",hpe="Θ",fpe="θ",mpe="ϑ",ppe="ϑ",gpe="≈",vpe="∼",ype="  ",_pe=" ",bpe=" ",xpe="≈",wpe="∼",Spe="Þ",kpe="þ",Cpe="˜",Tpe="∼",Ape="≃",Epe="≅",Ipe="≈",Ppe="⨱",Dpe="⊠",Mpe="×",Lpe="⨰",Rpe="∭",Ope="⤨",Fpe="⌶",zpe="⫱",Bpe="⊤",Vpe="𝕋",Npe="𝕥",$pe="⫚",Upe="⤩",qpe="‴",jpe="™",Hpe="™",Gpe="▵",Wpe="▿",Ype="◃",Zpe="⊴",Kpe="≜",Xpe="▹",Jpe="⊵",Qpe="◬",ege="≜",tge="⨺",nge="⃛",rge="⨹",ige="⧍",age="⨻",sge="⏢",oge="𝒯",lge="𝓉",cge="Ц",uge="ц",dge="Ћ",hge="ћ",fge="Ŧ",mge="ŧ",pge="≬",gge="↞",vge="↠",yge="Ú",_ge="ú",bge="↑",xge="↟",wge="⇑",Sge="⥉",kge="Ў",Cge="ў",Tge="Ŭ",Age="ŭ",Ege="Û",Ige="û",Pge="У",Dge="у",Mge="⇅",Lge="Ű",Rge="ű",Oge="⥮",Fge="⥾",zge="𝔘",Bge="𝔲",Vge="Ù",Nge="ù",$ge="⥣",Uge="↿",qge="↾",jge="▀",Hge="⌜",Gge="⌜",Wge="⌏",Yge="◸",Zge="Ū",Kge="ū",Xge="¨",Jge="_",Qge="⏟",eve="⎵",tve="⏝",nve="⋃",rve="⊎",ive="Ų",ave="ų",sve="𝕌",ove="𝕦",lve="⤒",cve="↑",uve="↑",dve="⇑",hve="⇅",fve="↕",mve="↕",pve="⇕",gve="⥮",vve="↿",yve="↾",_ve="⊎",bve="↖",xve="↗",wve="υ",Sve="ϒ",kve="ϒ",Cve="Υ",Tve="υ",Ave="↥",Eve="⊥",Ive="⇈",Pve="⌝",Dve="⌝",Mve="⌎",Lve="Ů",Rve="ů",Ove="◹",Fve="𝒰",zve="𝓊",Bve="⋰",Vve="Ũ",Nve="ũ",$ve="▵",Uve="▴",qve="⇈",jve="Ü",Hve="ü",Gve="⦧",Wve="⦜",Yve="ϵ",Zve="ϰ",Kve="∅",Xve="ϕ",Jve="ϖ",Qve="∝",eye="↕",tye="⇕",nye="ϱ",rye="ς",iye="⊊︀",aye="⫋︀",sye="⊋︀",oye="⫌︀",lye="ϑ",cye="⊲",uye="⊳",dye="⫨",hye="⫫",fye="⫩",mye="В",pye="в",gye="⊢",vye="⊨",yye="⊩",_ye="⊫",bye="⫦",xye="⊻",wye="∨",Sye="⋁",kye="≚",Cye="⋮",Tye="|",Aye="‖",Eye="|",Iye="‖",Pye="∣",Dye="|",Mye="❘",Lye="≀",Rye=" ",Oye="𝔙",Fye="𝔳",zye="⊲",Bye="⊂⃒",Vye="⊃⃒",Nye="𝕍",$ye="𝕧",Uye="∝",qye="⊳",jye="𝒱",Hye="𝓋",Gye="⫋︀",Wye="⊊︀",Yye="⫌︀",Zye="⊋︀",Kye="⊪",Xye="⦚",Jye="Ŵ",Qye="ŵ",e_e="⩟",t_e="∧",n_e="⋀",r_e="≙",i_e="℘",a_e="𝔚",s_e="𝔴",o_e="𝕎",l_e="𝕨",c_e="℘",u_e="≀",d_e="≀",h_e="𝒲",f_e="𝓌",m_e="⋂",p_e="◯",g_e="⋃",v_e="▽",y_e="𝔛",__e="𝔵",b_e="⟷",x_e="⟺",w_e="Ξ",S_e="ξ",k_e="⟵",C_e="⟸",T_e="⟼",A_e="⋻",E_e="⨀",I_e="𝕏",P_e="𝕩",D_e="⨁",M_e="⨂",L_e="⟶",R_e="⟹",O_e="𝒳",F_e="𝓍",z_e="⨆",B_e="⨄",V_e="△",N_e="⋁",$_e="⋀",U_e="Ý",q_e="ý",j_e="Я",H_e="я",G_e="Ŷ",W_e="ŷ",Y_e="Ы",Z_e="ы",K_e="¥",X_e="𝔜",J_e="𝔶",Q_e="Ї",ebe="ї",tbe="𝕐",nbe="𝕪",rbe="𝒴",ibe="𝓎",abe="Ю",sbe="ю",obe="ÿ",lbe="Ÿ",cbe="Ź",ube="ź",dbe="Ž",hbe="ž",fbe="З",mbe="з",pbe="Ż",gbe="ż",vbe="ℨ",ybe="​",_be="Ζ",bbe="ζ",xbe="𝔷",wbe="ℨ",Sbe="Ж",kbe="ж",Cbe="⇝",Tbe="𝕫",Abe="ℤ",Ebe="𝒵",Ibe="𝓏",Pbe="‍",Dbe="‌",Mbe={Aacute:p5,aacute:g5,Abreve:v5,abreve:y5,ac:_5,acd:b5,acE:x5,Acirc:w5,acirc:S5,acute:k5,Acy:C5,acy:T5,AElig:A5,aelig:E5,af:I5,Afr:P5,afr:D5,Agrave:M5,agrave:L5,alefsym:R5,aleph:O5,Alpha:F5,alpha:z5,Amacr:B5,amacr:V5,amalg:N5,amp:$5,AMP:U5,andand:q5,And:j5,and:H5,andd:G5,andslope:W5,andv:Y5,ang:Z5,ange:K5,angle:X5,angmsdaa:J5,angmsdab:Q5,angmsdac:e6,angmsdad:t6,angmsdae:n6,angmsdaf:r6,angmsdag:i6,angmsdah:a6,angmsd:s6,angrt:o6,angrtvb:l6,angrtvbd:c6,angsph:u6,angst:d6,angzarr:h6,Aogon:f6,aogon:m6,Aopf:p6,aopf:g6,apacir:v6,ap:y6,apE:_6,ape:b6,apid:x6,apos:w6,ApplyFunction:S6,approx:k6,approxeq:C6,Aring:T6,aring:A6,Ascr:E6,ascr:I6,Assign:P6,ast:D6,asymp:M6,asympeq:L6,Atilde:R6,atilde:O6,Auml:F6,auml:z6,awconint:B6,awint:V6,backcong:N6,backepsilon:$6,backprime:U6,backsim:q6,backsimeq:j6,Backslash:H6,Barv:G6,barvee:W6,barwed:Y6,Barwed:Z6,barwedge:K6,bbrk:X6,bbrktbrk:J6,bcong:Q6,Bcy:eN,bcy:tN,bdquo:nN,becaus:rN,because:iN,Because:aN,bemptyv:sN,bepsi:oN,bernou:lN,Bernoullis:cN,Beta:uN,beta:dN,beth:hN,between:fN,Bfr:mN,bfr:pN,bigcap:gN,bigcirc:vN,bigcup:yN,bigodot:_N,bigoplus:bN,bigotimes:xN,bigsqcup:wN,bigstar:SN,bigtriangledown:kN,bigtriangleup:CN,biguplus:TN,bigvee:AN,bigwedge:EN,bkarow:IN,blacklozenge:PN,blacksquare:DN,blacktriangle:MN,blacktriangledown:LN,blacktriangleleft:RN,blacktriangleright:ON,blank:FN,blk12:zN,blk14:BN,blk34:VN,block:NN,bne:$N,bnequiv:UN,bNot:qN,bnot:jN,Bopf:HN,bopf:GN,bot:WN,bottom:YN,bowtie:ZN,boxbox:KN,boxdl:XN,boxdL:JN,boxDl:QN,boxDL:e8,boxdr:t8,boxdR:n8,boxDr:r8,boxDR:i8,boxh:a8,boxH:s8,boxhd:o8,boxHd:l8,boxhD:c8,boxHD:u8,boxhu:d8,boxHu:h8,boxhU:f8,boxHU:m8,boxminus:p8,boxplus:g8,boxtimes:v8,boxul:y8,boxuL:_8,boxUl:b8,boxUL:x8,boxur:w8,boxuR:S8,boxUr:k8,boxUR:C8,boxv:T8,boxV:A8,boxvh:E8,boxvH:I8,boxVh:P8,boxVH:D8,boxvl:M8,boxvL:L8,boxVl:R8,boxVL:O8,boxvr:F8,boxvR:z8,boxVr:B8,boxVR:V8,bprime:N8,breve:$8,Breve:U8,brvbar:q8,bscr:j8,Bscr:H8,bsemi:G8,bsim:W8,bsime:Y8,bsolb:Z8,bsol:K8,bsolhsub:X8,bull:J8,bullet:Q8,bump:e$,bumpE:t$,bumpe:n$,Bumpeq:r$,bumpeq:i$,Cacute:a$,cacute:s$,capand:o$,capbrcup:l$,capcap:c$,cap:u$,Cap:d$,capcup:h$,capdot:f$,CapitalDifferentialD:m$,caps:p$,caret:g$,caron:v$,Cayleys:y$,ccaps:_$,Ccaron:b$,ccaron:x$,Ccedil:w$,ccedil:S$,Ccirc:k$,ccirc:C$,Cconint:T$,ccups:A$,ccupssm:E$,Cdot:I$,cdot:P$,cedil:D$,Cedilla:M$,cemptyv:L$,cent:R$,centerdot:O$,CenterDot:F$,cfr:z$,Cfr:B$,CHcy:V$,chcy:N$,check:$$,checkmark:U$,Chi:q$,chi:j$,circ:H$,circeq:G$,circlearrowleft:W$,circlearrowright:Y$,circledast:Z$,circledcirc:K$,circleddash:X$,CircleDot:J$,circledR:Q$,circledS:e9,CircleMinus:t9,CirclePlus:n9,CircleTimes:r9,cir:i9,cirE:a9,cire:s9,cirfnint:o9,cirmid:l9,cirscir:c9,ClockwiseContourIntegral:u9,CloseCurlyDoubleQuote:d9,CloseCurlyQuote:h9,clubs:f9,clubsuit:m9,colon:p9,Colon:g9,Colone:v9,colone:y9,coloneq:_9,comma:b9,commat:x9,comp:w9,compfn:S9,complement:k9,complexes:C9,cong:T9,congdot:A9,Congruent:E9,conint:I9,Conint:P9,ContourIntegral:D9,copf:M9,Copf:L9,coprod:R9,Coproduct:O9,copy:F9,COPY:z9,copysr:B9,CounterClockwiseContourIntegral:V9,crarr:N9,cross:$9,Cross:U9,Cscr:q9,cscr:j9,csub:H9,csube:G9,csup:W9,csupe:Y9,ctdot:Z9,cudarrl:K9,cudarrr:X9,cuepr:J9,cuesc:Q9,cularr:eU,cularrp:tU,cupbrcap:nU,cupcap:rU,CupCap:iU,cup:aU,Cup:sU,cupcup:oU,cupdot:lU,cupor:cU,cups:uU,curarr:dU,curarrm:hU,curlyeqprec:fU,curlyeqsucc:mU,curlyvee:pU,curlywedge:gU,curren:vU,curvearrowleft:yU,curvearrowright:_U,cuvee:bU,cuwed:xU,cwconint:wU,cwint:SU,cylcty:kU,dagger:CU,Dagger:TU,daleth:AU,darr:EU,Darr:IU,dArr:PU,dash:DU,Dashv:MU,dashv:LU,dbkarow:RU,dblac:OU,Dcaron:FU,dcaron:zU,Dcy:BU,dcy:VU,ddagger:NU,ddarr:$U,DD:UU,dd:qU,DDotrahd:jU,ddotseq:HU,deg:GU,Del:WU,Delta:YU,delta:ZU,demptyv:KU,dfisht:XU,Dfr:JU,dfr:QU,dHar:e7,dharl:t7,dharr:n7,DiacriticalAcute:r7,DiacriticalDot:i7,DiacriticalDoubleAcute:a7,DiacriticalGrave:s7,DiacriticalTilde:o7,diam:l7,diamond:c7,Diamond:u7,diamondsuit:d7,diams:h7,die:f7,DifferentialD:m7,digamma:p7,disin:g7,div:v7,divide:y7,divideontimes:_7,divonx:b7,DJcy:x7,djcy:w7,dlcorn:S7,dlcrop:k7,dollar:C7,Dopf:T7,dopf:A7,Dot:E7,dot:I7,DotDot:P7,doteq:D7,doteqdot:M7,DotEqual:L7,dotminus:R7,dotplus:O7,dotsquare:F7,doublebarwedge:z7,DoubleContourIntegral:B7,DoubleDot:V7,DoubleDownArrow:N7,DoubleLeftArrow:$7,DoubleLeftRightArrow:U7,DoubleLeftTee:q7,DoubleLongLeftArrow:j7,DoubleLongLeftRightArrow:H7,DoubleLongRightArrow:G7,DoubleRightArrow:W7,DoubleRightTee:Y7,DoubleUpArrow:Z7,DoubleUpDownArrow:K7,DoubleVerticalBar:X7,DownArrowBar:J7,downarrow:Q7,DownArrow:eq,Downarrow:tq,DownArrowUpArrow:nq,DownBreve:rq,downdownarrows:iq,downharpoonleft:aq,downharpoonright:sq,DownLeftRightVector:oq,DownLeftTeeVector:lq,DownLeftVectorBar:cq,DownLeftVector:uq,DownRightTeeVector:dq,DownRightVectorBar:hq,DownRightVector:fq,DownTeeArrow:mq,DownTee:pq,drbkarow:gq,drcorn:vq,drcrop:yq,Dscr:_q,dscr:bq,DScy:xq,dscy:wq,dsol:Sq,Dstrok:kq,dstrok:Cq,dtdot:Tq,dtri:Aq,dtrif:Eq,duarr:Iq,duhar:Pq,dwangle:Dq,DZcy:Mq,dzcy:Lq,dzigrarr:Rq,Eacute:Oq,eacute:Fq,easter:zq,Ecaron:Bq,ecaron:Vq,Ecirc:Nq,ecirc:$q,ecir:Uq,ecolon:qq,Ecy:jq,ecy:Hq,eDDot:Gq,Edot:Wq,edot:Yq,eDot:Zq,ee:Kq,efDot:Xq,Efr:Jq,efr:Qq,eg:ej,Egrave:tj,egrave:nj,egs:rj,egsdot:ij,el:aj,Element:sj,elinters:oj,ell:lj,els:cj,elsdot:uj,Emacr:dj,emacr:hj,empty:fj,emptyset:mj,EmptySmallSquare:pj,emptyv:gj,EmptyVerySmallSquare:vj,emsp13:yj,emsp14:_j,emsp:bj,ENG:xj,eng:wj,ensp:Sj,Eogon:kj,eogon:Cj,Eopf:Tj,eopf:Aj,epar:Ej,eparsl:Ij,eplus:Pj,epsi:Dj,Epsilon:Mj,epsilon:Lj,epsiv:Rj,eqcirc:Oj,eqcolon:Fj,eqsim:zj,eqslantgtr:Bj,eqslantless:Vj,Equal:Nj,equals:$j,EqualTilde:Uj,equest:qj,Equilibrium:jj,equiv:Hj,equivDD:Gj,eqvparsl:Wj,erarr:Yj,erDot:Zj,escr:Kj,Escr:Xj,esdot:Jj,Esim:Qj,esim:eH,Eta:tH,eta:nH,ETH:rH,eth:iH,Euml:aH,euml:sH,euro:oH,excl:lH,exist:cH,Exists:uH,expectation:dH,exponentiale:hH,ExponentialE:fH,fallingdotseq:mH,Fcy:pH,fcy:gH,female:vH,ffilig:yH,fflig:_H,ffllig:bH,Ffr:xH,ffr:wH,filig:SH,FilledSmallSquare:kH,FilledVerySmallSquare:CH,fjlig:TH,flat:AH,fllig:EH,fltns:IH,fnof:PH,Fopf:DH,fopf:MH,forall:LH,ForAll:RH,fork:OH,forkv:FH,Fouriertrf:zH,fpartint:BH,frac12:VH,frac13:NH,frac14:$H,frac15:UH,frac16:qH,frac18:jH,frac23:HH,frac25:GH,frac34:WH,frac35:YH,frac38:ZH,frac45:KH,frac56:XH,frac58:JH,frac78:QH,frasl:eG,frown:tG,fscr:nG,Fscr:rG,gacute:iG,Gamma:aG,gamma:sG,Gammad:oG,gammad:lG,gap:cG,Gbreve:uG,gbreve:dG,Gcedil:hG,Gcirc:fG,gcirc:mG,Gcy:pG,gcy:gG,Gdot:vG,gdot:yG,ge:_G,gE:bG,gEl:xG,gel:wG,geq:SG,geqq:kG,geqslant:CG,gescc:TG,ges:AG,gesdot:EG,gesdoto:IG,gesdotol:PG,gesl:DG,gesles:MG,Gfr:LG,gfr:RG,gg:OG,Gg:FG,ggg:zG,gimel:BG,GJcy:VG,gjcy:NG,gla:$G,gl:UG,glE:qG,glj:jG,gnap:HG,gnapprox:GG,gne:WG,gnE:YG,gneq:ZG,gneqq:KG,gnsim:XG,Gopf:JG,gopf:QG,grave:eW,GreaterEqual:tW,GreaterEqualLess:nW,GreaterFullEqual:rW,GreaterGreater:iW,GreaterLess:aW,GreaterSlantEqual:sW,GreaterTilde:oW,Gscr:lW,gscr:cW,gsim:uW,gsime:dW,gsiml:hW,gtcc:fW,gtcir:mW,gt:pW,GT:gW,Gt:vW,gtdot:yW,gtlPar:_W,gtquest:bW,gtrapprox:xW,gtrarr:wW,gtrdot:SW,gtreqless:kW,gtreqqless:CW,gtrless:TW,gtrsim:AW,gvertneqq:EW,gvnE:IW,Hacek:PW,hairsp:DW,half:MW,hamilt:LW,HARDcy:RW,hardcy:OW,harrcir:FW,harr:zW,hArr:BW,harrw:VW,Hat:NW,hbar:$W,Hcirc:UW,hcirc:qW,hearts:jW,heartsuit:HW,hellip:GW,hercon:WW,hfr:YW,Hfr:ZW,HilbertSpace:KW,hksearow:XW,hkswarow:JW,hoarr:QW,homtht:eY,hookleftarrow:tY,hookrightarrow:nY,hopf:rY,Hopf:iY,horbar:aY,HorizontalLine:sY,hscr:oY,Hscr:lY,hslash:cY,Hstrok:uY,hstrok:dY,HumpDownHump:hY,HumpEqual:fY,hybull:mY,hyphen:pY,Iacute:gY,iacute:vY,ic:yY,Icirc:_Y,icirc:bY,Icy:xY,icy:wY,Idot:SY,IEcy:kY,iecy:CY,iexcl:TY,iff:AY,ifr:EY,Ifr:IY,Igrave:PY,igrave:DY,ii:MY,iiiint:LY,iiint:RY,iinfin:OY,iiota:FY,IJlig:zY,ijlig:BY,Imacr:VY,imacr:NY,image:$Y,ImaginaryI:UY,imagline:qY,imagpart:jY,imath:HY,Im:GY,imof:WY,imped:YY,Implies:ZY,incare:KY,in:"∈",infin:XY,infintie:JY,inodot:QY,intcal:eZ,int:tZ,Int:nZ,integers:rZ,Integral:iZ,intercal:aZ,Intersection:sZ,intlarhk:oZ,intprod:lZ,InvisibleComma:cZ,InvisibleTimes:uZ,IOcy:dZ,iocy:hZ,Iogon:fZ,iogon:mZ,Iopf:pZ,iopf:gZ,Iota:vZ,iota:yZ,iprod:_Z,iquest:bZ,iscr:xZ,Iscr:wZ,isin:SZ,isindot:kZ,isinE:CZ,isins:TZ,isinsv:AZ,isinv:EZ,it:IZ,Itilde:PZ,itilde:DZ,Iukcy:MZ,iukcy:LZ,Iuml:RZ,iuml:OZ,Jcirc:FZ,jcirc:zZ,Jcy:BZ,jcy:VZ,Jfr:NZ,jfr:$Z,jmath:UZ,Jopf:qZ,jopf:jZ,Jscr:HZ,jscr:GZ,Jsercy:WZ,jsercy:YZ,Jukcy:ZZ,jukcy:KZ,Kappa:XZ,kappa:JZ,kappav:QZ,Kcedil:eK,kcedil:tK,Kcy:nK,kcy:rK,Kfr:iK,kfr:aK,kgreen:sK,KHcy:oK,khcy:lK,KJcy:cK,kjcy:uK,Kopf:dK,kopf:hK,Kscr:fK,kscr:mK,lAarr:pK,Lacute:gK,lacute:vK,laemptyv:yK,lagran:_K,Lambda:bK,lambda:xK,lang:wK,Lang:SK,langd:kK,langle:CK,lap:TK,Laplacetrf:AK,laquo:EK,larrb:IK,larrbfs:PK,larr:DK,Larr:MK,lArr:LK,larrfs:RK,larrhk:OK,larrlp:FK,larrpl:zK,larrsim:BK,larrtl:VK,latail:NK,lAtail:$K,lat:UK,late:qK,lates:jK,lbarr:HK,lBarr:GK,lbbrk:WK,lbrace:YK,lbrack:ZK,lbrke:KK,lbrksld:XK,lbrkslu:JK,Lcaron:QK,lcaron:eX,Lcedil:tX,lcedil:nX,lceil:rX,lcub:iX,Lcy:aX,lcy:sX,ldca:oX,ldquo:lX,ldquor:cX,ldrdhar:uX,ldrushar:dX,ldsh:hX,le:fX,lE:mX,LeftAngleBracket:pX,LeftArrowBar:gX,leftarrow:vX,LeftArrow:yX,Leftarrow:_X,LeftArrowRightArrow:bX,leftarrowtail:xX,LeftCeiling:wX,LeftDoubleBracket:SX,LeftDownTeeVector:kX,LeftDownVectorBar:CX,LeftDownVector:TX,LeftFloor:AX,leftharpoondown:EX,leftharpoonup:IX,leftleftarrows:PX,leftrightarrow:DX,LeftRightArrow:MX,Leftrightarrow:LX,leftrightarrows:RX,leftrightharpoons:OX,leftrightsquigarrow:FX,LeftRightVector:zX,LeftTeeArrow:BX,LeftTee:VX,LeftTeeVector:NX,leftthreetimes:$X,LeftTriangleBar:UX,LeftTriangle:qX,LeftTriangleEqual:jX,LeftUpDownVector:HX,LeftUpTeeVector:GX,LeftUpVectorBar:WX,LeftUpVector:YX,LeftVectorBar:ZX,LeftVector:KX,lEg:XX,leg:JX,leq:QX,leqq:eJ,leqslant:tJ,lescc:nJ,les:rJ,lesdot:iJ,lesdoto:aJ,lesdotor:sJ,lesg:oJ,lesges:lJ,lessapprox:cJ,lessdot:uJ,lesseqgtr:dJ,lesseqqgtr:hJ,LessEqualGreater:fJ,LessFullEqual:mJ,LessGreater:pJ,lessgtr:gJ,LessLess:vJ,lesssim:yJ,LessSlantEqual:_J,LessTilde:bJ,lfisht:xJ,lfloor:wJ,Lfr:SJ,lfr:kJ,lg:CJ,lgE:TJ,lHar:AJ,lhard:EJ,lharu:IJ,lharul:PJ,lhblk:DJ,LJcy:MJ,ljcy:LJ,llarr:RJ,ll:OJ,Ll:FJ,llcorner:zJ,Lleftarrow:BJ,llhard:VJ,lltri:NJ,Lmidot:$J,lmidot:UJ,lmoustache:qJ,lmoust:jJ,lnap:HJ,lnapprox:GJ,lne:WJ,lnE:YJ,lneq:ZJ,lneqq:KJ,lnsim:XJ,loang:JJ,loarr:QJ,lobrk:eQ,longleftarrow:tQ,LongLeftArrow:nQ,Longleftarrow:rQ,longleftrightarrow:iQ,LongLeftRightArrow:aQ,Longleftrightarrow:sQ,longmapsto:oQ,longrightarrow:lQ,LongRightArrow:cQ,Longrightarrow:uQ,looparrowleft:dQ,looparrowright:hQ,lopar:fQ,Lopf:mQ,lopf:pQ,loplus:gQ,lotimes:vQ,lowast:yQ,lowbar:_Q,LowerLeftArrow:bQ,LowerRightArrow:xQ,loz:wQ,lozenge:SQ,lozf:kQ,lpar:CQ,lparlt:TQ,lrarr:AQ,lrcorner:EQ,lrhar:IQ,lrhard:PQ,lrm:DQ,lrtri:MQ,lsaquo:LQ,lscr:RQ,Lscr:OQ,lsh:FQ,Lsh:zQ,lsim:BQ,lsime:VQ,lsimg:NQ,lsqb:$Q,lsquo:UQ,lsquor:qQ,Lstrok:jQ,lstrok:HQ,ltcc:GQ,ltcir:WQ,lt:YQ,LT:ZQ,Lt:KQ,ltdot:XQ,lthree:JQ,ltimes:QQ,ltlarr:eee,ltquest:tee,ltri:nee,ltrie:ree,ltrif:iee,ltrPar:aee,lurdshar:see,luruhar:oee,lvertneqq:lee,lvnE:cee,macr:uee,male:dee,malt:hee,maltese:fee,Map:"⤅",map:mee,mapsto:pee,mapstodown:gee,mapstoleft:vee,mapstoup:yee,marker:_ee,mcomma:bee,Mcy:xee,mcy:wee,mdash:See,mDDot:kee,measuredangle:Cee,MediumSpace:Tee,Mellintrf:Aee,Mfr:Eee,mfr:Iee,mho:Pee,micro:Dee,midast:Mee,midcir:Lee,mid:Ree,middot:Oee,minusb:Fee,minus:zee,minusd:Bee,minusdu:Vee,MinusPlus:Nee,mlcp:$ee,mldr:Uee,mnplus:qee,models:jee,Mopf:Hee,mopf:Gee,mp:Wee,mscr:Yee,Mscr:Zee,mstpos:Kee,Mu:Xee,mu:Jee,multimap:Qee,mumap:ete,nabla:tte,Nacute:nte,nacute:rte,nang:ite,nap:ate,napE:ste,napid:ote,napos:lte,napprox:cte,natural:ute,naturals:dte,natur:hte,nbsp:fte,nbump:mte,nbumpe:pte,ncap:gte,Ncaron:vte,ncaron:yte,Ncedil:_te,ncedil:bte,ncong:xte,ncongdot:wte,ncup:Ste,Ncy:kte,ncy:Cte,ndash:Tte,nearhk:Ate,nearr:Ete,neArr:Ite,nearrow:Pte,ne:Dte,nedot:Mte,NegativeMediumSpace:Lte,NegativeThickSpace:Rte,NegativeThinSpace:Ote,NegativeVeryThinSpace:Fte,nequiv:zte,nesear:Bte,nesim:Vte,NestedGreaterGreater:Nte,NestedLessLess:$te,NewLine:Ute,nexist:qte,nexists:jte,Nfr:Hte,nfr:Gte,ngE:Wte,nge:Yte,ngeq:Zte,ngeqq:Kte,ngeqslant:Xte,nges:Jte,nGg:Qte,ngsim:ene,nGt:tne,ngt:nne,ngtr:rne,nGtv:ine,nharr:ane,nhArr:sne,nhpar:one,ni:lne,nis:cne,nisd:une,niv:dne,NJcy:hne,njcy:fne,nlarr:mne,nlArr:pne,nldr:gne,nlE:vne,nle:yne,nleftarrow:_ne,nLeftarrow:bne,nleftrightarrow:xne,nLeftrightarrow:wne,nleq:Sne,nleqq:kne,nleqslant:Cne,nles:Tne,nless:Ane,nLl:Ene,nlsim:Ine,nLt:Pne,nlt:Dne,nltri:Mne,nltrie:Lne,nLtv:Rne,nmid:One,NoBreak:Fne,NonBreakingSpace:zne,nopf:Bne,Nopf:Vne,Not:Nne,not:$ne,NotCongruent:Une,NotCupCap:qne,NotDoubleVerticalBar:jne,NotElement:Hne,NotEqual:Gne,NotEqualTilde:Wne,NotExists:Yne,NotGreater:Zne,NotGreaterEqual:Kne,NotGreaterFullEqual:Xne,NotGreaterGreater:Jne,NotGreaterLess:Qne,NotGreaterSlantEqual:ere,NotGreaterTilde:tre,NotHumpDownHump:nre,NotHumpEqual:rre,notin:ire,notindot:are,notinE:sre,notinva:ore,notinvb:lre,notinvc:cre,NotLeftTriangleBar:ure,NotLeftTriangle:dre,NotLeftTriangleEqual:hre,NotLess:fre,NotLessEqual:mre,NotLessGreater:pre,NotLessLess:gre,NotLessSlantEqual:vre,NotLessTilde:yre,NotNestedGreaterGreater:_re,NotNestedLessLess:bre,notni:xre,notniva:wre,notnivb:Sre,notnivc:kre,NotPrecedes:Cre,NotPrecedesEqual:Tre,NotPrecedesSlantEqual:Are,NotReverseElement:Ere,NotRightTriangleBar:Ire,NotRightTriangle:Pre,NotRightTriangleEqual:Dre,NotSquareSubset:Mre,NotSquareSubsetEqual:Lre,NotSquareSuperset:Rre,NotSquareSupersetEqual:Ore,NotSubset:Fre,NotSubsetEqual:zre,NotSucceeds:Bre,NotSucceedsEqual:Vre,NotSucceedsSlantEqual:Nre,NotSucceedsTilde:$re,NotSuperset:Ure,NotSupersetEqual:qre,NotTilde:jre,NotTildeEqual:Hre,NotTildeFullEqual:Gre,NotTildeTilde:Wre,NotVerticalBar:Yre,nparallel:Zre,npar:Kre,nparsl:Xre,npart:Jre,npolint:Qre,npr:eie,nprcue:tie,nprec:nie,npreceq:rie,npre:iie,nrarrc:aie,nrarr:sie,nrArr:oie,nrarrw:lie,nrightarrow:cie,nRightarrow:uie,nrtri:die,nrtrie:hie,nsc:fie,nsccue:mie,nsce:pie,Nscr:gie,nscr:vie,nshortmid:yie,nshortparallel:_ie,nsim:bie,nsime:xie,nsimeq:wie,nsmid:Sie,nspar:kie,nsqsube:Cie,nsqsupe:Tie,nsub:Aie,nsubE:Eie,nsube:Iie,nsubset:Pie,nsubseteq:Die,nsubseteqq:Mie,nsucc:Lie,nsucceq:Rie,nsup:Oie,nsupE:Fie,nsupe:zie,nsupset:Bie,nsupseteq:Vie,nsupseteqq:Nie,ntgl:$ie,Ntilde:Uie,ntilde:qie,ntlg:jie,ntriangleleft:Hie,ntrianglelefteq:Gie,ntriangleright:Wie,ntrianglerighteq:Yie,Nu:Zie,nu:Kie,num:Xie,numero:Jie,numsp:Qie,nvap:eae,nvdash:tae,nvDash:nae,nVdash:rae,nVDash:iae,nvge:aae,nvgt:sae,nvHarr:oae,nvinfin:lae,nvlArr:cae,nvle:uae,nvlt:dae,nvltrie:hae,nvrArr:fae,nvrtrie:mae,nvsim:pae,nwarhk:gae,nwarr:vae,nwArr:yae,nwarrow:_ae,nwnear:bae,Oacute:xae,oacute:wae,oast:Sae,Ocirc:kae,ocirc:Cae,ocir:Tae,Ocy:Aae,ocy:Eae,odash:Iae,Odblac:Pae,odblac:Dae,odiv:Mae,odot:Lae,odsold:Rae,OElig:Oae,oelig:Fae,ofcir:zae,Ofr:Bae,ofr:Vae,ogon:Nae,Ograve:$ae,ograve:Uae,ogt:qae,ohbar:jae,ohm:Hae,oint:Gae,olarr:Wae,olcir:Yae,olcross:Zae,oline:Kae,olt:Xae,Omacr:Jae,omacr:Qae,Omega:ese,omega:tse,Omicron:nse,omicron:rse,omid:ise,ominus:ase,Oopf:sse,oopf:ose,opar:lse,OpenCurlyDoubleQuote:cse,OpenCurlyQuote:use,operp:dse,oplus:hse,orarr:fse,Or:mse,or:pse,ord:gse,order:vse,orderof:yse,ordf:_se,ordm:bse,origof:xse,oror:wse,orslope:Sse,orv:kse,oS:Cse,Oscr:Tse,oscr:Ase,Oslash:Ese,oslash:Ise,osol:Pse,Otilde:Dse,otilde:Mse,otimesas:Lse,Otimes:Rse,otimes:Ose,Ouml:Fse,ouml:zse,ovbar:Bse,OverBar:Vse,OverBrace:Nse,OverBracket:$se,OverParenthesis:Use,para:qse,parallel:jse,par:Hse,parsim:Gse,parsl:Wse,part:Yse,PartialD:Zse,Pcy:Kse,pcy:Xse,percnt:Jse,period:Qse,permil:eoe,perp:toe,pertenk:noe,Pfr:roe,pfr:ioe,Phi:aoe,phi:soe,phiv:ooe,phmmat:loe,phone:coe,Pi:uoe,pi:doe,pitchfork:hoe,piv:foe,planck:moe,planckh:poe,plankv:goe,plusacir:voe,plusb:yoe,pluscir:_oe,plus:boe,plusdo:xoe,plusdu:woe,pluse:Soe,PlusMinus:koe,plusmn:Coe,plussim:Toe,plustwo:Aoe,pm:Eoe,Poincareplane:Ioe,pointint:Poe,popf:Doe,Popf:Moe,pound:Loe,prap:Roe,Pr:Ooe,pr:Foe,prcue:zoe,precapprox:Boe,prec:Voe,preccurlyeq:Noe,Precedes:$oe,PrecedesEqual:Uoe,PrecedesSlantEqual:qoe,PrecedesTilde:joe,preceq:Hoe,precnapprox:Goe,precneqq:Woe,precnsim:Yoe,pre:Zoe,prE:Koe,precsim:Xoe,prime:Joe,Prime:Qoe,primes:ele,prnap:tle,prnE:nle,prnsim:rle,prod:ile,Product:ale,profalar:sle,profline:ole,profsurf:lle,prop:cle,Proportional:ule,Proportion:dle,propto:hle,prsim:fle,prurel:mle,Pscr:ple,pscr:gle,Psi:vle,psi:yle,puncsp:_le,Qfr:ble,qfr:xle,qint:wle,qopf:Sle,Qopf:kle,qprime:Cle,Qscr:Tle,qscr:Ale,quaternions:Ele,quatint:Ile,quest:Ple,questeq:Dle,quot:Mle,QUOT:Lle,rAarr:Rle,race:Ole,Racute:Fle,racute:zle,radic:Ble,raemptyv:Vle,rang:Nle,Rang:$le,rangd:Ule,range:qle,rangle:jle,raquo:Hle,rarrap:Gle,rarrb:Wle,rarrbfs:Yle,rarrc:Zle,rarr:Kle,Rarr:Xle,rArr:Jle,rarrfs:Qle,rarrhk:ece,rarrlp:tce,rarrpl:nce,rarrsim:rce,Rarrtl:ice,rarrtl:ace,rarrw:sce,ratail:oce,rAtail:lce,ratio:cce,rationals:uce,rbarr:dce,rBarr:hce,RBarr:fce,rbbrk:mce,rbrace:pce,rbrack:gce,rbrke:vce,rbrksld:yce,rbrkslu:_ce,Rcaron:bce,rcaron:xce,Rcedil:wce,rcedil:Sce,rceil:kce,rcub:Cce,Rcy:Tce,rcy:Ace,rdca:Ece,rdldhar:Ice,rdquo:Pce,rdquor:Dce,rdsh:Mce,real:Lce,realine:Rce,realpart:Oce,reals:Fce,Re:zce,rect:Bce,reg:Vce,REG:Nce,ReverseElement:$ce,ReverseEquilibrium:Uce,ReverseUpEquilibrium:qce,rfisht:jce,rfloor:Hce,rfr:Gce,Rfr:Wce,rHar:Yce,rhard:Zce,rharu:Kce,rharul:Xce,Rho:Jce,rho:Qce,rhov:eue,RightAngleBracket:tue,RightArrowBar:nue,rightarrow:rue,RightArrow:iue,Rightarrow:aue,RightArrowLeftArrow:sue,rightarrowtail:oue,RightCeiling:lue,RightDoubleBracket:cue,RightDownTeeVector:uue,RightDownVectorBar:due,RightDownVector:hue,RightFloor:fue,rightharpoondown:mue,rightharpoonup:pue,rightleftarrows:gue,rightleftharpoons:vue,rightrightarrows:yue,rightsquigarrow:_ue,RightTeeArrow:bue,RightTee:xue,RightTeeVector:wue,rightthreetimes:Sue,RightTriangleBar:kue,RightTriangle:Cue,RightTriangleEqual:Tue,RightUpDownVector:Aue,RightUpTeeVector:Eue,RightUpVectorBar:Iue,RightUpVector:Pue,RightVectorBar:Due,RightVector:Mue,ring:Lue,risingdotseq:Rue,rlarr:Oue,rlhar:Fue,rlm:zue,rmoustache:Bue,rmoust:Vue,rnmid:Nue,roang:$ue,roarr:Uue,robrk:que,ropar:jue,ropf:Hue,Ropf:Gue,roplus:Wue,rotimes:Yue,RoundImplies:Zue,rpar:Kue,rpargt:Xue,rppolint:Jue,rrarr:Que,Rrightarrow:ede,rsaquo:tde,rscr:nde,Rscr:rde,rsh:ide,Rsh:ade,rsqb:sde,rsquo:ode,rsquor:lde,rthree:cde,rtimes:ude,rtri:dde,rtrie:hde,rtrif:fde,rtriltri:mde,RuleDelayed:pde,ruluhar:gde,rx:vde,Sacute:yde,sacute:_de,sbquo:bde,scap:xde,Scaron:wde,scaron:Sde,Sc:kde,sc:Cde,sccue:Tde,sce:Ade,scE:Ede,Scedil:Ide,scedil:Pde,Scirc:Dde,scirc:Mde,scnap:Lde,scnE:Rde,scnsim:Ode,scpolint:Fde,scsim:zde,Scy:Bde,scy:Vde,sdotb:Nde,sdot:$de,sdote:Ude,searhk:qde,searr:jde,seArr:Hde,searrow:Gde,sect:Wde,semi:Yde,seswar:Zde,setminus:Kde,setmn:Xde,sext:Jde,Sfr:Qde,sfr:ehe,sfrown:the,sharp:nhe,SHCHcy:rhe,shchcy:ihe,SHcy:ahe,shcy:she,ShortDownArrow:ohe,ShortLeftArrow:lhe,shortmid:che,shortparallel:uhe,ShortRightArrow:dhe,ShortUpArrow:hhe,shy:fhe,Sigma:mhe,sigma:phe,sigmaf:ghe,sigmav:vhe,sim:yhe,simdot:_he,sime:bhe,simeq:xhe,simg:whe,simgE:She,siml:khe,simlE:Che,simne:The,simplus:Ahe,simrarr:Ehe,slarr:Ihe,SmallCircle:Phe,smallsetminus:Dhe,smashp:Mhe,smeparsl:Lhe,smid:Rhe,smile:Ohe,smt:Fhe,smte:zhe,smtes:Bhe,SOFTcy:Vhe,softcy:Nhe,solbar:$he,solb:Uhe,sol:qhe,Sopf:jhe,sopf:Hhe,spades:Ghe,spadesuit:Whe,spar:Yhe,sqcap:Zhe,sqcaps:Khe,sqcup:Xhe,sqcups:Jhe,Sqrt:Qhe,sqsub:efe,sqsube:tfe,sqsubset:nfe,sqsubseteq:rfe,sqsup:ife,sqsupe:afe,sqsupset:sfe,sqsupseteq:ofe,square:lfe,Square:cfe,SquareIntersection:ufe,SquareSubset:dfe,SquareSubsetEqual:hfe,SquareSuperset:ffe,SquareSupersetEqual:mfe,SquareUnion:pfe,squarf:gfe,squ:vfe,squf:yfe,srarr:_fe,Sscr:bfe,sscr:xfe,ssetmn:wfe,ssmile:Sfe,sstarf:kfe,Star:Cfe,star:Tfe,starf:Afe,straightepsilon:Efe,straightphi:Ife,strns:Pfe,sub:Dfe,Sub:Mfe,subdot:Lfe,subE:Rfe,sube:Ofe,subedot:Ffe,submult:zfe,subnE:Bfe,subne:Vfe,subplus:Nfe,subrarr:$fe,subset:Ufe,Subset:qfe,subseteq:jfe,subseteqq:Hfe,SubsetEqual:Gfe,subsetneq:Wfe,subsetneqq:Yfe,subsim:Zfe,subsub:Kfe,subsup:Xfe,succapprox:Jfe,succ:Qfe,succcurlyeq:eme,Succeeds:tme,SucceedsEqual:nme,SucceedsSlantEqual:rme,SucceedsTilde:ime,succeq:ame,succnapprox:sme,succneqq:ome,succnsim:lme,succsim:cme,SuchThat:ume,sum:dme,Sum:hme,sung:fme,sup1:mme,sup2:pme,sup3:gme,sup:vme,Sup:yme,supdot:_me,supdsub:bme,supE:xme,supe:wme,supedot:Sme,Superset:kme,SupersetEqual:Cme,suphsol:Tme,suphsub:Ame,suplarr:Eme,supmult:Ime,supnE:Pme,supne:Dme,supplus:Mme,supset:Lme,Supset:Rme,supseteq:Ome,supseteqq:Fme,supsetneq:zme,supsetneqq:Bme,supsim:Vme,supsub:Nme,supsup:$me,swarhk:Ume,swarr:qme,swArr:jme,swarrow:Hme,swnwar:Gme,szlig:Wme,Tab:Yme,target:Zme,Tau:Kme,tau:Xme,tbrk:Jme,Tcaron:Qme,tcaron:epe,Tcedil:tpe,tcedil:npe,Tcy:rpe,tcy:ipe,tdot:ape,telrec:spe,Tfr:ope,tfr:lpe,there4:cpe,therefore:upe,Therefore:dpe,Theta:hpe,theta:fpe,thetasym:mpe,thetav:ppe,thickapprox:gpe,thicksim:vpe,ThickSpace:ype,ThinSpace:_pe,thinsp:bpe,thkap:xpe,thksim:wpe,THORN:Spe,thorn:kpe,tilde:Cpe,Tilde:Tpe,TildeEqual:Ape,TildeFullEqual:Epe,TildeTilde:Ipe,timesbar:Ppe,timesb:Dpe,times:Mpe,timesd:Lpe,tint:Rpe,toea:Ope,topbot:Fpe,topcir:zpe,top:Bpe,Topf:Vpe,topf:Npe,topfork:$pe,tosa:Upe,tprime:qpe,trade:jpe,TRADE:Hpe,triangle:Gpe,triangledown:Wpe,triangleleft:Ype,trianglelefteq:Zpe,triangleq:Kpe,triangleright:Xpe,trianglerighteq:Jpe,tridot:Qpe,trie:ege,triminus:tge,TripleDot:nge,triplus:rge,trisb:ige,tritime:age,trpezium:sge,Tscr:oge,tscr:lge,TScy:cge,tscy:uge,TSHcy:dge,tshcy:hge,Tstrok:fge,tstrok:mge,twixt:pge,twoheadleftarrow:gge,twoheadrightarrow:vge,Uacute:yge,uacute:_ge,uarr:bge,Uarr:xge,uArr:wge,Uarrocir:Sge,Ubrcy:kge,ubrcy:Cge,Ubreve:Tge,ubreve:Age,Ucirc:Ege,ucirc:Ige,Ucy:Pge,ucy:Dge,udarr:Mge,Udblac:Lge,udblac:Rge,udhar:Oge,ufisht:Fge,Ufr:zge,ufr:Bge,Ugrave:Vge,ugrave:Nge,uHar:$ge,uharl:Uge,uharr:qge,uhblk:jge,ulcorn:Hge,ulcorner:Gge,ulcrop:Wge,ultri:Yge,Umacr:Zge,umacr:Kge,uml:Xge,UnderBar:Jge,UnderBrace:Qge,UnderBracket:eve,UnderParenthesis:tve,Union:nve,UnionPlus:rve,Uogon:ive,uogon:ave,Uopf:sve,uopf:ove,UpArrowBar:lve,uparrow:cve,UpArrow:uve,Uparrow:dve,UpArrowDownArrow:hve,updownarrow:fve,UpDownArrow:mve,Updownarrow:pve,UpEquilibrium:gve,upharpoonleft:vve,upharpoonright:yve,uplus:_ve,UpperLeftArrow:bve,UpperRightArrow:xve,upsi:wve,Upsi:Sve,upsih:kve,Upsilon:Cve,upsilon:Tve,UpTeeArrow:Ave,UpTee:Eve,upuparrows:Ive,urcorn:Pve,urcorner:Dve,urcrop:Mve,Uring:Lve,uring:Rve,urtri:Ove,Uscr:Fve,uscr:zve,utdot:Bve,Utilde:Vve,utilde:Nve,utri:$ve,utrif:Uve,uuarr:qve,Uuml:jve,uuml:Hve,uwangle:Gve,vangrt:Wve,varepsilon:Yve,varkappa:Zve,varnothing:Kve,varphi:Xve,varpi:Jve,varpropto:Qve,varr:eye,vArr:tye,varrho:nye,varsigma:rye,varsubsetneq:iye,varsubsetneqq:aye,varsupsetneq:sye,varsupsetneqq:oye,vartheta:lye,vartriangleleft:cye,vartriangleright:uye,vBar:dye,Vbar:hye,vBarv:fye,Vcy:mye,vcy:pye,vdash:gye,vDash:vye,Vdash:yye,VDash:_ye,Vdashl:bye,veebar:xye,vee:wye,Vee:Sye,veeeq:kye,vellip:Cye,verbar:Tye,Verbar:Aye,vert:Eye,Vert:Iye,VerticalBar:Pye,VerticalLine:Dye,VerticalSeparator:Mye,VerticalTilde:Lye,VeryThinSpace:Rye,Vfr:Oye,vfr:Fye,vltri:zye,vnsub:Bye,vnsup:Vye,Vopf:Nye,vopf:$ye,vprop:Uye,vrtri:qye,Vscr:jye,vscr:Hye,vsubnE:Gye,vsubne:Wye,vsupnE:Yye,vsupne:Zye,Vvdash:Kye,vzigzag:Xye,Wcirc:Jye,wcirc:Qye,wedbar:e_e,wedge:t_e,Wedge:n_e,wedgeq:r_e,weierp:i_e,Wfr:a_e,wfr:s_e,Wopf:o_e,wopf:l_e,wp:c_e,wr:u_e,wreath:d_e,Wscr:h_e,wscr:f_e,xcap:m_e,xcirc:p_e,xcup:g_e,xdtri:v_e,Xfr:y_e,xfr:__e,xharr:b_e,xhArr:x_e,Xi:w_e,xi:S_e,xlarr:k_e,xlArr:C_e,xmap:T_e,xnis:A_e,xodot:E_e,Xopf:I_e,xopf:P_e,xoplus:D_e,xotime:M_e,xrarr:L_e,xrArr:R_e,Xscr:O_e,xscr:F_e,xsqcup:z_e,xuplus:B_e,xutri:V_e,xvee:N_e,xwedge:$_e,Yacute:U_e,yacute:q_e,YAcy:j_e,yacy:H_e,Ycirc:G_e,ycirc:W_e,Ycy:Y_e,ycy:Z_e,yen:K_e,Yfr:X_e,yfr:J_e,YIcy:Q_e,yicy:ebe,Yopf:tbe,yopf:nbe,Yscr:rbe,yscr:ibe,YUcy:abe,yucy:sbe,yuml:obe,Yuml:lbe,Zacute:cbe,zacute:ube,Zcaron:dbe,zcaron:hbe,Zcy:fbe,zcy:mbe,Zdot:pbe,zdot:gbe,zeetrf:vbe,ZeroWidthSpace:ybe,Zeta:_be,zeta:bbe,zfr:xbe,Zfr:wbe,ZHcy:Sbe,zhcy:kbe,zigrarr:Cbe,zopf:Tbe,Zopf:Abe,Zscr:Ebe,zscr:Ibe,zwj:Pbe,zwnj:Dbe};var TI=Mbe,Nx=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Jd={},hC={};function Lbe(e){var t,n,r=hC[e];if(r)return r;for(r=hC[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?r.push(n):r.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)r[e.charCodeAt(t)]=e[t];return r}function Ev(e,t,n){var r,s,u,h,o,p="";for(typeof t!="string"&&(n=t,t=Ev.defaultChars),typeof n>"u"&&(n=!0),o=Lbe(t),r=0,s=e.length;r<s;r++){if(u=e.charCodeAt(r),n&&u===37&&r+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(r+1,r+3))){p+=e.slice(r,r+3),r+=2;continue}if(u<128){p+=o[u];continue}if(u>=55296&&u<=57343){if(u>=55296&&u<=56319&&r+1<s&&(h=e.charCodeAt(r+1),h>=56320&&h<=57343)){p+=encodeURIComponent(e[r]+e[r+1]),r++;continue}p+="%EF%BF%BD";continue}p+=encodeURIComponent(e[r])}return p}Ev.defaultChars=";/?:@&=+$,-_.!~*'()#";Ev.componentChars="-_.!~*'()";var Rbe=Ev,fC={};function Obe(e){var t,n,r=fC[e];if(r)return r;for(r=fC[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),r.push(n);for(t=0;t<e.length;t++)n=e.charCodeAt(t),r[n]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return r}function Iv(e,t){var n;return typeof t!="string"&&(t=Iv.defaultChars),n=Obe(t),e.replace(/(%[a-f0-9]{2})+/gi,function(r){var s,u,h,o,p,y,b,k="";for(s=0,u=r.length;s<u;s+=3){if(h=parseInt(r.slice(s+1,s+3),16),h<128){k+=n[h];continue}if((h&224)===192&&s+3<u&&(o=parseInt(r.slice(s+4,s+6),16),(o&192)===128)){b=h<<6&1984|o&63,b<128?k+="��":k+=String.fromCharCode(b),s+=3;continue}if((h&240)===224&&s+6<u&&(o=parseInt(r.slice(s+4,s+6),16),p=parseInt(r.slice(s+7,s+9),16),(o&192)===128&&(p&192)===128)){b=h<<12&61440|o<<6&4032|p&63,b<2048||b>=55296&&b<=57343?k+="���":k+=String.fromCharCode(b),s+=6;continue}if((h&248)===240&&s+9<u&&(o=parseInt(r.slice(s+4,s+6),16),p=parseInt(r.slice(s+7,s+9),16),y=parseInt(r.slice(s+10,s+12),16),(o&192)===128&&(p&192)===128&&(y&192)===128)){b=h<<18&1835008|o<<12&258048|p<<6&4032|y&63,b<65536||b>1114111?k+="����":(b-=65536,k+=String.fromCharCode(55296+(b>>10),56320+(b&1023))),s+=9;continue}k+="�"}return k})}Iv.defaultChars=";/?:@&=+$,#";Iv.componentChars="";var Fbe=Iv,zbe=function(t){var n="";return n+=t.protocol||"",n+=t.slashes?"//":"",n+=t.auth?t.auth+"@":"",t.hostname&&t.hostname.indexOf(":")!==-1?n+="["+t.hostname+"]":n+=t.hostname||"",n+=t.port?":"+t.port:"",n+=t.pathname||"",n+=t.search||"",n+=t.hash||"",n};function Gg(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var Bbe=/^([a-z0-9.+-]+:)/i,Vbe=/:[0-9]*$/,Nbe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$be=["<",">",'"',"`"," ","\r",`
`,"	"],Ube=["{","}","|","\\","^","`"].concat($be),qbe=["'"].concat(Ube),mC=["%","/","?",";","#"].concat(qbe),pC=["/","?","#"],jbe=255,gC=/^[+a-z0-9A-Z_-]{0,63}$/,Hbe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,vC={javascript:!0,"javascript:":!0},yC={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Gbe(e,t){if(e&&e instanceof Gg)return e;var n=new Gg;return n.parse(e,t),n}Gg.prototype.parse=function(e,t){var n,r,s,u,h,o=e;if(o=o.trim(),!t&&e.split("#").length===1){var p=Nbe.exec(o);if(p)return this.pathname=p[1],p[2]&&(this.search=p[2]),this}var y=Bbe.exec(o);if(y&&(y=y[0],s=y.toLowerCase(),this.protocol=y,o=o.substr(y.length)),(t||y||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(h=o.substr(0,2)==="//",h&&!(y&&vC[y])&&(o=o.substr(2),this.slashes=!0)),!vC[y]&&(h||y&&!yC[y])){var b=-1;for(n=0;n<pC.length;n++)u=o.indexOf(pC[n]),u!==-1&&(b===-1||u<b)&&(b=u);var k,C;for(b===-1?C=o.lastIndexOf("@"):C=o.lastIndexOf("@",b),C!==-1&&(k=o.slice(0,C),o=o.slice(C+1),this.auth=k),b=-1,n=0;n<mC.length;n++)u=o.indexOf(mC[n]),u!==-1&&(b===-1||u<b)&&(b=u);b===-1&&(b=o.length),o[b-1]===":"&&b--;var I=o.slice(0,b);o=o.slice(b),this.parseHost(I),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R){var L=this.hostname.split(/\./);for(n=0,r=L.length;n<r;n++){var O=L[n];if(O&&!O.match(gC)){for(var B="",q=0,J=O.length;q<J;q++)O.charCodeAt(q)>127?B+="x":B+=O[q];if(!B.match(gC)){var ee=L.slice(0,n),ie=L.slice(n+1),re=O.match(Hbe);re&&(ee.push(re[1]),ie.unshift(re[2])),ie.length&&(o=ie.join(".")+o),this.hostname=ee.join(".");break}}}}this.hostname.length>jbe&&(this.hostname=""),R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var le=o.indexOf("#");le!==-1&&(this.hash=o.substr(le),o=o.slice(0,le));var H=o.indexOf("?");return H!==-1&&(this.search=o.substr(H),o=o.slice(0,H)),o&&(this.pathname=o),yC[s]&&this.hostname&&!this.pathname&&(this.pathname=""),this};Gg.prototype.parseHost=function(e){var t=Vbe.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var Wbe=Gbe;Jd.encode=Rbe;Jd.decode=Fbe;Jd.format=zbe;Jd.parse=Wbe;var Gc={},z_,_C;function AI(){return _C||(_C=1,z_=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),z_}var B_,bC;function EI(){return bC||(bC=1,B_=/[\0-\x1F\x7F-\x9F]/),B_}var V_,xC;function Ybe(){return xC||(xC=1,V_=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/),V_}var N_,wC;function II(){return wC||(wC=1,N_=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/),N_}var SC;function Zbe(){return SC||(SC=1,Gc.Any=AI(),Gc.Cc=EI(),Gc.Cf=Ybe(),Gc.P=Nx,Gc.Z=II()),Gc}(function(e){function t(me){return Object.prototype.toString.call(me)}function n(me){return t(me)==="[object String]"}var r=Object.prototype.hasOwnProperty;function s(me,Pe){return r.call(me,Pe)}function u(me){var Pe=Array.prototype.slice.call(arguments,1);return Pe.forEach(function(Ae){if(Ae){if(typeof Ae!="object")throw new TypeError(Ae+"must be object");Object.keys(Ae).forEach(function(Ue){me[Ue]=Ae[Ue]})}}),me}function h(me,Pe,Ae){return[].concat(me.slice(0,Pe),Ae,me.slice(Pe+1))}function o(me){return!(me>=55296&&me<=57343||me>=64976&&me<=65007||(me&65535)===65535||(me&65535)===65534||me>=0&&me<=8||me===11||me>=14&&me<=31||me>=127&&me<=159||me>1114111)}function p(me){if(me>65535){me-=65536;var Pe=55296+(me>>10),Ae=56320+(me&1023);return String.fromCharCode(Pe,Ae)}return String.fromCharCode(me)}var y=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,b=/&([a-z#][a-z0-9]{1,31});/gi,k=new RegExp(y.source+"|"+b.source,"gi"),C=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i,I=TI;function R(me,Pe){var Ae;return s(I,Pe)?I[Pe]:Pe.charCodeAt(0)===35&&C.test(Pe)&&(Ae=Pe[1].toLowerCase()==="x"?parseInt(Pe.slice(2),16):parseInt(Pe.slice(1),10),o(Ae))?p(Ae):me}function L(me){return me.indexOf("\\")<0?me:me.replace(y,"$1")}function O(me){return me.indexOf("\\")<0&&me.indexOf("&")<0?me:me.replace(k,function(Pe,Ae,Ue){return Ae||R(Pe,Ue)})}var B=/[&<>"]/,q=/[&<>"]/g,J={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function ee(me){return J[me]}function ie(me){return B.test(me)?me.replace(q,ee):me}var re=/[.?*+^$[\]\\(){}|-]/g;function le(me){return me.replace(re,"\\$&")}function H(me){switch(me){case 9:case 32:return!0}return!1}function $(me){if(me>=8192&&me<=8202)return!0;switch(me){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}var Z=Nx;function ae(me){return Z.test(me)}function te(me){switch(me){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function be(me){return me=me.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(me=me.replace(/ẞ/g,"ß")),me.toLowerCase().toUpperCase()}e.lib={},e.lib.mdurl=Jd,e.lib.ucmicro=Zbe(),e.assign=u,e.isString=n,e.has=s,e.unescapeMd=L,e.unescapeAll=O,e.isValidEntityCode=o,e.fromCodePoint=p,e.escapeHtml=ie,e.arrayReplaceAt=h,e.isSpace=H,e.isWhiteSpace=$,e.isMdAsciiPunct=te,e.isPunctChar=ae,e.escapeRE=le,e.normalizeReference=be})(ur);var Pv={},Kbe=function(t,n,r){var s,u,h,o,p=-1,y=t.posMax,b=t.pos;for(t.pos=n+1,s=1;t.pos<y;){if(h=t.src.charCodeAt(t.pos),h===93&&(s--,s===0)){u=!0;break}if(o=t.pos,t.md.inline.skipToken(t),h===91){if(o===t.pos-1)s++;else if(r)return t.pos=b,-1}}return u&&(p=t.pos),t.pos=b,p},kC=ur.unescapeAll,Xbe=function(t,n,r){var s,u,h=n,o={ok:!1,pos:0,lines:0,str:""};if(t.charCodeAt(h)===60){for(h++;h<r;){if(s=t.charCodeAt(h),s===10||s===60)return o;if(s===62)return o.pos=h+1,o.str=kC(t.slice(n+1,h)),o.ok=!0,o;if(s===92&&h+1<r){h+=2;continue}h++}return o}for(u=0;h<r&&(s=t.charCodeAt(h),!(s===32||s<32||s===127));){if(s===92&&h+1<r){if(t.charCodeAt(h+1)===32)break;h+=2;continue}if(s===40&&(u++,u>32))return o;if(s===41){if(u===0)break;u--}h++}return n===h||u!==0||(o.str=kC(t.slice(n,h)),o.pos=h,o.ok=!0),o},Jbe=ur.unescapeAll,Qbe=function(t,n,r){var s,u,h=0,o=n,p={ok:!1,pos:0,lines:0,str:""};if(o>=r||(u=t.charCodeAt(o),u!==34&&u!==39&&u!==40))return p;for(o++,u===40&&(u=41);o<r;){if(s=t.charCodeAt(o),s===u)return p.pos=o+1,p.lines=h,p.str=Jbe(t.slice(n+1,o)),p.ok=!0,p;if(s===40&&u===41)return p;s===10?h++:s===92&&o+1<r&&(o++,t.charCodeAt(o)===10&&h++),o++}return p};Pv.parseLinkLabel=Kbe;Pv.parseLinkDestination=Xbe;Pv.parseLinkTitle=Qbe;var e0e=ur.assign,t0e=ur.unescapeAll,fu=ur.escapeHtml,zo={};zo.code_inline=function(e,t,n,r,s){var u=e[t];return"<code"+s.renderAttrs(u)+">"+fu(u.content)+"</code>"};zo.code_block=function(e,t,n,r,s){var u=e[t];return"<pre"+s.renderAttrs(u)+"><code>"+fu(e[t].content)+`</code></pre>
`};zo.fence=function(e,t,n,r,s){var u=e[t],h=u.info?t0e(u.info).trim():"",o="",p="",y,b,k,C,I;return h&&(k=h.split(/(\s+)/g),o=k[0],p=k.slice(2).join("")),n.highlight?y=n.highlight(u.content,o,p)||fu(u.content):y=fu(u.content),y.indexOf("<pre")===0?y+`
`:h?(b=u.attrIndex("class"),C=u.attrs?u.attrs.slice():[],b<0?C.push(["class",n.langPrefix+o]):(C[b]=C[b].slice(),C[b][1]+=" "+n.langPrefix+o),I={attrs:C},"<pre><code"+s.renderAttrs(I)+">"+y+`</code></pre>
`):"<pre><code"+s.renderAttrs(u)+">"+y+`</code></pre>
`};zo.image=function(e,t,n,r,s){var u=e[t];return u.attrs[u.attrIndex("alt")][1]=s.renderInlineAsText(u.children,n,r),s.renderToken(e,t,n)};zo.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};zo.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};zo.text=function(e,t){return fu(e[t].content)};zo.html_block=function(e,t){return e[t].content};zo.html_inline=function(e,t){return e[t].content};function Qd(){this.rules=e0e({},zo)}Qd.prototype.renderAttrs=function(t){var n,r,s;if(!t.attrs)return"";for(s="",n=0,r=t.attrs.length;n<r;n++)s+=" "+fu(t.attrs[n][0])+'="'+fu(t.attrs[n][1])+'"';return s};Qd.prototype.renderToken=function(t,n,r){var s,u="",h=!1,o=t[n];return o.hidden?"":(o.block&&o.nesting!==-1&&n&&t[n-1].hidden&&(u+=`
`),u+=(o.nesting===-1?"</":"<")+o.tag,u+=this.renderAttrs(o),o.nesting===0&&r.xhtmlOut&&(u+=" /"),o.block&&(h=!0,o.nesting===1&&n+1<t.length&&(s=t[n+1],(s.type==="inline"||s.hidden||s.nesting===-1&&s.tag===o.tag)&&(h=!1))),u+=h?`>
`:">",u)};Qd.prototype.renderInline=function(e,t,n){for(var r,s="",u=this.rules,h=0,o=e.length;h<o;h++)r=e[h].type,typeof u[r]<"u"?s+=u[r](e,h,t,n,this):s+=this.renderToken(e,h,t);return s};Qd.prototype.renderInlineAsText=function(e,t,n){for(var r="",s=0,u=e.length;s<u;s++)e[s].type==="text"?r+=e[s].content:e[s].type==="image"?r+=this.renderInlineAsText(e[s].children,t,n):e[s].type==="softbreak"&&(r+=`
`);return r};Qd.prototype.render=function(e,t,n){var r,s,u,h="",o=this.rules;for(r=0,s=e.length;r<s;r++)u=e[r].type,u==="inline"?h+=this.renderInline(e[r].children,t,n):typeof o[u]<"u"?h+=o[u](e,r,t,n,this):h+=this.renderToken(e,r,t,n);return h};var n0e=Qd;function co(){this.__rules__=[],this.__cache__=null}co.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};co.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(r){t.indexOf(r)<0&&t.push(r)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(r){r.enabled&&(n&&r.alt.indexOf(n)<0||e.__cache__[n].push(r.fn))})})};co.prototype.at=function(e,t,n){var r=this.__find__(e),s=n||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=s.alt||[],this.__cache__=null};co.prototype.before=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};co.prototype.after=function(e,t,n,r){var s=this.__find__(e),u=r||{};if(s===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(s+1,0,{name:t,enabled:!0,fn:n,alt:u.alt||[]}),this.__cache__=null};co.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null};co.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!0,n.push(r)},this),this.__cache__=null,n};co.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};co.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach(function(r){var s=this.__find__(r);if(s<0){if(t)return;throw new Error("Rules manager: invalid rule name "+r)}this.__rules__[s].enabled=!1,n.push(r)},this),this.__cache__=null,n};co.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};var $x=co,r0e=/\r\n?|\n/g,i0e=/\0/g,a0e=function(t){var n;n=t.src.replace(r0e,`
`),n=n.replace(i0e,"�"),t.src=n},s0e=function(t){var n;t.inlineMode?(n=new t.Token("inline","",0),n.content=t.src,n.map=[0,1],n.children=[],t.tokens.push(n)):t.md.block.parse(t.src,t.md,t.env,t.tokens)},o0e=function(t){var n=t.tokens,r,s,u;for(s=0,u=n.length;s<u;s++)r=n[s],r.type==="inline"&&t.md.inline.parse(r.content,t.md,t.env,r.children)},l0e=ur.arrayReplaceAt;function c0e(e){return/^<a[>\s]/i.test(e)}function u0e(e){return/^<\/a\s*>/i.test(e)}var d0e=function(t){var n,r,s,u,h,o,p,y,b,k,C,I,R,L,O,B,q=t.tokens,J;if(t.md.options.linkify){for(r=0,s=q.length;r<s;r++)if(!(q[r].type!=="inline"||!t.md.linkify.pretest(q[r].content)))for(u=q[r].children,R=0,n=u.length-1;n>=0;n--){if(o=u[n],o.type==="link_close"){for(n--;u[n].level!==o.level&&u[n].type!=="link_open";)n--;continue}if(o.type==="html_inline"&&(c0e(o.content)&&R>0&&R--,u0e(o.content)&&R++),!(R>0)&&o.type==="text"&&t.md.linkify.test(o.content)){for(b=o.content,J=t.md.linkify.match(b),p=[],I=o.level,C=0,J.length>0&&J[0].index===0&&n>0&&u[n-1].type==="text_special"&&(J=J.slice(1)),y=0;y<J.length;y++)L=J[y].url,O=t.md.normalizeLink(L),t.md.validateLink(O)&&(B=J[y].text,J[y].schema?J[y].schema==="mailto:"&&!/^mailto:/i.test(B)?B=t.md.normalizeLinkText("mailto:"+B).replace(/^mailto:/,""):B=t.md.normalizeLinkText(B):B=t.md.normalizeLinkText("http://"+B).replace(/^http:\/\//,""),k=J[y].index,k>C&&(h=new t.Token("text","",0),h.content=b.slice(C,k),h.level=I,p.push(h)),h=new t.Token("link_open","a",1),h.attrs=[["href",O]],h.level=I++,h.markup="linkify",h.info="auto",p.push(h),h=new t.Token("text","",0),h.content=B,h.level=I,p.push(h),h=new t.Token("link_close","a",-1),h.level=--I,h.markup="linkify",h.info="auto",p.push(h),C=J[y].lastIndex);C<b.length&&(h=new t.Token("text","",0),h.content=b.slice(C),h.level=I,p.push(h)),q[r].children=u=l0e(u,n,p)}}}},PI=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,h0e=/\((c|tm|r)\)/i,f0e=/\((c|tm|r)\)/ig,m0e={c:"©",r:"®",tm:"™"};function p0e(e,t){return m0e[t.toLowerCase()]}function g0e(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&(n.content=n.content.replace(f0e,p0e)),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}function v0e(e){var t,n,r=0;for(t=e.length-1;t>=0;t--)n=e[t],n.type==="text"&&!r&&PI.test(n.content)&&(n.content=n.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),n.type==="link_open"&&n.info==="auto"&&r--,n.type==="link_close"&&n.info==="auto"&&r++}var y0e=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type==="inline"&&(h0e.test(t.tokens[n].content)&&g0e(t.tokens[n].children),PI.test(t.tokens[n].content)&&v0e(t.tokens[n].children))},CC=ur.isWhiteSpace,TC=ur.isPunctChar,AC=ur.isMdAsciiPunct,_0e=/['"]/,EC=/['"]/g,IC="’";function ag(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function b0e(e,t){var n,r,s,u,h,o,p,y,b,k,C,I,R,L,O,B,q,J,ee,ie,re;for(ee=[],n=0;n<e.length;n++){for(r=e[n],p=e[n].level,q=ee.length-1;q>=0&&!(ee[q].level<=p);q--);if(ee.length=q+1,r.type==="text"){s=r.content,h=0,o=s.length;e:for(;h<o&&(EC.lastIndex=h,u=EC.exec(s),!!u);){if(O=B=!0,h=u.index+1,J=u[0]==="'",b=32,u.index-1>=0)b=s.charCodeAt(u.index-1);else for(q=n-1;q>=0&&!(e[q].type==="softbreak"||e[q].type==="hardbreak");q--)if(e[q].content){b=e[q].content.charCodeAt(e[q].content.length-1);break}if(k=32,h<o)k=s.charCodeAt(h);else for(q=n+1;q<e.length&&!(e[q].type==="softbreak"||e[q].type==="hardbreak");q++)if(e[q].content){k=e[q].content.charCodeAt(0);break}if(C=AC(b)||TC(String.fromCharCode(b)),I=AC(k)||TC(String.fromCharCode(k)),R=CC(b),L=CC(k),L?O=!1:I&&(R||C||(O=!1)),R?B=!1:C&&(L||I||(B=!1)),k===34&&u[0]==='"'&&b>=48&&b<=57&&(B=O=!1),O&&B&&(O=C,B=I),!O&&!B){J&&(r.content=ag(r.content,u.index,IC));continue}if(B){for(q=ee.length-1;q>=0&&(y=ee[q],!(ee[q].level<p));q--)if(y.single===J&&ee[q].level===p){y=ee[q],J?(ie=t.md.options.quotes[2],re=t.md.options.quotes[3]):(ie=t.md.options.quotes[0],re=t.md.options.quotes[1]),r.content=ag(r.content,u.index,re),e[y.token].content=ag(e[y.token].content,y.pos,ie),h+=re.length-1,y.token===n&&(h+=ie.length-1),s=r.content,o=s.length,ee.length=q;continue e}}O?ee.push({token:n,pos:u.index,single:J,level:p}):B&&J&&(r.content=ag(r.content,u.index,IC))}}}}var x0e=function(t){var n;if(t.md.options.typographer)for(n=t.tokens.length-1;n>=0;n--)t.tokens[n].type!=="inline"||!_0e.test(t.tokens[n].content)||b0e(t.tokens[n].children,t)},w0e=function(t){var n,r,s,u,h,o,p=t.tokens;for(n=0,r=p.length;n<r;n++)if(p[n].type==="inline"){for(s=p[n].children,h=s.length,u=0;u<h;u++)s[u].type==="text_special"&&(s[u].type="text");for(u=o=0;u<h;u++)s[u].type==="text"&&u+1<h&&s[u+1].type==="text"?s[u+1].content=s[u].content+s[u+1].content:(u!==o&&(s[o]=s[u]),o++);u!==o&&(s.length=o)}};function eh(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}eh.prototype.attrIndex=function(t){var n,r,s;if(!this.attrs)return-1;for(n=this.attrs,r=0,s=n.length;r<s;r++)if(n[r][0]===t)return r;return-1};eh.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};eh.prototype.attrSet=function(t,n){var r=this.attrIndex(t),s=[t,n];r<0?this.attrPush(s):this.attrs[r]=s};eh.prototype.attrGet=function(t){var n=this.attrIndex(t),r=null;return n>=0&&(r=this.attrs[n][1]),r};eh.prototype.attrJoin=function(t,n){var r=this.attrIndex(t);r<0?this.attrPush([t,n]):this.attrs[r][1]=this.attrs[r][1]+" "+n};var Ux=eh,S0e=Ux;function DI(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}DI.prototype.Token=S0e;var k0e=DI,C0e=$x,$_=[["normalize",a0e],["block",s0e],["inline",o0e],["linkify",d0e],["replacements",y0e],["smartquotes",x0e],["text_join",w0e]];function qx(){this.ruler=new C0e;for(var e=0;e<$_.length;e++)this.ruler.push($_[e][0],$_[e][1])}qx.prototype.process=function(e){var t,n,r;for(r=this.ruler.getRules(""),t=0,n=r.length;t<n;t++)r[t](e)};qx.prototype.State=k0e;var T0e=qx,U_=ur.isSpace;function q_(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function PC(e){var t=[],n=0,r=e.length,s,u=!1,h=0,o="";for(s=e.charCodeAt(n);n<r;)s===124&&(u?(o+=e.substring(h,n-1),h=n):(t.push(o+e.substring(h,n)),o="",h=n+1)),u=s===92,n++,s=e.charCodeAt(n);return t.push(o+e.substring(h)),t}var A0e=function(t,n,r,s){var u,h,o,p,y,b,k,C,I,R,L,O,B,q,J,ee,ie,re;if(n+2>r||(b=n+1,t.sCount[b]<t.blkIndent)||t.sCount[b]-t.blkIndent>=4||(o=t.bMarks[b]+t.tShift[b],o>=t.eMarks[b])||(ie=t.src.charCodeAt(o++),ie!==124&&ie!==45&&ie!==58)||o>=t.eMarks[b]||(re=t.src.charCodeAt(o++),re!==124&&re!==45&&re!==58&&!U_(re))||ie===45&&U_(re))return!1;for(;o<t.eMarks[b];){if(u=t.src.charCodeAt(o),u!==124&&u!==45&&u!==58&&!U_(u))return!1;o++}for(h=q_(t,n+1),k=h.split("|"),R=[],p=0;p<k.length;p++){if(L=k[p].trim(),!L){if(p===0||p===k.length-1)continue;return!1}if(!/^:?-+:?$/.test(L))return!1;L.charCodeAt(L.length-1)===58?R.push(L.charCodeAt(0)===58?"center":"right"):L.charCodeAt(0)===58?R.push("left"):R.push("")}if(h=q_(t,n).trim(),h.indexOf("|")===-1||t.sCount[n]-t.blkIndent>=4||(k=PC(h),k.length&&k[0]===""&&k.shift(),k.length&&k[k.length-1]===""&&k.pop(),C=k.length,C===0||C!==R.length))return!1;if(s)return!0;for(q=t.parentType,t.parentType="table",ee=t.md.block.ruler.getRules("blockquote"),I=t.push("table_open","table",1),I.map=O=[n,0],I=t.push("thead_open","thead",1),I.map=[n,n+1],I=t.push("tr_open","tr",1),I.map=[n,n+1],p=0;p<k.length;p++)I=t.push("th_open","th",1),R[p]&&(I.attrs=[["style","text-align:"+R[p]]]),I=t.push("inline","",0),I.content=k[p].trim(),I.children=[],I=t.push("th_close","th",-1);for(I=t.push("tr_close","tr",-1),I=t.push("thead_close","thead",-1),b=n+2;b<r&&!(t.sCount[b]<t.blkIndent);b++){for(J=!1,p=0,y=ee.length;p<y;p++)if(ee[p](t,b,r,!0)){J=!0;break}if(J||(h=q_(t,b).trim(),!h)||t.sCount[b]-t.blkIndent>=4)break;for(k=PC(h),k.length&&k[0]===""&&k.shift(),k.length&&k[k.length-1]===""&&k.pop(),b===n+2&&(I=t.push("tbody_open","tbody",1),I.map=B=[n+2,0]),I=t.push("tr_open","tr",1),I.map=[b,b+1],p=0;p<C;p++)I=t.push("td_open","td",1),R[p]&&(I.attrs=[["style","text-align:"+R[p]]]),I=t.push("inline","",0),I.content=k[p]?k[p].trim():"",I.children=[],I=t.push("td_close","td",-1);I=t.push("tr_close","tr",-1)}return B&&(I=t.push("tbody_close","tbody",-1),B[1]=b),I=t.push("table_close","table",-1),O[1]=b,t.parentType=q,t.line=b,!0},E0e=function(t,n,r){var s,u,h;if(t.sCount[n]-t.blkIndent<4)return!1;for(u=s=n+1;s<r;){if(t.isEmpty(s)){s++;continue}if(t.sCount[s]-t.blkIndent>=4){s++,u=s;continue}break}return t.line=u,h=t.push("code_block","code",0),h.content=t.getLines(n,u,4+t.blkIndent,!1)+`
`,h.map=[n,t.line],!0},I0e=function(t,n,r,s){var u,h,o,p,y,b,k,C=!1,I=t.bMarks[n]+t.tShift[n],R=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||I+3>R||(u=t.src.charCodeAt(I),u!==126&&u!==96)||(y=I,I=t.skipChars(I,u),h=I-y,h<3)||(k=t.src.slice(y,I),o=t.src.slice(I,R),u===96&&o.indexOf(String.fromCharCode(u))>=0))return!1;if(s)return!0;for(p=n;p++,!(p>=r||(I=y=t.bMarks[p]+t.tShift[p],R=t.eMarks[p],I<R&&t.sCount[p]<t.blkIndent));)if(t.src.charCodeAt(I)===u&&!(t.sCount[p]-t.blkIndent>=4)&&(I=t.skipChars(I,u),!(I-y<h)&&(I=t.skipSpaces(I),!(I<R)))){C=!0;break}return h=t.sCount[n],t.line=p+(C?1:0),b=t.push("fence","code",0),b.info=o,b.content=t.getLines(n+1,p,h,!0),b.markup=k,b.map=[n,t.line],!0},P0e=ur.isSpace,D0e=function(t,n,r,s){var u,h,o,p,y,b,k,C,I,R,L,O,B,q,J,ee,ie,re,le,H,$=t.lineMax,Z=t.bMarks[n]+t.tShift[n],ae=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(Z)!==62)return!1;if(s)return!0;for(R=[],L=[],q=[],J=[],re=t.md.block.ruler.getRules("blockquote"),B=t.parentType,t.parentType="blockquote",C=n;C<r&&(H=t.sCount[C]<t.blkIndent,Z=t.bMarks[C]+t.tShift[C],ae=t.eMarks[C],!(Z>=ae));C++){if(t.src.charCodeAt(Z++)===62&&!H){for(p=t.sCount[C]+1,t.src.charCodeAt(Z)===32?(Z++,p++,u=!1,ee=!0):t.src.charCodeAt(Z)===9?(ee=!0,(t.bsCount[C]+p)%4===3?(Z++,p++,u=!1):u=!0):ee=!1,I=p,R.push(t.bMarks[C]),t.bMarks[C]=Z;Z<ae&&(h=t.src.charCodeAt(Z),P0e(h));){h===9?I+=4-(I+t.bsCount[C]+(u?1:0))%4:I++;Z++}b=Z>=ae,L.push(t.bsCount[C]),t.bsCount[C]=t.sCount[C]+1+(ee?1:0),q.push(t.sCount[C]),t.sCount[C]=I-p,J.push(t.tShift[C]),t.tShift[C]=Z-t.bMarks[C];continue}if(b)break;for(ie=!1,o=0,y=re.length;o<y;o++)if(re[o](t,C,r,!0)){ie=!0;break}if(ie){t.lineMax=C,t.blkIndent!==0&&(R.push(t.bMarks[C]),L.push(t.bsCount[C]),J.push(t.tShift[C]),q.push(t.sCount[C]),t.sCount[C]-=t.blkIndent);break}R.push(t.bMarks[C]),L.push(t.bsCount[C]),J.push(t.tShift[C]),q.push(t.sCount[C]),t.sCount[C]=-1}for(O=t.blkIndent,t.blkIndent=0,le=t.push("blockquote_open","blockquote",1),le.markup=">",le.map=k=[n,0],t.md.block.tokenize(t,n,C),le=t.push("blockquote_close","blockquote",-1),le.markup=">",t.lineMax=$,t.parentType=B,k[1]=t.line,o=0;o<J.length;o++)t.bMarks[o+n]=R[o],t.tShift[o+n]=J[o],t.sCount[o+n]=q[o],t.bsCount[o+n]=L[o];return t.blkIndent=O,!0},M0e=ur.isSpace,L0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],b=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y++),u!==42&&u!==45&&u!==95))return!1;for(h=1;y<b;){if(o=t.src.charCodeAt(y++),o!==u&&!M0e(o))return!1;o===u&&h++}return h<3?!1:(s||(t.line=n+1,p=t.push("hr","hr",0),p.map=[n,t.line],p.markup=Array(h+1).join(String.fromCharCode(u))),!0)},MI=ur.isSpace;function DC(e,t){var n,r,s,u;return r=e.bMarks[t]+e.tShift[t],s=e.eMarks[t],n=e.src.charCodeAt(r++),n!==42&&n!==45&&n!==43||r<s&&(u=e.src.charCodeAt(r),!MI(u))?-1:r}function MC(e,t){var n,r=e.bMarks[t]+e.tShift[t],s=r,u=e.eMarks[t];if(s+1>=u||(n=e.src.charCodeAt(s++),n<48||n>57))return-1;for(;;){if(s>=u)return-1;if(n=e.src.charCodeAt(s++),n>=48&&n<=57){if(s-r>=10)return-1;continue}if(n===41||n===46)break;return-1}return s<u&&(n=e.src.charCodeAt(s),!MI(n))?-1:s}function R0e(e,t){var n,r,s=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===s&&e.tokens[n].type==="paragraph_open"&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}var O0e=function(t,n,r,s){var u,h,o,p,y,b,k,C,I,R,L,O,B,q,J,ee,ie,re,le,H,$,Z,ae,te,be,me,Pe,Ae=n,Ue=!1,Fe=!0;if(t.sCount[Ae]-t.blkIndent>=4||t.listIndent>=0&&t.sCount[Ae]-t.listIndent>=4&&t.sCount[Ae]<t.blkIndent)return!1;if(s&&t.parentType==="paragraph"&&t.sCount[Ae]>=t.blkIndent&&(Ue=!0),(Z=MC(t,Ae))>=0){if(k=!0,te=t.bMarks[Ae]+t.tShift[Ae],B=Number(t.src.slice(te,Z-1)),Ue&&B!==1)return!1}else if((Z=DC(t,Ae))>=0)k=!1;else return!1;if(Ue&&t.skipSpaces(Z)>=t.eMarks[Ae])return!1;if(s)return!0;for(O=t.src.charCodeAt(Z-1),L=t.tokens.length,k?(Pe=t.push("ordered_list_open","ol",1),B!==1&&(Pe.attrs=[["start",B]])):Pe=t.push("bullet_list_open","ul",1),Pe.map=R=[Ae,0],Pe.markup=String.fromCharCode(O),ae=!1,me=t.md.block.ruler.getRules("list"),ie=t.parentType,t.parentType="list";Ae<r;){for($=Z,q=t.eMarks[Ae],b=J=t.sCount[Ae]+Z-(t.bMarks[Ae]+t.tShift[Ae]);$<q;){if(u=t.src.charCodeAt($),u===9)J+=4-(J+t.bsCount[Ae])%4;else if(u===32)J++;else break;$++}if(h=$,h>=q?y=1:y=J-b,y>4&&(y=1),p=b+y,Pe=t.push("list_item_open","li",1),Pe.markup=String.fromCharCode(O),Pe.map=C=[Ae,0],k&&(Pe.info=t.src.slice(te,Z-1)),H=t.tight,le=t.tShift[Ae],re=t.sCount[Ae],ee=t.listIndent,t.listIndent=t.blkIndent,t.blkIndent=p,t.tight=!0,t.tShift[Ae]=h-t.bMarks[Ae],t.sCount[Ae]=J,h>=q&&t.isEmpty(Ae+1)?t.line=Math.min(t.line+2,r):t.md.block.tokenize(t,Ae,r,!0),(!t.tight||ae)&&(Fe=!1),ae=t.line-Ae>1&&t.isEmpty(t.line-1),t.blkIndent=t.listIndent,t.listIndent=ee,t.tShift[Ae]=le,t.sCount[Ae]=re,t.tight=H,Pe=t.push("list_item_close","li",-1),Pe.markup=String.fromCharCode(O),Ae=t.line,C[1]=Ae,Ae>=r||t.sCount[Ae]<t.blkIndent||t.sCount[Ae]-t.blkIndent>=4)break;for(be=!1,o=0,I=me.length;o<I;o++)if(me[o](t,Ae,r,!0)){be=!0;break}if(be)break;if(k){if(Z=MC(t,Ae),Z<0)break;te=t.bMarks[Ae]+t.tShift[Ae]}else if(Z=DC(t,Ae),Z<0)break;if(O!==t.src.charCodeAt(Z-1))break}return k?Pe=t.push("ordered_list_close","ol",-1):Pe=t.push("bullet_list_close","ul",-1),Pe.markup=String.fromCharCode(O),R[1]=Ae,t.line=Ae,t.parentType=ie,Fe&&R0e(t,L),!0},F0e=ur.normalizeReference,sg=ur.isSpace,z0e=function(t,n,r,s){var u,h,o,p,y,b,k,C,I,R,L,O,B,q,J,ee,ie=0,re=t.bMarks[n]+t.tShift[n],le=t.eMarks[n],H=n+1;if(t.sCount[n]-t.blkIndent>=4||t.src.charCodeAt(re)!==91)return!1;for(;++re<le;)if(t.src.charCodeAt(re)===93&&t.src.charCodeAt(re-1)!==92){if(re+1===le||t.src.charCodeAt(re+1)!==58)return!1;break}for(p=t.lineMax,J=t.md.block.ruler.getRules("reference"),R=t.parentType,t.parentType="reference";H<p&&!t.isEmpty(H);H++)if(!(t.sCount[H]-t.blkIndent>3)&&!(t.sCount[H]<0)){for(q=!1,b=0,k=J.length;b<k;b++)if(J[b](t,H,p,!0)){q=!0;break}if(q)break}for(B=t.getLines(n,H,t.blkIndent,!1).trim(),le=B.length,re=1;re<le;re++){if(u=B.charCodeAt(re),u===91)return!1;if(u===93){I=re;break}else u===10?ie++:u===92&&(re++,re<le&&B.charCodeAt(re)===10&&ie++)}if(I<0||B.charCodeAt(I+1)!==58)return!1;for(re=I+2;re<le;re++)if(u=B.charCodeAt(re),u===10)ie++;else if(!sg(u))break;if(L=t.md.helpers.parseLinkDestination(B,re,le),!L.ok||(y=t.md.normalizeLink(L.str),!t.md.validateLink(y)))return!1;for(re=L.pos,ie+=L.lines,h=re,o=ie,O=re;re<le;re++)if(u=B.charCodeAt(re),u===10)ie++;else if(!sg(u))break;for(L=t.md.helpers.parseLinkTitle(B,re,le),re<le&&O!==re&&L.ok?(ee=L.str,re=L.pos,ie+=L.lines):(ee="",re=h,ie=o);re<le&&(u=B.charCodeAt(re),!!sg(u));)re++;if(re<le&&B.charCodeAt(re)!==10&&ee)for(ee="",re=h,ie=o;re<le&&(u=B.charCodeAt(re),!!sg(u));)re++;return re<le&&B.charCodeAt(re)!==10||(C=F0e(B.slice(1,I)),!C)?!1:(s||(typeof t.env.references>"u"&&(t.env.references={}),typeof t.env.references[C]>"u"&&(t.env.references[C]={title:ee,href:y}),t.parentType=R,t.line=n+ie+1),!0)},B0e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dv={},V0e="[a-zA-Z_:][a-zA-Z0-9:._-]*",N0e="[^\"'=<>`\\x00-\\x20]+",$0e="'[^']*'",U0e='"[^"]*"',q0e="(?:"+N0e+"|"+$0e+"|"+U0e+")",j0e="(?:\\s+"+V0e+"(?:\\s*=\\s*"+q0e+")?)",LI="<[A-Za-z][A-Za-z0-9\\-]*"+j0e+"*\\s*\\/?>",RI="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",H0e="<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->",G0e="<[?][\\s\\S]*?[?]>",W0e="<![A-Z]+\\s+[^>]*>",Y0e="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Z0e=new RegExp("^(?:"+LI+"|"+RI+"|"+H0e+"|"+G0e+"|"+W0e+"|"+Y0e+")"),K0e=new RegExp("^(?:"+LI+"|"+RI+")");Dv.HTML_TAG_RE=Z0e;Dv.HTML_OPEN_CLOSE_TAG_RE=K0e;var X0e=B0e,J0e=Dv.HTML_OPEN_CLOSE_TAG_RE,pd=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+X0e.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(J0e.source+"\\s*$"),/^$/,!1]],Q0e=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],b=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||!t.md.options.html||t.src.charCodeAt(y)!==60)return!1;for(p=t.src.slice(y,b),u=0;u<pd.length&&!pd[u][0].test(p);u++);if(u===pd.length)return!1;if(s)return pd[u][2];if(h=n+1,!pd[u][1].test(p)){for(;h<r&&!(t.sCount[h]<t.blkIndent);h++)if(y=t.bMarks[h]+t.tShift[h],b=t.eMarks[h],p=t.src.slice(y,b),pd[u][1].test(p)){p.length!==0&&h++;break}}return t.line=h,o=t.push("html_block","",0),o.map=[n,h],o.content=t.getLines(n,h,t.blkIndent,!0),!0},LC=ur.isSpace,exe=function(t,n,r,s){var u,h,o,p,y=t.bMarks[n]+t.tShift[n],b=t.eMarks[n];if(t.sCount[n]-t.blkIndent>=4||(u=t.src.charCodeAt(y),u!==35||y>=b))return!1;for(h=1,u=t.src.charCodeAt(++y);u===35&&y<b&&h<=6;)h++,u=t.src.charCodeAt(++y);return h>6||y<b&&!LC(u)?!1:(s||(b=t.skipSpacesBack(b,y),o=t.skipCharsBack(b,35,y),o>y&&LC(t.src.charCodeAt(o-1))&&(b=o),t.line=n+1,p=t.push("heading_open","h"+String(h),1),p.markup="########".slice(0,h),p.map=[n,t.line],p=t.push("inline","",0),p.content=t.src.slice(y,b).trim(),p.map=[n,t.line],p.children=[],p=t.push("heading_close","h"+String(h),-1),p.markup="########".slice(0,h)),!0)},txe=function(t,n,r){var s,u,h,o,p,y,b,k,C,I=n+1,R,L=t.md.block.ruler.getRules("paragraph");if(t.sCount[n]-t.blkIndent>=4)return!1;for(R=t.parentType,t.parentType="paragraph";I<r&&!t.isEmpty(I);I++)if(!(t.sCount[I]-t.blkIndent>3)){if(t.sCount[I]>=t.blkIndent&&(y=t.bMarks[I]+t.tShift[I],b=t.eMarks[I],y<b&&(C=t.src.charCodeAt(y),(C===45||C===61)&&(y=t.skipChars(y,C),y=t.skipSpaces(y),y>=b)))){k=C===61?1:2;break}if(!(t.sCount[I]<0)){for(u=!1,h=0,o=L.length;h<o;h++)if(L[h](t,I,r,!0)){u=!0;break}if(u)break}}return k?(s=t.getLines(n,I,t.blkIndent,!1).trim(),t.line=I+1,p=t.push("heading_open","h"+String(k),1),p.markup=String.fromCharCode(C),p.map=[n,t.line],p=t.push("inline","",0),p.content=s,p.map=[n,t.line-1],p.children=[],p=t.push("heading_close","h"+String(k),-1),p.markup=String.fromCharCode(C),t.parentType=R,!0):!1},nxe=function(t,n,r){var s,u,h,o,p,y,b=n+1,k=t.md.block.ruler.getRules("paragraph");for(y=t.parentType,t.parentType="paragraph";b<r&&!t.isEmpty(b);b++)if(!(t.sCount[b]-t.blkIndent>3)&&!(t.sCount[b]<0)){for(u=!1,h=0,o=k.length;h<o;h++)if(k[h](t,b,r,!0)){u=!0;break}if(u)break}return s=t.getLines(n,b,t.blkIndent,!1).trim(),t.line=b,p=t.push("paragraph_open","p",1),p.map=[n,t.line],p=t.push("inline","",0),p.content=s,p.map=[n,t.line],p.children=[],p=t.push("paragraph_close","p",-1),t.parentType=y,!0},OI=Ux,Mv=ur.isSpace;function Bo(e,t,n,r){var s,u,h,o,p,y,b,k;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",u=this.src,k=!1,h=o=y=b=0,p=u.length;o<p;o++){if(s=u.charCodeAt(o),!k)if(Mv(s)){y++,s===9?b+=4-b%4:b++;continue}else k=!0;(s===10||o===p-1)&&(s!==10&&o++,this.bMarks.push(h),this.eMarks.push(o),this.tShift.push(y),this.sCount.push(b),this.bsCount.push(0),k=!1,y=0,b=0,h=o+1)}this.bMarks.push(u.length),this.eMarks.push(u.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Bo.prototype.push=function(e,t,n){var r=new OI(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r};Bo.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Bo.prototype.skipEmptyLines=function(t){for(var n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Bo.prototype.skipSpaces=function(t){for(var n,r=this.src.length;t<r&&(n=this.src.charCodeAt(t),!!Mv(n));t++);return t};Bo.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Mv(this.src.charCodeAt(--t)))return t+1;return t};Bo.prototype.skipChars=function(t,n){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===n;t++);return t};Bo.prototype.skipCharsBack=function(t,n,r){if(t<=r)return t;for(;t>r;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Bo.prototype.getLines=function(t,n,r,s){var u,h,o,p,y,b,k,C=t;if(t>=n)return"";for(b=new Array(n-t),u=0;C<n;C++,u++){for(h=0,k=p=this.bMarks[C],C+1<n||s?y=this.eMarks[C]+1:y=this.eMarks[C];p<y&&h<r;){if(o=this.src.charCodeAt(p),Mv(o))o===9?h+=4-(h+this.bsCount[C])%4:h++;else if(p-k<this.tShift[C])h++;else break;p++}h>r?b[u]=new Array(h-r+1).join(" ")+this.src.slice(p,y):b[u]=this.src.slice(p,y)}return b.join("")};Bo.prototype.Token=OI;var rxe=Bo,ixe=$x,og=[["table",A0e,["paragraph","reference"]],["code",E0e],["fence",I0e,["paragraph","reference","blockquote","list"]],["blockquote",D0e,["paragraph","reference","blockquote","list"]],["hr",L0e,["paragraph","reference","blockquote","list"]],["list",O0e,["paragraph","reference","blockquote"]],["reference",z0e],["html_block",Q0e,["paragraph","reference","blockquote"]],["heading",exe,["paragraph","reference","blockquote"]],["lheading",txe],["paragraph",nxe]];function Lv(){this.ruler=new ixe;for(var e=0;e<og.length;e++)this.ruler.push(og[e][0],og[e][1],{alt:(og[e][2]||[]).slice()})}Lv.prototype.tokenize=function(e,t,n){for(var r,s,u,h=this.ruler.getRules(""),o=h.length,p=t,y=!1,b=e.md.options.maxNesting;p<n&&(e.line=p=e.skipEmptyLines(p),!(p>=n||e.sCount[p]<e.blkIndent));){if(e.level>=b){e.line=n;break}for(u=e.line,s=0;s<o;s++)if(r=h[s](e,p,n,!1),r){if(u>=e.line)throw new Error("block rule didn't increment state.line");break}if(!r)throw new Error("none of the block rules matched");e.tight=!y,e.isEmpty(e.line-1)&&(y=!0),p=e.line,p<n&&e.isEmpty(p)&&(y=!0,p++,e.line=p)}};Lv.prototype.parse=function(e,t,n,r){var s;e&&(s=new this.State(e,t,n,r),this.tokenize(s,s.line,s.lineMax))};Lv.prototype.State=rxe;var axe=Lv;function sxe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}var oxe=function(t,n){for(var r=t.pos;r<t.posMax&&!sxe(t.src.charCodeAt(r));)r++;return r===t.pos?!1:(n||(t.pending+=t.src.slice(t.pos,r)),t.pos=r,!0)},lxe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i,cxe=function(t,n){var r,s,u,h,o,p,y,b;return!t.md.options.linkify||t.linkLevel>0||(r=t.pos,s=t.posMax,r+3>s)||t.src.charCodeAt(r)!==58||t.src.charCodeAt(r+1)!==47||t.src.charCodeAt(r+2)!==47||(u=t.pending.match(lxe),!u)||(h=u[1],o=t.md.linkify.matchAtStart(t.src.slice(r-h.length)),!o)||(p=o.url,p.length<=h.length)||(p=p.replace(/\*+$/,""),y=t.md.normalizeLink(p),!t.md.validateLink(y))?!1:(n||(t.pending=t.pending.slice(0,-h.length),b=t.push("link_open","a",1),b.attrs=[["href",y]],b.markup="linkify",b.info="auto",b=t.push("text","",0),b.content=t.md.normalizeLinkText(p),b=t.push("link_close","a",-1),b.markup="linkify",b.info="auto"),t.pos+=p.length-h.length,!0)},uxe=ur.isSpace,dxe=function(t,n){var r,s,u,h=t.pos;if(t.src.charCodeAt(h)!==10)return!1;if(r=t.pending.length-1,s=t.posMax,!n)if(r>=0&&t.pending.charCodeAt(r)===32)if(r>=1&&t.pending.charCodeAt(r-1)===32){for(u=r-1;u>=1&&t.pending.charCodeAt(u-1)===32;)u--;t.pending=t.pending.slice(0,u),t.push("hardbreak","br",0)}else t.pending=t.pending.slice(0,-1),t.push("softbreak","br",0);else t.push("softbreak","br",0);for(h++;h<s&&uxe(t.src.charCodeAt(h));)h++;return t.pos=h,!0},hxe=ur.isSpace,jx=[];for(var RC=0;RC<256;RC++)jx.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){jx[e.charCodeAt(0)]=1});var fxe=function(t,n){var r,s,u,h,o,p=t.pos,y=t.posMax;if(t.src.charCodeAt(p)!==92||(p++,p>=y))return!1;if(r=t.src.charCodeAt(p),r===10){for(n||t.push("hardbreak","br",0),p++;p<y&&(r=t.src.charCodeAt(p),!!hxe(r));)p++;return t.pos=p,!0}return h=t.src[p],r>=55296&&r<=56319&&p+1<y&&(s=t.src.charCodeAt(p+1),s>=56320&&s<=57343&&(h+=t.src[p+1],p++)),u="\\"+h,n||(o=t.push("text_special","",0),r<256&&jx[r]!==0?o.content=h:o.content=u,o.markup=u,o.info="escape"),t.pos=p+1,!0},mxe=function(t,n){var r,s,u,h,o,p,y,b,k=t.pos,C=t.src.charCodeAt(k);if(C!==96)return!1;for(r=k,k++,s=t.posMax;k<s&&t.src.charCodeAt(k)===96;)k++;if(u=t.src.slice(r,k),y=u.length,t.backticksScanned&&(t.backticks[y]||0)<=r)return n||(t.pending+=u),t.pos+=y,!0;for(p=k;(o=t.src.indexOf("`",p))!==-1;){for(p=o+1;p<s&&t.src.charCodeAt(p)===96;)p++;if(b=p-o,b===y)return n||(h=t.push("code_inline","code",0),h.markup=u,h.content=t.src.slice(k,o).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),t.pos=p,!0;t.backticks[b]=o}return t.backticksScanned=!0,n||(t.pending+=u),t.pos+=y,!0},Rv={};Rv.tokenize=function(t,n){var r,s,u,h,o,p=t.pos,y=t.src.charCodeAt(p);if(n||y!==126||(s=t.scanDelims(t.pos,!0),h=s.length,o=String.fromCharCode(y),h<2))return!1;for(h%2&&(u=t.push("text","",0),u.content=o,h--),r=0;r<h;r+=2)u=t.push("text","",0),u.content=o+o,t.delimiters.push({marker:y,length:0,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function OC(e,t){var n,r,s,u,h,o=[],p=t.length;for(n=0;n<p;n++)s=t[n],s.marker===126&&s.end!==-1&&(u=t[s.end],h=e.tokens[s.token],h.type="s_open",h.tag="s",h.nesting=1,h.markup="~~",h.content="",h=e.tokens[u.token],h.type="s_close",h.tag="s",h.nesting=-1,h.markup="~~",h.content="",e.tokens[u.token-1].type==="text"&&e.tokens[u.token-1].content==="~"&&o.push(u.token-1));for(;o.length;){for(n=o.pop(),r=n+1;r<e.tokens.length&&e.tokens[r].type==="s_close";)r++;r--,n!==r&&(h=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=h)}}Rv.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(OC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&OC(t,r[n].delimiters)};var Ov={};Ov.tokenize=function(t,n){var r,s,u,h=t.pos,o=t.src.charCodeAt(h);if(n||o!==95&&o!==42)return!1;for(s=t.scanDelims(t.pos,o===42),r=0;r<s.length;r++)u=t.push("text","",0),u.content=String.fromCharCode(o),t.delimiters.push({marker:o,length:s.length,token:t.tokens.length-1,end:-1,open:s.can_open,close:s.can_close});return t.pos+=s.length,!0};function FC(e,t){var n,r,s,u,h,o,p=t.length;for(n=p-1;n>=0;n--)r=t[n],!(r.marker!==95&&r.marker!==42)&&r.end!==-1&&(s=t[r.end],o=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===s.token+1,h=String.fromCharCode(r.marker),u=e.tokens[r.token],u.type=o?"strong_open":"em_open",u.tag=o?"strong":"em",u.nesting=1,u.markup=o?h+h:h,u.content="",u=e.tokens[s.token],u.type=o?"strong_close":"em_close",u.tag=o?"strong":"em",u.nesting=-1,u.markup=o?h+h:h,u.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}Ov.postProcess=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(FC(t,t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&FC(t,r[n].delimiters)};var pxe=ur.normalizeReference,j_=ur.isSpace,gxe=function(t,n){var r,s,u,h,o,p,y,b,k,C="",I="",R=t.pos,L=t.posMax,O=t.pos,B=!0;if(t.src.charCodeAt(t.pos)!==91||(o=t.pos+1,h=t.md.helpers.parseLinkLabel(t,t.pos,!0),h<0))return!1;if(p=h+1,p<L&&t.src.charCodeAt(p)===40){for(B=!1,p++;p<L&&(s=t.src.charCodeAt(p),!(!j_(s)&&s!==10));p++);if(p>=L)return!1;if(O=p,y=t.md.helpers.parseLinkDestination(t.src,p,t.posMax),y.ok){for(C=t.md.normalizeLink(y.str),t.md.validateLink(C)?p=y.pos:C="",O=p;p<L&&(s=t.src.charCodeAt(p),!(!j_(s)&&s!==10));p++);if(y=t.md.helpers.parseLinkTitle(t.src,p,t.posMax),p<L&&O!==p&&y.ok)for(I=y.str,p=y.pos;p<L&&(s=t.src.charCodeAt(p),!(!j_(s)&&s!==10));p++);}(p>=L||t.src.charCodeAt(p)!==41)&&(B=!0),p++}if(B){if(typeof t.env.references>"u")return!1;if(p<L&&t.src.charCodeAt(p)===91?(O=p+1,p=t.md.helpers.parseLinkLabel(t,p),p>=0?u=t.src.slice(O,p++):p=h+1):p=h+1,u||(u=t.src.slice(o,h)),b=t.env.references[pxe(u)],!b)return t.pos=R,!1;C=b.href,I=b.title}return n||(t.pos=o,t.posMax=h,k=t.push("link_open","a",1),k.attrs=r=[["href",C]],I&&r.push(["title",I]),t.linkLevel++,t.md.inline.tokenize(t),t.linkLevel--,k=t.push("link_close","a",-1)),t.pos=p,t.posMax=L,!0},vxe=ur.normalizeReference,H_=ur.isSpace,yxe=function(t,n){var r,s,u,h,o,p,y,b,k,C,I,R,L,O="",B=t.pos,q=t.posMax;if(t.src.charCodeAt(t.pos)!==33||t.src.charCodeAt(t.pos+1)!==91||(p=t.pos+2,o=t.md.helpers.parseLinkLabel(t,t.pos+1,!1),o<0))return!1;if(y=o+1,y<q&&t.src.charCodeAt(y)===40){for(y++;y<q&&(s=t.src.charCodeAt(y),!(!H_(s)&&s!==10));y++);if(y>=q)return!1;for(L=y,k=t.md.helpers.parseLinkDestination(t.src,y,t.posMax),k.ok&&(O=t.md.normalizeLink(k.str),t.md.validateLink(O)?y=k.pos:O=""),L=y;y<q&&(s=t.src.charCodeAt(y),!(!H_(s)&&s!==10));y++);if(k=t.md.helpers.parseLinkTitle(t.src,y,t.posMax),y<q&&L!==y&&k.ok)for(C=k.str,y=k.pos;y<q&&(s=t.src.charCodeAt(y),!(!H_(s)&&s!==10));y++);else C="";if(y>=q||t.src.charCodeAt(y)!==41)return t.pos=B,!1;y++}else{if(typeof t.env.references>"u")return!1;if(y<q&&t.src.charCodeAt(y)===91?(L=y+1,y=t.md.helpers.parseLinkLabel(t,y),y>=0?h=t.src.slice(L,y++):y=o+1):y=o+1,h||(h=t.src.slice(p,o)),b=t.env.references[vxe(h)],!b)return t.pos=B,!1;O=b.href,C=b.title}return n||(u=t.src.slice(p,o),t.md.inline.parse(u,t.md,t.env,R=[]),I=t.push("image","img",0),I.attrs=r=[["src",O],["alt",""]],I.children=R,I.content=u,C&&r.push(["title",C])),t.pos=y,t.posMax=q,!0},_xe=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,bxe=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/,xxe=function(t,n){var r,s,u,h,o,p,y=t.pos;if(t.src.charCodeAt(y)!==60)return!1;for(o=t.pos,p=t.posMax;;){if(++y>=p||(h=t.src.charCodeAt(y),h===60))return!1;if(h===62)break}return r=t.src.slice(o+1,y),bxe.test(r)?(s=t.md.normalizeLink(r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):_xe.test(r)?(s=t.md.normalizeLink("mailto:"+r),t.md.validateLink(s)?(n||(u=t.push("link_open","a",1),u.attrs=[["href",s]],u.markup="autolink",u.info="auto",u=t.push("text","",0),u.content=t.md.normalizeLinkText(r),u=t.push("link_close","a",-1),u.markup="autolink",u.info="auto"),t.pos+=r.length+2,!0):!1):!1},wxe=Dv.HTML_TAG_RE;function Sxe(e){return/^<a[>\s]/i.test(e)}function kxe(e){return/^<\/a\s*>/i.test(e)}function Cxe(e){var t=e|32;return t>=97&&t<=122}var Txe=function(t,n){var r,s,u,h,o=t.pos;return!t.md.options.html||(u=t.posMax,t.src.charCodeAt(o)!==60||o+2>=u)||(r=t.src.charCodeAt(o+1),r!==33&&r!==63&&r!==47&&!Cxe(r))||(s=t.src.slice(o).match(wxe),!s)?!1:(n||(h=t.push("html_inline","",0),h.content=s[0],Sxe(h.content)&&t.linkLevel++,kxe(h.content)&&t.linkLevel--),t.pos+=s[0].length,!0)},zC=TI,Axe=ur.has,Exe=ur.isValidEntityCode,BC=ur.fromCodePoint,Ixe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,Pxe=/^&([a-z][a-z0-9]{1,31});/i,Dxe=function(t,n){var r,s,u,h,o=t.pos,p=t.posMax;if(t.src.charCodeAt(o)!==38||o+1>=p)return!1;if(r=t.src.charCodeAt(o+1),r===35){if(u=t.src.slice(o).match(Ixe),u)return n||(s=u[1][0].toLowerCase()==="x"?parseInt(u[1].slice(1),16):parseInt(u[1],10),h=t.push("text_special","",0),h.content=Exe(s)?BC(s):BC(65533),h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0}else if(u=t.src.slice(o).match(Pxe),u&&Axe(zC,u[1]))return n||(h=t.push("text_special","",0),h.content=zC[u[1]],h.markup=u[0],h.info="entity"),t.pos+=u[0].length,!0;return!1};function VC(e){var t,n,r,s,u,h,o,p,y={},b=e.length;if(b){var k=0,C=-2,I=[];for(t=0;t<b;t++)if(r=e[t],I.push(0),(e[k].marker!==r.marker||C!==r.token-1)&&(k=t),C=r.token,r.length=r.length||0,!!r.close){for(y.hasOwnProperty(r.marker)||(y[r.marker]=[-1,-1,-1,-1,-1,-1]),u=y[r.marker][(r.open?3:0)+r.length%3],n=k-I[k]-1,h=n;n>u;n-=I[n]+1)if(s=e[n],s.marker===r.marker&&s.open&&s.end<0&&(o=!1,(s.close||r.open)&&(s.length+r.length)%3===0&&(s.length%3!==0||r.length%3!==0)&&(o=!0),!o)){p=n>0&&!e[n-1].open?I[n-1]+1:0,I[t]=t-n+p,I[n]=p,r.open=!1,s.end=t,s.close=!1,h=-1,C=-2;break}h!==-1&&(y[r.marker][(r.open?3:0)+(r.length||0)%3]=h)}}}var Mxe=function(t){var n,r=t.tokens_meta,s=t.tokens_meta.length;for(VC(t.delimiters),n=0;n<s;n++)r[n]&&r[n].delimiters&&VC(r[n].delimiters)},Lxe=function(t){var n,r,s=0,u=t.tokens,h=t.tokens.length;for(n=r=0;n<h;n++)u[n].nesting<0&&s--,u[n].level=s,u[n].nesting>0&&s++,u[n].type==="text"&&n+1<h&&u[n+1].type==="text"?u[n+1].content=u[n].content+u[n+1].content:(n!==r&&(u[r]=u[n]),r++);n!==r&&(u.length=r)},Hx=Ux,NC=ur.isWhiteSpace,$C=ur.isPunctChar,UC=ur.isMdAsciiPunct;function Em(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}Em.prototype.pushPending=function(){var e=new Hx("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};Em.prototype.push=function(e,t,n){this.pending&&this.pushPending();var r=new Hx(e,t,n),s=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],s={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(s),r};Em.prototype.scanDelims=function(e,t){var n=e,r,s,u,h,o,p,y,b,k,C=!0,I=!0,R=this.posMax,L=this.src.charCodeAt(e);for(r=e>0?this.src.charCodeAt(e-1):32;n<R&&this.src.charCodeAt(n)===L;)n++;return u=n-e,s=n<R?this.src.charCodeAt(n):32,y=UC(r)||$C(String.fromCharCode(r)),k=UC(s)||$C(String.fromCharCode(s)),p=NC(r),b=NC(s),b?C=!1:k&&(p||y||(C=!1)),p?I=!1:y&&(b||k||(I=!1)),t?(h=C,o=I):(h=C&&(!I||y),o=I&&(!C||k)),{can_open:h,can_close:o,length:u}};Em.prototype.Token=Hx;var Rxe=Em,qC=$x,G_=[["text",oxe],["linkify",cxe],["newline",dxe],["escape",fxe],["backticks",mxe],["strikethrough",Rv.tokenize],["emphasis",Ov.tokenize],["link",gxe],["image",yxe],["autolink",xxe],["html_inline",Txe],["entity",Dxe]],W_=[["balance_pairs",Mxe],["strikethrough",Rv.postProcess],["emphasis",Ov.postProcess],["fragments_join",Lxe]];function Im(){var e;for(this.ruler=new qC,e=0;e<G_.length;e++)this.ruler.push(G_[e][0],G_[e][1]);for(this.ruler2=new qC,e=0;e<W_.length;e++)this.ruler2.push(W_[e][0],W_[e][1])}Im.prototype.skipToken=function(e){var t,n,r=e.pos,s=this.ruler.getRules(""),u=s.length,h=e.md.options.maxNesting,o=e.cache;if(typeof o[r]<"u"){e.pos=o[r];return}if(e.level<h){for(n=0;n<u;n++)if(e.level++,t=s[n](e,!0),e.level--,t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;t||e.pos++,o[r]=e.pos};Im.prototype.tokenize=function(e){for(var t,n,r,s=this.ruler.getRules(""),u=s.length,h=e.posMax,o=e.md.options.maxNesting;e.pos<h;){if(r=e.pos,e.level<o){for(n=0;n<u;n++)if(t=s[n](e,!1),t){if(r>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(t){if(e.pos>=h)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Im.prototype.parse=function(e,t,n,r){var s,u,h,o=new this.State(e,t,n,r);for(this.tokenize(o),u=this.ruler2.getRules(""),h=u.length,s=0;s<h;s++)u[s](o)};Im.prototype.State=Rxe;var Oxe=Im,Y_,jC;function Fxe(){return jC||(jC=1,Y_=function(e){var t={};e=e||{},t.src_Any=AI().source,t.src_Cc=EI().source,t.src_Z=II().source,t.src_P=Nx.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}),Y_}function Kb(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach(function(n){n&&Object.keys(n).forEach(function(r){e[r]=n[r]})}),e}function Fv(e){return Object.prototype.toString.call(e)}function zxe(e){return Fv(e)==="[object String]"}function Bxe(e){return Fv(e)==="[object Object]"}function Vxe(e){return Fv(e)==="[object RegExp]"}function HC(e){return Fv(e)==="[object Function]"}function Nxe(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var FI={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function $xe(e){return Object.keys(e||{}).reduce(function(t,n){return t||FI.hasOwnProperty(n)},!1)}var Uxe={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},qxe="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",jxe="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function Hxe(e){e.__index__=-1,e.__text_cache__=""}function Gxe(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}function GC(){return function(e,t){t.normalize(e)}}function Wg(e){var t=e.re=Fxe()(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(qxe),n.push(t.src_xn),t.src_tlds=n.join("|");function r(o){return o.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");var s=[];e.__compiled__={};function u(o,p){throw new Error('(LinkifyIt) Invalid schema "'+o+'": '+p)}Object.keys(e.__schemas__).forEach(function(o){var p=e.__schemas__[o];if(p!==null){var y={validate:null,link:null};if(e.__compiled__[o]=y,Bxe(p)){Vxe(p.validate)?y.validate=Gxe(p.validate):HC(p.validate)?y.validate=p.validate:u(o,p),HC(p.normalize)?y.normalize=p.normalize:p.normalize?u(o,p):y.normalize=GC();return}if(zxe(p)){s.push(o);return}u(o,p)}}),s.forEach(function(o){e.__compiled__[e.__schemas__[o]]&&(e.__compiled__[o].validate=e.__compiled__[e.__schemas__[o]].validate,e.__compiled__[o].normalize=e.__compiled__[e.__schemas__[o]].normalize)}),e.__compiled__[""]={validate:null,normalize:GC()};var h=Object.keys(e.__compiled__).filter(function(o){return o.length>0&&e.__compiled__[o]}).map(Nxe).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+h+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),Hxe(e)}function Wxe(e,t){var n=e.__index__,r=e.__last_index__,s=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=s,this.text=s,this.url=s}function Xb(e,t){var n=new Wxe(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function as(e,t){if(!(this instanceof as))return new as(e,t);t||$xe(e)&&(t=e,e={}),this.__opts__=Kb({},FI,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Kb({},Uxe,e),this.__compiled__={},this.__tlds__=jxe,this.__tlds_replaced__=!1,this.re={},Wg(this)}as.prototype.add=function(t,n){return this.__schemas__[t]=n,Wg(this),this};as.prototype.set=function(t){return this.__opts__=Kb(this.__opts__,t),this};as.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;var n,r,s,u,h,o,p,y,b;if(this.re.schema_test.test(t)){for(p=this.re.schema_search,p.lastIndex=0;(n=p.exec(t))!==null;)if(u=this.testSchemaAt(t,n[2],p.lastIndex),u){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+u;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(y=t.search(this.re.host_fuzzy_test),y>=0&&(this.__index__<0||y<this.__index__)&&(r=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(h=r.index+r[1].length,(this.__index__<0||h<this.__index__)&&(this.__schema__="",this.__index__=h,this.__last_index__=r.index+r[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(b=t.indexOf("@"),b>=0&&(s=t.match(this.re.email_fuzzy))!==null&&(h=s.index+s[1].length,o=s.index+s[0].length,(this.__index__<0||h<this.__index__||h===this.__index__&&o>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=h,this.__last_index__=o))),this.__index__>=0};as.prototype.pretest=function(t){return this.re.pretest.test(t)};as.prototype.testSchemaAt=function(t,n,r){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,r,this):0};as.prototype.match=function(t){var n=0,r=[];this.__index__>=0&&this.__text_cache__===t&&(r.push(Xb(this,n)),n=this.__last_index__);for(var s=n?t.slice(n):t;this.test(s);)r.push(Xb(this,n)),s=s.slice(this.__last_index__),n+=this.__last_index__;return r.length?r:null};as.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;var n=this.re.schema_at_start.exec(t);if(!n)return null;var r=this.testSchemaAt(t,n[2],n[0].length);return r?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+r,Xb(this,0)):null};as.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(r,s,u){return r!==u[s-1]}).reverse(),Wg(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Wg(this),this)};as.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};as.prototype.onCompile=function(){};var Yxe=as;const Md=2147483647,Io=36,Gx=1,rm=26,Zxe=38,Kxe=700,zI=72,BI=128,VI="-",Xxe=/^xn--/,Jxe=/[^\0-\x7F]/,Qxe=/[\x2E\u3002\uFF0E\uFF61]/g,e1e={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Z_=Io-Gx,Po=Math.floor,K_=String.fromCharCode;function nc(e){throw new RangeError(e1e[e])}function t1e(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}function NI(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(Qxe,".");const s=e.split("."),u=t1e(s,t).join(".");return r+u}function Wx(e){const t=[];let n=0;const r=e.length;for(;n<r;){const s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){const u=e.charCodeAt(n++);(u&64512)==56320?t.push(((s&1023)<<10)+(u&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}const $I=e=>String.fromCodePoint(...e),n1e=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:Io},WC=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},UI=function(e,t,n){let r=0;for(e=n?Po(e/Kxe):e>>1,e+=Po(e/t);e>Z_*rm>>1;r+=Io)e=Po(e/Z_);return Po(r+(Z_+1)*e/(e+Zxe))},Yx=function(e){const t=[],n=e.length;let r=0,s=BI,u=zI,h=e.lastIndexOf(VI);h<0&&(h=0);for(let o=0;o<h;++o)e.charCodeAt(o)>=128&&nc("not-basic"),t.push(e.charCodeAt(o));for(let o=h>0?h+1:0;o<n;){const p=r;for(let b=1,k=Io;;k+=Io){o>=n&&nc("invalid-input");const C=n1e(e.charCodeAt(o++));C>=Io&&nc("invalid-input"),C>Po((Md-r)/b)&&nc("overflow"),r+=C*b;const I=k<=u?Gx:k>=u+rm?rm:k-u;if(C<I)break;const R=Io-I;b>Po(Md/R)&&nc("overflow"),b*=R}const y=t.length+1;u=UI(r-p,y,p==0),Po(r/y)>Md-s&&nc("overflow"),s+=Po(r/y),r%=y,t.splice(r++,0,s)}return String.fromCodePoint(...t)},Zx=function(e){const t=[];e=Wx(e);const n=e.length;let r=BI,s=0,u=zI;for(const p of e)p<128&&t.push(K_(p));const h=t.length;let o=h;for(h&&t.push(VI);o<n;){let p=Md;for(const b of e)b>=r&&b<p&&(p=b);const y=o+1;p-r>Po((Md-s)/y)&&nc("overflow"),s+=(p-r)*y,r=p;for(const b of e)if(b<r&&++s>Md&&nc("overflow"),b===r){let k=s;for(let C=Io;;C+=Io){const I=C<=u?Gx:C>=u+rm?rm:C-u;if(k<I)break;const R=k-I,L=Io-I;t.push(K_(WC(I+R%L,0))),k=Po(R/L)}t.push(K_(WC(k,0))),u=UI(s,y,o===h),s=0,++o}++s,++r}return t.join("")},qI=function(e){return NI(e,function(t){return Xxe.test(t)?Yx(t.slice(4).toLowerCase()):t})},jI=function(e){return NI(e,function(t){return Jxe.test(t)?"xn--"+Zx(t):t})},r1e={version:"2.3.1",ucs2:{decode:Wx,encode:$I},decode:Yx,encode:Zx,toASCII:jI,toUnicode:qI},i1e=Object.freeze(Object.defineProperty({__proto__:null,decode:Yx,default:r1e,encode:Zx,toASCII:jI,toUnicode:qI,ucs2decode:Wx,ucs2encode:$I},Symbol.toStringTag,{value:"Module"})),a1e=PB(i1e);var s1e={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},o1e={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},l1e={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Df=ur,c1e=Pv,u1e=n0e,d1e=T0e,h1e=axe,f1e=Oxe,m1e=Yxe,eu=Jd,HI=a1e,p1e={default:s1e,zero:o1e,commonmark:l1e},g1e=/^(vbscript|javascript|file|data):/,v1e=/^data:image\/(gif|png|jpeg|webp);/;function y1e(e){var t=e.trim().toLowerCase();return g1e.test(t)?!!v1e.test(t):!0}var GI=["http:","https:","mailto:"];function _1e(e){var t=eu.parse(e,!0);if(t.hostname&&(!t.protocol||GI.indexOf(t.protocol)>=0))try{t.hostname=HI.toASCII(t.hostname)}catch{}return eu.encode(eu.format(t))}function b1e(e){var t=eu.parse(e,!0);if(t.hostname&&(!t.protocol||GI.indexOf(t.protocol)>=0))try{t.hostname=HI.toUnicode(t.hostname)}catch{}return eu.decode(eu.format(t),eu.decode.defaultChars+"%")}function As(e,t){if(!(this instanceof As))return new As(e,t);t||Df.isString(e)||(t=e||{},e="default"),this.inline=new f1e,this.block=new h1e,this.core=new d1e,this.renderer=new u1e,this.linkify=new m1e,this.validateLink=y1e,this.normalizeLink=_1e,this.normalizeLinkText=b1e,this.utils=Df,this.helpers=Df.assign({},c1e),this.options={},this.configure(e),t&&this.set(t)}As.prototype.set=function(e){return Df.assign(this.options,e),this};As.prototype.configure=function(e){var t=this,n;if(Df.isString(e)&&(n=e,e=p1e[n],!e))throw new Error('Wrong `markdown-it` preset "'+n+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enableOnly(e.components[r].rules),e.components[r].rules2&&t[r].ruler2.enableOnly(e.components[r].rules2)}),this};As.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this};As.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(s){n=n.concat(this[s].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter(function(s){return n.indexOf(s)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this};As.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};As.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};As.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};As.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};As.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var x1e=As,w1e=x1e;const S1e=IB(w1e),k1e=cr({name:"VueMarkdown",props:{source:{type:String,required:!0},options:{type:Object,required:!1},plugins:{type:Array,required:!1}},setup(e){const t=dt(new S1e(e.options??{}));for(const r of e.plugins??[])t.value.use(r);const n=Y(()=>t.value.render(e.source));return()=>ei("div",{innerHTML:n.value})}}),C1e={data(){return{options:{html:!0,breaks:!0}}},components:{VueMarkdown:k1e},props:{markdownText:{type:String,required:!0}}},T1e={class:"markdown"};function A1e(e,t,n,r,s,u){const h=kn("vue-markdown");return mn(),ns("section",T1e,[T(h,{source:n.markdownText,options:s.options},null,8,["source","options"])])}const E1e=ni(C1e,[["render",A1e]]);function WI(e,t){return function(){return e.apply(t,arguments)}}const{toString:I1e}=Object.prototype,{getPrototypeOf:Kx}=Object,zv=(e=>t=>{const n=I1e.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),uo=e=>(e=e.toLowerCase(),t=>zv(t)===e),Bv=e=>t=>typeof t===e,{isArray:th}=Array,im=Bv("undefined");function P1e(e){return e!==null&&!im(e)&&e.constructor!==null&&!im(e.constructor)&&rs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const YI=uo("ArrayBuffer");function D1e(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&YI(e.buffer),t}const M1e=Bv("string"),rs=Bv("function"),ZI=Bv("number"),Vv=e=>e!==null&&typeof e=="object",L1e=e=>e===!0||e===!1,bg=e=>{if(zv(e)!=="object")return!1;const t=Kx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},R1e=uo("Date"),O1e=uo("File"),F1e=uo("Blob"),z1e=uo("FileList"),B1e=e=>Vv(e)&&rs(e.pipe),V1e=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||rs(e.append)&&((t=zv(e))==="formdata"||t==="object"&&rs(e.toString)&&e.toString()==="[object FormData]"))},N1e=uo("URLSearchParams"),[$1e,U1e,q1e,j1e]=["ReadableStream","Request","Response","Headers"].map(uo),H1e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),th(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const u=n?Object.getOwnPropertyNames(e):Object.keys(e),h=u.length;let o;for(r=0;r<h;r++)o=u[r],t.call(null,e[o],o,e)}}function KI(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const tu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XI=e=>!im(e)&&e!==tu;function Jb(){const{caseless:e}=XI(this)&&this||{},t={},n=(r,s)=>{const u=e&&KI(t,s)||s;bg(t[u])&&bg(r)?t[u]=Jb(t[u],r):bg(r)?t[u]=Jb({},r):th(r)?t[u]=r.slice():t[u]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Pm(arguments[r],n);return t}const G1e=(e,t,n,{allOwnKeys:r}={})=>(Pm(t,(s,u)=>{n&&rs(s)?e[u]=WI(s,n):e[u]=s},{allOwnKeys:r}),e),W1e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Y1e=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},Z1e=(e,t,n,r)=>{let s,u,h;const o={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),u=s.length;u-- >0;)h=s[u],(!r||r(h,e,t))&&!o[h]&&(t[h]=e[h],o[h]=!0);e=n!==!1&&Kx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},K1e=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},X1e=e=>{if(!e)return null;if(th(e))return e;let t=e.length;if(!ZI(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},J1e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Kx(Uint8Array)),Q1e=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const u=s.value;t.call(e,u[0],u[1])}},ewe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},twe=uo("HTMLFormElement"),nwe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),YC=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),rwe=uo("RegExp"),JI=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Pm(n,(s,u)=>{let h;(h=t(s,u,e))!==!1&&(r[u]=h||s)}),Object.defineProperties(e,r)},iwe=e=>{JI(e,(t,n)=>{if(rs(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(rs(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},awe=(e,t)=>{const n={},r=s=>{s.forEach(u=>{n[u]=!0})};return th(e)?r(e):r(String(e).split(t)),n},swe=()=>{},owe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,X_="abcdefghijklmnopqrstuvwxyz",ZC="0123456789",QI={DIGIT:ZC,ALPHA:X_,ALPHA_DIGIT:X_+X_.toUpperCase()+ZC},lwe=(e=16,t=QI.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function cwe(e){return!!(e&&rs(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const uwe=e=>{const t=new Array(10),n=(r,s)=>{if(Vv(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const u=th(r)?[]:{};return Pm(r,(h,o)=>{const p=n(h,s+1);!im(p)&&(u[o]=p)}),t[s]=void 0,u}}return r};return n(e,0)},dwe=uo("AsyncFunction"),hwe=e=>e&&(Vv(e)||rs(e))&&rs(e.then)&&rs(e.catch),eP=((e,t)=>e?setImmediate:t?((n,r)=>(tu.addEventListener("message",({source:s,data:u})=>{s===tu&&u===n&&r.length&&r.shift()()},!1),s=>{r.push(s),tu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",rs(tu.postMessage)),fwe=typeof queueMicrotask<"u"?queueMicrotask.bind(tu):typeof process<"u"&&process.nextTick||eP,rt={isArray:th,isArrayBuffer:YI,isBuffer:P1e,isFormData:V1e,isArrayBufferView:D1e,isString:M1e,isNumber:ZI,isBoolean:L1e,isObject:Vv,isPlainObject:bg,isReadableStream:$1e,isRequest:U1e,isResponse:q1e,isHeaders:j1e,isUndefined:im,isDate:R1e,isFile:O1e,isBlob:F1e,isRegExp:rwe,isFunction:rs,isStream:B1e,isURLSearchParams:N1e,isTypedArray:J1e,isFileList:z1e,forEach:Pm,merge:Jb,extend:G1e,trim:H1e,stripBOM:W1e,inherits:Y1e,toFlatObject:Z1e,kindOf:zv,kindOfTest:uo,endsWith:K1e,toArray:X1e,forEachEntry:Q1e,matchAll:ewe,isHTMLForm:twe,hasOwnProperty:YC,hasOwnProp:YC,reduceDescriptors:JI,freezeMethods:iwe,toObjectSet:awe,toCamelCase:nwe,noop:swe,toFiniteNumber:owe,findKey:KI,global:tu,isContextDefined:XI,ALPHABET:QI,generateString:lwe,isSpecCompliantForm:cwe,toJSONObject:uwe,isAsyncFn:dwe,isThenable:hwe,setImmediate:eP,asap:fwe};function Mn(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}rt.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rt.toJSONObject(this.config),code:this.code,status:this.status}}});const tP=Mn.prototype,nP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nP[e]={value:e}});Object.defineProperties(Mn,nP);Object.defineProperty(tP,"isAxiosError",{value:!0});Mn.from=(e,t,n,r,s,u)=>{const h=Object.create(tP);return rt.toFlatObject(e,h,function(p){return p!==Error.prototype},o=>o!=="isAxiosError"),Mn.call(h,e.message,t,n,r,s),h.cause=e,h.name=e.name,u&&Object.assign(h,u),h};const mwe=null;function Qb(e){return rt.isPlainObject(e)||rt.isArray(e)}function rP(e){return rt.endsWith(e,"[]")?e.slice(0,-2):e}function KC(e,t,n){return e?e.concat(t).map(function(s,u){return s=rP(s),!n&&u?"["+s+"]":s}).join(n?".":""):t}function pwe(e){return rt.isArray(e)&&!e.some(Qb)}const gwe=rt.toFlatObject(rt,{},null,function(t){return/^is[A-Z]/.test(t)});function Nv(e,t,n){if(!rt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=rt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(L,O){return!rt.isUndefined(O[L])});const r=n.metaTokens,s=n.visitor||b,u=n.dots,h=n.indexes,p=(n.Blob||typeof Blob<"u"&&Blob)&&rt.isSpecCompliantForm(t);if(!rt.isFunction(s))throw new TypeError("visitor must be a function");function y(R){if(R===null)return"";if(rt.isDate(R))return R.toISOString();if(!p&&rt.isBlob(R))throw new Mn("Blob is not supported. Use a Buffer instead.");return rt.isArrayBuffer(R)||rt.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,L,O){let B=R;if(R&&!O&&typeof R=="object"){if(rt.endsWith(L,"{}"))L=r?L:L.slice(0,-2),R=JSON.stringify(R);else if(rt.isArray(R)&&pwe(R)||(rt.isFileList(R)||rt.endsWith(L,"[]"))&&(B=rt.toArray(R)))return L=rP(L),B.forEach(function(J,ee){!(rt.isUndefined(J)||J===null)&&t.append(h===!0?KC([L],ee,u):h===null?L:L+"[]",y(J))}),!1}return Qb(R)?!0:(t.append(KC(O,L,u),y(R)),!1)}const k=[],C=Object.assign(gwe,{defaultVisitor:b,convertValue:y,isVisitable:Qb});function I(R,L){if(!rt.isUndefined(R)){if(k.indexOf(R)!==-1)throw Error("Circular reference detected in "+L.join("."));k.push(R),rt.forEach(R,function(B,q){(!(rt.isUndefined(B)||B===null)&&s.call(t,B,rt.isString(q)?q.trim():q,L,C))===!0&&I(B,L?L.concat(q):[q])}),k.pop()}}if(!rt.isObject(e))throw new TypeError("data must be an object");return I(e),t}function XC(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Xx(e,t){this._pairs=[],e&&Nv(e,this,t)}const iP=Xx.prototype;iP.append=function(t,n){this._pairs.push([t,n])};iP.toString=function(t){const n=t?function(r){return t.call(this,r,XC)}:XC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function vwe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aP(e,t,n){if(!t)return e;const r=n&&n.encode||vwe,s=n&&n.serialize;let u;if(s?u=s(t,n):u=rt.isURLSearchParams(t)?t.toString():new Xx(t,n).toString(r),u){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+u}return e}class JC{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){rt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const sP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ywe=typeof URLSearchParams<"u"?URLSearchParams:Xx,_we=typeof FormData<"u"?FormData:null,bwe=typeof Blob<"u"?Blob:null,xwe={isBrowser:!0,classes:{URLSearchParams:ywe,FormData:_we,Blob:bwe},protocols:["http","https","file","blob","url","data"]},Jx=typeof window<"u"&&typeof document<"u",e0=typeof navigator=="object"&&navigator||void 0,wwe=Jx&&(!e0||["ReactNative","NativeScript","NS"].indexOf(e0.product)<0),Swe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",kwe=Jx&&window.location.href||"http://localhost",Cwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jx,hasStandardBrowserEnv:wwe,hasStandardBrowserWebWorkerEnv:Swe,navigator:e0,origin:kwe},Symbol.toStringTag,{value:"Module"})),ja={...Cwe,...xwe};function Twe(e,t){return Nv(e,new ja.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,u){return ja.isNode&&rt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},t))}function Awe(e){return rt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ewe(e){const t={},n=Object.keys(e);let r;const s=n.length;let u;for(r=0;r<s;r++)u=n[r],t[u]=e[u];return t}function oP(e){function t(n,r,s,u){let h=n[u++];if(h==="__proto__")return!0;const o=Number.isFinite(+h),p=u>=n.length;return h=!h&&rt.isArray(s)?s.length:h,p?(rt.hasOwnProp(s,h)?s[h]=[s[h],r]:s[h]=r,!o):((!s[h]||!rt.isObject(s[h]))&&(s[h]=[]),t(n,r,s[h],u)&&rt.isArray(s[h])&&(s[h]=Ewe(s[h])),!o)}if(rt.isFormData(e)&&rt.isFunction(e.entries)){const n={};return rt.forEachEntry(e,(r,s)=>{t(Awe(r),s,n,0)}),n}return null}function Iwe(e,t,n){if(rt.isString(e))try{return(t||JSON.parse)(e),rt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Dm={transitional:sP,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,u=rt.isObject(t);if(u&&rt.isHTMLForm(t)&&(t=new FormData(t)),rt.isFormData(t))return s?JSON.stringify(oP(t)):t;if(rt.isArrayBuffer(t)||rt.isBuffer(t)||rt.isStream(t)||rt.isFile(t)||rt.isBlob(t)||rt.isReadableStream(t))return t;if(rt.isArrayBufferView(t))return t.buffer;if(rt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(u){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Twe(t,this.formSerializer).toString();if((o=rt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Nv(o?{"files[]":t}:t,p&&new p,this.formSerializer)}}return u||s?(n.setContentType("application/json",!1),Iwe(t)):t}],transformResponse:[function(t){const n=this.transitional||Dm.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(rt.isResponse(t)||rt.isReadableStream(t))return t;if(t&&rt.isString(t)&&(r&&!this.responseType||s)){const h=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(o){if(h)throw o.name==="SyntaxError"?Mn.from(o,Mn.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ja.classes.FormData,Blob:ja.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rt.forEach(["delete","get","head","post","put","patch"],e=>{Dm.headers[e]={}});const Pwe=rt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dwe=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(h){s=h.indexOf(":"),n=h.substring(0,s).trim().toLowerCase(),r=h.substring(s+1).trim(),!(!n||t[n]&&Pwe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},QC=Symbol("internals");function yf(e){return e&&String(e).trim().toLowerCase()}function xg(e){return e===!1||e==null?e:rt.isArray(e)?e.map(xg):String(e)}function Mwe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const Lwe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function J_(e,t,n,r,s){if(rt.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!rt.isString(t)){if(rt.isString(r))return t.indexOf(r)!==-1;if(rt.isRegExp(r))return r.test(t)}}function Rwe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function Owe(e,t){const n=rt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,u,h){return this[r].call(this,t,s,u,h)},configurable:!0})})}class Ha{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function u(o,p,y){const b=yf(p);if(!b)throw new Error("header name must be a non-empty string");const k=rt.findKey(s,b);(!k||s[k]===void 0||y===!0||y===void 0&&s[k]!==!1)&&(s[k||p]=xg(o))}const h=(o,p)=>rt.forEach(o,(y,b)=>u(y,b,p));if(rt.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(rt.isString(t)&&(t=t.trim())&&!Lwe(t))h(Dwe(t),n);else if(rt.isHeaders(t))for(const[o,p]of t.entries())u(p,o,r);else t!=null&&u(n,t,r);return this}get(t,n){if(t=yf(t),t){const r=rt.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return Mwe(s);if(rt.isFunction(n))return n.call(this,s,r);if(rt.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=yf(t),t){const r=rt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||J_(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function u(h){if(h=yf(h),h){const o=rt.findKey(r,h);o&&(!n||J_(r,r[o],o,n))&&(delete r[o],s=!0)}}return rt.isArray(t)?t.forEach(u):u(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const u=n[r];(!t||J_(this,this[u],u,t,!0))&&(delete this[u],s=!0)}return s}normalize(t){const n=this,r={};return rt.forEach(this,(s,u)=>{const h=rt.findKey(r,u);if(h){n[h]=xg(s),delete n[u];return}const o=t?Rwe(u):String(u).trim();o!==u&&delete n[u],n[o]=xg(s),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return rt.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&rt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[QC]=this[QC]={accessors:{}}).accessors,s=this.prototype;function u(h){const o=yf(h);r[o]||(Owe(s,h),r[o]=!0)}return rt.isArray(t)?t.forEach(u):u(t),this}}Ha.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);rt.reduceDescriptors(Ha.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});rt.freezeMethods(Ha);function Q_(e,t){const n=this||Dm,r=t||n,s=Ha.from(r.headers);let u=r.data;return rt.forEach(e,function(o){u=o.call(n,u,s.normalize(),t?t.status:void 0)}),s.normalize(),u}function lP(e){return!!(e&&e.__CANCEL__)}function nh(e,t,n){Mn.call(this,e??"canceled",Mn.ERR_CANCELED,t,n),this.name="CanceledError"}rt.inherits(nh,Mn,{__CANCEL__:!0});function cP(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Mn("Request failed with status code "+n.status,[Mn.ERR_BAD_REQUEST,Mn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Fwe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function zwe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,u=0,h;return t=t!==void 0?t:1e3,function(p){const y=Date.now(),b=r[u];h||(h=y),n[s]=p,r[s]=y;let k=u,C=0;for(;k!==s;)C+=n[k++],k=k%e;if(s=(s+1)%e,s===u&&(u=(u+1)%e),y-h<t)return;const I=b&&y-b;return I?Math.round(C*1e3/I):void 0}}function Bwe(e,t){let n=0,r=1e3/t,s,u;const h=(y,b=Date.now())=>{n=b,s=null,u&&(clearTimeout(u),u=null),e.apply(null,y)};return[(...y)=>{const b=Date.now(),k=b-n;k>=r?h(y,b):(s=y,u||(u=setTimeout(()=>{u=null,h(s)},r-k)))},()=>s&&h(s)]}const Yg=(e,t,n=3)=>{let r=0;const s=zwe(50,250);return Bwe(u=>{const h=u.loaded,o=u.lengthComputable?u.total:void 0,p=h-r,y=s(p),b=h<=o;r=h;const k={loaded:h,total:o,progress:o?h/o:void 0,bytes:p,rate:y||void 0,estimated:y&&o&&b?(o-h)/y:void 0,event:u,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(k)},n)},e2=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},t2=e=>(...t)=>rt.asap(()=>e(...t)),Vwe=ja.hasStandardBrowserEnv?function(){const t=ja.navigator&&/(msie|trident)/i.test(ja.navigator.userAgent),n=document.createElement("a");let r;function s(u){let h=u;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(h){const o=rt.isString(h)?s(h):h;return o.protocol===r.protocol&&o.host===r.host}}():function(){return function(){return!0}}(),Nwe=ja.hasStandardBrowserEnv?{write(e,t,n,r,s,u){const h=[e+"="+encodeURIComponent(t)];rt.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),rt.isString(r)&&h.push("path="+r),rt.isString(s)&&h.push("domain="+s),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $we(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Uwe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uP(e,t){return e&&!$we(t)?Uwe(e,t):t}const n2=e=>e instanceof Ha?{...e}:e;function mu(e,t){t=t||{};const n={};function r(y,b,k){return rt.isPlainObject(y)&&rt.isPlainObject(b)?rt.merge.call({caseless:k},y,b):rt.isPlainObject(b)?rt.merge({},b):rt.isArray(b)?b.slice():b}function s(y,b,k){if(rt.isUndefined(b)){if(!rt.isUndefined(y))return r(void 0,y,k)}else return r(y,b,k)}function u(y,b){if(!rt.isUndefined(b))return r(void 0,b)}function h(y,b){if(rt.isUndefined(b)){if(!rt.isUndefined(y))return r(void 0,y)}else return r(void 0,b)}function o(y,b,k){if(k in t)return r(y,b);if(k in e)return r(void 0,y)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:o,headers:(y,b)=>s(n2(y),n2(b),!0)};return rt.forEach(Object.keys(Object.assign({},e,t)),function(b){const k=p[b]||s,C=k(e[b],t[b],b);rt.isUndefined(C)&&k!==o||(n[b]=C)}),n}const dP=e=>{const t=mu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:u,headers:h,auth:o}=t;t.headers=h=Ha.from(h),t.url=aP(uP(t.baseURL,t.url),e.params,e.paramsSerializer),o&&h.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let p;if(rt.isFormData(n)){if(ja.hasStandardBrowserEnv||ja.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[y,...b]=p?p.split(";").map(k=>k.trim()).filter(Boolean):[];h.setContentType([y||"multipart/form-data",...b].join("; "))}}if(ja.hasStandardBrowserEnv&&(r&&rt.isFunction(r)&&(r=r(t)),r||r!==!1&&Vwe(t.url))){const y=s&&u&&Nwe.read(u);y&&h.set(s,y)}return t},qwe=typeof XMLHttpRequest<"u",jwe=qwe&&function(e){return new Promise(function(n,r){const s=dP(e);let u=s.data;const h=Ha.from(s.headers).normalize();let{responseType:o,onUploadProgress:p,onDownloadProgress:y}=s,b,k,C,I,R;function L(){I&&I(),R&&R(),s.cancelToken&&s.cancelToken.unsubscribe(b),s.signal&&s.signal.removeEventListener("abort",b)}let O=new XMLHttpRequest;O.open(s.method.toUpperCase(),s.url,!0),O.timeout=s.timeout;function B(){if(!O)return;const J=Ha.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),ie={data:!o||o==="text"||o==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:J,config:e,request:O};cP(function(le){n(le),L()},function(le){r(le),L()},ie),O=null}"onloadend"in O?O.onloadend=B:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(B)},O.onabort=function(){O&&(r(new Mn("Request aborted",Mn.ECONNABORTED,e,O)),O=null)},O.onerror=function(){r(new Mn("Network Error",Mn.ERR_NETWORK,e,O)),O=null},O.ontimeout=function(){let ee=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const ie=s.transitional||sP;s.timeoutErrorMessage&&(ee=s.timeoutErrorMessage),r(new Mn(ee,ie.clarifyTimeoutError?Mn.ETIMEDOUT:Mn.ECONNABORTED,e,O)),O=null},u===void 0&&h.setContentType(null),"setRequestHeader"in O&&rt.forEach(h.toJSON(),function(ee,ie){O.setRequestHeader(ie,ee)}),rt.isUndefined(s.withCredentials)||(O.withCredentials=!!s.withCredentials),o&&o!=="json"&&(O.responseType=s.responseType),y&&([C,R]=Yg(y,!0),O.addEventListener("progress",C)),p&&O.upload&&([k,I]=Yg(p),O.upload.addEventListener("progress",k),O.upload.addEventListener("loadend",I)),(s.cancelToken||s.signal)&&(b=J=>{O&&(r(!J||J.type?new nh(null,e,O):J),O.abort(),O=null)},s.cancelToken&&s.cancelToken.subscribe(b),s.signal&&(s.signal.aborted?b():s.signal.addEventListener("abort",b)));const q=Fwe(s.url);if(q&&ja.protocols.indexOf(q)===-1){r(new Mn("Unsupported protocol "+q+":",Mn.ERR_BAD_REQUEST,e));return}O.send(u||null)})},Hwe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const u=function(y){if(!s){s=!0,o();const b=y instanceof Error?y:this.reason;r.abort(b instanceof Mn?b:new nh(b instanceof Error?b.message:b))}};let h=t&&setTimeout(()=>{h=null,u(new Mn(`timeout ${t} of ms exceeded`,Mn.ETIMEDOUT))},t);const o=()=>{e&&(h&&clearTimeout(h),h=null,e.forEach(y=>{y.unsubscribe?y.unsubscribe(u):y.removeEventListener("abort",u)}),e=null)};e.forEach(y=>y.addEventListener("abort",u));const{signal:p}=r;return p.unsubscribe=()=>rt.asap(o),p}},Gwe=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},Wwe=async function*(e,t){for await(const n of Ywe(e))yield*Gwe(n,t)},Ywe=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},r2=(e,t,n,r)=>{const s=Wwe(e,t);let u=0,h,o=p=>{h||(h=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:y,value:b}=await s.next();if(y){o(),p.close();return}let k=b.byteLength;if(n){let C=u+=k;n(C)}p.enqueue(new Uint8Array(b))}catch(y){throw o(y),y}},cancel(p){return o(p),s.return()}},{highWaterMark:2})},$v=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",hP=$v&&typeof ReadableStream=="function",Zwe=$v&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fP=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Kwe=hP&&fP(()=>{let e=!1;const t=new Request(ja.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),i2=64*1024,t0=hP&&fP(()=>rt.isReadableStream(new Response("").body)),Zg={stream:t0&&(e=>e.body)};$v&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Zg[t]&&(Zg[t]=rt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Mn(`Response type '${t}' is not supported`,Mn.ERR_NOT_SUPPORT,r)})})})(new Response);const Xwe=async e=>{if(e==null)return 0;if(rt.isBlob(e))return e.size;if(rt.isSpecCompliantForm(e))return(await new Request(ja.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(rt.isArrayBufferView(e)||rt.isArrayBuffer(e))return e.byteLength;if(rt.isURLSearchParams(e)&&(e=e+""),rt.isString(e))return(await Zwe(e)).byteLength},Jwe=async(e,t)=>{const n=rt.toFiniteNumber(e.getContentLength());return n??Xwe(t)},Qwe=$v&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:u,timeout:h,onDownloadProgress:o,onUploadProgress:p,responseType:y,headers:b,withCredentials:k="same-origin",fetchOptions:C}=dP(e);y=y?(y+"").toLowerCase():"text";let I=Hwe([s,u&&u.toAbortSignal()],h),R;const L=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let O;try{if(p&&Kwe&&n!=="get"&&n!=="head"&&(O=await Jwe(b,r))!==0){let ie=new Request(t,{method:"POST",body:r,duplex:"half"}),re;if(rt.isFormData(r)&&(re=ie.headers.get("content-type"))&&b.setContentType(re),ie.body){const[le,H]=e2(O,Yg(t2(p)));r=r2(ie.body,i2,le,H)}}rt.isString(k)||(k=k?"include":"omit");const B="credentials"in Request.prototype;R=new Request(t,{...C,signal:I,method:n.toUpperCase(),headers:b.normalize().toJSON(),body:r,duplex:"half",credentials:B?k:void 0});let q=await fetch(R);const J=t0&&(y==="stream"||y==="response");if(t0&&(o||J&&L)){const ie={};["status","statusText","headers"].forEach($=>{ie[$]=q[$]});const re=rt.toFiniteNumber(q.headers.get("content-length")),[le,H]=o&&e2(re,Yg(t2(o),!0))||[];q=new Response(r2(q.body,i2,le,()=>{H&&H(),L&&L()}),ie)}y=y||"text";let ee=await Zg[rt.findKey(Zg,y)||"text"](q,e);return!J&&L&&L(),await new Promise((ie,re)=>{cP(ie,re,{data:ee,headers:Ha.from(q.headers),status:q.status,statusText:q.statusText,config:e,request:R})})}catch(B){throw L&&L(),B&&B.name==="TypeError"&&/fetch/i.test(B.message)?Object.assign(new Mn("Network Error",Mn.ERR_NETWORK,e,R),{cause:B.cause||B}):Mn.from(B,B&&B.code,e,R)}}),n0={http:mwe,xhr:jwe,fetch:Qwe};rt.forEach(n0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const a2=e=>`- ${e}`,eSe=e=>rt.isFunction(e)||e===null||e===!1,mP={getAdapter:e=>{e=rt.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let u=0;u<t;u++){n=e[u];let h;if(r=n,!eSe(n)&&(r=n0[(h=String(n)).toLowerCase()],r===void 0))throw new Mn(`Unknown adapter '${h}'`);if(r)break;s[h||"#"+u]=r}if(!r){const u=Object.entries(s).map(([o,p])=>`adapter ${o} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=t?u.length>1?`since :
`+u.map(a2).join(`
`):" "+a2(u[0]):"as no adapter specified";throw new Mn("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:n0};function eb(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new nh(null,e)}function s2(e){return eb(e),e.headers=Ha.from(e.headers),e.data=Q_.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),mP.getAdapter(e.adapter||Dm.adapter)(e).then(function(r){return eb(e),r.data=Q_.call(e,e.transformResponse,r),r.headers=Ha.from(r.headers),r},function(r){return lP(r)||(eb(e),r&&r.response&&(r.response.data=Q_.call(e,e.transformResponse,r.response),r.response.headers=Ha.from(r.response.headers))),Promise.reject(r)})}const pP="1.7.7",Qx={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Qx[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const o2={};Qx.transitional=function(t,n,r){function s(u,h){return"[Axios v"+pP+"] Transitional option '"+u+"'"+h+(r?". "+r:"")}return(u,h,o)=>{if(t===!1)throw new Mn(s(h," has been removed"+(n?" in "+n:"")),Mn.ERR_DEPRECATED);return n&&!o2[h]&&(o2[h]=!0,console.warn(s(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(u,h,o):!0}};function tSe(e,t,n){if(typeof e!="object")throw new Mn("options must be an object",Mn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const u=r[s],h=t[u];if(h){const o=e[u],p=o===void 0||h(o,u,e);if(p!==!0)throw new Mn("option "+u+" must be "+p,Mn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Mn("Unknown option "+u,Mn.ERR_BAD_OPTION)}}const r0={assertOptions:tSe,validators:Qx},Kl=r0.validators;class lu{constructor(t){this.defaults=t,this.interceptors={request:new JC,response:new JC}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const u=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?u&&!String(r.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+u):r.stack=u}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=mu(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:u}=n;r!==void 0&&r0.assertOptions(r,{silentJSONParsing:Kl.transitional(Kl.boolean),forcedJSONParsing:Kl.transitional(Kl.boolean),clarifyTimeoutError:Kl.transitional(Kl.boolean)},!1),s!=null&&(rt.isFunction(s)?n.paramsSerializer={serialize:s}:r0.assertOptions(s,{encode:Kl.function,serialize:Kl.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=u&&rt.merge(u.common,u[n.method]);u&&rt.forEach(["delete","get","head","post","put","patch","common"],R=>{delete u[R]}),n.headers=Ha.concat(h,u);const o=[];let p=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(n)===!1||(p=p&&L.synchronous,o.unshift(L.fulfilled,L.rejected))});const y=[];this.interceptors.response.forEach(function(L){y.push(L.fulfilled,L.rejected)});let b,k=0,C;if(!p){const R=[s2.bind(this),void 0];for(R.unshift.apply(R,o),R.push.apply(R,y),C=R.length,b=Promise.resolve(n);k<C;)b=b.then(R[k++],R[k++]);return b}C=o.length;let I=n;for(k=0;k<C;){const R=o[k++],L=o[k++];try{I=R(I)}catch(O){L.call(this,O);break}}try{b=s2.call(this,I)}catch(R){return Promise.reject(R)}for(k=0,C=y.length;k<C;)b=b.then(y[k++],y[k++]);return b}getUri(t){t=mu(this.defaults,t);const n=uP(t.baseURL,t.url);return aP(n,t.params,t.paramsSerializer)}}rt.forEach(["delete","get","head","options"],function(t){lu.prototype[t]=function(n,r){return this.request(mu(r||{},{method:t,url:n,data:(r||{}).data}))}});rt.forEach(["post","put","patch"],function(t){function n(r){return function(u,h,o){return this.request(mu(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}lu.prototype[t]=n(),lu.prototype[t+"Form"]=n(!0)});class e1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(u){n=u});const r=this;this.promise.then(s=>{if(!r._listeners)return;let u=r._listeners.length;for(;u-- >0;)r._listeners[u](s);r._listeners=null}),this.promise.then=s=>{let u;const h=new Promise(o=>{r.subscribe(o),u=o}).then(s);return h.cancel=function(){r.unsubscribe(u)},h},t(function(u,h,o){r.reason||(r.reason=new nh(u,h,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new e1(function(s){t=s}),cancel:t}}}function nSe(e){return function(n){return e.apply(null,n)}}function rSe(e){return rt.isObject(e)&&e.isAxiosError===!0}const i0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(i0).forEach(([e,t])=>{i0[t]=e});function gP(e){const t=new lu(e),n=WI(lu.prototype.request,t);return rt.extend(n,lu.prototype,t,{allOwnKeys:!0}),rt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return gP(mu(e,s))},n}const zr=gP(Dm);zr.Axios=lu;zr.CanceledError=nh;zr.CancelToken=e1;zr.isCancel=lP;zr.VERSION=pP;zr.toFormData=Nv;zr.AxiosError=Mn;zr.Cancel=zr.CanceledError;zr.all=function(t){return Promise.all(t)};zr.spread=nSe;zr.isAxiosError=rSe;zr.mergeConfig=mu;zr.AxiosHeaders=Ha;zr.formToJSON=e=>oP(rt.isHTMLForm(e)?new FormData(e):e);zr.getAdapter=mP.getAdapter;zr.HttpStatusCode=i0;zr.default=zr;const iSe="https://api-geography.azurewebsites.net/rest/postcodes/",aSe="https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt",sSe="https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt",vP="https://api-geography.librarydata.uk/rest/libraryAuthorities",oSe="https://api-geography.librarydata.uk/rest/lsoas",lSe="https://api.librarydata.uk/authenticate",cSe="create.librarydata.uk",yP="https://api.librarydata.uk/schemas/",uSe=[{text:"Local authority",value:"LAL"},{text:"Local authority unstaffed",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"ICL"}];async function _P(){const e=await zr.get(vP);return e&&e.data?e.data:[]}async function dSe(e){const t=await zr.get(vP+"/name/"+e);return t&&t.data?t.data:{}}async function hSe(e){const t=await zr.get(oSe+"/smallareas/libraryauthority/"+e);return t&&t.data?t.data:{}}const ic=ht()({name:"VCardActions",props:un(),setup(e,t){let{slots:n}=t;return ma({VBtn:{slim:!0,variant:"text"}}),kt(()=>{var r;return T("div",{class:["v-card-actions",e.class],style:e.style},[(r=n.default)==null?void 0:r.call(n)])}),{}}}),fSe=We({opacity:[Number,String],...un(),...Kn()},"VCardSubtitle"),mSe=ht()({name:"VCardSubtitle",props:fSe(),setup(e,t){let{slots:n}=t;return kt(()=>T(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),nu=Hd("v-card-title"),pSe=We({appendAvatar:String,appendIcon:pn,prependAvatar:String,prependIcon:pn,subtitle:[String,Number],title:[String,Number],...un(),...Ya()},"VCardItem"),gSe=ht()({name:"VCardItem",props:pSe(),setup(e,t){let{slots:n}=t;return kt(()=>{var y;const r=!!(e.prependAvatar||e.prependIcon),s=!!(r||n.prepend),u=!!(e.appendAvatar||e.appendIcon),h=!!(u||n.append),o=!!(e.title!=null||n.title),p=!!(e.subtitle!=null||n.subtitle);return T("div",{class:["v-card-item",e.class],style:e.style},[s&&T("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?T(Bn,{key:"prepend-defaults",disabled:!r,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):T(Gt,null,[e.prependAvatar&&T(Mo,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&T(rr,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),T("div",{class:"v-card-item__content"},[o&&T(nu,{key:"title"},{default:()=>{var b;return[((b=n.title)==null?void 0:b.call(n))??e.title]}}),p&&T(mSe,{key:"subtitle"},{default:()=>{var b;return[((b=n.subtitle)==null?void 0:b.call(n))??e.subtitle]}}),(y=n.default)==null?void 0:y.call(n)]),h&&T("div",{key:"append",class:"v-card-item__append"},[n.append?T(Bn,{key:"append-defaults",disabled:!u,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):T(Gt,null,[e.appendIcon&&T(rr,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&T(Mo,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),vSe=We({opacity:[Number,String],...un(),...Kn()},"VCardText"),Do=ht()({name:"VCardText",props:vSe(),setup(e,t){let{slots:n}=t;return kt(()=>T(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),ySe=We({appendAvatar:String,appendIcon:pn,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:pn,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number],text:[String,Number],title:[String,Number],...Ps(),...un(),...Ya(),...os(),...cs(),...xv(),...bu(),...gm(),...Mi(),...Sv(),...Kn(),...br(),...oo({variant:"elevated"})},"VCard"),ua=ht()({name:"VCard",directives:{Ripple:wu},props:ySe(),setup(e,t){let{attrs:n,slots:r}=t;const{themeClasses:s}=Br(e),{borderClasses:u}=so(e),{colorClasses:h,colorStyles:o,variantClasses:p}=xu(e),{densityClasses:y}=Ms(e),{dimensionStyles:b}=ls(e),{elevationClasses:k}=Ds(e),{loaderClasses:C}=wv(e),{locationStyles:I}=Wd(e),{positionClasses:R}=vm(e),{roundedClasses:L}=$i(e),O=wm(e,n),B=Y(()=>e.link!==!1&&O.isLink.value),q=Y(()=>!e.disabled&&e.link!==!1&&(e.link||O.isClickable.value));return kt(()=>{const J=B.value?"a":e.tag,ee=!!(r.title||e.title!=null),ie=!!(r.subtitle||e.subtitle!=null),re=ee||ie,le=!!(r.append||e.appendAvatar||e.appendIcon),H=!!(r.prepend||e.prependAvatar||e.prependIcon),$=!!(r.image||e.image),Z=re||H||le,ae=!!(r.text||e.text!=null);return _i(T(J,{class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":q.value},s.value,u.value,h.value,y.value,k.value,C.value,R.value,L.value,p.value,e.class],style:[o.value,b.value,I.value,e.style],href:O.href.value,onClick:q.value&&O.navigate,tabindex:e.disabled?-1:void 0},{default:()=>{var te;return[$&&T("div",{key:"image",class:"v-card__image"},[r.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},r.image):T(Sm,{key:"image-img",cover:!0,src:e.image},null)]),T(hx,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:r.loader}),Z&&T(gSe,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:r.item,prepend:r.prepend,title:r.title,subtitle:r.subtitle,append:r.append}),ae&&T(Do,{key:"text"},{default:()=>{var be;return[((be=r.text)==null?void 0:be.call(r))??e.text]}}),(te=r.default)==null?void 0:te.call(r),r.actions&&T(ic,null,{default:r.actions}),_c(q.value,"v-card")]}}),[[ao("ripple"),q.value&&e.ripple]])}),{}}}),_Se={props:["actions"],data(){return{}},methods:{async getServices(){let e=await _P();e=e.sort((t,n)=>t.name.localeCompare(n.name)),this.$store.commit("setServices",e),this.library_services=e},async logout(){this.$store.commit("logout")}},beforeMount(){this.getServices()}},bSe={key:0},xSe={key:0},wSe={key:1};function SSe(e,t,n,r,s,u){return mn(),Nn(ua,{variant:"tonal",class:"mb-4",color:"info"},{default:Ie(()=>[T(Do,null,{default:Ie(()=>[this.$store.state.loginKey?(mn(),ns("p",bSe,[t[2]||(t[2]=zt(" Logged in as ")),Yn("strong",null,Cs(this.$store.state.loginSubject),1),this.$store.state.loginAdmin?(mn(),ns("span",xSe,[T(vl,{color:"info",class:"mx-2 my-2","prepend-icon":"mdi-shield-crown"},{default:Ie(()=>t[0]||(t[0]=[zt(" Admin ")])),_:1})])):Zn("",!0),(mn(!0),ns(Gt,null,hg(this.$store.state.loginCodes,h=>(mn(),Nn(vl,{class:"mr-1",key:"chip_"+h},{default:Ie(()=>[T(rr,{left:""},{default:Ie(()=>t[1]||(t[1]=[zt("mdi-map-legend")])),_:1}),zt(" "+Cs(e.library_services.length>0?e.library_services.filter(o=>o.code===h)[0].nice_name:h),1)]),_:2},1024))),128))])):Zn("",!0),this.$store.state.loginKey?Zn("",!0):(mn(),ns("p",wSe,"You are not logged in."))]),_:1}),this.actions?(mn(),Nn(ic,{key:0},{default:Ie(()=>[T(Zs),this.$store.state.loginKey?(mn(),Nn(Jt,{key:0,color:"warning",variant:"tonal",text:"",onClick:u.logout},{default:Ie(()=>[t[4]||(t[4]=zt(" Log out ")),T(rr,{right:""},{default:Ie(()=>t[3]||(t[3]=[zt("mdi-logout")])),_:1})]),_:1},8,["onClick"])):Zn("",!0),this.$store.state.loginKey?Zn("",!0):(mn(),Nn(Jt,{key:1,color:"info",size:"large",variant:"tonal",to:"/login","append-icon":"mdi-account-circle"},{default:Ie(()=>t[5]||(t[5]=[zt(" Log in ")])),_:1}))]),_:1})):Zn("",!0)]),_:1})}const Mm=ni(_Se,[["render",SSe]]);function kSe(){return bP().__VUE_DEVTOOLS_GLOBAL_HOOK__}function bP(){return typeof navigator<"u"&&typeof window<"u"?window:typeof globalThis<"u"?globalThis:{}}const CSe=typeof Proxy=="function",TSe="devtools-plugin:setup",ASe="plugin:settings:set";let gd,a0;function ESe(){var e;return gd!==void 0||(typeof window<"u"&&window.performance?(gd=!0,a0=window.performance):typeof globalThis<"u"&&(!((e=globalThis.perf_hooks)===null||e===void 0)&&e.performance)?(gd=!0,a0=globalThis.perf_hooks.performance):gd=!1),gd}function ISe(){return ESe()?a0.now():Date.now()}class PSe{constructor(t,n){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=n;const r={};if(t.settings)for(const h in t.settings){const o=t.settings[h];r[h]=o.defaultValue}const s=`__vue-devtools-plugin-settings__${t.id}`;let u=Object.assign({},r);try{const h=localStorage.getItem(s),o=JSON.parse(h);Object.assign(u,o)}catch{}this.fallbacks={getSettings(){return u},setSettings(h){try{localStorage.setItem(s,JSON.stringify(h))}catch{}u=h},now(){return ISe()}},n&&n.on(ASe,(h,o)=>{h===this.plugin.id&&this.fallbacks.setSettings(o)}),this.proxiedOn=new Proxy({},{get:(h,o)=>this.target?this.target.on[o]:(...p)=>{this.onQueue.push({method:o,args:p})}}),this.proxiedTarget=new Proxy({},{get:(h,o)=>this.target?this.target[o]:o==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(o)?(...p)=>(this.targetQueue.push({method:o,args:p,resolve:()=>{}}),this.fallbacks[o](...p)):(...p)=>new Promise(y=>{this.targetQueue.push({method:o,args:p,resolve:y})})})}async setRealTarget(t){this.target=t;for(const n of this.onQueue)this.target.on[n.method](...n.args);for(const n of this.targetQueue)n.resolve(await this.target[n.method](...n.args))}}function DSe(e,t){const n=e,r=bP(),s=kSe(),u=CSe&&n.enableEarlyProxy;if(s&&(r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!u))s.emit(TSe,e,t);else{const h=u?new PSe(n,s):null;(r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:h}),h&&t(h.proxiedTarget)}}/*!
  * vue-router v4.4.4
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const wd=typeof document<"u";function xP(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function MSe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&xP(e.default)}const vr=Object.assign;function tb(e,t){const n={};for(const r in t){const s=t[r];n[r]=no(s)?s.map(e):e(s)}return n}const Mf=()=>{},no=Array.isArray,wP=/#/g,LSe=/&/g,RSe=/\//g,OSe=/=/g,FSe=/\?/g,SP=/\+/g,zSe=/%5B/g,BSe=/%5D/g,kP=/%5E/g,VSe=/%60/g,CP=/%7B/g,NSe=/%7C/g,TP=/%7D/g,$Se=/%20/g;function t1(e){return encodeURI(""+e).replace(NSe,"|").replace(zSe,"[").replace(BSe,"]")}function USe(e){return t1(e).replace(CP,"{").replace(TP,"}").replace(kP,"^")}function s0(e){return t1(e).replace(SP,"%2B").replace($Se,"+").replace(wP,"%23").replace(LSe,"%26").replace(VSe,"`").replace(CP,"{").replace(TP,"}").replace(kP,"^")}function qSe(e){return s0(e).replace(OSe,"%3D")}function jSe(e){return t1(e).replace(wP,"%23").replace(FSe,"%3F")}function HSe(e){return e==null?"":jSe(e).replace(RSe,"%2F")}function am(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const GSe=/\/$/,WSe=e=>e.replace(GSe,"");function nb(e,t,n="/"){let r,s={},u="",h="";const o=t.indexOf("#");let p=t.indexOf("?");return o<p&&o>=0&&(p=-1),p>-1&&(r=t.slice(0,p),u=t.slice(p+1,o>-1?o:t.length),s=e(u)),o>-1&&(r=r||t.slice(0,o),h=t.slice(o,t.length)),r=XSe(r??t,n),{fullPath:r+(u&&"?")+u+h,path:r,query:s,hash:am(h)}}function YSe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function l2(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function ZSe(e,t,n){const r=t.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Nd(t.matched[r],n.matched[s])&&AP(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Nd(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function AP(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!KSe(e[n],t[n]))return!1;return!0}function KSe(e,t){return no(e)?c2(e,t):no(t)?c2(t,e):e===t}function c2(e,t){return no(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function XSe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let u=n.length-1,h,o;for(h=0;h<r.length;h++)if(o=r[h],o!==".")if(o==="..")u>1&&u--;else break;return n.slice(0,u).join("/")+"/"+r.slice(h).join("/")}const Xl={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var sm;(function(e){e.pop="pop",e.push="push"})(sm||(sm={}));var Lf;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Lf||(Lf={}));function JSe(e){if(!e)if(wd){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),WSe(e)}const QSe=/^[^#]+#/;function eke(e,t){return e.replace(QSe,"#")+t}function tke(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Uv=()=>({left:window.scrollX,top:window.scrollY});function nke(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=tke(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function u2(e,t){return(history.state?history.state.position-t:-1)+e}const o0=new Map;function rke(e,t){o0.set(e,t)}function ike(e){const t=o0.get(e);return o0.delete(e),t}let ake=()=>location.protocol+"//"+location.host;function EP(e,t){const{pathname:n,search:r,hash:s}=t,u=e.indexOf("#");if(u>-1){let o=s.includes(e.slice(u))?e.slice(u).length:1,p=s.slice(o);return p[0]!=="/"&&(p="/"+p),l2(p,"")}return l2(n,e)+r+s}function ske(e,t,n,r){let s=[],u=[],h=null;const o=({state:C})=>{const I=EP(e,location),R=n.value,L=t.value;let O=0;if(C){if(n.value=I,t.value=C,h&&h===R){h=null;return}O=L?C.position-L.position:0}else r(I);s.forEach(B=>{B(n.value,R,{delta:O,type:sm.pop,direction:O?O>0?Lf.forward:Lf.back:Lf.unknown})})};function p(){h=n.value}function y(C){s.push(C);const I=()=>{const R=s.indexOf(C);R>-1&&s.splice(R,1)};return u.push(I),I}function b(){const{history:C}=window;C.state&&C.replaceState(vr({},C.state,{scroll:Uv()}),"")}function k(){for(const C of u)C();u=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",b)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",b,{passive:!0}),{pauseListeners:p,listen:y,destroy:k}}function d2(e,t,n,r=!1,s=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:s?Uv():null}}function oke(e){const{history:t,location:n}=window,r={value:EP(e,n)},s={value:t.state};s.value||u(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function u(p,y,b){const k=e.indexOf("#"),C=k>-1?(n.host&&document.querySelector("base")?e:e.slice(k))+p:ake()+e+p;try{t[b?"replaceState":"pushState"](y,"",C),s.value=y}catch(I){console.error(I),n[b?"replace":"assign"](C)}}function h(p,y){const b=vr({},t.state,d2(s.value.back,p,s.value.forward,!0),y,{position:s.value.position});u(p,b,!0),r.value=p}function o(p,y){const b=vr({},s.value,t.state,{forward:p,scroll:Uv()});u(b.current,b,!0);const k=vr({},d2(r.value,p,null),{position:b.position+1},y);u(p,k,!1),r.value=p}return{location:r,state:s,push:o,replace:h}}function lke(e){e=JSe(e);const t=oke(e),n=ske(e,t.state,t.location,t.replace);function r(u,h=!0){h||n.pauseListeners(),history.go(u)}const s=vr({location:"",base:e,go:r,createHref:eke.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function cke(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),lke(e)}function uke(e){return typeof e=="string"||e&&typeof e=="object"}function IP(e){return typeof e=="string"||typeof e=="symbol"}const PP=Symbol("");var h2;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(h2||(h2={}));function $d(e,t){return vr(new Error,{type:e,[PP]:!0},t)}function il(e,t){return e instanceof Error&&PP in e&&(t==null||!!(e.type&t))}const f2="[^/]+?",dke={sensitive:!1,strict:!1,start:!0,end:!0},hke=/[.+*?^${}()[\]/\\]/g;function fke(e,t){const n=vr({},dke,t),r=[];let s=n.start?"^":"";const u=[];for(const y of e){const b=y.length?[]:[90];n.strict&&!y.length&&(s+="/");for(let k=0;k<y.length;k++){const C=y[k];let I=40+(n.sensitive?.25:0);if(C.type===0)k||(s+="/"),s+=C.value.replace(hke,"\\$&"),I+=40;else if(C.type===1){const{value:R,repeatable:L,optional:O,regexp:B}=C;u.push({name:R,repeatable:L,optional:O});const q=B||f2;if(q!==f2){I+=10;try{new RegExp(`(${q})`)}catch(ee){throw new Error(`Invalid custom RegExp for param "${R}" (${q}): `+ee.message)}}let J=L?`((?:${q})(?:/(?:${q}))*)`:`(${q})`;k||(J=O&&y.length<2?`(?:/${J})`:"/"+J),O&&(J+="?"),s+=J,I+=20,O&&(I+=-8),L&&(I+=-20),q===".*"&&(I+=-50)}b.push(I)}r.push(b)}if(n.strict&&n.end){const y=r.length-1;r[y][r[y].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const h=new RegExp(s,n.sensitive?"":"i");function o(y){const b=y.match(h),k={};if(!b)return null;for(let C=1;C<b.length;C++){const I=b[C]||"",R=u[C-1];k[R.name]=I&&R.repeatable?I.split("/"):I}return k}function p(y){let b="",k=!1;for(const C of e){(!k||!b.endsWith("/"))&&(b+="/"),k=!1;for(const I of C)if(I.type===0)b+=I.value;else if(I.type===1){const{value:R,repeatable:L,optional:O}=I,B=R in y?y[R]:"";if(no(B)&&!L)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const q=no(B)?B.join("/"):B;if(!q)if(O)C.length<2&&(b.endsWith("/")?b=b.slice(0,-1):k=!0);else throw new Error(`Missing required param "${R}"`);b+=q}}return b||"/"}return{re:h,score:r,keys:u,parse:o,stringify:p}}function mke(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function DP(e,t){let n=0;const r=e.score,s=t.score;for(;n<r.length&&n<s.length;){const u=mke(r[n],s[n]);if(u)return u;n++}if(Math.abs(s.length-r.length)===1){if(m2(r))return 1;if(m2(s))return-1}return s.length-r.length}function m2(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const pke={type:0,value:""},gke=/[a-zA-Z0-9_]/;function vke(e){if(!e)return[[]];if(e==="/")return[[pke]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(I){throw new Error(`ERR (${n})/"${y}": ${I}`)}let n=0,r=n;const s=[];let u;function h(){u&&s.push(u),u=[]}let o=0,p,y="",b="";function k(){y&&(n===0?u.push({type:0,value:y}):n===1||n===2||n===3?(u.length>1&&(p==="*"||p==="+")&&t(`A repeatable param (${y}) must be alone in its segment. eg: '/:ids+.`),u.push({type:1,value:y,regexp:b,repeatable:p==="*"||p==="+",optional:p==="*"||p==="?"})):t("Invalid state to consume buffer"),y="")}function C(){y+=p}for(;o<e.length;){if(p=e[o++],p==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:p==="/"?(y&&k(),h()):p===":"?(k(),n=1):C();break;case 4:C(),n=r;break;case 1:p==="("?n=2:gke.test(p)?C():(k(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&o--);break;case 2:p===")"?b[b.length-1]=="\\"?b=b.slice(0,-1)+p:n=3:b+=p;break;case 3:k(),n=0,p!=="*"&&p!=="?"&&p!=="+"&&o--,b="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${y}"`),k(),h(),s}function yke(e,t,n){const r=fke(vke(e.path),n),s=vr(r,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function _ke(e,t){const n=[],r=new Map;t=v2({strict:!1,end:!0,sensitive:!1},t);function s(k){return r.get(k)}function u(k,C,I){const R=!I,L=bke(k);L.aliasOf=I&&I.record;const O=v2(t,k),B=[L];if("alias"in k){const ee=typeof k.alias=="string"?[k.alias]:k.alias;for(const ie of ee)B.push(vr({},L,{components:I?I.record.components:L.components,path:ie,aliasOf:I?I.record:L}))}let q,J;for(const ee of B){const{path:ie}=ee;if(C&&ie[0]!=="/"){const re=C.record.path,le=re[re.length-1]==="/"?"":"/";ee.path=C.record.path+(ie&&le+ie)}if(q=yke(ee,C,O),I?I.alias.push(q):(J=J||q,J!==q&&J.alias.push(q),R&&k.name&&!g2(q)&&h(k.name)),MP(q)&&p(q),L.children){const re=L.children;for(let le=0;le<re.length;le++)u(re[le],q,I&&I.children[le])}I=I||q}return J?()=>{h(J)}:Mf}function h(k){if(IP(k)){const C=r.get(k);C&&(r.delete(k),n.splice(n.indexOf(C),1),C.children.forEach(h),C.alias.forEach(h))}else{const C=n.indexOf(k);C>-1&&(n.splice(C,1),k.record.name&&r.delete(k.record.name),k.children.forEach(h),k.alias.forEach(h))}}function o(){return n}function p(k){const C=Ske(k,n);n.splice(C,0,k),k.record.name&&!g2(k)&&r.set(k.record.name,k)}function y(k,C){let I,R={},L,O;if("name"in k&&k.name){if(I=r.get(k.name),!I)throw $d(1,{location:k});O=I.record.name,R=vr(p2(C.params,I.keys.filter(J=>!J.optional).concat(I.parent?I.parent.keys.filter(J=>J.optional):[]).map(J=>J.name)),k.params&&p2(k.params,I.keys.map(J=>J.name))),L=I.stringify(R)}else if(k.path!=null)L=k.path,I=n.find(J=>J.re.test(L)),I&&(R=I.parse(L),O=I.record.name);else{if(I=C.name?r.get(C.name):n.find(J=>J.re.test(C.path)),!I)throw $d(1,{location:k,currentLocation:C});O=I.record.name,R=vr({},C.params,k.params),L=I.stringify(R)}const B=[];let q=I;for(;q;)B.unshift(q.record),q=q.parent;return{name:O,path:L,params:R,matched:B,meta:wke(B)}}e.forEach(k=>u(k));function b(){n.length=0,r.clear()}return{addRoute:u,resolve:y,removeRoute:h,clearRoutes:b,getRoutes:o,getRecordMatcher:s}}function p2(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function bke(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:xke(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},mods:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function xke(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function g2(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function wke(e){return e.reduce((t,n)=>vr(t,n.meta),{})}function v2(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Ske(e,t){let n=0,r=t.length;for(;n!==r;){const u=n+r>>1;DP(e,t[u])<0?r=u:n=u+1}const s=kke(e);return s&&(r=t.lastIndexOf(s,r-1)),r}function kke(e){let t=e;for(;t=t.parent;)if(MP(t)&&DP(e,t)===0)return t}function MP({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Cke(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<r.length;++s){const u=r[s].replace(SP," "),h=u.indexOf("="),o=am(h<0?u:u.slice(0,h)),p=h<0?null:am(u.slice(h+1));if(o in t){let y=t[o];no(y)||(y=t[o]=[y]),y.push(p)}else t[o]=p}return t}function y2(e){let t="";for(let n in e){const r=e[n];if(n=qSe(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(no(r)?r.map(u=>u&&s0(u)):[r&&s0(r)]).forEach(u=>{u!==void 0&&(t+=(t.length?"&":"")+n,u!=null&&(t+="="+u))})}return t}function Tke(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=no(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return t}const Ake=Symbol(""),_2=Symbol(""),n1=Symbol(""),r1=Symbol(""),l0=Symbol("");function _f(){let e=[];function t(r){return e.push(r),()=>{const s=e.indexOf(r);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function rc(e,t,n,r,s,u=h=>h()){const h=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,p)=>{const y=C=>{C===!1?p($d(4,{from:n,to:t})):C instanceof Error?p(C):uke(C)?p($d(2,{from:t,to:C})):(h&&r.enterCallbacks[s]===h&&typeof C=="function"&&h.push(C),o())},b=u(()=>e.call(r&&r.instances[s],t,n,y));let k=Promise.resolve(b);e.length<3&&(k=k.then(y)),k.catch(C=>p(C))})}function rb(e,t,n,r,s=u=>u()){const u=[];for(const h of e)for(const o in h.components){let p=h.components[o];if(!(t!=="beforeRouteEnter"&&!h.instances[o]))if(xP(p)){const b=(p.__vccOpts||p)[t];b&&u.push(rc(b,n,r,h,o,s))}else{let y=p();u.push(()=>y.then(b=>{if(!b)throw new Error(`Couldn't resolve component "${o}" at "${h.path}"`);const k=MSe(b)?b.default:b;h.mods[o]=b,h.components[o]=k;const I=(k.__vccOpts||k)[t];return I&&rc(I,n,r,h,o,s)()}))}}return u}function b2(e){const t=_t(n1),n=_t(r1),r=Y(()=>{const p=Ur(e.to);return t.resolve(p)}),s=Y(()=>{const{matched:p}=r.value,{length:y}=p,b=p[y-1],k=n.matched;if(!b||!k.length)return-1;const C=k.findIndex(Nd.bind(null,b));if(C>-1)return C;const I=x2(p[y-2]);return y>1&&x2(b)===I&&k[k.length-1].path!==I?k.findIndex(Nd.bind(null,p[y-2])):C}),u=Y(()=>s.value>-1&&Dke(n.params,r.value.params)),h=Y(()=>s.value>-1&&s.value===n.matched.length-1&&AP(n.params,r.value.params));function o(p={}){return Pke(p)?t[Ur(e.replace)?"replace":"push"](Ur(e.to)).catch(Mf):Promise.resolve()}return{route:r,href:Y(()=>r.value.href),isActive:u,isExactActive:h,navigate:o}}const Eke=cr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:b2,setup(e,{slots:t}){const n=Ii(b2(e)),{options:r}=_t(n1),s=Y(()=>({[w2(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[w2(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const u=t.default&&t.default(n);return e.custom?u:ei("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},u)}}}),Ike=Eke;function Pke(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Dke(e,t){for(const n in t){const r=t[n],s=e[n];if(typeof r=="string"){if(r!==s)return!1}else if(!no(s)||s.length!==r.length||r.some((u,h)=>u!==s[h]))return!1}return!0}function x2(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const w2=(e,t,n)=>e??t??n,Mke=cr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=_t(l0),s=Y(()=>e.route||r.value),u=_t(_2,0),h=Y(()=>{let y=Ur(u);const{matched:b}=s.value;let k;for(;(k=b[y])&&!k.components;)y++;return y}),o=Y(()=>s.value.matched[h.value]);xn(_2,Y(()=>h.value+1)),xn(Ake,o),xn(l0,s);const p=dt();return ct(()=>[p.value,o.value,e.name],([y,b,k],[C,I,R])=>{b&&(b.instances[k]=y,I&&I!==b&&y&&y===C&&(b.leaveGuards.size||(b.leaveGuards=I.leaveGuards),b.updateGuards.size||(b.updateGuards=I.updateGuards))),y&&b&&(!I||!Nd(b,I)||!C)&&(b.enterCallbacks[k]||[]).forEach(L=>L(y))},{flush:"post"}),()=>{const y=s.value,b=e.name,k=o.value,C=k&&k.components[b];if(!C)return S2(n.default,{Component:C,route:y});const I=k.props[b],R=I?I===!0?y.params:typeof I=="function"?I(y):I:null,O=ei(C,vr({},R,t,{onVnodeUnmounted:B=>{B.component.isUnmounted&&(k.instances[b]=null)},ref:p}));return S2(n.default,{Component:O,route:y})||O}}});function S2(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Lke=Mke;function Rke(e){const t=_ke(e.routes,e),n=e.parseQuery||Cke,r=e.stringifyQuery||y2,s=e.history,u=_f(),h=_f(),o=_f(),p=Rt(Xl);let y=Xl;wd&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const b=tb.bind(null,Ne=>""+Ne),k=tb.bind(null,HSe),C=tb.bind(null,am);function I(Ne,et){let je,Qe;return IP(Ne)?(je=t.getRecordMatcher(Ne),Qe=et):Qe=Ne,t.addRoute(Qe,je)}function R(Ne){const et=t.getRecordMatcher(Ne);et&&t.removeRoute(et)}function L(){return t.getRoutes().map(Ne=>Ne.record)}function O(Ne){return!!t.getRecordMatcher(Ne)}function B(Ne,et){if(et=vr({},et||p.value),typeof Ne=="string"){const fe=nb(n,Ne,et.path),Me=t.resolve({path:fe.path},et),Xe=s.createHref(fe.fullPath);return vr(fe,Me,{params:C(Me.params),hash:am(fe.hash),redirectedFrom:void 0,href:Xe})}let je;if(Ne.path!=null)je=vr({},Ne,{path:nb(n,Ne.path,et.path).path});else{const fe=vr({},Ne.params);for(const Me in fe)fe[Me]==null&&delete fe[Me];je=vr({},Ne,{params:k(fe)}),et.params=k(et.params)}const Qe=t.resolve(je,et),Je=Ne.hash||"";Qe.params=b(C(Qe.params));const It=YSe(r,vr({},Ne,{hash:USe(Je),path:Qe.path})),se=s.createHref(It);return vr({fullPath:It,hash:Je,query:r===y2?Tke(Ne.query):Ne.query||{}},Qe,{redirectedFrom:void 0,href:se})}function q(Ne){return typeof Ne=="string"?nb(n,Ne,p.value.path):vr({},Ne)}function J(Ne,et){if(y!==Ne)return $d(8,{from:et,to:Ne})}function ee(Ne){return le(Ne)}function ie(Ne){return ee(vr(q(Ne),{replace:!0}))}function re(Ne){const et=Ne.matched[Ne.matched.length-1];if(et&&et.redirect){const{redirect:je}=et;let Qe=typeof je=="function"?je(Ne):je;return typeof Qe=="string"&&(Qe=Qe.includes("?")||Qe.includes("#")?Qe=q(Qe):{path:Qe},Qe.params={}),vr({query:Ne.query,hash:Ne.hash,params:Qe.path!=null?{}:Ne.params},Qe)}}function le(Ne,et){const je=y=B(Ne),Qe=p.value,Je=Ne.state,It=Ne.force,se=Ne.replace===!0,fe=re(je);if(fe)return le(vr(q(fe),{state:typeof fe=="object"?vr({},Je,fe.state):Je,force:It,replace:se}),et||je);const Me=je;Me.redirectedFrom=et;let Xe;return!It&&ZSe(r,Qe,je)&&(Xe=$d(16,{to:Me,from:Qe}),$e(Qe,Qe,!0,!1)),(Xe?Promise.resolve(Xe):Z(Me,Qe)).catch(Ze=>il(Ze)?il(Ze,2)?Ze:Ve(Ze):Fe(Ze,Me,Qe)).then(Ze=>{if(Ze){if(il(Ze,2))return le(vr({replace:se},q(Ze.to),{state:typeof Ze.to=="object"?vr({},Je,Ze.to.state):Je,force:It}),et||Me)}else Ze=te(Me,Qe,!0,se,Je);return ae(Me,Qe,Ze),Ze})}function H(Ne,et){const je=J(Ne,et);return je?Promise.reject(je):Promise.resolve()}function $(Ne){const et=Ct.values().next().value;return et&&typeof et.runWithContext=="function"?et.runWithContext(Ne):Ne()}function Z(Ne,et){let je;const[Qe,Je,It]=Oke(Ne,et);je=rb(Qe.reverse(),"beforeRouteLeave",Ne,et);for(const fe of Qe)fe.leaveGuards.forEach(Me=>{je.push(rc(Me,Ne,et))});const se=H.bind(null,Ne,et);return je.push(se),vt(je).then(()=>{je=[];for(const fe of u.list())je.push(rc(fe,Ne,et));return je.push(se),vt(je)}).then(()=>{je=rb(Je,"beforeRouteUpdate",Ne,et);for(const fe of Je)fe.updateGuards.forEach(Me=>{je.push(rc(Me,Ne,et))});return je.push(se),vt(je)}).then(()=>{je=[];for(const fe of It)if(fe.beforeEnter)if(no(fe.beforeEnter))for(const Me of fe.beforeEnter)je.push(rc(Me,Ne,et));else je.push(rc(fe.beforeEnter,Ne,et));return je.push(se),vt(je)}).then(()=>(Ne.matched.forEach(fe=>fe.enterCallbacks={}),je=rb(It,"beforeRouteEnter",Ne,et,$),je.push(se),vt(je))).then(()=>{je=[];for(const fe of h.list())je.push(rc(fe,Ne,et));return je.push(se),vt(je)}).catch(fe=>il(fe,8)?fe:Promise.reject(fe))}function ae(Ne,et,je){o.list().forEach(Qe=>$(()=>Qe(Ne,et,je)))}function te(Ne,et,je,Qe,Je){const It=J(Ne,et);if(It)return It;const se=et===Xl,fe=wd?history.state:{};je&&(Qe||se?s.replace(Ne.fullPath,vr({scroll:se&&fe&&fe.scroll},Je)):s.push(Ne.fullPath,Je)),p.value=Ne,$e(Ne,et,je,se),Ve()}let be;function me(){be||(be=s.listen((Ne,et,je)=>{if(!$t.listening)return;const Qe=B(Ne),Je=re(Qe);if(Je){le(vr(Je,{replace:!0}),Qe).catch(Mf);return}y=Qe;const It=p.value;wd&&rke(u2(It.fullPath,je.delta),Uv()),Z(Qe,It).catch(se=>il(se,12)?se:il(se,2)?(le(se.to,Qe).then(fe=>{il(fe,20)&&!je.delta&&je.type===sm.pop&&s.go(-1,!1)}).catch(Mf),Promise.reject()):(je.delta&&s.go(-je.delta,!1),Fe(se,Qe,It))).then(se=>{se=se||te(Qe,It,!1),se&&(je.delta&&!il(se,8)?s.go(-je.delta,!1):je.type===sm.pop&&il(se,20)&&s.go(-1,!1)),ae(Qe,It,se)}).catch(Mf)}))}let Pe=_f(),Ae=_f(),Ue;function Fe(Ne,et,je){Ve(Ne);const Qe=Ae.list();return Qe.length?Qe.forEach(Je=>Je(Ne,et,je)):console.error(Ne),Promise.reject(Ne)}function Ce(){return Ue&&p.value!==Xl?Promise.resolve():new Promise((Ne,et)=>{Pe.add([Ne,et])})}function Ve(Ne){return Ue||(Ue=!Ne,me(),Pe.list().forEach(([et,je])=>Ne?je(Ne):et()),Pe.reset()),Ne}function $e(Ne,et,je,Qe){const{scrollBehavior:Je}=e;if(!wd||!Je)return Promise.resolve();const It=!je&&ike(u2(Ne.fullPath,0))||(Qe||!je)&&history.state&&history.state.scroll||null;return Jn().then(()=>Je(Ne,et,It)).then(se=>se&&nke(se)).catch(se=>Fe(se,Ne,et))}const qe=Ne=>s.go(Ne);let gt;const Ct=new Set,$t={currentRoute:p,listening:!0,addRoute:I,removeRoute:R,clearRoutes:t.clearRoutes,hasRoute:O,getRoutes:L,resolve:B,options:e,push:ee,replace:ie,go:qe,back:()=>qe(-1),forward:()=>qe(1),beforeEach:u.add,beforeResolve:h.add,afterEach:o.add,onError:Ae.add,isReady:Ce,install(Ne){const et=this;Ne.component("RouterLink",Ike),Ne.component("RouterView",Lke),Ne.config.globalProperties.$router=et,Object.defineProperty(Ne.config.globalProperties,"$route",{enumerable:!0,get:()=>Ur(p)}),wd&&!gt&&p.value===Xl&&(gt=!0,ee(s.location).catch(Je=>{}));const je={};for(const Je in Xl)Object.defineProperty(je,Je,{get:()=>p.value[Je],enumerable:!0});Ne.provide(n1,et),Ne.provide(r1,uT(je)),Ne.provide(l0,p);const Qe=Ne.unmount;Ct.add(Ne),Ne.unmount=function(){Ct.delete(Ne),Ct.size<1&&(y=Xl,be&&be(),be=null,p.value=Xl,gt=!1,Ue=!1),Qe()}}};function vt(Ne){return Ne.reduce((et,je)=>et.then(()=>$(je)),Promise.resolve())}return $t}function Oke(e,t){const n=[],r=[],s=[],u=Math.max(t.matched.length,e.matched.length);for(let h=0;h<u;h++){const o=t.matched[h];o&&(e.matched.find(y=>Nd(y,o))?r.push(o):n.push(o));const p=e.matched[h];p&&(t.matched.find(y=>Nd(y,p))||s.push(p))}return[n,r,s]}function Fke(e){return _t(r1)}const zke=`In 2019 a set of library workers collaborated on the [public library data schemas](https://schema.librarydata.uk/). These were designed to help public library services publish open data.

Here are some resources about that project:

- DCMS blog - [Libraries and open data](https://dcmslibraries.blog.gov.uk/2019/09/06/libraries-and-open-data/)
- DCMS blog - [Open data - an update](https://dcmslibraries.blog.gov.uk/2020/08/03/library-open-data-an-update/)
- Frictionless Data blog - [Libraries Hacked](https://frictionlessdata.io/blog/2022/02/07/libraries-hacked/#schemas-and-frictionless-data) - a case study of using Table Schema to create a public library data schemas.

This website is to provide tools to use those schemas.

- Tools for publishing and validating data
- Visualisations from the data
- Data analysis techniques using the data.
- Data tools to aid in decision-making
`,Bke={data(){return{mdText:zke}},methods:{},components:{}};function Vke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"About",subtitle:"What the site is and does, and who for"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const Nke=ni(Bke,[["render",Vke]]),$ke=`We want as many people as possible to be able to use this website. For example, that means you should be able to:

- change colours, contrast levels and fonts
- zoom in up to 300% without the text spilling off the screen
- navigate most of the website using just a keyboard
- navigate most of the website using speech recognition software
- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)

We've also made the website text as simple as possible to understand.

[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.

## Technical information about this website's accessibility

This website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).

There are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible, we are looking at making sure the information presented by the map is also available in other formats.

If you do experience any problems using this website, please raise these and [send us an email](mailto:info@librarieshacked.org).
`,Uke={data(){return{mdText:$ke}},methods:{},components:{}};function qke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const jke=ni(Uke,[["render",qke]]),Hke=`An event is any event facilitated or organised by the library service.

Events data is in a **time-series** format. Data is maintained by adding new data (e.g. the next months events).
`,Gke={data(){return{mdText:Hke}},methods:{},components:{}},Wke={class:"text-center"};function Yke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Events",subtitle:"Library event attendance and outcomes"}),Yn("p",Wke,[T(Jt,{variant:"tonal",size:"large",color:"info",href:"https://schema.librarydata.uk/events",target:"_blank"},{default:Ie(()=>t[0]||(t[0]=[zt(" Explore the events schema ")])),_:1})]),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"})]),_:1})}const Zke=ni(Gke,[["render",Yke]]),Kke=`We provide tools to help libraries publish and use open data.

Inspired by the public library [open data schemas](https://schema.librarydata.uk), each tool is tailored for a different dataset documented in that project. See the [about page](/about) for more background.
`,Xke={data(){return{mdText:Kke}},methods:{},components:{}},Jke={key:1};function Qke(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),p=Mm;return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Create",subtitle:"Helping libraries publish and utilise open data"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),this.$store.state.loginKey?Zn("",!0):(mn(),Nn(Ir,{key:0,class:"text-center"},{default:Ie(()=>[T(Jt,{"prepend-icon":"mdi-login-variant",variant:"tonal",size:"x-large",color:"success",class:"mx-1 my-1",to:"/login"},{default:Ie(()=>t[0]||(t[0]=[zt(" Log in ")])),_:1})]),_:1})),this.$store.state.loginKey?(mn(),ns("div",Jke,[T(p,{actions:!0})])):Zn("",!0)]),_:1})}const eCe=ni(Xke,[["render",Qke]]),tCe=`A library is a static service point which provides library services for the public.

Library locaions are a data **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,nCe={data(){return{mdText:tCe}},methods:{},components:{}},rCe={class:"text-center"};function iCe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Libraries",subtitle:"Public library locations, hours, and contact details"}),Yn("p",rCe,[T(Jt,{size:"large","prepend-icon":"mdi-information",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/libraries",target:"_blank"},{default:Ie(()=>t[0]||(t[0]=[zt(" Explore the locations schema ")])),_:1})]),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"})]),_:1})}const aCe=ni(nCe,[["render",iCe]]),sCe=We({renderless:Boolean,...un()},"VVirtualScrollItem"),oCe=ht()({name:"VVirtualScrollItem",inheritAttrs:!1,props:sCe(),emits:{"update:height":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{resizeRef:u,contentRect:h}=uc(void 0,"border");ct(()=>{var o;return(o=h.value)==null?void 0:o.height},o=>{o!=null&&r("update:height",o)}),kt(()=>{var o,p;return e.renderless?T(Gt,null,[(o=s.default)==null?void 0:o.call(s,{itemRef:u})]):T("div",lt({ref:u,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(p=s.default)==null?void 0:p.call(s)])})}}),lCe=-1,cCe=1,ib=100,uCe=We({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function dCe(e,t){const n=wl(),r=Rt(0);bi(()=>{r.value=parseFloat(e.itemHeight||0)});const s=Rt(0),u=Rt(Math.ceil((parseInt(e.height)||n.height.value)/(r.value||16))||1),h=Rt(0),o=Rt(0),p=dt(),y=dt();let b=0;const{resizeRef:k,contentRect:C}=uc();bi(()=>{k.value=p.value});const I=Y(()=>{var Ce;return p.value===document.documentElement?n.height.value:((Ce=C.value)==null?void 0:Ce.height)||parseInt(e.height)||0}),R=Y(()=>!!(p.value&&y.value&&I.value&&r.value));let L=Array.from({length:t.value.length}),O=Array.from({length:t.value.length});const B=Rt(0);let q=-1;function J(Ce){return L[Ce]||r.value}const ee=RF(()=>{const Ce=performance.now();O[0]=0;const Ve=t.value.length;for(let $e=1;$e<=Ve-1;$e++)O[$e]=(O[$e-1]||0)+J($e-1);B.value=Math.max(B.value,performance.now()-Ce)},B),ie=ct(R,Ce=>{Ce&&(ie(),b=y.value.offsetTop,ee.immediate(),Pe(),~q&&Jn(()=>{hr&&window.requestAnimationFrame(()=>{Ue(q),q=-1})}))});pa(()=>{ee.clear()});function re(Ce,Ve){const $e=L[Ce],qe=r.value;r.value=qe?Math.min(r.value,Ve):Ve,($e!==Ve||qe!==r.value)&&(L[Ce]=Ve,ee())}function le(Ce){return Ce=Ki(Ce,0,t.value.length-1),O[Ce]||0}function H(Ce){return hCe(O,Ce)}let $=0,Z=0,ae=0;ct(I,(Ce,Ve)=>{Ve&&(Pe(),Ce<Ve&&requestAnimationFrame(()=>{Z=0,Pe()}))});function te(){if(!p.value||!y.value)return;const Ce=p.value.scrollTop,Ve=performance.now();Ve-ae>500?(Z=Math.sign(Ce-$),b=y.value.offsetTop):Z=Ce-$,$=Ce,ae=Ve,Pe()}function be(){!p.value||!y.value||(Z=0,ae=0,Pe())}let me=-1;function Pe(){cancelAnimationFrame(me),me=requestAnimationFrame(Ae)}function Ae(){if(!p.value||!I.value)return;const Ce=$-b,Ve=Math.sign(Z),$e=Math.max(0,Ce-ib),qe=Ki(H($e),0,t.value.length),gt=Ce+I.value+ib,Ct=Ki(H(gt)+1,qe+1,t.value.length);if((Ve!==lCe||qe<s.value)&&(Ve!==cCe||Ct>u.value)){const $t=le(s.value)-le(qe),vt=le(Ct)-le(u.value);Math.max($t,vt)>ib?(s.value=qe,u.value=Ct):(qe<=0&&(s.value=qe),Ct>=t.value.length&&(u.value=Ct))}h.value=le(s.value),o.value=le(t.value.length)-le(u.value)}function Ue(Ce){const Ve=le(Ce);!p.value||Ce&&!Ve?q=Ce:p.value.scrollTop=Ve}const Fe=Y(()=>t.value.slice(s.value,u.value).map((Ce,Ve)=>({raw:Ce,index:Ve+s.value})));return ct(t,()=>{L=Array.from({length:t.value.length}),O=Array.from({length:t.value.length}),ee.immediate(),Pe()},{deep:!0}),{calculateVisibleItems:Pe,containerRef:p,markerRef:y,computedItems:Fe,paddingTop:h,paddingBottom:o,scrollToIndex:Ue,handleScroll:te,handleScrollend:be,handleItemResize:re}}function hCe(e,t){let n=e.length-1,r=0,s=0,u=null,h=-1;if(e[n]<t)return n;for(;r<=n;)if(s=r+n>>1,u=e[s],u>t)n=s-1;else if(u<t)h=s,r=s+1;else return u===t?s:r;return h}const fCe=We({items:{type:Array,default:()=>[]},renderless:Boolean,...uCe(),...un(),...os()},"VVirtualScroll"),LP=ht()({name:"VVirtualScroll",props:fCe(),setup(e,t){let{slots:n}=t;const r=Kr("VVirtualScroll"),{dimensionStyles:s}=ls(e),{calculateVisibleItems:u,containerRef:h,markerRef:o,handleScroll:p,handleScrollend:y,handleItemResize:b,scrollToIndex:k,paddingTop:C,paddingBottom:I,computedItems:R}=dCe(e,bt(e,"items"));return qa(()=>e.renderless,()=>{function L(){var q,J;const B=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";h.value===document.documentElement?(document[B]("scroll",p,{passive:!0}),document[B]("scrollend",y)):((q=h.value)==null||q[B]("scroll",p,{passive:!0}),(J=h.value)==null||J[B]("scrollend",y))}Ni(()=>{h.value=kA(r.vnode.el,!0),L(!0)}),pa(L)}),kt(()=>{const L=R.value.map(O=>T(oCe,{key:O.index,renderless:e.renderless,"onUpdate:height":B=>b(O.index,B)},{default:B=>{var q;return(q=n.default)==null?void 0:q.call(n,{item:O.raw,index:O.index,...B})}}));return e.renderless?T(Gt,null,[T("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:Ht(C.value)}},null),L,T("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Ht(I.value)}},null)]):T("div",{ref:h,class:["v-virtual-scroll",e.class],onScrollPassive:p,onScrollend:y,style:[s.value,e.style]},[T("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:Ht(C.value),paddingBottom:Ht(I.value)}},[L])])}),{calculateVisibleItems:u,scrollToIndex:k}}});function RP(e,t){const n=Rt(!1);let r;function s(o){cancelAnimationFrame(r),n.value=!0,r=requestAnimationFrame(()=>{r=requestAnimationFrame(()=>{n.value=!1})})}async function u(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(n.value){const p=ct(n,()=>{p(),o()})}else o()})}async function h(o){var b,k;if(o.key==="Tab"&&((b=t.value)==null||b.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const p=(k=e.value)==null?void 0:k.$el;if(!p)return;(o.key==="Home"||o.key==="End")&&p.scrollTo({top:o.key==="Home"?0:p.scrollHeight,behavior:"smooth"}),await u();const y=p.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const C=p.getBoundingClientRect().top;for(const I of y)if(I.getBoundingClientRect().top>=C){I.focus();break}}else{const C=p.getBoundingClientRect().bottom;for(const I of[...y].reverse())if(I.getBoundingClientRect().bottom<=C){I.focus();break}}}return{onScrollPassive:s,onKeydown:h}}const OP=We({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:pn,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...gI({itemChildren:!1})},"Select"),mCe=We({...OP(),...Pr(Tm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Su({transition:{component:mx}})},"VSelect"),Ud=ht()({name:"VSelect",props:mCe(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=dt(),u=dt(),h=dt(),o=fn(e,"menu"),p=Y({get:()=>o.value,set:Ce=>{var Ve;o.value&&!Ce&&((Ve=u.value)!=null&&Ve.ΨopenChildren.size)||(o.value=Ce)}}),{items:y,transformIn:b,transformOut:k}=yI(e),C=fn(e,"modelValue",[],Ce=>b(Ce===null?[null]:Zr(Ce)),Ce=>{const Ve=k(Ce);return e.multiple?Ve:Ve[0]??null}),I=Y(()=>typeof e.counterValue=="function"?e.counterValue(C.value):typeof e.counterValue=="number"?e.counterValue:C.value.length),R=Av(),L=Y(()=>C.value.map(Ce=>Ce.value)),O=Rt(!1),B=Y(()=>p.value?e.closeText:e.openText);let q="",J;const ee=Y(()=>e.hideSelected?y.value.filter(Ce=>!C.value.some(Ve=>e.valueComparator(Ve,Ce))):y.value),ie=Y(()=>e.hideNoData&&!ee.value.length||e.readonly||(R==null?void 0:R.isReadonly.value)),re=Y(()=>{var Ce;return{...e.menuProps,activatorProps:{...((Ce=e.menuProps)==null?void 0:Ce.activatorProps)||{},"aria-haspopup":"listbox"}}}),le=dt(),H=RP(le,s);function $(Ce){e.openOnClear&&(p.value=!0)}function Z(){ie.value||(p.value=!p.value)}function ae(Ce){kb(Ce)&&te(Ce)}function te(Ce){var gt,Ct;if(!Ce.key||e.readonly||R!=null&&R.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(Ce.key)&&Ce.preventDefault(),["Enter","ArrowDown"," "].includes(Ce.key)&&(p.value=!0),["Escape","Tab"].includes(Ce.key)&&(p.value=!1),Ce.key==="Home"?(gt=le.value)==null||gt.focus("first"):Ce.key==="End"&&((Ct=le.value)==null||Ct.focus("last"));const Ve=1e3;if(e.multiple||!kb(Ce))return;const $e=performance.now();$e-J>Ve&&(q=""),q+=Ce.key.toLowerCase(),J=$e;const qe=y.value.find($t=>$t.title.toLowerCase().startsWith(q));if(qe!==void 0){C.value=[qe];const $t=ee.value.indexOf(qe);hr&&window.requestAnimationFrame(()=>{var vt;$t>=0&&((vt=h.value)==null||vt.scrollToIndex($t))})}}function be(Ce){let Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!Ce.props.disabled)if(e.multiple){const $e=C.value.findIndex(gt=>e.valueComparator(gt.value,Ce.value)),qe=Ve??!~$e;if(~$e){const gt=qe?[...C.value,Ce]:[...C.value];gt.splice($e,1),C.value=gt}else qe&&(C.value=[...C.value,Ce])}else{const $e=Ve!==!1;C.value=$e?[Ce]:[],Jn(()=>{p.value=!1})}}function me(Ce){var Ve;(Ve=le.value)!=null&&Ve.$el.contains(Ce.relatedTarget)||(p.value=!1)}function Pe(){var Ce;e.eager&&((Ce=h.value)==null||Ce.calculateVisibleItems())}function Ae(){var Ce;O.value&&((Ce=s.value)==null||Ce.focus())}function Ue(Ce){O.value=!0}function Fe(Ce){if(Ce==null)C.value=[];else if(zd(s.value,":autofill")||zd(s.value,":-webkit-autofill")){const Ve=y.value.find($e=>$e.title===Ce);Ve&&be(Ve)}else s.value&&(s.value.value="")}return ct(p,()=>{if(!e.hideSelected&&p.value&&C.value.length){const Ce=ee.value.findIndex(Ve=>C.value.some($e=>e.valueComparator($e.value,Ve.value)));hr&&window.requestAnimationFrame(()=>{var Ve;Ce>=0&&((Ve=h.value)==null||Ve.scrollToIndex(Ce))})}}),ct(()=>e.items,(Ce,Ve)=>{p.value||O.value&&!Ve.length&&Ce.length&&(p.value=!0)}),kt(()=>{const Ce=!!(e.chips||n.chip),Ve=!!(!e.hideNoData||ee.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),$e=C.value.length>0,qe=oi.filterProps(e),gt=$e||!O.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return T(oi,lt({ref:s},qe,{modelValue:C.value.map(Ct=>Ct.props.value).join(", "),"onUpdate:modelValue":Fe,focused:O.value,"onUpdate:focused":Ct=>O.value=Ct,validationValue:C.externalValue,counterValue:I.value,dirty:$e,class:["v-select",{"v-select--active-menu":p.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":C.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:gt,"onClick:clear":$,"onMousedown:control":Z,onBlur:me,onKeydown:te,"aria-label":r(B.value),title:r(B.value)}),{...n,default:()=>T(Gt,null,[T(Sx,lt({ref:u,modelValue:p.value,"onUpdate:modelValue":Ct=>p.value=Ct,activator:"parent",contentClass:"v-select__content",disabled:ie.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Pe,onAfterLeave:Ae},re.value),{default:()=>[Ve&&T(tm,lt({ref:le,selected:L.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:Ct=>Ct.preventDefault(),onKeydown:ae,onFocusin:Ue,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},H,e.listProps),{default:()=>{var Ct,$t,vt;return[(Ct=n["prepend-item"])==null?void 0:Ct.call(n),!ee.value.length&&!e.hideNoData&&((($t=n["no-data"])==null?void 0:$t.call(n))??T(Or,{title:r(e.noDataText)},null)),T(LP,{ref:h,renderless:!0,items:ee.value},{default:Ne=>{var It;let{item:et,index:je,itemRef:Qe}=Ne;const Je=lt(et.props,{ref:Qe,key:je,onClick:()=>be(et,null)});return((It=n.item)==null?void 0:It.call(n,{item:et,index:je,props:Je}))??T(Or,lt(Je,{role:"option"}),{prepend:se=>{let{isSelected:fe}=se;return T(Gt,null,[e.multiple&&!e.hideSelected?T(Xd,{key:et.value,modelValue:fe,ripple:!1,tabindex:"-1"},null):void 0,et.props.prependAvatar&&T(Mo,{image:et.props.prependAvatar},null),et.props.prependIcon&&T(rr,{icon:et.props.prependIcon},null)])}})}}),(vt=n["append-item"])==null?void 0:vt.call(n)]}})]}),C.value.map((Ct,$t)=>{function vt(Qe){Qe.stopPropagation(),Qe.preventDefault(),be(Ct,!1)}const Ne={"onClick:close":vt,onKeydown(Qe){Qe.key!=="Enter"&&Qe.key!==" "||(Qe.preventDefault(),Qe.stopPropagation(),vt(Qe))},onMousedown(Qe){Qe.preventDefault(),Qe.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},et=Ce?!!n.chip:!!n.selection,je=et?ex(Ce?n.chip({item:Ct,index:$t,props:Ne}):n.selection({item:Ct,index:$t})):void 0;if(!(et&&!je))return T("div",{key:Ct.value,class:"v-select__selection"},[Ce?n.chip?T(Bn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:Ct.title}}},{default:()=>[je]}):T(vl,lt({key:"chip",closable:e.closableChips,size:"small",text:Ct.title,disabled:Ct.props.disabled},Ne),null):je??T("span",{class:"v-select__selection-text"},[Ct.title,e.multiple&&$t<C.value.length-1&&T("span",{class:"v-select__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var Ne;for(var Ct=arguments.length,$t=new Array(Ct),vt=0;vt<Ct;vt++)$t[vt]=arguments[vt];return T(Gt,null,[(Ne=n["append-inner"])==null?void 0:Ne.call(n,...$t),e.menuIcon?T(rr,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),lo({isFocused:O,menu:p,select:be},s)}});function pCe(e,t,n){if(t==null)return e;if(Array.isArray(t))throw new Error("Multiple matches is not implemented");return typeof t=="number"&&~t?T(Gt,null,[T("span",{class:"v-autocomplete__unmask"},[e.substr(0,t)]),T("span",{class:"v-autocomplete__mask"},[e.substr(t,n)]),T("span",{class:"v-autocomplete__unmask"},[e.substr(t+n)])]):e}const gCe=We({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...Bx({filterKeys:["title"]}),...OP(),...Pr(Tm({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Su({transition:!1})},"VAutocomplete"),vCe=ht()({name:"VAutocomplete",props:gCe(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,t){let{slots:n}=t;const{t:r}=li(),s=dt(),u=Rt(!1),h=Rt(!0),o=Rt(!1),p=dt(),y=dt(),b=fn(e,"menu"),k=Y({get:()=>b.value,set:Je=>{var It;b.value&&!Je&&((It=p.value)!=null&&It.ΨopenChildren.size)||(b.value=Je)}}),C=Rt(-1),I=Y(()=>{var Je;return(Je=s.value)==null?void 0:Je.color}),R=Y(()=>k.value?e.closeText:e.openText),{items:L,transformIn:O,transformOut:B}=yI(e),{textColorClasses:q,textColorStyles:J}=Ga(I),ee=fn(e,"search",""),ie=fn(e,"modelValue",[],Je=>O(Je===null?[null]:Zr(Je)),Je=>{const It=B(Je);return e.multiple?It:It[0]??null}),re=Y(()=>typeof e.counterValue=="function"?e.counterValue(ie.value):typeof e.counterValue=="number"?e.counterValue:ie.value.length),le=Av(),{filteredItems:H,getMatches:$}=Vx(e,L,()=>h.value?"":ee.value),Z=Y(()=>e.hideSelected?H.value.filter(Je=>!ie.value.some(It=>It.value===Je.value)):H.value),ae=Y(()=>!!(e.chips||n.chip)),te=Y(()=>ae.value||!!n.selection),be=Y(()=>ie.value.map(Je=>Je.props.value)),me=Y(()=>{var It;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&ee.value===((It=Z.value[0])==null?void 0:It.title))&&Z.value.length>0&&!h.value&&!o.value}),Pe=Y(()=>e.hideNoData&&!Z.value.length||e.readonly||(le==null?void 0:le.isReadonly.value)),Ae=dt(),Ue=RP(Ae,s);function Fe(Je){e.openOnClear&&(k.value=!0),ee.value=""}function Ce(){Pe.value||(k.value=!0)}function Ve(Je){Pe.value||(u.value&&(Je.preventDefault(),Je.stopPropagation()),k.value=!k.value)}function $e(Je){var It;kb(Je)&&((It=s.value)==null||It.focus())}function qe(Je){var fe,Me,Xe;if(e.readonly||le!=null&&le.isReadonly.value)return;const It=s.value.selectionStart,se=ie.value.length;if((C.value>-1||["Enter","ArrowDown","ArrowUp"].includes(Je.key))&&Je.preventDefault(),["Enter","ArrowDown"].includes(Je.key)&&(k.value=!0),["Escape"].includes(Je.key)&&(k.value=!1),me.value&&["Enter","Tab"].includes(Je.key)&&!ie.value.some(Ze=>{let{value:tt}=Ze;return tt===Z.value[0].value})&&Qe(Z.value[0]),Je.key==="ArrowDown"&&me.value&&((fe=Ae.value)==null||fe.focus("next")),["Backspace","Delete"].includes(Je.key)){if(!e.multiple&&te.value&&ie.value.length>0&&!ee.value)return Qe(ie.value[0],!1);if(~C.value){const Ze=C.value;Qe(ie.value[C.value],!1),C.value=Ze>=se-1?se-2:Ze}else Je.key==="Backspace"&&!ee.value&&(C.value=se-1)}if(e.multiple){if(Je.key==="ArrowLeft"){if(C.value<0&&It>0)return;const Ze=C.value>-1?C.value-1:se-1;ie.value[Ze]?C.value=Ze:(C.value=-1,s.value.setSelectionRange((Me=ee.value)==null?void 0:Me.length,(Xe=ee.value)==null?void 0:Xe.length))}if(Je.key==="ArrowRight"){if(C.value<0)return;const Ze=C.value+1;ie.value[Ze]?C.value=Ze:(C.value=-1,s.value.setSelectionRange(0,0))}}}function gt(Je){if(zd(s.value,":autofill")||zd(s.value,":-webkit-autofill")){const It=L.value.find(se=>se.title===Je.target.value);It&&Qe(It)}}function Ct(){var Je;e.eager&&((Je=y.value)==null||Je.calculateVisibleItems())}function $t(){var Je;u.value&&(h.value=!0,(Je=s.value)==null||Je.focus())}function vt(Je){u.value=!0,setTimeout(()=>{o.value=!0})}function Ne(Je){o.value=!1}function et(Je){(Je==null||Je===""&&!e.multiple&&!te.value)&&(ie.value=[])}const je=Rt(!1);function Qe(Je){let It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!Je||Je.props.disabled))if(e.multiple){const se=ie.value.findIndex(Me=>e.valueComparator(Me.value,Je.value)),fe=It??!~se;if(~se){const Me=fe?[...ie.value,Je]:[...ie.value];Me.splice(se,1),ie.value=Me}else fe&&(ie.value=[...ie.value,Je]);e.clearOnSelect&&(ee.value="")}else{const se=It!==!1;ie.value=se?[Je]:[],ee.value=se&&!te.value?Je.title:"",Jn(()=>{k.value=!1,h.value=!0})}}return ct(u,(Je,It)=>{var se;Je!==It&&(Je?(je.value=!0,ee.value=e.multiple||te.value?"":String(((se=ie.value.at(-1))==null?void 0:se.props.title)??""),h.value=!0,Jn(()=>je.value=!1)):(!e.multiple&&ee.value==null&&(ie.value=[]),k.value=!1,ie.value.some(fe=>{let{title:Me}=fe;return Me===ee.value})||(ee.value=""),C.value=-1))}),ct(ee,Je=>{!u.value||je.value||(Je&&(k.value=!0),h.value=!Je)}),ct(k,()=>{if(!e.hideSelected&&k.value&&ie.value.length){const Je=Z.value.findIndex(It=>ie.value.some(se=>It.value===se.value));hr&&window.requestAnimationFrame(()=>{var It;Je>=0&&((It=y.value)==null||It.scrollToIndex(Je))})}}),ct(()=>e.items,(Je,It)=>{k.value||u.value&&!It.length&&Je.length&&(k.value=!0)}),kt(()=>{const Je=!!(!e.hideNoData||Z.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),It=ie.value.length>0,se=oi.filterProps(e);return T(oi,lt({ref:s},se,{modelValue:ee.value,"onUpdate:modelValue":[fe=>ee.value=fe,et],focused:u.value,"onUpdate:focused":fe=>u.value=fe,validationValue:ie.externalValue,counterValue:re.value,dirty:It,onChange:gt,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":k.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!te.value,"v-autocomplete--selecting-index":C.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:It?void 0:e.placeholder,"onClick:clear":Fe,"onMousedown:control":Ce,onKeydown:qe}),{...n,default:()=>T(Gt,null,[T(Sx,lt({ref:p,modelValue:k.value,"onUpdate:modelValue":fe=>k.value=fe,activator:"parent",contentClass:"v-autocomplete__content",disabled:Pe.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Ct,onAfterLeave:$t},e.menuProps),{default:()=>[Je&&T(tm,lt({ref:Ae,selected:be.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:fe=>fe.preventDefault(),onKeydown:$e,onFocusin:vt,onFocusout:Ne,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Ue,e.listProps),{default:()=>{var fe,Me,Xe;return[(fe=n["prepend-item"])==null?void 0:fe.call(n),!Z.value.length&&!e.hideNoData&&(((Me=n["no-data"])==null?void 0:Me.call(n))??T(Or,{title:r(e.noDataText)},null)),T(LP,{ref:y,renderless:!0,items:Z.value},{default:Ze=>{var nt;let{item:tt,index:Tt,itemRef:ke}=Ze;const yt=lt(tt.props,{ref:ke,key:Tt,active:me.value&&Tt===0?!0:void 0,onClick:()=>Qe(tt,null)});return((nt=n.item)==null?void 0:nt.call(n,{item:tt,index:Tt,props:yt}))??T(Or,lt(yt,{role:"option"}),{prepend:St=>{let{isSelected:ft}=St;return T(Gt,null,[e.multiple&&!e.hideSelected?T(Xd,{key:tt.value,modelValue:ft,ripple:!1,tabindex:"-1"},null):void 0,tt.props.prependAvatar&&T(Mo,{image:tt.props.prependAvatar},null),tt.props.prependIcon&&T(rr,{icon:tt.props.prependIcon},null)])},title:()=>{var St,ft;return h.value?tt.title:pCe(tt.title,(St=$(tt))==null?void 0:St.title,((ft=ee.value)==null?void 0:ft.length)??0)}})}}),(Xe=n["append-item"])==null?void 0:Xe.call(n)]}})]}),ie.value.map((fe,Me)=>{function Xe(ke){ke.stopPropagation(),ke.preventDefault(),Qe(fe,!1)}const Ze={"onClick:close":Xe,onKeydown(ke){ke.key!=="Enter"&&ke.key!==" "||(ke.preventDefault(),ke.stopPropagation(),Xe(ke))},onMousedown(ke){ke.preventDefault(),ke.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},tt=ae.value?!!n.chip:!!n.selection,Tt=tt?ex(ae.value?n.chip({item:fe,index:Me,props:Ze}):n.selection({item:fe,index:Me})):void 0;if(!(tt&&!Tt))return T("div",{key:fe.value,class:["v-autocomplete__selection",Me===C.value&&["v-autocomplete__selection--selected",q.value]],style:Me===C.value?J.value:{}},[ae.value?n.chip?T(Bn,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:fe.title}}},{default:()=>[Tt]}):T(vl,lt({key:"chip",closable:e.closableChips,size:"small",text:fe.title,disabled:fe.props.disabled},Ze),null):Tt??T("span",{class:"v-autocomplete__selection-text"},[fe.title,e.multiple&&Me<ie.value.length-1&&T("span",{class:"v-autocomplete__selection-comma"},[zt(",")])])])})]),"append-inner":function(){var Ze;for(var fe=arguments.length,Me=new Array(fe),Xe=0;Xe<fe;Xe++)Me[Xe]=arguments[Xe];return T(Gt,null,[(Ze=n["append-inner"])==null?void 0:Ze.call(n,...Me),e.menuIcon?T(rr,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Ve,onClick:BF,"aria-label":r(R.value),title:r(R.value),tabindex:"-1"},null):void 0])}})}),lo({isFocused:u,isPristine:h,menu:k,search:ee,filteredItems:H,select:Qe},s)}}),yCe={data(){return{libraryServices:[],selectedService:null}},created(){this.libraryServices=this.$store.state.libraryServices,this.libraryServices.length===0&&this.getServices()},methods:{deselectService(){this.selectedService=null,this.$emit("select",null)},async getServices(){let e=await _P();e=e.sort((t,n)=>t.nice_name.localeCompare(n.nice_name)),this.$store.commit("setServices",e),this.libraryServices=e},updateSelection(e){this.selectedService=e,this.$emit("select",this.selectedService)}}};function _Ce(e,t,n,r,s,u){return mn(),Nn(ua,{elevation:"0",color:"grey-lighten-5"},{default:Ie(()=>[t[1]||(t[1]=Yn("div",{class:"text-caption pa-3"},"Select local authority",-1)),T(vCe,{"persistent-hint":"",variant:"outlined","bg-color":"white",class:"elevation-0",clearable:"",items:s.libraryServices,"item-title":"nice_name","item-value":"code",label:"Select local library authority","return-object":"",loading:s.libraryServices.length===0,"prepend-inner-icon":"mdi-domain","onUpdate:modelValue":u.updateSelection,hint:"You can type to search library services."},null,8,["items","loading","onUpdate:modelValue"]),s.selectedService!=null?(mn(),Nn(vl,{key:0,class:"ma-2",closable:"","onClick:close":t[0]||(t[0]=h=>u.deselectService())},{default:Ie(()=>[zt(Cs(s.selectedService.nice_name),1)]),_:1})):Zn("",!0)]),_:1})}const qv=ni(yCe,[["render",_Ce]]),bCe=`This tool allows you to view and edit library service points, grouped by local authority. To make changes you must first [Log in](/login). At the end you must **publish changes** to ensure you overwrite the existing data.
`;var FP={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){(function(n,r){e.exports=r()})(Xc,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s=!r.document&&!!r.postMessage,u=r.IS_PAPA_WORKER||!1,h={},o=0,p={parse:function(H,$){var Z=($=$||{}).dynamicTyping||!1;if(le(Z)&&($.dynamicTypingFunction=Z,Z={}),$.dynamicTyping=Z,$.transform=!!le($.transform)&&$.transform,$.worker&&p.WORKERS_SUPPORTED){var ae=function(){if(!p.WORKERS_SUPPORTED)return!1;var be=(Pe=r.URL||r.webkitURL||null,Ae=n.toString(),p.BLOB_URL||(p.BLOB_URL=Pe.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Ae,")();"],{type:"text/javascript"})))),me=new r.Worker(be),Pe,Ae;return me.onmessage=q,me.id=o++,h[me.id]=me}();return ae.userStep=$.step,ae.userChunk=$.chunk,ae.userComplete=$.complete,ae.userError=$.error,$.step=le($.step),$.chunk=le($.chunk),$.complete=le($.complete),$.error=le($.error),delete $.worker,void ae.postMessage({input:H,config:$,workerId:ae.id})}var te=null;return p.NODE_STREAM_INPUT,typeof H=="string"?(H=function(be){return be.charCodeAt(0)===65279?be.slice(1):be}(H),te=$.download?new k($):new I($)):H.readable===!0&&le(H.read)&&le(H.on)?te=new R($):(r.File&&H instanceof File||H instanceof Object)&&(te=new C($)),te.stream(H)},unparse:function(H,$){var Z=!1,ae=!0,te=",",be=`\r
`,me='"',Pe=me+me,Ae=!1,Ue=null,Fe=!1;(function(){if(typeof $=="object"){if(typeof $.delimiter!="string"||p.BAD_DELIMITERS.filter(function(qe){return $.delimiter.indexOf(qe)!==-1}).length||(te=$.delimiter),(typeof $.quotes=="boolean"||typeof $.quotes=="function"||Array.isArray($.quotes))&&(Z=$.quotes),typeof $.skipEmptyLines!="boolean"&&typeof $.skipEmptyLines!="string"||(Ae=$.skipEmptyLines),typeof $.newline=="string"&&(be=$.newline),typeof $.quoteChar=="string"&&(me=$.quoteChar),typeof $.header=="boolean"&&(ae=$.header),Array.isArray($.columns)){if($.columns.length===0)throw new Error("Option columns is empty");Ue=$.columns}$.escapeChar!==void 0&&(Pe=$.escapeChar+me),(typeof $.escapeFormulae=="boolean"||$.escapeFormulae instanceof RegExp)&&(Fe=$.escapeFormulae instanceof RegExp?$.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var Ce=new RegExp(O(me),"g");if(typeof H=="string"&&(H=JSON.parse(H)),Array.isArray(H)){if(!H.length||Array.isArray(H[0]))return Ve(null,H,Ae);if(typeof H[0]=="object")return Ve(Ue||Object.keys(H[0]),H,Ae)}else if(typeof H=="object")return typeof H.data=="string"&&(H.data=JSON.parse(H.data)),Array.isArray(H.data)&&(H.fields||(H.fields=H.meta&&H.meta.fields||Ue),H.fields||(H.fields=Array.isArray(H.data[0])?H.fields:typeof H.data[0]=="object"?Object.keys(H.data[0]):[]),Array.isArray(H.data[0])||typeof H.data[0]=="object"||(H.data=[H.data])),Ve(H.fields||[],H.data||[],Ae);throw new Error("Unable to serialize unrecognized input");function Ve(qe,gt,Ct){var $t="";typeof qe=="string"&&(qe=JSON.parse(qe)),typeof gt=="string"&&(gt=JSON.parse(gt));var vt=Array.isArray(qe)&&0<qe.length,Ne=!Array.isArray(gt[0]);if(vt&&ae){for(var et=0;et<qe.length;et++)0<et&&($t+=te),$t+=$e(qe[et],et);0<gt.length&&($t+=be)}for(var je=0;je<gt.length;je++){var Qe=vt?qe.length:gt[je].length,Je=!1,It=vt?Object.keys(gt[je]).length===0:gt[je].length===0;if(Ct&&!vt&&(Je=Ct==="greedy"?gt[je].join("").trim()==="":gt[je].length===1&&gt[je][0].length===0),Ct==="greedy"&&vt){for(var se=[],fe=0;fe<Qe;fe++){var Me=Ne?qe[fe]:fe;se.push(gt[je][Me])}Je=se.join("").trim()===""}if(!Je){for(var Xe=0;Xe<Qe;Xe++){0<Xe&&!It&&($t+=te);var Ze=vt&&Ne?qe[Xe]:Xe;$t+=$e(gt[je][Ze],Xe)}je<gt.length-1&&(!Ct||0<Qe&&!It)&&($t+=be)}}return $t}function $e(qe,gt){if(qe==null)return"";if(qe.constructor===Date)return JSON.stringify(qe).slice(1,25);var Ct=!1;Fe&&typeof qe=="string"&&Fe.test(qe)&&(qe="'"+qe,Ct=!0);var $t=qe.toString().replace(Ce,Pe);return(Ct=Ct||Z===!0||typeof Z=="function"&&Z(qe,gt)||Array.isArray(Z)&&Z[gt]||function(vt,Ne){for(var et=0;et<Ne.length;et++)if(-1<vt.indexOf(Ne[et]))return!0;return!1}($t,p.BAD_DELIMITERS)||-1<$t.indexOf(te)||$t.charAt(0)===" "||$t.charAt($t.length-1)===" ")?me+$t+me:$t}}};if(p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!s&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=B,p.ParserHandle=L,p.NetworkStreamer=k,p.FileStreamer=C,p.StringStreamer=I,p.ReadableStreamStreamer=R,r.jQuery){var y=r.jQuery;y.fn.parse=function(H){var $=H.config||{},Z=[];return this.each(function(be){if(!(y(this).prop("tagName").toUpperCase()==="INPUT"&&y(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var me=0;me<this.files.length;me++)Z.push({file:this.files[me],inputElem:this,instanceConfig:y.extend({},$)})}),ae(),this;function ae(){if(Z.length!==0){var be,me,Pe,Ae,Ue=Z[0];if(le(H.before)){var Fe=H.before(Ue.file,Ue.inputElem);if(typeof Fe=="object"){if(Fe.action==="abort")return be="AbortError",me=Ue.file,Pe=Ue.inputElem,Ae=Fe.reason,void(le(H.error)&&H.error({name:be},me,Pe,Ae));if(Fe.action==="skip")return void te();typeof Fe.config=="object"&&(Ue.instanceConfig=y.extend(Ue.instanceConfig,Fe.config))}else if(Fe==="skip")return void te()}var Ce=Ue.instanceConfig.complete;Ue.instanceConfig.complete=function(Ve){le(Ce)&&Ce(Ve,Ue.file,Ue.inputElem),te()},p.parse(Ue.file,Ue.instanceConfig)}else le(H.complete)&&H.complete()}function te(){Z.splice(0,1),ae()}}}function b(H){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function($){var Z=ie($);Z.chunkSize=parseInt(Z.chunkSize),$.step||$.chunk||(Z.chunkSize=null),this._handle=new L(Z),(this._handle.streamer=this)._config=Z}).call(this,H),this.parseChunk=function($,Z){if(this.isFirstChunk&&le(this._config.beforeFirstChunk)){var ae=this._config.beforeFirstChunk($);ae!==void 0&&($=ae)}this.isFirstChunk=!1,this._halted=!1;var te=this._partialLine+$;this._partialLine="";var be=this._handle.parse(te,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var me=be.meta.cursor;this._finished||(this._partialLine=te.substring(me-this._baseIndex),this._baseIndex=me),be&&be.data&&(this._rowCount+=be.data.length);var Pe=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(u)r.postMessage({results:be,workerId:p.WORKER_ID,finished:Pe});else if(le(this._config.chunk)&&!Z){if(this._config.chunk(be,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);be=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(be.data),this._completeResults.errors=this._completeResults.errors.concat(be.errors),this._completeResults.meta=be.meta),this._completed||!Pe||!le(this._config.complete)||be&&be.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Pe||be&&be.meta.paused||this._nextChunk(),be}this._halted=!0},this._sendError=function($){le(this._config.error)?this._config.error($):u&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:$,finished:!1})}}function k(H){var $;(H=H||{}).chunkSize||(H.chunkSize=p.RemoteChunkSize),b.call(this,H),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(Z){this._input=Z,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if($=new XMLHttpRequest,this._config.withCredentials&&($.withCredentials=this._config.withCredentials),s||($.onload=re(this._chunkLoaded,this),$.onerror=re(this._chunkError,this)),$.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var Z=this._config.downloadRequestHeaders;for(var ae in Z)$.setRequestHeader(ae,Z[ae])}if(this._config.chunkSize){var te=this._start+this._config.chunkSize-1;$.setRequestHeader("Range","bytes="+this._start+"-"+te)}try{$.send(this._config.downloadRequestBody)}catch(be){this._chunkError(be.message)}s&&$.status===0&&this._chunkError()}},this._chunkLoaded=function(){$.readyState===4&&($.status<200||400<=$.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:$.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(Z){var ae=Z.getResponseHeader("Content-Range");return ae===null?-1:parseInt(ae.substring(ae.lastIndexOf("/")+1))}($),this.parseChunk($.responseText)))},this._chunkError=function(Z){var ae=$.statusText||Z;this._sendError(new Error(ae))}}function C(H){var $,Z;(H=H||{}).chunkSize||(H.chunkSize=p.LocalChunkSize),b.call(this,H);var ae=typeof FileReader<"u";this.stream=function(te){this._input=te,Z=te.slice||te.webkitSlice||te.mozSlice,ae?(($=new FileReader).onload=re(this._chunkLoaded,this),$.onerror=re(this._chunkError,this)):$=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var te=this._input;if(this._config.chunkSize){var be=Math.min(this._start+this._config.chunkSize,this._input.size);te=Z.call(te,this._start,be)}var me=$.readAsText(te,this._config.encoding);ae||this._chunkLoaded({target:{result:me}})},this._chunkLoaded=function(te){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(te.target.result)},this._chunkError=function(){this._sendError($.error)}}function I(H){var $;b.call(this,H=H||{}),this.stream=function(Z){return $=Z,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var Z,ae=this._config.chunkSize;return ae?(Z=$.substring(0,ae),$=$.substring(ae)):(Z=$,$=""),this._finished=!$,this.parseChunk(Z)}}}function R(H){b.call(this,H=H||{});var $=[],Z=!0,ae=!1;this.pause=function(){b.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){b.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(te){this._input=te,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){ae&&$.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),$.length?this.parseChunk($.shift()):Z=!0},this._streamData=re(function(te){try{$.push(typeof te=="string"?te:te.toString(this._config.encoding)),Z&&(Z=!1,this._checkIsFinished(),this.parseChunk($.shift()))}catch(be){this._streamError(be)}},this),this._streamError=re(function(te){this._streamCleanUp(),this._sendError(te)},this),this._streamEnd=re(function(){this._streamCleanUp(),ae=!0,this._streamData("")},this),this._streamCleanUp=re(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function L(H){var $,Z,ae,te=Math.pow(2,53),be=-te,me=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Pe=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Ae=this,Ue=0,Fe=0,Ce=!1,Ve=!1,$e=[],qe={data:[],errors:[],meta:{}};if(le(H.step)){var gt=H.step;H.step=function(je){if(qe=je,vt())$t();else{if($t(),qe.data.length===0)return;Ue+=je.data.length,H.preview&&Ue>H.preview?Z.abort():(qe.data=qe.data[0],gt(qe,Ae))}}}function Ct(je){return H.skipEmptyLines==="greedy"?je.join("").trim()==="":je.length===1&&je[0].length===0}function $t(){return qe&&ae&&(et("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),ae=!1),H.skipEmptyLines&&(qe.data=qe.data.filter(function(je){return!Ct(je)})),vt()&&function(){if(!qe)return;function je(Je,It){le(H.transformHeader)&&(Je=H.transformHeader(Je,It)),$e.push(Je)}if(Array.isArray(qe.data[0])){for(var Qe=0;vt()&&Qe<qe.data.length;Qe++)qe.data[Qe].forEach(je);qe.data.splice(0,1)}else qe.data.forEach(je)}(),function(){if(!qe||!H.header&&!H.dynamicTyping&&!H.transform)return qe;function je(Je,It){var se,fe=H.header?{}:[];for(se=0;se<Je.length;se++){var Me=se,Xe=Je[se];H.header&&(Me=se>=$e.length?"__parsed_extra":$e[se]),H.transform&&(Xe=H.transform(Xe,Me)),Xe=Ne(Me,Xe),Me==="__parsed_extra"?(fe[Me]=fe[Me]||[],fe[Me].push(Xe)):fe[Me]=Xe}return H.header&&(se>$e.length?et("FieldMismatch","TooManyFields","Too many fields: expected "+$e.length+" fields but parsed "+se,Fe+It):se<$e.length&&et("FieldMismatch","TooFewFields","Too few fields: expected "+$e.length+" fields but parsed "+se,Fe+It)),fe}var Qe=1;return!qe.data.length||Array.isArray(qe.data[0])?(qe.data=qe.data.map(je),Qe=qe.data.length):qe.data=je(qe.data,0),H.header&&qe.meta&&(qe.meta.fields=$e),Fe+=Qe,qe}()}function vt(){return H.header&&$e.length===0}function Ne(je,Qe){return Je=je,H.dynamicTypingFunction&&H.dynamicTyping[Je]===void 0&&(H.dynamicTyping[Je]=H.dynamicTypingFunction(Je)),(H.dynamicTyping[Je]||H.dynamicTyping)===!0?Qe==="true"||Qe==="TRUE"||Qe!=="false"&&Qe!=="FALSE"&&(function(It){if(me.test(It)){var se=parseFloat(It);if(be<se&&se<te)return!0}return!1}(Qe)?parseFloat(Qe):Pe.test(Qe)?new Date(Qe):Qe===""?null:Qe):Qe;var Je}function et(je,Qe,Je,It){var se={type:je,code:Qe,message:Je};It!==void 0&&(se.row=It),qe.errors.push(se)}this.parse=function(je,Qe,Je){var It=H.quoteChar||'"';if(H.newline||(H.newline=function(Me,Xe){Me=Me.substring(0,1048576);var Ze=new RegExp(O(Xe)+"([^]*?)"+O(Xe),"gm"),tt=(Me=Me.replace(Ze,"")).split("\r"),Tt=Me.split(`
`),ke=1<Tt.length&&Tt[0].length<tt[0].length;if(tt.length===1||ke)return`
`;for(var yt=0,nt=0;nt<tt.length;nt++)tt[nt][0]===`
`&&yt++;return yt>=tt.length/2?`\r
`:"\r"}(je,It)),ae=!1,H.delimiter)le(H.delimiter)&&(H.delimiter=H.delimiter(je),qe.meta.delimiter=H.delimiter);else{var se=function(Me,Xe,Ze,tt,Tt){var ke,yt,nt,St;Tt=Tt||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var ft=0;ft<Tt.length;ft++){var Pt=Tt[ft],sn=0,cn=0,Ln=0;nt=void 0;for(var wn=new B({comments:tt,delimiter:Pt,newline:Xe,preview:10}).parse(Me),er=0;er<wn.data.length;er++)if(Ze&&Ct(wn.data[er]))Ln++;else{var jn=wn.data[er].length;cn+=jn,nt!==void 0?0<jn&&(sn+=Math.abs(jn-nt),nt=jn):nt=jn}0<wn.data.length&&(cn/=wn.data.length-Ln),(yt===void 0||sn<=yt)&&(St===void 0||St<cn)&&1.99<cn&&(yt=sn,ke=Pt,St=cn)}return{successful:!!(H.delimiter=ke),bestDelimiter:ke}}(je,H.newline,H.skipEmptyLines,H.comments,H.delimitersToGuess);se.successful?H.delimiter=se.bestDelimiter:(ae=!0,H.delimiter=p.DefaultDelimiter),qe.meta.delimiter=H.delimiter}var fe=ie(H);return H.preview&&H.header&&fe.preview++,$=je,Z=new B(fe),qe=Z.parse($,Qe,Je),$t(),Ce?{meta:{paused:!0}}:qe||{meta:{paused:!1}}},this.paused=function(){return Ce},this.pause=function(){Ce=!0,Z.abort(),$=le(H.chunk)?"":$.substring(Z.getCharIndex())},this.resume=function(){Ae.streamer._halted?(Ce=!1,Ae.streamer.parseChunk($,!0)):setTimeout(Ae.resume,3)},this.aborted=function(){return Ve},this.abort=function(){Ve=!0,Z.abort(),qe.meta.aborted=!0,le(H.complete)&&H.complete(qe),$=""}}function O(H){return H.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function B(H){var $,Z=(H=H||{}).delimiter,ae=H.newline,te=H.comments,be=H.step,me=H.preview,Pe=H.fastMode,Ae=$=H.quoteChar===void 0||H.quoteChar===null?'"':H.quoteChar;if(H.escapeChar!==void 0&&(Ae=H.escapeChar),(typeof Z!="string"||-1<p.BAD_DELIMITERS.indexOf(Z))&&(Z=","),te===Z)throw new Error("Comment character same as delimiter");te===!0?te="#":(typeof te!="string"||-1<p.BAD_DELIMITERS.indexOf(te))&&(te=!1),ae!==`
`&&ae!=="\r"&&ae!==`\r
`&&(ae=`
`);var Ue=0,Fe=!1;this.parse=function(Ce,Ve,$e){if(typeof Ce!="string")throw new Error("Input must be a string");var qe=Ce.length,gt=Z.length,Ct=ae.length,$t=te.length,vt=le(be),Ne=[],et=[],je=[],Qe=Ue=0;if(!Ce)return mt();if(H.header&&!Ve){var Je=Ce.split(ae)[0].split(Z),It=[],se={},fe=!1;for(var Me in Je){var Xe=Je[Me];le(H.transformHeader)&&(Xe=H.transformHeader(Xe,Me));var Ze=Xe,tt=se[Xe]||0;for(0<tt&&(fe=!0,Ze=Xe+"_"+tt),se[Xe]=tt+1;It.includes(Ze);)Ze=Ze+"_"+tt;It.push(Ze)}if(fe){var Tt=Ce.split(ae);Tt[0]=It.join(Z),Ce=Tt.join(ae)}}if(Pe||Pe!==!1&&Ce.indexOf($)===-1){for(var ke=Ce.split(ae),yt=0;yt<ke.length;yt++){if(je=ke[yt],Ue+=je.length,yt!==ke.length-1)Ue+=ae.length;else if($e)return mt();if(!te||je.substring(0,$t)!==te){if(vt){if(Ne=[],Ln(je.split(Z)),sr(),Fe)return mt()}else Ln(je.split(Z));if(me&&me<=yt)return Ne=Ne.slice(0,me),mt(!0)}}return mt()}for(var nt=Ce.indexOf(Z,Ue),St=Ce.indexOf(ae,Ue),ft=new RegExp(O(Ae)+O($),"g"),Pt=Ce.indexOf($,Ue);;)if(Ce[Ue]!==$)if(te&&je.length===0&&Ce.substring(Ue,Ue+$t)===te){if(St===-1)return mt();Ue=St+Ct,St=Ce.indexOf(ae,Ue),nt=Ce.indexOf(Z,Ue)}else if(nt!==-1&&(nt<St||St===-1))je.push(Ce.substring(Ue,nt)),Ue=nt+gt,nt=Ce.indexOf(Z,Ue);else{if(St===-1)break;if(je.push(Ce.substring(Ue,St)),jn(St+Ct),vt&&(sr(),Fe))return mt();if(me&&Ne.length>=me)return mt(!0)}else for(Pt=Ue,Ue++;;){if((Pt=Ce.indexOf($,Pt+1))===-1)return $e||et.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ne.length,index:Ue}),er();if(Pt===qe-1)return er(Ce.substring(Ue,Pt).replace(ft,$));if($!==Ae||Ce[Pt+1]!==Ae){if($===Ae||Pt===0||Ce[Pt-1]!==Ae){nt!==-1&&nt<Pt+1&&(nt=Ce.indexOf(Z,Pt+1)),St!==-1&&St<Pt+1&&(St=Ce.indexOf(ae,Pt+1));var sn=wn(St===-1?nt:Math.min(nt,St));if(Ce.substr(Pt+1+sn,gt)===Z){je.push(Ce.substring(Ue,Pt).replace(ft,$)),Ce[Ue=Pt+1+sn+gt]!==$&&(Pt=Ce.indexOf($,Ue)),nt=Ce.indexOf(Z,Ue),St=Ce.indexOf(ae,Ue);break}var cn=wn(St);if(Ce.substring(Pt+1+cn,Pt+1+cn+Ct)===ae){if(je.push(Ce.substring(Ue,Pt).replace(ft,$)),jn(Pt+1+cn+Ct),nt=Ce.indexOf(Z,Ue),Pt=Ce.indexOf($,Ue),vt&&(sr(),Fe))return mt();if(me&&Ne.length>=me)return mt(!0);break}et.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ne.length,index:Ue}),Pt++}}else Pt++}return er();function Ln(Tn){Ne.push(Tn),Qe=Ue}function wn(Tn){var ga=0;if(Tn!==-1){var mr=Ce.substring(Pt+1,Tn);mr&&mr.trim()===""&&(ga=mr.length)}return ga}function er(Tn){return $e||(Tn===void 0&&(Tn=Ce.substring(Ue)),je.push(Tn),Ue=qe,Ln(je),vt&&sr()),mt()}function jn(Tn){Ue=Tn,Ln(je),je=[],St=Ce.indexOf(ae,Ue)}function mt(Tn){return{data:Ne,errors:et,meta:{delimiter:Z,linebreak:ae,aborted:Fe,truncated:!!Tn,cursor:Qe+(Ve||0)}}}function sr(){be(mt()),Ne=[],et=[]}},this.abort=function(){Fe=!0},this.getCharIndex=function(){return Ue}}function q(H){var $=H.data,Z=h[$.workerId],ae=!1;if($.error)Z.userError($.error,$.file);else if($.results&&$.results.data){var te={abort:function(){ae=!0,J($.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ee,resume:ee};if(le(Z.userStep)){for(var be=0;be<$.results.data.length&&(Z.userStep({data:$.results.data[be],errors:$.results.errors,meta:$.results.meta},te),!ae);be++);delete $.results}else le(Z.userChunk)&&(Z.userChunk($.results,te,$.file),delete $.results)}$.finished&&!ae&&J($.workerId,$.results)}function J(H,$){var Z=h[H];le(Z.userComplete)&&Z.userComplete($),Z.terminate(),delete h[H]}function ee(){throw new Error("Not implemented.")}function ie(H){if(typeof H!="object"||H===null)return H;var $=Array.isArray(H)?[]:{};for(var Z in H)$[Z]=ie(H[Z]);return $}function re(H,$){return function(){H.apply($,arguments)}}function le(H){return typeof H=="function"}return u&&(r.onmessage=function(H){var $=H.data;if(p.WORKER_ID===void 0&&$&&(p.WORKER_ID=$.workerId),typeof $.input=="string")r.postMessage({workerId:p.WORKER_ID,results:p.parse($.input,$.config),finished:!0});else if(r.File&&$.input instanceof File||$.input instanceof Object){var Z=p.parse($.input,$.config);Z&&r.postMessage({workerId:p.WORKER_ID,results:Z,finished:!0})}}),(k.prototype=Object.create(b.prototype)).constructor=k,(C.prototype=Object.create(b.prototype)).constructor=C,(I.prototype=Object.create(I.prototype)).constructor=I,(R.prototype=Object.create(b.prototype)).constructor=R,p})})(FP);var Kg=FP.exports;const i1=(e,t)=>new Promise(n=>{const r=[];Kg.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:s=>{r.push(s.data)},complete:()=>{n(r)}})}),xCe=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},n=await zr.get(e,t);return i1(n.data,!0)},wCe=async(e,t)=>{const n=`${yP}${e}/${t}`;return await xCe(n)},SCe=async(e,t,n,r)=>{const s=`${yP}${e}/${t}`;return(await zr.put(s,n,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"text/csv"}})).status===200},kCe=Hd("v-alert-title"),CCe=["success","info","warning","error"],TCe=We({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:pn,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>CCe.includes(e)},...un(),...Ya(),...os(),...cs(),...bu(),...gm(),...Mi(),...Kn(),...br(),...oo({variant:"flat"})},"VAlert"),ul=ht()({name:"VAlert",props:TCe(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=fn(e,"modelValue"),u=Y(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),h=Y(()=>({color:e.color??e.type,variant:e.variant})),{themeClasses:o}=Br(e),{colorClasses:p,colorStyles:y,variantClasses:b}=xu(h),{densityClasses:k}=Ms(e),{dimensionStyles:C}=ls(e),{elevationClasses:I}=Ds(e),{locationStyles:R}=Wd(e),{positionClasses:L}=vm(e),{roundedClasses:O}=$i(e),{textColorClasses:B,textColorStyles:q}=Ga(bt(e,"borderColor")),{t:J}=li(),ee=Y(()=>({"aria-label":J(e.closeLabel),onClick(ie){s.value=!1,n("click:close",ie)}}));return()=>{const ie=!!(r.prepend||u.value),re=!!(r.title||e.title),le=!!(r.close||e.closable);return s.value&&T(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},o.value,p.value,k.value,I.value,L.value,O.value,b.value,e.class],style:[y.value,C.value,R.value,e.style],role:"alert"},{default:()=>{var H,$;return[_c(!1,"v-alert"),e.border&&T("div",{key:"border",class:["v-alert__border",B.value],style:q.value},null),ie&&T("div",{key:"prepend",class:"v-alert__prepend"},[r.prepend?T(Bn,{key:"prepend-defaults",disabled:!u.value,defaults:{VIcon:{density:e.density,icon:u.value,size:e.prominent?44:28}}},r.prepend):T(rr,{key:"prepend-icon",density:e.density,icon:u.value,size:e.prominent?44:28},null)]),T("div",{class:"v-alert__content"},[re&&T(kCe,{key:"title"},{default:()=>{var Z;return[((Z=r.title)==null?void 0:Z.call(r))??e.title]}}),((H=r.text)==null?void 0:H.call(r))??e.text,($=r.default)==null?void 0:$.call(r)]),r.append&&T("div",{key:"append",class:"v-alert__append"},[r.append()]),le&&T("div",{key:"close",class:"v-alert__close"},[r.close?T(Bn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var Z;return[(Z=r.close)==null?void 0:Z.call(r,{props:ee.value})]}}):T(Jt,lt({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},ee.value),null)])]}})}}});function ACe(){const e=dt([]);PT(()=>e.value=[]);function t(n,r){e.value[r]=n}return{refs:e,updateRef:t}}const ECe=We({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:pn,default:"$first"},prevIcon:{type:pn,default:"$prev"},nextIcon:{type:pn,default:"$next"},lastIcon:{type:pn,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Ps(),...un(),...Ya(),...cs(),...Mi(),...Zd(),...Kn({tag:"nav"}),...br(),...oo({variant:"text"})},"VPagination"),k2=ht()({name:"VPagination",props:ECe(),emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=fn(e,"modelValue"),{t:u,n:h}=li(),{isRtl:o}=Wa(),{themeClasses:p}=Br(e),{width:y}=wl(),b=Rt(-1);ma(void 0,{scoped:!0});const{resizeRef:k}=uc(H=>{if(!H.length)return;const{target:$,contentRect:Z}=H[0],ae=$.querySelector(".v-pagination__list > *");if(!ae)return;const te=Z.width,be=ae.offsetWidth+parseFloat(getComputedStyle(ae).marginRight)*2;b.value=L(te,be)}),C=Y(()=>parseInt(e.length,10)),I=Y(()=>parseInt(e.start,10)),R=Y(()=>e.totalVisible!=null?parseInt(e.totalVisible,10):b.value>=0?b.value:L(y.value,58));function L(H,$){const Z=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((H-$*Z)/$).toFixed(2)))}const O=Y(()=>{if(C.value<=0||isNaN(C.value)||C.value>Number.MAX_SAFE_INTEGER)return[];if(R.value<=0)return[];if(R.value===1)return[s.value];if(C.value<=R.value)return Xs(C.value,I.value);const H=R.value%2===0,$=H?R.value/2:Math.floor(R.value/2),Z=H?$:$+1,ae=C.value-$;if(Z-s.value>=0)return[...Xs(Math.max(1,R.value-1),I.value),e.ellipsis,C.value];if(s.value-ae>=(H?1:0)){const te=R.value-1,be=C.value-te+I.value;return[I.value,e.ellipsis,...Xs(te,be)]}else{const te=Math.max(1,R.value-3),be=te===1?s.value:s.value-Math.ceil(te/2)+I.value;return[I.value,e.ellipsis,...Xs(te,be),e.ellipsis,C.value]}});function B(H,$,Z){H.preventDefault(),s.value=$,Z&&r(Z,$)}const{refs:q,updateRef:J}=ACe();ma({VPaginationBtn:{color:bt(e,"color"),border:bt(e,"border"),density:bt(e,"density"),size:bt(e,"size"),variant:bt(e,"variant"),rounded:bt(e,"rounded"),elevation:bt(e,"elevation")}});const ee=Y(()=>O.value.map((H,$)=>{const Z=ae=>J(ae,$);if(typeof H=="string")return{isActive:!1,key:`ellipsis-${$}`,page:H,props:{ref:Z,ellipsis:!0,icon:!0,disabled:!0}};{const ae=H===s.value;return{isActive:ae,key:H,page:h(H),props:{ref:Z,ellipsis:!1,icon:!0,disabled:!!e.disabled||+e.length<2,color:ae?e.activeColor:e.color,"aria-current":ae,"aria-label":u(ae?e.currentPageAriaLabel:e.pageAriaLabel,H),onClick:te=>B(te,H)}}}})),ie=Y(()=>{const H=!!e.disabled||s.value<=I.value,$=!!e.disabled||s.value>=I.value+C.value-1;return{first:e.showFirstLastPage?{icon:o.value?e.lastIcon:e.firstIcon,onClick:Z=>B(Z,I.value,"first"),disabled:H,"aria-label":u(e.firstAriaLabel),"aria-disabled":H}:void 0,prev:{icon:o.value?e.nextIcon:e.prevIcon,onClick:Z=>B(Z,s.value-1,"prev"),disabled:H,"aria-label":u(e.previousAriaLabel),"aria-disabled":H},next:{icon:o.value?e.prevIcon:e.nextIcon,onClick:Z=>B(Z,s.value+1,"next"),disabled:$,"aria-label":u(e.nextAriaLabel),"aria-disabled":$},last:e.showFirstLastPage?{icon:o.value?e.firstIcon:e.lastIcon,onClick:Z=>B(Z,I.value+C.value-1,"last"),disabled:$,"aria-label":u(e.lastAriaLabel),"aria-disabled":$}:void 0}});function re(){var $;const H=s.value-I.value;($=q.value[H])==null||$.$el.focus()}function le(H){H.key===nk.left&&!e.disabled&&s.value>+e.start?(s.value=s.value-1,Jn(re)):H.key===nk.right&&!e.disabled&&s.value<I.value+C.value-1&&(s.value=s.value+1,Jn(re))}return kt(()=>T(e.tag,{ref:k,class:["v-pagination",p.value,e.class],style:e.style,role:"navigation","aria-label":u(e.ariaLabel),onKeydown:le,"data-test":"v-pagination-root"},{default:()=>[T("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&T("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[n.first?n.first(ie.value.first):T(Jt,lt({_as:"VPaginationBtn"},ie.value.first),null)]),T("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[n.prev?n.prev(ie.value.prev):T(Jt,lt({_as:"VPaginationBtn"},ie.value.prev),null)]),ee.value.map((H,$)=>T("li",{key:H.key,class:["v-pagination__item",{"v-pagination__item--is-active":H.isActive}],"data-test":"v-pagination-item"},[n.item?n.item(H):T(Jt,lt({_as:"VPaginationBtn"},H.props),{default:()=>[H.page]})])),T("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[n.next?n.next(ie.value.next):T(Jt,lt({_as:"VPaginationBtn"},ie.value.next),null)]),e.showFirstLastPage&&T("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[n.last?n.last(ie.value.last):T(Jt,lt({_as:"VPaginationBtn"},ie.value.last),null)])])]})),{}}}),ICe=We({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),zP=Symbol.for("vuetify:data-table-pagination");function PCe(e){const t=fn(e,"page",void 0,r=>+(r??1)),n=fn(e,"itemsPerPage",void 0,r=>+(r??10));return{page:t,itemsPerPage:n}}function DCe(e){const{page:t,itemsPerPage:n,itemsLength:r}=e,s=Y(()=>n.value===-1?0:n.value*(t.value-1)),u=Y(()=>n.value===-1?r.value:Math.min(r.value,s.value+n.value)),h=Y(()=>n.value===-1||r.value===0?1:Math.ceil(r.value/n.value));bi(()=>{t.value>h.value&&(t.value=h.value)});function o(C){n.value=C,t.value=1}function p(){t.value=Ki(t.value+1,1,h.value)}function y(){t.value=Ki(t.value-1,1,h.value)}function b(C){t.value=Ki(C,1,h.value)}const k={page:t,itemsPerPage:n,startIndex:s,stopIndex:u,pageCount:h,itemsLength:r,nextPage:p,prevPage:y,setPage:b,setItemsPerPage:o};return xn(zP,k),k}function MCe(){const e=_t(zP);if(!e)throw new Error("Missing pagination!");return e}function LCe(e){const t=Kr("usePaginatedItems"),{items:n,startIndex:r,stopIndex:s,itemsPerPage:u}=e,h=Y(()=>u.value<=0?n.value:n.value.slice(r.value,s.value));return ct(h,o=>{t.emit("update:currentItems",o)}),{paginatedItems:h}}const BP=We({prevIcon:{type:pn,default:"$prev"},nextIcon:{type:pn,default:"$next"},firstIcon:{type:pn,default:"$first"},lastIcon:{type:pn,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),C2=ht()({name:"VDataTableFooter",props:BP(),setup(e,t){let{slots:n}=t;const{t:r}=li(),{page:s,pageCount:u,startIndex:h,stopIndex:o,itemsLength:p,itemsPerPage:y,setItemsPerPage:b}=MCe(),k=Y(()=>e.itemsPerPageOptions.map(C=>typeof C=="number"?{value:C,title:C===-1?r("$vuetify.dataFooter.itemsPerPageAll"):String(C)}:{...C,title:isNaN(Number(C.title))?r(C.title):C.title}));return kt(()=>{var I;const C=k2.filterProps(e);return T("div",{class:"v-data-table-footer"},[(I=n.prepend)==null?void 0:I.call(n),T("div",{class:"v-data-table-footer__items-per-page"},[T("span",null,[r(e.itemsPerPageText)]),T(Ud,{items:k.value,modelValue:y.value,"onUpdate:modelValue":R=>b(Number(R)),density:"compact",variant:"outlined","hide-details":!0},null)]),T("div",{class:"v-data-table-footer__info"},[T("div",null,[r(e.pageText,p.value?h.value+1:0,o.value,p.value)])]),T("div",{class:"v-data-table-footer__pagination"},[T(k2,lt({modelValue:s.value,"onUpdate:modelValue":R=>s.value=R,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:u.value,"next-aria-label":e.nextPageLabel,"previous-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},C),null)])])}),{}}}),Xg=gz({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:n}=t;const r=e.tag??"td";return T(r,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap},`v-data-table-column--align-${e.align}`],style:{height:Ht(e.height),width:Ht(e.width),maxWidth:Ht(e.maxWidth),left:Ht(e.fixedOffset||null)}},{default:()=>{var s;return[(s=n.default)==null?void 0:s.call(n)]}})}),RCe=We({headers:Array},"DataTable-header"),VP=Symbol.for("vuetify:data-table-headers"),NP={title:"",sortable:!1},OCe={...NP,width:48};function FCe(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(n=>({element:n,priority:0}));return{enqueue:(n,r)=>{let s=!1;for(let u=0;u<t.length;u++)if(t[u].priority>r){t.splice(u,0,{element:n,priority:r}),s=!0;break}s||t.push({element:n,priority:r})},size:()=>t.length,count:()=>{let n=0;if(!t.length)return 0;const r=Math.floor(t[0].priority);for(let s=0;s<t.length;s++)Math.floor(t[s].priority)===r&&(n+=1);return n},dequeue:()=>t.shift()}}function c0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const n of e.children)c0(n,t);return t}function $P(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const n of e)n.key&&t.add(n.key),n.children&&$P(n.children,t);return t}function zCe(e){if(e.key){if(e.key==="data-table-group")return NP;if(["data-table-expand","data-table-select"].includes(e.key))return OCe}}function a1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(n=>a1(n,t+1))):t}function BCe(e){let t=!1;function n(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(u)if(h&&(u.fixed=!0),u.fixed)if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o],!0);else t?isNaN(+u.width)&&(`${u.key}`,void 0):u.lastFixed=!0,t=!0;else if(u.children)for(let o=u.children.length-1;o>=0;o--)n(u.children[o]);else t=!1}for(let u=e.length-1;u>=0;u--)n(e[u]);function r(u){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!u)return h;if(u.children){u.fixedOffset=h;for(const o of u.children)h=r(o,h)}else u.fixed&&(u.fixedOffset=h,h+=parseFloat(u.width||"0")||0);return h}let s=0;for(const u of e)s=r(u,s)}function VCe(e,t){const n=[];let r=0;const s=FCe(e);for(;s.size()>0;){let h=s.count();const o=[];let p=1;for(;h>0;){const{element:y,priority:b}=s.dequeue(),k=t-r-a1(y);if(o.push({...y,rowspan:k??1,colspan:y.children?c0(y).length:1}),y.children)for(const C of y.children){const I=b%1+p/Math.pow(10,r+2);s.enqueue(C,r+k+I)}p+=1,h-=1}r+=1,n.push(o)}return{columns:e.map(h=>c0(h)).flat(),headers:n}}function UP(e){const t=[];for(const n of e){const r={...zCe(n),...n},s=r.key??(typeof r.value=="string"?r.value:null),u=r.value??s??null,h={...r,key:s,value:u,sortable:r.sortable??(r.key!=null||!!r.sort),children:r.children?UP(r.children):void 0};t.push(h)}return t}function NCe(e,t){const n=dt([]),r=dt([]),s=dt({}),u=dt({}),h=dt({});bi(()=>{var L,O,B;const y=(e.headers||Object.keys(e.items[0]??{}).map(q=>({key:q,title:Ro(q)}))).slice(),b=$P(y);(L=t==null?void 0:t.groupBy)!=null&&L.value.length&&!b.has("data-table-group")&&y.unshift({key:"data-table-group",title:"Group"}),(O=t==null?void 0:t.showSelect)!=null&&O.value&&!b.has("data-table-select")&&y.unshift({key:"data-table-select"}),(B=t==null?void 0:t.showExpand)!=null&&B.value&&!b.has("data-table-expand")&&y.push({key:"data-table-expand"});const k=UP(y);BCe(k);const C=Math.max(...k.map(q=>a1(q)))+1,I=VCe(k,C);n.value=I.headers,r.value=I.columns;const R=I.headers.flat(1);for(const q of R)q.key&&(q.sortable&&(q.sort&&(s.value[q.key]=q.sort),q.sortRaw&&(u.value[q.key]=q.sortRaw)),q.filter&&(h.value[q.key]=q.filter))});const o={headers:n,columns:r,sortFunctions:s,sortRawFunctions:u,filterFunctions:h};return xn(VP,o),o}function jv(){const e=_t(VP);if(!e)throw new Error("Missing headers!");return e}const $Ce={showSelectAll:!1,allSelected:()=>[],select:e=>{var r;let{items:t,value:n}=e;return new Set(n?[(r=t[0])==null?void 0:r.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},qP={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,currentPage:n,selected:r}=e;return qP.select({items:n,value:t,selected:r})}},jP={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:r}=e;for(const s of t)n?r.add(s.value):r.delete(s.value);return r},selectAll:e=>{let{value:t,allItems:n,selected:r}=e;return jP.select({items:n,value:t,selected:r})}},UCe=We({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:xl}},"DataTable-select"),HP=Symbol.for("vuetify:data-table-selection");function qCe(e,t){let{allItems:n,currentPage:r}=t;const s=fn(e,"modelValue",e.modelValue,B=>new Set(Zr(B).map(q=>{var J;return((J=n.value.find(ee=>e.valueComparator(q,ee.value)))==null?void 0:J.value)??q})),B=>[...B.values()]),u=Y(()=>n.value.filter(B=>B.selectable)),h=Y(()=>r.value.filter(B=>B.selectable)),o=Y(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return $Ce;case"all":return jP;case"page":default:return qP}});function p(B){return Zr(B).every(q=>s.value.has(q.value))}function y(B){return Zr(B).some(q=>s.value.has(q.value))}function b(B,q){const J=o.value.select({items:B,value:q,selected:new Set(s.value)});s.value=J}function k(B){b([B],!p([B]))}function C(B){const q=o.value.selectAll({value:B,allItems:u.value,currentPage:h.value,selected:new Set(s.value)});s.value=q}const I=Y(()=>s.value.size>0),R=Y(()=>{const B=o.value.allSelected({allItems:u.value,currentPage:h.value});return!!B.length&&p(B)}),L=Y(()=>o.value.showSelectAll),O={toggleSelect:k,select:b,selectAll:C,isSelected:p,isSomeSelected:y,someSelected:I,allSelected:R,showSelectAll:L};return xn(HP,O),O}function Hv(){const e=_t(HP);if(!e)throw new Error("Missing selection!");return e}const jCe=We({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),GP=Symbol.for("vuetify:data-table-sort");function HCe(e){const t=fn(e,"sortBy"),n=bt(e,"mustSort"),r=bt(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:r}}function GCe(e){const{sortBy:t,mustSort:n,multiSort:r,page:s}=e,u=p=>{if(p.key==null)return;let y=t.value.map(k=>({...k}))??[];const b=y.find(k=>k.key===p.key);b?b.order==="desc"?n.value?b.order="asc":y=y.filter(k=>k.key!==p.key):b.order="desc":r.value?y=[...y,{key:p.key,order:"asc"}]:y=[{key:p.key,order:"asc"}],t.value=y,s&&(s.value=1)};function h(p){return!!t.value.find(y=>y.key===p.key)}const o={sortBy:t,toggleSort:u,isSorted:h};return xn(GP,o),o}function WP(){const e=_t(GP);if(!e)throw new Error("Missing sort!");return e}function WCe(e,t,n,r){const s=li();return{sortedItems:Y(()=>{var h,o;return n.value.length?YCe(t.value,n.value,s.current.value,{transform:r==null?void 0:r.transform,sortFunctions:{...e.customKeySort,...(h=r==null?void 0:r.sortFunctions)==null?void 0:h.value},sortRawFunctions:(o=r==null?void 0:r.sortRawFunctions)==null?void 0:o.value}):t.value})}}function YCe(e,t,n,r){const s=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return e.map(h=>[h,r!=null&&r.transform?r.transform(h):h]).sort((h,o)=>{var p,y;for(let b=0;b<t.length;b++){let k=!1;const C=t[b].key,I=t[b].order??"asc";if(I===!1)continue;let R=hu(h[1],C),L=hu(o[1],C),O=h[0].raw,B=o[0].raw;if(I==="desc"&&([R,L]=[L,R],[O,B]=[B,O]),(p=r==null?void 0:r.sortRawFunctions)!=null&&p[C]){const q=r.sortRawFunctions[C](O,B);if(q==null)continue;if(k=!0,q)return q}if((y=r==null?void 0:r.sortFunctions)!=null&&y[C]){const q=r.sortFunctions[C](R,L);if(q==null)continue;if(k=!0,q)return q}if(!k){if(R instanceof Date&&L instanceof Date)return R.getTime()-L.getTime();if([R,L]=[R,L].map(q=>q!=null?q.toString().toLocaleLowerCase():q),R!==L)return Qp(R)&&Qp(L)?0:Qp(R)?-1:Qp(L)?1:!isNaN(R)&&!isNaN(L)?Number(R)-Number(L):s.compare(R,L)}}return 0}).map(h=>{let[o]=h;return o})}const YP=We({color:String,sticky:Boolean,disableSort:Boolean,multiSort:Boolean,sortAscIcon:{type:pn,default:"$sortAsc"},sortDescIcon:{type:pn,default:"$sortDesc"},headerProps:{type:Object},...Gd(),...xv()},"VDataTableHeaders"),T2=ht()({name:"VDataTableHeaders",props:YP(),setup(e,t){let{slots:n}=t;const{t:r}=li(),{toggleSort:s,sortBy:u,isSorted:h}=WP(),{someSelected:o,allSelected:p,selectAll:y,showSelectAll:b}=Hv(),{columns:k,headers:C}=jv(),{loaderClasses:I}=wv(e);function R(H,$){if(!(!e.sticky&&!H.fixed))return{position:"sticky",left:H.fixed?Ht(H.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${$})`:void 0}}function L(H){const $=u.value.find(Z=>Z.key===H.key);return $?$.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:O,backgroundColorStyles:B}=yi(e,"color"),{displayClasses:q,mobile:J}=wl(e),ee=Y(()=>({headers:C.value,columns:k.value,toggleSort:s,isSorted:h,sortBy:u.value,someSelected:o.value,allSelected:p.value,selectAll:y,getSortIcon:L})),ie=Y(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky},q.value,I.value]),re=H=>{let{column:$,x:Z,y:ae}=H;const te=$.key==="data-table-select"||$.key==="data-table-expand",be=lt(e.headerProps??{},$.headerProps??{});return T(Xg,lt({tag:"th",align:$.align,class:[{"v-data-table__th--sortable":$.sortable&&!e.disableSort,"v-data-table__th--sorted":h($),"v-data-table__th--fixed":$.fixed},...ie.value],style:{width:Ht($.width),minWidth:Ht($.minWidth),maxWidth:Ht($.maxWidth),...R($,ae)},colspan:$.colspan,rowspan:$.rowspan,onClick:$.sortable?()=>s($):void 0,fixed:$.fixed,nowrap:$.nowrap,lastFixed:$.lastFixed,noPadding:te},be),{default:()=>{var Ae;const me=`header.${$.key}`,Pe={column:$,selectAll:y,isSorted:h,toggleSort:s,sortBy:u.value,someSelected:o.value,allSelected:p.value,getSortIcon:L};return n[me]?n[me](Pe):$.key==="data-table-select"?((Ae=n["header.data-table-select"])==null?void 0:Ae.call(n,Pe))??(b.value&&T(Xd,{modelValue:p.value,indeterminate:o.value&&!p.value,"onUpdate:modelValue":y},null)):T("div",{class:"v-data-table-header__content"},[T("span",null,[$.title]),$.sortable&&!e.disableSort&&T(rr,{key:"icon",class:"v-data-table-header__sort-icon",icon:L($)},null),e.multiSort&&h($)&&T("div",{key:"badge",class:["v-data-table-header__sort-badge",...O.value],style:B.value},[u.value.findIndex(Ue=>Ue.key===$.key)+1])])}})},le=()=>{const H=lt(e.headerProps??{}??{}),$=Y(()=>k.value.filter(ae=>(ae==null?void 0:ae.sortable)&&!e.disableSort)),Z=Y(()=>{if(k.value.find(te=>te.key==="data-table-select")!=null)return p.value?"$checkboxOn":o.value?"$checkboxIndeterminate":"$checkboxOff"});return T(Xg,lt({tag:"th",class:[...ie.value],colspan:C.value.length+1},H),{default:()=>[T("div",{class:"v-data-table-header__content"},[T(Ud,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:$.value,label:r("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>u.value=[],appendIcon:Z.value,"onClick:append":()=>y(!p.value)},{...n,chip:ae=>{var te;return T(vl,{onClick:(te=ae.item.raw)!=null&&te.sortable?()=>s(ae.item.raw):void 0,onMousedown:be=>{be.preventDefault(),be.stopPropagation()}},{default:()=>[ae.item.title,T(rr,{class:["v-data-table__td-sort-icon",h(ae.item.raw)&&"v-data-table__td-sort-icon-active"],icon:L(ae.item.raw),size:"small"},null)]})}})])]})};kt(()=>J.value?T("tr",null,[T(le,null,null)]):T(Gt,null,[n.headers?n.headers(ee.value):C.value.map((H,$)=>T("tr",null,[H.map((Z,ae)=>T(re,{column:Z,x:ae,y:$},null))])),e.loading&&T("tr",{class:"v-data-table-progress"},[T("th",{colspan:k.value.length},[T(hx,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:n.loader})])])]))}}),ZCe=We({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ZP=Symbol.for("vuetify:data-table-group");function KCe(e){return{groupBy:fn(e,"groupBy")}}function XCe(e){const{disableSort:t,groupBy:n,sortBy:r}=e,s=dt(new Set),u=Y(()=>n.value.map(b=>({...b,order:b.order??!1})).concat(t!=null&&t.value?[]:r.value));function h(b){return s.value.has(b.id)}function o(b){const k=new Set(s.value);h(b)?k.delete(b.id):k.add(b.id),s.value=k}function p(b){function k(C){const I=[];for(const R of C.items)"type"in R&&R.type==="group"?I.push(...k(R)):I.push(R);return I}return k({type:"group",items:b,id:"dummy",key:"dummy",value:"dummy",depth:0})}const y={sortByWithGroups:u,toggleGroup:o,opened:s,groupBy:n,extractRows:p,isGroupOpen:h};return xn(ZP,y),y}function KP(){const e=_t(ZP);if(!e)throw new Error("Missing group!");return e}function JCe(e,t){if(!e.length)return[];const n=new Map;for(const r of e){const s=hu(r.raw,t);n.has(s)||n.set(s,[]),n.get(s).push(r)}return n}function XP(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const s=JCe(e,t[0]),u=[],h=t.slice(1);return s.forEach((o,p)=>{const y=t[0],b=`${r}_${y}_${p}`;u.push({depth:n,id:b,key:y,value:p,items:h.length?XP(o,h,n+1,b):o,type:"group"})}),u}function JP(e,t){const n=[];for(const r of e)"type"in r&&r.type==="group"?(r.value!=null&&n.push(r),(t.has(r.id)||r.value==null)&&n.push(...JP(r.items,t))):n.push(r);return n}function QCe(e,t,n){return{flatItems:Y(()=>{if(!t.value.length)return e.value;const s=XP(e.value,t.value.map(u=>u.key));return JP(s,n.value)})}}const e2e=We({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),t2e=ht()({name:"VDataTableGroupHeaderRow",props:e2e(),setup(e,t){let{slots:n}=t;const{isGroupOpen:r,toggleGroup:s,extractRows:u}=KP(),{isSelected:h,isSomeSelected:o,select:p}=Hv(),{columns:y}=jv(),b=Y(()=>u([e.item]));return()=>T("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[y.value.map(k=>{var C,I;if(k.key==="data-table-group"){const R=r(e.item)?"$expand":"$next",L=()=>s(e.item);return((C=n["data-table-group"])==null?void 0:C.call(n,{item:e.item,count:b.value.length,props:{icon:R,onClick:L}}))??T(Xg,{class:"v-data-table-group-header-row__column"},{default:()=>[T(Jt,{size:"small",variant:"text",icon:R,onClick:L},null),T("span",null,[e.item.value]),T("span",null,[zt("("),b.value.length,zt(")")])]})}if(k.key==="data-table-select"){const R=h(b.value),L=o(b.value)&&!R,O=B=>p(b.value,B);return((I=n["data-table-select"])==null?void 0:I.call(n,{props:{modelValue:R,indeterminate:L,"onUpdate:modelValue":O}}))??T("td",null,[T(Xd,{modelValue:R,indeterminate:L,"onUpdate:modelValue":O},null)])}return T("td",null,null)})])}}),n2e=We({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),QP=Symbol.for("vuetify:datatable:expanded");function r2e(e){const t=bt(e,"expandOnClick"),n=fn(e,"expanded",e.expanded,o=>new Set(o),o=>[...o.values()]);function r(o,p){const y=new Set(n.value);p?y.add(o.value):y.delete(o.value),n.value=y}function s(o){return n.value.has(o.value)}function u(o){r(o,!s(o))}const h={expand:r,expanded:n,expandOnClick:t,isExpanded:s,toggleExpand:u};return xn(QP,h),h}function eD(){const e=_t(QP);if(!e)throw new Error("foo");return e}const i2e=We({index:Number,item:Object,cellProps:[Object,Function],onClick:Di(),onContextmenu:Di(),onDblclick:Di(),...Gd()},"VDataTableRow"),a2e=ht()({name:"VDataTableRow",props:i2e(),setup(e,t){let{slots:n}=t;const{displayClasses:r,mobile:s}=wl(e,"v-data-table__tr"),{isSelected:u,toggleSelect:h,someSelected:o,allSelected:p,selectAll:y}=Hv(),{isExpanded:b,toggleExpand:k}=eD(),{toggleSort:C,sortBy:I,isSorted:R}=WP(),{columns:L}=jv();kt(()=>T("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},r.value],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&L.value.map((O,B)=>{const q=e.item,J=`item.${O.key}`,ee=`header.${O.key}`,ie={index:e.index,item:q.raw,internalItem:q,value:hu(q.columns,O.key),column:O,isSelected:u,toggleSelect:h,isExpanded:b,toggleExpand:k},re={column:O,selectAll:y,isSorted:R,toggleSort:C,sortBy:I.value,someSelected:o.value,allSelected:p.value,getSortIcon:()=>""},le=typeof e.cellProps=="function"?e.cellProps({index:ie.index,item:ie.item,internalItem:ie.internalItem,value:ie.value,column:O}):e.cellProps,H=typeof O.cellProps=="function"?O.cellProps({index:ie.index,item:ie.item,internalItem:ie.internalItem,value:ie.value}):O.cellProps;return T(Xg,lt({align:O.align,class:{"v-data-table__td--expanded-row":O.key==="data-table-expand","v-data-table__td--select-row":O.key==="data-table-select"},fixed:O.fixed,fixedOffset:O.fixedOffset,lastFixed:O.lastFixed,maxWidth:s.value?void 0:O.maxWidth,noPadding:O.key==="data-table-select"||O.key==="data-table-expand",nowrap:O.nowrap,width:s.value?void 0:O.width},le,H),{default:()=>{var Z,ae,te,be,me;if(n[J]&&!s.value)return(Z=n[J])==null?void 0:Z.call(n,ie);if(O.key==="data-table-select")return((ae=n["item.data-table-select"])==null?void 0:ae.call(n,ie))??T(Xd,{disabled:!q.selectable,modelValue:u([q]),onClick:wb(()=>h(q),["stop"])},null);if(O.key==="data-table-expand")return((te=n["item.data-table-expand"])==null?void 0:te.call(n,ie))??T(Jt,{icon:b(q)?"$collapse":"$expand",size:"small",variant:"text",onClick:wb(()=>k(q),["stop"])},null);const $=Cs(ie.value);return s.value?T(Gt,null,[T("div",{class:"v-data-table__td-title"},[((be=n[ee])==null?void 0:be.call(n,re))??O.title]),T("div",{class:"v-data-table__td-value"},[((me=n[J])==null?void 0:me.call(n,ie))??$])]):$}})})]))}}),tD=We({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...Gd()},"VDataTableRows"),A2=ht()({name:"VDataTableRows",inheritAttrs:!1,props:tD(),setup(e,t){let{attrs:n,slots:r}=t;const{columns:s}=jv(),{expandOnClick:u,toggleExpand:h,isExpanded:o}=eD(),{isSelected:p,toggleSelect:y}=Hv(),{toggleGroup:b,isGroupOpen:k}=KP(),{t:C}=li(),{mobile:I}=wl(e);return kt(()=>{var R,L;return e.loading&&(!e.items.length||r.loading)?T("tr",{class:"v-data-table-rows-loading",key:"loading"},[T("td",{colspan:s.value.length},[((R=r.loading)==null?void 0:R.call(r))??C(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?T("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[T("td",{colspan:s.value.length},[((L=r["no-data"])==null?void 0:L.call(r))??C(e.noDataText)])]):T(Gt,null,[e.items.map((O,B)=>{var ee;if(O.type==="group"){const ie={index:B,item:O,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:p,toggleSelect:y,toggleGroup:b,isGroupOpen:k};return r["group-header"]?r["group-header"](ie):T(t2e,lt({key:`group-header_${O.id}`,item:O},xk(n,":group-header",()=>ie)),r)}const q={index:B,item:O.raw,internalItem:O,columns:s.value,isExpanded:o,toggleExpand:h,isSelected:p,toggleSelect:y},J={...q,props:lt({key:`item_${O.key??O.index}`,onClick:u.value?()=>{h(O)}:void 0,index:B,item:O,cellProps:e.cellProps,mobile:I.value},xk(n,":row",()=>q),typeof e.rowProps=="function"?e.rowProps({item:q.item,index:q.index,internalItem:q.internalItem}):e.rowProps)};return T(Gt,{key:J.props.key},[r.item?r.item(J):T(a2e,J.props,r),o(O)&&((ee=r["expanded-row"])==null?void 0:ee.call(r,q))])})])}),{}}}),nD=We({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...un(),...Ya(),...Kn(),...br()},"VTable"),E2=ht()({name:"VTable",props:nD(),setup(e,t){let{slots:n,emit:r}=t;const{themeClasses:s}=Br(e),{densityClasses:u}=Ms(e);return kt(()=>T(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!n.top,"v-table--has-bottom":!!n.bottom,"v-table--hover":e.hover},s.value,u.value,e.class],style:e.style},{default:()=>{var h,o,p;return[(h=n.top)==null?void 0:h.call(n),n.default?T("div",{class:"v-table__wrapper",style:{height:Ht(e.height)}},[T("table",null,[n.default()])]):(o=n.wrapper)==null?void 0:o.call(n),(p=n.bottom)==null?void 0:p.call(n)]}})),{}}}),s2e=We({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function o2e(e,t,n,r){const s=e.returnObject?t:Vi(t,e.itemValue),u=Vi(t,e.itemSelectable,!0),h=r.reduce((o,p)=>(p.key!=null&&(o[p.key]=Vi(t,p.value)),o),{});return{type:"item",key:e.returnObject?Vi(t,e.itemValue):s,index:n,value:s,selectable:u,columns:h,raw:t}}function l2e(e,t,n){return t.map((r,s)=>o2e(e,r,s,n))}function c2e(e,t){return{items:Y(()=>l2e(e,e.items,t.value))}}function u2e(e){let{page:t,itemsPerPage:n,sortBy:r,groupBy:s,search:u}=e;const h=Kr("VDataTable"),o=Y(()=>({page:t.value,itemsPerPage:n.value,sortBy:r.value,groupBy:s.value,search:u.value}));let p=null;ct(o,()=>{xl(p,o.value)||(p&&p.search!==o.value.search&&(t.value=1),h.emit("update:options",o.value),p=o.value)},{deep:!0,immediate:!0})}const d2e=We({...tD(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...n2e(),...ZCe(),...RCe(),...s2e(),...UCe(),...jCe(),...YP(),...nD()},"DataTable"),h2e=We({...ICe(),...d2e(),...Bx(),...BP()},"VDataTable"),Rf=ht()({name:"VDataTable",props:h2e(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const{groupBy:s}=KCe(e),{sortBy:u,multiSort:h,mustSort:o}=HCe(e),{page:p,itemsPerPage:y}=PCe(e),{disableSort:b}=qd(e),{columns:k,headers:C,sortFunctions:I,sortRawFunctions:R,filterFunctions:L}=NCe(e,{groupBy:s,showSelect:bt(e,"showSelect"),showExpand:bt(e,"showExpand")}),{items:O}=c2e(e,k),B=bt(e,"search"),{filteredItems:q}=Vx(e,O,B,{transform:Ne=>Ne.columns,customKeyFilter:L}),{toggleSort:J}=GCe({sortBy:u,multiSort:h,mustSort:o,page:p}),{sortByWithGroups:ee,opened:ie,extractRows:re,isGroupOpen:le,toggleGroup:H}=XCe({groupBy:s,sortBy:u,disableSort:b}),{sortedItems:$}=WCe(e,q,ee,{transform:Ne=>({...Ne.raw,...Ne.columns}),sortFunctions:I,sortRawFunctions:R}),{flatItems:Z}=QCe($,s,ie),ae=Y(()=>Z.value.length),{startIndex:te,stopIndex:be,pageCount:me,setItemsPerPage:Pe}=DCe({page:p,itemsPerPage:y,itemsLength:ae}),{paginatedItems:Ae}=LCe({items:Z,startIndex:te,stopIndex:be,itemsPerPage:y}),Ue=Y(()=>re(Ae.value)),{isSelected:Fe,select:Ce,selectAll:Ve,toggleSelect:$e,someSelected:qe,allSelected:gt}=qCe(e,{allItems:O,currentPage:Ue}),{isExpanded:Ct,toggleExpand:$t}=r2e(e);u2e({page:p,itemsPerPage:y,sortBy:u,groupBy:s,search:B}),ma({VDataTableRows:{hideNoData:bt(e,"hideNoData"),noDataText:bt(e,"noDataText"),loading:bt(e,"loading"),loadingText:bt(e,"loadingText")}});const vt=Y(()=>({page:p.value,itemsPerPage:y.value,sortBy:u.value,pageCount:me.value,toggleSort:J,setItemsPerPage:Pe,someSelected:qe.value,allSelected:gt.value,isSelected:Fe,select:Ce,selectAll:Ve,toggleSelect:$e,isExpanded:Ct,toggleExpand:$t,isGroupOpen:le,toggleGroup:H,items:Ue.value.map(Ne=>Ne.raw),internalItems:Ue.value,groupedItems:Ae.value,columns:k.value,headers:C.value}));return kt(()=>{const Ne=C2.filterProps(e),et=T2.filterProps(e),je=A2.filterProps(e),Qe=E2.filterProps(e);return T(E2,lt({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Qe),{top:()=>{var Je;return(Je=r.top)==null?void 0:Je.call(r,vt.value)},default:()=>{var Je,It,se,fe,Me,Xe;return r.default?r.default(vt.value):T(Gt,null,[(Je=r.colgroup)==null?void 0:Je.call(r,vt.value),!e.hideDefaultHeader&&T("thead",{key:"thead"},[T(T2,et,r)]),(It=r.thead)==null?void 0:It.call(r,vt.value),!e.hideDefaultBody&&T("tbody",null,[(se=r["body.prepend"])==null?void 0:se.call(r,vt.value),r.body?r.body(vt.value):T(A2,lt(n,je,{items:Ae.value}),r),(fe=r["body.append"])==null?void 0:fe.call(r,vt.value)]),(Me=r.tbody)==null?void 0:Me.call(r,vt.value),(Xe=r.tfoot)==null?void 0:Xe.call(r,vt.value)])},bottom:()=>r.bottom?r.bottom(vt.value):!e.hideDefaultFooter&&T(Gt,null,[T(yr,null,null),T(C2,Ne,{prepend:r["footer.prepend"]})])})}),{}}}),f2e=We({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...kv({origin:"center center",scrollStrategy:"block",transition:{component:mx},zIndex:2400})},"VDialog"),Sd=ht()({name:"VDialog",props:f2e(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:r}=t;const s=fn(e,"modelValue"),{scopeId:u}=Kd(),h=dt();function o(b){var I,R;const k=b.relatedTarget,C=b.target;if(k!==C&&((I=h.value)!=null&&I.contentEl)&&((R=h.value)!=null&&R.globalTop)&&![document,h.value.contentEl].includes(C)&&!h.value.contentEl.contains(C)){const L=Uf(h.value.contentEl);if(!L.length)return;const O=L[0],B=L[L.length-1];k===O?B.focus():O.focus()}}hr&&ct(()=>s.value&&e.retainFocus,b=>{b?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function p(){var b;n("afterEnter"),(b=h.value)!=null&&b.contentEl&&!h.value.contentEl.contains(document.activeElement)&&h.value.contentEl.focus({preventScroll:!0})}function y(){n("afterLeave")}return ct(s,async b=>{var k;b||(await Jn(),(k=h.value.activatorEl)==null||k.focus({preventScroll:!0}))}),kt(()=>{const b=Vd.filterProps(e),k=lt({"aria-haspopup":"dialog","aria-expanded":String(s.value)},e.activatorProps),C=lt({tabindex:-1},e.contentProps);return T(Vd,lt({ref:h,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},b,{modelValue:s.value,"onUpdate:modelValue":I=>s.value=I,"aria-modal":"true",activatorProps:k,contentProps:C,role:"dialog",onAfterEnter:p,onAfterLeave:y},u),{activator:r.activator,default:function(){for(var I=arguments.length,R=new Array(I),L=0;L<I;L++)R[L]=arguments[L];return T(Bn,{root:"VDialog"},{default:()=>{var O;return[(O=r.default)==null?void 0:O.call(r,...R)]}})}})}),lo({},h)}}),s1=Symbol.for("vuetify:v-tabs"),m2e=We({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Pr(fx({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),wg=ht()({name:"VTab",props:m2e(),setup(e,t){let{slots:n,attrs:r}=t;const{textColorClasses:s,textColorStyles:u}=Ga(e,"sliderColor"),h=dt(),o=dt(),p=Y(()=>e.direction==="horizontal"),y=Y(()=>{var k,C;return((C=(k=h.value)==null?void 0:k.group)==null?void 0:C.isSelected.value)??!1});function b(k){var I,R;let{value:C}=k;if(C){const L=(R=(I=h.value)==null?void 0:I.$el.parentElement)==null?void 0:R.querySelector(".v-tab--selected .v-tab__slider"),O=o.value;if(!L||!O)return;const B=getComputedStyle(L).color,q=L.getBoundingClientRect(),J=O.getBoundingClientRect(),ee=p.value?"x":"y",ie=p.value?"X":"Y",re=p.value?"right":"bottom",le=p.value?"width":"height",H=q[ee],$=J[ee],Z=H>$?q[re]-J[re]:q[ee]-J[ee],ae=Math.sign(Z)>0?p.value?"right":"bottom":Math.sign(Z)<0?p.value?"left":"top":"center",be=(Math.abs(Z)+(Math.sign(Z)<0?q[le]:J[le]))/Math.max(q[le],J[le])||0,me=q[le]/J[le]||0,Pe=1.5;Jc(O,{backgroundColor:[B,"currentcolor"],transform:[`translate${ie}(${Z}px) scale${ie}(${me})`,`translate${ie}(${Z/Pe}px) scale${ie}(${(be-1)/Pe+1})`,"none"],transformOrigin:Array(3).fill(ae)},{duration:225,easing:jf})}}return kt(()=>{const k=Jt.filterProps(e);return T(Jt,lt({symbol:s1,ref:h,class:["v-tab",e.class],style:e.style,tabindex:y.value?0:-1,role:"tab","aria-selected":String(y.value),active:!1},k,r,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":b}),{...n,default:()=>{var C;return T(Gt,null,[((C=n.default)==null?void 0:C.call(n))??e.text,!e.hideSlider&&T("div",{ref:o,class:["v-tab__slider",s.value],style:u.value},null)])}})}),lo({},h)}}),p2e=We({...Pr(Dx(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),g2e=ht()({name:"VTabsWindow",props:p2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=_t(s1,null),s=fn(e,"modelValue"),u=Y({get(){var h;return s.value!=null||!r?s.value:(h=r.items.value.find(o=>r.selected.value.includes(o.id)))==null?void 0:h.value},set(h){s.value=h}});return kt(()=>{const h=Qf.filterProps(e);return T(Qf,lt({_as:"VTabsWindow"},h,{modelValue:u.value,"onUpdate:modelValue":o=>u.value=o,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),v2e=We({...Mx()},"VTabsWindowItem"),y2e=ht()({name:"VTabsWindowItem",props:v2e(),setup(e,t){let{slots:n}=t;return kt(()=>{const r=ou.filterProps(e);return T(ou,lt({_as:"VTabsWindowItem"},r,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function _2e(e){return e?e.map(t=>lA(t)?t:{text:t,value:t}):[]}const b2e=We({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...vx({mandatory:"force",selectedClass:"v-tab-item--selected"}),...Ya(),...Kn()},"VTabs"),x2e=ht()({name:"VTabs",props:b2e(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=fn(e,"modelValue"),u=Y(()=>_2e(e.items)),{densityClasses:h}=Ms(e),{backgroundColorClasses:o,backgroundColorStyles:p}=yi(bt(e,"bgColor")),{scopeId:y}=Kd();return ma({VTab:{color:bt(e,"color"),direction:bt(e,"direction"),stacked:bt(e,"stacked"),fixed:bt(e,"fixedTabs"),sliderColor:bt(e,"sliderColor"),hideSlider:bt(e,"hideSlider")}}),kt(()=>{const b=qg.filterProps(e),k=!!(r.window||e.items.length>0);return T(Gt,null,[T(qg,lt(b,{modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},h.value,o.value,e.class],style:[{"--v-tabs-height":Ht(e.height)},p.value,e.style],role:"tablist",symbol:s1},y,n),{default:()=>{var C;return[((C=r.default)==null?void 0:C.call(r))??u.value.map(I=>{var R;return((R=r.tab)==null?void 0:R.call(r,{item:I}))??T(wg,lt(I,{key:I.text,value:I.value}),{default:r[`tab.${I.value}`]?()=>{var L;return(L=r[`tab.${I.value}`])==null?void 0:L.call(r,{item:I})}:void 0})})]}}),k&&T(g2e,lt({modelValue:s.value,"onUpdate:modelValue":C=>s.value=C,key:"tabs-window"},y),{default:()=>{var C;return[u.value.map(I=>{var R;return((R=r.item)==null?void 0:R.call(r,{item:I}))??T(y2e,{value:I.value},{default:()=>{var L;return(L=r[`item.${I.value}`])==null?void 0:L.call(r,{item:I})}})}),(C=r.window)==null?void 0:C.call(r)]}})])}),{}}}),w2e=We({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...Cm(),...Cv()},"VTextarea"),S2e=ht()({name:"VTextarea",directives:{Intersect:gx},inheritAttrs:!1,props:w2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const u=fn(e,"modelValue"),{isFocused:h,focus:o,blur:p}=km(e),y=Y(()=>typeof e.counterValue=="function"?e.counterValue(u.value):(u.value||"").toString().length),b=Y(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function k(ae,te){var be,me;!e.autofocus||!ae||(me=(be=te[0].target)==null?void 0:be.focus)==null||me.call(be)}const C=dt(),I=dt(),R=Rt(""),L=dt(),O=Y(()=>e.persistentPlaceholder||h.value||e.active);function B(){var ae;L.value!==document.activeElement&&((ae=L.value)==null||ae.focus()),h.value||o()}function q(ae){B(),r("click:control",ae)}function J(ae){r("mousedown:control",ae)}function ee(ae){ae.stopPropagation(),B(),Jn(()=>{u.value="",Q0(e["onClick:clear"],ae)})}function ie(ae){var be;const te=ae.target;if(u.value=te.value,(be=e.modelModifiers)!=null&&be.trim){const me=[te.selectionStart,te.selectionEnd];Jn(()=>{te.selectionStart=me[0],te.selectionEnd=me[1]})}}const re=dt(),le=dt(+e.rows),H=Y(()=>["plain","underlined"].includes(e.variant));bi(()=>{e.autoGrow||(le.value=+e.rows)});function $(){e.autoGrow&&Jn(()=>{if(!re.value||!I.value)return;const ae=getComputedStyle(re.value),te=getComputedStyle(I.value.$el),be=parseFloat(ae.getPropertyValue("--v-field-padding-top"))+parseFloat(ae.getPropertyValue("--v-input-padding-top"))+parseFloat(ae.getPropertyValue("--v-field-padding-bottom")),me=re.value.scrollHeight,Pe=parseFloat(ae.lineHeight),Ae=Math.max(parseFloat(e.rows)*Pe+be,parseFloat(te.getPropertyValue("--v-input-control-height"))),Ue=parseFloat(e.maxRows)*Pe+be||1/0,Fe=Ki(me??0,Ae,Ue);le.value=Math.floor((Fe-be)/Pe),R.value=Ht(Fe)})}Ni($),ct(u,$),ct(()=>e.rows,$),ct(()=>e.maxRows,$),ct(()=>e.density,$);let Z;return ct(re,ae=>{ae?(Z=new ResizeObserver($),Z.observe(re.value)):Z==null||Z.disconnect()}),_r(()=>{Z==null||Z.disconnect()}),kt(()=>{const ae=!!(s.counter||e.counter||e.counterValue),te=!!(ae||s.details),[be,me]=pm(n),{modelValue:Pe,...Ae}=hc.filterProps(e),Ue=Ax(e);return T(hc,lt({ref:C,modelValue:u.value,"onUpdate:modelValue":Fe=>u.value=Fe,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":H.value},e.class],style:e.style},be,Ae,{centerAffix:le.value===1&&!H.value,focused:h.value}),{...s,default:Fe=>{let{id:Ce,isDisabled:Ve,isDirty:$e,isReadonly:qe,isValid:gt}=Fe;return T(Tv,lt({ref:I,style:{"--v-textarea-control-height":R.value},onClick:q,onMousedown:J,"onClick:clear":ee,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Ue,{id:Ce.value,active:O.value||$e.value,centerAffix:le.value===1&&!H.value,dirty:$e.value||e.dirty,disabled:Ve.value,focused:h.value,error:gt.value===!1}),{...s,default:Ct=>{let{props:{class:$t,...vt}}=Ct;return T(Gt,null,[e.prefix&&T("span",{class:"v-text-field__prefix"},[e.prefix]),_i(T("textarea",lt({ref:L,class:$t,value:u.value,onInput:ie,autofocus:e.autofocus,readonly:qe.value,disabled:Ve.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:B,onBlur:p},vt,me),null),[[ao("intersect"),{handler:k},null,{once:!0}]]),e.autoGrow&&_i(T("textarea",{class:[$t,"v-textarea__sizer"],id:`${vt.id}-sizer`,"onUpdate:modelValue":Ne=>u.value=Ne,ref:re,readonly:!0,"aria-hidden":"true"},null),[[wF,u.value]]),e.suffix&&T("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:te?Fe=>{var Ce;return T(Gt,null,[(Ce=s.details)==null?void 0:Ce.call(s,Fe),ae&&T(Gt,null,[T("span",null,null),T(kx,{active:e.persistentCounter||h.value,value:y.value,max:b.value,disabled:e.disabled},s.counter)])])}:void 0})}),lo({},C,I,L)}}),k2e=We({text:String,...un(),...Kn()},"VToolbarTitle"),C2e=ht()({name:"VToolbarTitle",props:k2e(),setup(e,t){let{slots:n}=t;return kt(()=>{const r=!!(n.default||n.text||e.text);return T(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var s;return[r&&T("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(s=n.default)==null?void 0:s.call(n)])]}})}),{}}}),T2e=[null,"prominent","default","comfortable","compact"],rD=We({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>T2e.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ps(),...un(),...cs(),...Mi(),...Kn({tag:"header"}),...br()},"VToolbar"),u0=ht()({name:"VToolbar",props:rD(),setup(e,t){var I;let{slots:n}=t;const{backgroundColorClasses:r,backgroundColorStyles:s}=yi(bt(e,"color")),{borderClasses:u}=so(e),{elevationClasses:h}=Ds(e),{roundedClasses:o}=$i(e),{themeClasses:p}=Br(e),{rtlClasses:y}=Wa(),b=Rt(!!(e.extended||(I=n.extension)!=null&&I.call(n))),k=Y(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),C=Y(()=>b.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ma({VBtn:{variant:"text"}}),kt(()=>{var B;const R=!!(e.title||n.title),L=!!(n.image||e.image),O=(B=n.extension)==null?void 0:B.call(n);return b.value=!!(e.extended||O),T(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},r.value,u.value,h.value,o.value,p.value,y.value,e.class],style:[s.value,e.style]},{default:()=>[L&&T("div",{key:"image",class:"v-toolbar__image"},[n.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):T(Sm,{key:"image-img",cover:!0,src:e.image},null)]),T(Bn,{defaults:{VTabs:{height:Ht(k.value)}}},{default:()=>{var q,J,ee;return[T("div",{class:"v-toolbar__content",style:{height:Ht(k.value)}},[n.prepend&&T("div",{class:"v-toolbar__prepend"},[(q=n.prepend)==null?void 0:q.call(n)]),R&&T(C2e,{key:"title",text:e.title},{text:n.title}),(J=n.default)==null?void 0:J.call(n),n.append&&T("div",{class:"v-toolbar__append"},[(ee=n.append)==null?void 0:ee.call(n)])])]}}),T(Bn,{defaults:{VTabs:{height:Ht(C.value)}}},{default:()=>[T(px,null,{default:()=>[b.value&&T("div",{class:"v-toolbar__extension",style:{height:Ht(C.value)}},[O])]})]})]})}),{contentHeight:k,extensionHeight:C}}}),A2e={beforeMount(){window.addEventListener("beforeunload",e=>{this.isEditing&&(e.preventDefault(),e.returnValue="")})},beforeUnmount(){window.removeEventListener("beforeunload",this.preventNav)},beforeRouteLeave(e,t,n){this.isEditing&&!window.confirm("Leave without saving?")||n()},data(){return{days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["Staffed","Unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,editedIndex:-1,editTabs:1,editedItem:{},defaultItem:{Local_authority:"",Library_name:"",Address_1:"",Address_2:"",Address_3:"",Postcode:"",Unique_property_reference_number:"",Statutory:"",Type_of_library:"LAL",Year_opened:"",Year_closed:"",Monday_staffed_hours:"",Tuesday_staffed_hours:"",Wednesday_staffed_hours:"",Thursday_staffed_hours:"",Friday_staffed_hours:"",Saturday_staffed_hours:"",Sunday_staffed_hours:"",Monday_unstaffed_hours:"",Tuesday_unstaffed_hours:"",Wednesday_unstaffed_hours:"",Thursday_unstaffed_hours:"",Friday_unstaffed_hours:"",Saturday_unstaffed_hours:"",Sunday_unstaffed_hours:"",Special_hours:"",Colocated:"",Colocated_with:"",Notes:"",URL:"",Email_address:""},errorDialog:!1,headers:[{title:"Name",align:"start",key:"Library_name"},{title:"Closed",key:"Year_closed"},{title:"Address 1",align:"start",key:"Address_1"},{title:"Postcode",key:"Postcode"},{title:"Actions",key:"actions",sortable:!1}],isEditing:!1,libraries:[],libraryTypes:uSe,loadingServiceData:!1,mdText:bCe,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,selectedService:null,successDialog:!1}},methods:{addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},close(){this.dialogMainLibrary=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem.Local_authority=this.selectedService.name,this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){const e=this.editedItem[this.openingHoursEditKey].split(",").filter(t=>t.length>0);e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1,this.openingHoursOpen=null,this.openingHoursClose=null},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.isEditing=!0,this.libraries.splice(this.editedIndex,1),this.closeDelete()},download(){const e=this.selectedService;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){const n=new Blob([Kg.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(n,e);else{const r=document.createElement("a");r.href=window.URL.createObjectURL(n),r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r)}},editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},loadLibraries:async function(e){if(this.selectedService=e,this.libraries=[],!(e!=null&&e.code))return;this.loadingServiceData=!0;const t=this,n=await wCe("libraries",e.code);n.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/\s+/g,"_");delete n[s][u],n[s][o]=h})}),t.libraries=n,this.loadingServiceData=!1},publishChanges:async function(){const e=JSON.parse(JSON.stringify(this.libraries));e.forEach((r,s)=>{Object.keys(r).forEach(u=>{const h=r[u],o=u.replace(/_/g," ");delete e[s][u],e[s][o]=h})});const t=new Blob([Kg.unparse(e)],{type:"text/csv;charset=utf-8;"});await SCe("libraries",this.selectedService.code,t,this.$store.state.loginKey)?this.successDialog=!0:this.errorDialog=!0,this.isEditing=!1},preventNav(e){this.isEditing&&(e.preventDefault(),e.returnValue="")},removeOpeningHoursEntry(e,t){const n=this.editedItem[e].split(",").filter(r=>r.length>0);n.splice(n.indexOf(t),1),this.editedItem[e]=n.join(","),this.dialogOpeningHoursEntry=!1},save(){this.isEditing=!0,this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()}},components:{"service-select":qv}},E2e={class:"text-subtitle"},I2e={class:"text-subtitle-2"},P2e={class:"d-flex"};function D2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),p=Mm,y=qv;return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Edit library locations",subtitle:"View and edit the data held for public library locations"}),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"}),T(p,{actions:!0}),t[49]||(t[49]=Yn("h2",{class:"text-h5 text-decoration-underline my-3"}," Edit library locations ",-1)),T(dc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:Ie(()=>[T(ul,{icon:"mdi-numeric-1-circle",class:"mb-1",text:"Search for a local authority to view the libraries within that area.",title:"Local authority"}),T(y,{onSelect:t[0]||(t[0]=b=>u.loadLibraries(b))}),T(ul,{class:"mt-8 mb-1",icon:"mdi-numeric-2-circle",text:`Select the edit icon for each library to see and edit full details.
        Changes are not saved until the next step.`,title:"Make changes"}),T(ua,{color:"grey-lighten-2",variant:"outlined",elevation:"0"},{default:Ie(()=>[T(Rf,{hover:"","items-per-page":"5","no-filter":"","no-data-text":"To load library data ensure you select a local authority in Step 1.",headers:s.headers,items:s.libraries,"sort-by":[{key:"Library_name",order:"asc"}],class:"elevation-0"},{top:Ie(()=>[T(u0,{flat:"",color:"grey-lighten-5"},{default:Ie(()=>[T(Zs),T(Sd,{persistent:"",modelValue:s.dialogMainLibrary,"onUpdate:modelValue":t[16]||(t[16]=b=>s.dialogMainLibrary=b),"max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},{activator:Ie(({props:b})=>[T(Jt,lt({disabled:s.selectedService===null},b,{variant:"tonal",color:"success","prepend-icon":"mdi-plus-circle"}),{default:Ie(()=>t[25]||(t[25]=[zt(" Add library ")])),_:2},1040,["disabled"])]),default:Ie(()=>[T(ua,null,{default:Ie(()=>[T(Ir,null,{default:Ie(()=>[T(x2e,{"align-tabs":"center",modelValue:s.editTabs,"onUpdate:modelValue":t[1]||(t[1]=b=>s.editTabs=b)},{default:Ie(()=>[T(wg,{value:1},{default:Ie(()=>t[26]||(t[26]=[zt("Details")])),_:1}),T(wg,{value:2},{default:Ie(()=>t[27]||(t[27]=[zt("Address")])),_:1}),T(wg,{value:3},{default:Ie(()=>t[28]||(t[28]=[zt("Hours")])),_:1})]),_:1},8,["modelValue"]),T(Qf,{modelValue:s.editTabs,"onUpdate:modelValue":t[15]||(t[15]=b=>s.editTabs=b)},{default:Ie(()=>[(mn(),Nn(ou,{key:1,value:1},{default:Ie(()=>[T(Ir,null,{default:Ie(()=>[T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12"},{default:Ie(()=>[T(oi,{variant:"outlined",density:"compact",modelValue:s.editedItem.Library_name,"onUpdate:modelValue":t[2]||(t[2]=b=>s.editedItem.Library_name=b),label:"Name"},null,8,["modelValue"])]),_:1})]),_:1}),T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"8",md:"8"},{default:Ie(()=>[T(Ud,{modelValue:s.editedItem.Type_of_library,"onUpdate:modelValue":t[3]||(t[3]=b=>s.editedItem.Type_of_library=b),items:s.libraryTypes,variant:"outlined",density:"compact","item-title":"text","item-value":"value",label:"Type"},null,8,["modelValue","items"])]),_:1}),T(la,{cols:"12",sm:"4",md:"4"},{default:Ie(()=>[T(Ud,{variant:"outlined",density:"compact",modelValue:s.editedItem.Statutory,"onUpdate:modelValue":t[4]||(t[4]=b=>s.editedItem.Statutory=b),"menu-props":{zIndex:1e4},items:["Yes","No"],label:"Statutory"},null,8,["modelValue"])]),_:1})]),_:1}),T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_opened,"onUpdate:modelValue":t[5]||(t[5]=b=>s.editedItem.Year_opened=b),label:"Year opened",type:"number"},null,8,["modelValue"])]),_:1}),T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Year_closed,"onUpdate:modelValue":t[6]||(t[6]=b=>s.editedItem.Year_closed=b),label:"Year closed",type:"number"},null,8,["modelValue"])]),_:1})]),_:1}),T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Email_address,"onUpdate:modelValue":t[7]||(t[7]=b=>s.editedItem.Email_address=b),label:"Email address"},null,8,["modelValue"])]),_:1}),T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.URL,"onUpdate:modelValue":t[8]||(t[8]=b=>s.editedItem.URL=b),label:"Website"},null,8,["modelValue"])]),_:1})]),_:1}),T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"12",md:"12"},{default:Ie(()=>[T(S2e,{rows:"2",density:"compact",variant:"outlined",modelValue:s.editedItem.Notes,"onUpdate:modelValue":t[9]||(t[9]=b=>s.editedItem.Notes=b),label:"Notes",clearable:"","persistent-clear":"","full-width":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(mn(),Nn(ou,{key:2,value:2},{default:Ie(()=>[T(Ir,null,{default:Ie(()=>[T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_1,"onUpdate:modelValue":t[10]||(t[10]=b=>s.editedItem.Address_1=b),label:"Address 1"},null,8,["modelValue"])]),_:1}),T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_2,"onUpdate:modelValue":t[11]||(t[11]=b=>s.editedItem.Address_2=b),label:"Address 2"},null,8,["modelValue"])]),_:1})]),_:1}),T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Address_3,"onUpdate:modelValue":t[12]||(t[12]=b=>s.editedItem.Address_3=b),label:"Address 3"},null,8,["modelValue"])]),_:1}),T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Postcode,"onUpdate:modelValue":t[13]||(t[13]=b=>s.editedItem.Postcode=b),label:"Postcode"},null,8,["modelValue"])]),_:1})]),_:1}),T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"12",md:"12"},{default:Ie(()=>[T(oi,{density:"compact",variant:"outlined",modelValue:s.editedItem.Unique_property_reference_number,"onUpdate:modelValue":t[14]||(t[14]=b=>s.editedItem.Unique_property_reference_number=b),label:"Unique property reference number"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})),(mn(),Nn(ou,{key:3,value:3},{default:Ie(()=>[T(Ir,null,{default:Ie(()=>[T(Ws,{dense:""},{default:Ie(()=>[(mn(!0),ns(Gt,null,hg(s.openingHourTypes,b=>(mn(),Nn(la,{cols:"12",sm:"6",md:"6",key:b},{default:Ie(()=>[Yn("h4",E2e,Cs(b),1),(mn(!0),ns(Gt,null,hg(s.days,k=>(mn(),ns("div",{key:k,class:"my-1"},[T(yr,{class:"my-1"}),Yn("div",I2e,[T(Jt,{variant:"tonal",icon:"mdi-plus-circle",size:"x-small",color:"success",onClick:C=>u.addOpeningHoursEntry(k+"_"+b.toLowerCase()+"_hours")},null,8,["onClick"]),zt(" "+Cs(k),1)]),(mn(!0),ns(Gt,null,hg(s.editedItem[k+"_"+b.toLowerCase()+"_hours"]?s.editedItem[k+"_"+b.toLowerCase()+"_hours"].split(","):"",C=>(mn(),Nn(vl,{class:"ma-1",size:"small",key:C,label:"",closable:"","close-icon":"mdi-delete",color:"success","onClick:close":I=>u.removeOpeningHoursEntry(k+"_"+b.toLowerCase()+"_hours",C)},{default:Ie(()=>[zt(Cs(C),1)]),_:2},1032,["onClick:close"]))),128))]))),128))]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}))]),_:1},8,["modelValue"])]),_:1}),T(ic,null,{default:Ie(()=>[T(Zs),T(Jt,{variant:"plain",onClick:u.close,"append-icon":"mdi-close-circle"},{default:Ie(()=>t[29]||(t[29]=[zt(" Cancel ")])),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"success",onClick:u.save,"append-icon":"mdi-check-circle"},{default:Ie(()=>t[30]||(t[30]=[zt(" Ok ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(Sd,{persistent:"","overlay-opacity":"0.1","content-class":"elevation-0",modelValue:s.dialogDelete,"onUpdate:modelValue":t[17]||(t[17]=b=>s.dialogDelete=b),"max-width":"500px"},{default:Ie(()=>[T(ua,null,{default:Ie(()=>[T(nu,null,{default:Ie(()=>t[31]||(t[31]=[zt("Remove library?")])),_:1}),T(Do,null,{default:Ie(()=>t[32]||(t[32]=[zt(" This action will remove the library. If the library has closed it should not be removed. The closed year can be entered in the library details to mark it as closed and retain the details. ")])),_:1}),T(ic,null,{default:Ie(()=>[T(Zs),T(Jt,{variant:"plain",onClick:u.closeDelete,"append-icon":"mdi-close-circle"},{default:Ie(()=>t[33]||(t[33]=[zt(" Cancel ")])),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"warning",onClick:u.deleteItemConfirm,"append-icon":"mdi-delete"},{default:Ie(()=>t[34]||(t[34]=[zt(" Remove ")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(Sd,{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0",modelValue:s.dialogOpeningHoursEntry,"onUpdate:modelValue":t[20]||(t[20]=b=>s.dialogOpeningHoursEntry=b),"max-width":"500px"},{default:Ie(()=>[T(ua,null,{default:Ie(()=>[T(nu,null,{default:Ie(()=>t[35]||(t[35]=[zt("Add opening hours")])),_:1}),T(Do,null,{default:Ie(()=>[T(Ws,{dense:""},{default:Ie(()=>[T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{variant:"outlined",density:"compact",modelValue:s.openingHoursOpen,"onUpdate:modelValue":t[18]||(t[18]=b=>s.openingHoursOpen=b),label:"Opening time",type:"time"},null,8,["modelValue"])]),_:1}),T(la,{cols:"12",sm:"6",md:"6"},{default:Ie(()=>[T(oi,{variant:"outlined",density:"compact",modelValue:s.openingHoursClose,"onUpdate:modelValue":t[19]||(t[19]=b=>s.openingHoursClose=b),label:"Closing time",type:"time"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),T(ic,null,{default:Ie(()=>[T(Zs),T(Jt,{variant:"plain",onClick:u.closeOpeningHoursEntry,"append-icon":"mdi-close-circle"},{default:Ie(()=>t[36]||(t[36]=[zt("Cancel")])),_:1},8,["onClick"]),T(Jt,{variant:"tonal",color:"success",onClick:u.confirmOpeningHoursEntry,disabled:!s.openingHoursOpen||!s.openingHoursClose,"append-icon":"mdi-check-circle"},{default:Ie(()=>t[37]||(t[37]=[zt("Ok")])),_:1},8,["onClick","disabled"]),T(Zs)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),"item.actions":Ie(({item:b})=>[Yn("div",P2e,[T(rr,{class:"mr-2",onClick:k=>u.editItem(b)},{default:Ie(()=>t[38]||(t[38]=[zt(" mdi-pencil ")])),_:2},1032,["onClick"]),T(rr,{onClick:k=>u.deleteItem(b)},{default:Ie(()=>t[39]||(t[39]=[zt("mdi-delete")])),_:2},1032,["onClick"])])]),_:2},1032,["headers","items"])]),_:1}),T(ul,{class:"mt-8",icon:"mdi-numeric-3-circle",title:"Save changes"},{default:Ie(()=>t[40]||(t[40]=[zt(" If you are logged in with access to edit the library data, you can update the data by selecting "),Yn("strong",null,"Publish changes",-1),zt(". You can also save a copy of the data to your computer. ")])),_:1}),T(Jt,{disabled:!s.isEditing,size:"large",variant:"tonal",color:"info","append-icon":"mdi-content-save",onClick:u.download},{default:Ie(()=>t[41]||(t[41]=[zt(" Save local copy ")])),_:1},8,["disabled","onClick"]),T(Jt,{disabled:!s.isEditing||!this.$store.state.loginKey,size:"large",variant:"tonal",color:"success",class:"ma-2","append-icon":"mdi-cloud-upload",onClick:u.publishChanges},{default:Ie(()=>t[42]||(t[42]=[zt(" Publish changes ")])),_:1},8,["disabled","onClick"]),T(Sd,{modelValue:s.successDialog,"onUpdate:modelValue":t[22]||(t[22]=b=>s.successDialog=b),persistent:"","max-width":"290"},{default:Ie(()=>[T(ua,null,{default:Ie(()=>[T(nu,{class:"text-h5"},{default:Ie(()=>t[43]||(t[43]=[zt("Success")])),_:1}),T(Do,null,{default:Ie(()=>t[44]||(t[44]=[zt("Your changes have been published. Thank you")])),_:1}),T(ic,null,{default:Ie(()=>[T(Zs),T(Jt,{color:"secondary",text:"",onClick:t[21]||(t[21]=b=>s.successDialog=!1)},{default:Ie(()=>t[45]||(t[45]=[zt(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),T(Sd,{modelValue:s.errorDialog,"onUpdate:modelValue":t[24]||(t[24]=b=>s.errorDialog=b),persistent:"","max-width":"290"},{default:Ie(()=>[T(ua,null,{default:Ie(()=>[T(nu,{class:"text-h5"},{default:Ie(()=>t[46]||(t[46]=[zt("Sorry")])),_:1}),T(Do,null,{default:Ie(()=>t[47]||(t[47]=[zt(" Your changes failed to publish - please contact info@librarieshacked.org ")])),_:1}),T(ic,null,{default:Ie(()=>[T(Zs),T(Jt,{color:"secondary",text:"",onClick:t[23]||(t[23]=b=>s.errorDialog=!1)},{default:Ie(()=>t[48]||(t[48]=[zt(" Close ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const M2e=ni(A2e,[["render",D2e]]),L2e=`A loan is the issuing of an item of stock to a library member. Renewing an item already on loan is counted as an additional loan.

Loans are in a **time-series** format. Data is maintained by adding new data (e.g. the next months loans).
`,R2e={data(){return{mdText:L2e}},methods:{},components:{}},O2e={class:"text-center"};function F2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Loans",subtitle:"Lending of library items"}),Yn("p",O2e,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/loans",target:"_blank"},{default:Ie(()=>t[0]||(t[0]=[zt(" Explore the loans schema ")])),_:1})]),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"})]),_:1})}const z2e=ni(R2e,[["render",F2e]]),B2e=`Anyone can browse this site, as well use the tools to create and visualise library data.

To publish updates to existing data, you need to login. If your organisation has access you will be able to login using your organisation email address.

Once you've entered a valid email address you will be emailed an access link.
`;async function V2e(e){try{const t=await zr.post(lSe,{email:e,website:cSe});if(t&&t.status===200)return!0}catch{return!1}return!1}const N2e=We({...un(),...H3()},"VForm"),$2e=ht()({name:"VForm",props:N2e(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:r}=t;const s=G3(e),u=dt();function h(p){p.preventDefault(),s.reset()}function o(p){const y=p,b=s.validate();y.then=b.then.bind(b),y.catch=b.catch.bind(b),y.finally=b.finally.bind(b),r("submit",y),y.defaultPrevented||b.then(k=>{var I;let{valid:C}=k;C&&((I=u.value)==null||I.submit())}),y.preventDefault()}return kt(()=>{var p;return T("form",{ref:u,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:h,onSubmit:o},[(p=n.default)==null?void 0:p.call(n,s)])}),lo(s,u)}}),U2e={data(){return{mdText:B2e,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.processLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await V2e(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},processLoginKey:function(){const t=Fke().query.key;t&&(this.$store.commit("setLoginKey",t),this.$router.push("/profile"))}},components:{}};function q2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),Yn("section",null,[T(Ir,null,{default:Ie(()=>[T(ua,{color:"success",variant:"outlined",elevation:"0",loading:s.loading,"max-width":"350",class:"mx-auto"},{progress:Ie(()=>[T(bv,{height:"5",indeterminate:""})]),default:Ie(()=>[T(nu,null,{default:Ie(()=>t[2]||(t[2]=[zt("Access the site")])),_:1}),s.success?Zn("",!0):(mn(),Nn(Do,{key:0},{default:Ie(()=>[T($2e,{ref:"form",modelValue:s.valid,"onUpdate:modelValue":t[1]||(t[1]=p=>s.valid=p)},{default:Ie(()=>[T(oi,{clearable:"",variant:"outlined",modelValue:s.email,"onUpdate:modelValue":t[0]||(t[0]=p=>s.email=p),rules:s.emailRules,label:"Enter email address",type:"email","prepend-inner-icon":"mdi-email",required:""},null,8,["modelValue","rules"]),Yn("p",null,Cs(s.message),1)]),_:1},8,["modelValue"])]),_:1})),s.success?(mn(),Nn(Do,{key:1},{default:Ie(()=>t[3]||(t[3]=[zt(" Thank you - you should receive an email shortly. ")])),_:1})):Zn("",!0),s.success?Zn("",!0):(mn(),Nn(ic,{key:2},{default:Ie(()=>[T(Zs),T(Jt,{"append-icon":"mdi-email",variant:"tonal",size:"large",color:"success",text:"",onClick:u.login,disabled:!s.valid},{default:Ie(()=>t[4]||(t[4]=[zt(" Log in ")])),_:1},8,["onClick","disabled"])]),_:1}))]),_:1},8,["loading"])]),_:1})])]),_:1})}const j2e=ni(U2e,[["render",q2e]]),H2e=`A library member is any member of the public registered with the library service.

Membership data is a **snapshot**. This means that each update to the data is a fresh export, representing the membership at that point in time.
`,G2e={data(){return{mdText:H2e}},methods:{},components:{}},W2e={class:"text-center"};function Y2e(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}),Yn("p",W2e,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/membership",target:"_blank"},{default:Ie(()=>t[0]||(t[0]=[zt(" Explore the membership schema ")])),_:1})]),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"})]),_:1})}const Z2e=ni(G2e,[["render",Y2e]]),K2e=We({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...Cm({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>Zr(e).every(t=>t!=null&&typeof t=="object")},...Cv({clearable:!0})},"VFileInput"),X2e=ht()({name:"VFileInput",inheritAttrs:!1,props:K2e(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{t:u}=li(),h=fn(e,"modelValue",e.modelValue,$=>Zr($),$=>!e.multiple&&Array.isArray($)?$[0]:$),{isFocused:o,focus:p,blur:y}=km(e),b=Y(()=>typeof e.showSize!="boolean"?e.showSize:void 0),k=Y(()=>(h.value??[]).reduce(($,Z)=>{let{size:ae=0}=Z;return $+ae},0)),C=Y(()=>sk(k.value,b.value)),I=Y(()=>(h.value??[]).map($=>{const{name:Z="",size:ae=0}=$;return e.showSize?`${Z} (${sk(ae,b.value)})`:Z})),R=Y(()=>{var Z;const $=((Z=h.value)==null?void 0:Z.length)??0;return e.showSize?u(e.counterSizeString,$,C.value):u(e.counterString,$)}),L=dt(),O=dt(),B=dt(),q=Y(()=>o.value||e.active),J=Y(()=>["plain","underlined"].includes(e.variant));function ee(){var $;B.value!==document.activeElement&&(($=B.value)==null||$.focus()),o.value||p()}function ie($){var Z;(Z=B.value)==null||Z.click()}function re($){r("mousedown:control",$)}function le($){var Z;(Z=B.value)==null||Z.click(),r("click:control",$)}function H($){$.stopPropagation(),ee(),Jn(()=>{h.value=[],Q0(e["onClick:clear"],$)})}return ct(h,$=>{(!Array.isArray($)||!$.length)&&B.value&&(B.value.value="")}),kt(()=>{const $=!!(s.counter||e.counter),Z=!!($||s.details),[ae,te]=pm(n),{modelValue:be,...me}=hc.filterProps(e),Pe=Ax(e);return T(hc,lt({ref:L,modelValue:h.value,"onUpdate:modelValue":Ae=>h.value=Ae,class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":J.value},e.class],style:e.style,"onClick:prepend":ie},ae,me,{centerAffix:!J.value,focused:o.value}),{...s,default:Ae=>{let{id:Ue,isDisabled:Fe,isDirty:Ce,isReadonly:Ve,isValid:$e}=Ae;return T(Tv,lt({ref:O,"prepend-icon":e.prependIcon,onMousedown:re,onClick:le,"onClick:clear":H,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},Pe,{id:Ue.value,active:q.value||Ce.value,dirty:Ce.value||e.dirty,disabled:Fe.value,focused:o.value,error:$e.value===!1}),{...s,default:qe=>{var $t;let{props:{class:gt,...Ct}}=qe;return T(Gt,null,[T("input",lt({ref:B,type:"file",readonly:Ve.value,disabled:Fe.value,multiple:e.multiple,name:e.name,onClick:vt=>{vt.stopPropagation(),Ve.value&&vt.preventDefault(),ee()},onChange:vt=>{if(!vt.target)return;const Ne=vt.target;h.value=[...Ne.files??[]]},onFocus:ee,onBlur:y},Ct,te),null),T("div",{class:gt},[!!(($t=h.value)!=null&&$t.length)&&!e.hideInput&&(s.selection?s.selection({fileNames:I.value,totalBytes:k.value,totalBytesReadable:C.value}):e.chips?I.value.map(vt=>T(vl,{key:vt,size:"small",text:vt},null)):I.value.join(", "))])])}})},details:Z?Ae=>{var Ue,Fe;return T(Gt,null,[(Ue=s.details)==null?void 0:Ue.call(s,Ae),$&&T(Gt,null,[T("span",null,null),T(kx,{active:!!((Fe=h.value)!=null&&Fe.length),value:R.value,disabled:e.disabled},s.counter)])])}:void 0})}),lo({},L,O,B)}}),J2e={props:["files"],methods:{updateSelection(e){this.$emit("change-files",e)}}};function Q2e(e,t,n,r,s,u){return mn(),Nn(ua,{elevation:"0",color:"grey-lighten-5",class:"pt-4"},{default:Ie(()=>[T(X2e,{chips:"",accept:"text/csv",variant:"solo-filled",flat:"",multiple:"",label:"Select a file on your computer","model-value":n.files,"onUpdate:modelValue":t[0]||(t[0]=h=>u.updateSelection(h)),hint:"Only files with a .csv extension will be available","persistent-hint":"","persistent-clear":"","prepend-icon":"","prepend-inner-icon":"mdi-file-document"},null,8,["model-value"])]),_:1})}const Gv=ni(J2e,[["render",Q2e]]),eTe=`This tool displays library membership on a map to help explore areas of low or high membership, alongside other data such as the socioeconomic deprivation of areas.

To use this tool you will need library membership data in the [membership data schema format](https://schema.librarydata.uk/membership). This can be created using the [postcode to statistical area converter](/postcode-to-lsoa).
`,tTe=e=>/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/.test(e);String.prototype.isUrl=tTe;var Gs={schemeGroups:{sequential:["BuGn","BuPu","GnBu","OrRd","PuBu","PuBuGn","PuRd","RdPu","YlGn","YlGnBu","YlOrBr","YlOrRd"],singlehue:["Blues","Greens","Greys","Oranges","Purples","Reds"],diverging:["BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"],qualitative:["Accent","Dark2","Paired","Pastel1","Pastel2","Set1","Set2","Set3"]},YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};function iD(e,t,n){if(e!==null)for(var r,s,u,h,o,p,y,b=0,k=0,C,I=e.type,R=I==="FeatureCollection",L=I==="Feature",O=R?e.features.length:1,B=0;B<O;B++){y=R?e.features[B].geometry:L?e.geometry:e,C=y?y.type==="GeometryCollection":!1,o=C?y.geometries.length:1;for(var q=0;q<o;q++){var J=0,ee=0;if(h=C?y.geometries[q]:y,h!==null){p=h.coordinates;var ie=h.type;switch(b=0,ie){case null:break;case"Point":if(t(p,k,B,J,ee)===!1)return!1;k++,J++;break;case"LineString":case"MultiPoint":for(r=0;r<p.length;r++){if(t(p[r],k,B,J,ee)===!1)return!1;k++,ie==="MultiPoint"&&J++}ie==="LineString"&&J++;break;case"Polygon":case"MultiLineString":for(r=0;r<p.length;r++){for(s=0;s<p[r].length-b;s++){if(t(p[r][s],k,B,J,ee)===!1)return!1;k++}ie==="MultiLineString"&&J++,ie==="Polygon"&&ee++}ie==="Polygon"&&J++;break;case"MultiPolygon":for(r=0;r<p.length;r++){for(ee=0,s=0;s<p[r].length;s++){for(u=0;u<p[r][s].length-b;u++){if(t(p[r][s][u],k,B,J,ee)===!1)return!1;k++}ee++}J++}break;case"GeometryCollection":for(r=0;r<h.geometries.length;r++)if(iD(h.geometries[r],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function d0(e){var t=[1/0,1/0,-1/0,-1/0];return iD(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}d0.default=d0;const nTe=We({...zx({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),I2=ht()({name:"VRadio",props:nTe(),setup(e,t){let{slots:n}=t;return kt(()=>{const r=nm.filterProps(e);return T(nm,lt(r,{class:["v-radio",e.class],style:e.style,type:"radio"}),n)}),{}}}),rTe=We({height:{type:[Number,String],default:"auto"},...Cm(),...Pr(Fx(),["multiple"]),trueIcon:{type:pn,default:"$radioOn"},falseIcon:{type:pn,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),iTe=ht()({name:"VRadioGroup",inheritAttrs:!1,props:rTe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:r}=t;const s=Is(),u=Y(()=>e.id||`radio-group-${s}`),h=fn(e,"modelValue");return kt(()=>{const[o,p]=pm(n),y=hc.filterProps(e),b=nm.filterProps(e),k=r.label?r.label({label:e.label,props:{for:u.value}}):e.label;return T(hc,lt({class:["v-radio-group",e.class],style:e.style},o,y,{modelValue:h.value,"onUpdate:modelValue":C=>h.value=C,id:u.value}),{...r,default:C=>{let{id:I,messagesId:R,isDisabled:L,isReadonly:O}=C;return T(Gt,null,[k&&T(Cx,{id:I.value},{default:()=>[k]}),T(n5,lt(b,{id:I.value,"aria-describedby":R.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:L.value,readonly:O.value,"aria-labelledby":k?I.value:void 0,multiple:!1},p,{modelValue:h.value,"onUpdate:modelValue":B=>h.value=B}),r)])}})}),{}}}),aTe={data(){return{authorityLsoaStats:[],authorityLsoaStatsSummary:[],authorityLsoaStatsSummaryColumns:[{title:"LSOAs",key:"lsoas"},{title:"Population",key:"population"},{title:"Members",key:"members"},{title:"Member percentage",key:"memberPercentage"},{title:"Min percentage",key:"minMembersPercentage"},{title:"Max percentage",key:"maxMembersPercentage"}],authorityDeprivationSummaryColumns:[{title:"Index of multiple deprivation",key:"imd"},{title:"Population",key:"population"},{title:"Percentage of population",key:"percentPopulation"},{title:"Members",key:"members"},{title:"Percentage of members",key:"percentMembers"}],authorityRuralUrbanSummaryColumns:[{title:"Rural Urban Classification",key:"ruralUrbanClassification"},{title:"Population",key:"population"},{title:"Percentage of population",key:"percentPopulation"},{title:"Members",key:"members"},{title:"Percentage of members",key:"percentMembers"}],authorityDeprivationSummary:[],authorityRuralUrbanSummary:[],authoritySource:{data:{type:"FeatureCollection",features:[]},show:!1},authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},center:[-2,52],zoom:7,librariesSource:{tiles:[sSe]},librariesLayerCircle:{filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoaFiles:[],lsoasSource:{tiles:[aSe],promoteId:{lsoa_boundaries:"code"},show:!1},lsoasLayerFill:{paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},lsoasLayerLabel:{minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Source Sans Pro SemiBold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}},matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",matchFilter:["in",["get","code"],["literal",[]]],mapDisplay:"populationPercentage",mapStyle:"https://zoomstack.librarydata.uk/light.json",minZoom:5,maxZoom:16,matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],mdText:eTe}},methods:{addMembershipData:async function(){const e=this;if(e.lsoaFiles[0].name){const t=await i1(e.lsoaFiles[0],!1);this.setLsoaFields(t.slice(1));const n=await dSe(t[1][0]),r=await hSe(n.code),s=[],u=[];r.forEach(p=>{const y=t.find(b=>b[2]===p.code);if(console.log(p),y){const b=y[3].replace("x","2"),k=b.length>0?parseInt(b):0;p.members=k,p.memberPercentage=k/p.population*100;const C=s.find(R=>R.imd===p.imd_decile);C?(C.population+=p.population,C.members+=k):s.push({imd:p.imd_decile,population:p.population,members:k});const I=u.find(R=>R.ruralUrbanClassification===p.rural_urban_code);I?(I.population+=p.population,I.members+=k):u.push({ruralUrbanClassification:p.rural_urban_code,population:p.population,members:p.members})}else p.members=0,p.memberPercentage=0}),s.forEach(p=>{p.percentPopulation=Math.round(p.population/s.reduce((y,b)=>y+b.population,0)*100),p.percentMembers=Math.round(p.members/s.reduce((y,b)=>y+b.members,0)*100)}),u.forEach(p=>{p.percentPopulation=Math.round(p.population/u.reduce((y,b)=>y+b.population,0)*100),p.percentMembers=Math.round(p.members/u.reduce((y,b)=>y+b.members,0)*100)}),this.authorityLsoaStats=r,this.authorityDeprivationSummary=s.sort((p,y)=>p.imd-y.imd),this.authorityRuralUrbanSummary=u.sort((p,y)=>p.ruralUrbanClassification.localeCompare(y.ruralUrbanClassification)),this.authorityLsoaStatsSummary={lsoas:r.length,population:r.reduce((p,y)=>p+y.population,0),members:r.reduce((p,y)=>p+y.members,0),minMembersPercentage:Math.round(Math.min(...r.map(p=>p.memberPercentage))),maxMembersPercentage:Math.round(Math.max(...r.map(p=>p.memberPercentage)))},this.authorityLsoaStatsSummary.memberPercentage=Math.round(this.authorityLsoaStatsSummary.members/this.authorityLsoaStatsSummary.population*100);const h=JSON.parse(n.geojson);this.authoritySource.data=h,this.authoritySource.show=!0;const o=d0(h);this.$refs.mglMap.map.fitBounds(o,{padding:10})}},setDisplayOptions:function(){this.mapDisplay==="populationPercentage"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaPopulation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaPopulation)),this.mapDisplay==="imd"&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaDeprivation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaDeprivation))},setLsoaFields:function(e){const t=[],n=["match",["get","code"]],r=["match",["get","code"]];e.forEach(k=>{const C=parseInt(k[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoas",sourceLayer:"lsoa_boundaries",id:k[2]},{members:C}),t.push(k[2]),n.push(k[2]),n.push(["concat",["to-string",["round",["*",["/",C,["to-number",["get","population"]]],100]]],"%"]),r.push(k[2]),r.push(["get","imd"])}),n.push(""),r.push("");const s=Math.floor(Math.min(...e.map(k=>parseInt(k[3].replace("x","2"))/1800*100))),u=Math.ceil(Math.max(...e.filter(k=>k[3]<=1200).map(k=>parseInt(k[3].replace("x","2"))/1500*100))),o=[1,2,3,4,5,6,7,8,9].map(k=>Math.round(s+(u-s)*(k/10))).map((k,C)=>[k,Gs.OrRd[9][C]]),p=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],...o.flat()],y=["interpolate",["linear"],["to-number",["get","imd"]],1,Gs.OrRd[9][8],2,Gs.OrRd[9][7],3,Gs.OrRd[9][6],4,Gs.OrRd[9][5],5,Gs.OrRd[9][4],6,Gs.OrRd[9][3],7,Gs.OrRd[9][2],8,Gs.OrRd[9][1],9,Gs.OrRd[9][0],10,Gs.OrRd[9][0]],b=["in",["get","code"],["literal",t]];this.matchFilter=b,this.$refs.mglMap.map.setFilter("lsoas_layer_fill",b),this.$refs.mglMap.map.setFilter("lsoas_layer_label",b),this.matchFieldLsoaPopulation=n,this.matchFieldLsoaDeprivation=r,this.matchColourLsoaPopulation=p,this.matchColourLsoaDeprivation=y,this.setDisplayOptions()}},components:{"file-upload":Gv}},sTe={key:0};function oTe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),p=Gv,y=kn("mgl-fullscreen-control"),b=kn("mgl-navigation-control"),k=kn("mgl-scale-control"),C=kn("mgl-circle-layer"),I=kn("mgl-vector-source"),R=kn("mgl-fill-layer"),L=kn("mgl-symbol-layer"),O=kn("mgl-line-layer"),B=kn("mgl-geo-json-source"),q=kn("mgl-map");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Membership map",subtitle:"Insights from library membership data"}),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"}),t[13]||(t[13]=Yn("h2",{class:"text-h5 text-decoration-underline my-3"},"Map library members",-1)),T(dc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:Ie(()=>[T(ul,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:Ie(()=>t[3]||(t[3]=[zt(" First you need a CSV file in the format of the membership data schema. ")])),_:1}),T(p,{files:s.lsoaFiles,onChangeFiles:t[0]||(t[0]=J=>s.lsoaFiles=J),onDeleteFile:t[1]||(t[1]=J=>s.lsoaFiles=null)},null,8,["files"]),T(Jt,{"append-icon":"mdi-map-marker-plus",color:"info",class:"mt-3",variant:"tonal",size:"large",onClick:u.addMembershipData,disabled:s.lsoaFiles.length==0},{default:Ie(()=>t[4]||(t[4]=[zt(" Display on map ")])),_:1},8,["onClick","disabled"]),T(ul,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Map"},{default:Ie(()=>t[5]||(t[5]=[Yn("strong",null,"Percentage membership",-1),zt(" shades the map to highlight concentration of membership. When zooming in this also displays the membership population percentage for individual areas. "),Yn("strong",null,"Displaying deprivation",-1),zt(" shades the map to highlight highly deprived areas. This uses the index of multiple deprivation for each area. 1 represents highly deprived areas and is shaded in red, 10 the least deprived. ")])),_:1}),T(iTe,{modelValue:s.mapDisplay,"onUpdate:modelValue":t[2]||(t[2]=J=>s.mapDisplay=J),onChange:u.setDisplayOptions,inline:""},{default:Ie(()=>[T(I2,{label:"Highlight percentage membership",value:"populationPercentage"}),T(I2,{label:"Highlight deprivation levels",value:"imd"})]),_:1},8,["modelValue","onChange"]),T(Ir,{class:"map"},{default:Ie(()=>[T(q,{ref:"mglMap",center:s.center,zoom:s.zoom,mapStyle:s.mapStyle},{default:Ie(()=>[T(y),T(b),T(k),T(I,{"source-id":"libraries",tiles:s.librariesSource.tiles},{default:Ie(()=>[T(C,{"source-layer":"libraries","layer-id":"libraries_layer_circles",paint:s.librariesLayerCircle.paint},null,8,["paint"])]),_:1},8,["tiles"]),T(I,{"source-id":"lsoas",tiles:s.lsoasSource.tiles,promoteId:s.lsoasSource.promoteId},{default:Ie(()=>[T(R,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_fill",paint:s.lsoasLayerFill.paint,filter:s.matchFilter},null,8,["paint","filter"]),T(L,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_label",paint:s.lsoasLayerLabel.paint,layout:s.lsoasLayerLabel.layout,filter:s.matchFilter,minzoom:s.lsoasLayerLabel.minzoom},null,8,["paint","layout","filter","minzoom"])]),_:1},8,["tiles","promoteId"]),T(B,{"source-id":"authority",data:s.authoritySource.data},{default:Ie(()=>[s.authoritySource.show?(mn(),Nn(O,{key:0,"layer-id":"authority-line",paint:s.authorityLayerLine.paint},null,8,["paint"])):Zn("",!0),s.authoritySource.show?(mn(),Nn(L,{key:1,"layer-id":"authority-label",layout:s.authorityLayerLabel.layout,paint:s.authorityLayerLabel.paint},null,8,["layout","paint"])):Zn("",!0)]),_:1},8,["data"])]),_:1},8,["center","zoom","mapStyle"])]),_:1}),T(Ir,null,{default:Ie(()=>[s.authorityLsoaStats.length>0?(mn(),ns("span",sTe,[t[10]||(t[10]=Yn("h3",{class:"text-h6 text-decoration-underline my-3"},"Authority LSOAs",-1)),T(ua,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:Ie(()=>[T(Rf,{"no-filter":"",headers:s.authorityLsoaStatsSummaryColumns,items:[s.authorityLsoaStatsSummary],"item-key":"lsoas"},{bottom:Ie(()=>t[6]||(t[6]=[])),_:1},8,["headers","items"])]),_:1}),t[11]||(t[11]=Yn("h3",{class:"text-h6 text-decoration-underline my-3"},"LSOA deprivation stats",-1)),T(ua,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:Ie(()=>[T(Rf,{"no-filter":"",headers:s.authorityDeprivationSummaryColumns,items:s.authorityDeprivationSummary,"item-key":"imd"},{bottom:Ie(()=>t[7]||(t[7]=[])),_:1},8,["headers","items"])]),_:1}),t[12]||(t[12]=Yn("h3",{class:"text-h6 text-decoration-underline my-3"},"LSOA rural_urban classifications",-1)),T(ua,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:Ie(()=>[T(Rf,{"no-filter":"",headers:s.authorityRuralUrbanSummaryColumns,items:s.authorityRuralUrbanSummary,"item-key":"ruralUrbanClassification"},{bottom:Ie(()=>t[8]||(t[8]=[])),_:1},8,["headers","items"])]),_:1}),T(Jt,{color:"info",variant:"tonal",size:"large",onClick:e.downloadStats,"append-icon":"mdi-content-save"},{default:Ie(()=>t[9]||(t[9]=[zt(" Save all authority LSOA stats ")])),_:1},8,["onClick"])])):Zn("",!0)]),_:1})]),_:1})]),_:1})}const lTe=ni(aTe,[["render",oTe]]),cTe=`This tool converts postcodes into statistical areas. These are useful for location-based analysis. England and Wales compile demographic data at census-based 'lower super output area' geographic areas. In Scotland, 'Data Zones' are commonly used, and in Northern Ireland, 'Small Areas'.

When using this tool, all postcodes are stored securely on your own computer, and never transmitted online.
`;//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var aD;function jt(){return aD.apply(null,arguments)}function uTe(e){aD=e}function ro(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function cu(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ir(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o1(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ir(e,t))return!1;return!0}function $a(e){return e===void 0}function yl(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Lm(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function sD(e,t){var n=[],r,s=e.length;for(r=0;r<s;++r)n.push(t(e[r],r));return n}function ac(e,t){for(var n in t)ir(t,n)&&(e[n]=t[n]);return ir(t,"toString")&&(e.toString=t.toString),ir(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Vo(e,t,n,r){return ID(e,t,n,r,!0).utc()}function dTe(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function On(e){return e._pf==null&&(e._pf=dTe()),e._pf}var h0;Array.prototype.some?h0=Array.prototype.some:h0=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function l1(e){var t=null,n=!1,r=e._d&&!isNaN(e._d.getTime());if(r&&(t=On(e),n=h0.call(t.parsedDateParts,function(s){return s!=null}),r=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r;return e._isValid}function Wv(e){var t=Vo(NaN);return e!=null?ac(On(t),e):On(t).userInvalidated=!0,t}var P2=jt.momentProperties=[],ab=!1;function c1(e,t){var n,r,s,u=P2.length;if($a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),$a(t._i)||(e._i=t._i),$a(t._f)||(e._f=t._f),$a(t._l)||(e._l=t._l),$a(t._strict)||(e._strict=t._strict),$a(t._tzm)||(e._tzm=t._tzm),$a(t._isUTC)||(e._isUTC=t._isUTC),$a(t._offset)||(e._offset=t._offset),$a(t._pf)||(e._pf=On(t)),$a(t._locale)||(e._locale=t._locale),u>0)for(n=0;n<u;n++)r=P2[n],s=t[r],$a(s)||(e[r]=s);return e}function Rm(e){c1(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ab===!1&&(ab=!0,jt.updateOffset(this),ab=!1)}function io(e){return e instanceof Rm||e!=null&&e._isAMomentObject!=null}function oD(e){jt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Ls(e,t){var n=!0;return ac(function(){if(jt.deprecationHandler!=null&&jt.deprecationHandler(null,e),n){var r=[],s,u,h,o=arguments.length;for(u=0;u<o;u++){if(s="",typeof arguments[u]=="object"){s+=`
[`+u+"] ";for(h in arguments[0])ir(arguments[0],h)&&(s+=h+": "+arguments[0][h]+", ");s=s.slice(0,-2)}else s=arguments[u];r.push(s)}oD(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var D2={};function lD(e,t){jt.deprecationHandler!=null&&jt.deprecationHandler(e,t),D2[e]||(oD(t),D2[e]=!0)}jt.suppressDeprecationWarnings=!1;jt.deprecationHandler=null;function No(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function hTe(e){var t,n;for(n in e)ir(e,n)&&(t=e[n],No(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function f0(e,t){var n=ac({},e),r;for(r in t)ir(t,r)&&(cu(e[r])&&cu(t[r])?(n[r]={},ac(n[r],e[r]),ac(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)ir(e,r)&&!ir(t,r)&&cu(e[r])&&(n[r]=ac({},n[r]));return n}function u1(e){e!=null&&this.set(e)}var m0;Object.keys?m0=Object.keys:m0=function(e){var t,n=[];for(t in e)ir(e,t)&&n.push(t);return n};var fTe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function mTe(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return No(r)?r.call(t,n):r}function Lo(e,t,n){var r=""+Math.abs(e),s=t-r.length,u=e>=0;return(u?n?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var d1=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,lg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,sb={},Ld={};function dn(e,t,n,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),e&&(Ld[e]=s),t&&(Ld[t[0]]=function(){return Lo(s.apply(this,arguments),t[1],t[2])}),n&&(Ld[n]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function pTe(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function gTe(e){var t=e.match(d1),n,r;for(n=0,r=t.length;n<r;n++)Ld[t[n]]?t[n]=Ld[t[n]]:t[n]=pTe(t[n]);return function(s){var u="",h;for(h=0;h<r;h++)u+=No(t[h])?t[h].call(s,e):t[h];return u}}function Sg(e,t){return e.isValid()?(t=cD(t,e.localeData()),sb[t]=sb[t]||gTe(t),sb[t](e)):e.localeData().invalidDate()}function cD(e,t){var n=5;function r(s){return t.longDateFormat(s)||s}for(lg.lastIndex=0;n>=0&&lg.test(e);)e=e.replace(lg,r),lg.lastIndex=0,n-=1;return e}var vTe={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function yTe(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(d1).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var _Te="Invalid date";function bTe(){return this._invalidDate}var xTe="%d",wTe=/\d{1,2}/;function STe(e){return this._ordinal.replace("%d",e)}var kTe={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function CTe(e,t,n,r){var s=this._relativeTime[n];return No(s)?s(e,t,n,r):s.replace(/%d/i,e)}function TTe(e,t){var n=this._relativeTime[e>0?"future":"past"];return No(n)?n(t):n.replace(/%s/i,t)}var M2={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Rs(e){return typeof e=="string"?M2[e]||M2[e.toLowerCase()]:void 0}function h1(e){var t={},n,r;for(r in e)ir(e,r)&&(n=Rs(r),n&&(t[n]=e[r]));return t}var ATe={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function ETe(e){var t=[],n;for(n in e)ir(e,n)&&t.push({unit:n,priority:ATe[n]});return t.sort(function(r,s){return r.priority-s.priority}),t}var uD=/\d/,ds=/\d\d/,dD=/\d{3}/,f1=/\d{4}/,Yv=/[+-]?\d{6}/,jr=/\d\d?/,hD=/\d\d\d\d?/,fD=/\d\d\d\d\d\d?/,Zv=/\d{1,3}/,m1=/\d{1,4}/,Kv=/[+-]?\d{1,6}/,rh=/\d+/,Xv=/[+-]?\d+/,ITe=/Z|[+-]\d\d:?\d\d/gi,Jv=/Z|[+-]\d\d(?::?\d\d)?/gi,PTe=/[+-]?\d+(\.\d{1,3})?/,Om=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ih=/^[1-9]\d?/,p1=/^([1-9]\d|\d)/,Jg;Jg={};function en(e,t,n){Jg[e]=No(t)?t:function(r,s){return r&&n?n:t}}function DTe(e,t){return ir(Jg,e)?Jg[e](t._strict,t._locale):new RegExp(MTe(e))}function MTe(e){return ml(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,s,u){return n||r||s||u}))}function ml(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ss(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Un(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Ss(t)),n}var p0={};function kr(e,t){var n,r=t,s;for(typeof e=="string"&&(e=[e]),yl(t)&&(r=function(u,h){h[t]=Un(u)}),s=e.length,n=0;n<s;n++)p0[e[n]]=r}function Fm(e,t){kr(e,function(n,r,s,u){s._w=s._w||{},t(n,s._w,s,u)})}function LTe(e,t,n){t!=null&&ir(p0,e)&&p0[e](t,n._a,n,e)}function Qv(e){return e%4===0&&e%100!==0||e%400===0}var ha=0,dl=1,Ao=2,Pi=3,Js=4,hl=5,ru=6,RTe=7,OTe=8;dn("Y",0,0,function(){var e=this.year();return e<=9999?Lo(e,4):"+"+e});dn(0,["YY",2],0,function(){return this.year()%100});dn(0,["YYYY",4],0,"year");dn(0,["YYYYY",5],0,"year");dn(0,["YYYYYY",6,!0],0,"year");en("Y",Xv);en("YY",jr,ds);en("YYYY",m1,f1);en("YYYYY",Kv,Yv);en("YYYYYY",Kv,Yv);kr(["YYYYY","YYYYYY"],ha);kr("YYYY",function(e,t){t[ha]=e.length===2?jt.parseTwoDigitYear(e):Un(e)});kr("YY",function(e,t){t[ha]=jt.parseTwoDigitYear(e)});kr("Y",function(e,t){t[ha]=parseInt(e,10)});function Of(e){return Qv(e)?366:365}jt.parseTwoDigitYear=function(e){return Un(e)+(Un(e)>68?1900:2e3)};var mD=ah("FullYear",!0);function FTe(){return Qv(this.year())}function ah(e,t){return function(n){return n!=null?(pD(this,e,n),jt.updateOffset(this,t),this):om(this,e)}}function om(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function pD(e,t,n){var r,s,u,h,o;if(!(!e.isValid()||isNaN(n))){switch(r=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(s?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(s?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(s?r.setUTCHours(n):r.setHours(n));case"Date":return void(s?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}u=n,h=e.month(),o=e.date(),o=o===29&&h===1&&!Qv(u)?28:o,s?r.setUTCFullYear(u,h,o):r.setFullYear(u,h,o)}}function zTe(e){return e=Rs(e),No(this[e])?this[e]():this}function BTe(e,t){if(typeof e=="object"){e=h1(e);var n=ETe(e),r,s=n.length;for(r=0;r<s;r++)this[n[r].unit](e[n[r].unit])}else if(e=Rs(e),No(this[e]))return this[e](t);return this}function VTe(e,t){return(e%t+t)%t}var vi;Array.prototype.indexOf?vi=Array.prototype.indexOf:vi=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function g1(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=VTe(t,12);return e+=(t-n)/12,n===1?Qv(e)?29:28:31-n%7%2}dn("M",["MM",2],"Mo",function(){return this.month()+1});dn("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});dn("MMMM",0,0,function(e){return this.localeData().months(this,e)});en("M",jr,ih);en("MM",jr,ds);en("MMM",function(e,t){return t.monthsShortRegex(e)});en("MMMM",function(e,t){return t.monthsRegex(e)});kr(["M","MM"],function(e,t){t[dl]=Un(e)-1});kr(["MMM","MMMM"],function(e,t,n,r){var s=n._locale.monthsParse(e,r,n._strict);s!=null?t[dl]=s:On(n).invalidMonth=e});var NTe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gD="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vD=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,$Te=Om,UTe=Om;function qTe(e,t){return e?ro(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||vD).test(t)?"format":"standalone"][e.month()]:ro(this._months)?this._months:this._months.standalone}function jTe(e,t){return e?ro(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[vD.test(t)?"format":"standalone"][e.month()]:ro(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function HTe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)u=Vo([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(u,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(u,"").toLocaleLowerCase();return n?t==="MMM"?(s=vi.call(this._shortMonthsParse,h),s!==-1?s:null):(s=vi.call(this._longMonthsParse,h),s!==-1?s:null):t==="MMM"?(s=vi.call(this._shortMonthsParse,h),s!==-1?s:(s=vi.call(this._longMonthsParse,h),s!==-1?s:null)):(s=vi.call(this._longMonthsParse,h),s!==-1?s:(s=vi.call(this._shortMonthsParse,h),s!==-1?s:null))}function GTe(e,t,n){var r,s,u;if(this._monthsParseExact)return HTe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Vo([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(u="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function yD(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Un(t);else if(t=e.localeData().monthsParse(t),!yl(t))return e}var n=t,r=e.date();return r=r<29?r:Math.min(r,g1(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function _D(e){return e!=null?(yD(this,e),jt.updateOffset(this,!0),this):om(this,"Month")}function WTe(){return g1(this.year(),this.month())}function YTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||bD.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ir(this,"_monthsShortRegex")||(this._monthsShortRegex=$Te),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ZTe(e){return this._monthsParseExact?(ir(this,"_monthsRegex")||bD.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ir(this,"_monthsRegex")||(this._monthsRegex=UTe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function bD(){function e(p,y){return y.length-p.length}var t=[],n=[],r=[],s,u,h,o;for(s=0;s<12;s++)u=Vo([2e3,s]),h=ml(this.monthsShort(u,"")),o=ml(this.months(u,"")),t.push(h),n.push(o),r.push(o),r.push(h);t.sort(e),n.sort(e),r.sort(e),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function KTe(e,t,n,r,s,u,h){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,s,u,h),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,s,u,h),o}function lm(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Qg(e,t,n){var r=7+t-n,s=(7+lm(e,0,r).getUTCDay()-t)%7;return-s+r-1}function xD(e,t,n,r,s){var u=(7+n-r)%7,h=Qg(e,r,s),o=1+7*(t-1)+u+h,p,y;return o<=0?(p=e-1,y=Of(p)+o):o>Of(e)?(p=e+1,y=o-Of(e)):(p=e,y=o),{year:p,dayOfYear:y}}function cm(e,t,n){var r=Qg(e.year(),t,n),s=Math.floor((e.dayOfYear()-r-1)/7)+1,u,h;return s<1?(h=e.year()-1,u=s+pl(h,t,n)):s>pl(e.year(),t,n)?(u=s-pl(e.year(),t,n),h=e.year()+1):(h=e.year(),u=s),{week:u,year:h}}function pl(e,t,n){var r=Qg(e,t,n),s=Qg(e+1,t,n);return(Of(e)-r+s)/7}dn("w",["ww",2],"wo","week");dn("W",["WW",2],"Wo","isoWeek");en("w",jr,ih);en("ww",jr,ds);en("W",jr,ih);en("WW",jr,ds);Fm(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Un(e)});function XTe(e){return cm(e,this._week.dow,this._week.doy).week}var JTe={dow:0,doy:6};function QTe(){return this._week.dow}function eAe(){return this._week.doy}function tAe(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function nAe(e){var t=cm(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}dn("d",0,"do","day");dn("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});dn("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});dn("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});dn("e",0,0,"weekday");dn("E",0,0,"isoWeekday");en("d",jr);en("e",jr);en("E",jr);en("dd",function(e,t){return t.weekdaysMinRegex(e)});en("ddd",function(e,t){return t.weekdaysShortRegex(e)});en("dddd",function(e,t){return t.weekdaysRegex(e)});Fm(["dd","ddd","dddd"],function(e,t,n,r){var s=n._locale.weekdaysParse(e,r,n._strict);s!=null?t.d=s:On(n).invalidWeekday=e});Fm(["d","e","E"],function(e,t,n,r){t[r]=Un(e)});function rAe(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function iAe(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function v1(e,t){return e.slice(t,7).concat(e.slice(0,t))}var aAe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wD="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),sAe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oAe=Om,lAe=Om,cAe=Om;function uAe(e,t){var n=ro(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?v1(n,this._week.dow):e?n[e.day()]:n}function dAe(e){return e===!0?v1(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function hAe(e){return e===!0?v1(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function fAe(e,t,n){var r,s,u,h=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)u=Vo([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(u,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(u,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(u,"").toLocaleLowerCase();return n?t==="dddd"?(s=vi.call(this._weekdaysParse,h),s!==-1?s:null):t==="ddd"?(s=vi.call(this._shortWeekdaysParse,h),s!==-1?s:null):(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null):t==="dddd"?(s=vi.call(this._weekdaysParse,h),s!==-1||(s=vi.call(this._shortWeekdaysParse,h),s!==-1)?s:(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null)):t==="ddd"?(s=vi.call(this._shortWeekdaysParse,h),s!==-1||(s=vi.call(this._weekdaysParse,h),s!==-1)?s:(s=vi.call(this._minWeekdaysParse,h),s!==-1?s:null)):(s=vi.call(this._minWeekdaysParse,h),s!==-1||(s=vi.call(this._weekdaysParse,h),s!==-1)?s:(s=vi.call(this._shortWeekdaysParse,h),s!==-1?s:null))}function mAe(e,t,n){var r,s,u;if(this._weekdaysParseExact)return fAe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Vo([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(u="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(u.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function pAe(e){if(!this.isValid())return e!=null?this:NaN;var t=om(this,"Day");return e!=null?(e=rAe(e,this.localeData()),this.add(e-t,"d")):t}function gAe(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function vAe(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=iAe(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function yAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||y1.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ir(this,"_weekdaysRegex")||(this._weekdaysRegex=oAe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function _Ae(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||y1.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ir(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=lAe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function bAe(e){return this._weekdaysParseExact?(ir(this,"_weekdaysRegex")||y1.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ir(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=cAe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function y1(){function e(b,k){return k.length-b.length}var t=[],n=[],r=[],s=[],u,h,o,p,y;for(u=0;u<7;u++)h=Vo([2e3,1]).day(u),o=ml(this.weekdaysMin(h,"")),p=ml(this.weekdaysShort(h,"")),y=ml(this.weekdays(h,"")),t.push(o),n.push(p),r.push(y),s.push(o),s.push(p),s.push(y);t.sort(e),n.sort(e),r.sort(e),s.sort(e),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function _1(){return this.hours()%12||12}function xAe(){return this.hours()||24}dn("H",["HH",2],0,"hour");dn("h",["hh",2],0,_1);dn("k",["kk",2],0,xAe);dn("hmm",0,0,function(){return""+_1.apply(this)+Lo(this.minutes(),2)});dn("hmmss",0,0,function(){return""+_1.apply(this)+Lo(this.minutes(),2)+Lo(this.seconds(),2)});dn("Hmm",0,0,function(){return""+this.hours()+Lo(this.minutes(),2)});dn("Hmmss",0,0,function(){return""+this.hours()+Lo(this.minutes(),2)+Lo(this.seconds(),2)});function SD(e,t){dn(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}SD("a",!0);SD("A",!1);function kD(e,t){return t._meridiemParse}en("a",kD);en("A",kD);en("H",jr,p1);en("h",jr,ih);en("k",jr,ih);en("HH",jr,ds);en("hh",jr,ds);en("kk",jr,ds);en("hmm",hD);en("hmmss",fD);en("Hmm",hD);en("Hmmss",fD);kr(["H","HH"],Pi);kr(["k","kk"],function(e,t,n){var r=Un(e);t[Pi]=r===24?0:r});kr(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});kr(["h","hh"],function(e,t,n){t[Pi]=Un(e),On(n).bigHour=!0});kr("hmm",function(e,t,n){var r=e.length-2;t[Pi]=Un(e.substr(0,r)),t[Js]=Un(e.substr(r)),On(n).bigHour=!0});kr("hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Pi]=Un(e.substr(0,r)),t[Js]=Un(e.substr(r,2)),t[hl]=Un(e.substr(s)),On(n).bigHour=!0});kr("Hmm",function(e,t,n){var r=e.length-2;t[Pi]=Un(e.substr(0,r)),t[Js]=Un(e.substr(r))});kr("Hmmss",function(e,t,n){var r=e.length-4,s=e.length-2;t[Pi]=Un(e.substr(0,r)),t[Js]=Un(e.substr(r,2)),t[hl]=Un(e.substr(s))});function wAe(e){return(e+"").toLowerCase().charAt(0)==="p"}var SAe=/[ap]\.?m?\.?/i,kAe=ah("Hours",!0);function CAe(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var CD={calendar:fTe,longDateFormat:vTe,invalidDate:_Te,ordinal:xTe,dayOfMonthOrdinalParse:wTe,relativeTime:kTe,months:NTe,monthsShort:gD,week:JTe,weekdays:aAe,weekdaysMin:sAe,weekdaysShort:wD,meridiemParse:SAe},Yr={},bf={},um;function TAe(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function L2(e){return e&&e.toLowerCase().replace("_","-")}function AAe(e){for(var t=0,n,r,s,u;t<e.length;){for(u=L2(e[t]).split("-"),n=u.length,r=L2(e[t+1]),r=r?r.split("-"):null;n>0;){if(s=ey(u.slice(0,n).join("-")),s)return s;if(r&&r.length>=n&&TAe(u,r)>=n-1)break;n--}t++}return um}function EAe(e){return!!(e&&e.match("^[^/\\\\]*$"))}function ey(e){var t=null,n;if(Yr[e]===void 0&&typeof Tg<"u"&&Tg&&Tg.exports&&EAe(e))try{t=um._abbr,n=require,n("./locale/"+e),oc(t)}catch{Yr[e]=null}return Yr[e]}function oc(e,t){var n;return e&&($a(t)?n=Tl(e):n=b1(e,t),n?um=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),um._abbr}function b1(e,t){if(t!==null){var n,r=CD;if(t.abbr=e,Yr[e]!=null)lD("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Yr[e]._config;else if(t.parentLocale!=null)if(Yr[t.parentLocale]!=null)r=Yr[t.parentLocale]._config;else if(n=ey(t.parentLocale),n!=null)r=n._config;else return bf[t.parentLocale]||(bf[t.parentLocale]=[]),bf[t.parentLocale].push({name:e,config:t}),null;return Yr[e]=new u1(f0(r,t)),bf[e]&&bf[e].forEach(function(s){b1(s.name,s.config)}),oc(e),Yr[e]}else return delete Yr[e],null}function IAe(e,t){if(t!=null){var n,r,s=CD;Yr[e]!=null&&Yr[e].parentLocale!=null?Yr[e].set(f0(Yr[e]._config,t)):(r=ey(e),r!=null&&(s=r._config),t=f0(s,t),r==null&&(t.abbr=e),n=new u1(t),n.parentLocale=Yr[e],Yr[e]=n),oc(e)}else Yr[e]!=null&&(Yr[e].parentLocale!=null?(Yr[e]=Yr[e].parentLocale,e===oc()&&oc(e)):Yr[e]!=null&&delete Yr[e]);return Yr[e]}function Tl(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return um;if(!ro(e)){if(t=ey(e),t)return t;e=[e]}return AAe(e)}function PAe(){return m0(Yr)}function x1(e){var t,n=e._a;return n&&On(e).overflow===-2&&(t=n[dl]<0||n[dl]>11?dl:n[Ao]<1||n[Ao]>g1(n[ha],n[dl])?Ao:n[Pi]<0||n[Pi]>24||n[Pi]===24&&(n[Js]!==0||n[hl]!==0||n[ru]!==0)?Pi:n[Js]<0||n[Js]>59?Js:n[hl]<0||n[hl]>59?hl:n[ru]<0||n[ru]>999?ru:-1,On(e)._overflowDayOfYear&&(t<ha||t>Ao)&&(t=Ao),On(e)._overflowWeeks&&t===-1&&(t=RTe),On(e)._overflowWeekday&&t===-1&&(t=OTe),On(e).overflow=t),e}var DAe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,MAe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,LAe=/Z|[+-]\d\d(?::?\d\d)?/,cg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ob=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RAe=/^\/?Date\((-?\d+)/i,OAe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,FAe={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function TD(e){var t,n,r=e._i,s=DAe.exec(r)||MAe.exec(r),u,h,o,p,y=cg.length,b=ob.length;if(s){for(On(e).iso=!0,t=0,n=y;t<n;t++)if(cg[t][1].exec(s[1])){h=cg[t][0],u=cg[t][2]!==!1;break}if(h==null){e._isValid=!1;return}if(s[3]){for(t=0,n=b;t<n;t++)if(ob[t][1].exec(s[3])){o=(s[2]||" ")+ob[t][0];break}if(o==null){e._isValid=!1;return}}if(!u&&o!=null){e._isValid=!1;return}if(s[4])if(LAe.exec(s[4]))p="Z";else{e._isValid=!1;return}e._f=h+(o||"")+(p||""),S1(e)}else e._isValid=!1}function zAe(e,t,n,r,s,u){var h=[BAe(e),gD.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(s,10)];return u&&h.push(parseInt(u,10)),h}function BAe(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function VAe(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function NAe(e,t,n){if(e){var r=wD.indexOf(e),s=new Date(t[0],t[1],t[2]).getDay();if(r!==s)return On(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function $Ae(e,t,n){if(e)return FAe[e];if(t)return 0;var r=parseInt(n,10),s=r%100,u=(r-s)/100;return u*60+s}function AD(e){var t=OAe.exec(VAe(e._i)),n;if(t){if(n=zAe(t[4],t[3],t[2],t[5],t[6],t[7]),!NAe(t[1],n,e))return;e._a=n,e._tzm=$Ae(t[8],t[9],t[10]),e._d=lm.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),On(e).rfc2822=!0}else e._isValid=!1}function UAe(e){var t=RAe.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(TD(e),e._isValid===!1)delete e._isValid;else return;if(AD(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:jt.createFromInputFallback(e)}jt.createFromInputFallback=Ls("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function kd(e,t,n){return e??t??n}function qAe(e){var t=new Date(jt.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function w1(e){var t,n,r=[],s,u,h;if(!e._d){for(s=qAe(e),e._w&&e._a[Ao]==null&&e._a[dl]==null&&jAe(e),e._dayOfYear!=null&&(h=kd(e._a[ha],s[ha]),(e._dayOfYear>Of(h)||e._dayOfYear===0)&&(On(e)._overflowDayOfYear=!0),n=lm(h,0,e._dayOfYear),e._a[dl]=n.getUTCMonth(),e._a[Ao]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=s[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Pi]===24&&e._a[Js]===0&&e._a[hl]===0&&e._a[ru]===0&&(e._nextDay=!0,e._a[Pi]=0),e._d=(e._useUTC?lm:KTe).apply(null,r),u=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Pi]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==u&&(On(e).weekdayMismatch=!0)}}function jAe(e){var t,n,r,s,u,h,o,p,y;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(u=1,h=4,n=kd(t.GG,e._a[ha],cm(qr(),1,4).year),r=kd(t.W,1),s=kd(t.E,1),(s<1||s>7)&&(p=!0)):(u=e._locale._week.dow,h=e._locale._week.doy,y=cm(qr(),u,h),n=kd(t.gg,e._a[ha],y.year),r=kd(t.w,y.week),t.d!=null?(s=t.d,(s<0||s>6)&&(p=!0)):t.e!=null?(s=t.e+u,(t.e<0||t.e>6)&&(p=!0)):s=u),r<1||r>pl(n,u,h)?On(e)._overflowWeeks=!0:p!=null?On(e)._overflowWeekday=!0:(o=xD(n,r,s,u,h),e._a[ha]=o.year,e._dayOfYear=o.dayOfYear)}jt.ISO_8601=function(){};jt.RFC_2822=function(){};function S1(e){if(e._f===jt.ISO_8601){TD(e);return}if(e._f===jt.RFC_2822){AD(e);return}e._a=[],On(e).empty=!0;var t=""+e._i,n,r,s,u,h,o=t.length,p=0,y,b;for(s=cD(e._f,e._locale).match(d1)||[],b=s.length,n=0;n<b;n++)u=s[n],r=(t.match(DTe(u,e))||[])[0],r&&(h=t.substr(0,t.indexOf(r)),h.length>0&&On(e).unusedInput.push(h),t=t.slice(t.indexOf(r)+r.length),p+=r.length),Ld[u]?(r?On(e).empty=!1:On(e).unusedTokens.push(u),LTe(u,r,e)):e._strict&&!r&&On(e).unusedTokens.push(u);On(e).charsLeftOver=o-p,t.length>0&&On(e).unusedInput.push(t),e._a[Pi]<=12&&On(e).bigHour===!0&&e._a[Pi]>0&&(On(e).bigHour=void 0),On(e).parsedDateParts=e._a.slice(0),On(e).meridiem=e._meridiem,e._a[Pi]=HAe(e._locale,e._a[Pi],e._meridiem),y=On(e).era,y!==null&&(e._a[ha]=e._locale.erasConvertYear(y,e._a[ha])),w1(e),x1(e)}function HAe(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function GAe(e){var t,n,r,s,u,h,o=!1,p=e._f.length;if(p===0){On(e).invalidFormat=!0,e._d=new Date(NaN);return}for(s=0;s<p;s++)u=0,h=!1,t=c1({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[s],S1(t),l1(t)&&(h=!0),u+=On(t).charsLeftOver,u+=On(t).unusedTokens.length*10,On(t).score=u,o?u<r&&(r=u,n=t):(r==null||u<r||h)&&(r=u,n=t,h&&(o=!0));ac(e,n||t)}function WAe(e){if(!e._d){var t=h1(e._i),n=t.day===void 0?t.date:t.day;e._a=sD([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),w1(e)}}function YAe(e){var t=new Rm(x1(ED(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function ED(e){var t=e._i,n=e._f;return e._locale=e._locale||Tl(e._l),t===null||n===void 0&&t===""?Wv({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),io(t)?new Rm(x1(t)):(Lm(t)?e._d=t:ro(n)?GAe(e):n?S1(e):ZAe(e),l1(e)||(e._d=null),e))}function ZAe(e){var t=e._i;$a(t)?e._d=new Date(jt.now()):Lm(t)?e._d=new Date(t.valueOf()):typeof t=="string"?UAe(e):ro(t)?(e._a=sD(t.slice(0),function(n){return parseInt(n,10)}),w1(e)):cu(t)?WAe(e):yl(t)?e._d=new Date(t):jt.createFromInputFallback(e)}function ID(e,t,n,r,s){var u={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(cu(e)&&o1(e)||ro(e)&&e.length===0)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=n,u._i=e,u._f=t,u._strict=r,YAe(u)}function qr(e,t,n,r){return ID(e,t,n,r,!1)}var KAe=Ls("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=qr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Wv()}),XAe=Ls("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=qr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Wv()});function PD(e,t){var n,r;if(t.length===1&&ro(t[0])&&(t=t[0]),!t.length)return qr();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function JAe(){var e=[].slice.call(arguments,0);return PD("isBefore",e)}function QAe(){var e=[].slice.call(arguments,0);return PD("isAfter",e)}var eEe=function(){return Date.now?Date.now():+new Date},xf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tEe(e){var t,n=!1,r,s=xf.length;for(t in e)if(ir(e,t)&&!(vi.call(xf,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<s;++r)if(e[xf[r]]){if(n)return!1;parseFloat(e[xf[r]])!==Un(e[xf[r]])&&(n=!0)}return!0}function nEe(){return this._isValid}function rEe(){return ho(NaN)}function ty(e){var t=h1(e),n=t.year||0,r=t.quarter||0,s=t.month||0,u=t.week||t.isoWeek||0,h=t.day||0,o=t.hour||0,p=t.minute||0,y=t.second||0,b=t.millisecond||0;this._isValid=tEe(t),this._milliseconds=+b+y*1e3+p*6e4+o*1e3*60*60,this._days=+h+u*7,this._months=+s+r*3+n*12,this._data={},this._locale=Tl(),this._bubble()}function kg(e){return e instanceof ty}function g0(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function iEe(e,t,n){var r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),u=0,h;for(h=0;h<r;h++)Un(e[h])!==Un(t[h])&&u++;return u+s}function DD(e,t){dn(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Lo(~~(n/60),2)+t+Lo(~~n%60,2)})}DD("Z",":");DD("ZZ","");en("Z",Jv);en("ZZ",Jv);kr(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=k1(Jv,e)});var aEe=/([\+\-]|\d\d)/gi;function k1(e,t){var n=(t||"").match(e),r,s,u;return n===null?null:(r=n[n.length-1]||[],s=(r+"").match(aEe)||["-",0,0],u=+(s[1]*60)+Un(s[2]),u===0?0:s[0]==="+"?u:-u)}function C1(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(io(e)||Lm(e)?e.valueOf():qr(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),jt.updateOffset(n,!1),n):qr(e).local()}function v0(e){return-Math.round(e._d.getTimezoneOffset())}jt.updateOffset=function(){};function sEe(e,t,n){var r=this._offset||0,s;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=k1(Jv,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(s=v0(this)),this._offset=e,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==e&&(!t||this._changeInProgress?RD(this,ho(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,jt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:v0(this)}function oEe(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function lEe(e){return this.utcOffset(0,e)}function cEe(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(v0(this),"m")),this}function uEe(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=k1(ITe,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function dEe(e){return this.isValid()?(e=e?qr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function hEe(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fEe(){if(!$a(this._isDSTShifted))return this._isDSTShifted;var e={},t;return c1(e,this),e=ED(e),e._a?(t=e._isUTC?Vo(e._a):qr(e._a),this._isDSTShifted=this.isValid()&&iEe(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function mEe(){return this.isValid()?!this._isUTC:!1}function pEe(){return this.isValid()?this._isUTC:!1}function MD(){return this.isValid()?this._isUTC&&this._offset===0:!1}var gEe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vEe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ho(e,t){var n=e,r=null,s,u,h;return kg(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:yl(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=gEe.exec(e))?(s=r[1]==="-"?-1:1,n={y:0,d:Un(r[Ao])*s,h:Un(r[Pi])*s,m:Un(r[Js])*s,s:Un(r[hl])*s,ms:Un(g0(r[ru]*1e3))*s}):(r=vEe.exec(e))?(s=r[1]==="-"?-1:1,n={y:Wc(r[2],s),M:Wc(r[3],s),w:Wc(r[4],s),d:Wc(r[5],s),h:Wc(r[6],s),m:Wc(r[7],s),s:Wc(r[8],s)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(h=yEe(qr(n.from),qr(n.to)),n={},n.ms=h.milliseconds,n.M=h.months),u=new ty(n),kg(e)&&ir(e,"_locale")&&(u._locale=e._locale),kg(e)&&ir(e,"_isValid")&&(u._isValid=e._isValid),u}ho.fn=ty.prototype;ho.invalid=rEe;function Wc(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function R2(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function yEe(e,t){var n;return e.isValid()&&t.isValid()?(t=C1(t,e),e.isBefore(t)?n=R2(e,t):(n=R2(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function LD(e,t){return function(n,r){var s,u;return r!==null&&!isNaN(+r)&&(lD(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),u=n,n=r,r=u),s=ho(n,r),RD(this,s,e),this}}function RD(e,t,n,r){var s=t._milliseconds,u=g0(t._days),h=g0(t._months);e.isValid()&&(r=r??!0,h&&yD(e,om(e,"Month")+h*n),u&&pD(e,"Date",om(e,"Date")+u*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&jt.updateOffset(e,u||h))}var _Ee=LD(1,"add"),bEe=LD(-1,"subtract");function OD(e){return typeof e=="string"||e instanceof String}function xEe(e){return io(e)||Lm(e)||OD(e)||yl(e)||SEe(e)||wEe(e)||e===null||e===void 0}function wEe(e){var t=cu(e)&&!o1(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,u,h=r.length;for(s=0;s<h;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function SEe(e){var t=ro(e),n=!1;return t&&(n=e.filter(function(r){return!yl(r)&&OD(e)}).length===0),t&&n}function kEe(e){var t=cu(e)&&!o1(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,u;for(s=0;s<r.length;s+=1)u=r[s],n=n||ir(e,u);return t&&n}function CEe(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function TEe(e,t){arguments.length===1&&(arguments[0]?xEe(arguments[0])?(e=arguments[0],t=void 0):kEe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||qr(),r=C1(n,this).startOf("day"),s=jt.calendarFormat(this,r)||"sameElse",u=t&&(No(t[s])?t[s].call(this,n):t[s]);return this.format(u||this.localeData().calendar(s,this,qr(n)))}function AEe(){return new Rm(this)}function EEe(e,t){var n=io(e)?e:qr(e);return this.isValid()&&n.isValid()?(t=Rs(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function IEe(e,t){var n=io(e)?e:qr(e);return this.isValid()&&n.isValid()?(t=Rs(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function PEe(e,t,n,r){var s=io(e)?e:qr(e),u=io(t)?t:qr(t);return this.isValid()&&s.isValid()&&u.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,n):!this.isBefore(s,n))&&(r[1]===")"?this.isBefore(u,n):!this.isAfter(u,n))):!1}function DEe(e,t){var n=io(e)?e:qr(e),r;return this.isValid()&&n.isValid()?(t=Rs(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function MEe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function LEe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function REe(e,t,n){var r,s,u;if(!this.isValid())return NaN;if(r=C1(e,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,t=Rs(t),t){case"year":u=Cg(this,r)/12;break;case"month":u=Cg(this,r);break;case"quarter":u=Cg(this,r)/3;break;case"second":u=(this-r)/1e3;break;case"minute":u=(this-r)/6e4;break;case"hour":u=(this-r)/36e5;break;case"day":u=(this-r-s)/864e5;break;case"week":u=(this-r-s)/6048e5;break;default:u=this-r}return n?u:Ss(u)}function Cg(e,t){if(e.date()<t.date())return-Cg(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),s,u;return t-r<0?(s=e.clone().add(n-1,"months"),u=(t-r)/(r-s)):(s=e.clone().add(n+1,"months"),u=(t-r)/(s-r)),-(n+u)||0}jt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";jt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function OEe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function FEe(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?Sg(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):No(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Sg(n,"Z")):Sg(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function zEe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,s,u;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",u=t+'[")]',this.format(n+r+s+u)}function BEe(e){e||(e=this.isUtc()?jt.defaultFormatUtc:jt.defaultFormat);var t=Sg(this,e);return this.localeData().postformat(t)}function VEe(e,t){return this.isValid()&&(io(e)&&e.isValid()||qr(e).isValid())?ho({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function NEe(e){return this.from(qr(),e)}function $Ee(e,t){return this.isValid()&&(io(e)&&e.isValid()||qr(e).isValid())?ho({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function UEe(e){return this.to(qr(),e)}function FD(e){var t;return e===void 0?this._locale._abbr:(t=Tl(e),t!=null&&(this._locale=t),this)}var zD=Ls("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function BD(){return this._locale}var ev=1e3,Rd=60*ev,tv=60*Rd,VD=(365*400+97)*24*tv;function Od(e,t){return(e%t+t)%t}function ND(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-VD:new Date(e,t,n).valueOf()}function $D(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-VD:Date.UTC(e,t,n)}function qEe(e){var t,n;if(e=Rs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$D:ND,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Od(t+(this._isUTC?0:this.utcOffset()*Rd),tv);break;case"minute":t=this._d.valueOf(),t-=Od(t,Rd);break;case"second":t=this._d.valueOf(),t-=Od(t,ev);break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function jEe(e){var t,n;if(e=Rs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?$D:ND,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=tv-Od(t+(this._isUTC?0:this.utcOffset()*Rd),tv)-1;break;case"minute":t=this._d.valueOf(),t+=Rd-Od(t,Rd)-1;break;case"second":t=this._d.valueOf(),t+=ev-Od(t,ev)-1;break}return this._d.setTime(t),jt.updateOffset(this,!0),this}function HEe(){return this._d.valueOf()-(this._offset||0)*6e4}function GEe(){return Math.floor(this.valueOf()/1e3)}function WEe(){return new Date(this.valueOf())}function YEe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function ZEe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function KEe(){return this.isValid()?this.toISOString():null}function XEe(){return l1(this)}function JEe(){return ac({},On(this))}function QEe(){return On(this).overflow}function eIe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}dn("N",0,0,"eraAbbr");dn("NN",0,0,"eraAbbr");dn("NNN",0,0,"eraAbbr");dn("NNNN",0,0,"eraName");dn("NNNNN",0,0,"eraNarrow");dn("y",["y",1],"yo","eraYear");dn("y",["yy",2],0,"eraYear");dn("y",["yyy",3],0,"eraYear");dn("y",["yyyy",4],0,"eraYear");en("N",T1);en("NN",T1);en("NNN",T1);en("NNNN",dIe);en("NNNNN",hIe);kr(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var s=n._locale.erasParse(e,r,n._strict);s?On(n).era=s:On(n).invalidEra=e});en("y",rh);en("yy",rh);en("yyy",rh);en("yyyy",rh);en("yo",fIe);kr(["y","yy","yyy","yyyy"],ha);kr(["yo"],function(e,t,n,r){var s;n._locale._eraYearOrdinalRegex&&(s=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ha]=n._locale.eraYearOrdinalParse(e,s):t[ha]=parseInt(e,10)});function tIe(e,t){var n,r,s,u=this._eras||Tl("en")._eras;for(n=0,r=u.length;n<r;++n){switch(typeof u[n].since){case"string":s=jt(u[n].since).startOf("day"),u[n].since=s.valueOf();break}switch(typeof u[n].until){case"undefined":u[n].until=1/0;break;case"string":s=jt(u[n].until).startOf("day").valueOf(),u[n].until=s.valueOf();break}}return u}function nIe(e,t,n){var r,s,u=this.eras(),h,o,p;for(e=e.toUpperCase(),r=0,s=u.length;r<s;++r)if(h=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),p=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return u[r];break;case"NNNN":if(h===e)return u[r];break;case"NNNNN":if(p===e)return u[r];break}else if([h,o,p].indexOf(e)>=0)return u[r]}function rIe(e,t){var n=e.since<=e.until?1:-1;return t===void 0?jt(e.since).year():jt(e.since).year()+(t-e.offset)*n}function iIe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function aIe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function sIe(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function oIe(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-jt(s[e].since).year())*n+s[e].offset;return this.year()}function lIe(e){return ir(this,"_erasNameRegex")||A1.call(this),e?this._erasNameRegex:this._erasRegex}function cIe(e){return ir(this,"_erasAbbrRegex")||A1.call(this),e?this._erasAbbrRegex:this._erasRegex}function uIe(e){return ir(this,"_erasNarrowRegex")||A1.call(this),e?this._erasNarrowRegex:this._erasRegex}function T1(e,t){return t.erasAbbrRegex(e)}function dIe(e,t){return t.erasNameRegex(e)}function hIe(e,t){return t.erasNarrowRegex(e)}function fIe(e,t){return t._eraYearOrdinalRegex||rh}function A1(){var e=[],t=[],n=[],r=[],s,u,h,o,p,y=this.eras();for(s=0,u=y.length;s<u;++s)h=ml(y[s].name),o=ml(y[s].abbr),p=ml(y[s].narrow),t.push(h),e.push(o),n.push(p),r.push(h),r.push(o),r.push(p);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}dn(0,["gg",2],0,function(){return this.weekYear()%100});dn(0,["GG",2],0,function(){return this.isoWeekYear()%100});function ny(e,t){dn(0,[e,e.length],0,t)}ny("gggg","weekYear");ny("ggggg","weekYear");ny("GGGG","isoWeekYear");ny("GGGGG","isoWeekYear");en("G",Xv);en("g",Xv);en("GG",jr,ds);en("gg",jr,ds);en("GGGG",m1,f1);en("gggg",m1,f1);en("GGGGG",Kv,Yv);en("ggggg",Kv,Yv);Fm(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Un(e)});Fm(["gg","GG"],function(e,t,n,r){t[r]=jt.parseTwoDigitYear(e)});function mIe(e){return UD.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function pIe(e){return UD.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function gIe(){return pl(this.year(),1,4)}function vIe(){return pl(this.isoWeekYear(),1,4)}function yIe(){var e=this.localeData()._week;return pl(this.year(),e.dow,e.doy)}function _Ie(){var e=this.localeData()._week;return pl(this.weekYear(),e.dow,e.doy)}function UD(e,t,n,r,s){var u;return e==null?cm(this,r,s).year:(u=pl(e,r,s),t>u&&(t=u),bIe.call(this,e,t,n,r,s))}function bIe(e,t,n,r,s){var u=xD(e,t,n,r,s),h=lm(u.year,0,u.dayOfYear);return this.year(h.getUTCFullYear()),this.month(h.getUTCMonth()),this.date(h.getUTCDate()),this}dn("Q",0,"Qo","quarter");en("Q",uD);kr("Q",function(e,t){t[dl]=(Un(e)-1)*3});function xIe(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}dn("D",["DD",2],"Do","date");en("D",jr,ih);en("DD",jr,ds);en("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});kr(["D","DD"],Ao);kr("Do",function(e,t){t[Ao]=Un(e.match(jr)[0])});var qD=ah("Date",!0);dn("DDD",["DDDD",3],"DDDo","dayOfYear");en("DDD",Zv);en("DDDD",dD);kr(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Un(e)});function wIe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}dn("m",["mm",2],0,"minute");en("m",jr,p1);en("mm",jr,ds);kr(["m","mm"],Js);var SIe=ah("Minutes",!1);dn("s",["ss",2],0,"second");en("s",jr,p1);en("ss",jr,ds);kr(["s","ss"],hl);var kIe=ah("Seconds",!1);dn("S",0,0,function(){return~~(this.millisecond()/100)});dn(0,["SS",2],0,function(){return~~(this.millisecond()/10)});dn(0,["SSS",3],0,"millisecond");dn(0,["SSSS",4],0,function(){return this.millisecond()*10});dn(0,["SSSSS",5],0,function(){return this.millisecond()*100});dn(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});dn(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});dn(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});dn(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});en("S",Zv,uD);en("SS",Zv,ds);en("SSS",Zv,dD);var sc,jD;for(sc="SSSS";sc.length<=9;sc+="S")en(sc,rh);function CIe(e,t){t[ru]=Un(("0."+e)*1e3)}for(sc="S";sc.length<=9;sc+="S")kr(sc,CIe);jD=ah("Milliseconds",!1);dn("z",0,0,"zoneAbbr");dn("zz",0,0,"zoneName");function TIe(){return this._isUTC?"UTC":""}function AIe(){return this._isUTC?"Coordinated Universal Time":""}var Lt=Rm.prototype;Lt.add=_Ee;Lt.calendar=TEe;Lt.clone=AEe;Lt.diff=REe;Lt.endOf=jEe;Lt.format=BEe;Lt.from=VEe;Lt.fromNow=NEe;Lt.to=$Ee;Lt.toNow=UEe;Lt.get=zTe;Lt.invalidAt=QEe;Lt.isAfter=EEe;Lt.isBefore=IEe;Lt.isBetween=PEe;Lt.isSame=DEe;Lt.isSameOrAfter=MEe;Lt.isSameOrBefore=LEe;Lt.isValid=XEe;Lt.lang=zD;Lt.locale=FD;Lt.localeData=BD;Lt.max=XAe;Lt.min=KAe;Lt.parsingFlags=JEe;Lt.set=BTe;Lt.startOf=qEe;Lt.subtract=bEe;Lt.toArray=YEe;Lt.toObject=ZEe;Lt.toDate=WEe;Lt.toISOString=FEe;Lt.inspect=zEe;typeof Symbol<"u"&&Symbol.for!=null&&(Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Lt.toJSON=KEe;Lt.toString=OEe;Lt.unix=GEe;Lt.valueOf=HEe;Lt.creationData=eIe;Lt.eraName=iIe;Lt.eraNarrow=aIe;Lt.eraAbbr=sIe;Lt.eraYear=oIe;Lt.year=mD;Lt.isLeapYear=FTe;Lt.weekYear=mIe;Lt.isoWeekYear=pIe;Lt.quarter=Lt.quarters=xIe;Lt.month=_D;Lt.daysInMonth=WTe;Lt.week=Lt.weeks=tAe;Lt.isoWeek=Lt.isoWeeks=nAe;Lt.weeksInYear=yIe;Lt.weeksInWeekYear=_Ie;Lt.isoWeeksInYear=gIe;Lt.isoWeeksInISOWeekYear=vIe;Lt.date=qD;Lt.day=Lt.days=pAe;Lt.weekday=gAe;Lt.isoWeekday=vAe;Lt.dayOfYear=wIe;Lt.hour=Lt.hours=kAe;Lt.minute=Lt.minutes=SIe;Lt.second=Lt.seconds=kIe;Lt.millisecond=Lt.milliseconds=jD;Lt.utcOffset=sEe;Lt.utc=lEe;Lt.local=cEe;Lt.parseZone=uEe;Lt.hasAlignedHourOffset=dEe;Lt.isDST=hEe;Lt.isLocal=mEe;Lt.isUtcOffset=pEe;Lt.isUtc=MD;Lt.isUTC=MD;Lt.zoneAbbr=TIe;Lt.zoneName=AIe;Lt.dates=Ls("dates accessor is deprecated. Use date instead.",qD);Lt.months=Ls("months accessor is deprecated. Use month instead",_D);Lt.years=Ls("years accessor is deprecated. Use year instead",mD);Lt.zone=Ls("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",oEe);Lt.isDSTShifted=Ls("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fEe);function EIe(e){return qr(e*1e3)}function IIe(){return qr.apply(null,arguments).parseZone()}function HD(e){return e}var ar=u1.prototype;ar.calendar=mTe;ar.longDateFormat=yTe;ar.invalidDate=bTe;ar.ordinal=STe;ar.preparse=HD;ar.postformat=HD;ar.relativeTime=CTe;ar.pastFuture=TTe;ar.set=hTe;ar.eras=tIe;ar.erasParse=nIe;ar.erasConvertYear=rIe;ar.erasAbbrRegex=cIe;ar.erasNameRegex=lIe;ar.erasNarrowRegex=uIe;ar.months=qTe;ar.monthsShort=jTe;ar.monthsParse=GTe;ar.monthsRegex=ZTe;ar.monthsShortRegex=YTe;ar.week=XTe;ar.firstDayOfYear=eAe;ar.firstDayOfWeek=QTe;ar.weekdays=uAe;ar.weekdaysMin=hAe;ar.weekdaysShort=dAe;ar.weekdaysParse=mAe;ar.weekdaysRegex=yAe;ar.weekdaysShortRegex=_Ae;ar.weekdaysMinRegex=bAe;ar.isPM=wAe;ar.meridiem=CAe;function nv(e,t,n,r){var s=Tl(),u=Vo().set(r,t);return s[n](u,e)}function GD(e,t,n){if(yl(e)&&(t=e,e=void 0),e=e||"",t!=null)return nv(e,t,n,"month");var r,s=[];for(r=0;r<12;r++)s[r]=nv(e,r,n,"month");return s}function E1(e,t,n,r){typeof e=="boolean"?(yl(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,yl(t)&&(n=t,t=void 0),t=t||"");var s=Tl(),u=e?s._week.dow:0,h,o=[];if(n!=null)return nv(t,(n+u)%7,r,"day");for(h=0;h<7;h++)o[h]=nv(t,(h+u)%7,r,"day");return o}function PIe(e,t){return GD(e,t,"months")}function DIe(e,t){return GD(e,t,"monthsShort")}function MIe(e,t,n){return E1(e,t,n,"weekdays")}function LIe(e,t,n){return E1(e,t,n,"weekdaysShort")}function RIe(e,t,n){return E1(e,t,n,"weekdaysMin")}oc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Un(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});jt.lang=Ls("moment.lang is deprecated. Use moment.locale instead.",oc);jt.langData=Ls("moment.langData is deprecated. Use moment.localeData instead.",Tl);var al=Math.abs;function OIe(){var e=this._data;return this._milliseconds=al(this._milliseconds),this._days=al(this._days),this._months=al(this._months),e.milliseconds=al(e.milliseconds),e.seconds=al(e.seconds),e.minutes=al(e.minutes),e.hours=al(e.hours),e.months=al(e.months),e.years=al(e.years),this}function WD(e,t,n,r){var s=ho(t,n);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function FIe(e,t){return WD(this,e,t,1)}function zIe(e,t){return WD(this,e,t,-1)}function O2(e){return e<0?Math.floor(e):Math.ceil(e)}function BIe(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,s,u,h,o,p;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=O2(y0(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,s=Ss(e/1e3),r.seconds=s%60,u=Ss(s/60),r.minutes=u%60,h=Ss(u/60),r.hours=h%24,t+=Ss(h/24),p=Ss(YD(t)),n+=p,t-=O2(y0(p)),o=Ss(n/12),n%=12,r.days=t,r.months=n,r.years=o,this}function YD(e){return e*4800/146097}function y0(e){return e*146097/4800}function VIe(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=Rs(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+YD(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(y0(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function Al(e){return function(){return this.as(e)}}var ZD=Al("ms"),NIe=Al("s"),$Ie=Al("m"),UIe=Al("h"),qIe=Al("d"),jIe=Al("w"),HIe=Al("M"),GIe=Al("Q"),WIe=Al("y"),YIe=ZD;function ZIe(){return ho(this)}function KIe(e){return e=Rs(e),this.isValid()?this[e+"s"]():NaN}function ku(e){return function(){return this.isValid()?this._data[e]:NaN}}var XIe=ku("milliseconds"),JIe=ku("seconds"),QIe=ku("minutes"),ePe=ku("hours"),tPe=ku("days"),nPe=ku("months"),rPe=ku("years");function iPe(){return Ss(this.days()/7)}var ll=Math.round,Td={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function aPe(e,t,n,r,s){return s.relativeTime(t||1,!!n,e,r)}function sPe(e,t,n,r){var s=ho(e).abs(),u=ll(s.as("s")),h=ll(s.as("m")),o=ll(s.as("h")),p=ll(s.as("d")),y=ll(s.as("M")),b=ll(s.as("w")),k=ll(s.as("y")),C=u<=n.ss&&["s",u]||u<n.s&&["ss",u]||h<=1&&["m"]||h<n.m&&["mm",h]||o<=1&&["h"]||o<n.h&&["hh",o]||p<=1&&["d"]||p<n.d&&["dd",p];return n.w!=null&&(C=C||b<=1&&["w"]||b<n.w&&["ww",b]),C=C||y<=1&&["M"]||y<n.M&&["MM",y]||k<=1&&["y"]||["yy",k],C[2]=t,C[3]=+e>0,C[4]=r,aPe.apply(null,C)}function oPe(e){return e===void 0?ll:typeof e=="function"?(ll=e,!0):!1}function lPe(e,t){return Td[e]===void 0?!1:t===void 0?Td[e]:(Td[e]=t,e==="s"&&(Td.ss=t-1),!0)}function cPe(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Td,s,u;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Td,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),s=this.localeData(),u=sPe(this,!n,r,s),n&&(u=s.pastFuture(+this,u)),s.postformat(u)}var lb=Math.abs;function vd(e){return(e>0)-(e<0)||+e}function ry(){if(!this.isValid())return this.localeData().invalidDate();var e=lb(this._milliseconds)/1e3,t=lb(this._days),n=lb(this._months),r,s,u,h,o=this.asSeconds(),p,y,b,k;return o?(r=Ss(e/60),s=Ss(r/60),e%=60,r%=60,u=Ss(n/12),n%=12,h=e?e.toFixed(3).replace(/\.?0+$/,""):"",p=o<0?"-":"",y=vd(this._months)!==vd(o)?"-":"",b=vd(this._days)!==vd(o)?"-":"",k=vd(this._milliseconds)!==vd(o)?"-":"",p+"P"+(u?y+u+"Y":"")+(n?y+n+"M":"")+(t?b+t+"D":"")+(s||r||e?"T":"")+(s?k+s+"H":"")+(r?k+r+"M":"")+(e?k+h+"S":"")):"P0D"}var Qn=ty.prototype;Qn.isValid=nEe;Qn.abs=OIe;Qn.add=FIe;Qn.subtract=zIe;Qn.as=VIe;Qn.asMilliseconds=ZD;Qn.asSeconds=NIe;Qn.asMinutes=$Ie;Qn.asHours=UIe;Qn.asDays=qIe;Qn.asWeeks=jIe;Qn.asMonths=HIe;Qn.asQuarters=GIe;Qn.asYears=WIe;Qn.valueOf=YIe;Qn._bubble=BIe;Qn.clone=ZIe;Qn.get=KIe;Qn.milliseconds=XIe;Qn.seconds=JIe;Qn.minutes=QIe;Qn.hours=ePe;Qn.days=tPe;Qn.weeks=iPe;Qn.months=nPe;Qn.years=rPe;Qn.humanize=cPe;Qn.toISOString=ry;Qn.toString=ry;Qn.toJSON=ry;Qn.locale=FD;Qn.localeData=BD;Qn.toIsoString=Ls("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ry);Qn.lang=zD;dn("X",0,0,"unix");dn("x",0,0,"valueOf");en("x",Xv);en("X",PTe);kr("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});kr("x",function(e,t,n){n._d=new Date(Un(e))});//! moment.js
jt.version="2.30.1";uTe(qr);jt.fn=Lt;jt.min=JAe;jt.max=QAe;jt.now=eEe;jt.utc=Vo;jt.unix=EIe;jt.months=PIe;jt.isDate=Lm;jt.locale=oc;jt.invalid=Wv;jt.duration=ho;jt.isMoment=io;jt.weekdays=MIe;jt.parseZone=IIe;jt.localeData=Tl;jt.isDuration=kg;jt.monthsShort=DIe;jt.weekdaysMin=RIe;jt.defineLocale=b1;jt.updateLocale=IAe;jt.locales=PAe;jt.weekdaysShort=LIe;jt.normalizeUnits=Rs;jt.relativeTimeRounding=oPe;jt.relativeTimeThreshold=lPe;jt.calendarFormat=CEe;jt.prototype=Lt;jt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var KD={exports:{}};(function(e,t){(function(n,r){r()})(Xc,function(){function n(y,b){return typeof b>"u"?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(y.type)?new Blob(["\uFEFF",y],{type:y.type}):y}function r(y,b,k){var C=new XMLHttpRequest;C.open("GET",y),C.responseType="blob",C.onload=function(){p(C.response,b,k)},C.onerror=function(){console.error("could not download file")},C.send()}function s(y){var b=new XMLHttpRequest;b.open("HEAD",y,!1);try{b.send()}catch{}return 200<=b.status&&299>=b.status}function u(y){try{y.dispatchEvent(new MouseEvent("click"))}catch{var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),y.dispatchEvent(b)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Xc=="object"&&Xc.global===Xc?Xc:void 0,o=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(y,b,k){var C=h.URL||h.webkitURL,I=document.createElement("a");b=b||y.name||"download",I.download=b,I.rel="noopener",typeof y=="string"?(I.href=y,I.origin===location.origin?u(I):s(I.href)?r(y,b,k):u(I,I.target="_blank")):(I.href=C.createObjectURL(y),setTimeout(function(){C.revokeObjectURL(I.href)},4e4),setTimeout(function(){u(I)},0))}:"msSaveOrOpenBlob"in navigator?function(y,b,k){if(b=b||y.name||"download",typeof y!="string")navigator.msSaveOrOpenBlob(n(y,k),b);else if(s(y))r(y,b,k);else{var C=document.createElement("a");C.href=y,C.target="_blank",setTimeout(function(){u(C)})}}:function(y,b,k,C){if(C=C||open("","_blank"),C&&(C.document.title=C.document.body.innerText="downloading..."),typeof y=="string")return r(y,b,k);var I=y.type==="application/octet-stream",R=/constructor/i.test(h.HTMLElement)||h.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||I&&R||o)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var J=O.result;J=L?J:J.replace(/^data:[^;]*;/,"data:attachment/file;"),C?C.location.href=J:location=J,C=null},O.readAsDataURL(y)}else{var B=h.URL||h.webkitURL,q=B.createObjectURL(y);C?C.location=q:location.href=q,C=null,setTimeout(function(){B.revokeObjectURL(q)},4e4)}});h.saveAs=p.saveAs=p,e.exports=p})})(KD);var uPe=KD.exports;function dPe(e){return[...new Set(e.map(n=>hPe(n)).filter(n=>n!=null))]}function hPe(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){const n=e.match(t);if(n&&n.length>0)return n[0].substring(0,6)}return null}function fPe(e,t){zr.post(iSe+"lsoas?filter=sector",e).then(n=>{t(n.data)})}function mPe(e,t){const n=dPe(e),r={};fPe(n,s=>{Object.keys(s).forEach(u=>{s[u].forEach(h=>{r[h.replace(/\s/g,"")]=u.trim()})}),t(r)})}const pPe={data(){return{authority:null,columns:[],countsColumn:"",csvData:[],endTime:null,extractDate:null,files:[],loading:!1,lsoasCounted:{},mdText:cTe,postcodeColumn:"",startTime:null,summaryColumns:[{key:"total",title:"Total"},{key:"converted",title:"Successful"},{key:"terminated",title:"Terminated"},{key:"unknown",title:"Unknown"}],summaryData:[{total:0,converted:0,terminated:0,unknown:0}]}},methods:{confirmFile:async function(e){this.files=e;const t=this;if(t.loading=!0,t.files.length>0){const n=await i1(t.files[0],!1);t.columns=n[0],t.csvData=n,t.loading=!1}else t.columns=[],t.csvData=[],t.loading=!1},confirmOptions:function(){const e=this;e.startTime=jt(),e.loading=!0,e.summaryData[0].total=0,e.summaryData[0].converted=0,e.summaryData[0].unknown=0,e.summaryData[0].terminated=0,e.lsoasCounted={Unknown:0};const t=e.columns.indexOf(e.postcodeColumn),n=e.columns.indexOf(this.countsColumn),r=e.csvData.map(s=>s[t]).filter(s=>s!=null&&s!==e.postcodeColumn);mPe(r,s=>{e.csvData.forEach((u,h)=>{const o=u[t],p=o.replace(/\s/g,"");if(h===0&&o===e.postcodeColumn)u[t]="LSOA";else{this.summaryData[0].total++;let y="";o&&o!==""&&s[p]?(y=s[p],y==="Terminated"?(u[t]="Terminated",this.summaryData[0].terminated++):y==="Unknown"?(u[t]="Unknown",this.summaryData[0].unknown++):(u[t]=y,this.summaryData[0].converted++)):(u[t]="Unknown",this.summaryData[0].unknown++,y="Unknown"),y==="Terminated"&&(y="Unknown"),this.lsoasCounted[y]||(this.lsoasCounted[y]=0),this.countsColumn!==""?this.lsoasCounted[y]=this.lsoasCounted[y]+parseInt(u[n]):this.lsoasCounted[y]++}}),e.active_step=3,this.loading=!1,this.endTime=jt()})},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csvData)},downloadSchemaFile:async function(){const e=[["Local authority","Count date","Area code","Members"]],t=jt(this.extractDate).format("YYYY-MM-DD");Object.keys(this.lsoasCounted).filter(r=>r!=="Unknown"&&r!=="Terminated").forEach(r=>{const s=this.lsoasCounted[r];e.push([this.authority.name,t,r,s>4?s.toString():"x"])});const n=this.lsoasCounted.Unknown;this.lsoasCounted.Unknown>0&&e.push([this.authority.name,t,"Unknown",n>4?n.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){const n=new Blob([Kg.unparse(t)],{type:"text/plain;charset=utf-8"});uPe.saveAs(n,e)},getTimeCompleted:function(){if(this.startTime&&this.endTime){const e=this.endTime.diff(this.startTime),t=jt.duration(e);return jt.utc(t.as("milliseconds")).format("HH:mm:ss")}return""}},components:{"file-upload":Gv,"service-select":qv}},gPe={key:0},vPe={class:"mb-2"},yPe={key:1};function _Pe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),p=Gv,y=qv;return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Postcode converter",subtitle:"Convert postcodes to statistical areas"}),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"}),t[14]||(t[14]=Yn("h2",{class:"text-h5 text-decoration-underline my-3"},"Convert postcodes",-1)),T(dc,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:Ie(()=>[T(ul,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load postcodes"},{default:Ie(()=>t[5]||(t[5]=[zt(" First you need a CSV file of postcodes. If your data isn't in CSV format try using "),Yn("strong",null,"Save as",-1),zt(" in your software. The first row should be column headings. One column should contain UK postcodes. ")])),_:1}),T(p,{files:s.files,onChangeFiles:t[0]||(t[0]=b=>u.confirmFile(b))},null,8,["files"]),T(ul,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Select file options"},{default:Ie(()=>t[6]||(t[6]=[zt(" Column headings in your file are displayed below. Choose which column contains postcodes. If your data includes counts per postcode, select the field holding the count. ")])),_:1}),T(Ud,{color:"success",modelValue:s.postcodeColumn,"onUpdate:modelValue":t[1]||(t[1]=b=>s.postcodeColumn=b),items:s.columns,label:"Select postcode field",variant:"outlined",disabled:s.columns.length===0},null,8,["modelValue","items","disabled"]),T(Ud,{color:"success",value:s.countsColumn,items:s.columns.filter(b=>b!==s.postcodeColumn),disabled:s.postcodeColumn===""||s.columns.filter(b=>b!==s.postcodeColumn).length===0,label:"Count field (optional)",variant:"outlined"},null,8,["value","items","disabled"]),T(Jt,{color:"info",variant:"tonal",size:"large",onClick:u.confirmOptions,disabled:s.postcodeColumn==="","append-icon":"mdi-chevron-right-circle"},{default:Ie(()=>t[7]||(t[7]=[zt(" Convert ")])),_:1},8,["onClick","disabled"]),T(ul,{class:"mt-8 mb-4",icon:"mdi-numeric-3-circle",title:"Results"},{default:Ie(()=>t[8]||(t[8]=[zt(" Valid postcodes are changed to their statistical area code. Postcodes that are no longer valid are changed to "),Yn("strong",null,"Terminated",-1),zt(". Postcodes not recognised are changed to "),Yn("strong",null,"Unknown",-1),zt("."),Yn("br",null,null,-1)])),_:1}),s.endTime!==null?(mn(),ns("span",gPe,[Yn("p",vPe,Cs("Completed in "+u.getTimeCompleted()),1),T(ua,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:Ie(()=>[T(Rf,{"no-filter":"",headers:s.summaryColumns,items:s.summaryData,"item-key":"total"},{bottom:Ie(()=>t[9]||(t[9]=[])),_:1},8,["headers","items"])]),_:1}),T(Jt,{color:"info",variant:"tonal",size:"large",onClick:u.downloadConvertedFile,"append-icon":"mdi-content-save"},{default:Ie(()=>t[10]||(t[10]=[zt(" Save converted file ")])),_:1},8,["onClick"])])):Zn("",!0),T(ul,{class:"mt-8 mb-4",icon:"mdi-numeric-4-circle",title:"Library membership data"},{default:Ie(()=>t[11]||(t[11]=[zt(" Census geographies are required to publish "),Yn("a",{href:"https://schema.librarydata.uk/membership",target:"_blank"},"library membership data",-1),zt(". This tool has calculated a count of members per statistical area. Select the name of your library service and choose a date the postcodes were extracted from your library management system ")])),_:1}),s.endTime!==null?(mn(),ns("span",yPe,[T(y,{onSelect:t[2]||(t[2]=b=>s.authority=b)}),T(oi,{class:"mt-4",variant:"outlined",modelValue:s.extractDate,"onUpdate:modelValue":t[3]||(t[3]=b=>s.extractDate=b),label:"Count date","prepend-inner-icon":"mdi-calendar",type:"date"},null,8,["modelValue"]),T(Jt,{variant:"tonal",color:"success",onClick:u.downloadSchemaFile,size:"large","append-icon":"mdi-content-save",disabled:s.authority===""||s.extractDate===null},{default:Ie(()=>t[12]||(t[12]=[zt("Save membership data")])),_:1},8,["onClick","disabled"])])):Zn("",!0)]),_:1}),T(Sd,{modelValue:s.loading,"onUpdate:modelValue":t[4]||(t[4]=b=>s.loading=b),persistent:"",width:"300"},{default:Ie(()=>[T(ua,null,{default:Ie(()=>[T(nu,null,{default:Ie(()=>t[13]||(t[13]=[zt(" Please wait ")])),_:1}),T(Do,null,{default:Ie(()=>[T(bv,{indeterminate:"",color:"info"})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const bPe=ni(pPe,[["render",_Pe]]),xPe=`A mobile library stop is a location visited by a mobile library vehicle during it's round.

Mobile library stops are a **register**. This means that the data needs to be maintained and kept up to date - adding, removing, and updating entries as necessary.
`,wPe={data(){return{mdText:xPe}},methods:{},components:{}},SPe={class:"text-center"};function kPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}),Yn("p",SPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"},{default:Ie(()=>t[0]||(t[0]=[zt(" Explore the mobile stops schema ")])),_:1})]),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"})]),_:1})}const CPe=ni(wPe,[["render",kPe]]),TPe=`A physical visit is an individual entering the library premises - for whatever reason. For co-located premises, this may mean counting visits that are not specifically for the purpose of using the library. Visit counts are often referred to as footfall.

Physical visits are a **time-series**. Data is maintained by adding new data (e.g. the next months visit counts).
`,APe={data(){return{mdText:TPe}},methods:{},components:{}},EPe={class:"text-center"};function IPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Physical visits",subtitle:"Counts of people using libraries"}),Yn("p",EPe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/physical-visits",target:"_blank"},{default:Ie(()=>t[0]||(t[0]=[zt(" Explore the visits schema ")])),_:1})]),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"})]),_:1})}const PPe=ni(APe,[["render",IPe]]),DPe=`These pages were created by Dave at [Libraries Hacked](https://www.librarieshacked.org). You can [contact me via email](mailto:info@librarieshacked.org) with any queries or concerns.

## GitHub pages

This site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include data such as your IP address.

GitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to GitHub's services for their own users, but there is a reference to GitHub pages sites. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.

> “Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.”

## Cookies

Cookies are files saved on your phone, tablet or computer when you visit a website. This site does not save any cookies onto your computer.

## Tracking and analytics

There are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.
`,MPe={data(){return{mdText:DPe}},methods:{},components:{}};function LPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Privacy policy",subtitle:"How your data and privacy is protected"}),T(o,{markdownText:s.mdText},null,8,["markdownText"])]),_:1})}const RPe=ni(MPe,[["render",LPe]]),OPe=`While logged in you will be able to see the level of access you have, which will either be for individual library services, or 'Admin' which provides access to all library data.

No personal data is held about you. Your email address is not stored online, only the domain part of the email (e.g. bl.uk for British Library users) in order to grant access.
`,FPe={data(){return{mdText:OPe}},methods:{logout(){this.$store.dispatch("logout")}},components:{}};function zPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section"),p=Mm;return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Profile",subtitle:"See access and profile information"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),Yn("section",null,[T(Ir,null,{default:Ie(()=>[T(p,{actions:!0})]),_:1})])]),_:1})}const BPe=ni(FPe,[["render",zPe]]),VPe=`An item of stock is any item held by the library, available to the public, and catalogued in the library management system. This dataset provides counts of the different types of items held by libraries.

Stock summary data is a **snapshot**. This means that each update to the data is a fresh export, representing the stock held at that point in time.
`,NPe={data(){return{mdText:VPe}},methods:{},components:{}},$Pe={class:"text-center"};function UPe(e,t,n,r,s,u){const h=kn("layout-header"),o=kn("markdown-section");return mn(),Nn(Ir,null,{default:Ie(()=>[T(h,{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}),Yn("p",$Pe,[T(Jt,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/stock-summary",target:"_blank"},{default:Ie(()=>t[0]||(t[0]=[zt(" Explore the stock summary schema ")])),_:1})]),T(yr,{inset:"",color:"info",class:"my-2"}),T(o,{markdownText:s.mdText},null,8,["markdownText"]),T(yr,{inset:"",color:"info",class:"my-2"})]),_:1})}const qPe=ni(NPe,[["render",UPe]]),jPe=Rke({history:cke(),base:"/",routes:[{path:"/",name:"Home",component:eCe},{path:"/about",name:"About",component:Nke},{path:"/events",name:"Events",component:Zke},{path:"/libraries",name:"Libraries",component:aCe},{path:"/libraries-edit",name:"Libraries edit",component:M2e},{path:"/loans",name:"Loans",component:z2e},{path:"/membership",name:"Membership",component:Z2e},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:bPe},{path:"/membership-map",name:"Membership map",component:lTe},{path:"/mobile-library-stops",name:"Mobile library stops",component:CPe},{path:"/physical-visits",name:"Physical visits",component:PPe},{path:"/stock-summary",name:"Stock summary",component:qPe},{path:"/privacy",name:"Privacy",component:RPe},{path:"/accessibility",name:"Accessibility",component:jke},{path:"/login",name:"Login",component:j2e},{path:"/profile",name:"Profile",component:BPe}]});/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var HPe="store";function sh(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function GPe(e){return e!==null&&typeof e=="object"}function WPe(e){return e&&typeof e.then=="function"}function YPe(e,t){return function(){return e(t)}}function XD(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function JD(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;iy(e,n,[],e._modules.root,!0),I1(e,n,t)}function I1(e,t,n){var r=e._state,s=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var u=e._wrappedGetters,h={},o={},p=ov(!0);p.run(function(){sh(u,function(y,b){h[b]=YPe(y,e),o[b]=Y(function(){return h[b]()}),Object.defineProperty(e.getters,b,{get:function(){return o[b].value},enumerable:!0})})}),e._state=Ii({data:t}),e._scope=p,e.strict&&QPe(e),r&&n&&e._withCommit(function(){r.data=null}),s&&s.stop()}function iy(e,t,n,r,s){var u=!n.length,h=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[h],e._modulesNamespaceMap[h]=r),!u&&!s){var o=P1(t,n.slice(0,-1)),p=n[n.length-1];e._withCommit(function(){o[p]=r.state})}var y=r.context=ZPe(e,h,n);r.forEachMutation(function(b,k){var C=h+k;KPe(e,C,b,y)}),r.forEachAction(function(b,k){var C=b.root?k:h+k,I=b.handler||b;XPe(e,C,I,y)}),r.forEachGetter(function(b,k){var C=h+k;JPe(e,C,b,y)}),r.forEachChild(function(b,k){iy(e,t,n.concat(k),b,s)})}function ZPe(e,t,n){var r=t==="",s={dispatch:r?e.dispatch:function(u,h,o){var p=rv(u,h,o),y=p.payload,b=p.options,k=p.type;return(!b||!b.root)&&(k=t+k),e.dispatch(k,y)},commit:r?e.commit:function(u,h,o){var p=rv(u,h,o),y=p.payload,b=p.options,k=p.type;(!b||!b.root)&&(k=t+k),e.commit(k,y,b)}};return Object.defineProperties(s,{getters:{get:r?function(){return e.getters}:function(){return QD(e,t)}},state:{get:function(){return P1(e.state,n)}}}),s}function QD(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach(function(s){if(s.slice(0,r)===t){var u=s.slice(r);Object.defineProperty(n,u,{get:function(){return e.getters[s]},enumerable:!0})}}),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function KPe(e,t,n,r){var s=e._mutations[t]||(e._mutations[t]=[]);s.push(function(h){n.call(e,r.state,h)})}function XPe(e,t,n,r){var s=e._actions[t]||(e._actions[t]=[]);s.push(function(h){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},h);return WPe(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch(function(p){throw e._devtoolHook.emit("vuex:error",p),p}):o})}function JPe(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(u){return n(r.state,r.getters,u.state,u.getters)})}function QPe(e){ct(function(){return e._state.data},function(){},{deep:!0,flush:"sync"})}function P1(e,t){return t.reduce(function(n,r){return n[r]},e)}function rv(e,t,n){return GPe(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var eDe="vuex bindings",F2="vuex:mutations",cb="vuex:actions",yd="vuex",tDe=0;function nDe(e,t){DSe({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[eDe]},function(n){n.addTimelineLayer({id:F2,label:"Vuex Mutations",color:z2}),n.addTimelineLayer({id:cb,label:"Vuex Actions",color:z2}),n.addInspector({id:yd,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree(function(r){if(r.app===e&&r.inspectorId===yd)if(r.filter){var s=[];rM(s,t._modules.root,r.filter,""),r.rootNodes=s}else r.rootNodes=[nM(t._modules.root,"")]}),n.on.getInspectorState(function(r){if(r.app===e&&r.inspectorId===yd){var s=r.nodeId;QD(t,s),r.state=aDe(oDe(t._modules,s),s==="root"?t.getters:t._makeLocalGettersCache,s)}}),n.on.editInspectorState(function(r){if(r.app===e&&r.inspectorId===yd){var s=r.nodeId,u=r.path;s!=="root"&&(u=s.split("/").filter(Boolean).concat(u)),t._withCommit(function(){r.set(t._state.data,u,r.state.value)})}}),t.subscribe(function(r,s){var u={};r.payload&&(u.payload=r.payload),u.state=s,n.notifyComponentUpdate(),n.sendInspectorTree(yd),n.sendInspectorState(yd),n.addTimelineEvent({layerId:F2,event:{time:Date.now(),title:r.type,data:u}})}),t.subscribeAction({before:function(r,s){var u={};r.payload&&(u.payload=r.payload),r._id=tDe++,r._time=Date.now(),u.state=s,n.addTimelineEvent({layerId:cb,event:{time:r._time,title:r.type,groupId:r._id,subtitle:"start",data:u}})},after:function(r,s){var u={},h=Date.now()-r._time;u.duration={_custom:{type:"duration",display:h+"ms",tooltip:"Action duration",value:h}},r.payload&&(u.payload=r.payload),u.state=s,n.addTimelineEvent({layerId:cb,event:{time:Date.now(),title:r.type,groupId:r._id,subtitle:"end",data:u}})}})})}var z2=8702998,rDe=6710886,iDe=16777215,eM={label:"namespaced",textColor:iDe,backgroundColor:rDe};function tM(e){return e&&e!=="root"?e.split("/").slice(-2,-1)[0]:"Root"}function nM(e,t){return{id:t||"root",label:tM(t),tags:e.namespaced?[eM]:[],children:Object.keys(e._children).map(function(n){return nM(e._children[n],t+n+"/")})}}function rM(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[eM]:[]}),Object.keys(t._children).forEach(function(s){rM(e,t._children[s],n,r+s+"/")})}function aDe(e,t,n){t=n==="root"?t:t[n];var r=Object.keys(t),s={state:Object.keys(e.state).map(function(h){return{key:h,editable:!0,value:e.state[h]}})};if(r.length){var u=sDe(t);s.getters=Object.keys(u).map(function(h){return{key:h.endsWith("/")?tM(h):h,editable:!1,value:_0(function(){return u[h]})}})}return s}function sDe(e){var t={};return Object.keys(e).forEach(function(n){var r=n.split("/");if(r.length>1){var s=t,u=r.pop();r.forEach(function(h){s[h]||(s[h]={_custom:{value:{},display:h,tooltip:"Module",abstract:!0}}),s=s[h]._custom.value}),s[u]=_0(function(){return e[n]})}else t[n]=_0(function(){return e[n]})}),t}function oDe(e,t){var n=t.split("/").filter(function(r){return r});return n.reduce(function(r,s,u){var h=r[s];if(!h)throw new Error('Missing module "'+s+'" for path "'+t+'".');return u===n.length-1?h:h._children},t==="root"?e:e.root._children)}function _0(e){try{return e()}catch(t){return t}}var fo=function(t,n){this.runtime=n,this._children=Object.create(null),this._rawModule=t;var r=t.state;this.state=(typeof r=="function"?r():r)||{}},iM={namespaced:{configurable:!0}};iM.namespaced.get=function(){return!!this._rawModule.namespaced};fo.prototype.addChild=function(t,n){this._children[t]=n};fo.prototype.removeChild=function(t){delete this._children[t]};fo.prototype.getChild=function(t){return this._children[t]};fo.prototype.hasChild=function(t){return t in this._children};fo.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)};fo.prototype.forEachChild=function(t){sh(this._children,t)};fo.prototype.forEachGetter=function(t){this._rawModule.getters&&sh(this._rawModule.getters,t)};fo.prototype.forEachAction=function(t){this._rawModule.actions&&sh(this._rawModule.actions,t)};fo.prototype.forEachMutation=function(t){this._rawModule.mutations&&sh(this._rawModule.mutations,t)};Object.defineProperties(fo.prototype,iM);var Cu=function(t){this.register([],t,!1)};Cu.prototype.get=function(t){return t.reduce(function(n,r){return n.getChild(r)},this.root)};Cu.prototype.getNamespace=function(t){var n=this.root;return t.reduce(function(r,s){return n=n.getChild(s),r+(n.namespaced?s+"/":"")},"")};Cu.prototype.update=function(t){aM([],this.root,t)};Cu.prototype.register=function(t,n,r){var s=this;r===void 0&&(r=!0);var u=new fo(n,r);if(t.length===0)this.root=u;else{var h=this.get(t.slice(0,-1));h.addChild(t[t.length-1],u)}n.modules&&sh(n.modules,function(o,p){s.register(t.concat(p),o,r)})};Cu.prototype.unregister=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1],s=n.getChild(r);s&&s.runtime&&n.removeChild(r)};Cu.prototype.isRegistered=function(t){var n=this.get(t.slice(0,-1)),r=t[t.length-1];return n?n.hasChild(r):!1};function aM(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return;aM(e.concat(r),t.getChild(r),n.modules[r])}}function lDe(e){return new Za(e)}var Za=function(t){var n=this;t===void 0&&(t={});var r=t.plugins;r===void 0&&(r=[]);var s=t.strict;s===void 0&&(s=!1);var u=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Cu(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=u;var h=this,o=this,p=o.dispatch,y=o.commit;this.dispatch=function(C,I){return p.call(h,C,I)},this.commit=function(C,I,R){return y.call(h,C,I,R)},this.strict=s;var b=this._modules.root.state;iy(this,b,[],this._modules.root),I1(this,b),r.forEach(function(k){return k(n)})},D1={state:{configurable:!0}};Za.prototype.install=function(t,n){t.provide(n||HPe,this),t.config.globalProperties.$store=this;var r=this._devtools!==void 0?this._devtools:!1;r&&nDe(t,this)};D1.state.get=function(){return this._state.data};D1.state.set=function(e){};Za.prototype.commit=function(t,n,r){var s=this,u=rv(t,n,r),h=u.type,o=u.payload,p={type:h,payload:o},y=this._mutations[h];y&&(this._withCommit(function(){y.forEach(function(k){k(o)})}),this._subscribers.slice().forEach(function(b){return b(p,s.state)}))};Za.prototype.dispatch=function(t,n){var r=this,s=rv(t,n),u=s.type,h=s.payload,o={type:u,payload:h},p=this._actions[u];if(p){try{this._actionSubscribers.slice().filter(function(b){return b.before}).forEach(function(b){return b.before(o,r.state)})}catch{}var y=p.length>1?Promise.all(p.map(function(b){return b(h)})):p[0](h);return new Promise(function(b,k){y.then(function(C){try{r._actionSubscribers.filter(function(I){return I.after}).forEach(function(I){return I.after(o,r.state)})}catch{}b(C)},function(C){try{r._actionSubscribers.filter(function(I){return I.error}).forEach(function(I){return I.error(o,r.state,C)})}catch{}k(C)})})}};Za.prototype.subscribe=function(t,n){return XD(t,this._subscribers,n)};Za.prototype.subscribeAction=function(t,n){var r=typeof t=="function"?{before:t}:t;return XD(r,this._actionSubscribers,n)};Za.prototype.watch=function(t,n,r){var s=this;return ct(function(){return t(s.state,s.getters)},n,Object.assign({},r))};Za.prototype.replaceState=function(t){var n=this;this._withCommit(function(){n._state.data=t})};Za.prototype.registerModule=function(t,n,r){r===void 0&&(r={}),typeof t=="string"&&(t=[t]),this._modules.register(t,n),iy(this,this.state,t,this._modules.get(t),r.preserveState),I1(this,this.state)};Za.prototype.unregisterModule=function(t){var n=this;typeof t=="string"&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var r=P1(n.state,t.slice(0,-1));delete r[t[t.length-1]]}),JD(this)};Za.prototype.hasModule=function(t){return typeof t=="string"&&(t=[t]),this._modules.isRegistered(t)};Za.prototype.hotUpdate=function(t){this._modules.update(t),JD(this,!0)};Za.prototype._withCommit=function(t){var n=this._committing;this._committing=!0,t(),this._committing=n};Object.defineProperties(Za.prototype,D1);new TextEncoder;const sM=new TextDecoder,cDe=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},uDe=e=>{let t=e;t instanceof Uint8Array&&(t=sM.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return cDe(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class dDe extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class Yc extends dDe{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function hDe(e){return typeof e=="object"&&e!==null}function fDe(e){if(!hDe(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const mDe=uDe;function B2(e){if(typeof e!="string")throw new Yc("JWTs must use Compact JWS serialization, JWT must be a string");const{1:t,length:n}=e.split(".");if(n===5)throw new Yc("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new Yc("Invalid JWT");if(!t)throw new Yc("JWTs must contain a payload");let r;try{r=mDe(t)}catch{throw new Yc("Failed to base64url decode the payload")}let s;try{s=JSON.parse(sM.decode(r))}catch{throw new Yc("Failed to parse the decoded payload as JSON")}if(!fDe(s))throw new Yc("Invalid JWT Claims Set");return s}const pDe=lDe({state:{loginKey:null,loginSubject:null,loginIssuer:null,loginExpires:null,loginAdmin:!1,loginCodes:[],libraryServices:[]},mutations:{initialiseStore(e){if(localStorage.getItem("loginKey")){e.loginKey=localStorage.getItem("loginKey");const t=B2(e.loginKey);e.loginSubject=t.sub,e.loginIssuer=t.iss,e.loginExpires=new Date(t.exp*1e3),e.loginAdmin=t.admin,e.loginCodes=t.codes}},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t;const n=B2(e.loginKey);e.loginSubject=n.sub,e.loginIssuer=n.iss,e.loginExpires=new Date(n.exp*1e3),e.loginAdmin=n.admin,e.loginCodes=n.codes},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null,e.loginSubject=null,e.loginIssuer=null,e.loginExpires=null,e.loginAdmin=null,e.loginCodes=[]},setServices(e,t){e.libraryServices=t}},actions:{logout({commit:e}){e("logout")}}}),gDe=We({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Ps(),...un(),...cs(),...sx(),...Mi(),...Kn({tag:"footer"}),...br()},"VFooter"),vDe=ht()({name:"VFooter",props:gDe(),setup(e,t){let{slots:n}=t;const r=dt(),{themeClasses:s}=Br(e),{backgroundColorClasses:u,backgroundColorStyles:h}=yi(bt(e,"color")),{borderClasses:o}=so(e),{elevationClasses:p}=Ds(e),{roundedClasses:y}=$i(e),b=Rt(32),{resizeRef:k}=uc(I=>{I.length&&(b.value=I[0].target.clientHeight)}),C=Y(()=>e.height==="auto"?b.value:parseInt(e.height,10));return qa(()=>e.app,()=>{const I=ox({id:e.name,order:Y(()=>parseInt(e.order,10)),position:Y(()=>"bottom"),layoutSize:C,elementSize:Y(()=>e.height==="auto"?void 0:C.value),active:Y(()=>e.app),absolute:bt(e,"absolute")});bi(()=>{r.value=I.layoutItemStyles.value})}),kt(()=>T(e.tag,{ref:k,class:["v-footer",s.value,u.value,o.value,p.value,y.value,e.class],style:[h.value,e.app?r.value:{height:Ht(e.height)},e.style]},n)),{}}}),yDe={};function _De(e,t){return mn(),Nn(vDe,{app:"",color:"grey-lighten-5",class:"pa-3"},{default:Ie(()=>[T(Ws,{justify:"center",class:"text-xs-center w-100","no-gutters":""},{default:Ie(()=>[T(Jt,{variant:"text",color:"info",to:"/accessibility",class:"mx-1"},{default:Ie(()=>t[0]||(t[0]=[zt(" Accessibility ")])),_:1}),T(Jt,{variant:"text",color:"info",to:"/privacy",class:"mx-1"},{default:Ie(()=>t[1]||(t[1]=[zt(" Privacy ")])),_:1})]),_:1})]),_:1})}const bDe=ni(yDe,[["render",_De]]),xDe="/assets/logo.png",wDe=We({...un(),...CB({fullHeight:!0}),...br()},"VApp"),SDe=ht()({name:"VApp",props:wDe(),setup(e,t){let{slots:n}=t;const r=Br(e),{layoutClasses:s,getLayoutItem:u,items:h,layoutRef:o}=AB(e),{rtlClasses:p}=Wa();return kt(()=>{var y;return T("div",{ref:o,class:["v-application",r.themeClasses.value,s.value,p.value,e.class],style:[e.style]},[T("div",{class:"v-application__wrap"},[(y=n.default)==null?void 0:y.call(n)])])}),{getLayoutItem:u,items:h,theme:r}}}),kDe=We({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function CDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let r=0,s=0;const u=dt(null),h=Rt(0),o=Rt(0),p=Rt(0),y=Rt(!1),b=Rt(!1),k=Y(()=>Number(e.scrollThreshold)),C=Y(()=>Ki((k.value-h.value)/k.value||0)),I=()=>{const R=u.value;if(!R||n&&!n.value)return;r=h.value,h.value="window"in R?R.pageYOffset:R.scrollTop;const L=R instanceof Window?document.documentElement.scrollHeight:R.scrollHeight;if(s!==L){s=L;return}b.value=h.value<r,p.value=Math.abs(h.value-k.value)};return ct(b,()=>{o.value=o.value||h.value}),ct(y,()=>{o.value=0}),Ni(()=>{ct(()=>e.scrollTarget,R=>{var O;const L=R?document.querySelector(R):window;L&&L!==u.value&&((O=u.value)==null||O.removeEventListener("scroll",I),u.value=L,u.value.addEventListener("scroll",I,{passive:!0}))},{immediate:!0})}),_r(()=>{var R;(R=u.value)==null||R.removeEventListener("scroll",I)}),n&&ct(n,I,{immediate:!0}),{scrollThreshold:k,currentScroll:h,currentThreshold:p,isScrollActive:y,scrollRatio:C,isScrollingUp:b,savedScroll:o}}const TDe=We({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...rD(),...sx(),...kDe(),height:{type:[Number,String],default:64}},"VAppBar"),ADe=ht()({name:"VAppBar",props:TDe(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const r=dt(),s=fn(e,"modelValue"),u=Y(()=>{var J;const q=new Set(((J=e.scrollBehavior)==null?void 0:J.split(" "))??[]);return{hide:q.has("hide"),fullyHide:q.has("fully-hide"),inverted:q.has("inverted"),collapse:q.has("collapse"),elevate:q.has("elevate"),fadeImage:q.has("fade-image")}}),h=Y(()=>{const q=u.value;return q.hide||q.fullyHide||q.inverted||q.collapse||q.elevate||q.fadeImage||!s.value}),{currentScroll:o,scrollThreshold:p,isScrollingUp:y,scrollRatio:b}=CDe(e,{canScroll:h}),k=Y(()=>u.value.hide||u.value.fullyHide),C=Y(()=>e.collapse||u.value.collapse&&(u.value.inverted?b.value>0:b.value===0)),I=Y(()=>e.flat||u.value.fullyHide&&!s.value||u.value.elevate&&(u.value.inverted?o.value>0:o.value===0)),R=Y(()=>u.value.fadeImage?u.value.inverted?1-b.value:b.value:void 0),L=Y(()=>{var ee,ie;if(u.value.hide&&u.value.inverted)return 0;const q=((ee=r.value)==null?void 0:ee.contentHeight)??0,J=((ie=r.value)==null?void 0:ie.extensionHeight)??0;return k.value?o.value<p.value||u.value.fullyHide?q+J:q:q+J});qa(Y(()=>!!e.scrollBehavior),()=>{bi(()=>{k.value?u.value.inverted?s.value=o.value>p.value:s.value=y.value||o.value<p.value:s.value=!0})});const{ssrBootStyles:O}=Am(),{layoutItemStyles:B}=ox({id:e.name,order:Y(()=>parseInt(e.order,10)),position:bt(e,"location"),layoutSize:L,elementSize:Rt(void 0),active:s,absolute:bt(e,"absolute")});return kt(()=>{const q=u0.filterProps(e);return T(u0,lt({ref:r,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...B.value,"--v-toolbar-image-opacity":R.value,height:void 0,...O.value},e.style]},q,{collapse:C.value,flat:I.value}),n)}),{}}}),EDe=We({...fx({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),IDe=ht()({name:"VAppBarNavIcon",props:EDe(),setup(e,t){let{slots:n}=t;return kt(()=>T(Jt,lt(e,{class:["v-app-bar-nav-icon"]}),n)),{}}}),PDe=We({scrollable:Boolean,...un(),...os(),...Kn({tag:"main"})},"VMain"),DDe=ht()({name:"VMain",props:PDe(),setup(e,t){let{slots:n}=t;const{dimensionStyles:r}=ls(e),{mainStyles:s}=NA(),{ssrBootStyles:u}=Am();return kt(()=>T(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[s.value,u.value,r.value,e.style]},{default:()=>{var h,o;return[e.scrollable?T("div",{class:"v-main__scroller"},[(h=n.default)==null?void 0:h.call(n)]):(o=n.default)==null?void 0:o.call(n)]}})),{}}});function MDe(e){let{rootEl:t,isSticky:n,layoutItemStyles:r}=e;const s=Rt(!1),u=Rt(0),h=Y(()=>{const y=typeof s.value=="boolean"?"top":s.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,s.value?{[y]:Ht(u.value)}:{top:r.value.top}]});Ni(()=>{ct(n,y=>{y?window.addEventListener("scroll",p,{passive:!0}):window.removeEventListener("scroll",p)},{immediate:!0})}),_r(()=>{window.removeEventListener("scroll",p)});let o=0;function p(){const y=o>window.scrollY?"up":"down",b=t.value.getBoundingClientRect(),k=parseFloat(r.value.top??0),C=window.scrollY-Math.max(0,u.value-k),I=b.height+Math.max(u.value,k)-window.scrollY-window.innerHeight,R=parseFloat(getComputedStyle(t.value).getPropertyValue("--v-body-scroll-y"))||0;b.height<window.innerHeight-k?(s.value="top",u.value=k):y==="up"&&s.value==="bottom"||y==="down"&&s.value==="top"?(u.value=window.scrollY+b.top-R,s.value=!0):y==="down"&&I<=0?(u.value=0,s.value="bottom"):y==="up"&&C<=0&&(R?s.value!=="top"&&(u.value=-C+R+k,s.value="top"):(u.value=b.top+C,s.value="top")),o=window.scrollY}return{isStuck:s,stickyStyles:h}}const LDe=100,RDe=20;function V2(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function N2(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let t=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const r=V2(t),s=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);t+=(s-r)*Math.abs(s),n===e.length-1&&(t*=.5)}return V2(t)*1e3}function ODe(){const e={};function t(s){Array.from(s.changedTouches).forEach(u=>{(e[u.identifier]??(e[u.identifier]=new zF(RDe))).push([s.timeStamp,u])})}function n(s){Array.from(s.changedTouches).forEach(u=>{delete e[u.identifier]})}function r(s){var y;const u=(y=e[s])==null?void 0:y.values().reverse();if(!u)throw new Error(`No samples for touch id ${s}`);const h=u[0],o=[],p=[];for(const b of u){if(h[0]-b[0]>LDe)break;o.push({t:b[0],d:b[1].clientX}),p.push({t:b[0],d:b[1].clientY})}return{x:N2(o),y:N2(p),get direction(){const{x:b,y:k}=this,[C,I]=[Math.abs(b),Math.abs(k)];return C>I&&b>=0?"right":C>I&&b<=0?"left":I>C&&k>=0?"down":I>C&&k<=0?"up":FDe()}}}return{addMovement:t,endTouch:n,getVelocity:r}}function FDe(){throw new Error}function zDe(e){let{el:t,isActive:n,isTemporary:r,width:s,touchless:u,position:h}=e;Ni(()=>{window.addEventListener("touchstart",q,{passive:!0}),window.addEventListener("touchmove",J,{passive:!1}),window.addEventListener("touchend",ee,{passive:!0})}),_r(()=>{window.removeEventListener("touchstart",q),window.removeEventListener("touchmove",J),window.removeEventListener("touchend",ee)});const o=Y(()=>["left","right"].includes(h.value)),{addMovement:p,endTouch:y,getVelocity:b}=ODe();let k=!1;const C=Rt(!1),I=Rt(0),R=Rt(0);let L;function O(re,le){return(h.value==="left"?re:h.value==="right"?document.documentElement.clientWidth-re:h.value==="top"?re:h.value==="bottom"?document.documentElement.clientHeight-re:_d())-(le?s.value:0)}function B(re){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const H=h.value==="left"?(re-R.value)/s.value:h.value==="right"?(document.documentElement.clientWidth-re-R.value)/s.value:h.value==="top"?(re-R.value)/s.value:h.value==="bottom"?(document.documentElement.clientHeight-re-R.value)/s.value:_d();return le?Math.max(0,Math.min(1,H)):H}function q(re){if(u.value)return;const le=re.changedTouches[0].clientX,H=re.changedTouches[0].clientY,$=25,Z=h.value==="left"?le<$:h.value==="right"?le>document.documentElement.clientWidth-$:h.value==="top"?H<$:h.value==="bottom"?H>document.documentElement.clientHeight-$:_d(),ae=n.value&&(h.value==="left"?le<s.value:h.value==="right"?le>document.documentElement.clientWidth-s.value:h.value==="top"?H<s.value:h.value==="bottom"?H>document.documentElement.clientHeight-s.value:_d());(Z||ae||n.value&&r.value)&&(L=[le,H],R.value=O(o.value?le:H,n.value),I.value=B(o.value?le:H),k=R.value>-20&&R.value<80,y(re),p(re))}function J(re){const le=re.changedTouches[0].clientX,H=re.changedTouches[0].clientY;if(k){if(!re.cancelable){k=!1;return}const Z=Math.abs(le-L[0]),ae=Math.abs(H-L[1]);(o.value?Z>ae&&Z>3:ae>Z&&ae>3)?(C.value=!0,k=!1):(o.value?ae:Z)>3&&(k=!1)}if(!C.value)return;re.preventDefault(),p(re);const $=B(o.value?le:H,!1);I.value=Math.max(0,Math.min(1,$)),$>1?R.value=O(o.value?le:H,!0):$<0&&(R.value=O(o.value?le:H,!1))}function ee(re){if(k=!1,!C.value)return;p(re),C.value=!1;const le=b(re.changedTouches[0].identifier),H=Math.abs(le.x),$=Math.abs(le.y);(o.value?H>$&&H>400:$>H&&$>3)?n.value=le.direction===({left:"right",right:"left",top:"down",bottom:"up"}[h.value]||_d()):n.value=I.value>.5}const ie=Y(()=>C.value?{transform:h.value==="left"?`translateX(calc(-100% + ${I.value*s.value}px))`:h.value==="right"?`translateX(calc(100% - ${I.value*s.value}px))`:h.value==="top"?`translateY(calc(-100% + ${I.value*s.value}px))`:h.value==="bottom"?`translateY(calc(100% - ${I.value*s.value}px))`:_d(),transition:"none"}:void 0);return qa(C,()=>{var H,$;const re=((H=t.value)==null?void 0:H.style.transform)??null,le=(($=t.value)==null?void 0:$.style.transition)??null;bi(()=>{var Z,ae,te,be;(ae=t.value)==null||ae.style.setProperty("transform",((Z=ie.value)==null?void 0:Z.transform)||"none"),(be=t.value)==null||be.style.setProperty("transition",((te=ie.value)==null?void 0:te.transition)||null)}),pa(()=>{var Z,ae;(Z=t.value)==null||Z.style.setProperty("transform",re),(ae=t.value)==null||ae.style.setProperty("transition",le)})}),{isDragging:C,dragProgress:I,dragStyles:ie}}function _d(){throw new Error}const BDe=["start","end","left","right","top","bottom"],VDe=We({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>BDe.includes(e)},sticky:Boolean,...Ps(),...un(),...$E(),...Gd({mobile:null}),...cs(),...sx(),...Mi(),...Kn({tag:"nav"}),...br()},"VNavigationDrawer"),NDe=ht()({name:"VNavigationDrawer",props:VDe(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,t){let{attrs:n,emit:r,slots:s}=t;const{isRtl:u}=Wa(),{themeClasses:h}=Br(e),{borderClasses:o}=so(e),{backgroundColorClasses:p,backgroundColorStyles:y}=yi(bt(e,"color")),{elevationClasses:b}=Ds(e),{displayClasses:k,mobile:C}=wl(e),{roundedClasses:I}=$i(e),R=QA(),L=fn(e,"modelValue",null,$e=>!!$e),{ssrBootStyles:O}=Am(),{scopeId:B}=Kd(),q=dt(),J=Rt(!1),{runOpenDelay:ee,runCloseDelay:ie}=UE(e,$e=>{J.value=$e}),re=Y(()=>e.rail&&e.expandOnHover&&J.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),le=Y(()=>Tb(e.location,u.value)),H=Y(()=>e.persistent),$=Y(()=>!e.permanent&&(C.value||e.temporary)),Z=Y(()=>e.sticky&&!$.value&&le.value!=="bottom");qa(()=>e.expandOnHover&&e.rail!=null,()=>{ct(J,$e=>r("update:rail",!$e))}),qa(()=>!e.disableResizeWatcher,()=>{ct($,$e=>!e.permanent&&Jn(()=>L.value=!$e))}),qa(()=>!e.disableRouteWatcher&&!!R,()=>{ct(R.currentRoute,()=>$.value&&(L.value=!1))}),ct(()=>e.permanent,$e=>{$e&&(L.value=!0)}),e.modelValue==null&&!$.value&&(L.value=e.permanent||!C.value);const{isDragging:ae,dragProgress:te}=zDe({el:q,isActive:L,isTemporary:$,width:re,touchless:bt(e,"touchless"),position:le}),be=Y(()=>{const $e=$.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):re.value;return ae.value?$e*te.value:$e}),me=Y(()=>["top","bottom"].includes(e.location)?0:re.value),{layoutItemStyles:Pe,layoutItemScrimStyles:Ae}=ox({id:e.name,order:Y(()=>parseInt(e.order,10)),position:le,layoutSize:be,elementSize:me,active:Y(()=>L.value||ae.value),disableTransitions:Y(()=>ae.value),absolute:Y(()=>e.absolute||Z.value&&typeof Ue.value!="string")}),{isStuck:Ue,stickyStyles:Fe}=MDe({rootEl:q,isSticky:Z,layoutItemStyles:Pe}),Ce=yi(Y(()=>typeof e.scrim=="string"?e.scrim:null)),Ve=Y(()=>({...ae.value?{opacity:te.value*.2,transition:"none"}:void 0,...Ae.value}));return ma({VList:{bgColor:"transparent"}}),kt(()=>{const $e=s.image||e.image;return T(Gt,null,[T(e.tag,lt({ref:q,onMouseenter:ee,onMouseleave:ie,class:["v-navigation-drawer",`v-navigation-drawer--${le.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":J.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":$.value,"v-navigation-drawer--persistent":H.value,"v-navigation-drawer--active":L.value,"v-navigation-drawer--sticky":Z.value},h.value,p.value,o.value,k.value,b.value,I.value,e.class],style:[y.value,Pe.value,O.value,Fe.value,e.style,["top","bottom"].includes(le.value)?{height:"auto"}:{}]},B,n),{default:()=>{var qe,gt,Ct;return[$e&&T("div",{key:"image",class:"v-navigation-drawer__img"},[s.image?T(Bn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},s.image):T(Sm,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),s.prepend&&T("div",{class:"v-navigation-drawer__prepend"},[(qe=s.prepend)==null?void 0:qe.call(s)]),T("div",{class:"v-navigation-drawer__content"},[(gt=s.default)==null?void 0:gt.call(s)]),s.append&&T("div",{class:"v-navigation-drawer__append"},[(Ct=s.append)==null?void 0:Ct.call(s)])]}}),T(cc,{name:"fade-transition"},{default:()=>[$.value&&(ae.value||L.value)&&!!e.scrim&&T("div",lt({class:["v-navigation-drawer__scrim",Ce.backgroundColorClasses.value],style:[Ve.value,Ce.backgroundColorStyles.value],onClick:()=>{H.value||(L.value=!1)}},B),null)]})])}),{isStuck:Ue}}}),$De={name:"App",components:{"layout-footer":bDe},methods:{async logout(){await this.$store.dispatch("logout"),this.$router.push("/")}},data:()=>({drawer:null})},UDe={href:"/"};function qDe(e,t,n,r,s,u){const h=Mm,o=kn("router-view"),p=kn("layout-footer");return mn(),Nn(SDe,null,{default:Ie(()=>[T(ADe,{elevation:"0",flat:"",color:"grey-lighten-5"},{default:Ie(()=>[T(IDe,{class:"hidden-lg-and-up",onClick:t[0]||(t[0]=y=>e.drawer=!e.drawer)}),T(Ir,null,{default:Ie(()=>[Yn("a",UDe,[T(Sm,{src:xDe,height:"40"})]),T(Zs)]),_:1})]),_:1}),T(NDe,{border:"",modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=y=>e.drawer=y),elevation:"0"},{append:Ie(()=>[T(ua,null,{default:Ie(()=>[T(Do,null,{default:Ie(()=>[T(h,{actions:!0})]),_:1})]),_:1})]),default:Ie(()=>[T(tm,{nav:""},{default:Ie(()=>[T(mI,null,{default:Ie(()=>t[2]||(t[2]=[zt("Datasets")])),_:1}),T(Ks,{value:"Catalogue","prepend-icon":"mdi-bookshelf"},{activator:Ie(({props:y})=>[T(Or,lt(y,{title:"Catalogue"}),null,16)]),default:Ie(()=>[T(Or,{color:"success",to:"/stock-summary","active-class":"highlighted",class:Va(e.$route.path==="/stock-summary"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[3]||(t[3]=[zt("Stock summary")])),_:1})]),_:1},8,["class"])]),_:1}),T(Ks,{value:"Events","no-action":"","prepend-icon":"mdi-calendar-badge"},{activator:Ie(({props:y})=>[T(Or,lt(y,{title:"Events"}),null,16)]),default:Ie(()=>[T(Or,{color:"success",to:"/events","active-class":"highlighted",class:Va(e.$route.path==="/events"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[4]||(t[4]=[zt("Events")])),_:1})]),_:1},8,["class"])]),_:1}),T(Ks,{value:"Library locations","no-action":"","prepend-icon":"mdi-office-building-marker"},{activator:Ie(({props:y})=>[T(Or,lt(y,{title:"Library locations"}),null,16)]),default:Ie(()=>[T(Or,{color:"success",to:"/libraries","active-class":"highlighted",class:Va(e.$route.path==="/libraries"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[5]||(t[5]=[zt("Locations")])),_:1})]),_:1},8,["class"]),T(Or,{color:"success",to:"/libraries-edit","active-class":"highlighted",class:Va(e.$route.path==="/libraries"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[6]||(t[6]=[zt("Edit locations")])),_:1})]),_:1},8,["class"])]),_:1}),T(Ks,{value:"Loans","prepend-icon":"mdi-book-account"},{activator:Ie(({props:y})=>[T(Or,lt(y,{title:"Loans"}),null,16)]),default:Ie(()=>[T(Or,{color:"success",to:"/loans","active-class":"highlighted",class:Va(e.$route.path==="/loans"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[7]||(t[7]=[zt("Loans")])),_:1})]),_:1},8,["class"])]),_:1}),T(Ks,{value:"Membership","prepend-icon":"mdi-account-group"},{activator:Ie(({props:y})=>[T(Or,lt(y,{title:"Membership"}),null,16)]),default:Ie(()=>[T(Or,{color:"success",to:"/membership","active-class":"highlighted",class:Va(e.$route.path==="/membership"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[8]||(t[8]=[zt("Membership")])),_:1})]),_:1},8,["class"]),T(Or,{color:"success",to:"/postcode-to-lsoa","active-class":"highlighted",class:Va(e.$route.path==="/postcode-to-lsoa"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[9]||(t[9]=[zt("Postcode converter")])),_:1})]),_:1},8,["class"]),T(Or,{color:"success",to:"/membership-map","active-class":"highlighted",class:Va(e.$route.path==="/membership-map"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[10]||(t[10]=[zt("Membership map")])),_:1})]),_:1},8,["class"])]),_:1}),T(Ks,{value:"MobileLibraries","prepend-icon":"mdi-bus-clock"},{activator:Ie(({props:y})=>[T(Or,lt(y,{title:"Mobile libraries"}),null,16)]),default:Ie(()=>[T(Or,{color:"success",to:"/mobile-library-stops","active-class":"highlighted",class:Va(e.$route.path==="/mobile-library-stops"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[11]||(t[11]=[zt("Mobile library stops")])),_:1})]),_:1},8,["class"])]),_:1}),T(Ks,{value:"Visits","prepend-icon":"mdi-shoe-print"},{activator:Ie(({props:y})=>[T(Or,lt(y,{title:"Visits"}),null,16)]),default:Ie(()=>[T(Or,{color:"success",to:"/physical-visits","active-class":"highlighted",class:Va(e.$route.path==="/physical-visits"?"highlighted":"")},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[12]||(t[12]=[zt("Physical visits")])),_:1})]),_:1},8,["class"])]),_:1}),T(yr),T(Or,{color:"info",to:"/about","active-class":"highlighted",class:Va(e.$route.path==="/about"?"highlighted":""),"prepend-icon":"mdi-information"},{default:Ie(()=>[T(ws,null,{default:Ie(()=>t[13]||(t[13]=[zt("About")])),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["modelValue"]),T(DDe,null,{default:Ie(()=>[T(o)]),_:1}),T(p)]),_:1})}const jDe=ni($De,[["render",qDe]]),HDe=$A({icons:{defaultSet:"mdi",aliases:OA,sets:{mdi:FA}},components:{...c5},defaults:{VBtn:{style:"text-transform: none;"},VTabs:{style:"text-transform: none;"}}});AF({extends:jDe,beforeCreate(){this.$store.commit("initialiseStore")}}).use(HDe).use(jPe).use(pDe).use(bV).component("layout-header",m5).component("markdown-section",E1e).component("user-profile",Mm).mount("#app")});export default GDe();
