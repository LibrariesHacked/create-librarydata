(function(e){function t(t){for(var r,i,n=t[0],l=t[1],d=t[2],c=0,m=[];c<n.length;c++)i=n[c],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var r={},s={app:0},o=[];function i(e){return n.p+"js/"+({}[e]||e)+"."+{"chunk-2d22497b":"9f508270"}[e]+".js"}function n(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(e){var t=[],a=s[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=s[e]=[t,r]}));t.push(a[2]=r);var o,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=i(e);var d=new Error;o=function(t){l.onerror=l.onload=null,clearTimeout(c);var a=s[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,a[1](d)}s[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:l})}),12e4);l.onerror=l.onload=o,document.head.appendChild(l)}return Promise.all(t)},n.m=e,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=d;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"00af":function(e,t,a){},"106b":function(e,t){var a=function(e){var t=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return t.test(e)};String.prototype.isUrl=a},"1fa6":function(e,t,a){"use strict";a("00af")},2140:function(e,t,a){"use strict";a("5fcc")},"2da9":function(e,t,a){"use strict";a("516a")},"36ac":function(e,t,a){},3872:function(e,t,a){"use strict";a("9074")},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=o,e.exports=s,s.id="4678"},"516a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",dense:"",flat:"",color:"green",dark:"","clipped-left":""}},[a("v-app-bar-nav-icon",{staticClass:"hidden-lg-and-up",on:{click:function(t){e.drawer=!e.drawer}}}),a("v-container",[a("v-toolbar-title",[e._v("Create")]),a("v-spacer")],1)],1),a("v-navigation-drawer",{attrs:{app:"",clipped:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[e._v(" Library data tools ")]),a("v-list-item-subtitle",[e._v(" Building and analysing library data ")])],1)],1),a("v-divider"),a("v-list",{attrs:{nav:"",dense:"",rounded:""}},[a("v-list-item-group",{attrs:{color:"indigo"}},[a("v-list-item",{class:"/"===e.$route.path?"highlighted":"",attrs:{to:"/","active-class":"highlighted"}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-home")])],1),a("v-list-item-title",[e._v("Home")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-domain"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Libraries")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/library-locations"===e.$route.path?"highlighted":"",attrs:{to:"/library-locations","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Library locations")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-account-circle"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Membership")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/postcode-to-lsoa"===e.$route.path?"highlighted":"",attrs:{to:"/postcode-to-lsoa","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Postcode converter")])],1),a("v-list-item",{class:"/membership-map"===e.$route.path?"highlighted":"",attrs:{to:"/membership-map","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Membership map")])],1)],1)],1)],1),a("v-main",[a("router-view")],1),a("v-footer",{attrs:{app:""}},[a("custom-footer")],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("ul",{staticClass:"footerLinks font-weight-medium"},[a("li",[a("router-link",{attrs:{to:"/",exact:""}},[e._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/accessibility",exact:""}},[e._v("Accessibility")])],1),a("li",[a("router-link",{attrs:{to:"/privacy",exact:""}},[e._v("Privacy")])],1)])]),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("p",{staticClass:"font-weight-medium"},[e._v(" Developed by "),a("a",{attrs:{href:"https://www.librarieshacked.org",target:"_blank"}},[e._v("Libraries Hacked")])])])],1)],1)},n=[],l={data:function(){return{}},methods:{}},d=l,c=(a("1fa6"),a("2877")),u=a("6544"),m=a.n(u),f=a("62ad"),h=a("a523"),p=a("0fd9"),b=Object(c["a"])(d,i,n,!1,null,"1ce2cab3",null),v=b.exports;m()(b,{VCol:f["a"],VContainer:h["a"],VRow:p["a"]});var y={name:"App",components:{"custom-footer":v},data:function(){return{drawer:null}}},g=y,_=(a("5c0b"),a("7496")),x=a("40dc"),k=a("5bc1"),w=a("ce7e"),j=a("553a"),I=a("132d"),S=a("8860"),L=a("56b0"),C=a("da13"),T=a("5d23"),V=a("1baa"),O=a("34c3"),F=a("f6c4"),M=a("f774"),D=a("2fa4"),A=a("2a7f"),P=Object(c["a"])(g,s,o,!1,null,null,null),R=P.exports;m()(P,{VApp:_["a"],VAppBar:x["a"],VAppBarNavIcon:k["a"],VContainer:h["a"],VDivider:w["a"],VFooter:j["a"],VIcon:I["a"],VList:S["a"],VListGroup:L["a"],VListItem:C["a"],VListItemContent:T["a"],VListItemGroup:V["a"],VListItemIcon:O["a"],VListItemSubtitle:T["b"],VListItemTitle:T["c"],VMain:F["a"],VNavigationDrawer:M["a"],VSpacer:D["a"],VToolbarTitle:A["a"]});var z=a("8c4f"),$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1)],1)},E=[],B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"header"},[a("v-container",[a("h1",[e._v(e._s(e.title))]),a("p",{staticClass:"text-subtitle-2"},[e._v(e._s(e.subtitle))])])],1)},W=[],N={data:function(){return{}},methods:{},props:["title","subtitle"]},H=N,U=(a("78e0"),Object(c["a"])(H,B,W,!1,null,"45a8a110",null)),G=U.exports;m()(U,{VContainer:h["a"]});var Y="We want as many people as possible to be able to use this website. For example, that means you should be able to:\r\n\r\n- change colours, contrast levels and fonts\r\n- zoom in up to 300% without the text spilling off the screen\r\n- navigate most of the website using just a keyboard\r\n- navigate most of the website using speech recognition software\r\n- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)\r\n\r\nWe've also made the website text as simple as possible to understand.\r\n\r\n[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.\r\n\r\n## Technical information about this website's accessibility\r\n\r\nThis website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service, [Doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).\r\n\r\nThere are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible we are looking at ensuring the information presented by the map is also available in other formats.\r\n\r\nIf you do experience any problems using this website, please do raise these and [send us an email](mailto:info@librarieshacked.org).\r\n",q=a("b52c"),K=a.n(q),Z={data:function(){return{mdText:Y}},methods:{},components:{"custom-header":G,VueMarkdownPlus:K.a}},J=Z,Q=Object(c["a"])(J,$,E,!1,null,null,null),X=Q.exports;m()(Q,{VContainer:h["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Create",subtitle:"Tools for building and analysing library data"}}),a("section",[a("v-container",[a("p",[e._v(" These are tools designed to aid library services in creating and using library open data. Inspired by the public library "),a("a",{attrs:{href:"https://schema.librarydata.uk"}},[e._v("open data schemas project")]),e._v(", the tools are tailored for the different datasets documented in that work. ")]),a("h2",[e._v("Library locations")]),a("ol",[a("li",[a("router-link",{attrs:{to:"/library-locations",exact:""}},[e._v("Editor for library locations dataset")])],1)]),a("h2",[e._v("Library membership")]),a("ol",[a("li",[a("router-link",{attrs:{to:"/postcode-to-lsoa",exact:""}},[e._v("Postcode to statistical geography converter")])],1),a("li",[a("router-link",{attrs:{to:"/membership-map",exact:""}},[e._v("Membership map visualisation")])],1)])])],1)],1)},te=[],ae={data:function(){return{}},methods:{},components:{"custom-header":G}},re=ae,se=Object(c["a"])(re,ee,te,!1,null,null,null),oe=se.exports;m()(se,{VContainer:h["a"]});var ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Library locations",subtitle:"Create and maintain data on your library buildings."}}),a("section",[a("v-container",[a("v-data-table",{attrs:{headers:e.headers,items:e.libraries,"sort-by":"name"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"500px","overlay-opacity":"0.2","content-class":"elevation-0"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({attrs:{text:"",color:"primary"}},"v-btn",s,!1),r),[e._v(" Add library ")])]}}]),model:{value:e.dialogMainLibrary,callback:function(t){e.dialogMainLibrary=t},expression:"dialogMainLibrary"}},[a("v-card",[a("v-card-text",[a("v-container",[[a("v-tabs",{model:{value:e.dialogTab,callback:function(t){e.dialogTab=t},expression:"dialogTab"}},[a("v-tab",[e._v("Main details")]),a("v-tab",[e._v("Location")]),a("v-tab",[e._v("Opening hours")]),a("v-tab-item",[a("v-container",[a("v-alert",{attrs:{color:"primary",text:"",type:"info"}},[e._v(" For more information on each field see the "),a("a",{attrs:{href:"https://schema.librarydata.uk/libraries",target:"_blank"}},[e._v("Library locations dataset")]),e._v(". ")])],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:e.library_services,label:"Service",outlined:"",rounded:"",dense:""},model:{value:e.editedItem["Local authority"],callback:function(t){e.$set(e.editedItem,"Local authority",t)},expression:"editedItem['Local authority']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Name"},model:{value:e.editedItem["Library name"],callback:function(t){e.$set(e.editedItem,"Library name",t)},expression:"editedItem['Library name']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{label:"Type",items:[{text:"Local authority",value:"LAL"},{text:"Local authority (unstaffed)",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"IL"}],dense:"",outlined:"",rounded:""},model:{value:e.editedItem["Type of library"],callback:function(t){e.$set(e.editedItem,"Type of library",t)},expression:"editedItem['Type of library']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{items:["Yes","No"],label:"Statutory",dense:"",outlined:"",rounded:""},model:{value:e.editedItem["Statutory"],callback:function(t){e.$set(e.editedItem,"Statutory",t)},expression:"editedItem['Statutory']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Year opened",type:"number"},model:{value:e.editedItem["Year opened"],callback:function(t){e.$set(e.editedItem,"Year opened",t)},expression:"editedItem['Year opened']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Year closed",type:"number"},model:{value:e.editedItem["Year closed"],callback:function(t){e.$set(e.editedItem,"Year closed",t)},expression:"editedItem['Year closed']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Email address"},model:{value:e.editedItem["Email address"],callback:function(t){e.$set(e.editedItem,"Email address",t)},expression:"editedItem['Email address']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Website"},model:{value:e.editedItem["URL"],callback:function(t){e.$set(e.editedItem,"URL",t)},expression:"editedItem['URL']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{dense:"",outlined:"",rounded:"",label:"Notes","full-width":""},model:{value:e.editedItem["Notes"],callback:function(t){e.$set(e.editedItem,"Notes",t)},expression:"editedItem['Notes']"}})],1)],1)],1),a("v-tab-item",[a("v-container"),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Address 1"},model:{value:e.editedItem["Address 1"],callback:function(t){e.$set(e.editedItem,"Address 1",t)},expression:"editedItem['Address 1']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Address 2"},model:{value:e.editedItem["Address 2"],callback:function(t){e.$set(e.editedItem,"Address 2",t)},expression:"editedItem['Address 2']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Address 3"},model:{value:e.editedItem["Address 3"],callback:function(t){e.$set(e.editedItem,"Address 3",t)},expression:"editedItem['Address 3']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Postcode"},model:{value:e.editedItem["Postcode"],callback:function(t){e.$set(e.editedItem,"Postcode",t)},expression:"editedItem['Postcode']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"9"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Unique property reference number"},model:{value:e.editedItem["Unique property reference number"],callback:function(t){e.$set(e.editedItem,"Unique property reference number",t)},expression:"editedItem['Unique property reference number']"}})],1)],1)],1),a("v-tab-item",[a("v-container"),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Monday staffed"},model:{value:e.editedItem["Monday staffed hours"],callback:function(t){e.$set(e.editedItem,"Monday staffed hours",t)},expression:"editedItem['Monday staffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Tuesday staffed"},model:{value:e.editedItem["Tuesday staffed hours"],callback:function(t){e.$set(e.editedItem,"Tuesday staffed hours",t)},expression:"editedItem['Tuesday staffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Wednesday staffed"},model:{value:e.editedItem["Wednesday staffed hours"],callback:function(t){e.$set(e.editedItem,"Wednesday staffed hours",t)},expression:"editedItem['Wednesday staffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Thursday staffed"},model:{value:e.editedItem["Thursday staffed hours"],callback:function(t){e.$set(e.editedItem,"Thursday staffed hours",t)},expression:"editedItem['Thursday staffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Friday staffed"},model:{value:e.editedItem["Friday staffed hours"],callback:function(t){e.$set(e.editedItem,"Friday staffed hours",t)},expression:"editedItem['Friday staffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Saturday staffed"},model:{value:e.editedItem["Saturday staffed hours"],callback:function(t){e.$set(e.editedItem,"Saturday staffed hours",t)},expression:"editedItem['Saturday staffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Sunday staffed"},model:{value:e.editedItem["Sunday staffed hours"],callback:function(t){e.$set(e.editedItem,"Sunday staffed hours",t)},expression:"editedItem['Sunday staffed hours']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Monday unstaffed"},model:{value:e.editedItem["Monday unstaffed hours"],callback:function(t){e.$set(e.editedItem,"Monday unstaffed hours",t)},expression:"editedItem['Monday unstaffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Tuesday unstaffed"},model:{value:e.editedItem["Tuesday unstaffed hours"],callback:function(t){e.$set(e.editedItem,"Tuesday unstaffed hours",t)},expression:"editedItem['Tuesday unstaffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Wednesday unstaffed"},model:{value:e.editedItem["Wednesday unstaffed hours"],callback:function(t){e.$set(e.editedItem,"Wednesday unstaffed hours",t)},expression:"editedItem['Wednesday unstaffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Thursday unstaffed"},model:{value:e.editedItem["Thursday unstaffed hours"],callback:function(t){e.$set(e.editedItem,"Thursday unstaffed hours",t)},expression:"editedItem['Thursday unstaffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Friday unstaffed"},model:{value:e.editedItem["Friday unstaffed hours"],callback:function(t){e.$set(e.editedItem,"Friday unstaffed hours",t)},expression:"editedItem['Friday unstaffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Saturday unstaffed"},model:{value:e.editedItem["Saturday unstaffed hours"],callback:function(t){e.$set(e.editedItem,"Saturday unstaffed hours",t)},expression:"editedItem['Saturday unstaffed hours']"}}),a("v-text-field",{attrs:{dense:"",outlined:"",rounded:"",label:"Sunday unstaffed"},model:{value:e.editedItem["Sunday unstaffed hours"],callback:function(t){e.$set(e.editedItem,"Sunday unstaffed hours",t)},expression:"editedItem['Sunday unstaffed hours']"}})],1)],1)],1)],1)]],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.close}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"success"},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","overlay-opacity":"0.2","content-class":"elevation-0","max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Remove this library?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"error"},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(r)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.deleteItem(r)}}},[e._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[a("file-upload",{attrs:{file:e.libraryFiles},on:{"change-files":function(t){e.libraryFiles=t},"delete-file":function(t){e.libraryFiles=[]}}}),a("v-btn",{staticClass:"ma-2",attrs:{text:"",color:"primary",disabled:0===e.libraryFiles.length},on:{click:e.loadLibraries}},[e._v("Load libraries ")])]},proxy:!0}])}),a("v-btn",{attrs:{disabled:0===e.libraryFiles.length,text:"",color:"success"},on:{click:e.download}},[e._v("Save libraries")])],1)],1)],1)},ne=[],le=a("1da1"),de=(a("96cf"),a("a434"),a("b0c0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("v-file-input",{attrs:{accept:"text/csv",chips:"",counter:"","show-size":"","small-chips":"",multiple:"",label:"Choose a file from your computer",value:e.file},on:{change:function(t){return e.$emit("change-files",t)}}})],1)}),ce=[],ue={props:["file"],data:function(){return{}},methods:{}},me=ue,fe=a("23a7"),he=Object(c["a"])(me,de,ce,!1,null,null,null),pe=he.exports;m()(he,{VFileInput:fe["a"]});var be=a("369b"),ve=function(e,t){return new Promise((function(a){var r=[];be["parse"](e,{skipEmptyLines:!0,worker:!0,header:t,step:function(e){r.push(e.data)},complete:function(){a(r)}})}))},ye=a("9843"),ge={data:function(){return{library_services:ye.library_services,library_form_active:!1,libraryFiles:[],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,headers:[{text:"Name",align:"start",value:"Library name"},{text:"Address 1",align:"start",value:"Address 1"},{text:"Postcode",value:"Postcode"},{text:"Statutory",value:"Statutory"},{text:"Actions",value:"actions",sortable:!1}],libraries:[],editedIndex:-1,editedItem:{},defaultItem:{"Local authority":"","Library name":"","Address 1":"","Address 2":"","Address 3":"",Postcode:"","Unique property reference number":"",Statutory:"","Type of library":"","Year opened":"","Year closed":"","Monday staffed hours":"","Tuesday staffed hours":"","Wednesday staffed hours":"","Thursday staffed hours":"","Friday staffed hours":"","Saturday staffed hours":"","Sunday staffed hours":"","Monday unstaffed hours":"","Tuesday unstaffed hours":"","Wednesday unstaffed hours":"","Thursday unstaffed hours":"","Friday unstaffed hours":"","Saturday unstaffed hours":"","Sunday unstaffed hours":"","Special hours":"",Colocated:"","Colocated with":"",Notes:"",URL:"","Email address":""}}},methods:{editItem:function(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},deleteItem:function(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.libraries.splice(this.editedIndex,1),this.closeDelete()},close:function(){var e=this;this.dialogMainLibrary=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()},loadLibraries:function(){var e=Object(le["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!t.libraryFiles[0].name){e.next=6;break}return e.next=4,ve(t.libraryFiles[0],!0);case 4:a=e.sent,this.libraries=a;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),download:function(){this.downloadFile("libraries.csv",this.libraries)},downloadFile:function(e,t){var a=new Blob([be["unparse"](t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,e);else{var r=document.createElement("a");r.href=window.URL.createObjectURL(a),r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r)}}},components:{"custom-header":G,"file-upload":pe}},_e=ge,xe=a("0798"),ke=a("8336"),we=a("b0af"),je=a("99d9"),Ie=a("8fea"),Se=a("169a"),Le=a("b974"),Ce=a("71a3"),Te=a("c671"),Ve=a("fe57"),Oe=a("8654"),Fe=a("a844"),Me=a("71d9"),De=Object(c["a"])(_e,ie,ne,!1,null,"3c30018f",null),Ae=De.exports;m()(De,{VAlert:xe["a"],VBtn:ke["a"],VCard:we["a"],VCardActions:je["a"],VCardText:je["b"],VCardTitle:je["c"],VCol:f["a"],VContainer:h["a"],VDataTable:Ie["a"],VDialog:Se["a"],VIcon:I["a"],VRow:p["a"],VSelect:Le["a"],VSpacer:D["a"],VTab:Ce["a"],VTabItem:Te["a"],VTabs:Ve["a"],VTextField:Oe["a"],VTextarea:Fe["a"],VToolbar:Me["a"]});var Pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Membership map",subtitle:"Explore library membership data"}}),a("section",[a("v-container",[a("p",[e._v(" You need library membership data in the "),a("a",{attrs:{href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v("membership data schema format")]),e._v(". This can be created using the "),a("a",{attrs:{href:"/postcode-to-lsoa",target:"_blank"}},[e._v("postcode to statistical area converter")]),e._v(". ")]),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("file-upload",{attrs:{file:e.lsoaFiles},on:{"change-files":function(t){e.lsoaFiles=t},"delete-file":function(t){e.lsoaFiles=null}}}),a("br"),a("v-btn",{attrs:{depressed:"",color:"primary",disabled:0===e.lsoaFiles.length},on:{click:e.addMembershipData}},[e._v("Add members to map ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Display options")])]),a("ul",[a("li",[a("b",[e._v("Population percentage")]),e._v(". Shades the map to highlight concentration of membership. When zooming in in also displays the membership population percentage. ")]),a("li",[a("b",[e._v("Areas of deprivation")]),e._v(". Shades the map to highlight highly deprived areas. Uses the index of multiple deprivation for each area. 1 represents highly deprived areas, 10 the least deprived. ")])])])],1)],1)],1),a("v-radio-group",{attrs:{row:""},on:{change:e.setDisplayOptions},model:{value:e.mapDisplay,callback:function(t){e.mapDisplay=t},expression:"mapDisplay"}},[a("v-radio",{attrs:{label:"Display population percentage",value:"populationPercentage"}}),a("v-radio",{attrs:{label:"Display areas of deprivation",value:"imd"}})],1),a("MglMap",{ref:"mglMap",attrs:{container:"map-container",minZoom:e.minZoom,maxZoom:e.maxZoom,center:e.center,mapStyle:e.mapStyle,zoom:e.zoom},on:{"update:center":function(t){e.center=t},"update:zoom":function(t){e.zoom=t}}},[a("MglVectorLayer",{attrs:{sourceId:"lsoa_boundaries",source:e.lsoasSource,layerId:"lsoa_boundaries_fill",layer:e.lsoasLayerFill}}),a("MglVectorLayer",{attrs:{sourceId:"lsoa_boundaries",source:e.lsoasSource,layerId:"lsoa_boundaries_label",layer:e.lsoasLayerLabel}}),a("MglVectorLayer",{attrs:{sourceId:"libraries",source:e.librariesSource,layerId:"libraries_circles",layer:e.librariesLayerCircles}}),a("MglNavigationControl",{attrs:{position:"bottom-right"}}),a("MglFullscreenControl",{attrs:{position:"top-right"}}),null!==e.authoritySource?a("MglGeojsonLayer",{attrs:{sourceId:"authority_boundary_source",source:e.authoritySource,layerId:"authority_boundary_line",layer:e.authorityLayerLine}}):e._e(),null!==e.authoritySource?a("MglGeojsonLayer",{attrs:{sourceId:"authority_boundary_source",source:e.authoritySource,layerId:"authority_boundary_label",layer:e.authorityLayerLabel}}):e._e()],1)],1)],1)],1)},Re=[],ze=(a("d81d"),a("4de4"),a("159b"),a("ac1f"),a("5319"),a("fb6a"),a("106b"),a("b751")),$e=a("5568"),Ee=a("bc3a"),Be=a.n(Ee),We=a("9843");function Ne(e){return He.apply(this,arguments)}function He(){return He=Object(le["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Be.a.get(We.authorities_path+"/name/"+t);case 2:if(a=e.sent,!a||!a.data){e.next=7;break}return e.abrupt("return",a.data);case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)}))),He.apply(this,arguments)}var Ue=a("3f3d"),Ge=a("9843"),Ye={created:function(){this.map=null},data:function(){return{map:null,mapStyle:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",center:[-2,52],zoom:7,minZoom:5,maxZoom:14,mapDisplay:"populationPercentage",authoritySource:null,authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},lsoaFiles:[],lsoasSource:{type:"vector",tiles:[Ge.lsoa_tiles],promoteId:{lsoa_boundaries:"code"}},librariesSource:{type:"vector",tiles:[Ge.libraries_tiles]},matchFilter:["in",["get","code"],["literal",[]]],matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",lsoasLayerFill:{type:"fill",filter:["in",["get","code"],["literal",[]]],"source-layer":"lsoa_boundaries",paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],librariesLayerCircles:{type:"circle",filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoasLayerLabel:{type:"symbol",filter:["in",["get","code"],["literal",[]]],"source-layer":"lsoa_boundaries",minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Open Sans Bold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-allow-overlap":!1,"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}}}},methods:{setDisplayOptions:function(){"populationPercentage"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation),"imd"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation),this.lsoasLayerFill.filter=this.matchFilter,this.lsoasLayerLabel.filter=this.matchFilter},setLsoaFields:function(e){var t=this,a=[],r=["match",["get","code"]],s=["match",["get","code"]];e.forEach((function(e){var o=parseInt(e[3].replace("x","2"));t.$refs.mglMap.map.setFeatureState({source:"lsoa_boundaries",sourceLayer:"lsoa_boundaries",id:e[2]},{members:o}),a.push(e[2]),r.push(e[2]),r.push(["concat",["to-string",["round",["*",["/",o,["to-number",["get","population"]]],100]]],"%"]),s.push(e[2]),s.push(["get","imd"])})),r.push(""),s.push("");var o=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],0,ze["a"].OrRd[9][0],5,ze["a"].OrRd[9][1],10,ze["a"].OrRd[9][2],15,ze["a"].OrRd[9][3],20,ze["a"].OrRd[9][4],25,ze["a"].OrRd[9][5],30,ze["a"].OrRd[9][6],35,ze["a"].OrRd[9][7],40,ze["a"].OrRd[9][8]],i=["interpolate",["linear"],["to-number",["get","imd"]],1,ze["a"].OrRd[9][8],2,ze["a"].OrRd[9][7],3,ze["a"].OrRd[9][6],4,ze["a"].OrRd[9][5],5,ze["a"].OrRd[9][4],6,ze["a"].OrRd[9][3],7,ze["a"].OrRd[9][2],8,ze["a"].OrRd[9][1],9,ze["a"].OrRd[9][0],10,ze["a"].OrRd[9][0]],n=["in",["get","code"],["literal",a]];this.matchFilter=n,this.matchFieldLsoaPopulation=r,this.matchFieldLsoaDeprivation=s,this.matchColourLsoaPopulation=o,this.matchColourLsoaDeprivation=i,this.setDisplayOptions()},addMembershipData:function(){var e=Object(le["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!t.lsoaFiles[0].name){e.next=14;break}return e.next=4,ve(t.lsoaFiles[0],!1);case 4:return a=e.sent,this.setLsoaFields(a.slice(1)),e.next=8,Ne(a[1][0]);case 8:r=e.sent,s=JSON.parse(r.geojson),this.authoritySource={type:"geojson",data:s},this.authorityLayerLabel.layout["text-field"]=r.utla19nm,o=Object($e["a"])(s),this.$refs.mglMap.map.fitBounds(o,{padding:10});case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},components:{"custom-header":G,"file-upload":pe,MglGeojsonLayer:Ue["b"],MglMap:Ue["c"],MglFullscreenControl:Ue["a"],MglNavigationControl:Ue["d"],MglVectorLayer:Ue["e"]}},qe=Ye,Ke=(a("2140"),a("67b6")),Ze=a("43a6"),Je=Object(c["a"])(qe,Pe,Re,!1,null,null,null),Qe=Je.exports;m()(Je,{VAlert:xe["a"],VBtn:ke["a"],VCol:f["a"],VContainer:h["a"],VRadio:Ke["a"],VRadioGroup:Ze["a"],VRow:p["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Convert library member postcodes",subtitle:"Obtain census-based areas for the locations of library members"}}),a("section",[a("v-container",[a("p",[e._v(" England and Wales release statistics at the census-based Lower super output area geographic level. In Scotland, Data Zones are most useful, and in Northern Ireland, Small Areas. This tool converts UK postcodes into the most appropriate matching area. ")]),a("p",[e._v(" Postcodes are kept secure. A selection of postcode/area pairings are downloaded based on the postcode "),a("b",[e._v("sectors")]),e._v(" in your data. The correct areas are then chosen on your local PC. ")]),a("v-stepper",{attrs:{vertical:"",flat:""},model:{value:e.active_step,callback:function(t){e.active_step=t},expression:"active_step"}},[a("v-stepper-step",{attrs:{complete:e.active_step>1,step:"1",color:"secondary",editable:""}},[e._v(" Load postcodes ")]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("file-upload",{attrs:{file:e.files},on:{"change-files":function(t){e.files=t}}}),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:0===e.files.length},on:{click:e.confirmFile}},[e._v(" Next ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("File tips")])]),a("ol",[a("li",[e._v(" This tool loads CSV files. If your data isn't in CSV format you'll need to convert it. Try "),a("b",[e._v("Save as")]),e._v(" in your software. ")]),a("li",[e._v("The first row should be column headings")]),a("li",[e._v("One column should contain UK postcodes")])])])],1)],1)],1)],1),a("v-stepper-step",{attrs:{color:"secondary",complete:e.active_step>2,step:"2"}},[e._v(" Choose conversion options ")]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-select",{attrs:{items:e.columns,label:"Select column",outlined:""},model:{value:e.postcode_column,callback:function(t){e.postcode_column=t},expression:"postcode_column"}}),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:""===e.postcode_column},on:{click:e.confirmOptions}},[e._v("Convert ")]),a("v-container",[a("v-subheader",[e._v("My columns include a count")]),a("v-select",{attrs:{value:e.option,items:e.columns.filter((function(t){return t!==e.postcode_column})),disabled:""===e.postcode_column||0===e.columns.filter((function(t){return t!==e.postcode_column})).length,label:"Count column (optional)",outlined:""}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Choose your columns")])]),a("p",[e._v("The column headings in your data should be displayed.")]),a("ol",[a("li",[e._v("Select the correct column for the postcodes")]),a("li",[e._v("Check guidance below on the optional step")]),a("li",[e._v(" When ready, select the "),a("strong",[e._v("Convert")]),e._v(" option to continue ")])]),a("br"),a("p",[e._v(" It may take a few minutes depending on number of postcodes. ")])]),a("v-alert",{attrs:{border:"right",color:"orange",text:"",type:"warning"}},[a("p",[a("b",[e._v("Optional: counts of people")])]),a("p",[e._v(" If your data is grouped into counts per postcode, select the column the count is held in. The tool will then be able to count people per area for you. ")]),a("p",[e._v(" If each of your rows relates to an individual person you can ignore this option. ")])])],1)],1)],1)],1),a("v-stepper-step",{attrs:{color:"secondary",complete:e.active_step>3,step:"3"}},[e._v(" Results ")]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-subheader",[e._v(" "+e._s("Completed in "+e.getTimeCompleted()+" seconds")+" ")]),a("v-data-table",{attrs:{dense:"","disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"",headers:e.summary_columns,items:e.summary_data,"item-key":"total"}}),a("br"),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.downloadConvertedFile}},[e._v("Save converted file ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Saving converted file - what to expect")])]),a("ul",[a("li",[e._v("Valid postcodes are changed to their statistical area")]),a("li",[e._v(" Postcodes that are no longer valid are changed to "),a("strong",[e._v("Terminated")]),e._v(". ")]),a("li",[e._v(" Postcodes not recognised changed to "),a("strong",[e._v("Unknown")]),e._v(". ")]),a("li",[e._v(" The postcode column header changed to "),a("strong",[e._v("Area")]),e._v(". ")])])])],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("h4",[e._v("Library membership data")]),a("br"),a("v-select",{attrs:{items:e.library_services,label:"Library service name",outlined:""},model:{value:e.authority,callback:function(t){e.authority=t},expression:"authority"}}),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.extract_date,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.extract_date=t},"update:return-value":function(t){e.extract_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,s=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Count date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",s,!1),r))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.date)}}},[e._v(" OK ")])],1)],1),a("v-btn",{attrs:{text:"",color:"primary",disabled:""===e.authority||null===e.extract_date},on:{click:e.downloadSchemaFile}},[e._v("Save membership file")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-alert",{attrs:{border:"right",color:"orange",text:"",type:"warning"}},[a("p",[a("b",[e._v("Public library open data")])]),a("p",[e._v(" Census geographies are required for "),a("a",{attrs:{href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v("library membership data")]),e._v(". ")]),a("p",[e._v("This tool has calculated a count of members per statistical area.")]),a("ol",[a("li",[e._v("Select the name of your library service")]),a("li",[e._v(" Choose a date the postcodes were extracted from your library management system ")]),a("li",[e._v("Save the data file")])])])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Please wait")])]),a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)],1)},et=[],tt=(a("b64b"),a("25f0"),a("c1df")),at=a.n(tt),rt=a("21a6"),st=a("2909"),ot=(a("6062"),a("466d"),a("498a"),a("9843"));function it(e){var t=new Set(e.map((function(e){return nt(e)})).filter((function(e){return null!=e})));return Object(st["a"])(t)}function nt(e){var t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){var a=e.match(t);if(a&&a.length>0)return a[0].substring(0,6)}return null}function lt(e,t){Be.a.post(ot.postcode_api+"lsoas?filter=sector",e).then((function(e){t(e.data)}))}function dt(e,t){var a=it(e),r={};lt(a,(function(e){Object.keys(e).forEach((function(t){e[t].forEach((function(e){r[e.replace(/\s/g,"")]=t.trim()}))})),t(r)}))}var ct=a("9843"),ut={data:function(){return{start_time:null,end_time:null,loading:!1,loading_message:"",active_step:1,columns:[],files:[],postcode_column:"",counts_column:"",csv_data:[],lsoas_counted:{},summary_data:[{total:0,converted:0,terminated:0,unknown:0}],summary_columns:[{value:"total",text:"Total"},{value:"converted",text:"Successful"},{value:"terminated",text:"Terminated"},{value:"unknown",text:"Unknown"}],authority:"",extract_date:null,library_services:ct.library_services}},methods:{getTimeCompleted:function(){return this.start_time&&this.end_time?Math.round(at.a.duration(this.end_time.diff(this.start_time)).asSeconds()):""},confirmFile:function(){var e=Object(le["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,t.loading=!0,!(t.files.length>0)){e.next=10;break}return e.next=5,ve(t.files[0],!1);case 5:a=e.sent,t.columns=a[0],t.csv_data=a,t.active_step=2,t.loading=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),confirmOptions:function(){var e=this,t=this;t.start_time=at()(),t.loading=!0,t.summary_data[0].total=0,t.summary_data[0].converted=0,t.summary_data[0].unknown=0,t.summary_data[0].terminated=0,t.lsoas_counted={Unknown:0};var a=t.columns.indexOf(t.postcode_column),r=t.columns.indexOf(this.counts_column),s=t.csv_data.map((function(e){return e[a]})).filter((function(e){return null!=e&&e!=t.postcode_column}));dt(s,(function(s){t.csv_data.forEach((function(o,i){var n=o[a],l=n.replace(/\s/g,"");if(0===i&&n===t.postcode_column)o[a]="LSOA";else{e.summary_data[0].total++;var d="";n&&""!==n&&s[l]?(d=s[l],"Terminated"===d?(o[a]="Terminated",e.summary_data[0].terminated++):"Unknown"===d?(o[a]="Unknown",e.summary_data[0].unknown++):(o[a]=d,e.summary_data[0].converted++)):(o[a]="Unknown",e.summary_data[0].unknown++,d="Unknown"),"Terminated"===d&&(d="Unknown"),e.lsoas_counted[d]||(e.lsoas_counted[d]=0),""!==e.counts_column?e.lsoas_counted[d]=e.lsoas_counted[d]+parseInt(o[r]):e.lsoas_counted[d]++}})),t.active_step=3,e.loading=!1,e.end_time=at()()}))},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csv_data)},downloadSchemaFile:function(){var e=Object(le["a"])(regeneratorRuntime.mark((function e(){var t,a,r,s=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=[["Local authority","Count date","Area code","Members"]],a=at()(this.extract_date).format("YYYY-MM-DD"),Object.keys(this.lsoas_counted).filter((function(e){return"Unknown"!==e&&"Terminated"!==e})).forEach((function(e){var r=s.lsoas_counted[e];t.push([s.authority,a,e,r>4?r.toString():"x"])})),r=this.lsoas_counted["Unknown"],this.lsoas_counted["Unknown"]>0&&t.push([this.authority,a,"Unknown",r>4?r.toString():"x"]),this.downloadFile("membership.csv",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),downloadFile:function(e,t){var a=new Blob([be["unparse"](t)],{type:"text/plain;charset=utf-8"});Object(rt["saveAs"])(a,e)}},components:{"file-upload":pe,"custom-header":G}},mt=ut,ft=(a("3872"),a("2e4b")),ht=a("8e36"),pt=a("7e85"),bt=a("e516"),vt=a("56a4"),yt=a("e0c7"),gt=Object(c["a"])(mt,Xe,et,!1,null,"886e29a8",null),_t=gt.exports;m()(gt,{VAlert:xe["a"],VBtn:ke["a"],VCard:we["a"],VCardText:je["b"],VCardTitle:je["c"],VCol:f["a"],VContainer:h["a"],VDataTable:Ie["a"],VDatePicker:ft["a"],VDialog:Se["a"],VProgressLinear:ht["a"],VRow:p["a"],VSelect:Le["a"],VSpacer:D["a"],VStepper:pt["a"],VStepperContent:bt["a"],VStepperStep:vt["a"],VSubheader:yt["a"],VTextField:Oe["a"]});var xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Privacy policy",subtitle:"How your data and privacy is protected"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1)],1)},kt=[],wt="These pages were created by Dave. You can [contact me via email](mailto:info@librarieshacked.org) should you have any questions.\r\n\r\n## GitHub pages\r\n\r\nThis site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include information such as your IP address.\r\n\r\nGitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to logged-in services within GitHub, but there is a reference to GitHub pages sites in this policy. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.\r\n\r\n> “Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.”\r\n\r\n## Cloudflare cookie\r\n\r\nCookies are files saved on your phone, tablet or computer when you visit a website.\r\n\r\nThis site uses [Cloudflare](https://www.cloudflare.com/), to ensure we provide the site using encryption (see the 'https' at the start of the address), as well as maximising the security and performance of the website.\r\n\r\nCloudflare creates a single cookie on your computer when you use this website. The cookie is necessary to deliver their security features, such as identifying when a malicious user is suspected of attempting to overload a website. This would display a challenge to the user, blocking them from repeated requests.\r\n\r\nThis functionality uses your IP address, but anonymises it so that it can not be identified in future. The cookie is not used for any cross-site tracking, or marketing purposes. More details are available at the [Cloudflare description of the use of cookies](https://support.cloudflare.com/hc/en-us/articles/200170156-Understanding-the-Cloudflare-Cookies#12345682).\r\n\r\n## Tracking and analytics\r\n\r\nThere are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.\r\n",jt={data:function(){return{mdText:wt}},methods:{},components:{"custom-header":G,VueMarkdownPlus:K.a}},It=jt,St=(a("2da9"),Object(c["a"])(It,xt,kt,!1,null,"410bf464",null)),Lt=St.exports;m()(St,{VContainer:h["a"]}),r["a"].use(z["a"]);var Ct=new z["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:oe},{path:"/postcode-to-lsoa",name:"postcode-to-lsoa",component:_t},{path:"/library-locations",name:"library-locations",component:Ae},{path:"/membership-map",name:"membership-map",component:Qe},{path:"/privacy",name:"privacy",component:Lt},{path:"/accessibility",name:"accessibility",component:X}]}),Tt=a("f309");r["a"].use(Tt["a"]);var Vt=new Tt["a"]({});r["a"].config.productionTip=!1,new r["a"]({router:Ct,vuetify:Vt,render:function(e){return e(R)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"5fcc":function(e,t,a){},"78e0":function(e,t,a){"use strict";a("36ac")},9074:function(e,t,a){},9843:function(e){e.exports=JSON.parse('{"postcode_api":"https://api-geography.azurewebsites.net/rest/postcodes/","schema_path":"https://raw.githubusercontent.com/LibrariesHacked/schema-librarydata/master/archive/","lsoa_tiles":"https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt","libraries_tiles":"https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt","authorities_path":"https://api-geography.librarydata.uk/rest/libraryAuthorities","schemas":{"membership":{"name":"Membership","version":"0.3.0"}},"library_services":["Aberdeen City","Aberdeenshire","Angus","Argyll and Bute","Barking and Dagenham","Barnet","Barnsley","Bath and North East Somerset","Bedford","Bexley","Birmingham","Blackburn with Darwen","Blackpool","Blaenau Gwent","Bolton","Bournemouth, Christchurch and Poole","Bracknell Forest","Bradford","Brent","Bridgend","Brighton and Hove","Bristol, City of","Bromley","Buckinghamshire","Bury","Caerphilly","Calderdale","Cambridgeshire","Camden","Cardiff","Carmarthenshire","Central Bedfordshire","Ceredigion","Cheshire East","Cheshire West and Chester","City of Edinburgh","City of London","Clackmannanshire","Conwy","Cornwall","County Durham","Coventry","Croydon","Cumbria","Darlington","Denbighshire","Derby","Derbyshire","Devon","Doncaster","Dorset","Dudley","Dumfries and Galloway","Dundee City","Ealing","East Ayrshire","East Dunbartonshire","East Lothian","East Renfrewshire","East Riding of Yorkshire","East Sussex","Enfield","Essex","Falkirk","Fife","Flintshire","Gateshead","Glasgow City","Gloucestershire","Greenwich","Gwynedd","Hackney","Halton","Hammersmith and Fulham","Hampshire","Haringey","Harrow","Hartlepool","Havering","Herefordshire, County of","Hertfordshire","Highland","Hillingdon","Hounslow","Inverclyde","Isle of Anglesey","Isle of Wight","Isles of Scilly","Islington","Kensington and Chelsea","Kent","Kingston upon Hull, City of","Kingston upon Thames","Kirklees","Knowsley","Lambeth","Lancashire","Leeds","Leicester","Leicestershire","Lewisham","Lincolnshire","Liverpool","Luton","Manchester","Medway","Merthyr Tydfil","Merton","Middlesbrough","Midlothian","Milton Keynes","Monmouthshire","Moray","Na h-Eileanan Siar","Neath Port Talbot","Newcastle upon Tyne","Newham","Newport","Norfolk","North Ayrshire","North East Lincolnshire","North Lanarkshire","North Lincolnshire","North Somerset","North Tyneside","North Yorkshire","Northamptonshire","Northern Ireland","Northumberland","Nottingham","Nottinghamshire","Oldham","Orkney Islands","Oxfordshire","Pembrokeshire","Perth and Kinross","Peterborough","Plymouth","Portsmouth","Powys","Reading","Redbridge","Redcar and Cleveland","Renfrewshire","Rhondda Cynon Taf","Richmond upon Thames","Rochdale","Rotherham","Rutland","Salford","Sandwell","Scottish Borders","Sefton","Sheffield","Shetland Islands","Shropshire","Slough","Solihull","Somerset","South Ayrshire","South Gloucestershire","South Lanarkshire","South Tyneside","Southampton","Southend-on-Sea","Southwark","St. Helens","Staffordshire","Stirling","Stockport","Stockton-on-Tees","Stoke-on-Trent","Suffolk","Sunderland","Surrey","Sutton","Swansea","Swindon","Tameside","Telford and Wrekin","Thurrock","Torbay","Torfaen","Tower Hamlets","Trafford","Vale of Glamorgan","Wakefield","Walsall","Waltham Forest","Wandsworth","Warrington","Warwickshire","West Berkshire","West Dunbartonshire","West Lothian","West Sussex","Westminster","Wigan","Wiltshire","Windsor and Maidenhead","Wirral","Wokingham","Wolverhampton","Worcestershire","Wrexham","York"]}')},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.25e8eb8a.js.map