(function(){var e={6700:function(e,t,a){var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":6196,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":6196,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":8227,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":8227,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id=6700},4731:function(){const e=e=>{const t=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return t.test(e)};String.prototype.isUrl=e},5830:function(e,t,a){"use strict";a.r(t),a.d(t,{getLibraryAuthorities:function(){return i},getLibraryAuthorityByName:function(){return n},getLibraryAuthoritySystemName:function(){return l}});var s=a(9669),r=a.n(s);const o=a(6795);async function i(){const e=await r().get(o.authorities_path);return e&&e.data?e.data:[]}async function n(e){const t=await r().get(o.authorities_path+"/name/"+e);return t&&t.data?t.data:{}}function l(e){return e.replace(/[. ,:-]+/g,"-").toLowerCase()}},2007:function(e,t,a){"use strict";var s=a(144),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",flat:"",outlined:"","clipped-left":""}},[a("v-app-bar-nav-icon",{staticClass:"hidden-lg-and-up",on:{click:function(t){e.drawer=!e.drawer}}}),a("v-container",[a("v-toolbar-title",[e._v("Create")]),a("v-spacer")],1)],1),a("v-navigation-drawer",{staticClass:"elevation-0",attrs:{app:"",clipped:"","hide-overlay":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{nav:"",dense:""}},[a("v-list-item-group",[a("v-list-item",{class:"/"===e.$route.path?"highlighted":"",attrs:{to:"/","active-class":"highlighted"}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-home")])],1),a("v-list-item-title",[e._v("Home")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-calendar-star"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Events")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/events"===e.$route.path?"highlighted":"",attrs:{to:"/events","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Events dataset")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-domain"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Libraries")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/libraries"===e.$route.path?"highlighted":"",attrs:{to:"/libraries","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Libraries dataset")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-book-account-outline "},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Loans")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/loans"===e.$route.path?"highlighted":"",attrs:{to:"/loans","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Loans dataset")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-account-multiple"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Membership")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/membership"===e.$route.path?"highlighted":"",attrs:{to:"/membership","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Membership dataset")])],1),a("v-list-item",{class:"/postcode-to-lsoa"===e.$route.path?"highlighted":"",attrs:{to:"/postcode-to-lsoa","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Postcode converter tool")])],1),a("v-list-item",{class:"/membership-map"===e.$route.path?"highlighted":"",attrs:{to:"/membership-map","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Membership map")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-bus-clock"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Mobile libraries")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/mobile-library-stops"===e.$route.path?"highlighted":"",attrs:{to:"/mobile-library-stops","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Mobile library stops dataset")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-shoe-print"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Visits")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/physical-visits"===e.$route.path?"highlighted":"",attrs:{to:"/physical-visits","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Physical visits dataset")])],1)],1),a("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-bookshelf"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",[e._v("Catalogue")])],1)]},proxy:!0}])},[a("v-list-item",{class:"/stock-summary"===e.$route.path?"highlighted":"",attrs:{to:"/stock-summary","active-class":"highlighted"}},[a("v-list-item-title",[e._v("Stock summary dataset")])],1)],1),a("v-divider"),this.$store.state.loginKey?e._e():a("v-list-item",{class:"/login"===e.$route.path?"highlighted":"",attrs:{to:"/login","active-class":"highlighted"}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-login")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Log in")])],1)],1),this.$store.state.loginKey?a("v-list-item",{on:{click:e.logout}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-logout")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Log out")])],1)],1):e._e(),this.$store.state.loginKey?a("v-list-item",{class:"/profile"===e.$route.path?"highlighted":"",attrs:{to:"/profile","active-class":"highlighted"}},[a("v-list-item-icon",[a("v-icon",[e._v("mdi-account")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v("Profile")])],1)],1):e._e()],1)],1),a("v-main",[a("router-view")],1),a("v-footer",{attrs:{app:""}},[a("custom-footer")],1)],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("ul",{staticClass:"footerLinks font-weight-medium"},[a("li",[a("router-link",{attrs:{to:"/",exact:""}},[e._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/accessibility",exact:""}},[e._v("Accessibility")])],1),a("li",[a("router-link",{attrs:{to:"/privacy",exact:""}},[e._v("Privacy")])],1)])]),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("p",{staticClass:"font-weight-medium"},[e._v(" Developed by "),a("a",{attrs:{href:"https://www.librarieshacked.org",target:"_blank"}},[e._v("Libraries Hacked")])])])],1)],1)},n=[],l={data(){return{}},methods:{}},c=l,d=a(1001),u=a(3453),m=a.n(u),h=a(2102),p=a(4228),v=a(2877),f=(0,d.Z)(c,i,n,!1,null,"78701ca8",null),b=f.exports;m()(f,{VCol:h.Z,VContainer:p.Z,VRow:v.Z});var y={name:"App",components:{"custom-footer":b},methods:{logout(){this.$store.dispatch("logout")}},data:()=>({drawer:null})},g=y,_=a(7524),k=a(8320),x=a(5206),w=a(1418),j=a(899),C=a(6428),S=a(6816),Z=a(9443),L=a(7620),T=a(1960),V=a(7874),I=a(459),O=a(7877),E=a(5132),H=a(9762),M=a(7921),A=(0,d.Z)(g,r,o,!1,null,null,null),P=A.exports;m()(A,{VApp:_.Z,VAppBar:k.Z,VAppBarNavIcon:x.Z,VContainer:p.Z,VDivider:w.Z,VFooter:j.Z,VIcon:C.Z,VList:S.Z,VListGroup:Z.Z,VListItem:L.Z,VListItemContent:T.km,VListItemGroup:V.Z,VListItemIcon:I.Z,VListItemTitle:T.V9,VMain:O.Z,VNavigationDrawer:E.Z,VSpacer:H.Z,VToolbarTitle:M.qW});var $=a(8345),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1)],1)},F=[],B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"header"},[a("v-container",[a("h1",[e._v(e._s(e.title))]),a("p",{staticClass:"text-subtitle-1"},[e._v(e._s(e.subtitle))]),a("v-divider")],1)],1)},z=[],R={data(){return{}},methods:{},props:["title","subtitle"]},N=R,W=(0,d.Z)(N,B,z,!1,null,null,null),K=W.exports;m()(W,{VContainer:p.Z,VDivider:w.Z});var U="We want as many people as possible to be able to use this website. For example, that means you should be able to:\r\n\r\n- change colours, contrast levels and fonts\r\n- zoom in up to 300% without the text spilling off the screen\r\n- navigate most of the website using just a keyboard\r\n- navigate most of the website using speech recognition software\r\n- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)\r\n\r\nWe've also made the website text as simple as possible to understand.\r\n\r\n[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.\r\n\r\n## Technical information about this website's accessibility\r\n\r\nThis website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).\r\n\r\nThere are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible we are looking at ensuring the information presented by the map is also available in other formats.\r\n\r\nIf you do experience any problems using this website, please do raise these and [send us an email](mailto:info@librarieshacked.org).\r\n",G=a(6667),Y=a.n(G),q={data(){return{mdText:U}},methods:{},components:{"custom-header":K,VueMarkdownPlus:Y()}},J=q,Q=(0,d.Z)(J,D,F,!1,null,null,null),X=Q.exports;m()(Q,{VContainer:p.Z});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Create",subtitle:"Tools for creating, publishing, and analysing library data"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("h2",[e._v("Library locations")]),a("ol",[a("li",[a("router-link",{attrs:{to:"/libraries",exact:""}},[e._v("Editor for library locations dataset")])],1)]),a("h2",[e._v("Library membership")]),a("ol",[a("li",[a("router-link",{attrs:{to:"/postcode-to-lsoa",exact:""}},[e._v("Postcode to statistical geography converter")])],1),a("li",[a("router-link",{attrs:{to:"/membership-map",exact:""}},[e._v("Membership map visualisation")])],1)])])],1)],1)},te=[],ae="These are tools designed to aid library services in creating and using library open data. Inspired by the public library [open data schemas](https://schema.librarydata.uk), the tools are tailored for the different datasets documented in that project.",se={data(){return{mdText:ae}},methods:{},components:{"custom-header":K}},re=se,oe=(0,d.Z)(re,ee,te,!1,null,null,null),ie=oe.exports;m()(oe,{VContainer:p.Z});var ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Events",subtitle:"Event attendance and outcomes"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-alert",{attrs:{color:"primary",text:"",type:"info"}},[e._v(" For full guidance see the "),a("a",{attrs:{href:"https://schema.librarydata.uk/events",target:"_blank"}},[e._v("Events dataset schema")])])],1)],1)],1)},le=[],ce="A library event is an event facilitated or organised by the library service. Each event should be listed.\r\n\r\nEvent data is currently a dataset which is **appended**. Every time a new release is created it adds new data (e.g. the next months events).\r\n",de={data(){return{mdText:ce}},methods:{},components:{"custom-header":K}},ue=de,me=a(1234),he=(0,d.Z)(ue,ne,le,!1,null,"d52480a6",null),pe=he.exports;m()(he,{VAlert:me.Z,VContainer:p.Z});var ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Libraries",subtitle:"Public library opening hours, types, and contact details"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-stepper",{attrs:{flat:"",outlined:"",elevation:"0"},model:{value:e.active_step,callback:function(t){e.active_step=t},expression:"active_step"}},[a("v-stepper-header",{staticClass:"elevation-0"},[a("v-stepper-step",{attrs:{complete:e.active_step>1,step:"1",color:"primary",editable:""}},[e._v(" "+e._s(this.selected_service?this.selected_service.name:"Select library service")+" ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.active_step>2,editable:e.active_step>2,step:"2",color:"primary"}},[e._v(" Edit ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.active_step>3,step:"3",color:"primary"}},[e._v(" Publish ")])],1),a("v-stepper-content",{attrs:{step:"1"}},[a("v-container",[a("v-alert",{attrs:{color:"info",dark:"",icon:"mdi-school-outline",prominent:"",border:"left",outlined:""}},[e._v(" Get started by choosing a library service from the list. All UK library services are displayed in alphabetical order. ")]),a("service-select",{on:{change:function(t){e.selected_service=t}}}),a("v-btn",{attrs:{color:"primary",outlined:"",large:"",loading:e.loadingServiceData,disabled:null==e.selected_service},on:{click:e.loadLibraries}},[e._v(" Edit library data "),a("v-icon",{attrs:{right:""}},[e._v("mdi-chevron-right-circle-outline")])],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-container",[a("v-alert",{attrs:{color:"info",dark:"",icon:"mdi-school-outline",prominent:"",border:"left",outlined:""}},[e._v(" The table displays the current library service point data. For the fields shown in the table, select the field to change the value. For extended editing use the edit icon in the actions column. ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.libraries,"sort-by":"name","disable-sort":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{text:"",color:"success"}},"v-btn",r,!1),s),[a("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Add library ")],1)]}}]),model:{value:e.dialogMainLibrary,callback:function(t){e.dialogMainLibrary=t},expression:"dialogMainLibrary"}},[a("v-card",[a("v-card-text",[a("v-container",[[a("v-tabs",[a("v-tab",[e._v("Library")]),a("v-tab",[e._v("Location")]),a("v-tab",[e._v("Opening hours")]),a("v-tab-item",[a("v-container"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",label:"Name"},model:{value:e.editedItem["Library name"],callback:function(t){e.$set(e.editedItem,"Library name",t)},expression:"editedItem['Library name']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-select",{attrs:{label:"Type",items:[{text:"Local authority",value:"LAL"},{text:"Local authority (unstaffed)",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"IL"}],dense:"",outlined:""},model:{value:e.editedItem["Type of library"],callback:function(t){e.$set(e.editedItem,"Type of library",t)},expression:"editedItem['Type of library']"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-select",{attrs:{items:["Yes","No"],label:"Statutory",dense:"",outlined:""},model:{value:e.editedItem["Statutory"],callback:function(t){e.$set(e.editedItem,"Statutory",t)},expression:"editedItem['Statutory']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Year opened",type:"number"},model:{value:e.editedItem["Year opened"],callback:function(t){e.$set(e.editedItem,"Year opened",t)},expression:"editedItem['Year opened']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Year closed",type:"number"},model:{value:e.editedItem["Year closed"],callback:function(t){e.$set(e.editedItem,"Year closed",t)},expression:"editedItem['Year closed']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Email address"},model:{value:e.editedItem["Email address"],callback:function(t){e.$set(e.editedItem,"Email address",t)},expression:"editedItem['Email address']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Website"},model:{value:e.editedItem["URL"],callback:function(t){e.$set(e.editedItem,"URL",t)},expression:"editedItem['URL']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{dense:"",outlined:"",label:"Notes","full-width":""},model:{value:e.editedItem["Notes"],callback:function(t){e.$set(e.editedItem,"Notes",t)},expression:"editedItem['Notes']"}})],1)],1)],1),a("v-tab-item",[a("v-container"),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Address 1"},model:{value:e.editedItem["Address 1"],callback:function(t){e.$set(e.editedItem,"Address 1",t)},expression:"editedItem['Address 1']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Address 2"},model:{value:e.editedItem["Address 2"],callback:function(t){e.$set(e.editedItem,"Address 2",t)},expression:"editedItem['Address 2']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Address 3"},model:{value:e.editedItem["Address 3"],callback:function(t){e.$set(e.editedItem,"Address 3",t)},expression:"editedItem['Address 3']"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Postcode"},model:{value:e.editedItem["Postcode"],callback:function(t){e.$set(e.editedItem,"Postcode",t)},expression:"editedItem['Postcode']"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Unique property reference number"},model:{value:e.editedItem["Unique property reference number"],callback:function(t){e.$set(e.editedItem,"Unique property reference number",t)},expression:"\n                                        editedItem['Unique property reference number']\n                                      "}})],1)],1)],1),a("v-tab-item",[a("v-container"),a("v-row",e._l(e.openingHourTypes,(function(t){return a("v-col",{key:t,attrs:{cols:"12",sm:"6",md:"6"}},e._l(e.days,(function(s){return a("div",{key:s},[a("div",{staticClass:"text-subtitle-2"},[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(a){return e.addOpeningHoursEntry(s+" "+t+" hours")}}},[a("v-icon",[e._v("mdi-plus-circle-outline")])],1),e._v(" "+e._s(s)+" "+e._s(t)+" ")],1),e._l(e.editedItem[s+" "+t+" hours"]?e.editedItem[s+" "+t+" hours"].split(","):"",(function(r){return a("v-chip",{key:r,staticClass:"ma-1",attrs:{small:"",label:"",close:"","close-icon":"mdi-delete",color:"primary"},on:{"click:close":function(a){return e.removeOpeningHoursEntry(s+" "+t+" hours",r)}}},[e._v(e._s(r))])}))],2)})),0)})),1)],1)],1)]],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"accent"},on:{click:e.close}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close-circle-outline")]),e._v(" Cancel ")],1),a("v-btn",{attrs:{text:"",color:"success"},on:{click:e.save}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-check-circle-outline")]),e._v(" Ok ")],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0","max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",[e._v("Remove this library?")]),a("v-card-text",[a("p",[e._v(" This will completely remove this library from the dataset. ")]),a("p",[e._v(" If the library has closed it does not need to be removed. The closed year should be entered in the library details. ")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"accent"},on:{click:e.closeDelete}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close-circle-outline")]),e._v(" Cancel ")],1),a("v-btn",{attrs:{text:"",color:"error"},on:{click:e.deleteItemConfirm}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-delete-outline")]),e._v(" Delete ")],1),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0","max-width":"500px"},model:{value:e.dialogOpeningHoursEntry,callback:function(t){e.dialogOpeningHoursEntry=t},expression:"dialogOpeningHoursEntry"}},[a("v-card",[a("v-card-title",[e._v("Add opening hours session")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{ref:"openingHoursOpenMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.openingHoursOpen,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.openingHoursOpen=t},"update:return-value":function(t){e.openingHoursOpen=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",outlined:"",label:"Open",readonly:""},model:{value:e.openingHoursOpen,callback:function(t){e.openingHoursOpen=t},expression:"openingHoursOpen"}},"v-text-field",r,!1),s))]}}]),model:{value:e.openingHoursOpenMenuOpen,callback:function(t){e.openingHoursOpenMenuOpen=t},expression:"openingHoursOpenMenuOpen"}},[a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.openingHoursOpenMenu.save(e.openingHoursOpen)}},model:{value:e.openingHoursOpen,callback:function(t){e.openingHoursOpen=t},expression:"openingHoursOpen"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{ref:"openingHoursCloseMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.openingHoursClose,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.openingHoursClose=t},"update:return-value":function(t){e.openingHoursClose=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",outlined:"",label:"Close",readonly:""},model:{value:e.openingHoursClose,callback:function(t){e.openingHoursClose=t},expression:"openingHoursClose"}},"v-text-field",r,!1),s))]}}]),model:{value:e.openingHoursCloseMenuOpen,callback:function(t){e.openingHoursCloseMenuOpen=t},expression:"openingHoursCloseMenuOpen"}},[a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.openingHoursCloseMenu.save(e.openingHoursClose)}},model:{value:e.openingHoursClose,callback:function(t){e.openingHoursClose=t},expression:"openingHoursClose"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"accent"},on:{click:e.closeOpeningHoursEntry}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"success"},on:{click:e.confirmOpeningHoursEntry}},[e._v("Ok")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var s=t.item;return[a("div",{staticClass:"d-flex"},[a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil-outline ")]),a("v-icon",{on:{click:function(t){return e.deleteItem(s)}}},[e._v("mdi-delete-outline")])],1)]}},{key:"no-data",fn:function(){},proxy:!0}])}),a("v-btn",{attrs:{outlined:"",large:"",color:"primary"},on:{click:e.goToPublish}},[e._v(" Publish the data "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-chevron-right-circle-outline")])],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-container",[a("v-alert",{attrs:{color:"info",dark:"",icon:"mdi-school-outline",prominent:"",border:"left",outlined:""}},[e._v(" You can save a copy of the edited data to your computer in CSV format. If you are logged in on behalf of the library, you can overwrite the currently stored version of the data."),a("br"),a("br"),e._v(" If publishing a new version of the data, this will take a day to process. Please do not submit multiple changes per day. ")])],1),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",large:"",color:"primary"},on:{click:e.download}},[e._v(" Save file "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save-outline")])],1),a("v-btn",{attrs:{outlined:"",large:"",color:"primary"},on:{click:e.publishChanges}},[e._v(" Publish changes "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-cloud-upload-outline")])],1)],1)],1)],1)],1)],1)},fe=[],be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("v-select",{attrs:{items:e.library_services.sort((function(e,t){return e.name.localeCompare(t.name)})),"item-text":"nice_name","item-value":"code",label:"Choose a library service",outlined:"",value:e.value,"return-object":""},on:{change:e.update}})],1)},ye=[];const ge=a(5830);var _e={data(){return{library_services:[]}},created(){this.library_services=this.$store.state.library_services,0===this.library_services.length&&this.getServices()},props:["value"],methods:{async getServices(){let e=await ge.getLibraryAuthorities();this.$store.commit("setServices",e),this.library_services=this.$store.state.library_services},update(e){this.$emit("change",e)}}},ke=_e,xe=a(3986),we=(0,d.Z)(ke,be,ye,!1,null,null,null),je=we.exports;m()(we,{VSelect:xe.Z});var Ce=a(7460),Se=a(9669),Ze=a.n(Se);const Le=(e,t)=>new Promise((a=>{let s=[];Ce.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:e=>{s.push(e.data)},complete:()=>{a(s)}})})),Te=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},a=await Ze().get(e,t);return Le(a.data,!0)},Ve=a(6795),Ie=async(e,t)=>{const a=`${Ve.schema_url}${e}/${t}`,s=await Te(a);return s},Oe=async(e,t,a,s)=>{const r=`${Ve.schema_url}${e}/${t}`,o=await Ze().put(r,a,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"text/csv"}});return 200===o.status};var Ee='In the <a href="https://schema.librarydata.uk/libraries" target="_blank">**library locations dataset schema**</a>, a library is a static service point which provides access to library services for the public. This does not include mobile libraries, which are covered in the mobile library stops dataset.\r\n\r\nThis tool allows you to view and edit the library service point data for libraries in the UK, grouped by library authority. The libraries dataset is a **register**. This means that to maintain it, the original data needs to be edited and kept up to date.\r\n\r\nAt the end of the process you can save a new copy of the data. If you are a member of the library service, you can replace the existing dataset, but ensure you [Log in](/login) before you begin.\r\n',He={data(){return{active_step:1,loadingServiceData:!1,selected_service:null,mdText:Ee,library_form_active:!1,days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["staffed","unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,headers:[{text:"Name",align:"start",value:"Library name"},{text:"Closed",value:"Year closed"},{text:"Type",align:"start",value:"Type of library"},{text:"Address 1",align:"start",value:"Address 1"},{text:"Postcode",value:"Postcode"},{text:"Statutory",value:"Statutory"},{text:"Actions",value:"actions",sortable:!1}],libraries:[],editedIndex:-1,editedItem:{},defaultItem:{"Local authority":"","Library name":"","Address 1":"","Address 2":"","Address 3":"",Postcode:"","Unique property reference number":"",Statutory:"","Type of library":"LAL","Year opened":"","Year closed":"","Monday staffed hours":"","Tuesday staffed hours":"","Wednesday staffed hours":"","Thursday staffed hours":"","Friday staffed hours":"","Saturday staffed hours":"","Sunday staffed hours":"","Monday unstaffed hours":"","Tuesday unstaffed hours":"","Wednesday unstaffed hours":"","Thursday unstaffed hours":"","Friday unstaffed hours":"","Saturday unstaffed hours":"","Sunday unstaffed hours":"","Special hours":"",Colocated:"","Colocated with":"",Notes:"",URL:"","Email address":""}}},methods:{editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.libraries.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialogMainLibrary=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem["Local authority"]=this.selected_service.name,this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},removeOpeningHoursEntry(e,t){var a=this.editedItem[e].split(",");a.splice(a.indexOf(t),1),this.editedItem[e]=a.join(","),this.dialogOpeningHoursEntry=!1},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){var e=this.editedItem[this.openingHoursEditKey].split(",");e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1},goToPublish(){this.active_step=3},save(){this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()},loadLibraries:async function(){this.loadingServiceData=!0;let e=this,t=this.selected_service;const a=await Ie("libraries",t.code);e.libraries=a,e.active_step=2,this.loadingServiceData=!1},download(){let e=this.selected_service;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){var a=new Blob([Ce.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,e);else{var s=document.createElement("a");s.href=window.URL.createObjectURL(a),s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s)}},publishChanges:async function(){let e=this.selected_service;const t=new Blob([Ce.unparse(this.libraries)],{type:"text/csv;charset=utf-8;"});await Oe("libraries",e.code,t,this.$store.state.loginKey)}},components:{"custom-header":K,"service-select":je,VueMarkdownPlus:Y()}},Me=He,Ae=a(680),Pe=a(2371),$e=a(7118),De=a(5424),Fe=a(6277),Be=a(4497),ze=a(6768),Re=a(3446),Ne=a(8937),We=a(6189),Ke=a(8975),Ue=a(4227),Ge=a(1759),Ye=a(7168),qe=a(5978),Je=a(4350),Qe=a(9142),Xe=a(6656),et=(0,d.Z)(Me,ve,fe,!1,null,"13a95077",null),tt=et.exports;m()(et,{VAlert:me.Z,VBtn:Ae.Z,VCard:Pe.Z,VCardActions:$e.h7,VCardText:$e.ZB,VCardTitle:$e.EB,VChip:De.Z,VCol:h.Z,VContainer:p.Z,VDataTable:Fe.Z,VDialog:Be.Z,VDivider:w.Z,VIcon:C.Z,VMenu:ze.Z,VRow:v.Z,VSelect:xe.Z,VSpacer:H.Z,VStepper:Re.Z,VStepperContent:Ne.Z,VStepperHeader:We.Rp,VStepperStep:Ke.Z,VTab:Ue.Z,VTabItem:Ge.Z,VTabs:Ye.Z,VTextField:qe.Z,VTextarea:Je.Z,VTimePicker:Qe.Z,VToolbar:Xe.Z});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Loans",subtitle:"Lending of library items"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-alert",{attrs:{color:"primary",text:"",type:"info"}},[e._v(" For full guidance see the "),a("a",{attrs:{href:"https://schema.librarydata.uk/loans",target:"_blank"}},[e._v("Loans dataset schema")])])],1)],1)],1)},st=[],rt="",ot={data(){return{mdText:rt}},methods:{},components:{"custom-header":K}},it=ot,nt=(0,d.Z)(it,at,st,!1,null,"327e3274",null),lt=nt.exports;m()(nt,{VAlert:me.Z,VContainer:p.Z});var ct=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-alert",{attrs:{color:"primary",text:"",type:"info"}},[e._v(" For full guidance see the "),a("a",{attrs:{href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v("Membership dataset schema")])])],1)],1)],1)},dt=[],ut={data(){return{mdText:rt}},methods:{},components:{"custom-header":K}},mt=ut,ht=(0,d.Z)(mt,ct,dt,!1,null,"81aeadec",null),pt=ht.exports;m()(ht,{VAlert:me.Z,VContainer:p.Z});var vt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Membership map",subtitle:"Explore library membership data"}}),a("section",[a("v-container",[a("p",[e._v(" You need library membership data in the "),a("a",{attrs:{href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v("membership data schema format")]),e._v(". This can be created using the "),a("a",{attrs:{href:"/postcode-to-lsoa",target:"_blank"}},[e._v("postcode to statistical area converter")]),e._v(". ")]),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("file-upload",{attrs:{file:e.lsoaFiles},on:{"change-files":function(t){e.lsoaFiles=t},"delete-file":function(t){e.lsoaFiles=null}}}),a("br"),a("v-btn",{attrs:{depressed:"",color:"primary",disabled:0===e.lsoaFiles.length},on:{click:e.addMembershipData}},[e._v("Add members to map ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Display options")])]),a("ul",[a("li",[a("b",[e._v("Population percentage")]),e._v(". Shades the map to highlight concentration of membership. When zooming in in also displays the membership population percentage. ")]),a("li",[a("b",[e._v("Areas of deprivation")]),e._v(". Shades the map to highlight highly deprived areas. Uses the index of multiple deprivation for each area. 1 represents highly deprived areas, 10 the least deprived. ")])])])],1)],1)],1),a("v-radio-group",{attrs:{row:""},on:{change:e.setDisplayOptions},model:{value:e.mapDisplay,callback:function(t){e.mapDisplay=t},expression:"mapDisplay"}},[a("v-radio",{attrs:{label:"Display population percentage",value:"populationPercentage"}}),a("v-radio",{attrs:{label:"Display areas of deprivation",value:"imd"}})],1),a("MglMap",{ref:"mglMap",attrs:{container:"map-container",minZoom:e.minZoom,maxZoom:e.maxZoom,center:e.center,mapStyle:e.mapStyle,zoom:e.zoom},on:{"update:center":function(t){e.center=t},"update:zoom":function(t){e.zoom=t}}},[a("MglVectorLayer",{attrs:{sourceId:"lsoa_boundaries",source:e.lsoasSource,layerId:"lsoa_boundaries_fill",layer:e.lsoasLayerFill}}),a("MglVectorLayer",{attrs:{sourceId:"lsoa_boundaries",source:e.lsoasSource,layerId:"lsoa_boundaries_label",layer:e.lsoasLayerLabel}}),a("MglVectorLayer",{attrs:{sourceId:"libraries",source:e.librariesSource,layerId:"libraries_circles",layer:e.librariesLayerCircles}}),a("MglNavigationControl",{attrs:{position:"bottom-right"}}),a("MglFullscreenControl",{attrs:{position:"top-right"}}),null!==e.authoritySource?a("MglGeojsonLayer",{attrs:{sourceId:"authority_boundary_source",source:e.authoritySource,layerId:"authority_boundary_line",layer:e.authorityLayerLine}}):e._e(),null!==e.authoritySource?a("MglGeojsonLayer",{attrs:{sourceId:"authority_boundary_source",source:e.authoritySource,layerId:"authority_boundary_label",layer:e.authorityLayerLabel}}):e._e()],1)],1)],1)],1)},ft=[],bt=(a(4731),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("v-file-input",{attrs:{accept:"text/csv",chips:"",counter:"",outlined:"",multiple:"","show-size":"",label:"Choose a file",value:e.file,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-outline"},on:{change:function(t){return e.$emit("change-files",t)}}})],1)}),yt=[],gt={props:["file"],data(){return{}},methods:{}},_t=gt,kt=a(7781),xt=(0,d.Z)(_t,bt,yt,!1,null,null,null),wt=xt.exports;m()(xt,{VFileInput:kt.Z});var jt=a(9020),Ct=a(6412),St=a(5830),Zt=a(4050);const Lt=a(6795);var Tt={created(){this.map=null},data(){return{map:null,mapStyle:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",center:[-2,52],zoom:7,minZoom:5,maxZoom:16,mapDisplay:"populationPercentage",authoritySource:null,authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},lsoaFiles:[],lsoasSource:{type:"vector",tiles:[Lt.lsoa_tiles],promoteId:{lsoa_boundaries:"code"}},librariesSource:{type:"vector",tiles:[Lt.libraries_tiles]},matchFilter:["in",["get","code"],["literal",[]]],matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",lsoasLayerFill:{type:"fill",filter:["in",["get","code"],["literal",[]]],"source-layer":"lsoa_boundaries",paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],librariesLayerCircles:{type:"circle",filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoasLayerLabel:{type:"symbol",filter:["in",["get","code"],["literal",[]]],"source-layer":"lsoa_boundaries",minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Open Sans Bold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-allow-overlap":!1,"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}}}},methods:{setDisplayOptions:function(){"populationPercentage"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation),"imd"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation),this.lsoasLayerFill.filter=this.matchFilter,this.lsoasLayerLabel.filter=this.matchFilter},setLsoaFields:function(e){let t=[],a=["match",["get","code"]],s=["match",["get","code"]];e.forEach((e=>{const r=parseInt(e[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoa_boundaries",sourceLayer:"lsoa_boundaries",id:e[2]},{members:r}),t.push(e[2]),a.push(e[2]),a.push(["concat",["to-string",["round",["*",["/",r,["to-number",["get","population"]]],100]]],"%"]),s.push(e[2]),s.push(["get","imd"])})),a.push(""),s.push("");let r=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],0,jt.Z.OrRd[9][0],5,jt.Z.OrRd[9][1],10,jt.Z.OrRd[9][2],15,jt.Z.OrRd[9][3],20,jt.Z.OrRd[9][4],25,jt.Z.OrRd[9][5],30,jt.Z.OrRd[9][6],35,jt.Z.OrRd[9][7],40,jt.Z.OrRd[9][8]],o=["interpolate",["linear"],["to-number",["get","imd"]],1,jt.Z.OrRd[9][8],2,jt.Z.OrRd[9][7],3,jt.Z.OrRd[9][6],4,jt.Z.OrRd[9][5],5,jt.Z.OrRd[9][4],6,jt.Z.OrRd[9][3],7,jt.Z.OrRd[9][2],8,jt.Z.OrRd[9][1],9,jt.Z.OrRd[9][0],10,jt.Z.OrRd[9][0]],i=["in",["get","code"],["literal",t]];this.matchFilter=i,this.matchFieldLsoaPopulation=a,this.matchFieldLsoaDeprivation=s,this.matchColourLsoaPopulation=r,this.matchColourLsoaDeprivation=o,this.setDisplayOptions()},addMembershipData:async function(){let e=this;if(e.lsoaFiles[0].name){const a=await Le(e.lsoaFiles[0],!1);this.setLsoaFields(a.slice(1));const s=await St.getLibraryAuthorityByName(a[1][0]),r=JSON.parse(s.geojson);this.authoritySource={type:"geojson",data:r},this.authorityLayerLabel.layout["text-field"]=s.utla19nm;var t=(0,Ct.Z)(r);this.$refs.mglMap.map.fitBounds(t,{padding:10})}}},components:{"custom-header":K,"file-upload":wt,MglGeojsonLayer:Zt.tf,MglMap:Zt.Q3,MglFullscreenControl:Zt.d3,MglNavigationControl:Zt.RV,MglVectorLayer:Zt.sB}},Vt=Tt,It=a(9711),Ot=a(681),Et=(0,d.Z)(Vt,vt,ft,!1,null,null,null),Ht=Et.exports;m()(Et,{VAlert:me.Z,VBtn:Ae.Z,VCol:h.Z,VContainer:p.Z,VRadio:It.Z,VRadioGroup:Ot.Z,VRow:v.Z});var Mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Convert library member postcodes",subtitle:"Obtain census-based areas for the locations of library members"}}),a("section",[a("v-container",[a("p",[e._v(" England and Wales release statistics at the census-based Lower super output area geographic level. In Scotland, Data Zones are most useful, and in Northern Ireland, Small Areas. This tool converts UK postcodes into the most appropriate matching area. ")]),a("p",[e._v(" Postcodes are kept secure. A selection of postcode/area pairings are downloaded based on the postcode "),a("b",[e._v("sectors")]),e._v(" in your data. The correct areas are then chosen on your local PC. ")]),a("v-stepper",{attrs:{vertical:"",flat:""},model:{value:e.active_step,callback:function(t){e.active_step=t},expression:"active_step"}},[a("v-stepper-step",{attrs:{complete:e.active_step>1,step:"1",color:"secondary",editable:""}},[e._v(" Load postcodes ")]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("file-upload",{attrs:{file:e.files},on:{"change-files":function(t){e.files=t}}}),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:0===e.files.length},on:{click:e.confirmFile}},[e._v(" Next ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("File tips")])]),a("ol",[a("li",[e._v(" This tool loads CSV files. If your data isn't in CSV format you'll need to convert it. Try "),a("b",[e._v("Save as")]),e._v(" in your software. ")]),a("li",[e._v("The first row should be column headings")]),a("li",[e._v("One column should contain UK postcodes")])])])],1)],1)],1)],1),a("v-stepper-step",{attrs:{color:"secondary",complete:e.active_step>2,step:"2"}},[e._v(" Choose conversion options ")]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-select",{attrs:{items:e.columns,label:"Select column",outlined:""},model:{value:e.postcode_column,callback:function(t){e.postcode_column=t},expression:"postcode_column"}}),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:""===e.postcode_column},on:{click:e.confirmOptions}},[e._v("Convert ")]),a("v-container",[a("v-subheader",[e._v("My columns include a count")]),a("v-select",{attrs:{value:e.option,items:e.columns.filter((function(t){return t!==e.postcode_column})),disabled:""===e.postcode_column||0===e.columns.filter((function(t){return t!==e.postcode_column})).length,label:"Count column (optional)",outlined:""}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Choose your columns")])]),a("p",[e._v("The column headings in your data should be displayed.")]),a("ol",[a("li",[e._v("Select the correct column for the postcodes")]),a("li",[e._v("Check guidance below on the optional step")]),a("li",[e._v(" When ready, select the "),a("strong",[e._v("Convert")]),e._v(" option to continue ")])]),a("br"),a("p",[e._v(" It may take a few minutes depending on number of postcodes. ")])]),a("v-alert",{attrs:{border:"right",color:"orange",text:"",type:"warning"}},[a("p",[a("b",[e._v("Optional: counts of people")])]),a("p",[e._v(" If your data is grouped into counts per postcode, select the column the count is held in. The tool will then be able to count people per area for you. ")]),a("p",[e._v(" If each of your rows relates to an individual person you can ignore this option. ")])])],1)],1)],1)],1),a("v-stepper-step",{attrs:{color:"secondary",complete:e.active_step>3,step:"3"}},[e._v(" Results ")]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-subheader",[e._v(" "+e._s("Completed in "+e.getTimeCompleted()+" seconds")+" ")]),a("v-data-table",{attrs:{dense:"","disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"",headers:e.summary_columns,items:e.summary_data,"item-key":"total"}}),a("br"),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.downloadConvertedFile}},[e._v("Save converted file ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Saving converted file - what to expect")])]),a("ul",[a("li",[e._v("Valid postcodes are changed to their statistical area")]),a("li",[e._v(" Postcodes that are no longer valid are changed to "),a("strong",[e._v("Terminated")]),e._v(". ")]),a("li",[e._v(" Postcodes not recognised changed to "),a("strong",[e._v("Unknown")]),e._v(". ")]),a("li",[e._v(" The postcode column header changed to "),a("strong",[e._v("Area")]),e._v(". ")])])])],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("h4",[e._v("Library membership data")]),a("br"),a("v-select",{attrs:{items:e.library_services,label:"Library service name",outlined:""},model:{value:e.authority,callback:function(t){e.authority=t},expression:"authority"}}),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.extract_date,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.extract_date=t},"update:return-value":function(t){e.extract_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Count date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",r,!1),s))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.date)}}},[e._v(" OK ")])],1)],1),a("v-btn",{attrs:{text:"",color:"primary",disabled:""===e.authority||null===e.extract_date},on:{click:e.downloadSchemaFile}},[e._v("Save membership file")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-alert",{attrs:{border:"right",color:"orange",text:"",type:"warning"}},[a("p",[a("b",[e._v("Public library open data")])]),a("p",[e._v(" Census geographies are required for "),a("a",{attrs:{href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v("library membership data")]),e._v(". ")]),a("p",[e._v("This tool has calculated a count of members per statistical area.")]),a("ol",[a("li",[e._v("Select the name of your library service")]),a("li",[e._v(" Choose a date the postcodes were extracted from your library management system ")]),a("li",[e._v("Save the data file")])])])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Please wait")])]),a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)],1)},At=[],Pt=a(381),$t=a.n(Pt),Dt=a(3162);const Ft=a(6795);function Bt(e){let t=new Set(e.map((e=>zt(e))).filter((e=>null!=e)));return[...t]}function zt(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){let a=e.match(t);if(a&&a.length>0)return a[0].substring(0,6)}return null}function Rt(e,t){Ze().post(Ft.postcode_api+"lsoas?filter=sector",e).then((e=>{t(e.data)}))}function Nt(e,t){const a=Bt(e);let s={};Rt(a,(e=>{Object.keys(e).forEach((t=>{e[t].forEach((e=>{s[e.replace(/\s/g,"")]=t.trim()}))})),t(s)}))}const Wt=a(6795);var Kt={data(){return{start_time:null,end_time:null,loading:!1,loading_message:"",active_step:1,columns:[],files:[],postcode_column:"",counts_column:"",csv_data:[],lsoas_counted:{},summary_data:[{total:0,converted:0,terminated:0,unknown:0}],summary_columns:[{value:"total",text:"Total"},{value:"converted",text:"Successful"},{value:"terminated",text:"Terminated"},{value:"unknown",text:"Unknown"}],authority:"",extract_date:null,library_services:Wt.library_services}},methods:{getTimeCompleted:function(){return this.start_time&&this.end_time?Math.round($t().duration(this.end_time.diff(this.start_time)).asSeconds()):""},confirmFile:async function(){let e=this;if(e.loading=!0,e.files.length>0){const t=await Le(e.files[0],!1);e.columns=t[0],e.csv_data=t,e.active_step=2,e.loading=!1}},confirmOptions:function(){let e=this;e.start_time=$t()(),e.loading=!0,e.summary_data[0].total=0,e.summary_data[0].converted=0,e.summary_data[0].unknown=0,e.summary_data[0].terminated=0,e.lsoas_counted={Unknown:0};const t=e.columns.indexOf(e.postcode_column),a=e.columns.indexOf(this.counts_column),s=e.csv_data.map((e=>e[t])).filter((t=>null!=t&&t!=e.postcode_column));Nt(s,(s=>{e.csv_data.forEach(((r,o)=>{const i=r[t],n=i.replace(/\s/g,"");if(0===o&&i===e.postcode_column)r[t]="LSOA";else{this.summary_data[0].total++;let e="";i&&""!==i&&s[n]?(e=s[n],"Terminated"===e?(r[t]="Terminated",this.summary_data[0].terminated++):"Unknown"===e?(r[t]="Unknown",this.summary_data[0].unknown++):(r[t]=e,this.summary_data[0].converted++)):(r[t]="Unknown",this.summary_data[0].unknown++,e="Unknown"),"Terminated"===e&&(e="Unknown"),this.lsoas_counted[e]||(this.lsoas_counted[e]=0),""!==this.counts_column?this.lsoas_counted[e]=this.lsoas_counted[e]+parseInt(r[a]):this.lsoas_counted[e]++}})),e.active_step=3,this.loading=!1,this.end_time=$t()()}))},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csv_data)},downloadSchemaFile:async function(){let e=[["Local authority","Count date","Area code","Members"]];const t=$t()(this.extract_date).format("YYYY-MM-DD");Object.keys(this.lsoas_counted).filter((e=>"Unknown"!==e&&"Terminated"!==e)).forEach((a=>{let s=this.lsoas_counted[a];e.push([this.authority,t,a,s>4?s.toString():"x"])}));let a=this.lsoas_counted["Unknown"];this.lsoas_counted["Unknown"]>0&&e.push([this.authority,t,"Unknown",a>4?a.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){var a=new Blob([Ce.unparse(t)],{type:"text/plain;charset=utf-8"});(0,Dt.saveAs)(a,e)}},components:{"file-upload":wt,"custom-header":K}},Ut=Kt,Gt=a(7416),Yt=a(7003),qt=a(5533),Jt=(0,d.Z)(Ut,Mt,At,!1,null,"886e29a8",null),Qt=Jt.exports;m()(Jt,{VAlert:me.Z,VBtn:Ae.Z,VCard:Pe.Z,VCardText:$e.ZB,VCardTitle:$e.EB,VCol:h.Z,VContainer:p.Z,VDataTable:Fe.Z,VDatePicker:Gt.Z,VDialog:Be.Z,VProgressLinear:Yt.Z,VRow:v.Z,VSelect:xe.Z,VSpacer:H.Z,VStepper:Re.Z,VStepperContent:Ne.Z,VStepperStep:Ke.Z,VSubheader:qt.Z,VTextField:qe.Z});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-alert",{attrs:{color:"primary",text:"",type:"info"}},[e._v(" For full guidance see the "),a("a",{attrs:{href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"}},[e._v("Mobile library stops dataset schema")])])],1)],1)],1)},ea=[],ta={data(){return{mdText:rt}},methods:{},components:{"custom-header":K}},aa=ta,sa=(0,d.Z)(aa,Xt,ea,!1,null,"fb7f0e36",null),ra=sa.exports;m()(sa,{VAlert:me.Z,VContainer:p.Z});var oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Physical visits",subtitle:"Footfall of people into library premises"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-alert",{attrs:{color:"primary",text:"",type:"info"}},[e._v(" For full guidance see the "),a("a",{attrs:{href:"https://schema.librarydata.uk/physical-visits",target:"_blank"}},[e._v("Physical visits dataset schema")])])],1)],1)],1)},ia=[],na="",la={data(){return{mdText:na}},methods:{},components:{"custom-header":K}},ca=la,da=(0,d.Z)(ca,oa,ia,!1,null,"75061ece",null),ua=da.exports;m()(da,{VAlert:me.Z,VContainer:p.Z});var ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-alert",{attrs:{color:"primary",text:"",type:"info"}},[e._v(" For full guidance see the "),a("a",{attrs:{href:"https://schema.librarydata.uk/stock-summary",target:"_blank"}},[e._v("Stock summary dataset schema")])])],1)],1)],1)},ha=[],pa="",va={data(){return{mdText:pa}},methods:{},components:{"custom-header":K}},fa=va,ba=(0,d.Z)(fa,ma,ha,!1,null,"595b5b34",null),ya=ba.exports;m()(ba,{VAlert:me.Z,VContainer:p.Z});var ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Privacy policy",subtitle:"How your data and privacy is protected"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1)],1)},_a=[],ka="These pages were created by Dave. You can [contact me via email](mailto:info@librarieshacked.org) should you have any questions.\r\n\r\n## GitHub pages\r\n\r\nThis site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include information such as your IP address.\r\n\r\nGitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to logged-in services within GitHub, but there is a reference to GitHub pages sites in this policy. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.\r\n\r\n> Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.\r\n\r\n## Cookies\r\n\r\nCookies are files saved on your phone, tablet or computer when you visit a website.\r\n\r\nThis site does not save any cookies onto your computer.\r\n\r\n## Tracking and analytics\r\n\r\nThere are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.\r\n",xa={data(){return{mdText:ka}},methods:{},components:{"custom-header":K,VueMarkdownPlus:Y()}},wa=xa,ja=(0,d.Z)(wa,ga,_a,!1,null,"410bf464",null),Ca=ja.exports;m()(ja,{VContainer:p.Z});var Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs10:"","offset-xs1":"",sm6:"","offset-sm3":""}},[a("v-card",{attrs:{outlined:"",elevation:"0",loading:e.loading}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Request access")])]),a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{height:"5",indeterminate:""}})],1),e.success?e._e():a("v-card-text",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{dense:"",outlined:"",rules:e.emailRules,label:"Email",type:"email","prepend-icon":"mdi-email",color:"primary",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("p",[e._v(e._s(e.message))])],1)],1),e.success?a("v-card-text",[e._v(" Thank you - you should receive an email shortly. ")]):e._e(),e.success?e._e():a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{large:"",color:"primary",text:"",disabled:!e.valid},on:{click:e.login}},[e._v(" Log in ")])],1)],2)],1)],1)],1)],1)],1)},Za=[],La="You can browse around this site, which will get you access to various library datasets, as well as using the tools to build and use library data.";const Ta=a(6795);async function Va(e){try{const t=await Ze().post(Ta.authenticate_path,{email:e,website:Ta.authenticate_website});if(t&&200===t.status)return!0}catch(t){}return!1}var Ia={data(){return{mdText:La,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.stripLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await Va(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},stripLoginKey:function(){const e=window.location.search,t=new URLSearchParams(e),a=t.get("key");a&&(this.$store.commit("setLoginKey",a),this.$router.push("/profile"))}},components:{"custom-header":K,VueMarkdownPlus:Y()}},Oa=Ia,Ea=a(5972),Ha=a(6232),Ma=a(7131),Aa=(0,d.Z)(Oa,Sa,Za,!1,null,"006c8a7a",null),Pa=Aa.exports;m()(Aa,{VBtn:Ae.Z,VCard:Pe.Z,VCardActions:$e.h7,VCardText:$e.ZB,VCardTitle:$e.EB,VContainer:p.Z,VFlex:Ea.Z,VForm:Ha.Z,VLayout:Ma.Z,VProgressLinear:Yt.Z,VSpacer:H.Z,VTextField:qe.Z});var $a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Profile",subtitle:"See access and profile information"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container")],1)],1)},Da=[],Fa="",Ba={data(){return{mdText:Fa}},methods:{},components:{"custom-header":K,VueMarkdownPlus:Y()}},za=Ba,Ra=(0,d.Z)(za,$a,Da,!1,null,"7b2794c8",null),Na=Ra.exports;m()(Ra,{VContainer:p.Z}),s.Z.use($.Z);var Wa=new $.Z({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:ie},{path:"/events",name:"Events",component:pe},{path:"/libraries",name:"Libraries",component:tt},{path:"/loans",name:"Loans",component:lt},{path:"/membership",name:"Membership",component:pt},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:Qt},{path:"/membership-map",name:"Membership map",component:Ht},{path:"/mobile-library-stops",name:"Mobile library stops",component:ra},{path:"/physical-visits",name:"Physical visits",component:ua},{path:"/stock-summary",name:"Stock summary",component:ya},{path:"/privacy",name:"Privacy",component:Ca},{path:"/accessibility",name:"Accessibility",component:X},{path:"/login",name:"Login",component:Pa},{path:"/profile",name:"Profile",component:Na}]}),Ka=a(9132);s.Z.use(Ka.Z);var Ua=new Ka.Z({theme:{dark:!1}}),Ga=a(629);s.Z.use(Ga.ZP);const Ya=new Ga.ZP.Store({state:{loginKey:null,library_services:[]},mutations:{initialiseStore(e){localStorage.getItem("loginKey")&&(e.loginKey=localStorage.getItem("loginKey"))},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null},setServices(e,t){e.library_services=t}},actions:{logout({commit:e}){e("logout")}}});var qa=Ya;s.Z.config.productionTip=!1,new s.Z({store:qa,beforeCreate(){this.$store.commit("initialiseStore")},router:Wa,vuetify:Ua,render:e=>e(P)}).$mount("#app")},6795:function(e){"use strict";e.exports=JSON.parse('{"postcode_api":"https://api-geography.azurewebsites.net/rest/postcodes/","schema_path":"https://raw.githubusercontent.com/LibrariesHacked/schema-librarydata/master/archive/","lsoa_tiles":"https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt","libraries_tiles":"https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt","authorities_path":"https://api-geography.librarydata.uk/rest/libraryAuthorities","authenticate_path":"https://api.librarydata.uk/authenticate","authenticate_website":"create.librarydata.uk","schema_url":"https://api.librarydata.uk/schemas/","schemas":{"membership":{"name":"Membership","version":"0.3.0"},"libraries":{"name":"Library locations","version":"0.3.0"}},"library_services":["Aberdeen City","Aberdeenshire","Angus","Argyll and Bute","Barking and Dagenham","Barnet","Barnsley","Bath and North East Somerset","Bedford","Bexley","Birmingham","Blackburn with Darwen","Blackpool","Blaenau Gwent","Bolton","Bournemouth, Christchurch and Poole","Bracknell Forest","Bradford","Brent","Bridgend","Brighton and Hove","Bristol, City of","Bromley","Buckinghamshire","Bury","Caerphilly","Calderdale","Cambridgeshire","Camden","Cardiff","Carmarthenshire","Central Bedfordshire","Ceredigion","Cheshire East","Cheshire West and Chester","City of Edinburgh","City of London","Clackmannanshire","Conwy","Cornwall","County Durham","Coventry","Croydon","Cumbria","Darlington","Denbighshire","Derby","Derbyshire","Devon","Doncaster","Dorset","Dudley","Dumfries and Galloway","Dundee City","Ealing","East Ayrshire","East Dunbartonshire","East Lothian","East Renfrewshire","East Riding of Yorkshire","East Sussex","Enfield","Essex","Falkirk","Fife","Flintshire","Gateshead","Glasgow City","Gloucestershire","Greenwich","Gwynedd","Hackney","Halton","Hammersmith and Fulham","Hampshire","Haringey","Harrow","Hartlepool","Havering","Herefordshire, County of","Hertfordshire","Highland","Hillingdon","Hounslow","Inverclyde","Isle of Anglesey","Isle of Wight","Isles of Scilly","Islington","Kensington and Chelsea","Kent","Kingston upon Hull, City of","Kingston upon Thames","Kirklees","Knowsley","Lambeth","Lancashire","Leeds","Leicester","Leicestershire","Lewisham","Lincolnshire","Liverpool","Luton","Manchester","Medway","Merthyr Tydfil","Merton","Middlesbrough","Midlothian","Milton Keynes","Monmouthshire","Moray","Na h-Eileanan Siar","Neath Port Talbot","Newcastle upon Tyne","Newham","Newport","Norfolk","North Ayrshire","North East Lincolnshire","North Lanarkshire","North Lincolnshire","North Somerset","North Tyneside","North Yorkshire","Northamptonshire","Northern Ireland","Northumberland","Nottingham","Nottinghamshire","Oldham","Orkney Islands","Oxfordshire","Pembrokeshire","Perth and Kinross","Peterborough","Plymouth","Portsmouth","Powys","Reading","Redbridge","Redcar and Cleveland","Renfrewshire","Rhondda Cynon Taf","Richmond upon Thames","Rochdale","Rotherham","Rutland","Salford","Sandwell","Scottish Borders","Sefton","Sheffield","Shetland Islands","Shropshire","Slough","Solihull","Somerset","South Ayrshire","South Gloucestershire","South Lanarkshire","South Tyneside","Southampton","Southend-on-Sea","Southwark","St. Helens","Staffordshire","Stirling","Stockport","Stockton-on-Tees","Stoke-on-Trent","Suffolk","Sunderland","Surrey","Sutton","Swansea","Swindon","Tameside","Telford and Wrekin","Thurrock","Torbay","Torfaen","Tower Hamlets","Trafford","Vale of Glamorgan","Wakefield","Walsall","Waltham Forest","Wandsworth","Warrington","Warwickshire","West Berkshire","West Dunbartonshire","West Lothian","West Sussex","Westminster","Wigan","Wiltshire","Windsor and Maidenhead","Wirral","Wokingham","Wolverhampton","Worcestershire","Wrexham","York"]}')}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],r=e[d][1],o=e[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,o<i&&(i=o));if(n){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,r){if(1&r&&(s=this(s)),8&r)return s;if("object"===typeof s&&s){if(4&r&&s.__esModule)return s;if(16&r&&"function"===typeof s.then)return s}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var n=2&r&&s;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){i[e]=function(){return s[e]}}));return i["default"]=function(){return s},a.d(o,i),o}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".196151cf.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="create-librarydata:";a.l=function(s,r,o,i){if(e[s])e[s].push(r);else{var n,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+o){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+o),n.src=s),e[s]=[r];var m=function(t,a){n.onerror=n.onload=null,clearTimeout(h);var r=e[s];if(delete e[s],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=m.bind(null,n.onerror),n.onload=m.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,s){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var o=new Promise((function(a,s){r=e[t]=[a,s]}));s.push(r[2]=o);var i=a.p+a.u(t),n=new Error,l=function(s){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=s&&("load"===s.type?"missing":s.type),i=s&&s.target&&s.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",n.name="ChunkLoadError",n.type=o,n.request=i,r[1](n)}};a.l(i,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,i=s[0],n=s[1],l=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(l)var d=l(a)}for(t&&t(s);c<i.length;c++)o=i[c],a.o(e,o)&&e[o]&&e[o][0](),e[i[c]]=0;return a.O(d)},s=self["webpackChunkcreate_librarydata"]=self["webpackChunkcreate_librarydata"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(2007)}));s=a.O(s)})();
//# sourceMappingURL=app.37528ee9.js.map