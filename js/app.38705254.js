(function(){var e={6700:function(e,t,a){var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":6196,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":6196,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":8227,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":8227,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=r,e.exports=i,i.id=6700},4731:function(){const e=e=>{const t=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return t.test(e)};String.prototype.isUrl=e},5830:function(e,t,a){"use strict";a.r(t),a.d(t,{getLibraryAuthorities:function(){return o},getLibraryAuthorityByName:function(){return n},getLibraryAuthoritySystemName:function(){return l}});var s=a(9669),i=a.n(s);const r=a(6795);async function o(){const e=await i().get(r.authorities_path);return e&&e.data?e.data:[]}async function n(e){const t=await i().get(r.authorities_path+"/name/"+e);return t&&t.data?t.data:{}}function l(e){return e.replace(/[. ,:-]+/g,"-").toLowerCase()}},994:function(e,t,a){"use strict";var s=a(144),i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-app-bar",{attrs:{app:"",flat:"",outlined:"","clipped-left":""}},[s("v-app-bar-nav-icon",{staticClass:"hidden-lg-and-up",on:{click:function(t){e.drawer=!e.drawer}}}),s("v-container",[s("img",{staticClass:"mr-3",attrs:{src:a(6949),height:"40"}}),s("v-spacer")],1)],1),s("v-navigation-drawer",{staticClass:"elevation-0",attrs:{app:"",clipped:"","hide-overlay":""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list-item",[s("v-list-item-avatar",[s("v-icon",[e._v("mdi-paw")])],1),s("v-list-item-content",[s("v-list-item-title",{staticClass:"text-h6"},[e._v("Create")]),s("v-list-item-subtitle",{staticClass:"font-weight-medium"},[e._v("A "),s("a",{attrs:{href:"https://www.librarylab.uk",target:"_blank"}},[e._v("library lab")]),e._v(" project")])],1)],1),s("v-divider"),s("v-list",{attrs:{nav:"",dense:"",subheader:""}},[s("v-list-item",{class:"/"===e.$route.path?"highlighted":"",attrs:{to:"/","active-class":"highlighted"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-home")])],1),s("v-list-item-title",[e._v("Home")])],1),s("v-list-item",{class:"/about"===e.$route.path?"highlighted":"",attrs:{to:"/about","active-class":"highlighted"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-information-outline")])],1),s("v-list-item-title",[e._v("About")])],1),s("v-divider"),s("v-subheader",{attrs:{inset:""}},[e._v("Data tools")]),s("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-calendar-star"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v("Events")])],1)]},proxy:!0}])},[s("v-list-item",{class:"/events"===e.$route.path?"highlighted":"",attrs:{to:"/events","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Events dataset")])],1)],1),s("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-domain"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v("Libraries")])],1)]},proxy:!0}])},[s("v-list-item",{class:"/libraries"===e.$route.path?"highlighted":"",attrs:{to:"/libraries","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Libraries dataset")])],1)],1),s("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-book-account-outline "},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v("Loans")])],1)]},proxy:!0}])},[s("v-list-item",{class:"/loans"===e.$route.path?"highlighted":"",attrs:{to:"/loans","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Loans dataset")])],1)],1),s("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-account-multiple"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v("Membership")])],1)]},proxy:!0}])},[s("v-list-item",{class:"/membership"===e.$route.path?"highlighted":"",attrs:{to:"/membership","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Membership dataset")])],1),s("v-list-item",{class:"/postcode-to-lsoa"===e.$route.path?"highlighted":"",attrs:{to:"/postcode-to-lsoa","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Postcode converter tool")])],1),s("v-list-item",{class:"/membership-map"===e.$route.path?"highlighted":"",attrs:{to:"/membership-map","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Membership map")])],1)],1),s("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-bus-clock"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v("Mobile libraries")])],1)]},proxy:!0}])},[s("v-list-item",{class:"/mobile-library-stops"===e.$route.path?"highlighted":"",attrs:{to:"/mobile-library-stops","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Mobile library stops dataset")])],1)],1),s("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-shoe-print"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v("Visits")])],1)]},proxy:!0}])},[s("v-list-item",{class:"/physical-visits"===e.$route.path?"highlighted":"",attrs:{to:"/physical-visits","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Physical visits dataset")])],1)],1),s("v-list-group",{attrs:{value:!1,"no-action":"","prepend-icon":"mdi-bookshelf"},scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item-content",[s("v-list-item-title",[e._v("Catalogue")])],1)]},proxy:!0}])},[s("v-list-item",{class:"/stock-summary"===e.$route.path?"highlighted":"",attrs:{to:"/stock-summary","active-class":"highlighted"}},[s("v-list-item-title",[e._v("Stock summary dataset")])],1)],1),s("v-divider"),s("v-subheader",{attrs:{inset:""}},[e._v("Account")]),this.$store.state.loginKey?e._e():s("v-list-item",{class:"/login"===e.$route.path?"highlighted":"",attrs:{to:"/login","active-class":"highlighted"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Log in")])],1)],1),this.$store.state.loginKey?s("v-list-item",{class:"/profile"===e.$route.path?"highlighted":"",attrs:{to:"/profile","active-class":"highlighted"}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-account")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Profile")])],1)],1):e._e(),this.$store.state.loginKey?s("v-list-item",{on:{click:e.logout}},[s("v-list-item-icon",[s("v-icon",[e._v("mdi-logout")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("Log out")])],1)],1):e._e()],1)],1),s("v-main",[s("router-view")],1),s("v-footer",{attrs:{app:""}},[s("custom-footer")],1)],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("ul",{staticClass:"footerLinks text-body-1 font-weight-medium"},[a("li",[a("router-link",{attrs:{to:"/accessibility",exact:""}},[e._v("Accessibility")])],1),a("li",[a("router-link",{attrs:{to:"/privacy",exact:""}},[e._v("Privacy")])],1)])]),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("p",{staticClass:"text-body-1 font-weight-medium"},[a("v-btn",{staticClass:"mx-2",attrs:{color:"success",depressed:"",href:"https://www.github.com/librarieshacked/create-librarydata",target:"_blank"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-github")]),e._v(" Code on GitHub ")],1)],1)])],1)],1)},n=[],l={data(){return{}},methods:{}},c=l,d=a(3736),u=a(3453),p=a.n(u),m=a(680),v=a(2102),h=a(9846),b=a(6428),f=a(2877),g=(0,d.Z)(c,o,n,!1,null,"9563bf12",null),y=g.exports;p()(g,{VBtn:m.Z,VCol:v.Z,VContainer:h.Z,VIcon:b.Z,VRow:f.Z});var _={name:"App",components:{"custom-footer":y},methods:{logout(){this.$store.dispatch("logout")}},data:()=>({drawer:null})},x=_,k=a(7524),w=a(8320),C=a(5206),A=a(1418),V=a(899),j=a(6816),Z=a(9443),S=a(7620),L=a(5457),E=a(4562),I=a(459),T=a(7877),O=a(5132),H=a(9762),M=a(5533),B=(0,d.Z)(x,i,r,!1,null,null,null),F=B.exports;p()(B,{VApp:k.Z,VAppBar:w.Z,VAppBarNavIcon:C.Z,VContainer:h.Z,VDivider:A.Z,VFooter:V.Z,VIcon:b.Z,VList:j.Z,VListGroup:Z.Z,VListItem:S.Z,VListItemAvatar:L.Z,VListItemContent:E.km,VListItemIcon:I.Z,VListItemSubtitle:E.oZ,VListItemTitle:E.V9,VMain:T.Z,VNavigationDrawer:O.Z,VSpacer:H.Z,VSubheader:M.Z});var D=a(8345),P=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1)],1)},Y=[],R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"header"},[a("v-container",[a("h1",{staticClass:"text-center"},[e._v(e._s(e.title))]),a("p",{staticClass:"text-subtitle-1 text-center"},[e._v(e._s(e.subtitle))]),a("v-divider")],1)],1)},z=[],U={data(){return{}},methods:{},props:["title","subtitle"]},W=U,G=(0,d.Z)(W,R,z,!1,null,null,null),N=G.exports;p()(G,{VContainer:h.Z,VDivider:A.Z});var K="We want as many people as possible to be able to use this website. For example, that means you should be able to:\r\n\r\n- change colours, contrast levels and fonts\r\n- zoom in up to 300% without the text spilling off the screen\r\n- navigate most of the website using just a keyboard\r\n- navigate most of the website using speech recognition software\r\n- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)\r\n\r\nWe've also made the website text as simple as possible to understand.\r\n\r\n[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.\r\n\r\n## Technical information about this website's accessibility\r\n\r\nThis website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).\r\n\r\nThere are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible, we are looking at making sure the information presented by the map is also available in other formats.\r\n\r\nIf you do experience any problems using this website, please raise these and [send us an email](mailto:info@librarieshacked.org).\r\n",q=a(6667),Q=a.n(q),X={data(){return{mdText:K}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},J=X,$=(0,d.Z)(J,P,Y,!1,null,null,null),ee=$.exports;p()($,{VContainer:h.Z});var te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"About",subtitle:"What this site is for and how it works"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1)],1)},ae=[],se="In 2019 a group of library service data practioners created a set of [public library data schema](https://schema.librarydata.uk/) that were designed for open data releases.\r\n\r\nSome background about that project:\r\n\r\n* DCMS Blog. \r\n* Frictionless Data blog. [Case study of using Table Schema to create a public library data schema](https://frictionlessdata.io/blog/2022/02/07/libraries-hacked/#schemas-and-frictionless-data).\r\n\r\nThis website was created to aid in using those schemas, and the data produced from the datasets. It will include:\r\n\r\n* Tools to help library services create and maintain open data\r\n* Visualisations of the data\r\n* Sharing data analysis techniques using the data.\r\n* Data tools that use the data to aid in decision-making\r\n",ie={data(){return{mdText:se}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},re=ie,oe=(0,d.Z)(re,te,ae,!1,null,null,null),ne=oe.exports;p()(oe,{VContainer:h.Z});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",[a("h1",{staticClass:"text-center"},[e._v("Create")])]),a("section",[a("v-container",[a("div",{staticClass:"text-body-1 text-center"},[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)]),a("v-container",{staticClass:"text-center"},[a("v-btn",{staticClass:"mx-1 my-1",attrs:{"x-large":"",color:"success",depressed:"",to:"/login"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-account")]),e._v(" Log in ")],1),a("v-btn",{staticClass:"mx-1 my-1",attrs:{"x-large":"",color:"info",depressed:"",to:"/about"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-information-outline")]),e._v(" About Create ")],1),a("v-btn",{staticClass:"mx-1 my-1",attrs:{"x-large":"",color:"primary",outlined:"",href:"https://schema.librarydata.uk",target:"_blank"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-cube")]),e._v(" Open data schemas ")],1)],1)],1)],1)},ce=[],de="Tools designed to aid library services in creating and using library open data.\r\n\r\nInspired by the public library [open data schemas](https://schema.librarydata.uk), each tool is tailored for a different dataset documented in that project.\r\n",ue={data(){return{mdText:de}},methods:{},components:{VueMarkdownPlus:Q()}},pe=ue,me=(0,d.Z)(pe,le,ce,!1,null,null,null),ve=me.exports;p()(me,{VBtn:m.Z,VContainer:h.Z,VIcon:b.Z});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Events",subtitle:"Library event attendance and outcomes"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}}),a("p",{staticClass:"text-center"},[a("v-btn",{attrs:{depressed:"",color:"primary",href:"https://schema.librarydata.uk/events",target:"_blank"}},[e._v(" Events data schema ")])],1)],1)],1)],1)},be=[],fe="An event is an event facilitated or organised by the library service.\r\n\r\nThe events dataset is a **time-series**. Every time a new release is created it adds new data (e.g. the next months events).\r\n",ge={data(){return{mdText:fe}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},ye=ge,_e=(0,d.Z)(ye,he,be,!1,null,"513e67c6",null),xe=_e.exports;p()(_e,{VBtn:m.Z,VContainer:h.Z});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Libraries",subtitle:"Public library opening hours, types, and contact details"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}}),a("p",{staticClass:"text-center"},[a("v-btn",{attrs:{depressed:"",color:"primary",href:"https://schema.librarydata.uk/libraries",target:"_blank"}},[e._v(" Libraries data schema ")])],1)],1)],1),a("section",[a("v-container",[a("v-stepper",{attrs:{flat:"",outlined:"",elevation:"0"},model:{value:e.active_step,callback:function(t){e.active_step=t},expression:"active_step"}},[a("v-stepper-header",{staticClass:"elevation-0"},[a("v-stepper-step",{attrs:{complete:e.active_step>1,step:"1",color:"primary",editable:""}},[e._v(" "+e._s(this.selected_service?this.selected_service.name:"Select library service")+" ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.active_step>2,editable:e.active_step>2,step:"2",color:"primary"}},[e._v(" Edit ")]),a("v-divider"),a("v-stepper-step",{attrs:{complete:e.active_step>3,step:"3",color:"primary"}},[e._v(" Publish ")]),a("v-stepper-step",{attrs:{step:"4",color:"primary"}},[e._v(" Done ")])],1),a("v-stepper-content",{attrs:{step:"1"}},[a("v-container",[a("v-alert",{attrs:{border:"left",icon:"mdi-school-outline",text:"",type:"success"}},[e._v(" Get started by choosing a library service from the list. UK library services are listed in alphabetical order. ")]),a("service-select",{on:{change:function(t){e.selected_service=t}}}),a("v-btn",{attrs:{color:"primary",outlined:"",large:"",loading:e.loadingServiceData,disabled:null==e.selected_service},on:{click:e.loadLibraries}},[e._v(" Edit library data "),a("v-icon",{attrs:{right:""}},[e._v("mdi-chevron-right-circle-outline")])],1)],1)],1),a("v-stepper-content",{attrs:{step:"2"}},[a("v-container",[a("v-alert",{attrs:{border:"left",icon:"mdi-school-outline",text:"",type:"success"}},[e._v(" Select fields to change their values. For extended editing of library details, use the edit icon in the actions column. ")]),a("v-data-table",{attrs:{headers:e.headers,items:e.libraries,"sort-by":"name","disable-sort":"",loading:e.loadingServiceData,"loading-text":"Loading... Please wait"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-spacer"),a("v-dialog",{attrs:{persistent:"","max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({attrs:{text:"",color:"success"}},"v-btn",i,!1),s),[a("v-icon",{attrs:{left:"",dark:""}},[e._v("mdi-plus-circle-outline")]),e._v(" Add library ")],1)]}}]),model:{value:e.dialogMainLibrary,callback:function(t){e.dialogMainLibrary=t},expression:"dialogMainLibrary"}},[a("v-card",[a("v-card-text",[a("v-container",[[a("v-tabs",[a("v-tab",[e._v("Library")]),a("v-tab",[e._v("Location")]),a("v-tab",[e._v("Opening hours")]),a("v-tab-item",[a("v-container"),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{outlined:"",label:"Name"},model:{value:e.editedItem.Library_name,callback:function(t){e.$set(e.editedItem,"Library_name",t)},expression:"editedItem.Library_name"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-select",{attrs:{label:"Type",items:[{text:"Local authority",value:"LAL"},{text:"Local authority (unstaffed)",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"IL"}],dense:"",outlined:""},model:{value:e.editedItem.Type_of_library,callback:function(t){e.$set(e.editedItem,"Type_of_library",t)},expression:"editedItem.Type_of_library"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-select",{attrs:{items:["Yes","No"],label:"Statutory",dense:"",outlined:""},model:{value:e.editedItem.Statutory,callback:function(t){e.$set(e.editedItem,"Statutory",t)},expression:"editedItem.Statutory"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Year opened",type:"number"},model:{value:e.editedItem.Year_opened,callback:function(t){e.$set(e.editedItem,"Year_opened",t)},expression:"editedItem.Year_opened"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Year closed",type:"number"},model:{value:e.editedItem.Year_closed,callback:function(t){e.$set(e.editedItem,"Year_closed",t)},expression:"editedItem.Year_closed"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Email address"},model:{value:e.editedItem.Email_address,callback:function(t){e.$set(e.editedItem,"Email_address",t)},expression:"editedItem.Email_address"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Website"},model:{value:e.editedItem.URL,callback:function(t){e.$set(e.editedItem,"URL",t)},expression:"editedItem.URL"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-textarea",{attrs:{dense:"",outlined:"",label:"Notes","full-width":""},model:{value:e.editedItem.Notes,callback:function(t){e.$set(e.editedItem,"Notes",t)},expression:"editedItem.Notes"}})],1)],1)],1),a("v-tab-item",[a("v-container"),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Address 1"},model:{value:e.editedItem.Address_1,callback:function(t){e.$set(e.editedItem,"Address_1",t)},expression:"editedItem.Address_1"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Address 2"},model:{value:e.editedItem.Address_2,callback:function(t){e.$set(e.editedItem,"Address_2",t)},expression:"editedItem.Address_2"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Address 3"},model:{value:e.editedItem.Address_3,callback:function(t){e.$set(e.editedItem,"Address_3",t)},expression:"editedItem.Address_3"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Postcode"},model:{value:e.editedItem.Postcode,callback:function(t){e.$set(e.editedItem,"Postcode",t)},expression:"editedItem.Postcode"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Unique property reference number"},model:{value:e.editedItem.Unique_property_reference_number,callback:function(t){e.$set(e.editedItem,"Unique_property_reference_number",t)},expression:"\n                                        editedItem.Unique_property_reference_number\n                                      "}})],1)],1)],1),a("v-tab-item",[a("v-container"),a("v-row",e._l(e.openingHourTypes,(function(t){return a("v-col",{key:t,attrs:{cols:"12",sm:"6",md:"6"}},e._l(e.days,(function(s){return a("div",{key:s},[a("div",{staticClass:"text-subtitle-2"},[a("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(a){return e.addOpeningHoursEntry(s+"_"+t+"_hours")}}},[a("v-icon",[e._v("mdi-plus-circle-outline")])],1),e._v(" "+e._s(s)+" "+e._s(t)+" ")],1),e._l(e.editedItem[s+"_"+t+"_hours"]?e.editedItem[s+"_"+t+"_hours"].split(","):"",(function(i){return a("v-chip",{key:i,staticClass:"ma-1",attrs:{small:"",label:"",close:"","close-icon":"mdi-delete",color:"primary"},on:{"click:close":function(a){return e.removeOpeningHoursEntry(s+"_"+t+"_hours",i)}}},[e._v(e._s(i))])}))],2)})),0)})),1)],1)],1)]],2)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"accent"},on:{click:e.close}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close-circle-outline")]),e._v(" Cancel ")],1),a("v-btn",{attrs:{text:"",color:"success"},on:{click:e.save}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-check-circle-outline")]),e._v(" Ok ")],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0","max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",[e._v("Remove this library?")]),a("v-card-text",[a("p",[e._v(" This will completely remove this library from the dataset. ")]),a("p",[e._v(" If the library has closed it does not need to be removed. The closed year should be entered in the library details. ")])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"accent"},on:{click:e.closeDelete}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-close-circle-outline")]),e._v(" Cancel ")],1),a("v-btn",{attrs:{text:"",color:"error"},on:{click:e.deleteItemConfirm}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-delete-outline")]),e._v(" Delete ")],1),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0","max-width":"500px"},model:{value:e.dialogOpeningHoursEntry,callback:function(t){e.dialogOpeningHoursEntry=t},expression:"dialogOpeningHoursEntry"}},[a("v-card",[a("v-card-title",[e._v("Add opening hours session")]),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{ref:"openingHoursOpenMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.openingHoursOpen,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.openingHoursOpen=t},"update:return-value":function(t){e.openingHoursOpen=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",outlined:"",label:"Open",readonly:""},model:{value:e.openingHoursOpen,callback:function(t){e.openingHoursOpen=t},expression:"openingHoursOpen"}},"v-text-field",i,!1),s))]}}]),model:{value:e.openingHoursOpenMenuOpen,callback:function(t){e.openingHoursOpenMenuOpen=t},expression:"openingHoursOpenMenuOpen"}},[a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.openingHoursOpenMenu.save(e.openingHoursOpen)}},model:{value:e.openingHoursOpen,callback:function(t){e.openingHoursOpen=t},expression:"openingHoursOpen"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{ref:"openingHoursCloseMenu",attrs:{"close-on-content-click":!1,"nudge-right":40,"return-value":e.openingHoursClose,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){e.openingHoursClose=t},"update:return-value":function(t){e.openingHoursClose=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{dense:"",outlined:"",label:"Close",readonly:""},model:{value:e.openingHoursClose,callback:function(t){e.openingHoursClose=t},expression:"openingHoursClose"}},"v-text-field",i,!1),s))]}}]),model:{value:e.openingHoursCloseMenuOpen,callback:function(t){e.openingHoursCloseMenuOpen=t},expression:"openingHoursCloseMenuOpen"}},[a("v-time-picker",{attrs:{"full-width":""},on:{"click:minute":function(t){return e.$refs.openingHoursCloseMenu.save(e.openingHoursClose)}},model:{value:e.openingHoursClose,callback:function(t){e.openingHoursClose=t},expression:"openingHoursClose"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"accent"},on:{click:e.closeOpeningHoursEntry}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"success"},on:{click:e.confirmOpeningHoursEntry}},[e._v("Ok")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.Library_name",fn:function(t){var s=t.item;return[a("v-edit-dialog",{attrs:{large:"","return-value":s.Library_name},on:{"update:returnValue":function(t){return e.$set(s,"Library_name",t)},"update:return-value":function(t){return e.$set(s,"Library_name",t)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("p",[a("br"),a("v-text-field",{attrs:{outlined:"",label:"Name"},model:{value:s.Library_name,callback:function(t){e.$set(s,"Library_name",t)},expression:"item.Library_name"}})],1)]},proxy:!0}],null,!0)},[e._v(" "+e._s(s.Library_name)+" ")])]}},{key:"item.Year_closed",fn:function(t){var s=t.item;return[a("v-edit-dialog",{attrs:{large:"","return-value":s.Year_closed},on:{"update:returnValue":function(t){return e.$set(s,"Year_closed",t)},"update:return-value":function(t){return e.$set(s,"Year_closed",t)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("p",[a("br"),a("v-text-field",{attrs:{outlined:"",label:"Year closed",type:"number"},model:{value:s.Year_closed,callback:function(t){e.$set(s,"Year_closed",t)},expression:"item.Year_closed"}})],1)]},proxy:!0}],null,!0)},[e._v(" "+e._s(s.Year_closed)+" ")])]}},{key:"item.Type_of_library",fn:function(t){var s=t.item;return[a("v-edit-dialog",{attrs:{large:"","return-value":s.Type_of_library},on:{"update:returnValue":function(t){return e.$set(s,"Type_of_library",t)},"update:return-value":function(t){return e.$set(s,"Type_of_library",t)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("p",[a("br"),a("v-select",{attrs:{label:"Type",items:[{text:"Local authority",value:"LAL"},{text:"Local authority (unstaffed)",value:"LAL-"},{text:"Commisioned",value:"CL"},{text:"Community-run",value:"CRL"},{text:"Independent",value:"IL"}],dense:"",outlined:""},model:{value:s.Type_of_library,callback:function(t){e.$set(s,"Type_of_library",t)},expression:"item.Type_of_library"}})],1)]},proxy:!0}],null,!0)},[e._v(" "+e._s(s.Type_of_library)+" ")])]}},{key:"item.Address_1",fn:function(t){var s=t.item;return[a("v-edit-dialog",{attrs:{large:"","return-value":s.Address_1},on:{"update:returnValue":function(t){return e.$set(s,"Address_1",t)},"update:return-value":function(t){return e.$set(s,"Address_1",t)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("p",[a("br"),a("v-text-field",{attrs:{dense:"",outlined:"",label:"Address 1"},model:{value:s.Address_1,callback:function(t){e.$set(s,"Address_1",t)},expression:"item.Address_1"}})],1)]},proxy:!0}],null,!0)},[e._v(" "+e._s(s.Address_1)+" ")])]}},{key:"item.Postcode",fn:function(t){var s=t.item;return[a("v-edit-dialog",{attrs:{large:"","return-value":s.Postcode},on:{"update:returnValue":function(t){return e.$set(s,"Postcode",t)},"update:return-value":function(t){return e.$set(s,"Postcode",t)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("p",[a("br"),a("v-text-field",{attrs:{dense:"",outlined:"",label:"Postcode"},model:{value:s.Postcode,callback:function(t){e.$set(s,"Postcode",t)},expression:"item.Postcode"}})],1)]},proxy:!0}],null,!0)},[e._v(" "+e._s(s.Postcode)+" ")])]}},{key:"item.Statutory",fn:function(t){var s=t.item;return[a("v-edit-dialog",{attrs:{large:"","return-value":s.Statutory},on:{"update:returnValue":function(t){return e.$set(s,"Statutory",t)},"update:return-value":function(t){return e.$set(s,"Statutory",t)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("p",[a("br"),a("v-select",{attrs:{items:["Yes","No"],label:"Statutory",dense:"",outlined:""},model:{value:s.Statutory,callback:function(t){e.$set(s,"Statutory",t)},expression:"item.Statutory"}})],1)]},proxy:!0}],null,!0)},[e._v(" "+e._s(s.Statutory)+" ")])]}},{key:"item.actions",fn:function(t){var s=t.item;return[a("div",{staticClass:"d-flex"},[a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.editItem(s)}}},[e._v(" mdi-pencil-outline ")]),a("v-icon",{on:{click:function(t){return e.deleteItem(s)}}},[e._v("mdi-delete-outline")])],1)]}},{key:"no-data",fn:function(){},proxy:!0}])}),a("v-btn",{attrs:{outlined:"",large:"",color:"primary"},on:{click:e.goToPublish}},[e._v(" Publish the data "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-chevron-right-circle-outline")])],1)],1)],1),a("v-stepper-content",{attrs:{step:"3"}},[a("v-container",[a("v-alert",{attrs:{border:"left",icon:"mdi-school-outline",text:"",type:"success"}},[e._v(" You can save a copy of the edited data to your computer in CSV format. If you are logged in on behalf of the library, you can overwrite the currently stored version of the data. ")])],1),a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",large:"",color:"primary"},on:{click:e.download}},[e._v(" Save file "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-content-save-outline")])],1),a("v-btn",{attrs:{outlined:"",large:"",color:"primary"},on:{click:e.publishChanges}},[e._v(" Publish changes "),a("v-icon",{attrs:{right:"",dark:""}},[e._v("mdi-cloud-upload-outline")])],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.successDialog,callback:function(t){e.successDialog=t},expression:"successDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Success ")]),a("v-card-text",[e._v("Your changes have been published. Thank you")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.successDialog=!1}}},[e._v(" Close ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:e.errorDialog,callback:function(t){e.errorDialog=t},expression:"errorDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Sorry ")]),a("v-card-text",[e._v("Your changes failed to publish - please contact info@librarieshacked.org")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"secondary",text:""},on:{click:function(t){e.errorDialog=!1}}},[e._v(" Close ")])],1)],1)],1)],1)],1)],1)],1)],1)},we=[],Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("v-select",{attrs:{items:e.library_services,"item-text":"nice_name","item-value":"code",label:"Choose a library service",outlined:"",value:e.value,"return-object":"",loading:0===e.library_services.length,"prepend-inner-icon":"mdi-map-legend"},on:{change:e.update}})],1)},Ae=[];const Ve=a(5830);var je={data(){return{library_services:[]}},created(){this.library_services=this.$store.state.library_services,0===this.library_services.length&&this.getServices()},props:["value"],methods:{async getServices(){let e=await Ve.getLibraryAuthorities();e=e.sort(((e,t)=>e.name.localeCompare(t.name))),this.$store.commit("setServices",e),this.library_services=e},update(e){this.$emit("change",e)}}},Ze=je,Se=a(9512),Le=(0,d.Z)(Ze,Ce,Ae,!1,null,null,null),Ee=Le.exports;p()(Le,{VSelect:Se.Z});var Ie=a(7460),Te=a(9669),Oe=a.n(Te);const He=(e,t)=>new Promise((a=>{let s=[];Ie.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:e=>{s.push(e.data)},complete:()=>{a(s)}})})),Me=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},a=await Oe().get(e,t);return He(a.data,!0)},Be=a(6795),Fe=async(e,t)=>{const a=`${Be.schema_url}${e}/${t}`,s=await Me(a);return s},De=async(e,t,a,s)=>{const i=`${Be.schema_url}${e}/${t}`,r=await Oe().put(i,a,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"text/csv"}});return 200===r.status};var Pe="A library is a static service point which provides access to library services for the public.\r\n\r\nThe libraries dataset is a **register**. This means that the original data needs to be permanently maintained and kept up to date.\r\n\r\nThis tool allows you to view and edit library service point data, grouped by service. At the end of the process you can save a new copy of the data. If you have access rights you can update the existing datasets, but ensure you [Log in](/login) before you begin.\r\n",Ye={data(){return{active_step:1,loadingServiceData:!1,selected_service:null,mdText:Pe,library_form_active:!1,days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["staffed","unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,headers:[{text:"Name",align:"start",value:"Library_name"},{text:"Closed",value:"Year_closed"},{text:"Type",align:"start",value:"Type_of_library"},{text:"Address 1",align:"start",value:"Address_1"},{text:"Postcode",value:"Postcode"},{text:"Statutory",value:"Statutory"},{text:"Actions",value:"actions",sortable:!1}],libraries:[],editedIndex:-1,editedItem:{},defaultItem:{Local_authority:"",Library_name:"",Address_1:"",Address_2:"",Address_3:"",Postcode:"",Unique_property_reference_number:"",Statutory:"",Type_of_library:"LAL",Year_opened:"",Year_closed:"",Monday_staffed_hours:"",Tuesday_staffed_hours:"",Wednesday_staffed_hours:"",Thursday_staffed_hours:"",Friday_staffed_hours:"",Saturday_staffed_hours:"",Sunday_staffed_hours:"",Monday_unstaffed_hours:"",Tuesday_unstaffed_hours:"",Wednesday_unstaffed_hours:"",Thursday_unstaffed_hours:"",Friday_unstaffed_hours:"",Saturday_unstaffed_hours:"",Sunday_unstaffed_hours:"",Special_hours:"",Colocated:"",Colocated_with:"",Notes:"",URL:"",Email_address:""},successDialog:!1,errorDialog:!1}},methods:{editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.libraries.splice(this.editedIndex,1),this.closeDelete()},close(){this.dialogMainLibrary=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem.Local_authority=this.selected_service.name,this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},removeOpeningHoursEntry(e,t){var a=this.editedItem[e].split(",").filter((e=>e.length>0));a.splice(a.indexOf(t),1),this.editedItem[e]=a.join(","),this.dialogOpeningHoursEntry=!1},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){var e=this.editedItem[this.openingHoursEditKey].split(",").filter((e=>e.length>0));e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1},goToPublish(){this.active_step=3},save(){this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()},loadLibraries:async function(){this.loadingServiceData=!0;let e=this,t=this.selected_service;const a=await Fe("libraries",t.code);a.forEach(((e,t)=>{Object.keys(e).forEach((s=>{let i=e[s],r=s.replace(/\s+/g,"_");delete a[t][s],a[t][r]=i}))})),e.libraries=a,e.active_step=2,this.loadingServiceData=!1},download(){let e=this.selected_service;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){var a=new Blob([Ie.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,e);else{var s=document.createElement("a");s.href=window.URL.createObjectURL(a),s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s)}},publishChanges:async function(){let e=JSON.parse(JSON.stringify(this.libraries));e.forEach(((t,a)=>{Object.keys(t).forEach((s=>{let i=t[s],r=s.replace(/_/g," ");delete e[a][s],e[a][r]=i}))}));const t=new Blob([Ie.unparse(e)],{type:"text/csv;charset=utf-8;"}),a=await De("libraries",this.selected_service.code,t,this.$store.state.loginKey);a?this.successDialog=!0:this.errorDialog=!0}},components:{"custom-header":N,"service-select":Ee,VueMarkdownPlus:Q()}},Re=Ye,ze=a(1234),Ue=a(2371),We=a(7118),Ge=a(5424),Ne=a(4998),Ke=a(4497),qe=a(8308),Qe=a(6768),Xe=a(3446),Je=a(8937),$e=a(6189),et=a(8975),tt=a(4227),at=a(1759),st=a(7168),it=a(5978),rt=a(4350),ot=a(9142),nt=a(6656),lt=(0,d.Z)(Re,ke,we,!1,null,"d251c330",null),ct=lt.exports;p()(lt,{VAlert:ze.Z,VBtn:m.Z,VCard:Ue.Z,VCardActions:We.h7,VCardText:We.ZB,VCardTitle:We.EB,VChip:Ge.Z,VCol:v.Z,VContainer:h.Z,VDataTable:Ne.Z,VDialog:Ke.Z,VDivider:A.Z,VEditDialog:qe.Z,VIcon:b.Z,VMenu:Qe.Z,VRow:f.Z,VSelect:Se.Z,VSpacer:H.Z,VStepper:Xe.Z,VStepperContent:Je.Z,VStepperHeader:$e.Rp,VStepperStep:et.Z,VTab:tt.Z,VTabItem:at.Z,VTabs:st.Z,VTextField:it.Z,VTextarea:rt.Z,VTimePicker:ot.Z,VToolbar:nt.Z});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Loans",subtitle:"Lending of library items"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}}),a("p",{staticClass:"text-center"},[a("v-btn",{attrs:{depressed:"",color:"primary",href:"https://schema.librarydata.uk/loans",target:"_blank"}},[e._v(" Loans data schema ")])],1)],1)],1)],1)},ut=[],pt="A library member is any member of the public registered with the library service. They do not need to have borrowed a library item within any timescale to be considered a member. It is assumed inactive users are removed from the library system after an appropriate period of time, in accordance with General Data Protection Regulations (GDPR).\r\n\r\nThe membership dataset is a **snapshot**. This means that each export is a point in time representation of the data.\r\n",mt={data(){return{mdText:pt}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},vt=mt,ht=(0,d.Z)(vt,dt,ut,!1,null,"1f976954",null),bt=ht.exports;p()(ht,{VBtn:m.Z,VContainer:h.Z});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}}),a("p",{staticClass:"text-center"},[a("v-btn",{attrs:{depressed:"",color:"primary",href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v(" Membership data schema ")])],1)],1)],1)],1)},gt=[],yt={data(){return{mdText:pt}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},_t=yt,xt=(0,d.Z)(_t,ft,gt,!1,null,"95fd27f8",null),kt=xt.exports;p()(xt,{VBtn:m.Z,VContainer:h.Z});var wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Membership map",subtitle:"Explore library membership data"}}),a("section",[a("v-container",[a("p",[e._v(" You need library membership data in the "),a("a",{attrs:{href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v("membership data schema format")]),e._v(". This can be created using the "),a("a",{attrs:{href:"/postcode-to-lsoa",target:"_blank"}},[e._v("postcode to statistical area converter")]),e._v(". ")]),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("file-upload",{attrs:{file:e.lsoaFiles},on:{"change-files":function(t){e.lsoaFiles=t},"delete-file":function(t){e.lsoaFiles=null}}}),a("br"),a("v-btn",{attrs:{depressed:"",color:"primary",disabled:0===e.lsoaFiles.length},on:{click:e.addMembershipData}},[e._v("Add members to map ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Display options")])]),a("ul",[a("li",[a("b",[e._v("Population percentage")]),e._v(". Shades the map to highlight concentration of membership. When zooming in in also displays the membership population percentage. ")]),a("li",[a("b",[e._v("Areas of deprivation")]),e._v(". Shades the map to highlight highly deprived areas. Uses the index of multiple deprivation for each area. 1 represents highly deprived areas, 10 the least deprived. ")])])])],1)],1)],1),a("v-radio-group",{attrs:{row:""},on:{change:e.setDisplayOptions},model:{value:e.mapDisplay,callback:function(t){e.mapDisplay=t},expression:"mapDisplay"}},[a("v-radio",{attrs:{label:"Display population percentage",value:"populationPercentage"}}),a("v-radio",{attrs:{label:"Display areas of deprivation",value:"imd"}})],1),a("MglMap",{ref:"mglMap",attrs:{container:"map-container",minZoom:e.minZoom,maxZoom:e.maxZoom,center:e.center,mapStyle:e.mapStyle,zoom:e.zoom},on:{"update:center":function(t){e.center=t},"update:zoom":function(t){e.zoom=t}}},[a("MglVectorLayer",{attrs:{sourceId:e.lsoasSource.id,source:e.lsoasSource,layerId:"lsoa_boundaries_fill",layer:e.lsoasLayerFill}}),a("MglVectorLayer",{attrs:{sourceId:e.lsoasSource.id,source:e.lsoasSource,layerId:"lsoa_boundaries_label",layer:e.lsoasLayerLabel}}),a("MglVectorLayer",{attrs:{sourceId:"libraries",source:e.librariesSource,layerId:"libraries_circles",layer:e.librariesLayerCircles}}),a("MglNavigationControl",{attrs:{position:"bottom-right"}}),a("MglFullscreenControl",{attrs:{position:"top-right"}}),null!==e.authoritySource?a("MglGeojsonLayer",{attrs:{sourceId:"authority_boundary_source",source:e.authoritySource,layerId:"authority_boundary_line",layer:e.authorityLayerLine}}):e._e(),null!==e.authoritySource?a("MglGeojsonLayer",{attrs:{sourceId:"authority_boundary_source",source:e.authoritySource,layerId:"authority_boundary_label",layer:e.authorityLayerLabel}}):e._e()],1)],1)],1)],1)},Ct=[],At=(a(4731),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("v-file-input",{attrs:{accept:"text/csv",chips:"",counter:"",outlined:"",multiple:"","show-size":"",label:"Choose a file",value:e.file,"prepend-icon":"","prepend-inner-icon":"mdi-file-document-outline"},on:{change:function(t){return e.$emit("change-files",t)}}})],1)}),Vt=[],jt={props:["file"],data(){return{}},methods:{}},Zt=jt,St=a(7781),Lt=(0,d.Z)(Zt,At,Vt,!1,null,null,null),Et=Lt.exports;p()(Lt,{VFileInput:St.Z});var It=a(9020),Tt=a(6412),Ot=a(5830),Ht=a(1931);const Mt=a(6795);var Bt={created(){this.map=null},data(){return{map:null,mapStyle:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",center:[-2,52],zoom:7,minZoom:5,maxZoom:16,mapDisplay:"populationPercentage",authoritySource:null,authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},lsoaFiles:[],lsoasSource:{type:"vector",id:"lsoa_boundaries",tiles:[Mt.lsoa_tiles],promoteId:{lsoa_boundaries:"code"}},librariesSource:{type:"vector",tiles:[Mt.libraries_tiles]},matchFilter:["in",["get","code"],["literal",[]]],matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",lsoasLayerFill:{type:"fill",filter:["in",["get","code"],["literal",[]]],"source-layer":"lsoa_boundaries",paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],librariesLayerCircles:{type:"circle",filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoasLayerLabel:{type:"symbol",filter:["in",["get","code"],["literal",[]]],"source-layer":"lsoa_boundaries",minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Open Sans Bold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-allow-overlap":!1,"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}}}},methods:{setDisplayOptions:function(){"populationPercentage"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation),"imd"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation),this.lsoasLayerFill.filter=this.matchFilter,this.lsoasLayerLabel.filter=this.matchFilter},setLsoaFields:function(e){let t=[],a=["match",["get","code"]],s=["match",["get","code"]];e.forEach((e=>{const i=parseInt(e[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoa_boundaries",sourceLayer:"lsoa_boundaries",id:e[2]},{members:i}),t.push(e[2]),a.push(e[2]),a.push(["concat",["to-string",["round",["*",["/",i,["to-number",["get","population"]]],100]]],"%"]),s.push(e[2]),s.push(["get","imd"])})),a.push(""),s.push("");let i=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],0,It.Z.OrRd[9][0],5,It.Z.OrRd[9][1],10,It.Z.OrRd[9][2],15,It.Z.OrRd[9][3],20,It.Z.OrRd[9][4],25,It.Z.OrRd[9][5],30,It.Z.OrRd[9][6],35,It.Z.OrRd[9][7],40,It.Z.OrRd[9][8]],r=["interpolate",["linear"],["to-number",["get","imd"]],1,It.Z.OrRd[9][8],2,It.Z.OrRd[9][7],3,It.Z.OrRd[9][6],4,It.Z.OrRd[9][5],5,It.Z.OrRd[9][4],6,It.Z.OrRd[9][3],7,It.Z.OrRd[9][2],8,It.Z.OrRd[9][1],9,It.Z.OrRd[9][0],10,It.Z.OrRd[9][0]],o=["in",["get","code"],["literal",t]];this.matchFilter=o,this.matchFieldLsoaPopulation=a,this.matchFieldLsoaDeprivation=s,this.matchColourLsoaPopulation=i,this.matchColourLsoaDeprivation=r,this.setDisplayOptions()},addMembershipData:async function(){let e=this;if(e.lsoaFiles[0].name){const a=await He(e.lsoaFiles[0],!1);this.setLsoaFields(a.slice(1));const s=await Ot.getLibraryAuthorityByName(a[1][0]),i=JSON.parse(s.geojson);this.authoritySource={type:"geojson",data:i},this.authorityLayerLabel.layout["text-field"]=s.utla19nm;var t=(0,Tt.Z)(i);this.$refs.mglMap.map.fitBounds(t,{padding:10})}}},components:{"custom-header":N,"file-upload":Et,MglGeojsonLayer:Ht.tf,MglMap:Ht.Q3,MglFullscreenControl:Ht.d3,MglNavigationControl:Ht.RV,MglVectorLayer:Ht.sB}},Ft=Bt,Dt=a(6487),Pt=a(681),Yt=(0,d.Z)(Ft,wt,Ct,!1,null,null,null),Rt=Yt.exports;p()(Yt,{VAlert:ze.Z,VBtn:m.Z,VCol:v.Z,VContainer:h.Z,VRadio:Dt.Z,VRadioGroup:Pt.Z,VRow:f.Z});var zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Convert library member postcodes",subtitle:"Obtain census-based areas for the locations of library members"}}),a("section",[a("v-container",[a("p",[e._v(" England and Wales release statistics at the census-based Lower super output area geographic level. In Scotland, Data Zones are most useful, and in Northern Ireland, Small Areas. This tool converts UK postcodes into the most appropriate matching area. ")]),a("p",[e._v(" Postcodes are kept secure. A selection of postcode/area pairings are downloaded based on the postcode "),a("b",[e._v("sectors")]),e._v(" in your data. The correct areas are then chosen on your local PC. ")]),a("v-stepper",{attrs:{vertical:"",flat:""},model:{value:e.active_step,callback:function(t){e.active_step=t},expression:"active_step"}},[a("v-stepper-step",{attrs:{complete:e.active_step>1,step:"1",color:"secondary",editable:""}},[e._v(" Load postcodes ")]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("file-upload",{attrs:{file:e.files},on:{"change-files":function(t){e.files=t}}}),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:0===e.files.length},on:{click:e.confirmFile}},[e._v(" Next ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("File tips")])]),a("ol",[a("li",[e._v(" This tool loads CSV files. If your data isn't in CSV format you'll need to convert it. Try "),a("b",[e._v("Save as")]),e._v(" in your software. ")]),a("li",[e._v("The first row should be column headings")]),a("li",[e._v("One column should contain UK postcodes")])])])],1)],1)],1)],1),a("v-stepper-step",{attrs:{color:"secondary",complete:e.active_step>2,step:"2"}},[e._v(" Choose conversion options ")]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-select",{attrs:{items:e.columns,label:"Select column",outlined:""},model:{value:e.postcode_column,callback:function(t){e.postcode_column=t},expression:"postcode_column"}}),a("v-btn",{attrs:{color:"primary",depressed:"",disabled:""===e.postcode_column},on:{click:e.confirmOptions}},[e._v("Convert ")]),a("v-container",[a("v-subheader",[e._v("My columns include a count")]),a("v-select",{attrs:{value:e.counts_column,items:e.columns.filter((function(t){return t!==e.postcode_column})),disabled:""===e.postcode_column||0===e.columns.filter((function(t){return t!==e.postcode_column})).length,label:"Count column (optional)",outlined:""}})],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Choose your columns")])]),a("p",[e._v("The column headings in your data should be displayed.")]),a("ol",[a("li",[e._v("Select the correct column for the postcodes")]),a("li",[e._v("Check guidance below on the optional step")]),a("li",[e._v(" When ready, select the "),a("strong",[e._v("Convert")]),e._v(" option to continue ")])]),a("br"),a("p",[e._v(" It may take a few minutes depending on number of postcodes. ")])]),a("v-alert",{attrs:{border:"right",color:"orange",text:"",type:"warning"}},[a("p",[a("b",[e._v("Optional: counts of people")])]),a("p",[e._v(" If your data is grouped into counts per postcode, select the column the count is held in. The tool will then be able to count people per area for you. ")]),a("p",[e._v(" If each of your rows relates to an individual person you can ignore this option. ")])])],1)],1)],1)],1),a("v-stepper-step",{attrs:{color:"secondary",complete:e.active_step>3,step:"3"}},[e._v(" Results ")]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-subheader",[e._v(" "+e._s("Completed in "+e.getTimeCompleted()+" seconds")+" ")]),a("v-data-table",{attrs:{dense:"","disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"",headers:e.summary_columns,items:e.summary_data,"item-key":"total"}}),a("br"),a("v-btn",{attrs:{color:"primary",depressed:""},on:{click:e.downloadConvertedFile}},[e._v("Save converted file ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("v-alert",{attrs:{border:"right",color:"blue",text:"",type:"info"}},[a("p",[a("b",[e._v("Saving converted file - what to expect")])]),a("ul",[a("li",[e._v("Valid postcodes are changed to their statistical area")]),a("li",[e._v(" Postcodes that are no longer valid are changed to "),a("strong",[e._v("Terminated")]),e._v(". ")]),a("li",[e._v(" Postcodes not recognised changed to "),a("strong",[e._v("Unknown")]),e._v(". ")]),a("li",[e._v(" The postcode column header changed to "),a("strong",[e._v("Area")]),e._v(". ")])])])],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-container",[a("h4",[e._v("Library membership data")]),a("br"),a("v-select",{attrs:{items:e.library_services,label:"Library service name",outlined:""},model:{value:e.authority,callback:function(t){e.authority=t},expression:"authority"}}),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.extract_date,persistent:"",width:"290px"},on:{"update:returnValue":function(t){e.extract_date=t},"update:return-value":function(t){e.extract_date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Count date","prepend-inner-icon":"mdi-calendar",readonly:""},model:{value:e.extract_date,callback:function(t){e.extract_date=t},expression:"extract_date"}},"v-text-field",i,!1),s))]}}]),model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.extract_date,callback:function(t){e.extract_date=t},expression:"extract_date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modal=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.date)}}},[e._v(" OK ")])],1)],1),a("v-btn",{attrs:{text:"",color:"primary",disabled:""===e.authority||null===e.extract_date},on:{click:e.downloadSchemaFile}},[e._v("Save membership file")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-alert",{attrs:{border:"right",color:"orange",text:"",type:"warning"}},[a("p",[a("b",[e._v("Public library open data")])]),a("p",[e._v(" Census geographies are required for "),a("a",{attrs:{href:"https://schema.librarydata.uk/membership",target:"_blank"}},[e._v("library membership data")]),e._v(". ")]),a("p",[e._v("This tool has calculated a count of members per statistical area.")]),a("ol",[a("li",[e._v("Select the name of your library service")]),a("li",[e._v(" Choose a date the postcodes were extracted from your library management system ")]),a("li",[e._v("Save the data file")])])])],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"",width:"300"},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Please wait")])]),a("v-card-text",[a("v-progress-linear",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1)],1)},Ut=[],Wt=a(381),Gt=a.n(Wt),Nt=a(3162);const Kt=a(6795);function qt(e){let t=new Set(e.map((e=>Qt(e))).filter((e=>null!=e)));return[...t]}function Qt(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){let a=e.match(t);if(a&&a.length>0)return a[0].substring(0,6)}return null}function Xt(e,t){Oe().post(Kt.postcode_api+"lsoas?filter=sector",e).then((e=>{t(e.data)}))}function Jt(e,t){const a=qt(e);let s={};Xt(a,(e=>{Object.keys(e).forEach((t=>{e[t].forEach((e=>{s[e.replace(/\s/g,"")]=t.trim()}))})),t(s)}))}const $t=a(6795);var ea={data(){return{start_time:null,end_time:null,loading:!1,loading_message:"",active_step:1,columns:[],files:[],postcode_column:"",counts_column:"",csv_data:[],lsoas_counted:{},summary_data:[{total:0,converted:0,terminated:0,unknown:0}],summary_columns:[{value:"total",text:"Total"},{value:"converted",text:"Successful"},{value:"terminated",text:"Terminated"},{value:"unknown",text:"Unknown"}],authority:"",extract_date:null,library_services:$t.library_services,modal:!1}},methods:{getTimeCompleted:function(){return this.start_time&&this.end_time?Math.round(Gt().duration(this.end_time.diff(this.start_time)).asSeconds()):""},confirmFile:async function(){let e=this;if(e.loading=!0,e.files.length>0){const t=await He(e.files[0],!1);e.columns=t[0],e.csv_data=t,e.active_step=2,e.loading=!1}},confirmOptions:function(){let e=this;e.start_time=Gt()(),e.loading=!0,e.summary_data[0].total=0,e.summary_data[0].converted=0,e.summary_data[0].unknown=0,e.summary_data[0].terminated=0,e.lsoas_counted={Unknown:0};const t=e.columns.indexOf(e.postcode_column),a=e.columns.indexOf(this.counts_column),s=e.csv_data.map((e=>e[t])).filter((t=>null!=t&&t!=e.postcode_column));Jt(s,(s=>{e.csv_data.forEach(((i,r)=>{const o=i[t],n=o.replace(/\s/g,"");if(0===r&&o===e.postcode_column)i[t]="LSOA";else{this.summary_data[0].total++;let e="";o&&""!==o&&s[n]?(e=s[n],"Terminated"===e?(i[t]="Terminated",this.summary_data[0].terminated++):"Unknown"===e?(i[t]="Unknown",this.summary_data[0].unknown++):(i[t]=e,this.summary_data[0].converted++)):(i[t]="Unknown",this.summary_data[0].unknown++,e="Unknown"),"Terminated"===e&&(e="Unknown"),this.lsoas_counted[e]||(this.lsoas_counted[e]=0),""!==this.counts_column?this.lsoas_counted[e]=this.lsoas_counted[e]+parseInt(i[a]):this.lsoas_counted[e]++}})),e.active_step=3,this.loading=!1,this.end_time=Gt()()}))},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csv_data)},downloadSchemaFile:async function(){let e=[["Local authority","Count date","Area code","Members"]];const t=Gt()(this.extract_date).format("YYYY-MM-DD");Object.keys(this.lsoas_counted).filter((e=>"Unknown"!==e&&"Terminated"!==e)).forEach((a=>{let s=this.lsoas_counted[a];e.push([this.authority,t,a,s>4?s.toString():"x"])}));let a=this.lsoas_counted["Unknown"];this.lsoas_counted["Unknown"]>0&&e.push([this.authority,t,"Unknown",a>4?a.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){var a=new Blob([Ie.unparse(t)],{type:"text/plain;charset=utf-8"});(0,Nt.saveAs)(a,e)}},components:{"file-upload":Et,"custom-header":N}},ta=ea,aa=a(7416),sa=a(7003),ia=(0,d.Z)(ta,zt,Ut,!1,null,"4950063a",null),ra=ia.exports;p()(ia,{VAlert:ze.Z,VBtn:m.Z,VCard:Ue.Z,VCardText:We.ZB,VCardTitle:We.EB,VCol:v.Z,VContainer:h.Z,VDataTable:Ne.Z,VDatePicker:aa.Z,VDialog:Ke.Z,VProgressLinear:sa.Z,VRow:f.Z,VSelect:Se.Z,VSpacer:H.Z,VStepper:Xe.Z,VStepperContent:Je.Z,VStepperStep:et.Z,VSubheader:M.Z,VTextField:it.Z});var oa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}}),a("p",{staticClass:"text-center"},[a("v-btn",{attrs:{depressed:"",color:"primary",href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"}},[e._v(" Mobile libraries data schema ")])],1)],1)],1)],1)},na=[],la={data(){return{mdText:pt}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},ca=la,da=(0,d.Z)(ca,oa,na,!1,null,"0cbedfdc",null),ua=da.exports;p()(da,{VBtn:m.Z,VContainer:h.Z});var pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Physical visits",subtitle:"Footfall of people into library premises"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}}),a("p",{staticClass:"text-center"},[a("v-btn",{attrs:{depressed:"",color:"primary",href:"https://schema.librarydata.uk/physical-visits",target:"_blank"}},[e._v(" Physical visits data schema ")])],1)],1)],1)],1)},ma=[],va="A physical visit is defined as an individual entering the library premises - for whatever reason. For co-located premises, this may mean counting visits that are not specifically for using library services. Visit counts are often referred to as footfall.\r\n\r\nThe physical visits dataset is a **time-series**. Every time a new release is created it adds new data (e.g. the next months visits).\r\n",ha={data(){return{mdText:va}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},ba=ha,fa=(0,d.Z)(ba,pa,ma,!1,null,"129af6f2",null),ga=fa.exports;p()(fa,{VBtn:m.Z,VContainer:h.Z});var ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}}),a("p",{staticClass:"text-center"},[a("v-btn",{attrs:{depressed:"",color:"primary",href:"https://schema.librarydata.uk/stock-summary",target:"_blank"}},[e._v(" Stock summary data schema ")])],1)],1)],1)],1)},_a=[],xa="An item of stock is any item held by the library that is available to the public, and catalogued in the library management system. This dataset is a summary of the different types of items held by libraries.\r\n\r\nThe stock summary dataset is a **snapshot**. This means that each export is a point in time representation of the data.\r\n",ka={data(){return{mdText:xa}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},wa=ka,Ca=(0,d.Z)(wa,ya,_a,!1,null,"e0e75f70",null),Aa=Ca.exports;p()(Ca,{VBtn:m.Z,VContainer:h.Z});var Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Privacy policy",subtitle:"How your data and privacy is protected"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1)],1)},ja=[],Za="These pages were created by Dave at [Libraries Hacked](https://www.librarieshacked.org). You can [contact me via email](mailto:info@librarieshacked.org) should you have any questions.\r\n\r\n## GitHub pages\r\n\r\nThis site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include information such as your IP address.\r\n\r\nGitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to logged-in services within GitHub, but there is a reference to GitHub pages sites in this policy. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.\r\n\r\n> “Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.”\r\n\r\n## Cookies\r\n\r\nCookies are files saved on your phone, tablet or computer when you visit a website.\r\n\r\nThis site does not save any cookies onto your computer.\r\n\r\n## Tracking and analytics\r\n\r\nThere are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.\r\n",Sa={data(){return{mdText:Za}},methods:{},components:{"custom-header":N,VueMarkdownPlus:Q()}},La=Sa,Ea=(0,d.Z)(La,Va,ja,!1,null,"410bf464",null),Ia=Ea.exports;p()(Ea,{VContainer:h.Z});var Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{outlined:"",loading:e.loading,"max-width":"350"}},[a("template",{slot:"progress"},[a("v-progress-linear",{attrs:{height:"5",indeterminate:""}})],1),a("v-card-title",[e._v("Access")]),e.success?e._e():a("v-card-text",[a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{clearable:"",dense:"",outlined:"",rules:e.emailRules,label:"Enter email address",type:"email","prepend-inner-icon":"mdi-email",color:"primary",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("p",[e._v(e._s(e.message))])],1)],1),e.success?a("v-card-text",[e._v(" Thank you - you should receive an email shortly. ")]):e._e(),e.success?e._e():a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{large:"",color:"primary",text:"",disabled:!e.valid},on:{click:e.login}},[e._v(" Log in "),a("v-icon",{attrs:{right:""}},[e._v("mdi-login")])],1)],1)],2)],1)],1)],1)},Oa=[],Ha="You can browse this site, which will get you access to various library datasets, as well as being able to use the tools to build and visualise library data.\r\n\r\nTo publish updates to existing data, you will need to login. Access is granted on an organisation basis. If your organisation has access you will be able to login to the site using an email address of that organisation. For example, **info@librarieshacked.org** has access to the site on the basis of **librarieshacked.org** email addresses being authorised.\r\n\r\nWhen you enter a valid email address you will be emailed an access link.\r\n";const Ma=a(6795);async function Ba(e){try{const t=await Oe().post(Ma.authenticate_path,{email:e,website:Ma.authenticate_website});if(t&&200===t.status)return!0}catch(t){}return!1}var Fa={data(){return{mdText:Ha,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.stripLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await Ba(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},stripLoginKey:function(){const e=window.location.search,t=new URLSearchParams(e),a=t.get("key");a&&(this.$store.commit("setLoginKey",a),this.$router.push("/profile"))}},components:{"custom-header":N,VueMarkdownPlus:Q()}},Da=Fa,Pa=a(6232),Ya=(0,d.Z)(Da,Ta,Oa,!1,null,"b2479d02",null),Ra=Ya.exports;p()(Ya,{VBtn:m.Z,VCard:Ue.Z,VCardActions:We.h7,VCardText:We.ZB,VCardTitle:We.EB,VContainer:h.Z,VForm:Pa.Z,VIcon:b.Z,VProgressLinear:sa.Z,VSpacer:H.Z,VTextField:it.Z});var za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("custom-header",{attrs:{title:"Profile",subtitle:"See access and profile information"}}),a("section",[a("v-container",[a("vue-markdown-plus",{attrs:{source:e.mdText}})],1)],1),a("section",[a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{outlined:"","max-width":"350"}},[this.$store.state.loginKey?a("v-subheader",[e._v("Logged in. Session expires "+e._s(this.$store.state.loginExpires.toLocaleString()))]):e._e(),a("v-divider"),a("v-card-text",[this.$store.state.loginKey?e._e():a("v-subheader",[e._v("Not logged in")]),a("p",{staticClass:"text-h5"},[e._v(" "+e._s(this.$store.state.loginSubject)+" ")]),this.$store.state.loginAdmin?a("p",[a("v-chip",{attrs:{color:"primary"}},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-shield-crown-outline ")]),e._v(" Admin ")],1)],1):e._e(),e._l(this.$store.state.loginCodes,(function(t){return a("v-chip",{key:"chip_"+t,staticClass:"mr-1"},[a("v-icon",{attrs:{left:""}},[e._v("mdi-map-legend")]),e._v(" "+e._s(e.library_services.length>0?e.library_services.filter((function(e){return e.code===t}))[0].nice_name:t))],1)}))],2),e.success?e._e():a("v-card-actions",[a("v-spacer"),this.$store.state.loginKey?a("v-btn",{attrs:{large:"",color:"primary",text:""},on:{click:e.logout}},[e._v(" Log out "),a("v-icon",{attrs:{right:""}},[e._v("mdi-logout")])],1):e._e(),this.$store.state.loginKey?e._e():a("v-btn",{attrs:{large:"",color:"primary",text:"",to:"/login"}},[e._v(" Log in "),a("v-icon",{attrs:{right:""}},[e._v("mdi-login")])],1)],1)],1)],1)],1)],1)},Ua=[],Wa="If logged in this page will display details of your account.";const Ga=a(5830);var Na={data(){return{mdText:Wa,subject:"",expires:"",admin:!1,library_services:[]}},methods:{logout(){this.$store.dispatch("logout")},async getServices(){let e=await Ga.getLibraryAuthorities();e=e.sort(((e,t)=>e.name.localeCompare(t.name))),this.$store.commit("setServices",e),this.library_services=e}},beforeMount(){this.getServices()},components:{"custom-header":N,VueMarkdownPlus:Q()}},Ka=Na,qa=(0,d.Z)(Ka,za,Ua,!1,null,"a32e850e",null),Qa=qa.exports;p()(qa,{VBtn:m.Z,VCard:Ue.Z,VCardActions:We.h7,VCardText:We.ZB,VChip:Ge.Z,VContainer:h.Z,VDivider:A.Z,VIcon:b.Z,VSpacer:H.Z,VSubheader:M.Z}),s.Z.use(D.Z);var Xa=new D.Z({mode:"history",base:"/",routes:[{path:"/",name:"Home",component:ve},{path:"/about",name:"About",component:ne},{path:"/events",name:"Events",component:xe},{path:"/libraries",name:"Libraries",component:ct},{path:"/loans",name:"Loans",component:bt},{path:"/membership",name:"Membership",component:kt},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:ra},{path:"/membership-map",name:"Membership map",component:Rt},{path:"/mobile-library-stops",name:"Mobile library stops",component:ua},{path:"/physical-visits",name:"Physical visits",component:ga},{path:"/stock-summary",name:"Stock summary",component:Aa},{path:"/privacy",name:"Privacy",component:Ia},{path:"/accessibility",name:"Accessibility",component:ee},{path:"/login",name:"Login",component:Ra},{path:"/profile",name:"Profile",component:Qa}]}),Ja=a(9132);s.Z.use(Ja.Z);var $a=new Ja.Z({theme:{dark:!1}}),es=a(629),ts=a(6915);s.Z.use(es.ZP);const as=new es.ZP.Store({state:{loginKey:null,loginSubject:null,loginIssuer:null,loginExpires:null,loginAdmin:!1,loginCodes:[],library_services:[]},mutations:{initialiseStore(e){if(localStorage.getItem("loginKey")){e.loginKey=localStorage.getItem("loginKey");const t=ts.t5(e.loginKey);e.loginSubject=t.sub,e.loginIssuer=t.iss,e.loginExpires=new Date(1e3*t.exp),e.loginAdmin=t.admin,e.loginCodes=t.codes}},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t;const a=ts.t5(e.loginKey);e.loginSubject=a.sub,e.loginIssuer=a.iss,e.loginExpires=new Date(1e3*a.exp),e.loginAdmin=a.admin,e.loginCodes=a.codes},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null,e.loginSubject=null,e.loginIssuer=null,e.loginExpires=null,e.loginAdmin=null,e.loginCodes=[]},setServices(e,t){e.library_services=t}},actions:{logout({commit:e}){e("logout")}}});var ss=as;s.Z.config.productionTip=!1,new s.Z({store:ss,beforeCreate(){this.$store.commit("initialiseStore")},router:Xa,vuetify:$a,render:e=>e(F)}).$mount("#app")},6949:function(e){"use strict";e.exports="data:image/png;base64,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"},6795:function(e){"use strict";e.exports=JSON.parse('{"postcode_api":"https://api-geography.azurewebsites.net/rest/postcodes/","schema_path":"https://raw.githubusercontent.com/LibrariesHacked/schema-librarydata/master/archive/","lsoa_tiles":"https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt","libraries_tiles":"https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt","authorities_path":"https://api-geography.librarydata.uk/rest/libraryAuthorities","authenticate_path":"https://api.librarydata.uk/authenticate","authenticate_website":"create.librarydata.uk","schema_url":"https://api.librarydata.uk/schemas/","schemas":{"membership":{"name":"Membership","version":"0.3.0"},"libraries":{"name":"Library locations","version":"0.3.0"}}}')}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,r){if(!s){var o=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],r=e[d][2];for(var n=!0,l=0;l<s.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(n=!1,r<o&&(o=r));if(n){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[s,i,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var r=Object.create(null);a.r(r);var o={};e=e||[null,t({}),t([]),t(t)];for(var n=2&i&&s;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){o[e]=function(){return s[e]}}));return o["default"]=function(){return s},a.d(r,o),r}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".196151cf.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="create-librarydata:";a.l=function(s,i,r,o){if(e[s])e[s].push(i);else{var n,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+r){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+r),n.src=s),e[s]=[i];var p=function(t,a){n.onerror=n.onload=null,clearTimeout(m);var i=e[s];if(delete e[s],n.parentNode&&n.parentNode.removeChild(n),i&&i.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={143:0};a.f.j=function(t,s){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var r=new Promise((function(a,s){i=e[t]=[a,s]}));s.push(i[2]=r);var o=a.p+a.u(t),n=new Error,l=function(s){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",n.name="ChunkLoadError",n.type=r,n.request=o,i[1](n)}};a.l(o,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,r,o=s[0],n=s[1],l=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in n)a.o(n,i)&&(a.m[i]=n[i]);if(l)var d=l(a)}for(t&&t(s);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},s=self["webpackChunkcreate_librarydata"]=self["webpackChunkcreate_librarydata"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(994)}));s=a.O(s)})();
//# sourceMappingURL=app.38705254.js.map