(function(t){function e(e){for(var s,r,i=e[0],c=e[1],l=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&m.push(a[r][0]),a[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],s=!0,i=1;i<o.length;i++){var c=o[i];0!==a[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=o[0]))}return t}var s={},a={app:0},n=[];function r(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=s,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(o,s,function(e){return t[e]}.bind(null,s));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"452c":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e623"),o("e379"),o("5dc8"),o("37e1");var s=o("2b0e"),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},n=[],r=(o("5c0b"),o("b0a0"),o("2877")),i={},c=Object(r["a"])(i,a,n,!1,null,null,null),l=c.exports,u=o("289d"),d=o("8c4f"),m=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("custom-header",{attrs:{title:"Create",subtitle:"Tools for creating with library data."}}),o("custom-footer")],1)},p=[],f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("footer",{staticClass:"footer"},[o("div",{staticClass:"content container"},[o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[t._m(0),t._m(1),o("p",{staticClass:"control"},[o("a",{staticClass:"button",attrs:{href:"https://github.com/librarieshacked/create-librarydata",target:"_blank"}},[o("b-icon",{attrs:{icon:"github-circle"}}),o("span",[t._v("GitHub")])],1)]),o("p")]),o("div",{staticClass:"column"},[o("router-link",{staticClass:"navbar-item has-text-weight-semibold",attrs:{to:"/",exact:""}},[t._v(" Home ")]),o("router-link",{staticClass:"navbar-item has-text-weight-semibold",attrs:{to:"/privacy"}},[t._v(" Privacy ")]),o("router-link",{staticClass:"navbar-item has-text-weight-semibold",attrs:{to:"/accessibility"}},[t._v(" Accessibility ")])],1)])])])},v=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[t._v(" Developed and maintained by "),o("a",{attrs:{href:"https://www.librarieshacked.org",target:"_blank"}},[t._v("Libraries Hacked")]),t._v(". ")])},function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("p",[o("small",[o("strong",[t._v("Create")]),t._v(" is open source and licensed under the "),o("a",{attrs:{href:"http://opensource.org/licenses/mit-license.php",target:"_blank"}},[t._v("MIT Licence")]),t._v(".")])])}],h={data:function(){return{}},methods:{}},b=h,_=Object(r["a"])(b,f,v,!1,null,null,null),C=_.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"hero is-light"},[o("div",{staticClass:"hero-body"},[o("div",{staticClass:"container"},[o("h1",{staticClass:"title"},[t._v(t._s(t.title))]),o("h2",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))])])])])},g=[],w={data:function(){return{}},methods:{},props:["title","subtitle"]},O=w,k=Object(r["a"])(O,y,g,!1,null,null,null),x=k.exports,S={data:function(){return{}},methods:{},components:{"custom-footer":C,"custom-header":x}},j=S,E=Object(r["a"])(j,m,p,!1,null,null,null),P=E.exports,$=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("custom-header",{attrs:{title:"Convert",subtitle:"Get data to look the way you want it to."}}),o("div",{staticClass:"container"},[o("p",[o("router-link",{attrs:{to:"/postcode-to-lsoa"}},[t._v("Postcode to LSOA")]),t._v(" | "),o("router-link",{attrs:{to:"/date-format"}},[t._v("Format dates")])],1)]),o("custom-footer")],1)},L=[],A={data:function(){return{}},methods:{},components:{"custom-footer":C,"custom-header":x}},F=A,z=Object(r["a"])(F,$,L,!1,null,null,null),T=z.exports,M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("custom-header",{attrs:{title:"Postcode to LSOAs",subtitle:"Convert data with postcodes in to use lower super output areas."}}),o("div",{staticClass:"container"},[o("br"),t._m(0),o("hr"),o("b-steps",{attrs:{size:"is-medium",type:"is-light","has-navigation":!1,animated:!0},model:{value:t.active_step,callback:function(e){t.active_step=e},expression:"active_step"}},[o("b-step-item",{attrs:{label:"Choose File",icon:"cloud-upload"}},[o("hr"),o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[o("file-upload",{attrs:{file:t.file},on:{"upload-file":function(e){t.file=e},"delete-file":function(e){t.file=null}}}),o("br"),o("b-button",{attrs:{size:"is-medium","icon-right":"chevron-right",disabled:null===t.file},on:{click:t.confirmFile}},[t._v(" Next ")])],1),o("div",{staticClass:"column"},[o("b-message",[t._v(" You will need to upload a CSV (comma separated values) file. One of the columns in this file should be UK postcodes. ")])],1)])]),o("b-step-item",{attrs:{label:"Options",icon:"settings"}},[o("hr"),o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[o("b-field",{attrs:{label:"Select postcode column"}},[o("b-select",{attrs:{size:"is-medium",placeholder:"Select column"},model:{value:t.postcode_column,callback:function(e){t.postcode_column=e},expression:"postcode_column"}},t._l(t.columns,(function(e){return o("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)],1),o("br"),o("b-button",{attrs:{size:"is-medium","icon-right":"chevron-right",disabled:""===t.postcode_column},on:{click:t.confirmOptions}},[t._v(" Convert ")])],1),o("div",{staticClass:"column"},[o("b-message",[t._v(" Choose the column in your file that contains postcodes. These will be converted to LSOAs. ")])],1)])]),o("b-step-item",{attrs:{label:"Download",icon:"cloud-download"}},[o("hr"),o("div",{staticClass:"columns"},[o("div",{staticClass:"column"},[o("b-table",{attrs:{data:t.summary_data,columns:t.summary_columns,striped:!0}}),o("b-button",{attrs:{size:"is-medium","icon-right":"download"},on:{click:t.downloadConvertedFile}},[t._v(" Download converted file ")])],1),o("div",{staticClass:"column"},[o("b-message",[t._v(" Choose the column in your file that contains postcodes. These will be converted to LSOAs. ")])],1)])])],1)],1),o("custom-footer")],1)},U=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",{staticClass:"breadcrumb has-arrow-separator",attrs:{"aria-label":"breadcrumbs"}},[o("ul",[o("li",[o("a",{attrs:{href:"/"}},[t._v("Home")])]),o("li",[o("a",{attrs:{href:"/convert"}},[t._v("Convert")])]),o("li",{staticClass:"is-active"},[o("a",{attrs:{href:"#","aria-current":"page"}},[t._v("Postcode to LSOAs")])])])])}],D=(o("4de4"),o("c975"),o("d81d"),o("d3b7"),o("ac1f"),o("3ca3"),o("5319"),o("159b"),o("ddb0"),o("2b3d"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",[o("b-field",[o("b-upload",{attrs:{type:"is-light",accept:".csv","drag-drop":""},on:{input:function(e){return t.$emit("upload-file",e)}}},[o("section",{staticClass:"section"},[o("div",{staticClass:"content has-text-centered"},[o("p",[o("b-icon",{attrs:{icon:"upload",size:"is-medium"}})],1),o("p",[t._v("Drop your CSV file here or click to add")])])])])],1),o("div",{staticClass:"tags"},[t.file?o("span",{staticClass:"tag is-medium"},[t._v(" "+t._s(t.file.name)+" "),o("button",{staticClass:"delete is-medium",attrs:{type:"button"},on:{click:function(e){return t.$emit("delete-file")}}})]):t._e()])],1)}),H=[],B={props:["file"],data:function(){return{}},methods:{}},J=B,G=Object(r["a"])(J,D,H,!1,null,null,null),N=G.exports,R=o("369b");o("b64b"),o("6062"),o("466d"),o("498a"),o("2909"),o("bc3a"),o("9843");function V(t,e){var o=this.extractPostcodeSectors(t),s={};this.getLsoasFromPostcodeSectors(o,(function(t){Object.keys(t).forEach((function(e){t[e].forEach((function(t){s[t.replace(/\s/g,"")]=e.trim()}))})),e(s)}))}var I={data:function(){return{active_step:0,columns:[],file:null,postcode_column:"",csv_data:[],summary_data:[{converted:0,unknown:0}],summary_columns:[{field:"converted",label:"Converted"},{field:"unknown",label:"Unmatched"}]}},methods:{confirmFile:function(){if(null!==this.file){var t=this;R["parse"](t.file,{skipEmptyLines:!0,complete:function(e){t.columns=e.data[0],t.csv_data=e.data,t.active_step=1}})}},confirmOptions:function(){var t=this;this.summary_data[0].converted=0,this.summary_data[0].unknown=0;var e=this.columns.indexOf(this.postcode_column),o=this,s=this.csv_data.map((function(o){var s=o[e];if(s!==t.postcode_column)return o[e]})).filter((function(t){return null!=t}));V(s,(function(s){o.csv_data.forEach((function(a){var n=a[e];n===o.postcode_column?a[e]="LSOA":n&&""!==n&&s[n.replace(/\s/g,"")]?(a[e]=s[n.replace(/\s/g,"")],t.summary_data[0].converted++):(a[e]="Unknown",t.summary_data[0].unknown++)})),o.active_step=2}))},downloadConvertedFile:function(){var t=new Blob([R["unparse"](this.csv_data)],{type:"text/csv;charset=utf-8;"}),e="output.csv";if(navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{var o=document.createElement("a");o.href=window.URL.createObjectURL(t),o.setAttribute("download",e),document.body.appendChild(o),o.click(),document.body.removeChild(o)}}},components:{"custom-footer":C,"file-upload":N,"custom-header":x}},K=I,Y=Object(r["a"])(K,M,U,!1,null,null,null),q=Y.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("custom-header",{attrs:{title:"Format dates",subtitle:"Ensure your dates are formatted consistently"}}),o("custom-footer")],1)},W=[],X={data:function(){return{}},methods:{},components:{"custom-footer":C}},Z=X,tt=Object(r["a"])(Z,Q,W,!1,null,null,null),et=tt.exports;s["a"].use(d["a"]);var ot=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:P},{path:"/convert",name:"convert",component:T},{path:"/postcode-to-lsoa",name:"postcode-to-lsoa",component:q},{path:"/date-format",name:"date-format",components:et}]});s["a"].config.productionTip=!1,s["a"].use(u["a"]),new s["a"]({router:ot,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,o){"use strict";var s=o("9c0c"),a=o.n(s);a.a},9843:function(t){t.exports=JSON.parse('{"postcode_api":"https://api-geography.azurewebsites.net/rest/postcodes/"}')},"9c0c":function(t,e,o){},b0a0:function(t,e,o){"use strict";var s=o("452c"),a=o.n(s);a.a}});
//# sourceMappingURL=app.54365944.js.map