(function(t){function e(e){for(var a,i,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},o={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"3a31":function(t,e,s){"use strict";var a=s("730e"),o=s.n(a);o.a},"452c":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e623"),s("e379"),s("5dc8"),s("37e1");var a=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],i=(s("5c0b"),s("b0a0"),s("2877")),r={},c=Object(i["a"])(r,o,n,!1,null,null,null),l=c.exports,u=s("289d"),d=s("8c4f"),p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("custom-header",{attrs:{title:"Create.",subtitle:"Tools for building and sharing library data"}}),s("section",{staticClass:"hero"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"columns"},[s("router-link",{staticClass:"page-feature convert column has-text-centered",attrs:{to:"/convert"}},[s("b-icon",{attrs:{icon:"rotate-right-variant",size:"is-large"}}),s("p",{staticClass:"title is-4"},[s("strong",[t._v("Convert")])]),s("p",{staticClass:"subtitle"},[t._v(" Get it into the right format ")])],1),s("router-link",{staticClass:"page-feature validate column has-text-centered",attrs:{to:"/validate"}},[s("b-icon",{attrs:{icon:"progress-check",size:"is-large"}}),s("p",{staticClass:"title is-4"},[s("strong",[t._v("Validate")])]),s("p",{staticClass:"subtitle"},[t._v("Make sure it is to a standard")])],1),s("router-link",{staticClass:"page-feature publish column has-text-centered",attrs:{to:"/publish"}},[s("b-icon",{attrs:{icon:"publish",size:"is-large"}}),s("p",{staticClass:"title is-4"},[s("strong",[t._v("Publish")])]),s("p",{staticClass:"subtitle"},[t._v("Make it available so it can be used")])],1),s("router-link",{staticClass:"page-feature maintain column has-text-centered",attrs:{to:"/maintain"}},[s("b-icon",{attrs:{icon:"sync",size:"is-large"}}),s("p",{staticClass:"title is-4"},[s("strong",[t._v("Maintain")])]),s("p",{staticClass:"subtitle"},[t._v("Keep it correct and up to date")])],1)],1)])])]),s("custom-footer")],1)},m=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",{staticClass:"footer"},[s("div",{staticClass:"content container"},[s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[t._m(0),t._m(1),s("p",{staticClass:"control"},[s("a",{staticClass:"button",attrs:{href:"https://github.com/librarieshacked/create-librarydata",target:"_blank"}},[s("b-icon",{attrs:{icon:"github-circle"}}),s("span",[t._v("GitHub")])],1)]),s("p")]),s("div",{staticClass:"column"},[s("router-link",{staticClass:"navbar-item has-text-weight-semibold",attrs:{to:"/",exact:""}},[t._v(" Home ")])],1)])])])},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v(" Developed and maintained by "),s("a",{attrs:{href:"https://www.librarieshacked.org",target:"_blank"}},[t._v("Libraries Hacked")]),t._v(". ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("small",[s("strong",[t._v("Create")]),t._v(" is open source and licensed under the "),s("a",{attrs:{href:"http://opensource.org/licenses/mit-license.php",target:"_blank"}},[t._v("MIT Licence")]),t._v(".")])])}],h={data:function(){return{}},methods:{}},b=h,_=(s("7c94"),Object(i["a"])(b,v,f,!1,null,"472ea484",null)),g=_.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"hero is-light"},[s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("h1",{staticClass:"title has-text-danger"},[t._v(t._s(t.title))]),s("h2",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))])])])])},y=[],w={data:function(){return{}},methods:{},props:["title","subtitle"]},k=w,O=Object(i["a"])(k,C,y,!1,null,null,null),x=O.exports,S={data:function(){return{}},methods:{},components:{"custom-footer":g,"custom-header":x}},j=S,E=(s("cccb"),Object(i["a"])(j,p,m,!1,null,null,null)),P=E.exports,$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("custom-header",{attrs:{title:"Convert",subtitle:"Get data into the right format"}}),s("div",{staticClass:"container"},[s("p",[s("router-link",{attrs:{to:"/postcode-to-lsoa"}},[t._v("Postcode to LSOA")]),t._v(" | "),s("router-link",{attrs:{to:"/date-format"}},[t._v("Format dates")])],1)]),s("custom-footer")],1)},L=[],z={data:function(){return{}},methods:{},components:{"custom-footer":g,"custom-header":x}},F=z,T=Object(i["a"])(F,$,L,!1,null,null,null),M=T.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("custom-header",{attrs:{title:"Postcode to LSOA",subtitle:"Convert data containing postcodes to use lower super output areas"}}),s("div",{staticClass:"container"},[s("br"),t._m(0),s("hr"),s("b-steps",{attrs:{size:"is-medium",type:"is-info","has-navigation":!1,animated:!0},model:{value:t.active_step,callback:function(e){t.active_step=e},expression:"active_step"}},[s("b-step-item",{attrs:{label:"File",icon:"cloud-upload"}},[s("hr"),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("file-upload",{attrs:{file:t.file},on:{"upload-file":function(e){t.file=e},"delete-file":function(e){t.file=null}}}),s("br"),s("b-button",{attrs:{"icon-right":"chevron-right",disabled:null===t.file,rounded:!0},on:{click:t.confirmFile}},[t._v(" Next ")])],1),s("div",{staticClass:"column"},[s("b-message",{staticClass:"content",attrs:{type:"is-info"}},[s("p",[s("b",[t._v("File tips")])]),s("p",[t._v(" Select the file containing your data. ")]),s("ol",[s("li",[t._v("The first row of the file should be column headings")]),s("li",[t._v("One column should contain UK postcodes.")])]),s("p",[t._v(" In the next step you can choose which column contains postcodes. ")])]),s("b-message",{staticClass:"content",attrs:{type:"is-warning"}},[s("p",[s("b",[t._v("No CSV?")])]),s("p",[t._v(" If you have a sheet that isn't a CSV file you'll need to use software to save as a CSV first. ")])])],1)])]),s("b-step-item",{attrs:{label:"Options",icon:"settings"}},[s("hr"),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("b-field",{attrs:{label:"Select postcode column"}},[s("b-select",{attrs:{size:"is-medium",placeholder:"Select column"},model:{value:t.postcode_column,callback:function(e){t.postcode_column=e},expression:"postcode_column"}},t._l(t.columns,(function(e){return s("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])})),0)],1),s("br"),s("b-button",{attrs:{"icon-right":"chevron-right",disabled:""===t.postcode_column,rounded:!0},on:{click:t.confirmOptions}},[t._v(" Convert ")])],1),s("div",{staticClass:"column"},[s("b-message",{staticClass:"content",attrs:{type:"is-info"}},[s("p",[s("b",[t._v("Choose postcode column")])]),s("p",[t._v(" The list should display the columns in your data. ")]),s("ol",[s("li",[t._v("Select the correct column")]),s("li",[t._v(" When ready select the "),s("strong",[t._v("Convert")]),t._v(" option to continue ")])]),s("p",[t._v(" Depending on the size of your file, the process may take a number of minutes. ")])])],1)])]),s("b-step-item",{attrs:{label:"Download",icon:"cloud-download"}},[s("hr"),s("div",{staticClass:"columns"},[s("div",{staticClass:"column"},[s("h3",{staticClass:"content title is-4"},[t._v("Finished conversion")]),s("b-table",{staticClass:"summary-table",attrs:{data:t.summary_data,columns:t.summary_columns}}),s("br"),s("b-button",{attrs:{type:"is-primary","icon-right":"download",rounded:!0},on:{click:t.downloadConvertedFile}},[t._v(" Download ")])],1),s("div",{staticClass:"column"},[s("b-message",{staticClass:"content",attrs:{type:"is-info"}},[s("p",[s("b",[t._v("Results")])]),s("p",[t._v(" The converted file will have the following changes. ")]),s("ul",[s("li",[t._v(" The column header will be changed to "),s("strong",[t._v("LSOA")]),t._v(". ")]),s("li",[t._v(" Postcodes will be changed to the LSOA they're located in. ")]),s("li",[t._v(" Out of date postcodes will be changed to "),s("strong",[t._v("Terminated")]),t._v(". ")]),s("li",[t._v(" Invalid postcodes will be changed to "),s("strong",[t._v("Unknown")])])])])],1)])])],1)],1),s("b-loading",{attrs:{"is-full-page":!0,active:t.loading,"can-cancel":!1},on:{"update:active":function(e){t.loading=e}}},[s("b-icon",{attrs:{pack:"fas",icon:"sync-alt",size:"is-large","custom-class":"fa-spin"}})],1),s("custom-footer")],1)},D=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("nav",{staticClass:"breadcrumb has-arrow-separator",attrs:{"aria-label":"breadcrumbs"}},[s("ul",[s("li",[s("a",{attrs:{href:"/"}},[t._v("Home")])]),s("li",[s("a",{attrs:{href:"/convert"}},[t._v("Convert")])]),s("li",{staticClass:"is-active"},[s("a",{attrs:{href:"#","aria-current":"page"}},[t._v("Postcode to LSOA")])])])])}],I=(s("4de4"),s("c975"),s("d81d"),s("d3b7"),s("ac1f"),s("3ca3"),s("5319"),s("159b"),s("ddb0"),s("2b3d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("b-field",{attrs:{label:"Choose file from your computer"}},[s("b-upload",{attrs:{type:"is-light",accept:".csv","drag-drop":""},on:{input:function(e){return t.$emit("upload-file",e)}}},[s("section",{staticClass:"section"},[s("div",{staticClass:"content has-text-centered"},[s("p",[s("b-icon",{attrs:{icon:"upload",size:"is-medium"}})],1),s("p",[t._v("Drop your CSV file here or click to add")])])])])],1),s("div",{staticClass:"tags"},[t.file?s("span",{staticClass:"tag is-medium is-info"},[t._v(" "+t._s(t.file.name)+" "),s("button",{staticClass:"delete is-medium",attrs:{type:"button"},on:{click:function(e){return t.$emit("delete-file")}}})]):t._e()])],1)}),U=[],V={props:["file"],data:function(){return{}},methods:{}},H=V,B=Object(i["a"])(H,I,U,!1,null,null,null),G=B.exports,J=s("369b");s("b64b"),s("6062"),s("466d"),s("498a"),s("2909"),s("bc3a"),s("9843");function N(t,e){var s=this.extractPostcodeSectors(t),a={};this.getLsoasFromPostcodeSectors(s,(function(t){Object.keys(t).forEach((function(e){t[e].forEach((function(t){a[t.replace(/\s/g,"")]=e.trim()}))})),e(a)}))}var R={data:function(){return{loading:!1,active_step:0,columns:[],file:null,postcode_column:"",csv_data:[],summary_data:[{converted:0,outdated:0,unknown:0}],summary_columns:[{field:"converted",label:"Converted"},{field:"outdated",label:"Outdated"},{field:"unknown",label:"Invalid"}]}},methods:{confirmFile:function(){if(null!==this.file){var t=this;J["parse"](t.file,{skipEmptyLines:!0,complete:function(e){t.columns=e.data[0],t.csv_data=e.data,t.active_step=1}})}},confirmOptions:function(){var t=this;this.loading=!0,this.summary_data[0].converted=0,this.summary_data[0].unknown=0;var e=this.columns.indexOf(this.postcode_column),s=this,a=this.csv_data.map((function(s){var a=s[e];if(a!==t.postcode_column)return s[e]})).filter((function(t){return null!=t}));N(a,(function(a){s.csv_data.forEach((function(o,n){var i=o[e];0===n&&i===s.postcode_column?o[e]="LSOA":i&&""!==i&&a[i.replace(/\s/g,"")]?(o[e]=a[i.replace(/\s/g,"")],t.summary_data[0].converted++):(o[e]="Unknown",t.summary_data[0].unknown++)})),s.active_step=2,t.loading=!1}))},downloadConvertedFile:function(){var t=new Blob([J["unparse"](this.csv_data)],{type:"text/csv;charset=utf-8;"}),e="output.csv";if(navigator.msSaveBlob)navigator.msSaveBlob(t,e);else{var s=document.createElement("a");s.href=window.URL.createObjectURL(t),s.setAttribute("download",e),document.body.appendChild(s),s.click(),document.body.removeChild(s)}}},components:{"custom-footer":g,"file-upload":G,"custom-header":x}},K=R,W=(s("3a31"),Object(i["a"])(K,A,D,!1,null,null,null)),q=W.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("custom-header",{attrs:{title:"Format dates",subtitle:"Ensure your dates are formatted consistently"}}),s("custom-footer")],1)},X=[],Y={data:function(){return{}},methods:{},components:{"custom-footer":g}},Z=Y,tt=Object(i["a"])(Z,Q,X,!1,null,null,null),et=tt.exports;a["a"].use(d["a"]);var st=new d["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:P},{path:"/convert",name:"convert",component:M},{path:"/postcode-to-lsoa",name:"postcode-to-lsoa",component:q},{path:"/date-format",name:"date-format",components:et}]});a["a"].config.productionTip=!1,a["a"].use(u["a"]),new a["a"]({router:st,render:function(t){return t(l)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),o=s.n(a);o.a},"5ced":function(t,e,s){},"730e":function(t,e,s){},"7c94":function(t,e,s){"use strict";var a=s("8799"),o=s.n(a);o.a},8799:function(t,e,s){},9843:function(t){t.exports=JSON.parse('{"postcode_api":"https://api-geography.azurewebsites.net/rest/postcodes/"}')},"9c0c":function(t,e,s){},b0a0:function(t,e,s){"use strict";var a=s("452c"),o=s.n(a);o.a},cccb:function(t,e,s){"use strict";var a=s("5ced"),o=s.n(a);o.a}});
//# sourceMappingURL=app.d7eaa219.js.map