(function(){var e={5358:function(e,t,a){var i={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=5358},4368:function(){const e=e=>{const t=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return t.test(e)};String.prototype.isUrl=e},2153:function(e,t,a){"use strict";a.r(t),a.d(t,{getLibraryAuthorities:function(){return s},getLibraryAuthorityByName:function(){return l},getLibraryAuthoritySystemName:function(){return n}});var i=a(1250);const o=a(8013);async function s(){const e=await i.A.get(o.authorities_path);return e&&e.data?e.data:[]}async function l(e){const t=await i.A.get(o.authorities_path+"/name/"+e);return t&&t.data?t.data:{}}function n(e){return e.replace(/[. ,:-]+/g,"-").toLowerCase()}},3754:function(e,t,a){"use strict";var i=a(3751),o=a(9666),s=a(3633),l=a(560),n=a(641),r=a(33),d=a(3813);const c={class:"text-center text-h2"},u={class:"text-subtitle-1 text-center"};function m(e,t,a,i,o,s){return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.Lk)("h1",c,(0,r.v_)(a.title),1),(0,n.Lk)("p",u,(0,r.v_)(a.subtitle),1)])),_:1})}var h={props:["title","subtitle"]},b=a(6262);const p=(0,b.A)(h,[["render",m]]);var f=p;const g={class:"markdown"};function y(e,t,a,i,o,s){const l=(0,n.g2)("vue-markdown");return(0,n.uX)(),(0,n.CE)("section",g,[(0,n.bF)(l,{source:a.markdownText,options:o.options},null,8,["source","options"])])}var v=a(3890),k={data(){return{options:{html:!0,breaks:!0}}},components:{VueMarkdown:v.A},props:{markdownText:{type:String,required:!0}}};const F=(0,b.A)(k,[["render",y]]);var w=F,x=a(7565),A=a(6136),_=a(697),C=a(3745),j=a(4955),L=a(1720),W=a(1419);const V={key:0},T={key:0},S={key:1};function E(e,t,a,i,o,s){return(0,n.uX)(),(0,n.Wv)(A.J,{variant:"tonal",color:"info"},{default:(0,n.k6)((()=>[(0,n.bF)(_.O,null,{default:(0,n.k6)((()=>[this.$store.state.loginKey?((0,n.uX)(),(0,n.CE)("p",V,[(0,n.eW)(" Logged in as "),(0,n.Lk)("strong",null,(0,r.v_)(this.$store.state.loginSubject),1),this.$store.state.loginAdmin?((0,n.uX)(),(0,n.CE)("span",T,[(0,n.bF)(j.x,{color:"info",class:"mx-2 my-2","prepend-icon":"mdi-shield-crown"},{default:(0,n.k6)((()=>[(0,n.eW)(" Admin ")])),_:1})])):(0,n.Q3)("",!0),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(this.$store.state.loginCodes,(t=>((0,n.uX)(),(0,n.Wv)(j.x,{class:"mr-1",key:"chip_"+t},{default:(0,n.k6)((()=>[(0,n.bF)(W.w,{left:""},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-map-legend")])),_:1}),(0,n.eW)(" "+(0,r.v_)(e.library_services.length>0?e.library_services.filter((e=>e.code===t))[0].nice_name:t),1)])),_:2},1024)))),128))])):(0,n.Q3)("",!0),this.$store.state.loginKey?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("p",S,"You are not logged in"))])),_:1}),this.actions?((0,n.uX)(),(0,n.Wv)(C.S,{key:0},{default:(0,n.k6)((()=>[(0,n.bF)(L.h),this.$store.state.loginKey?((0,n.uX)(),(0,n.Wv)(x.D,{key:0,size:"small",variant:"tonal",color:"info",text:"",onClick:s.logout},{default:(0,n.k6)((()=>[(0,n.eW)(" Log out "),(0,n.bF)(W.w,{right:""},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-logout")])),_:1})])),_:1},8,["onClick"])):(0,n.Q3)("",!0),this.$store.state.loginKey?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(x.D,{key:1,size:"small",variant:"tonal",color:"info",to:"/login"},{default:(0,n.k6)((()=>[(0,n.eW)(" Log in "),(0,n.bF)(W.w,{right:""},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-login")])),_:1})])),_:1}))])),_:1})):(0,n.Q3)("",!0)])),_:1})}const I=a(2153);var D={props:["actions"],data(){return{}},methods:{async getServices(){let e=await I.getLibraryAuthorities();e=e.sort(((e,t)=>e.name.localeCompare(t.name))),this.$store.commit("setServices",e),this.library_services=e},async logout(){this.$store.commit("logout")}},beforeMount(){this.getServices()}};const O=(0,b.A)(D,[["render",E]]);var U=O,B=a(5220);function z(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"About",subtitle:"What the site is and does, and who for"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"])])),_:1})}var H="In 2019 a group of library workers collaborated on a set of [public library data schemas](https://schema.librarydata.uk/). These were designed to help public library services publish open data.\n\nHere is some background information on that project:\n\n- DCMS blog - [Libraries and open data](https://dcmslibraries.blog.gov.uk/2019/09/06/libraries-and-open-data/)\n- DCMS blog - [Open data - an update](https://dcmslibraries.blog.gov.uk/2020/08/03/library-open-data-an-update/)\n- Frictionless Data blog - [Libraries Hacked](https://frictionlessdata.io/blog/2022/02/07/libraries-hacked/#schemas-and-frictionless-data) - a case study of using Table Schema to create a public library data schemas.\n\nThis website is to aid in using those schemas. Including:\n\n- Tools to help libraries create and publish open data\n- Visualisations from the data\n- Data analysis techniques using the data.\n- Data tools to aid in decision-making\n",X={data(){return{mdText:H}},methods:{},components:{}};const M=(0,b.A)(X,[["render",z]]);var Y=M;function R(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"])])),_:1})}var G="We want as many people as possible to be able to use this website. For example, that means you should be able to:\n\n- change colours, contrast levels and fonts\n- zoom in up to 300% without the text spilling off the screen\n- navigate most of the website using just a keyboard\n- navigate most of the website using speech recognition software\n- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)\n\nWe've also made the website text as simple as possible to understand.\n\n[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.\n\n## Technical information about this website's accessibility\n\nThis website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).\n\nThere are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible, we are looking at making sure the information presented by the map is also available in other formats.\n\nIf you do experience any problems using this website, please raise these and [send us an email](mailto:info@librarieshacked.org).\n",P={data(){return{mdText:G}},methods:{},components:{}};const K=(0,b.A)(P,[["render",R]]);var Q=K,q=a(5125);const N={class:"text-center"};function Z(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Events",subtitle:"Library event attendance and outcomes"}),(0,n.Lk)("p",N,[(0,n.bF)(x.D,{variant:"tonal",size:"large",color:"info",href:"https://schema.librarydata.uk/events",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.eW)(" Explore the events data schema ")])),_:1})]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"})])),_:1})}var J="An event is an event facilitated or organised by the library service.\n\nThe events dataset is a **time-series**. Data is maintained by adding new data (e.g. the next months events).\n",$={data(){return{mdText:J}},methods:{},components:{}};const ee=(0,b.A)($,[["render",Z]]);var te=ee;const ae={key:1};function ie(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section"),c=(0,n.g2)("user-profile");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Create",subtitle:"Helping libraries publish and use library open data"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),this.$store.state.loginKey?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(d.I,{key:0,class:"text-center"},{default:(0,n.k6)((()=>[(0,n.bF)(x.D,{"prepend-icon":"mdi-login-variant",variant:"tonal",size:"x-large",color:"success",class:"mx-1 my-1",to:"/login"},{default:(0,n.k6)((()=>[(0,n.eW)(" Log in ")])),_:1})])),_:1})),this.$store.state.loginKey?((0,n.uX)(),(0,n.CE)("div",ae,[(0,n.bF)(c,{actions:!0})])):(0,n.Q3)("",!0)])),_:1})}var oe="We provide tools designed to aid public libraries in publishing and using open data.\n\nInspired by the public library [open data schemas](https://schema.librarydata.uk), each tool is tailored for a different dataset documented in that project.\n",se={data(){return{mdText:oe}},methods:{},components:{}};const le=(0,b.A)(se,[["render",ie]]);var ne=le;const re={class:"text-center"};function de(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Libraries",subtitle:"Public library locations, hours, and contact details"}),(0,n.Lk)("p",re,[(0,n.bF)(x.D,{size:"large","prepend-icon":"mdi-information-outline",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/libraries",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.eW)(" Explore the locations data schema ")])),_:1})]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"})])),_:1})}var ce="A library is a static service point which provides library services for the public.\n\nThe libraries dataset is a **register**. This means that the data needs to be maintained and kept up to date.\n",ue={data(){return{mdText:ce}},methods:{},components:{}};const me=(0,b.A)(ue,[["render",de]]);var he=me,be=a(6756),pe=a(1606),fe=a(9110),ge=a(4036),ye=a(4375),ve=a(5526),ke=a(4179),Fe=a(6238),we=a(8573),xe=a(8715),Ae=a(3948),_e=a(9854),Ce=a(7978),je=a(5056),Le=a(1781);const We=(0,n.Lk)("h2",{class:"text-h5 text-decoration-underline my-3"},"Edit library locations",-1),Ve={class:"text-subtitle"},Te={class:"text-subtitle-2"},Se={class:"d-flex"},Ee=(0,n.Lk)("strong",null,"Publish changes",-1);function Ie(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),c=(0,n.g2)("markdown-section"),u=(0,n.g2)("user-profile"),m=(0,n.g2)("service-select");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Edit library locations",subtitle:"View and edit the data held for public library locations"}),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(c,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(u,{actions:!0}),We,(0,n.bF)(Fe.i,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:(0,n.k6)((()=>[(0,n.bF)(be.l,{icon:"mdi-numeric-1-circle",class:"mb-1",text:"Search for a local authority to view the libraries within that area.",title:"Local authority"}),(0,n.bF)(m,{onSelect:t[0]||(t[0]=e=>s.loadLibraries(e))}),(0,n.bF)(be.l,{class:"mt-8 mb-1",icon:"mdi-numeric-2-circle",text:"Select the edit icon for each library to see and edit full details.\n        Changes are not saved until the next step.",title:"Make changes"}),(0,n.bF)(A.J,{color:"grey-lighten-2",variant:"outlined",elevation:"0"},{default:(0,n.k6)((()=>[(0,n.bF)(fe.Py,{hover:"","items-per-page":"5","no-filter":"","no-data-text":"To load library data ensure you select a local authority in Step 1.",headers:o.headers,items:o.libraries,"sort-by":[{key:"Library_name",order:"asc"}],class:"elevation-0"},{top:(0,n.k6)((()=>[(0,n.bF)(Ce.u,{flat:"",color:"grey-lighten-5"},{default:(0,n.k6)((()=>[(0,n.bF)(L.h),(0,n.bF)(ge.p,{persistent:"",modelValue:o.dialogMainLibrary,"onUpdate:modelValue":t[16]||(t[16]=e=>o.dialogMainLibrary=e),"max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(x.D,(0,n.v6)({disabled:null===o.selectedService},e,{variant:"tonal",color:"success","prepend-icon":"mdi-plus-circle"}),{default:(0,n.k6)((()=>[(0,n.eW)(" Add library ")])),_:2},1040,["disabled"])])),default:(0,n.k6)((()=>[(0,n.bF)(A.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(we.h,{"align-tabs":"center",modelValue:o.editTabs,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editTabs=e)},{default:(0,n.k6)((()=>[(0,n.bF)(xe.U,{value:1},{default:(0,n.k6)((()=>[(0,n.eW)("Details")])),_:1}),(0,n.bF)(xe.U,{value:2},{default:(0,n.k6)((()=>[(0,n.eW)("Address")])),_:1}),(0,n.bF)(xe.U,{value:3},{default:(0,n.k6)((()=>[(0,n.eW)("Hours")])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(je.r3,{modelValue:o.editTabs,"onUpdate:modelValue":t[15]||(t[15]=e=>o.editTabs=e)},{default:(0,n.k6)((()=>[((0,n.uX)(),(0,n.Wv)(Le.m,{key:1,value:1},{default:(0,n.k6)((()=>[(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{variant:"outlined",density:"compact",modelValue:o.editedItem.Library_name,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editedItem.Library_name=e),label:"Name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"8",md:"8"},{default:(0,n.k6)((()=>[(0,n.bF)(ke.d4,{modelValue:o.editedItem.Type_of_library,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editedItem.Type_of_library=e),items:o.libraryTypes,variant:"outlined",density:"compact","item-title":"text","item-value":"value",label:"Type"},null,8,["modelValue","items"])])),_:1}),(0,n.bF)(ve.B,{cols:"12",sm:"4",md:"4"},{default:(0,n.k6)((()=>[(0,n.bF)(ke.d4,{variant:"outlined",density:"compact",modelValue:o.editedItem.Statutory,"onUpdate:modelValue":t[4]||(t[4]=e=>o.editedItem.Statutory=e),"menu-props":{zIndex:1e4},items:["Yes","No"],label:"Statutory"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Year_opened,"onUpdate:modelValue":t[5]||(t[5]=e=>o.editedItem.Year_opened=e),label:"Year opened",type:"number"},null,8,["modelValue"])])),_:1}),(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Year_closed,"onUpdate:modelValue":t[6]||(t[6]=e=>o.editedItem.Year_closed=e),label:"Year closed",type:"number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Email_address,"onUpdate:modelValue":t[7]||(t[7]=e=>o.editedItem.Email_address=e),label:"Email address"},null,8,["modelValue"])])),_:1}),(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.URL,"onUpdate:modelValue":t[8]||(t[8]=e=>o.editedItem.URL=e),label:"Website"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"12",md:"12"},{default:(0,n.k6)((()=>[(0,n.bF)(_e.J,{rows:"2",density:"compact",variant:"outlined",modelValue:o.editedItem.Notes,"onUpdate:modelValue":t[9]||(t[9]=e=>o.editedItem.Notes=e),label:"Notes",clearable:"","persistent-clear":"","full-width":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})),((0,n.uX)(),(0,n.Wv)(Le.m,{key:2,value:2},{default:(0,n.k6)((()=>[(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Address_1,"onUpdate:modelValue":t[10]||(t[10]=e=>o.editedItem.Address_1=e),label:"Address 1"},null,8,["modelValue"])])),_:1}),(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Address_2,"onUpdate:modelValue":t[11]||(t[11]=e=>o.editedItem.Address_2=e),label:"Address 2"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Address_3,"onUpdate:modelValue":t[12]||(t[12]=e=>o.editedItem.Address_3=e),label:"Address 3"},null,8,["modelValue"])])),_:1}),(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Postcode,"onUpdate:modelValue":t[13]||(t[13]=e=>o.editedItem.Postcode=e),label:"Postcode"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"12",md:"12"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{density:"compact",variant:"outlined",modelValue:o.editedItem.Unique_property_reference_number,"onUpdate:modelValue":t[14]||(t[14]=e=>o.editedItem.Unique_property_reference_number=e),label:"Unique property reference number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})),((0,n.uX)(),(0,n.Wv)(Le.m,{key:3,value:3},{default:(0,n.k6)((()=>[(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.openingHourTypes,(e=>((0,n.uX)(),(0,n.Wv)(ve.B,{cols:"12",sm:"6",md:"6",key:e},{default:(0,n.k6)((()=>[(0,n.Lk)("h4",Ve,(0,r.v_)(e),1),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.days,(t=>((0,n.uX)(),(0,n.CE)("div",{key:t,class:"my-1"},[(0,n.bF)(q.G,{class:"my-1"}),(0,n.Lk)("div",Te,[(0,n.bF)(x.D,{variant:"tonal",icon:"mdi-plus-circle",size:"x-small",color:"success",onClick:a=>s.addOpeningHoursEntry(t+"_"+e.toLowerCase()+"_hours")},null,8,["onClick"]),(0,n.eW)(" "+(0,r.v_)(t),1)]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.editedItem[t+"_"+e.toLowerCase()+"_hours"]?o.editedItem[t+"_"+e.toLowerCase()+"_hours"].split(","):"",(a=>((0,n.uX)(),(0,n.Wv)(j.x,{class:"ma-1",size:"small",key:a,label:"",closable:"","close-icon":"mdi-delete",color:"success","onClick:close":i=>s.removeOpeningHoursEntry(t+"_"+e.toLowerCase()+"_hours",a)},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(a),1)])),_:2},1032,["onClick:close"])))),128))])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}))])),_:1},8,["modelValue"])])),_:1}),(0,n.bF)(C.S,null,{default:(0,n.k6)((()=>[(0,n.bF)(L.h),(0,n.bF)(x.D,{variant:"plain",onClick:s.close,"append-icon":"mdi-close-circle"},{default:(0,n.k6)((()=>[(0,n.eW)(" Cancel ")])),_:1},8,["onClick"]),(0,n.bF)(x.D,{variant:"tonal",color:"success",onClick:s.save,"append-icon":"mdi-check-circle"},{default:(0,n.k6)((()=>[(0,n.eW)(" Ok ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(ge.p,{persistent:"","overlay-opacity":"0.1","content-class":"elevation-0",modelValue:o.dialogDelete,"onUpdate:modelValue":t[17]||(t[17]=e=>o.dialogDelete=e),"max-width":"500px"},{default:(0,n.k6)((()=>[(0,n.bF)(A.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(pe.r,null,{default:(0,n.k6)((()=>[(0,n.eW)("Remove library?")])),_:1}),(0,n.bF)(_.O,null,{default:(0,n.k6)((()=>[(0,n.eW)(" This action will remove the library. If the library has closed it should not be removed. The closed year can be entered in the library details to mark it as closed and retain the details. ")])),_:1}),(0,n.bF)(C.S,null,{default:(0,n.k6)((()=>[(0,n.bF)(L.h),(0,n.bF)(x.D,{variant:"plain",onClick:s.closeDelete,"append-icon":"mdi-close-circle"},{default:(0,n.k6)((()=>[(0,n.eW)(" Cancel ")])),_:1},8,["onClick"]),(0,n.bF)(x.D,{variant:"tonal",color:"warning",onClick:s.deleteItemConfirm,"append-icon":"mdi-delete"},{default:(0,n.k6)((()=>[(0,n.eW)(" Remove ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(ge.p,{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0",modelValue:o.dialogOpeningHoursEntry,"onUpdate:modelValue":t[20]||(t[20]=e=>o.dialogOpeningHoursEntry=e),"max-width":"500px"},{default:(0,n.k6)((()=>[(0,n.bF)(A.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(pe.r,null,{default:(0,n.k6)((()=>[(0,n.eW)("Add opening hours")])),_:1}),(0,n.bF)(_.O,null,{default:(0,n.k6)((()=>[(0,n.bF)(ye.L,{dense:""},{default:(0,n.k6)((()=>[(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{variant:"outlined",density:"compact",modelValue:o.openingHoursOpen,"onUpdate:modelValue":t[18]||(t[18]=e=>o.openingHoursOpen=e),label:"Opening time",type:"time"},null,8,["modelValue"])])),_:1}),(0,n.bF)(ve.B,{cols:"12",sm:"6",md:"6"},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{variant:"outlined",density:"compact",modelValue:o.openingHoursClose,"onUpdate:modelValue":t[19]||(t[19]=e=>o.openingHoursClose=e),label:"Closing time",type:"time"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,n.bF)(C.S,null,{default:(0,n.k6)((()=>[(0,n.bF)(L.h),(0,n.bF)(x.D,{variant:"plain",onClick:s.closeOpeningHoursEntry,"append-icon":"mdi-close-circle"},{default:(0,n.k6)((()=>[(0,n.eW)("Cancel")])),_:1},8,["onClick"]),(0,n.bF)(x.D,{variant:"tonal",color:"success",onClick:s.confirmOpeningHoursEntry,disabled:!o.openingHoursOpen||!o.openingHoursClose,"append-icon":"mdi-check-circle"},{default:(0,n.k6)((()=>[(0,n.eW)("Ok")])),_:1},8,["onClick","disabled"]),(0,n.bF)(L.h)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,n.k6)((({item:e})=>[(0,n.Lk)("div",Se,[(0,n.bF)(W.w,{class:"mr-2",onClick:t=>s.editItem(e)},{default:(0,n.k6)((()=>[(0,n.eW)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,n.bF)(W.w,{onClick:t=>s.deleteItem(e)},{default:(0,n.k6)((()=>[(0,n.eW)("mdi-delete")])),_:2},1032,["onClick"])])])),_:2},1032,["headers","items"])])),_:1}),(0,n.bF)(be.l,{class:"mt-8",icon:"mdi-numeric-3-circle",title:"Save changes"},{default:(0,n.k6)((()=>[(0,n.eW)(" If you are logged in with access to edit the library authority data, you can overwrite the existing data by selecting "),Ee,(0,n.eW)(". You can also save a copy of the data to your computer. ")])),_:1}),(0,n.bF)(x.D,{disabled:!o.isEditing,size:"large",variant:"tonal",color:"info","append-icon":"mdi-content-save",onClick:s.download},{default:(0,n.k6)((()=>[(0,n.eW)(" Save local copy ")])),_:1},8,["disabled","onClick"]),(0,n.bF)(x.D,{disabled:!o.isEditing||!this.$store.state.loginKey,size:"large",variant:"tonal",color:"success",class:"ma-2","append-icon":"mdi-cloud-upload",onClick:s.publishChanges},{default:(0,n.k6)((()=>[(0,n.eW)(" Publish changes ")])),_:1},8,["disabled","onClick"]),(0,n.bF)(ge.p,{modelValue:o.successDialog,"onUpdate:modelValue":t[22]||(t[22]=e=>o.successDialog=e),persistent:"","max-width":"290"},{default:(0,n.k6)((()=>[(0,n.bF)(A.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(pe.r,{class:"text-h5"},{default:(0,n.k6)((()=>[(0,n.eW)("Success")])),_:1}),(0,n.bF)(_.O,null,{default:(0,n.k6)((()=>[(0,n.eW)("Your changes have been published. Thank you")])),_:1}),(0,n.bF)(C.S,null,{default:(0,n.k6)((()=>[(0,n.bF)(L.h),(0,n.bF)(x.D,{color:"secondary",text:"",onClick:t[21]||(t[21]=e=>o.successDialog=!1)},{default:(0,n.k6)((()=>[(0,n.eW)(" Close ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(ge.p,{modelValue:o.errorDialog,"onUpdate:modelValue":t[24]||(t[24]=e=>o.errorDialog=e),persistent:"","max-width":"290"},{default:(0,n.k6)((()=>[(0,n.bF)(A.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(pe.r,{class:"text-h5"},{default:(0,n.k6)((()=>[(0,n.eW)("Sorry")])),_:1}),(0,n.bF)(_.O,null,{default:(0,n.k6)((()=>[(0,n.eW)(" Your changes failed to publish - please contact info@librarieshacked.org ")])),_:1}),(0,n.bF)(C.S,null,{default:(0,n.k6)((()=>[(0,n.bF)(L.h),(0,n.bF)(x.D,{color:"secondary",text:"",onClick:t[23]||(t[23]=e=>o.errorDialog=!1)},{default:(0,n.k6)((()=>[(0,n.eW)(" Close ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}a(4114),a(4603),a(7566),a(8721);var De="This tool allows you to view and edit library service points, grouped by local authority. To make changes you must first [Log in](/login). At the end you must **publish changes** to ensure you overwrite the existing data.\n",Oe=a(6681);const Ue=(0,n.Lk)("div",{class:"text-caption pa-3"},"Select local authority",-1);function Be(e,t,a,i,o,s){return(0,n.uX)(),(0,n.Wv)(A.J,{elevation:"0",color:"grey-lighten-5"},{default:(0,n.k6)((()=>[Ue,(0,n.bF)(Oe.V,{"persistent-hint":"","bg-color":"info",density:"compact",class:"elevation-0",clearable:"",items:o.libraryServices,"item-title":"nice_name","item-value":"code",label:"Find a local authority","return-object":"",loading:0===o.libraryServices.length,"prepend-inner-icon":"mdi-domain","onUpdate:modelValue":s.updateSelection,hint:"You can type to search library services."},null,8,["items","loading","onUpdate:modelValue"]),null!=o.selectedService?((0,n.uX)(),(0,n.Wv)(j.x,{key:0,class:"ma-2",closable:"","onClick:close":t[0]||(t[0]=e=>s.deselectService())},{default:(0,n.k6)((()=>[(0,n.eW)((0,r.v_)(o.selectedService.nice_name),1)])),_:1})):(0,n.Q3)("",!0)])),_:1})}const ze=a(2153);var He={data(){return{libraryServices:[],selectedService:null}},created(){this.libraryServices=this.$store.state.libraryServices,0===this.libraryServices.length&&this.getServices()},methods:{deselectService(){this.selectedService=null,this.$emit("select",null)},async getServices(){let e=await ze.getLibraryAuthorities();e=e.sort(((e,t)=>e.nice_name.localeCompare(t.nice_name))),this.$store.commit("setServices",e),this.libraryServices=e},updateSelection(e){this.selectedService=e,this.$emit("select",this.selectedService)}}};const Xe=(0,b.A)(He,[["render",Be]]);var Me=Xe,Ye=a(4809),Re=a(1250);const Ge=(e,t)=>new Promise((a=>{let i=[];Ye.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:e=>{i.push(e.data)},complete:()=>{a(i)}})})),Pe=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},a=await Re.A.get(e,t);return Ge(a.data,!0)},Ke=a(8013),Qe=async(e,t)=>{const a=`${Ke.schema_url}${e}/${t}`,i=await Pe(a);return i},qe=async(e,t,a,i)=>{const o=`${Ke.schema_url}${e}/${t}`,s=await Re.A.put(o,a,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"text/csv"}});return 200===s.status},Ne=a(8013);var Ze={beforeMount(){window.addEventListener("beforeunload",(e=>{this.isEditing&&(e.preventDefault(),e.returnValue="")}))},beforeDestroy(){window.removeEventListener("beforeunload",this.preventNav)},beforeRouteLeave(e,t,a){this.isEditing&&!window.confirm("Leave without saving?")||a()},data(){return{days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["Staffed","Unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,editedIndex:-1,editTabs:1,editedItem:{},defaultItem:{Local_authority:"",Library_name:"",Address_1:"",Address_2:"",Address_3:"",Postcode:"",Unique_property_reference_number:"",Statutory:"",Type_of_library:"LAL",Year_opened:"",Year_closed:"",Monday_staffed_hours:"",Tuesday_staffed_hours:"",Wednesday_staffed_hours:"",Thursday_staffed_hours:"",Friday_staffed_hours:"",Saturday_staffed_hours:"",Sunday_staffed_hours:"",Monday_unstaffed_hours:"",Tuesday_unstaffed_hours:"",Wednesday_unstaffed_hours:"",Thursday_unstaffed_hours:"",Friday_unstaffed_hours:"",Saturday_unstaffed_hours:"",Sunday_unstaffed_hours:"",Special_hours:"",Colocated:"",Colocated_with:"",Notes:"",URL:"",Email_address:""},errorDialog:!1,headers:[{title:"Name",align:"start",key:"Library_name"},{title:"Closed",key:"Year_closed"},{title:"Address 1",align:"start",key:"Address_1"},{title:"Postcode",key:"Postcode"},{title:"Actions",key:"actions",sortable:!1}],isEditing:!1,libraries:[],libraryTypes:Ne.library_types,loadingServiceData:!1,mdText:De,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,selectedService:null,successDialog:!1}},methods:{addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},close(){this.dialogMainLibrary=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem.Local_authority=this.selectedService.name,this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){var e=this.editedItem[this.openingHoursEditKey].split(",").filter((e=>e.length>0));e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1,this.openingHoursOpen=null,this.openingHoursClose=null},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.isEditing=!0,this.libraries.splice(this.editedIndex,1),this.closeDelete()},download(){let e=this.selectedService;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){var a=new Blob([Ye.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,e);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(a),i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i)}},editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},loadLibraries:async function(e){if(this.selectedService=e,this.libraries=[],!e?.code)return;this.loadingServiceData=!0;let t=this;const a=await Qe("libraries",e.code);a.forEach(((e,t)=>{Object.keys(e).forEach((i=>{let o=e[i],s=i.replace(/\s+/g,"_");delete a[t][i],a[t][s]=o}))})),t.libraries=a,this.loadingServiceData=!1},publishChanges:async function(){let e=JSON.parse(JSON.stringify(this.libraries));e.forEach(((t,a)=>{Object.keys(t).forEach((i=>{let o=t[i],s=i.replace(/_/g," ");delete e[a][i],e[a][s]=o}))}));const t=new Blob([Ye.unparse(e)],{type:"text/csv;charset=utf-8;"}),a=await qe("libraries",this.selectedService.code,t,this.$store.state.loginKey);a?this.successDialog=!0:this.errorDialog=!0,this.isEditing=!1},preventNav(e){this.isEditing&&(e.preventDefault(),e.returnValue="")},removeOpeningHoursEntry(e,t){var a=this.editedItem[e].split(",").filter((e=>e.length>0));a.splice(a.indexOf(t),1),this.editedItem[e]=a.join(","),this.dialogOpeningHoursEntry=!1},save(){this.isEditing=!0,this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()}},components:{"service-select":Me}};const Je=(0,b.A)(Ze,[["render",Ie]]);var $e=Je;const et={class:"text-center"};function tt(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Loans",subtitle:"Lending of library items"}),(0,n.Lk)("p",et,[(0,n.bF)(x.D,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/loans",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.eW)(" Explore the loans data schema ")])),_:1})]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"})])),_:1})}var at="A loan is the issuing of an item of stock to a library member. Renewing an item already on loan should be counted as an additional loan.\n\nThe loans dataset is a **time-series**. Data is maintained by adding new data (e.g. the next months loans).\n",it={data(){return{mdText:at}},methods:{},components:{}};const ot=(0,b.A)(it,[["render",tt]]);var st=ot,lt=a(1560),nt=a(4422);function rt(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),c=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}),(0,n.bF)(c,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Lk)("section",null,[(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(A.J,{color:"success",variant:"outlined",elevation:"0",loading:o.loading,"max-width":"350",class:"mx-auto"},{progress:(0,n.k6)((()=>[(0,n.bF)(nt.Z,{height:"5",indeterminate:""})])),default:(0,n.k6)((()=>[(0,n.bF)(pe.r,null,{default:(0,n.k6)((()=>[(0,n.eW)("Access the site")])),_:1}),o.success?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(_.O,{key:0},{default:(0,n.k6)((()=>[(0,n.bF)(lt.n,{ref:"form",modelValue:o.valid,"onUpdate:modelValue":t[1]||(t[1]=e=>o.valid=e)},{default:(0,n.k6)((()=>[(0,n.bF)(Ae.W,{clearable:"",variant:"outlined",modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),rules:o.emailRules,label:"Enter email address",type:"email","prepend-inner-icon":"mdi-email",required:""},null,8,["modelValue","rules"]),(0,n.Lk)("p",null,(0,r.v_)(o.message),1)])),_:1},8,["modelValue"])])),_:1})),o.success?((0,n.uX)(),(0,n.Wv)(_.O,{key:1},{default:(0,n.k6)((()=>[(0,n.eW)(" Thank you - you should receive an email shortly. ")])),_:1})):(0,n.Q3)("",!0),o.success?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.Wv)(C.S,{key:2},{default:(0,n.k6)((()=>[(0,n.bF)(L.h),(0,n.bF)(x.D,{"append-icon":"mdi-email",variant:"tonal",size:"large",color:"success",text:"",onClick:s.login,disabled:!o.valid},{default:(0,n.k6)((()=>[(0,n.eW)(" Log in ")])),_:1},8,["onClick","disabled"])])),_:1}))])),_:1},8,["loading"])])),_:1})])])),_:1})}var dt="Anyone can browse this site, as well use the tools to build and visualise library data.\n\nTo publish updates to existing data, you need to login. If your organisation has access you will be able to login using your organisation email address.\n\nOnce you've entered a valid email address you will be emailed an access link.\n";const ct=a(8013);async function ut(e){try{const t=await Re.A.post(ct.authenticate_path,{email:e,website:ct.authenticate_website});if(t&&200===t.status)return!0}catch(t){return!1}return!1}var mt={data(){return{mdText:dt,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.processLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await ut(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},processLoginKey:function(){const e=(0,B.lq)(),t=e.query.key;t&&(this.$store.commit("setLoginKey",t),this.$router.push("/profile"))}},components:{}};const ht=(0,b.A)(mt,[["render",rt]]);var bt=ht;const pt={class:"text-center"};function ft(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}),(0,n.Lk)("p",pt,[(0,n.bF)(x.D,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/membership",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.eW)(" Explore the membership data schema ")])),_:1})]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"})])),_:1})}var gt="A library member is any member of the public currently registered with the library service.\n\nThe membership dataset is a **snapshot**. This means that each update to the data is a fresh export, representing the membership at that point in time.\n",yt={data(){return{mdText:gt}},methods:{},components:{}};const vt=(0,b.A)(yt,[["render",ft]]);var kt=vt,Ft=a(552),wt=a(1412);const xt=(0,n.Lk)("h2",{class:"text-h5 text-decoration-underline my-3"},"Map library members",-1),At=(0,n.Lk)("strong",null,"Population percentage",-1),_t=(0,n.Lk)("strong",null,"Areas of deprivation",-1);function Ct(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section"),c=(0,n.g2)("file-upload"),u=(0,n.g2)("mgl-fullscreen-control"),m=(0,n.g2)("mgl-navigation-control"),h=(0,n.g2)("mgl-scale-control"),b=(0,n.g2)("mgl-circle-layer"),p=(0,n.g2)("mgl-vector-source"),f=(0,n.g2)("mgl-fill-layer"),g=(0,n.g2)("mgl-symbol-layer"),y=(0,n.g2)("mgl-line-layer"),v=(0,n.g2)("mgl-geo-json-source"),k=(0,n.g2)("mgl-map");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Membership map",subtitle:"Insights from library membership data"}),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),xt,(0,n.bF)(Fe.i,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:(0,n.k6)((()=>[(0,n.bF)(be.l,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:(0,n.k6)((()=>[(0,n.eW)(" This tool loads CSV files in the format of the membership data schema. ")])),_:1}),(0,n.bF)(c,{files:o.lsoaFiles,onChangeFiles:t[0]||(t[0]=e=>o.lsoaFiles=e),onDeleteFile:t[1]||(t[1]=e=>o.lsoaFiles=null)},null,8,["files"]),(0,n.bF)(x.D,{"append-icon":"mdi-map-marker-plus",color:"info",class:"mt-3",variant:"tonal",size:"large",onClick:s.addMembershipData,disabled:0==o.lsoaFiles.length},{default:(0,n.k6)((()=>[(0,n.eW)(" Add to map ")])),_:1},8,["onClick","disabled"]),(0,n.bF)(be.l,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Map"},{default:(0,n.k6)((()=>[At,(0,n.eW)(" shades the map to highlight concentration of membership. When zooming in in also displays the membership population percentage. "),_t,(0,n.eW)(" shades the map to highlight highly deprived areas. Uses the index of multiple deprivation for each area. 1 represents highly deprived areas, 10 the least deprived. ")])),_:1}),(0,n.bF)(wt.$,{modelValue:o.mapDisplay,"onUpdate:modelValue":t[2]||(t[2]=e=>o.mapDisplay=e),onChange:s.setDisplayOptions,inline:""},{default:(0,n.k6)((()=>[(0,n.bF)(Ft.i,{label:"Display population percentage",value:"populationPercentage"}),(0,n.bF)(Ft.i,{label:"Display areas of deprivation",value:"imd"})])),_:1},8,["modelValue","onChange"]),(0,n.bF)(d.I,{class:"map"},{default:(0,n.k6)((()=>[(0,n.bF)(k,{ref:"mglMap",center:o.center,zoom:o.zoom,mapStyle:o.mapStyle},{default:(0,n.k6)((()=>[(0,n.bF)(u),(0,n.bF)(m),(0,n.bF)(h),(0,n.bF)(p,{"source-id":"libraries",tiles:o.librariesSource.tiles},{default:(0,n.k6)((()=>[(0,n.bF)(b,{"source-layer":"libraries","layer-id":"libraries_layer_circles",paint:o.librariesLayerCircle.paint},null,8,["paint"])])),_:1},8,["tiles"]),(0,n.bF)(p,{"source-id":"lsoas",tiles:o.lsoasSource.tiles,promoteId:o.lsoasSource.promoteId},{default:(0,n.k6)((()=>[(0,n.bF)(f,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_fill",paint:o.lsoasLayerFill.paint,filter:o.matchFilter},null,8,["paint","filter"]),(0,n.bF)(g,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_label",paint:o.lsoasLayerLabel.paint,layout:o.lsoasLayerLabel.layout,filter:o.matchFilter,minzoom:o.lsoasLayerLabel.minzoom},null,8,["paint","layout","filter","minzoom"])])),_:1},8,["tiles","promoteId"]),(0,n.bF)(v,{"source-id":"authority",data:o.authoritySource.data},{default:(0,n.k6)((()=>[o.authoritySource.show?((0,n.uX)(),(0,n.Wv)(y,{key:0,"layer-id":"authority-line",paint:o.authorityLayerLine.paint},null,8,["paint"])):(0,n.Q3)("",!0),o.authoritySource.show?((0,n.uX)(),(0,n.Wv)(g,{key:1,"layer-id":"authority-label",layout:o.authorityLayerLabel.layout,paint:o.authorityLayerLabel.paint},null,8,["layout","paint"])):(0,n.Q3)("",!0)])),_:1},8,["data"])])),_:1},8,["center","zoom","mapStyle"])])),_:1})])),_:1})])),_:1})}var jt="This tool displays library membership on a map to help explore areas of low or high membership, alongside other data such as the socioeconomic deprivation of areas.\n\nYou need library membership data in the [membership data schema format](https://schema.librarydata.uk/membership). This can be created using the [postcode to statistical area converter](/postcode-to-lsoa).\n",Lt=(a(4368),a(6382));function Wt(e,t,a,i,o,s){return(0,n.uX)(),(0,n.Wv)(A.J,{elevation:"0",color:"grey-lighten-5"},{default:(0,n.k6)((()=>[(0,n.bF)(Lt.f,{chips:"",accept:"text/csv",counter:"",variant:"outlined","bg-color":"white",multiple:"",label:"Select a file","model-value":a.files,"onUpdate:modelValue":t[0]||(t[0]=e=>s.updateSelection(e)),"prepend-inner-icon":"mdi-file-document","prepend-icon":"",hint:"This file loader only accepts CSV files","persistent-hint":""},null,8,["model-value"])])),_:1})}var Vt={props:["files"],methods:{updateSelection(e){this.$emit("change-files",e)}}};const Tt=(0,b.A)(Vt,[["render",Wt]]);var St=Tt,Et=a(7101),It=a(9272),Dt=a(2153);const Ot=a(8013);var Ut={data(){return{authoritySource:{data:{type:"FeatureCollection",features:[]},show:!1},authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},center:[-2,52],zoom:7,librariesSource:{tiles:[Ot.libraries_tiles]},librariesLayerCircle:{filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoaFiles:[],lsoasSource:{tiles:[Ot.lsoa_tiles],promoteId:{lsoa_boundaries:"code"},show:!1},lsoasLayerFill:{paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},lsoasLayerLabel:{minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Source Sans Pro SemiBold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}},matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",matchFilter:["in",["get","code"],["literal",[]]],mapDisplay:"populationPercentage",mapStyle:"https://zoomstack.librarydata.uk/light.json",minZoom:5,maxZoom:16,matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],mdText:jt}},methods:{addMembershipData:async function(){let e=this;if(e.lsoaFiles[0].name){const a=await Ge(e.lsoaFiles[0],!1);this.setLsoaFields(a.slice(1));const i=await Dt.getLibraryAuthorityByName(a[1][0]),o=JSON.parse(i.geojson);this.authoritySource.data=o,this.authoritySource.show=!0;var t=(0,It.A)(o);this.$refs.mglMap.map.fitBounds(t,{padding:10})}},setDisplayOptions:function(){"populationPercentage"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaPopulation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaPopulation)),"imd"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaDeprivation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaDeprivation))},setLsoaFields:function(e){let t=[],a=["match",["get","code"]],i=["match",["get","code"]];e.forEach((e=>{const o=parseInt(e[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoas",sourceLayer:"lsoa_boundaries",id:e[2]},{members:o}),t.push(e[2]),a.push(e[2]),a.push(["concat",["to-string",["round",["*",["/",o,["to-number",["get","population"]]],100]]],"%"]),i.push(e[2]),i.push(["get","imd"])})),a.push(""),i.push("");let o=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],0,Et.A.OrRd[9][0],5,Et.A.OrRd[9][1],10,Et.A.OrRd[9][2],15,Et.A.OrRd[9][3],20,Et.A.OrRd[9][4],25,Et.A.OrRd[9][5],30,Et.A.OrRd[9][6],35,Et.A.OrRd[9][7],40,Et.A.OrRd[9][8]],s=["interpolate",["linear"],["to-number",["get","imd"]],1,Et.A.OrRd[9][8],2,Et.A.OrRd[9][7],3,Et.A.OrRd[9][6],4,Et.A.OrRd[9][5],5,Et.A.OrRd[9][4],6,Et.A.OrRd[9][3],7,Et.A.OrRd[9][2],8,Et.A.OrRd[9][1],9,Et.A.OrRd[9][0],10,Et.A.OrRd[9][0]],l=["in",["get","code"],["literal",t]];this.matchFilter=l,this.$refs.mglMap.map.setFilter("lsoas_layer_fill",l),this.$refs.mglMap.map.setFilter("lsoas_layer_label",l),this.matchFieldLsoaPopulation=a,this.matchFieldLsoaDeprivation=i,this.matchColourLsoaPopulation=o,this.matchColourLsoaDeprivation=s,this.setDisplayOptions()}},components:{"file-upload":St}};const Bt=(0,b.A)(Ut,[["render",Ct]]);var zt=Bt;const Ht=(0,n.Lk)("h2",{class:"text-h5 text-decoration-underline my-3"},"Convert postcodes",-1),Xt=(0,n.Lk)("strong",null,"Save as",-1),Mt=(0,n.Lk)("strong",null,"Terminated",-1),Yt=(0,n.Lk)("strong",null,"Unknown",-1),Rt=(0,n.Lk)("br",null,null,-1),Gt={key:0},Pt={class:"mb-2"},Kt=(0,n.Lk)("a",{href:"https://schema.librarydata.uk/membership",target:"_blank"},"library membership data",-1),Qt={key:1};function qt(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),c=(0,n.g2)("markdown-section"),u=(0,n.g2)("file-upload"),m=(0,n.g2)("service-select");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Postcodes to areas",subtitle:"Convert postcode locations to statistical areas"}),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(c,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),Ht,(0,n.bF)(Fe.i,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:(0,n.k6)((()=>[(0,n.bF)(be.l,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:(0,n.k6)((()=>[(0,n.eW)(" This tool loads CSV files. If your data isn't in CSV format try "),Xt,(0,n.eW)(" in your software. The first row should be column headings, one column should contain UK postcodes ")])),_:1}),(0,n.bF)(u,{files:o.files,onChangeFiles:t[0]||(t[0]=e=>s.confirmFile(e))},null,8,["files"]),(0,n.bF)(be.l,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Select file options"},{default:(0,n.k6)((()=>[(0,n.eW)(" The field headings in your data should be displayed below. Choose which one represents the postcodes. If your data includes counts per postcode, also select the field holding the count")])),_:1}),(0,n.bF)(ke.d4,{color:"success",modelValue:o.postcodeColumn,"onUpdate:modelValue":t[1]||(t[1]=e=>o.postcodeColumn=e),items:o.columns,label:"Select postcode field",variant:"outlined",disabled:0===o.columns.length},null,8,["modelValue","items","disabled"]),(0,n.bF)(ke.d4,{color:"success",value:o.countsColumn,items:o.columns.filter((e=>e!==o.postcodeColumn)),disabled:""===o.postcodeColumn||0===o.columns.filter((e=>e!==o.postcodeColumn)).length,label:"Count field (optional)",variant:"outlined"},null,8,["value","items","disabled"]),(0,n.bF)(x.D,{color:"info",variant:"tonal",size:"large",onClick:s.confirmOptions,disabled:""===o.postcodeColumn,"append-icon":"mdi-chevron-triple-right"},{default:(0,n.k6)((()=>[(0,n.eW)(" Convert ")])),_:1},8,["onClick","disabled"]),(0,n.bF)(be.l,{class:"mt-8 mb-4",icon:"mdi-numeric-3-circle",title:"Results"},{default:(0,n.k6)((()=>[(0,n.eW)(" Valid postcodes are changed to their statistical area code. Postcodes that are no longer valid are changed to "),Mt,(0,n.eW)(". Postcodes not recognised are changed to "),Yt,(0,n.eW)("."),Rt])),_:1}),null!==o.endTime?((0,n.uX)(),(0,n.CE)("span",Gt,[(0,n.Lk)("p",Pt,(0,r.v_)("Completed in "+s.getTimeCompleted()+" seconds"),1),(0,n.bF)(A.J,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:(0,n.k6)((()=>[(0,n.bF)(fe.Py,{"no-filter":"",headers:o.summaryColumns,items:o.summaryData,"item-key":"total"},{bottom:(0,n.k6)((()=>[])),_:1},8,["headers","items"])])),_:1}),(0,n.bF)(x.D,{color:"info",variant:"tonal",size:"large",onClick:s.downloadConvertedFile,"append-icon":"mdi-content-save"},{default:(0,n.k6)((()=>[(0,n.eW)(" Save converted file ")])),_:1},8,["onClick"])])):(0,n.Q3)("",!0),(0,n.bF)(be.l,{class:"mt-8 mb-4",icon:"mdi-numeric-4-circle",title:"Library membership data"},{default:(0,n.k6)((()=>[(0,n.eW)(" Census geographies are required to publish "),Kt,(0,n.eW)(". This tool has calculated a count of members per statistical area. Select the name of your library service and choose a date the postcodes were extracted from your library management system ")])),_:1}),null!==o.endTime?((0,n.uX)(),(0,n.CE)("span",Qt,[(0,n.bF)(m,{onSelect:t[2]||(t[2]=e=>o.authority=e)}),(0,n.bF)(Ae.W,{class:"mt-4",variant:"outlined",modelValue:o.extractDate,"onUpdate:modelValue":t[3]||(t[3]=e=>o.extractDate=e),label:"Count date","prepend-inner-icon":"mdi-calendar",type:"date"},null,8,["modelValue"]),(0,n.bF)(x.D,{variant:"tonal",color:"success",onClick:s.downloadSchemaFile,size:"large","append-icon":"mdi-content-save",disabled:""===o.authority||null===o.extractDate},{default:(0,n.k6)((()=>[(0,n.eW)("Save membership data")])),_:1},8,["onClick","disabled"])])):(0,n.Q3)("",!0)])),_:1}),(0,n.bF)(ge.p,{modelValue:o.loading,"onUpdate:modelValue":t[4]||(t[4]=e=>o.loading=e),persistent:"",width:"300"},{default:(0,n.k6)((()=>[(0,n.bF)(A.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(pe.r,null,{default:(0,n.k6)((()=>[(0,n.eW)(" Please wait ")])),_:1}),(0,n.bF)(_.O,null,{default:(0,n.k6)((()=>[(0,n.bF)(nt.Z,{indeterminate:"",color:"info"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var Nt="This tool converts UK postcodes into statistical areas, for use in further analysis. England and Wales release data at the census-based 'lower super output area' geographic level. In Scotland, 'Data Zones' are commonly used, and in Northern Ireland, 'Small Areas'.\n\nPostcodes are kept secure, and never published online.\n",Zt=a(5093),Jt=a.n(Zt),$t=a(4213);const ea=a(8013);function ta(e){let t=new Set(e.map((e=>aa(e))).filter((e=>null!=e)));return[...t]}function aa(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){let a=e.match(t);if(a&&a.length>0)return a[0].substring(0,6)}return null}function ia(e,t){Re.A.post(ea.postcode_api+"lsoas?filter=sector",e).then((e=>{t(e.data)}))}function oa(e,t){const a=ta(e);let i={};ia(a,(e=>{Object.keys(e).forEach((t=>{e[t].forEach((e=>{i[e.replace(/\s/g,"")]=t.trim()}))})),t(i)}))}const sa=a(8013);var la={data(){return{authority:null,columns:[],countsColumn:"",csvData:[],endTime:null,extractDate:null,files:[],libraryServices:sa.libraryServices,loading:!1,lsoasCounted:{},mdText:Nt,postcodeColumn:"",startTime:null,summaryColumns:[{key:"total",title:"Total"},{key:"converted",title:"Successful"},{key:"terminated",title:"Terminated"},{key:"unknown",title:"Unknown"}],summaryData:[{total:0,converted:0,terminated:0,unknown:0}]}},methods:{confirmFile:async function(e){this.files=e;let t=this;if(t.loading=!0,t.files.length>0){const e=await Ge(t.files[0],!1);t.columns=e[0],t.csvData=e,t.loading=!1}},confirmOptions:function(){let e=this;e.startTime=Jt()(),e.loading=!0,e.summaryData[0].total=0,e.summaryData[0].converted=0,e.summaryData[0].unknown=0,e.summaryData[0].terminated=0,e.lsoasCounted={Unknown:0};const t=e.columns.indexOf(e.postcodeColumn),a=e.columns.indexOf(this.countsColumn),i=e.csvData.map((e=>e[t])).filter((t=>null!=t&&t!=e.postcodeColumn));oa(i,(i=>{e.csvData.forEach(((o,s)=>{const l=o[t],n=l.replace(/\s/g,"");if(0===s&&l===e.postcodeColumn)o[t]="LSOA";else{this.summaryData[0].total++;let e="";l&&""!==l&&i[n]?(e=i[n],"Terminated"===e?(o[t]="Terminated",this.summaryData[0].terminated++):"Unknown"===e?(o[t]="Unknown",this.summaryData[0].unknown++):(o[t]=e,this.summaryData[0].converted++)):(o[t]="Unknown",this.summaryData[0].unknown++,e="Unknown"),"Terminated"===e&&(e="Unknown"),this.lsoasCounted[e]||(this.lsoasCounted[e]=0),""!==this.countsColumn?this.lsoasCounted[e]=this.lsoasCounted[e]+parseInt(o[a]):this.lsoasCounted[e]++}})),e.active_step=3,this.loading=!1,this.endTime=Jt()()}))},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csvData)},downloadSchemaFile:async function(){let e=[["Local authority","Count date","Area code","Members"]];const t=Jt()(this.extractDate).format("YYYY-MM-DD");Object.keys(this.lsoasCounted).filter((e=>"Unknown"!==e&&"Terminated"!==e)).forEach((a=>{let i=this.lsoasCounted[a];e.push([this.authority.name,t,a,i>4?i.toString():"x"])}));let a=this.lsoasCounted["Unknown"];this.lsoasCounted["Unknown"]>0&&e.push([this.authority.name,t,"Unknown",a>4?a.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){var a=new Blob([Ye.unparse(t)],{type:"text/plain;charset=utf-8"});(0,$t.saveAs)(a,e)},getTimeCompleted:function(){return this.startTime&&this.endTime?Math.round(Jt().duration(this.endTime.diff(this.startTime))):""}},components:{"file-upload":St,"service-select":Me}};const na=(0,b.A)(la,[["render",qt]]);var ra=na;const da={class:"text-center"};function ca(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}),(0,n.Lk)("p",da,[(0,n.bF)(x.D,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.eW)(" Explore the mobile stops data schema ")])),_:1})]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"})])),_:1})}var ua="A mobile library stop is a location visited by a mobile library vehicle during it's round.\n\nThe mobile libraries dataset is a **register**. This means that the data needs to be permanently maintained and up to date.\n",ma={data(){return{mdText:ua}},methods:{},components:{}};const ha=(0,b.A)(ma,[["render",ca]]);var ba=ha;const pa={class:"text-center"};function fa(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Physical visits",subtitle:"Counts of people using libraries"}),(0,n.Lk)("p",pa,[(0,n.bF)(x.D,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/physical-visits",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.eW)(" Explore the visits data schema ")])),_:1})]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"})])),_:1})}var ga="A physical visit is an individual entering the library premises - for whatever reason. For co-located premises, this may mean counting visits that are not specifically for the purpose of using the library. Visit counts are often referred to as footfall.\n\nThe physical visits dataset is a **time-series**. Data is maintained by adding new data (e.g. the next months visit counts).\n",ya={data(){return{mdText:ga}},methods:{},components:{}};const va=(0,b.A)(ya,[["render",fa]]);var ka=va;function Fa(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Privacy policy",subtitle:"How your data and privacy is protected"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"])])),_:1})}var wa="These pages were created by Dave at [Libraries Hacked](https://www.librarieshacked.org). You can [contact me via email](mailto:info@librarieshacked.org) with any queries.\n\n## GitHub pages\n\nThis site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include data such as your IP address.\n\nGitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to logged-in services within GitHub, but there is a reference to GitHub pages sites in this policy. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.\n\n> Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.\n\n## Cookies\n\nCookies are files saved on your phone, tablet or computer when you visit a website.\n\nThis site does not save any cookies onto your computer.\n\n## Tracking and analytics\n\nThere are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.\n",xa={data(){return{mdText:wa}},methods:{},components:{}};const Aa=(0,b.A)(xa,[["render",Fa]]);var _a=Aa;function Ca(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section"),c=(0,n.g2)("user-profile");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Profile",subtitle:"See access and profile information"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Lk)("section",null,[(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{actions:!0})])),_:1})])])),_:1})}var ja="While logged in you will be able to see the level of access you have, which will either be for individual library services, or 'Admin' which provides access to all library data.\n\nNo personal data is held about you. Your email address is not stored online, only the domain part of the email (e.g. bl.uk for British Library users) in order to grant access.\n",La={data(){return{mdText:ja}},methods:{logout(){this.$store.dispatch("logout")}},components:{}};const Wa=(0,b.A)(La,[["render",Ca]]);var Va=Wa;const Ta={class:"text-center"};function Sa(e,t,a,i,o,s){const l=(0,n.g2)("layout-header"),r=(0,n.g2)("markdown-section");return(0,n.uX)(),(0,n.Wv)(d.I,null,{default:(0,n.k6)((()=>[(0,n.bF)(l,{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}),(0,n.Lk)("p",Ta,[(0,n.bF)(x.D,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/stock-summary",target:"_blank"},{default:(0,n.k6)((()=>[(0,n.eW)(" Explore the stock summary data schema ")])),_:1})]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"}),(0,n.bF)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.bF)(q.G,{inset:"",color:"info",class:"my-2"})])),_:1})}var Ea="An item of stock is any item held by the library that is available to the public, and catalogued in the library management system. This dataset provides counts of the different types of items held by libraries.\n\nThe stock summary dataset is a **snapshot**. This means that each update to the data is a fresh export, representing the stock held (or on loan) at that point in time.\n",Ia={data(){return{mdText:Ea}},methods:{},components:{}};const Da=(0,b.A)(Ia,[["render",Sa]]);var Oa=Da;const Ua=(0,B.aE)({history:(0,B.Bt)(),base:"/",routes:[{path:"/",name:"Home",component:ne},{path:"/about",name:"About",component:Y},{path:"/events",name:"Events",component:te},{path:"/libraries",name:"Libraries",component:he},{path:"/libraries-edit",name:"Libraries edit",component:$e},{path:"/loans",name:"Loans",component:st},{path:"/membership",name:"Membership",component:kt},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:ra},{path:"/membership-map",name:"Membership map",component:zt},{path:"/mobile-library-stops",name:"Mobile library stops",component:ba},{path:"/physical-visits",name:"Physical visits",component:ka},{path:"/stock-summary",name:"Stock summary",component:Oa},{path:"/privacy",name:"Privacy",component:_a},{path:"/accessibility",name:"Accessibility",component:Q},{path:"/login",name:"Login",component:bt},{path:"/profile",name:"Profile",component:Va}]});var Ba=Ua,za=a(6278),Ha=a(820),Xa=(0,za.y$)({state:{loginKey:null,loginSubject:null,loginIssuer:null,loginExpires:null,loginAdmin:!1,loginCodes:[],libraryServices:[]},mutations:{initialiseStore(e){if(localStorage.getItem("loginKey")){e.loginKey=localStorage.getItem("loginKey");const t=Ha.iU(e.loginKey);e.loginSubject=t.sub,e.loginIssuer=t.iss,e.loginExpires=new Date(1e3*t.exp),e.loginAdmin=t.admin,e.loginCodes=t.codes}},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t;const a=Ha.iU(e.loginKey);e.loginSubject=a.sub,e.loginIssuer=a.iss,e.loginExpires=new Date(1e3*a.exp),e.loginAdmin=a.admin,e.loginCodes=a.codes},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null,e.loginSubject=null,e.loginIssuer=null,e.loginExpires=null,e.loginAdmin=null,e.loginCodes=[]},setServices(e,t){e.libraryServices=t}},actions:{logout({commit:e}){e("logout")}}}),Ma=a(2531),Ya=a(2021),Ra=a(8332),Ga=a(219),Pa=a(1057),Ka=a(7294),Qa=a(4529),qa=a(1093),Na=a(6838);const Za=["src"];function Ja(e,t,i,o,s,l){const c=(0,n.g2)("user-profile"),u=(0,n.g2)("router-view"),m=(0,n.g2)("layout-footer");return(0,n.uX)(),(0,n.Wv)(Ma.E,null,{default:(0,n.k6)((()=>[(0,n.bF)(Ya.z,{elevation:"0",flat:"",color:"grey-lighten-5"},{default:(0,n.k6)((()=>[(0,n.bF)(Ra.Z,{class:"hidden-lg-and-up",onClick:t[0]||(t[0]=t=>e.drawer=!e.drawer)}),(0,n.bF)(d.I,null,{default:(0,n.k6)((()=>[(0,n.Lk)("img",{class:"mr-3",src:a(3153),height:"40"},null,8,Za),(0,n.bF)(L.h)])),_:1})])),_:1}),(0,n.bF)(Na.e,{border:"",modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=t=>e.drawer=t),elevation:"0"},{append:(0,n.k6)((()=>[(0,n.bF)(A.J,null,{default:(0,n.k6)((()=>[(0,n.bF)(_.O,null,{default:(0,n.k6)((()=>[(0,n.bF)(c,{actions:!0})])),_:1})])),_:1})])),default:(0,n.k6)((()=>[(0,n.bF)(Ga.x,{nav:""},{default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"info",to:"/","active-class":"highlighted",class:(0,r.C4)("/"===e.$route.path?"highlighted":""),"prepend-icon":"mdi-home-circle"},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Home")])),_:1})])),_:1},8,["class"]),(0,n.bF)(Pa.g,{variant:"tonal",color:"info",to:"/about","active-class":"highlighted",class:(0,r.C4)("/about"===e.$route.path?"highlighted":""),"prepend-icon":"mdi-information"},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("About")])),_:1})])),_:1},8,["class"]),(0,n.bF)(q.G),(0,n.bF)(Qa.K,{value:"Events","no-action":"","prepend-icon":"mdi-calendar-star"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(Pa.g,(0,n.v6)(e,{title:"Events"}),null,16)])),default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/events","active-class":"highlighted",class:(0,r.C4)("/events"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Events dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.bF)(Qa.K,{value:"Libraries","no-action":"","prepend-icon":"mdi-domain"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(Pa.g,(0,n.v6)(e,{title:"Libraries"}),null,16)])),default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/libraries","active-class":"highlighted",class:(0,r.C4)("/libraries"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Libraries dataset")])),_:1})])),_:1},8,["class"]),(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/libraries-edit","active-class":"highlighted",class:(0,r.C4)("/libraries"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Edit libraries")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.bF)(Qa.K,{value:"Loans","prepend-icon":"mdi-book-account-outline"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(Pa.g,(0,n.v6)(e,{title:"Loans"}),null,16)])),default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/loans","active-class":"highlighted",class:(0,r.C4)("/loans"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Loans dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.bF)(Qa.K,{value:"Membership","prepend-icon":"mdi-account-multiple"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(Pa.g,(0,n.v6)(e,{title:"Membership"}),null,16)])),default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/membership","active-class":"highlighted",class:(0,r.C4)("/membership"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Membership dataset")])),_:1})])),_:1},8,["class"]),(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/postcode-to-lsoa","active-class":"highlighted",class:(0,r.C4)("/postcode-to-lsoa"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Postcode converter")])),_:1})])),_:1},8,["class"]),(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/membership-map","active-class":"highlighted",class:(0,r.C4)("/membership-map"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Membership map")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.bF)(Qa.K,{value:"MobileLibraries","prepend-icon":"mdi-bus-clock"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(Pa.g,(0,n.v6)(e,{title:"Mobile libraries"}),null,16)])),default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/mobile-library-stops","active-class":"highlighted",class:(0,r.C4)("/mobile-library-stops"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Mobile library stops dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.bF)(Qa.K,{value:"Visits","prepend-icon":"mdi-shoe-print"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(Pa.g,(0,n.v6)(e,{title:"Visits"}),null,16)])),default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/physical-visits","active-class":"highlighted",class:(0,r.C4)("/physical-visits"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Physical visits dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.bF)(Qa.K,{value:"Catalogue","prepend-icon":"mdi-bookshelf"},{activator:(0,n.k6)((({props:e})=>[(0,n.bF)(Pa.g,(0,n.v6)(e,{title:"Catalogue"}),null,16)])),default:(0,n.k6)((()=>[(0,n.bF)(Pa.g,{variant:"tonal",color:"success",to:"/stock-summary","active-class":"highlighted",class:(0,r.C4)("/stock-summary"===e.$route.path?"highlighted":"")},{default:(0,n.k6)((()=>[(0,n.bF)(Ka.U,null,{default:(0,n.k6)((()=>[(0,n.eW)("Stock summary dataset")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.bF)(qa.Y,null,{default:(0,n.k6)((()=>[(0,n.bF)(u)])),_:1}),(0,n.bF)(m)])),_:1})}var $a=a(1552);function ei(e,t){const a=(0,n.g2)("CarbonBadge");return(0,n.uX)(),(0,n.Wv)($a.O,{app:"",color:"grey-lighten-5"},{default:(0,n.k6)((()=>[(0,n.bF)(ye.L,{justify:"center",class:"text-xs-center w-100","no-gutters":""},{default:(0,n.k6)((()=>[(0,n.bF)(x.D,{size:"large",variant:"text",color:"info",to:"/accessibility"},{default:(0,n.k6)((()=>[(0,n.eW)(" Accessibility ")])),_:1}),(0,n.bF)(x.D,{size:"large",variant:"text",color:"info",to:"/privacy"},{default:(0,n.k6)((()=>[(0,n.eW)(" Privacy ")])),_:1}),(0,n.bF)(a)])),_:1})])),_:1})}const ti={},ai=(0,b.A)(ti,[["render",ei]]);var ii=ai,oi={name:"App",components:{"layout-footer":ii},methods:{async logout(){await this.$store.dispatch("logout"),this.$router.push("/")}},data:()=>({drawer:null})};const si=(0,b.A)(oi,[["render",Ja]]);var li=si;const ni=(0,o.$N)({components:{...l}});(0,i.Ef)({extends:li,beforeCreate(){this.$store.commit("initialiseStore")}}).use(ni).use(Ba).use(Xa).use(s.Ay).component("layout-header",f).component("markdown-section",w).component("user-profile",U).mount("#app")},3153:function(e){"use strict";e.exports="data:image/png;base64,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"},8013:function(e){"use strict";e.exports=JSON.parse('{"postcode_api":"https://api-geography.azurewebsites.net/rest/postcodes/","schema_path":"https://raw.githubusercontent.com/LibrariesHacked/schema-librarydata/master/archive/","lsoa_tiles":"https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt","libraries_tiles":"https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt","authorities_path":"https://api-geography.librarydata.uk/rest/libraryAuthorities","authenticate_path":"https://api.librarydata.uk/authenticate","authenticate_website":"create.librarydata.uk","schema_url":"https://api.librarydata.uk/schemas/","schemas":{"membership":{"name":"Membership","version":"0.3.0"},"libraries":{"name":"Library locations","version":"0.4.0"}},"library_types":[{"text":"Local authority","value":"LAL"},{"text":"Local authority unstaffed","value":"LAL-"},{"text":"Commisioned","value":"CL"},{"text":"Community-run","value":"CRL"},{"text":"Independent","value":"ICL"}]}')}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,i,o,s){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],s=e[c][2];for(var n=!0,r=0;r<i.length;r++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](i[r])}))?i.splice(r--,1):(n=!1,s<l&&(l=s));if(n){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,s,l=i[0],n=i[1],r=i[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(r)var c=r(a)}for(t&&t(i);d<l.length;d++)s=l[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},i=self["webpackChunkcreate_librarydata"]=self["webpackChunkcreate_librarydata"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(3754)}));i=a.O(i)})();
//# sourceMappingURL=app.f4fddaa1.js.map