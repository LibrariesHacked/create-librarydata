(function(){var e={6700:function(e,t,a){var i={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":941,"./en-il.js":941,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":238,"./ru.js":238,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}o.keys=function(){return Object.keys(i)},o.resolve=s,e.exports=o,o.id=6700},3365:function(){const e=e=>{const t=/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;return t.test(e)};String.prototype.isUrl=e},4:function(e,t,a){"use strict";a.r(t),a.d(t,{getLibraryAuthorities:function(){return l},getLibraryAuthorityByName:function(){return n},getLibraryAuthoritySystemName:function(){return r}});var i=a(9669),o=a.n(i);const s=a(6795);async function l(){const e=await o().get(s.authorities_path);return e&&e.data?e.data:[]}async function n(e){const t=await o().get(s.authorities_path+"/name/"+e);return t&&t.data?t.data:{}}function r(e){return e.replace(/[. ,:-]+/g,"-").toLowerCase()}},4925:function(e,t,a){"use strict";var i=a(9963),o=a(8727),s=a(487),l=a(8976),n=a(6252),r=a(3577),d=a(3369);const c={class:"text-center text-h2"},u={class:"text-subtitle-1 text-center"};function m(e,t,a,i,o,s){return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n._)("h1",c,(0,r.zw)(a.title),1),(0,n._)("p",u,(0,r.zw)(a.subtitle),1)])),_:1})}var h={data(){return{}},methods:{},props:["title","subtitle"]},p=a(3744);const f=(0,p.Z)(h,[["render",m]]);var g=f;const y={class:"markdown"};function b(e,t,a,i,o,s){const l=(0,n.up)("vue-markdown");return(0,n.wg)(),(0,n.iD)("section",y,[(0,n.Wm)(l,{source:a.markdownText,options:o.options},null,8,["source","options"])])}var w=a(8532),v={data(){return{options:{html:!0,breaks:!0}}},methods:{},components:{VueMarkdown:w.Z},props:{markdownText:{type:String,required:!0}}};const k=(0,p.Z)(v,[["render",b]]);var W=k,_=a(2061),x=a(1634),C=a(1888),j=a(1334),A=a(5032),T=a(9234),V=a(4959);const U={key:0},L={key:0},S={key:1};function E(e,t,a,i,o,s){return(0,n.wg)(),(0,n.j4)(x._,{variant:"tonal",color:"info"},{default:(0,n.w5)((()=>[(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[this.$store.state.loginKey?((0,n.wg)(),(0,n.iD)("p",U,[(0,n.Uk)(" Logged in as "),(0,n._)("strong",null,(0,r.zw)(this.$store.state.loginSubject),1),this.$store.state.loginAdmin?((0,n.wg)(),(0,n.iD)("span",L,[(0,n.Wm)(A.v,{color:"info",class:"mx-2","prepend-icon":"mdi-shield-crown"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Admin ")])),_:1})])):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(this.$store.state.loginCodes,(t=>((0,n.wg)(),(0,n.j4)(A.v,{class:"mr-1",key:"chip_"+t},{default:(0,n.w5)((()=>[(0,n.Wm)(V.t,{left:""},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-map-legend")])),_:1}),(0,n.Uk)(" "+(0,r.zw)(e.library_services.length>0?e.library_services.filter((e=>e.code===t))[0].nice_name:t),1)])),_:2},1024)))),128))])):(0,n.kq)("",!0),this.$store.state.loginKey?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("p",S,"You are not logged in"))])),_:1}),this.actions?((0,n.wg)(),(0,n.j4)(j.h,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),this.$store.state.loginKey?((0,n.wg)(),(0,n.j4)(_.T,{key:0,large:"",color:"primary",text:"",onClick:e.logout},{default:(0,n.w5)((()=>[(0,n.Uk)(" Log out "),(0,n.Wm)(V.t,{right:""},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-logout")])),_:1})])),_:1},8,["onClick"])):(0,n.kq)("",!0),this.$store.state.loginKey?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(_.T,{key:1,large:"",color:"primary",text:"",to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Log in "),(0,n.Wm)(V.t,{right:""},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-login")])),_:1})])),_:1}))])),_:1})):(0,n.kq)("",!0)])),_:1})}const D=a(4);var I={props:["actions"],data(){return{}},methods:{async getServices(){let e=await D.getLibraryAuthorities();e=e.sort(((e,t)=>e.name.localeCompare(t.name))),this.$store.commit("setServices",e),this.library_services=e}},beforeMount(){this.getServices()}};const O=(0,p.Z)(I,[["render",E]]);var z=O,F=a(3085);function H(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"About",subtitle:"What the site is and does, and who for"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"])])),_:1})}var B="In 2019 a group of library workers collaborated on a set of [public library data schemas](https://schema.librarydata.uk/). These were designed to help public library services publish open data.\n\nHere is some background information on that project:\n\n- DCMS blog - [Libraries and open data](https://dcmslibraries.blog.gov.uk/2019/09/06/libraries-and-open-data/)\n- DCMS blog - [Open data - an update](https://dcmslibraries.blog.gov.uk/2020/08/03/library-open-data-an-update/)\n- Frictionless Data blog - [Libraries Hacked](https://frictionlessdata.io/blog/2022/02/07/libraries-hacked/#schemas-and-frictionless-data) - a case study of using Table Schema to create a public library data schemas.\n\nThis website is to aid in using those schemas. Including:\n\n- Tools to help libraries create and publish open data\n- Visualisations from the data\n- Data analysis techniques using the data.\n- Data tools to aid in decision-making\n",Z={data(){return{mdText:B}},methods:{},components:{}};const M=(0,p.Z)(Z,[["render",H]]);var K=M;function Y(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Accessibility",subtitle:"How this site meets accessibility requirements"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"])])),_:1})}var R="We want as many people as possible to be able to use this website. For example, that means you should be able to:\n\n- change colours, contrast levels and fonts\n- zoom in up to 300% without the text spilling off the screen\n- navigate most of the website using just a keyboard\n- navigate most of the website using speech recognition software\n- listen to most of the website using a screen reader (including the most recent versions of JAWS, NVDA and VoiceOver)\n\nWe've also made the website text as simple as possible to understand.\n\n[AbilityNet](https://mcmw.abilitynet.org.uk/) has advice on making your device easier to use if you have a disability.\n\n## Technical information about this website's accessibility\n\nThis website is in development and being used by pilot library services. During this time it is being tested for accessibility issues. This is being done using Government Digital Service guidelines [doing a basic accessibility check](https://www.gov.uk/government/publications/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one/doing-a-basic-accessibility-check-if-you-cant-do-a-detailed-one).\n\nThere are some aspects of the website that use maps to explore data. Although maps are difficult to make accessible, we are looking at making sure the information presented by the map is also available in other formats.\n\nIf you do experience any problems using this website, please raise these and [send us an email](mailto:info@librarieshacked.org).\n",q={data(){return{mdText:R}},methods:{},components:{}};const P=(0,p.Z)(q,[["render",Y]]);var G=P,N=a(623);const J={class:"text-center"};function Q(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Events",subtitle:"Library event attendance and outcomes"}),(0,n._)("p",J,[(0,n.Wm)(_.T,{variant:"tonal",size:"large",color:"info",href:"https://schema.librarydata.uk/events",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore the events data schema ")])),_:1})]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"})])),_:1})}var X="An event is an event facilitated or organised by the library service.\n\nThe events dataset is a **time-series**. Data is maintained by adding new data (e.g. the next months events).\n",$={data(){return{mdText:X}},methods:{},components:{}};const ee=(0,p.Z)($,[["render",Q]]);var te=ee;const ae={key:1};function ie(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section"),c=(0,n.up)("user-profile");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Create",subtitle:"Helping libraries publish and use library open data"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),this.$store.state.loginKey?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(d.K,{key:0,class:"text-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(_.T,{"prepend-icon":"mdi-login-variant",variant:"tonal",size:"x-large",color:"success",class:"mx-1 my-1",to:"/login"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Log in ")])),_:1})])),_:1})),this.$store.state.loginKey?((0,n.wg)(),(0,n.iD)("div",ae,[(0,n.Wm)(c,{actions:""})])):(0,n.kq)("",!0)])),_:1})}var oe="We provide tools designed to aid public libraries in publishing and using open data.\n\nInspired by the public library [open data schemas](https://schema.librarydata.uk), each tool is tailored for a different dataset documented in that project.\n",se={data(){return{mdText:oe}},methods:{},components:{}};const le=(0,p.Z)(se,[["render",ie]]);var ne=le;const re={class:"text-center"};function de(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Libraries",subtitle:"Public library locations, hours, and contact details"}),(0,n._)("p",re,[(0,n.Wm)(_.T,{size:"large","prepend-icon":"mdi-information-outline",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/libraries",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore the locations data schema ")])),_:1})]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"})])),_:1})}var ce="A library is a static service point which provides library services for the public.\n\nThe libraries dataset is a **register**. This means that the data needs to be maintained and kept up to date.\n",ue={data(){return{mdText:ce}},methods:{},components:{}};const me=(0,p.Z)(ue,[["render",de]]);var he=me,pe=a(1434),fe=a(6572),ge=a(576),ye=a(6824),be=a(8521),we=a(7540),ve=a(9074),ke=a(2231),We=a(8166),_e=a(165),xe=a(8465),Ce=a(3116),je=a(8341),Ae=a(4722);const Te=(0,n._)("h2",{class:"text-h5 text-decoration-underline my-3"},"Edit library locations",-1),Ve={class:"text-subtitle"},Ue={class:"text-subtitle-2"},Le={class:"d-flex"},Se=(0,n._)("strong",null,"Publish changes",-1);function Ee(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),c=(0,n.up)("markdown-section"),u=(0,n.up)("user-profile"),m=(0,n.up)("service-select"),h=(0,n.up)("v-data-table");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Edit library locations",subtitle:"View and edit the data held for public library locations"}),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(c,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(u,{actions:""}),Te,(0,n.Wm)(ve.C,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(pe.w,{icon:"mdi-numeric-1-circle",class:"mb-1",text:"Search for a local authority to view the libraries within that area.",title:"Local authority"}),(0,n.Wm)(m,{onSelect:t[0]||(t[0]=e=>s.loadLibraries(e))}),(0,n.Wm)(pe.w,{class:"mt-8 mb-1",icon:"mdi-numeric-2-circle",text:"Select the edit icon for each library to see and edit full details.\n        Changes are not saved until the next step.",title:"Make changes"}),(0,n.Wm)(x._,{color:"grey-lighten-2",variant:"outlined",elevation:"0"},{default:(0,n.w5)((()=>[(0,n.Wm)(h,{hover:"","items-per-page":"5","no-filter":"","no-data-text":"To load library data ensure you select a local authority in Step 1.",headers:o.headers,items:o.libraries,"sort-by":[{key:"Library_name",order:"asc"}],class:"elevation-0"},{top:(0,n.w5)((()=>[(0,n.Wm)(Ce.i,{flat:"",color:"grey-lighten-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),(0,n.Wm)(ge.B,{persistent:"",modelValue:o.dialogMainLibrary,"onUpdate:modelValue":t[16]||(t[16]=e=>o.dialogMainLibrary=e),"max-width":"500px","overlay-opacity":"0.3","content-class":"elevation-0"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(_.T,(0,n.dG)({disabled:null===o.selectedService},e,{variant:"tonal",color:"success","prepend-icon":"mdi-plus-circle"}),{default:(0,n.w5)((()=>[(0,n.Uk)(" Add library ")])),_:2},1040,["disabled"])])),default:(0,n.w5)((()=>[(0,n.Wm)(x._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ke.d,{"align-tabs":"center",modelValue:o.editTabs,"onUpdate:modelValue":t[1]||(t[1]=e=>o.editTabs=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(We.L,{value:1},{default:(0,n.w5)((()=>[(0,n.Uk)("Details")])),_:1}),(0,n.Wm)(We.L,{value:2},{default:(0,n.w5)((()=>[(0,n.Uk)("Address")])),_:1}),(0,n.Wm)(We.L,{value:3},{default:(0,n.w5)((()=>[(0,n.Uk)("Hours")])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(je.Oo,{modelValue:o.editTabs,"onUpdate:modelValue":t[15]||(t[15]=e=>o.editTabs=e)},{default:(0,n.w5)((()=>[((0,n.wg)(),(0,n.j4)(Ae.H,{key:1,value:1},{default:(0,n.w5)((()=>[(0,n.Wm)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{variant:"outlined",density:"compact",modelValue:o.editedItem.Library_name,"onUpdate:modelValue":t[2]||(t[2]=e=>o.editedItem.Library_name=e),label:"Name"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"8",md:"8"},{default:(0,n.w5)((()=>[(0,n.Wm)(we.rL,{modelValue:o.editedItem.Type_of_library,"onUpdate:modelValue":t[3]||(t[3]=e=>o.editedItem.Type_of_library=e),items:o.libraryTypes,variant:"outlined",density:"compact","item-title":"text","item-value":"value",label:"Type"},null,8,["modelValue","items"])])),_:1}),(0,n.Wm)(be.D,{cols:"12",sm:"4",md:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(we.rL,{variant:"outlined",density:"compact",modelValue:o.editedItem.Statutory,"onUpdate:modelValue":t[4]||(t[4]=e=>o.editedItem.Statutory=e),"menu-props":{zIndex:1e4},items:["Yes","No"],label:"Statutory"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Year_opened,"onUpdate:modelValue":t[5]||(t[5]=e=>o.editedItem.Year_opened=e),label:"Year opened",type:"number"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Year_closed,"onUpdate:modelValue":t[6]||(t[6]=e=>o.editedItem.Year_closed=e),label:"Year closed",type:"number"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Email_address,"onUpdate:modelValue":t[7]||(t[7]=e=>o.editedItem.Email_address=e),label:"Email address"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.URL,"onUpdate:modelValue":t[8]||(t[8]=e=>o.editedItem.URL=e),label:"Website"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"12",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(xe.z,{rows:"2",density:"compact",variant:"outlined",modelValue:o.editedItem.Notes,"onUpdate:modelValue":t[9]||(t[9]=e=>o.editedItem.Notes=e),label:"Notes",clearable:"","persistent-clear":"","full-width":""},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})),((0,n.wg)(),(0,n.j4)(Ae.H,{key:2,value:2},{default:(0,n.w5)((()=>[(0,n.Wm)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Address_1,"onUpdate:modelValue":t[10]||(t[10]=e=>o.editedItem.Address_1=e),label:"Address 1"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Address_2,"onUpdate:modelValue":t[11]||(t[11]=e=>o.editedItem.Address_2=e),label:"Address 2"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Address_3,"onUpdate:modelValue":t[12]||(t[12]=e=>o.editedItem.Address_3=e),label:"Address 3"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Postcode,"onUpdate:modelValue":t[13]||(t[13]=e=>o.editedItem.Postcode=e),label:"Postcode"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"12",md:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{density:"compact",variant:"outlined",modelValue:o.editedItem.Unique_property_reference_number,"onUpdate:modelValue":t[14]||(t[14]=e=>o.editedItem.Unique_property_reference_number=e),label:"Unique property reference number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1})),((0,n.wg)(),(0,n.j4)(Ae.H,{key:3,value:3},{default:(0,n.w5)((()=>[(0,n.Wm)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.openingHourTypes,(e=>((0,n.wg)(),(0,n.j4)(be.D,{cols:"12",sm:"6",md:"6",key:e},{default:(0,n.w5)((()=>[(0,n._)("h4",Ve,(0,r.zw)(e),1),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.days,(t=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"my-1"},[(0,n.Wm)(N.J,{class:"my-1"}),(0,n._)("div",Ue,[(0,n.Wm)(_.T,{variant:"tonal",icon:"mdi-plus-circle",size:"x-small",color:"success",onClick:a=>s.addOpeningHoursEntry(t+"_"+e.toLowerCase()+"_hours")},null,8,["onClick"]),(0,n.Uk)(" "+(0,r.zw)(t),1)]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.editedItem[t+"_"+e.toLowerCase()+"_hours"]?o.editedItem[t+"_"+e.toLowerCase()+"_hours"].split(","):"",(a=>((0,n.wg)(),(0,n.j4)(A.v,{class:"ma-1",size:"small",key:a,label:"",closable:"","close-icon":"mdi-delete",color:"success","onClick:close":i=>s.removeOpeningHoursEntry(t+"_"+e.toLowerCase()+"_hours",a)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(a),1)])),_:2},1032,["onClick:close"])))),128))])))),128))])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1}))])),_:1},8,["modelValue"])])),_:1}),(0,n.Wm)(j.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),(0,n.Wm)(_.T,{variant:"plain",onClick:s.close,"append-icon":"mdi-close-circle"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancel ")])),_:1},8,["onClick"]),(0,n.Wm)(_.T,{variant:"tonal",color:"success",onClick:s.save,"append-icon":"mdi-check-circle"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Ok ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(ge.B,{persistent:"","overlay-opacity":"0.1","content-class":"elevation-0",modelValue:o.dialogDelete,"onUpdate:modelValue":t[17]||(t[17]=e=>o.dialogDelete=e),"max-width":"500px"},{default:(0,n.w5)((()=>[(0,n.Wm)(x._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(fe.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Remove library?")])),_:1}),(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" This action will remove the library. If the library has closed it should not be removed. The closed year can be entered in the library details to mark it as closed and retain the details. ")])),_:1}),(0,n.Wm)(j.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),(0,n.Wm)(_.T,{variant:"plain",onClick:s.closeDelete,"append-icon":"mdi-close-circle"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancel ")])),_:1},8,["onClick"]),(0,n.Wm)(_.T,{variant:"tonal",color:"warning",onClick:s.deleteItemConfirm,"append-icon":"mdi-delete"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Remove ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(ge.B,{persistent:"","overlay-opacity":"0.3","content-class":"elevation-0",modelValue:o.dialogOpeningHoursEntry,"onUpdate:modelValue":t[20]||(t[20]=e=>o.dialogOpeningHoursEntry=e),"max-width":"500px"},{default:(0,n.w5)((()=>[(0,n.Wm)(x._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(fe.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Add opening hours")])),_:1}),(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(ye.o,{dense:""},{default:(0,n.w5)((()=>[(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{variant:"outlined",density:"compact",modelValue:o.openingHoursOpen,"onUpdate:modelValue":t[18]||(t[18]=e=>o.openingHoursOpen=e),label:"Opening time",type:"time"},null,8,["modelValue"])])),_:1}),(0,n.Wm)(be.D,{cols:"12",sm:"6",md:"6"},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{variant:"outlined",density:"compact",modelValue:o.openingHoursClose,"onUpdate:modelValue":t[19]||(t[19]=e=>o.openingHoursClose=e),label:"Closing time",type:"time"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(j.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),(0,n.Wm)(_.T,{variant:"plain",onClick:s.closeOpeningHoursEntry,"append-icon":"mdi-close-circle"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cancel")])),_:1},8,["onClick"]),(0,n.Wm)(_.T,{variant:"tonal",color:"success",onClick:s.confirmOpeningHoursEntry,disabled:!o.openingHoursOpen||!o.openingHoursClose,"append-icon":"mdi-check-circle"},{default:(0,n.w5)((()=>[(0,n.Uk)("Ok")])),_:1},8,["onClick","disabled"]),(0,n.Wm)(T.C)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),["item.actions"]:(0,n.w5)((({item:e})=>[(0,n._)("div",Le,[(0,n.Wm)(V.t,{class:"mr-2",onClick:t=>s.editItem(e.raw)},{default:(0,n.w5)((()=>[(0,n.Uk)(" mdi-pencil ")])),_:2},1032,["onClick"]),(0,n.Wm)(V.t,{onClick:t=>s.deleteItem(e.raw)},{default:(0,n.w5)((()=>[(0,n.Uk)("mdi-delete")])),_:2},1032,["onClick"])])])),_:2},1032,["headers","items"])])),_:1}),(0,n.Wm)(pe.w,{class:"mt-8",icon:"mdi-numeric-3-circle",title:"Save changes"},{default:(0,n.w5)((()=>[(0,n.Uk)(" If you are logged in with access to edit the library authority data, you can overwrite the existing data by selecting "),Se,(0,n.Uk)(". You can also save a copy of the data to your computer. ")])),_:1}),(0,n.Wm)(_.T,{disabled:!o.isEditing,size:"large",variant:"tonal",color:"info","append-icon":"mdi-content-save",onClick:s.download},{default:(0,n.w5)((()=>[(0,n.Uk)(" Save local copy ")])),_:1},8,["disabled","onClick"]),(0,n.Wm)(_.T,{disabled:!o.isEditing||!this.$store.state.loginKey,size:"large",variant:"tonal",color:"success",class:"ma-2","append-icon":"mdi-cloud-upload",onClick:s.publishChanges},{default:(0,n.w5)((()=>[(0,n.Uk)(" Publish changes ")])),_:1},8,["disabled","onClick"]),(0,n.Wm)(ge.B,{modelValue:o.successDialog,"onUpdate:modelValue":t[22]||(t[22]=e=>o.successDialog=e),persistent:"","max-width":"290"},{default:(0,n.w5)((()=>[(0,n.Wm)(x._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(fe.E,{class:"text-h5"},{default:(0,n.w5)((()=>[(0,n.Uk)("Success")])),_:1}),(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Your changes have been published. Thank you")])),_:1}),(0,n.Wm)(j.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),(0,n.Wm)(_.T,{color:"secondary",text:"",onClick:t[21]||(t[21]=e=>o.successDialog=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Close ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(ge.B,{modelValue:o.errorDialog,"onUpdate:modelValue":t[24]||(t[24]=e=>o.errorDialog=e),persistent:"","max-width":"290"},{default:(0,n.w5)((()=>[(0,n.Wm)(x._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(fe.E,{class:"text-h5"},{default:(0,n.w5)((()=>[(0,n.Uk)("Sorry")])),_:1}),(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Your changes failed to publish - please contact info@librarieshacked.org ")])),_:1}),(0,n.Wm)(j.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),(0,n.Wm)(_.T,{color:"secondary",text:"",onClick:t[23]||(t[23]=e=>o.errorDialog=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Close ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}a(7658),a(2062);var De="This tool allows you to view and edit library service points, grouped by local authority. To make changes you must first [Log in](/login). At the end you must **publish changes** to ensure you overwrite the existing data.\n",Ie=a(1980);const Oe=(0,n._)("div",{class:"text-caption pa-3"},"Select local authority",-1);function ze(e,t,a,i,o,s){return(0,n.wg)(),(0,n.j4)(x._,{elevation:"0",color:"grey-lighten-5"},{default:(0,n.w5)((()=>[Oe,(0,n.Wm)(Ie.f,{"persistent-hint":"","bg-color":"green",class:"elevation-0",clearable:"",items:o.libraryServices,"item-title":"nice_name","item-value":"code",label:"Find a local authority","return-object":"",loading:0===o.libraryServices.length,"prepend-inner-icon":"mdi-domain","onUpdate:modelValue":s.updateSelection,hint:"You can type to search library services."},null,8,["items","loading","onUpdate:modelValue"]),null!=o.selectedService?((0,n.wg)(),(0,n.j4)(A.v,{key:0,class:"ma-2",closable:"","onClick:close":t[0]||(t[0]=e=>s.deselectService())},{default:(0,n.w5)((()=>[(0,n.Uk)((0,r.zw)(o.selectedService.nice_name),1)])),_:1})):(0,n.kq)("",!0)])),_:1})}const Fe=a(4);var He={data(){return{libraryServices:[],selectedService:null}},created(){this.libraryServices=this.$store.state.libraryServices,0===this.libraryServices.length&&this.getServices()},methods:{deselectService(){this.selectedService=null,this.$emit("select",null)},async getServices(){let e=await Fe.getLibraryAuthorities();e=e.sort(((e,t)=>e.nice_name.localeCompare(t.nice_name))),this.$store.commit("setServices",e),this.libraryServices=e},updateSelection(e){this.selectedService=e,this.$emit("select",this.selectedService)}}};const Be=(0,p.Z)(He,[["render",ze]]);var Ze=Be,Me=a(7460),Ke=a(9669),Ye=a.n(Ke);const Re=(e,t)=>new Promise((a=>{let i=[];Me.parse(e,{skipEmptyLines:!0,worker:!0,header:t,step:e=>{i.push(e.data)},complete:()=>{a(i)}})})),qe=async e=>{const t={headers:{accept:"text/csv"},responseType:"blob"},a=await Ye().get(e,t);return Re(a.data,!0)},Pe=a(6795),Ge=async(e,t)=>{const a=`${Pe.schema_url}${e}/${t}`,i=await qe(a);return i},Ne=async(e,t,a,i)=>{const o=`${Pe.schema_url}${e}/${t}`,s=await Ye().put(o,a,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"text/csv"}});return 200===s.status},Je=a(6795);var Qe={beforeMount(){window.addEventListener("beforeunload",(e=>{this.isEditing&&(e.preventDefault(),e.returnValue="")}))},beforeDestroy(){window.removeEventListener("beforeunload",this.preventNav)},beforeRouteLeave(e,t,a){this.isEditing&&!window.confirm("Leave without saving?")||a()},data(){return{days:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],openingHourTypes:["Staffed","Unstaffed"],dialogMainLibrary:!1,dialogOpeningHours:!1,dialogDelete:!1,dialogOpeningHoursEntry:!1,editedIndex:-1,editTabs:1,editedItem:{},defaultItem:{Local_authority:"",Library_name:"",Address_1:"",Address_2:"",Address_3:"",Postcode:"",Unique_property_reference_number:"",Statutory:"",Type_of_library:"LAL",Year_opened:"",Year_closed:"",Monday_staffed_hours:"",Tuesday_staffed_hours:"",Wednesday_staffed_hours:"",Thursday_staffed_hours:"",Friday_staffed_hours:"",Saturday_staffed_hours:"",Sunday_staffed_hours:"",Monday_unstaffed_hours:"",Tuesday_unstaffed_hours:"",Wednesday_unstaffed_hours:"",Thursday_unstaffed_hours:"",Friday_unstaffed_hours:"",Saturday_unstaffed_hours:"",Sunday_unstaffed_hours:"",Special_hours:"",Colocated:"",Colocated_with:"",Notes:"",URL:"",Email_address:""},errorDialog:!1,headers:[{title:"Name",align:"start",key:"Library_name"},{title:"Closed",key:"Year_closed"},{title:"Address 1",align:"start",key:"Address_1"},{title:"Postcode",key:"Postcode"},{title:"Actions",key:"actions",sortable:!1}],isEditing:!1,libraries:[],libraryTypes:Je.library_types,loadingServiceData:!1,mdText:De,openingHoursOpenMenuOpen:!1,openingHoursCloseMenuOpen:!1,openingHoursEditKey:null,openingHoursOpen:null,openingHoursClose:null,selectedService:null,successDialog:!1}},methods:{addOpeningHoursEntry(e){this.openingHoursEditKey=e,this.dialogOpeningHoursEntry=!0},close(){this.dialogMainLibrary=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedItem.Local_authority=this.selectedService.name,this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeOpeningHoursEntry(){this.dialogOpeningHoursEntry=!1},confirmOpeningHoursEntry(){var e=this.editedItem[this.openingHoursEditKey].split(",").filter((e=>e.length>0));e.push(`${this.openingHoursOpen}-${this.openingHoursClose}`),this.editedItem[this.openingHoursEditKey]=e.join(","),this.dialogOpeningHoursEntry=!1,this.openingHoursOpen=null,this.openingHoursClose=null},deleteItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm(){this.isEditing=!0,this.libraries.splice(this.editedIndex,1),this.closeDelete()},download(){let e=this.selectedService;this.downloadFile(`${e.code}_libraries.csv`,this.libraries)},downloadFile:function(e,t){var a=new Blob([Me.unparse(t)],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(a,e);else{var i=document.createElement("a");i.href=window.URL.createObjectURL(a),i.setAttribute("download",e),document.body.appendChild(i),i.click(),document.body.removeChild(i)}},editItem(e){this.editedIndex=this.libraries.indexOf(e),this.editedItem=Object.assign({},e),this.dialogMainLibrary=!0},loadLibraries:async function(e){if(this.selectedService=e,this.libraries=[],!e?.code)return;this.loadingServiceData=!0;let t=this;const a=await Ge("libraries",e.code);a.forEach(((e,t)=>{Object.keys(e).forEach((i=>{let o=e[i],s=i.replace(/\s+/g,"_");delete a[t][i],a[t][s]=o}))})),t.libraries=a,this.loadingServiceData=!1},publishChanges:async function(){let e=JSON.parse(JSON.stringify(this.libraries));e.forEach(((t,a)=>{Object.keys(t).forEach((i=>{let o=t[i],s=i.replace(/_/g," ");delete e[a][i],e[a][s]=o}))}));const t=new Blob([Me.unparse(e)],{type:"text/csv;charset=utf-8;"}),a=await Ne("libraries",this.selectedService.code,t,this.$store.state.loginKey);a?this.successDialog=!0:this.errorDialog=!0,this.isEditing=!1},preventNav(e){this.isEditing&&(e.preventDefault(),e.returnValue="")},removeOpeningHoursEntry(e,t){var a=this.editedItem[e].split(",").filter((e=>e.length>0));a.splice(a.indexOf(t),1),this.editedItem[e]=a.join(","),this.dialogOpeningHoursEntry=!1},save(){this.isEditing=!0,this.editedIndex>-1?Object.assign(this.libraries[this.editedIndex],this.editedItem):this.libraries.push(this.editedItem),this.close()}},components:{"service-select":Ze}};const Xe=(0,p.Z)(Qe,[["render",Ee]]);var $e=Xe;const et={class:"text-center"};function tt(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Loans",subtitle:"Lending of library items"}),(0,n._)("p",et,[(0,n.Wm)(_.T,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/loans",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore the loans data schema ")])),_:1})]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"})])),_:1})}var at="A loan is the issuing of an item of stock to a library member. Renewing an item already on loan should be counted as an additional loan.\n\nThe loans dataset is a **time-series**. Data is maintained by adding new data (e.g. the next months loans).\n",it={data(){return{mdText:at}},methods:{},components:{}};const ot=(0,p.Z)(it,[["render",tt]]);var st=ot,lt=a(6422),nt=a(9266);function rt(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),c=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Log in",subtitle:"Gain access to edit and submit data for your service"}),(0,n.Wm)(c,{markdownText:o.mdText},null,8,["markdownText"]),(0,n._)("section",null,[(0,n.Wm)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x._,{color:"success",variant:"outlined",elevation:"0",loading:o.loading,"max-width":"350",class:"mx-auto"},{progress:(0,n.w5)((()=>[(0,n.Wm)(nt.K,{height:"5",indeterminate:""})])),default:(0,n.w5)((()=>[(0,n.Wm)(fe.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Access the site")])),_:1}),o.success?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(C.Z,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(lt.O,{ref:"form",modelValue:o.valid,"onUpdate:modelValue":t[1]||(t[1]=e=>o.valid=e)},{default:(0,n.w5)((()=>[(0,n.Wm)(_e.h,{clearable:"",variant:"outlined",modelValue:o.email,"onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),rules:o.emailRules,label:"Enter email address",type:"email","prepend-inner-icon":"mdi-email",required:""},null,8,["modelValue","rules"]),(0,n._)("p",null,(0,r.zw)(o.message),1)])),_:1},8,["modelValue"])])),_:1})),o.success?((0,n.wg)(),(0,n.j4)(C.Z,{key:1},{default:(0,n.w5)((()=>[(0,n.Uk)(" Thank you - you should receive an email shortly. ")])),_:1})):(0,n.kq)("",!0),o.success?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(j.h,{key:2},{default:(0,n.w5)((()=>[(0,n.Wm)(T.C),(0,n.Wm)(_.T,{"append-icon":"mdi-email",variant:"tonal",size:"large",color:"success",text:"",onClick:s.login,disabled:!o.valid},{default:(0,n.w5)((()=>[(0,n.Uk)(" Email login link ")])),_:1},8,["onClick","disabled"])])),_:1}))])),_:1},8,["loading"])])),_:1})])])),_:1})}var dt="Anyone can browse this site, as well use the tools to build and visualise library data.\n\nTo publish updates to existing data, you need to login. If your organisation has access you will be able to login using your organisation email address.\n\nOnce you've entered a valid email address you will be emailed an access link.\n";const ct=a(6795);async function ut(e){try{const t=await Ye().post(ct.authenticate_path,{email:e,website:ct.authenticate_website});if(t&&200===t.status)return!0}catch(t){return!1}return!1}var mt={data(){return{mdText:dt,email:"",emailRules:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],valid:!0,loading:!1,success:!1,message:""}},created:function(){this.processLoginKey()},methods:{async login(){if(this.loading=!0,this.$refs.form.validate(),this.valid){var e=await ut(this.email);e?this.success=!0:(this.success=!1,this.message="You do not have access rights with that email address")}this.loading=!1},processLoginKey:function(){const e=(0,F.yj)(),t=e.query.key;t&&(this.$store.commit("setLoginKey",t),this.$router.push("/profile"))}},components:{}};const ht=(0,p.Z)(mt,[["render",rt]]);var pt=ht;const ft={class:"text-center"};function gt(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Membership",subtitle:"Snapshot counts of library membership by geographic area"}),(0,n._)("p",ft,[(0,n.Wm)(_.T,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/membership",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore the membership data schema ")])),_:1})]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"})])),_:1})}var yt="A library member is any member of the public currently registered with the library service.\n\nThe membership dataset is a **snapshot**. This means that each update to the data is a fresh export, representing the membership at that point in time.\n",bt={data(){return{mdText:yt}},methods:{},components:{}};const wt=(0,p.Z)(bt,[["render",gt]]);var vt=wt,kt=a(4846),Wt=a(3078);const _t=(0,n._)("h2",{class:"text-h5 text-decoration-underline my-3"},"Map library members",-1),xt=(0,n._)("strong",null,"Population percentage",-1),Ct=(0,n._)("strong",null,"Areas of deprivation",-1);function jt(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section"),c=(0,n.up)("file-upload"),u=(0,n.up)("mgl-fullscreen-control"),m=(0,n.up)("mgl-navigation-control"),h=(0,n.up)("mgl-scale-control"),p=(0,n.up)("mgl-circle-layer"),f=(0,n.up)("mgl-vector-source"),g=(0,n.up)("mgl-fill-layer"),y=(0,n.up)("mgl-symbol-layer"),b=(0,n.up)("mgl-line-layer"),w=(0,n.up)("mgl-geo-json-source"),v=(0,n.up)("mgl-map");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Membership map",subtitle:"Insights from library membership data"}),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),_t,(0,n.Wm)(ve.C,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(pe.w,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:(0,n.w5)((()=>[(0,n.Uk)(" This tool loads CSV files in the format of the membership data schema. ")])),_:1}),(0,n.Wm)(c,{files:o.lsoaFiles,onChangeFiles:t[0]||(t[0]=e=>o.lsoaFiles=e),onDeleteFile:t[1]||(t[1]=e=>o.lsoaFiles=null)},null,8,["files"]),(0,n.Wm)(_.T,{"append-icon":"mdi-map-marker-plus",color:"info",class:"mt-3",variant:"tonal",size:"large",onClick:s.addMembershipData,disabled:0==o.lsoaFiles.length},{default:(0,n.w5)((()=>[(0,n.Uk)(" Add to map ")])),_:1},8,["onClick","disabled"]),(0,n.Wm)(pe.w,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Map"},{default:(0,n.w5)((()=>[xt,(0,n.Uk)(" shades the map to highlight concentration of membership. When zooming in in also displays the membership population percentage. "),Ct,(0,n.Uk)(" shades the map to highlight highly deprived areas. Uses the index of multiple deprivation for each area. 1 represents highly deprived areas, 10 the least deprived. ")])),_:1}),(0,n.Wm)(Wt.r,{modelValue:o.mapDisplay,"onUpdate:modelValue":t[2]||(t[2]=e=>o.mapDisplay=e),onChange:s.setDisplayOptions,inline:""},{default:(0,n.w5)((()=>[(0,n.Wm)(kt.R,{label:"Display population percentage",value:"populationPercentage"}),(0,n.Wm)(kt.R,{label:"Display areas of deprivation",value:"imd"})])),_:1},8,["modelValue","onChange"]),(0,n.Wm)(d.K,{class:"map"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{ref:"mglMap",center:o.center,zoom:o.zoom,mapStyle:o.mapStyle},{default:(0,n.w5)((()=>[(0,n.Wm)(u),(0,n.Wm)(m),(0,n.Wm)(h),(0,n.Wm)(f,{"source-id":"libraries",tiles:o.librariesSource.tiles},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{"source-layer":"libraries","layer-id":"libraries_layer_circles",paint:o.librariesLayerCircle.paint},null,8,["paint"])])),_:1},8,["tiles"]),(0,n.Wm)(f,{"source-id":"lsoas",tiles:o.lsoasSource.tiles,promoteId:o.lsoasSource.promoteId},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_fill",paint:o.lsoasLayerFill.paint,filter:o.matchFilter},null,8,["paint","filter"]),(0,n.Wm)(y,{"source-layer":"lsoa_boundaries","layer-id":"lsoas_layer_label",paint:o.lsoasLayerLabel.paint,layout:o.lsoasLayerLabel.layout,filter:o.matchFilter,minzoom:o.lsoasLayerLabel.minzoom},null,8,["paint","layout","filter","minzoom"])])),_:1},8,["tiles","promoteId"]),(0,n.Wm)(w,{"source-id":"authority",data:o.authoritySource.data},{default:(0,n.w5)((()=>[o.authoritySource.show?((0,n.wg)(),(0,n.j4)(b,{key:0,"layer-id":"authority-line",paint:o.authorityLayerLine.paint},null,8,["paint"])):(0,n.kq)("",!0),o.authoritySource.show?((0,n.wg)(),(0,n.j4)(y,{key:1,"layer-id":"authority-label",layout:o.authorityLayerLabel.layout,paint:o.authorityLayerLabel.paint},null,8,["layout","paint"])):(0,n.kq)("",!0)])),_:1},8,["data"])])),_:1},8,["center","zoom","mapStyle"])])),_:1})])),_:1})])),_:1})}var At="This tool displays library membership on a map to help explore areas of low or high membership, alongside other data such as the socioeconomic deprivation of areas.\n\nYou need library membership data in the [membership data schema format](https://schema.librarydata.uk/membership). This can be created using the [postcode to statistical area converter](/postcode-to-lsoa).\n",Tt=(a(3365),a(3822));function Vt(e,t,a,i,o,s){return(0,n.wg)(),(0,n.j4)(x._,{elevation:"0",color:"grey-lighten-5",class:"pt-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(Tt.Z,{chips:"","show-size":"","single-line":"","bg-color":"info",accept:"text/csv",counter:"",variant:"outlined",clearable:"",multiple:"",label:"Select a file","model-value":a.files,"onUpdate:modelValue":t[0]||(t[0]=e=>s.updateSelection(e)),"prepend-inner-icon":"mdi-file-document","prepend-icon":"",hint:"File loader will only accept CSV file types","persistent-hint":""},null,8,["model-value"])])),_:1})}var Ut={props:["files"],methods:{updateSelection(e){this.$emit("change-files",e)}}};const Lt=(0,p.Z)(Ut,[["render",Vt]]);var St=Lt,Et=a(9020),Dt=a(6412),It=a(4);const Ot=a(6795);var zt={data(){return{authoritySource:{data:{type:"FeatureCollection",features:[]},show:!1},authorityLayerLine:{type:"line",minzoom:10,paint:{"line-color":"#697B89","line-width":["interpolate",["linear"],["zoom"],10,2,22,8]}},authorityLayerLabel:{type:"symbol",layout:{"text-field":["to-string",["get","utla19nm"]],"text-font":["Open Sans Bold"],"text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-placement":"line","text-max-angle":90,"text-size":{base:1.2,stops:[[10,8],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":2}},center:[-2,52],zoom:7,librariesSource:{tiles:[Ot.libraries_tiles]},librariesLayerCircle:{filter:["!",["has","Year closed"]],"source-layer":"libraries",paint:{"circle-radius":["interpolate",["linear"],["zoom"],5,2,18,10],"circle-color":"#1b5e20","circle-stroke-width":["interpolate",["linear"],["zoom"],5,1,18,4],"circle-stroke-color":"#ffffff","circle-stroke-opacity":["interpolate",["linear"],["zoom"],5,.8,18,1],"circle-opacity":["interpolate",["linear"],["zoom"],5,.4,18,.9]}},lsoaFiles:[],lsoasSource:{tiles:[Ot.lsoa_tiles],promoteId:{lsoa_boundaries:"code"},show:!1},lsoasLayerFill:{paint:{"fill-color":"rgba(254, 113, 144, 1)","fill-opacity":.5}},lsoasLayerLabel:{minzoom:12,layout:{"text-field":["to-string",["get","code"]],"text-font":["Source Sans Pro SemiBold"],"symbol-placement":"point","text-size":{base:1.2,stops:[[12,14],[22,48]]},"text-line-height":1},paint:{"text-color":"#697B89","text-halo-color":"#fafaf8","text-halo-width":1}},matchColourLsoaPopulation:"rgba(254, 113, 144, 1)",matchColourLsoaDeprivation:"rgba(254, 113, 144, 1)",matchFilter:["in",["get","code"],["literal",[]]],mapDisplay:"populationPercentage",mapStyle:"https://zoomstack.librarydata.uk/light.json",minZoom:5,maxZoom:16,matchFieldLsoaPopulation:["to-string",["get","code"]],matchFieldLsoaDeprivation:["to-string",["get","code"]],mdText:At}},methods:{addMembershipData:async function(){let e=this;if(e.lsoaFiles[0].name){const a=await Re(e.lsoaFiles[0],!1);this.setLsoaFields(a.slice(1));const i=await It.getLibraryAuthorityByName(a[1][0]),o=JSON.parse(i.geojson);this.authoritySource.data=o,this.authoritySource.show=!0;var t=(0,Dt.Z)(o);this.$refs.mglMap.map.fitBounds(t,{padding:10})}},setDisplayOptions:function(){console.log(this.matchColourLsoaPopulation),"populationPercentage"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaPopulation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaPopulation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaPopulation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaPopulation)),"imd"===this.mapDisplay&&(this.lsoasLayerFill.paint["fill-color"]=this.matchColourLsoaDeprivation,this.lsoasLayerLabel.layout["text-field"]=this.matchFieldLsoaDeprivation,this.$refs.mglMap.map.setPaintProperty("lsoas_layer_fill","fill-color",this.matchColourLsoaDeprivation),this.$refs.mglMap.map.setLayoutProperty("lsoas_layer_label","text-field",this.matchFieldLsoaDeprivation))},setLsoaFields:function(e){let t=[],a=["match",["get","code"]],i=["match",["get","code"]];e.forEach((e=>{const o=parseInt(e[3].replace("x","2"));this.$refs.mglMap.map.setFeatureState({source:"lsoas",sourceLayer:"lsoa_boundaries",id:e[2]},{members:o}),t.push(e[2]),a.push(e[2]),a.push(["concat",["to-string",["round",["*",["/",o,["to-number",["get","population"]]],100]]],"%"]),i.push(e[2]),i.push(["get","imd"])})),a.push(""),i.push("");let o=["interpolate",["linear"],["round",["*",["/",["to-number",["feature-state","members"]],["to-number",["get","population"]]],100]],0,Et.Z.OrRd[9][0],5,Et.Z.OrRd[9][1],10,Et.Z.OrRd[9][2],15,Et.Z.OrRd[9][3],20,Et.Z.OrRd[9][4],25,Et.Z.OrRd[9][5],30,Et.Z.OrRd[9][6],35,Et.Z.OrRd[9][7],40,Et.Z.OrRd[9][8]],s=["interpolate",["linear"],["to-number",["get","imd"]],1,Et.Z.OrRd[9][8],2,Et.Z.OrRd[9][7],3,Et.Z.OrRd[9][6],4,Et.Z.OrRd[9][5],5,Et.Z.OrRd[9][4],6,Et.Z.OrRd[9][3],7,Et.Z.OrRd[9][2],8,Et.Z.OrRd[9][1],9,Et.Z.OrRd[9][0],10,Et.Z.OrRd[9][0]],l=["in",["get","code"],["literal",t]];this.matchFilter=l,this.$refs.mglMap.map.setFilter("lsoas_layer_fill",l),this.$refs.mglMap.map.setFilter("lsoas_layer_label",l),this.matchFieldLsoaPopulation=a,this.matchFieldLsoaDeprivation=i,this.matchColourLsoaPopulation=o,this.matchColourLsoaDeprivation=s,this.setDisplayOptions()}},components:{"file-upload":St}};const Ft=(0,p.Z)(zt,[["render",jt]]);var Ht=Ft;const Bt=(0,n._)("h2",{class:"text-h5 text-decoration-underline my-3"},"Convert postcodes",-1),Zt=(0,n._)("strong",null,"Save as",-1),Mt=(0,n._)("strong",null,"Terminated",-1),Kt=(0,n._)("strong",null,"Unknown",-1),Yt=(0,n._)("br",null,null,-1),Rt={key:0},qt={class:"mb-2"},Pt=(0,n._)("a",{href:"https://schema.librarydata.uk/membership",target:"_blank"},"library membership data",-1),Gt={key:1};function Nt(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),c=(0,n.up)("markdown-section"),u=(0,n.up)("file-upload"),m=(0,n.up)("v-data-table"),h=(0,n.up)("service-select");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Postcodes to areas",subtitle:"Convert postcode locations to statistical areas"}),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(c,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),Bt,(0,n.Wm)(ve.C,{color:"grey-lighten-5",rounded:"",elevation:"0",class:"px-5 py-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(pe.w,{icon:"mdi-numeric-1-circle",class:"mb-1",title:"Load a file"},{default:(0,n.w5)((()=>[(0,n.Uk)(" This tool loads CSV files. If your data isn't in CSV format try "),Zt,(0,n.Uk)(" in your software. The first row should be column headings, one column should contain UK postcodes ")])),_:1}),(0,n.Wm)(u,{files:o.files,onChangeFiles:t[0]||(t[0]=e=>s.confirmFile(e))},null,8,["files"]),(0,n.Wm)(pe.w,{class:"mt-8 mb-4",icon:"mdi-numeric-2-circle",title:"Select file options"},{default:(0,n.w5)((()=>[(0,n.Uk)(" The field headings in your data should be displayed below. Choose which one represents the postcodes. If your data includes counts per postcode, also select the field holding the count")])),_:1}),(0,n.Wm)(we.rL,{color:"success",modelValue:o.postcodeColumn,"onUpdate:modelValue":t[1]||(t[1]=e=>o.postcodeColumn=e),items:o.columns,label:"Select postcode field",variant:"outlined",disabled:0===o.columns.length},null,8,["modelValue","items","disabled"]),(0,n.Wm)(we.rL,{color:"success",value:o.countsColumn,items:o.columns.filter((e=>e!==o.postcodeColumn)),disabled:""===o.postcodeColumn||0===o.columns.filter((e=>e!==o.postcodeColumn)).length,label:"Count field (optional)",variant:"outlined"},null,8,["value","items","disabled"]),(0,n.Wm)(_.T,{color:"info",variant:"tonal",size:"large",onClick:s.confirmOptions,disabled:""===o.postcodeColumn,"append-icon":"mdi-chevron-triple-right"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Convert ")])),_:1},8,["onClick","disabled"]),(0,n.Wm)(pe.w,{class:"mt-8 mb-4",icon:"mdi-numeric-3-circle",title:"Results"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Valid postcodes are changed to their statistical area code. Postcodes that are no longer valid are changed to "),Mt,(0,n.Uk)(". Postcodes not recognised are changed to "),Kt,(0,n.Uk)("."),Yt])),_:1}),null!==o.endTime?((0,n.wg)(),(0,n.iD)("span",Rt,[(0,n._)("p",qt,(0,r.zw)("Completed in "+s.getTimeCompleted()+" seconds"),1),(0,n.Wm)(x._,{color:"grey-lighten-2",variant:"outlined",elevation:"0",class:"mb-2"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{"no-filter":"",headers:o.summaryColumns,items:o.summaryData,"item-key":"total"},{bottom:(0,n.w5)((()=>[])),_:1},8,["headers","items"])])),_:1}),(0,n.Wm)(_.T,{color:"info",variant:"tonal",size:"large",onClick:s.downloadConvertedFile,"append-icon":"mdi-content-save"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Save converted file ")])),_:1},8,["onClick"])])):(0,n.kq)("",!0),(0,n.Wm)(pe.w,{class:"mt-8 mb-4",icon:"mdi-numeric-4-circle",title:"Library membership data"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Census geographies are required to publish "),Pt,(0,n.Uk)(". This tool has calculated a count of members per statistical area. Select the name of your library service and choose a date the postcodes were extracted from your library management system ")])),_:1}),null!==o.endTime?((0,n.wg)(),(0,n.iD)("span",Gt,[(0,n.Wm)(h,{onSelect:t[2]||(t[2]=e=>o.authority=e)}),(0,n.Wm)(_e.h,{class:"mt-4",variant:"outlined",modelValue:o.extractDate,"onUpdate:modelValue":t[3]||(t[3]=e=>o.extractDate=e),label:"Count date","prepend-inner-icon":"mdi-calendar",type:"date"},null,8,["modelValue"]),(0,n.Wm)(_.T,{variant:"tonal",color:"success",onClick:s.downloadSchemaFile,size:"large","append-icon":"mdi-content-save",disabled:""===o.authority||null===o.extractDate},{default:(0,n.w5)((()=>[(0,n.Uk)("Save membership data")])),_:1},8,["onClick","disabled"])])):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(ge.B,{modelValue:o.loading,"onUpdate:modelValue":t[4]||(t[4]=e=>o.loading=e),persistent:"",width:"300"},{default:(0,n.w5)((()=>[(0,n.Wm)(x._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(fe.E,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Please wait ")])),_:1}),(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(nt.K,{indeterminate:"",color:"info"})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var Jt="This tool converts UK postcodes into statistical areas, for use in further analysis. England and Wales release data at the census-based 'lower super output area' geographic level. In Scotland, 'Data Zones' are commonly used, and in Northern Ireland, 'Small Areas'.\n\nPostcodes are kept secure, and never published online.\n",Qt=a(381),Xt=a.n(Qt),$t=a(3162);const ea=a(6795);function ta(e){let t=new Set(e.map((e=>aa(e))).filter((e=>null!=e)));return[...t]}function aa(e){const t=/[a-zA-Z]+\d\d?[a-zA-Z]?\s*\d+/;if(e){let a=e.match(t);if(a&&a.length>0)return a[0].substring(0,6)}return null}function ia(e,t){Ye().post(ea.postcode_api+"lsoas?filter=sector",e).then((e=>{t(e.data)}))}function oa(e,t){const a=ta(e);let i={};ia(a,(e=>{Object.keys(e).forEach((t=>{e[t].forEach((e=>{i[e.replace(/\s/g,"")]=t.trim()}))})),t(i)}))}const sa=a(6795);var la={data(){return{authority:null,columns:[],countsColumn:"",csvData:[],endTime:null,extractDate:null,files:[],libraryServices:sa.libraryServices,loading:!1,lsoasCounted:{},mdText:Jt,postcodeColumn:"",startTime:null,summaryColumns:[{key:"total",title:"Total"},{key:"converted",title:"Successful"},{key:"terminated",title:"Terminated"},{key:"unknown",title:"Unknown"}],summaryData:[{total:0,converted:0,terminated:0,unknown:0}]}},methods:{confirmFile:async function(e){this.files=e;let t=this;if(t.loading=!0,t.files.length>0){const e=await Re(t.files[0],!1);t.columns=e[0],t.csvData=e,t.loading=!1}},confirmOptions:function(){let e=this;e.startTime=Xt()(),e.loading=!0,e.summaryData[0].total=0,e.summaryData[0].converted=0,e.summaryData[0].unknown=0,e.summaryData[0].terminated=0,e.lsoasCounted={Unknown:0};const t=e.columns.indexOf(e.postcodeColumn),a=e.columns.indexOf(this.countsColumn),i=e.csvData.map((e=>e[t])).filter((t=>null!=t&&t!=e.postcodeColumn));oa(i,(i=>{e.csvData.forEach(((o,s)=>{const l=o[t],n=l.replace(/\s/g,"");if(0===s&&l===e.postcodeColumn)o[t]="LSOA";else{this.summaryData[0].total++;let e="";l&&""!==l&&i[n]?(e=i[n],"Terminated"===e?(o[t]="Terminated",this.summaryData[0].terminated++):"Unknown"===e?(o[t]="Unknown",this.summaryData[0].unknown++):(o[t]=e,this.summaryData[0].converted++)):(o[t]="Unknown",this.summaryData[0].unknown++,e="Unknown"),"Terminated"===e&&(e="Unknown"),this.lsoasCounted[e]||(this.lsoasCounted[e]=0),""!==this.countsColumn?this.lsoasCounted[e]=this.lsoasCounted[e]+parseInt(o[a]):this.lsoasCounted[e]++}})),e.active_step=3,this.loading=!1,this.endTime=Xt()()}))},downloadConvertedFile:function(){this.downloadFile("converted.csv",this.csvData)},downloadSchemaFile:async function(){let e=[["Local authority","Count date","Area code","Members"]];const t=Xt()(this.extractDate).format("YYYY-MM-DD");Object.keys(this.lsoasCounted).filter((e=>"Unknown"!==e&&"Terminated"!==e)).forEach((a=>{let i=this.lsoasCounted[a];e.push([this.authority.name,t,a,i>4?i.toString():"x"])}));let a=this.lsoasCounted["Unknown"];this.lsoasCounted["Unknown"]>0&&e.push([this.authority.name,t,"Unknown",a>4?a.toString():"x"]),this.downloadFile("membership.csv",e)},downloadFile:function(e,t){var a=new Blob([Me.unparse(t)],{type:"text/plain;charset=utf-8"});(0,$t.saveAs)(a,e)},getTimeCompleted:function(){return this.startTime&&this.endTime?Math.round(Xt().duration(this.endTime.diff(this.startTime))):""}},components:{"file-upload":St,"service-select":Ze}};const na=(0,p.Z)(la,[["render",Nt]]);var ra=na;const da={class:"text-center"};function ca(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Mobile library stops",subtitle:"Locations of mobile library stops, and their frequency"}),(0,n._)("p",da,[(0,n.Wm)(_.T,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/mobile-library-stops",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore the mobile stops data schema ")])),_:1})]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"})])),_:1})}var ua="A mobile library stop is a location visited by a mobile library vehicle during it's round.\n\nThe mobile libraries dataset is a **register**. This means that the data needs to be permanently maintained and up to date.\n",ma={data(){return{mdText:ua}},methods:{},components:{}};const ha=(0,p.Z)(ma,[["render",ca]]);var pa=ha;const fa={class:"text-center"};function ga(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Physical visits",subtitle:"Counts of people using libraries"}),(0,n._)("p",fa,[(0,n.Wm)(_.T,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/physical-visits",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore the visits data schema ")])),_:1})]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"})])),_:1})}var ya="A physical visit is an individual entering the library premises - for whatever reason. For co-located premises, this may mean counting visits that are not specifically for the purpose of using the library. Visit counts are often referred to as footfall.\n\nThe physical visits dataset is a **time-series**. Data is maintained by adding new data (e.g. the next months visit counts).\n",ba={data(){return{mdText:ya}},methods:{},components:{}};const wa=(0,p.Z)(ba,[["render",ga]]);var va=wa;function ka(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Privacy policy",subtitle:"How your data and privacy is protected"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"])])),_:1})}var Wa="These pages were created by Dave at [Libraries Hacked](https://www.librarieshacked.org). You can [contact me via email](mailto:info@librarieshacked.org) with any queries.\n\n## GitHub pages\n\nThis site is hosted using [GitHub pages](https://pages.github.com/). Although this site does not directly record any user data, it is important to be aware that website hosting providers can store web traffic data that could include data such as your IP address.\n\nGitHub has its own [privacy statement](https://help.github.com/en/github/site-policy/github-privacy-statement). The majority of this is in reference to logged-in services within GitHub, but there is a reference to GitHub pages sites in this policy. In addition to advising that GitHub pages sites should have their own privacy policy (this one), it informs us that logs of visitor IP addresses can be used for security purposes. This does not include user tracking or marketing. A quote of this is displayed below, but a maintained version will be on the GitHub site.\n\n> “Please note that GitHub may collect Technical Information from visitors to your GitHub Pages website, including logs of visitor IP addresses, to maintain the security and integrity of the website and service.”\n\n## Cookies\n\nCookies are files saved on your phone, tablet or computer when you visit a website.\n\nThis site does not save any cookies onto your computer.\n\n## Tracking and analytics\n\nThere are no marketing or analytics trackers set on this website. We do not store your personal data or usage data.\n",_a={data(){return{mdText:Wa}},methods:{},components:{}};const xa=(0,p.Z)(_a,[["render",ka]]);var Ca=xa;function ja(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section"),c=(0,n.up)("user-profile");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Profile",subtitle:"See access and profile information"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n._)("section",null,[(0,n.Wm)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c)])),_:1})])])),_:1})}var Aa="While logged in you will be able to see the level of access you have, which will either be for individual library services, or 'Admin' which provides access to all library data.\n\nNo personal data is held about you. Your email address is not stored online, only the domain part of the email (e.g. bl.uk for British Library users) in order to grant access.\n",Ta={data(){return{mdText:Aa}},methods:{logout(){this.$store.dispatch("logout")}},components:{}};const Va=(0,p.Z)(Ta,[["render",ja]]);var Ua=Va;const La={class:"text-center"};function Sa(e,t,a,i,o,s){const l=(0,n.up)("layout-header"),r=(0,n.up)("markdown-section");return(0,n.wg)(),(0,n.j4)(d.K,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{title:"Stock summary",subtitle:"Snapshot counts of library stock by item type"}),(0,n._)("p",La,[(0,n.Wm)(_.T,{size:"large",variant:"tonal",color:"info",href:"https://schema.librarydata.uk/stock-summary",target:"_blank"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Explore the stock summary data schema ")])),_:1})]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"}),(0,n.Wm)(r,{markdownText:o.mdText},null,8,["markdownText"]),(0,n.Wm)(N.J,{inset:"",color:"info",class:"my-2"})])),_:1})}var Ea="An item of stock is any item held by the library that is available to the public, and catalogued in the library management system. This dataset provides counts of the different types of items held by libraries.\n\nThe stock summary dataset is a **snapshot**. This means that each update to the data is a fresh export, representing the stock held (or on loan) at that point in time.\n",Da={data(){return{mdText:Ea}},methods:{},components:{}};const Ia=(0,p.Z)(Da,[["render",Sa]]);var Oa=Ia;const za=(0,F.p7)({history:(0,F.r5)(),base:"/",routes:[{path:"/",name:"Home",component:ne},{path:"/about",name:"About",component:K},{path:"/events",name:"Events",component:te},{path:"/libraries",name:"Libraries",component:he},{path:"/libraries-edit",name:"Libraries edit",component:$e},{path:"/loans",name:"Loans",component:st},{path:"/membership",name:"Membership",component:vt},{path:"/postcode-to-lsoa",name:"Membership postcode to LSOA",component:ra},{path:"/membership-map",name:"Membership map",component:Ht},{path:"/mobile-library-stops",name:"Mobile library stops",component:pa},{path:"/physical-visits",name:"Physical visits",component:va},{path:"/stock-summary",name:"Stock summary",component:Oa},{path:"/privacy",name:"Privacy",component:Ca},{path:"/accessibility",name:"Accessibility",component:G},{path:"/login",name:"Login",component:pt},{path:"/profile",name:"Profile",component:Ua}]});var Fa=za,Ha=a(3907),Ba=a(4773),Za=(0,Ha.MT)({state:{loginKey:null,loginSubject:null,loginIssuer:null,loginExpires:null,loginAdmin:!1,loginCodes:[],libraryServices:[]},mutations:{initialiseStore(e){if(localStorage.getItem("loginKey")){e.loginKey=localStorage.getItem("loginKey");const t=Ba.t5(e.loginKey);e.loginSubject=t.sub,e.loginIssuer=t.iss,e.loginExpires=new Date(1e3*t.exp),e.loginAdmin=t.admin,e.loginCodes=t.codes}},setLoginKey(e,t){localStorage.setItem("loginKey",t),e.loginKey=t;const a=Ba.t5(e.loginKey);e.loginSubject=a.sub,e.loginIssuer=a.iss,e.loginExpires=new Date(1e3*a.exp),e.loginAdmin=a.admin,e.loginCodes=a.codes},logout(e){localStorage.removeItem("loginKey"),e.loginKey=null,e.loginSubject=null,e.loginIssuer=null,e.loginExpires=null,e.loginAdmin=null,e.loginCodes=[]},setServices(e,t){e.libraryServices=t}},actions:{logout({commit:e}){e("logout")}}}),Ma=a(9797),Ka=a(7304),Ya=a(9156),Ra=a(5547),qa=a(9371),Pa=a(2127),Ga=a(917),Na=a(4606),Ja=a(4865);const Qa=["src"];function Xa(e,t,i,o,s,l){const c=(0,n.up)("user-profile"),u=(0,n.up)("router-view"),m=(0,n.up)("layout-footer");return(0,n.wg)(),(0,n.j4)(Ma.q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(Ka.L,{elevation:"0",flat:"",color:"grey-lighten-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(Ya.g,{class:"hidden-lg-and-up",onClick:t[0]||(t[0]=t=>e.drawer=!e.drawer)}),(0,n.Wm)(d.K,null,{default:(0,n.w5)((()=>[(0,n._)("img",{class:"mr-3",src:a(6949),height:"40"},null,8,Qa),(0,n.Wm)(T.C)])),_:1})])),_:1}),(0,n.Wm)(Ja.V,{border:"",modelValue:e.drawer,"onUpdate:modelValue":t[1]||(t[1]=t=>e.drawer=t),elevation:"0"},{append:(0,n.w5)((()=>[(0,n.Wm)(x._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{actions:""})])),_:1})])),_:1})])),default:(0,n.w5)((()=>[(0,n.Wm)(Ra.i,{nav:""},{default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"info",to:"/","active-class":"highlighted",class:(0,r.C_)("/"===e.$route.path?"highlighted":""),"prepend-icon":"mdi-home-circle"},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1})])),_:1},8,["class"]),(0,n.Wm)(qa.l,{variant:"tonal",color:"info",to:"/about","active-class":"highlighted",class:(0,r.C_)("/about"===e.$route.path?"highlighted":""),"prepend-icon":"mdi-information"},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("About")])),_:1})])),_:1},8,["class"]),(0,n.Wm)(N.J),(0,n.Wm)(Ga.N,{value:"Events","no-action":"","prepend-icon":"mdi-calendar-star"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(qa.l,(0,n.dG)(e,{title:"Events"}),null,16)])),default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/events","active-class":"highlighted",class:(0,r.C_)("/events"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Events dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.Wm)(Ga.N,{value:"Libraries","no-action":"","prepend-icon":"mdi-domain"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(qa.l,(0,n.dG)(e,{title:"Libraries"}),null,16)])),default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/libraries","active-class":"highlighted",class:(0,r.C_)("/libraries"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Libraries dataset")])),_:1})])),_:1},8,["class"]),(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/libraries-edit","active-class":"highlighted",class:(0,r.C_)("/libraries"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Edit libraries")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.Wm)(Ga.N,{value:"Loans","prepend-icon":"mdi-book-account-outline"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(qa.l,(0,n.dG)(e,{title:"Loans"}),null,16)])),default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/loans","active-class":"highlighted",class:(0,r.C_)("/loans"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Loans dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.Wm)(Ga.N,{value:"Membership","prepend-icon":"mdi-account-multiple"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(qa.l,(0,n.dG)(e,{title:"Membership"}),null,16)])),default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/membership","active-class":"highlighted",class:(0,r.C_)("/membership"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Membership dataset")])),_:1})])),_:1},8,["class"]),(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/postcode-to-lsoa","active-class":"highlighted",class:(0,r.C_)("/postcode-to-lsoa"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Postcode converter")])),_:1})])),_:1},8,["class"]),(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/membership-map","active-class":"highlighted",class:(0,r.C_)("/membership-map"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Membership map")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.Wm)(Ga.N,{value:"MobileLibraries","prepend-icon":"mdi-bus-clock"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(qa.l,(0,n.dG)(e,{title:"Mobile libraries"}),null,16)])),default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/mobile-library-stops","active-class":"highlighted",class:(0,r.C_)("/mobile-library-stops"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Mobile library stops dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.Wm)(Ga.N,{value:"Visits","prepend-icon":"mdi-shoe-print"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(qa.l,(0,n.dG)(e,{title:"Visits"}),null,16)])),default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/physical-visits","active-class":"highlighted",class:(0,r.C_)("/physical-visits"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Physical visits dataset")])),_:1})])),_:1},8,["class"])])),_:1}),(0,n.Wm)(Ga.N,{value:"Catalogue","prepend-icon":"mdi-bookshelf"},{activator:(0,n.w5)((({props:e})=>[(0,n.Wm)(qa.l,(0,n.dG)(e,{title:"Catalogue"}),null,16)])),default:(0,n.w5)((()=>[(0,n.Wm)(qa.l,{variant:"tonal",color:"success",to:"/stock-summary","active-class":"highlighted",class:(0,r.C_)("/stock-summary"===e.$route.path?"highlighted":"")},{default:(0,n.w5)((()=>[(0,n.Wm)(Pa.V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Stock summary dataset")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(Na.O,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u)])),_:1}),(0,n.Wm)(m)])),_:1})}var $a=a(717);function ei(e,t,a,i,o,s){const l=(0,n.up)("CarbonBadge");return(0,n.wg)(),(0,n.j4)($a.c,{app:"",color:"grey-lighten-5"},{default:(0,n.w5)((()=>[(0,n.Wm)(ye.o,{justify:"center",class:"text-xs-center w-100","no-gutters":""},{default:(0,n.w5)((()=>[(0,n.Wm)(_.T,{size:"large",variant:"text",color:"info",to:"/accessibility"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Accessibility ")])),_:1}),(0,n.Wm)(_.T,{size:"large",variant:"text",color:"info",to:"/privacy"},{default:(0,n.w5)((()=>[(0,n.Uk)(" Privacy ")])),_:1}),(0,n.Wm)(l)])),_:1})])),_:1})}var ti={data(){return{}},methods:{}};const ai=(0,p.Z)(ti,[["render",ei]]);var ii=ai,oi={name:"App",components:{"layout-footer":ii},methods:{logout(){this.$store.dispatch("logout")}},data:()=>({drawer:null})};const si=(0,p.Z)(oi,[["render",Xa]]);var li=si;const ni=(0,o.Rd)({components:{...l}});(0,i.ri)({extends:li,beforeCreate(){this.$store.commit("initialiseStore")}}).use(ni).use(Fa).use(Za).use(s.ZP).component("layout-header",g).component("markdown-section",W).component("user-profile",z).mount("#app")},6949:function(e){"use strict";e.exports="data:image/png;base64,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"},6795:function(e){"use strict";e.exports=JSON.parse('{"postcode_api":"https://api-geography.azurewebsites.net/rest/postcodes/","schema_path":"https://raw.githubusercontent.com/LibrariesHacked/schema-librarydata/master/archive/","lsoa_tiles":"https://api-geography.librarydata.uk/rest/lsoas/{z}/{x}/{y}.mvt","libraries_tiles":"https://api.librarydata.uk/libraries/{z}/{x}/{y}.mvt","authorities_path":"https://api-geography.librarydata.uk/rest/libraryAuthorities","authenticate_path":"https://api.librarydata.uk/authenticate","authenticate_website":"create.librarydata.uk","schema_url":"https://api.librarydata.uk/schemas/","schemas":{"membership":{"name":"Membership","version":"0.3.0"},"libraries":{"name":"Library locations","version":"0.4.0"}},"library_types":[{"text":"Local authority","value":"LAL"},{"text":"Local authority unstaffed","value":"LAL-"},{"text":"Commisioned","value":"CL"},{"text":"Community-run","value":"CRL"},{"text":"Independent","value":"ICL"}]}')}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,i,o,s){if(!i){var l=1/0;for(c=0;c<e.length;c++){i=e[c][0],o=e[c][1],s=e[c][2];for(var n=!0,r=0;r<i.length;r++)(!1&s||l>=s)&&Object.keys(a.O).every((function(e){return a.O[e](i[r])}))?i.splice(r--,1):(n=!1,s<l&&(l=s));if(n){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[i,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,s,l=i[0],n=i[1],r=i[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(r)var c=r(a)}for(t&&t(i);d<l.length;d++)s=l[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},i=self["webpackChunkcreate_librarydata"]=self["webpackChunkcreate_librarydata"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(4925)}));i=a.O(i)})();
//# sourceMappingURL=app.fed403e7.js.map